\hypertarget{class_timeline}{}\doxysection{Timeline Class Reference}
\label{class_timeline}\index{Timeline@{Timeline}}
Inheritance diagram for Timeline\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_timeline}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_timeline_a2e98e1130d11c41855d9f3604d95077d}{build}} (Contour\+Family \&polygons, \mbox{\hyperlink{struct_vectorization_context}{Vectorization\+Context}} \&context, \mbox{\hyperlink{class_vectorizer_core}{Vectorizer\+Core}} $\ast$this\+Vectorizer)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_timeline_aea7c452404a99533f9dd0df170748d4b}\label{class_timeline_aea7c452404a99533f9dd0df170748d4b}} 
\index{Timeline@{Timeline}!Timeline@{Timeline}}
\index{Timeline@{Timeline}!Timeline@{Timeline}}
\doxysubsubsection{\texorpdfstring{Timeline()}{Timeline()}}
{\footnotesize\ttfamily Timeline\+::\+Timeline (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00200 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_timeline_a2e98e1130d11c41855d9f3604d95077d}\label{class_timeline_a2e98e1130d11c41855d9f3604d95077d}} 
\index{Timeline@{Timeline}!build@{build}}
\index{build@{build}!Timeline@{Timeline}}
\doxysubsubsection{\texorpdfstring{build()}{build()}}
{\footnotesize\ttfamily void Timeline\+::build (\begin{DoxyParamCaption}\item[{Contour\+Family \&}]{polygons,  }\item[{\mbox{\hyperlink{struct_vectorization_context}{Vectorization\+Context}} \&}]{context,  }\item[{\mbox{\hyperlink{class_vectorizer_core}{Vectorizer\+Core}} $\ast$}]{this\+Vectorizer }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00629                                                      \{}
\DoxyCodeLine{00630   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i, j, current;}
\DoxyCodeLine{00631   std::vector<RandomizedNode> nodesToBeTreated(context.m\_totalNodes);}
\DoxyCodeLine{00632   \mbox{\hyperlink{class_t3_d_point_t}{T3DPointD}} momentum, ray;}
\DoxyCodeLine{00633 }
\DoxyCodeLine{00634   \textcolor{comment}{// Build casual ordered node-\/array}}
\DoxyCodeLine{00635   \textcolor{keywordflow}{for} (i = 0, current = 0; i < polygons.size(); ++i)}
\DoxyCodeLine{00636     \textcolor{keywordflow}{for} (j                        = 0; j < polygons[i].size(); ++j)}
\DoxyCodeLine{00637       nodesToBeTreated[current++] = \mbox{\hyperlink{class_randomized_node}{RandomizedNode}}(\&polygons[i][j]);}
\DoxyCodeLine{00638 }
\DoxyCodeLine{00639   \textcolor{comment}{// Same for linear-\/added nodes}}
\DoxyCodeLine{00640   \textcolor{keywordflow}{for} (i                        = 0; i < context.m\_linearNodesHeapCount; ++i)}
\DoxyCodeLine{00641     nodesToBeTreated[current++] = \mbox{\hyperlink{class_randomized_node}{RandomizedNode}}(\&context.m\_linearNodesHeap[i]);}
\DoxyCodeLine{00642 }
\DoxyCodeLine{00643   \textcolor{keywordtype}{double} maxThickness = context.m\_globals-\/>currConfig-\/>\mbox{\hyperlink{class_centerline_configuration_ab02bbd16f5956301c755a15f4e6557e2}{m\_maxThickness}};}
\DoxyCodeLine{00644 }
\DoxyCodeLine{00645   \textcolor{comment}{// Compute events generated by nodes}}
\DoxyCodeLine{00646   \textcolor{comment}{// NOTE: are edge events to be computed BEFORE split ones?}}
\DoxyCodeLine{00647   \textcolor{keywordflow}{for} (i = 0; i < nodesToBeTreated.size(); ++i) \{}
\DoxyCodeLine{00648     \textcolor{comment}{// Break calculation at user cancel press}}
\DoxyCodeLine{00649     \textcolor{keywordflow}{if} (thisVectorizer-\/>\mbox{\hyperlink{class_vectorizer_core_ab0c21a714383ca694c972e95a52c6cd6}{isCanceled}}()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00650 }
\DoxyCodeLine{00651     \mbox{\hyperlink{class_event}{Event}} currentEvent(nodesToBeTreated[i].m\_node, \&context);}
\DoxyCodeLine{00652 }
\DoxyCodeLine{00653     \textcolor{comment}{// Notify event calculation}}
\DoxyCodeLine{00654     \textcolor{keywordflow}{if} (!nodesToBeTreated[i].m\_node-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea40a56a52ee57ba216e3ae71cc8d36b49}{ContourNode::LINEAR\_ADDED}}))}
\DoxyCodeLine{00655       thisVectorizer-\/>\mbox{\hyperlink{class_vectorizer_core_a70838d2b02480f386b2ef737c2c21ce4}{emitPartialDone}}();}
\DoxyCodeLine{00656 }
\DoxyCodeLine{00657     \textcolor{keywordflow}{if} (currentEvent.m\_type != Event::failure \&\&}
\DoxyCodeLine{00658         currentEvent.m\_height < maxThickness)}
\DoxyCodeLine{00659 }
\DoxyCodeLine{00660 \textcolor{preprocessor}{\#ifdef \_PREPROCESS}}
\DoxyCodeLine{00661 }
\DoxyCodeLine{00662       \textcolor{keywordflow}{if} (currentEvent.m\_type == \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a9d37ce59e247639e42f47a451da5a428}{Event::split}}) \{}
\DoxyCodeLine{00663         \textcolor{keywordflow}{if} (currentEvent.m\_coGenerator-\/>m\_concave) \{}
\DoxyCodeLine{00664           ray =}
\DoxyCodeLine{00665               \mbox{\hyperlink{class_t3_d_point_t}{T3DPointD}}(currentEvent.m\_coGenerator-\/>m\_edge-\/>m\_direction.y,}
\DoxyCodeLine{00666                         -\/currentEvent.m\_coGenerator-\/>m\_edge-\/>m\_direction.x, 1);}
\DoxyCodeLine{00667           momentum = cross(currentEvent.m\_coGenerator-\/>m\_position, ray);}
\DoxyCodeLine{00668 }
\DoxyCodeLine{00669           \textcolor{keywordflow}{if} (currentEvent.m\_generator-\/>m\_direction * momentum +}
\DoxyCodeLine{00670                   ray * currentEvent.m\_generator-\/>m\_AngularMomentum <}
\DoxyCodeLine{00671               0) \{}
\DoxyCodeLine{00672             timeline.push(currentEvent);}
\DoxyCodeLine{00673             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00674           \}}
\DoxyCodeLine{00675         \}}
\DoxyCodeLine{00676 }
\DoxyCodeLine{00677         \textcolor{keywordflow}{if} (currentEvent.m\_coGenerator-\/>m\_next-\/>m\_concave) \{}
\DoxyCodeLine{00678           ray =}
\DoxyCodeLine{00679               \mbox{\hyperlink{class_t3_d_point_t}{T3DPointD}}(currentEvent.m\_coGenerator-\/>m\_edge-\/>m\_direction.y,}
\DoxyCodeLine{00680                         -\/currentEvent.m\_coGenerator-\/>m\_edge-\/>m\_direction.x, 1);}
\DoxyCodeLine{00681           momentum = cross(currentEvent.m\_coGenerator-\/>m\_next-\/>m\_position, ray);}
\DoxyCodeLine{00682 }
\DoxyCodeLine{00683           \textcolor{keywordflow}{if} (currentEvent.m\_generator-\/>m\_direction * momentum +}
\DoxyCodeLine{00684                   ray * currentEvent.m\_generator-\/>m\_AngularMomentum >}
\DoxyCodeLine{00685               0) \{}
\DoxyCodeLine{00686             timeline.push(currentEvent);}
\DoxyCodeLine{00687             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00688           \}}
\DoxyCodeLine{00689         \}}
\DoxyCodeLine{00690 }
\DoxyCodeLine{00691         \textcolor{keywordflow}{if} (cross(currentEvent.m\_generator-\/>m\_edge-\/>m\_direction,}
\DoxyCodeLine{00692                   currentEvent.m\_coGenerator-\/>m\_edge-\/>m\_direction) > 0.02 \&\&}
\DoxyCodeLine{00693             cross(currentEvent.m\_coGenerator-\/>m\_edge-\/>m\_direction,}
\DoxyCodeLine{00694                   currentEvent.m\_generator-\/>m\_prev-\/>m\_edge-\/>m\_direction) >}
\DoxyCodeLine{00695                 0.02)  \textcolor{comment}{// 0.02 in comparison with 'parameter' in buildNodeInfos}}
\DoxyCodeLine{00696         \{}
\DoxyCodeLine{00697           \textcolor{comment}{// Pre-\/processing succeeded}}
\DoxyCodeLine{00698           currentEvent.process();}
\DoxyCodeLine{00699           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00700         \}}
\DoxyCodeLine{00701       \}}
\DoxyCodeLine{00702 }
\DoxyCodeLine{00703 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00704 }
\DoxyCodeLine{00705     push(currentEvent);}
\DoxyCodeLine{00706   \}}
\DoxyCodeLine{00707 \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzlib/tcenterlineskeletonizer.\+cpp\end{DoxyCompactItemize}
