\hypertarget{class_save_level_command_handler}{}\doxysection{Save\+Level\+Command\+Handler Class Reference}
\label{class_save_level_command_handler}\index{SaveLevelCommandHandler@{SaveLevelCommandHandler}}
Inheritance diagram for Save\+Level\+Command\+Handler\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_save_level_command_handler}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_save_level_command_handler_aa9b82cfab025c3c8ff588e4dc7320475}{execute}} () override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_save_level_command_handler_ae632c229dec0b5930dbd2ed49826ffef}\label{class_save_level_command_handler_ae632c229dec0b5930dbd2ed49826ffef}} 
\index{SaveLevelCommandHandler@{SaveLevelCommandHandler}!SaveLevelCommandHandler@{SaveLevelCommandHandler}}
\index{SaveLevelCommandHandler@{SaveLevelCommandHandler}!SaveLevelCommandHandler@{SaveLevelCommandHandler}}
\doxysubsubsection{\texorpdfstring{SaveLevelCommandHandler()}{SaveLevelCommandHandler()}}
{\footnotesize\ttfamily Save\+Level\+Command\+Handler\+::\+Save\+Level\+Command\+Handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02873 : \mbox{\hyperlink{class_menu_item_handler}{MenuItemHandler}}(MI\_SaveLevel) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_save_level_command_handler_aa9b82cfab025c3c8ff588e4dc7320475}\label{class_save_level_command_handler_aa9b82cfab025c3c8ff588e4dc7320475}} 
\index{SaveLevelCommandHandler@{SaveLevelCommandHandler}!execute@{execute}}
\index{execute@{execute}!SaveLevelCommandHandler@{SaveLevelCommandHandler}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily void Save\+Level\+Command\+Handler\+::execute (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_menu_item_handler}{Menu\+Item\+Handler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02874                           \{}
\DoxyCodeLine{02875     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}{getCurrentLevel}}()-\/>getSimpleLevel();}
\DoxyCodeLine{02876     \textcolor{keywordflow}{if} (!sl) \{}
\DoxyCodeLine{02877       DVGui::warning(QObject::tr(\textcolor{stringliteral}{"{}No Current Level"{}}));}
\DoxyCodeLine{02878       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02879     \}}
\DoxyCodeLine{02880     \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{02881     \textcolor{keywordflow}{if} (!scene) \{}
\DoxyCodeLine{02882       DVGui::warning(QObject::tr(\textcolor{stringliteral}{"{}No Current Scene"{}}));}
\DoxyCodeLine{02883       \textcolor{keywordflow}{return};  \textcolor{comment}{// non dovrebbe succedere mai}}
\DoxyCodeLine{02884     \}}
\DoxyCodeLine{02885     \mbox{\hyperlink{class_t_file_path}{TFilePath}} levelPath = sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a668293d53a70cca8811db28d87011c55}{getPath}}();}
\DoxyCodeLine{02886     levelPath           = scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(levelPath);}
\DoxyCodeLine{02887     QString str         = QString::fromStdWString(levelPath.getWideString());}
\DoxyCodeLine{02888     \textcolor{keywordflow}{if} (!(sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a668293d53a70cca8811db28d87011c55}{getPath}}().isAbsolute() || !scene-\/>\mbox{\hyperlink{class_toonz_scene_a53cbaf09f551658479eb743e153ab6bc}{isUntitled}}() ||}
\DoxyCodeLine{02889           (!sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a668293d53a70cca8811db28d87011c55}{getPath}}().isAbsolute() \&\& !str.contains(\textcolor{stringliteral}{"{}untitled"{}})))) \{}
\DoxyCodeLine{02890       error(QObject::tr(\textcolor{stringliteral}{"{}Save the scene first"{}}));}
\DoxyCodeLine{02891       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02892     \}}
\DoxyCodeLine{02893 }
\DoxyCodeLine{02894     \textcolor{comment}{// reset the undo before save level}}
\DoxyCodeLine{02895     \textcolor{keywordflow}{if} (Preferences::instance()-\/>getBoolValue(resetUndoOnSavingLevel))}
\DoxyCodeLine{02896       TUndoManager::manager()-\/>reset();}
\DoxyCodeLine{02897 }
\DoxyCodeLine{02898     \textcolor{keywordflow}{if} (!IoCmd::saveLevel()) error(QObject::tr(\textcolor{stringliteral}{"{}Save level Failed"{}}));}
\DoxyCodeLine{02899   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/iocommand.\+cpp\end{DoxyCompactItemize}
