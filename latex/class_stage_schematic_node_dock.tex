\hypertarget{class_stage_schematic_node_dock}{}\doxysection{Stage\+Schematic\+Node\+Dock Class Reference}
\label{class_stage_schematic_node_dock}\index{StageSchematicNodeDock@{StageSchematicNodeDock}}
Inheritance diagram for Stage\+Schematic\+Node\+Dock\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_stage_schematic_node_dock}
\end{center}
\end{figure}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_stage_schematic_node_dock_a14f7d9bd58792b568bf6f839afdd6ab8}\label{class_stage_schematic_node_dock_a14f7d9bd58792b568bf6f839afdd6ab8}} 
void {\bfseries scene\+Changed} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_stage_schematic_node_dock_a84327f4ac6ef656335c97c441a888247}{Stage\+Schematic\+Node\+Dock}} (\mbox{\hyperlink{class_stage_schematic_node}{Stage\+Schematic\+Node}} $\ast$parent, bool is\+Parent\+Port, e\+Stage\+Schematic\+Port\+Type type)
\item 
QRectF \mbox{\hyperlink{class_stage_schematic_node_dock_a462e49b2f6433729e5848ca93bd226a4}{bounding\+Rect}} () const override
\item 
void \mbox{\hyperlink{class_stage_schematic_node_dock_a53a84bbf12aab60233c0159698976fe7}{paint}} (QPainter $\ast$painter, const QStyle\+Option\+Graphics\+Item $\ast$option, QWidget $\ast$widget=0) override
\item 
\mbox{\hyperlink{class_stage_schematic_node_port}{Stage\+Schematic\+Node\+Port}} $\ast$ \mbox{\hyperlink{class_stage_schematic_node_dock_a44d1dc71a453f49d2a1a21a952127b5b}{get\+Port}} ()
\item 
\mbox{\hyperlink{class_stage_schematic_node}{Stage\+Schematic\+Node}} $\ast$ \mbox{\hyperlink{class_stage_schematic_node_dock_a76b5054acee5af4241882fd85ea4cd14}{get\+Node}} ()
\item 
bool \mbox{\hyperlink{class_stage_schematic_node_dock_adf94fc3c58d558b48de5874387bc5aae}{is\+Parent\+Port}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_stage_schematic_node_dock_a5106126025b6bdabd525eb1a4e81e156}{on\+Port\+Clicked}} ()
\item 
void \mbox{\hyperlink{class_stage_schematic_node_dock_ac7c8c876cdd47e17162d632c3f0ca864}{on\+Port\+Released}} (const QPointF \&)
\item 
void \mbox{\hyperlink{class_stage_schematic_node_dock_a1078716c647fea477748ba35b2868e84}{on\+Time\+Out}} ()
\item 
void \mbox{\hyperlink{class_stage_schematic_node_dock_abd0317875f58f6cbcff2abda9ffa925f}{on\+Modify\+Handle}} (int)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_stage_schematic_node_dock_a271e76ef01b180599655827d998d3593}{hover\+Enter\+Event}} (QGraphics\+Scene\+Hover\+Event $\ast$he) override
\item 
void \mbox{\hyperlink{class_stage_schematic_node_dock_a6f8b1351c3fb3b1f3be049bde541ade9}{hover\+Leave\+Event}} (QGraphics\+Scene\+Hover\+Event $\ast$he) override
\item 
void \mbox{\hyperlink{class_stage_schematic_node_dock_a3cae77224b12a4ef23b16b763ff3eeb3}{hover\+Move\+Event}} (QGraphics\+Scene\+Hover\+Event $\ast$he) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a84327f4ac6ef656335c97c441a888247}\label{class_stage_schematic_node_dock_a84327f4ac6ef656335c97c441a888247}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{StageSchematicNodeDock()}{StageSchematicNodeDock()}}
{\footnotesize\ttfamily Stage\+Schematic\+Node\+Dock\+::\+Stage\+Schematic\+Node\+Dock (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_stage_schematic_node}{Stage\+Schematic\+Node}} $\ast$}]{parent,  }\item[{bool}]{is\+Parent\+Port,  }\item[{e\+Stage\+Schematic\+Port\+Type}]{type }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01050     : QGraphicsItem(parent), m\_parent(parent), m\_isParentPort(isParentPort) \{}
\DoxyCodeLine{01051   setFlag(QGraphicsItem::ItemIsSelectable, \textcolor{keyword}{false});}
\DoxyCodeLine{01052   setFlag(QGraphicsItem::ItemIsFocusable, \textcolor{keyword}{false});}
\DoxyCodeLine{01053   m\_port = \textcolor{keyword}{new} \mbox{\hyperlink{class_stage_schematic_node_port}{StageSchematicNodePort}}(\textcolor{keyword}{this}, type);}
\DoxyCodeLine{01054 }
\DoxyCodeLine{01055   m\_handleSpinBox = \textcolor{keyword}{new} \mbox{\hyperlink{class_schematic_handle_spin_box}{SchematicHandleSpinBox}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01056 }
\DoxyCodeLine{01057   m\_port-\/>setPos(0, 0);}
\DoxyCodeLine{01058   \textcolor{keywordflow}{if} (isParentPort) \{}
\DoxyCodeLine{01059     \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{01060         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{01061     \textcolor{keywordflow}{if} (stageScene \&\& stageScene-\/>isShowLetterOnPortFlagEnabled())}
\DoxyCodeLine{01062       m\_port-\/>setPos(m\_handleSpinBox-\/>boundingRect().width(), 0);}
\DoxyCodeLine{01063     m\_handleSpinBox-\/>setPos(0, 1);}
\DoxyCodeLine{01064   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01065     m\_handleSpinBox-\/>setPos(m\_port-\/>boundingRect().width(), 1);}
\DoxyCodeLine{01066 }
\DoxyCodeLine{01067   m\_handleSpinBox-\/>hide();}
\DoxyCodeLine{01068   connect(m\_handleSpinBox, SIGNAL(modifyHandle(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{01069           SLOT(onModifyHandle(\textcolor{keywordtype}{int})));}
\DoxyCodeLine{01070   connect(m\_handleSpinBox, SIGNAL(sceneChanged()), parent,}
\DoxyCodeLine{01071           SIGNAL(sceneChanged()));}
\DoxyCodeLine{01072   connect(m\_handleSpinBox, SIGNAL(handleReleased()), parent,}
\DoxyCodeLine{01073           SLOT(onHandleReleased()));}
\DoxyCodeLine{01074 }
\DoxyCodeLine{01075   connect(\textcolor{keyword}{this}, SIGNAL(sceneChanged()), parent, SIGNAL(sceneChanged()));}
\DoxyCodeLine{01076 }
\DoxyCodeLine{01077   connect(m\_port, SIGNAL(isClicked()), \textcolor{keyword}{this}, SLOT(onPortClicked()));}
\DoxyCodeLine{01078   connect(m\_port, SIGNAL(isReleased(\textcolor{keyword}{const} QPointF \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{01079           SLOT(onPortReleased(\textcolor{keyword}{const} QPointF \&)));}
\DoxyCodeLine{01080 }
\DoxyCodeLine{01081   m\_timer = \textcolor{keyword}{new} QTimer(\textcolor{keyword}{this});}
\DoxyCodeLine{01082   m\_timer-\/>setInterval(200);}
\DoxyCodeLine{01083   m\_timer-\/>setSingleShot(\textcolor{keyword}{true});}
\DoxyCodeLine{01084   connect(m\_timer, SIGNAL(timeout()), \textcolor{keyword}{this}, SLOT(onTimeOut()));}
\DoxyCodeLine{01085 }
\DoxyCodeLine{01086   connect(m\_port, SIGNAL(sceneChanged()), parent, SIGNAL(sceneChanged()));}
\DoxyCodeLine{01087   connect(m\_port, SIGNAL(xsheetChanged()), parent, SIGNAL(xsheetChanged()));}
\DoxyCodeLine{01088 }
\DoxyCodeLine{01089   setZValue(1.5);}
\DoxyCodeLine{01090 \textcolor{preprocessor}{\#if QT\_VERSION >= 0x050000}}
\DoxyCodeLine{01091   setAcceptHoverEvents(\textcolor{keyword}{true});}
\DoxyCodeLine{01092 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01093   setAcceptsHoverEvents(\textcolor{keyword}{true});}
\DoxyCodeLine{01094 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01095 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a918f0ad1baf63ca3380c81f7b2416822}\label{class_stage_schematic_node_dock_a918f0ad1baf63ca3380c81f7b2416822}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!````~StageSchematicNodeDock@{$\sim$StageSchematicNodeDock}}
\index{````~StageSchematicNodeDock@{$\sim$StageSchematicNodeDock}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{$\sim$StageSchematicNodeDock()}{~StageSchematicNodeDock()}}
{\footnotesize\ttfamily Stage\+Schematic\+Node\+Dock\+::$\sim$\+Stage\+Schematic\+Node\+Dock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01099 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a462e49b2f6433729e5848ca93bd226a4}\label{class_stage_schematic_node_dock_a462e49b2f6433729e5848ca93bd226a4}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!boundingRect@{boundingRect}}
\index{boundingRect@{boundingRect}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{boundingRect()}{boundingRect()}}
{\footnotesize\ttfamily QRectF Stage\+Schematic\+Node\+Dock\+::bounding\+Rect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01103                                                   \{}
\DoxyCodeLine{01104   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{01105       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{01106   QRectF portRect = m\_port-\/>boundingRect();}
\DoxyCodeLine{01107   portRect.moveTopLeft(QPointF(0, 0));}
\DoxyCodeLine{01108   \textcolor{keywordflow}{if} (stageScene \&\& stageScene-\/>isShowLetterOnPortFlagEnabled()) \{}
\DoxyCodeLine{01109     QRectF handleRect = m\_handleSpinBox-\/>boundingRect();}
\DoxyCodeLine{01110     handleRect.moveTopLeft(QPointF(portRect.width(), handleRect.topLeft().y()));}
\DoxyCodeLine{01111 \textcolor{preprocessor}{\#if QT\_VERSION >= 0x050000}}
\DoxyCodeLine{01112     portRect = portRect.united(handleRect);}
\DoxyCodeLine{01113 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01114     portRect = portRect.unite(handleRect);}
\DoxyCodeLine{01115 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01116   \}}
\DoxyCodeLine{01117   \textcolor{keywordflow}{return} portRect;}
\DoxyCodeLine{01118 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a76b5054acee5af4241882fd85ea4cd14}\label{class_stage_schematic_node_dock_a76b5054acee5af4241882fd85ea4cd14}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!getNode@{getNode}}
\index{getNode@{getNode}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{getNode()}{getNode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_stage_schematic_node}{Stage\+Schematic\+Node}} $\ast$ Stage\+Schematic\+Node\+Dock\+::get\+Node (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00306 \{ \textcolor{keywordflow}{return} m\_parent; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a44d1dc71a453f49d2a1a21a952127b5b}\label{class_stage_schematic_node_dock_a44d1dc71a453f49d2a1a21a952127b5b}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!getPort@{getPort}}
\index{getPort@{getPort}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{getPort()}{getPort()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_stage_schematic_node_port}{Stage\+Schematic\+Node\+Port}} $\ast$ Stage\+Schematic\+Node\+Dock\+::get\+Port (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00305 \{ \textcolor{keywordflow}{return} m\_port; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a271e76ef01b180599655827d998d3593}\label{class_stage_schematic_node_dock_a271e76ef01b180599655827d998d3593}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!hoverEnterEvent@{hoverEnterEvent}}
\index{hoverEnterEvent@{hoverEnterEvent}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{hoverEnterEvent()}{hoverEnterEvent()}}
{\footnotesize\ttfamily void Stage\+Schematic\+Node\+Dock\+::hover\+Enter\+Event (\begin{DoxyParamCaption}\item[{QGraphics\+Scene\+Hover\+Event $\ast$}]{he }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01170                                                                          \{}
\DoxyCodeLine{01171   QList<QGraphicsItem *> items = scene()-\/>items(he-\/>scenePos());}
\DoxyCodeLine{01172   eStageSchematicPortType type = (eStageSchematicPortType)getPort()-\/>\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}();}
\DoxyCodeLine{01173   \textcolor{keywordflow}{if} (items.contains(m\_port) \&\& type != 103 \&\& type != 104 \&\& type != 105) \{}
\DoxyCodeLine{01174     m\_port-\/>highLight(\textcolor{keyword}{true});}
\DoxyCodeLine{01175     m\_timer-\/>start();}
\DoxyCodeLine{01176   \}}
\DoxyCodeLine{01177   QGraphicsItem::hoverEnterEvent(he);}
\DoxyCodeLine{01178 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a6f8b1351c3fb3b1f3be049bde541ade9}\label{class_stage_schematic_node_dock_a6f8b1351c3fb3b1f3be049bde541ade9}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!hoverLeaveEvent@{hoverLeaveEvent}}
\index{hoverLeaveEvent@{hoverLeaveEvent}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{hoverLeaveEvent()}{hoverLeaveEvent()}}
{\footnotesize\ttfamily void Stage\+Schematic\+Node\+Dock\+::hover\+Leave\+Event (\begin{DoxyParamCaption}\item[{QGraphics\+Scene\+Hover\+Event $\ast$}]{he }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01182                                                                          \{}
\DoxyCodeLine{01183   m\_port-\/>highLight(\textcolor{keyword}{false});}
\DoxyCodeLine{01184   m\_timer-\/>stop();}
\DoxyCodeLine{01185   m\_handleSpinBox-\/>hide();}
\DoxyCodeLine{01186   QGraphicsItem::hoverLeaveEvent(he);}
\DoxyCodeLine{01187   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01188   \textcolor{keywordflow}{for} (i = 0; i < m\_port-\/>\mbox{\hyperlink{class_schematic_port_a3be2ddc4c657a92cb4b5a9f15123c515}{getLinkCount}}(); i++) m\_port-\/>\mbox{\hyperlink{class_schematic_port_a48b9692e98159adbd9adf772246d8363}{getLink}}(i)-\/>\mbox{\hyperlink{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}{updatePath}}();}
\DoxyCodeLine{01189 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a3cae77224b12a4ef23b16b763ff3eeb3}\label{class_stage_schematic_node_dock_a3cae77224b12a4ef23b16b763ff3eeb3}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!hoverMoveEvent@{hoverMoveEvent}}
\index{hoverMoveEvent@{hoverMoveEvent}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{hoverMoveEvent()}{hoverMoveEvent()}}
{\footnotesize\ttfamily void Stage\+Schematic\+Node\+Dock\+::hover\+Move\+Event (\begin{DoxyParamCaption}\item[{QGraphics\+Scene\+Hover\+Event $\ast$}]{he }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01193                                                                         \{}
\DoxyCodeLine{01194   QList<QGraphicsItem *> items = scene()-\/>items(he-\/>scenePos());}
\DoxyCodeLine{01195   \textcolor{keywordflow}{if} (!m\_port-\/>isHighlighted() \&\& items.contains(m\_port)) \{}
\DoxyCodeLine{01196     m\_port-\/>highLight(\textcolor{keyword}{true});}
\DoxyCodeLine{01197     eStageSchematicPortType type =}
\DoxyCodeLine{01198         (eStageSchematicPortType)getPort()-\/>\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}();}
\DoxyCodeLine{01199     \textcolor{keywordflow}{if} (!m\_timer-\/>isActive() \&\& type != 103 \&\& type != 104 \&\& type != 105)}
\DoxyCodeLine{01200       m\_timer-\/>start();}
\DoxyCodeLine{01201   \}}
\DoxyCodeLine{01202   QGraphicsItem::hoverMoveEvent(he);}
\DoxyCodeLine{01203   update();}
\DoxyCodeLine{01204 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_adf94fc3c58d558b48de5874387bc5aae}\label{class_stage_schematic_node_dock_adf94fc3c58d558b48de5874387bc5aae}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!isParentPort@{isParentPort}}
\index{isParentPort@{isParentPort}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{isParentPort()}{isParentPort()}}
{\footnotesize\ttfamily bool Stage\+Schematic\+Node\+Dock\+::is\+Parent\+Port (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00307 \{ \textcolor{keywordflow}{return} m\_isParentPort; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_abd0317875f58f6cbcff2abda9ffa925f}\label{class_stage_schematic_node_dock_abd0317875f58f6cbcff2abda9ffa925f}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!onModifyHandle@{onModifyHandle}}
\index{onModifyHandle@{onModifyHandle}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{onModifyHandle}{onModifyHandle}}
{\footnotesize\ttfamily void Stage\+Schematic\+Node\+Dock\+::on\+Modify\+Handle (\begin{DoxyParamCaption}\item[{int}]{increase }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01128                                                         \{}
\DoxyCodeLine{01129   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{01130       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{01131   std::string handle(getPort()-\/>getHandle().toStdString());}
\DoxyCodeLine{01132 }
\DoxyCodeLine{01133   \textcolor{keywordtype}{int} index;}
\DoxyCodeLine{01134   \textcolor{keywordflow}{if} (handle[0] == \textcolor{charliteral}{'H'} \&\& handle.length() > 1)}
\DoxyCodeLine{01135     index = -\/(std::stoi(handle.substr(1)));}
\DoxyCodeLine{01136   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01137     index = handle[0] -\/ \textcolor{charliteral}{'A'};}
\DoxyCodeLine{01138   index += -\/increase;  \textcolor{comment}{//==1 ? -\/1 : 1;}}
\DoxyCodeLine{01139 }
\DoxyCodeLine{01140   \textcolor{keywordtype}{int} min = (getNode()-\/>getStageObject()-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}().\mbox{\hyperlink{class_t_stage_object_id_af6d13fcf31e7e10eef28f085855f469c}{isColumn}}())}
\DoxyCodeLine{01141                 ? -\/\mbox{\hyperlink{class_hook_set_a77b3cbf1d34dfcaf3a338215a07c0606}{HookSet::maxHooksCount}}}
\DoxyCodeLine{01142                 : 0;}
\DoxyCodeLine{01143   index = tcrop(index, min, 25);}
\DoxyCodeLine{01144 }
\DoxyCodeLine{01145   \textcolor{keywordflow}{if} (index >= 0)}
\DoxyCodeLine{01146     handle = std::string(1, (\textcolor{keywordtype}{char})(\textcolor{charliteral}{'A'} + index));}
\DoxyCodeLine{01147   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01148     handle = \textcolor{stringliteral}{"{}H"{}} + std::to\_string(-\/index);}
\DoxyCodeLine{01149 }
\DoxyCodeLine{01150   \textcolor{keywordflow}{if} (m\_isParentPort)}
\DoxyCodeLine{01151     TStageObjectCmd::setHandle(getNode()-\/>getStageObject()-\/>getId(), handle,}
\DoxyCodeLine{01152                                stageScene-\/>getXsheetHandle());}
\DoxyCodeLine{01153   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01154     \textcolor{keywordtype}{int} i, linkCount = getPort()-\/>\mbox{\hyperlink{class_schematic_port_a3be2ddc4c657a92cb4b5a9f15123c515}{getLinkCount}}();}
\DoxyCodeLine{01155     std::vector<TStageObjectId> ids;}
\DoxyCodeLine{01156     \textcolor{keywordflow}{for} (i = 0; i < linkCount; i++) \{}
\DoxyCodeLine{01157       \mbox{\hyperlink{class_stage_schematic_node}{StageSchematicNode}} *node =}
\DoxyCodeLine{01158           \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_node}{StageSchematicNode}} *\textcolor{keyword}{>}(getPort()-\/>\mbox{\hyperlink{class_schematic_port_aa5e4088ec8ef19d5338e9f87337e32fe}{getLinkedNode}}(i));}
\DoxyCodeLine{01159       \textcolor{keywordflow}{if} (node) ids.push\_back(node-\/>getStageObject()-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}());}
\DoxyCodeLine{01160     \}}
\DoxyCodeLine{01161     TStageObjectCmd::setParentHandle(ids, handle,}
\DoxyCodeLine{01162                                      stageScene-\/>getXsheetHandle());}
\DoxyCodeLine{01163   \}}
\DoxyCodeLine{01164   getPort()-\/>setHandle(QString::fromStdString(handle));}
\DoxyCodeLine{01165   getPort()-\/>update();}
\DoxyCodeLine{01166 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a5106126025b6bdabd525eb1a4e81e156}\label{class_stage_schematic_node_dock_a5106126025b6bdabd525eb1a4e81e156}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!onPortClicked@{onPortClicked}}
\index{onPortClicked@{onPortClicked}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{onPortClicked}{onPortClicked}}
{\footnotesize\ttfamily void Stage\+Schematic\+Node\+Dock\+::on\+Port\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01208                                            \{}
\DoxyCodeLine{01209   m\_handleSpinBox-\/>hide();}
\DoxyCodeLine{01210   m\_timer-\/>stop();}
\DoxyCodeLine{01211   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01212   \textcolor{keywordflow}{for} (i = 0; i < m\_port-\/>\mbox{\hyperlink{class_schematic_port_a3be2ddc4c657a92cb4b5a9f15123c515}{getLinkCount}}(); i++) m\_port-\/>\mbox{\hyperlink{class_schematic_port_a48b9692e98159adbd9adf772246d8363}{getLink}}(i)-\/>\mbox{\hyperlink{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}{updatePath}}();}
\DoxyCodeLine{01213 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_ac7c8c876cdd47e17162d632c3f0ca864}\label{class_stage_schematic_node_dock_ac7c8c876cdd47e17162d632c3f0ca864}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!onPortReleased@{onPortReleased}}
\index{onPortReleased@{onPortReleased}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{onPortReleased}{onPortReleased}}
{\footnotesize\ttfamily void Stage\+Schematic\+Node\+Dock\+::on\+Port\+Released (\begin{DoxyParamCaption}\item[{const QPointF \&}]{pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01217                                                               \{}
\DoxyCodeLine{01218   QRectF portRect = m\_port-\/>boundingRect();}
\DoxyCodeLine{01219   portRect.moveTopLeft(m\_port-\/>scenePos());}
\DoxyCodeLine{01220   \textcolor{keywordflow}{if} (portRect.contains(pos)) m\_timer-\/>start();}
\DoxyCodeLine{01221 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a1078716c647fea477748ba35b2868e84}\label{class_stage_schematic_node_dock_a1078716c647fea477748ba35b2868e84}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!onTimeOut@{onTimeOut}}
\index{onTimeOut@{onTimeOut}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{onTimeOut}{onTimeOut}}
{\footnotesize\ttfamily void Stage\+Schematic\+Node\+Dock\+::on\+Time\+Out (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01225                                        \{}
\DoxyCodeLine{01226   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{01227       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{01228   \textcolor{keywordflow}{if} (stageScene \&\& stageScene-\/>isShowLetterOnPortFlagEnabled())}
\DoxyCodeLine{01229     m\_handleSpinBox-\/>show();}
\DoxyCodeLine{01230   \mbox{\hyperlink{class_stage_schematic_node_port}{StageSchematicNodePort}} *port = getPort();}
\DoxyCodeLine{01231   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01232   \textcolor{keywordflow}{for} (i = 0; i < port-\/>\mbox{\hyperlink{class_schematic_port_a3be2ddc4c657a92cb4b5a9f15123c515}{getLinkCount}}(); i++) \{}
\DoxyCodeLine{01233     \mbox{\hyperlink{class_schematic_link}{SchematicLink}} *link      = port-\/>\mbox{\hyperlink{class_schematic_port_a48b9692e98159adbd9adf772246d8363}{getLink}}(i);}
\DoxyCodeLine{01234     \mbox{\hyperlink{class_schematic_port}{SchematicPort}} *startPort = link-\/>\mbox{\hyperlink{class_schematic_link_ae6fac3ac6e4f44958b7388be9bd9bcf6}{getStartPort}}();}
\DoxyCodeLine{01235     \mbox{\hyperlink{class_schematic_port}{SchematicPort}} *endPort   = link-\/>\mbox{\hyperlink{class_schematic_link_a3a08c8ff1c6ebe6e526bc44bb6c9e96c}{getEndPort}}();}
\DoxyCodeLine{01236     QPointF startPos         = startPort-\/>\mbox{\hyperlink{class_schematic_port_ad492cc685e51ebb805131898a57f6518}{getLinkEndPoint}}();}
\DoxyCodeLine{01237     QPointF endPos           = endPort-\/>\mbox{\hyperlink{class_schematic_port_ad492cc685e51ebb805131898a57f6518}{getLinkEndPoint}}();}
\DoxyCodeLine{01238     \textcolor{keywordflow}{if} (startPort == port) \{}
\DoxyCodeLine{01239       \textcolor{keywordflow}{if} (port-\/>\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == 101 \&\& startPos.x() > endPos.x())}
\DoxyCodeLine{01240         startPos = mapToScene(0, boundingRect().height() * 0.5);}
\DoxyCodeLine{01241       \textcolor{keywordflow}{if} (port-\/>\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == 102 \&\& startPos.x() < endPos.x())}
\DoxyCodeLine{01242         startPos =}
\DoxyCodeLine{01243             mapToScene(boundingRect().width(), boundingRect().height() * 0.5);}
\DoxyCodeLine{01244       link-\/>\mbox{\hyperlink{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}{updatePath}}(startPos, endPos);}
\DoxyCodeLine{01245     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01246       \textcolor{keywordflow}{if} (port-\/>\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == 101 \&\& startPos.x() < endPos.x())}
\DoxyCodeLine{01247         endPos = mapToScene(0, boundingRect().height() * 0.5);}
\DoxyCodeLine{01248       \textcolor{keywordflow}{if} (port-\/>\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == 102 \&\& startPos.x() > endPos.x())}
\DoxyCodeLine{01249         endPos =}
\DoxyCodeLine{01250             mapToScene(boundingRect().width(), boundingRect().height() * 0.5);}
\DoxyCodeLine{01251       link-\/>\mbox{\hyperlink{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}{updatePath}}(startPos, endPos);}
\DoxyCodeLine{01252     \}}
\DoxyCodeLine{01253   \}}
\DoxyCodeLine{01254 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_dock_a53a84bbf12aab60233c0159698976fe7}\label{class_stage_schematic_node_dock_a53a84bbf12aab60233c0159698976fe7}} 
\index{StageSchematicNodeDock@{StageSchematicNodeDock}!paint@{paint}}
\index{paint@{paint}!StageSchematicNodeDock@{StageSchematicNodeDock}}
\doxysubsubsection{\texorpdfstring{paint()}{paint()}}
{\footnotesize\ttfamily void Stage\+Schematic\+Node\+Dock\+::paint (\begin{DoxyParamCaption}\item[{QPainter $\ast$}]{painter,  }\item[{const QStyle\+Option\+Graphics\+Item $\ast$}]{option,  }\item[{QWidget $\ast$}]{widget = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01124                                                     \{\}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/stageschematicnode.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/stageschematicnode.\+cpp\end{DoxyCompactItemize}
