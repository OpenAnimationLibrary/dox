\hypertarget{class_t_pinned_range_set}{}\doxysection{TPinned\+Range\+Set Class Reference}
\label{class_t_pinned_range_set}\index{TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_t_pinned_range_set_1_1_range}{Range}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_t_pinned_range_set_a65903d9a65f832da203e693dd726ef30}{reset\+Ranges}} ()
\item 
void \mbox{\hyperlink{class_t_pinned_range_set_a919216f20f92128cf4b88ec818f74fa8}{set\+Placement}} (const \mbox{\hyperlink{class_t_affine}{TAffine}} \&placement)
\item 
const \mbox{\hyperlink{class_t_affine}{TAffine}} \& \mbox{\hyperlink{class_t_pinned_range_set_ac8041a7baf919f9041bb2f07f26916df}{get\+Placement}} () const
\item 
void \mbox{\hyperlink{class_t_pinned_range_set_ae726106cef47d422e56f12e97c8250b7}{set\+Range}} (int first, int second)
\item 
void \mbox{\hyperlink{class_t_pinned_range_set_a9158a84e0fe2c22d2179d0ba9a96a680}{remove\+Range}} (int first, int second)
\item 
void \mbox{\hyperlink{class_t_pinned_range_set_ad6711224107bac622901add01bb02830}{remove\+All\+Ranges}} ()
\item 
int \mbox{\hyperlink{class_t_pinned_range_set_a282c046f6d789c13c9117140de1bdbc7}{is\+Pinned}} (int frame) const
\item 
const \mbox{\hyperlink{struct_t_pinned_range_set_1_1_range}{Range}} $\ast$ \mbox{\hyperlink{class_t_pinned_range_set_a84b75fad7f6137f014989025d558b825}{get\+Range}} (int frame) const
\item 
const \mbox{\hyperlink{struct_t_pinned_range_set_1_1_range}{Range}} $\ast$ \mbox{\hyperlink{class_t_pinned_range_set_a66efd62b6860a4c3bfc9a04c0c16f121}{get\+Next\+Range}} (int frame) const
\item 
const \mbox{\hyperlink{struct_t_pinned_range_set_1_1_range}{Range}} $\ast$ \mbox{\hyperlink{class_t_pinned_range_set_a6051bd9f183f05369f47fd03c710b8de}{get\+Range\+By\+Index}} (int index) const
\item 
int \mbox{\hyperlink{class_t_pinned_range_set_ad4baf0f2b15f26d4b3c2899bc3e969f9}{get\+Range\+Count}} () const
\item 
\mbox{\hyperlink{class_t_pinned_range_set}{TPinned\+Range\+Set}} $\ast$ \mbox{\hyperlink{class_t_pinned_range_set_ad3bc43712fea46f0c52f80bae13b523b}{clone}} ()
\item 
void \mbox{\hyperlink{class_t_pinned_range_set_a5be9ea50bb736321980e0e478318f89f}{load\+Data}} (\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&is)
\item 
void \mbox{\hyperlink{class_t_pinned_range_set_a5ab692373ef913d6b13f72b805ca3edb}{save\+Data}} (\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&os)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_pinned_range_set_ad3f7f767da7c38beef0a5baa12dfb2e6}\label{class_t_pinned_range_set_ad3f7f767da7c38beef0a5baa12dfb2e6}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!TPinnedRangeSet@{TPinnedRangeSet}}
\index{TPinnedRangeSet@{TPinnedRangeSet}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{TPinnedRangeSet()}{TPinnedRangeSet()}}
{\footnotesize\ttfamily TPinned\+Range\+Set\+::\+TPinned\+Range\+Set (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00008 : m\_stageObject() \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_a854874324c114c30ff86e5d925fa283b}\label{class_t_pinned_range_set_a854874324c114c30ff86e5d925fa283b}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!````~TPinnedRangeSet@{$\sim$TPinnedRangeSet}}
\index{````~TPinnedRangeSet@{$\sim$TPinnedRangeSet}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{$\sim$TPinnedRangeSet()}{~TPinnedRangeSet()}}
{\footnotesize\ttfamily TPinned\+Range\+Set\+::$\sim$\+TPinned\+Range\+Set (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00026 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_pinned_range_set_ad3bc43712fea46f0c52f80bae13b523b}\label{class_t_pinned_range_set_ad3bc43712fea46f0c52f80bae13b523b}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!clone@{clone}}
\index{clone@{clone}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_pinned_range_set}{TPinned\+Range\+Set}} $\ast$ TPinned\+Range\+Set\+::clone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00113                                         \{}
\DoxyCodeLine{00114   \mbox{\hyperlink{class_t_pinned_range_set}{TPinnedRangeSet}} *clonedPinnedRangeSet = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_pinned_range_set}{TPinnedRangeSet}}();}
\DoxyCodeLine{00115   clonedPinnedRangeSet-\/>m\_stageObject   = m\_stageObject;}
\DoxyCodeLine{00116   clonedPinnedRangeSet-\/>m\_placement     = m\_placement;}
\DoxyCodeLine{00117   clonedPinnedRangeSet-\/>m\_ranges        = m\_ranges;}
\DoxyCodeLine{00118   \textcolor{keywordflow}{return} clonedPinnedRangeSet;}
\DoxyCodeLine{00119 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_a66efd62b6860a4c3bfc9a04c0c16f121}\label{class_t_pinned_range_set_a66efd62b6860a4c3bfc9a04c0c16f121}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!getNextRange@{getNextRange}}
\index{getNextRange@{getNextRange}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{getNextRange()}{getNextRange()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_t_pinned_range_set_1_1_range}{Range}} $\ast$ TPinned\+Range\+Set\+::get\+Next\+Range (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00043                                              \{}
\DoxyCodeLine{00044     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_ranges.size(); i++)}
\DoxyCodeLine{00045       \textcolor{keywordflow}{if} (m\_ranges[i].first > frame) \textcolor{keywordflow}{return} \&m\_ranges[i];}
\DoxyCodeLine{00046     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00047   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_ac8041a7baf919f9041bb2f07f26916df}\label{class_t_pinned_range_set_ac8041a7baf919f9041bb2f07f26916df}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!getPlacement@{getPlacement}}
\index{getPlacement@{getPlacement}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{getPlacement()}{getPlacement()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_affine}{TAffine}} \& TPinned\+Range\+Set\+::get\+Placement (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00031 \{ \textcolor{keywordflow}{return} m\_placement; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_a84b75fad7f6137f014989025d558b825}\label{class_t_pinned_range_set_a84b75fad7f6137f014989025d558b825}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!getRange@{getRange}}
\index{getRange@{getRange}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{getRange()}{getRange()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_t_pinned_range_set_1_1_range}{Range}} $\ast$ TPinned\+Range\+Set\+::get\+Range (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00038                                          \{}
\DoxyCodeLine{00039     \textcolor{keywordtype}{int} rangeIndex = getRangeIndex(frame);}
\DoxyCodeLine{00040     \textcolor{keywordflow}{return} rangeIndex >= 0 ? \&m\_ranges[rangeIndex] : 0;}
\DoxyCodeLine{00041   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_a6051bd9f183f05369f47fd03c710b8de}\label{class_t_pinned_range_set_a6051bd9f183f05369f47fd03c710b8de}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!getRangeByIndex@{getRangeByIndex}}
\index{getRangeByIndex@{getRangeByIndex}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{getRangeByIndex()}{getRangeByIndex()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_t_pinned_range_set_1_1_range}{Range}} $\ast$ TPinned\+Range\+Set\+::get\+Range\+By\+Index (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00049 \{ \textcolor{keywordflow}{return} \&m\_ranges[index]; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_ad4baf0f2b15f26d4b3c2899bc3e969f9}\label{class_t_pinned_range_set_ad4baf0f2b15f26d4b3c2899bc3e969f9}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!getRangeCount@{getRangeCount}}
\index{getRangeCount@{getRangeCount}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{getRangeCount()}{getRangeCount()}}
{\footnotesize\ttfamily int TPinned\+Range\+Set\+::get\+Range\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00050 \{ \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int})m\_ranges.size(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_a282c046f6d789c13c9117140de1bdbc7}\label{class_t_pinned_range_set_a282c046f6d789c13c9117140de1bdbc7}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!isPinned@{isPinned}}
\index{isPinned@{isPinned}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{isPinned()}{isPinned()}}
{\footnotesize\ttfamily int TPinned\+Range\+Set\+::is\+Pinned (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00036 \{ \textcolor{keywordflow}{return} getRangeIndex(frame) >= 0; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_a5be9ea50bb736321980e0e478318f89f}\label{class_t_pinned_range_set_a5be9ea50bb736321980e0e478318f89f}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!loadData@{loadData}}
\index{loadData@{loadData}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{loadData()}{loadData()}}
{\footnotesize\ttfamily void TPinned\+Range\+Set\+::load\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&}]{is }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00123                                            \{}
\DoxyCodeLine{00124   m\_ranges.clear();}
\DoxyCodeLine{00125   \textcolor{keywordtype}{int} prevFrame = 0;}
\DoxyCodeLine{00126   \textcolor{keywordtype}{int} i         = 0;}
\DoxyCodeLine{00127   std::string tagName;}
\DoxyCodeLine{00128   \textcolor{keywordtype}{int} count = 0;}
\DoxyCodeLine{00129   \textcolor{keywordflow}{while} (is.\mbox{\hyperlink{class_t_i_stream_a5fe7ddb5560e39e0ab4ff57d24926d41}{matchTag}}(tagName) \&\& count < 3) \{}
\DoxyCodeLine{00130     \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}permanent"{}}) \{}
\DoxyCodeLine{00131       \textcolor{keywordflow}{while} (!is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}()) \{}
\DoxyCodeLine{00132         i++;}
\DoxyCodeLine{00133         \textcolor{keywordtype}{int} frame = 0;}
\DoxyCodeLine{00134         is >> frame;}
\DoxyCodeLine{00135         \textcolor{keywordflow}{if} (i \% 2 == 0) m\_ranges.push\_back(Range(prevFrame, frame));}
\DoxyCodeLine{00136         prevFrame = frame;}
\DoxyCodeLine{00137       \}}
\DoxyCodeLine{00138       count++;}
\DoxyCodeLine{00139     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}temp"{}}) \{}
\DoxyCodeLine{00140       assert(0);}
\DoxyCodeLine{00141       \textcolor{comment}{// OBSOLETO}}
\DoxyCodeLine{00142       \textcolor{keywordflow}{while} (!is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}()) \{}
\DoxyCodeLine{00143         \textcolor{keywordtype}{int} frame = 0;}
\DoxyCodeLine{00144         is >> frame;}
\DoxyCodeLine{00145         \textcolor{comment}{// m\_tempPinned.push\_back(frame);}}
\DoxyCodeLine{00146       \}}
\DoxyCodeLine{00147       count++;}
\DoxyCodeLine{00148     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}lockedAngle"{}}) \{}
\DoxyCodeLine{00149       assert(0);}
\DoxyCodeLine{00150       \textcolor{comment}{// OBSOLETO}}
\DoxyCodeLine{00151       \textcolor{keywordflow}{while} (!is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}()) \{}
\DoxyCodeLine{00152         \textcolor{keywordtype}{int} rangeIndex = -\/1;}
\DoxyCodeLine{00153         is >> rangeIndex;}
\DoxyCodeLine{00154       \}}
\DoxyCodeLine{00155 }
\DoxyCodeLine{00156       count++;}
\DoxyCodeLine{00157     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}placement"{}}) \{}
\DoxyCodeLine{00158       is >> m\_placement.a11 >> m\_placement.a12 >> m\_placement.a13;}
\DoxyCodeLine{00159       is >> m\_placement.a21 >> m\_placement.a22 >> m\_placement.a23;}
\DoxyCodeLine{00160       is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}();}
\DoxyCodeLine{00161     \}}
\DoxyCodeLine{00162   \}}
\DoxyCodeLine{00163 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_ad6711224107bac622901add01bb02830}\label{class_t_pinned_range_set_ad6711224107bac622901add01bb02830}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!removeAllRanges@{removeAllRanges}}
\index{removeAllRanges@{removeAllRanges}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{removeAllRanges()}{removeAllRanges()}}
{\footnotesize\ttfamily void TPinned\+Range\+Set\+::remove\+All\+Ranges (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00103 \{ m\_ranges.clear(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_a9158a84e0fe2c22d2179d0ba9a96a680}\label{class_t_pinned_range_set_a9158a84e0fe2c22d2179d0ba9a96a680}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!removeRange@{removeRange}}
\index{removeRange@{removeRange}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{removeRange()}{removeRange()}}
{\footnotesize\ttfamily void TPinned\+Range\+Set\+::remove\+Range (\begin{DoxyParamCaption}\item[{int}]{first,  }\item[{int}]{second }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00073                                                        \{}
\DoxyCodeLine{00074   std::vector<Range>::iterator it;}
\DoxyCodeLine{00075   \textcolor{comment}{// finds the first range which could possibly overlap [first,second] :}}
\DoxyCodeLine{00076   \textcolor{comment}{// range.second>=first}}
\DoxyCodeLine{00077   \textcolor{keywordflow}{for} (it = m\_ranges.begin(); it != m\_ranges.end(); ++it)}
\DoxyCodeLine{00078     \textcolor{keywordflow}{if} (it-\/>second >= first) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080   \textcolor{keywordflow}{if} (it == m\_ranges.end() || it-\/>first > second) \{}
\DoxyCodeLine{00081     \textcolor{comment}{// nothing to do: for each range range.second < first or range.first >}}
\DoxyCodeLine{00082     \textcolor{comment}{// second}}
\DoxyCodeLine{00083   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (it-\/>first < first \&\& it-\/>second > second) \{}
\DoxyCodeLine{00084     \textcolor{comment}{// [first,second] is a "{}hole"{}}}
\DoxyCodeLine{00085     Range range(it-\/>first, first -\/ 1);}
\DoxyCodeLine{00086     it-\/>first = second + 1;}
\DoxyCodeLine{00087     m\_ranges.insert(it, range);}
\DoxyCodeLine{00088   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00089     std::vector<Range>::iterator it2;}
\DoxyCodeLine{00090     \textcolor{keywordflow}{if} (it-\/>first < first) \{}
\DoxyCodeLine{00091       it-\/>second = first -\/ 1;}
\DoxyCodeLine{00092       ++it;}
\DoxyCodeLine{00093     \}}
\DoxyCodeLine{00094     it2 = it;}
\DoxyCodeLine{00095     \textcolor{keywordflow}{while} (it != m\_ranges.end() \&\& it-\/>second <= second) ++it;}
\DoxyCodeLine{00096     \textcolor{keywordflow}{if} (it != m\_ranges.end() \&\& it-\/>first <= second) it-\/>first = second + 1;}
\DoxyCodeLine{00097     \textcolor{keywordflow}{if} (it2 != it) m\_ranges.erase(it2, it);}
\DoxyCodeLine{00098   \}}
\DoxyCodeLine{00099 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_a65903d9a65f832da203e693dd726ef30}\label{class_t_pinned_range_set_a65903d9a65f832da203e693dd726ef30}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!resetRanges@{resetRanges}}
\index{resetRanges@{resetRanges}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{resetRanges()}{resetRanges()}}
{\footnotesize\ttfamily void TPinned\+Range\+Set\+::reset\+Ranges (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00028 \{ m\_ranges.clear(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_a5ab692373ef913d6b13f72b805ca3edb}\label{class_t_pinned_range_set_a5ab692373ef913d6b13f72b805ca3edb}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!saveData@{saveData}}
\index{saveData@{saveData}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{saveData()}{saveData()}}
{\footnotesize\ttfamily void TPinned\+Range\+Set\+::save\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&}]{os }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00167                                            \{}
\DoxyCodeLine{00168   \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})m\_ranges.size() == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00169   os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}pinnedStatus"{}});}
\DoxyCodeLine{00170   \textcolor{keywordflow}{if} (m\_ranges.size() > 0) \{}
\DoxyCodeLine{00171     os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}permanent"{}});}
\DoxyCodeLine{00172     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} p = 0; p < (int)m\_ranges.size(); p++) \{}
\DoxyCodeLine{00173       os << m\_ranges[p].first << m\_ranges[p].second;}
\DoxyCodeLine{00174     \}}
\DoxyCodeLine{00175     os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00176   \}}
\DoxyCodeLine{00177   \textcolor{keywordflow}{if} (m\_placement != \mbox{\hyperlink{class_t_affine}{TAffine}}()) \{}
\DoxyCodeLine{00178     os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}placement"{}});}
\DoxyCodeLine{00179     os << m\_placement.a11 << m\_placement.a12 << m\_placement.a13;}
\DoxyCodeLine{00180     os << m\_placement.a21 << m\_placement.a22 << m\_placement.a23;}
\DoxyCodeLine{00181     os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00182   \}}
\DoxyCodeLine{00183   os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00184 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_a919216f20f92128cf4b88ec818f74fa8}\label{class_t_pinned_range_set_a919216f20f92128cf4b88ec818f74fa8}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!setPlacement@{setPlacement}}
\index{setPlacement@{setPlacement}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{setPlacement()}{setPlacement()}}
{\footnotesize\ttfamily void TPinned\+Range\+Set\+::set\+Placement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}} \&}]{placement }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00107                                                            \{}
\DoxyCodeLine{00108   m\_placement = placement;}
\DoxyCodeLine{00109 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_pinned_range_set_ae726106cef47d422e56f12e97c8250b7}\label{class_t_pinned_range_set_ae726106cef47d422e56f12e97c8250b7}} 
\index{TPinnedRangeSet@{TPinnedRangeSet}!setRange@{setRange}}
\index{setRange@{setRange}!TPinnedRangeSet@{TPinnedRangeSet}}
\doxysubsubsection{\texorpdfstring{setRange()}{setRange()}}
{\footnotesize\ttfamily void TPinned\+Range\+Set\+::set\+Range (\begin{DoxyParamCaption}\item[{int}]{first,  }\item[{int}]{second }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00041                                                     \{}
\DoxyCodeLine{00042   std::vector<Range>::iterator it;}
\DoxyCodeLine{00043   \textcolor{comment}{// finds the range which could possibly be merged before : range.second+1 >=}}
\DoxyCodeLine{00044   \textcolor{comment}{// first}}
\DoxyCodeLine{00045   \textcolor{keywordflow}{for} (it = m\_ranges.begin(); it != m\_ranges.end(); ++it)}
\DoxyCodeLine{00046     \textcolor{keywordflow}{if} (it-\/>second + 1 >= first) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00047 }
\DoxyCodeLine{00048   \textcolor{keywordflow}{if} (it == m\_ranges.end()) \{}
\DoxyCodeLine{00049     \textcolor{comment}{// not found => for every range : range.second+1 < first. Just add the new}}
\DoxyCodeLine{00050     \textcolor{comment}{// one}}
\DoxyCodeLine{00051     m\_ranges.push\_back(Range(first, second));}
\DoxyCodeLine{00052   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (it-\/>first > second + 1) \{}
\DoxyCodeLine{00053     \textcolor{comment}{// it comes after and can not be merged. Just insert the new one}}
\DoxyCodeLine{00054     m\_ranges.insert(it, Range(first, second));}
\DoxyCodeLine{00055   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00056     \textcolor{comment}{// merge}}
\DoxyCodeLine{00057     \textcolor{keywordflow}{if} (first < it-\/>first) it-\/>first = first;}
\DoxyCodeLine{00058     \textcolor{comment}{// update it-\/>second, and find all the ranges which should be deleted}}
\DoxyCodeLine{00059     std::vector<Range>::iterator it2 = it;}
\DoxyCodeLine{00060     \textcolor{keywordflow}{for} (++it2; it2 != m\_ranges.end(); ++it2)}
\DoxyCodeLine{00061       \textcolor{keywordflow}{if} (it2-\/>first > second + 1)}
\DoxyCodeLine{00062         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00063       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00064         it-\/>second                      = it2-\/>second;}
\DoxyCodeLine{00065     \textcolor{keywordflow}{if} (second > it-\/>second) it-\/>second = second;}
\DoxyCodeLine{00066     ++it;}
\DoxyCodeLine{00067     \textcolor{keywordflow}{if} (it != it2) m\_ranges.erase(it, it2);}
\DoxyCodeLine{00068   \}}
\DoxyCodeLine{00069 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/tpinnedrangeset.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/tpinnedrangeset.\+cpp\end{DoxyCompactItemize}
