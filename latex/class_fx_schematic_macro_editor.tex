\hypertarget{class_fx_schematic_macro_editor}{}\doxysection{Fx\+Schematic\+Macro\+Editor Class Reference}
\label{class_fx_schematic_macro_editor}\index{FxSchematicMacroEditor@{FxSchematicMacroEditor}}
Inheritance diagram for Fx\+Schematic\+Macro\+Editor\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_fx_schematic_macro_editor}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_fx_schematic_macro_editor_abd9b18f18d69c9a49acc2e094c55ad22}{Fx\+Schematic\+Macro\+Editor}} (\mbox{\hyperlink{class_t_macro_fx}{TMacro\+Fx}} $\ast$macro, const QList$<$ \mbox{\hyperlink{class_schematic_node}{Schematic\+Node}} $\ast$ $>$ \&grouped\+Node, \mbox{\hyperlink{class_schematic_scene}{Schematic\+Scene}} $\ast$scene)
\item 
QRectF \mbox{\hyperlink{class_fx_schematic_macro_editor_a44632f5bb6da153d0e092b3c9706d5dd}{bounding\+Scene\+Rect}} () const override
\item 
void \mbox{\hyperlink{class_fx_schematic_macro_editor_a512126609c33c0c6bd561cf02bb78dd7}{set\+Grouped\+Node\+ZValue}} (int z\+Value) override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_fx_schematic_macro_editor_a87db8f4005d78010e216c63227fdd87a}{close\+Editor}} () override
\item 
void \mbox{\hyperlink{class_fx_schematic_macro_editor_ab386c88a2110e508093b3e87ec9a81cf}{on\+Name\+Changed}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_fx_schematic_macro_editor_aad2451ec444eb6b26cd763b82a7dbfeb}{mouse\+Move\+Event}} (QGraphics\+Scene\+Mouse\+Event $\ast$e) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_fx_schematic_macro_editor_abd9b18f18d69c9a49acc2e094c55ad22}\label{class_fx_schematic_macro_editor_abd9b18f18d69c9a49acc2e094c55ad22}} 
\index{FxSchematicMacroEditor@{FxSchematicMacroEditor}!FxSchematicMacroEditor@{FxSchematicMacroEditor}}
\index{FxSchematicMacroEditor@{FxSchematicMacroEditor}!FxSchematicMacroEditor@{FxSchematicMacroEditor}}
\doxysubsubsection{\texorpdfstring{FxSchematicMacroEditor()}{FxSchematicMacroEditor()}}
{\footnotesize\ttfamily Fx\+Schematic\+Macro\+Editor\+::\+Fx\+Schematic\+Macro\+Editor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_macro_fx}{TMacro\+Fx}} $\ast$}]{macro,  }\item[{const QList$<$ \mbox{\hyperlink{class_schematic_node}{Schematic\+Node}} $\ast$ $>$ \&}]{grouped\+Node,  }\item[{\mbox{\hyperlink{class_schematic_scene}{Schematic\+Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00335     : \mbox{\hyperlink{class_schematic_window_editor}{SchematicWindowEditor}}(groupedNode, scene), m\_macro(macro) \{}
\DoxyCodeLine{00336   m\_isMacroEditor = \textcolor{keyword}{true};}
\DoxyCodeLine{00337   initializeEditor();}
\DoxyCodeLine{00338   setPos(boundingSceneRect().topLeft());}
\DoxyCodeLine{00339   m\_nameItem-\/>setName(m\_groupName);}
\DoxyCodeLine{00340 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_schematic_macro_editor_a7950a32b83faafb9ab41cd188f0c471c}\label{class_fx_schematic_macro_editor_a7950a32b83faafb9ab41cd188f0c471c}} 
\index{FxSchematicMacroEditor@{FxSchematicMacroEditor}!````~FxSchematicMacroEditor@{$\sim$FxSchematicMacroEditor}}
\index{````~FxSchematicMacroEditor@{$\sim$FxSchematicMacroEditor}!FxSchematicMacroEditor@{FxSchematicMacroEditor}}
\doxysubsubsection{\texorpdfstring{$\sim$FxSchematicMacroEditor()}{~FxSchematicMacroEditor()}}
{\footnotesize\ttfamily Fx\+Schematic\+Macro\+Editor\+::$\sim$\+Fx\+Schematic\+Macro\+Editor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00344 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_fx_schematic_macro_editor_a44632f5bb6da153d0e092b3c9706d5dd}\label{class_fx_schematic_macro_editor_a44632f5bb6da153d0e092b3c9706d5dd}} 
\index{FxSchematicMacroEditor@{FxSchematicMacroEditor}!boundingSceneRect@{boundingSceneRect}}
\index{boundingSceneRect@{boundingSceneRect}!FxSchematicMacroEditor@{FxSchematicMacroEditor}}
\doxysubsubsection{\texorpdfstring{boundingSceneRect()}{boundingSceneRect()}}
{\footnotesize\ttfamily QRectF Fx\+Schematic\+Macro\+Editor\+::bounding\+Scene\+Rect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_schematic_window_editor}{Schematic\+Window\+Editor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00375                                                        \{}
\DoxyCodeLine{00376   QRectF rect = m\_groupedNode[0]-\/>boundingRect();}
\DoxyCodeLine{00377   QPointF shiftPos(m\_groupedNode[0]-\/>scenePos().x() -\/ rect.left(),}
\DoxyCodeLine{00378                    m\_groupedNode[0]-\/>scenePos().y() + rect.top() + 10);}
\DoxyCodeLine{00379   rect.moveTopLeft(shiftPos);}
\DoxyCodeLine{00380   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00381   \textcolor{keywordflow}{for} (i = 0; i < m\_groupedNode.size(); i++) \{}
\DoxyCodeLine{00382     \mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *node = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *\textcolor{keyword}{>}(m\_groupedNode[i]);}
\DoxyCodeLine{00383     assert(node);}
\DoxyCodeLine{00384     \mbox{\hyperlink{class_t_fx}{TFx}} *fx = node-\/>getFx();}
\DoxyCodeLine{00385     assert(fx);}
\DoxyCodeLine{00386     QRectF app = node-\/>\mbox{\hyperlink{class_schematic_node_ac6f29eb08191fec452e2f3e616ec95be}{boundingRect}}();}
\DoxyCodeLine{00387     QPointF shiftAppPos(node-\/>scenePos().x() -\/ app.left(),}
\DoxyCodeLine{00388                         node-\/>scenePos().y() + app.top() + 10);}
\DoxyCodeLine{00389     app.moveTopLeft(shiftAppPos);}
\DoxyCodeLine{00390 \textcolor{preprocessor}{\#if QT\_VERSION >= 0x050000}}
\DoxyCodeLine{00391     rect = rect.united(app);}
\DoxyCodeLine{00392 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00393     rect = rect.unite(app);}
\DoxyCodeLine{00394 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00395   \}}
\DoxyCodeLine{00396   rect.adjust(-\/20, -\/35, 0, 20);}
\DoxyCodeLine{00397   \textcolor{keywordflow}{return} rect;}
\DoxyCodeLine{00398 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_schematic_macro_editor_a87db8f4005d78010e216c63227fdd87a}\label{class_fx_schematic_macro_editor_a87db8f4005d78010e216c63227fdd87a}} 
\index{FxSchematicMacroEditor@{FxSchematicMacroEditor}!closeEditor@{closeEditor}}
\index{closeEditor@{closeEditor}!FxSchematicMacroEditor@{FxSchematicMacroEditor}}
\doxysubsubsection{\texorpdfstring{closeEditor}{closeEditor}}
{\footnotesize\ttfamily void Fx\+Schematic\+Macro\+Editor\+::close\+Editor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00354                                          \{}
\DoxyCodeLine{00355   m\_macro-\/>editMacro(\textcolor{keyword}{false});}
\DoxyCodeLine{00356   m\_scene-\/>updateScene();}
\DoxyCodeLine{00357 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_schematic_macro_editor_aad2451ec444eb6b26cd763b82a7dbfeb}\label{class_fx_schematic_macro_editor_aad2451ec444eb6b26cd763b82a7dbfeb}} 
\index{FxSchematicMacroEditor@{FxSchematicMacroEditor}!mouseMoveEvent@{mouseMoveEvent}}
\index{mouseMoveEvent@{mouseMoveEvent}!FxSchematicMacroEditor@{FxSchematicMacroEditor}}
\doxysubsubsection{\texorpdfstring{mouseMoveEvent()}{mouseMoveEvent()}}
{\footnotesize\ttfamily void Fx\+Schematic\+Macro\+Editor\+::mouse\+Move\+Event (\begin{DoxyParamCaption}\item[{QGraphics\+Scene\+Mouse\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00413                                                                        \{}
\DoxyCodeLine{00414   QPointF prevPos = pos();}
\DoxyCodeLine{00415   SchematicWindowEditor::mouseMoveEvent(e);}
\DoxyCodeLine{00416   \textcolor{keywordflow}{if} (m\_button == Qt::LeftButton) \{}
\DoxyCodeLine{00417     QPointF delta  = pos() -\/ prevPos;}
\DoxyCodeLine{00418     \mbox{\hyperlink{class_t_fx}{TFx}} *root      = m\_macro-\/>getRoot();}
\DoxyCodeLine{00419     \mbox{\hyperlink{class_t_point_t}{TPointD}} oldPos = m\_macro-\/>getAttributes()-\/>getDagNodePos();}
\DoxyCodeLine{00420     m\_macro-\/>getAttributes()-\/>setDagNodePos(oldPos +}
\DoxyCodeLine{00421                                             \mbox{\hyperlink{class_t_point_t}{TPointD}}(delta.x(), delta.y()));}
\DoxyCodeLine{00422   \}}
\DoxyCodeLine{00423 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_schematic_macro_editor_ab386c88a2110e508093b3e87ec9a81cf}\label{class_fx_schematic_macro_editor_ab386c88a2110e508093b3e87ec9a81cf}} 
\index{FxSchematicMacroEditor@{FxSchematicMacroEditor}!onNameChanged@{onNameChanged}}
\index{onNameChanged@{onNameChanged}!FxSchematicMacroEditor@{FxSchematicMacroEditor}}
\doxysubsubsection{\texorpdfstring{onNameChanged}{onNameChanged}}
{\footnotesize\ttfamily void Fx\+Schematic\+Macro\+Editor\+::on\+Name\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00361                                            \{}
\DoxyCodeLine{00362   QList<TFxP> fxs;}
\DoxyCodeLine{00363   m\_nameItem-\/>hide();}
\DoxyCodeLine{00364   m\_groupName = m\_nameItem-\/>toPlainText();}
\DoxyCodeLine{00365   setFlag(QGraphicsItem::ItemIsSelectable, \textcolor{keyword}{true});}
\DoxyCodeLine{00366   \mbox{\hyperlink{class_fx_schematic_scene}{FxSchematicScene}} *fxScene = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_schematic_scene}{FxSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{00367   \textcolor{keywordflow}{if} (!fxScene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00368   TFxCommand::renameFx(m\_macro, m\_groupName.toStdWString(),}
\DoxyCodeLine{00369                        fxScene-\/>getXsheetHandle());}
\DoxyCodeLine{00370   update();}
\DoxyCodeLine{00371 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_schematic_macro_editor_a512126609c33c0c6bd561cf02bb78dd7}\label{class_fx_schematic_macro_editor_a512126609c33c0c6bd561cf02bb78dd7}} 
\index{FxSchematicMacroEditor@{FxSchematicMacroEditor}!setGroupedNodeZValue@{setGroupedNodeZValue}}
\index{setGroupedNodeZValue@{setGroupedNodeZValue}!FxSchematicMacroEditor@{FxSchematicMacroEditor}}
\doxysubsubsection{\texorpdfstring{setGroupedNodeZValue()}{setGroupedNodeZValue()}}
{\footnotesize\ttfamily void Fx\+Schematic\+Macro\+Editor\+::set\+Grouped\+Node\+ZValue (\begin{DoxyParamCaption}\item[{int}]{z\+Value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_schematic_window_editor}{Schematic\+Window\+Editor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00402                                                             \{}
\DoxyCodeLine{00403   \textcolor{keywordtype}{int} i, size = m\_groupedNode.size();}
\DoxyCodeLine{00404   \textcolor{keywordflow}{for} (i = 0; i < size; i++) \{}
\DoxyCodeLine{00405     \mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *node = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *\textcolor{keyword}{>}(m\_groupedNode[i]);}
\DoxyCodeLine{00406     \textcolor{keywordflow}{if} (!node) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00407     node-\/>setZValue(zValue);}
\DoxyCodeLine{00408   \}}
\DoxyCodeLine{00409 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/schematicgroupeditor.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/schematicgroupeditor.\+cpp\end{DoxyCompactItemize}
