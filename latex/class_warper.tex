\hypertarget{class_warper}{}\doxysection{Warper\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>} Class Template Reference}
\label{class_warper}\index{Warper$<$ T $>$@{Warper$<$ T $>$}}
Inheritance diagram for Warper\texorpdfstring{$<$}{<} T \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_warper}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_warper_a72a42678136d1994a3d084ba20ddfd0f}{Warper}} (\mbox{\hyperlink{class_t_point_t}{TPointD}} rin\+Pos, \mbox{\hyperlink{class_t_point_t}{TPointD}} warper\+Pos, const \mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$ T $>$ \&rin, const \mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$ T $>$ \&warper, \mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$ T $>$ \&rout, const \mbox{\hyperlink{struct_warp_params}{Warp\+Params}} \&params)
\item 
void \mbox{\hyperlink{class_warper_a15d2145001947d2fec81314c3cb5693c}{create\+Lattice}} ()
\item 
void \mbox{\hyperlink{class_warper_a706cf13e40c6647f15fb30ec787e5feb}{shepard\+Warp}} ()
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_warper_a9249fdb556eb5d2af72b440254da9a47}{map}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p) const override
\begin{DoxyCompactList}\small\item\em Returns the distorted image of point {\bfseries{p}}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_warper_aa09ab874f559478c5ae7c67d566fe108}{inv\+Map}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, \mbox{\hyperlink{class_t_point_t}{TPointD}} $\ast$invs) const override
\item 
int \mbox{\hyperlink{class_warper_ad912190c1df14a48f805ac4dd9242190}{max\+Inv\+Count}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$ T $>$ \mbox{\hyperlink{class_warper_aa70e84623c12b652bb0921d9159af244}{m\+\_\+rin}}
\item 
\mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$ T $>$ \mbox{\hyperlink{class_warper_a071b42b643bb0e8244201daccc7e1e6d}{m\+\_\+warper}}
\item 
\mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$ T $>$ \mbox{\hyperlink{class_warper_a8cd6bfbfc169e061e24f2e6114d57846}{m\+\_\+rout}}
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_warper_aae633fd35e7a99c3badde4af26b20dd1}{m\+\_\+rin\+Pos}}
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_warper_a300f7a8186a4c1479e84a38d6aea14ca}{m\+\_\+warper\+Pos}}
\item 
\mbox{\hyperlink{class_t_dimension_t}{TDimension}} \mbox{\hyperlink{class_warper_a917ca51c87acb9f10f5fdbf22bac667c}{m\+\_\+ori\+Dim}}
\item 
int \mbox{\hyperlink{class_warper_ada7e14445e1068a48ad1aea3a22a8f95}{m\+\_\+shrink}}
\item 
double \mbox{\hyperlink{class_warper_af16e60b01b3678fe2416348ae420d9b6}{m\+\_\+warper\+Scale}}
\item 
double \mbox{\hyperlink{class_warper_aa69771fb60fa522ceeeebb890cd45bde}{m\+\_\+intensity}}
\item 
bool \mbox{\hyperlink{class_warper_a228baf08c0867024d1f63a0efbed98d8}{m\+\_\+sharpen}}
\item 
\mbox{\hyperlink{struct_lattice}{Lattice}} \mbox{\hyperlink{class_warper_af6997c0659bb95e8b1683d135f0dcc12}{m\+\_\+lattice}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename T$>$\newline
class Warper$<$ T $>$}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_warper_a72a42678136d1994a3d084ba20ddfd0f}\label{class_warper_a72a42678136d1994a3d084ba20ddfd0f}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!Warper@{Warper}}
\index{Warper@{Warper}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{Warper()}{Warper()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\mbox{\hyperlink{class_warper}{\+::\+Warper}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_point_t}{TPointD}}}]{rin\+Pos,  }\item[{\mbox{\hyperlink{class_t_point_t}{TPointD}}}]{warper\+Pos,  }\item[{const \mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$ T $>$ \&}]{rin,  }\item[{const \mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$ T $>$ \&}]{warper,  }\item[{\mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$ T $>$ \&}]{rout,  }\item[{const \mbox{\hyperlink{struct_warp_params}{Warp\+Params}} \&}]{params }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00047       : m\_rinPos(rinPos)}
\DoxyCodeLine{00048       , m\_warperPos(warperPos)}
\DoxyCodeLine{00049       , m\_rin(rin)}
\DoxyCodeLine{00050       , m\_warper(warper)}
\DoxyCodeLine{00051       , m\_rout(rout)}
\DoxyCodeLine{00052       , m\_intensity(1.5 * 1.5 * params.m\_intensity / 100)}
\DoxyCodeLine{00053       , m\_shrink(params.m\_shrink)}
\DoxyCodeLine{00054       , m\_warperScale(params.m\_warperScale)}
\DoxyCodeLine{00055       , m\_oriDim(rin-\/>getSize())}
\DoxyCodeLine{00056       , m\_sharpen(params.m\_sharpen) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_warper_afb67919bd8e3c27c5d3015b123f25f32}\label{class_warper_afb67919bd8e3c27c5d3015b123f25f32}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!````~Warper@{$\sim$Warper}}
\index{````~Warper@{$\sim$Warper}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{$\sim$Warper()}{~Warper()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::$\sim$\mbox{\hyperlink{class_warper}{Warper}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00058 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_warper_a15d2145001947d2fec81314c3cb5693c}\label{class_warper_a15d2145001947d2fec81314c3cb5693c}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!createLattice@{createLattice}}
\index{createLattice@{createLattice}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{createLattice()}{createLattice()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::create\+Lattice}


\begin{DoxyCode}{0}
\DoxyCodeLine{00070                               \{}
\DoxyCodeLine{00071   \textcolor{keywordtype}{int} ori\_lx, ori\_ly, i, j, lx, ly, incr;}
\DoxyCodeLine{00072   \textcolor{keywordtype}{double} fac;}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074   ori\_lx = m\_shrink * (m\_warper-\/>getLx() -\/ 1) + 1;}
\DoxyCodeLine{00075   ori\_ly = m\_shrink * (m\_warper-\/>getLy() -\/ 1) + 1;}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077   lx = m\_lattice.m\_width = ori\_lx;}
\DoxyCodeLine{00078   ly = m\_lattice.m\_height = ori\_ly;}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080   \mbox{\hyperlink{class_t_raster_p_t}{TRasterPT<T>}} aux = m\_warper;}
\DoxyCodeLine{00081 }
\DoxyCodeLine{00082   \textcolor{keywordflow}{if} (!m\_sharpen) \mbox{\hyperlink{namespace_t_rop_a9baa771ae6b7beb73d594266761d2cf2}{TRop::blur}}(aux, aux, 6.0, 0, 0);}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084   m\_lattice.coords = \textcolor{keyword}{new} \mbox{\hyperlink{struct_l_point}{LPoint}}[lx * ly];}
\DoxyCodeLine{00085 }
\DoxyCodeLine{00086   \mbox{\hyperlink{struct_l_point}{LPoint}} *coord = m\_lattice.coords;}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088   \textcolor{keywordflow}{for} (j = 0; j < ly; ++j) \{}
\DoxyCodeLine{00089     \textcolor{keywordflow}{if} (j >= ly -\/ 1) j = ori\_ly -\/ 1;}
\DoxyCodeLine{00090     coord-\/>s.y = (coord + lx -\/ 1)-\/>s.y = 0;}
\DoxyCodeLine{00091     coord-\/>d.y = (coord + lx -\/ 1)-\/>d.y = j;}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093     (coord + lx -\/ 1)-\/>s.x = 0;}
\DoxyCodeLine{00094     (coord + lx -\/ 1)-\/>d.x = ori\_lx -\/ 1;}
\DoxyCodeLine{00095     coord += lx;}
\DoxyCodeLine{00096   \}}
\DoxyCodeLine{00097 }
\DoxyCodeLine{00098   coord = m\_lattice.coords;}
\DoxyCodeLine{00099   incr  = (ly -\/ 1) * lx;}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101   \textcolor{keywordflow}{for} (i = 0; i < lx; ++i) \{}
\DoxyCodeLine{00102     \textcolor{keywordflow}{if} (i >= (lx -\/ 1)) i = ori\_lx -\/ 1;}
\DoxyCodeLine{00103     coord-\/>s.x = (coord + incr)-\/>s.x = 0;}
\DoxyCodeLine{00104     coord-\/>d.x = (coord + incr)-\/>d.x = i;}
\DoxyCodeLine{00105     (coord + incr)-\/>s.y              = 0;}
\DoxyCodeLine{00106     (coord + incr)-\/>d.y              = ori\_ly -\/ 1;}
\DoxyCodeLine{00107     coord++;}
\DoxyCodeLine{00108   \}}
\DoxyCodeLine{00109 }
\DoxyCodeLine{00110   fac = m\_intensity * (TPixel32::maxChannelValue / (double)T::maxChannelValue);}
\DoxyCodeLine{00111   aux-\/>lock();}
\DoxyCodeLine{00112   T *buffer = (T *)aux-\/>getRawData();}
\DoxyCodeLine{00113   T *pixIn;}
\DoxyCodeLine{00114   \textcolor{keywordtype}{int} auxWrap = aux-\/>getWrap();}
\DoxyCodeLine{00115 }
\DoxyCodeLine{00116   \textcolor{keywordflow}{for} (j = 1; j < ly -\/ 1; j++) \{}
\DoxyCodeLine{00117     pixIn = buffer + j * auxWrap;}
\DoxyCodeLine{00118     coord = \&(m\_lattice.coords[j * lx]);}
\DoxyCodeLine{00119 }
\DoxyCodeLine{00120     \textcolor{keywordflow}{for} (i = 1; i < lx -\/ 1; i++) \{}
\DoxyCodeLine{00121       ++pixIn;}
\DoxyCodeLine{00122       ++coord;}
\DoxyCodeLine{00123       coord-\/>d.x = i;}
\DoxyCodeLine{00124       coord-\/>d.y = j;}
\DoxyCodeLine{00125 }
\DoxyCodeLine{00126       \textcolor{comment}{// FOR A FUTURE RELEASE: We should not make the diffs below between +1 and}}
\DoxyCodeLine{00127       \textcolor{comment}{// -\/1, BUT 0 and -\/1!!}}
\DoxyCodeLine{00128 }
\DoxyCodeLine{00129       coord-\/>s.x = fac * (convert(*(pixIn + 1)) -\/ convert(*(pixIn -\/ 1)));}
\DoxyCodeLine{00130       coord-\/>s.y =}
\DoxyCodeLine{00131           fac * (convert(*(pixIn + auxWrap)) -\/ convert(*(pixIn -\/ auxWrap)));}
\DoxyCodeLine{00132     \}}
\DoxyCodeLine{00133   \}}
\DoxyCodeLine{00134 }
\DoxyCodeLine{00135   aux-\/>unlock();}
\DoxyCodeLine{00136 }
\DoxyCodeLine{00137   \textcolor{comment}{// Finally, we scale the lattice according to the m\_scale parameter.}}
\DoxyCodeLine{00138   coord  = m\_lattice.coords;}
\DoxyCodeLine{00139   \textcolor{keywordtype}{int} wh = m\_lattice.m\_width * m\_lattice.m\_height;}
\DoxyCodeLine{00140   \textcolor{keywordflow}{for} (i = 0; i < wh; ++i, ++coord) \{}
\DoxyCodeLine{00141     coord-\/>d = m\_warperPos + m\_warperScale * coord-\/>d;}
\DoxyCodeLine{00142     coord-\/>s = m\_warperScale * coord-\/>s;}
\DoxyCodeLine{00143   \}}
\DoxyCodeLine{00144 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_warper_aa09ab874f559478c5ae7c67d566fe108}\label{class_warper_aa09ab874f559478c5ae7c67d566fe108}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!invMap@{invMap}}
\index{invMap@{invMap}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{invMap()}{invMap()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
int \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::inv\+Map (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{\mbox{\hyperlink{class_t_point_t}{TPointD}} $\ast$}]{results }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Returns the pre-\/images of distorted point {\bfseries{p}}. The results are overed on the output image as they appear in the returned vector, so the user must be sure to sort them accordingly. {\bfseries{NOTE\+:}} The results array is already allocated with the number of entries specified by the max\+Inv\+Count() function in order to avoid allocation at this level; however, the number of effective inverses must be specified as a return value. 

Implements \mbox{\hyperlink{class_t_distorter_aa1f4e823ae575d0585407b08ed0881d5}{TDistorter}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00173                                                            \{}
\DoxyCodeLine{00174   \textcolor{comment}{// Make a Shepard interpolant of grid points}}
\DoxyCodeLine{00175   \textcolor{keyword}{const} \textcolor{keywordtype}{double} maxDist = 2 * m\_warperScale;}
\DoxyCodeLine{00176 }
\DoxyCodeLine{00177   \mbox{\hyperlink{class_t_point_t}{TPointD}} pos(p + m\_rinPos);}
\DoxyCodeLine{00178 }
\DoxyCodeLine{00179   \textcolor{comment}{// First, bisect for the interesting maxDist-\/from-\/p region}}
\DoxyCodeLine{00180   \textcolor{keywordtype}{int} i, j;}
\DoxyCodeLine{00181   \textcolor{keywordtype}{double} xStart = pos.x -\/ maxDist;}
\DoxyCodeLine{00182   \textcolor{keywordtype}{double} yStart = pos.y -\/ maxDist;}
\DoxyCodeLine{00183   \textcolor{keywordtype}{double} xEnd   = pos.x + maxDist;}
\DoxyCodeLine{00184   \textcolor{keywordtype}{double} yEnd   = pos.y + maxDist;}
\DoxyCodeLine{00185 }
\DoxyCodeLine{00186   \textcolor{keywordtype}{int} a = 0, b = m\_lattice.m\_width;}
\DoxyCodeLine{00187   \textcolor{keywordflow}{while} (a + 1 < b) \{}
\DoxyCodeLine{00188     i = (a + b) / 2;}
\DoxyCodeLine{00189     \textcolor{keywordflow}{if} (m\_lattice.coords[i].d.x < xStart)}
\DoxyCodeLine{00190       a = i;}
\DoxyCodeLine{00191     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00192       b = i;}
\DoxyCodeLine{00193   \}}
\DoxyCodeLine{00194   i = a;}
\DoxyCodeLine{00195 }
\DoxyCodeLine{00196   a = 0, b = m\_lattice.m\_height;}
\DoxyCodeLine{00197   \textcolor{keywordflow}{while} (a + 1 < b) \{}
\DoxyCodeLine{00198     j = (a + b) / 2;}
\DoxyCodeLine{00199     \textcolor{keywordflow}{if} (m\_lattice.coords[j * m\_lattice.m\_width].d.y < yStart)}
\DoxyCodeLine{00200       a = j;}
\DoxyCodeLine{00201     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00202       b = j;}
\DoxyCodeLine{00203   \}}
\DoxyCodeLine{00204   j = a;}
\DoxyCodeLine{00205 }
\DoxyCodeLine{00206   \textcolor{comment}{// Then, build the interpolation}}
\DoxyCodeLine{00207   \textcolor{keywordtype}{int} u, v;}
\DoxyCodeLine{00208   \textcolor{keywordtype}{double} w, wsum = 0;}
\DoxyCodeLine{00209   \textcolor{keywordtype}{double} xDistSq, yDistSq;}
\DoxyCodeLine{00210   \textcolor{keywordtype}{double} distSq, maxDistSq = sq(maxDist);}
\DoxyCodeLine{00211   \mbox{\hyperlink{class_t_point_t}{TPointD}} result;}
\DoxyCodeLine{00212 }
\DoxyCodeLine{00213   \textcolor{keywordflow}{for} (v = j; v < m\_lattice.m\_height; ++v) \{}
\DoxyCodeLine{00214     \textcolor{keywordtype}{int} vidx = v * m\_lattice.m\_width;}
\DoxyCodeLine{00215     \textcolor{keywordflow}{if} (m\_lattice.coords[vidx].d.y > yEnd) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00216 }
\DoxyCodeLine{00217     yDistSq = sq(pos.y -\/ m\_lattice.coords[vidx].d.y);}
\DoxyCodeLine{00218 }
\DoxyCodeLine{00219     \mbox{\hyperlink{struct_l_point}{LPoint}} *coord = \&m\_lattice.coords[vidx + i];}
\DoxyCodeLine{00220     \textcolor{keywordflow}{for} (u = i; u < m\_lattice.m\_width; ++u, ++coord) \{}
\DoxyCodeLine{00221       xDistSq = sq(pos.x -\/ m\_lattice.coords[u].d.x);}
\DoxyCodeLine{00222       \textcolor{keywordflow}{if} (m\_lattice.coords[u].d.x > xEnd) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00223 }
\DoxyCodeLine{00224       distSq = xDistSq + yDistSq;}
\DoxyCodeLine{00225       \textcolor{keywordflow}{if} (distSq > maxDistSq) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00226 }
\DoxyCodeLine{00227       w = maxDist -\/ sqrt(distSq);}
\DoxyCodeLine{00228       wsum += w;}
\DoxyCodeLine{00229       result += w * coord-\/>s;}
\DoxyCodeLine{00230     \}}
\DoxyCodeLine{00231   \}}
\DoxyCodeLine{00232 }
\DoxyCodeLine{00233   \textcolor{keywordflow}{if} (wsum)}
\DoxyCodeLine{00234     invs[0] = p + \mbox{\hyperlink{class_t_point_t}{TPointD}}(result.x / wsum, result.y / wsum);}
\DoxyCodeLine{00235   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00236     invs[0] = p;}
\DoxyCodeLine{00237 }
\DoxyCodeLine{00238   \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{00239 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_warper_a9249fdb556eb5d2af72b440254da9a47}\label{class_warper_a9249fdb556eb5d2af72b440254da9a47}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!map@{map}}
\index{map@{map}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{map()}{map()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::map (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the distorted image of point {\bfseries{p}}. 



Implements \mbox{\hyperlink{class_t_distorter_a9e7047acf8cc0698ebc9b2041c15cc9d}{TDistorter}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00166                                              \{}
\DoxyCodeLine{00167   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_point_t}{TPointD}}();  \textcolor{comment}{// Not truly necessary}}
\DoxyCodeLine{00168 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_warper_ad912190c1df14a48f805ac4dd9242190}\label{class_warper_ad912190c1df14a48f805ac4dd9242190}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!maxInvCount@{maxInvCount}}
\index{maxInvCount@{maxInvCount}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{maxInvCount()}{maxInvCount()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
int \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::max\+Inv\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_distorter}{TDistorter}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064 \{ \textcolor{keywordflow}{return} 1; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_warper_a706cf13e40c6647f15fb30ec787e5feb}\label{class_warper_a706cf13e40c6647f15fb30ec787e5feb}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!shepardWarp@{shepardWarp}}
\index{shepardWarp@{shepardWarp}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{shepardWarp()}{shepardWarp()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
void \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::shepard\+Warp}


\begin{DoxyCode}{0}
\DoxyCodeLine{00149                             \{}
\DoxyCodeLine{00150   assert(m\_rin.getPointer() != m\_rout.getPointer());}
\DoxyCodeLine{00151 }
\DoxyCodeLine{00152   m\_rin-\/>lock();}
\DoxyCodeLine{00153   m\_rout-\/>lock();}
\DoxyCodeLine{00154 }
\DoxyCodeLine{00155   \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} rasIn(m\_rin);}
\DoxyCodeLine{00156   \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} rasOut(m\_rout);}
\DoxyCodeLine{00157   distort(rasOut, rasIn, *\textcolor{keyword}{this}, -\/convert(m\_rinPos), \mbox{\hyperlink{namespace_t_rop_a2780cb0189f5717b67b6aca3f5471168a152d46ac03e804c799ed08f703eeeb4e}{TRop::Bilinear}});}
\DoxyCodeLine{00158 }
\DoxyCodeLine{00159   m\_rout-\/>unlock();}
\DoxyCodeLine{00160   m\_rin-\/>unlock();}
\DoxyCodeLine{00161 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_warper_aa69771fb60fa522ceeeebb890cd45bde}\label{class_warper_aa69771fb60fa522ceeeebb890cd45bde}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_intensity@{m\_intensity}}
\index{m\_intensity@{m\_intensity}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_intensity}{m\_intensity}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
double \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+intensity}

\mbox{\Hypertarget{class_warper_af6997c0659bb95e8b1683d135f0dcc12}\label{class_warper_af6997c0659bb95e8b1683d135f0dcc12}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_lattice@{m\_lattice}}
\index{m\_lattice@{m\_lattice}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_lattice}{m\_lattice}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{struct_lattice}{Lattice}} \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+lattice}

\mbox{\Hypertarget{class_warper_a917ca51c87acb9f10f5fdbf22bac667c}\label{class_warper_a917ca51c87acb9f10f5fdbf22bac667c}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_oriDim@{m\_oriDim}}
\index{m\_oriDim@{m\_oriDim}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_oriDim}{m\_oriDim}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{class_t_dimension_t}{TDimension}} \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+ori\+Dim}

\mbox{\Hypertarget{class_warper_aa70e84623c12b652bb0921d9159af244}\label{class_warper_aa70e84623c12b652bb0921d9159af244}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_rin@{m\_rin}}
\index{m\_rin@{m\_rin}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_rin}{m\_rin}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$T$>$ \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+rin}

\mbox{\Hypertarget{class_warper_aae633fd35e7a99c3badde4af26b20dd1}\label{class_warper_aae633fd35e7a99c3badde4af26b20dd1}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_rinPos@{m\_rinPos}}
\index{m\_rinPos@{m\_rinPos}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_rinPos}{m\_rinPos}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+rin\+Pos}

\mbox{\Hypertarget{class_warper_a8cd6bfbfc169e061e24f2e6114d57846}\label{class_warper_a8cd6bfbfc169e061e24f2e6114d57846}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_rout@{m\_rout}}
\index{m\_rout@{m\_rout}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_rout}{m\_rout}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$T$>$ \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+rout}

\mbox{\Hypertarget{class_warper_a228baf08c0867024d1f63a0efbed98d8}\label{class_warper_a228baf08c0867024d1f63a0efbed98d8}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_sharpen@{m\_sharpen}}
\index{m\_sharpen@{m\_sharpen}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_sharpen}{m\_sharpen}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
bool \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+sharpen}

\mbox{\Hypertarget{class_warper_ada7e14445e1068a48ad1aea3a22a8f95}\label{class_warper_ada7e14445e1068a48ad1aea3a22a8f95}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_shrink@{m\_shrink}}
\index{m\_shrink@{m\_shrink}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_shrink}{m\_shrink}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
int \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+shrink}

\mbox{\Hypertarget{class_warper_a071b42b643bb0e8244201daccc7e1e6d}\label{class_warper_a071b42b643bb0e8244201daccc7e1e6d}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_warper@{m\_warper}}
\index{m\_warper@{m\_warper}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_warper}{m\_warper}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{class_t_raster_p_t}{TRaster\+PT}}$<$T$>$ \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+warper}

\mbox{\Hypertarget{class_warper_a300f7a8186a4c1479e84a38d6aea14ca}\label{class_warper_a300f7a8186a4c1479e84a38d6aea14ca}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_warperPos@{m\_warperPos}}
\index{m\_warperPos@{m\_warperPos}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_warperPos}{m\_warperPos}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+warper\+Pos}

\mbox{\Hypertarget{class_warper_af16e60b01b3678fe2416348ae420d9b6}\label{class_warper_af16e60b01b3678fe2416348ae420d9b6}} 
\index{Warper$<$ T $>$@{Warper$<$ T $>$}!m\_warperScale@{m\_warperScale}}
\index{m\_warperScale@{m\_warperScale}!Warper$<$ T $>$@{Warper$<$ T $>$}}
\doxysubsubsection{\texorpdfstring{m\_warperScale}{m\_warperScale}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
double \mbox{\hyperlink{class_warper}{Warper}}$<$ T $>$\+::m\+\_\+warper\+Scale}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/stdfx/warp.\+cpp\end{DoxyCompactItemize}
