\hypertarget{class_t_project_manager}{}\doxysection{TProject\+Manager Class Reference}
\label{class_t_project_manager}\index{TProjectManager@{TProjectManager}}


Manages all toonz projects. The class provides all needed method to retrieve projects paths, names and folders.  




{\ttfamily \#include $<$tproject.\+h$>$}

\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_t_project_manager_1_1_listener}{Listener}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_t_project_manager_a20e69ba4a0befcef7e0039fcc20adace}{notify\+Project\+Changed}} ()
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_manager_a79e8b9ec6435b27c64f0fd853832b102}{get\+Current\+Project\+Path}} ()
\item 
void \mbox{\hyperlink{class_t_project_manager_aa55b362becc698e787db40c822f79bc3}{set\+Current\+Project\+Path}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TProjectP}} \mbox{\hyperlink{class_t_project_manager_a5267cfeae48d4e7585c3fc56d8d5b0b3}{get\+Current\+Project}} ()
\item 
void \mbox{\hyperlink{class_t_project_manager_a930e00976b60a69ae1708bfd08ebf038}{initialize\+Scene}} (\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$scene)
\item 
void \mbox{\hyperlink{class_t_project_manager_a52f8d70440a4a3c0369a1f807cf3e2a5}{save\+Template}} (\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$scene)
\item 
void \mbox{\hyperlink{class_t_project_manager_a5f3019afb6a0e2b5cc49473ff6203bdc}{add\+Projects\+Root}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
void \mbox{\hyperlink{class_t_project_manager_a09151ce23fdf30d174cf5e797380041e}{add\+SVNProjects\+Root}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_manager_a375e64625585562656747b8a54a71132}{get\+Current\+Project\+Root}} ()
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_manager_ae4e369cfaa32798f62507d476c6dd5b9}{project\+Path\+To\+Project\+Name}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&project\+Path)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_manager_ae9501782aee01b3c1033f7e021f74be6}{project\+Name\+To\+Project\+Path}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&project\+Name)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_manager_a29ae519b44c77674d68c993b7652a896}{project\+Folder\+To\+Project\+Path}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&project\+Folder)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_manager_a14225d1945b95c131fd01a724dbcda93}{get\+Project\+Path\+By\+Name}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&project\+Name)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_manager_a9b01751ea488c4144e9243ffe3d27e71}{get\+Project\+Path\+By\+Project\+Folder}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&project\+Folder)
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TProjectP}} \mbox{\hyperlink{class_t_project_manager_adcc7fc8cb7656b12f54b773ee6448735}{load\+Scene\+Project}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&scene\+Path)
\item 
void \mbox{\hyperlink{class_t_project_manager_a3ab1f7a196f7be9fd13640cfa21554b6}{get\+Folder\+Names}} (std\+::vector$<$ std\+::string $>$ \&names)
\item 
void \mbox{\hyperlink{class_t_project_manager_afeb424880912096d949e24c686d3aa97}{add\+Listener}} (\mbox{\hyperlink{class_t_project_manager_1_1_listener}{Listener}} $\ast$listener)
\item 
void \mbox{\hyperlink{class_t_project_manager_a7c0ef3494d8d92d120e7528a537120c7}{remove\+Listener}} (\mbox{\hyperlink{class_t_project_manager_1_1_listener}{Listener}} $\ast$listener)
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TProjectP}} \mbox{\hyperlink{class_t_project_manager_a1b05787404b73b3fbd09100d6501e67b}{create\+Standard\+Project}} ()
\item 
void \mbox{\hyperlink{class_t_project_manager_a0b0bce7fb0c0884522ff1a1b3f38df32}{create\+Sandbox\+If\+Needed}} ()
\item 
bool \mbox{\hyperlink{class_t_project_manager_a4853a51e2c1fdd19b3572fd559aecbf7}{is\+Tab\+Kids\+Mode\+Enabled}} () const
\item 
void \mbox{\hyperlink{class_t_project_manager_af4498959472ebf767bec5431c922f937}{enable\+Tab\+Kids\+Mode}} (bool tab\+Kids\+Mode)
\item 
bool \mbox{\hyperlink{class_t_project_manager_a810760ee9da9f48f98eb4eb2e0e31d2a}{is\+Tab\+Mode\+Enabled}} () const
\item 
void \mbox{\hyperlink{class_t_project_manager_a51eb467f19a0ba1de7705bd9e0f51b9d}{enable\+Tab\+Mode}} (bool tab\+Mode)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_manager_a0d1225a791e21a77b9c7aba42146a122}{get\+Sandbox\+Project\+Folder}} ()
\begin{DoxyCompactList}\small\item\em Return the absolute path of the standard folder \char`\"{}sandbox\char`\"{}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_manager_aab8826fc40187995c787e70d43d66395}{get\+Sandbox\+Project\+Path}} ()
\begin{DoxyCompactList}\small\item\em Return the absolute path of the standard project \char`\"{}sandbox\+\_\+prj6.\+xml\char`\"{} file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_project_manager_abf704ac678a64a8344f4283aea9c71ad}{get\+Project\+Roots}} (std\+::vector$<$ \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} $>$ \&project\+Roots) const
\item 
bool \mbox{\hyperlink{class_t_project_manager_a11546df5d2eab40bbb33d67f293beb56}{is\+Project}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&project\+Folder)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_t_project_manager}{TProject\+Manager}} $\ast$ \mbox{\hyperlink{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}{instance}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manages all toonz projects. The class provides all needed method to retrieve projects paths, names and folders. 

It is possible to handle more than one project root. The class maintains a container this purpose. All the projects roots must be set by hand in the windows registry. By default, only one project root is created when toonz is installed.~\newline
 The project root container can be updated using \mbox{\hyperlink{class_t_project_manager_a5f3019afb6a0e2b5cc49473ff6203bdc}{add\+Projects\+Root(const TFile\+Path \&root)}}, add\+Default\+Projects\+Root() methods. \begin{DoxyVerb} The class maintains also information about the current project. The
\end{DoxyVerb}
 class provides all needed method to retrieve the current project path, name and folder. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_project}{TProject}} 
\end{DoxySeeAlso}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_project_manager_a04f051894befcda79d56b2579952c81d}\label{class_t_project_manager_a04f051894befcda79d56b2579952c81d}} 
\index{TProjectManager@{TProjectManager}!````~TProjectManager@{$\sim$TProjectManager}}
\index{````~TProjectManager@{$\sim$TProjectManager}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{$\sim$TProjectManager()}{~TProjectManager()}}
{\footnotesize\ttfamily TProject\+Manager\+::$\sim$\+TProject\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00772 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_project_manager_afeb424880912096d949e24c686d3aa97}\label{class_t_project_manager_afeb424880912096d949e24c686d3aa97}} 
\index{TProjectManager@{TProjectManager}!addListener@{addListener}}
\index{addListener@{addListener}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{addListener()}{addListener()}}
{\footnotesize\ttfamily void TProject\+Manager\+::add\+Listener (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_project_manager_1_1_listener}{Listener}} $\ast$}]{listener }\end{DoxyParamCaption})}

Adds {\bfseries{listener}} to the listeners container. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01091                                                     \{}
\DoxyCodeLine{01092   m\_listeners.insert(listener);}
\DoxyCodeLine{01093 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_a5f3019afb6a0e2b5cc49473ff6203bdc}\label{class_t_project_manager_a5f3019afb6a0e2b5cc49473ff6203bdc}} 
\index{TProjectManager@{TProjectManager}!addProjectsRoot@{addProjectsRoot}}
\index{addProjectsRoot@{addProjectsRoot}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{addProjectsRoot()}{addProjectsRoot()}}
{\footnotesize\ttfamily void TProject\+Manager\+::add\+Projects\+Root (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{root }\end{DoxyParamCaption})}

Adds the specified folder {\bfseries{fp}} in the projecs roots container.~\newline
 If {\bfseries{fp}} is already contained in the container, the method does nothing. \begin{DoxyNote}{Note}
{\bfseries{fp}} must be a folder and not a file path. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00786                                                            \{}
\DoxyCodeLine{00787   \textcolor{comment}{// assert(TFileStatus(root).isDirectory());}}
\DoxyCodeLine{00788   \textcolor{keywordflow}{if} (std::find(m\_projectsRoots.begin(), m\_projectsRoots.end(), root) ==}
\DoxyCodeLine{00789       m\_projectsRoots.end())}
\DoxyCodeLine{00790     m\_projectsRoots.push\_back(root);}
\DoxyCodeLine{00791 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_a09151ce23fdf30d174cf5e797380041e}\label{class_t_project_manager_a09151ce23fdf30d174cf5e797380041e}} 
\index{TProjectManager@{TProjectManager}!addSVNProjectsRoot@{addSVNProjectsRoot}}
\index{addSVNProjectsRoot@{addSVNProjectsRoot}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{addSVNProjectsRoot()}{addSVNProjectsRoot()}}
{\footnotesize\ttfamily void TProject\+Manager\+::add\+SVNProjects\+Root (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{root }\end{DoxyParamCaption})}

Adds the specified folder {\bfseries{fp}} in the version control projecs roots container.~\newline
 If {\bfseries{fp}} is already contained in the container, the method does nothing. \begin{DoxyNote}{Note}
{\bfseries{fp}} must be a folder and not a file path. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00799                                                               \{}
\DoxyCodeLine{00800   assert(\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(root).isDirectory());}
\DoxyCodeLine{00801   \textcolor{keywordflow}{if} (std::find(m\_svnProjectsRoots.begin(), m\_svnProjectsRoots.end(), root) ==}
\DoxyCodeLine{00802       m\_svnProjectsRoots.end())}
\DoxyCodeLine{00803     m\_svnProjectsRoots.push\_back(root);}
\DoxyCodeLine{00804 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_a0b0bce7fb0c0884522ff1a1b3f38df32}\label{class_t_project_manager_a0b0bce7fb0c0884522ff1a1b3f38df32}} 
\index{TProjectManager@{TProjectManager}!createSandboxIfNeeded@{createSandboxIfNeeded}}
\index{createSandboxIfNeeded@{createSandboxIfNeeded}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{createSandboxIfNeeded()}{createSandboxIfNeeded()}}
{\footnotesize\ttfamily void TProject\+Manager\+::create\+Sandbox\+If\+Needed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Creates the standard project folder \char`\"{}sandbox\char`\"{} if it doesn\textquotesingle{}t exist. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01141                                             \{}
\DoxyCodeLine{01142   \mbox{\hyperlink{class_t_file_path}{TFilePath}} path = \mbox{\hyperlink{class_t_project_manager_aab8826fc40187995c787e70d43d66395}{getSandboxProjectPath}}();}
\DoxyCodeLine{01143   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(path).doesExist()) \{}
\DoxyCodeLine{01144     \mbox{\hyperlink{class_t_smart_pointer_t}{TProjectP}} project = \mbox{\hyperlink{class_t_project_manager_a1b05787404b73b3fbd09100d6501e67b}{createStandardProject}}();}
\DoxyCodeLine{01145     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01146       project-\/>save(path);}
\DoxyCodeLine{01147     \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{01148     \}}
\DoxyCodeLine{01149   \}}
\DoxyCodeLine{01150 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01157}{create\+Standard\+Project()}}, and \mbox{\hyperlink{l01172}{get\+Sandbox\+Project\+Path()}}.

\mbox{\Hypertarget{class_t_project_manager_a1b05787404b73b3fbd09100d6501e67b}\label{class_t_project_manager_a1b05787404b73b3fbd09100d6501e67b}} 
\index{TProjectManager@{TProjectManager}!createStandardProject@{createStandardProject}}
\index{createStandardProject@{createStandardProject}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{createStandardProject()}{createStandardProject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TProjectP}} TProject\+Manager\+::create\+Standard\+Project (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Create a standard project.~\newline
 A standard project is a project containing the standard named and constant folder. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_project}{TProject}}. 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01157                                                  \{}
\DoxyCodeLine{01158   \mbox{\hyperlink{class_t_project}{TProject}} *project = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_project}{TProject}}();}
\DoxyCodeLine{01159   \textcolor{comment}{// set default folders (+drawings, ecc.)}}
\DoxyCodeLine{01160   std::vector<std::string> names;}
\DoxyCodeLine{01161   \mbox{\hyperlink{class_t_project_manager_a3ab1f7a196f7be9fd13640cfa21554b6}{getFolderNames}}(names);}
\DoxyCodeLine{01162   std::vector<std::string>::iterator it;}
\DoxyCodeLine{01163   \textcolor{keywordflow}{for} (it = names.begin(); it != names.end(); ++it) project-\/>setFolder(*it);}
\DoxyCodeLine{01164   \textcolor{keywordflow}{return} project;}
\DoxyCodeLine{01165 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00924}{get\+Folder\+Names()}}.



Referenced by \mbox{\hyperlink{l01141}{create\+Sandbox\+If\+Needed()}}.

\mbox{\Hypertarget{class_t_project_manager_af4498959472ebf767bec5431c922f937}\label{class_t_project_manager_af4498959472ebf767bec5431c922f937}} 
\index{TProjectManager@{TProjectManager}!enableTabKidsMode@{enableTabKidsMode}}
\index{enableTabKidsMode@{enableTabKidsMode}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{enableTabKidsMode()}{enableTabKidsMode()}}
{\footnotesize\ttfamily void TProject\+Manager\+::enable\+Tab\+Kids\+Mode (\begin{DoxyParamCaption}\item[{bool}]{tab\+Kids\+Mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00166 \{ m\_tabKidsMode = tabKidsMode; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_a51eb467f19a0ba1de7705bd9e0f51b9d}\label{class_t_project_manager_a51eb467f19a0ba1de7705bd9e0f51b9d}} 
\index{TProjectManager@{TProjectManager}!enableTabMode@{enableTabMode}}
\index{enableTabMode@{enableTabMode}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{enableTabMode()}{enableTabMode()}}
{\footnotesize\ttfamily void TProject\+Manager\+::enable\+Tab\+Mode (\begin{DoxyParamCaption}\item[{bool}]{tab\+Mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the tab mode to the passed {\bfseries{tab\+Mode}}. \begin{DoxyNote}{Note}
the tab mode is used for Tab \mbox{\hyperlink{class_application}{Application}} 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00169 \{ m\_tabMode = tabMode; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_a5267cfeae48d4e7585c3fc56d8d5b0b3}\label{class_t_project_manager_a5267cfeae48d4e7585c3fc56d8d5b0b3}} 
\index{TProjectManager@{TProjectManager}!getCurrentProject@{getCurrentProject}}
\index{getCurrentProject@{getCurrentProject}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{getCurrentProject()}{getCurrentProject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TProjectP}} TProject\+Manager\+::get\+Current\+Project (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns the current \mbox{\hyperlink{class_t_project}{TProject}}.~\newline
 If a current \mbox{\hyperlink{class_t_project}{TProject()}} doesn\textquotesingle{}t exist, load the project in the the current project path. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00993                                              \{}
\DoxyCodeLine{00994   \textcolor{keywordflow}{if} (currentProject.getPointer() == 0) \{}
\DoxyCodeLine{00995     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = \mbox{\hyperlink{class_t_project_manager_a79e8b9ec6435b27c64f0fd853832b102}{getCurrentProjectPath}}();}
\DoxyCodeLine{00996     assert(\mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{TProject::isAProjectPath}}(fp));}
\DoxyCodeLine{00997     currentProject = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_project}{TProject}}();}
\DoxyCodeLine{00998     currentProject-\/>load(fp);}
\DoxyCodeLine{00999 }
\DoxyCodeLine{01000     \textcolor{comment}{// update TFilePath condition on loading the current project}}
\DoxyCodeLine{01001     \mbox{\hyperlink{class_file_path_properties}{FilePathProperties}} *fpProp = currentProject-\/>getFilePathProperties();}
\DoxyCodeLine{01002     TFilePath::setFilePathProperties(fpProp-\/>useStandard(),}
\DoxyCodeLine{01003                                      fpProp-\/>acceptNonAlphabetSuffix(),}
\DoxyCodeLine{01004                                      fpProp-\/>letterCountForSuffix());}
\DoxyCodeLine{01005   \}}
\DoxyCodeLine{01006   \textcolor{keywordflow}{return} currentProject;}
\DoxyCodeLine{01007 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00971}{get\+Current\+Project\+Path()}}, and \mbox{\hyperlink{l00710}{TProject\+::is\+AProject\+Path()}}.



Referenced by \mbox{\hyperlink{l00864}{Toonz\+Scene\+::create\+New\+Level()}}, \mbox{\hyperlink{l00676}{Export\+Scene\+Popup\+::create\+New\+Project()}}, and \mbox{\hyperlink{l01126}{save\+Template()}}.

\mbox{\Hypertarget{class_t_project_manager_a79e8b9ec6435b27c64f0fd853832b102}\label{class_t_project_manager_a79e8b9ec6435b27c64f0fd853832b102}} 
\index{TProjectManager@{TProjectManager}!getCurrentProjectPath@{getCurrentProjectPath}}
\index{getCurrentProjectPath@{getCurrentProjectPath}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{getCurrentProjectPath()}{getCurrentProjectPath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+Manager\+::get\+Current\+Project\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns the current project path.~\newline
 The project path, usually, is set in key registry. If a current project path isn\textquotesingle{}t set, \mbox{\hyperlink{class_t_project_a3fc8cb5307b3a6dabc30d14fbd2dade4}{TProject\+::\+Sandbox\+Project\+Name}} is set as current project. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00971                                                  \{}
\DoxyCodeLine{00972   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(currentProjectPath);}
\DoxyCodeLine{00973   \textcolor{keywordflow}{if} (fp == \mbox{\hyperlink{class_t_file_path}{TFilePath}}())}
\DoxyCodeLine{00974     fp = \mbox{\hyperlink{class_t_project_manager_ae9501782aee01b3c1033f7e021f74be6}{projectNameToProjectPath}}(\mbox{\hyperlink{class_t_project_a3fc8cb5307b3a6dabc30d14fbd2dade4}{TProject::SandboxProjectName}});}
\DoxyCodeLine{00975   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{TProject::isAProjectPath}}(fp)) \{}
\DoxyCodeLine{00976     \textcolor{comment}{// in Toonz 5.1 e precedenti era un project name}}
\DoxyCodeLine{00977     \textcolor{keywordflow}{if} (!fp.isAbsolute()) fp = \mbox{\hyperlink{class_t_project_manager_a14225d1945b95c131fd01a724dbcda93}{getProjectPathByName}}(fp);}
\DoxyCodeLine{00978   \}}
\DoxyCodeLine{00979   fp = searchProjectPath(fp.getParentDir());}
\DoxyCodeLine{00980   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp).doesExist())}
\DoxyCodeLine{00981     fp = \mbox{\hyperlink{class_t_project_manager_ae9501782aee01b3c1033f7e021f74be6}{projectNameToProjectPath}}(\mbox{\hyperlink{class_t_project_a3fc8cb5307b3a6dabc30d14fbd2dade4}{TProject::SandboxProjectName}});}
\DoxyCodeLine{00982   fp       = getLatestVersionProjectPath(fp);}
\DoxyCodeLine{00983   \textcolor{keywordtype}{string} s = ::to\_string(fp);}
\DoxyCodeLine{00984   \textcolor{keywordflow}{if} (s != (\textcolor{keywordtype}{string})currentProjectPath) currentProjectPath = s;}
\DoxyCodeLine{00985   \textcolor{keywordflow}{return} fp;}
\DoxyCodeLine{00986 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}, \mbox{\hyperlink{l00888}{get\+Project\+Path\+By\+Name()}}, \mbox{\hyperlink{l00710}{TProject\+::is\+AProject\+Path()}}, \mbox{\hyperlink{l00862}{project\+Name\+To\+Project\+Path()}}, and \mbox{\hyperlink{l00043}{TProject\+::\+Sandbox\+Project\+Name}}.



Referenced by \mbox{\hyperlink{l00993}{get\+Current\+Project()}}, \mbox{\hyperlink{l00814}{get\+Current\+Project\+Root()}}, \mbox{\hyperlink{l01106}{initialize\+Scene()}}, and \mbox{\hyperlink{l00412}{TProject\+::is\+Current()}}.

\mbox{\Hypertarget{class_t_project_manager_a375e64625585562656747b8a54a71132}\label{class_t_project_manager_a375e64625585562656747b8a54a71132}} 
\index{TProjectManager@{TProjectManager}!getCurrentProjectRoot@{getCurrentProjectRoot}}
\index{getCurrentProjectRoot@{getCurrentProjectRoot}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{getCurrentProjectRoot()}{getCurrentProjectRoot()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+Manager\+::get\+Current\+Project\+Root (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

returns the project root of the current project (if this fails, then returns the first project root) 
\begin{DoxyCode}{0}
\DoxyCodeLine{00814                                                  \{}
\DoxyCodeLine{00815   \mbox{\hyperlink{class_t_file_path}{TFilePath}} currentProjectPath = \mbox{\hyperlink{class_t_project_manager_a79e8b9ec6435b27c64f0fd853832b102}{getCurrentProjectPath}}();}
\DoxyCodeLine{00816   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00817   \textcolor{keywordflow}{for} (i = 0; i < (int)m\_projectsRoots.size(); i++)}
\DoxyCodeLine{00818     \textcolor{keywordflow}{if} (m\_projectsRoots[i].isAncestorOf(currentProjectPath))}
\DoxyCodeLine{00819       \textcolor{keywordflow}{return} m\_projectsRoots[i];}
\DoxyCodeLine{00820   \textcolor{keywordflow}{for} (i = 0; i < (int)m\_svnProjectsRoots.size(); i++)}
\DoxyCodeLine{00821     \textcolor{keywordflow}{if} (m\_svnProjectsRoots[i].isAncestorOf(currentProjectPath))}
\DoxyCodeLine{00822       \textcolor{keywordflow}{return} m\_svnProjectsRoots[i];}
\DoxyCodeLine{00823   \textcolor{keywordflow}{if} (m\_projectsRoots.empty())}
\DoxyCodeLine{00824     addDefaultProjectsRoot();  \textcolor{comment}{// shouldn't be necessary}}
\DoxyCodeLine{00825   \textcolor{keywordflow}{return} m\_projectsRoots[0];}
\DoxyCodeLine{00826 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00971}{get\+Current\+Project\+Path()}}.

\mbox{\Hypertarget{class_t_project_manager_a3ab1f7a196f7be9fd13640cfa21554b6}\label{class_t_project_manager_a3ab1f7a196f7be9fd13640cfa21554b6}} 
\index{TProjectManager@{TProjectManager}!getFolderNames@{getFolderNames}}
\index{getFolderNames@{getFolderNames}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{getFolderNames()}{getFolderNames()}}
{\footnotesize\ttfamily void TProject\+Manager\+::get\+Folder\+Names (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::string $>$ \&}]{names }\end{DoxyParamCaption})}

Gets all project folder names and put them in the passed vector {\bfseries{names}}. \begin{DoxyNote}{Note}
All previous data contained in {\bfseries{names}} are lost. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00924                                                                 \{}
\DoxyCodeLine{00925   names.clear();}
\DoxyCodeLine{00926   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = ToonzFolder::getProfileFolder() + \textcolor{stringliteral}{"{}project\_folders.txt"{}};}
\DoxyCodeLine{00927   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00928     \mbox{\hyperlink{class_tifstream}{Tifstream}} is(fp);}
\DoxyCodeLine{00929     \textcolor{keywordflow}{if} (is)}
\DoxyCodeLine{00930       \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{00931         \textcolor{keywordtype}{char} buffer[1024];}
\DoxyCodeLine{00932         is.getline(buffer, \textcolor{keyword}{sizeof}(buffer));}
\DoxyCodeLine{00933         \textcolor{keywordflow}{if} (is.eof()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00934         \textcolor{keywordtype}{char} *s = buffer;}
\DoxyCodeLine{00935         \textcolor{keywordflow}{while} (*s == \textcolor{charliteral}{' '} || *s == \textcolor{charliteral}{'\(\backslash\)t'}) s++;  \textcolor{comment}{// skips blanks}}
\DoxyCodeLine{00936         \textcolor{keywordtype}{char} *t = s;}
\DoxyCodeLine{00937         \textcolor{keywordflow}{while} (*t \&\& *t != \textcolor{charliteral}{'\(\backslash\)r'} \&\& *t != \textcolor{charliteral}{'\(\backslash\)n'}) t++;  \textcolor{comment}{// reads up to end of line}}
\DoxyCodeLine{00938         \textcolor{keywordflow}{while} (t > s \&\& (t[-\/1] == \textcolor{charliteral}{' '} || t[-\/1] == \textcolor{charliteral}{'\(\backslash\)t'}))}
\DoxyCodeLine{00939           t-\/-\/;  \textcolor{comment}{// remove trailing blanks}}
\DoxyCodeLine{00940         t[0] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00941         \textcolor{keywordflow}{if} (s[0]) names.push\_back(\textcolor{keywordtype}{string}(s));}
\DoxyCodeLine{00942       \}}
\DoxyCodeLine{00943   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00944   \}}
\DoxyCodeLine{00945   \textcolor{keyword}{const} std::string stdNames[] = \{\mbox{\hyperlink{class_t_project_aa7a1a54d2e59c7c712cd260e0471b34c}{TProject::Inputs}},  \mbox{\hyperlink{class_t_project_a192daa44228264ac90d27f6d6491ac38}{TProject::Drawings}},}
\DoxyCodeLine{00946                                   \mbox{\hyperlink{class_t_project_afa1aca692a03ae826a4d22565c7361cb}{TProject::Scenes}},  \mbox{\hyperlink{class_t_project_a78253a5cc9abd6373bfc51b560c5fce5}{TProject::Extras}},}
\DoxyCodeLine{00947                                   \mbox{\hyperlink{class_t_project_a24ca66c3d958d13d653b65c87f0c3b2d}{TProject::Outputs}}, \mbox{\hyperlink{class_t_project_abdf1068b5219720247d9f7cc9a568559}{TProject::Scripts}}\};}
\DoxyCodeLine{00948   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \textcolor{keyword}{const} \&name : stdNames) \{}
\DoxyCodeLine{00949     \textcolor{comment}{// se il nome non e' gia' stato inserito lo aggiungo}}
\DoxyCodeLine{00950     \textcolor{keywordflow}{if} (std::find(names.begin(), names.end(), name) == names.end())}
\DoxyCodeLine{00951       names.push\_back(name);}
\DoxyCodeLine{00952   \}}
\DoxyCodeLine{00953 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00036}{TProject\+::\+Drawings}}, \mbox{\hyperlink{l00038}{TProject\+::\+Extras}}, \mbox{\hyperlink{l00035}{TProject\+::\+Inputs}}, \mbox{\hyperlink{l00039}{TProject\+::\+Outputs}}, \mbox{\hyperlink{l00037}{TProject\+::\+Scenes}}, and \mbox{\hyperlink{l00040}{TProject\+::\+Scripts}}.



Referenced by \mbox{\hyperlink{l01157}{create\+Standard\+Project()}}, and \mbox{\hyperlink{l00524}{TProject\+::save()}}.

\mbox{\Hypertarget{class_t_project_manager_a14225d1945b95c131fd01a724dbcda93}\label{class_t_project_manager_a14225d1945b95c131fd01a724dbcda93}} 
\index{TProjectManager@{TProjectManager}!getProjectPathByName@{getProjectPathByName}}
\index{getProjectPathByName@{getProjectPathByName}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{getProjectPathByName()}{getProjectPathByName()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+Manager\+::get\+Project\+Path\+By\+Name (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{project\+Name }\end{DoxyParamCaption})}

Returns the absolute path of the specified {\bfseries{project\+Name}} only if the project already exist.~\newline
 Returns \mbox{\hyperlink{class_t_file_path}{TFile\+Path()}} if a project with the specified {\bfseries{project\+Name}} doesn\textquotesingle{}t exist.~\newline
 \begin{DoxyNote}{Note}
{\bfseries{project\+Name}} must be a relative path. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00888                                                                             \{}
\DoxyCodeLine{00889   assert(!\mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{TProject::isAProjectPath}}(projectName));}
\DoxyCodeLine{00890   assert(!projectName.isAbsolute());}
\DoxyCodeLine{00891   \textcolor{comment}{// TFilePath relativeProjectPath = projectName + (projectName.getName() +}}
\DoxyCodeLine{00892   \textcolor{comment}{// projectPathSuffix);}}
\DoxyCodeLine{00893   \textcolor{keywordflow}{if} (m\_projectsRoots.empty()) addDefaultProjectsRoot();}
\DoxyCodeLine{00894   \textcolor{keywordflow}{if} (projectName == \mbox{\hyperlink{class_t_project_a3fc8cb5307b3a6dabc30d14fbd2dade4}{TProject::SandboxProjectName}})}
\DoxyCodeLine{00895     \textcolor{keywordflow}{return} searchProjectPath(TEnv::getStuffDir() + projectName);}
\DoxyCodeLine{00896   \textcolor{keywordtype}{int} i, n = (int)m\_projectsRoots.size();}
\DoxyCodeLine{00897   \textcolor{keywordflow}{for} (i = 0; i < n; i++) \{}
\DoxyCodeLine{00898     \mbox{\hyperlink{class_t_file_path}{TFilePath}} projectPath = searchProjectPath(m\_projectsRoots[i] + projectName);}
\DoxyCodeLine{00899     assert(\mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{TProject::isAProjectPath}}(projectPath));}
\DoxyCodeLine{00900     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(projectPath).doesExist()) \textcolor{keywordflow}{return} projectPath;}
\DoxyCodeLine{00901   \}}
\DoxyCodeLine{00902   \textcolor{keywordflow}{for} (i = 0; i < (int)m\_svnProjectsRoots.size(); i++) \{}
\DoxyCodeLine{00903     \mbox{\hyperlink{class_t_file_path}{TFilePath}} projectPath =}
\DoxyCodeLine{00904         searchProjectPath(m\_svnProjectsRoots[i] + projectName);}
\DoxyCodeLine{00905     assert(\mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{TProject::isAProjectPath}}(projectPath));}
\DoxyCodeLine{00906     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(projectPath).doesExist()) \textcolor{keywordflow}{return} projectPath;}
\DoxyCodeLine{00907   \}}
\DoxyCodeLine{00908   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path}{TFilePath}}();}
\DoxyCodeLine{00909 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00710}{TProject\+::is\+AProject\+Path()}}, and \mbox{\hyperlink{l00043}{TProject\+::\+Sandbox\+Project\+Name}}.



Referenced by \mbox{\hyperlink{l00676}{Export\+Scene\+Popup\+::create\+New\+Project()}}, \mbox{\hyperlink{l00971}{get\+Current\+Project\+Path()}}, \mbox{\hyperlink{l01172}{get\+Sandbox\+Project\+Path()}}, and \mbox{\hyperlink{l01015}{load\+Scene\+Project()}}.

\mbox{\Hypertarget{class_t_project_manager_a9b01751ea488c4144e9243ffe3d27e71}\label{class_t_project_manager_a9b01751ea488c4144e9243ffe3d27e71}} 
\index{TProjectManager@{TProjectManager}!getProjectPathByProjectFolder@{getProjectPathByProjectFolder}}
\index{getProjectPathByProjectFolder@{getProjectPathByProjectFolder}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{getProjectPathByProjectFolder()}{getProjectPathByProjectFolder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+Manager\+::get\+Project\+Path\+By\+Project\+Folder (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{project\+Folder }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00914                                     \{}
\DoxyCodeLine{00915   assert(projectFolder.isAbsolute());}
\DoxyCodeLine{00916   \mbox{\hyperlink{class_t_file_path}{TFilePath}} projectPath = searchProjectPath(projectFolder);}
\DoxyCodeLine{00917   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_project_manager_ae4e369cfaa32798f62507d476c6dd5b9}{projectPathToProjectName}}(projectPath);}
\DoxyCodeLine{00918 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_abf704ac678a64a8344f4283aea9c71ad}\label{class_t_project_manager_abf704ac678a64a8344f4283aea9c71ad}} 
\index{TProjectManager@{TProjectManager}!getProjectRoots@{getProjectRoots}}
\index{getProjectRoots@{getProjectRoots}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{getProjectRoots()}{getProjectRoots()}}
{\footnotesize\ttfamily void TProject\+Manager\+::get\+Project\+Roots (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} $>$ \&}]{project\+Roots }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00174                                                                  \{}
\DoxyCodeLine{00175     projectRoots = m\_projectsRoots;}
\DoxyCodeLine{00176   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_a0d1225a791e21a77b9c7aba42146a122}\label{class_t_project_manager_a0d1225a791e21a77b9c7aba42146a122}} 
\index{TProjectManager@{TProjectManager}!getSandboxProjectFolder@{getSandboxProjectFolder}}
\index{getSandboxProjectFolder@{getSandboxProjectFolder}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{getSandboxProjectFolder()}{getSandboxProjectFolder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+Manager\+::get\+Sandbox\+Project\+Folder (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Return the absolute path of the standard folder \char`\"{}sandbox\char`\"{}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01168                                                    \{}
\DoxyCodeLine{01169   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_project_manager_aab8826fc40187995c787e70d43d66395}{getSandboxProjectPath}}().\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{01170 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}, and \mbox{\hyperlink{l01172}{get\+Sandbox\+Project\+Path()}}.

\mbox{\Hypertarget{class_t_project_manager_aab8826fc40187995c787e70d43d66395}\label{class_t_project_manager_aab8826fc40187995c787e70d43d66395}} 
\index{TProjectManager@{TProjectManager}!getSandboxProjectPath@{getSandboxProjectPath}}
\index{getSandboxProjectPath@{getSandboxProjectPath}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{getSandboxProjectPath()}{getSandboxProjectPath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+Manager\+::get\+Sandbox\+Project\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Return the absolute path of the standard project \char`\"{}sandbox\+\_\+prj6.\+xml\char`\"{} file. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01172                                                  \{}
\DoxyCodeLine{01173   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_project_manager_a14225d1945b95c131fd01a724dbcda93}{getProjectPathByName}}(\mbox{\hyperlink{class_t_project_a3fc8cb5307b3a6dabc30d14fbd2dade4}{TProject::SandboxProjectName}});}
\DoxyCodeLine{01174 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00888}{get\+Project\+Path\+By\+Name()}}, and \mbox{\hyperlink{l00043}{TProject\+::\+Sandbox\+Project\+Name}}.



Referenced by \mbox{\hyperlink{l01141}{create\+Sandbox\+If\+Needed()}}, \mbox{\hyperlink{l01168}{get\+Sandbox\+Project\+Folder()}}, and \mbox{\hyperlink{l01015}{load\+Scene\+Project()}}.

\mbox{\Hypertarget{class_t_project_manager_a930e00976b60a69ae1708bfd08ebf038}\label{class_t_project_manager_a930e00976b60a69ae1708bfd08ebf038}} 
\index{TProjectManager@{TProjectManager}!initializeScene@{initializeScene}}
\index{initializeScene@{initializeScene}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{initializeScene()}{initializeScene()}}
{\footnotesize\ttfamily void TProject\+Manager\+::initialize\+Scene (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}

Initializes the specified {\bfseries{scene}} using the \mbox{\hyperlink{class_t_scene_properties}{TScene\+Properties}} of the current project.~\newline
 \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_scene_properties}{TScene\+Properties}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01106                                                        \{}
\DoxyCodeLine{01107   \mbox{\hyperlink{class_t_project}{TProject}} *project       = scene-\/>\mbox{\hyperlink{class_toonz_scene_afec1477d4fe0bb1e1152e80c3a0b20ab}{getProject}}();}
\DoxyCodeLine{01108   \mbox{\hyperlink{class_t_scene_properties}{TSceneProperties}} *sprop = scene-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}();}
\DoxyCodeLine{01109 }
\DoxyCodeLine{01110   \mbox{\hyperlink{class_t_file_path}{TFilePath}} currentProjectPath = \mbox{\hyperlink{class_t_project_manager_a79e8b9ec6435b27c64f0fd853832b102}{getCurrentProjectPath}}();}
\DoxyCodeLine{01111   project-\/>\mbox{\hyperlink{class_t_project_a16c5f69fb661a7c4202d42d991ff15be}{load}}(currentProjectPath);}
\DoxyCodeLine{01112 }
\DoxyCodeLine{01113   sprop-\/>\mbox{\hyperlink{class_t_scene_properties_a27e5b33b64f5f268ff0a31b81b4e3d16}{assign}}(\&project-\/>\mbox{\hyperlink{class_t_project_aae72fd8f21f5376dcdab76ec75ecc7b0}{getSceneProperties}}());}
\DoxyCodeLine{01114   CleanupParameters::GlobalParameters.assign(}
\DoxyCodeLine{01115       project-\/>\mbox{\hyperlink{class_t_project_aae72fd8f21f5376dcdab76ec75ecc7b0}{getSceneProperties}}().\mbox{\hyperlink{class_t_scene_properties_a84e6735bb0b0ea5054b9592c9612aff9}{getCleanupParameters}}());}
\DoxyCodeLine{01116 }
\DoxyCodeLine{01117   \textcolor{comment}{// scene-\/>setProject(this);}}
\DoxyCodeLine{01118   scene-\/>\mbox{\hyperlink{class_toonz_scene_ad5e0cf52431bcf95e54faa416f0fc21d}{setUntitled}}();}
\DoxyCodeLine{01119   sprop-\/>\mbox{\hyperlink{class_t_scene_properties_ab7c40fadf71826d7774df4cadb28f991}{cloneCamerasTo}}(scene-\/>\mbox{\hyperlink{class_toonz_scene_aaffd562eebbd8faba4caeaed69bfcc18}{getTopXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}());}
\DoxyCodeLine{01120   sprop-\/>\mbox{\hyperlink{class_t_scene_properties_ae1556d83a08be6c544299c080c7864fc}{onInitialize}}();}
\DoxyCodeLine{01121   \textcolor{comment}{// scene-\/>save(scene-\/>getScenePath());}}
\DoxyCodeLine{01122 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00089}{TScene\+Properties\+::assign()}}, \mbox{\hyperlink{l00779}{TScene\+Properties\+::clone\+Cameras\+To()}}, \mbox{\hyperlink{l00159}{TScene\+Properties\+::get\+Cleanup\+Parameters()}}, \mbox{\hyperlink{l00971}{get\+Current\+Project\+Path()}}, \mbox{\hyperlink{l00334}{Toonz\+Scene\+::get\+Project()}}, \mbox{\hyperlink{l00087}{Toonz\+Scene\+::get\+Properties()}}, \mbox{\hyperlink{l00072}{TProject\+::get\+Scene\+Properties()}}, \mbox{\hyperlink{l00549}{TXsheet\+::get\+Stage\+Object\+Tree()}}, \mbox{\hyperlink{l00961}{Toonz\+Scene\+::get\+Top\+Xsheet()}}, \mbox{\hyperlink{l00644}{TProject\+::load()}}, \mbox{\hyperlink{l00123}{TScene\+Properties\+::on\+Initialize()}}, and \mbox{\hyperlink{l00538}{Toonz\+Scene\+::set\+Untitled()}}.

\mbox{\Hypertarget{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}\label{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}} 
\index{TProjectManager@{TProjectManager}!instance@{instance}}
\index{instance@{instance}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{instance()}{instance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_project_manager}{TProject\+Manager}} $\ast$ TProject\+Manager\+::instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Returns the instance to the \mbox{\hyperlink{class_t_project_manager}{TProject\+Manager}}.~\newline
 If an instance doesn\textquotesingle{}t exist, creates one. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00777                                            \{}
\DoxyCodeLine{00778   \textcolor{keyword}{static} \mbox{\hyperlink{class_t_project_manager}{TProjectManager}} \_instance;}
\DoxyCodeLine{00779   \textcolor{keywordflow}{return} \&\_instance;}
\DoxyCodeLine{00780 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00864}{Toonz\+Scene\+::create\+New\+Level()}}, \mbox{\hyperlink{l00676}{Export\+Scene\+Popup\+::create\+New\+Project()}}, \mbox{\hyperlink{l01231}{Toonz\+Scene\+::decode\+File\+Path()}}, \mbox{\hyperlink{l00412}{TProject\+::is\+Current()}}, \mbox{\hyperlink{l00644}{TProject\+::load()}}, \mbox{\hyperlink{l00394}{Toonz\+Scene\+::load\+No\+Resources()}}, and \mbox{\hyperlink{l00524}{TProject\+::save()}}.

\mbox{\Hypertarget{class_t_project_manager_a11546df5d2eab40bbb33d67f293beb56}\label{class_t_project_manager_a11546df5d2eab40bbb33d67f293beb56}} 
\index{TProjectManager@{TProjectManager}!isProject@{isProject}}
\index{isProject@{isProject}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{isProject()}{isProject()}}
{\footnotesize\ttfamily bool TProject\+Manager\+::is\+Project (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{project\+Folder }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01176                                                               \{}
\DoxyCodeLine{01177   \mbox{\hyperlink{class_t_file_path}{TFilePath}} projectPath = \mbox{\hyperlink{class_t_project_manager_a29ae519b44c77674d68c993b7652a896}{projectFolderToProjectPath}}(projectFolder);}
\DoxyCodeLine{01178   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_status}{TFileStatus}}(projectPath).doesExist();}
\DoxyCodeLine{01179 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_a4853a51e2c1fdd19b3572fd559aecbf7}\label{class_t_project_manager_a4853a51e2c1fdd19b3572fd559aecbf7}} 
\index{TProjectManager@{TProjectManager}!isTabKidsModeEnabled@{isTabKidsModeEnabled}}
\index{isTabKidsModeEnabled@{isTabKidsModeEnabled}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{isTabKidsModeEnabled()}{isTabKidsModeEnabled()}}
{\footnotesize\ttfamily bool TProject\+Manager\+::is\+Tab\+Kids\+Mode\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00165 \{ \textcolor{keywordflow}{return} m\_tabKidsMode; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_a810760ee9da9f48f98eb4eb2e0e31d2a}\label{class_t_project_manager_a810760ee9da9f48f98eb4eb2e0e31d2a}} 
\index{TProjectManager@{TProjectManager}!isTabModeEnabled@{isTabModeEnabled}}
\index{isTabModeEnabled@{isTabModeEnabled}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{isTabModeEnabled()}{isTabModeEnabled()}}
{\footnotesize\ttfamily bool TProject\+Manager\+::is\+Tab\+Mode\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the tab mode. \begin{DoxyNote}{Note}
the tab mode is used for Tab \mbox{\hyperlink{class_application}{Application}} 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00168 \{ \textcolor{keywordflow}{return} m\_tabMode; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_adcc7fc8cb7656b12f54b773ee6448735}\label{class_t_project_manager_adcc7fc8cb7656b12f54b773ee6448735}} 
\index{TProjectManager@{TProjectManager}!loadSceneProject@{loadSceneProject}}
\index{loadSceneProject@{loadSceneProject}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{loadSceneProject()}{loadSceneProject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TProjectP}} TProject\+Manager\+::load\+Scene\+Project (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{scene\+Path }\end{DoxyParamCaption})}

Returns the TProjectP in which the specified {\bfseries{scene\+Path}} is saved.~\newline
 Returns 0 if {\bfseries{scene\+Path}} isn\textquotesingle{}t a valid scene, or isn\textquotesingle{}t saved in a valid folder of a project root. \begin{DoxyNote}{Note}
{\bfseries{scene\+Path}} must be an absolute path.~\newline
 Creates a new \mbox{\hyperlink{class_t_project}{TProject}}. The caller gets ownership. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01015                                                                       \{}
\DoxyCodeLine{01016   \textcolor{comment}{// cerca il file scenes.xml nella stessa directory della scena}}
\DoxyCodeLine{01017   \textcolor{comment}{// oppure in una}}
\DoxyCodeLine{01018   \textcolor{comment}{// directory superiore}}
\DoxyCodeLine{01019 }
\DoxyCodeLine{01020   \mbox{\hyperlink{class_t_file_path}{TFilePath}} folder = scenePath.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{01021   \mbox{\hyperlink{class_t_file_path}{TFilePath}} sceneDesc;}
\DoxyCodeLine{01022   \textcolor{keywordtype}{bool} found = \textcolor{keyword}{true};}
\DoxyCodeLine{01023   \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{01024     sceneDesc = folder + \textcolor{stringliteral}{"{}scenes.xml"{}};}
\DoxyCodeLine{01025     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(sceneDesc).doesExist()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01026     \textcolor{keywordflow}{if} (folder.isRoot()) \{}
\DoxyCodeLine{01027       found = \textcolor{keyword}{false};}
\DoxyCodeLine{01028       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01029     \}}
\DoxyCodeLine{01030     folder = folder.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{01031   \}}
\DoxyCodeLine{01032 }
\DoxyCodeLine{01033   \textcolor{comment}{// legge il path (o il nome) del progetto}}
\DoxyCodeLine{01034   \mbox{\hyperlink{class_t_file_path}{TFilePath}} projectPath;}
\DoxyCodeLine{01035   \textcolor{keywordflow}{if} (found) \{}
\DoxyCodeLine{01036     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01037       \mbox{\hyperlink{class_t_i_stream}{TIStream}} is(sceneDesc);}
\DoxyCodeLine{01038       \textcolor{keywordtype}{string} tagName;}
\DoxyCodeLine{01039       is.matchTag(tagName);}
\DoxyCodeLine{01040       \textcolor{keywordtype}{string} type = is.getTagAttribute(\textcolor{stringliteral}{"{}type"{}});}
\DoxyCodeLine{01041       \mbox{\hyperlink{class_t_file_path}{TFilePath}} projectFolderPath;}
\DoxyCodeLine{01042       is >> projectFolderPath;}
\DoxyCodeLine{01043       \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{01044         projectFolderPath = \mbox{\hyperlink{class_t_file_path}{TFilePath}}(\textcolor{stringliteral}{"{}.."{}});}
\DoxyCodeLine{01045       \}}
\DoxyCodeLine{01046       is.matchEndTag();}
\DoxyCodeLine{01047       projectPath = makeAbsolute(folder, projectFolderPath);}
\DoxyCodeLine{01048 }
\DoxyCodeLine{01049       \mbox{\hyperlink{class_t_file_path}{TFilePath}} path = getProjectFile(projectPath);}
\DoxyCodeLine{01050 }
\DoxyCodeLine{01051       projectPath = path;}
\DoxyCodeLine{01052 }
\DoxyCodeLine{01053     \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{01054     \}}
\DoxyCodeLine{01055     \textcolor{keywordflow}{if} (projectPath == \mbox{\hyperlink{class_t_file_path}{TFilePath}}()) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01056   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01057     projectPath = \mbox{\hyperlink{class_t_project_manager_aab8826fc40187995c787e70d43d66395}{getSandboxProjectPath}}();}
\DoxyCodeLine{01058 }
\DoxyCodeLine{01059   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{TProject::isAProjectPath}}(projectPath)) \{}
\DoxyCodeLine{01060     \textcolor{comment}{// in Toonz 5.1 e precedenti era un project name}}
\DoxyCodeLine{01061     \textcolor{keywordflow}{if} (!projectPath.isAbsolute())}
\DoxyCodeLine{01062       projectPath = \mbox{\hyperlink{class_t_project_manager_a14225d1945b95c131fd01a724dbcda93}{getProjectPathByName}}(projectPath);}
\DoxyCodeLine{01063     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01064       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01065   \}}
\DoxyCodeLine{01066   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(projectPath).doesExist()) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01067 }
\DoxyCodeLine{01068   \mbox{\hyperlink{class_t_project}{TProject}} *project = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_project}{TProject}}();}
\DoxyCodeLine{01069   project-\/>\mbox{\hyperlink{class_t_project_a16c5f69fb661a7c4202d42d991ff15be}{load}}(projectPath);}
\DoxyCodeLine{01070   \textcolor{keywordflow}{return} project;}
\DoxyCodeLine{01071 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}, \mbox{\hyperlink{l00888}{get\+Project\+Path\+By\+Name()}}, \mbox{\hyperlink{l01172}{get\+Sandbox\+Project\+Path()}}, \mbox{\hyperlink{l01190}{TIStream\+::get\+Tag\+Attribute()}}, \mbox{\hyperlink{l00710}{TProject\+::is\+AProject\+Path()}}, \mbox{\hyperlink{l00644}{TProject\+::load()}}, \mbox{\hyperlink{l01156}{TIStream\+::match\+End\+Tag()}}, and \mbox{\hyperlink{l01178}{TIStream\+::match\+Tag()}}.



Referenced by \mbox{\hyperlink{l00394}{Toonz\+Scene\+::load\+No\+Resources()}}.

\mbox{\Hypertarget{class_t_project_manager_a20e69ba4a0befcef7e0039fcc20adace}\label{class_t_project_manager_a20e69ba4a0befcef7e0039fcc20adace}} 
\index{TProjectManager@{TProjectManager}!notifyProjectChanged@{notifyProjectChanged}}
\index{notifyProjectChanged@{notifyProjectChanged}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{notifyProjectChanged()}{notifyProjectChanged()}}
{\footnotesize\ttfamily void TProject\+Manager\+::notify\+Project\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01083                                            \{}
\DoxyCodeLine{01084   \textcolor{keywordflow}{for} (std::set<Listener *>::iterator i = m\_listeners.begin();}
\DoxyCodeLine{01085        i != m\_listeners.end(); ++i)}
\DoxyCodeLine{01086     (*i)-\/>onProjectChanged();}
\DoxyCodeLine{01087 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_a29ae519b44c77674d68c993b7652a896}\label{class_t_project_manager_a29ae519b44c77674d68c993b7652a896}} 
\index{TProjectManager@{TProjectManager}!projectFolderToProjectPath@{projectFolderToProjectPath}}
\index{projectFolderToProjectPath@{projectFolderToProjectPath}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{projectFolderToProjectPath()}{projectFolderToProjectPath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+Manager\+::project\+Folder\+To\+Project\+Path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{project\+Folder }\end{DoxyParamCaption})}

Returns the absolute path of the project file respect to the specified {\bfseries{project\+Folder}}.~\newline
 \begin{DoxyNote}{Note}
{\bfseries{project\+Name}} must be an absolute path. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00877                                     \{}
\DoxyCodeLine{00878   assert(projectFolder.isAbsolute());}
\DoxyCodeLine{00879   \textcolor{keywordflow}{return} searchProjectPath(projectFolder);}
\DoxyCodeLine{00880 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00676}{Export\+Scene\+Popup\+::create\+New\+Project()}}.

\mbox{\Hypertarget{class_t_project_manager_ae9501782aee01b3c1033f7e021f74be6}\label{class_t_project_manager_ae9501782aee01b3c1033f7e021f74be6}} 
\index{TProjectManager@{TProjectManager}!projectNameToProjectPath@{projectNameToProjectPath}}
\index{projectNameToProjectPath@{projectNameToProjectPath}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{projectNameToProjectPath()}{projectNameToProjectPath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+Manager\+::project\+Name\+To\+Project\+Path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{project\+Name }\end{DoxyParamCaption})}

Returns an absolute path of the specified {\bfseries{project\+Name}}.~\newline
 \begin{DoxyNote}{Note}
The returned project path is always computed used the first project root in the container. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00863                                   \{}
\DoxyCodeLine{00864   assert(!\mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{TProject::isAProjectPath}}(projectName));}
\DoxyCodeLine{00865   assert(!projectName.isAbsolute());}
\DoxyCodeLine{00866   \textcolor{keywordflow}{if} (m\_projectsRoots.empty()) addDefaultProjectsRoot();}
\DoxyCodeLine{00867   \textcolor{keywordflow}{if} (projectName == \mbox{\hyperlink{class_t_project_a3fc8cb5307b3a6dabc30d14fbd2dade4}{TProject::SandboxProjectName}})}
\DoxyCodeLine{00868     \textcolor{keywordflow}{return} searchProjectPath(TEnv::getStuffDir() + projectName);}
\DoxyCodeLine{00869   \textcolor{keywordflow}{return} searchProjectPath(m\_projectsRoots[0] + projectName);}
\DoxyCodeLine{00870 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00710}{TProject\+::is\+AProject\+Path()}}, and \mbox{\hyperlink{l00043}{TProject\+::\+Sandbox\+Project\+Name}}.



Referenced by \mbox{\hyperlink{l00971}{get\+Current\+Project\+Path()}}.

\mbox{\Hypertarget{class_t_project_manager_ae4e369cfaa32798f62507d476c6dd5b9}\label{class_t_project_manager_ae4e369cfaa32798f62507d476c6dd5b9}} 
\index{TProjectManager@{TProjectManager}!projectPathToProjectName@{projectPathToProjectName}}
\index{projectPathToProjectName@{projectPathToProjectName}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{projectPathToProjectName()}{projectPathToProjectName()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+Manager\+::project\+Path\+To\+Project\+Name (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{project\+Path }\end{DoxyParamCaption})}

Returns the name of the specified {\bfseries{project\+Path}}. \begin{DoxyNote}{Note}
project\+Path must be an absolute path. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00833                                   \{}
\DoxyCodeLine{00834   assert(projectPath.isAbsolute());}
\DoxyCodeLine{00835   \mbox{\hyperlink{class_t_file_path}{TFilePath}} projectFolder = projectPath.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{00836   \textcolor{keywordflow}{if} (m\_projectsRoots.empty()) addDefaultProjectsRoot();}
\DoxyCodeLine{00837 }
\DoxyCodeLine{00838   std::wstring fpName = projectPath.getWideName();}
\DoxyCodeLine{00839   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < prjSuffixCount; ++i) \{}
\DoxyCodeLine{00840     \textcolor{comment}{//    std::wstring::size\_type const i = fpName.find(prjSuffix[i]);}}
\DoxyCodeLine{00841     \textcolor{keywordflow}{if} (fpName.find(prjSuffix[i]) != std::wstring::npos)}
\DoxyCodeLine{00842       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path}{TFilePath}}(fpName.substr(0, fpName.find(prjSuffix[i])));}
\DoxyCodeLine{00843   \}}
\DoxyCodeLine{00844 }
\DoxyCodeLine{00845   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00846   \textcolor{keywordflow}{for} (i = 0; i < (int)m\_projectsRoots.size(); i++) \{}
\DoxyCodeLine{00847     \textcolor{keywordflow}{if} (m\_projectsRoots[i].isAncestorOf(projectFolder))}
\DoxyCodeLine{00848       \textcolor{keywordflow}{return} projectFolder -\/ m\_projectsRoots[i];}
\DoxyCodeLine{00849   \}}
\DoxyCodeLine{00850   \textcolor{keywordflow}{for} (i = 0; i < (int)m\_svnProjectsRoots.size(); i++) \{}
\DoxyCodeLine{00851     \textcolor{keywordflow}{if} (m\_svnProjectsRoots[i].isAncestorOf(projectFolder))}
\DoxyCodeLine{00852       \textcolor{keywordflow}{return} projectFolder -\/ m\_svnProjectsRoots[i];}
\DoxyCodeLine{00853   \}}
\DoxyCodeLine{00854   \textcolor{comment}{// non dovrei mai arrivare qui: il progetto non sta sotto un project root}}
\DoxyCodeLine{00855   \textcolor{keywordflow}{return} projectFolder.\mbox{\hyperlink{class_t_file_path_ac17d65d827432f0fae28fed699bf4afa}{withoutParentDir}}();}
\DoxyCodeLine{00856 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}, and \mbox{\hyperlink{l00264}{TFile\+Path\+::without\+Parent\+Dir()}}.



Referenced by \mbox{\hyperlink{l00644}{TProject\+::load()}}, and \mbox{\hyperlink{l00524}{TProject\+::save()}}.

\mbox{\Hypertarget{class_t_project_manager_a7c0ef3494d8d92d120e7528a537120c7}\label{class_t_project_manager_a7c0ef3494d8d92d120e7528a537120c7}} 
\index{TProjectManager@{TProjectManager}!removeListener@{removeListener}}
\index{removeListener@{removeListener}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{removeListener()}{removeListener()}}
{\footnotesize\ttfamily void TProject\+Manager\+::remove\+Listener (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_project_manager_1_1_listener}{Listener}} $\ast$}]{listener }\end{DoxyParamCaption})}

Removes {\bfseries{listener}} from the listeners container. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01097                                                        \{}
\DoxyCodeLine{01098   m\_listeners.erase(listener);}
\DoxyCodeLine{01099 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_manager_a52f8d70440a4a3c0369a1f807cf3e2a5}\label{class_t_project_manager_a52f8d70440a4a3c0369a1f807cf3e2a5}} 
\index{TProjectManager@{TProjectManager}!saveTemplate@{saveTemplate}}
\index{saveTemplate@{saveTemplate}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{saveTemplate()}{saveTemplate()}}
{\footnotesize\ttfamily void TProject\+Manager\+::save\+Template (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}

Saves the \mbox{\hyperlink{class_t_scene_properties}{TScene\+Properties}} of the specified scene in the current project. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01126                                                     \{}
\DoxyCodeLine{01127   \mbox{\hyperlink{class_t_scene_properties}{TSceneProperties}} props;}
\DoxyCodeLine{01128   props.\mbox{\hyperlink{class_t_scene_properties_a27e5b33b64f5f268ff0a31b81b4e3d16}{assign}}(scene-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}());}
\DoxyCodeLine{01129   props.\mbox{\hyperlink{class_t_scene_properties_a633db751142b1ed4c968d685b5baea1f}{cloneCamerasFrom}}(scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}());}
\DoxyCodeLine{01130 }
\DoxyCodeLine{01131   \textcolor{comment}{// camera capture's "{}save in"{} path is saved in env, not in the project}}
\DoxyCodeLine{01132   props.setCameraCaptureSaveInPath(\mbox{\hyperlink{class_t_file_path}{TFilePath}}());}
\DoxyCodeLine{01133 }
\DoxyCodeLine{01134   \mbox{\hyperlink{class_t_smart_pointer_t}{TProjectP}} currentProject = \mbox{\hyperlink{class_t_project_manager_a5267cfeae48d4e7585c3fc56d8d5b0b3}{getCurrentProject}}();}
\DoxyCodeLine{01135   currentProject-\/>setSceneProperties(props);}
\DoxyCodeLine{01136   currentProject-\/>save();}
\DoxyCodeLine{01137 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00089}{TScene\+Properties\+::assign()}}, \mbox{\hyperlink{l00754}{TScene\+Properties\+::clone\+Cameras\+From()}}, \mbox{\hyperlink{l00993}{get\+Current\+Project()}}, \mbox{\hyperlink{l00087}{Toonz\+Scene\+::get\+Properties()}}, \mbox{\hyperlink{l00549}{TXsheet\+::get\+Stage\+Object\+Tree()}}, and \mbox{\hyperlink{l00957}{Toonz\+Scene\+::get\+Xsheet()}}.

\mbox{\Hypertarget{class_t_project_manager_aa55b362becc698e787db40c822f79bc3}\label{class_t_project_manager_aa55b362becc698e787db40c822f79bc3}} 
\index{TProjectManager@{TProjectManager}!setCurrentProjectPath@{setCurrentProjectPath}}
\index{setCurrentProjectPath@{setCurrentProjectPath}!TProjectManager@{TProjectManager}}
\doxysubsubsection{\texorpdfstring{setCurrentProjectPath()}{setCurrentProjectPath()}}
{\footnotesize\ttfamily void TProject\+Manager\+::set\+Current\+Project\+Path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})}

Set the the path {\bfseries{fp}} as current project path.~\newline
 {\bfseries{fp}} must be an absolute path. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00958                                                                \{}
\DoxyCodeLine{00959   assert(\mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{TProject::isAProjectPath}}(fp));}
\DoxyCodeLine{00960   currentProjectPath = ::to\_string(fp.getWideString());}
\DoxyCodeLine{00961   currentProject     = \mbox{\hyperlink{class_t_smart_pointer_t}{TProjectP}}();}
\DoxyCodeLine{00962   notifyListeners();}
\DoxyCodeLine{00963 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00710}{TProject\+::is\+AProject\+Path()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/tproject.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/tproject.\+cpp\end{DoxyCompactItemize}
