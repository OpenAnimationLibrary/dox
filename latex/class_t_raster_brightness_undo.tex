\hypertarget{class_t_raster_brightness_undo}{}\doxysection{TRaster\+Brightness\+Undo Class Reference}
\label{class_t_raster_brightness_undo}\index{TRasterBrightnessUndo@{TRasterBrightnessUndo}}
Inheritance diagram for TRaster\+Brightness\+Undo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_t_raster_brightness_undo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_raster_brightness_undo_a8121798e3ada5a7c47d9f910fb8e1009}{TRaster\+Brightness\+Undo}} (int brightness, int contrast, int r, int c, \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} ras)
\item 
void \mbox{\hyperlink{class_t_raster_brightness_undo_a6bffb7ad8432df368a418637f2ec21e4}{undo}} () const override
\item 
void \mbox{\hyperlink{class_t_raster_brightness_undo_a3be15d71e36f2a279039df32b9b2812b}{redo}} () const override
\item 
int \mbox{\hyperlink{class_t_raster_brightness_undo_a9f53a22ee011445a7d8e6943853316f1}{get\+Size}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_raster_brightness_undo_a8121798e3ada5a7c47d9f910fb8e1009}\label{class_t_raster_brightness_undo_a8121798e3ada5a7c47d9f910fb8e1009}} 
\index{TRasterBrightnessUndo@{TRasterBrightnessUndo}!TRasterBrightnessUndo@{TRasterBrightnessUndo}}
\index{TRasterBrightnessUndo@{TRasterBrightnessUndo}!TRasterBrightnessUndo@{TRasterBrightnessUndo}}
\doxysubsubsection{\texorpdfstring{TRasterBrightnessUndo()}{TRasterBrightnessUndo()}}
{\footnotesize\ttfamily TRaster\+Brightness\+Undo\+::\+TRaster\+Brightness\+Undo (\begin{DoxyParamCaption}\item[{int}]{brightness,  }\item[{int}]{contrast,  }\item[{int}]{r,  }\item[{int}]{c,  }\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}}}]{ras }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00414       : m\_r(r)}
\DoxyCodeLine{00415       , m\_c(c)}
\DoxyCodeLine{00416       , m\_rasId()}
\DoxyCodeLine{00417       , m\_brightness(brightness)}
\DoxyCodeLine{00418       , m\_contrast(contrast)}
\DoxyCodeLine{00419       , m\_rasSize(ras-\/>getLx() * ras-\/>getLy() * ras-\/>getPixelSize()) \{}
\DoxyCodeLine{00420     m\_rasId = QString(\textcolor{stringliteral}{"{}BrightnessUndo"{}}) + QString::number((uintptr\_t)\textcolor{keyword}{this});}
\DoxyCodeLine{00421     TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a124eae4cf370288f42c22b3477cb5163}{add}}(m\_rasId, \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}}(ras));}
\DoxyCodeLine{00422   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_raster_brightness_undo_a1d284cabdf6b6b8a484d5b22db1bf245}\label{class_t_raster_brightness_undo_a1d284cabdf6b6b8a484d5b22db1bf245}} 
\index{TRasterBrightnessUndo@{TRasterBrightnessUndo}!````~TRasterBrightnessUndo@{$\sim$TRasterBrightnessUndo}}
\index{````~TRasterBrightnessUndo@{$\sim$TRasterBrightnessUndo}!TRasterBrightnessUndo@{TRasterBrightnessUndo}}
\doxysubsubsection{\texorpdfstring{$\sim$TRasterBrightnessUndo()}{~TRasterBrightnessUndo()}}
{\footnotesize\ttfamily TRaster\+Brightness\+Undo\+::$\sim$\+TRaster\+Brightness\+Undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00424 \{ TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a57d63227dfe2532b0aed22c47113be66}{remove}}(m\_rasId); \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_raster_brightness_undo_a9f53a22ee011445a7d8e6943853316f1}\label{class_t_raster_brightness_undo_a9f53a22ee011445a7d8e6943853316f1}} 
\index{TRasterBrightnessUndo@{TRasterBrightnessUndo}!getSize@{getSize}}
\index{getSize@{getSize}!TRasterBrightnessUndo@{TRasterBrightnessUndo}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int TRaster\+Brightness\+Undo\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00465 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(*this) + m\_rasSize; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_raster_brightness_undo_a3be15d71e36f2a279039df32b9b2812b}\label{class_t_raster_brightness_undo_a3be15d71e36f2a279039df32b9b2812b}} 
\index{TRasterBrightnessUndo@{TRasterBrightnessUndo}!redo@{redo}}
\index{redo@{redo}!TRasterBrightnessUndo@{TRasterBrightnessUndo}}
\doxysubsubsection{\texorpdfstring{redo()}{redo()}}
{\footnotesize\ttfamily void TRaster\+Brightness\+Undo\+::redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00446                              \{}
\DoxyCodeLine{00447     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsheet        = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{00448     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell          = xsheet-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(m\_r, m\_c);}
\DoxyCodeLine{00449     \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} rasImage = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})cell.\mbox{\hyperlink{class_t_xsh_cell_a20b623d308bc09b820ec6b116516f564}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00450     \textcolor{keywordflow}{if} (!rasImage) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00451     \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} ras = rasImage-\/>getRaster();}
\DoxyCodeLine{00452     \textcolor{keywordflow}{if} (!ras) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00453 }
\DoxyCodeLine{00454     onChange(ras, m\_contrast, m\_brightness);}
\DoxyCodeLine{00455     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *simpleLevel = cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{00456     assert(simpleLevel);}
\DoxyCodeLine{00457     simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a3c20a8d11037048322d2035b0f286209}{touchFrame}}(cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{00458     simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00459     IconGenerator::instance()-\/>invalidate(simpleLevel, cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{00460     \textcolor{keywordflow}{if} (m\_isLastInBlock) \{}
\DoxyCodeLine{00461       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00462     \}}
\DoxyCodeLine{00463   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_raster_brightness_undo_a6bffb7ad8432df368a418637f2ec21e4}\label{class_t_raster_brightness_undo_a6bffb7ad8432df368a418637f2ec21e4}} 
\index{TRasterBrightnessUndo@{TRasterBrightnessUndo}!undo@{undo}}
\index{undo@{undo}!TRasterBrightnessUndo@{TRasterBrightnessUndo}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void TRaster\+Brightness\+Undo\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00426                              \{}
\DoxyCodeLine{00427     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsheet        = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{00428     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell          = xsheet-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(m\_r, m\_c);}
\DoxyCodeLine{00429     \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} rasImage = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})cell.\mbox{\hyperlink{class_t_xsh_cell_a20b623d308bc09b820ec6b116516f564}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00430     \textcolor{keywordflow}{if} (!rasImage) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00431     rasImage-\/>setRaster(}
\DoxyCodeLine{00432         ((\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})TImageCache::instance()-\/>get(m\_rasId, \textcolor{keyword}{true}))}
\DoxyCodeLine{00433             -\/>getRaster()}
\DoxyCodeLine{00434             -\/>clone());}
\DoxyCodeLine{00435     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *simpleLevel = cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{00436     assert(simpleLevel);}
\DoxyCodeLine{00437     simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a3c20a8d11037048322d2035b0f286209}{touchFrame}}(cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{00438     simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00439     IconGenerator::instance()-\/>invalidate(simpleLevel, cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{00440 }
\DoxyCodeLine{00441     \textcolor{keywordflow}{if} (m\_isLastInBlock) \{}
\DoxyCodeLine{00442       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00443     \}}
\DoxyCodeLine{00444   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/brightnessandcontrastpopup.\+cpp\end{DoxyCompactItemize}
