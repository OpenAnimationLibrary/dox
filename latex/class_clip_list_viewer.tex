\hypertarget{class_clip_list_viewer}{}\doxysection{Clip\+List\+Viewer Class Reference}
\label{class_clip_list_viewer}\index{ClipListViewer@{ClipListViewer}}
Inheritance diagram for Clip\+List\+Viewer\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_clip_list_viewer}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_clip_list_viewer_acc34ff825be25693e81f3a0bb3695340}{reset\+List}} ()
\item 
void \mbox{\hyperlink{class_clip_list_viewer_ab6a10b1dae3af07050cd22be72351bfc}{load\+Scene}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_clip_list_viewer_a4e33dbbc0a9b0e22116227c680587bdb}{Clip\+List\+Viewer}} (QWidget $\ast$parent=0)
\item 
\mbox{\hyperlink{class_render_controller}{Render\+Controller}} $\ast$ \mbox{\hyperlink{class_clip_list_viewer_a33adbe37940cb74534dd4a0cd531f302}{get\+Controller}} () const
\item 
void \mbox{\hyperlink{class_clip_list_viewer_abd149972ac10856e7a3979ba7de7c1d4}{remove\+Selected\+Clips}} ()
\item 
void \mbox{\hyperlink{class_clip_list_viewer_a6f6cf33e837eb85ca5b3dd8e54981b1e}{move\+Selected\+Clips}} (int dst\+Index)
\item 
void \mbox{\hyperlink{class_clip_list_viewer_aae186b477388c8694821d9b530880942}{get\+Selected\+Clips}} (std\+::vector$<$ \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} $>$ \&selected\+Clips)
\item 
int \mbox{\hyperlink{class_clip_list_viewer_a18b737dd1f00269792dc9c6d898775df}{get\+Item\+Count}} () const override
\item 
QVariant \mbox{\hyperlink{class_clip_list_viewer_a84ed0d32edc648e7af87a40feebf64fc}{get\+Item\+Data}} (int index, Data\+Type data\+Type, bool is\+Selected=false) override
\item 
bool \mbox{\hyperlink{class_clip_list_viewer_a6e5aaa4770b47b293138a227c4e135e1}{is\+Scene\+Item}} (int index) const override
\item 
QMenu $\ast$ \mbox{\hyperlink{class_clip_list_viewer_a693f897695967b79d1113711fdfd5b9a}{get\+Context\+Menu}} (QWidget $\ast$parent, int index) override
\item 
void \mbox{\hyperlink{class_clip_list_viewer_a9c2d27518d5e3ea7f97076911f02186a}{enable\+Selection\+Commands}} (\mbox{\hyperlink{class_t_selection}{TSelection}} $\ast$) override
\item 
void \mbox{\hyperlink{class_clip_list_viewer_aa3bac7721cbbad6849dab7b649f088d3}{start\+Drag\+Drop}} () override
\item 
void \mbox{\hyperlink{class_clip_list_viewer_a250dc8b752474251a441bb9c92ad7eb5}{draw}} (QPainter \&) override
\item 
void \mbox{\hyperlink{class_clip_list_viewer_a34538d55615fc823e0280fb4a73c62cd}{add\+Current\+Scene}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_clip_list_viewer_a56c911b92bffc4b2185c2caf6fe88352}{drag\+Enter\+Event}} (QDrag\+Enter\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_clip_list_viewer_aad2c5ca7157ff4a2f576b2814e2cae66}{drag\+Move\+Event}} (QDrag\+Move\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_clip_list_viewer_aa8d768ba05973b51977f72c3639115b1}{drop\+Event}} (QDrop\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_clip_list_viewer_a16753aee60f5c841c575c383262c3b21}{drag\+Leave\+Event}} (QDrag\+Leave\+Event $\ast$event) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_clip_list_viewer_a4e33dbbc0a9b0e22116227c680587bdb}\label{class_clip_list_viewer_a4e33dbbc0a9b0e22116227c680587bdb}} 
\index{ClipListViewer@{ClipListViewer}!ClipListViewer@{ClipListViewer}}
\index{ClipListViewer@{ClipListViewer}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{ClipListViewer()}{ClipListViewer()}}
{\footnotesize\ttfamily Clip\+List\+Viewer\+::\+Clip\+List\+Viewer (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00470     : \mbox{\hyperlink{class_dv_item_viewer}{DvItemViewer}}(parent)}
\DoxyCodeLine{00471     , m\_dropInsertionPoint(-\/1)}
\DoxyCodeLine{00472     , m\_loadSceneFromExportPanel(\textcolor{keyword}{false}) \{}
\DoxyCodeLine{00473   resetList();}
\DoxyCodeLine{00474   setModel(\textcolor{keyword}{this});}
\DoxyCodeLine{00475   setAcceptDrops(\textcolor{keyword}{true});}
\DoxyCodeLine{00476   getPanel()-\/>enableSingleColumn(\textcolor{keyword}{true});}
\DoxyCodeLine{00477 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_clip_list_viewer_a34538d55615fc823e0280fb4a73c62cd}\label{class_clip_list_viewer_a34538d55615fc823e0280fb4a73c62cd}} 
\index{ClipListViewer@{ClipListViewer}!addCurrentScene@{addCurrentScene}}
\index{addCurrentScene@{addCurrentScene}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{addCurrentScene()}{addCurrentScene()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::add\+Current\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00630                                      \{}
\DoxyCodeLine{00631   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{00632   std::vector<TXshChildLevel *> childLevels;}
\DoxyCodeLine{00633   \textcolor{keywordflow}{if} (checkForMeshColumns(scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}(), childLevels)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00634   \textcolor{keywordflow}{if} (!scene-\/>\mbox{\hyperlink{class_toonz_scene_a53cbaf09f551658479eb743e153ab6bc}{isUntitled}}()) \{}
\DoxyCodeLine{00635     \textcolor{keywordtype}{int} j = getItemCount();}
\DoxyCodeLine{00636     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(scene-\/>\mbox{\hyperlink{class_toonz_scene_ad42b52b671b094f66e003c4b7ebefd45}{getScenePath}}()));}
\DoxyCodeLine{00637     getController()-\/>insertClipPath(j, fp);}
\DoxyCodeLine{00638     updateContentSize();}
\DoxyCodeLine{00639     getPanel()-\/>update();}
\DoxyCodeLine{00640     update();}
\DoxyCodeLine{00641   \}}
\DoxyCodeLine{00642 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_a56c911b92bffc4b2185c2caf6fe88352}\label{class_clip_list_viewer_a56c911b92bffc4b2185c2caf6fe88352}} 
\index{ClipListViewer@{ClipListViewer}!dragEnterEvent@{dragEnterEvent}}
\index{dragEnterEvent@{dragEnterEvent}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{dragEnterEvent()}{dragEnterEvent()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::drag\+Enter\+Event (\begin{DoxyParamCaption}\item[{QDrag\+Enter\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00665                                                           \{}
\DoxyCodeLine{00666   \textcolor{keywordflow}{if} (event-\/>mimeData()-\/>hasUrls()) \{}
\DoxyCodeLine{00667     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} QUrl \&url : event-\/>mimeData()-\/>urls()) \{}
\DoxyCodeLine{00668       \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(url.toLocalFile().toStdString());}
\DoxyCodeLine{00669       \textcolor{keywordflow}{if} (fp.getType() != \textcolor{stringliteral}{"{}tnz"{}}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00670     \}}
\DoxyCodeLine{00671     setDropInsertionPoint(event-\/>pos());}
\DoxyCodeLine{00672     \textcolor{keyword}{event}-\/>setDropAction(Qt::CopyAction);}
\DoxyCodeLine{00673     \textcolor{keyword}{event}-\/>acceptProposedAction();}
\DoxyCodeLine{00674     update();}
\DoxyCodeLine{00675   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (event-\/>mimeData()-\/>hasFormat(m\_mimeFormat)) \{}
\DoxyCodeLine{00676     setDropInsertionPoint(event-\/>pos());}
\DoxyCodeLine{00677     \textcolor{keyword}{event}-\/>setDropAction(Qt::MoveAction);}
\DoxyCodeLine{00678     \textcolor{keyword}{event}-\/>acceptProposedAction();}
\DoxyCodeLine{00679     update();}
\DoxyCodeLine{00680   \}}
\DoxyCodeLine{00681 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_a16753aee60f5c841c575c383262c3b21}\label{class_clip_list_viewer_a16753aee60f5c841c575c383262c3b21}} 
\index{ClipListViewer@{ClipListViewer}!dragLeaveEvent@{dragLeaveEvent}}
\index{dragLeaveEvent@{dragLeaveEvent}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{dragLeaveEvent()}{dragLeaveEvent()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::drag\+Leave\+Event (\begin{DoxyParamCaption}\item[{QDrag\+Leave\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00718                                                           \{}
\DoxyCodeLine{00719   m\_dropInsertionPoint = -\/1;}
\DoxyCodeLine{00720   getPanel()-\/>update();}
\DoxyCodeLine{00721 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_aad2c5ca7157ff4a2f576b2814e2cae66}\label{class_clip_list_viewer_aad2c5ca7157ff4a2f576b2814e2cae66}} 
\index{ClipListViewer@{ClipListViewer}!dragMoveEvent@{dragMoveEvent}}
\index{dragMoveEvent@{dragMoveEvent}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{dragMoveEvent()}{dragMoveEvent()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::drag\+Move\+Event (\begin{DoxyParamCaption}\item[{QDrag\+Move\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00685                                                         \{}
\DoxyCodeLine{00686   \textcolor{keywordtype}{int} oldDropInsertionPoint = m\_dropInsertionPoint;}
\DoxyCodeLine{00687   setDropInsertionPoint(event-\/>pos());}
\DoxyCodeLine{00688   \textcolor{keywordflow}{if} (oldDropInsertionPoint != m\_dropInsertionPoint) update();}
\DoxyCodeLine{00689 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_a250dc8b752474251a441bb9c92ad7eb5}\label{class_clip_list_viewer_a250dc8b752474251a441bb9c92ad7eb5}} 
\index{ClipListViewer@{ClipListViewer}!draw@{draw}}
\index{draw@{draw}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{draw()}{draw()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::draw (\begin{DoxyParamCaption}\item[{QPainter \&}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_dv_item_viewer}{Dv\+Item\+Viewer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00732                                      \{}
\DoxyCodeLine{00733   \textcolor{keywordflow}{if} (m\_dropInsertionPoint >= 0) \{}
\DoxyCodeLine{00734     p.setPen(Qt::black);}
\DoxyCodeLine{00735     \textcolor{comment}{// p.drawLine(0,0,width(),height());}}
\DoxyCodeLine{00736     \textcolor{keywordtype}{int} y = getPanel()-\/>index2pos(m\_dropInsertionPoint).topLeft().y() -\/ 2;}
\DoxyCodeLine{00737     p.drawLine(10, y, width() -\/ 10, y);}
\DoxyCodeLine{00738   \}}
\DoxyCodeLine{00739 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_aa8d768ba05973b51977f72c3639115b1}\label{class_clip_list_viewer_aa8d768ba05973b51977f72c3639115b1}} 
\index{ClipListViewer@{ClipListViewer}!dropEvent@{dropEvent}}
\index{dropEvent@{dropEvent}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{dropEvent()}{dropEvent()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::drop\+Event (\begin{DoxyParamCaption}\item[{QDrop\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00693                                                 \{}
\DoxyCodeLine{00694   \textcolor{keywordflow}{if} (event-\/>mimeData()-\/>hasUrls()) \{}
\DoxyCodeLine{00695     \textcolor{keywordtype}{int} j        = m\_dropInsertionPoint;}
\DoxyCodeLine{00696     \textcolor{keywordflow}{if} (j < 0) j = getItemCount();}
\DoxyCodeLine{00697     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} QUrl \&url : event-\/>mimeData()-\/>urls()) \{}
\DoxyCodeLine{00698       \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(url.toLocalFile().toStdString());}
\DoxyCodeLine{00699       \textcolor{keywordflow}{if} (fp.getType() == \textcolor{stringliteral}{"{}tnz"{}}) getController()-\/>insertClipPath((j++), fp);}
\DoxyCodeLine{00700     \}}
\DoxyCodeLine{00701     \textcolor{keyword}{event}-\/>setDropAction(Qt::CopyAction);}
\DoxyCodeLine{00702     \textcolor{keyword}{event}-\/>acceptProposedAction();}
\DoxyCodeLine{00703   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (event-\/>mimeData()-\/>hasFormat(m\_mimeFormat) \&\&}
\DoxyCodeLine{00704              m\_dropInsertionPoint >= 0) \{}
\DoxyCodeLine{00705     moveSelectedClips(m\_dropInsertionPoint);}
\DoxyCodeLine{00706     \textcolor{keyword}{event}-\/>setDropAction(Qt::MoveAction);}
\DoxyCodeLine{00707     \textcolor{keyword}{event}-\/>acceptProposedAction();}
\DoxyCodeLine{00708   \}}
\DoxyCodeLine{00709 }
\DoxyCodeLine{00710   updateContentSize();}
\DoxyCodeLine{00711   m\_dropInsertionPoint = -\/1;}
\DoxyCodeLine{00712   getPanel()-\/>update();}
\DoxyCodeLine{00713   update();}
\DoxyCodeLine{00714 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_a9c2d27518d5e3ea7f97076911f02186a}\label{class_clip_list_viewer_a9c2d27518d5e3ea7f97076911f02186a}} 
\index{ClipListViewer@{ClipListViewer}!enableSelectionCommands@{enableSelectionCommands}}
\index{enableSelectionCommands@{enableSelectionCommands}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{enableSelectionCommands()}{enableSelectionCommands()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::enable\+Selection\+Commands (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_selection}{TSelection}} $\ast$}]{selection }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_dv_item_list_model}{Dv\+Item\+List\+Model}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00725                                                                   \{}
\DoxyCodeLine{00726   selection-\/>enableCommand(\textcolor{keyword}{this}, MI\_Clear,}
\DoxyCodeLine{00727                            \&ClipListViewer::removeSelectedClips);}
\DoxyCodeLine{00728 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_a693f897695967b79d1113711fdfd5b9a}\label{class_clip_list_viewer_a693f897695967b79d1113711fdfd5b9a}} 
\index{ClipListViewer@{ClipListViewer}!getContextMenu@{getContextMenu}}
\index{getContextMenu@{getContextMenu}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{getContextMenu()}{getContextMenu()}}
{\footnotesize\ttfamily QMenu $\ast$ Clip\+List\+Viewer\+::get\+Context\+Menu (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent,  }\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_dv_item_list_model}{Dv\+Item\+List\+Model}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00612                                                                 \{}
\DoxyCodeLine{00613   QMenu *menu                          = \textcolor{keyword}{new} QMenu(parent);}
\DoxyCodeLine{00614   \mbox{\hyperlink{class_command_manager}{CommandManager}} *cm                   = CommandManager::instance();}
\DoxyCodeLine{00615   \textcolor{keyword}{const} std::set<int> \&selectedIndices = getPanel()-\/>getSelectedIndices();}
\DoxyCodeLine{00616   \textcolor{keywordflow}{if} (selectedIndices.size() == 1) \{}
\DoxyCodeLine{00617     \textcolor{keywordtype}{int} index = *selectedIndices.begin();}
\DoxyCodeLine{00618     \textcolor{keywordflow}{if} (0 <= index \&\& index < getController()-\/>getClipCount()) \{}
\DoxyCodeLine{00619       QAction *action = \textcolor{keyword}{new} QAction(tr(\textcolor{stringliteral}{"{}Load Scene"{}}), menu);}
\DoxyCodeLine{00620       connect(action, SIGNAL(triggered()), \textcolor{keyword}{this}, SLOT(loadScene()));}
\DoxyCodeLine{00621       menu-\/>addAction(action);}
\DoxyCodeLine{00622     \}}
\DoxyCodeLine{00623   \}}
\DoxyCodeLine{00624   menu-\/>addAction(cm-\/>getAction(MI\_Clear));}
\DoxyCodeLine{00625   \textcolor{keywordflow}{return} menu;}
\DoxyCodeLine{00626 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_a33adbe37940cb74534dd4a0cd531f302}\label{class_clip_list_viewer_a33adbe37940cb74534dd4a0cd531f302}} 
\index{ClipListViewer@{ClipListViewer}!getController@{getController}}
\index{getController@{getController}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{getController()}{getController()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_render_controller}{Render\+Controller}} $\ast$ Clip\+List\+Viewer\+::get\+Controller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00485                                                       \{}
\DoxyCodeLine{00486   \textcolor{keywordflow}{return} RenderController::instance();}
\DoxyCodeLine{00487 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_a18b737dd1f00269792dc9c6d898775df}\label{class_clip_list_viewer_a18b737dd1f00269792dc9c6d898775df}} 
\index{ClipListViewer@{ClipListViewer}!getItemCount@{getItemCount}}
\index{getItemCount@{getItemCount}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{getItemCount()}{getItemCount()}}
{\footnotesize\ttfamily int Clip\+List\+Viewer\+::get\+Item\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_dv_item_list_model}{Dv\+Item\+List\+Model}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00585                                        \{}
\DoxyCodeLine{00586   \textcolor{keywordflow}{return} getController()-\/>getClipCount();}
\DoxyCodeLine{00587 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_a84ed0d32edc648e7af87a40feebf64fc}\label{class_clip_list_viewer_a84ed0d32edc648e7af87a40feebf64fc}} 
\index{ClipListViewer@{ClipListViewer}!getItemData@{getItemData}}
\index{getItemData@{getItemData}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{getItemData()}{getItemData()}}
{\footnotesize\ttfamily QVariant Clip\+List\+Viewer\+::get\+Item\+Data (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{Data\+Type}]{data\+Type,  }\item[{bool}]{is\+Selected = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_dv_item_list_model}{Dv\+Item\+List\+Model}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00592                                                       \{}
\DoxyCodeLine{00593   \textcolor{keywordflow}{if} (index < 0 || index >= getController()-\/>getClipCount()) \textcolor{keywordflow}{return} QVariant();}
\DoxyCodeLine{00594   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp      = getController()-\/>getClipPath(index);}
\DoxyCodeLine{00595   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{00596 }
\DoxyCodeLine{00597   \textcolor{keywordflow}{if} (dataType == Name)}
\DoxyCodeLine{00598     \textcolor{keywordflow}{return} QString::fromStdString(fp.\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}());}
\DoxyCodeLine{00599   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (dataType == ToolTip || dataType == FullPath)}
\DoxyCodeLine{00600     \textcolor{keywordflow}{return} QString::fromStdWString(fp.getWideString());}
\DoxyCodeLine{00601   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (dataType == \mbox{\hyperlink{class_thumbnail}{Thumbnail}}) \{}
\DoxyCodeLine{00602     QSize iconSize = getPanel()-\/>getIconSize();}
\DoxyCodeLine{00603     QPixmap icon   = IconGenerator::instance()-\/>getIcon(fp);}
\DoxyCodeLine{00604     \textcolor{keywordflow}{return} scalePixmapKeepingAspectRatio(icon, iconSize, Qt::transparent);}
\DoxyCodeLine{00605   \}}
\DoxyCodeLine{00606 }
\DoxyCodeLine{00607   \textcolor{keywordflow}{return} QVariant();}
\DoxyCodeLine{00608 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_aae186b477388c8694821d9b530880942}\label{class_clip_list_viewer_aae186b477388c8694821d9b530880942}} 
\index{ClipListViewer@{ClipListViewer}!getSelectedClips@{getSelectedClips}}
\index{getSelectedClips@{getSelectedClips}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{getSelectedClips()}{getSelectedClips()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::get\+Selected\+Clips (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} $>$ \&}]{selected\+Clips }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00532                                                                          \{}
\DoxyCodeLine{00533   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00534   \textcolor{keywordflow}{for} (i = 0; i < getController()-\/>getClipCount(); i++)}
\DoxyCodeLine{00535     \textcolor{keywordflow}{if} (getPanel()-\/>getSelection()-\/>isSelected(i))}
\DoxyCodeLine{00536       selectedClips.push\_back(getController()-\/>getClipPath(i));}
\DoxyCodeLine{00537 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_a6e5aaa4770b47b293138a227c4e135e1}\label{class_clip_list_viewer_a6e5aaa4770b47b293138a227c4e135e1}} 
\index{ClipListViewer@{ClipListViewer}!isSceneItem@{isSceneItem}}
\index{isSceneItem@{isSceneItem}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{isSceneItem()}{isSceneItem()}}
{\footnotesize\ttfamily bool Clip\+List\+Viewer\+::is\+Scene\+Item (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_dv_item_list_model}{Dv\+Item\+List\+Model}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00062 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_ab6a10b1dae3af07050cd22be72351bfc}\label{class_clip_list_viewer_ab6a10b1dae3af07050cd22be72351bfc}} 
\index{ClipListViewer@{ClipListViewer}!loadScene@{loadScene}}
\index{loadScene@{loadScene}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{loadScene}{loadScene}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::load\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00743                                \{}
\DoxyCodeLine{00744   \textcolor{comment}{// se non ho selezionato una sola scena, diversa da quella corrente, esco.}}
\DoxyCodeLine{00745   \textcolor{keyword}{const} std::set<int> \&selectedIndices = getPanel()-\/>getSelectedIndices();}
\DoxyCodeLine{00746   \textcolor{keywordflow}{if} (selectedIndices.size() != 1) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00747   \textcolor{keywordtype}{int} index = *selectedIndices.begin();}
\DoxyCodeLine{00748   \textcolor{keywordflow}{if} (!(0 <= index \&\& index < getController()-\/>getClipCount())) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00749   \textcolor{comment}{// selectedScenePath e' la scena da caricare}}
\DoxyCodeLine{00750   \mbox{\hyperlink{class_t_file_path}{TFilePath}} selectedScenePath = getController()-\/>getClipPath(index);}
\DoxyCodeLine{00751 }
\DoxyCodeLine{00752   m\_loadSceneFromExportPanel = \textcolor{keyword}{true};}
\DoxyCodeLine{00753 }
\DoxyCodeLine{00754   \textcolor{comment}{// se necessario salvo la scena corrente (e le assegno un filepath)}}
\DoxyCodeLine{00755   \textcolor{comment}{// se l'utente sceglie "{}cancel"{} esco}}
\DoxyCodeLine{00756   \textcolor{keywordflow}{if} (!IoCmd::saveSceneIfNeeded(tr(\textcolor{stringliteral}{"{}Load Scene"{}}))) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00757 }
\DoxyCodeLine{00758   \textcolor{comment}{// Nella clip list assegno un path esplicito all'eventuale scena corrente}}
\DoxyCodeLine{00759   \textcolor{comment}{// (se la scena corrente non e' stata salvata dall'utente elimino il}}
\DoxyCodeLine{00760   \textcolor{comment}{// riferimento)}}
\DoxyCodeLine{00761   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{00762   \mbox{\hyperlink{class_t_file_path}{TFilePath}} scenePath;}
\DoxyCodeLine{00763   \textcolor{keywordflow}{if} (!scene-\/>\mbox{\hyperlink{class_toonz_scene_a53cbaf09f551658479eb743e153ab6bc}{isUntitled}}()) scenePath = scene-\/>\mbox{\hyperlink{class_toonz_scene_ad42b52b671b094f66e003c4b7ebefd45}{getScenePath}}();}
\DoxyCodeLine{00764   \textcolor{comment}{// carico la scena corrente}}
\DoxyCodeLine{00765   IoCmd::loadScene(selectedScenePath);}
\DoxyCodeLine{00766   m\_loadSceneFromExportPanel = \textcolor{keyword}{false};}
\DoxyCodeLine{00767 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_a6f6cf33e837eb85ca5b3dd8e54981b1e}\label{class_clip_list_viewer_a6f6cf33e837eb85ca5b3dd8e54981b1e}} 
\index{ClipListViewer@{ClipListViewer}!moveSelectedClips@{moveSelectedClips}}
\index{moveSelectedClips@{moveSelectedClips}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{moveSelectedClips()}{moveSelectedClips()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::move\+Selected\+Clips (\begin{DoxyParamCaption}\item[{int}]{dst\+Index }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00511                                                    \{}
\DoxyCodeLine{00512   std::vector<TFilePath> selectedClips;}
\DoxyCodeLine{00513   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00514   \textcolor{keywordflow}{for} (i = getController()-\/>getClipCount() -\/ 1; i >= 0; i-\/-\/)}
\DoxyCodeLine{00515     \textcolor{keywordflow}{if} (getPanel()-\/>getSelection()-\/>isSelected(i)) \{}
\DoxyCodeLine{00516       \textcolor{keywordflow}{if} (i < dstIndex) dstIndex-\/-\/;}
\DoxyCodeLine{00517       selectedClips.push\_back(getController()-\/>getClipPath(i));}
\DoxyCodeLine{00518       getController()-\/>removeClipPath(i);}
\DoxyCodeLine{00519     \}}
\DoxyCodeLine{00520   \textcolor{keywordflow}{if} (dstIndex < 0)}
\DoxyCodeLine{00521     dstIndex = 0;}
\DoxyCodeLine{00522   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (dstIndex > getController()-\/>getClipCount())}
\DoxyCodeLine{00523     dstIndex = getController()-\/>getClipCount();}
\DoxyCodeLine{00524   \textcolor{keywordflow}{for} (i = 0; i < (int)selectedClips.size(); i++)}
\DoxyCodeLine{00525     getController()-\/>insertClipPath(dstIndex + i, selectedClips[i]);}
\DoxyCodeLine{00526   getPanel()-\/>getSelection()-\/>selectNone();}
\DoxyCodeLine{00527   getPanel()-\/>update();}
\DoxyCodeLine{00528 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_abd149972ac10856e7a3979ba7de7c1d4}\label{class_clip_list_viewer_abd149972ac10856e7a3979ba7de7c1d4}} 
\index{ClipListViewer@{ClipListViewer}!removeSelectedClips@{removeSelectedClips}}
\index{removeSelectedClips@{removeSelectedClips}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{removeSelectedClips()}{removeSelectedClips()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::remove\+Selected\+Clips (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00497                                          \{}
\DoxyCodeLine{00498   \textcolor{keywordflow}{if} (getPanel()-\/>getSelection()-\/>isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00499   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00500   \textcolor{keywordflow}{for} (i = getController()-\/>getClipCount() -\/ 1; i >= 0; i-\/-\/) \{}
\DoxyCodeLine{00501     \textcolor{keywordflow}{if} (getPanel()-\/>getSelection()-\/>isSelected(i))}
\DoxyCodeLine{00502       getController()-\/>removeClipPath(i);}
\DoxyCodeLine{00503   \}}
\DoxyCodeLine{00504   updateContentSize();}
\DoxyCodeLine{00505   getPanel()-\/>getSelection()-\/>selectNone();}
\DoxyCodeLine{00506   getPanel()-\/>update();}
\DoxyCodeLine{00507 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_acc34ff825be25693e81f3a0bb3695340}\label{class_clip_list_viewer_acc34ff825be25693e81f3a0bb3695340}} 
\index{ClipListViewer@{ClipListViewer}!resetList@{resetList}}
\index{resetList@{resetList}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{resetList}{resetList}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::reset\+List (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00491                                \{}
\DoxyCodeLine{00492   \textcolor{keywordflow}{if} (!m\_loadSceneFromExportPanel) getController()-\/>resetClipList();}
\DoxyCodeLine{00493 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_clip_list_viewer_aa3bac7721cbbad6849dab7b649f088d3}\label{class_clip_list_viewer_aa3bac7721cbbad6849dab7b649f088d3}} 
\index{ClipListViewer@{ClipListViewer}!startDragDrop@{startDragDrop}}
\index{startDragDrop@{startDragDrop}!ClipListViewer@{ClipListViewer}}
\doxysubsubsection{\texorpdfstring{startDragDrop()}{startDragDrop()}}
{\footnotesize\ttfamily void Clip\+List\+Viewer\+::start\+Drag\+Drop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_dv_item_list_model}{Dv\+Item\+List\+Model}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00566                                    \{}
\DoxyCodeLine{00567   std::vector<TFilePath> selectedClips;}
\DoxyCodeLine{00568   getSelectedClips(selectedClips);}
\DoxyCodeLine{00569   \textcolor{keywordflow}{if} (selectedClips.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00570 }
\DoxyCodeLine{00571   QStringList slist;}
\DoxyCodeLine{00572   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00573   \textcolor{keywordflow}{for} (i = 0; i < (int)selectedClips.size(); i++)}
\DoxyCodeLine{00574     slist << QString::fromStdWString(selectedClips[i].getWideString());}
\DoxyCodeLine{00575 }
\DoxyCodeLine{00576   QMimeData *mimeData = \textcolor{keyword}{new} QMimeData;}
\DoxyCodeLine{00577   mimeData-\/>setData(m\_mimeFormat, packStringList(slist));}
\DoxyCodeLine{00578   QDrag *drag = \textcolor{keyword}{new} QDrag(\textcolor{keyword}{this});}
\DoxyCodeLine{00579   drag-\/>setMimeData(mimeData);}
\DoxyCodeLine{00580   Qt::DropAction dropAction = drag-\/>exec(Qt::MoveAction | Qt::CopyAction);}
\DoxyCodeLine{00581 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/exportpanel.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/exportpanel.\+cpp\end{DoxyCompactItemize}
