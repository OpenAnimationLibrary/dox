\hypertarget{class_t_image_reader_pli}{}\doxysection{TImage\+Reader\+Pli Class Reference}
\label{class_t_image_reader_pli}\index{TImageReaderPli@{TImageReaderPli}}
Inheritance diagram for TImage\+Reader\+Pli\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_t_image_reader_pli}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_image_reader_pli_a9a82734de9a9d108d83635459dcb3136}{TImage\+Reader\+Pli}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&f, const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&frame\+Id, \mbox{\hyperlink{class_t_level_reader_pli}{TLevel\+Reader\+Pli}} $\ast$)
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} \mbox{\hyperlink{class_t_image_reader_pli_ab37ea667a775eca9f341ab80dd4d3da0}{load}} () override
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} \mbox{\hyperlink{class_t_image_reader_pli_a4e38e2950335d4579eee180e0f67ba48}{do\+Load}} ()
\item 
\mbox{\hyperlink{class_t_dimension_t}{TDimension}} \mbox{\hyperlink{class_t_image_reader_pli_af86f1f4edfdb7b047ec7cdb8aec69bbb}{get\+Size}} () const
\item 
\mbox{\hyperlink{class_t_rect_t}{TRect}} \mbox{\hyperlink{class_t_image_reader_pli_a05269fae81d2d963bad50445c6071aa6}{get\+BBox}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \mbox{\hyperlink{class_t_image_reader_pli_adeaa819efaeb0294f5161fd38beb0061}{m\+\_\+frame\+Id}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_image_reader_pli_a9a82734de9a9d108d83635459dcb3136}\label{class_t_image_reader_pli_a9a82734de9a9d108d83635459dcb3136}} 
\index{TImageReaderPli@{TImageReaderPli}!TImageReaderPli@{TImageReaderPli}}
\index{TImageReaderPli@{TImageReaderPli}!TImageReaderPli@{TImageReaderPli}}
\doxysubsubsection{\texorpdfstring{TImageReaderPli()}{TImageReaderPli()}}
{\footnotesize\ttfamily TImage\+Reader\+Pli\+::\+TImage\+Reader\+Pli (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{f,  }\item[{const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&}]{frame\+Id,  }\item[{\mbox{\hyperlink{class_t_level_reader_pli}{TLevel\+Reader\+Pli}} $\ast$}]{pli }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00834     : \mbox{\hyperlink{class_t_image_reader}{TImageReader}}(f), m\_frameId(frameId), m\_lrp(pli) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_image_reader_pli_ac5fbcf41361615cc6410c57810e673da}\label{class_t_image_reader_pli_ac5fbcf41361615cc6410c57810e673da}} 
\index{TImageReaderPli@{TImageReaderPli}!````~TImageReaderPli@{$\sim$TImageReaderPli}}
\index{````~TImageReaderPli@{$\sim$TImageReaderPli}!TImageReaderPli@{TImageReaderPli}}
\doxysubsubsection{\texorpdfstring{$\sim$TImageReaderPli()}{~TImageReaderPli()}}
{\footnotesize\ttfamily TImage\+Reader\+Pli\+::$\sim$\+TImage\+Reader\+Pli (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00136 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_image_reader_pli_a4e38e2950335d4579eee180e0f67ba48}\label{class_t_image_reader_pli_a4e38e2950335d4579eee180e0f67ba48}} 
\index{TImageReaderPli@{TImageReaderPli}!doLoad@{doLoad}}
\index{doLoad@{doLoad}!TImageReaderPli@{TImageReaderPli}}
\doxysubsubsection{\texorpdfstring{doLoad()}{doLoad()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} TImage\+Reader\+Pli\+::do\+Load (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00342                                 \{}
\DoxyCodeLine{00343   CreateStrokeData strokeData;}
\DoxyCodeLine{00344 }
\DoxyCodeLine{00345   \textcolor{comment}{// preparo l'immagine da restituire}}
\DoxyCodeLine{00346   \mbox{\hyperlink{class_t_vector_image}{TVectorImage}} *outVectImage = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_vector_image}{TVectorImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00347   \textcolor{comment}{// fisso il colore di default a nero opaco}}
\DoxyCodeLine{00348   \textcolor{comment}{// TPixel currentColor=TPixel::Black;}}
\DoxyCodeLine{00349   \textcolor{comment}{// TStrokeStyle *currStyle = NULL;}}
\DoxyCodeLine{00350   \textcolor{comment}{// chiudo tutto dentro un blocco try per  cautelarmi}}
\DoxyCodeLine{00351   \textcolor{comment}{//  dalle eccezioni generate in lettura}}
\DoxyCodeLine{00352   \textcolor{comment}{// try}}
\DoxyCodeLine{00353   \textcolor{comment}{//\{}}
\DoxyCodeLine{00354   \textcolor{comment}{// un contatore}}
\DoxyCodeLine{00355   UINT i;}
\DoxyCodeLine{00356   outVectImage-\/>\mbox{\hyperlink{class_t_vector_image_a3ed7e8f50c74faa95f75f787d5975f73}{setAutocloseTolerance}}(m\_lrp-\/>m\_pli-\/>getAutocloseTolerance());}
\DoxyCodeLine{00357 }
\DoxyCodeLine{00358   \mbox{\hyperlink{class_image_tag}{ImageTag}} *imageTag;}
\DoxyCodeLine{00359 }
\DoxyCodeLine{00360   imageTag = m\_lrp-\/>m\_pli-\/>loadFrame(m\_frameId);}
\DoxyCodeLine{00361   \textcolor{keywordflow}{if} (!imageTag)}
\DoxyCodeLine{00362     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_image_exception}{TImageException}}(m\_path, \textcolor{stringliteral}{"{}Corrupted or invalid image data"{}});}
\DoxyCodeLine{00363 }
\DoxyCodeLine{00364   \textcolor{keywordflow}{if} (m\_lrp-\/>m\_mapOfImage[m\_frameId].second == \textcolor{keyword}{false})}
\DoxyCodeLine{00365     m\_lrp-\/>m\_mapOfImage[m\_frameId].second = \textcolor{keyword}{true};}
\DoxyCodeLine{00366 }
\DoxyCodeLine{00367   \textcolor{comment}{// per tutti gli oggetti presenti nel tag}}
\DoxyCodeLine{00368   \textcolor{keywordflow}{for} (i = 0; i < imageTag-\/>m\_numObjects; i++) \{}
\DoxyCodeLine{00369     \textcolor{keywordflow}{switch} (imageTag-\/>m\_object[i]-\/>m\_type) \{}
\DoxyCodeLine{00370     \textcolor{keywordflow}{case} PliTag::GROUP\_GOBJ:}
\DoxyCodeLine{00371       assert(((\mbox{\hyperlink{class_group_tag}{GroupTag}} *)imageTag-\/>m\_object[i])-\/>m\_type == GroupTag::STROKE);}
\DoxyCodeLine{00372       createGroup((\mbox{\hyperlink{class_group_tag}{GroupTag}} *)imageTag-\/>m\_object[i], outVectImage, strokeData);}
\DoxyCodeLine{00373       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00374 }
\DoxyCodeLine{00375     \textcolor{keywordflow}{case} PliTag::INTERSECTION\_DATA\_GOBJ:}
\DoxyCodeLine{00376       readRegionVersion4x((\mbox{\hyperlink{class_intersection_data_tag}{IntersectionDataTag}} *)imageTag-\/>m\_object[i],}
\DoxyCodeLine{00377                           outVectImage);}
\DoxyCodeLine{00378       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00379 }
\DoxyCodeLine{00380     \textcolor{keywordflow}{case} PliTag::THICK\_QUADRATIC\_CHAIN\_GOBJ:}
\DoxyCodeLine{00381       \textcolor{comment}{// aggiunge le stroke quadratiche}}
\DoxyCodeLine{00382       createStroke((\mbox{\hyperlink{class_thick_quadratic_chain_tag}{ThickQuadraticChainTag}} *)imageTag-\/>m\_object[i],}
\DoxyCodeLine{00383                    outVectImage, strokeData);}
\DoxyCodeLine{00384       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00385 }
\DoxyCodeLine{00386     \textcolor{keywordflow}{case} PliTag::COLOR\_NGOBJ: \{}
\DoxyCodeLine{00387       \textcolor{comment}{// aggiunge curve quadratiche con spessore costante}}
\DoxyCodeLine{00388       \mbox{\hyperlink{class_color_tag}{ColorTag}} *colorTag = (\mbox{\hyperlink{class_color_tag}{ColorTag}} *)imageTag-\/>m\_object[i];}
\DoxyCodeLine{00389 }
\DoxyCodeLine{00390       assert(colorTag-\/>m\_numColors == 1);}
\DoxyCodeLine{00391       strokeData.m\_styleId = colorTag-\/>m\_color[0];}
\DoxyCodeLine{00392       \textcolor{comment}{// isSketch=(colorTag-\/>m\_color[0] < c\_maxSketchColorNum);}}
\DoxyCodeLine{00393       \textcolor{comment}{// isSketch=(colorTag-\/>m\_color[0] < c\_maxSketchColorNum);}}
\DoxyCodeLine{00394 }
\DoxyCodeLine{00395       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00396     \}}
\DoxyCodeLine{00397 }
\DoxyCodeLine{00398     \textcolor{keywordflow}{case} PliTag::OUTLINE\_OPTIONS\_GOBJ:}
\DoxyCodeLine{00399       \textcolor{comment}{// adds outline options data}}
\DoxyCodeLine{00400       strokeData.m\_options =}
\DoxyCodeLine{00401           ((\mbox{\hyperlink{class_stroke_outline_options_tag}{StrokeOutlineOptionsTag}} *)imageTag-\/>m\_object[i])-\/>m\_options;}
\DoxyCodeLine{00402       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00403     \textcolor{keywordflow}{case} PliTag::AUTOCLOSE\_TOLERANCE\_GOBJ: \{}
\DoxyCodeLine{00404       \textcolor{comment}{// aggiunge curve quadratiche con spessore costante}}
\DoxyCodeLine{00405       \mbox{\hyperlink{class_auto_close_tolerance_tag}{AutoCloseToleranceTag}} *toleranceTag =}
\DoxyCodeLine{00406           (\mbox{\hyperlink{class_auto_close_tolerance_tag}{AutoCloseToleranceTag}} *)imageTag-\/>m\_object[i];}
\DoxyCodeLine{00407       assert(toleranceTag-\/>m\_autoCloseTolerance >= 0);}
\DoxyCodeLine{00408       outVectImage-\/>\mbox{\hyperlink{class_t_vector_image_a3ed7e8f50c74faa95f75f787d5975f73}{setAutocloseTolerance}}(}
\DoxyCodeLine{00409           ((\textcolor{keywordtype}{double})toleranceTag-\/>m\_autoCloseTolerance) / 1000);}
\DoxyCodeLine{00410       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00411     \}}
\DoxyCodeLine{00412     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00413       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00414     \}  \textcolor{comment}{// switch(groupTag-\/>m\_object[j]-\/>m\_type)}}
\DoxyCodeLine{00415   \}    \textcolor{comment}{// for (i=0; i<imageTag-\/>m\_numObjects; i++)}}
\DoxyCodeLine{00416 }
\DoxyCodeLine{00417   \textcolor{comment}{//\} // try}}
\DoxyCodeLine{00418 }
\DoxyCodeLine{00419   \textcolor{comment}{// catch(...) // cosi' e' inutile o raccolgo qualcosa prima di rilanciare o lo}}
\DoxyCodeLine{00420   \textcolor{comment}{// elimino}}
\DoxyCodeLine{00421   \textcolor{comment}{//\{}}
\DoxyCodeLine{00422   \textcolor{comment}{//  throw;}}
\DoxyCodeLine{00423   \textcolor{comment}{// \}}}
\DoxyCodeLine{00424 }
\DoxyCodeLine{00425   \textcolor{comment}{//  if (regionsComputed) //WARNING !!! la seedFill mette il flag a ValidRegion}}
\DoxyCodeLine{00426   \textcolor{comment}{//  a TRUE}}
\DoxyCodeLine{00427   \textcolor{comment}{//    outVectImage-\/>seedFill(); //le vecchie immagini hanno il seed}}
\DoxyCodeLine{00428   \textcolor{comment}{//    (version<3.1)}}
\DoxyCodeLine{00429 }
\DoxyCodeLine{00430 \textcolor{preprocessor}{\#ifdef \_DEBUG}}
\DoxyCodeLine{00431   outVectImage-\/>checkIntersections();}
\DoxyCodeLine{00432 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00433 }
\DoxyCodeLine{00434   outVectImage-\/>findRegions();}
\DoxyCodeLine{00435 }
\DoxyCodeLine{00436   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}}(outVectImage);}
\DoxyCodeLine{00437 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_image_reader_pli_a05269fae81d2d963bad50445c6071aa6}\label{class_t_image_reader_pli_a05269fae81d2d963bad50445c6071aa6}} 
\index{TImageReaderPli@{TImageReaderPli}!getBBox@{getBBox}}
\index{getBBox@{getBBox}!TImageReaderPli@{TImageReaderPli}}
\doxysubsubsection{\texorpdfstring{getBBox()}{getBBox()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRect}} TImage\+Reader\+Pli\+::get\+BBox (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00445 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_rect_t}{TRect}}(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_image_reader_pli_af86f1f4edfdb7b047ec7cdb8aec69bbb}\label{class_t_image_reader_pli_af86f1f4edfdb7b047ec7cdb8aec69bbb}} 
\index{TImageReaderPli@{TImageReaderPli}!getSize@{getSize}}
\index{getSize@{getSize}!TImageReaderPli@{TImageReaderPli}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_dimension_t}{TDimension}} TImage\+Reader\+Pli\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00441 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_dimension_t}{TDimension}}(-\/1, -\/1); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_image_reader_pli_ab37ea667a775eca9f341ab80dd4d3da0}\label{class_t_image_reader_pli_ab37ea667a775eca9f341ab80dd4d3da0}} 
\index{TImageReaderPli@{TImageReaderPli}!load@{load}}
\index{load@{load}!TImageReaderPli@{TImageReaderPli}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} TImage\+Reader\+Pli\+::load (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Load Image from disk. If set region then loads only image\textquotesingle{}s region. If set shrink then loads image (or region, if set) with shrink.

Note\+: if the region, or part of it, is not contained in the image then returns only the intersection between the image and region. If the intersection is void returns TImage\+P(); 

Reimplemented from \mbox{\hyperlink{class_t_image_reader_ade3cafcda8a3e691b08892fb9cb3a97a}{TImage\+Reader}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00266                               \{}
\DoxyCodeLine{00267   \textcolor{keywordflow}{if} (!m\_lrp-\/>m\_doesExist)}
\DoxyCodeLine{00268     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_image_exception}{TImageException}}(getFilePath(), \textcolor{stringliteral}{"{}Error file doesn't exist"{}});}
\DoxyCodeLine{00269 }
\DoxyCodeLine{00270   UINT majorVersionNumber, minorVersionNumber;}
\DoxyCodeLine{00271   m\_lrp-\/>m\_pli-\/>getVersion(majorVersionNumber, minorVersionNumber);}
\DoxyCodeLine{00272   assert(majorVersionNumber > 5 ||}
\DoxyCodeLine{00273          (majorVersionNumber == 5 \&\& minorVersionNumber >= 5));}
\DoxyCodeLine{00274 }
\DoxyCodeLine{00275   \textcolor{keywordflow}{return} doLoad();}
\DoxyCodeLine{00276 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_t_image_reader_pli_adeaa819efaeb0294f5161fd38beb0061}\label{class_t_image_reader_pli_adeaa819efaeb0294f5161fd38beb0061}} 
\index{TImageReaderPli@{TImageReaderPli}!m\_frameId@{m\_frameId}}
\index{m\_frameId@{m\_frameId}!TImageReaderPli@{TImageReaderPli}}
\doxysubsubsection{\texorpdfstring{m\_frameId}{m\_frameId}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} TImage\+Reader\+Pli\+::m\+\_\+frame\+Id}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/image/pli/tiio\+\_\+pli.\+h\item 
E\+:/opentoonz/toonz/sources/image/pli/tiio\+\_\+pli.\+cpp\end{DoxyCompactItemize}
