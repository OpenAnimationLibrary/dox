\hypertarget{class_overwrite_dialog}{}\doxysection{Overwrite\+Dialog Class Reference}
\label{class_overwrite_dialog}\index{OverwriteDialog@{OverwriteDialog}}


{\ttfamily \#include $<$overwritepopup.\+h$>$}

Inheritance diagram for Overwrite\+Dialog\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_overwrite_dialog}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries Resolution} \{ \newline
{\bfseries CANCELED} = 0x0
, {\bfseries KEEP\+\_\+\+OLD} = 0x1
, {\bfseries OVERWRITE} = 0x2
, {\bfseries RENAME} = 0x4
, \newline
{\bfseries ALL\+\_\+\+RESOLUTIONS} = KEEP\+\_\+\+OLD $\vert$ OVERWRITE $\vert$ RENAME
 \}
\item 
enum {\bfseries Flags} \{ {\bfseries NO\+\_\+\+FLAG} = 0x0
, {\bfseries APPLY\+\_\+\+TO\+\_\+\+ALL\+\_\+\+FLAG} = 0x1
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_overwrite_dialog_af09518457cc0d14af31e1d567cfc16e0}{cancel\+Pressed}} () const
\item 
\mbox{\Hypertarget{class_overwrite_dialog_a7be08c6f4b16aa82833e4de228e2bbc6}\label{class_overwrite_dialog_a7be08c6f4b16aa82833e4de228e2bbc6}} 
Resolution {\bfseries execute} (\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&file\+Path, const Exists\+Func \&exists, Resolution accepted\+Res=ALL\+\_\+\+RESOLUTIONS, Flags flags=NO\+\_\+\+FLAG)
\item 
Resolution \mbox{\hyperlink{class_overwrite_dialog_a6d1630e77ddd3fb49691abaa4ea2dd4d}{get\+Choice}} () const
\begin{DoxyCompactList}\small\item\em Returns the resolution type chosen by the user. \end{DoxyCompactList}\item 
std\+::wstring \mbox{\hyperlink{class_overwrite_dialog_a38e776f7e3a8f705d9d9f22c92b9756e}{get\+Suffix}} ()
\item 
void \mbox{\hyperlink{class_overwrite_dialog_a3c09ac453d2b2ef3ef24c7578519d433}{reset}} ()
\begin{DoxyCompactList}\small\item\em Resets state variables. \end{DoxyCompactList}\item 
std\+::wstring \mbox{\hyperlink{class_overwrite_dialog_a627109534d8892c5196075aae964916d}{execute}} (\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$scene, const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&level\+Path, bool multi\+Load)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_overwrite_dialog_a3c82d0f7e50b3c49ad4355ec4dff9a8c}{apply\+To\+All}} ()
\item 
void \mbox{\hyperlink{class_overwrite_dialog_a7114d83de531be2b318dab9da6d93087}{cancel}} ()
\item 
void \mbox{\hyperlink{class_overwrite_dialog_a11ed7e85ee42aaca9d47667188a4046a}{on\+Button\+Clicked}} (int)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
This dialog offers a standard \textquotesingle{}overwrite file\textquotesingle{} resolution Dialog.

Sometimes, the system attempts to write to the file path of an already existing file. This dialog presents a standard interface to let users choose the conflict resolution manually.

There are 3 possible resolution choices\+:

\begin{DoxyItemize}
\item {\bfseries{Overwrite}} the existing file \item {\bfseries{Keep}} the existing file (aborting the write operation) \item {\bfseries{Rename}} the file to write adding a suffix\end{DoxyItemize}
Additionally, the dialog could be \textbackslash{}t CANCELED, either by closing it or pressing the \char`\"{}\+Cancel\char`\"{} button. 

\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_overwrite_dialog_acbdbe74bb65549cdd3d07c82934e548b}\label{class_overwrite_dialog_acbdbe74bb65549cdd3d07c82934e548b}} 
\index{OverwriteDialog@{OverwriteDialog}!Flags@{Flags}}
\index{Flags@{Flags}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{Flags}{Flags}}
{\footnotesize\ttfamily enum Overwrite\+Dialog\+::\+Flags}


\begin{DoxyCode}{0}
\DoxyCodeLine{00054 \{ NO\_FLAG = 0x0, APPLY\_TO\_ALL\_FLAG = 0x1 \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_overwrite_dialog_ac043802f71eefd4ec4be60ff4d2ffdb6}\label{class_overwrite_dialog_ac043802f71eefd4ec4be60ff4d2ffdb6}} 
\index{OverwriteDialog@{OverwriteDialog}!Resolution@{Resolution}}
\index{Resolution@{Resolution}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{Resolution}{Resolution}}
{\footnotesize\ttfamily enum Overwrite\+Dialog\+::\+Resolution}


\begin{DoxyCode}{0}
\DoxyCodeLine{00047                   \{}
\DoxyCodeLine{00048     CANCELED        = 0x0,}
\DoxyCodeLine{00049     KEEP\_OLD        = 0x1,}
\DoxyCodeLine{00050     OVERWRITE       = 0x2,}
\DoxyCodeLine{00051     RENAME          = 0x4,}
\DoxyCodeLine{00052     ALL\_RESOLUTIONS = KEEP\_OLD | OVERWRITE | RENAME}
\DoxyCodeLine{00053   \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_overwrite_dialog_a53099bbe10ffdecc22a4fffa3b224e2f}\label{class_overwrite_dialog_a53099bbe10ffdecc22a4fffa3b224e2f}} 
\index{OverwriteDialog@{OverwriteDialog}!OverwriteDialog@{OverwriteDialog}}
\index{OverwriteDialog@{OverwriteDialog}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{OverwriteDialog()}{OverwriteDialog()}}
{\footnotesize\ttfamily Overwrite\+Dialog\+::\+Overwrite\+Dialog (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00052     : \mbox{\hyperlink{class_d_v_gui_1_1_dialog}{DVGui::Dialog}}(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getMainWindow(), \textcolor{keyword}{true}) \{}
\DoxyCodeLine{00053   setModal(\textcolor{keyword}{true});}
\DoxyCodeLine{00054   setWindowTitle(tr(\textcolor{stringliteral}{"{}Warning!"{}}));}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056   QButtonGroup *buttonGroup = \textcolor{keyword}{new} QButtonGroup(\textcolor{keyword}{this});}
\DoxyCodeLine{00057   buttonGroup-\/>setExclusive(\textcolor{keyword}{true});}
\DoxyCodeLine{00058   \textcolor{keywordtype}{bool} ret = connect(buttonGroup, SIGNAL(buttonClicked(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{00059                      SLOT(onButtonClicked(\textcolor{keywordtype}{int})));}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ae7de609b3b23233656bc68852a2d10cb}{beginVLayout}}();}
\DoxyCodeLine{00062 }
\DoxyCodeLine{00063   m\_label = \textcolor{keyword}{new} QLabel(\textcolor{keyword}{this});}
\DoxyCodeLine{00064   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(m\_label);}
\DoxyCodeLine{00065 }
\DoxyCodeLine{00066   m\_keep = \textcolor{keyword}{new} QRadioButton(tr(\textcolor{stringliteral}{"{}Keep existing file"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{00067   buttonGroup-\/>addButton(m\_keep);}
\DoxyCodeLine{00068   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(m\_keep);}
\DoxyCodeLine{00069 }
\DoxyCodeLine{00070   m\_overwrite = \textcolor{keyword}{new} QRadioButton(}
\DoxyCodeLine{00071       tr(\textcolor{stringliteral}{"{}Overwrite the existing file with the new one"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{00072   buttonGroup-\/>addButton(m\_overwrite);}
\DoxyCodeLine{00073   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(m\_overwrite);}
\DoxyCodeLine{00074 }
\DoxyCodeLine{00075   m\_rename =}
\DoxyCodeLine{00076       \textcolor{keyword}{new} QRadioButton(tr(\textcolor{stringliteral}{"{}Rename the new file adding the suffix"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{00077   buttonGroup-\/>addButton(m\_rename);}
\DoxyCodeLine{00078 }
\DoxyCodeLine{00079   m\_suffix = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_line_edit}{DVGui::LineEdit}}(\textcolor{stringliteral}{"{}\_1"{}}, \textcolor{keyword}{this});}
\DoxyCodeLine{00080   m\_suffix-\/>setFixedWidth(25);}
\DoxyCodeLine{00081   m\_suffix-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083   QHBoxLayout *boxLayout = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{00084   boxLayout-\/>setMargin(0);}
\DoxyCodeLine{00085   boxLayout-\/>setSpacing(0);}
\DoxyCodeLine{00086   boxLayout-\/>addWidget(m\_rename);}
\DoxyCodeLine{00087   boxLayout-\/>addWidget(m\_suffix);}
\DoxyCodeLine{00088   boxLayout-\/>setAlignment(m\_rename, Qt::AlignLeft);}
\DoxyCodeLine{00089   boxLayout-\/>setAlignment(m\_suffix, Qt::AlignLeft);}
\DoxyCodeLine{00090   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_adecc035c55394875b6354480911feab2}{addLayout}}(boxLayout);}
\DoxyCodeLine{00091 }
\DoxyCodeLine{00092   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ab88d88334402845e544da6ca1f207c79}{endVLayout}}();}
\DoxyCodeLine{00093 }
\DoxyCodeLine{00094   m\_okBtn = \textcolor{keyword}{new} QPushButton(QString(tr(\textcolor{stringliteral}{"{}Apply"{}})), \textcolor{keyword}{this});}
\DoxyCodeLine{00095   ret     = ret \&\& connect(m\_okBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(accept()));}
\DoxyCodeLine{00096   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_aff324b24a1ad0c06fdc178024c1f0cf0}{addButtonBarWidget}}(m\_okBtn);}
\DoxyCodeLine{00097 }
\DoxyCodeLine{00098   m\_okToAllBtn = \textcolor{keyword}{new} QPushButton(QString(tr(\textcolor{stringliteral}{"{}Apply to All"{}})), \textcolor{keyword}{this});}
\DoxyCodeLine{00099   ret =}
\DoxyCodeLine{00100       ret \&\& connect(m\_okToAllBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(applyToAll()));}
\DoxyCodeLine{00101   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_aff324b24a1ad0c06fdc178024c1f0cf0}{addButtonBarWidget}}(m\_okToAllBtn);}
\DoxyCodeLine{00102 }
\DoxyCodeLine{00103   m\_cancelBtn = \textcolor{keyword}{new} QPushButton(QString(tr(\textcolor{stringliteral}{"{}Cancel"{}})), \textcolor{keyword}{this});}
\DoxyCodeLine{00104   ret = ret \&\& connect(m\_cancelBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(cancel()));}
\DoxyCodeLine{00105   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_aff324b24a1ad0c06fdc178024c1f0cf0}{addButtonBarWidget}}(m\_cancelBtn);}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107   assert(ret);}
\DoxyCodeLine{00108 }
\DoxyCodeLine{00109   \mbox{\hyperlink{class_overwrite_dialog_a3c09ac453d2b2ef3ef24c7578519d433}{reset}}();}
\DoxyCodeLine{00110   m\_keep-\/>setChecked(\textcolor{keyword}{true});}
\DoxyCodeLine{00111 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_overwrite_dialog_a3c82d0f7e50b3c49ad4355ec4dff9a8c}\label{class_overwrite_dialog_a3c82d0f7e50b3c49ad4355ec4dff9a8c}} 
\index{OverwriteDialog@{OverwriteDialog}!applyToAll@{applyToAll}}
\index{applyToAll@{applyToAll}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{applyToAll}{applyToAll}}
{\footnotesize\ttfamily void Overwrite\+Dialog\+::apply\+To\+All (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00129                                  \{}
\DoxyCodeLine{00130   m\_applyToAll = \textcolor{keyword}{true};}
\DoxyCodeLine{00131   accept();}
\DoxyCodeLine{00132 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_overwrite_dialog_a7114d83de531be2b318dab9da6d93087}\label{class_overwrite_dialog_a7114d83de531be2b318dab9da6d93087}} 
\index{OverwriteDialog@{OverwriteDialog}!cancel@{cancel}}
\index{cancel@{cancel}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{cancel}{cancel}}
{\footnotesize\ttfamily void Overwrite\+Dialog\+::cancel (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00136                              \{}
\DoxyCodeLine{00137   m\_cancelPressed = \textcolor{keyword}{true};}
\DoxyCodeLine{00138   reject();}
\DoxyCodeLine{00139 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_overwrite_dialog_af09518457cc0d14af31e1d567cfc16e0}\label{class_overwrite_dialog_af09518457cc0d14af31e1d567cfc16e0}} 
\index{OverwriteDialog@{OverwriteDialog}!cancelPressed@{cancelPressed}}
\index{cancelPressed@{cancelPressed}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{cancelPressed()}{cancelPressed()}}
{\footnotesize\ttfamily bool Overwrite\+Dialog\+::cancel\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00073 \{ \textcolor{keywordflow}{return} m\_cancelPressed; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_overwrite_dialog_a627109534d8892c5196075aae964916d}\label{class_overwrite_dialog_a627109534d8892c5196075aae964916d}} 
\index{OverwriteDialog@{OverwriteDialog}!execute@{execute}}
\index{execute@{execute}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily std\+::wstring Overwrite\+Dialog\+::execute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$}]{scene,  }\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{level\+Path,  }\item[{bool}]{multi\+Load }\end{DoxyParamCaption})}

this method has to be called for each filepath to be imported. Only if necessary, it opens a popup. put parameter multi\+Load to true only if you are importing more then one level (so that the button \textquotesingle{}apply to all\textquotesingle{} appears in the dialog) \mbox{\Hypertarget{class_overwrite_dialog_a6d1630e77ddd3fb49691abaa4ea2dd4d}\label{class_overwrite_dialog_a6d1630e77ddd3fb49691abaa4ea2dd4d}} 
\index{OverwriteDialog@{OverwriteDialog}!getChoice@{getChoice}}
\index{getChoice@{getChoice}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{getChoice()}{getChoice()}}
{\footnotesize\ttfamily Resolution Overwrite\+Dialog\+::get\+Choice (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the resolution type chosen by the user. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00085 \{ \textcolor{keywordflow}{return} m\_choice; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_overwrite_dialog_a38e776f7e3a8f705d9d9f22c92b9756e}\label{class_overwrite_dialog_a38e776f7e3a8f705d9d9f22c92b9756e}} 
\index{OverwriteDialog@{OverwriteDialog}!getSuffix@{getSuffix}}
\index{getSuffix@{getSuffix}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{getSuffix()}{getSuffix()}}
{\footnotesize\ttfamily std\+::wstring Overwrite\+Dialog\+::get\+Suffix (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns the suffix to be added at the base file name when the chosen resolution type is \textbackslash{}t KEEP\+\_\+\+OLD. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00123                                       \{}
\DoxyCodeLine{00124   \textcolor{keywordflow}{return} m\_suffix-\/>text().toStdWString();}
\DoxyCodeLine{00125 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00123}{get\+Suffix()}}.



Referenced by \mbox{\hyperlink{l00123}{get\+Suffix()}}.

\mbox{\Hypertarget{class_overwrite_dialog_a11ed7e85ee42aaca9d47667188a4046a}\label{class_overwrite_dialog_a11ed7e85ee42aaca9d47667188a4046a}} 
\index{OverwriteDialog@{OverwriteDialog}!onButtonClicked@{onButtonClicked}}
\index{onButtonClicked@{onButtonClicked}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{onButtonClicked}{onButtonClicked}}
{\footnotesize\ttfamily void Overwrite\+Dialog\+::on\+Button\+Clicked (\begin{DoxyParamCaption}\item[{int}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00143                                          \{}
\DoxyCodeLine{00144   m\_suffix-\/>setEnabled(m\_rename-\/>isChecked());}
\DoxyCodeLine{00145 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_overwrite_dialog_a3c09ac453d2b2ef3ef24c7578519d433}\label{class_overwrite_dialog_a3c09ac453d2b2ef3ef24c7578519d433}} 
\index{OverwriteDialog@{OverwriteDialog}!reset@{reset}}
\index{reset@{reset}!OverwriteDialog@{OverwriteDialog}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily void Overwrite\+Dialog\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Resets state variables. 



Reimplemented from \mbox{\hyperlink{class_d_v_gui_1_1_validated_choice_dialog_ab4a105a527f142c4ccb4d56aba7de466}{DVGui\+::\+Validated\+Choice\+Dialog}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00115                             \{}
\DoxyCodeLine{00116   m\_choice        = KEEP\_OLD;}
\DoxyCodeLine{00117   m\_applyToAll    = \textcolor{keyword}{false};}
\DoxyCodeLine{00118   m\_cancelPressed = \textcolor{keyword}{false};}
\DoxyCodeLine{00119 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00115}{reset()}}.



Referenced by \mbox{\hyperlink{l00115}{reset()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/overwritepopup.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/overwritepopup.\+cpp\end{DoxyCompactItemize}
