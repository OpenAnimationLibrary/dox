\hypertarget{class_full_color_fill_tool}{}\doxysection{Full\+Color\+Fill\+Tool Class Reference}
\label{class_full_color_fill_tool}\index{FullColorFillTool@{FullColorFillTool}}
Inheritance diagram for Full\+Color\+Fill\+Tool\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_full_color_fill_tool}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296c}{Tool\+Type}} \mbox{\hyperlink{class_full_color_fill_tool_a76cc15224220034b2759684b6f34aba9}{get\+Tool\+Type}} () const override
\item 
void \mbox{\hyperlink{class_full_color_fill_tool_abf9810c09f51e826321d9dc8cf41e5d2}{update\+Translation}} () override
\item 
\mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ \mbox{\hyperlink{class_full_color_fill_tool_ac1f48c82fbed9ff172e03610ed41b011}{get\+Properties}} (int target\+Type) override
\item 
\mbox{\hyperlink{class_fill_parameters}{Fill\+Parameters}} \mbox{\hyperlink{class_full_color_fill_tool_a95ee4662b7bee0820de17aa287d4c260}{get\+Fill\+Parameters}} () const
\item 
void \mbox{\hyperlink{class_full_color_fill_tool_aa3690fbf8fcc034f33aa6d85be9612fd}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_full_color_fill_tool_a8140ca2f76fa7505c4e3af482ddf1fa7}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
bool \mbox{\hyperlink{class_full_color_fill_tool_a3ecbc6239b69892459a7db754516a2d2}{on\+Property\+Changed}} (std\+::string property\+Name) override
\item 
void \mbox{\hyperlink{class_full_color_fill_tool_aa26bf6874aac177a0fcd677e5101aaad}{on\+Activate}} () override
\begin{DoxyCompactList}\small\item\em Callback invoked whenever the tool activates. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_full_color_fill_tool_af48488db0702690fd23eb7e30bf87391}{get\+Cursor\+Id}} () const override
\begin{DoxyCompactList}\small\item\em Returns the type of cursor used by the tool. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_full_color_fill_tool_ab145e664086212c257be542b1d29cf46}\label{class_full_color_fill_tool_ab145e664086212c257be542b1d29cf46}} 
\index{FullColorFillTool@{FullColorFillTool}!FullColorFillTool@{FullColorFillTool}}
\index{FullColorFillTool@{FullColorFillTool}!FullColorFillTool@{FullColorFillTool}}
\doxysubsubsection{\texorpdfstring{FullColorFillTool()}{FullColorFillTool()}}
{\footnotesize\ttfamily Full\+Color\+Fill\+Tool\+::\+Full\+Color\+Fill\+Tool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00141     : \mbox{\hyperlink{class_t_tool_a9c63ec35f606e755d0d036bf4fed62ab}{TTool}}(\textcolor{stringliteral}{"{}T\_Fill"{}}), m\_fillDepth(\textcolor{stringliteral}{"{}Fill Depth"{}}, 0, 15, 4, 12) \{}
\DoxyCodeLine{00142   bind(\mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859}{TTool::RasterImage}});}
\DoxyCodeLine{00143   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_fillDepth);}
\DoxyCodeLine{00144 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_full_color_fill_tool_af48488db0702690fd23eb7e30bf87391}\label{class_full_color_fill_tool_af48488db0702690fd23eb7e30bf87391}} 
\index{FullColorFillTool@{FullColorFillTool}!getCursorId@{getCursorId}}
\index{getCursorId@{getCursorId}!FullColorFillTool@{FullColorFillTool}}
\doxysubsubsection{\texorpdfstring{getCursorId()}{getCursorId()}}
{\footnotesize\ttfamily int Full\+Color\+Fill\+Tool\+::get\+Cursor\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the type of cursor used by the tool. 

\begin{DoxySeeAlso}{See also}
For a list of cursor ids \mbox{\hyperlink{}{cursor.\+h}} 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_t_tool_a1768a57b8b6d1480618fd923fad15f1d}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00216                                          \{}
\DoxyCodeLine{00217   \textcolor{keywordtype}{int} ret = ToolCursor::FillCursor;}
\DoxyCodeLine{00218   \textcolor{keywordflow}{if} (ToonzCheck::instance()-\/>getChecks() \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff}{ToonzCheck::eBlackBg}})}
\DoxyCodeLine{00219     ret = ret | ToolCursor::Ex\_Negate;}
\DoxyCodeLine{00220   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{00221 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00044}{Toonz\+Check\+::e\+Black\+Bg}}.

\mbox{\Hypertarget{class_full_color_fill_tool_a95ee4662b7bee0820de17aa287d4c260}\label{class_full_color_fill_tool_a95ee4662b7bee0820de17aa287d4c260}} 
\index{FullColorFillTool@{FullColorFillTool}!getFillParameters@{getFillParameters}}
\index{getFillParameters@{getFillParameters}!FullColorFillTool@{FullColorFillTool}}
\doxysubsubsection{\texorpdfstring{getFillParameters()}{getFillParameters()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_fill_parameters}{Fill\+Parameters}} Full\+Color\+Fill\+Tool\+::get\+Fill\+Parameters (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00150                                                           \{}
\DoxyCodeLine{00151   \mbox{\hyperlink{class_fill_parameters}{FillParameters}} params;}
\DoxyCodeLine{00152   \textcolor{keywordtype}{int} styleId           = TTool::getApplication()-\/>getCurrentLevelStyleIndex();}
\DoxyCodeLine{00153   params.m\_styleId      = styleId;}
\DoxyCodeLine{00154   params.m\_minFillDepth = (int)m\_fillDepth.getValue().first;}
\DoxyCodeLine{00155   params.m\_maxFillDepth = (int)m\_fillDepth.getValue().second;}
\DoxyCodeLine{00156 }
\DoxyCodeLine{00157   \textcolor{keywordflow}{if} (m\_level) params.m\_palette = m\_level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a9aea4f8e34caef293d5e5c7694047564}{getPalette}}();}
\DoxyCodeLine{00158   \textcolor{keywordflow}{return} params;}
\DoxyCodeLine{00159 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_full_color_fill_tool_ac1f48c82fbed9ff172e03610ed41b011}\label{class_full_color_fill_tool_ac1f48c82fbed9ff172e03610ed41b011}} 
\index{FullColorFillTool@{FullColorFillTool}!getProperties@{getProperties}}
\index{getProperties@{getProperties}!FullColorFillTool@{FullColorFillTool}}
\doxysubsubsection{\texorpdfstring{getProperties()}{getProperties()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ Full\+Color\+Fill\+Tool\+::get\+Properties (\begin{DoxyParamCaption}\item[{int}]{target\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00032 \{ \textcolor{keywordflow}{return} \&m\_prop; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_full_color_fill_tool_a76cc15224220034b2759684b6f34aba9}\label{class_full_color_fill_tool_a76cc15224220034b2759684b6f34aba9}} 
\index{FullColorFillTool@{FullColorFillTool}!getToolType@{getToolType}}
\index{getToolType@{getToolType}!FullColorFillTool@{FullColorFillTool}}
\doxysubsubsection{\texorpdfstring{getToolType()}{getToolType()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296c}{Tool\+Type}} Full\+Color\+Fill\+Tool\+::get\+Tool\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00028 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b}{TTool::LevelWriteTool}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_full_color_fill_tool_aa3690fbf8fcc034f33aa6d85be9612fd}\label{class_full_color_fill_tool_aa3690fbf8fcc034f33aa6d85be9612fd}} 
\index{FullColorFillTool@{FullColorFillTool}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!FullColorFillTool@{FullColorFillTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void Full\+Color\+Fill\+Tool\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00162                                                              \{}
\DoxyCodeLine{00163   m\_clickPoint  = pos;}
\DoxyCodeLine{00164   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *xl = TTool::getApplication()-\/>getCurrentLevel()-\/>getLevel();}
\DoxyCodeLine{00165   m\_level       = xl ? xl-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}() : 0;}
\DoxyCodeLine{00166   \mbox{\hyperlink{class_fill_parameters}{FillParameters}} params = getFillParameters();}
\DoxyCodeLine{00167   doFill(\mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{true}), pos, params, e.isShiftPressed(), m\_level.getPointer(),}
\DoxyCodeLine{00168          \mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}());}
\DoxyCodeLine{00169   \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00170 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_full_color_fill_tool_a8140ca2f76fa7505c4e3af482ddf1fa7}\label{class_full_color_fill_tool_a8140ca2f76fa7505c4e3af482ddf1fa7}} 
\index{FullColorFillTool@{FullColorFillTool}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!FullColorFillTool@{FullColorFillTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void Full\+Color\+Fill\+Tool\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00173                                                              \{}
\DoxyCodeLine{00174   \mbox{\hyperlink{class_fill_parameters}{FillParameters}} params = getFillParameters();}
\DoxyCodeLine{00175   \textcolor{keywordflow}{if} (m\_clickPoint == pos) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00176   \textcolor{keywordflow}{if} (!m\_level || !params.m\_palette) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00177   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} img = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00178   TPixel32 fillColor =}
\DoxyCodeLine{00179       params.m\_palette-\/>\mbox{\hyperlink{class_t_palette_a0f6a4eda7dafb0a9f2b43160cfec81e4}{getStyle}}(params.m\_styleId)-\/>\mbox{\hyperlink{class_t_color_style_abd78dd4e3ff3e2e78b647195f7622aa7}{getMainColor}}();}
\DoxyCodeLine{00180   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = img) \{}
\DoxyCodeLine{00181     \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} ras = ri-\/>getRaster();}
\DoxyCodeLine{00182     \textcolor{keywordflow}{if} (!ras) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00183     \mbox{\hyperlink{class_t_point_t}{TPointD}} center = ras-\/>getCenterD();}
\DoxyCodeLine{00184     \mbox{\hyperlink{class_t_point_t}{TPoint}} ipos    = convert(pos + center);}
\DoxyCodeLine{00185     \textcolor{keywordflow}{if} (!ras-\/>getBounds().contains(ipos)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00186     TPixel32 pix = ras-\/>pixels(ipos.y)[ipos.x];}
\DoxyCodeLine{00187     \textcolor{keywordflow}{if} (pix == fillColor) \{}
\DoxyCodeLine{00188       \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00189       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00190     \}}
\DoxyCodeLine{00191   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00192     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00193   doFill(img, pos, params, e.isShiftPressed(), m\_level.getPointer(),}
\DoxyCodeLine{00194          \mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}());}
\DoxyCodeLine{00195   \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00196 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_full_color_fill_tool_aa26bf6874aac177a0fcd677e5101aaad}\label{class_full_color_fill_tool_aa26bf6874aac177a0fcd677e5101aaad}} 
\index{FullColorFillTool@{FullColorFillTool}!onActivate@{onActivate}}
\index{onActivate@{onActivate}!FullColorFillTool@{FullColorFillTool}}
\doxysubsubsection{\texorpdfstring{onActivate()}{onActivate()}}
{\footnotesize\ttfamily void Full\+Color\+Fill\+Tool\+::on\+Activate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Callback invoked whenever the tool activates. 



Reimplemented from \mbox{\hyperlink{class_t_tool_ac286a2681633b4db6106596b4f54e53b}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00207                                    \{}
\DoxyCodeLine{00208   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} firstTime = \textcolor{keyword}{true};}
\DoxyCodeLine{00209   \textcolor{keywordflow}{if} (firstTime) \{}
\DoxyCodeLine{00210     m\_fillDepth.setValue(TDoublePairProperty::Value(FullColorMinFillDepth,}
\DoxyCodeLine{00211                                                     FullColorMaxFillDepth));}
\DoxyCodeLine{00212     firstTime = \textcolor{keyword}{false};}
\DoxyCodeLine{00213   \}}
\DoxyCodeLine{00214 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_full_color_fill_tool_a3ecbc6239b69892459a7db754516a2d2}\label{class_full_color_fill_tool_a3ecbc6239b69892459a7db754516a2d2}} 
\index{FullColorFillTool@{FullColorFillTool}!onPropertyChanged@{onPropertyChanged}}
\index{onPropertyChanged@{onPropertyChanged}!FullColorFillTool@{FullColorFillTool}}
\doxysubsubsection{\texorpdfstring{onPropertyChanged()}{onPropertyChanged()}}
{\footnotesize\ttfamily bool Full\+Color\+Fill\+Tool\+::on\+Property\+Changed (\begin{DoxyParamCaption}\item[{std\+::string}]{property\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} Does the tasks associated to changes in \p propertyName and returns \p
\end{DoxyVerb}
 true; Does the tasks associated to changes in {\ttfamily property\+Name} and returns {\ttfamily true}. 

Reimplemented from \mbox{\hyperlink{class_t_tool_a06694e0586f807c34b18e16341aa9ee2}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00198                                                                 \{}
\DoxyCodeLine{00199   \textcolor{comment}{// Fill Depth}}
\DoxyCodeLine{00200   \textcolor{keywordflow}{if} (propertyName == m\_fillDepth.getName()) \{}
\DoxyCodeLine{00201     FullColorMinFillDepth = (int)m\_fillDepth.getValue().first;}
\DoxyCodeLine{00202     FullColorMaxFillDepth = (int)m\_fillDepth.getValue().second;}
\DoxyCodeLine{00203   \}}
\DoxyCodeLine{00204   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00205 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_full_color_fill_tool_abf9810c09f51e826321d9dc8cf41e5d2}\label{class_full_color_fill_tool_abf9810c09f51e826321d9dc8cf41e5d2}} 
\index{FullColorFillTool@{FullColorFillTool}!updateTranslation@{updateTranslation}}
\index{updateTranslation@{updateTranslation}!FullColorFillTool@{FullColorFillTool}}
\doxysubsubsection{\texorpdfstring{updateTranslation()}{updateTranslation()}}
{\footnotesize\ttfamily void Full\+Color\+Fill\+Tool\+::update\+Translation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00146                                           \{}
\DoxyCodeLine{00147   m\_fillDepth.setQStringName(tr(\textcolor{stringliteral}{"{}Fill Depth"{}}));}
\DoxyCodeLine{00148 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/fullcolorfilltool.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/fullcolorfilltool.\+cpp\end{DoxyCompactItemize}
