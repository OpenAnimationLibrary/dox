\hypertarget{class_corner_pin_fx}{}\doxysection{Corner\+Pin\+Fx Class Reference}
\label{class_corner_pin_fx}\index{CornerPinFx@{CornerPinFx}}
Inheritance diagram for Corner\+Pin\+Fx\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{class_corner_pin_fx}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_corner_pin_fx_af3994ef6d967739feb70977bbf2b1313}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
void \mbox{\hyperlink{class_corner_pin_fx_aa24bf8195a93b72f889112405c1e1407}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&ri) override
\item 
void \mbox{\hyperlink{class_corner_pin_fx_a718aa2730f22802c08124c443f71b824}{do\+Dry\+Compute}} (\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
int \mbox{\hyperlink{class_corner_pin_fx_a1e89a7a5bea8b11835242f92332b6c85}{get\+Memory\+Requirement}} (const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
\mbox{\Hypertarget{class_corner_pin_fx_a362cede5b607dba9eaad7b1ce43ccd8a}\label{class_corner_pin_fx_a362cede5b607dba9eaad7b1ce43ccd8a}} 
void {\bfseries on\+Port\+Connected} (\mbox{\hyperlink{class_t_fx_port}{TFx\+Port}} $\ast$port)
\item 
bool \mbox{\hyperlink{class_corner_pin_fx_a7c6198f7280cc3d5dac91d3f89e9fc8a}{can\+Handle}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info, double frame) override
\item 
bool \mbox{\hyperlink{class_corner_pin_fx_af7b61695ea4edfd69efca385498b41d4}{allow\+User\+Cache\+On\+Port}} (int port) override
\item 
void \mbox{\hyperlink{class_corner_pin_fx_a3c6d081ffc31b1102e6a454cc2c984a8}{transform}} (double frame, int port, const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Output, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Output, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Input, \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Input) override
\item 
void \mbox{\hyperlink{class_corner_pin_fx_a8072984d02ef0aa8b6e4ef46236713da}{safe\+Transform}} (double frame, int port, const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Output, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Output, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Input, \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Input, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&in\+BBox)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_corner_pin_fx_a4e9e58b47dcd03c726d333818ce933f5}\label{class_corner_pin_fx_a4e9e58b47dcd03c726d333818ce933f5}} 
\index{CornerPinFx@{CornerPinFx}!CornerPinFx@{CornerPinFx}}
\index{CornerPinFx@{CornerPinFx}!CornerPinFx@{CornerPinFx}}
\doxysubsubsection{\texorpdfstring{CornerPinFx()}{CornerPinFx()}}
{\footnotesize\ttfamily Corner\+Pin\+Fx\+::\+Corner\+Pin\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00082     : m\_distortType(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(PERSPECTIVE, \textcolor{stringliteral}{"{}Perspective"{}}))}
\DoxyCodeLine{00083     , m\_deactivate(\textcolor{keyword}{false})}
\DoxyCodeLine{00084     , m\_string(L\textcolor{stringliteral}{"{}1,2,3"{}})}
\DoxyCodeLine{00085     , m\_mode(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(SUBSTITUTE, \textcolor{stringliteral}{"{}Texture"{}}))}
\DoxyCodeLine{00086     , m\_keep(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(0, \textcolor{stringliteral}{"{}Delete"{}}))}
\DoxyCodeLine{00087     , m\_value(100) \{}
\DoxyCodeLine{00088   \textcolor{keywordtype}{double} ext = 400.;}
\DoxyCodeLine{00089   \textcolor{keywordtype}{double} inn = 400.;}
\DoxyCodeLine{00090   m\_p00\_a    = \mbox{\hyperlink{class_t_point_t}{TPointD}}(-\/ext, -\/ext);}
\DoxyCodeLine{00091   m\_p00\_b    = \mbox{\hyperlink{class_t_point_t}{TPointD}}(-\/inn, -\/inn);}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093   m\_p01\_a = \mbox{\hyperlink{class_t_point_t}{TPointD}}(-\/ext, ext);}
\DoxyCodeLine{00094   m\_p01\_b = \mbox{\hyperlink{class_t_point_t}{TPointD}}(-\/inn, inn);}
\DoxyCodeLine{00095 }
\DoxyCodeLine{00096   m\_p11\_a = \mbox{\hyperlink{class_t_point_t}{TPointD}}(ext, ext);}
\DoxyCodeLine{00097   m\_p11\_b = \mbox{\hyperlink{class_t_point_t}{TPointD}}(inn, inn);}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099   m\_p10\_a = \mbox{\hyperlink{class_t_point_t}{TPointD}}(ext, -\/ext);}
\DoxyCodeLine{00100   m\_p10\_b = \mbox{\hyperlink{class_t_point_t}{TPointD}}(inn, -\/inn);}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00102   m\_p00\_b-\/>getX()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00103   m\_p00\_b-\/>getY()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00104   m\_p10\_b-\/>getX()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00105   m\_p10\_b-\/>getY()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00106   m\_p01\_b-\/>getX()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00107   m\_p01\_b-\/>getY()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00108   m\_p11\_b-\/>getX()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00109   m\_p11\_b-\/>getY()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111   m\_p00\_a-\/>getX()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00112   m\_p00\_a-\/>getY()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00113   m\_p10\_a-\/>getX()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00114   m\_p10\_a-\/>getY()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00115   m\_p01\_a-\/>getX()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00116   m\_p01\_a-\/>getY()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00117   m\_p11\_a-\/>getX()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00118   m\_p11\_a-\/>getY()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00119 }
\DoxyCodeLine{00120   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}distort\_type"{}}, m\_distortType);}
\DoxyCodeLine{00121 }
\DoxyCodeLine{00122   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}bottom\_left\_b"{}}, m\_p00\_b);}
\DoxyCodeLine{00123   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}bottom\_right\_b"{}}, m\_p10\_b);}
\DoxyCodeLine{00124   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}top\_left\_b"{}}, m\_p01\_b);}
\DoxyCodeLine{00125   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}top\_right\_b"{}}, m\_p11\_b);}
\DoxyCodeLine{00126 }
\DoxyCodeLine{00127   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}bottom\_left\_a"{}}, m\_p00\_a);}
\DoxyCodeLine{00128   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}bottom\_right\_a"{}}, m\_p10\_a);}
\DoxyCodeLine{00129   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}top\_left\_a"{}}, m\_p01\_a);}
\DoxyCodeLine{00130   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}top\_right\_a"{}}, m\_p11\_a);}
\DoxyCodeLine{00131 }
\DoxyCodeLine{00132   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}deactivate"{}}, m\_deactivate);}
\DoxyCodeLine{00133 }
\DoxyCodeLine{00134   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}indexes"{}}, m\_string);}
\DoxyCodeLine{00135   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}mode"{}}, m\_mode);}
\DoxyCodeLine{00136   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}keep"{}}, m\_keep);}
\DoxyCodeLine{00137   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}value"{}}, m\_value);}
\DoxyCodeLine{00138 }
\DoxyCodeLine{00139   \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}source"{}}, m\_input);}
\DoxyCodeLine{00140   \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}Texture"{}}, m\_texture);}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142   m\_value-\/>setValueRange(0, 100);}
\DoxyCodeLine{00143   m\_keep-\/>addItem(1, \textcolor{stringliteral}{"{}Keep"{}});}
\DoxyCodeLine{00144 }
\DoxyCodeLine{00145   m\_mode-\/>addItem(PATTERNTYPE, \textcolor{stringliteral}{"{}Pattern"{}});}
\DoxyCodeLine{00146   m\_mode-\/>addItem(ADD, \textcolor{stringliteral}{"{}Add"{}});}
\DoxyCodeLine{00147   m\_mode-\/>addItem(SUBTRACT, \textcolor{stringliteral}{"{}Subtract"{}});}
\DoxyCodeLine{00148   m\_mode-\/>addItem(MULTIPLY, \textcolor{stringliteral}{"{}Multiply"{}});}
\DoxyCodeLine{00149   m\_mode-\/>addItem(LIGHTEN, \textcolor{stringliteral}{"{}Lighten"{}});}
\DoxyCodeLine{00150   m\_mode-\/>addItem(DARKEN, \textcolor{stringliteral}{"{}Darken"{}});}
\DoxyCodeLine{00151 }
\DoxyCodeLine{00152   m\_p00\_a-\/>getX()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00153   m\_p00\_b-\/>getX()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00154 }
\DoxyCodeLine{00155   m\_p00\_a-\/>getY()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00156   m\_p00\_b-\/>getY()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00157 }
\DoxyCodeLine{00158   m\_p01\_a-\/>getX()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00159   m\_p01\_b-\/>getX()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00160 }
\DoxyCodeLine{00161   m\_p01\_a-\/>getY()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00162   m\_p01\_b-\/>getY()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00163 }
\DoxyCodeLine{00164   m\_p11\_a-\/>getX()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00165   m\_p11\_b-\/>getX()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00166 }
\DoxyCodeLine{00167   m\_p11\_a-\/>getY()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00168   m\_p11\_b-\/>getY()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00169 }
\DoxyCodeLine{00170   m\_p10\_a-\/>getX()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00171   m\_p10\_b-\/>getX()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00172 }
\DoxyCodeLine{00173   m\_p10\_a-\/>getY()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00174   m\_p10\_b-\/>getY()-\/>setValueRange(-\/1000, 1000);}
\DoxyCodeLine{00175 }
\DoxyCodeLine{00176   m\_distortType-\/>addItem(BILINEAR, \textcolor{stringliteral}{"{}Bilinear"{}});}
\DoxyCodeLine{00177 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_corner_pin_fx_a73776434c985ac772f713850509eea28}\label{class_corner_pin_fx_a73776434c985ac772f713850509eea28}} 
\index{CornerPinFx@{CornerPinFx}!````~CornerPinFx@{$\sim$CornerPinFx}}
\index{````~CornerPinFx@{$\sim$CornerPinFx}!CornerPinFx@{CornerPinFx}}
\doxysubsubsection{\texorpdfstring{$\sim$CornerPinFx()}{~CornerPinFx()}}
{\footnotesize\ttfamily Corner\+Pin\+Fx\+::$\sim$\+Corner\+Pin\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00181 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_corner_pin_fx_af7b61695ea4edfd69efca385498b41d4}\label{class_corner_pin_fx_af7b61695ea4edfd69efca385498b41d4}} 
\index{CornerPinFx@{CornerPinFx}!allowUserCacheOnPort@{allowUserCacheOnPort}}
\index{allowUserCacheOnPort@{allowUserCacheOnPort}!CornerPinFx@{CornerPinFx}}
\doxysubsubsection{\texorpdfstring{allowUserCacheOnPort()}{allowUserCacheOnPort()}}
{\footnotesize\ttfamily bool Corner\+Pin\+Fx\+::allow\+User\+Cache\+On\+Port (\begin{DoxyParamCaption}\item[{int}]{port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00044 \{ \textcolor{keywordflow}{return} port != 0; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_corner_pin_fx_a7c6198f7280cc3d5dac91d3f89e9fc8a}\label{class_corner_pin_fx_a7c6198f7280cc3d5dac91d3f89e9fc8a}} 
\index{CornerPinFx@{CornerPinFx}!canHandle@{canHandle}}
\index{canHandle@{canHandle}!CornerPinFx@{CornerPinFx}}
\doxysubsubsection{\texorpdfstring{canHandle()}{canHandle()}}
{\footnotesize\ttfamily bool Corner\+Pin\+Fx\+::can\+Handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00040                                                                      \{}
\DoxyCodeLine{00041     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00042   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_corner_pin_fx_aa24bf8195a93b72f889112405c1e1407}\label{class_corner_pin_fx_aa24bf8195a93b72f889112405c1e1407}} 
\index{CornerPinFx@{CornerPinFx}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!CornerPinFx@{CornerPinFx}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void Corner\+Pin\+Fx\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{ri }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00412                                                        \{}
\DoxyCodeLine{00413   \textcolor{keywordflow}{if} (!m\_input.isConnected()) \{}
\DoxyCodeLine{00414     tile.getRaster()-\/>clear();}
\DoxyCodeLine{00415     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00416   \}}
\DoxyCodeLine{00417 }
\DoxyCodeLine{00418   \mbox{\hyperlink{class_t_tile}{TTile}} invertMaskTile;}
\DoxyCodeLine{00419 }
\DoxyCodeLine{00420   \textcolor{comment}{// carico il vettore items con gli indici dei colori}}
\DoxyCodeLine{00421   std::vector<std::string> items;}
\DoxyCodeLine{00422   std::string indexes = ::to\_string(m\_string-\/>getValue());}
\DoxyCodeLine{00423   parseIndexes(indexes, items);}
\DoxyCodeLine{00424 }
\DoxyCodeLine{00425   \textcolor{comment}{// genero il tile il cui raster contiene l'immagine in input a cui sono stati}}
\DoxyCodeLine{00426   \textcolor{comment}{// tolti i pixel}}
\DoxyCodeLine{00427   \textcolor{comment}{// colorati con gli indici contenuti nel vettore items}}
\DoxyCodeLine{00428   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} ri2(ri);}
\DoxyCodeLine{00429   \mbox{\hyperlink{class_palette_filter_fx_render_data}{PaletteFilterFxRenderData}} *PaletteFilterData = \textcolor{keyword}{new} \mbox{\hyperlink{class_palette_filter_fx_render_data}{PaletteFilterFxRenderData}};}
\DoxyCodeLine{00430   \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterFxRenderDataP}} smartP(PaletteFilterData);}
\DoxyCodeLine{00431   insertIndexes(items, PaletteFilterData);}
\DoxyCodeLine{00432   PaletteFilterData-\/>m\_keep = (m\_keep-\/>getValue() == 1);}
\DoxyCodeLine{00433   ri2.m\_data.push\_back(PaletteFilterData);}
\DoxyCodeLine{00434   ri2.m\_userCachable = \textcolor{keyword}{false};}
\DoxyCodeLine{00435   m\_input-\/>allocateAndCompute(invertMaskTile, tile.m\_pos,}
\DoxyCodeLine{00436                               tile.getRaster()-\/>getSize(), tile.getRaster(),}
\DoxyCodeLine{00437                               frame, ri2);}
\DoxyCodeLine{00438 }
\DoxyCodeLine{00439   \textcolor{keywordflow}{if} (!m\_texture.isConnected()) \{}
\DoxyCodeLine{00440     tile.getRaster()-\/>\mbox{\hyperlink{class_t_raster_a3c590c4ebe4cb8c1f352437692ffd20e}{copy}}(invertMaskTile.getRaster());}
\DoxyCodeLine{00441     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00442   \}}
\DoxyCodeLine{00443 }
\DoxyCodeLine{00444   \textcolor{comment}{// genero il tile il cui raster contiene l'immagine in input a cui sono stati}}
\DoxyCodeLine{00445   \textcolor{comment}{// tolti i pixel}}
\DoxyCodeLine{00446   \textcolor{comment}{// colorati con indici diversi da quelli contenuti nel vettore items}}
\DoxyCodeLine{00447   \textcolor{keywordtype}{bool} isSwatch                = ri2.m\_isSwatch;}
\DoxyCodeLine{00448   \textcolor{keywordflow}{if} (isSwatch) ri2.m\_isSwatch = \textcolor{keyword}{false};}
\DoxyCodeLine{00449   PaletteFilterData-\/>m\_keep    = !(m\_keep-\/>getValue() == 1);}
\DoxyCodeLine{00450   m\_input-\/>compute(tile, frame, ri2);}
\DoxyCodeLine{00451   \textcolor{keywordflow}{if} (isSwatch) ri2.m\_isSwatch = \textcolor{keyword}{true};}
\DoxyCodeLine{00452 }
\DoxyCodeLine{00453   \textcolor{comment}{// controllo se ho ottenuto quaclosa su cui si possa lavorare.}}
\DoxyCodeLine{00454   \mbox{\hyperlink{class_t_rect_t}{TRect}} saveBox;}
\DoxyCodeLine{00455   \mbox{\hyperlink{namespace_t_rop_a1dfdba06d4f71d86755d8e0833a7a071}{TRop::computeBBox}}(tile.getRaster(), saveBox);}
\DoxyCodeLine{00456   \textcolor{keywordflow}{if} (saveBox.\mbox{\hyperlink{class_t_rect_t_a53ce09c6112f8a019b43ad82d721a93b}{isEmpty}}()) \{}
\DoxyCodeLine{00457     \textcolor{comment}{// I guess that this case should be wiped out...}}
\DoxyCodeLine{00458     m\_input-\/>compute(tile, frame, ri);  \textcolor{comment}{// Could the invertMask be copied??}}
\DoxyCodeLine{00459     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00460   \}}
\DoxyCodeLine{00461 }
\DoxyCodeLine{00462   \textcolor{comment}{// Then, generate the texture tile and make its distortion}}
\DoxyCodeLine{00463   \mbox{\hyperlink{class_t_tile}{TTile}} textureTile;}
\DoxyCodeLine{00464   \textcolor{keywordflow}{if} (m\_deactivate-\/>getValue()) \{}
\DoxyCodeLine{00465     \mbox{\hyperlink{class_t_dimension_t}{TDimension}} size = tile.getRaster()-\/>getSize();}
\DoxyCodeLine{00466     \mbox{\hyperlink{class_t_point_t}{TPointD}} pos     = tile.m\_pos;}
\DoxyCodeLine{00467     m\_texture-\/>allocateAndCompute(textureTile, pos, size, tile.getRaster(),}
\DoxyCodeLine{00468                                   frame, ri);}
\DoxyCodeLine{00469   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00470     \textcolor{comment}{// Build the interesting texture region}}
\DoxyCodeLine{00471     \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} tileRas(tile.getRaster());}
\DoxyCodeLine{00472     \mbox{\hyperlink{class_t_rect_t}{TRectD}} tileRect(convert(tileRas-\/>getBounds()) + tile.m\_pos);}
\DoxyCodeLine{00473 }
\DoxyCodeLine{00474     \mbox{\hyperlink{class_t_rect_t}{TRectD}} inRect;}
\DoxyCodeLine{00475     \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} riNew;}
\DoxyCodeLine{00476     \mbox{\hyperlink{class_t_rect_t}{TRectD}} inBBox;}
\DoxyCodeLine{00477 }
\DoxyCodeLine{00478     safeTransform(frame, 1, tileRect, ri, inRect, riNew, inBBox);}
\DoxyCodeLine{00479 }
\DoxyCodeLine{00480     inRect *= inBBox;}
\DoxyCodeLine{00481 }
\DoxyCodeLine{00482     \textcolor{keywordflow}{if} (myIsEmpty(inRect)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00483 }
\DoxyCodeLine{00484     \mbox{\hyperlink{class_t_dimension_t}{TDimension}} inRectSize(tceil(inRect.getLx()), tceil(inRect.getLy()));}
\DoxyCodeLine{00485 }
\DoxyCodeLine{00486     \mbox{\hyperlink{class_t_tile}{TTile}} inTile;}
\DoxyCodeLine{00487     m\_texture-\/>allocateAndCompute(inTile, inRect.getP00(), inRectSize, tileRas,}
\DoxyCodeLine{00488                                   frame, riNew);}
\DoxyCodeLine{00489 }
\DoxyCodeLine{00490     \textcolor{comment}{// Get the source quad}}
\DoxyCodeLine{00491     \mbox{\hyperlink{class_t_point_t}{TPointD}} p00\_b = m\_p00\_b-\/>getValue(frame);}
\DoxyCodeLine{00492     \mbox{\hyperlink{class_t_point_t}{TPointD}} p10\_b = m\_p10\_b-\/>getValue(frame);}
\DoxyCodeLine{00493     \mbox{\hyperlink{class_t_point_t}{TPointD}} p01\_b = m\_p01\_b-\/>getValue(frame);}
\DoxyCodeLine{00494     \mbox{\hyperlink{class_t_point_t}{TPointD}} p11\_b = m\_p11\_b-\/>getValue(frame);}
\DoxyCodeLine{00495 }
\DoxyCodeLine{00496     \textcolor{comment}{// Get destination quad}}
\DoxyCodeLine{00497     \mbox{\hyperlink{class_t_point_t}{TPointD}} p00\_a = m\_p00\_a-\/>getValue(frame);}
\DoxyCodeLine{00498     \mbox{\hyperlink{class_t_point_t}{TPointD}} p10\_a = m\_p10\_a-\/>getValue(frame);}
\DoxyCodeLine{00499     \mbox{\hyperlink{class_t_point_t}{TPointD}} p01\_a = m\_p01\_a-\/>getValue(frame);}
\DoxyCodeLine{00500     \mbox{\hyperlink{class_t_point_t}{TPointD}} p11\_a = m\_p11\_a-\/>getValue(frame);}
\DoxyCodeLine{00501 }
\DoxyCodeLine{00502     \textcolor{keywordtype}{double} scale = 0;}
\DoxyCodeLine{00503     scale        = std::max(scale, norm(p10\_a -\/ p00\_a) / norm(p10\_b -\/ p00\_b));}
\DoxyCodeLine{00504     scale        = std::max(scale, norm(p01\_a -\/ p00\_a) / norm(p01\_b -\/ p00\_b));}
\DoxyCodeLine{00505     scale        = std::max(scale, norm(p11\_a -\/ p10\_a) / norm(p11\_b -\/ p10\_b));}
\DoxyCodeLine{00506     scale        = std::max(scale, norm(p11\_a -\/ p01\_a) / norm(p11\_b -\/ p01\_b));}
\DoxyCodeLine{00507 }
\DoxyCodeLine{00508     \mbox{\hyperlink{class_t_affine}{TAffine}} A\_1B(getPort1Affine(frame));}
\DoxyCodeLine{00509     \mbox{\hyperlink{class_t_affine}{TAffine}} B(ri.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * A\_1B);}
\DoxyCodeLine{00510     scale *= sqrt(fabs(B.det()));}
\DoxyCodeLine{00511 }
\DoxyCodeLine{00512     \textcolor{keywordflow}{if} (ri.\mbox{\hyperlink{class_t_render_settings_a4903fdcd70fc5cc539133ac3d7c53316}{m\_isSwatch}})}
\DoxyCodeLine{00513       \textcolor{keywordflow}{if} (scale > 1) scale = 1;}
\DoxyCodeLine{00514 }
\DoxyCodeLine{00515     p00\_b = riNew.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p00\_b;}
\DoxyCodeLine{00516     p10\_b = riNew.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p10\_b;}
\DoxyCodeLine{00517     p01\_b = riNew.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p01\_b;}
\DoxyCodeLine{00518     p11\_b = riNew.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p11\_b;}
\DoxyCodeLine{00519 }
\DoxyCodeLine{00520     p00\_a = ri.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p00\_a;}
\DoxyCodeLine{00521     p10\_a = ri.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p10\_a;}
\DoxyCodeLine{00522     p01\_a = ri.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p01\_a;}
\DoxyCodeLine{00523     p11\_a = ri.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p11\_a;}
\DoxyCodeLine{00524 }
\DoxyCodeLine{00525     \mbox{\hyperlink{class_perspective_distorter}{PerspectiveDistorter}} perpDistorter(}
\DoxyCodeLine{00526         p00\_b -\/ inTile.m\_pos, p10\_b -\/ inTile.m\_pos, p01\_b -\/ inTile.m\_pos,}
\DoxyCodeLine{00527         p11\_b -\/ inTile.m\_pos, p00\_a, p10\_a, p01\_a, p11\_a);}
\DoxyCodeLine{00528 }
\DoxyCodeLine{00529     \mbox{\hyperlink{class_bilinear_distorter}{BilinearDistorter}} bilDistorter(p00\_b -\/ inTile.m\_pos, p10\_b -\/ inTile.m\_pos,}
\DoxyCodeLine{00530                                    p01\_b -\/ inTile.m\_pos, p11\_b -\/ inTile.m\_pos,}
\DoxyCodeLine{00531                                    p00\_a, p10\_a, p01\_a, p11\_a);}
\DoxyCodeLine{00532 }
\DoxyCodeLine{00533     \mbox{\hyperlink{class_t_distorter}{TDistorter}} *distorter;}
\DoxyCodeLine{00534     \textcolor{keywordflow}{if} (m\_distortType-\/>getValue() == PERSPECTIVE)}
\DoxyCodeLine{00535       distorter = \&perpDistorter;}
\DoxyCodeLine{00536     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_distortType-\/>getValue() == BILINEAR)}
\DoxyCodeLine{00537       distorter = \&bilDistorter;}
\DoxyCodeLine{00538     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00539       assert(0);}
\DoxyCodeLine{00540 }
\DoxyCodeLine{00541     \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} textureRas(tileRas-\/>create(tileRas-\/>getLx(), tileRas-\/>getLy()));}
\DoxyCodeLine{00542     distort(textureRas, inTile.getRaster(), *distorter, convert(tile.m\_pos),}
\DoxyCodeLine{00543             \mbox{\hyperlink{namespace_t_rop_a2780cb0189f5717b67b6aca3f5471168a152d46ac03e804c799ed08f703eeeb4e}{TRop::Bilinear}});}
\DoxyCodeLine{00544     textureTile.m\_pos = tile.m\_pos;}
\DoxyCodeLine{00545     textureTile.setRaster(textureRas);}
\DoxyCodeLine{00546   \}}
\DoxyCodeLine{00547 }
\DoxyCodeLine{00548   \textcolor{comment}{// Then, apply the texture}}
\DoxyCodeLine{00549   \textcolor{keywordtype}{double} v = m\_value-\/>getValue(frame);}
\DoxyCodeLine{00550   \textcolor{keywordflow}{if} (ri.\mbox{\hyperlink{class_t_render_settings_a9489ed9d21a047b29cc5dd285f1f6f19}{m\_bpp}} == 32) \{}
\DoxyCodeLine{00551     \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} witheCard;}
\DoxyCodeLine{00552 }
\DoxyCodeLine{00553     myOver32(tile.getRaster(), invertMaskTile.getRaster(),}
\DoxyCodeLine{00554              \&makeOpaque<TPixel32>, v);}
\DoxyCodeLine{00555 }
\DoxyCodeLine{00556     \textcolor{keywordflow}{switch} (m\_mode-\/>getValue()) \{}
\DoxyCodeLine{00557     \textcolor{keywordflow}{case} SUBSTITUTE:}
\DoxyCodeLine{00558       myOver32(tile.getRaster(), textureTile.getRaster(), \&substitute<TPixel32>,}
\DoxyCodeLine{00559                v);}
\DoxyCodeLine{00560       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00561     \textcolor{keywordflow}{case} PATTERNTYPE:}
\DoxyCodeLine{00562       witheCard = \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}}(textureTile.getRaster()-\/>getSize());}
\DoxyCodeLine{00563       witheCard-\/>fill(TPixel32::White);}
\DoxyCodeLine{00564       \mbox{\hyperlink{namespace_t_rop_ae5fd1fb0c2f625e1da14fe92ae0e5122}{TRop::over}}(textureTile.getRaster(), witheCard, textureTile.getRaster());}
\DoxyCodeLine{00565       myOver32(tile.getRaster(), textureTile.getRaster(), \&pattern32, v);}
\DoxyCodeLine{00566       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00567     \textcolor{keywordflow}{case} ADD:}
\DoxyCodeLine{00568       myOver32(tile.getRaster(), textureTile.getRaster(), \&textureAdd<TPixel32>,}
\DoxyCodeLine{00569                v / 100.0);}
\DoxyCodeLine{00570       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00571     \textcolor{keywordflow}{case} SUBTRACT:}
\DoxyCodeLine{00572       myOver32(tile.getRaster(), textureTile.getRaster(), \&textureSub<TPixel32>,}
\DoxyCodeLine{00573                v / 100.0);}
\DoxyCodeLine{00574       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00575     \textcolor{keywordflow}{case} MULTIPLY:}
\DoxyCodeLine{00576       myOver32(tile.getRaster(), textureTile.getRaster(),}
\DoxyCodeLine{00577                \&textureMult<TPixel32>, v);}
\DoxyCodeLine{00578       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00579     \textcolor{keywordflow}{case} DARKEN:}
\DoxyCodeLine{00580       myOver32(tile.getRaster(), textureTile.getRaster(),}
\DoxyCodeLine{00581                \&textureDarken<TPixel32>, v);}
\DoxyCodeLine{00582       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00583     \textcolor{keywordflow}{case} LIGHTEN:}
\DoxyCodeLine{00584       myOver32(tile.getRaster(), textureTile.getRaster(),}
\DoxyCodeLine{00585                \&textureLighten<TPixel32>, v);}
\DoxyCodeLine{00586       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00587     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00588       assert(0);}
\DoxyCodeLine{00589       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00590     \}}
\DoxyCodeLine{00591   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00592     \mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}} witheCard;}
\DoxyCodeLine{00593 }
\DoxyCodeLine{00594     myOver64(tile.getRaster(), invertMaskTile.getRaster(),}
\DoxyCodeLine{00595              \&makeOpaque<TPixel64>, v);}
\DoxyCodeLine{00596 }
\DoxyCodeLine{00597     \textcolor{keywordflow}{switch} (m\_mode-\/>getValue()) \{}
\DoxyCodeLine{00598     \textcolor{keywordflow}{case} SUBSTITUTE:}
\DoxyCodeLine{00599       myOver64(tile.getRaster(), textureTile.getRaster(), \&substitute<TPixel64>,}
\DoxyCodeLine{00600                v);}
\DoxyCodeLine{00601       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00602     \textcolor{keywordflow}{case} PATTERNTYPE:}
\DoxyCodeLine{00603       witheCard = \mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}}(textureTile.getRaster()-\/>getSize());}
\DoxyCodeLine{00604       witheCard-\/>fill(TPixel64::White);}
\DoxyCodeLine{00605       \mbox{\hyperlink{namespace_t_rop_ae5fd1fb0c2f625e1da14fe92ae0e5122}{TRop::over}}(textureTile.getRaster(), witheCard, textureTile.getRaster());}
\DoxyCodeLine{00606       myOver64(tile.getRaster(), textureTile.getRaster(), \&pattern64, v);}
\DoxyCodeLine{00607       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00608     \textcolor{keywordflow}{case} ADD:}
\DoxyCodeLine{00609       myOver64(tile.getRaster(), textureTile.getRaster(), \&textureAdd<TPixel64>,}
\DoxyCodeLine{00610                v / 100.0);}
\DoxyCodeLine{00611       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00612     \textcolor{keywordflow}{case} SUBTRACT:}
\DoxyCodeLine{00613       myOver64(tile.getRaster(), textureTile.getRaster(), \&textureSub<TPixel64>,}
\DoxyCodeLine{00614                v / 100.0);}
\DoxyCodeLine{00615       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00616     \textcolor{keywordflow}{case} MULTIPLY:}
\DoxyCodeLine{00617       myOver64(tile.getRaster(), textureTile.getRaster(),}
\DoxyCodeLine{00618                \&textureMult<TPixel64>, v);}
\DoxyCodeLine{00619       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00620     \textcolor{keywordflow}{case} DARKEN:}
\DoxyCodeLine{00621       myOver64(tile.getRaster(), textureTile.getRaster(),}
\DoxyCodeLine{00622                \&textureDarken<TPixel64>, v);}
\DoxyCodeLine{00623       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00624     \textcolor{keywordflow}{case} LIGHTEN:}
\DoxyCodeLine{00625       myOver64(tile.getRaster(), textureTile.getRaster(),}
\DoxyCodeLine{00626                \&textureLighten<TPixel64>, v);}
\DoxyCodeLine{00627       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00628     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00629       assert(0);}
\DoxyCodeLine{00630       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00631     \}}
\DoxyCodeLine{00632   \}}
\DoxyCodeLine{00633 }
\DoxyCodeLine{00634   \mbox{\hyperlink{namespace_t_rop_ae5fd1fb0c2f625e1da14fe92ae0e5122}{TRop::over}}(tile.getRaster(), invertMaskTile.getRaster());}
\DoxyCodeLine{00635 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_corner_pin_fx_a718aa2730f22802c08124c443f71b824}\label{class_corner_pin_fx_a718aa2730f22802c08124c443f71b824}} 
\index{CornerPinFx@{CornerPinFx}!doDryCompute@{doDryCompute}}
\index{doDryCompute@{doDryCompute}!CornerPinFx@{CornerPinFx}}
\doxysubsubsection{\texorpdfstring{doDryCompute()}{doDryCompute()}}
{\footnotesize\ttfamily void Corner\+Pin\+Fx\+::do\+Dry\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Declares the computation scheme of this fx for rendering optimization purposes. This is an important function of the Toonz rendering API, and should be reimplemented with the necessary care. The Toonz rendering process makes use of this function to enact most of the optimization steps about the fx computation, in particular fx caching. A correct implementation of this method should follow these rules\+:  The invocation of child node computations should be faithfully reproduced.  TRaster\+Fx\+::compute and TRaster\+Fx\+::allocate\+And\+Compute calls have to be translated to TRaster\+Fx\+::dry\+Compute calls.  This fx is intended for precomputation stage, so the hard rendering code should be skipped here. By default, this method raises a dry\+Compute call to each input port in increasing order, using the TRaster\+Fx\+::transform method to identify the tiles to be passed on input precomputation. 

Reimplemented from \mbox{\hyperlink{class_t_raster_fx_a47ec31d2d4c3a066cd6744fb8c80edf2}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00365                                                           \{}
\DoxyCodeLine{00366   \textcolor{keywordflow}{if} (!m\_input.isConnected()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00367 }
\DoxyCodeLine{00368   std::vector<std::string> items;}
\DoxyCodeLine{00369   std::string indexes = ::to\_string(m\_string-\/>getValue());}
\DoxyCodeLine{00370   parseIndexes(indexes, items);}
\DoxyCodeLine{00371   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} ri2(ri);}
\DoxyCodeLine{00372   \mbox{\hyperlink{class_palette_filter_fx_render_data}{PaletteFilterFxRenderData}} *PaletteFilterData = \textcolor{keyword}{new} \mbox{\hyperlink{class_palette_filter_fx_render_data}{PaletteFilterFxRenderData}};}
\DoxyCodeLine{00373   \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterFxRenderDataP}} smartP(PaletteFilterData);}
\DoxyCodeLine{00374   insertIndexes(items, PaletteFilterData);}
\DoxyCodeLine{00375   PaletteFilterData-\/>m\_keep = (m\_keep-\/>getValue() == 1);}
\DoxyCodeLine{00376   ri2.m\_data.push\_back(PaletteFilterData);}
\DoxyCodeLine{00377   ri2.m\_userCachable = \textcolor{keyword}{false};}
\DoxyCodeLine{00378 }
\DoxyCodeLine{00379   \textcolor{comment}{// First child compute: part of output that IS NOT texturized}}
\DoxyCodeLine{00380   m\_input-\/>dryCompute(rect, frame, ri2);}
\DoxyCodeLine{00381 }
\DoxyCodeLine{00382   \textcolor{keywordflow}{if} (!m\_texture.isConnected()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00383 }
\DoxyCodeLine{00384   \textcolor{keywordtype}{bool} isSwatch                = ri2.m\_isSwatch;}
\DoxyCodeLine{00385   \textcolor{keywordflow}{if} (isSwatch) ri2.m\_isSwatch = \textcolor{keyword}{false};}
\DoxyCodeLine{00386   PaletteFilterData-\/>m\_keep    = !(m\_keep-\/>getValue() == 1);}
\DoxyCodeLine{00387 }
\DoxyCodeLine{00388   \textcolor{comment}{// Second child compute: part of output that IS to be texturized}}
\DoxyCodeLine{00389   m\_input-\/>dryCompute(rect, frame, ri2);}
\DoxyCodeLine{00390 }
\DoxyCodeLine{00391   \textcolor{comment}{// Deal with the texture}}
\DoxyCodeLine{00392   \textcolor{keywordflow}{if} (m\_deactivate-\/>getValue())}
\DoxyCodeLine{00393     m\_texture-\/>dryCompute(rect, frame, ri);}
\DoxyCodeLine{00394   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00395     \mbox{\hyperlink{class_t_rect_t}{TRectD}} inRect;}
\DoxyCodeLine{00396     \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} riNew;}
\DoxyCodeLine{00397     \mbox{\hyperlink{class_t_rect_t}{TRectD}} inBBox;}
\DoxyCodeLine{00398 }
\DoxyCodeLine{00399     safeTransform(frame, 1, rect, ri, inRect, riNew, inBBox);}
\DoxyCodeLine{00400 }
\DoxyCodeLine{00401     inRect *= inBBox;}
\DoxyCodeLine{00402 }
\DoxyCodeLine{00403     \textcolor{keywordflow}{if} (myIsEmpty(inRect)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00404 }
\DoxyCodeLine{00405     m\_texture-\/>dryCompute(inRect, frame, riNew);}
\DoxyCodeLine{00406   \}}
\DoxyCodeLine{00407 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00101}{TRender\+Settings\+::m\+\_\+data}}, \mbox{\hyperlink{l00136}{TRender\+Settings\+::m\+\_\+is\+Swatch}}, and \mbox{\hyperlink{l00139}{TRender\+Settings\+::m\+\_\+user\+Cachable}}.

\mbox{\Hypertarget{class_corner_pin_fx_af3994ef6d967739feb70977bbf2b1313}\label{class_corner_pin_fx_af3994ef6d967739feb70977bbf2b1313}} 
\index{CornerPinFx@{CornerPinFx}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!CornerPinFx@{CornerPinFx}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool Corner\+Pin\+Fx\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00186                                                          \{}
\DoxyCodeLine{00187   \textcolor{keywordflow}{if} (m\_input.isConnected()) \{}
\DoxyCodeLine{00188     \textcolor{keywordtype}{bool} ret = m\_input-\/>doGetBBox(frame, bBox, info);}
\DoxyCodeLine{00189     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{00190   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00191     bBox = \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{00192     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00193   \}}
\DoxyCodeLine{00194 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_corner_pin_fx_a1e89a7a5bea8b11835242f92332b6c85}\label{class_corner_pin_fx_a1e89a7a5bea8b11835242f92332b6c85}} 
\index{CornerPinFx@{CornerPinFx}!getMemoryRequirement@{getMemoryRequirement}}
\index{getMemoryRequirement@{getMemoryRequirement}!CornerPinFx@{CornerPinFx}}
\doxysubsubsection{\texorpdfstring{getMemoryRequirement()}{getMemoryRequirement()}}
{\footnotesize\ttfamily int Corner\+Pin\+Fx\+::get\+Memory\+Requirement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Specifies the approximate size (in Mega\+Bytes) of the maximum allocation instance that this fx will need to perform in order to render the passed input. This method should be reimplemented in order to make the Toonz rendering process aware of the use of big raster memory chunks, at least. Observe that the passed tile geometry is implicitly {\itshape  already allocated \texorpdfstring{$<$}{<}\textbackslash{}i\texorpdfstring{$>$}{>} for the fx output. ~\newline
The default implementation returns 0, assuming that the passed implicit memory size is passed below in node computation without further allocation of resources. Fxs can reimplement this to -\/1 to explicitly disable the Toonz\textquotesingle{}s smart memory handling. ~\newline
 ~\newline
\begin{DoxyNote}{Note}
The rendering process ensures that the passed render settings are {\itshape handled} by the fx before this function is invoked -\/ do not waste code for it. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRaster\+Fx\+::memory\+Size}} and TRaster\+Fx\+::can\+Handle methods. 
\end{DoxySeeAlso}
}

Reimplemented from \mbox{\hyperlink{class_t_raster_fx_af8eb991c9756f4fb2e48d9f96cbacfba}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00640                                                                    \{}
\DoxyCodeLine{00641   \textcolor{keywordflow}{if} (!m\_texture.isConnected()) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRasterFx::memorySize}}(rect, info.m\_bpp);}
\DoxyCodeLine{00642 }
\DoxyCodeLine{00643   \mbox{\hyperlink{class_t_rect_t}{TRectD}} inRect;}
\DoxyCodeLine{00644   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} riNew;}
\DoxyCodeLine{00645   \mbox{\hyperlink{class_t_rect_t}{TRectD}} inBBox;}
\DoxyCodeLine{00646   safeTransform(frame, 1, rect, info, inRect, riNew, inBBox);}
\DoxyCodeLine{00647   inRect *= inBBox;}
\DoxyCodeLine{00648 }
\DoxyCodeLine{00649   \textcolor{keywordflow}{return} std::max(\mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRasterFx::memorySize}}(rect, info.m\_bpp),}
\DoxyCodeLine{00650                   \mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRasterFx::memorySize}}(inRect, riNew.\mbox{\hyperlink{class_t_render_settings_a9489ed9d21a047b29cc5dd285f1f6f19}{m\_bpp}}));}
\DoxyCodeLine{00651 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00116}{TRender\+Settings\+::m\+\_\+bpp}}, and \mbox{\hyperlink{l00560}{TRaster\+Fx\+::memory\+Size()}}.

\mbox{\Hypertarget{class_corner_pin_fx_a8072984d02ef0aa8b6e4ef46236713da}\label{class_corner_pin_fx_a8072984d02ef0aa8b6e4ef46236713da}} 
\index{CornerPinFx@{CornerPinFx}!safeTransform@{safeTransform}}
\index{safeTransform@{safeTransform}!CornerPinFx@{CornerPinFx}}
\doxysubsubsection{\texorpdfstring{safeTransform()}{safeTransform()}}
{\footnotesize\ttfamily void Corner\+Pin\+Fx\+::safe\+Transform (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{int}]{port,  }\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Output,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Output,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Input,  }\item[{\mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Input,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{in\+BBox }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00322                                                                               \{}
\DoxyCodeLine{00323   assert(port == 1 \&\& m\_texture.isConnected());}
\DoxyCodeLine{00324 }
\DoxyCodeLine{00325   \textcolor{keywordflow}{if} (m\_deactivate-\/>getValue()) \{}
\DoxyCodeLine{00326     infoOnInput = infoOnOutput;}
\DoxyCodeLine{00327     rectOnInput = rectOnOutput;}
\DoxyCodeLine{00328     m\_texture-\/>getBBox(frame, inBBox, infoOnInput);}
\DoxyCodeLine{00329     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00330   \}}
\DoxyCodeLine{00331 }
\DoxyCodeLine{00332   \textcolor{comment}{// Avoid the singular matrix cases}}
\DoxyCodeLine{00333   \textcolor{keywordflow}{if} (fabs(infoOnOutput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}}.det()) < 1.e-\/3) \{}
\DoxyCodeLine{00334     infoOnInput = infoOnOutput;}
\DoxyCodeLine{00335     rectOnInput.empty();}
\DoxyCodeLine{00336     m\_texture-\/>getBBox(frame, inBBox, infoOnInput);}
\DoxyCodeLine{00337     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00338   \}}
\DoxyCodeLine{00339 }
\DoxyCodeLine{00340   transform(frame, port, rectOnOutput, infoOnOutput, rectOnInput, infoOnInput);}
\DoxyCodeLine{00341 }
\DoxyCodeLine{00342   m\_texture-\/>getBBox(frame, inBBox, infoOnInput);}
\DoxyCodeLine{00343 }
\DoxyCodeLine{00344   \textcolor{comment}{// In case inBBox is infinite, such as with gradients, also intersect with the}}
\DoxyCodeLine{00345   \textcolor{comment}{// input quadrilateral's bbox}}
\DoxyCodeLine{00346   \textcolor{keywordflow}{if} (inBBox == TConsts::infiniteRectD) \{}
\DoxyCodeLine{00347     \mbox{\hyperlink{class_t_point_t}{TPointD}} affP00\_b(infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * m\_p00\_b-\/>getValue(frame));}
\DoxyCodeLine{00348     \mbox{\hyperlink{class_t_point_t}{TPointD}} affP10\_b(infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * m\_p10\_b-\/>getValue(frame));}
\DoxyCodeLine{00349     \mbox{\hyperlink{class_t_point_t}{TPointD}} affP01\_b(infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * m\_p01\_b-\/>getValue(frame));}
\DoxyCodeLine{00350     \mbox{\hyperlink{class_t_point_t}{TPointD}} affP11\_b(infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * m\_p11\_b-\/>getValue(frame));}
\DoxyCodeLine{00351 }
\DoxyCodeLine{00352     \mbox{\hyperlink{class_t_rect_t}{TRectD}} source;}
\DoxyCodeLine{00353     source.x0 = std::min(\{affP00\_b.x, affP10\_b.x, affP01\_b.x, affP11\_b.x\});}
\DoxyCodeLine{00354     source.y0 = std::min(\{affP00\_b.y, affP10\_b.y, affP01\_b.y, affP11\_b.y\});}
\DoxyCodeLine{00355     source.x1 = std::max(\{affP00\_b.x, affP10\_b.x, affP01\_b.x, affP11\_b.x\});}
\DoxyCodeLine{00356     source.y1 = std::max(\{affP00\_b.y, affP10\_b.y, affP01\_b.y, affP11\_b.y\});}
\DoxyCodeLine{00357 }
\DoxyCodeLine{00358     rectOnInput *= source;}
\DoxyCodeLine{00359   \}}
\DoxyCodeLine{00360 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_corner_pin_fx_a3c6d081ffc31b1102e6a454cc2c984a8}\label{class_corner_pin_fx_a3c6d081ffc31b1102e6a454cc2c984a8}} 
\index{CornerPinFx@{CornerPinFx}!transform@{transform}}
\index{transform@{transform}!CornerPinFx@{CornerPinFx}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}}
{\footnotesize\ttfamily void Corner\+Pin\+Fx\+::transform (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{int}]{port,  }\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Output,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Output,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Input,  }\item[{\mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00224                                                                                \{}
\DoxyCodeLine{00225   \textcolor{comment}{// Build the input affine}}
\DoxyCodeLine{00226   infoOnInput = infoOnOutput;}
\DoxyCodeLine{00227 }
\DoxyCodeLine{00228   \mbox{\hyperlink{class_t_point_t}{TPointD}} p00\_b = m\_p00\_b-\/>getValue(frame);}
\DoxyCodeLine{00229   \mbox{\hyperlink{class_t_point_t}{TPointD}} p10\_b = m\_p10\_b-\/>getValue(frame);}
\DoxyCodeLine{00230   \mbox{\hyperlink{class_t_point_t}{TPointD}} p01\_b = m\_p01\_b-\/>getValue(frame);}
\DoxyCodeLine{00231   \mbox{\hyperlink{class_t_point_t}{TPointD}} p11\_b = m\_p11\_b-\/>getValue(frame);}
\DoxyCodeLine{00232 }
\DoxyCodeLine{00233   \mbox{\hyperlink{class_t_point_t}{TPointD}} p00\_a = m\_p00\_a-\/>getValue(frame);}
\DoxyCodeLine{00234   \mbox{\hyperlink{class_t_point_t}{TPointD}} p10\_a = m\_p10\_a-\/>getValue(frame);}
\DoxyCodeLine{00235   \mbox{\hyperlink{class_t_point_t}{TPointD}} p01\_a = m\_p01\_a-\/>getValue(frame);}
\DoxyCodeLine{00236   \mbox{\hyperlink{class_t_point_t}{TPointD}} p11\_a = m\_p11\_a-\/>getValue(frame);}
\DoxyCodeLine{00237 }
\DoxyCodeLine{00238   \textcolor{comment}{// NOTE 1: An appropriate scale factor is sent below in the schematic,}}
\DoxyCodeLine{00239   \textcolor{comment}{// depending}}
\DoxyCodeLine{00240   \textcolor{comment}{// on the image distortion. For example, if the distortion brings a 2 scale}}
\DoxyCodeLine{00241   \textcolor{comment}{// factor,}}
\DoxyCodeLine{00242   \textcolor{comment}{// we want the same factor applied on image levels, so that their detail is}}
\DoxyCodeLine{00243   \textcolor{comment}{// appropriate}}
\DoxyCodeLine{00244   \textcolor{comment}{//(especially for vector images).}}
\DoxyCodeLine{00245 }
\DoxyCodeLine{00246   \textcolor{keywordtype}{double} scale = 0;}
\DoxyCodeLine{00247   scale        = std::max(scale, norm(p10\_a -\/ p00\_a) / norm(p10\_b -\/ p00\_b));}
\DoxyCodeLine{00248   scale        = std::max(scale, norm(p01\_a -\/ p00\_a) / norm(p01\_b -\/ p00\_b));}
\DoxyCodeLine{00249   scale        = std::max(scale, norm(p11\_a -\/ p10\_a) / norm(p11\_b -\/ p10\_b));}
\DoxyCodeLine{00250   scale        = std::max(scale, norm(p11\_a -\/ p01\_a) / norm(p11\_b -\/ p01\_b));}
\DoxyCodeLine{00251 }
\DoxyCodeLine{00252   \mbox{\hyperlink{class_t_affine}{TAffine}} A\_1B(getPort1Affine(frame));}
\DoxyCodeLine{00253   \mbox{\hyperlink{class_t_affine}{TAffine}} B(infoOnOutput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * A\_1B);}
\DoxyCodeLine{00254 }
\DoxyCodeLine{00255   scale *= sqrt(fabs(B.det()));}
\DoxyCodeLine{00256 }
\DoxyCodeLine{00257   \textcolor{keywordflow}{if} (infoOnOutput.\mbox{\hyperlink{class_t_render_settings_a4903fdcd70fc5cc539133ac3d7c53316}{m\_isSwatch}}) \{}
\DoxyCodeLine{00258     \textcolor{comment}{// Swatch viewers work out a lite version of the distort: only contractions}}
\DoxyCodeLine{00259     \textcolor{comment}{// are passed below in the schematic -\/ so that input memory load is always}}
\DoxyCodeLine{00260     \textcolor{comment}{// at minimum.}}
\DoxyCodeLine{00261     \textcolor{comment}{// This is allowed in order to make fx adjusts the less frustrating as}}
\DoxyCodeLine{00262     \textcolor{comment}{// possible.}}
\DoxyCodeLine{00263     \textcolor{keywordflow}{if} (scale > 1) scale = 1;}
\DoxyCodeLine{00264   \}}
\DoxyCodeLine{00265 }
\DoxyCodeLine{00266   \textcolor{comment}{// NOTE 2: We further include A\_1B.inv() to be applied on the level. This is}}
\DoxyCodeLine{00267   \textcolor{comment}{// done to}}
\DoxyCodeLine{00268   \textcolor{comment}{// counter the presence of A\_1B just below this node -\/ since it is preferable}}
\DoxyCodeLine{00269   \textcolor{comment}{// to place A\_1B}}
\DoxyCodeLine{00270   \textcolor{comment}{// directly in the distort.}}
\DoxyCodeLine{00271 }
\DoxyCodeLine{00272   infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} = \mbox{\hyperlink{class_t_scale}{TScale}}(scale) * A\_1B.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}();}
\DoxyCodeLine{00273   \textcolor{comment}{// rectOnInput = (TScale(scale) * B.inv()) * rectOnOutput;}}
\DoxyCodeLine{00274 }
\DoxyCodeLine{00275   \textcolor{comment}{// NOTE 3: The original distortion points are intended on the source port}}
\DoxyCodeLine{00276   \textcolor{comment}{// *before* applying A.}}
\DoxyCodeLine{00277   \textcolor{comment}{// But we want to have them on texture port *before* applying B; so, the}}
\DoxyCodeLine{00278   \textcolor{comment}{// following ref change arises:}}
\DoxyCodeLine{00279   \textcolor{comment}{//  p\_b = (TScale(scale) * A\_1B.inv()) * p\_b == infoOnInput.m\_aff * p\_b;}}
\DoxyCodeLine{00280   \textcolor{comment}{//  p\_a = (B * A\_1B.inv()) * p\_a == infoOnOutput.m\_aff * p\_a;}}
\DoxyCodeLine{00281   \textcolor{comment}{// Observe that scale and B are here due to NOTES 1 and 2.}}
\DoxyCodeLine{00282 }
\DoxyCodeLine{00283   \textcolor{comment}{// Build rectOnInput}}
\DoxyCodeLine{00284   p00\_a = infoOnOutput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p00\_a;}
\DoxyCodeLine{00285   p10\_a = infoOnOutput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p10\_a;}
\DoxyCodeLine{00286   p01\_a = infoOnOutput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p01\_a;}
\DoxyCodeLine{00287   p11\_a = infoOnOutput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p11\_a;}
\DoxyCodeLine{00288 }
\DoxyCodeLine{00289   p00\_b = infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p00\_b;}
\DoxyCodeLine{00290   p10\_b = infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p10\_b;}
\DoxyCodeLine{00291   p01\_b = infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p01\_b;}
\DoxyCodeLine{00292   p11\_b = infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * p11\_b;}
\DoxyCodeLine{00293 }
\DoxyCodeLine{00294   \textcolor{keywordflow}{if} (m\_distortType-\/>getValue() == PERSPECTIVE) \{}
\DoxyCodeLine{00295     \mbox{\hyperlink{class_perspective_distorter}{PerspectiveDistorter}} pd(p00\_b, p10\_b, p01\_b, p11\_b, p00\_a, p10\_a, p01\_a,}
\DoxyCodeLine{00296                             p11\_a);}
\DoxyCodeLine{00297 }
\DoxyCodeLine{00298     rectOnInput = ((\mbox{\hyperlink{class_t_quad_distorter}{TQuadDistorter}} *)\&pd)-\/>invMap(rectOnOutput);}
\DoxyCodeLine{00299   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00300     \mbox{\hyperlink{class_bilinear_distorter}{BilinearDistorter}} bd(p00\_b, p10\_b, p01\_b, p11\_b, p00\_a, p10\_a, p01\_a,}
\DoxyCodeLine{00301                          p11\_a);}
\DoxyCodeLine{00302 }
\DoxyCodeLine{00303     rectOnInput = ((\mbox{\hyperlink{class_t_quad_distorter}{TQuadDistorter}} *)\&bd)-\/>invMap(rectOnOutput);}
\DoxyCodeLine{00304   \}}
\DoxyCodeLine{00305 }
\DoxyCodeLine{00306   \textcolor{keywordflow}{if} (rectOnInput.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} != TConsts::infiniteRectD.x0)}
\DoxyCodeLine{00307     rectOnInput.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} = tfloor(rectOnInput.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}});}
\DoxyCodeLine{00308   \textcolor{keywordflow}{if} (rectOnInput.y0 != TConsts::infiniteRectD.y0)}
\DoxyCodeLine{00309     rectOnInput.y0 = tfloor(rectOnInput.y0);}
\DoxyCodeLine{00310   \textcolor{keywordflow}{if} (rectOnInput.x1 != TConsts::infiniteRectD.x1)}
\DoxyCodeLine{00311     rectOnInput.x1 = tceil(rectOnInput.x1);}
\DoxyCodeLine{00312   \textcolor{keywordflow}{if} (rectOnInput.y1 != TConsts::infiniteRectD.y1)}
\DoxyCodeLine{00313     rectOnInput.y1 = tceil(rectOnInput.y1);}
\DoxyCodeLine{00314 \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/stdfx/cornerpinfx.\+cpp\end{DoxyCompactItemize}
