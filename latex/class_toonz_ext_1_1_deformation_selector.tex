\hypertarget{class_toonz_ext_1_1_deformation_selector}{}\doxysection{Toonz\+Ext\+::Deformation\+Selector Class Reference}
\label{class_toonz_ext_1_1_deformation_selector}\index{ToonzExt::DeformationSelector@{ToonzExt::DeformationSelector}}


This class is a Singleton that selects the correct \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{Stroke\+Deformation\+Impl}} that will use \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation}{Stroke\+Deformation}}.  




{\ttfamily \#include $<$Deformation\+Selector.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_toonz_ext_1_1_deformation_selector_af40fc4b97f996f56c3f1d6622fe016e7}{add}} (\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{Stroke\+Deformation\+Impl}} $\ast$deformation, int priority)
\item 
\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{Stroke\+Deformation\+Impl}} $\ast$ \mbox{\hyperlink{class_toonz_ext_1_1_deformation_selector_ade1b15a1717865c6182b490bf266e4ed}{get\+Deformation}} (const \mbox{\hyperlink{struct_toonz_ext_1_1_context_status}{Context\+Status}} $\ast$status)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_toonz_ext_1_1_deformation_selector}{Deformation\+Selector}} $\ast$ \mbox{\hyperlink{class_toonz_ext_1_1_deformation_selector_a645474db34c4e9d1060bc68c995de318}{instance}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class is a Singleton that selects the correct \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{Stroke\+Deformation\+Impl}} that will use \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation}{Stroke\+Deformation}}. 

The selection use aspect of stroke (type of corner, smoothness, ...) and priority of \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{Stroke\+Deformation\+Impl}} itself. Priority can manage simply some strange case (corner that seems to be straight corner and smooth corner).

\begin{DoxyNote}{Note}
Selection can be overridden by user. 

Private use only. 
\end{DoxyNote}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_toonz_ext_1_1_deformation_selector_ae5490a314fd9c064fca1a959ba16d92b}\label{class_toonz_ext_1_1_deformation_selector_ae5490a314fd9c064fca1a959ba16d92b}} 
\index{ToonzExt::DeformationSelector@{ToonzExt::DeformationSelector}!````~DeformationSelector@{$\sim$DeformationSelector}}
\index{````~DeformationSelector@{$\sim$DeformationSelector}!ToonzExt::DeformationSelector@{ToonzExt::DeformationSelector}}
\doxysubsubsection{\texorpdfstring{$\sim$DeformationSelector()}{~DeformationSelector()}}
{\footnotesize\ttfamily Deformation\+Selector\+::$\sim$\+Deformation\+Selector (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00017 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_toonz_ext_1_1_deformation_selector_af40fc4b97f996f56c3f1d6622fe016e7}\label{class_toonz_ext_1_1_deformation_selector_af40fc4b97f996f56c3f1d6622fe016e7}} 
\index{ToonzExt::DeformationSelector@{ToonzExt::DeformationSelector}!add@{add}}
\index{add@{add}!ToonzExt::DeformationSelector@{ToonzExt::DeformationSelector}}
\doxysubsubsection{\texorpdfstring{add()}{add()}}
{\footnotesize\ttfamily void Deformation\+Selector\+::add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{Stroke\+Deformation\+Impl}} $\ast$}]{deformation,  }\item[{int}]{priority }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00029                                             \{}
\DoxyCodeLine{00030   assert(deformation \&\& \textcolor{stringliteral}{"{}Not deformation available!!!"{}});}
\DoxyCodeLine{00031   \textcolor{keywordflow}{if} (!deformation) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00032   \mbox{\hyperlink{class_deformation}{Deformation}} val(deformation, priority);}
\DoxyCodeLine{00033   ref\_.push\_back(val);}
\DoxyCodeLine{00034 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_deformation_selector_ade1b15a1717865c6182b490bf266e4ed}\label{class_toonz_ext_1_1_deformation_selector_ade1b15a1717865c6182b490bf266e4ed}} 
\index{ToonzExt::DeformationSelector@{ToonzExt::DeformationSelector}!getDeformation@{getDeformation}}
\index{getDeformation@{getDeformation}!ToonzExt::DeformationSelector@{ToonzExt::DeformationSelector}}
\doxysubsubsection{\texorpdfstring{getDeformation()}{getDeformation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{Stroke\+Deformation\+Impl}} $\ast$ Deformation\+Selector\+::get\+Deformation (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_toonz_ext_1_1_context_status}{Context\+Status}} $\ast$}]{status }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00039                                  \{}
\DoxyCodeLine{00040   assert(status \&\& \textcolor{stringliteral}{"{}Not status available!!!"{}});}
\DoxyCodeLine{00041   \textcolor{keywordflow}{if} (!status) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00042 }
\DoxyCodeLine{00043   \mbox{\hyperlink{class_deformation}{Deformation}} candidate((\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{StrokeDeformationImpl}} *)0, -\/1);}
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045   \textcolor{comment}{// by default lower deformator is selected}}
\DoxyCodeLine{00046   \mbox{\hyperlink{class_deformation}{Deformation}} default\_def((\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{StrokeDeformationImpl}} *)0, -\/1);}
\DoxyCodeLine{00047   \textcolor{keywordflow}{if} (!ref\_.empty()) default\_def = ref\_[0];}
\DoxyCodeLine{00048 }
\DoxyCodeLine{00049   vector<Deformation>::iterator it, end = ref\_.end();}
\DoxyCodeLine{00050   \textcolor{keywordflow}{for} (it = ref\_.begin(); it != end; ++it) \{}
\DoxyCodeLine{00051     \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{StrokeDeformationImpl}} *tmp = it-\/>first;}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053     \textcolor{keywordflow}{if} (tmp-\/>check(status)) \{}
\DoxyCodeLine{00054       \textcolor{keywordflow}{if} (it-\/>second > candidate.second) \{}
\DoxyCodeLine{00055         candidate                                        = *it;}
\DoxyCodeLine{00056         \textcolor{keywordflow}{if} (it-\/>second < default\_def.second) default\_def = *it;}
\DoxyCodeLine{00057       \}}
\DoxyCodeLine{00058     \}}
\DoxyCodeLine{00059     \textcolor{keywordflow}{if} (tmp-\/>getShortcutKey() == status-\/>key\_event\_) \{}
\DoxyCodeLine{00060       \textcolor{keywordflow}{return} tmp;}
\DoxyCodeLine{00061     \}}
\DoxyCodeLine{00062   \}}
\DoxyCodeLine{00063 }
\DoxyCodeLine{00064   \textcolor{comment}{// if there is a good candidate return it}}
\DoxyCodeLine{00065   \textcolor{keywordflow}{if} (candidate.first) \textcolor{keywordflow}{return} candidate.first;}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067   \textcolor{comment}{// else select a lower deformator (smooth)}}
\DoxyCodeLine{00068   \textcolor{keywordflow}{return} default\_def.first;}
\DoxyCodeLine{00069 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_deformation_selector_a645474db34c4e9d1060bc68c995de318}\label{class_toonz_ext_1_1_deformation_selector_a645474db34c4e9d1060bc68c995de318}} 
\index{ToonzExt::DeformationSelector@{ToonzExt::DeformationSelector}!instance@{instance}}
\index{instance@{instance}!ToonzExt::DeformationSelector@{ToonzExt::DeformationSelector}}
\doxysubsubsection{\texorpdfstring{instance()}{instance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_toonz_ext_1_1_deformation_selector}{Deformation\+Selector}} $\ast$ Deformation\+Selector\+::instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00021                                                    \{}
\DoxyCodeLine{00022   \textcolor{keyword}{static} \mbox{\hyperlink{class_toonz_ext_1_1_deformation_selector}{DeformationSelector}} singleton;}
\DoxyCodeLine{00023   \textcolor{keywordflow}{return} \&singleton;}
\DoxyCodeLine{00024 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnzext/Deformation\+Selector.\+h\item 
E\+:/opentoonz/toonz/sources/tnzext/Deformation\+Selector.\+cpp\end{DoxyCompactItemize}
