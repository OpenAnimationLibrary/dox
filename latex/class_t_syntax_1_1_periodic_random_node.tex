\hypertarget{class_t_syntax_1_1_periodic_random_node}{}\doxysection{TSyntax\+::Periodic\+Random\+Node Class Reference}
\label{class_t_syntax_1_1_periodic_random_node}\index{TSyntax::PeriodicRandomNode@{TSyntax::PeriodicRandomNode}}
Inheritance diagram for TSyntax\+::Periodic\+Random\+Node\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_t_syntax_1_1_periodic_random_node}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_syntax_1_1_periodic_random_node_a6a16976301b9f54882aff1714918a7a0}{Periodic\+Random\+Node}} (\mbox{\hyperlink{class_t_syntax_1_1_calculator}{Calculator}} $\ast$calc)
\item 
void \mbox{\hyperlink{class_t_syntax_1_1_periodic_random_node_a4af2972ebaaddc4f593d7ea7b8190cce}{set\+Period}} (\mbox{\hyperlink{class_t_syntax_1_1_calculator_node}{Calculator\+Node}} $\ast$arg)
\item 
double \mbox{\hyperlink{class_t_syntax_1_1_periodic_random_node_a5b1a8eb84378a72af95a2194f5ab003a}{compute}} (double vars\mbox{[}3\mbox{]}) const override
\item 
void \mbox{\hyperlink{class_t_syntax_1_1_periodic_random_node_a7d3d95934a5ebaa99e2439b04ee602a5}{accept}} (\mbox{\hyperlink{class_t_syntax_1_1_calculator_node_visitor}{Calculator\+Node\+Visitor}} \&visitor) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_syntax_1_1_periodic_random_node_a6a16976301b9f54882aff1714918a7a0}\label{class_t_syntax_1_1_periodic_random_node_a6a16976301b9f54882aff1714918a7a0}} 
\index{TSyntax::PeriodicRandomNode@{TSyntax::PeriodicRandomNode}!PeriodicRandomNode@{PeriodicRandomNode}}
\index{PeriodicRandomNode@{PeriodicRandomNode}!TSyntax::PeriodicRandomNode@{TSyntax::PeriodicRandomNode}}
\doxysubsubsection{\texorpdfstring{PeriodicRandomNode()}{PeriodicRandomNode()}}
{\footnotesize\ttfamily TSyntax\+::\+Periodic\+Random\+Node\+::\+Periodic\+Random\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_syntax_1_1_calculator}{Calculator}} $\ast$}]{calc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00322 : RandomNode(calc), m\_period() \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_syntax_1_1_periodic_random_node_a7d3d95934a5ebaa99e2439b04ee602a5}\label{class_t_syntax_1_1_periodic_random_node_a7d3d95934a5ebaa99e2439b04ee602a5}} 
\index{TSyntax::PeriodicRandomNode@{TSyntax::PeriodicRandomNode}!accept@{accept}}
\index{accept@{accept}!TSyntax::PeriodicRandomNode@{TSyntax::PeriodicRandomNode}}
\doxysubsubsection{\texorpdfstring{accept()}{accept()}}
{\footnotesize\ttfamily void TSyntax\+::\+Periodic\+Random\+Node\+::accept (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_syntax_1_1_calculator_node_visitor}{Calculator\+Node\+Visitor}} \&}]{visitor }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_syntax_1_1_random_node}{TSyntax\+::\+Random\+Node}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00352                                                        \{}
\DoxyCodeLine{00353     RandomNode::accept(visitor);}
\DoxyCodeLine{00354     \textcolor{keywordflow}{if} (m\_period.get()) m\_period-\/>accept(visitor);}
\DoxyCodeLine{00355   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_syntax_1_1_periodic_random_node_a5b1a8eb84378a72af95a2194f5ab003a}\label{class_t_syntax_1_1_periodic_random_node_a5b1a8eb84378a72af95a2194f5ab003a}} 
\index{TSyntax::PeriodicRandomNode@{TSyntax::PeriodicRandomNode}!compute@{compute}}
\index{compute@{compute}!TSyntax::PeriodicRandomNode@{TSyntax::PeriodicRandomNode}}
\doxysubsubsection{\texorpdfstring{compute()}{compute()}}
{\footnotesize\ttfamily double TSyntax\+::\+Periodic\+Random\+Node\+::compute (\begin{DoxyParamCaption}\item[{double}]{vars\mbox{[}3\mbox{]} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_syntax_1_1_random_node}{TSyntax\+::\+Random\+Node}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00329                                                 \{}
\DoxyCodeLine{00330     \textcolor{keywordtype}{double} s      = (m\_seed.get() != 0) ? m\_seed-\/>compute(vars) : 0;}
\DoxyCodeLine{00331     \textcolor{keywordtype}{double} period = m\_period-\/>compute(vars);}
\DoxyCodeLine{00332     \textcolor{keywordflow}{if} (period == 0) period = 1;}
\DoxyCodeLine{00333     \textcolor{keywordtype}{double} f = m\_arg-\/>compute(vars);}
\DoxyCodeLine{00334 }
\DoxyCodeLine{00335     \textcolor{keywordtype}{double} f0    = period * std::floor(f / period);}
\DoxyCodeLine{00336     \textcolor{keywordtype}{double} f1    = period * (std::floor(f / period) + 1);}
\DoxyCodeLine{00337     \textcolor{keywordtype}{double} ratio = (f -\/ f0) / (f1 -\/ f0);}
\DoxyCodeLine{00338 }
\DoxyCodeLine{00339     \textcolor{keywordtype}{double} r0 = RandomManager::instance()-\/>getValue(s, fabs(f0));}
\DoxyCodeLine{00340     \textcolor{keywordtype}{double} r1 = RandomManager::instance()-\/>getValue(s, fabs(f1));}
\DoxyCodeLine{00341     \textcolor{keywordtype}{double} r  = (1 -\/ ratio) * r0 + ratio * r1;}
\DoxyCodeLine{00342 }
\DoxyCodeLine{00343     \textcolor{keywordflow}{if} (m\_min.get() == 0)}
\DoxyCodeLine{00344       \textcolor{keywordflow}{if} (m\_max.get() == 0)}
\DoxyCodeLine{00345         \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{00346       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00347         \textcolor{keywordflow}{return} m\_max-\/>compute(vars) * r;}
\DoxyCodeLine{00348     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00349       \textcolor{keywordflow}{return} (1 -\/ r) * m\_min-\/>compute(vars) + r * m\_max-\/>compute(vars);}
\DoxyCodeLine{00350   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_syntax_1_1_periodic_random_node_a4af2972ebaaddc4f593d7ea7b8190cce}\label{class_t_syntax_1_1_periodic_random_node_a4af2972ebaaddc4f593d7ea7b8190cce}} 
\index{TSyntax::PeriodicRandomNode@{TSyntax::PeriodicRandomNode}!setPeriod@{setPeriod}}
\index{setPeriod@{setPeriod}!TSyntax::PeriodicRandomNode@{TSyntax::PeriodicRandomNode}}
\doxysubsubsection{\texorpdfstring{setPeriod()}{setPeriod()}}
{\footnotesize\ttfamily void TSyntax\+::\+Periodic\+Random\+Node\+::set\+Period (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_syntax_1_1_calculator_node}{Calculator\+Node}} $\ast$}]{arg }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00324                                       \{}
\DoxyCodeLine{00325     assert(m\_period.get() == 0);}
\DoxyCodeLine{00326     m\_period.reset(arg);}
\DoxyCodeLine{00327   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/common/expressions/tgrammar.\+cpp\end{DoxyCompactItemize}
