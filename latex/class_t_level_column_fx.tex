\hypertarget{class_t_level_column_fx}{}\doxysection{TLevel\+Column\+Fx Class Reference}
\label{class_t_level_column_fx}\index{TLevelColumnFx@{TLevelColumnFx}}
Inheritance diagram for TLevel\+Column\+Fx\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{class_t_level_column_fx}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ \mbox{\hyperlink{class_t_level_column_fx_adcb39e8fc5704ffa437b1c6ff713370c}{clone}} (bool recursive=true) const override
\item 
\mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$ \mbox{\hyperlink{class_t_level_column_fx_a169b8d38a38d7d8508b3e8cd2c140ad5}{get\+Palette}} (int frame) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_level_column_fx_ad2dac87b15635b67d50ba5bdfca66971}{get\+Palette\+Path}} (int frame) const
\item 
void \mbox{\hyperlink{class_t_level_column_fx_a79498b6dc54e6d51f061a9c759f02f5e}{set\+Column}} (\mbox{\hyperlink{class_t_xsh_level_column}{TXsh\+Level\+Column}} $\ast$column)
\item 
\mbox{\hyperlink{class_t_xsh_level_column}{TXsh\+Level\+Column}} $\ast$ \mbox{\hyperlink{class_t_level_column_fx_ac051484cc2e29e34ec134a19027cb8b6}{get\+Column}} () const
\item 
std\+::wstring \mbox{\hyperlink{class_t_level_column_fx_af9b5bca75e71e62fb14d04ea905109c2}{get\+Column\+Name}} () const override
\item 
std\+::wstring \mbox{\hyperlink{class_t_level_column_fx_a76e5b0492185ac6d65c38ac4a12662a5}{get\+Column\+Id}} () const override
\item 
int \mbox{\hyperlink{class_t_level_column_fx_a0096f1d305d70fea5259ad7aa972a9ba}{get\+Column\+Index}} () const override
\item 
\mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$ \mbox{\hyperlink{class_t_level_column_fx_a7c179ac3037609aed030c409ae6d4bea}{get\+Xsh\+Column}} () const override
\item 
bool \mbox{\hyperlink{class_t_level_column_fx_a49987fed87acfa31dece744c38a322cc}{is\+Cachable}} () const override
\item 
bool \mbox{\hyperlink{class_t_level_column_fx_af644d9c8faf1aad868ef903c3163b267}{can\+Handle}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info, double frame) override
\item 
\mbox{\hyperlink{class_t_affine}{TAffine}} \mbox{\hyperlink{class_t_level_column_fx_ac25f8d9b087e3bcfc7e756f214b02849}{handled\+Affine}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info, double frame) override
\item 
\mbox{\hyperlink{class_t_affine}{TAffine}} \mbox{\hyperlink{class_t_level_column_fx_a527095be2957b763c388e59883a6eef4}{get\+Dpi\+Aff}} (int frame)
\item 
\mbox{\hyperlink{class_t_fx_time_region}{TFx\+Time\+Region}} \mbox{\hyperlink{class_t_level_column_fx_aeda0126dfd061e085f3b676fdf960162}{get\+Time\+Region}} () const override
\item 
bool \mbox{\hyperlink{class_t_level_column_fx_a2126d4339c38e599773dc558f693f9a2}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
std\+::string \mbox{\hyperlink{class_t_level_column_fx_a0b3fc4ae14203bfd5b3ca7df13138364}{get\+Alias}} (double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) const override
\item 
int \mbox{\hyperlink{class_t_level_column_fx_a9fdb94fea2a9dd488b5cf99120096e1e}{get\+Memory\+Requirement}} (const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
void \mbox{\hyperlink{class_t_level_column_fx_afb64a21bd74502fa219e12d50f1f51e5}{do\+Dry\+Compute}} (\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
void \mbox{\hyperlink{class_t_level_column_fx_a5d83c1ff2ea8b0785434689ce30867af}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
void \mbox{\hyperlink{class_t_level_column_fx_afaaf5112e8f3dd7a9609f4220e551ee1}{save\+Data}} (\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&os) override
\item 
void \mbox{\hyperlink{class_t_level_column_fx_ae12b35e5a0d77fa3e6327006180c9547}{load\+Data}} (\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&is) override
\item 
const \mbox{\hyperlink{class_t_persist_declaration}{TPersist\+Declaration}} $\ast$ \mbox{\hyperlink{class_t_level_column_fx_ac5232c529a49c9ec0e453bb10882f2ec}{get\+Declaration}} () const override
\item 
std\+::string \mbox{\hyperlink{class_t_level_column_fx_a28a72dc1ab49292f04c9ee3abc8b8e46}{get\+Plugin\+Id}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_level_column_fx_a56a7b0ee3f530dd5ceb85f8ffaebc550}\label{class_t_level_column_fx_a56a7b0ee3f530dd5ceb85f8ffaebc550}} 
\index{TLevelColumnFx@{TLevelColumnFx}!TLevelColumnFx@{TLevelColumnFx}}
\index{TLevelColumnFx@{TLevelColumnFx}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{TLevelColumnFx()}{TLevelColumnFx()}}
{\footnotesize\ttfamily TLevel\+Column\+Fx\+::\+TLevel\+Column\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00805     : m\_levelColumn(0), m\_isCachable(\textcolor{keyword}{true}), m\_mutex(), m\_offlineContext(0) \{}
\DoxyCodeLine{00806   setName(L\textcolor{stringliteral}{"{}LevelColumn"{}});}
\DoxyCodeLine{00807 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_ae9b46af39ece32a717c262042dc816aa}\label{class_t_level_column_fx_ae9b46af39ece32a717c262042dc816aa}} 
\index{TLevelColumnFx@{TLevelColumnFx}!````~TLevelColumnFx@{$\sim$TLevelColumnFx}}
\index{````~TLevelColumnFx@{$\sim$TLevelColumnFx}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{$\sim$TLevelColumnFx()}{~TLevelColumnFx()}}
{\footnotesize\ttfamily TLevel\+Column\+Fx\+::$\sim$\+TLevel\+Column\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00811                                 \{}
\DoxyCodeLine{00812   \textcolor{keywordflow}{if} (m\_offlineContext) \textcolor{keyword}{delete} m\_offlineContext;}
\DoxyCodeLine{00813 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_level_column_fx_af644d9c8faf1aad868ef903c3163b267}\label{class_t_level_column_fx_af644d9c8faf1aad868ef903c3163b267}} 
\index{TLevelColumnFx@{TLevelColumnFx}!canHandle@{canHandle}}
\index{canHandle@{canHandle}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{canHandle()}{canHandle()}}
{\footnotesize\ttfamily bool TLevel\+Column\+Fx\+::can\+Handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00817                                                                         \{}
\DoxyCodeLine{00818   \textcolor{comment}{// NOTE 1: Currently, it is necessary that level columns return FALSE for}}
\DoxyCodeLine{00819   \textcolor{comment}{// raster levels -\/ just a quick way to tell the cache functions that they}}
\DoxyCodeLine{00820   \textcolor{comment}{// have to be cached.}}
\DoxyCodeLine{00821 }
\DoxyCodeLine{00822   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00823 }
\DoxyCodeLine{00824   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_ad70a850bd9a11c11660a38d11559690f}{getFirstRow}}());}
\DoxyCodeLine{00825   \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00826 }
\DoxyCodeLine{00827   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{00828   \textcolor{keywordflow}{if} (!sl) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00829 }
\DoxyCodeLine{00830   \textcolor{keywordflow}{return} (sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() == PLI\_XSHLEVEL \&\&}
\DoxyCodeLine{00831           !vectorMustApplyCmappedFx(info.m\_data));}
\DoxyCodeLine{00832 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_adcb39e8fc5704ffa437b1c6ff713370c}\label{class_t_level_column_fx_adcb39e8fc5704ffa437b1c6ff713370c}} 
\index{TLevelColumnFx@{TLevelColumnFx}!clone@{clone}}
\index{clone@{clone}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ TLevel\+Column\+Fx\+::clone (\begin{DoxyParamCaption}\item[{bool}]{recursive = {\ttfamily true} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_fx}{TFx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00909                                                \{}
\DoxyCodeLine{00910   \mbox{\hyperlink{class_t_level_column_fx}{TLevelColumnFx}} *clonedFx =}
\DoxyCodeLine{00911       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_level_column_fx}{TLevelColumnFx}} *\textcolor{keyword}{>}(TFx::clone(recursive));}
\DoxyCodeLine{00912   assert(clonedFx);}
\DoxyCodeLine{00913   clonedFx-\/>m\_levelColumn = m\_levelColumn;}
\DoxyCodeLine{00914   clonedFx-\/>m\_isCachable  = m\_isCachable;}
\DoxyCodeLine{00915   \textcolor{keywordflow}{return} clonedFx;}
\DoxyCodeLine{00916 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_a5d83c1ff2ea8b0785434689ce30867af}\label{class_t_level_column_fx_a5d83c1ff2ea8b0785434689ce30867af}} 
\index{TLevelColumnFx@{TLevelColumnFx}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void TLevel\+Column\+Fx\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00970                                                             \{}
\DoxyCodeLine{00971   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00972 }
\DoxyCodeLine{00973   \textcolor{comment}{// Ensure that a corresponding cell and level exists}}
\DoxyCodeLine{00974   \textcolor{keywordtype}{int} row       = (int)frame;}
\DoxyCodeLine{00975   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(row);}
\DoxyCodeLine{00976 }
\DoxyCodeLine{00977   \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00978 }
\DoxyCodeLine{00979   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{00980   \textcolor{keywordflow}{if} (!sl) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00981 }
\DoxyCodeLine{00982   \mbox{\hyperlink{class_t_frame_id}{TFrameId}} fid = cell.m\_frameId;}
\DoxyCodeLine{00983 }
\DoxyCodeLine{00984   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} img;}
\DoxyCodeLine{00985   \mbox{\hyperlink{class_t_image_info}{TImageInfo}} imageInfo;}
\DoxyCodeLine{00986 }
\DoxyCodeLine{00987   \textcolor{comment}{// Now, fetch the image}}
\DoxyCodeLine{00988   \textcolor{keywordflow}{if} (sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() != PLI\_XSHLEVEL) \{}
\DoxyCodeLine{00989     \textcolor{comment}{// Raster case}}
\DoxyCodeLine{00990     \mbox{\hyperlink{class_level_fx_builder}{LevelFxBuilder}} builder(getAlias(frame, \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}}()) + \textcolor{stringliteral}{"{}\_image"{}}, frame,}
\DoxyCodeLine{00991                            info, sl, fid);}
\DoxyCodeLine{00992 }
\DoxyCodeLine{00993     getImageInfo(imageInfo, sl, fid);}
\DoxyCodeLine{00994     \mbox{\hyperlink{class_t_rect_t}{TRectD}} imgRect(0, 0, imageInfo.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}, imageInfo.\mbox{\hyperlink{class_t_image_info_affef879628cc3843968c932e706541b6}{m\_ly}});}
\DoxyCodeLine{00995 }
\DoxyCodeLine{00996     builder.setRasBounds(\mbox{\hyperlink{class_t_rect_t}{TRect}}(0, 0, imageInfo.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ 1, imageInfo.\mbox{\hyperlink{class_t_image_info_affef879628cc3843968c932e706541b6}{m\_ly}} -\/ 1));}
\DoxyCodeLine{00997     builder.build(imgRect);}
\DoxyCodeLine{00998 }
\DoxyCodeLine{00999     img = builder.getImage();}
\DoxyCodeLine{01000   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01001     \textcolor{comment}{// Vector case (loading is immediate)}}
\DoxyCodeLine{01002     \textcolor{keywordflow}{if} (!img) \{}
\DoxyCodeLine{01003       img = sl-\/>getFullsampledFrame(}
\DoxyCodeLine{01004           fid, ((info.m\_bpp == 64) ? ImageManager::is64bitEnabled : 0) |}
\DoxyCodeLine{01005                    ImageManager::dontPutInCache);}
\DoxyCodeLine{01006     \}}
\DoxyCodeLine{01007   \}}
\DoxyCodeLine{01008 }
\DoxyCodeLine{01009   \textcolor{comment}{// Extract the required geometry}}
\DoxyCodeLine{01010   \mbox{\hyperlink{class_t_rect_t}{TRect}} tileBounds(tile.getRaster()-\/>getBounds());}
\DoxyCodeLine{01011   \mbox{\hyperlink{class_t_rect_t}{TRectD}} tileRectD = \mbox{\hyperlink{class_t_rect_t}{TRectD}}(tileBounds.x0, tileBounds.y0, tileBounds.x1 + 1,}
\DoxyCodeLine{01012                             tileBounds.y1 + 1) +}
\DoxyCodeLine{01013                      tile.m\_pos;}
\DoxyCodeLine{01014 }
\DoxyCodeLine{01015   \textcolor{comment}{// To be sure, if there is no image, return.}}
\DoxyCodeLine{01016   \textcolor{keywordflow}{if} (!img) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01017 }
\DoxyCodeLine{01018   \mbox{\hyperlink{class_t_rect_t}{TRectD}} bBox = img-\/>\mbox{\hyperlink{class_t_image_ac6a21b84486dec0c86b5b0b3f34be0ef}{getBBox}}();}
\DoxyCodeLine{01019 }
\DoxyCodeLine{01020   \textcolor{comment}{// Discriminate image type}}
\DoxyCodeLine{01021   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vectorImage = img) \{}
\DoxyCodeLine{01022     \textcolor{comment}{// Vector case}}
\DoxyCodeLine{01023 }
\DoxyCodeLine{01024     \textcolor{keywordflow}{if} (vectorMustApplyCmappedFx(info.m\_data)) \{}
\DoxyCodeLine{01025       \textcolor{comment}{// Deal separately}}
\DoxyCodeLine{01026       applyTzpFxsOnVector(vectorImage, tile, frame, info);}
\DoxyCodeLine{01027     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01028       QMutexLocker m(\&m\_mutex);}
\DoxyCodeLine{01029       bBox = info.m\_affine * vectorImage-\/>getBBox();}
\DoxyCodeLine{01030       \mbox{\hyperlink{class_t_dimension_t}{TDimension}} size(tile.getRaster()-\/>getSize());}
\DoxyCodeLine{01031 }
\DoxyCodeLine{01032       \mbox{\hyperlink{class_t_affine}{TAffine}} aff = \mbox{\hyperlink{class_t_translation}{TTranslation}}(-\/tile.m\_pos.x, -\/tile.m\_pos.y) *}
\DoxyCodeLine{01033                     \mbox{\hyperlink{class_t_scale}{TScale}}(1.0 / info.m\_shrinkX, 1.0 / info.m\_shrinkY) *}
\DoxyCodeLine{01034                     info.m\_affine;}
\DoxyCodeLine{01035 }
\DoxyCodeLine{01036       applyCmappedFx(vectorImage, info.m\_data, (\textcolor{keywordtype}{int})frame);}
\DoxyCodeLine{01037       \mbox{\hyperlink{class_t_palette}{TPalette}} *vpalette = vectorImage-\/>getPalette();}
\DoxyCodeLine{01038       assert(vpalette);}
\DoxyCodeLine{01039       m\_isCachable = !vpalette-\/>\mbox{\hyperlink{class_t_palette_ab93ce6de2d1138d6c6946e1a3e317e04}{isAnimated}}();}
\DoxyCodeLine{01040       \textcolor{keywordtype}{int} oldFrame = vpalette-\/>\mbox{\hyperlink{class_t_palette_a7fd9f134eeffe1fa9ca39ee3fb6ad1b4}{getFrame}}();}
\DoxyCodeLine{01041 }
\DoxyCodeLine{01042       \mbox{\hyperlink{class_t_vector_render_data}{TVectorRenderData}} rd(\mbox{\hyperlink{struct_t_vector_render_data_1_1_production_settings}{TVectorRenderData::ProductionSettings}}(), aff,}
\DoxyCodeLine{01043                            \mbox{\hyperlink{class_t_rect_t}{TRect}}(size), vpalette);}
\DoxyCodeLine{01044 }
\DoxyCodeLine{01045       \textcolor{keywordflow}{if} (!m\_offlineContext || m\_offlineContext-\/>getLx() < size.lx ||}
\DoxyCodeLine{01046           m\_offlineContext-\/>getLy() < size.ly) \{}
\DoxyCodeLine{01047         \textcolor{keywordflow}{if} (m\_offlineContext) \textcolor{keyword}{delete} m\_offlineContext;}
\DoxyCodeLine{01048         m\_offlineContext = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_offline_g_l}{TOfflineGL}}(size);}
\DoxyCodeLine{01049       \}}
\DoxyCodeLine{01050 }
\DoxyCodeLine{01051       m\_offlineContext-\/>makeCurrent();}
\DoxyCodeLine{01052       m\_offlineContext-\/>clear(TPixel32(0, 0, 0, 0));}
\DoxyCodeLine{01053 }
\DoxyCodeLine{01054       \textcolor{comment}{// If level has animated palette, it is necessary to lock palette's color}}
\DoxyCodeLine{01055       \textcolor{comment}{// against}}
\DoxyCodeLine{01056       \textcolor{comment}{// concurrents TPalette::setFrame.}}
\DoxyCodeLine{01057       \textcolor{keywordflow}{if} (!m\_isCachable) vpalette-\/>\mbox{\hyperlink{class_t_palette_a3974fff5698333b742c0b0b2f58aee37}{mutex}}()-\/>lock();}
\DoxyCodeLine{01058 }
\DoxyCodeLine{01059       vpalette-\/>\mbox{\hyperlink{class_t_palette_aca7d99a4af59ffaed0ead1f8700c2edc}{setFrame}}((\textcolor{keywordtype}{int})frame);}
\DoxyCodeLine{01060       m\_offlineContext-\/>draw(vectorImage, rd, \textcolor{keyword}{true});}
\DoxyCodeLine{01061       vpalette-\/>\mbox{\hyperlink{class_t_palette_aca7d99a4af59ffaed0ead1f8700c2edc}{setFrame}}(oldFrame);}
\DoxyCodeLine{01062 }
\DoxyCodeLine{01063       \textcolor{keywordflow}{if} (!m\_isCachable) vpalette-\/>\mbox{\hyperlink{class_t_palette_a3974fff5698333b742c0b0b2f58aee37}{mutex}}()-\/>unlock();}
\DoxyCodeLine{01064 }
\DoxyCodeLine{01065       m\_offlineContext-\/>getRaster(tile.getRaster());}
\DoxyCodeLine{01066 }
\DoxyCodeLine{01067       m\_offlineContext-\/>doneCurrent();}
\DoxyCodeLine{01068     \}}
\DoxyCodeLine{01069   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01070     \textcolor{comment}{// Raster case}}
\DoxyCodeLine{01071 }
\DoxyCodeLine{01072     \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} ras;}
\DoxyCodeLine{01073     \mbox{\hyperlink{class_t_affine}{TAffine}} aff;}
\DoxyCodeLine{01074 }
\DoxyCodeLine{01075     \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = img;}
\DoxyCodeLine{01076     \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = img;}
\DoxyCodeLine{01077     img              = 0;}
\DoxyCodeLine{01078 }
\DoxyCodeLine{01079     \textcolor{keywordflow}{if} (ri) \{}
\DoxyCodeLine{01080       \textcolor{comment}{// Fullcolor case}}
\DoxyCodeLine{01081 }
\DoxyCodeLine{01082       ras = ri-\/>getRaster();}
\DoxyCodeLine{01083       ri  = 0;}
\DoxyCodeLine{01084       \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} ras32(ras);}
\DoxyCodeLine{01085       \mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}} ras64(ras);}
\DoxyCodeLine{01086 }
\DoxyCodeLine{01087       \textcolor{comment}{// Ensure that ras is either a 32 or 64 fullcolor.}}
\DoxyCodeLine{01088       \textcolor{comment}{// Otherwise, we have to convert it.}}
\DoxyCodeLine{01089       \textcolor{keywordflow}{if} (!ras32 \&\& !ras64) \{}
\DoxyCodeLine{01090         \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} tileRas(tile.getRaster());}
\DoxyCodeLine{01091         \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} tileRas32(tileRas);}
\DoxyCodeLine{01092         \mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}} tileRas64(tileRas);}
\DoxyCodeLine{01093 }
\DoxyCodeLine{01094         \textcolor{keywordflow}{if} (tileRas32) \{}
\DoxyCodeLine{01095           ras32 = \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}}(ras-\/>getLx(), ras-\/>getLy());}
\DoxyCodeLine{01096           \mbox{\hyperlink{namespace_t_rop_a45a08fb48dd7d33ec629d722081d55c6}{TRop::convert}}(ras32, ras);}
\DoxyCodeLine{01097           ras = ras32;}
\DoxyCodeLine{01098         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tileRas64) \{}
\DoxyCodeLine{01099           ras64 = \mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}}(ras-\/>getLx(), ras-\/>getLy());}
\DoxyCodeLine{01100           \mbox{\hyperlink{namespace_t_rop_a45a08fb48dd7d33ec629d722081d55c6}{TRop::convert}}(ras64, ras);}
\DoxyCodeLine{01101           ras = ras64;}
\DoxyCodeLine{01102         \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01103           assert(0);}
\DoxyCodeLine{01104       \}}
\DoxyCodeLine{01105       \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh  = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_level_column_a8d428cf082e9db15e8d73afa857beb79}{getLevelColumn}}()-\/>\mbox{\hyperlink{class_t_xsh_column_a2d812ed804dba4d8d91482a5f35e2601}{getXsheet}}();}
\DoxyCodeLine{01106       \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *txsh = sl-\/>\mbox{\hyperlink{class_t_xsh_level_a06176566e80858dbb206112db08a92b9}{getScene}}()-\/>\mbox{\hyperlink{class_toonz_scene_aaffd562eebbd8faba4caeaed69bfcc18}{getTopXsheet}}();}
\DoxyCodeLine{01107 }
\DoxyCodeLine{01108       \mbox{\hyperlink{class_level_properties}{LevelProperties}} *levelProp = sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_ad412dd5c3a6ae3ff20a480dc728b26d2}{getProperties}}();}
\DoxyCodeLine{01109       \textcolor{keywordflow}{if} (Preferences::instance()-\/>isIgnoreAlphaonColumn1Enabled() \&\&}
\DoxyCodeLine{01110           m\_levelColumn-\/>getIndex() == 0 \&\&}
\DoxyCodeLine{01111           isSubsheetChainOnColumn0(txsh, xsh, frame)) \{}
\DoxyCodeLine{01112         \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} appRas(ras-\/>clone());}
\DoxyCodeLine{01113         setMaxMatte(appRas);}
\DoxyCodeLine{01114         ras = appRas;}
\DoxyCodeLine{01115       \}}
\DoxyCodeLine{01116       \textcolor{keywordflow}{if} (levelProp-\/>\mbox{\hyperlink{class_level_properties_a5a253da40e456de66dca76526f2e9453}{doPremultiply}}()) \{}
\DoxyCodeLine{01117         \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} appRas = ras-\/>clone();}
\DoxyCodeLine{01118         \mbox{\hyperlink{namespace_t_rop_aa8671761db1d55d696b4b8bb71f8b2e4}{TRop::premultiply}}(appRas);}
\DoxyCodeLine{01119         ras = appRas;}
\DoxyCodeLine{01120       \}}
\DoxyCodeLine{01121       \textcolor{keywordflow}{if} (levelProp-\/>whiteTransp()) \{}
\DoxyCodeLine{01122         \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} appRas(ras-\/>clone());}
\DoxyCodeLine{01123         \mbox{\hyperlink{namespace_t_rop_a35fb11523175f84027df48cc51d45d28}{TRop::whiteTransp}}(appRas);}
\DoxyCodeLine{01124         ras = appRas;}
\DoxyCodeLine{01125       \}}
\DoxyCodeLine{01126       \textcolor{keywordflow}{if} (levelProp-\/>\mbox{\hyperlink{class_level_properties_add0d772c11ca0f9a54d5af095f3bdda4}{antialiasSoftness}}() > 0) \{}
\DoxyCodeLine{01127         \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} appRas = ras-\/>create(ras-\/>getLx(), ras-\/>getLy());}
\DoxyCodeLine{01128         \mbox{\hyperlink{namespace_t_rop_a7a6326a4ee5b8a7fd5e928d67926a8e6}{TRop::antialias}}(ras, appRas, 10, levelProp-\/>\mbox{\hyperlink{class_level_properties_add0d772c11ca0f9a54d5af095f3bdda4}{antialiasSoftness}}());}
\DoxyCodeLine{01129         ras = appRas;}
\DoxyCodeLine{01130       \}}
\DoxyCodeLine{01131 }
\DoxyCodeLine{01132       \textcolor{keywordflow}{if} (TXshSimpleLevel::m\_fillFullColorRaster) \{}
\DoxyCodeLine{01133         \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} appRas(ras-\/>clone());}
\DoxyCodeLine{01134         \mbox{\hyperlink{class_full_color_area_filler}{FullColorAreaFiller}} filler(appRas);}
\DoxyCodeLine{01135         \mbox{\hyperlink{class_t_smart_pointer_t}{TPaletteP}} palette = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_palette}{TPalette}}();}
\DoxyCodeLine{01136         \textcolor{keywordtype}{int} styleId       = palette-\/>getPage(0)-\/>addStyle(TPixel32::White);}
\DoxyCodeLine{01137         \mbox{\hyperlink{class_fill_parameters}{FillParameters}} params;}
\DoxyCodeLine{01138         params.m\_palette      = palette.getPointer();}
\DoxyCodeLine{01139         params.m\_styleId      = styleId;}
\DoxyCodeLine{01140         params.m\_minFillDepth = 0;}
\DoxyCodeLine{01141         params.m\_maxFillDepth = 15;}
\DoxyCodeLine{01142         filler.rectFill(appRas-\/>getBounds(), params, \textcolor{keyword}{false});}
\DoxyCodeLine{01143         ras = appRas;}
\DoxyCodeLine{01144       \}}
\DoxyCodeLine{01145 }
\DoxyCodeLine{01146     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ti) \{}
\DoxyCodeLine{01147       \textcolor{comment}{// Colormap case}}
\DoxyCodeLine{01148 }
\DoxyCodeLine{01149       \textcolor{comment}{// Use the imageInfo's dpi}}
\DoxyCodeLine{01150       ti-\/>setDpi(imageInfo.\mbox{\hyperlink{class_t_image_info_ad66e78a66158fddceaa192d0063f68e8}{m\_dpix}}, imageInfo.\mbox{\hyperlink{class_t_image_info_ad8d3ccb14666297e487e04aa10ab7831}{m\_dpiy}});}
\DoxyCodeLine{01151 }
\DoxyCodeLine{01152       \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} newImg = applyTzpFxs(ti, frame, info);}
\DoxyCodeLine{01153 }
\DoxyCodeLine{01154       ri = newImg;}
\DoxyCodeLine{01155       ti = newImg;}
\DoxyCodeLine{01156 }
\DoxyCodeLine{01157       \textcolor{keywordflow}{if} (ri)}
\DoxyCodeLine{01158         ras = ri-\/>getRaster();}
\DoxyCodeLine{01159       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01160         ras = ti-\/>getRaster();}
\DoxyCodeLine{01161 }
\DoxyCodeLine{01162       \textcolor{keywordflow}{if} (sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_ad412dd5c3a6ae3ff20a480dc728b26d2}{getProperties}}()-\/>\mbox{\hyperlink{class_level_properties_add0d772c11ca0f9a54d5af095f3bdda4}{antialiasSoftness}}() > 0) \{}
\DoxyCodeLine{01163         \textcolor{comment}{// convert colormap raster to fullcolor raster before applying antialias}}
\DoxyCodeLine{01164         \textcolor{keywordflow}{if} (ti) \{}
\DoxyCodeLine{01165           \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} convRas(ras-\/>getSize());}
\DoxyCodeLine{01166           \mbox{\hyperlink{namespace_t_rop_a45a08fb48dd7d33ec629d722081d55c6}{TRop::convert}}(convRas, ras, ti-\/>getPalette(), \mbox{\hyperlink{class_t_rect_t}{TRect}}(), \textcolor{keyword}{false}, \textcolor{keyword}{true});}
\DoxyCodeLine{01167           ras = convRas;}
\DoxyCodeLine{01168         \}}
\DoxyCodeLine{01169         \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} appRas = ras-\/>create(ras-\/>getLx(), ras-\/>getLy());}
\DoxyCodeLine{01170         \mbox{\hyperlink{namespace_t_rop_a7a6326a4ee5b8a7fd5e928d67926a8e6}{TRop::antialias}}(ras, appRas, 10,}
\DoxyCodeLine{01171                         sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_ad412dd5c3a6ae3ff20a480dc728b26d2}{getProperties}}()-\/>\mbox{\hyperlink{class_level_properties_add0d772c11ca0f9a54d5af095f3bdda4}{antialiasSoftness}}());}
\DoxyCodeLine{01172         ras = appRas;}
\DoxyCodeLine{01173       \}}
\DoxyCodeLine{01174 }
\DoxyCodeLine{01175       ri = 0;}
\DoxyCodeLine{01176     \}}
\DoxyCodeLine{01177 }
\DoxyCodeLine{01178     \textcolor{keywordflow}{if} (ras) \{}
\DoxyCodeLine{01179       \textcolor{keywordtype}{double} lx\_2 = ras-\/>getLx() / 2.0;}
\DoxyCodeLine{01180       \textcolor{keywordtype}{double} ly\_2 = ras-\/>getLy() / 2.0;}
\DoxyCodeLine{01181 }
\DoxyCodeLine{01182       \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} infoAux(info);}
\DoxyCodeLine{01183       assert(info.m\_affine.isTranslation());}
\DoxyCodeLine{01184       infoAux.m\_data.clear();}
\DoxyCodeLine{01185 }
\DoxyCodeLine{01186       \textcolor{comment}{// Place the output rect in the image's reference}}
\DoxyCodeLine{01187       tileRectD += \mbox{\hyperlink{class_t_point_t}{TPointD}}(lx\_2 -\/ info.m\_affine.a13, ly\_2 -\/ info.m\_affine.a23);}
\DoxyCodeLine{01188 }
\DoxyCodeLine{01189       \textcolor{comment}{// Then, retrieve loaded image's interesting region}}
\DoxyCodeLine{01190       \mbox{\hyperlink{class_t_rect_t}{TRectD}} inTileRectD;}
\DoxyCodeLine{01191       \textcolor{keywordflow}{if} (ti) \{}
\DoxyCodeLine{01192         \mbox{\hyperlink{class_t_rect_t}{TRect}} saveBox(ti-\/>getSavebox());}
\DoxyCodeLine{01193         inTileRectD =}
\DoxyCodeLine{01194             \mbox{\hyperlink{class_t_rect_t}{TRectD}}(saveBox.x0, saveBox.y0, saveBox.x1 + 1, saveBox.y1 + 1);}
\DoxyCodeLine{01195       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01196         \mbox{\hyperlink{class_t_rect_t}{TRect}} rasBounds(ras-\/>getBounds());}
\DoxyCodeLine{01197         inTileRectD = \mbox{\hyperlink{class_t_rect_t}{TRectD}}(rasBounds.x0, rasBounds.y0, rasBounds.x1 + 1,}
\DoxyCodeLine{01198                              rasBounds.y1 + 1);}
\DoxyCodeLine{01199       \}}
\DoxyCodeLine{01200 }
\DoxyCodeLine{01201       \textcolor{comment}{// And intersect the two}}
\DoxyCodeLine{01202       inTileRectD *= tileRectD;}
\DoxyCodeLine{01203 }
\DoxyCodeLine{01204       \textcolor{comment}{// Should the intersection be void, return}}
\DoxyCodeLine{01205       \textcolor{keywordflow}{if} (inTileRectD.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} >= inTileRectD.x1 || inTileRectD.y0 >= inTileRectD.y1)}
\DoxyCodeLine{01206         \textcolor{keywordflow}{return};}
\DoxyCodeLine{01207 }
\DoxyCodeLine{01208       \textcolor{comment}{// Output that intersection in the requested tile}}
\DoxyCodeLine{01209       \mbox{\hyperlink{class_t_rect_t}{TRect}} inTileRect(tround(inTileRectD.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}), tround(inTileRectD.y0),}
\DoxyCodeLine{01210                        tround(inTileRectD.x1) -\/ 1, tround(inTileRectD.y1) -\/ 1);}
\DoxyCodeLine{01211       \mbox{\hyperlink{class_t_tile}{TTile}} inTile(ras-\/>extract(inTileRect),}
\DoxyCodeLine{01212                    inTileRectD.getP00() + \mbox{\hyperlink{class_t_point_t}{TPointD}}(-\/lx\_2, -\/ly\_2));}
\DoxyCodeLine{01213 }
\DoxyCodeLine{01214       \textcolor{comment}{// Observe that inTile is in the standard reference, ie image's minus the}}
\DoxyCodeLine{01215       \textcolor{comment}{// center coordinates}}
\DoxyCodeLine{01216 }
\DoxyCodeLine{01217       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{class_t_raster_p_t}{TRasterCM32P}})ras) \{}
\DoxyCodeLine{01218         \textcolor{comment}{// In the colormapped case, we have to convert the cmap to fullcolor}}
\DoxyCodeLine{01219         \mbox{\hyperlink{class_t_palette}{TPalette}} *palette = ti-\/>getPalette();}
\DoxyCodeLine{01220 }
\DoxyCodeLine{01221         \textcolor{keywordflow}{if} (!m\_isCachable) palette-\/>mutex()-\/>lock();}
\DoxyCodeLine{01222 }
\DoxyCodeLine{01223         \textcolor{keywordtype}{int} prevFrame = palette-\/>getFrame();}
\DoxyCodeLine{01224 }
\DoxyCodeLine{01225         palette-\/>setFrame((\textcolor{keywordtype}{int})frame);}
\DoxyCodeLine{01226 }
\DoxyCodeLine{01227         \mbox{\hyperlink{class_t_tile}{TTile}} auxtile(\mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}}(inTile.getRaster()-\/>getSize()), inTile.m\_pos);}
\DoxyCodeLine{01228         \mbox{\hyperlink{namespace_t_rop_a45a08fb48dd7d33ec629d722081d55c6}{TRop::convert}}(auxtile, inTile, palette, \textcolor{keyword}{false}, \textcolor{keyword}{true});}
\DoxyCodeLine{01229         palette-\/>setFrame(prevFrame);}
\DoxyCodeLine{01230 }
\DoxyCodeLine{01231         \textcolor{keywordflow}{if} (!m\_isCachable) palette-\/>mutex()-\/>unlock();}
\DoxyCodeLine{01232 }
\DoxyCodeLine{01233         inTile.setRaster(auxtile.getRaster());}
\DoxyCodeLine{01234       \}}
\DoxyCodeLine{01235 }
\DoxyCodeLine{01236       TRasterFx::applyAffine(tile, inTile, infoAux);}
\DoxyCodeLine{01237     \}}
\DoxyCodeLine{01238   \}}
\DoxyCodeLine{01239 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_afb64a21bd74502fa219e12d50f1f51e5}\label{class_t_level_column_fx_afb64a21bd74502fa219e12d50f1f51e5}} 
\index{TLevelColumnFx@{TLevelColumnFx}!doDryCompute@{doDryCompute}}
\index{doDryCompute@{doDryCompute}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{doDryCompute()}{doDryCompute()}}
{\footnotesize\ttfamily void TLevel\+Column\+Fx\+::do\+Dry\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Declares the computation scheme of this fx for rendering optimization purposes. This is an important function of the Toonz rendering API, and should be reimplemented with the necessary care. The Toonz rendering process makes use of this function to enact most of the optimization steps about the fx computation, in particular fx caching. A correct implementation of this method should follow these rules\+:  The invocation of child node computations should be faithfully reproduced.  TRaster\+Fx\+::compute and TRaster\+Fx\+::allocate\+And\+Compute calls have to be translated to TRaster\+Fx\+::dry\+Compute calls.  This fx is intended for precomputation stage, so the hard rendering code should be skipped here. By default, this method raises a dry\+Compute call to each input port in increasing order, using the TRaster\+Fx\+::transform method to identify the tiles to be passed on input precomputation. 

Reimplemented from \mbox{\hyperlink{class_t_raster_fx_a47ec31d2d4c3a066cd6744fb8c80edf2}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00921                                                                \{}
\DoxyCodeLine{00922   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00923 }
\DoxyCodeLine{00924   \textcolor{keywordtype}{int} row       = (int)frame;}
\DoxyCodeLine{00925   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(row);}
\DoxyCodeLine{00926   \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00927 }
\DoxyCodeLine{00928   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{00929   \textcolor{keywordflow}{if} (!sl) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00930 }
\DoxyCodeLine{00931   \textcolor{comment}{// In case this is a vector level, the image is renderized quickly and}}
\DoxyCodeLine{00932   \textcolor{comment}{// directly at the}}
\DoxyCodeLine{00933   \textcolor{comment}{// correct resolution. Caching is disabled in such case, at the moment.}}
\DoxyCodeLine{00934   \textcolor{keywordflow}{if} (sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() == PLI\_XSHLEVEL) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00935 }
\DoxyCodeLine{00936   \textcolor{keywordtype}{int} renderStatus =}
\DoxyCodeLine{00937       \mbox{\hyperlink{class_t_renderer_a93afee3c1ce8ff2b753a05fa0fe3dc9d}{TRenderer::instance}}().getRenderStatus(\mbox{\hyperlink{class_t_renderer_ab120ad7931abf8858c10459d66f4c659}{TRenderer::renderId}}());}
\DoxyCodeLine{00938 }
\DoxyCodeLine{00939   std::string alias = getAlias(frame, \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}}()) + \textcolor{stringliteral}{"{}\_image"{}};}
\DoxyCodeLine{00940 }
\DoxyCodeLine{00941   \mbox{\hyperlink{class_t_image_info}{TImageInfo}} imageInfo;}
\DoxyCodeLine{00942   getImageInfo(imageInfo, sl, cell.m\_frameId);}
\DoxyCodeLine{00943   \mbox{\hyperlink{class_t_rect_t}{TRectD}} imgRect(0, 0, imageInfo.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}, imageInfo.\mbox{\hyperlink{class_t_image_info_affef879628cc3843968c932e706541b6}{m\_ly}});}
\DoxyCodeLine{00944 }
\DoxyCodeLine{00945   \textcolor{keywordflow}{if} (renderStatus == TRenderer::FIRSTRUN) \{}
\DoxyCodeLine{00946     ResourceBuilder::declareResource(alias, 0, imgRect, frame, info, \textcolor{keyword}{false});}
\DoxyCodeLine{00947   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00948     \mbox{\hyperlink{class_level_fx_builder}{LevelFxBuilder}} builder(alias, frame, info, sl, cell.m\_frameId);}
\DoxyCodeLine{00949     builder.setRasBounds(\mbox{\hyperlink{class_t_rect_t}{TRect}}(0, 0, imageInfo.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ 1, imageInfo.\mbox{\hyperlink{class_t_image_info_affef879628cc3843968c932e706541b6}{m\_ly}} -\/ 1));}
\DoxyCodeLine{00950     builder.simBuild(imgRect);}
\DoxyCodeLine{00951   \}}
\DoxyCodeLine{00952 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00085}{TXsh\+Cell\+Column\+::get\+Cell()}}, \mbox{\hyperlink{l00095}{TXsh\+Level\+::get\+Simple\+Level()}}, \mbox{\hyperlink{l00081}{TXsh\+Level\+::get\+Type()}}, \mbox{\hyperlink{l00470}{TRenderer\+::instance()}}, \mbox{\hyperlink{l00078}{TXsh\+Cell\+::is\+Empty()}}, \mbox{\hyperlink{l00046}{TImage\+Info\+::m\+\_\+lx}}, \mbox{\hyperlink{l00047}{TImage\+Info\+::m\+\_\+ly}}, and \mbox{\hyperlink{l00485}{TRenderer\+::render\+Id()}}.

\mbox{\Hypertarget{class_t_level_column_fx_a2126d4339c38e599773dc558f693f9a2}\label{class_t_level_column_fx_a2126d4339c38e599773dc558f693f9a2}} 
\index{TLevelColumnFx@{TLevelColumnFx}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool TLevel\+Column\+Fx\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01389                                                             \{}
\DoxyCodeLine{01390   \textcolor{comment}{// Usual preliminaries (make sure a level/cell exists, etc...)}}
\DoxyCodeLine{01391   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01392 }
\DoxyCodeLine{01393   \textcolor{keywordtype}{int} row              = (int)frame;}
\DoxyCodeLine{01394   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} \&cell = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(row);}
\DoxyCodeLine{01395   \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01396 }
\DoxyCodeLine{01397   \mbox{\hyperlink{class_t_smart_pointer_t}{TXshLevelP}} xshl = cell.m\_level;}
\DoxyCodeLine{01398   \textcolor{keywordflow}{if} (!xshl) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01399 }
\DoxyCodeLine{01400   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = xshl-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{01401   \textcolor{keywordflow}{if} (!sl) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01402 }
\DoxyCodeLine{01403   \textcolor{keywordtype}{double} dpi = 1.0;}
\DoxyCodeLine{01404 }
\DoxyCodeLine{01405   \textcolor{comment}{// Discriminate for level type}}
\DoxyCodeLine{01406   \textcolor{keywordtype}{int} type = xshl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}();}
\DoxyCodeLine{01407   \textcolor{keywordflow}{if} (type != PLI\_XSHLEVEL) \{}
\DoxyCodeLine{01408     \mbox{\hyperlink{class_t_image_info}{TImageInfo}} imageInfo;}
\DoxyCodeLine{01409     getImageInfo(imageInfo, sl, cell.m\_frameId);}
\DoxyCodeLine{01410 }
\DoxyCodeLine{01411     \textcolor{keywordtype}{double} cx = 0.5 * imageInfo.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}};}
\DoxyCodeLine{01412     \textcolor{keywordtype}{double} cy = 0.5 * imageInfo.\mbox{\hyperlink{class_t_image_info_affef879628cc3843968c932e706541b6}{m\_ly}};}
\DoxyCodeLine{01413     \textcolor{keywordflow}{if} (info.m\_getFullSizeBBox) \{}
\DoxyCodeLine{01414       bBox = \mbox{\hyperlink{class_t_rect_t}{TRectD}}(-\/cx, -\/cy, cx, cy);}
\DoxyCodeLine{01415     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01416       \mbox{\hyperlink{class_t_rect_t}{TRect}} imageSavebox(imageInfo.\mbox{\hyperlink{class_t_image_info_ab1f8c1ed2310caaea8c32653b6546c4b}{m\_x0}}, imageInfo.\mbox{\hyperlink{class_t_image_info_afede9d73a456673dcb25765c110ed9be}{m\_y0}}, imageInfo.\mbox{\hyperlink{class_t_image_info_a611bbda29415ee055e9663217e9cbdac}{m\_x1}},}
\DoxyCodeLine{01417                          imageInfo.\mbox{\hyperlink{class_t_image_info_a60c5eb6cc30ed1309bbc564330836e67}{m\_y1}});}
\DoxyCodeLine{01418       \textcolor{keywordtype}{double} x0 = (imageSavebox.x0 -\/ cx);}
\DoxyCodeLine{01419       \textcolor{keywordtype}{double} y0 = (imageSavebox.y0 -\/ cy);}
\DoxyCodeLine{01420       \textcolor{keywordtype}{double} x1 = x0 + imageSavebox.getLx();}
\DoxyCodeLine{01421       \textcolor{keywordtype}{double} y1 = y0 + imageSavebox.getLy();}
\DoxyCodeLine{01422       bBox      = \mbox{\hyperlink{class_t_rect_t}{TRectD}}(x0, y0, x1, y1);}
\DoxyCodeLine{01423     \}}
\DoxyCodeLine{01424     dpi = imageInfo.\mbox{\hyperlink{class_t_image_info_ad66e78a66158fddceaa192d0063f68e8}{m\_dpix}} / \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}};}
\DoxyCodeLine{01425   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01426     \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} img = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(row).\mbox{\hyperlink{class_t_xsh_cell_a20b623d308bc09b820ec6b116516f564}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01427     \textcolor{keywordflow}{if} (!img) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01428     bBox = img-\/>\mbox{\hyperlink{class_t_image_ac6a21b84486dec0c86b5b0b3f34be0ef}{getBBox}}();}
\DoxyCodeLine{01429   \}}
\DoxyCodeLine{01430 }
\DoxyCodeLine{01431   \textcolor{comment}{// Add the enlargement of the bbox due to Tzp render data}}
\DoxyCodeLine{01432   \textcolor{keywordflow}{if} (info.m\_data.size()) \{}
\DoxyCodeLine{01433     \mbox{\hyperlink{class_t_rect_t}{TRectD}} imageBBox(bBox);}
\DoxyCodeLine{01434     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < info.m\_data.size(); ++i) \{}
\DoxyCodeLine{01435       \mbox{\hyperlink{class_t_rect_t}{TRectD}} enlargedImageBBox = info.m\_data[i]-\/>getBBoxEnlargement(imageBBox);}
\DoxyCodeLine{01436       \textcolor{keywordtype}{double} enlargement       = enlargedImageBBox.x1 -\/ imageBBox.x1;}
\DoxyCodeLine{01437       bBox += imageBBox.enlarge(enlargement * dpi);}
\DoxyCodeLine{01438     \}}
\DoxyCodeLine{01439   \}}
\DoxyCodeLine{01440 }
\DoxyCodeLine{01441   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01442 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_a0b3fc4ae14203bfd5b3ca7df13138364}\label{class_t_level_column_fx_a0b3fc4ae14203bfd5b3ca7df13138364}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getAlias@{getAlias}}
\index{getAlias@{getAlias}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getAlias()}{getAlias()}}
{\footnotesize\ttfamily std\+::string TLevel\+Column\+Fx\+::get\+Alias (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_fx}{TFx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01491                                                                         \{}
\DoxyCodeLine{01492   \textcolor{keywordflow}{if} (!m\_levelColumn || m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}((\textcolor{keywordtype}{int})frame).\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}())}
\DoxyCodeLine{01493     \textcolor{keywordflow}{return} std::string();}
\DoxyCodeLine{01494 }
\DoxyCodeLine{01495   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} \&cell = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}((\textcolor{keywordtype}{int})frame);}
\DoxyCodeLine{01496 }
\DoxyCodeLine{01497   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp;}
\DoxyCodeLine{01498   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{01499 }
\DoxyCodeLine{01500   \textcolor{keywordflow}{if} (!sl) \{}
\DoxyCodeLine{01501     \textcolor{comment}{// Try with the sub-\/xsheet case}}
\DoxyCodeLine{01502     \mbox{\hyperlink{class_t_xsh_child_level}{TXshChildLevel}} *childLevel = cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a6ef7d48e41f4f214b414e959512e6377}{getChildLevel}}();}
\DoxyCodeLine{01503     \textcolor{keywordflow}{if} (childLevel) return ::getAlias(childLevel-\/>\mbox{\hyperlink{class_t_xsh_child_level_ad2676276ae1db83a898a3eef10e0ace8}{getXsheet}}(), frame, info);}
\DoxyCodeLine{01504 }
\DoxyCodeLine{01505     \textcolor{keywordflow}{return} std::string();}
\DoxyCodeLine{01506   \}}
\DoxyCodeLine{01507 }
\DoxyCodeLine{01508   \mbox{\hyperlink{class_t_file_path}{TFilePath}} path = sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a668293d53a70cca8811db28d87011c55}{getPath}}();}
\DoxyCodeLine{01509   \textcolor{keywordflow}{if} (!cell.m\_frameId.isNoFrame())}
\DoxyCodeLine{01510     fp = path.\mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{withFrame}}(cell.m\_frameId);}
\DoxyCodeLine{01511   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01512     fp = path;}
\DoxyCodeLine{01513 }
\DoxyCodeLine{01514   std::string rdata;}
\DoxyCodeLine{01515   std::vector<TRasterFxRenderDataP>::const\_iterator it = info.m\_data.begin();}
\DoxyCodeLine{01516   \textcolor{keywordflow}{for} (; it != info.m\_data.end(); ++it) \{}
\DoxyCodeLine{01517     \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterFxRenderDataP}} data = *it;}
\DoxyCodeLine{01518     \textcolor{keywordflow}{if} (data) rdata += data-\/>toString();}
\DoxyCodeLine{01519   \}}
\DoxyCodeLine{01520 }
\DoxyCodeLine{01521   \textcolor{keywordflow}{if} (sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() == PLI\_XSHLEVEL || sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() == TZP\_XSHLEVEL) \{}
\DoxyCodeLine{01522     \mbox{\hyperlink{class_t_palette}{TPalette}} *palette = cell.\mbox{\hyperlink{class_t_xsh_cell_aacfe60a65da1f0ac14b0d6b7bafe0056}{getPalette}}();}
\DoxyCodeLine{01523     \textcolor{keywordflow}{if} (palette \&\& palette-\/>isAnimated())}
\DoxyCodeLine{01524       rdata += \textcolor{stringliteral}{"{}animatedPlt"{}} + std::to\_string(frame);}
\DoxyCodeLine{01525   \}}
\DoxyCodeLine{01526 }
\DoxyCodeLine{01527   \textcolor{keywordflow}{if} (Preferences::instance()-\/>isIgnoreAlphaonColumn1Enabled()) \{}
\DoxyCodeLine{01528     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh  = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_level_column_a8d428cf082e9db15e8d73afa857beb79}{getLevelColumn}}()-\/>\mbox{\hyperlink{class_t_xsh_column_a2d812ed804dba4d8d91482a5f35e2601}{getXsheet}}();}
\DoxyCodeLine{01529     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *txsh = sl-\/>\mbox{\hyperlink{class_t_xsh_level_a06176566e80858dbb206112db08a92b9}{getScene}}()-\/>\mbox{\hyperlink{class_toonz_scene_aaffd562eebbd8faba4caeaed69bfcc18}{getTopXsheet}}();}
\DoxyCodeLine{01530 }
\DoxyCodeLine{01531     \textcolor{keywordflow}{if} (m\_levelColumn-\/>getIndex() == 0 \&\&}
\DoxyCodeLine{01532         isSubsheetChainOnColumn0(txsh, xsh, frame))}
\DoxyCodeLine{01533       rdata += \textcolor{stringliteral}{"{}column\_0"{}};}
\DoxyCodeLine{01534   \}}
\DoxyCodeLine{01535 }
\DoxyCodeLine{01536   \textcolor{keywordflow}{return} getFxType() + \textcolor{stringliteral}{"{}["{}} + ::to\_string(fp.getWideString()) + \textcolor{stringliteral}{"{},"{}} + rdata +}
\DoxyCodeLine{01537          \textcolor{stringliteral}{"{}]"{}};}
\DoxyCodeLine{01538 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_ac051484cc2e29e34ec134a19027cb8b6}\label{class_t_level_column_fx_ac051484cc2e29e34ec134a19027cb8b6}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getColumn@{getColumn}}
\index{getColumn@{getColumn}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getColumn()}{getColumn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_level_column}{TXsh\+Level\+Column}} $\ast$ TLevel\+Column\+Fx\+::get\+Column (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00079 \{ \textcolor{keywordflow}{return} m\_levelColumn; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_a76e5b0492185ac6d65c38ac4a12662a5}\label{class_t_level_column_fx_a76e5b0492185ac6d65c38ac4a12662a5}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getColumnId@{getColumnId}}
\index{getColumnId@{getColumnId}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getColumnId()}{getColumnId()}}
{\footnotesize\ttfamily std\+::wstring TLevel\+Column\+Fx\+::get\+Column\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_column_fx}{TColumn\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01473                                              \{}
\DoxyCodeLine{01474   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return} L\textcolor{stringliteral}{"{}Col?"{}};}
\DoxyCodeLine{01475   \textcolor{keywordflow}{return} L\textcolor{stringliteral}{"{}Col"{}} + std::to\_wstring(m\_levelColumn-\/>getIndex() + 1);}
\DoxyCodeLine{01476 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_a0096f1d305d70fea5259ad7aa972a9ba}\label{class_t_level_column_fx_a0096f1d305d70fea5259ad7aa972a9ba}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getColumnIndex@{getColumnIndex}}
\index{getColumnIndex@{getColumnIndex}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getColumnIndex()}{getColumnIndex()}}
{\footnotesize\ttfamily int TLevel\+Column\+Fx\+::get\+Column\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_column_fx}{TColumn\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01542                                          \{}
\DoxyCodeLine{01543   \textcolor{keywordflow}{return} m\_levelColumn ? m\_levelColumn-\/>getIndex() : -\/1;}
\DoxyCodeLine{01544 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_af9b5bca75e71e62fb14d04ea905109c2}\label{class_t_level_column_fx_af9b5bca75e71e62fb14d04ea905109c2}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getColumnName@{getColumnName}}
\index{getColumnName@{getColumnName}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getColumnName()}{getColumnName()}}
{\footnotesize\ttfamily std\+::wstring TLevel\+Column\+Fx\+::get\+Column\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_column_fx}{TColumn\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01480                                                \{}
\DoxyCodeLine{01481   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return} L\textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01482   \textcolor{keywordtype}{int} idx = getColumnIndex();}
\DoxyCodeLine{01483   return ::to\_wstring(m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_column_a2d812ed804dba4d8d91482a5f35e2601}{getXsheet}}()}
\DoxyCodeLine{01484                           -\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(TStageObjectId::ColumnId(idx))}
\DoxyCodeLine{01485                           -\/>getName());}
\DoxyCodeLine{01486 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_ac5232c529a49c9ec0e453bb10882f2ec}\label{class_t_level_column_fx_ac5232c529a49c9ec0e453bb10882f2ec}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getDeclaration@{getDeclaration}}
\index{getDeclaration@{getDeclaration}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getDeclaration()}{getDeclaration()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_persist_declaration}{TPersist\+Declaration}} $\ast$ TLevel\+Column\+Fx\+::get\+Declaration (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyVerb}      This pure virtual method is used to define a global pointer to the
\end{DoxyVerb}
 object. This method is overridden with the macro \mbox{\hyperlink{tpersist_8h_ac4e32a0616968ccbce281794950986f3}{PERSIST\+\_\+\+DECLARATION(\+T)}}. ~\newline
 For example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{class }DVAPI \mbox{\hyperlink{class_t_stage_object_tree}{TStageObjectTree}} final : \textcolor{keyword}{public} \mbox{\hyperlink{class_t_persist}{TPersist}} \{}
\DoxyCodeLine{\mbox{\hyperlink{tpersist_8h_ac4e32a0616968ccbce281794950986f3}{PERSIST\_DECLARATION}}(\mbox{\hyperlink{class_t_stage_object_tree}{TStageObjectTree}})}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{}
\DoxyCodeLine{...}

\end{DoxyCode}
 

Implements \mbox{\hyperlink{class_t_persist_aec66a1276b484a94a48e7e3e45be525e}{TPersist}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01446                                                                 \{}
\DoxyCodeLine{01447   \textcolor{keywordflow}{return} \&columnFxInfo;}
\DoxyCodeLine{01448 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_a527095be2957b763c388e59883a6eef4}\label{class_t_level_column_fx_a527095be2957b763c388e59883a6eef4}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getDpiAff@{getDpiAff}}
\index{getDpiAff@{getDpiAff}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getDpiAff()}{getDpiAff()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_affine}{TAffine}} TLevel\+Column\+Fx\+::get\+Dpi\+Aff (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01552                                            \{}
\DoxyCodeLine{01553   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_affine}{TAffine}}();}
\DoxyCodeLine{01554 }
\DoxyCodeLine{01555   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(frame);}
\DoxyCodeLine{01556   \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_affine}{TAffine}}();}
\DoxyCodeLine{01557 }
\DoxyCodeLine{01558   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{01559   \mbox{\hyperlink{class_t_frame_id}{TFrameId}} fid        = cell.m\_frameId;}
\DoxyCodeLine{01560 }
\DoxyCodeLine{01561   \textcolor{keywordflow}{if} (sl) return ::getDpiAffine(sl, cell.m\_frameId, \textcolor{keyword}{true});}
\DoxyCodeLine{01562 }
\DoxyCodeLine{01563   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_affine}{TAffine}}();}
\DoxyCodeLine{01564 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_a9fdb94fea2a9dd488b5cf99120096e1e}\label{class_t_level_column_fx_a9fdb94fea2a9dd488b5cf99120096e1e}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getMemoryRequirement@{getMemoryRequirement}}
\index{getMemoryRequirement@{getMemoryRequirement}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getMemoryRequirement()}{getMemoryRequirement()}}
{\footnotesize\ttfamily int TLevel\+Column\+Fx\+::get\+Memory\+Requirement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Specifies the approximate size (in Mega\+Bytes) of the maximum allocation instance that this fx will need to perform in order to render the passed input. This method should be reimplemented in order to make the Toonz rendering process aware of the use of big raster memory chunks, at least. Observe that the passed tile geometry is implicitly {\itshape  already allocated \texorpdfstring{$<$}{<}\textbackslash{}i\texorpdfstring{$>$}{>} for the fx output. ~\newline
The default implementation returns 0, assuming that the passed implicit memory size is passed below in node computation without further allocation of resources. Fxs can reimplement this to -\/1 to explicitly disable the Toonz\textquotesingle{}s smart memory handling. ~\newline
 ~\newline
\begin{DoxyNote}{Note}
The rendering process ensures that the passed render settings are {\itshape handled} by the fx before this function is invoked -\/ do not waste code for it. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRaster\+Fx\+::memory\+Size}} and TRaster\+Fx\+::can\+Handle methods. 
\end{DoxySeeAlso}
}

Reimplemented from \mbox{\hyperlink{class_t_raster_fx_af8eb991c9756f4fb2e48d9f96cbacfba}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01338                                                                       \{}
\DoxyCodeLine{01339   \textcolor{comment}{// Sandor fxs are currently considered *VERY* inefficient upon tile}}
\DoxyCodeLine{01340   \textcolor{comment}{// subdivision}}
\DoxyCodeLine{01341   \textcolor{keywordflow}{if} (mustApplySandorFx(info.m\_data)) \{}
\DoxyCodeLine{01342     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{01343   \}}
\DoxyCodeLine{01344   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01345 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_a169b8d38a38d7d8508b3e8cd2c140ad5}\label{class_t_level_column_fx_a169b8d38a38d7d8508b3e8cd2c140ad5}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getPalette@{getPalette}}
\index{getPalette@{getPalette}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getPalette()}{getPalette()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$ TLevel\+Column\+Fx\+::get\+Palette (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00895                                                     \{}
\DoxyCodeLine{00896   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00897 }
\DoxyCodeLine{00898   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(frame);}
\DoxyCodeLine{00899   \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00900 }
\DoxyCodeLine{00901   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{00902   \textcolor{keywordflow}{if} (!sl) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00903 }
\DoxyCodeLine{00904   \textcolor{keywordflow}{return} sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a9aea4f8e34caef293d5e5c7694047564}{getPalette}}();}
\DoxyCodeLine{00905 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_ad2dac87b15635b67d50ba5bdfca66971}\label{class_t_level_column_fx_ad2dac87b15635b67d50ba5bdfca66971}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getPalettePath@{getPalettePath}}
\index{getPalettePath@{getPalettePath}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getPalettePath()}{getPalettePath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TLevel\+Column\+Fx\+::get\+Palette\+Path (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00874                                                         \{}
\DoxyCodeLine{00875   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path}{TFilePath}}();}
\DoxyCodeLine{00876 }
\DoxyCodeLine{00877   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(frame);}
\DoxyCodeLine{00878   \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path}{TFilePath}}();}
\DoxyCodeLine{00879 }
\DoxyCodeLine{00880   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{00881   \textcolor{keywordflow}{if} (!sl) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path}{TFilePath}}();}
\DoxyCodeLine{00882 }
\DoxyCodeLine{00883   \textcolor{keywordflow}{if} (sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() == TZP\_XSHLEVEL)}
\DoxyCodeLine{00884     \textcolor{keywordflow}{return} sl-\/>\mbox{\hyperlink{class_t_xsh_level_a06176566e80858dbb206112db08a92b9}{getScene}}()-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(}
\DoxyCodeLine{00885         sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a668293d53a70cca8811db28d87011c55}{getPath}}().withNoFrame().\mbox{\hyperlink{class_t_file_path_a1437b0e0720e9258b622f68b6858e95d}{withType}}(\textcolor{stringliteral}{"{}tpl"{}}));}
\DoxyCodeLine{00886 }
\DoxyCodeLine{00887   \textcolor{keywordflow}{if} (sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() == PLI\_XSHLEVEL)}
\DoxyCodeLine{00888     \textcolor{keywordflow}{return} sl-\/>\mbox{\hyperlink{class_t_xsh_level_a06176566e80858dbb206112db08a92b9}{getScene}}()-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a668293d53a70cca8811db28d87011c55}{getPath}}());}
\DoxyCodeLine{00889 }
\DoxyCodeLine{00890   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path}{TFilePath}}();}
\DoxyCodeLine{00891 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_a28a72dc1ab49292f04c9ee3abc8b8e46}\label{class_t_level_column_fx_a28a72dc1ab49292f04c9ee3abc8b8e46}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getPluginId@{getPluginId}}
\index{getPluginId@{getPluginId}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getPluginId()}{getPluginId()}}
{\footnotesize\ttfamily std\+::string TLevel\+Column\+Fx\+::get\+Plugin\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_fx}{TFx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01452 \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Toonz\_"{}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_aeda0126dfd061e085f3b676fdf960162}\label{class_t_level_column_fx_aeda0126dfd061e085f3b676fdf960162}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getTimeRegion@{getTimeRegion}}
\index{getTimeRegion@{getTimeRegion}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getTimeRegion()}{getTimeRegion()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_fx_time_region}{TFx\+Time\+Region}} TLevel\+Column\+Fx\+::get\+Time\+Region (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_fx}{TFx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01456                                                   \{}
\DoxyCodeLine{01457   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_fx_time_region}{TFxTimeRegion}}();}
\DoxyCodeLine{01458 }
\DoxyCodeLine{01459   \textcolor{keywordtype}{int} first = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_ad70a850bd9a11c11660a38d11559690f}{getFirstRow}}();}
\DoxyCodeLine{01460   \textcolor{keywordtype}{int} last  = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_a61c3721599568e5078baeaa2775d9016}{getRowCount}}();}
\DoxyCodeLine{01461 }
\DoxyCodeLine{01462   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_fx_time_region}{TFxTimeRegion}}(first, last);}
\DoxyCodeLine{01463 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_a7c179ac3037609aed030c409ae6d4bea}\label{class_t_level_column_fx_a7c179ac3037609aed030c409ae6d4bea}} 
\index{TLevelColumnFx@{TLevelColumnFx}!getXshColumn@{getXshColumn}}
\index{getXshColumn@{getXshColumn}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{getXshColumn()}{getXshColumn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$ TLevel\+Column\+Fx\+::get\+Xsh\+Column (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_column_fx}{TColumn\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01548 \{ \textcolor{keywordflow}{return} m\_levelColumn; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_ac25f8d9b087e3bcfc7e756f214b02849}\label{class_t_level_column_fx_ac25f8d9b087e3bcfc7e756f214b02849}} 
\index{TLevelColumnFx@{TLevelColumnFx}!handledAffine@{handledAffine}}
\index{handledAffine@{handledAffine}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{handledAffine()}{handledAffine()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_affine}{TAffine}} TLevel\+Column\+Fx\+::handled\+Affine (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00837                                                     \{}
\DoxyCodeLine{00838   \textcolor{keywordflow}{if} (!m\_levelColumn) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_affine}{TAffine}}();}
\DoxyCodeLine{00839 }
\DoxyCodeLine{00840   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(m\_levelColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_ad70a850bd9a11c11660a38d11559690f}{getFirstRow}}());}
\DoxyCodeLine{00841   \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_affine}{TAffine}}();}
\DoxyCodeLine{00842 }
\DoxyCodeLine{00843   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{00844   \textcolor{keywordflow}{if} (!sl) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_affine}{TAffine}}();}
\DoxyCodeLine{00845 }
\DoxyCodeLine{00846   \textcolor{keywordflow}{if} (sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() == PLI\_XSHLEVEL)}
\DoxyCodeLine{00847     \textcolor{keywordflow}{return} vectorMustApplyCmappedFx(info.m\_data)}
\DoxyCodeLine{00848                ? TRasterFx::handledAffine(info, frame)}
\DoxyCodeLine{00849                : info.m\_affine;}
\DoxyCodeLine{00850 }
\DoxyCodeLine{00851   \textcolor{comment}{// Accept any translation consistent with the image's pixels geometry}}
\DoxyCodeLine{00852   \mbox{\hyperlink{class_t_image_info}{TImageInfo}} imageInfo;}
\DoxyCodeLine{00853   getImageInfo(imageInfo, sl, cell.m\_frameId);}
\DoxyCodeLine{00854 }
\DoxyCodeLine{00855   \mbox{\hyperlink{class_t_point_t}{TPointD}} pixelsOrigin(-\/0.5 * imageInfo.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}, -\/0.5 * imageInfo.\mbox{\hyperlink{class_t_image_info_affef879628cc3843968c932e706541b6}{m\_ly}});}
\DoxyCodeLine{00856 }
\DoxyCodeLine{00857   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&aff = info.m\_affine;}
\DoxyCodeLine{00858   \textcolor{keywordflow}{if} (aff.a11 != 1.0 || aff.a22 != 1.0 || aff.a12 != 0.0 || aff.a21 != 0.0)}
\DoxyCodeLine{00859     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_translation}{TTranslation}}(-\/pixelsOrigin);}
\DoxyCodeLine{00860 }
\DoxyCodeLine{00861   \textcolor{comment}{// This is a translation, ok. Just ensure it is consistent.}}
\DoxyCodeLine{00862   \mbox{\hyperlink{class_t_affine}{TAffine}} consistentAff(aff);}
\DoxyCodeLine{00863 }
\DoxyCodeLine{00864   consistentAff.a13 -\/= pixelsOrigin.x, consistentAff.a23 -\/= pixelsOrigin.y;}
\DoxyCodeLine{00865   consistentAff.a13 = tfloor(consistentAff.a13),}
\DoxyCodeLine{00866   consistentAff.a23 = tfloor(consistentAff.a23);}
\DoxyCodeLine{00867   consistentAff.a13 += pixelsOrigin.x, consistentAff.a23 += pixelsOrigin.y;}
\DoxyCodeLine{00868 }
\DoxyCodeLine{00869   \textcolor{keywordflow}{return} consistentAff;}
\DoxyCodeLine{00870 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_a49987fed87acfa31dece744c38a322cc}\label{class_t_level_column_fx_a49987fed87acfa31dece744c38a322cc}} 
\index{TLevelColumnFx@{TLevelColumnFx}!isCachable@{isCachable}}
\index{isCachable@{isCachable}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{isCachable()}{isCachable()}}
{\footnotesize\ttfamily bool TLevel\+Column\+Fx\+::is\+Cachable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00086 \{ \textcolor{keywordflow}{return} m\_isCachable; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_level_column_fx_ae12b35e5a0d77fa3e6327006180c9547}\label{class_t_level_column_fx_ae12b35e5a0d77fa3e6327006180c9547}} 
\index{TLevelColumnFx@{TLevelColumnFx}!loadData@{loadData}}
\index{loadData@{loadData}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{loadData()}{loadData()}}
{\footnotesize\ttfamily void TLevel\+Column\+Fx\+::load\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&}]{is }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} This is a pure virtual function and must be overridden with a method
\end{DoxyVerb}
 that implements the object loading from a stream (i.\+e take the object\textquotesingle{}s features from a formatted data stream). For example the \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} class use his implementation to take the values of the parameters that characterizes a stage object as name, coordinates, etc... from a file. {\itshape is} is an input file stream 

Reimplemented from \mbox{\hyperlink{class_t_fx_a501532b34979b9e44318ddbc2aed95be}{TFx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01575                                           \{}
\DoxyCodeLine{01576   \textcolor{comment}{// The internal numeric identifier is set here but not in constructors.}}
\DoxyCodeLine{01577   \textcolor{comment}{// This is *intended* as fx cloning needs to retain the original id}}
\DoxyCodeLine{01578   \textcolor{comment}{// through the fxs tree deployment procedure happening just before a}}
\DoxyCodeLine{01579   \textcolor{comment}{// render process (see scenefx.cpp).}}
\DoxyCodeLine{01580 }
\DoxyCodeLine{01581   \mbox{\hyperlink{class_t_fx_a501532b34979b9e44318ddbc2aed95be}{TFx::loadData}}(is);}
\DoxyCodeLine{01582   setNewIdentifier();}
\DoxyCodeLine{01583 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00703}{TFx\+::load\+Data()}}.

\mbox{\Hypertarget{class_t_level_column_fx_afaaf5112e8f3dd7a9609f4220e551ee1}\label{class_t_level_column_fx_afaaf5112e8f3dd7a9609f4220e551ee1}} 
\index{TLevelColumnFx@{TLevelColumnFx}!saveData@{saveData}}
\index{saveData@{saveData}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{saveData()}{saveData()}}
{\footnotesize\ttfamily void TLevel\+Column\+Fx\+::save\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&}]{os }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} This is a pure virtual function and must be overridden with a method
\end{DoxyVerb}
 that implements the object saving to a data stream (i.\+e put the object\textquotesingle{}s features on a formatted data stream). For example the \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} class use his implementation to save the values of the parameters that characterizes a stage object as name, coordinates, etc... on a file {\itshape os} is an output file stream. 

Reimplemented from \mbox{\hyperlink{class_t_fx_af9e88c53699cfa73960e37bb104ebcfb}{TFx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01568                                           \{}
\DoxyCodeLine{01569   assert(m\_levelColumn);}
\DoxyCodeLine{01570   \mbox{\hyperlink{class_t_fx_af9e88c53699cfa73960e37bb104ebcfb}{TFx::saveData}}(os);}
\DoxyCodeLine{01571 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00845}{TFx\+::save\+Data()}}.

\mbox{\Hypertarget{class_t_level_column_fx_a79498b6dc54e6d51f061a9c759f02f5e}\label{class_t_level_column_fx_a79498b6dc54e6d51f061a9c759f02f5e}} 
\index{TLevelColumnFx@{TLevelColumnFx}!setColumn@{setColumn}}
\index{setColumn@{setColumn}!TLevelColumnFx@{TLevelColumnFx}}
\doxysubsubsection{\texorpdfstring{setColumn()}{setColumn()}}
{\footnotesize\ttfamily void TLevel\+Column\+Fx\+::set\+Column (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_level_column}{TXsh\+Level\+Column}} $\ast$}]{column }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01467                                                       \{}
\DoxyCodeLine{01468   m\_levelColumn = column;}
\DoxyCodeLine{01469 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/tcolumnfx.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/tcolumnfx.\+cpp\end{DoxyCompactItemize}
