\hypertarget{class_fx_schematic_group_editor}{}\doxysection{Fx\+Schematic\+Group\+Editor Class Reference}
\label{class_fx_schematic_group_editor}\index{FxSchematicGroupEditor@{FxSchematicGroupEditor}}
Inheritance diagram for Fx\+Schematic\+Group\+Editor\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_fx_schematic_group_editor}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_fx_schematic_group_editor_a70b7866420e4219b078fc828788009f5}{Fx\+Schematic\+Group\+Editor}} (int group\+Id, const QList$<$ \mbox{\hyperlink{class_schematic_node}{Schematic\+Node}} $\ast$ $>$ \&grouped\+Node, \mbox{\hyperlink{class_schematic_scene}{Schematic\+Scene}} $\ast$scene)
\item 
QRectF \mbox{\hyperlink{class_fx_schematic_group_editor_a8592b00af112d09850849e4e1239bc7a}{bounding\+Scene\+Rect}} () const override
\item 
void \mbox{\hyperlink{class_fx_schematic_group_editor_a068797b648bfa9ea31aefd22f5183739}{set\+Grouped\+Node\+ZValue}} (int z\+Value) override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_fx_schematic_group_editor_a1ad13a714b4375cb74232e6139acc3eb}{close\+Editor}} () override
\item 
void \mbox{\hyperlink{class_fx_schematic_group_editor_a851c12379c4969e52e930cc097f2da08}{on\+Name\+Changed}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_fx_schematic_group_editor_a70b7866420e4219b078fc828788009f5}\label{class_fx_schematic_group_editor_a70b7866420e4219b078fc828788009f5}} 
\index{FxSchematicGroupEditor@{FxSchematicGroupEditor}!FxSchematicGroupEditor@{FxSchematicGroupEditor}}
\index{FxSchematicGroupEditor@{FxSchematicGroupEditor}!FxSchematicGroupEditor@{FxSchematicGroupEditor}}
\doxysubsubsection{\texorpdfstring{FxSchematicGroupEditor()}{FxSchematicGroupEditor()}}
{\footnotesize\ttfamily Fx\+Schematic\+Group\+Editor\+::\+Fx\+Schematic\+Group\+Editor (\begin{DoxyParamCaption}\item[{int}]{group\+Id,  }\item[{const QList$<$ \mbox{\hyperlink{class_schematic_node}{Schematic\+Node}} $\ast$ $>$ \&}]{grouped\+Node,  }\item[{\mbox{\hyperlink{class_schematic_scene}{Schematic\+Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00186     : \mbox{\hyperlink{class_schematic_window_editor}{SchematicWindowEditor}}(groupedNode, scene), m\_groupId(groupId) \{}
\DoxyCodeLine{00187   initializeEditor();}
\DoxyCodeLine{00188   setPos(boundingSceneRect().topLeft());}
\DoxyCodeLine{00189   m\_nameItem-\/>setName(m\_groupName);}
\DoxyCodeLine{00190 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_schematic_group_editor_a30cd832fb7f3ee2e9a47c13a9f71951d}\label{class_fx_schematic_group_editor_a30cd832fb7f3ee2e9a47c13a9f71951d}} 
\index{FxSchematicGroupEditor@{FxSchematicGroupEditor}!````~FxSchematicGroupEditor@{$\sim$FxSchematicGroupEditor}}
\index{````~FxSchematicGroupEditor@{$\sim$FxSchematicGroupEditor}!FxSchematicGroupEditor@{FxSchematicGroupEditor}}
\doxysubsubsection{\texorpdfstring{$\sim$FxSchematicGroupEditor()}{~FxSchematicGroupEditor()}}
{\footnotesize\ttfamily Fx\+Schematic\+Group\+Editor\+::$\sim$\+Fx\+Schematic\+Group\+Editor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00194 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_fx_schematic_group_editor_a8592b00af112d09850849e4e1239bc7a}\label{class_fx_schematic_group_editor_a8592b00af112d09850849e4e1239bc7a}} 
\index{FxSchematicGroupEditor@{FxSchematicGroupEditor}!boundingSceneRect@{boundingSceneRect}}
\index{boundingSceneRect@{boundingSceneRect}!FxSchematicGroupEditor@{FxSchematicGroupEditor}}
\doxysubsubsection{\texorpdfstring{boundingSceneRect()}{boundingSceneRect()}}
{\footnotesize\ttfamily QRectF Fx\+Schematic\+Group\+Editor\+::bounding\+Scene\+Rect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_schematic_window_editor}{Schematic\+Window\+Editor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00276                                                        \{}
\DoxyCodeLine{00277   QRectF rect = m\_groupedNode[0]-\/>boundingRect();}
\DoxyCodeLine{00278   QPointF shiftPos(m\_groupedNode[0]-\/>scenePos().x() -\/ rect.left(),}
\DoxyCodeLine{00279                    m\_groupedNode[0]-\/>scenePos().y() + rect.top() + 10);}
\DoxyCodeLine{00280   rect.moveTopLeft(shiftPos);}
\DoxyCodeLine{00281   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00282   \textcolor{keywordflow}{for} (i = 0; i < m\_groupedNode.size(); i++) \{}
\DoxyCodeLine{00283     \mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *node = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *\textcolor{keyword}{>}(m\_groupedNode[i]);}
\DoxyCodeLine{00284     assert(node);}
\DoxyCodeLine{00285     \mbox{\hyperlink{class_t_fx}{TFx}} *fx = node-\/>getFx();}
\DoxyCodeLine{00286     assert(fx);}
\DoxyCodeLine{00287     QRectF app = node-\/>\mbox{\hyperlink{class_schematic_node_ac6f29eb08191fec452e2f3e616ec95be}{boundingRect}}();}
\DoxyCodeLine{00288     QPointF shiftAppPos(node-\/>scenePos().x() -\/ app.left(),}
\DoxyCodeLine{00289                         node-\/>scenePos().y() + app.top() + 10);}
\DoxyCodeLine{00290     app.moveTopLeft(shiftAppPos);}
\DoxyCodeLine{00291     \textcolor{keywordtype}{bool} isASubgroupedNode =}
\DoxyCodeLine{00292         fx-\/>getAttributes()-\/>getEditingGroupId() != m\_groupId;}
\DoxyCodeLine{00293     \textcolor{keywordflow}{if} (isASubgroupedNode) \{}
\DoxyCodeLine{00294       QStack<int> idStack = fx-\/>getAttributes()-\/>getGroupIdStack();}
\DoxyCodeLine{00295       \textcolor{keywordtype}{int} start  = idStack.indexOf(fx-\/>getAttributes()-\/>getEditingGroupId());}
\DoxyCodeLine{00296       \textcolor{keywordtype}{int} k      = idStack.indexOf(m\_groupId, start) + 1;}
\DoxyCodeLine{00297       \textcolor{keywordtype}{int} factor = k * 30;}
\DoxyCodeLine{00298       app.adjust(-\/factor, -\/factor, factor, factor);}
\DoxyCodeLine{00299     \}}
\DoxyCodeLine{00300 \textcolor{preprocessor}{\#if QT\_VERSION >= 0x050000}}
\DoxyCodeLine{00301     rect = rect.united(app);}
\DoxyCodeLine{00302 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00303     rect = rect.unite(app);}
\DoxyCodeLine{00304 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00305   \}}
\DoxyCodeLine{00306   rect.adjust(-\/20, -\/35, 0, 20);}
\DoxyCodeLine{00307   \textcolor{keywordflow}{return} rect;}
\DoxyCodeLine{00308 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_schematic_group_editor_a1ad13a714b4375cb74232e6139acc3eb}\label{class_fx_schematic_group_editor_a1ad13a714b4375cb74232e6139acc3eb}} 
\index{FxSchematicGroupEditor@{FxSchematicGroupEditor}!closeEditor@{closeEditor}}
\index{closeEditor@{closeEditor}!FxSchematicGroupEditor@{FxSchematicGroupEditor}}
\doxysubsubsection{\texorpdfstring{closeEditor}{closeEditor}}
{\footnotesize\ttfamily void Fx\+Schematic\+Group\+Editor\+::close\+Editor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00210                                          \{}
\DoxyCodeLine{00211   \textcolor{comment}{// Ptrebbero esserci delle macro aperte per edit nel gruppo...}}
\DoxyCodeLine{00212   \textcolor{comment}{// devo chiedere alla scena di chiuderle per me... da qui non posso farlo!}}
\DoxyCodeLine{00213   \mbox{\hyperlink{class_fx_schematic_scene}{FxSchematicScene}} *fxScene = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_schematic_scene}{FxSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{00214   assert(fxScene);}
\DoxyCodeLine{00215   fxScene-\/>closeInnerMacroEditor(m\_groupId);}
\DoxyCodeLine{00216   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00217   \textcolor{keywordflow}{for} (i = 0; i < m\_groupedNode.size(); i++) \{}
\DoxyCodeLine{00218     \mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *node = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *\textcolor{keyword}{>}(m\_groupedNode[i]);}
\DoxyCodeLine{00219     \textcolor{keywordflow}{if} (!node) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00220     \mbox{\hyperlink{class_fx_group_node}{FxGroupNode}} *groupNode = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_group_node}{FxGroupNode}} *\textcolor{keyword}{>}(node);}
\DoxyCodeLine{00221     \textcolor{keywordflow}{if} (groupNode) \{}
\DoxyCodeLine{00222       QList<TFxP> fxs = groupNode-\/>getGroupedFxs();}
\DoxyCodeLine{00223       assert(!fxs.isEmpty());}
\DoxyCodeLine{00224       \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{00225       \textcolor{keywordflow}{for} (j = 0; j < fxs.size(); j++) \{}
\DoxyCodeLine{00226         fxs[j]-\/>getAttributes()-\/>closeEditingGroup(m\_groupId);}
\DoxyCodeLine{00227         \mbox{\hyperlink{class_t_macro_fx}{TMacroFx}} *macro = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_macro_fx}{TMacroFx}} *\textcolor{keyword}{>}(fxs[j].getPointer());}
\DoxyCodeLine{00228         \textcolor{keywordflow}{if} (macro) \{}
\DoxyCodeLine{00229           std::vector<TFxP> macroFxs = macro-\/>getFxs();}
\DoxyCodeLine{00230           \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{00231           \textcolor{keywordflow}{for} (j = 0; j < (int)macroFxs.size(); j++)}
\DoxyCodeLine{00232             macroFxs[j]-\/>getAttributes()-\/>closeEditingGroup(m\_groupId);}
\DoxyCodeLine{00233         \}}
\DoxyCodeLine{00234       \}}
\DoxyCodeLine{00235     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00236       \mbox{\hyperlink{class_t_fx}{TFx}} *fx = node-\/>getFx();}
\DoxyCodeLine{00237       assert(fx);}
\DoxyCodeLine{00238       fx-\/>getAttributes()-\/>closeEditingGroup(m\_groupId);}
\DoxyCodeLine{00239       \mbox{\hyperlink{class_t_macro_fx}{TMacroFx}} *macro = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_macro_fx}{TMacroFx}} *\textcolor{keyword}{>}(fx);}
\DoxyCodeLine{00240       \textcolor{keywordflow}{if} (macro) \{}
\DoxyCodeLine{00241         std::vector<TFxP> macroFxs = macro-\/>getFxs();}
\DoxyCodeLine{00242         \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{00243         \textcolor{keywordflow}{for} (j = 0; j < (int)macroFxs.size(); j++)}
\DoxyCodeLine{00244           macroFxs[j]-\/>getAttributes()-\/>closeEditingGroup(m\_groupId);}
\DoxyCodeLine{00245       \}}
\DoxyCodeLine{00246     \}}
\DoxyCodeLine{00247   \}}
\DoxyCodeLine{00248   m\_scene-\/>updateScene();}
\DoxyCodeLine{00249 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_schematic_group_editor_a851c12379c4969e52e930cc097f2da08}\label{class_fx_schematic_group_editor_a851c12379c4969e52e930cc097f2da08}} 
\index{FxSchematicGroupEditor@{FxSchematicGroupEditor}!onNameChanged@{onNameChanged}}
\index{onNameChanged@{onNameChanged}!FxSchematicGroupEditor@{FxSchematicGroupEditor}}
\doxysubsubsection{\texorpdfstring{onNameChanged}{onNameChanged}}
{\footnotesize\ttfamily void Fx\+Schematic\+Group\+Editor\+::on\+Name\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00253                                            \{}
\DoxyCodeLine{00254   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00255   QList<TFxP> fxs;}
\DoxyCodeLine{00256   m\_nameItem-\/>hide();}
\DoxyCodeLine{00257   m\_groupName = m\_nameItem-\/>toPlainText();}
\DoxyCodeLine{00258   \textcolor{keywordflow}{for} (i = 0; i < m\_groupedNode.size(); i++) \{}
\DoxyCodeLine{00259     \mbox{\hyperlink{class_fx_group_node}{FxGroupNode}} *groupNode = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_group_node}{FxGroupNode}} *\textcolor{keyword}{>}(m\_groupedNode[i]);}
\DoxyCodeLine{00260     \mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *node  = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *\textcolor{keyword}{>}(m\_groupedNode[i]);}
\DoxyCodeLine{00261     \textcolor{keywordflow}{if} (groupNode)}
\DoxyCodeLine{00262       fxs.append(groupNode-\/>getGroupedFxs());}
\DoxyCodeLine{00263     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (node)}
\DoxyCodeLine{00264       fxs.append(node-\/>getFx());}
\DoxyCodeLine{00265   \}}
\DoxyCodeLine{00266   setFlag(QGraphicsItem::ItemIsSelectable, \textcolor{keyword}{true});}
\DoxyCodeLine{00267   \mbox{\hyperlink{class_fx_schematic_scene}{FxSchematicScene}} *fxScene = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_schematic_scene}{FxSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{00268   \textcolor{keywordflow}{if} (!fxScene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00269   TFxCommand::renameGroup(fxs.toStdList(), m\_groupName.toStdWString(), \textcolor{keyword}{true},}
\DoxyCodeLine{00270                           fxScene-\/>getXsheetHandle());}
\DoxyCodeLine{00271   update();}
\DoxyCodeLine{00272 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_schematic_group_editor_a068797b648bfa9ea31aefd22f5183739}\label{class_fx_schematic_group_editor_a068797b648bfa9ea31aefd22f5183739}} 
\index{FxSchematicGroupEditor@{FxSchematicGroupEditor}!setGroupedNodeZValue@{setGroupedNodeZValue}}
\index{setGroupedNodeZValue@{setGroupedNodeZValue}!FxSchematicGroupEditor@{FxSchematicGroupEditor}}
\doxysubsubsection{\texorpdfstring{setGroupedNodeZValue()}{setGroupedNodeZValue()}}
{\footnotesize\ttfamily void Fx\+Schematic\+Group\+Editor\+::set\+Grouped\+Node\+ZValue (\begin{DoxyParamCaption}\item[{int}]{z\+Value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_schematic_window_editor}{Schematic\+Window\+Editor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00312                                                             \{}
\DoxyCodeLine{00313   \textcolor{keywordtype}{int} i, size = m\_groupedNode.size();}
\DoxyCodeLine{00314   \textcolor{keywordflow}{for} (i = 0; i < size; i++) \{}
\DoxyCodeLine{00315     \mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *node = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_schematic_node}{FxSchematicNode}} *\textcolor{keyword}{>}(m\_groupedNode[i]);}
\DoxyCodeLine{00316     \textcolor{keywordflow}{if} (!node) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00317     \textcolor{keywordflow}{if} (node-\/>getFx()-\/>getAttributes()-\/>getEditingGroupId() == m\_groupId)}
\DoxyCodeLine{00318       node-\/>setZValue(zValue);}
\DoxyCodeLine{00319   \}}
\DoxyCodeLine{00320 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/schematicgroupeditor.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/schematicgroupeditor.\+cpp\end{DoxyCompactItemize}
