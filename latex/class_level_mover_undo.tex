\hypertarget{class_level_mover_undo}{}\doxysection{Level\+Mover\+Undo Class Reference}
\label{class_level_mover_undo}\index{LevelMoverUndo@{LevelMoverUndo}}
Inheritance diagram for Level\+Mover\+Undo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_level_mover_undo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_cells_mover}{Cells\+Mover}} $\ast$ \mbox{\hyperlink{class_level_mover_undo_a0608e662265dcac2803cfe5d30c9fb2c}{get\+Cells\+Mover}} ()
\item 
void \mbox{\hyperlink{class_level_mover_undo_a4109d800e62682327217e5d5c965a0ca}{undo}} () const override
\item 
void \mbox{\hyperlink{class_level_mover_undo_adc7c87fa1816b46d5a2a71d74358eec1}{redo}} () const override
\item 
int \mbox{\hyperlink{class_level_mover_undo_a4fcb12f2bfab7550d4f6c1a7d242ab8f}{get\+Size}} () const override
\item 
QString \mbox{\hyperlink{class_level_mover_undo_ac07cfdab96723444dae810c3c966f83b}{get\+History\+String}} () override
\item 
int \mbox{\hyperlink{class_level_mover_undo_a6e588b2711f73a54ca1c8a102f75963b}{get\+History\+Type}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ int $>$ \mbox{\hyperlink{class_level_mover_undo_afca116c9422c62718d8bfbe8f3ba1ce2}{m\+\_\+columns\+Changes}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_level_mover_undo_a05684be855194f87941226c941449106}\label{class_level_mover_undo_a05684be855194f87941226c941449106}} 
\index{LevelMoverUndo@{LevelMoverUndo}!LevelMoverUndo@{LevelMoverUndo}}
\index{LevelMoverUndo@{LevelMoverUndo}!LevelMoverUndo@{LevelMoverUndo}}
\doxysubsubsection{\texorpdfstring{LevelMoverUndo()}{LevelMoverUndo()}}
{\footnotesize\ttfamily Level\+Mover\+Undo\+::\+Level\+Mover\+Undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00381 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_level_mover_undo_a0608e662265dcac2803cfe5d30c9fb2c}\label{class_level_mover_undo_a0608e662265dcac2803cfe5d30c9fb2c}} 
\index{LevelMoverUndo@{LevelMoverUndo}!getCellsMover@{getCellsMover}}
\index{getCellsMover@{getCellsMover}!LevelMoverUndo@{LevelMoverUndo}}
\doxysubsubsection{\texorpdfstring{getCellsMover()}{getCellsMover()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_cells_mover}{Cells\+Mover}} $\ast$ Level\+Mover\+Undo\+::get\+Cells\+Mover (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00385 \{ \textcolor{keywordflow}{return} \&m\_cellsMover; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_level_mover_undo_ac07cfdab96723444dae810c3c966f83b}\label{class_level_mover_undo_ac07cfdab96723444dae810c3c966f83b}} 
\index{LevelMoverUndo@{LevelMoverUndo}!getHistoryString@{getHistoryString}}
\index{getHistoryString@{getHistoryString}!LevelMoverUndo@{LevelMoverUndo}}
\doxysubsubsection{\texorpdfstring{getHistoryString()}{getHistoryString()}}
{\footnotesize\ttfamily QString Level\+Mover\+Undo\+::get\+History\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00461 \{ \textcolor{keywordflow}{return} QObject::tr(\textcolor{stringliteral}{"{}Move Level"{}}); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_level_mover_undo_a6e588b2711f73a54ca1c8a102f75963b}\label{class_level_mover_undo_a6e588b2711f73a54ca1c8a102f75963b}} 
\index{LevelMoverUndo@{LevelMoverUndo}!getHistoryType@{getHistoryType}}
\index{getHistoryType@{getHistoryType}!LevelMoverUndo@{LevelMoverUndo}}
\doxysubsubsection{\texorpdfstring{getHistoryType()}{getHistoryType()}}
{\footnotesize\ttfamily int Level\+Mover\+Undo\+::get\+History\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00462 \{ \textcolor{keywordflow}{return} HistoryType::Xsheet; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_level_mover_undo_a4fcb12f2bfab7550d4f6c1a7d242ab8f}\label{class_level_mover_undo_a4fcb12f2bfab7550d4f6c1a7d242ab8f}} 
\index{LevelMoverUndo@{LevelMoverUndo}!getSize@{getSize}}
\index{getSize@{getSize}!LevelMoverUndo@{LevelMoverUndo}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Level\+Mover\+Undo\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00459 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(*this); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_level_mover_undo_adc7c87fa1816b46d5a2a71d74358eec1}\label{class_level_mover_undo_adc7c87fa1816b46d5a2a71d74358eec1}} 
\index{LevelMoverUndo@{LevelMoverUndo}!redo@{redo}}
\index{redo@{redo}!LevelMoverUndo@{LevelMoverUndo}}
\doxysubsubsection{\texorpdfstring{redo()}{redo()}}
{\footnotesize\ttfamily void Level\+Mover\+Undo\+::redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00425                              \{}
\DoxyCodeLine{00426     \textcolor{keywordtype}{int} ca       = m\_cellsMover.getStartPos().x;}
\DoxyCodeLine{00427     \textcolor{keywordtype}{int} cb       = m\_cellsMover.getPos().x;}
\DoxyCodeLine{00428     \textcolor{keywordtype}{int} colCount = m\_cellsMover.getColumnCount();}
\DoxyCodeLine{00429     \textcolor{keywordflow}{if} (!m\_cellsMover.getOrientation()-\/>isVerticalTimeline()) \{}
\DoxyCodeLine{00430       \textcolor{keywordtype}{int} ca = m\_cellsMover.getStartPos().y;}
\DoxyCodeLine{00431       \textcolor{keywordtype}{int} cb = m\_cellsMover.getPos().y;}
\DoxyCodeLine{00432     \}}
\DoxyCodeLine{00433 }
\DoxyCodeLine{00434     \textcolor{keywordflow}{if} (ca != cb) \{}
\DoxyCodeLine{00435       \textcolor{keywordflow}{if} (m\_cellsMover.m\_uffa \& 1) m\_cellsMover.emptyColumns(ca);}
\DoxyCodeLine{00436       \textcolor{keywordflow}{if} (m\_cellsMover.m\_uffa \& 2) m\_cellsMover.restoreColumns(cb);}
\DoxyCodeLine{00437     \}}
\DoxyCodeLine{00438 }
\DoxyCodeLine{00439     \textcolor{keywordflow}{if} ((m\_cellsMover.getQualifiers() \& CellsMover::eCopyCells) == 0 \&\&}
\DoxyCodeLine{00440         (m\_cellsMover.getQualifiers() \& CellsMover::eOverwriteCells) == 0)}
\DoxyCodeLine{00441       m\_cellsMover.undoMoveCells(m\_cellsMover.getStartPos());}
\DoxyCodeLine{00442     \textcolor{keywordflow}{if} (m\_cellsMover.getQualifiers() \&}
\DoxyCodeLine{00443         CellsMover::eOverwriteCells) \{  \textcolor{comment}{// rimuove le celle vecchie}}
\DoxyCodeLine{00444       \textcolor{keywordtype}{int} c, ra = m\_cellsMover.getStartPos().y,}
\DoxyCodeLine{00445              rowCount = m\_cellsMover.getRowCount();}
\DoxyCodeLine{00446       \textcolor{keywordflow}{if} (!m\_cellsMover.getOrientation()-\/>isVerticalTimeline())}
\DoxyCodeLine{00447         ra = m\_cellsMover.getStartPos().x;}
\DoxyCodeLine{00448       \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{00449       \textcolor{keywordflow}{for} (c = ca; c < ca + colCount; c++) xsh-\/>\mbox{\hyperlink{class_t_xsheet_a28381fbf27f33822b68cf66f689266da}{clearCells}}(ra, c, rowCount);}
\DoxyCodeLine{00450     \}}
\DoxyCodeLine{00451     m\_cellsMover.moveCells();}
\DoxyCodeLine{00452 }
\DoxyCodeLine{00453     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{00454     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00455     \textcolor{keywordflow}{if} (m\_cellsMover.getColumnTypeFromCell(0) == TXshColumn::eSoundType)}
\DoxyCodeLine{00456       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetSoundChanged();}
\DoxyCodeLine{00457   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_level_mover_undo_a4109d800e62682327217e5d5c965a0ca}\label{class_level_mover_undo_a4109d800e62682327217e5d5c965a0ca}} 
\index{LevelMoverUndo@{LevelMoverUndo}!undo@{undo}}
\index{undo@{undo}!LevelMoverUndo@{LevelMoverUndo}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Level\+Mover\+Undo\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00387                              \{}
\DoxyCodeLine{00388     \textcolor{keywordflow}{if} (m\_cellsMover.getOrientation()-\/>isVerticalTimeline())}
\DoxyCodeLine{00389       m\_cellsMover.undoMoveCells();}
\DoxyCodeLine{00390     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00391       \textcolor{keywordtype}{int} r = m\_cellsMover.getPos().y;}
\DoxyCodeLine{00392       \textcolor{keywordtype}{int} c = m\_cellsMover.getPos().x;}
\DoxyCodeLine{00393       m\_cellsMover.undoMoveCells(\mbox{\hyperlink{class_t_point_t}{TPoint}}(c, r));}
\DoxyCodeLine{00394     \}}
\DoxyCodeLine{00395 }
\DoxyCodeLine{00396     \textcolor{keywordtype}{int} ca       = m\_cellsMover.getStartPos().x;}
\DoxyCodeLine{00397     \textcolor{keywordtype}{int} cb       = m\_cellsMover.getPos().x;}
\DoxyCodeLine{00398     \textcolor{keywordtype}{int} colCount = m\_cellsMover.getColumnCount();}
\DoxyCodeLine{00399     \textcolor{keywordflow}{if} (!m\_cellsMover.getOrientation()-\/>isVerticalTimeline()) \{}
\DoxyCodeLine{00400       ca = m\_cellsMover.getStartPos().y;}
\DoxyCodeLine{00401       cb = m\_cellsMover.getPos().y;}
\DoxyCodeLine{00402     \}}
\DoxyCodeLine{00403 }
\DoxyCodeLine{00404     \textcolor{keywordflow}{if} (ca != cb) \{}
\DoxyCodeLine{00405       \textcolor{keywordflow}{if} (m\_cellsMover.m\_uffa \& 2) m\_cellsMover.emptyColumns(cb);}
\DoxyCodeLine{00406       \textcolor{keywordflow}{if} (m\_cellsMover.m\_uffa \& 1) m\_cellsMover.restoreColumns(ca);}
\DoxyCodeLine{00407     \}}
\DoxyCodeLine{00408     \textcolor{comment}{// Undo of moving cells with copy qualifiers does not need to restore the}}
\DoxyCodeLine{00409     \textcolor{comment}{// cells at start pos}}
\DoxyCodeLine{00410     \textcolor{keywordflow}{if} (!(m\_cellsMover.getQualifiers() \& CellsMover::eCopyCells)) \{}
\DoxyCodeLine{00411       \textcolor{keywordflow}{if} (m\_cellsMover.getOrientation()-\/>isVerticalTimeline())}
\DoxyCodeLine{00412         m\_cellsMover.moveCells(m\_cellsMover.getStartPos());}
\DoxyCodeLine{00413       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00414         \textcolor{keywordtype}{int} rStart = m\_cellsMover.getStartPos().x;}
\DoxyCodeLine{00415         \textcolor{keywordtype}{int} cStart = m\_cellsMover.getStartPos().y;}
\DoxyCodeLine{00416         \textcolor{keyword}{const} \mbox{\hyperlink{class_t_point_t}{TPoint}} useStart(rStart, cStart);}
\DoxyCodeLine{00417         m\_cellsMover.moveCells(useStart);}
\DoxyCodeLine{00418       \}}
\DoxyCodeLine{00419     \}}
\DoxyCodeLine{00420     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{00421     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00422     \textcolor{keywordflow}{if} (m\_cellsMover.getColumnTypeFromCell(0) == TXshColumn::eSoundType)}
\DoxyCodeLine{00423       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetSoundChanged();}
\DoxyCodeLine{00424   \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_level_mover_undo_afca116c9422c62718d8bfbe8f3ba1ce2}\label{class_level_mover_undo_afca116c9422c62718d8bfbe8f3ba1ce2}} 
\index{LevelMoverUndo@{LevelMoverUndo}!m\_columnsChanges@{m\_columnsChanges}}
\index{m\_columnsChanges@{m\_columnsChanges}!LevelMoverUndo@{LevelMoverUndo}}
\doxysubsubsection{\texorpdfstring{m\_columnsChanges}{m\_columnsChanges}}
{\footnotesize\ttfamily std\+::vector$<$int$>$ Level\+Mover\+Undo\+::m\+\_\+columns\+Changes}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/xshcellmover.\+cpp\end{DoxyCompactItemize}
