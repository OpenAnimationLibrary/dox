\hypertarget{class_resource_collector}{}\doxysection{Resource\+Collector Class Reference}
\label{class_resource_collector}\index{ResourceCollector@{ResourceCollector}}
Inheritance diagram for Resource\+Collector\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_resource_collector}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_resource_collector_a9e17aeb819dbc0d147486786cec04737}{Resource\+Collector}} (\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$scene)
\item 
bool \mbox{\hyperlink{class_resource_collector_acc9e7e3ce8e554849ec92cfa88f860dc}{make\+Unique}} (\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&path)
\item 
int \mbox{\hyperlink{class_resource_collector_a3c822b4e47263dae7153e44b85e6ec63}{get\+Collected\+Resource\+Count}} () const
\item 
void \mbox{\hyperlink{class_resource_collector_ab053e3efa9493057c2f694825b61259b}{process}} (\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$sl) override
\item 
void \mbox{\hyperlink{class_resource_collector_a869358ae95f8666899f9755c364fecd2}{process}} (\mbox{\hyperlink{class_t_xsh_sound_level}{TXsh\+Sound\+Level}} $\ast$sl) override
\item 
void \mbox{\hyperlink{class_resource_collector_a5af8e546525dfe34f3507685541b5d03}{process}} (\mbox{\hyperlink{class_t_xsh_palette_level}{TXsh\+Palette\+Level}} $\ast$pl) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_resource_collector_a9e17aeb819dbc0d147486786cec04737}\label{class_resource_collector_a9e17aeb819dbc0d147486786cec04737}} 
\index{ResourceCollector@{ResourceCollector}!ResourceCollector@{ResourceCollector}}
\index{ResourceCollector@{ResourceCollector}!ResourceCollector@{ResourceCollector}}
\doxysubsubsection{\texorpdfstring{ResourceCollector()}{ResourceCollector()}}
{\footnotesize\ttfamily Resource\+Collector\+::\+Resource\+Collector (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00678     : m\_scene(scene), m\_count(0) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_resource_collector_a08c294208d25d4c6935dcbadefa17826}\label{class_resource_collector_a08c294208d25d4c6935dcbadefa17826}} 
\index{ResourceCollector@{ResourceCollector}!````~ResourceCollector@{$\sim$ResourceCollector}}
\index{````~ResourceCollector@{$\sim$ResourceCollector}!ResourceCollector@{ResourceCollector}}
\doxysubsubsection{\texorpdfstring{$\sim$ResourceCollector()}{~ResourceCollector()}}
{\footnotesize\ttfamily Resource\+Collector\+::$\sim$\+Resource\+Collector (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00682 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_resource_collector_a3c822b4e47263dae7153e44b85e6ec63}\label{class_resource_collector_a3c822b4e47263dae7153e44b85e6ec63}} 
\index{ResourceCollector@{ResourceCollector}!getCollectedResourceCount@{getCollectedResourceCount}}
\index{getCollectedResourceCount@{getCollectedResourceCount}!ResourceCollector@{ResourceCollector}}
\doxysubsubsection{\texorpdfstring{getCollectedResourceCount()}{getCollectedResourceCount()}}
{\footnotesize\ttfamily int Resource\+Collector\+::get\+Collected\+Resource\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00381 \{ \textcolor{keywordflow}{return} m\_count; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_resource_collector_acc9e7e3ce8e554849ec92cfa88f860dc}\label{class_resource_collector_acc9e7e3ce8e554849ec92cfa88f860dc}} 
\index{ResourceCollector@{ResourceCollector}!makeUnique@{makeUnique}}
\index{makeUnique@{makeUnique}!ResourceCollector@{ResourceCollector}}
\doxysubsubsection{\texorpdfstring{makeUnique()}{makeUnique()}}
{\footnotesize\ttfamily bool Resource\+Collector\+::make\+Unique (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{path }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00686                                                   \{}
\DoxyCodeLine{00687   \textcolor{keywordflow}{return} makePathUnique(m\_scene, path);}
\DoxyCodeLine{00688 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_resource_collector_a5af8e546525dfe34f3507685541b5d03}\label{class_resource_collector_a5af8e546525dfe34f3507685541b5d03}} 
\index{ResourceCollector@{ResourceCollector}!process@{process}}
\index{process@{process}!ResourceCollector@{ResourceCollector}}
\doxysubsubsection{\texorpdfstring{process()}{process()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void Resource\+Collector\+::process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_palette_level}{TXsh\+Palette\+Level}} $\ast$}]{pl }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_resource_processor}{Resource\+Processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00761                                                     \{}
\DoxyCodeLine{00762   \mbox{\hyperlink{class_t_file_path}{TFilePath}} path          = pl-\/>\mbox{\hyperlink{class_t_xsh_palette_level_a01ec7fba4a06e19887cf52897388fb8b}{getPath}}();}
\DoxyCodeLine{00763   \mbox{\hyperlink{class_t_file_path}{TFilePath}} collectedPath = path;}
\DoxyCodeLine{00764   \textcolor{keywordflow}{if} (!getCollectedPath(m\_scene, collectedPath)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00765 }
\DoxyCodeLine{00766   \mbox{\hyperlink{class_t_file_path}{TFilePath}} actualCollectedPath = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(collectedPath);}
\DoxyCodeLine{00767   \textcolor{keywordflow}{if} (actualCollectedPath != path \&\& TSystem::doesExistFileOrLevel(path)) \{}
\DoxyCodeLine{00768     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00769       TSystem::touchParentDir(actualCollectedPath);}
\DoxyCodeLine{00770       \mbox{\hyperlink{class_t_xsh_simple_level_a821df490f42bb53d419ed4d3c4b97972}{TXshSimpleLevel::copyFiles}}(actualCollectedPath, path);}
\DoxyCodeLine{00771 }
\DoxyCodeLine{00772     \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00773     \}}
\DoxyCodeLine{00774   \}}
\DoxyCodeLine{00775   pl-\/>\mbox{\hyperlink{class_t_xsh_palette_level_a0b093c13c44700fb6413784731648bae}{setPath}}(collectedPath);}
\DoxyCodeLine{00776   m\_count++;}
\DoxyCodeLine{00777 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_resource_collector_ab053e3efa9493057c2f694825b61259b}\label{class_resource_collector_ab053e3efa9493057c2f694825b61259b}} 
\index{ResourceCollector@{ResourceCollector}!process@{process}}
\index{process@{process}!ResourceCollector@{ResourceCollector}}
\doxysubsubsection{\texorpdfstring{process()}{process()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void Resource\+Collector\+::process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$}]{sl }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_resource_processor}{Resource\+Processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00692                                                    \{}
\DoxyCodeLine{00693   \mbox{\hyperlink{class_t_file_path}{TFilePath}} path     = sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a668293d53a70cca8811db28d87011c55}{getPath}}();}
\DoxyCodeLine{00694   std::string suffix = ResourceImporter::extractPsdSuffix(path);}
\DoxyCodeLine{00695   std::map<TFilePath, TFilePath>::iterator it = m\_collectedFiles.find(path);}
\DoxyCodeLine{00696   \textcolor{keywordflow}{if} (it != m\_collectedFiles.end()) \{}
\DoxyCodeLine{00697     \mbox{\hyperlink{class_t_file_path}{TFilePath}} destPath = it-\/>second;}
\DoxyCodeLine{00698     \textcolor{keywordflow}{if} (suffix != \textcolor{stringliteral}{"{}"{}}) destPath = ResourceImporter::buildPsd(destPath, suffix);}
\DoxyCodeLine{00699     sl-\/>setPath(destPath);}
\DoxyCodeLine{00700   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00701     \mbox{\hyperlink{class_t_file_path}{TFilePath}} collectedPath = path;}
\DoxyCodeLine{00702     \textcolor{keywordflow}{if} (getCollectedPath(m\_scene, collectedPath)) \{}
\DoxyCodeLine{00703       \mbox{\hyperlink{class_t_file_path}{TFilePath}} actualCollectedPath = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(collectedPath);}
\DoxyCodeLine{00704       \textcolor{keywordflow}{if} (actualCollectedPath != path \&\& TSystem::doesExistFileOrLevel(path) \&\&}
\DoxyCodeLine{00705           !TSystem::doesExistFileOrLevel(actualCollectedPath)) \{}
\DoxyCodeLine{00706         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00707           TSystem::touchParentDir(actualCollectedPath);}
\DoxyCodeLine{00708           \mbox{\hyperlink{class_t_xsh_simple_level_a821df490f42bb53d419ed4d3c4b97972}{TXshSimpleLevel::copyFiles}}(actualCollectedPath, path);}
\DoxyCodeLine{00709         \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00710         \}}
\DoxyCodeLine{00711       \}}
\DoxyCodeLine{00712       ++m\_count;}
\DoxyCodeLine{00713       \mbox{\hyperlink{class_t_file_path}{TFilePath}} destPath = collectedPath;}
\DoxyCodeLine{00714       \textcolor{keywordflow}{if} (suffix != \textcolor{stringliteral}{"{}"{}}) destPath = ResourceImporter::buildPsd(destPath, suffix);}
\DoxyCodeLine{00715       sl-\/>setPath(destPath);}
\DoxyCodeLine{00716       m\_collectedFiles[path] = collectedPath;}
\DoxyCodeLine{00717     \}}
\DoxyCodeLine{00718   \}}
\DoxyCodeLine{00719 }
\DoxyCodeLine{00720   \textcolor{keywordflow}{if} (sl-\/>getScannedPath() != \mbox{\hyperlink{class_t_file_path}{TFilePath}}()) \{}
\DoxyCodeLine{00721     path                    = sl-\/>getScannedPath();}
\DoxyCodeLine{00722     \mbox{\hyperlink{class_t_file_path}{TFilePath}} collectedPath = path;}
\DoxyCodeLine{00723     \textcolor{keywordflow}{if} (getCollectedPath(m\_scene, collectedPath)) \{}
\DoxyCodeLine{00724       \mbox{\hyperlink{class_t_file_path}{TFilePath}} actualCollectedPath = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(collectedPath);}
\DoxyCodeLine{00725       \textcolor{keywordflow}{if} (actualCollectedPath != path \&\& TSystem::doesExistFileOrLevel(path)) \{}
\DoxyCodeLine{00726         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00727           TSystem::touchParentDir(actualCollectedPath);}
\DoxyCodeLine{00728           \mbox{\hyperlink{class_t_xsh_simple_level_a821df490f42bb53d419ed4d3c4b97972}{TXshSimpleLevel::copyFiles}}(actualCollectedPath, path);}
\DoxyCodeLine{00729         \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00730         \}}
\DoxyCodeLine{00731       \}}
\DoxyCodeLine{00732       sl-\/>setScannedPath(collectedPath);}
\DoxyCodeLine{00733       m\_count++;}
\DoxyCodeLine{00734     \}}
\DoxyCodeLine{00735   \}}
\DoxyCodeLine{00736   sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00737 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_resource_collector_a869358ae95f8666899f9755c364fecd2}\label{class_resource_collector_a869358ae95f8666899f9755c364fecd2}} 
\index{ResourceCollector@{ResourceCollector}!process@{process}}
\index{process@{process}!ResourceCollector@{ResourceCollector}}
\doxysubsubsection{\texorpdfstring{process()}{process()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void Resource\+Collector\+::process (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_sound_level}{TXsh\+Sound\+Level}} $\ast$}]{sl }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_resource_processor}{Resource\+Processor}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00741                                                   \{}
\DoxyCodeLine{00742   \mbox{\hyperlink{class_t_file_path}{TFilePath}} path          = sl-\/>\mbox{\hyperlink{class_t_xsh_sound_level_a929c0a20b8447d38189edc3bae5d3d37}{getPath}}();}
\DoxyCodeLine{00743   \mbox{\hyperlink{class_t_file_path}{TFilePath}} collectedPath = path;}
\DoxyCodeLine{00744   \textcolor{keywordflow}{if} (!getCollectedPath(m\_scene, collectedPath)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00745 }
\DoxyCodeLine{00746   \mbox{\hyperlink{class_t_file_path}{TFilePath}} actualCollectedPath = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(collectedPath);}
\DoxyCodeLine{00747   \textcolor{keywordflow}{if} (actualCollectedPath != path \&\& TSystem::doesExistFileOrLevel(path)) \{}
\DoxyCodeLine{00748     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00749       TSystem::touchParentDir(actualCollectedPath);}
\DoxyCodeLine{00750       \mbox{\hyperlink{class_t_xsh_simple_level_a821df490f42bb53d419ed4d3c4b97972}{TXshSimpleLevel::copyFiles}}(actualCollectedPath, path);}
\DoxyCodeLine{00751 }
\DoxyCodeLine{00752     \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00753     \}}
\DoxyCodeLine{00754   \}}
\DoxyCodeLine{00755   sl-\/>setPath(collectedPath);}
\DoxyCodeLine{00756   m\_count++;}
\DoxyCodeLine{00757 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/sceneresources.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/sceneresources.\+cpp\end{DoxyCompactItemize}
