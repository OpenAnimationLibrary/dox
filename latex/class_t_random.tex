\hypertarget{class_t_random}{}\doxysection{TRandom Class Reference}
\label{class_t_random}\index{TRandom@{TRandom}}


{\ttfamily \#include $<$trandom.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_random_a3303fbabf9f1698198589173a9d947bd}{TRandom}} (UINT seed=0)
\item 
void \mbox{\hyperlink{class_t_random_abd4ed38d8ec0655484b447986194cf2e}{reset}} ()
\item 
void \mbox{\hyperlink{class_t_random_aceeb3a0c87fd421cd017c3f8d7cbe6f7}{set\+Seed}} (UINT seed)
\item 
UINT \mbox{\hyperlink{class_t_random_a6b2fa53d8d5af4475594da8cc89769cc}{get\+UInt}} (UINT end=c\+\_\+maxuint)
\item 
int \mbox{\hyperlink{class_t_random_ae7d9079b5fdba00be25f63d7066bb66a}{get\+Int}} (int begin, int end)
\item 
float \mbox{\hyperlink{class_t_random_a3a7f6b3a8992fcde5b0c5e8bd2049e41}{get\+Float}} ()
\item 
float \mbox{\hyperlink{class_t_random_a18c0d9f6f9fd18677a7c3816e6017cc6}{get\+Float}} (float end)
\item 
float \mbox{\hyperlink{class_t_random_a7ff31e526f410ccdd9d994c939282425}{get\+Float}} (float begin, float end)
\item 
bool \mbox{\hyperlink{class_t_random_aaba89e229a3e3e7146d439bc5bbeb848}{get\+Bool}} ()
\item 
double \mbox{\hyperlink{class_t_random_a1737f1f299a22bb5ecc839fbe32dbc64}{get\+Double}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Generates a pseudorandom sequence 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_random_a3303fbabf9f1698198589173a9d947bd}\label{class_t_random_a3303fbabf9f1698198589173a9d947bd}} 
\index{TRandom@{TRandom}!TRandom@{TRandom}}
\index{TRandom@{TRandom}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{TRandom()}{TRandom()}}
{\footnotesize\ttfamily TRandom\+::\+TRandom (\begin{DoxyParamCaption}\item[{UINT}]{seed = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00008                            : seed(\_seed) \{}
\DoxyCodeLine{00009   \textcolor{keywordflow}{if} (RandomFloatType == TRandom::RANDOM\_FLOAT\_TYPE\_NONE) setRandomFloatType();}
\DoxyCodeLine{00010   \mbox{\hyperlink{class_t_random_abd4ed38d8ec0655484b447986194cf2e}{reset}}();}
\DoxyCodeLine{00011 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_random_a9d127099e79815b1f39d628c7907d8bc}\label{class_t_random_a9d127099e79815b1f39d628c7907d8bc}} 
\index{TRandom@{TRandom}!````~TRandom@{$\sim$TRandom}}
\index{````~TRandom@{$\sim$TRandom}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{$\sim$TRandom()}{~TRandom()}}
{\footnotesize\ttfamily TRandom\+::$\sim$\+TRandom (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00015 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_random_aaba89e229a3e3e7146d439bc5bbeb848}\label{class_t_random_aaba89e229a3e3e7146d439bc5bbeb848}} 
\index{TRandom@{TRandom}!getBool@{getBool}}
\index{getBool@{getBool}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{getBool()}{getBool()}}
{\footnotesize\ttfamily bool TRandom\+::get\+Bool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

returns a random bool value 
\begin{DoxyCode}{0}
\DoxyCodeLine{00136                       \{}
\DoxyCodeLine{00137   UINT u = getNextUINT();}
\DoxyCodeLine{00138   \textcolor{keywordflow}{return} u \& 1;}
\DoxyCodeLine{00139 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_random_a1737f1f299a22bb5ecc839fbe32dbc64}\label{class_t_random_a1737f1f299a22bb5ecc839fbe32dbc64}} 
\index{TRandom@{TRandom}!getDouble@{getDouble}}
\index{getDouble@{getDouble}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{getDouble()}{getDouble()}}
{\footnotesize\ttfamily double TRandom\+::get\+Double (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

returns a double number in the range \mbox{[}0, 1\mbox{[} 
\begin{DoxyCode}{0}
\DoxyCodeLine{00144 \{}
\DoxyCodeLine{00145   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_random_a3a7f6b3a8992fcde5b0c5e8bd2049e41}{getFloat}}();}
\DoxyCodeLine{00146 \textcolor{preprocessor}{\#ifdef DA\_RIVEDERE\_O\_PROPRIO\_IMPLEMENTARE}}
\DoxyCodeLine{00147   UINT low     = getNextUINT();}
\DoxyCodeLine{00148   UINT high    = getNextUINT();}
\DoxyCodeLine{00149   \textcolor{keywordtype}{double} value = 0;}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151   \textcolor{keywordtype}{void} *ptr  = \&value;}
\DoxyCodeLine{00152   UINT *retL = (UINT *)ptr;}
\DoxyCodeLine{00153   UINT *retH = retL + 1;}
\DoxyCodeLine{00154 }
\DoxyCodeLine{00155 \textcolor{comment}{/*}}
\DoxyCodeLine{00156 \textcolor{comment}{// questa parte e' stata commentata perche' su tutte le piattaforme il tipo}}
\DoxyCodeLine{00157 \textcolor{comment}{//di float e' RANDOM\_FLOAT\_TYPE\_1ma su irix c'e' bisogno di eseguire le}}
\DoxyCodeLine{00158 \textcolor{comment}{//istruzioni sotto RANDOM\_FLOAT\_TYPE\_2}}
\DoxyCodeLine{00159 \textcolor{comment}{switch (RandomFloatType)}}
\DoxyCodeLine{00160 \textcolor{comment}{  \{}}
\DoxyCodeLine{00161 \textcolor{comment}{  case RANDOM\_FLOAT\_TYPE\_1:}}
\DoxyCodeLine{00162 \textcolor{comment}{                             *retH = high;}}
\DoxyCodeLine{00163 \textcolor{comment}{                             *retH \&= 0x00efffff;}}
\DoxyCodeLine{00164 \textcolor{comment}{                             *retH |= 0x3f000000;}}
\DoxyCodeLine{00165 \textcolor{comment}{}}
\DoxyCodeLine{00166 \textcolor{comment}{                             *retL = low ;}}
\DoxyCodeLine{00167 \textcolor{comment}{// vecchi commenti}}
\DoxyCodeLine{00168 \textcolor{comment}{//                             *retH = high;}}
\DoxyCodeLine{00169 \textcolor{comment}{//                             *retL = (low >> 5) \& 0x007fffff | 0x3ff00000;}}
\DoxyCodeLine{00170 \textcolor{comment}{}}
\DoxyCodeLine{00171 \textcolor{comment}{                             return value;}}
\DoxyCodeLine{00172 \textcolor{comment}{                             break;}}
\DoxyCodeLine{00173 \textcolor{comment}{   case RANDOM\_FLOAT\_TYPE\_2: *retH = low;}}
\DoxyCodeLine{00174 \textcolor{comment}{                             *retL = (high >> 5) \& 0x007fffff | 0x3ff00000;}}
\DoxyCodeLine{00175 \textcolor{comment}{                             break;}}
\DoxyCodeLine{00177 \textcolor{comment}{                             return value-\/1.0;}}
\DoxyCodeLine{00178 \textcolor{comment}{  default: assert (0);}}
\DoxyCodeLine{00179 \textcolor{comment}{  \}}}
\DoxyCodeLine{00180 \textcolor{comment}{return -\/1;}}
\DoxyCodeLine{00181 \textcolor{comment}{*/}}
\DoxyCodeLine{00182 \textcolor{preprocessor}{\#ifndef \_\_sgi}}
\DoxyCodeLine{00183   *retH = high;}
\DoxyCodeLine{00184   *retH \&= 0x007fffff;}
\DoxyCodeLine{00185   *retH |= 0x3ff00000;}
\DoxyCodeLine{00186   *retL = low;}
\DoxyCodeLine{00187   \textcolor{keywordflow}{return} value -\/ 1.0;}
\DoxyCodeLine{00188 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00189   *retH = low;}
\DoxyCodeLine{00190   *retL = (high >> 5) \& 0x007fffff | 0x3ff00000;}
\DoxyCodeLine{00191   \textcolor{keywordflow}{return} value -\/ 1.0;}
\DoxyCodeLine{00192 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00193 }
\DoxyCodeLine{00194 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00195 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00100}{get\+Float()}}.

\mbox{\Hypertarget{class_t_random_a3a7f6b3a8992fcde5b0c5e8bd2049e41}\label{class_t_random_a3a7f6b3a8992fcde5b0c5e8bd2049e41}} 
\index{TRandom@{TRandom}!getFloat@{getFloat}}
\index{getFloat@{getFloat}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{getFloat()}{getFloat()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily float TRandom\+::get\+Float (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

returns a float number in the range \mbox{[}0, 1\mbox{[} 
\begin{DoxyCode}{0}
\DoxyCodeLine{00101 \{}
\DoxyCodeLine{00102   UINT u = getNextUINT();}
\DoxyCodeLine{00103 }
\DoxyCodeLine{00104   \textcolor{keywordflow}{switch} (RandomFloatType) \{}
\DoxyCodeLine{00105   \textcolor{keywordflow}{case} RANDOM\_FLOAT\_TYPE\_1:}
\DoxyCodeLine{00106     u = ((u >> 5) \& 0x007fffff) | 0x3f800000;}
\DoxyCodeLine{00107     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00108   \textcolor{keywordflow}{case} RANDOM\_FLOAT\_TYPE\_2:}
\DoxyCodeLine{00109     u = (u \& 0xffff7f00) | 0x0000803f;}
\DoxyCodeLine{00110     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00111   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00112     assert(0);}
\DoxyCodeLine{00113     u = 0;}
\DoxyCodeLine{00114     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00115   \}}
\DoxyCodeLine{00116   \textcolor{keywordflow}{return} (*(\textcolor{keywordtype}{float} *)\&u) -\/ 1.0F;}
\DoxyCodeLine{00117 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00143}{get\+Double()}}, and \mbox{\hyperlink{l00121}{get\+Float()}}.

\mbox{\Hypertarget{class_t_random_a7ff31e526f410ccdd9d994c939282425}\label{class_t_random_a7ff31e526f410ccdd9d994c939282425}} 
\index{TRandom@{TRandom}!getFloat@{getFloat}}
\index{getFloat@{getFloat}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{getFloat()}{getFloat()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily float TRandom\+::get\+Float (\begin{DoxyParamCaption}\item[{float}]{begin,  }\item[{float}]{end }\end{DoxyParamCaption})}

returns a float number in the range \mbox{[}begin, end\mbox{[} 
\begin{DoxyCode}{0}
\DoxyCodeLine{00129 \{}
\DoxyCodeLine{00130   assert(end >= begin);}
\DoxyCodeLine{00131   \textcolor{keywordflow}{return} (\mbox{\hyperlink{class_t_random_a3a7f6b3a8992fcde5b0c5e8bd2049e41}{getFloat}}() * (end -\/ begin)) + begin;}
\DoxyCodeLine{00132 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00100}{get\+Float()}}.

\mbox{\Hypertarget{class_t_random_a18c0d9f6f9fd18677a7c3816e6017cc6}\label{class_t_random_a18c0d9f6f9fd18677a7c3816e6017cc6}} 
\index{TRandom@{TRandom}!getFloat@{getFloat}}
\index{getFloat@{getFloat}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{getFloat()}{getFloat()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily float TRandom\+::get\+Float (\begin{DoxyParamCaption}\item[{float}]{end }\end{DoxyParamCaption})}

returns a float number in the range \mbox{[}0, end\mbox{[} 
\begin{DoxyCode}{0}
\DoxyCodeLine{00122 \{}
\DoxyCodeLine{00123   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_random_a3a7f6b3a8992fcde5b0c5e8bd2049e41}{getFloat}}() * end;}
\DoxyCodeLine{00124 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00100}{get\+Float()}}.

\mbox{\Hypertarget{class_t_random_ae7d9079b5fdba00be25f63d7066bb66a}\label{class_t_random_ae7d9079b5fdba00be25f63d7066bb66a}} 
\index{TRandom@{TRandom}!getInt@{getInt}}
\index{getInt@{getInt}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{getInt()}{getInt()}}
{\footnotesize\ttfamily int TRandom\+::get\+Int (\begin{DoxyParamCaption}\item[{int}]{begin,  }\item[{int}]{end }\end{DoxyParamCaption})}

returns an integer number in the range \mbox{[}begin, end\mbox{[} 
\begin{DoxyCode}{0}
\DoxyCodeLine{00089 \{}
\DoxyCodeLine{00090   assert(end >= begin);}
\DoxyCodeLine{00091   \textcolor{keywordtype}{int} limit = end -\/ begin;}
\DoxyCodeLine{00092   \textcolor{keywordflow}{if} (limit == 0)  \textcolor{comment}{// end == begin}}
\DoxyCodeLine{00093     \textcolor{keywordflow}{return} begin;}
\DoxyCodeLine{00094   UINT u = getNextUINT();}
\DoxyCodeLine{00095   \textcolor{keywordflow}{return} u \% limit + begin;}
\DoxyCodeLine{00096 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_random_a6b2fa53d8d5af4475594da8cc89769cc}\label{class_t_random_a6b2fa53d8d5af4475594da8cc89769cc}} 
\index{TRandom@{TRandom}!getUInt@{getUInt}}
\index{getUInt@{getUInt}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{getUInt()}{getUInt()}}
{\footnotesize\ttfamily UINT TRandom\+::get\+UInt (\begin{DoxyParamCaption}\item[{UINT}]{end = {\ttfamily c\+\_\+maxuint} }\end{DoxyParamCaption})}

returns an unsigned integer number in the range \mbox{[}0, end\mbox{[} 
\begin{DoxyCode}{0}
\DoxyCodeLine{00078 \{}
\DoxyCodeLine{00079   \textcolor{keywordflow}{if} (end == 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00080   UINT u = getNextUINT();}
\DoxyCodeLine{00081   \textcolor{keywordflow}{if} (end == c\_maxuint) \textcolor{keywordflow}{return} u;}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083   \textcolor{keywordflow}{return} u \% end;}
\DoxyCodeLine{00084 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_random_abd4ed38d8ec0655484b447986194cf2e}\label{class_t_random_abd4ed38d8ec0655484b447986194cf2e}} 
\index{TRandom@{TRandom}!reset@{reset}}
\index{reset@{reset}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily void TRandom\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

resets the pseudorandom engine to the first number of the sequence 
\begin{DoxyCode}{0}
\DoxyCodeLine{00025                     \{}
\DoxyCodeLine{00026   UINT uj, uk;}
\DoxyCodeLine{00027   \textcolor{keywordtype}{int} i, ii, k;}
\DoxyCodeLine{00028 }
\DoxyCodeLine{00029   assert(\textcolor{keyword}{sizeof}(UINT) == 32 / 8);}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031   uj      = 161803398 -\/ seed;}
\DoxyCodeLine{00032   ran[55] = uj;}
\DoxyCodeLine{00033   uk      = 1;}
\DoxyCodeLine{00034   \textcolor{keywordflow}{for} (i = 1; i <= 54; i++) \{}
\DoxyCodeLine{00035     ii      = (21 * i) \% 55;}
\DoxyCodeLine{00036     ran[ii] = uk;}
\DoxyCodeLine{00037     uk      = uj -\/ uk;}
\DoxyCodeLine{00038     uj      = ran[ii];}
\DoxyCodeLine{00039   \}}
\DoxyCodeLine{00040   \textcolor{keywordflow}{for} (k = 1; k <= 4; k++)}
\DoxyCodeLine{00041     \textcolor{keywordflow}{for} (i = 1; i <= 55; i++) ran[i] -\/= ran[1 + (i + 30) \% 55];}
\DoxyCodeLine{00042   idx1     = 55;}
\DoxyCodeLine{00043   idx2     = 31;}
\DoxyCodeLine{00044 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00019}{set\+Seed()}}.

\mbox{\Hypertarget{class_t_random_aceeb3a0c87fd421cd017c3f8d7cbe6f7}\label{class_t_random_aceeb3a0c87fd421cd017c3f8d7cbe6f7}} 
\index{TRandom@{TRandom}!setSeed@{setSeed}}
\index{setSeed@{setSeed}!TRandom@{TRandom}}
\doxysubsubsection{\texorpdfstring{setSeed()}{setSeed()}}
{\footnotesize\ttfamily void TRandom\+::set\+Seed (\begin{DoxyParamCaption}\item[{UINT}]{seed }\end{DoxyParamCaption})}

set a new seed for the pseudorandom engine and reset the sequence 
\begin{DoxyCode}{0}
\DoxyCodeLine{00019                             \{}
\DoxyCodeLine{00020   seed = s;}
\DoxyCodeLine{00021   \mbox{\hyperlink{class_t_random_abd4ed38d8ec0655484b447986194cf2e}{reset}}();}
\DoxyCodeLine{00022 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00025}{reset()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/trandom.\+h\item 
E\+:/opentoonz/toonz/sources/common/tcore/trandom.\+cpp\end{DoxyCompactItemize}
