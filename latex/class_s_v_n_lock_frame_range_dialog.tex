\hypertarget{class_s_v_n_lock_frame_range_dialog}{}\doxysection{SVNLock\+Frame\+Range\+Dialog Class Reference}
\label{class_s_v_n_lock_frame_range_dialog}\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
Inheritance diagram for SVNLock\+Frame\+Range\+Dialog\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_s_v_n_lock_frame_range_dialog}
\end{center}
\end{figure}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_a85385c5465f78994cc4c0f4617dea5fa}\label{class_s_v_n_lock_frame_range_dialog_a85385c5465f78994cc4c0f4617dea5fa}} 
void {\bfseries done} (const QString\+List \&)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_s_v_n_lock_frame_range_dialog_a1aa606a006de6ac2674bb20b0022b639}{SVNLock\+Frame\+Range\+Dialog}} (QWidget $\ast$parent, const QString \&working\+Dir, const QString \&file, int frame\+Count)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_s_v_n_lock_frame_range_dialog_aa4a4b48e03fbd8b5d9e65b7b80ecdf3c}{on\+Error}} (const QString \&)
\item 
void \mbox{\hyperlink{class_s_v_n_lock_frame_range_dialog_aab190132250e55c020c97970fe53dae4}{on\+Prop\+Get\+Done}} (const QString \&)
\item 
void \mbox{\hyperlink{class_s_v_n_lock_frame_range_dialog_aa000fae342571eb9500dd21c2054c92c}{on\+Prop\+Set\+Done}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_lock_frame_range_dialog_a710c891c96a0d60179cfff506d96a197}{on\+Lock\+Button\+Clicked}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_lock_frame_range_dialog_a9e6b1586bace53f40ec04a2f6d7163ce}{on\+Cancel\+Button\+Clicked}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_lock_frame_range_dialog_abf08463e1e23ea8b7ee3848512fea66d}{on\+Lock\+Done}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_lock_frame_range_dialog_a2818cf483c605a190ee725f58e887512}{finish}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_lock_frame_range_dialog_a900a73bb20c40c99c99da771a77642ab}{on\+From\+Line\+Edit\+Text\+Changed}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_lock_frame_range_dialog_a693b46365df02e7af579983f54dd1b5c}{on\+To\+Line\+Edit\+Text\+Changed}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_a1aa606a006de6ac2674bb20b0022b639}\label{class_s_v_n_lock_frame_range_dialog_a1aa606a006de6ac2674bb20b0022b639}} 
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\doxysubsubsection{\texorpdfstring{SVNLockFrameRangeDialog()}{SVNLockFrameRangeDialog()}}
{\footnotesize\ttfamily SVNLock\+Frame\+Range\+Dialog\+::\+SVNLock\+Frame\+Range\+Dialog (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent,  }\item[{const QString \&}]{working\+Dir,  }\item[{const QString \&}]{file,  }\item[{int}]{frame\+Count }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00025     : Dialog(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getMainWindow(), \textcolor{keyword}{true}, \textcolor{keyword}{false})}
\DoxyCodeLine{00026     , m\_workingDir(workingDir)}
\DoxyCodeLine{00027     , m\_file(file)}
\DoxyCodeLine{00028     , m\_hasError(\textcolor{keyword}{false})}
\DoxyCodeLine{00029     , m\_fromIsValid(\textcolor{keyword}{true})}
\DoxyCodeLine{00030     , m\_toIsValid(\textcolor{keyword}{true}) \{}
\DoxyCodeLine{00031   setModal(\textcolor{keyword}{false});}
\DoxyCodeLine{00032   setAttribute(Qt::WA\_DeleteOnClose, \textcolor{keyword}{true});}
\DoxyCodeLine{00033 }
\DoxyCodeLine{00034   setWindowTitle(tr(\textcolor{stringliteral}{"{}Version Control: Edit Frame Range"{}}));}
\DoxyCodeLine{00035 }
\DoxyCodeLine{00036   setMinimumSize(300, 220);}
\DoxyCodeLine{00037   QWidget *container = \textcolor{keyword}{new} QWidget;}
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039   QVBoxLayout *mainLayout = \textcolor{keyword}{new} QVBoxLayout;}
\DoxyCodeLine{00040   mainLayout-\/>setAlignment(Qt::AlignHCenter);}
\DoxyCodeLine{00041   mainLayout-\/>setMargin(0);}
\DoxyCodeLine{00042 }
\DoxyCodeLine{00043   QHBoxLayout *hLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045   m\_waitingLabel      = \textcolor{keyword}{new} QLabel;}
\DoxyCodeLine{00046   QMovie *waitingMove = \textcolor{keyword}{new} QMovie(\textcolor{stringliteral}{"{}:Resources/waiting.gif"{}});}
\DoxyCodeLine{00047   waitingMove-\/>setParent(\textcolor{keyword}{this});}
\DoxyCodeLine{00048 }
\DoxyCodeLine{00049   m\_waitingLabel-\/>setMovie(waitingMove);}
\DoxyCodeLine{00050   waitingMove-\/>setCacheMode(QMovie::CacheAll);}
\DoxyCodeLine{00051   waitingMove-\/>start();}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053   m\_textLabel = \textcolor{keyword}{new} QLabel;}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055   m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}Temporary Lock file..."{}}));}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057   hLayout-\/>addStretch();}
\DoxyCodeLine{00058   hLayout-\/>addWidget(m\_waitingLabel);}
\DoxyCodeLine{00059   hLayout-\/>addWidget(m\_textLabel);}
\DoxyCodeLine{00060   hLayout-\/>addStretch();}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062   mainLayout-\/>addLayout(hLayout);}
\DoxyCodeLine{00063   mainLayout-\/>addSpacing(10);}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065   QHBoxLayout *fromToLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00066 }
\DoxyCodeLine{00067   m\_fromLabel = \textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}From:"{}}));}
\DoxyCodeLine{00068   m\_fromLabel-\/>setMaximumWidth(60);}
\DoxyCodeLine{00069   m\_fromLabel-\/>hide();}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071   m\_toLabel = \textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}To:"{}}));}
\DoxyCodeLine{00072   m\_toLabel-\/>setMaximumWidth(60);}
\DoxyCodeLine{00073   m\_toLabel-\/>hide();}
\DoxyCodeLine{00074 }
\DoxyCodeLine{00075   m\_fromLineEdit = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit}{DVGui::IntLineEdit}};}
\DoxyCodeLine{00076   m\_fromLineEdit-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_abe941ff2167eeb86676001a8e855041e}{setRange}}(1, frameCount);}
\DoxyCodeLine{00077   m\_fromLineEdit-\/>hide();}
\DoxyCodeLine{00078   connect(m\_fromLineEdit, SIGNAL(textChanged(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00079           SLOT(onFromLineEditTextChanged()));}
\DoxyCodeLine{00080 }
\DoxyCodeLine{00081   m\_toLineEdit = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit}{DVGui::IntLineEdit}};}
\DoxyCodeLine{00082   m\_toLineEdit-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_abe941ff2167eeb86676001a8e855041e}{setRange}}(1, frameCount);}
\DoxyCodeLine{00083   m\_toLineEdit-\/>hide();}
\DoxyCodeLine{00084   m\_toLineEdit-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(frameCount);}
\DoxyCodeLine{00085   connect(m\_toLineEdit, SIGNAL(textChanged(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00086           SLOT(onToLineEditTextChanged()));}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088   fromToLayout-\/>addStretch();}
\DoxyCodeLine{00089   fromToLayout-\/>addWidget(m\_fromLabel);}
\DoxyCodeLine{00090   fromToLayout-\/>addWidget(m\_fromLineEdit);}
\DoxyCodeLine{00091   fromToLayout-\/>addWidget(m\_toLabel);}
\DoxyCodeLine{00092   fromToLayout-\/>addWidget(m\_toLineEdit);}
\DoxyCodeLine{00093   fromToLayout-\/>addStretch();}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095   mainLayout-\/>addLayout(fromToLayout);}
\DoxyCodeLine{00096 }
\DoxyCodeLine{00097   QHBoxLayout *commentLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099   m\_commentTextEdit = \textcolor{keyword}{new} QPlainTextEdit;}
\DoxyCodeLine{00100   m\_commentTextEdit-\/>setMaximumHeight(50);}
\DoxyCodeLine{00101   m\_commentTextEdit-\/>hide();}
\DoxyCodeLine{00102 }
\DoxyCodeLine{00103   m\_commentLabel = \textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Comment:"{}}));}
\DoxyCodeLine{00104   m\_commentLabel-\/>setFixedWidth(55);}
\DoxyCodeLine{00105   m\_commentLabel-\/>hide();}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107   commentLayout-\/>addWidget(m\_commentLabel);}
\DoxyCodeLine{00108   commentLayout-\/>addWidget(m\_commentTextEdit);}
\DoxyCodeLine{00109 }
\DoxyCodeLine{00110   mainLayout-\/>addLayout(commentLayout);}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112   container-\/>setLayout(mainLayout);}
\DoxyCodeLine{00113 }
\DoxyCodeLine{00114   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_a21628a44d453352094b61b62b4407c6b}{beginHLayout}}();}
\DoxyCodeLine{00115   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(container, \textcolor{keyword}{false});}
\DoxyCodeLine{00116   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_abe29ee90829fe5e0351fbdee41089252}{endHLayout}}();}
\DoxyCodeLine{00117 }
\DoxyCodeLine{00118   m\_lockButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Edit"{}}));}
\DoxyCodeLine{00119   connect(m\_lockButton, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(onLockButtonClicked()));}
\DoxyCodeLine{00120 }
\DoxyCodeLine{00121   m\_cancelButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Cancel"{}}));}
\DoxyCodeLine{00122   connect(m\_cancelButton, SIGNAL(clicked()), \textcolor{keyword}{this},}
\DoxyCodeLine{00123           SLOT(onCancelButtonClicked()));}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_aff324b24a1ad0c06fdc178024c1f0cf0}{addButtonBarWidget}}(m\_lockButton, m\_cancelButton);}
\DoxyCodeLine{00126 }
\DoxyCodeLine{00127   \textcolor{comment}{// 0. Connect for svn errors (that may occur)}}
\DoxyCodeLine{00128   connect(\&m\_thread, SIGNAL(error(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00129           SLOT(onError(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00130 }
\DoxyCodeLine{00131   \textcolor{comment}{// Step 1: Lock}}
\DoxyCodeLine{00132   QStringList args;}
\DoxyCodeLine{00133   args << \textcolor{stringliteral}{"{}lock"{}};}
\DoxyCodeLine{00134   args << m\_file;}
\DoxyCodeLine{00135 }
\DoxyCodeLine{00136   connect(\&m\_thread, SIGNAL(done(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this}, SLOT(onLockDone()));}
\DoxyCodeLine{00137   m\_thread.executeCommand(m\_workingDir, \textcolor{stringliteral}{"{}svn"{}}, args, \textcolor{keyword}{false});}
\DoxyCodeLine{00138 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_a2818cf483c605a190ee725f58e887512}\label{class_s_v_n_lock_frame_range_dialog_a2818cf483c605a190ee725f58e887512}} 
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!finish@{finish}}
\index{finish@{finish}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\doxysubsubsection{\texorpdfstring{finish}{finish}}
{\footnotesize\ttfamily void SVNLock\+Frame\+Range\+Dialog\+::finish (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00342                                      \{}
\DoxyCodeLine{00343   \textcolor{keywordflow}{if} (!m\_hasError) \{}
\DoxyCodeLine{00344     emit done(QStringList(m\_file));}
\DoxyCodeLine{00345     close();}
\DoxyCodeLine{00346   \}}
\DoxyCodeLine{00347 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_a9e6b1586bace53f40ec04a2f6d7163ce}\label{class_s_v_n_lock_frame_range_dialog_a9e6b1586bace53f40ec04a2f6d7163ce}} 
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!onCancelButtonClicked@{onCancelButtonClicked}}
\index{onCancelButtonClicked@{onCancelButtonClicked}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\doxysubsubsection{\texorpdfstring{onCancelButtonClicked}{onCancelButtonClicked}}
{\footnotesize\ttfamily void SVNLock\+Frame\+Range\+Dialog\+::on\+Cancel\+Button\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00250                                                     \{}
\DoxyCodeLine{00251   QStringList args;}
\DoxyCodeLine{00252   args << \textcolor{stringliteral}{"{}unlock"{}};}
\DoxyCodeLine{00253   args << m\_file;}
\DoxyCodeLine{00254 }
\DoxyCodeLine{00255   m\_thread.disconnect(SIGNAL(done(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00256   connect(\&m\_thread, SIGNAL(done(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this}, SLOT(close()));}
\DoxyCodeLine{00257   m\_thread.executeCommand(m\_workingDir, \textcolor{stringliteral}{"{}svn"{}}, args, \textcolor{keyword}{true});}
\DoxyCodeLine{00258 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_aa4a4b48e03fbd8b5d9e65b7b80ecdf3c}\label{class_s_v_n_lock_frame_range_dialog_aa4a4b48e03fbd8b5d9e65b7b80ecdf3c}} 
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!onError@{onError}}
\index{onError@{onError}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\doxysubsubsection{\texorpdfstring{onError}{onError}}
{\footnotesize\ttfamily void SVNLock\+Frame\+Range\+Dialog\+::on\+Error (\begin{DoxyParamCaption}\item[{const QString \&}]{error\+String }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00155                                                                 \{}
\DoxyCodeLine{00156   m\_textLabel-\/>setText(errorString);}
\DoxyCodeLine{00157   switchToCloseButton();}
\DoxyCodeLine{00158   update();}
\DoxyCodeLine{00159   m\_hasError = \textcolor{keyword}{true};}
\DoxyCodeLine{00160 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_a900a73bb20c40c99c99da771a77642ab}\label{class_s_v_n_lock_frame_range_dialog_a900a73bb20c40c99c99da771a77642ab}} 
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!onFromLineEditTextChanged@{onFromLineEditTextChanged}}
\index{onFromLineEditTextChanged@{onFromLineEditTextChanged}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\doxysubsubsection{\texorpdfstring{onFromLineEditTextChanged}{onFromLineEditTextChanged}}
{\footnotesize\ttfamily void SVNLock\+Frame\+Range\+Dialog\+::on\+From\+Line\+Edit\+Text\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00262                                                         \{}
\DoxyCodeLine{00263   \textcolor{keywordtype}{int} value = m\_fromLineEdit-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}();}
\DoxyCodeLine{00264 }
\DoxyCodeLine{00265   \textcolor{comment}{// Check if from is inside one range}}
\DoxyCodeLine{00266   \textcolor{keywordtype}{int} count = m\_lockInfos.size();}
\DoxyCodeLine{00267 }
\DoxyCodeLine{00268   m\_fromIsValid = \textcolor{keyword}{true};}
\DoxyCodeLine{00269   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < count; i++) \{}
\DoxyCodeLine{00270     \mbox{\hyperlink{struct_s_v_n_partial_lock_info}{SVNPartialLockInfo}} lockInfo = m\_lockInfos.at(i);}
\DoxyCodeLine{00271     \textcolor{keywordflow}{if} (value >= lockInfo.m\_from \&\& value <= lockInfo.m\_to) \{}
\DoxyCodeLine{00272       m\_fromIsValid = \textcolor{keyword}{false};}
\DoxyCodeLine{00273       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00274     \}}
\DoxyCodeLine{00275   \}}
\DoxyCodeLine{00276 }
\DoxyCodeLine{00277   m\_fromLineEdit-\/>setStyleSheet(}
\DoxyCodeLine{00278       m\_fromIsValid ? \textcolor{stringliteral}{"{}"{}} : \textcolor{stringliteral}{"{}color: red; background-\/color: red;"{}});}
\DoxyCodeLine{00279   m\_lockButton-\/>setEnabled(m\_fromIsValid \&\& m\_toIsValid);}
\DoxyCodeLine{00280 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_a710c891c96a0d60179cfff506d96a197}\label{class_s_v_n_lock_frame_range_dialog_a710c891c96a0d60179cfff506d96a197}} 
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!onLockButtonClicked@{onLockButtonClicked}}
\index{onLockButtonClicked@{onLockButtonClicked}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\doxysubsubsection{\texorpdfstring{onLockButtonClicked}{onLockButtonClicked}}
{\footnotesize\ttfamily void SVNLock\+Frame\+Range\+Dialog\+::on\+Lock\+Button\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00213                                                   \{}
\DoxyCodeLine{00214   \textcolor{comment}{// Build the old partial Lock string}}
\DoxyCodeLine{00215   QString partialLockString;}
\DoxyCodeLine{00216 }
\DoxyCodeLine{00217   \textcolor{keywordtype}{int} count = m\_lockInfos.size();}
\DoxyCodeLine{00218   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < count; i++) \{}
\DoxyCodeLine{00219     \textcolor{keywordflow}{if} (i != 0) partialLockString.append(\textcolor{stringliteral}{"{};"{}});}
\DoxyCodeLine{00220     \mbox{\hyperlink{struct_s_v_n_partial_lock_info}{SVNPartialLockInfo}} lockInfo = m\_lockInfos.at(i);}
\DoxyCodeLine{00221     partialLockString.append(lockInfo.m\_userName + \textcolor{stringliteral}{"{}@"{}} + lockInfo.m\_hostName +}
\DoxyCodeLine{00222                              \textcolor{stringliteral}{"{}:"{}} + QString::number(lockInfo.m\_from) + \textcolor{stringliteral}{"{}:"{}} +}
\DoxyCodeLine{00223                              QString::number(lockInfo.m\_to));}
\DoxyCodeLine{00224   \}}
\DoxyCodeLine{00225 }
\DoxyCodeLine{00226   \textcolor{comment}{// Add the new value}}
\DoxyCodeLine{00227   QString userName = VersionControl::instance()-\/>getUserName();}
\DoxyCodeLine{00228   QString hostName = QHostInfo::localHostName();}
\DoxyCodeLine{00229   QString from     = QString::number(m\_fromLineEdit-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}());}
\DoxyCodeLine{00230   QString to       = QString::number(m\_toLineEdit-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}());}
\DoxyCodeLine{00231 }
\DoxyCodeLine{00232   \textcolor{keywordflow}{if} (count != 0) partialLockString.append(\textcolor{stringliteral}{"{};"{}});}
\DoxyCodeLine{00233   partialLockString.append(userName + \textcolor{stringliteral}{"{}@"{}} + hostName + \textcolor{stringliteral}{"{}:"{}} + from + \textcolor{stringliteral}{"{}:"{}} + to);}
\DoxyCodeLine{00234 }
\DoxyCodeLine{00235   \textcolor{comment}{// Step 3: propset}}
\DoxyCodeLine{00236   QStringList args;}
\DoxyCodeLine{00237   args << \textcolor{stringliteral}{"{}propset"{}};}
\DoxyCodeLine{00238   args << \textcolor{stringliteral}{"{}partial-\/lock"{}};}
\DoxyCodeLine{00239   args << partialLockString;}
\DoxyCodeLine{00240   args << m\_file;}
\DoxyCodeLine{00241 }
\DoxyCodeLine{00242   m\_thread.disconnect(SIGNAL(done(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00243   connect(\&m\_thread, SIGNAL(done(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00244           SLOT(onPropSetDone()));}
\DoxyCodeLine{00245   m\_thread.executeCommand(m\_workingDir, \textcolor{stringliteral}{"{}svn"{}}, args, \textcolor{keyword}{true});}
\DoxyCodeLine{00246 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_abf08463e1e23ea8b7ee3848512fea66d}\label{class_s_v_n_lock_frame_range_dialog_abf08463e1e23ea8b7ee3848512fea66d}} 
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!onLockDone@{onLockDone}}
\index{onLockDone@{onLockDone}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\doxysubsubsection{\texorpdfstring{onLockDone}{onLockDone}}
{\footnotesize\ttfamily void SVNLock\+Frame\+Range\+Dialog\+::on\+Lock\+Done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00305                                          \{}
\DoxyCodeLine{00306   \textcolor{keywordflow}{if} (!m\_hasError) \{}
\DoxyCodeLine{00307     m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}Getting frame range edit information..."{}}));}
\DoxyCodeLine{00308 }
\DoxyCodeLine{00309     \textcolor{comment}{// Step 2: propget}}
\DoxyCodeLine{00310     QStringList args;}
\DoxyCodeLine{00311     args << \textcolor{stringliteral}{"{}proplist"{}};}
\DoxyCodeLine{00312     args << m\_file;}
\DoxyCodeLine{00313     args << \textcolor{stringliteral}{"{}-\/-\/xml"{}};}
\DoxyCodeLine{00314     args << \textcolor{stringliteral}{"{}-\/v"{}};}
\DoxyCodeLine{00315 }
\DoxyCodeLine{00316     m\_thread.disconnect(SIGNAL(done(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00317     connect(\&m\_thread, SIGNAL(done(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00318             SLOT(onPropGetDone(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00319     m\_thread.executeCommand(m\_workingDir, \textcolor{stringliteral}{"{}svn"{}}, args, \textcolor{keyword}{true});}
\DoxyCodeLine{00320   \}}
\DoxyCodeLine{00321 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_aab190132250e55c020c97970fe53dae4}\label{class_s_v_n_lock_frame_range_dialog_aab190132250e55c020c97970fe53dae4}} 
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!onPropGetDone@{onPropGetDone}}
\index{onPropGetDone@{onPropGetDone}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\doxysubsubsection{\texorpdfstring{onPropGetDone}{onPropGetDone}}
{\footnotesize\ttfamily void SVNLock\+Frame\+Range\+Dialog\+::on\+Prop\+Get\+Done (\begin{DoxyParamCaption}\item[{const QString \&}]{xml\+Response }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00164                                                                       \{}
\DoxyCodeLine{00165   \mbox{\hyperlink{class_s_v_n_partial_lock_reader}{SVNPartialLockReader}} reader(xmlResponse);}
\DoxyCodeLine{00166   QList<SVNPartialLock> lockList = reader.getPartialLock();}
\DoxyCodeLine{00167   \textcolor{keywordflow}{if} (lockList.isEmpty())}
\DoxyCodeLine{00168     m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}No frame range edited."{}}));}
\DoxyCodeLine{00169   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00170     m\_lockInfos = lockList.at(0).m\_partialLockList;}
\DoxyCodeLine{00171     \textcolor{keywordflow}{if} (m\_lockInfos.isEmpty())}
\DoxyCodeLine{00172       m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}No frame range edited."{}}));}
\DoxyCodeLine{00173     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00174       QString temp;}
\DoxyCodeLine{00175       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_lockInfos.size(); i++) \{}
\DoxyCodeLine{00176         \textcolor{keywordflow}{if} (i != 0) temp.append(\textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{00177         \mbox{\hyperlink{struct_s_v_n_partial_lock_info}{SVNPartialLockInfo}} lock = m\_lockInfos.at(i);}
\DoxyCodeLine{00178         temp.append(tr(\textcolor{stringliteral}{"{}\%1 on \%2 is editing frames from \%3 to \%4."{}})}
\DoxyCodeLine{00179                         .arg(lock.m\_userName)}
\DoxyCodeLine{00180                         .arg(lock.m\_hostName)}
\DoxyCodeLine{00181                         .arg(lock.m\_from)}
\DoxyCodeLine{00182                         .arg(lock.m\_to));}
\DoxyCodeLine{00183       \}}
\DoxyCodeLine{00184       m\_textLabel-\/>setText(temp);}
\DoxyCodeLine{00185     \}}
\DoxyCodeLine{00186   \}}
\DoxyCodeLine{00187 }
\DoxyCodeLine{00188   \textcolor{keywordtype}{int} height =}
\DoxyCodeLine{00189       180 + (m\_lockInfos.isEmpty() ? 0 : ((m\_lockInfos.size() -\/ 1) * 25));}
\DoxyCodeLine{00190   setMinimumSize(300, height);}
\DoxyCodeLine{00191 }
\DoxyCodeLine{00192   m\_lockButton-\/>show();}
\DoxyCodeLine{00193 }
\DoxyCodeLine{00194   m\_cancelButton-\/>show();}
\DoxyCodeLine{00195 }
\DoxyCodeLine{00196   \textcolor{comment}{// Update from and to lineedit valid status}}
\DoxyCodeLine{00197   onFromLineEditTextChanged();}
\DoxyCodeLine{00198   onToLineEditTextChanged();}
\DoxyCodeLine{00199 }
\DoxyCodeLine{00200   m\_waitingLabel-\/>hide();}
\DoxyCodeLine{00201 }
\DoxyCodeLine{00202   m\_fromLabel-\/>show();}
\DoxyCodeLine{00203   m\_toLabel-\/>show();}
\DoxyCodeLine{00204   m\_fromLineEdit-\/>show();}
\DoxyCodeLine{00205   m\_toLineEdit-\/>show();}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207   m\_commentLabel-\/>show();}
\DoxyCodeLine{00208   m\_commentTextEdit-\/>show();}
\DoxyCodeLine{00209 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_aa000fae342571eb9500dd21c2054c92c}\label{class_s_v_n_lock_frame_range_dialog_aa000fae342571eb9500dd21c2054c92c}} 
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!onPropSetDone@{onPropSetDone}}
\index{onPropSetDone@{onPropSetDone}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\doxysubsubsection{\texorpdfstring{onPropSetDone}{onPropSetDone}}
{\footnotesize\ttfamily void SVNLock\+Frame\+Range\+Dialog\+::on\+Prop\+Set\+Done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00325                                             \{}
\DoxyCodeLine{00326   \textcolor{comment}{// Step 4: Commit}}
\DoxyCodeLine{00327   QStringList args;}
\DoxyCodeLine{00328   args << \textcolor{stringliteral}{"{}commit"{}};}
\DoxyCodeLine{00329   args << m\_file;}
\DoxyCodeLine{00330   \textcolor{keywordflow}{if} (!m\_commentTextEdit-\/>toPlainText().isEmpty())}
\DoxyCodeLine{00331     args << QString(\textcolor{stringliteral}{"{}-\/m"{}}).append(m\_commentTextEdit-\/>toPlainText());}
\DoxyCodeLine{00332   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00333     args << QString(\textcolor{stringliteral}{"{}-\/m"{}}).append(VersionControl::instance()-\/>getUserName() +}
\DoxyCodeLine{00334                                  \textcolor{stringliteral}{"{} edit frame range."{}});}
\DoxyCodeLine{00335   m\_thread.disconnect(SIGNAL(done(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00336   connect(\&m\_thread, SIGNAL(done(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this}, SLOT(finish()));}
\DoxyCodeLine{00337   m\_thread.executeCommand(m\_workingDir, \textcolor{stringliteral}{"{}svn"{}}, args, \textcolor{keyword}{true});}
\DoxyCodeLine{00338 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_lock_frame_range_dialog_a693b46365df02e7af579983f54dd1b5c}\label{class_s_v_n_lock_frame_range_dialog_a693b46365df02e7af579983f54dd1b5c}} 
\index{SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}!onToLineEditTextChanged@{onToLineEditTextChanged}}
\index{onToLineEditTextChanged@{onToLineEditTextChanged}!SVNLockFrameRangeDialog@{SVNLockFrameRangeDialog}}
\doxysubsubsection{\texorpdfstring{onToLineEditTextChanged}{onToLineEditTextChanged}}
{\footnotesize\ttfamily void SVNLock\+Frame\+Range\+Dialog\+::on\+To\+Line\+Edit\+Text\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00284                                                       \{}
\DoxyCodeLine{00285   \textcolor{keywordtype}{int} value = m\_toLineEdit-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}();}
\DoxyCodeLine{00286 }
\DoxyCodeLine{00287   \textcolor{comment}{// Check if from is inside one range}}
\DoxyCodeLine{00288   \textcolor{keywordtype}{int} count   = m\_lockInfos.size();}
\DoxyCodeLine{00289   m\_toIsValid = \textcolor{keyword}{true};}
\DoxyCodeLine{00290   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < count; i++) \{}
\DoxyCodeLine{00291     \mbox{\hyperlink{struct_s_v_n_partial_lock_info}{SVNPartialLockInfo}} lockInfo = m\_lockInfos.at(i);}
\DoxyCodeLine{00292     \textcolor{keywordflow}{if} (value >= lockInfo.m\_from \&\& value <= lockInfo.m\_to) \{}
\DoxyCodeLine{00293       m\_toIsValid = \textcolor{keyword}{false};}
\DoxyCodeLine{00294       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00295     \}}
\DoxyCodeLine{00296   \}}
\DoxyCodeLine{00297 }
\DoxyCodeLine{00298   m\_toLineEdit-\/>setStyleSheet(}
\DoxyCodeLine{00299       m\_toIsValid ? \textcolor{stringliteral}{"{}"{}} : \textcolor{stringliteral}{"{}color: red; background-\/color: red;"{}});}
\DoxyCodeLine{00300   m\_lockButton-\/>setEnabled(m\_fromIsValid \&\& m\_toIsValid);}
\DoxyCodeLine{00301 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/svnlockframerangedialog.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/svnlockframerangedialog.\+cpp\end{DoxyCompactItemize}
