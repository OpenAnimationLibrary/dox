\hypertarget{class_bmp_reader}{}\doxysection{Bmp\+Reader Class Reference}
\label{class_bmp_reader}\index{BmpReader@{BmpReader}}
Inheritance diagram for Bmp\+Reader\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_bmp_reader}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_bmp_reader_afea6e5d58548985d29419b1d5d1cdc02}{open}} (FILE $\ast$file) override
\item 
int \mbox{\hyperlink{class_bmp_reader_adc257859bfc4b43b17e9745f7719acdf}{read\+No\+Line}} (char $\ast$buffer, int x0, int x1, int shrink)
\item 
void \mbox{\hyperlink{class_bmp_reader_ab2adada653a24d97ba9613f29427b862}{skip\+Bytes}} (int count)
\item 
int \mbox{\hyperlink{class_bmp_reader_a8dd0fa34d096bc330c252e2d315605b6}{read1\+Line}} (char $\ast$buffer, int x0, int x1, int shrink)
\item 
int \mbox{\hyperlink{class_bmp_reader_a43e85a3054743e6d07d1387a53ff663d}{read4\+Line}} (char $\ast$buffer, int x0, int x1, int shrink)
\item 
int \mbox{\hyperlink{class_bmp_reader_a275dd0e77d2622e8d36b6a4fef1821e1}{read8\+Line}} (char $\ast$buffer, int x0, int x1, int shrink)
\item 
int \mbox{\hyperlink{class_bmp_reader_aea405c1f3534ac1d0df1547105fda765}{read8\+Line\+Rle}} (char $\ast$buffer, int x0, int x1, int shrink)
\item 
int \mbox{\hyperlink{class_bmp_reader_a70f34533ebe59b27001117fc53aed42b}{read16m555\+Line}} (char $\ast$buffer, int x0, int x1, int shrink)
\item 
int \mbox{\hyperlink{class_bmp_reader_ae51e96128346b017f2b8377ab94da649}{read16m565\+Line}} (char $\ast$buffer, int x0, int x1, int shrink)
\item 
int \mbox{\hyperlink{class_bmp_reader_aff403a003f830c782d877f04dc778c0d}{read24\+Line}} (char $\ast$buffer, int x0, int x1, int shrink)
\item 
int \mbox{\hyperlink{class_bmp_reader_a91a1c6b36819f59fe98d5579f911f32d}{read32\+Line}} (char $\ast$buffer, int x0, int x1, int shrink)
\item 
void \mbox{\hyperlink{class_bmp_reader_a08e9d21e2bea4e249381e313af74fe41}{read\+Line}} (char $\ast$buffer, int x0, int x1, int shrink) override
\item 
int \mbox{\hyperlink{class_bmp_reader_a7e1890955545b0baf9cca5fc82bef672}{skip\+Lines}} (int line\+Count) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_bmp_reader_afd43af83ac1211665a69406799d82bd4}\label{class_bmp_reader_afd43af83ac1211665a69406799d82bd4}} 
\index{BmpReader@{BmpReader}!BmpReader@{BmpReader}}
\index{BmpReader@{BmpReader}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{BmpReader()}{BmpReader()}}
{\footnotesize\ttfamily Bmp\+Reader\+::\+Bmp\+Reader (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00141     : m\_chan(0), m\_corrupted(\textcolor{keyword}{false}), m\_readLineMethod(\&BmpReader::readNoLine) \{}
\DoxyCodeLine{00142   memset(\&m\_header, 0, \textcolor{keyword}{sizeof} m\_header);}
\DoxyCodeLine{00143 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_a122582469d19e75ac8a0941a318558fd}\label{class_bmp_reader_a122582469d19e75ac8a0941a318558fd}} 
\index{BmpReader@{BmpReader}!````~BmpReader@{$\sim$BmpReader}}
\index{````~BmpReader@{$\sim$BmpReader}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{$\sim$BmpReader()}{~BmpReader()}}
{\footnotesize\ttfamily Bmp\+Reader\+::$\sim$\+Bmp\+Reader (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00147 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_bmp_reader_afea6e5d58548985d29419b1d5d1cdc02}\label{class_bmp_reader_afea6e5d58548985d29419b1d5d1cdc02}} 
\index{BmpReader@{BmpReader}!open@{open}}
\index{open@{open}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily void Bmp\+Reader\+::open (\begin{DoxyParamCaption}\item[{FILE $\ast$}]{file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_tiio_1_1_reader}{Tiio\+::\+Reader}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00151                                \{}
\DoxyCodeLine{00152   m\_chan = file;}
\DoxyCodeLine{00153   readHeader();}
\DoxyCodeLine{00154 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_a70f34533ebe59b27001117fc53aed42b}\label{class_bmp_reader_a70f34533ebe59b27001117fc53aed42b}} 
\index{BmpReader@{BmpReader}!read16m555Line@{read16m555Line}}
\index{read16m555Line@{read16m555Line}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{read16m555Line()}{read16m555Line()}}
{\footnotesize\ttfamily int Bmp\+Reader\+::read16m555\+Line (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer,  }\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{shrink }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00493                                                                       \{}
\DoxyCodeLine{00494   TPixel32 *pix = (TPixel32 *)buffer;}
\DoxyCodeLine{00495   \textcolor{keywordflow}{if} (x0 > 0) skipBytes(2 * x0);}
\DoxyCodeLine{00496   pix += x0;}
\DoxyCodeLine{00497   TPixel32 *endPix = pix + x1 -\/ x0 + 1;}
\DoxyCodeLine{00498 }
\DoxyCodeLine{00499   \textcolor{keywordflow}{while} (pix < endPix) \{}
\DoxyCodeLine{00500     \textcolor{keywordtype}{int} v  = getshort(m\_chan);}
\DoxyCodeLine{00501     \textcolor{keywordtype}{int} r  = (v >> 10) \& 0x1F;}
\DoxyCodeLine{00502     \textcolor{keywordtype}{int} g  = (v >> 5) \& 0x1F;}
\DoxyCodeLine{00503     \textcolor{keywordtype}{int} b  = v \& 0x1F;}
\DoxyCodeLine{00504     pix-\/>r = r << 3 | r >> 2;}
\DoxyCodeLine{00505     pix-\/>g = g << 3 | g >> 2;}
\DoxyCodeLine{00506     pix-\/>b = b << 3 | b >> 2;}
\DoxyCodeLine{00507     pix-\/>m = 255;}
\DoxyCodeLine{00508     pix += shrink;}
\DoxyCodeLine{00509     \textcolor{keywordflow}{if} (pix < endPix \&\& shrink > 1) skipBytes(2 * (shrink -\/ 1));}
\DoxyCodeLine{00510   \}}
\DoxyCodeLine{00511   \textcolor{keywordflow}{if} (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1 > 0) skipBytes(2 * (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1));}
\DoxyCodeLine{00512 }
\DoxyCodeLine{00513   \textcolor{keywordflow}{if} (m\_lineSize -\/ 2 * m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} > 0) skipBytes(m\_lineSize -\/ 2 * m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}});}
\DoxyCodeLine{00514   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00515 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_ae51e96128346b017f2b8377ab94da649}\label{class_bmp_reader_ae51e96128346b017f2b8377ab94da649}} 
\index{BmpReader@{BmpReader}!read16m565Line@{read16m565Line}}
\index{read16m565Line@{read16m565Line}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{read16m565Line()}{read16m565Line()}}
{\footnotesize\ttfamily int Bmp\+Reader\+::read16m565\+Line (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer,  }\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{shrink }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00519                                                                       \{}
\DoxyCodeLine{00520   TPixel32 *pix = (TPixel32 *)buffer;}
\DoxyCodeLine{00521   \textcolor{keywordflow}{if} (x0 > 0) skipBytes(2 * x0);}
\DoxyCodeLine{00522   pix += x0;}
\DoxyCodeLine{00523   TPixel32 *endPix = pix + x1 -\/ x0 + 1;}
\DoxyCodeLine{00524 }
\DoxyCodeLine{00525   \textcolor{keywordflow}{while} (pix < endPix) \{}
\DoxyCodeLine{00526     \textcolor{keywordtype}{int} v  = getshort(m\_chan);}
\DoxyCodeLine{00527     \textcolor{keywordtype}{int} r  = (v >> 11) \& 0x1F;}
\DoxyCodeLine{00528     \textcolor{keywordtype}{int} g  = (v >> 5) \& 0x3F;}
\DoxyCodeLine{00529     \textcolor{keywordtype}{int} b  = v \& 0x1F;}
\DoxyCodeLine{00530     pix-\/>r = r << 3 | r >> 2;}
\DoxyCodeLine{00531     pix-\/>g = g << 2 | g >> 4;}
\DoxyCodeLine{00532     pix-\/>b = b << 3 | b >> 2;}
\DoxyCodeLine{00533     pix-\/>m = 255;}
\DoxyCodeLine{00534     pix += shrink;}
\DoxyCodeLine{00535     \textcolor{keywordflow}{if} (pix < endPix \&\& shrink > 1) skipBytes(2 * (shrink -\/ 1));}
\DoxyCodeLine{00536   \}}
\DoxyCodeLine{00537   \textcolor{keywordflow}{if} (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1 > 0) skipBytes(2 * (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1));}
\DoxyCodeLine{00538 }
\DoxyCodeLine{00539   \textcolor{keywordflow}{if} (m\_lineSize -\/ 2 * m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} > 0) skipBytes(m\_lineSize -\/ 2 * m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}});}
\DoxyCodeLine{00540   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00541 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_a8dd0fa34d096bc330c252e2d315605b6}\label{class_bmp_reader_a8dd0fa34d096bc330c252e2d315605b6}} 
\index{BmpReader@{BmpReader}!read1Line@{read1Line}}
\index{read1Line@{read1Line}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{read1Line()}{read1Line()}}
{\footnotesize\ttfamily int Bmp\+Reader\+::read1\+Line (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer,  }\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{shrink }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00336                                                                  \{}
\DoxyCodeLine{00337   TPixel32 *pix = (TPixel32 *)buffer;}
\DoxyCodeLine{00338 }
\DoxyCodeLine{00339   \textcolor{comment}{// pix += x0;}}
\DoxyCodeLine{00340   \textcolor{keywordflow}{if} (x0 > 0) skipBytes(x0 / 8);}
\DoxyCodeLine{00341 }
\DoxyCodeLine{00342   TPixel32 *endPix = pix + x1 + 1;}
\DoxyCodeLine{00343 }
\DoxyCodeLine{00344   \textcolor{keywordtype}{int} value = 0;}
\DoxyCodeLine{00345   \textcolor{keywordtype}{int} index = x0;}
\DoxyCodeLine{00346 }
\DoxyCodeLine{00347   \textcolor{keywordflow}{if} (x0 \% 8 != 0) \{}
\DoxyCodeLine{00348     value = getc(m\_chan);}
\DoxyCodeLine{00349     \textcolor{keywordflow}{for} (index = x0; index < x0 + 8 -\/ (x0 \% 8); index += shrink) \{}
\DoxyCodeLine{00350       pix[index] = m\_cmap[(value >> (7 -\/ ((index) \% 8))) \& 1];}
\DoxyCodeLine{00351     \}}
\DoxyCodeLine{00352   \}}
\DoxyCodeLine{00353   value         = getc(m\_chan);}
\DoxyCodeLine{00354   \textcolor{keywordtype}{int} prevBlock = index / 8;}
\DoxyCodeLine{00355   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = index; pix + j < endPix; j += shrink) \{}
\DoxyCodeLine{00356     \textcolor{keywordflow}{if} (j / 8 > prevBlock) value = getc(m\_chan);}
\DoxyCodeLine{00357     prevBlock                    = j / 8;}
\DoxyCodeLine{00358     pix[j]                       = m\_cmap[(value >> (7 -\/ (j \% 8))) \& 1];}
\DoxyCodeLine{00359   \}}
\DoxyCodeLine{00360 }
\DoxyCodeLine{00361   \textcolor{comment}{/*}}
\DoxyCodeLine{00362 \textcolor{comment}{while(pix+8<=endPix)}}
\DoxyCodeLine{00363 \textcolor{comment}{\{}}
\DoxyCodeLine{00364 \textcolor{comment}{value = getc(m\_chan);}}
\DoxyCodeLine{00365 \textcolor{comment}{pix[0] = m\_cmap[(value>>7)\&1];}}
\DoxyCodeLine{00366 \textcolor{comment}{pix[1] = m\_cmap[(value>>6)\&1];}}
\DoxyCodeLine{00367 \textcolor{comment}{pix[2] = m\_cmap[(value>>5)\&1];}}
\DoxyCodeLine{00368 \textcolor{comment}{pix[3] = m\_cmap[(value>>4)\&1];}}
\DoxyCodeLine{00369 \textcolor{comment}{pix[4] = m\_cmap[(value>>3)\&1];}}
\DoxyCodeLine{00370 \textcolor{comment}{pix[5] = m\_cmap[(value>>2)\&1];}}
\DoxyCodeLine{00371 \textcolor{comment}{pix[6] = m\_cmap[(value>>1)\&1];}}
\DoxyCodeLine{00372 \textcolor{comment}{pix[7] = m\_cmap[(value>>0)\&1];}}
\DoxyCodeLine{00373 \textcolor{comment}{   pix +=8*shrink;}}
\DoxyCodeLine{00374 \textcolor{comment}{   if(shrink>1) value = getc(m\_chan);}}
\DoxyCodeLine{00375 \textcolor{comment}{//pix+=8*shrink;}}
\DoxyCodeLine{00376 \textcolor{comment}{   //if(pix+8<endPix \&\& shrink>1) skipBytes(shrink-\/1);}}
\DoxyCodeLine{00377 \textcolor{comment}{\}}}
\DoxyCodeLine{00378 \textcolor{comment}{if(pix<endPix)}}
\DoxyCodeLine{00379 \textcolor{comment}{\{}}
\DoxyCodeLine{00380 \textcolor{comment}{value = getc(m\_chan);}}
\DoxyCodeLine{00381 \textcolor{comment}{assert(pix+8>=endPix);}}
\DoxyCodeLine{00382 \textcolor{comment}{for(int j=0; pix+j<endPix; j++)}}
\DoxyCodeLine{00383 \textcolor{comment}{pix[j] = m\_cmap[(value>>(7-\/j))\&1];}}
\DoxyCodeLine{00384 \textcolor{comment}{\}       */}}
\DoxyCodeLine{00385   \textcolor{keywordflow}{if} ((m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1) / 8 > 0) \{}
\DoxyCodeLine{00386     skipBytes((m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1) / 8);}
\DoxyCodeLine{00387   \}}
\DoxyCodeLine{00388 }
\DoxyCodeLine{00389   \textcolor{keywordtype}{int} bytes = (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} + 7) / 8;}
\DoxyCodeLine{00390   \textcolor{keywordflow}{if} (m\_lineSize -\/ bytes > 0) skipBytes(m\_lineSize -\/ bytes);}
\DoxyCodeLine{00391   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00392 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_aff403a003f830c782d877f04dc778c0d}\label{class_bmp_reader_aff403a003f830c782d877f04dc778c0d}} 
\index{BmpReader@{BmpReader}!read24Line@{read24Line}}
\index{read24Line@{read24Line}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{read24Line()}{read24Line()}}
{\footnotesize\ttfamily int Bmp\+Reader\+::read24\+Line (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer,  }\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{shrink }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00544                                                                   \{}
\DoxyCodeLine{00545   TPixel32 *pix = (TPixel32 *)buffer;}
\DoxyCodeLine{00546   \textcolor{keywordflow}{if} (x0 > 0) skipBytes(3 * x0);}
\DoxyCodeLine{00547   pix += x0;}
\DoxyCodeLine{00548   TPixel32 *endPix = pix + x1 -\/ x0 + 1;}
\DoxyCodeLine{00549 }
\DoxyCodeLine{00550   \textcolor{keywordflow}{while} (pix < endPix) \{}
\DoxyCodeLine{00551     pix-\/>b = getc(m\_chan);}
\DoxyCodeLine{00552     pix-\/>g = getc(m\_chan);}
\DoxyCodeLine{00553     pix-\/>r = getc(m\_chan);}
\DoxyCodeLine{00554     pix-\/>m = 255;}
\DoxyCodeLine{00555     pix += shrink;}
\DoxyCodeLine{00556     \textcolor{keywordflow}{if} (pix < endPix \&\& shrink > 1) skipBytes(3 * (shrink -\/ 1));}
\DoxyCodeLine{00557   \}}
\DoxyCodeLine{00558   \textcolor{keywordflow}{if} (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1 > 0) skipBytes(3 * (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1));}
\DoxyCodeLine{00559 }
\DoxyCodeLine{00560   \textcolor{keywordflow}{if} (m\_lineSize -\/ 3 * m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} > 0) skipBytes(m\_lineSize -\/ 3 * m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}});}
\DoxyCodeLine{00561   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00562 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_a91a1c6b36819f59fe98d5579f911f32d}\label{class_bmp_reader_a91a1c6b36819f59fe98d5579f911f32d}} 
\index{BmpReader@{BmpReader}!read32Line@{read32Line}}
\index{read32Line@{read32Line}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{read32Line()}{read32Line()}}
{\footnotesize\ttfamily int Bmp\+Reader\+::read32\+Line (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer,  }\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{shrink }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00566                                                                   \{}
\DoxyCodeLine{00567   TPixel32 *pix = (TPixel32 *)buffer;}
\DoxyCodeLine{00568   \textcolor{keywordflow}{if} (x0 > 0) skipBytes(4 * x0);}
\DoxyCodeLine{00569   pix += x0;}
\DoxyCodeLine{00570   TPixel32 *endPix = pix + x1 -\/ x0 + 1;}
\DoxyCodeLine{00571 }
\DoxyCodeLine{00572   \textcolor{keywordflow}{while} (pix < endPix) \{}
\DoxyCodeLine{00573     pix-\/>b = getc(m\_chan);}
\DoxyCodeLine{00574     pix-\/>g = getc(m\_chan);}
\DoxyCodeLine{00575     pix-\/>r = getc(m\_chan);}
\DoxyCodeLine{00576     pix-\/>m = getc(m\_chan);}
\DoxyCodeLine{00577     pix += shrink;}
\DoxyCodeLine{00578     \textcolor{keywordflow}{if} (pix < endPix \&\& shrink > 1) skipBytes(4 * (shrink -\/ 1));}
\DoxyCodeLine{00579   \}}
\DoxyCodeLine{00580   \textcolor{keywordflow}{if} (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1 > 0) skipBytes(4 * (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1));}
\DoxyCodeLine{00581   \textcolor{keywordflow}{if} (m\_lineSize -\/ 4 * m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} > 0) skipBytes(m\_lineSize -\/ 4 * m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}});}
\DoxyCodeLine{00582   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00583 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_a43e85a3054743e6d07d1387a53ff663d}\label{class_bmp_reader_a43e85a3054743e6d07d1387a53ff663d}} 
\index{BmpReader@{BmpReader}!read4Line@{read4Line}}
\index{read4Line@{read4Line}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{read4Line()}{read4Line()}}
{\footnotesize\ttfamily int Bmp\+Reader\+::read4\+Line (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer,  }\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{shrink }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00396                                                                  \{}
\DoxyCodeLine{00397   TPixel32 *pix = (TPixel32 *)buffer;}
\DoxyCodeLine{00398   pix += 2 * x0;}
\DoxyCodeLine{00399   \textcolor{keywordflow}{if} (x0 > 0) skipBytes(x0 / 2);}
\DoxyCodeLine{00400   TPixel32 *endPix = pix + x1 -\/ x0 + 1;}
\DoxyCodeLine{00401 }
\DoxyCodeLine{00402   \textcolor{keywordtype}{int} value;}
\DoxyCodeLine{00403   \textcolor{keywordflow}{while} (pix + 2 <= endPix) \{}
\DoxyCodeLine{00404     value  = getc(m\_chan);}
\DoxyCodeLine{00405     pix[0] = m\_cmap[value \& 0xF];}
\DoxyCodeLine{00406     pix[1] = m\_cmap[(value >> 4) \& 0xF];}
\DoxyCodeLine{00407     \textcolor{comment}{// pix+=2*shrink;}}
\DoxyCodeLine{00408     pix++;}
\DoxyCodeLine{00409     \textcolor{comment}{// if(pix+2<=endPix \&\& shrink>1) skipBytes(shrink-\/1);}}
\DoxyCodeLine{00410   \}}
\DoxyCodeLine{00411   \textcolor{keywordflow}{if} (pix < endPix) \{}
\DoxyCodeLine{00412     value  = getc(m\_chan);}
\DoxyCodeLine{00413     pix[0] = m\_cmap[value \& 0xF];}
\DoxyCodeLine{00414   \}}
\DoxyCodeLine{00415   \textcolor{keywordflow}{if} ((m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1) / 2 > 0) \{}
\DoxyCodeLine{00416     skipBytes((m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1) / 2);}
\DoxyCodeLine{00417   \}}
\DoxyCodeLine{00418 }
\DoxyCodeLine{00419   \textcolor{keywordtype}{int} bytes = (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} + 1) / 2;}
\DoxyCodeLine{00420   \textcolor{keywordflow}{if} (m\_lineSize -\/ bytes) skipBytes(m\_lineSize -\/ bytes);}
\DoxyCodeLine{00421   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00422 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_a275dd0e77d2622e8d36b6a4fef1821e1}\label{class_bmp_reader_a275dd0e77d2622e8d36b6a4fef1821e1}} 
\index{BmpReader@{BmpReader}!read8Line@{read8Line}}
\index{read8Line@{read8Line}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{read8Line()}{read8Line()}}
{\footnotesize\ttfamily int Bmp\+Reader\+::read8\+Line (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer,  }\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{shrink }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00426                                                                  \{}
\DoxyCodeLine{00427   TPixel32 *pix = (TPixel32 *)buffer;}
\DoxyCodeLine{00428 }
\DoxyCodeLine{00429   \textcolor{keywordflow}{if} (x0 > 0) skipBytes(x0);}
\DoxyCodeLine{00430   pix += x0;}
\DoxyCodeLine{00431   TPixel32 *endPix = pix + x1 -\/ x0 + 1;}
\DoxyCodeLine{00432 }
\DoxyCodeLine{00433   \textcolor{keywordflow}{while} (pix < endPix) \{}
\DoxyCodeLine{00434     \textcolor{keywordtype}{int} value = getc(m\_chan);}
\DoxyCodeLine{00435     *pix++    = m\_cmap[value];}
\DoxyCodeLine{00436     \textcolor{keywordflow}{if} (pix < endPix \&\& shrink > 1) \{}
\DoxyCodeLine{00437       skipBytes(shrink -\/ 1);}
\DoxyCodeLine{00438       pix += (shrink -\/ 1);}
\DoxyCodeLine{00439     \}}
\DoxyCodeLine{00440   \}}
\DoxyCodeLine{00441 }
\DoxyCodeLine{00442   \textcolor{keywordflow}{if} (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1 > 0) \{}
\DoxyCodeLine{00443     skipBytes(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1);}
\DoxyCodeLine{00444   \}}
\DoxyCodeLine{00445 }
\DoxyCodeLine{00446   \textcolor{keywordflow}{if} (m\_lineSize -\/ m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} > 0) skipBytes(m\_lineSize -\/ m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}});}
\DoxyCodeLine{00447   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00448 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_aea405c1f3534ac1d0df1547105fda765}\label{class_bmp_reader_aea405c1f3534ac1d0df1547105fda765}} 
\index{BmpReader@{BmpReader}!read8LineRle@{read8LineRle}}
\index{read8LineRle@{read8LineRle}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{read8LineRle()}{read8LineRle()}}
{\footnotesize\ttfamily int Bmp\+Reader\+::read8\+Line\+Rle (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer,  }\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{shrink }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00452                                                                     \{}
\DoxyCodeLine{00453   TPixel32 *pix = (TPixel32 *)buffer;}
\DoxyCodeLine{00454   \textcolor{keywordflow}{if} (x0 > 0) skipBytes(x0);}
\DoxyCodeLine{00455   pix += x0;}
\DoxyCodeLine{00456   TPixel32 *endPix = pix + (x1 -\/ x0 + 1);}
\DoxyCodeLine{00457 }
\DoxyCodeLine{00458   \textcolor{keywordflow}{while} (pix < endPix) \{}
\DoxyCodeLine{00459     \textcolor{keywordtype}{int} i, count = getc(m\_chan);}
\DoxyCodeLine{00460     assert(count >= 0);}
\DoxyCodeLine{00461     \textcolor{keywordflow}{if} (count == 0) \{}
\DoxyCodeLine{00462       \textcolor{keywordtype}{int} pixels = getc(m\_chan);}
\DoxyCodeLine{00463 }
\DoxyCodeLine{00464       assert(pixels >= 0 \&\& pixels != 2);}
\DoxyCodeLine{00465       \textcolor{keywordflow}{if} (pixels < 3) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00466       \textcolor{keywordflow}{for} (i = 0; i < pixels; i++) *pix++ = m\_cmap[getc(m\_chan)];}
\DoxyCodeLine{00467       \textcolor{keywordflow}{if} ((1 + 1 + pixels) \& 0x1) getc(m\_chan);}
\DoxyCodeLine{00468     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00469       \textcolor{keywordtype}{int} value = getc(m\_chan);}
\DoxyCodeLine{00470       assert(value >= 0);}
\DoxyCodeLine{00471       \textcolor{keywordflow}{for} (i = 0; i < count; i++) *pix++ = m\_cmap[value];}
\DoxyCodeLine{00472     \}}
\DoxyCodeLine{00473     \textcolor{keywordflow}{if} (pix < endPix \&\& shrink > 1) \{}
\DoxyCodeLine{00474       skipBytes(shrink -\/ 1);}
\DoxyCodeLine{00475       pix += (shrink -\/ 1);}
\DoxyCodeLine{00476     \}}
\DoxyCodeLine{00477   \}}
\DoxyCodeLine{00478 }
\DoxyCodeLine{00479   \textcolor{keywordflow}{if} (m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1 > 0) \{}
\DoxyCodeLine{00480     skipBytes(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} -\/ x1 -\/ 1);}
\DoxyCodeLine{00481   \}}
\DoxyCodeLine{00482 }
\DoxyCodeLine{00483   \textcolor{keywordflow}{if} (m\_lineSize -\/ m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} > 0) skipBytes(m\_lineSize -\/ m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}});}
\DoxyCodeLine{00484   \textcolor{keywordtype}{int} val = getc(m\_chan);}
\DoxyCodeLine{00485   assert(val == 0);  \textcolor{comment}{// end scanline or end bmp}}
\DoxyCodeLine{00486   val = getc(m\_chan);}
\DoxyCodeLine{00487   assert(val == 0 || val == 1);}
\DoxyCodeLine{00488   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00489 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_a08e9d21e2bea4e249381e313af74fe41}\label{class_bmp_reader_a08e9d21e2bea4e249381e313af74fe41}} 
\index{BmpReader@{BmpReader}!readLine@{readLine}}
\index{readLine@{readLine}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{readLine()}{readLine()}}
{\footnotesize\ttfamily void Bmp\+Reader\+::read\+Line (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer,  }\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{shrink }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_tiio_1_1_reader}{Tiio\+::\+Reader}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00323                                                                  \{}
\DoxyCodeLine{00324   (this-\/>*m\_readLineMethod)(buffer, x0, x1, shrink);}
\DoxyCodeLine{00325 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_adc257859bfc4b43b17e9745f7719acdf}\label{class_bmp_reader_adc257859bfc4b43b17e9745f7719acdf}} 
\index{BmpReader@{BmpReader}!readNoLine@{readNoLine}}
\index{readNoLine@{readNoLine}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{readNoLine()}{readNoLine()}}
{\footnotesize\ttfamily int Bmp\+Reader\+::read\+No\+Line (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer,  }\item[{int}]{x0,  }\item[{int}]{x1,  }\item[{int}]{shrink }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00329                                                                   \{}
\DoxyCodeLine{00330   skipBytes(m\_lineSize);}
\DoxyCodeLine{00331   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00332 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_ab2adada653a24d97ba9613f29427b862}\label{class_bmp_reader_ab2adada653a24d97ba9613f29427b862}} 
\index{BmpReader@{BmpReader}!skipBytes@{skipBytes}}
\index{skipBytes@{skipBytes}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{skipBytes()}{skipBytes()}}
{\footnotesize\ttfamily void Bmp\+Reader\+::skip\+Bytes (\begin{DoxyParamCaption}\item[{int}]{count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00110                             \{}
\DoxyCodeLine{00111     \textcolor{comment}{// fseek(m\_chan, count, SEEK\_CUR);  //inefficiente se count è piccolo}}
\DoxyCodeLine{00112     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < count; i++) \{}
\DoxyCodeLine{00113       getc(m\_chan);}
\DoxyCodeLine{00114     \}}
\DoxyCodeLine{00115   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_bmp_reader_a7e1890955545b0baf9cca5fc82bef672}\label{class_bmp_reader_a7e1890955545b0baf9cca5fc82bef672}} 
\index{BmpReader@{BmpReader}!skipLines@{skipLines}}
\index{skipLines@{skipLines}!BmpReader@{BmpReader}}
\doxysubsubsection{\texorpdfstring{skipLines()}{skipLines()}}
{\footnotesize\ttfamily int Bmp\+Reader\+::skip\+Lines (\begin{DoxyParamCaption}\item[{int}]{line\+Count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_tiio_1_1_reader}{Tiio\+::\+Reader}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00127                                         \{}
\DoxyCodeLine{00128     fseek(m\_chan, lineCount * m\_lineSize, SEEK\_CUR);}
\DoxyCodeLine{00129     \textcolor{comment}{/* for(int i=0;i<lineCount;i++)}}
\DoxyCodeLine{00130 \textcolor{comment}{            skipBytes(m\_lineSize);*/}}
\DoxyCodeLine{00131     \textcolor{keywordflow}{return} lineCount;}
\DoxyCodeLine{00132   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/common/tiio/tiio\+\_\+bmp.\+cpp\end{DoxyCompactItemize}
