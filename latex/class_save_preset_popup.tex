\hypertarget{class_save_preset_popup}{}\doxysection{Save\+Preset\+Popup Class Reference}
\label{class_save_preset_popup}\index{SavePresetPopup@{SavePresetPopup}}
Inheritance diagram for Save\+Preset\+Popup\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_save_preset_popup}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_save_preset_popup_a32f510b4f87f8580372ef1e5f7390e85}{apply}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_save_preset_popup_a07ff7fab3befce7e860dbc4e67ae23e7}{on\+Ok\+Btn}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_save_preset_popup_a3304ccd857cbcea92ecfdec1f6c9ef7f}\label{class_save_preset_popup_a3304ccd857cbcea92ecfdec1f6c9ef7f}} 
\index{SavePresetPopup@{SavePresetPopup}!SavePresetPopup@{SavePresetPopup}}
\index{SavePresetPopup@{SavePresetPopup}!SavePresetPopup@{SavePresetPopup}}
\doxysubsubsection{\texorpdfstring{SavePresetPopup()}{SavePresetPopup()}}
{\footnotesize\ttfamily Save\+Preset\+Popup\+::\+Save\+Preset\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00036     : Dialog(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getMainWindow(), \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{stringliteral}{"{}SavePreset"{}}) \{}
\DoxyCodeLine{00037   setWindowTitle(tr(\textcolor{stringliteral}{"{}Save Preset"{}}));}
\DoxyCodeLine{00038   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(tr(\textcolor{stringliteral}{"{}Preset Name:"{}}), m\_nameFld = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_line_edit}{DVGui::LineEdit}}(\textcolor{keyword}{this}));}
\DoxyCodeLine{00039   m\_nameFld-\/>setMinimumWidth(170);}
\DoxyCodeLine{00040 }
\DoxyCodeLine{00041   QPushButton *okBtn = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Save"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{00042   okBtn-\/>setDefault(\textcolor{keyword}{true});}
\DoxyCodeLine{00043   QPushButton *cancelBtn = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Cancel"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{00044   connect(okBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(onOkBtn()));}
\DoxyCodeLine{00045   connect(cancelBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(reject()));}
\DoxyCodeLine{00046 }
\DoxyCodeLine{00047   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_aff324b24a1ad0c06fdc178024c1f0cf0}{addButtonBarWidget}}(okBtn, cancelBtn);}
\DoxyCodeLine{00048 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_save_preset_popup_aec6a30dac67954eb9ac4c1d5818b2a5d}\label{class_save_preset_popup_aec6a30dac67954eb9ac4c1d5818b2a5d}} 
\index{SavePresetPopup@{SavePresetPopup}!````~SavePresetPopup@{$\sim$SavePresetPopup}}
\index{````~SavePresetPopup@{$\sim$SavePresetPopup}!SavePresetPopup@{SavePresetPopup}}
\doxysubsubsection{\texorpdfstring{$\sim$SavePresetPopup()}{~SavePresetPopup()}}
{\footnotesize\ttfamily Save\+Preset\+Popup\+::$\sim$\+Save\+Preset\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00052 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_save_preset_popup_a32f510b4f87f8580372ef1e5f7390e85}\label{class_save_preset_popup_a32f510b4f87f8580372ef1e5f7390e85}} 
\index{SavePresetPopup@{SavePresetPopup}!apply@{apply}}
\index{apply@{apply}!SavePresetPopup@{SavePresetPopup}}
\doxysubsubsection{\texorpdfstring{apply()}{apply()}}
{\footnotesize\ttfamily bool Save\+Preset\+Popup\+::apply (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00056                             \{}
\DoxyCodeLine{00057   \mbox{\hyperlink{class_t_fx_handle}{TFxHandle}} *fxHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a1d1d4b484617e7a938040554beca6282}{getCurrentFx}}();}
\DoxyCodeLine{00058   \mbox{\hyperlink{class_t_fx}{TFx}} *fx             = fxHandle-\/>getFx();}
\DoxyCodeLine{00059   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_zerary_column_fx}{TZeraryColumnFx}} *zfx = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_zerary_column_fx}{TZeraryColumnFx}} *\textcolor{keyword}{>}(fx))}
\DoxyCodeLine{00060     fx = zfx-\/>getZeraryFx();}
\DoxyCodeLine{00061   \textcolor{keywordflow}{if} (!fx) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00062 }
\DoxyCodeLine{00063   \mbox{\hyperlink{class_t_macro_fx}{TMacroFx}} *macroFx = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_macro_fx}{TMacroFx}} *\textcolor{keyword}{>}(fx);}
\DoxyCodeLine{00064   \textcolor{keywordtype}{bool} isMacro      = macroFx != 0;}
\DoxyCodeLine{00065   std::wstring name = m\_nameFld-\/>text().toStdWString();}
\DoxyCodeLine{00066   \textcolor{keywordflow}{if} (name.empty()) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00067   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = ToonzFolder::getFxPresetFolder() + \textcolor{stringliteral}{"{}presets"{}} +}
\DoxyCodeLine{00068                  fx-\/>getFxType() + (name + (isMacro ? L\textcolor{stringliteral}{"{}.macrofx"{}} : L\textcolor{stringliteral}{"{}.fx"{}}));}
\DoxyCodeLine{00069   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}()).doesExist()) \{}
\DoxyCodeLine{00070     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00071       \mbox{\hyperlink{class_t_file_path}{TFilePath}} parent = fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{00072       TSystem::mkDir(parent);}
\DoxyCodeLine{00073       DvDirModel::instance()-\/>refreshFolder(parent.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}());}
\DoxyCodeLine{00074     \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00075       DVGui::error(}
\DoxyCodeLine{00076           tr(\textcolor{stringliteral}{"{}It is not possible to create the preset folder \%1."{}})}
\DoxyCodeLine{00077               .arg(QString::fromStdString(fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}().\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}())));}
\DoxyCodeLine{00078       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00079     \}}
\DoxyCodeLine{00080   \}}
\DoxyCodeLine{00081   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp).doesExist()) \{}
\DoxyCodeLine{00082     \textcolor{keywordflow}{if} (DVGui::MsgBox(tr(\textcolor{stringliteral}{"{}Do you want to overwrite?"{}}), tr(\textcolor{stringliteral}{"{}Yes"{}}), tr(\textcolor{stringliteral}{"{}No"{}})) ==}
\DoxyCodeLine{00083         2)}
\DoxyCodeLine{00084       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00085   \}}
\DoxyCodeLine{00086   \textcolor{keywordflow}{if} (isMacro) \{}
\DoxyCodeLine{00087     \mbox{\hyperlink{class_t_o_stream}{TOStream}} os(fp);}
\DoxyCodeLine{00088     \mbox{\hyperlink{class_t_fx}{TFx}} *fx2                                    = fx-\/>clone(\textcolor{keyword}{false});}
\DoxyCodeLine{00089     fx2-\/>getAttributes()-\/>passiveCacheDataIdx() = -\/1;}
\DoxyCodeLine{00090     os << fx2;}
\DoxyCodeLine{00091     \textcolor{keyword}{delete} fx2;}
\DoxyCodeLine{00092   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00093     \mbox{\hyperlink{class_t_o_stream}{TOStream}} os(fp);}
\DoxyCodeLine{00094     fx-\/>savePreset(os);}
\DoxyCodeLine{00095   \}}
\DoxyCodeLine{00096   fxHandle-\/>notifyFxPresetSaved();}
\DoxyCodeLine{00097   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00098 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_save_preset_popup_a07ff7fab3befce7e860dbc4e67ae23e7}\label{class_save_preset_popup_a07ff7fab3befce7e860dbc4e67ae23e7}} 
\index{SavePresetPopup@{SavePresetPopup}!onOkBtn@{onOkBtn}}
\index{onOkBtn@{onOkBtn}!SavePresetPopup@{SavePresetPopup}}
\doxysubsubsection{\texorpdfstring{onOkBtn}{onOkBtn}}
{\footnotesize\ttfamily void Save\+Preset\+Popup\+::on\+Ok\+Btn (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00102                               \{}
\DoxyCodeLine{00103   \textcolor{keywordflow}{if} (apply()) accept();}
\DoxyCodeLine{00104 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/savepresetpopup.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/savepresetpopup.\+cpp\end{DoxyCompactItemize}
