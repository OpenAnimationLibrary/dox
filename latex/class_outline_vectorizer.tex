\hypertarget{class_outline_vectorizer}{}\doxysection{Outline\+Vectorizer Class Reference}
\label{class_outline_vectorizer}\index{OutlineVectorizer@{OutlineVectorizer}}
Inheritance diagram for Outline\+Vectorizer\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_outline_vectorizer}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_outline_vectorizer_ad94f9d9368d922ce0da4ced980e09bc5}{trace\+Outline}} (\mbox{\hyperlink{class_node}{Node}} $\ast$initial\+Node)
\item 
\mbox{\hyperlink{class_outline_vectorizer_a05a3dc3ce9f678c6c2c6c90dec44f6e4}{Outline\+Vectorizer}} (const \mbox{\hyperlink{class_vectorizer_configuration}{Vectorizer\+Configuration}} \&configuration, \mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$palette)
\item 
void \mbox{\hyperlink{class_outline_vectorizer_a339582a0ab28153f86c2b16c23558a57}{create\+Outline\+Strokes}} ()
\item 
\mbox{\hyperlink{class_outline_vectorizer_a94927a6e9bdbe6be22a3ef10b5ce0cc1}{Outline\+Vectorizer}} (const \mbox{\hyperlink{class_outline_configuration}{Outline\+Configuration}} \&configuration, \mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$palette)
\item 
\mbox{\Hypertarget{class_outline_vectorizer_ad94f9d9368d922ce0da4ced980e09bc5}\label{class_outline_vectorizer_ad94f9d9368d922ce0da4ced980e09bc5}} 
void {\bfseries trace\+Outline} (\mbox{\hyperlink{class_node}{Node}} $\ast$initial\+Node)
\item 
\mbox{\Hypertarget{class_outline_vectorizer_a339582a0ab28153f86c2b16c23558a57}\label{class_outline_vectorizer_a339582a0ab28153f86c2b16c23558a57}} 
void {\bfseries create\+Outline\+Strokes} ()
\item 
void \mbox{\hyperlink{class_outline_vectorizer_ad5578206c50e9f072c6547024ba2ecc0}{make\+Data\+Raster}} (const \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} \&src)
\item 
\mbox{\hyperlink{class_node}{Node}} $\ast$ \mbox{\hyperlink{class_outline_vectorizer_a062051ccef98f9f55852f54f63101931}{find\+Other\+Side}} (\mbox{\hyperlink{class_node}{Node}} $\ast$node)
\item 
void \mbox{\hyperlink{class_outline_vectorizer_ae9ead19f443b9254c3a49e67f0e51312}{clear\+Nodes}} ()
\item 
\mbox{\hyperlink{class_node}{Node}} $\ast$ \mbox{\hyperlink{class_outline_vectorizer_a550d5965b2d49779255dea39e271ef25}{create\+Node}} (\mbox{\hyperlink{class_data_pixel}{Data\+Pixel}} $\ast$pix)
\item 
void \mbox{\hyperlink{class_outline_vectorizer_a0246831fc9dcee78c5352f46337eb66a}{clear\+Junctions}} ()
\item 
void \mbox{\hyperlink{class_outline_vectorizer_a46f95cf070244c4ab5fca17735b46728}{init}} ()
\item 
void \mbox{\hyperlink{class_outline_vectorizer_af977f84082d976767f940ff2999af04f}{link}} (\mbox{\hyperlink{class_data_pixel}{Data\+Pixel}} $\ast$pix, \mbox{\hyperlink{class_data_pixel}{Data\+Pixel}} $\ast$from, \mbox{\hyperlink{class_data_pixel}{Data\+Pixel}} $\ast$to)
\item 
\mbox{\hyperlink{class_t_point_t}{TPoint}} \mbox{\hyperlink{class_outline_vectorizer_ae65d0968f3c20610a8e41d4b128f6137}{compute\+Gradient}} (\mbox{\hyperlink{class_data_pixel}{Data\+Pixel}} $\ast$pix)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
list$<$ \mbox{\hyperlink{classvector}{vector}}$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ $>$ \mbox{\hyperlink{class_outline_vectorizer_a702cb6637debf1c74d7c182c513aeecb}{m\+\_\+proto\+Outlines}}
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} \mbox{\hyperlink{class_outline_vectorizer_ad190456cbee3ed23cd85f9e340324ac1}{m\+\_\+src}}
\item 
\mbox{\hyperlink{class_outline_configuration}{Outline\+Configuration}} \mbox{\hyperlink{class_outline_vectorizer_a180e5718e0aa6f07dac2c48615015cdb}{m\+\_\+configuration}}
\item 
\mbox{\hyperlink{class_t_raster_p_t}{Data\+RasterP}} \mbox{\hyperlink{class_outline_vectorizer_a63138b03f13d8649260b0e2dcb5f6708}{m\+\_\+data\+Raster}}
\item 
std\+::vector$<$ std\+::pair$<$ int, \mbox{\hyperlink{class_t_raster_p_t}{Data\+RasterP}} $>$ $>$ \mbox{\hyperlink{class_outline_vectorizer_ab0efbe7151683eb197ddb645cc066678}{m\+\_\+data\+Raster\+Array}}
\item 
\mbox{\hyperlink{class_t_vector_image_p}{TVector\+ImageP}} \mbox{\hyperlink{class_outline_vectorizer_a36f4484473e87dbfc1f1f931951ba05c}{m\+\_\+vimage}}
\item 
std\+::vector$<$ \mbox{\hyperlink{class_node}{Node}} $\ast$ $>$ \mbox{\hyperlink{class_outline_vectorizer_adf6b3afaa72931e843fb980070e09b97}{m\+\_\+nodes}}
\item 
std\+::list$<$ std\+::vector$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ $>$ \mbox{\hyperlink{class_outline_vectorizer_af5b3c9208ddd2f6437e359f2ddc86bd4}{m\+\_\+proto\+Outlines}}
\item 
std\+::vector$<$ \mbox{\hyperlink{class_junction}{Junction}} $\ast$ $>$ \mbox{\hyperlink{class_outline_vectorizer_a0c8f6a12758920d92f0154db3c88b7e7}{m\+\_\+junctions}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_outline_vectorizer_a05a3dc3ce9f678c6c2c6c90dec44f6e4}\label{class_outline_vectorizer_a05a3dc3ce9f678c6c2c6c90dec44f6e4}} 
\index{OutlineVectorizer@{OutlineVectorizer}!OutlineVectorizer@{OutlineVectorizer}}
\index{OutlineVectorizer@{OutlineVectorizer}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{OutlineVectorizer()}{OutlineVectorizer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Outline\+Vectorizer\+::\+Outline\+Vectorizer (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_vectorizer_configuration}{Vectorizer\+Configuration}} \&}]{configuration,  }\item[{\mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$}]{palette }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02524       : \mbox{\hyperlink{class_center_line_vectorizer}{CenterLineVectorizer}}(configuration, palette) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_acc3939bd83dd22b985dafc09d58384f5}\label{class_outline_vectorizer_acc3939bd83dd22b985dafc09d58384f5}} 
\index{OutlineVectorizer@{OutlineVectorizer}!````~OutlineVectorizer@{$\sim$OutlineVectorizer}}
\index{````~OutlineVectorizer@{$\sim$OutlineVectorizer}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{$\sim$OutlineVectorizer()}{~OutlineVectorizer()}}
{\footnotesize\ttfamily Outline\+Vectorizer\+::$\sim$\+Outline\+Vectorizer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02537 \{ m\_protoOutlines.clear(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_a94927a6e9bdbe6be22a3ef10b5ce0cc1}\label{class_outline_vectorizer_a94927a6e9bdbe6be22a3ef10b5ce0cc1}} 
\index{OutlineVectorizer@{OutlineVectorizer}!OutlineVectorizer@{OutlineVectorizer}}
\index{OutlineVectorizer@{OutlineVectorizer}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{OutlineVectorizer()}{OutlineVectorizer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Outline\+Vectorizer\+::\+Outline\+Vectorizer (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_outline_configuration}{Outline\+Configuration}} \&}]{configuration,  }\item[{\mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$}]{palette }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00197       : m\_configuration(configuration), m\_palette(palette) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_outline_vectorizer_a0246831fc9dcee78c5352f46337eb66a}\label{class_outline_vectorizer_a0246831fc9dcee78c5352f46337eb66a}} 
\index{OutlineVectorizer@{OutlineVectorizer}!clearJunctions@{clearJunctions}}
\index{clearJunctions@{clearJunctions}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{clearJunctions()}{clearJunctions()}}
{\footnotesize\ttfamily void Outline\+Vectorizer\+::clear\+Junctions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00321                                        \{}
\DoxyCodeLine{00322   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00323   \textcolor{keywordflow}{for} (i = 0; i < (int)m\_junctions.size(); i++) \textcolor{keyword}{delete} m\_junctions[i];}
\DoxyCodeLine{00324   m\_junctions.clear();}
\DoxyCodeLine{00325 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_ae9ead19f443b9254c3a49e67f0e51312}\label{class_outline_vectorizer_ae9ead19f443b9254c3a49e67f0e51312}} 
\index{OutlineVectorizer@{OutlineVectorizer}!clearNodes@{clearNodes}}
\index{clearNodes@{clearNodes}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{clearNodes()}{clearNodes()}}
{\footnotesize\ttfamily void Outline\+Vectorizer\+::clear\+Nodes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00313                                    \{}
\DoxyCodeLine{00314   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00315   \textcolor{keywordflow}{for} (i = 0; i < (int)m\_nodes.size(); i++) \textcolor{keyword}{delete} m\_nodes[i];}
\DoxyCodeLine{00316   m\_nodes.clear();}
\DoxyCodeLine{00317 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_ae65d0968f3c20610a8e41d4b128f6137}\label{class_outline_vectorizer_ae65d0968f3c20610a8e41d4b128f6137}} 
\index{OutlineVectorizer@{OutlineVectorizer}!computeGradient@{computeGradient}}
\index{computeGradient@{computeGradient}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{computeGradient()}{computeGradient()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPoint}} Outline\+Vectorizer\+::compute\+Gradient (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_data_pixel}{Data\+Pixel}} $\ast$}]{pix }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00216                                          \{}
\DoxyCodeLine{00217     assert(m\_dataRaster);}
\DoxyCodeLine{00218     \textcolor{keyword}{const} \textcolor{keywordtype}{int} wrap = m\_dataRaster-\/>getWrap();}
\DoxyCodeLine{00219 }
\DoxyCodeLine{00220     \mbox{\hyperlink{class_t_point_t}{TPoint}} g(0, 0);}
\DoxyCodeLine{00221     \textcolor{keywordtype}{int} n, s, w, e, nw, sw, ne, se;}
\DoxyCodeLine{00222 }
\DoxyCodeLine{00223     w  = pix[-\/1].m\_value;}
\DoxyCodeLine{00224     nw = pix[-\/1 + wrap].m\_value;}
\DoxyCodeLine{00225     sw = pix[-\/1 -\/ wrap].m\_value;}
\DoxyCodeLine{00226 }
\DoxyCodeLine{00227     e  = pix[+1].m\_value;}
\DoxyCodeLine{00228     ne = pix[+1 + wrap].m\_value;}
\DoxyCodeLine{00229     se = pix[+1 -\/ wrap].m\_value;}
\DoxyCodeLine{00230 }
\DoxyCodeLine{00231     n = pix[+wrap].m\_value;}
\DoxyCodeLine{00232     s = pix[-\/wrap].m\_value;}
\DoxyCodeLine{00233 }
\DoxyCodeLine{00234     g.y = -\/sw + ne -\/ se + nw + 2 * (n -\/ s);}
\DoxyCodeLine{00235     g.x = -\/sw + ne + se -\/ nw + 2 * (e -\/ w);}
\DoxyCodeLine{00236     \textcolor{keywordflow}{return} g;}
\DoxyCodeLine{00237   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_a550d5965b2d49779255dea39e271ef25}\label{class_outline_vectorizer_a550d5965b2d49779255dea39e271ef25}} 
\index{OutlineVectorizer@{OutlineVectorizer}!createNode@{createNode}}
\index{createNode@{createNode}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{createNode()}{createNode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_node}{Node}} $\ast$ Outline\+Vectorizer\+::create\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_data_pixel}{Data\+Pixel}} $\ast$}]{pix }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00302                                                   \{}
\DoxyCodeLine{00303   \mbox{\hyperlink{class_node}{Node}} *node    = \textcolor{keyword}{new} \mbox{\hyperlink{class_node}{Node}}();}
\DoxyCodeLine{00304   node-\/>m\_pixel = pix;}
\DoxyCodeLine{00305   node-\/>m\_other = pix-\/>m\_node;}
\DoxyCodeLine{00306   pix-\/>m\_node   = node;}
\DoxyCodeLine{00307   m\_nodes.push\_back(node);}
\DoxyCodeLine{00308   \textcolor{keywordflow}{return} node;}
\DoxyCodeLine{00309 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_a339582a0ab28153f86c2b16c23558a57}\label{class_outline_vectorizer_a339582a0ab28153f86c2b16c23558a57}} 
\index{OutlineVectorizer@{OutlineVectorizer}!createOutlineStrokes@{createOutlineStrokes}}
\index{createOutlineStrokes@{createOutlineStrokes}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{createOutlineStrokes()}{createOutlineStrokes()}}
{\footnotesize\ttfamily void Outline\+Vectorizer\+::create\+Outline\+Strokes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02570                                              \{}
\DoxyCodeLine{02571   m\_vimage-\/>enableRegionComputing(\textcolor{keyword}{true}, \textcolor{keyword}{false});}
\DoxyCodeLine{02572   \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{02573 }
\DoxyCodeLine{02574   \textcolor{keywordflow}{for} (j = 0; j < (int)m\_nodes.size(); j++) \{}
\DoxyCodeLine{02575     \mbox{\hyperlink{class_node}{Node}} *node = m\_nodes[j];}
\DoxyCodeLine{02576     \textcolor{keywordflow}{if} (node-\/>m\_pixel == 0 || node-\/>m\_visited) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{02577     traceOutline(node);}
\DoxyCodeLine{02578   \}}
\DoxyCodeLine{02579 }
\DoxyCodeLine{02580 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{02581   \textcolor{keywordflow}{for} (j = 0; j < (int)m\_nodes.size(); j++) \{}
\DoxyCodeLine{02582     \mbox{\hyperlink{class_node}{Node}} *node = m\_nodes[j];}
\DoxyCodeLine{02583     \textcolor{comment}{//      assert(node-\/>m\_visited || !node-\/>m\_pixel);}}
\DoxyCodeLine{02584     \textcolor{keywordflow}{if} (node-\/>m\_pixel == 0 || node-\/>m\_flag) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{02585     outputNodes(node);}
\DoxyCodeLine{02586   \}}
\DoxyCodeLine{02587 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02588 }
\DoxyCodeLine{02589   std::list<std::vector<TThickPoint>>::iterator it\_outlines =}
\DoxyCodeLine{02590       m\_protoOutlines.begin();}
\DoxyCodeLine{02591   \textcolor{keywordflow}{for} (; it\_outlines != m\_protoOutlines.end(); it\_outlines++) \{}
\DoxyCodeLine{02592     \textcolor{keywordflow}{if} (it\_outlines-\/>size() > 3) \{}
\DoxyCodeLine{02593       std::vector<TThickPoint> points;}
\DoxyCodeLine{02594       std::vector<TThickPoint>::iterator it;}
\DoxyCodeLine{02595 }
\DoxyCodeLine{02596       \textcolor{keywordflow}{if} (it\_outlines-\/>size() > 10) \{}
\DoxyCodeLine{02597         it = it\_outlines-\/>begin() + 1;}
\DoxyCodeLine{02598         \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{02599           \textcolor{keywordflow}{if} (it >= it\_outlines-\/>end() -\/ (m\_configuration.m\_smoothness + 1))}
\DoxyCodeLine{02600             \textcolor{keywordflow}{break};}
\DoxyCodeLine{02601           \textcolor{keywordflow}{for} (j = 0; j < m\_configuration.m\_smoothness; j++)}
\DoxyCodeLine{02602             it = it\_outlines-\/>erase(it);}
\DoxyCodeLine{02603           ++it;}
\DoxyCodeLine{02604         \}}
\DoxyCodeLine{02605       \}}
\DoxyCodeLine{02606       points.push\_back(it\_outlines-\/>front());}
\DoxyCodeLine{02607       it              = it\_outlines-\/>begin();}
\DoxyCodeLine{02608       \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} old = *it;}
\DoxyCodeLine{02609       ++it;}
\DoxyCodeLine{02610       \textcolor{keywordflow}{for} (; it != it\_outlines-\/>end(); ++it) \{}
\DoxyCodeLine{02611         \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} point((1 / 2.0) * (*it + old));}
\DoxyCodeLine{02612         points.push\_back(point);}
\DoxyCodeLine{02613         old = *it;}
\DoxyCodeLine{02614       \}}
\DoxyCodeLine{02615       points.push\_back(it\_outlines-\/>back());}
\DoxyCodeLine{02616       points.push\_back(it\_outlines-\/>front());}
\DoxyCodeLine{02617 }
\DoxyCodeLine{02618       \textcolor{comment}{/*TPointD internalPoint;}}
\DoxyCodeLine{02619 \textcolor{comment}{      internalPoint = rotate90(points[1] -\/ points[0]);}}
\DoxyCodeLine{02620 \textcolor{comment}{      assert(norm2(internalPoint) != 0);}}
\DoxyCodeLine{02621 \textcolor{comment}{      normalize(internalPoint);}}
\DoxyCodeLine{02622 \textcolor{comment}{      internalPoint = internalPoint*0.001 + points[0];}}
\DoxyCodeLine{02623 \textcolor{comment}{}}
\DoxyCodeLine{02624 \textcolor{comment}{      TPointD externalPoint;}}
\DoxyCodeLine{02625 \textcolor{comment}{      externalPoint = rotate270(points[1] -\/ points[0]);}}
\DoxyCodeLine{02626 \textcolor{comment}{      assert(norm2(externalPoint) != 0);}}
\DoxyCodeLine{02627 \textcolor{comment}{      normalize(externalPoint);}}
\DoxyCodeLine{02628 \textcolor{comment}{      externalPoint = externalPoint*0.001 + points[0];*/}}
\DoxyCodeLine{02629       \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke =}
\DoxyCodeLine{02630           \mbox{\hyperlink{class_t_stroke_a4d47a76de56f5a121aeae50098d6cc8f}{TStroke::interpolate}}(points, m\_configuration.m\_interpolationError);}
\DoxyCodeLine{02631       stroke-\/>\mbox{\hyperlink{class_t_stroke_a33f59dfbed74b577700351eac8c2fc7b}{setStyle}}(m\_configuration.m\_strokeStyleId);}
\DoxyCodeLine{02632       stroke-\/>\mbox{\hyperlink{class_t_stroke_afa2c66ae11a70e68b3de3ce0b4cfb049}{setSelfLoop}}();}
\DoxyCodeLine{02633       m\_vimage-\/>addStroke(stroke);}
\DoxyCodeLine{02634       \textcolor{comment}{//            TStroke *stroke = TStroke::interpolate(points,}}
\DoxyCodeLine{02635       \textcolor{comment}{// m\_configuration.interpolationError);}}
\DoxyCodeLine{02636       \textcolor{comment}{//            stroke-\/>setStyle(strokeStyleId);}}
\DoxyCodeLine{02637       \textcolor{comment}{//            m\_vimage-\/>addStroke(stroke);//,}}
\DoxyCodeLine{02638       \textcolor{comment}{// TPalette::DefaultStrokeStyle, TPalette::DefaultFillStyle);}}
\DoxyCodeLine{02639       \textcolor{comment}{// internalPoints.push\_back(internalPoint);}}
\DoxyCodeLine{02640       \textcolor{comment}{// m\_vimage-\/>fill(externalPoint, TPalette::DefaultFillStyle);}}
\DoxyCodeLine{02641     \}}
\DoxyCodeLine{02642   \}}
\DoxyCodeLine{02643 }
\DoxyCodeLine{02644   \textcolor{comment}{// m\_vimage-\/>autoFill(m\_configuration.m\_strokeStyleId);}}
\DoxyCodeLine{02645   \textcolor{comment}{// for (UINT i=0; i<internalPoints.size(); i++)}}
\DoxyCodeLine{02646   \textcolor{comment}{//  m\_vimage-\/>fill(internalPoints[i],fillStyleId);}}
\DoxyCodeLine{02647 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_a062051ccef98f9f55852f54f63101931}\label{class_outline_vectorizer_a062051ccef98f9f55852f54f63101931}} 
\index{OutlineVectorizer@{OutlineVectorizer}!findOtherSide@{findOtherSide}}
\index{findOtherSide@{findOtherSide}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{findOtherSide()}{findOtherSide()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_node}{Node}} $\ast$ Outline\+Vectorizer\+::find\+Other\+Side (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00417                                                  \{}
\DoxyCodeLine{00418   \mbox{\hyperlink{class_data_pixel}{DataPixel}} *pix = node-\/>m\_pixel;}
\DoxyCodeLine{00419 }
\DoxyCodeLine{00420   \mbox{\hyperlink{class_t_point_t}{TPoint}} dir = -\/computeGradient(pix);}
\DoxyCodeLine{00421   \textcolor{keywordflow}{if} (dir == \mbox{\hyperlink{class_t_point_t}{TPoint}}(0, 0)) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00422   \mbox{\hyperlink{class_t_point_t}{TPoint}} d1(tsign(dir.x), 0), d2(0, tsign(dir.y));}
\DoxyCodeLine{00423   \textcolor{keywordtype}{int} num = abs(dir.y), den = abs(dir.x);}
\DoxyCodeLine{00424   \textcolor{keywordflow}{if} (num > den) \{}
\DoxyCodeLine{00425     std::swap(d1, d2);}
\DoxyCodeLine{00426     std::swap(num, den);}
\DoxyCodeLine{00427   \}}
\DoxyCodeLine{00428   \mbox{\hyperlink{class_t_point_t}{TPoint}} pos = pix-\/>m\_pos;}
\DoxyCodeLine{00429   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00430   \textcolor{keywordflow}{for} (i = 0;; i++) \{}
\DoxyCodeLine{00431     \mbox{\hyperlink{class_t_point_t}{TPoint}} q(pos.x + d1.x * i + d2.x * num * i / den,}
\DoxyCodeLine{00432              pos.y + d1.y * i + d2.y * num * i / den);}
\DoxyCodeLine{00433     \mbox{\hyperlink{class_data_pixel}{DataPixel}} *nextPix = m\_dataRaster-\/>pixels(q.y) + q.x;}
\DoxyCodeLine{00434     \textcolor{keywordflow}{if} (nextPix-\/>m\_ink == \textcolor{keyword}{false}) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00435     pix = nextPix;}
\DoxyCodeLine{00436   \}}
\DoxyCodeLine{00437   assert(pix);}
\DoxyCodeLine{00438   \textcolor{keywordflow}{if} (!pix-\/>m\_node) \{}
\DoxyCodeLine{00439     \textcolor{keyword}{const} \textcolor{keywordtype}{int} wrap = m\_dataRaster-\/>getWrap();}
\DoxyCodeLine{00440     \textcolor{keywordflow}{if} (pix[-\/1].m\_node)}
\DoxyCodeLine{00441       pix-\/-\/;}
\DoxyCodeLine{00442     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pix[1].m\_node)}
\DoxyCodeLine{00443       pix++;}
\DoxyCodeLine{00444     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pix[wrap].m\_node)}
\DoxyCodeLine{00445       pix += wrap;}
\DoxyCodeLine{00446     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pix[-\/wrap].m\_node)}
\DoxyCodeLine{00447       pix -\/= wrap;}
\DoxyCodeLine{00448     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00449       assert(0);}
\DoxyCodeLine{00450     \}}
\DoxyCodeLine{00451   \}}
\DoxyCodeLine{00452   \textcolor{keywordflow}{if} (!pix-\/>m\_node) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00453   \mbox{\hyperlink{class_node}{Node}} *q = pix-\/>m\_node;}
\DoxyCodeLine{00454   \textcolor{keywordflow}{while} (q-\/>m\_pixel == 0 \&\& q-\/>m\_other) q = q-\/>m\_other;}
\DoxyCodeLine{00455   assert(q \&\& q-\/>m\_pixel == pix);}
\DoxyCodeLine{00456 }
\DoxyCodeLine{00457   \textcolor{keywordflow}{for} (i = 0; i < 5; i++) \{}
\DoxyCodeLine{00458     \textcolor{keywordflow}{if} (!q-\/>m\_prev) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00459     q = q-\/>m\_prev;}
\DoxyCodeLine{00460   \}}
\DoxyCodeLine{00461 }
\DoxyCodeLine{00462   \mbox{\hyperlink{class_node}{Node}} *best       = q;}
\DoxyCodeLine{00463   \textcolor{keywordtype}{double} bestDist2 = computeDistance2(q, node);}
\DoxyCodeLine{00464   \textcolor{keywordflow}{for} (i = 0; i < 10; i++) \{}
\DoxyCodeLine{00465     q = q-\/>m\_next;}
\DoxyCodeLine{00466     \textcolor{keywordflow}{if} (!q) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00467     \textcolor{keywordtype}{double} dist2 = computeDistance2(q, node);}
\DoxyCodeLine{00468     \textcolor{keywordflow}{if} (dist2 < bestDist2) \{}
\DoxyCodeLine{00469       bestDist2 = dist2;}
\DoxyCodeLine{00470       best      = q;}
\DoxyCodeLine{00471     \}}
\DoxyCodeLine{00472   \}}
\DoxyCodeLine{00473 }
\DoxyCodeLine{00474   \textcolor{keywordflow}{return} best;}
\DoxyCodeLine{00475 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_a46f95cf070244c4ab5fca17735b46728}\label{class_outline_vectorizer_a46f95cf070244c4ab5fca17735b46728}} 
\index{OutlineVectorizer@{OutlineVectorizer}!init@{init}}
\index{init@{init}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily void Outline\+Vectorizer\+::init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00255                              \{}
\DoxyCodeLine{00256   \textcolor{keywordtype}{int} y;}
\DoxyCodeLine{00257 }
\DoxyCodeLine{00258   \mbox{\hyperlink{class_t_raster_p_t}{DataRasterP}} dataRaster = m\_dataRaster;}
\DoxyCodeLine{00259   \textcolor{keyword}{const} \textcolor{keywordtype}{int} wrap         = dataRaster-\/>getWrap();}
\DoxyCodeLine{00260   \textcolor{keyword}{const} \textcolor{keywordtype}{int} delta[]      = \{-\/wrap -\/ 1, -\/wrap, -\/wrap + 1, 1,}
\DoxyCodeLine{00261                        wrap + 1,  wrap,  wrap -\/ 1,  -\/1\};}
\DoxyCodeLine{00262 }
\DoxyCodeLine{00263   \textcolor{keywordflow}{for} (y = 1; y < dataRaster-\/>getLy() -\/ 1; y++) \{}
\DoxyCodeLine{00264     \mbox{\hyperlink{class_data_pixel}{DataPixel}} *pix    = dataRaster-\/>pixels(y);}
\DoxyCodeLine{00265     \mbox{\hyperlink{class_data_pixel}{DataPixel}} *endPix = pix + dataRaster-\/>getLx() -\/ 1;}
\DoxyCodeLine{00266     pix++;}
\DoxyCodeLine{00267     \textcolor{keywordflow}{for} (pix++; pix < endPix; ++pix) \{}
\DoxyCodeLine{00268       \textcolor{keywordflow}{if} ((pix-\/>m\_ink == \textcolor{keyword}{false}) || (pix[-\/wrap].m\_ink \&\& pix[wrap].m\_ink \&\&}
\DoxyCodeLine{00269                                     pix[-\/1].m\_ink \&\& pix[1].m\_ink))}
\DoxyCodeLine{00270         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00271       \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00272       \textcolor{keywordflow}{for} (i = 0; i < 8; i++)}
\DoxyCodeLine{00273         \textcolor{keywordflow}{if} (pix[delta[i]].m\_ink \&\& pix[delta[(i + 1) \& 0x7]].m\_ink == \textcolor{keyword}{false})}
\DoxyCodeLine{00274           \textcolor{keywordflow}{break};}
\DoxyCodeLine{00275       \textcolor{keywordtype}{int} start = i;}
\DoxyCodeLine{00276       \textcolor{keywordflow}{if} (i == 8) \textcolor{keywordflow}{continue};  \textcolor{comment}{// punto isolato}}
\DoxyCodeLine{00277       \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{00278         \textcolor{keywordtype}{int} j = (i + 1) \& 0x7;}
\DoxyCodeLine{00279         assert(i < 8 \&\& pix[delta[i]].m\_ink);}
\DoxyCodeLine{00280         assert(j < 8 \&\& pix[delta[j]].m\_ink == \textcolor{keyword}{false});}
\DoxyCodeLine{00281         \textcolor{keywordflow}{do}}
\DoxyCodeLine{00282           j = (j + 1) \& 0x7;}
\DoxyCodeLine{00283         \textcolor{keywordflow}{while} (pix[delta[j]].m\_ink == \textcolor{keyword}{false});}
\DoxyCodeLine{00284         assert(j < 8 \&\& pix[delta[j]].m\_ink);}
\DoxyCodeLine{00285         \textcolor{keywordflow}{if} (((i + 2) \& 0x7) != j || (i \& 1) == 0) \{}
\DoxyCodeLine{00286           \textcolor{comment}{// il bianco comprende anche un fianco}}
\DoxyCodeLine{00287           link(pix, pix + delta[i], pix + delta[j]);}
\DoxyCodeLine{00288         \}}
\DoxyCodeLine{00289         i = j;}
\DoxyCodeLine{00290         assert(i < 8);}
\DoxyCodeLine{00291         \textcolor{keywordflow}{while} (pix[delta[(i + 1) \& 0x7]].m\_ink) i = (i + 1) \& 0x7;}
\DoxyCodeLine{00292         assert(i < 8 \&\& pix[delta[i]].m\_ink);}
\DoxyCodeLine{00293         assert(pix[delta[(i + 1) \& 0x7]].m\_ink == \textcolor{keyword}{false});}
\DoxyCodeLine{00294         \textcolor{keywordflow}{if} (i == start) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00295       \}}
\DoxyCodeLine{00296     \}}
\DoxyCodeLine{00297   \}}
\DoxyCodeLine{00298 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_af977f84082d976767f940ff2999af04f}\label{class_outline_vectorizer_af977f84082d976767f940ff2999af04f}} 
\index{OutlineVectorizer@{OutlineVectorizer}!link@{link}}
\index{link@{link}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{link()}{link()}}
{\footnotesize\ttfamily void Outline\+Vectorizer\+::link (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_data_pixel}{Data\+Pixel}} $\ast$}]{pix,  }\item[{\mbox{\hyperlink{class_data_pixel}{Data\+Pixel}} $\ast$}]{from,  }\item[{\mbox{\hyperlink{class_data_pixel}{Data\+Pixel}} $\ast$}]{to }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00330                                                 \{}
\DoxyCodeLine{00331   \mbox{\hyperlink{class_node}{Node}} *srcNode = 0, *dstNode = 0, *node = 0;}
\DoxyCodeLine{00332   \mbox{\hyperlink{class_node}{Node}} *tmp;}
\DoxyCodeLine{00333   \textcolor{keywordflow}{for} (tmp = pix-\/>m\_node; tmp; tmp = tmp-\/>m\_other) \{}
\DoxyCodeLine{00334     \textcolor{keywordflow}{if} (tmp-\/>m\_pixel == 0) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00335     \textcolor{keywordflow}{if} (tmp-\/>m\_prev \&\& tmp-\/>m\_prev-\/>m\_pixel == srcPix) \{}
\DoxyCodeLine{00336       assert(srcNode == 0);}
\DoxyCodeLine{00337       \textcolor{keywordflow}{if} (node) \{}
\DoxyCodeLine{00338         assert(node-\/>m\_next-\/>m\_pixel == dstPix);}
\DoxyCodeLine{00339         assert(node-\/>m\_prev == 0);}
\DoxyCodeLine{00340         node-\/>m\_prev        = tmp-\/>m\_prev;}
\DoxyCodeLine{00341         tmp-\/>m\_prev-\/>m\_next = node;}
\DoxyCodeLine{00342         tmp-\/>m\_next = tmp-\/>m\_prev = 0;}
\DoxyCodeLine{00343         tmp-\/>m\_pixel              = 0;}
\DoxyCodeLine{00344         \textcolor{keywordflow}{return};}
\DoxyCodeLine{00345       \}}
\DoxyCodeLine{00346       assert(tmp-\/>m\_next == 0);}
\DoxyCodeLine{00347       srcNode = tmp-\/>m\_prev;}
\DoxyCodeLine{00348       node    = tmp;}
\DoxyCodeLine{00349     \}}
\DoxyCodeLine{00350     \textcolor{keywordflow}{if} (tmp-\/>m\_next \&\& tmp-\/>m\_next-\/>m\_pixel == dstPix) \{}
\DoxyCodeLine{00351       assert(dstNode == 0);}
\DoxyCodeLine{00352       \textcolor{keywordflow}{if} (node) \{}
\DoxyCodeLine{00353         assert(node-\/>m\_prev-\/>m\_pixel == srcPix);}
\DoxyCodeLine{00354         assert(node-\/>m\_next == 0);}
\DoxyCodeLine{00355         node-\/>m\_next        = tmp-\/>m\_next;}
\DoxyCodeLine{00356         tmp-\/>m\_next-\/>m\_prev = node;}
\DoxyCodeLine{00357         tmp-\/>m\_next = tmp-\/>m\_prev = 0;}
\DoxyCodeLine{00358         tmp-\/>m\_pixel              = 0;}
\DoxyCodeLine{00359         \textcolor{keywordflow}{return};}
\DoxyCodeLine{00360       \}}
\DoxyCodeLine{00361       assert(tmp-\/>m\_prev == 0);}
\DoxyCodeLine{00362       dstNode = tmp-\/>m\_next;}
\DoxyCodeLine{00363       node    = tmp;}
\DoxyCodeLine{00364     \}}
\DoxyCodeLine{00365   \}}
\DoxyCodeLine{00366   \textcolor{keywordflow}{if} (!node) node = createNode(pix);}
\DoxyCodeLine{00367   \textcolor{keywordflow}{if} (!srcNode) srcNode = createNode(srcPix);}
\DoxyCodeLine{00368   \textcolor{keywordflow}{if} (!dstNode) dstNode = createNode(dstPix);}
\DoxyCodeLine{00369 }
\DoxyCodeLine{00370   \textcolor{keywordflow}{if} (!node-\/>m\_next) \{}
\DoxyCodeLine{00371     node-\/>m\_next = dstNode;}
\DoxyCodeLine{00372     assert(dstNode-\/>m\_prev == 0);}
\DoxyCodeLine{00373     dstNode-\/>m\_prev = node;}
\DoxyCodeLine{00374   \}}
\DoxyCodeLine{00375   \textcolor{keywordflow}{if} (!node-\/>m\_prev) \{}
\DoxyCodeLine{00376     node-\/>m\_prev = srcNode;}
\DoxyCodeLine{00377     assert(srcNode-\/>m\_next == 0);}
\DoxyCodeLine{00378     srcNode-\/>m\_next = node;}
\DoxyCodeLine{00379   \}}
\DoxyCodeLine{00380 }
\DoxyCodeLine{00381   assert(node-\/>m\_next == dstNode);}
\DoxyCodeLine{00382   assert(node-\/>m\_prev == srcNode);}
\DoxyCodeLine{00383   assert(dstNode-\/>m\_prev == node);}
\DoxyCodeLine{00384   assert(srcNode-\/>m\_next == node);}
\DoxyCodeLine{00385 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_ad5578206c50e9f072c6547024ba2ecc0}\label{class_outline_vectorizer_ad5578206c50e9f072c6547024ba2ecc0}} 
\index{OutlineVectorizer@{OutlineVectorizer}!makeDataRaster@{makeDataRaster}}
\index{makeDataRaster@{makeDataRaster}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{makeDataRaster()}{makeDataRaster()}}
{\footnotesize\ttfamily void Outline\+Vectorizer\+::make\+Data\+Raster (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} \&}]{src }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00552                                                           \{}
\DoxyCodeLine{00553   m\_vimage = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_vector_image}{TVectorImage}}();}
\DoxyCodeLine{00554   \textcolor{keywordflow}{if} (!src) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00555   m\_src = src;}
\DoxyCodeLine{00556 }
\DoxyCodeLine{00557   clearNodes();}
\DoxyCodeLine{00558   clearJunctions();}
\DoxyCodeLine{00559 }
\DoxyCodeLine{00560   \textcolor{keywordtype}{int} x, y, ii = 0;}
\DoxyCodeLine{00561   \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} srcRGBM = (\mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}})m\_src;}
\DoxyCodeLine{00562   \mbox{\hyperlink{class_t_raster_p_t}{TRasterCM32P}} srcCM = (\mbox{\hyperlink{class_t_raster_p_t}{TRasterCM32P}})m\_src;}
\DoxyCodeLine{00563   \mbox{\hyperlink{class_t_raster_p_t}{TRasterGR8P}} srcGR  = (\mbox{\hyperlink{class_t_raster_p_t}{TRasterGR8P}})m\_src;}
\DoxyCodeLine{00564 }
\DoxyCodeLine{00565   \textcolor{comment}{// Inizializzo DataRasterP per i casi in cui si ha un TRaster32P, un}}
\DoxyCodeLine{00566   \textcolor{comment}{// TRasterGR8P o un TRasterCM32P molto grande}}
\DoxyCodeLine{00567   \mbox{\hyperlink{class_t_raster_p_t}{DataRasterP}} dataRaster(m\_src-\/>getSize().lx + 2, m\_src-\/>getSize().ly + 2);}
\DoxyCodeLine{00568   \textcolor{keywordflow}{if} (srcRGBM || srcGR ||}
\DoxyCodeLine{00569       (srcCM \&\& srcCM-\/>getLx() * srcCM-\/>getLy() > 5000000)) \{}
\DoxyCodeLine{00570     \textcolor{keywordtype}{int} ly              = dataRaster-\/>getLy();}
\DoxyCodeLine{00571     \textcolor{keywordtype}{int} lx              = dataRaster-\/>getLx();}
\DoxyCodeLine{00572     \textcolor{keywordtype}{int} wrap            = dataRaster-\/>getWrap();}
\DoxyCodeLine{00573     \mbox{\hyperlink{class_data_pixel}{DataPixel}} *dataPix0 = dataRaster-\/>pixels(0);}
\DoxyCodeLine{00574     \mbox{\hyperlink{class_data_pixel}{DataPixel}} *dataPix1 = dataRaster-\/>pixels(0) + m\_src-\/>getLx() + 1;}
\DoxyCodeLine{00575     \textcolor{keywordflow}{for} (y = 0; y < ly; y++, dataPix0 += wrap, dataPix1 += wrap) \{}
\DoxyCodeLine{00576       dataPix0-\/>m\_pos.x = 0;}
\DoxyCodeLine{00577       dataPix1-\/>m\_pos.x = lx -\/ 1;}
\DoxyCodeLine{00578       dataPix0-\/>m\_pos.y = dataPix1-\/>m\_pos.y = y;}
\DoxyCodeLine{00579       dataPix0-\/>m\_value = dataPix1-\/>m\_value = 0;}
\DoxyCodeLine{00580       dataPix0-\/>m\_ink = dataPix1-\/>m\_ink = \textcolor{keyword}{false};}
\DoxyCodeLine{00581       dataPix0-\/>m\_node = dataPix1-\/>m\_node = 0;}
\DoxyCodeLine{00582     \}}
\DoxyCodeLine{00583     dataPix0 = dataRaster-\/>pixels(0);}
\DoxyCodeLine{00584     dataPix1 = dataRaster-\/>pixels(ly -\/ 1);}
\DoxyCodeLine{00585     \textcolor{keywordflow}{for} (x = 0; x < lx; x++, dataPix0++, dataPix1++) \{}
\DoxyCodeLine{00586       dataPix0-\/>m\_pos.x = dataPix1-\/>m\_pos.x = x;}
\DoxyCodeLine{00587       dataPix0-\/>m\_pos.y                     = 0;}
\DoxyCodeLine{00588       dataPix1-\/>m\_pos.y                     = ly -\/ 1;}
\DoxyCodeLine{00589       dataPix0-\/>m\_value = dataPix1-\/>m\_value = 0;}
\DoxyCodeLine{00590       dataPix0-\/>m\_ink = dataPix1-\/>m\_ink = \textcolor{keyword}{false};}
\DoxyCodeLine{00591       dataPix0-\/>m\_node = dataPix1-\/>m\_node = 0;}
\DoxyCodeLine{00592     \}}
\DoxyCodeLine{00593   \}}
\DoxyCodeLine{00594 }
\DoxyCodeLine{00595   \textcolor{keywordflow}{if} (srcRGBM) \{}
\DoxyCodeLine{00596     assert(m\_palette);}
\DoxyCodeLine{00597     \textcolor{keywordtype}{int} inkId = m\_palette-\/>\mbox{\hyperlink{class_t_palette_ab0bf5c4fdd9cd3428819ce594299627d}{getClosestStyle}}(m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}});}
\DoxyCodeLine{00598     \textcolor{keywordflow}{if} (!inkId || m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}} !=}
\DoxyCodeLine{00599                       m\_palette-\/>\mbox{\hyperlink{class_t_palette_a0f6a4eda7dafb0a9f2b43160cfec81e4}{getStyle}}(inkId)-\/>\mbox{\hyperlink{class_t_color_style_abd78dd4e3ff3e2e78b647195f7622aa7}{getMainColor}}()) \{}
\DoxyCodeLine{00600       inkId = m\_palette-\/>\mbox{\hyperlink{class_t_palette_a5a562f2d3a5fa256fcb4bb2be5b45534}{getStyleCount}}();}
\DoxyCodeLine{00601       m\_palette-\/>\mbox{\hyperlink{class_t_palette_ae8566a5ffa9e69be120003ad4b69078d}{getStylePage}}(1)-\/>\mbox{\hyperlink{class_t_palette_1_1_page_aba6f78043e4370496a1bb7b7be5bd792}{insertStyle}}(1, m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}});}
\DoxyCodeLine{00602       m\_palette-\/>\mbox{\hyperlink{class_t_palette_ab9369e7992a6db74a33b7e5094071121}{setStyle}}(inkId, m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}});}
\DoxyCodeLine{00603     \}}
\DoxyCodeLine{00604     assert(inkId);}
\DoxyCodeLine{00605 }
\DoxyCodeLine{00606     m\_dataRasterArray.push\_back(std::pair<int, DataRasterP>(inkId, dataRaster));}
\DoxyCodeLine{00607     \textcolor{keywordtype}{int} maxDistance2 =}
\DoxyCodeLine{00608         m\_configuration.\mbox{\hyperlink{class_vectorizer_configuration_a6c193af0fd43ebee088cb2adf28181ca}{m\_threshold}} * m\_configuration.\mbox{\hyperlink{class_vectorizer_configuration_a6c193af0fd43ebee088cb2adf28181ca}{m\_threshold}};}
\DoxyCodeLine{00609 }
\DoxyCodeLine{00610     \textcolor{keywordflow}{for} (y = 0; y < m\_src-\/>getLy(); y++) \{}
\DoxyCodeLine{00611       TPixel32 *inPix    = srcRGBM-\/>pixels(y);}
\DoxyCodeLine{00612       TPixel32 *inEndPix = inPix + srcRGBM-\/>getLx();}
\DoxyCodeLine{00613       \mbox{\hyperlink{class_data_pixel}{DataPixel}} *dataPix = dataRaster-\/>pixels(y + 1) + 1;}
\DoxyCodeLine{00614       x                  = 0;}
\DoxyCodeLine{00615       \textcolor{keywordflow}{while} (inPix < inEndPix) \{}
\DoxyCodeLine{00616         *dataPix      = \mbox{\hyperlink{class_data_pixel}{DataPixel}}();}
\DoxyCodeLine{00617         \textcolor{keywordtype}{int} distance2 = colorDistance2(m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}}, *inPix);}
\DoxyCodeLine{00618 }
\DoxyCodeLine{00619         \textcolor{keywordflow}{if} (y == 0 || y == m\_src-\/>getLy() -\/ 1 || x == 0 ||}
\DoxyCodeLine{00620             x == m\_src-\/>getLx() -\/ 1 || inPix-\/>m == 0) \{}
\DoxyCodeLine{00621           dataPix-\/>m\_value = 255;}
\DoxyCodeLine{00622           dataPix-\/>m\_ink   = \textcolor{keyword}{false};}
\DoxyCodeLine{00623         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00624           dataPix-\/>m\_value = (inPix-\/>r + 2 * inPix-\/>g + inPix-\/>b) >> 2;}
\DoxyCodeLine{00625           dataPix-\/>m\_ink   = (distance2 < maxDistance2);}
\DoxyCodeLine{00626         \}}
\DoxyCodeLine{00627         dataPix-\/>m\_pos.x = x++;}
\DoxyCodeLine{00628         dataPix-\/>m\_pos.y = y;}
\DoxyCodeLine{00629         dataPix-\/>m\_node  = 0;}
\DoxyCodeLine{00630         inPix++;}
\DoxyCodeLine{00631         dataPix++;}
\DoxyCodeLine{00632       \}}
\DoxyCodeLine{00633     \}}
\DoxyCodeLine{00634   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (srcGR) \{}
\DoxyCodeLine{00635     assert(m\_palette);}
\DoxyCodeLine{00636     \textcolor{keywordtype}{int} inkId = m\_palette-\/>\mbox{\hyperlink{class_t_palette_ab0bf5c4fdd9cd3428819ce594299627d}{getClosestStyle}}(m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}});}
\DoxyCodeLine{00637     \textcolor{keywordflow}{if} (!inkId || m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}} !=}
\DoxyCodeLine{00638                       m\_palette-\/>\mbox{\hyperlink{class_t_palette_a0f6a4eda7dafb0a9f2b43160cfec81e4}{getStyle}}(inkId)-\/>\mbox{\hyperlink{class_t_color_style_abd78dd4e3ff3e2e78b647195f7622aa7}{getMainColor}}()) \{}
\DoxyCodeLine{00639       inkId = m\_palette-\/>\mbox{\hyperlink{class_t_palette_a5a562f2d3a5fa256fcb4bb2be5b45534}{getStyleCount}}();}
\DoxyCodeLine{00640       m\_palette-\/>\mbox{\hyperlink{class_t_palette_ae8566a5ffa9e69be120003ad4b69078d}{getStylePage}}(1)-\/>\mbox{\hyperlink{class_t_palette_1_1_page_aba6f78043e4370496a1bb7b7be5bd792}{insertStyle}}(1, m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}});}
\DoxyCodeLine{00641       m\_palette-\/>\mbox{\hyperlink{class_t_palette_ab9369e7992a6db74a33b7e5094071121}{setStyle}}(inkId, m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}});}
\DoxyCodeLine{00642     \}}
\DoxyCodeLine{00643     assert(inkId);}
\DoxyCodeLine{00644 }
\DoxyCodeLine{00645     m\_dataRasterArray.push\_back(std::pair<int, DataRasterP>(inkId, dataRaster));}
\DoxyCodeLine{00646     \textcolor{keywordtype}{int} threshold = m\_configuration.\mbox{\hyperlink{class_vectorizer_configuration_a6c193af0fd43ebee088cb2adf28181ca}{m\_threshold}};}
\DoxyCodeLine{00647 }
\DoxyCodeLine{00648     \textcolor{keywordflow}{for} (y = 0; y < m\_src-\/>getLy(); y++) \{}
\DoxyCodeLine{00649       \mbox{\hyperlink{class_t_pixel_g_r8}{TPixelGR8}} *inPix    = srcGR-\/>pixels(y);}
\DoxyCodeLine{00650       \mbox{\hyperlink{class_t_pixel_g_r8}{TPixelGR8}} *inEndPix = inPix + srcGR-\/>getLx();}
\DoxyCodeLine{00651       \mbox{\hyperlink{class_data_pixel}{DataPixel}} *dataPix  = dataRaster-\/>pixels(y + 1) + 1;}
\DoxyCodeLine{00652       x                   = 0;}
\DoxyCodeLine{00653       \textcolor{keywordflow}{while} (inPix < inEndPix) \{}
\DoxyCodeLine{00654         *dataPix = \mbox{\hyperlink{class_data_pixel}{DataPixel}}();}
\DoxyCodeLine{00655         \textcolor{keywordflow}{if} (y == 0 || y == m\_src-\/>getLy() -\/ 1 || x == 0 ||}
\DoxyCodeLine{00656             x == m\_src-\/>getLx() -\/ 1) \{}
\DoxyCodeLine{00657           dataPix-\/>m\_value = 255;}
\DoxyCodeLine{00658           dataPix-\/>m\_ink   = \textcolor{keyword}{false};}
\DoxyCodeLine{00659         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00660           dataPix-\/>m\_value = inPix-\/>value;}
\DoxyCodeLine{00661           dataPix-\/>m\_ink   = (inPix-\/>value < threshold);}
\DoxyCodeLine{00662         \}}
\DoxyCodeLine{00663         dataPix-\/>m\_pos.x = x++;}
\DoxyCodeLine{00664         dataPix-\/>m\_pos.y = y;}
\DoxyCodeLine{00665         dataPix-\/>m\_node  = 0;}
\DoxyCodeLine{00666         inPix++;}
\DoxyCodeLine{00667         dataPix++;}
\DoxyCodeLine{00668       \}}
\DoxyCodeLine{00669     \}}
\DoxyCodeLine{00670   \}}
\DoxyCodeLine{00671 }
\DoxyCodeLine{00672   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (srcCM) \{}
\DoxyCodeLine{00673     \textcolor{keywordtype}{int} currInk, nextInk = 0;}
\DoxyCodeLine{00674 }
\DoxyCodeLine{00675     \textcolor{keywordflow}{if} (srcCM-\/>getLx() * srcCM-\/>getLy() > 5000000) \{}
\DoxyCodeLine{00676       \textcolor{keywordtype}{int} threshold = m\_configuration.\mbox{\hyperlink{class_vectorizer_configuration_a6c193af0fd43ebee088cb2adf28181ca}{m\_threshold}};}
\DoxyCodeLine{00677       \textcolor{keywordtype}{int} inkId     = m\_palette-\/>\mbox{\hyperlink{class_t_palette_ab0bf5c4fdd9cd3428819ce594299627d}{getClosestStyle}}(TPixel::Black);}
\DoxyCodeLine{00678 }
\DoxyCodeLine{00679       \textcolor{keywordflow}{if} (TPixel::Black != m\_palette-\/>\mbox{\hyperlink{class_t_palette_a0f6a4eda7dafb0a9f2b43160cfec81e4}{getStyle}}(inkId)-\/>\mbox{\hyperlink{class_t_color_style_abd78dd4e3ff3e2e78b647195f7622aa7}{getMainColor}}()) \{}
\DoxyCodeLine{00680         inkId = m\_palette-\/>\mbox{\hyperlink{class_t_palette_a5a562f2d3a5fa256fcb4bb2be5b45534}{getStyleCount}}();}
\DoxyCodeLine{00681         m\_palette-\/>\mbox{\hyperlink{class_t_palette_ae8566a5ffa9e69be120003ad4b69078d}{getStylePage}}(1)-\/>\mbox{\hyperlink{class_t_palette_1_1_page_aba6f78043e4370496a1bb7b7be5bd792}{insertStyle}}(1, m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}});}
\DoxyCodeLine{00682         m\_palette-\/>\mbox{\hyperlink{class_t_palette_ab9369e7992a6db74a33b7e5094071121}{setStyle}}(inkId, m\_configuration.\mbox{\hyperlink{class_outline_configuration_a98ecfdc6a8fb26c36e387ba26d77edd2}{m\_inkColor}});}
\DoxyCodeLine{00683       \}}
\DoxyCodeLine{00684       assert(inkId);}
\DoxyCodeLine{00685 }
\DoxyCodeLine{00686       m\_dataRasterArray.push\_back(}
\DoxyCodeLine{00687           std::pair<int, DataRasterP>(inkId, dataRaster));}
\DoxyCodeLine{00688 }
\DoxyCodeLine{00689       \textcolor{comment}{// inizializza la parte centrale}}
\DoxyCodeLine{00690       \textcolor{keywordflow}{for} (y = 0; y < m\_src-\/>getLy(); y++) \{}
\DoxyCodeLine{00691         \mbox{\hyperlink{class_t_pixel_c_m32}{TPixelCM32}} *inPix    = srcCM-\/>pixels(y);}
\DoxyCodeLine{00692         \mbox{\hyperlink{class_t_pixel_c_m32}{TPixelCM32}} *inEndPix = inPix + m\_src-\/>getLx();}
\DoxyCodeLine{00693         \mbox{\hyperlink{class_data_pixel}{DataPixel}} *dataPix   = dataRaster-\/>pixels(y + 1) + 1;}
\DoxyCodeLine{00694         x                    = 0;}
\DoxyCodeLine{00695         \textcolor{keywordflow}{while} (inPix < inEndPix) \{}
\DoxyCodeLine{00696           *dataPix  = \mbox{\hyperlink{class_data_pixel}{DataPixel}}();}
\DoxyCodeLine{00697           \textcolor{keywordtype}{int} value = inPix-\/>getTone();}
\DoxyCodeLine{00698           \textcolor{keywordflow}{if} (m\_configuration.\mbox{\hyperlink{class_outline_configuration_aec914b588b1d7a08f74b25e266e40742}{m\_ignoreInkColors}}) inkId = 1;}
\DoxyCodeLine{00699           \textcolor{keywordflow}{if} (y == 0 || y == m\_src-\/>getLy() -\/ 1 || x == 0 ||}
\DoxyCodeLine{00700               x == m\_src-\/>getLx() -\/ 1) \{}
\DoxyCodeLine{00701             dataPix-\/>m\_value = 255;}
\DoxyCodeLine{00702             dataPix-\/>m\_ink   = \textcolor{keyword}{false};}
\DoxyCodeLine{00703           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00704             dataPix-\/>m\_value = value;}
\DoxyCodeLine{00705             dataPix-\/>m\_ink   = (value < threshold);}
\DoxyCodeLine{00706           \}}
\DoxyCodeLine{00707           dataPix-\/>m\_pos.x = x++;}
\DoxyCodeLine{00708           dataPix-\/>m\_pos.y = y;}
\DoxyCodeLine{00709           dataPix-\/>m\_node  = 0;}
\DoxyCodeLine{00710           inPix++;}
\DoxyCodeLine{00711           dataPix++;}
\DoxyCodeLine{00712         \}}
\DoxyCodeLine{00713       \}}
\DoxyCodeLine{00714     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00715       \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{00716         \textcolor{comment}{// Inizializzo DataRasterP}}
\DoxyCodeLine{00717         \mbox{\hyperlink{class_t_raster_p_t}{DataRasterP}} dataRaster(m\_src-\/>getSize().lx + 2,}
\DoxyCodeLine{00718                                m\_src-\/>getSize().ly + 2);}
\DoxyCodeLine{00719         \textcolor{keywordtype}{int} ly              = dataRaster-\/>getLy();}
\DoxyCodeLine{00720         \textcolor{keywordtype}{int} lx              = dataRaster-\/>getLx();}
\DoxyCodeLine{00721         \textcolor{keywordtype}{int} wrap            = dataRaster-\/>getWrap();}
\DoxyCodeLine{00722         \mbox{\hyperlink{class_data_pixel}{DataPixel}} *dataPix0 = dataRaster-\/>pixels(0);}
\DoxyCodeLine{00723         \mbox{\hyperlink{class_data_pixel}{DataPixel}} *dataPix1 = dataRaster-\/>pixels(0) + m\_src-\/>getLx() + 1;}
\DoxyCodeLine{00724         \textcolor{keywordflow}{for} (y = 0; y < ly; y++, dataPix0 += wrap, dataPix1 += wrap) \{}
\DoxyCodeLine{00725           dataPix0-\/>m\_pos.x = 0;}
\DoxyCodeLine{00726           dataPix1-\/>m\_pos.x = lx -\/ 1;}
\DoxyCodeLine{00727           dataPix0-\/>m\_pos.y = dataPix1-\/>m\_pos.y = y;}
\DoxyCodeLine{00728           dataPix0-\/>m\_value = dataPix1-\/>m\_value = 0;}
\DoxyCodeLine{00729           dataPix0-\/>m\_ink = dataPix1-\/>m\_ink = \textcolor{keyword}{false};}
\DoxyCodeLine{00730           dataPix0-\/>m\_node = dataPix1-\/>m\_node = 0;}
\DoxyCodeLine{00731         \}}
\DoxyCodeLine{00732         dataPix0 = dataRaster-\/>pixels(0);}
\DoxyCodeLine{00733         dataPix1 = dataRaster-\/>pixels(ly -\/ 1);}
\DoxyCodeLine{00734         \textcolor{keywordflow}{for} (x = 0; x < lx; x++, dataPix0++, dataPix1++) \{}
\DoxyCodeLine{00735           dataPix0-\/>m\_pos.x = dataPix1-\/>m\_pos.x = x;}
\DoxyCodeLine{00736           dataPix0-\/>m\_pos.y                     = 0;}
\DoxyCodeLine{00737           dataPix1-\/>m\_pos.y                     = ly -\/ 1;}
\DoxyCodeLine{00738           dataPix0-\/>m\_value = dataPix1-\/>m\_value = 0;}
\DoxyCodeLine{00739           dataPix0-\/>m\_ink = dataPix1-\/>m\_ink = \textcolor{keyword}{false};}
\DoxyCodeLine{00740           dataPix0-\/>m\_node = dataPix1-\/>m\_node = 0;}
\DoxyCodeLine{00741         \}}
\DoxyCodeLine{00742 }
\DoxyCodeLine{00743         \textcolor{keywordtype}{int} threshold =}
\DoxyCodeLine{00744             m\_configuration.\mbox{\hyperlink{class_vectorizer_configuration_a6c193af0fd43ebee088cb2adf28181ca}{m\_threshold}};  \textcolor{comment}{// tolerance: 1-\/>MAX thresh: 1-\/255}}
\DoxyCodeLine{00745         currInk = nextInk;}
\DoxyCodeLine{00746         nextInk = 0;}
\DoxyCodeLine{00747         m\_dataRasterArray.push\_back(}
\DoxyCodeLine{00748             std::pair<int, DataRasterP>(currInk, dataRaster));}
\DoxyCodeLine{00749 }
\DoxyCodeLine{00750         \textcolor{comment}{// inizializza la parte centrale}}
\DoxyCodeLine{00751         \textcolor{keywordflow}{for} (y = 0; y < m\_src-\/>getLy(); y++) \{}
\DoxyCodeLine{00752           \mbox{\hyperlink{class_t_pixel_c_m32}{TPixelCM32}} *inPix    = srcCM-\/>pixels(y);}
\DoxyCodeLine{00753           \mbox{\hyperlink{class_t_pixel_c_m32}{TPixelCM32}} *inEndPix = inPix + m\_src-\/>getLx();}
\DoxyCodeLine{00754           \mbox{\hyperlink{class_data_pixel}{DataPixel}} *dataPix   = dataRaster-\/>pixels(y + 1) + 1;}
\DoxyCodeLine{00755           x                    = 0;}
\DoxyCodeLine{00756           \textcolor{keywordflow}{while} (inPix < inEndPix) \{}
\DoxyCodeLine{00757             *dataPix  = \mbox{\hyperlink{class_data_pixel}{DataPixel}}();}
\DoxyCodeLine{00758             \textcolor{keywordtype}{int} value = inPix-\/>getTone();}
\DoxyCodeLine{00759             \textcolor{keywordflow}{if} (value < 255 \&\& !m\_configuration.\mbox{\hyperlink{class_outline_configuration_aec914b588b1d7a08f74b25e266e40742}{m\_ignoreInkColors}}) \{}
\DoxyCodeLine{00760               \textcolor{keywordtype}{int} ink = inPix-\/>getInk();}
\DoxyCodeLine{00761               \textcolor{keywordflow}{if} (currInk == 0) \{}
\DoxyCodeLine{00762                 currInk                        = ink;}
\DoxyCodeLine{00763                 m\_dataRasterArray.back().first = ink;}
\DoxyCodeLine{00764               \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ink != currInk) \{}
\DoxyCodeLine{00765                 value = 255;}
\DoxyCodeLine{00766                 \textcolor{keywordflow}{if} (nextInk == 0) \{}
\DoxyCodeLine{00767                   \textcolor{keywordflow}{for} (ii = 0; ii < (int)m\_dataRasterArray.size() -\/ 1; ii++)}
\DoxyCodeLine{00768                     \textcolor{keywordflow}{if} (m\_dataRasterArray[ii].first == ink) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00769                   \textcolor{keywordflow}{if} (ii == (\textcolor{keywordtype}{int})m\_dataRasterArray.size() -\/ 1) nextInk = ink;}
\DoxyCodeLine{00770                 \}}
\DoxyCodeLine{00771               \}}
\DoxyCodeLine{00772             \}}
\DoxyCodeLine{00773             dataPix-\/>m\_pos.x = x++;}
\DoxyCodeLine{00774             dataPix-\/>m\_pos.y = y;}
\DoxyCodeLine{00775             dataPix-\/>m\_value = value;}
\DoxyCodeLine{00776             dataPix-\/>m\_ink   = (value < threshold);}
\DoxyCodeLine{00777             dataPix-\/>m\_node  = 0;}
\DoxyCodeLine{00778             inPix++;}
\DoxyCodeLine{00779             dataPix++;}
\DoxyCodeLine{00780           \}}
\DoxyCodeLine{00781         \}}
\DoxyCodeLine{00782       \} \textcolor{keywordflow}{while} (nextInk != 0);}
\DoxyCodeLine{00783     \}}
\DoxyCodeLine{00784     \textcolor{keywordflow}{if} (m\_configuration.\mbox{\hyperlink{class_outline_configuration_aec914b588b1d7a08f74b25e266e40742}{m\_ignoreInkColors}}) \{}
\DoxyCodeLine{00785       assert(m\_dataRasterArray.size() == 1);}
\DoxyCodeLine{00786       m\_dataRasterArray.back().first = 1;}
\DoxyCodeLine{00787     \}}
\DoxyCodeLine{00788   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00789     assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00790 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_outline_vectorizer_ad94f9d9368d922ce0da4ced980e09bc5}\label{class_outline_vectorizer_ad94f9d9368d922ce0da4ced980e09bc5}} 
\index{OutlineVectorizer@{OutlineVectorizer}!traceOutline@{traceOutline}}
\index{traceOutline@{traceOutline}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{traceOutline()}{traceOutline()}}
{\footnotesize\ttfamily void Outline\+Vectorizer\+::trace\+Outline (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_node}{Node}} $\ast$}]{initial\+Node }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02541                                                       \{}
\DoxyCodeLine{02542   \mbox{\hyperlink{class_node}{Node}} *startNode = initialNode;}
\DoxyCodeLine{02543   \mbox{\hyperlink{class_node}{Node}} *node;}
\DoxyCodeLine{02544   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{02545     \textcolor{keywordflow}{if} (!startNode) \textcolor{keywordflow}{break};}
\DoxyCodeLine{02546     node = findOtherSide(startNode);}
\DoxyCodeLine{02547     \textcolor{keywordflow}{if} (!node) \textcolor{keywordflow}{break};}
\DoxyCodeLine{02548 }
\DoxyCodeLine{02549     \textcolor{keywordtype}{double} startDist2 = computeDistance2(startNode, node);}
\DoxyCodeLine{02550     \textcolor{keywordflow}{if} (startDist2 > 0.1) \textcolor{keywordflow}{break};}
\DoxyCodeLine{02551 }
\DoxyCodeLine{02552     startNode = startNode-\/>m\_next;}
\DoxyCodeLine{02553     \textcolor{comment}{//      assert(startNode != initialNode);}}
\DoxyCodeLine{02554   \} \textcolor{keywordflow}{while} (startNode != initialNode);}
\DoxyCodeLine{02555 }
\DoxyCodeLine{02556   \textcolor{keywordflow}{if} (!startNode) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02557   node = startNode;}
\DoxyCodeLine{02558   std::vector<TThickPoint> points;}
\DoxyCodeLine{02559   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{02560     node = node-\/>m\_next;}
\DoxyCodeLine{02561     \textcolor{keywordflow}{if} (!node) \textcolor{keywordflow}{break};}
\DoxyCodeLine{02562     node-\/>m\_visited = \textcolor{keyword}{true};}
\DoxyCodeLine{02563     points.push\_back(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(convert(node-\/>m\_pixel-\/>m\_pos), 0));}
\DoxyCodeLine{02564   \} \textcolor{keywordflow}{while} (node != startNode);}
\DoxyCodeLine{02565   m\_protoOutlines.push\_back(points);}
\DoxyCodeLine{02566 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_outline_vectorizer_a180e5718e0aa6f07dac2c48615015cdb}\label{class_outline_vectorizer_a180e5718e0aa6f07dac2c48615015cdb}} 
\index{OutlineVectorizer@{OutlineVectorizer}!m\_configuration@{m\_configuration}}
\index{m\_configuration@{m\_configuration}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{m\_configuration}{m\_configuration}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_outline_configuration}{Outline\+Configuration}} Outline\+Vectorizer\+::m\+\_\+configuration}

\mbox{\Hypertarget{class_outline_vectorizer_a63138b03f13d8649260b0e2dcb5f6708}\label{class_outline_vectorizer_a63138b03f13d8649260b0e2dcb5f6708}} 
\index{OutlineVectorizer@{OutlineVectorizer}!m\_dataRaster@{m\_dataRaster}}
\index{m\_dataRaster@{m\_dataRaster}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{m\_dataRaster}{m\_dataRaster}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_raster_p_t}{Data\+RasterP}} Outline\+Vectorizer\+::m\+\_\+data\+Raster}

\mbox{\Hypertarget{class_outline_vectorizer_ab0efbe7151683eb197ddb645cc066678}\label{class_outline_vectorizer_ab0efbe7151683eb197ddb645cc066678}} 
\index{OutlineVectorizer@{OutlineVectorizer}!m\_dataRasterArray@{m\_dataRasterArray}}
\index{m\_dataRasterArray@{m\_dataRasterArray}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{m\_dataRasterArray}{m\_dataRasterArray}}
{\footnotesize\ttfamily std\+::vector$<$std\+::pair$<$int, \mbox{\hyperlink{class_t_raster_p_t}{Data\+RasterP}}$>$ $>$ Outline\+Vectorizer\+::m\+\_\+data\+Raster\+Array}

\mbox{\Hypertarget{class_outline_vectorizer_a0c8f6a12758920d92f0154db3c88b7e7}\label{class_outline_vectorizer_a0c8f6a12758920d92f0154db3c88b7e7}} 
\index{OutlineVectorizer@{OutlineVectorizer}!m\_junctions@{m\_junctions}}
\index{m\_junctions@{m\_junctions}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{m\_junctions}{m\_junctions}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{class_junction}{Junction}} $\ast$$>$ Outline\+Vectorizer\+::m\+\_\+junctions}

\mbox{\Hypertarget{class_outline_vectorizer_adf6b3afaa72931e843fb980070e09b97}\label{class_outline_vectorizer_adf6b3afaa72931e843fb980070e09b97}} 
\index{OutlineVectorizer@{OutlineVectorizer}!m\_nodes@{m\_nodes}}
\index{m\_nodes@{m\_nodes}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{m\_nodes}{m\_nodes}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{class_node}{Node}} $\ast$$>$ Outline\+Vectorizer\+::m\+\_\+nodes}

\mbox{\Hypertarget{class_outline_vectorizer_a702cb6637debf1c74d7c182c513aeecb}\label{class_outline_vectorizer_a702cb6637debf1c74d7c182c513aeecb}} 
\index{OutlineVectorizer@{OutlineVectorizer}!m\_protoOutlines@{m\_protoOutlines}}
\index{m\_protoOutlines@{m\_protoOutlines}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{m\_protoOutlines}{m\_protoOutlines}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily list$<$\mbox{\hyperlink{classvector}{vector}}$<$\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}}$>$ $>$ Outline\+Vectorizer\+::m\+\_\+proto\+Outlines}

\mbox{\Hypertarget{class_outline_vectorizer_af5b3c9208ddd2f6437e359f2ddc86bd4}\label{class_outline_vectorizer_af5b3c9208ddd2f6437e359f2ddc86bd4}} 
\index{OutlineVectorizer@{OutlineVectorizer}!m\_protoOutlines@{m\_protoOutlines}}
\index{m\_protoOutlines@{m\_protoOutlines}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{m\_protoOutlines}{m\_protoOutlines}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily std\+::list$<$std\+::vector$<$\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}}$>$ $>$ Outline\+Vectorizer\+::m\+\_\+proto\+Outlines}

\mbox{\Hypertarget{class_outline_vectorizer_ad190456cbee3ed23cd85f9e340324ac1}\label{class_outline_vectorizer_ad190456cbee3ed23cd85f9e340324ac1}} 
\index{OutlineVectorizer@{OutlineVectorizer}!m\_src@{m\_src}}
\index{m\_src@{m\_src}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{m\_src}{m\_src}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} Outline\+Vectorizer\+::m\+\_\+src}

\mbox{\Hypertarget{class_outline_vectorizer_a36f4484473e87dbfc1f1f931951ba05c}\label{class_outline_vectorizer_a36f4484473e87dbfc1f1f931951ba05c}} 
\index{OutlineVectorizer@{OutlineVectorizer}!m\_vimage@{m\_vimage}}
\index{m\_vimage@{m\_vimage}!OutlineVectorizer@{OutlineVectorizer}}
\doxysubsubsection{\texorpdfstring{m\_vimage}{m\_vimage}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_vector_image_p}{TVector\+ImageP}} Outline\+Vectorizer\+::m\+\_\+vimage}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzlib/tcenterlinevectorizer\+Old.\+cpp\item 
E\+:/opentoonz/toonz/sources/toonzlib/toutlinevectorizer.\+cpp\end{DoxyCompactItemize}
