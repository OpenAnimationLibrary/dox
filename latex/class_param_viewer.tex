\hypertarget{class_param_viewer}{}\doxysection{Param\+Viewer Class Reference}
\label{class_param_viewer}\index{ParamViewer@{ParamViewer}}


\mbox{\hyperlink{class_param_viewer}{Param\+Viewer}}. Contains a stack of {\bfseries{\mbox{\hyperlink{class_params_page_set}{Params\+Page\+Set}}}}.  




{\ttfamily \#include $<$fxsettings.\+h$>$}

Inheritance diagram for Param\+Viewer\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_param_viewer}
\end{center}
\end{figure}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_param_viewer_aebfeb02bc8ead5a047fa20e3cd8f528b}\label{class_param_viewer_aebfeb02bc8ead5a047fa20e3cd8f528b}} 
void {\bfseries current\+Fx\+Param\+Changed} ()
\item 
\mbox{\Hypertarget{class_param_viewer_a5a7eb616cd5657d9cd9af204c37fd122}\label{class_param_viewer_a5a7eb616cd5657d9cd9af204c37fd122}} 
void {\bfseries actual\+Fx\+Param\+Changed} ()
\item 
\mbox{\Hypertarget{class_param_viewer_ab0bb37bfe7206f79ed90a91f2f9b19fc}\label{class_param_viewer_ab0bb37bfe7206f79ed90a91f2f9b19fc}} 
void {\bfseries param\+Key\+Changed} ()
\item 
\mbox{\Hypertarget{class_param_viewer_a8fac3a3cba131b0fd469bc6e91ecd6d2}\label{class_param_viewer_a8fac3a3cba131b0fd469bc6e91ecd6d2}} 
void {\bfseries preferred\+Size\+Changed} (QSize)
\item 
\mbox{\Hypertarget{class_param_viewer_a1bb20f908eb3c508bb7b477be6a2930f}\label{class_param_viewer_a1bb20f908eb3c508bb7b477be6a2930f}} 
void {\bfseries show\+Swatch\+Button\+Toggled} (bool)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_param_viewer_a857d022949dad40cdfb626fa5650b7de}{Param\+Viewer}} (QWidget $\ast$parent=0, Qt\+::\+WFlags flags=0)
\item 
void \mbox{\hyperlink{class_param_viewer_a1fe8aef0f4cc6dbcd337323b0bdb24da}{set\+Fx}} (const \mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} \&current\+Fx, const \mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} \&actual\+Fx, int frame, \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$scene)
\item 
void \mbox{\hyperlink{class_param_viewer_a0061b123078bb96d3e285c198f9d197b}{set\+Scene}} (\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$scene)
\item 
void \mbox{\hyperlink{class_param_viewer_ad495a2709496caf3d3200dbcc73b49e4}{set\+Is\+Camera\+View\+Mode}} (bool is\+Camera\+View\+Mode)
\item 
void \mbox{\hyperlink{class_param_viewer_a173c521861174da6c216c7aa1abe6193}{update}} (int frame, bool only\+Param)
\item 
void \mbox{\hyperlink{class_param_viewer_aa502af4f7ac342115fda1be8ecf2cd2a}{set\+Point\+Value}} (int index, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p)
\item 
void \mbox{\hyperlink{class_param_viewer_a91eca9736a0ff5bba80f373d2526200a}{notify\+Preferred\+Size\+Changed}} (QSize size)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_params_page_set}{Params\+Page\+Set}} $\ast$ \mbox{\hyperlink{class_param_viewer_aa28ca7dc628d0ba98ee521f06bd61461}{get\+Current\+Page\+Set}} () const
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{class_param_viewer}{Param\+Viewer}}. Contains a stack of {\bfseries{\mbox{\hyperlink{class_params_page_set}{Params\+Page\+Set}}}}. 

\begin{DoxyVerb}        Inherits \b QWidget.
\end{DoxyVerb}
 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_param_viewer_a857d022949dad40cdfb626fa5650b7de}\label{class_param_viewer_a857d022949dad40cdfb626fa5650b7de}} 
\index{ParamViewer@{ParamViewer}!ParamViewer@{ParamViewer}}
\index{ParamViewer@{ParamViewer}!ParamViewer@{ParamViewer}}
\doxysubsubsection{\texorpdfstring{ParamViewer()}{ParamViewer()}}
{\footnotesize\ttfamily Param\+Viewer\+::\+Param\+Viewer (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0},  }\item[{Qt\+::\+WFlags}]{flags = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01052     : QFrame(parent, flags), m\_fx(0) \{}
\DoxyCodeLine{01053   m\_tablePageSet = \textcolor{keyword}{new} QStackedWidget(\textcolor{keyword}{this});}
\DoxyCodeLine{01054   m\_tablePageSet-\/>addWidget(\textcolor{keyword}{new} QWidget());}
\DoxyCodeLine{01055 }
\DoxyCodeLine{01056   \textcolor{comment}{/*-\/-\/ SwatchViewerを表示/非表示するボタン -\/-\/*/}}
\DoxyCodeLine{01057   QPushButton *showSwatchButton = \textcolor{keyword}{new} QPushButton(\textcolor{stringliteral}{"{}"{}}, \textcolor{keyword}{this});}
\DoxyCodeLine{01058   QLabel *swatchLabel           = \textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Swatch Viewer"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01059 }
\DoxyCodeLine{01060   swatchLabel-\/>setObjectName(\textcolor{stringliteral}{"{}TitleTxtLabel"{}});}
\DoxyCodeLine{01061   showSwatchButton-\/>setObjectName(\textcolor{stringliteral}{"{}menuToggleButton"{}});}
\DoxyCodeLine{01062   showSwatchButton-\/>setFixedSize(15, 15);}
\DoxyCodeLine{01063   showSwatchButton-\/>setIcon(createQIcon(\textcolor{stringliteral}{"{}menu\_toggle"{}}));}
\DoxyCodeLine{01064   showSwatchButton-\/>setCheckable(\textcolor{keyword}{true});}
\DoxyCodeLine{01065   showSwatchButton-\/>setChecked(\textcolor{keyword}{false});}
\DoxyCodeLine{01066   showSwatchButton-\/>setFocusPolicy(Qt::NoFocus);}
\DoxyCodeLine{01067 }
\DoxyCodeLine{01068   QVBoxLayout *mainLayout = \textcolor{keyword}{new} QVBoxLayout(\textcolor{keyword}{this});}
\DoxyCodeLine{01069   mainLayout-\/>setMargin(0);}
\DoxyCodeLine{01070   mainLayout-\/>setSpacing(0);}
\DoxyCodeLine{01071   \{}
\DoxyCodeLine{01072     mainLayout-\/>addWidget(m\_tablePageSet, 1);}
\DoxyCodeLine{01073 }
\DoxyCodeLine{01074     QHBoxLayout *showPreviewButtonLayout = \textcolor{keyword}{new} QHBoxLayout(\textcolor{keyword}{this});}
\DoxyCodeLine{01075     showPreviewButtonLayout-\/>setMargin(3);}
\DoxyCodeLine{01076     showPreviewButtonLayout-\/>setSpacing(3);}
\DoxyCodeLine{01077     \{}
\DoxyCodeLine{01078       showPreviewButtonLayout-\/>addWidget(showSwatchButton, 0);}
\DoxyCodeLine{01079       showPreviewButtonLayout-\/>addWidget(swatchLabel, 0);}
\DoxyCodeLine{01080       showPreviewButtonLayout-\/>addStretch(1);}
\DoxyCodeLine{01081     \}}
\DoxyCodeLine{01082     mainLayout-\/>addLayout(showPreviewButtonLayout, 0);}
\DoxyCodeLine{01083   \}}
\DoxyCodeLine{01084   setLayout(mainLayout);}
\DoxyCodeLine{01085 }
\DoxyCodeLine{01086   connect(showSwatchButton, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01087           SIGNAL(showSwatchButtonToggled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01088 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_param_viewer_a6f3b80c32535c947fe8efa71c004dff8}\label{class_param_viewer_a6f3b80c32535c947fe8efa71c004dff8}} 
\index{ParamViewer@{ParamViewer}!````~ParamViewer@{$\sim$ParamViewer}}
\index{````~ParamViewer@{$\sim$ParamViewer}!ParamViewer@{ParamViewer}}
\doxysubsubsection{\texorpdfstring{$\sim$ParamViewer()}{~ParamViewer()}}
{\footnotesize\ttfamily Param\+Viewer\+::$\sim$\+Param\+Viewer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01092 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_param_viewer_aa28ca7dc628d0ba98ee521f06bd61461}\label{class_param_viewer_aa28ca7dc628d0ba98ee521f06bd61461}} 
\index{ParamViewer@{ParamViewer}!getCurrentPageSet@{getCurrentPageSet}}
\index{getCurrentPageSet@{getCurrentPageSet}!ParamViewer@{ParamViewer}}
\doxysubsubsection{\texorpdfstring{getCurrentPageSet()}{getCurrentPageSet()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_params_page_set}{Params\+Page\+Set}} $\ast$ Param\+Viewer\+::get\+Current\+Page\+Set (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01181                                                     \{}
\DoxyCodeLine{01182   \textcolor{keywordflow}{return} \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_params_page_set}{ParamsPageSet}} *\textcolor{keyword}{>}(m\_tablePageSet-\/>currentWidget());}
\DoxyCodeLine{01183 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_param_viewer_a91eca9736a0ff5bba80f373d2526200a}\label{class_param_viewer_a91eca9736a0ff5bba80f373d2526200a}} 
\index{ParamViewer@{ParamViewer}!notifyPreferredSizeChanged@{notifyPreferredSizeChanged}}
\index{notifyPreferredSizeChanged@{notifyPreferredSizeChanged}!ParamViewer@{ParamViewer}}
\doxysubsubsection{\texorpdfstring{notifyPreferredSizeChanged()}{notifyPreferredSizeChanged()}}
{\footnotesize\ttfamily void Param\+Viewer\+::notify\+Preferred\+Size\+Changed (\begin{DoxyParamCaption}\item[{QSize}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00223                                               \{}
\DoxyCodeLine{00224     emit preferredSizeChanged(size);}
\DoxyCodeLine{00225   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_param_viewer_a1fe8aef0f4cc6dbcd337323b0bdb24da}\label{class_param_viewer_a1fe8aef0f4cc6dbcd337323b0bdb24da}} 
\index{ParamViewer@{ParamViewer}!setFx@{setFx}}
\index{setFx@{setFx}!ParamViewer@{ParamViewer}}
\doxysubsubsection{\texorpdfstring{setFx()}{setFx()}}
{\footnotesize\ttfamily void Param\+Viewer\+::set\+Fx (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} \&}]{current\+Fx,  }\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} \&}]{actual\+Fx,  }\item[{int}]{frame,  }\item[{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01097                                            \{}
\DoxyCodeLine{01098   \textcolor{keywordflow}{if} (!actualFx) \{}
\DoxyCodeLine{01099     m\_tablePageSet-\/>setCurrentIndex(0);}
\DoxyCodeLine{01100     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01101   \}}
\DoxyCodeLine{01102   std::string name = actualFx-\/>getFxType();}
\DoxyCodeLine{01103   \textcolor{keywordflow}{if} (name == \textcolor{stringliteral}{"{}macroFx"{}}) \{}
\DoxyCodeLine{01104     \mbox{\hyperlink{class_t_macro_fx}{TMacroFx}} *macroFx = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_macro_fx}{TMacroFx}} *\textcolor{keyword}{>}(currentFx.getPointer());}
\DoxyCodeLine{01105     \textcolor{keywordflow}{if} (macroFx) name = macroFx-\/>getMacroFxType();}
\DoxyCodeLine{01106   \}}
\DoxyCodeLine{01107 }
\DoxyCodeLine{01108   \textcolor{keywordtype}{int} currentIndex = -\/1;}
\DoxyCodeLine{01109 }
\DoxyCodeLine{01110   QMap<std::string, int>::iterator it;}
\DoxyCodeLine{01111   it = m\_tableFxIndex.find(name);}
\DoxyCodeLine{01112   \textcolor{keywordflow}{if} (it == m\_tableFxIndex.end()) \{}
\DoxyCodeLine{01113     \mbox{\hyperlink{class_params_page_set}{ParamsPageSet}} *pageSet = \textcolor{keyword}{new} \mbox{\hyperlink{class_params_page_set}{ParamsPageSet}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01114     currentIndex           = m\_tablePageSet-\/>addWidget(pageSet);}
\DoxyCodeLine{01115     m\_tableFxIndex[name]   = currentIndex;}
\DoxyCodeLine{01116     pageSet-\/>\mbox{\hyperlink{class_params_page_set_a911bc85c606038e0ef7acc393faca103}{createControls}}(actualFx);}
\DoxyCodeLine{01117   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01118     currentIndex = it.value();}
\DoxyCodeLine{01119 }
\DoxyCodeLine{01120   assert(currentIndex >= 0);}
\DoxyCodeLine{01121 }
\DoxyCodeLine{01122   m\_tablePageSet-\/>setCurrentIndex(currentIndex);}
\DoxyCodeLine{01123 }
\DoxyCodeLine{01124   getCurrentPageSet()-\/>setScene(scene);}
\DoxyCodeLine{01125 }
\DoxyCodeLine{01126   \textcolor{keywordflow}{if} (m\_fx != currentFx) \{}
\DoxyCodeLine{01127     getCurrentPageSet()-\/>setFx(currentFx, actualFx, frame);}
\DoxyCodeLine{01128     \textcolor{keywordflow}{if} (m\_actualFx != actualFx) \{}
\DoxyCodeLine{01129       m\_actualFx = actualFx;}
\DoxyCodeLine{01130       QSize pageViewerPreferredSize =}
\DoxyCodeLine{01131           getCurrentPageSet()-\/>getPreferredSize() + QSize(2, 50);}
\DoxyCodeLine{01132       emit preferredSizeChanged(pageViewerPreferredSize);}
\DoxyCodeLine{01133     \}}
\DoxyCodeLine{01134   \}}
\DoxyCodeLine{01135 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_param_viewer_ad495a2709496caf3d3200dbcc73b49e4}\label{class_param_viewer_ad495a2709496caf3d3200dbcc73b49e4}} 
\index{ParamViewer@{ParamViewer}!setIsCameraViewMode@{setIsCameraViewMode}}
\index{setIsCameraViewMode@{setIsCameraViewMode}!ParamViewer@{ParamViewer}}
\doxysubsubsection{\texorpdfstring{setIsCameraViewMode()}{setIsCameraViewMode()}}
{\footnotesize\ttfamily void Param\+Viewer\+::set\+Is\+Camera\+View\+Mode (\begin{DoxyParamCaption}\item[{bool}]{is\+Camera\+View\+Mode }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01147                                                            \{}
\DoxyCodeLine{01148   \mbox{\hyperlink{class_params_page_set}{ParamsPageSet}} *paramsPageSet = getCurrentPageSet();}
\DoxyCodeLine{01149   \textcolor{keywordflow}{if} (!paramsPageSet) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01150   paramsPageSet-\/>setIsCameraViewMode(isCameraViewMode);}
\DoxyCodeLine{01151 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_param_viewer_aa502af4f7ac342115fda1be8ecf2cd2a}\label{class_param_viewer_aa502af4f7ac342115fda1be8ecf2cd2a}} 
\index{ParamViewer@{ParamViewer}!setPointValue@{setPointValue}}
\index{setPointValue@{setPointValue}!ParamViewer@{ParamViewer}}
\doxysubsubsection{\texorpdfstring{setPointValue()}{setPointValue()}}
{\footnotesize\ttfamily void Param\+Viewer\+::set\+Point\+Value (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01163                                                            \{}
\DoxyCodeLine{01164   \textcolor{comment}{// Search the index-\/th param among all pages}}
\DoxyCodeLine{01165   \mbox{\hyperlink{class_params_page_set}{ParamsPageSet}} *pageSet = getCurrentPageSet();}
\DoxyCodeLine{01166   \mbox{\hyperlink{class_params_page}{ParamsPage}} *page       = 0;}
\DoxyCodeLine{01167 }
\DoxyCodeLine{01168   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < pageSet-\/>getParamsPageCount(); ++i) \{}
\DoxyCodeLine{01169     page            = pageSet-\/>getParamsPage(i);}
\DoxyCodeLine{01170     \textcolor{keywordtype}{int} paramsCount = page-\/>m\_fields.count();}
\DoxyCodeLine{01171 }
\DoxyCodeLine{01172     \textcolor{keywordflow}{if} (index <= paramsCount) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01173     index -\/= paramsCount;}
\DoxyCodeLine{01174   \}}
\DoxyCodeLine{01175 }
\DoxyCodeLine{01176   \textcolor{keywordflow}{if} (page) page-\/>setPointValue(index, p);}
\DoxyCodeLine{01177 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_param_viewer_a0061b123078bb96d3e285c198f9d197b}\label{class_param_viewer_a0061b123078bb96d3e285c198f9d197b}} 
\index{ParamViewer@{ParamViewer}!setScene@{setScene}}
\index{setScene@{setScene}!ParamViewer@{ParamViewer}}
\doxysubsubsection{\texorpdfstring{setScene()}{setScene()}}
{\footnotesize\ttfamily void Param\+Viewer\+::set\+Scene (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01139                                             \{}
\DoxyCodeLine{01140   \mbox{\hyperlink{class_params_page_set}{ParamsPageSet}} *paramsPageSet = getCurrentPageSet();}
\DoxyCodeLine{01141   \textcolor{keywordflow}{if} (!paramsPageSet) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01142   paramsPageSet-\/>setScene(scene);}
\DoxyCodeLine{01143 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_param_viewer_a173c521861174da6c216c7aa1abe6193}\label{class_param_viewer_a173c521861174da6c216c7aa1abe6193}} 
\index{ParamViewer@{ParamViewer}!update@{update}}
\index{update@{update}!ParamViewer@{ParamViewer}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void Param\+Viewer\+::update (\begin{DoxyParamCaption}\item[{int}]{frame,  }\item[{bool}]{only\+Param }\end{DoxyParamCaption})}

If only\+Param is true don\textquotesingle{}t invalidate raster of associated histogram. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01155                                                   \{}
\DoxyCodeLine{01156   \mbox{\hyperlink{class_params_page_set}{ParamsPageSet}} *paramsPageSet = getCurrentPageSet();}
\DoxyCodeLine{01157   \textcolor{keywordflow}{if} (!paramsPageSet) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01158   paramsPageSet-\/>updatePage(frame, onlyParam);}
\DoxyCodeLine{01159 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/fxsettings.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/fxsettings.\+cpp\end{DoxyCompactItemize}
