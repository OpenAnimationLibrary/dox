\hypertarget{class_stroke_generator}{}\doxysection{Stroke\+Generator Class Reference}
\label{class_stroke_generator}\index{StrokeGenerator@{StrokeGenerator}}


Genera degli stroke.  




{\ttfamily \#include $<$strokegenerator.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_stroke_generator_a6baea02565de462979644cf34839cee6}{Stroke\+Generator}} ()
\begin{DoxyCompactList}\small\item\em Costruttore. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_stroke_generator_a6e00e547e0287651dd2dc2a43cd99afa}{$\sim$\+Stroke\+Generator}} ()
\begin{DoxyCompactList}\small\item\em Distruttore. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_stroke_generator_a4a78460714a37e461296d169715ba460}{clear}} ()
\begin{DoxyCompactList}\small\item\em Libera le variabili della classe. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_stroke_generator_a85461eab47ef4791610974866efb61aa}{is\+Empty}} () const
\begin{DoxyCompactList}\small\item\em Restituisce true se m\+\_\+points e\textquotesingle{} vuoto, false altrimenti. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_stroke_generator_a6b8f7f919bde3cf7695c9c58980c9ba3}{add}} (const \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \&point, double pixel\+Size2)
\begin{DoxyCompactList}\small\item\em Aggiunge un \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} al vettore m\+\_\+points. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_stroke_generator_a313f90ab03a8d3ae66e9c1c5a3dba2b4}{get\+First\+Point}} ()
\item 
void \mbox{\hyperlink{class_stroke_generator_a493d7aac12911e5618057115dde42131}{filter\+Points}} ()
\begin{DoxyCompactList}\small\item\em Filtra i punti di m\+\_\+points. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_stroke_generator_ae173025db7894a2910c3416ad6e750ff}{draw\+Last\+Fragments}} ()
\begin{DoxyCompactList}\small\item\em Visualizza l\textquotesingle{}ultimo frammento. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_stroke_generator_a36ec59cf8b18831d60760706068c9c8f}{draw\+All\+Fragments}} ()
\begin{DoxyCompactList}\small\item\em Visualizza tutti i frammenti. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_stroke_generator_a3947e23a34c1e4ca952c1ed13e9b46b3}{remove\+Middle\+Points}} ()
\item 
\mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{class_stroke_generator_a2ec49ab0cbc5653a09dcdefb04bca3bf}{get\+Modified\+Region}} () const
\begin{DoxyCompactList}\small\item\em Restituisce il rettangolo che contiene la regione modificata. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{class_stroke_generator_a199f93fa765ab30c0c8a94299cd303cf}{get\+Last\+Modified\+Region}} ()
\begin{DoxyCompactList}\small\item\em Restituisce il rettangolo che contiene l\textquotesingle{}ultima regione modificata. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ \mbox{\hyperlink{class_stroke_generator_a647b44a77222a0d8b4bc21db2fdb9f93}{make\+Stroke}} (double error, UINT only\+Last\+Points=0) const
\begin{DoxyCompactList}\small\item\em Genera uno stroke usando \mbox{\hyperlink{class_t_stroke_a4d47a76de56f5a121aeae50098d6cc8f}{TStroke\+::interpolate}}. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Genera degli stroke. 

Genera degli stroke sulla base di un vettore di punti, questo vettore e\textquotesingle{} fatto di punti che vengono inseriti. Consente di visualizzare dei frammenti fatti dai punti che acquisisce. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_stroke_generator_a6baea02565de462979644cf34839cee6}\label{class_stroke_generator_a6baea02565de462979644cf34839cee6}} 
\index{StrokeGenerator@{StrokeGenerator}!StrokeGenerator@{StrokeGenerator}}
\index{StrokeGenerator@{StrokeGenerator}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{StrokeGenerator()}{StrokeGenerator()}}
{\footnotesize\ttfamily Stroke\+Generator\+::\+Stroke\+Generator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Costruttore. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00052 : m\_paintedPointCount(0) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stroke_generator_a6e00e547e0287651dd2dc2a43cd99afa}\label{class_stroke_generator_a6e00e547e0287651dd2dc2a43cd99afa}} 
\index{StrokeGenerator@{StrokeGenerator}!````~StrokeGenerator@{$\sim$StrokeGenerator}}
\index{````~StrokeGenerator@{$\sim$StrokeGenerator}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{$\sim$StrokeGenerator()}{~StrokeGenerator()}}
{\footnotesize\ttfamily Stroke\+Generator\+::$\sim$\+Stroke\+Generator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Distruttore. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00055 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_stroke_generator_a6b8f7f919bde3cf7695c9c58980c9ba3}\label{class_stroke_generator_a6b8f7f919bde3cf7695c9c58980c9ba3}} 
\index{StrokeGenerator@{StrokeGenerator}!add@{add}}
\index{add@{add}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{add()}{add()}}
{\footnotesize\ttfamily void Stroke\+Generator\+::add (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \&}]{point,  }\item[{double}]{pixel\+Size2 }\end{DoxyParamCaption})}



Aggiunge un \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} al vettore m\+\_\+points. 

Il punto viene aggiunto se la sua distanza dal punto precedente e\textquotesingle{} maggiore di 4$\ast$pixel\+Size2


\begin{DoxyParams}{Parameters}
{\em point} & \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} da aggiungere al vettore \\
\hline
{\em pixel\+Size2} & Dimensione pixel \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00029                                                                      \{}
\DoxyCodeLine{00030   \textcolor{keywordflow}{if} (m\_points.empty()) \{}
\DoxyCodeLine{00031     \textcolor{keywordtype}{double} x = point.x, y = point.y, d = point.thick + 3;}
\DoxyCodeLine{00032     m\_points.push\_back(point);}
\DoxyCodeLine{00033     \mbox{\hyperlink{class_t_rect_t}{TRectD}} rect(x -\/ d, y -\/ d, x + d, y + d);}
\DoxyCodeLine{00034     m\_modifiedRegion     = rect;}
\DoxyCodeLine{00035     m\_lastPointRect      = rect;}
\DoxyCodeLine{00036     m\_lastModifiedRegion = rect;}
\DoxyCodeLine{00037     m\_p0 = m\_p1 = point;}
\DoxyCodeLine{00038   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00039     \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} lastPoint = m\_points.back();}
\DoxyCodeLine{00040     \textcolor{keywordflow}{if} (tdistance2(lastPoint, point) >= 4 * pixelSize2) \{}
\DoxyCodeLine{00041       m\_points.push\_back(point);}
\DoxyCodeLine{00042       \textcolor{keywordtype}{double} d = std::max(point.thick, lastPoint.thick) + 3;}
\DoxyCodeLine{00043       \mbox{\hyperlink{class_t_rect_t}{TRectD}} rect(\mbox{\hyperlink{class_t_rect_t}{TRectD}}(lastPoint, point).enlarge(d));}
\DoxyCodeLine{00044       m\_modifiedRegion += rect;}
\DoxyCodeLine{00045       m\_lastModifiedRegion += rect;}
\DoxyCodeLine{00046       m\_lastPointRect = rect;}
\DoxyCodeLine{00047     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00048       m\_points.back().thick = std::max(m\_points.back().thick, point.thick);}
\DoxyCodeLine{00049     \}}
\DoxyCodeLine{00050   \}}
\DoxyCodeLine{00051 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00727}{Raster\+Tape\+Tool\+::close\+Freehand()}}, \mbox{\hyperlink{l01355}{Selection\+Tool\+::close\+Freehand()}}, \mbox{\hyperlink{l00718}{Raster\+Tape\+Tool\+::freehand\+Drag()}}, \mbox{\hyperlink{l01346}{Selection\+Tool\+::freehand\+Drag()}}, \mbox{\hyperlink{l00707}{Raster\+Tape\+Tool\+::start\+Freehand()}}, and \mbox{\hyperlink{l01336}{Selection\+Tool\+::start\+Freehand()}}.

\mbox{\Hypertarget{class_stroke_generator_a4a78460714a37e461296d169715ba460}\label{class_stroke_generator_a4a78460714a37e461296d169715ba460}} 
\index{StrokeGenerator@{StrokeGenerator}!clear@{clear}}
\index{clear@{clear}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily void Stroke\+Generator\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Libera le variabili della classe. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00014                             \{}
\DoxyCodeLine{00015   m\_points.clear();}
\DoxyCodeLine{00016   m\_modifiedRegion = \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{00017   m\_lastPointRect.empty();}
\DoxyCodeLine{00018   m\_lastModifiedRegion.empty();}
\DoxyCodeLine{00019   m\_paintedPointCount = 0;}
\DoxyCodeLine{00020   m\_p0 = m\_p1 = \mbox{\hyperlink{class_t_point_t}{TPointD}}();}
\DoxyCodeLine{00021 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00707}{Raster\+Tape\+Tool\+::start\+Freehand()}}, and \mbox{\hyperlink{l01336}{Selection\+Tool\+::start\+Freehand()}}.

\mbox{\Hypertarget{class_stroke_generator_a36ec59cf8b18831d60760706068c9c8f}\label{class_stroke_generator_a36ec59cf8b18831d60760706068c9c8f}} 
\index{StrokeGenerator@{StrokeGenerator}!drawAllFragments@{drawAllFragments}}
\index{drawAllFragments@{drawAllFragments}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{drawAllFragments()}{drawAllFragments()}}
{\footnotesize\ttfamily void Stroke\+Generator\+::draw\+All\+Fragments (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Visualizza tutti i frammenti. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00224                                        \{}
\DoxyCodeLine{00225   \textcolor{keywordflow}{if} (m\_points.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00226 }
\DoxyCodeLine{00227   \textcolor{keywordtype}{int} n          = m\_points.size();}
\DoxyCodeLine{00228   \textcolor{keywordtype}{int} i          = 0;}
\DoxyCodeLine{00229   \textcolor{keyword}{const} \textcolor{keywordtype}{double} h = 0.01;}
\DoxyCodeLine{00230 }
\DoxyCodeLine{00231   \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} a = m\_points[0];}
\DoxyCodeLine{00232   \textcolor{keywordflow}{if} (a.thick >= h) tglDrawDisk(a, a.thick);}
\DoxyCodeLine{00233 }
\DoxyCodeLine{00234   drawFragments(1, n -\/ 1);}
\DoxyCodeLine{00235   \textcolor{comment}{/*}}
\DoxyCodeLine{00236 \textcolor{comment}{//last fragment}}
\DoxyCodeLine{00237 \textcolor{comment}{TPointD p0 = c+v;}}
\DoxyCodeLine{00238 \textcolor{comment}{TPointD p1 = c-\/v;}}
\DoxyCodeLine{00239 \textcolor{comment}{glBegin(GL\_POLYGON);}}
\DoxyCodeLine{00240 \textcolor{comment}{tglVertex(m\_p0);}}
\DoxyCodeLine{00241 \textcolor{comment}{tglVertex(m\_p1);}}
\DoxyCodeLine{00242 \textcolor{comment}{tglVertex(p1);}}
\DoxyCodeLine{00243 \textcolor{comment}{tglVertex(p0);}}
\DoxyCodeLine{00244 \textcolor{comment}{glEnd();}}
\DoxyCodeLine{00245 \textcolor{comment}{*/}}
\DoxyCodeLine{00246   a = m\_points.back();}
\DoxyCodeLine{00247   \textcolor{keywordflow}{if} (a.thick >= h) tglDrawDisk(a, a.thick);}
\DoxyCodeLine{00248 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00355}{Control\+Point\+Editor\+Tool\+::draw()}}, \mbox{\hyperlink{l00903}{Full\+Color\+Eraser\+Tool\+::draw()}}, \mbox{\hyperlink{l00452}{Raster\+Tape\+Tool\+::draw()}}, \mbox{\hyperlink{l01479}{Toonz\+Vector\+Brush\+Tool\+::draw()}}, and \mbox{\hyperlink{l00448}{Eraser\+Tool\+::draw()}}.

\mbox{\Hypertarget{class_stroke_generator_ae173025db7894a2910c3416ad6e750ff}\label{class_stroke_generator_ae173025db7894a2910c3416ad6e750ff}} 
\index{StrokeGenerator@{StrokeGenerator}!drawLastFragments@{drawLastFragments}}
\index{drawLastFragments@{drawLastFragments}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{drawLastFragments()}{drawLastFragments()}}
{\footnotesize\ttfamily void Stroke\+Generator\+::draw\+Last\+Fragments (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Visualizza l\textquotesingle{}ultimo frammento. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00205                                         \{}
\DoxyCodeLine{00206   \textcolor{keywordflow}{if} (m\_points.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00207   \textcolor{keywordtype}{int} n          = m\_points.size();}
\DoxyCodeLine{00208   \textcolor{keywordtype}{int} i          = m\_paintedPointCount;}
\DoxyCodeLine{00209   \textcolor{keyword}{const} \textcolor{keywordtype}{double} h = 0.01;}
\DoxyCodeLine{00210 }
\DoxyCodeLine{00211   \textcolor{keywordflow}{if} (i == 0) \{}
\DoxyCodeLine{00212     \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} a = m\_points[0];}
\DoxyCodeLine{00213     \textcolor{keywordflow}{if} (a.thick >= h) tglDrawDisk(a, a.thick);}
\DoxyCodeLine{00214     i++;}
\DoxyCodeLine{00215   \}}
\DoxyCodeLine{00216 }
\DoxyCodeLine{00217   drawFragments(i, n -\/ 1);}
\DoxyCodeLine{00218 }
\DoxyCodeLine{00219   m\_paintedPointCount = std::max(0, n -\/ 2);}
\DoxyCodeLine{00220 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stroke_generator_a493d7aac12911e5618057115dde42131}\label{class_stroke_generator_a493d7aac12911e5618057115dde42131}} 
\index{StrokeGenerator@{StrokeGenerator}!filterPoints@{filterPoints}}
\index{filterPoints@{filterPoints}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{filterPoints()}{filterPoints()}}
{\footnotesize\ttfamily void Stroke\+Generator\+::filter\+Points (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Filtra i punti di m\+\_\+points. 

\begin{DoxyVerb}Verifica se i primi sei e gli ultimi sei punti successivi hanno una
\end{DoxyVerb}
 variazione di thickness elevata. In caso affermativo li cancella. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00055                                    \{}
\DoxyCodeLine{00056   \textcolor{keywordflow}{if} (m\_points.size() < 10) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058   \textcolor{comment}{//  filtra m\_points iniziali: generalmente elevate variazioni di thickness}}
\DoxyCodeLine{00059   \textcolor{comment}{//  si hanno tra m\_points[0] (al massimo m\_points[1]) e i successivi)}}
\DoxyCodeLine{00060   \textcolor{keywordtype}{int} size1 = m\_points.size();}
\DoxyCodeLine{00061   \textcolor{keywordtype}{int} kMin  = 0;}
\DoxyCodeLine{00062   \textcolor{keywordtype}{int} kMax  = std::min(}
\DoxyCodeLine{00063       4,}
\DoxyCodeLine{00064       size1 -\/}
\DoxyCodeLine{00065           2);  \textcolor{comment}{//  confronta 5 m\_points iniziali con i successivi corrispondenti}}
\DoxyCodeLine{00066   \textcolor{keywordtype}{int} k = kMax;}
\DoxyCodeLine{00067   \textcolor{keywordflow}{for} (k = kMax; k >= kMin; -\/-\/k) \{}
\DoxyCodeLine{00068     \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} currPoint = m\_points[k];}
\DoxyCodeLine{00069     \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} nextPoint = m\_points[k + 1];}
\DoxyCodeLine{00070     \textcolor{keywordtype}{double} dist           = tdistance(currPoint, nextPoint);}
\DoxyCodeLine{00071     \textcolor{keywordtype}{double} deltaThick     = fabs(currPoint.thick -\/ nextPoint.thick);}
\DoxyCodeLine{00072     \textcolor{keywordflow}{if} (deltaThick > 0.6 * dist)  \textcolor{comment}{//  deltaThick <= dist (condizione}}
\DoxyCodeLine{00073                                   \textcolor{comment}{//  approssimata di non-\/autocontenimento per}}
\DoxyCodeLine{00074                                   \textcolor{comment}{//  TTQ)}}
\DoxyCodeLine{00075     \{}
\DoxyCodeLine{00076       vector<TThickPoint>::iterator it1 = m\_points.begin();}
\DoxyCodeLine{00077       vector<TThickPoint>::iterator it2 = it1 + k + 1;}
\DoxyCodeLine{00078       m\_points.erase(it1, it2);  \textcolor{comment}{//  cancella da m\_points[0] a m\_points[k]}}
\DoxyCodeLine{00079       assert((\textcolor{keywordtype}{int})m\_points.size() == size1 -\/ k -\/ 1);}
\DoxyCodeLine{00080       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00081     \}}
\DoxyCodeLine{00082   \}}
\DoxyCodeLine{00083   \textcolor{comment}{//  filtra m\_points finali: generalmente elevate variazioni di thickness}}
\DoxyCodeLine{00084   \textcolor{comment}{//  si hanno tra m\_points[size -\/ 1] (al massimo m\_points[size -\/ 2]) e i}}
\DoxyCodeLine{00085   \textcolor{comment}{//  predecessori)}}
\DoxyCodeLine{00086   \textcolor{keywordtype}{int} size2 = m\_points.size();}
\DoxyCodeLine{00087   kMax      = size2 -\/ 1;}
\DoxyCodeLine{00088   kMin      = std::max(}
\DoxyCodeLine{00089       kMax -\/ 4,}
\DoxyCodeLine{00090       1);  \textcolor{comment}{//  confronta 5 m\_points finali con i predecessori corrispondenti}}
\DoxyCodeLine{00091   k = kMin;}
\DoxyCodeLine{00092   \textcolor{keywordflow}{for} (k = kMin; k <= kMax; ++k) \{}
\DoxyCodeLine{00093     \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} currPoint = m\_points[k];}
\DoxyCodeLine{00094     \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} prevPoint = m\_points[k -\/ 1];}
\DoxyCodeLine{00095     \textcolor{keywordtype}{double} dist           = tdistance(currPoint, prevPoint);}
\DoxyCodeLine{00096     \textcolor{keywordtype}{double} deltaThick     = fabs(currPoint.thick -\/ prevPoint.thick);}
\DoxyCodeLine{00097     \textcolor{keywordflow}{if} (deltaThick > 0.6 * dist)  \textcolor{comment}{//  deltaThick <= dist (condizione}}
\DoxyCodeLine{00098                                   \textcolor{comment}{//  approssimata di non-\/autocontenimento per}}
\DoxyCodeLine{00099                                   \textcolor{comment}{//  TTQ)}}
\DoxyCodeLine{00100     \{}
\DoxyCodeLine{00101       \textcolor{keywordtype}{int} kTmp = k;}
\DoxyCodeLine{00102       \textcolor{keywordflow}{while} (k <= kMax)  \textcolor{comment}{//  cancella da m\_points[k] a m\_points[size2 -\/ 1]}}
\DoxyCodeLine{00103       \{}
\DoxyCodeLine{00104         m\_points.pop\_back();}
\DoxyCodeLine{00105         ++k;}
\DoxyCodeLine{00106       \}}
\DoxyCodeLine{00107       assert((\textcolor{keywordtype}{int})m\_points.size() == size2 -\/ (kMax -\/ kTmp + 1));}
\DoxyCodeLine{00108       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00109     \}}
\DoxyCodeLine{00110   \}}
\DoxyCodeLine{00111 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00727}{Raster\+Tape\+Tool\+::close\+Freehand()}}, and \mbox{\hyperlink{l01355}{Selection\+Tool\+::close\+Freehand()}}.

\mbox{\Hypertarget{class_stroke_generator_a313f90ab03a8d3ae66e9c1c5a3dba2b4}\label{class_stroke_generator_a313f90ab03a8d3ae66e9c1c5a3dba2b4}} 
\index{StrokeGenerator@{StrokeGenerator}!getFirstPoint@{getFirstPoint}}
\index{getFirstPoint@{getFirstPoint}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{getFirstPoint()}{getFirstPoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} Stroke\+Generator\+::get\+First\+Point (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00273 \{ \textcolor{keywordflow}{return} m\_points[0]; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stroke_generator_a199f93fa765ab30c0c8a94299cd303cf}\label{class_stroke_generator_a199f93fa765ab30c0c8a94299cd303cf}} 
\index{StrokeGenerator@{StrokeGenerator}!getLastModifiedRegion@{getLastModifiedRegion}}
\index{getLastModifiedRegion@{getLastModifiedRegion}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{getLastModifiedRegion()}{getLastModifiedRegion()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRectD}} Stroke\+Generator\+::get\+Last\+Modified\+Region (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Restituisce il rettangolo che contiene l\textquotesingle{}ultima regione modificata. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00265                                               \{}
\DoxyCodeLine{00266   \mbox{\hyperlink{class_t_rect_t}{TRectD}} ret           = m\_lastModifiedRegion;}
\DoxyCodeLine{00267   m\_lastModifiedRegion = m\_lastPointRect;}
\DoxyCodeLine{00268   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{00269 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stroke_generator_a2ec49ab0cbc5653a09dcdefb04bca3bf}\label{class_stroke_generator_a2ec49ab0cbc5653a09dcdefb04bca3bf}} 
\index{StrokeGenerator@{StrokeGenerator}!getModifiedRegion@{getModifiedRegion}}
\index{getModifiedRegion@{getModifiedRegion}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{getModifiedRegion()}{getModifiedRegion()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRectD}} Stroke\+Generator\+::get\+Modified\+Region (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Restituisce il rettangolo che contiene la regione modificata. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00252 \{ \textcolor{keywordflow}{return} m\_modifiedRegion; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stroke_generator_a85461eab47ef4791610974866efb61aa}\label{class_stroke_generator_a85461eab47ef4791610974866efb61aa}} 
\index{StrokeGenerator@{StrokeGenerator}!isEmpty@{isEmpty}}
\index{isEmpty@{isEmpty}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{isEmpty()}{isEmpty()}}
{\footnotesize\ttfamily bool Stroke\+Generator\+::is\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Restituisce true se m\+\_\+points e\textquotesingle{} vuoto, false altrimenti. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00025 \{ \textcolor{keywordflow}{return} m\_points.empty(); \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00727}{Raster\+Tape\+Tool\+::close\+Freehand()}}, \mbox{\hyperlink{l01355}{Selection\+Tool\+::close\+Freehand()}}, \mbox{\hyperlink{l00355}{Control\+Point\+Editor\+Tool\+::draw()}}, \mbox{\hyperlink{l00903}{Full\+Color\+Eraser\+Tool\+::draw()}}, \mbox{\hyperlink{l00452}{Raster\+Tape\+Tool\+::draw()}}, and \mbox{\hyperlink{l00448}{Eraser\+Tool\+::draw()}}.

\mbox{\Hypertarget{class_stroke_generator_a647b44a77222a0d8b4bc21db2fdb9f93}\label{class_stroke_generator_a647b44a77222a0d8b4bc21db2fdb9f93}} 
\index{StrokeGenerator@{StrokeGenerator}!makeStroke@{makeStroke}}
\index{makeStroke@{makeStroke}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{makeStroke()}{makeStroke()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ Stroke\+Generator\+::make\+Stroke (\begin{DoxyParamCaption}\item[{double}]{error,  }\item[{UINT}]{only\+Last\+Points = {\ttfamily 0} }\end{DoxyParamCaption}) const}



Genera uno stroke usando \mbox{\hyperlink{class_t_stroke_a4d47a76de56f5a121aeae50098d6cc8f}{TStroke\+::interpolate}}. 

\begin{DoxyVerb}Se onlyLastPoints e' uguale a 0 genera lo stroke sulla base di m_points.
\end{DoxyVerb}
 Se only\+Last\+Points e\textquotesingle{} diverso da zero genera lo stroke sulla base degli ultimi only\+Last\+Point elementi di m\+\_\+points \begin{DoxyVerb}      \param error          Errore che viene passato a TStroke::interpolate
      \param onlyLastPoints Numero elementi sulla base dei quali creare la
\end{DoxyVerb}
 stroke 
\begin{DoxyCode}{0}
\DoxyCodeLine{00277                                                                             \{}
\DoxyCodeLine{00278   \textcolor{keywordflow}{if} (onlyLastPoints == 0 || onlyLastPoints > m\_points.size())}
\DoxyCodeLine{00279     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a4d47a76de56f5a121aeae50098d6cc8f}{TStroke::interpolate}}(m\_points, error);}
\DoxyCodeLine{00280 }
\DoxyCodeLine{00281   vector<TThickPoint> lastPoints(onlyLastPoints);}
\DoxyCodeLine{00282   vector<TThickPoint>::const\_iterator first =}
\DoxyCodeLine{00283       m\_points.begin() + (m\_points.size() -\/ onlyLastPoints);}
\DoxyCodeLine{00284   \mbox{\hyperlink{namespace_t_rop_a229eb7fd85c23c325ea4ba55478d5712}{copy}}(first, m\_points.end(), lastPoints.begin());}
\DoxyCodeLine{00285 }
\DoxyCodeLine{00286   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a4d47a76de56f5a121aeae50098d6cc8f}{TStroke::interpolate}}(lastPoints, error);}
\DoxyCodeLine{00287 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l03720}{TStroke\+::interpolate()}}.



Referenced by \mbox{\hyperlink{l00727}{Raster\+Tape\+Tool\+::close\+Freehand()}}, and \mbox{\hyperlink{l01355}{Selection\+Tool\+::close\+Freehand()}}.

\mbox{\Hypertarget{class_stroke_generator_a3947e23a34c1e4ca952c1ed13e9b46b3}\label{class_stroke_generator_a3947e23a34c1e4ca952c1ed13e9b46b3}} 
\index{StrokeGenerator@{StrokeGenerator}!removeMiddlePoints@{removeMiddlePoints}}
\index{removeMiddlePoints@{removeMiddlePoints}!StrokeGenerator@{StrokeGenerator}}
\doxysubsubsection{\texorpdfstring{removeMiddlePoints()}{removeMiddlePoints()}}
{\footnotesize\ttfamily void Stroke\+Generator\+::remove\+Middle\+Points (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00256                                          \{}
\DoxyCodeLine{00257   \textcolor{keywordtype}{int} size = m\_points.size();}
\DoxyCodeLine{00258   \textcolor{keywordflow}{if} (size > 2) \{}
\DoxyCodeLine{00259     m\_points.erase(m\_points.begin() + 1, m\_points.begin() + (size -\/ 1));}
\DoxyCodeLine{00260   \}}
\DoxyCodeLine{00261 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/strokegenerator.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/strokegenerator.\+cpp\end{DoxyCompactItemize}
