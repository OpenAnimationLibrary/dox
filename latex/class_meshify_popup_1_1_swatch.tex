\hypertarget{class_meshify_popup_1_1_swatch}{}\doxysection{Meshify\+Popup\+::Swatch Class Reference}
\label{class_meshify_popup_1_1_swatch}\index{MeshifyPopup::Swatch@{MeshifyPopup::Swatch}}
Inheritance diagram for Meshify\+Popup\+::Swatch\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_meshify_popup_1_1_swatch}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_meshify_popup_1_1_swatch_a6bf5f3c2539fe01f64b13af12c3c68b2}{Swatch}} (QWidget $\ast$parent=0)
\item 
void \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a1729a686e781992db68a5c815b791166}{clear}} ()
\item 
void \mbox{\hyperlink{class_meshify_popup_1_1_swatch_ae5c68e646a95c7e426640ec61dd71608}{paint\+GL}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a24582c453484e342f2b027b2512c8ce8}{m\+\_\+img}}
\begin{DoxyCompactList}\small\item\em The eventual image to be meshified. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TXsheetP}} \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a83fe6c416689b5dec52bf92621bfcb6b}{m\+\_\+xsh}}
\begin{DoxyCompactList}\small\item\em The eventual sub-\/xsheet to be meshified... \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_meshify_popup_1_1_swatch_aa66f9fa5ba6460dc02370c3b090a7d65}{m\+\_\+row}}
\begin{DoxyCompactList}\small\item\em ... at this row (frame) \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_mesh_image_p}{TMesh\+ImageP}} \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a4e2fd8d37e5814b6d6c39c97b082646c}{m\+\_\+mesh\+Img}}
\begin{DoxyCompactList}\small\item\em The mesh image preview. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_meshify_popup_1_1_swatch_a6bf5f3c2539fe01f64b13af12c3c68b2}\label{class_meshify_popup_1_1_swatch_a6bf5f3c2539fe01f64b13af12c3c68b2}} 
\index{MeshifyPopup::Swatch@{MeshifyPopup::Swatch}!Swatch@{Swatch}}
\index{Swatch@{Swatch}!MeshifyPopup::Swatch@{MeshifyPopup::Swatch}}
\doxysubsubsection{\texorpdfstring{Swatch()}{Swatch()}}
{\footnotesize\ttfamily Meshify\+Popup\+::\+Swatch\+::\+Swatch (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00510 : \mbox{\hyperlink{class_plane_viewer}{PlaneViewer}}(parent), \mbox{\hyperlink{class_meshify_popup_1_1_swatch_aa66f9fa5ba6460dc02370c3b090a7d65}{m\_row}}(-\/1) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_meshify_popup_1_1_swatch_a1729a686e781992db68a5c815b791166}\label{class_meshify_popup_1_1_swatch_a1729a686e781992db68a5c815b791166}} 
\index{MeshifyPopup::Swatch@{MeshifyPopup::Swatch}!clear@{clear}}
\index{clear@{clear}!MeshifyPopup::Swatch@{MeshifyPopup::Swatch}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily void Meshify\+Popup\+::\+Swatch\+::clear (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00512                \{}
\DoxyCodeLine{00513     \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a24582c453484e342f2b027b2512c8ce8}{m\_img}} = \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}}(), \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a83fe6c416689b5dec52bf92621bfcb6b}{m\_xsh}} = \mbox{\hyperlink{class_t_smart_pointer_t}{TXsheetP}}(), \mbox{\hyperlink{class_meshify_popup_1_1_swatch_aa66f9fa5ba6460dc02370c3b090a7d65}{m\_row}} = -\/1,}
\DoxyCodeLine{00514     \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a4e2fd8d37e5814b6d6c39c97b082646c}{m\_meshImg}} = \mbox{\hyperlink{class_t_mesh_image_p}{TMeshImageP}}();}
\DoxyCodeLine{00515   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_meshify_popup_1_1_swatch_ae5c68e646a95c7e426640ec61dd71608}\label{class_meshify_popup_1_1_swatch_ae5c68e646a95c7e426640ec61dd71608}} 
\index{MeshifyPopup::Swatch@{MeshifyPopup::Swatch}!paintGL@{paintGL}}
\index{paintGL@{paintGL}!MeshifyPopup::Swatch@{MeshifyPopup::Swatch}}
\doxysubsubsection{\texorpdfstring{paintGL()}{paintGL()}}
{\footnotesize\ttfamily void Meshify\+Popup\+::\+Swatch\+::paint\+GL (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00517                           \{}
\DoxyCodeLine{00518     drawBackground();}
\DoxyCodeLine{00519 }
\DoxyCodeLine{00520     \textcolor{comment}{// Draw original}}
\DoxyCodeLine{00521     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_meshify_popup_1_1_swatch_a24582c453484e342f2b027b2512c8ce8}{m\_img}}) \{}
\DoxyCodeLine{00522       pushGLWorldCoordinates();}
\DoxyCodeLine{00523 }
\DoxyCodeLine{00524       glEnable(GL\_BLEND);}
\DoxyCodeLine{00525       glBlendFunc(GL\_ONE, GL\_ONE\_MINUS\_SRC\_ALPHA);}
\DoxyCodeLine{00526 }
\DoxyCodeLine{00527       \textcolor{comment}{// Note GL\_ONE instead of GL\_SRC\_ALPHA: it's needed since the input}}
\DoxyCodeLine{00528       \textcolor{comment}{// image is supposedly premultiplied -\/ and it works because the}}
\DoxyCodeLine{00529       \textcolor{comment}{// viewer's background is opaque.}}
\DoxyCodeLine{00530       \textcolor{comment}{// See tpixelutils.h's overPixT function for comparison.}}
\DoxyCodeLine{00531 }
\DoxyCodeLine{00532       draw(\mbox{\hyperlink{class_meshify_popup_1_1_swatch_a24582c453484e342f2b027b2512c8ce8}{m\_img}});}
\DoxyCodeLine{00533 }
\DoxyCodeLine{00534       glDisable(GL\_BLEND);}
\DoxyCodeLine{00535 }
\DoxyCodeLine{00536       popGLCoordinates();}
\DoxyCodeLine{00537     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_meshify_popup_1_1_swatch_a83fe6c416689b5dec52bf92621bfcb6b}{m\_xsh}}) \{}
\DoxyCodeLine{00538       \textcolor{comment}{// Build reference change affines}}
\DoxyCodeLine{00539 }
\DoxyCodeLine{00540       \textcolor{comment}{// EXPLANATION: RasterPainter receives an affine specifying the reference}}
\DoxyCodeLine{00541       \textcolor{comment}{// change}}
\DoxyCodeLine{00542       \textcolor{comment}{// from world coordinates to the OpenGL viewport, where (0,0) corresponds}}
\DoxyCodeLine{00543       \textcolor{comment}{// to the}}
\DoxyCodeLine{00544       \textcolor{comment}{// viewport center.}}
\DoxyCodeLine{00545 }
\DoxyCodeLine{00546       \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&cameraAff = \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a83fe6c416689b5dec52bf92621bfcb6b}{m\_xsh}}-\/>\mbox{\hyperlink{class_t_xsheet_abd766f516cac9898a2a952463618a9fe}{getPlacement}}(}
\DoxyCodeLine{00547           \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a83fe6c416689b5dec52bf92621bfcb6b}{m\_xsh}}-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>\mbox{\hyperlink{class_t_stage_object_tree_a7d63ae5d60c3a3aacf5da58c108ac167}{getCurrentCameraId}}(), \mbox{\hyperlink{class_meshify_popup_1_1_swatch_aa66f9fa5ba6460dc02370c3b090a7d65}{m\_row}});}
\DoxyCodeLine{00548 }
\DoxyCodeLine{00549       \mbox{\hyperlink{class_t_translation}{TTranslation}} centeredWidgetToWidgetAff(0.5 * width(), 0.5 * height());}
\DoxyCodeLine{00550       \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&worldToCenteredWigetAff =}
\DoxyCodeLine{00551           centeredWidgetToWidgetAff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}() * viewAff() * cameraAff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}();}
\DoxyCodeLine{00552 }
\DoxyCodeLine{00553       glPushMatrix();}
\DoxyCodeLine{00554       tglMultMatrix(centeredWidgetToWidgetAff);}
\DoxyCodeLine{00555 }
\DoxyCodeLine{00556       assert(\mbox{\hyperlink{class_meshify_popup_1_1_swatch_aa66f9fa5ba6460dc02370c3b090a7d65}{m\_row}} >= 0);}
\DoxyCodeLine{00557 }
\DoxyCodeLine{00558       \mbox{\hyperlink{class_image_painter_1_1_visual_settings}{ImagePainter::VisualSettings}} vs;}
\DoxyCodeLine{00559 }
\DoxyCodeLine{00560       \mbox{\hyperlink{class_t_dimension_t}{TDimension}} viewerSize(width(), height());}
\DoxyCodeLine{00561       \mbox{\hyperlink{class_stage_1_1_raster_painter}{Stage::RasterPainter}} painter(viewerSize, worldToCenteredWigetAff,}
\DoxyCodeLine{00562                                    \mbox{\hyperlink{class_t_rect_t}{TRect}}(viewerSize), vs, \textcolor{keyword}{false});}
\DoxyCodeLine{00563 }
\DoxyCodeLine{00564       \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{00565       \mbox{\hyperlink{namespace_stage_a28ab15860508cccd59a31483a9b8afa1}{Stage::visit}}(painter, scene, \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a83fe6c416689b5dec52bf92621bfcb6b}{m\_xsh}}.getPointer(), \mbox{\hyperlink{class_meshify_popup_1_1_swatch_aa66f9fa5ba6460dc02370c3b090a7d65}{m\_row}});}
\DoxyCodeLine{00566 }
\DoxyCodeLine{00567       painter.flushRasterImages();}
\DoxyCodeLine{00568       glFlush();}
\DoxyCodeLine{00569 }
\DoxyCodeLine{00570       glPopMatrix();}
\DoxyCodeLine{00571     \}}
\DoxyCodeLine{00572 }
\DoxyCodeLine{00573     \textcolor{comment}{// Draw mesh preview}}
\DoxyCodeLine{00574     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_meshify_popup_1_1_swatch_a4e2fd8d37e5814b6d6c39c97b082646c}{m\_meshImg}}) \{}
\DoxyCodeLine{00575       glEnable(GL\_BLEND);}
\DoxyCodeLine{00576       glEnable(GL\_LINE\_SMOOTH);}
\DoxyCodeLine{00577 }
\DoxyCodeLine{00578       glBlendFunc(GL\_SRC\_ALPHA, GL\_ONE\_MINUS\_SRC\_ALPHA);}
\DoxyCodeLine{00579 }
\DoxyCodeLine{00580       \textcolor{comment}{// Retrieve mesh dpi}}
\DoxyCodeLine{00581       \mbox{\hyperlink{class_t_point_t}{TPointD}} meshDpi;}
\DoxyCodeLine{00582       \mbox{\hyperlink{class_meshify_popup_1_1_swatch_a4e2fd8d37e5814b6d6c39c97b082646c}{m\_meshImg}}-\/>getDpi(meshDpi.x, meshDpi.y);}
\DoxyCodeLine{00583 }
\DoxyCodeLine{00584       \textcolor{comment}{// Push mesh-\/to-\/world coordinates change}}
\DoxyCodeLine{00585       pushGLWorldCoordinates();}
\DoxyCodeLine{00586       glScaled(\mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}} / meshDpi.x, \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}} / meshDpi.y, 1.0);}
\DoxyCodeLine{00587 }
\DoxyCodeLine{00588       glColor4f(0.0, 1.0, 0.0, 0.7);  \textcolor{comment}{// Translucent green}}
\DoxyCodeLine{00589       tglDrawEdges(*\mbox{\hyperlink{class_meshify_popup_1_1_swatch_a4e2fd8d37e5814b6d6c39c97b082646c}{m\_meshImg}});}
\DoxyCodeLine{00590 }
\DoxyCodeLine{00591       popGLCoordinates();}
\DoxyCodeLine{00592 }
\DoxyCodeLine{00593       glDisable(GL\_LINE\_SMOOTH);}
\DoxyCodeLine{00594       glDisable(GL\_BLEND);}
\DoxyCodeLine{00595     \}}
\DoxyCodeLine{00596   \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_meshify_popup_1_1_swatch_a24582c453484e342f2b027b2512c8ce8}\label{class_meshify_popup_1_1_swatch_a24582c453484e342f2b027b2512c8ce8}} 
\index{MeshifyPopup::Swatch@{MeshifyPopup::Swatch}!m\_img@{m\_img}}
\index{m\_img@{m\_img}!MeshifyPopup::Swatch@{MeshifyPopup::Swatch}}
\doxysubsubsection{\texorpdfstring{m\_img}{m\_img}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} Meshify\+Popup\+::\+Swatch\+::m\+\_\+img}



The eventual image to be meshified. 

\mbox{\Hypertarget{class_meshify_popup_1_1_swatch_a4e2fd8d37e5814b6d6c39c97b082646c}\label{class_meshify_popup_1_1_swatch_a4e2fd8d37e5814b6d6c39c97b082646c}} 
\index{MeshifyPopup::Swatch@{MeshifyPopup::Swatch}!m\_meshImg@{m\_meshImg}}
\index{m\_meshImg@{m\_meshImg}!MeshifyPopup::Swatch@{MeshifyPopup::Swatch}}
\doxysubsubsection{\texorpdfstring{m\_meshImg}{m\_meshImg}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_mesh_image_p}{TMesh\+ImageP}} Meshify\+Popup\+::\+Swatch\+::m\+\_\+mesh\+Img}



The mesh image preview. 

\mbox{\Hypertarget{class_meshify_popup_1_1_swatch_aa66f9fa5ba6460dc02370c3b090a7d65}\label{class_meshify_popup_1_1_swatch_aa66f9fa5ba6460dc02370c3b090a7d65}} 
\index{MeshifyPopup::Swatch@{MeshifyPopup::Swatch}!m\_row@{m\_row}}
\index{m\_row@{m\_row}!MeshifyPopup::Swatch@{MeshifyPopup::Swatch}}
\doxysubsubsection{\texorpdfstring{m\_row}{m\_row}}
{\footnotesize\ttfamily int Meshify\+Popup\+::\+Swatch\+::m\+\_\+row}



... at this row (frame) 

\mbox{\Hypertarget{class_meshify_popup_1_1_swatch_a83fe6c416689b5dec52bf92621bfcb6b}\label{class_meshify_popup_1_1_swatch_a83fe6c416689b5dec52bf92621bfcb6b}} 
\index{MeshifyPopup::Swatch@{MeshifyPopup::Swatch}!m\_xsh@{m\_xsh}}
\index{m\_xsh@{m\_xsh}!MeshifyPopup::Swatch@{MeshifyPopup::Swatch}}
\doxysubsubsection{\texorpdfstring{m\_xsh}{m\_xsh}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TXsheetP}} Meshify\+Popup\+::\+Swatch\+::m\+\_\+xsh}



The eventual sub-\/xsheet to be meshified... 



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/meshifypopup.\+cpp\end{DoxyCompactItemize}
