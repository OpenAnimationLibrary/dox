\hypertarget{class_t_thread_1_1_runnable}{}\doxysection{TThread\+::Runnable Class Reference}
\label{class_t_thread_1_1_runnable}\index{TThread::Runnable@{TThread::Runnable}}


{\ttfamily \#include $<$tthread.\+h$>$}

Inheritance diagram for TThread\+::Runnable\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=12.000000cm]{class_t_thread_1_1_runnable}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}{on\+Started}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}} sender)
\item 
virtual void \mbox{\hyperlink{class_t_thread_1_1_runnable_ae08796496a74b40c4e1940e386f7926f}{on\+Finished}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}} sender)
\begin{DoxyCompactList}\small\item\em The analogous of \mbox{\hyperlink{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}{on\+Started()}} for the \mbox{\hyperlink{class_t_thread_1_1_runnable_a77da4aa600bdb892b55312efcd6e3a21}{finished()}} signal. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_t_thread_1_1_runnable_a1a6a991a0e5d2c1fe1885f43928c50ed}{on\+Exception}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}} sender)
\begin{DoxyCompactList}\small\item\em The analogous of \mbox{\hyperlink{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}{on\+Started()}} for the \mbox{\hyperlink{class_t_thread_1_1_runnable_a9dd092bdcdc53e1ed45851562417e135}{exception()}} signal. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_t_thread_1_1_runnable_adec8792febe8d01c9fddf868a4605f65}{on\+Canceled}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}} sender)
\begin{DoxyCompactList}\small\item\em The analogous of \mbox{\hyperlink{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}{on\+Started()}} for the \mbox{\hyperlink{class_t_thread_1_1_runnable_a87a003e7e55636146017bd05df73531a}{canceled()}} signal. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{class_t_thread_1_1_runnable_a734635ad9bf10ec12afcc6f305af8c55}{on\+Terminated}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}} sender)
\begin{DoxyCompactList}\small\item\em The analogous of \mbox{\hyperlink{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}{on\+Started()}} for the \mbox{\hyperlink{class_t_thread_1_1_runnable_afda69c2f2eb6df8d30d7668a4cdd60da}{terminated()}} signal. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_t_thread_1_1_runnable_a4603628ddbc41e9e73e027e8f817bff1}{started}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}} sender)
\item 
void \mbox{\hyperlink{class_t_thread_1_1_runnable_a77da4aa600bdb892b55312efcd6e3a21}{finished}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}} sender)
\item 
void \mbox{\hyperlink{class_t_thread_1_1_runnable_a9dd092bdcdc53e1ed45851562417e135}{exception}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}} sender)
\item 
void \mbox{\hyperlink{class_t_thread_1_1_runnable_a87a003e7e55636146017bd05df73531a}{canceled}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}} sender)
\item 
void \mbox{\hyperlink{class_t_thread_1_1_runnable_afda69c2f2eb6df8d30d7668a4cdd60da}{terminated}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}} sender)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}{run}} ()=0
\begin{DoxyCompactList}\small\item\em The central code of the task that is executed by a worker thread. \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{class_t_thread_1_1_runnable_a9c08dc36ed7b4c9e35809ea696c91e95}{task\+Load}} ()
\item 
virtual int \mbox{\hyperlink{class_t_thread_1_1_runnable_a7e52533850da5433f3075d3d032182c1}{scheduling\+Priority}} ()
\item 
virtual QThread\+::\+Priority \mbox{\hyperlink{class_t_thread_1_1_runnable_a7266725bb29e0ba78a4d3ddb728a5aac}{running\+Priority}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_t_thread_1_1_runnable_a763b2f90bc53f92d680a635fe28e858e}{Executor}}
\item 
class \mbox{\hyperlink{class_t_thread_1_1_runnable_af022abc71323b07be5460515acab8737}{Executor\+Imp}}
\item 
class \mbox{\hyperlink{class_t_thread_1_1_runnable_a9de4a9533dff2ecc0919852d4c05a67b}{Worker}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{class_t_thread_1_1_runnable}{Runnable}} class is the abstract model for user-\/defined tasks which can be scheduled for execution into separate application threads.

A user must first implement the \mbox{\hyperlink{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}{run()}} method to provide a task with the very execution code. \mbox{\hyperlink{class_t_thread_1_1_worker}{Worker}} threads created internally by the task manager will take ownership of the task and make it \mbox{\hyperlink{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}{run()}} at the most appropriate time, depending on the task load, insertion time and its scheduling priority. ~\newline
 ~\newline
 The scheduling priority of a task can be set by reimplementing the {\bfseries{\mbox{\hyperlink{class_t_thread_1_1_runnable_a7e52533850da5433f3075d3d032182c1}{scheduling\+Priority()}}}} method. Tasks whose scheduling priority is higher are always started before compared to the others added by the same executor. ~\newline
 ~\newline
 The hosting thread\textquotesingle{}s running priority may also be set reimplementing the \mbox{\hyperlink{class_t_thread_1_1_runnable_a7266725bb29e0ba78a4d3ddb728a5aac}{running\+Priority()}} method; see QThread class documentation in Qt manual. ~\newline
 ~\newline
 A task\textquotesingle{}s load is an important property that should be reimplemented in all resource-\/consuming tasks. It enables the user to declare the approximate CPU load produced by a task, allowing the task manager to effectively calculate the most appropriate moment to run it.

\begin{DoxyWarning}{Warning}
~\newline
 All built-\/in signals about the \mbox{\hyperlink{class_t_thread_1_1_runnable}{Runnable}} class are emitted in a mutex-\/protected environment in order to make sure that signal emission is consistent with the task status -\/ in other words, so that {\itshape queued} controller-\/emitted \mbox{\hyperlink{class_t_thread_1_1_runnable_a87a003e7e55636146017bd05df73531a}{canceled()}} and \mbox{\hyperlink{class_t_thread_1_1_runnable_afda69c2f2eb6df8d30d7668a4cdd60da}{terminated()}} signals are not delivered {\itshape before} \mbox{\hyperlink{class_t_thread_1_1_runnable_a4603628ddbc41e9e73e027e8f817bff1}{started()}} or {\itshape after} \mbox{\hyperlink{class_t_thread_1_1_runnable_a77da4aa600bdb892b55312efcd6e3a21}{finished()}} and \mbox{\hyperlink{class_t_thread_1_1_runnable_a9dd092bdcdc53e1ed45851562417e135}{exception()}} worker-\/emitted signals.

Thus, setting up blocking connections or blocking direct slots is {\bfseries{not}} {\bfseries{supported}} and will typically result in deadlocks; furthermore, the same also applies to slot calls to the \mbox{\hyperlink{class_t_thread_1_1_executor}{Executor}} API, which would have the aforementioned mutex to be locked again.

In case the above blocking strategies are mandatory, the user should add custom signals to be emitted inside the mutex-\/free \mbox{\hyperlink{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}{run()}} block, just before or after the actual code to be executed, like this\+:
\end{DoxyWarning}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void} MyTask::run()}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keywordflow}{try}}
\DoxyCodeLine{  \{}
\DoxyCodeLine{    emit myStarted(\textcolor{keyword}{this});}
\DoxyCodeLine{    theRunCode();}
\DoxyCodeLine{    emit myFinished(\textcolor{keyword}{this});}
\DoxyCodeLine{  \}}
\DoxyCodeLine{  \textcolor{keywordflow}{catch}(...)}
\DoxyCodeLine{  \{}
\DoxyCodeLine{    emit myException(\textcolor{keyword}{this});}
\DoxyCodeLine{    \textcolor{keywordflow}{throw};}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{  ..}
\DoxyCodeLine{  MyTask* myTask = \textcolor{keyword}{new} MyTask;}
\DoxyCodeLine{  connect(myTask, SIGNAL(myStarted(\mbox{\hyperlink{class_t_smart_pointer_t}{TThread::RunnableP}})), myTask,}
\DoxyCodeLine{SLOT(\mbox{\hyperlink{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}{onStarted}}(\mbox{\hyperlink{class_t_smart_pointer_t}{TThread::RunnableP}})),}
\DoxyCodeLine{    Qt::BlockingQueuedConnection)   \textcolor{comment}{//theRunCode() waits for onStarted() to}}
\DoxyCodeLine{complete}
\DoxyCodeLine{  ..}

\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_thread_1_1_executor}{Executor}} class. 
\end{DoxySeeAlso}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_a19af0a2e2b8f986c51196b9c4b2340fb}\label{class_t_thread_1_1_runnable_a19af0a2e2b8f986c51196b9c4b2340fb}} 
\index{TThread::Runnable@{TThread::Runnable}!Runnable@{Runnable}}
\index{Runnable@{Runnable}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{Runnable()}{Runnable()}}
{\footnotesize\ttfamily Runnable\+::\+Runnable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00335 : \mbox{\hyperlink{class_t_smart_object}{TSmartObject}}(m\_classCode), m\_id(0) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_a3bf7483afb8d40ec8dbec57efb64f0c2}\label{class_t_thread_1_1_runnable_a3bf7483afb8d40ec8dbec57efb64f0c2}} 
\index{TThread::Runnable@{TThread::Runnable}!````~Runnable@{$\sim$Runnable}}
\index{````~Runnable@{$\sim$Runnable}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{$\sim$Runnable()}{~Runnable()}}
{\footnotesize\ttfamily Runnable\+::$\sim$\+Runnable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00339                     \{}
\DoxyCodeLine{00340   \textcolor{keywordflow}{if} (m\_id) m\_id-\/>release();  \textcolor{comment}{// see Executor::addTask()}}
\DoxyCodeLine{00341 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_a87a003e7e55636146017bd05df73531a}\label{class_t_thread_1_1_runnable_a87a003e7e55636146017bd05df73531a}} 
\index{TThread::Runnable@{TThread::Runnable}!canceled@{canceled}}
\index{canceled@{canceled}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{canceled}{canceled}}
{\footnotesize\ttfamily void Runnable\+::canceled (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}}}]{sender }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [signal]}}

The {\bfseries{canceled}} signal is emitted from the controller thread whenever a task which is currently under the task manager\textquotesingle{}s control is canceled by the user (the signal is emitted from the thread invoking the cancel). Observe that tasks under execution are not stopped by the task manager when they are canceled, but the signal is emitted anyway -\/ helping the user to stop the actual execution of the \mbox{\hyperlink{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}{run()}} code in advance.

\begin{DoxySeeAlso}{See also}
{\bfseries{\mbox{\hyperlink{class_t_thread_1_1_executor_a6aabf03f90569a0fceb86f5a3d054c9b}{Executor\+::remove\+Task}}}} and {\bfseries{\mbox{\hyperlink{class_t_thread_1_1_executor_a3ebba69410a233ff1e5774d7e4d1246f}{Executor\+::cancel\+All}}}} methods. 
\end{DoxySeeAlso}


Referenced by \mbox{\hyperlink{l00860}{TThread\+::\+Executor\+::cancel\+All()}}, \mbox{\hyperlink{l00831}{TThread\+::\+Executor\+::remove\+Task()}}, and \mbox{\hyperlink{l00725}{TThread\+::\+Executor\+::shutdown()}}.

\mbox{\Hypertarget{class_t_thread_1_1_runnable_a9dd092bdcdc53e1ed45851562417e135}\label{class_t_thread_1_1_runnable_a9dd092bdcdc53e1ed45851562417e135}} 
\index{TThread::Runnable@{TThread::Runnable}!exception@{exception}}
\index{exception@{exception}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{exception}{exception}}
{\footnotesize\ttfamily void Runnable\+::exception (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}}}]{sender }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [signal]}}

The {\bfseries{exception}} signal is emitted from working threads whenever an untrapped exception is found within the \mbox{\hyperlink{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}{run()}} method.

\begin{DoxySeeAlso}{See also}
{\bfseries{\mbox{\hyperlink{class_t_thread_1_1_runnable_a4603628ddbc41e9e73e027e8f817bff1}{started}}}} and {\bfseries{\mbox{\hyperlink{class_t_thread_1_1_runnable_a77da4aa600bdb892b55312efcd6e3a21}{finished}}}} signals. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_a77da4aa600bdb892b55312efcd6e3a21}\label{class_t_thread_1_1_runnable_a77da4aa600bdb892b55312efcd6e3a21}} 
\index{TThread::Runnable@{TThread::Runnable}!finished@{finished}}
\index{finished@{finished}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{finished}{finished}}
{\footnotesize\ttfamily void Runnable\+::finished (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}}}]{sender }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [signal]}}

The {\bfseries{finished}} signal is emitted from working threads once the \mbox{\hyperlink{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}{run()}} code is returned without unmanaged exceptions.

\begin{DoxySeeAlso}{See also}
{\bfseries{\mbox{\hyperlink{class_t_thread_1_1_runnable_a4603628ddbc41e9e73e027e8f817bff1}{started}}}} and {\bfseries{\mbox{\hyperlink{class_t_thread_1_1_runnable_a9dd092bdcdc53e1ed45851562417e135}{exception}}}} signals. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_adec8792febe8d01c9fddf868a4605f65}\label{class_t_thread_1_1_runnable_adec8792febe8d01c9fddf868a4605f65}} 
\index{TThread::Runnable@{TThread::Runnable}!onCanceled@{onCanceled}}
\index{onCanceled@{onCanceled}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{onCanceled}{onCanceled}}
{\footnotesize\ttfamily void Runnable\+::on\+Canceled (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}}}]{sender }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [slot]}}



The analogous of \mbox{\hyperlink{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}{on\+Started()}} for the \mbox{\hyperlink{class_t_thread_1_1_runnable_a87a003e7e55636146017bd05df73531a}{canceled()}} signal. 



Reimplemented in \mbox{\hyperlink{class_swatch_viewer_1_1_content_render_a0aa812ce92b073e6215ef7ea1d6ebf88}{Swatch\+Viewer\+::\+Content\+Render}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00502 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_a1a6a991a0e5d2c1fe1885f43928c50ed}\label{class_t_thread_1_1_runnable_a1a6a991a0e5d2c1fe1885f43928c50ed}} 
\index{TThread::Runnable@{TThread::Runnable}!onException@{onException}}
\index{onException@{onException}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{onException}{onException}}
{\footnotesize\ttfamily void Runnable\+::on\+Exception (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}}}]{sender }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [slot]}}



The analogous of \mbox{\hyperlink{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}{on\+Started()}} for the \mbox{\hyperlink{class_t_thread_1_1_runnable_a9dd092bdcdc53e1ed45851562417e135}{exception()}} signal. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00497 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_ae08796496a74b40c4e1940e386f7926f}\label{class_t_thread_1_1_runnable_ae08796496a74b40c4e1940e386f7926f}} 
\index{TThread::Runnable@{TThread::Runnable}!onFinished@{onFinished}}
\index{onFinished@{onFinished}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{onFinished}{onFinished}}
{\footnotesize\ttfamily void Runnable\+::on\+Finished (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}}}]{sender }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [slot]}}



The analogous of \mbox{\hyperlink{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}{on\+Started()}} for the \mbox{\hyperlink{class_t_thread_1_1_runnable_a77da4aa600bdb892b55312efcd6e3a21}{finished()}} signal. 



Reimplemented in \mbox{\hyperlink{class_custom_style_manager_1_1_style_loader_task_a5873b829af2c6fef514221fe0789768a}{Custom\+Style\+Manager\+::\+Style\+Loader\+Task}}, \mbox{\hyperlink{class_image_processing_ab5b2ae15d92b76aea9512b684e872752}{Image\+Processing}}, \mbox{\hyperlink{class_swatch_viewer_1_1_content_render_a4cc5e5b654a620e5a3079653642366d8}{Swatch\+Viewer\+::\+Content\+Render}}, \mbox{\hyperlink{class_vectorization_swatch_task_aa4d5f1bc292d9970aa26ebdbb0d62256}{Vectorization\+Swatch\+Task}}, and \mbox{\hyperlink{class_render_task_a58ffdff3acd6939971633419f990de20}{Render\+Task}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00492 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}\label{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}} 
\index{TThread::Runnable@{TThread::Runnable}!onStarted@{onStarted}}
\index{onStarted@{onStarted}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{onStarted}{onStarted}}
{\footnotesize\ttfamily void Runnable\+::on\+Started (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}}}]{sender }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [slot]}}

Convenience slot for the \mbox{\hyperlink{class_t_thread_1_1_runnable_a4603628ddbc41e9e73e027e8f817bff1}{started()}} signal -\/ so it\textquotesingle{}s not necessary to declare the task in a header file for moc\textquotesingle{}ing each time. You must both reimplement {\bfseries{and}} connect it to the \mbox{\hyperlink{class_t_thread_1_1_runnable_a4603628ddbc41e9e73e027e8f817bff1}{started()}} signal to make it work. 

Reimplemented in \mbox{\hyperlink{class_swatch_viewer_1_1_content_render_abc7c080853b166ff7606020946b4c4f3}{Swatch\+Viewer\+::\+Content\+Render}}, and \mbox{\hyperlink{class_vectorization_swatch_task_a0d12be0521240b78940f782f279a3ea5}{Vectorization\+Swatch\+Task}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00487 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_a734635ad9bf10ec12afcc6f305af8c55}\label{class_t_thread_1_1_runnable_a734635ad9bf10ec12afcc6f305af8c55}} 
\index{TThread::Runnable@{TThread::Runnable}!onTerminated@{onTerminated}}
\index{onTerminated@{onTerminated}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{onTerminated}{onTerminated}}
{\footnotesize\ttfamily void Runnable\+::on\+Terminated (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}}}]{sender }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}, {\ttfamily [slot]}}



The analogous of \mbox{\hyperlink{class_t_thread_1_1_runnable_a0857d4a039557f2853a12203ea854f01}{on\+Started()}} for the \mbox{\hyperlink{class_t_thread_1_1_runnable_afda69c2f2eb6df8d30d7668a4cdd60da}{terminated()}} signal. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00507 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}\label{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}} 
\index{TThread::Runnable@{TThread::Runnable}!run@{run}}
\index{run@{run}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily virtual void TThread\+::\+Runnable\+::run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}



The central code of the task that is executed by a worker thread. 



Implemented in \mbox{\hyperlink{class_record_task_a50595a867aa01463105b6a600383ea09}{Record\+Task}}, \mbox{\hyperlink{class_image_processing_ab36d5885f31dd7c2a3bb61502a70e66b}{Image\+Processing}}, \mbox{\hyperlink{class_t_thread_1_1_executor_1_1_imp_1_1_worker_ae9adbb9f01d151d8f7fd886c9418dffd}{TThread\+::\+Executor\+::\+Imp\+::\+Worker}}, \mbox{\hyperlink{class_render_task_aa29790caf493428270230adef46f46bc}{Render\+Task}}, \mbox{\hyperlink{class_record_task_ae4c2034b89607059c7e7dfc3fcca87a3}{Record\+Task}}, \mbox{\hyperlink{class_swatch_viewer_1_1_content_render_a6f26a0168b2acfcc47889fd7a52c1e09}{Swatch\+Viewer\+::\+Content\+Render}}, \mbox{\hyperlink{class_task_runner_a2b9df073863b93e0ee35a0c1949a8f6e}{Task\+Runner}}, \mbox{\hyperlink{class_frame_count_task_a6f14324f0ed74122a1eb1dfb9b754692}{Frame\+Count\+Task}}, \mbox{\hyperlink{class_vectorization_swatch_task_a5860ad48ba39f5e71b0486b65bd44246}{Vectorization\+Swatch\+Task}}, \mbox{\hyperlink{class_data_reader_a5e0041ec8b2df52c678ffe0b7f2cd2cd}{Data\+Reader}}, \mbox{\hyperlink{class_data_receiver_a29df6f1aacc94468f9308955b1e20b64}{Data\+Receiver}}, \mbox{\hyperlink{class_server_initializer_a14fb2d991f2d45661f6ca5da2a30c5e8}{Server\+Initializer}}, \mbox{\hyperlink{class_task_starter_aaeb45c827fa43859ed1c6885cac6d62f}{Task\+Starter}}, \mbox{\hyperlink{class_task_aa2b4b735177b3ad885a9f6b590300b3f}{Task}}, \mbox{\hyperlink{class_custom_style_manager_1_1_style_loader_task_acb5dbd32cf6c8716d982fa273a78271b}{Custom\+Style\+Manager\+::\+Style\+Loader\+Task}}, \mbox{\hyperlink{class_vector_image_icon_renderer_ac3a9316bed3de457269493221010214a}{Vector\+Image\+Icon\+Renderer}}, \mbox{\hyperlink{class_spline_icon_renderer_a053c9e5d86ba8bb7b0430ad1d0879d69}{Spline\+Icon\+Renderer}}, \mbox{\hyperlink{class_raster_image_icon_renderer_a61fa8cec2e0910c1f1300dbe02e58b47}{Raster\+Image\+Icon\+Renderer}}, \mbox{\hyperlink{class_toonz_image_icon_renderer_a23c50ffd61db13c673911d35fdec7b60}{Toonz\+Image\+Icon\+Renderer}}, \mbox{\hyperlink{class_mesh_image_icon_renderer_abbeebd3c695180ccbfd0c9d04f4952b2}{Mesh\+Image\+Icon\+Renderer}}, \mbox{\hyperlink{class_xsheet_icon_renderer_a54451126f96b8fc1d2002def066bc142}{Xsheet\+Icon\+Renderer}}, \mbox{\hyperlink{class_file_icon_renderer_acb43d3b6991244c29c9aef674abc46a7}{File\+Icon\+Renderer}}, \mbox{\hyperlink{class_scene_icon_renderer_a1ccaa355854cb3665ffa679f3e2f8375}{Scene\+Icon\+Renderer}}, and \mbox{\hyperlink{class_icon_renderer_a0861b8f15a0a79a11c5675807537c230}{Icon\+Renderer}}.

\mbox{\Hypertarget{class_t_thread_1_1_runnable_a7266725bb29e0ba78a4d3ddb728a5aac}\label{class_t_thread_1_1_runnable_a7266725bb29e0ba78a4d3ddb728a5aac}} 
\index{TThread::Runnable@{TThread::Runnable}!runningPriority@{runningPriority}}
\index{runningPriority@{runningPriority}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{runningPriority()}{runningPriority()}}
{\footnotesize\ttfamily QThread\+::\+Priority Runnable\+::running\+Priority (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the QThread\+::\+Priority used by worker threads when they adopt the task. The default value returned is QThread\+::\+Normal. 

Reimplemented in \mbox{\hyperlink{class_frame_count_task_acb732c7156e6baaa33f61f10544cdfb0}{Frame\+Count\+Task}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00400                                           \{}
\DoxyCodeLine{00401   \textcolor{keywordflow}{return} QThread::NormalPriority;}
\DoxyCodeLine{00402 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_a7e52533850da5433f3075d3d032182c1}\label{class_t_thread_1_1_runnable_a7e52533850da5433f3075d3d032182c1}} 
\index{TThread::Runnable@{TThread::Runnable}!schedulingPriority@{schedulingPriority}}
\index{schedulingPriority@{schedulingPriority}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{schedulingPriority()}{schedulingPriority()}}
{\footnotesize\ttfamily int Runnable\+::scheduling\+Priority (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the priority value used to schedule a task for execution. Tasks with higher priority start before tasks with lower priority. The default value returned is 5 (halfway from 0 to 10) -\/ but any value other than (std\+::numeric\+\_\+limits$<$int$>$\+::max)() is acceptable. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00394 \{ \textcolor{keywordflow}{return} 5; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00804}{TThread\+::\+Executor\+::add\+Task()}}.

\mbox{\Hypertarget{class_t_thread_1_1_runnable_a4603628ddbc41e9e73e027e8f817bff1}\label{class_t_thread_1_1_runnable_a4603628ddbc41e9e73e027e8f817bff1}} 
\index{TThread::Runnable@{TThread::Runnable}!started@{started}}
\index{started@{started}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{started}{started}}
{\footnotesize\ttfamily void Runnable\+::started (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}}}]{sender }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [signal]}}

This signal is emitted from working threads just before the \mbox{\hyperlink{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}{run()}} code is executed. Observe that the passed smart pointer ensures the survival of the emitting task for the time required by connected slots execution.

\begin{DoxyWarning}{Warning}
The \mbox{\hyperlink{class_t_thread_1_1_runnable_a4603628ddbc41e9e73e027e8f817bff1}{started()}}, \mbox{\hyperlink{class_t_thread_1_1_runnable_a77da4aa600bdb892b55312efcd6e3a21}{finished()}} and \mbox{\hyperlink{class_t_thread_1_1_runnable_a9dd092bdcdc53e1ed45851562417e135}{exception()}} signals are emitted in a mutex-\/protected environment in order to provide the correct sequence of emissions (i.\+e. so that \mbox{\hyperlink{class_t_thread_1_1_runnable_a87a003e7e55636146017bd05df73531a}{canceled()}} and \mbox{\hyperlink{class_t_thread_1_1_runnable_afda69c2f2eb6df8d30d7668a4cdd60da}{terminated()}} controller-\/emitted signals are either delivered after \mbox{\hyperlink{class_t_thread_1_1_runnable_a4603628ddbc41e9e73e027e8f817bff1}{started()}} and before \mbox{\hyperlink{class_t_thread_1_1_runnable_a77da4aa600bdb892b55312efcd6e3a21}{finished()}} or \mbox{\hyperlink{class_t_thread_1_1_runnable_a9dd092bdcdc53e1ed45851562417e135}{exception()}}, or {\itshape instead} of them). 

Thus, setting up blocking connections or {\itshape direct} slots that contain a blocking instruction or even calls to the \mbox{\hyperlink{class_t_thread_1_1_executor}{Executor}} API (which would definitely try to relock the aforementioned mutex) is dangerous and could result in an application freeze. 

In case it\textquotesingle{}s necessary to use blocking features, they should be enforced through custom signals to be invoked manually in the \mbox{\hyperlink{class_t_thread_1_1_runnable_ad3b8ee5e7b375bd169f7382fa26b00ef}{run()}} method, outside the mutex.
\end{DoxyWarning}
\begin{DoxySeeAlso}{See also}
{\bfseries{\mbox{\hyperlink{class_t_thread_1_1_runnable_a77da4aa600bdb892b55312efcd6e3a21}{finished}}}} and {\bfseries{\mbox{\hyperlink{class_t_thread_1_1_runnable_a9dd092bdcdc53e1ed45851562417e135}{exception}}}} signals. 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_a9c08dc36ed7b4c9e35809ea696c91e95}\label{class_t_thread_1_1_runnable_a9c08dc36ed7b4c9e35809ea696c91e95}} 
\index{TThread::Runnable@{TThread::Runnable}!taskLoad@{taskLoad}}
\index{taskLoad@{taskLoad}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{taskLoad()}{taskLoad()}}
{\footnotesize\ttfamily int Runnable\+::task\+Load (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Returns the predicted CPU load generated by the task, expressed in percentage of core usage (that is, 100 is intended to fully occupy one processing core). Appropriate task load calibration is an important step to take when implementing a new task; for this purpose, remember some rules to follow\+: 
\begin{DoxyItemize}
\item In every moment, the task manager ensures that the overall sum of the active task\textquotesingle{}s load does not exceed the number of machine\textquotesingle{}s processing cores multiplied by 100. This condition is {\itshape blocking} with respect to the execution of any other task -\/ meaning that when a task is about to be executed the task manager {\itshape waits} until enough CPU resources are available to make it run. In particular, observe that a task\textquotesingle{}s load {\bfseries{never}} has to exceed the total CPU resources -\/ doing so would surely result in a block of your application. The number of available cores can be accessed via the {\bfseries{TSystem\+::get\+Processor\+Count()}} or {\bfseries{QThread\+::ideal\+Thread\+Count()}}. 
\item The task load is considered constant for the duration of the task. Changing its value does not affect the task manager in any way once the task has been started. 
\item The default task load is 0, representing a very light task. If the task load is 0 the condition at point 1 always succeeds -\/ so the task is always executed when encountered. Observe that a long succession of 0 task loads leads to the creation of a proportional number of threads simultaneously running to dispatch it; if this is a problem, consider the use of {\bfseries{\mbox{\hyperlink{class_t_thread_1_1_executor_a85231531a2fa273db401f090c9aba4ea}{Executor\+::set\+Max\+Active\+Tasks()}}}} to make only a certain number of tasks being executed at the same time. 
\end{DoxyItemize}

Reimplemented in \mbox{\hyperlink{class_render_task_a1e59b3deba3c988b62e78e81bda1172f}{Render\+Task}}, \mbox{\hyperlink{class_swatch_viewer_1_1_content_render_ab94f7f8cb69319c0363cf4ad43cccfc7}{Swatch\+Viewer\+::\+Content\+Render}}, and \mbox{\hyperlink{class_task_runner_a13742cc8e87e4fa14ff9c531508e1978}{Task\+Runner}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00386 \{ \textcolor{keywordflow}{return} 0; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_afda69c2f2eb6df8d30d7668a4cdd60da}\label{class_t_thread_1_1_runnable_afda69c2f2eb6df8d30d7668a4cdd60da}} 
\index{TThread::Runnable@{TThread::Runnable}!terminated@{terminated}}
\index{terminated@{terminated}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{terminated}{terminated}}
{\footnotesize\ttfamily void Runnable\+::terminated (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TThread\+::\+RunnableP}}}]{sender }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [signal]}}

The {\bfseries{terminated}} signal is emitted from the controller thread when the \mbox{\hyperlink{class_t_thread_1_1_executor}{Executor}} components are shutting down inside a call to \mbox{\hyperlink{class_t_thread_1_1_executor_ad11a0430a6be6601a2e5aa34a10c3b60}{Executor\+::shutdown()}}. Implementing a slot connected to this signal helps the user in controlling the flow of an Executor-\/multithreaded application when it is shutting down -\/ for example, it can be imposed that the application must wait for the task to be finished, print logs or similar. This signal is always preceded by a \mbox{\hyperlink{class_t_thread_1_1_runnable_a87a003e7e55636146017bd05df73531a}{canceled()}} signal, informing all active tasks that they should begin quitting on their own in a \textquotesingle{}soft\textquotesingle{} way before brute termination may occur.

\begin{DoxySeeAlso}{See also}
{\bfseries{\mbox{\hyperlink{class_t_thread_1_1_executor_ad11a0430a6be6601a2e5aa34a10c3b60}{Executor\+::shutdown}}}} static method and {\bfseries{\mbox{\hyperlink{class_t_thread_1_1_runnable_a87a003e7e55636146017bd05df73531a}{Runnable\+::canceled}}}} signal. 
\end{DoxySeeAlso}


Referenced by \mbox{\hyperlink{l00725}{TThread\+::\+Executor\+::shutdown()}}.



\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{class_t_thread_1_1_runnable_a763b2f90bc53f92d680a635fe28e858e}\label{class_t_thread_1_1_runnable_a763b2f90bc53f92d680a635fe28e858e}} 
\index{TThread::Runnable@{TThread::Runnable}!Executor@{Executor}}
\index{Executor@{Executor}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{Executor}{Executor}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{class_t_thread_1_1_executor}{Executor}}\hspace{0.3cm}{\ttfamily [friend]}}

\mbox{\Hypertarget{class_t_thread_1_1_runnable_af022abc71323b07be5460515acab8737}\label{class_t_thread_1_1_runnable_af022abc71323b07be5460515acab8737}} 
\index{TThread::Runnable@{TThread::Runnable}!ExecutorImp@{ExecutorImp}}
\index{ExecutorImp@{ExecutorImp}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{ExecutorImp}{ExecutorImp}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{class_t_thread_1_1_executor_imp}{Executor\+Imp}}\hspace{0.3cm}{\ttfamily [friend]}}

\mbox{\Hypertarget{class_t_thread_1_1_runnable_a9de4a9533dff2ecc0919852d4c05a67b}\label{class_t_thread_1_1_runnable_a9de4a9533dff2ecc0919852d4c05a67b}} 
\index{TThread::Runnable@{TThread::Runnable}!Worker@{Worker}}
\index{Worker@{Worker}!TThread::Runnable@{TThread::Runnable}}
\doxysubsubsection{\texorpdfstring{Worker}{Worker}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{class_t_thread_1_1_worker}{Worker}}\hspace{0.3cm}{\ttfamily [friend]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tthread.\+h\item 
E\+:/opentoonz/toonz/sources/common/tcore/tthread.\+cpp\end{DoxyCompactItemize}
