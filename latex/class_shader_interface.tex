\hypertarget{class_shader_interface}{}\doxysection{Shader\+Interface Class Reference}
\label{class_shader_interface}\index{ShaderInterface@{ShaderInterface}}


{\ttfamily \#include $<$shaderinterface.\+h$>$}

Inheritance diagram for Shader\+Interface\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_shader_interface}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_shader_interface_1_1_parameter}{Parameter}}
\item 
class \mbox{\hyperlink{class_shader_interface_1_1_parameter_concept}{Parameter\+Concept}}
\item 
union \mbox{\hyperlink{union_shader_interface_1_1_parameter_value}{Parameter\+Value}}
\item 
class \mbox{\hyperlink{class_shader_interface_1_1_shader_data}{Shader\+Data}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries Parameter\+Concept\+Type} \{ \newline
{\bfseries CONCEPT\+\_\+\+NONE}
, {\bfseries PERCENT}
, {\bfseries LENGTH}
, {\bfseries ANGLE}
, \newline
{\bfseries POINT}
, {\bfseries RADIUS\+\_\+\+UI}
, {\bfseries WIDTH\+\_\+\+UI}
, {\bfseries ANGLE\+\_\+\+UI}
, \newline
{\bfseries POINT\+\_\+\+UI}
, {\bfseries XY\+\_\+\+UI}
, {\bfseries VECTOR\+\_\+\+UI}
, {\bfseries POLAR\+\_\+\+UI}
, \newline
{\bfseries SIZE\+\_\+\+UI}
, {\bfseries QUAD\+\_\+\+UI}
, {\bfseries RECT\+\_\+\+UI}
, {\bfseries COMPASS\+\_\+\+UI}
, \newline
{\bfseries COMPASS\+\_\+\+SPIN\+\_\+\+UI}
, {\bfseries CONCEPTSCOUNT}
, {\bfseries UI\+\_\+\+CONCEPTS} = RADIUS\+\_\+\+UI
 \}
\item 
enum {\bfseries Parameter\+Type} \{ \newline
{\bfseries PARAMETER\+\_\+\+UNKNOWN}
, {\bfseries BOOL}
, {\bfseries FLOAT}
, {\bfseries VEC2}
, \newline
{\bfseries VEC3}
, {\bfseries VEC4}
, {\bfseries INT}
, {\bfseries IVEC2}
, \newline
{\bfseries IVEC3}
, {\bfseries IVEC4}
, {\bfseries RGBA}
, {\bfseries RGB}
, \newline
{\bfseries TYPESCOUNT}
 \}
\item 
enum {\bfseries Handled\+World\+Transforms\+Type} \{ {\bfseries HWT\+\_\+\+UNKNOWN}
, {\bfseries ANY}
, {\bfseries ISOTROPIC}
, {\bfseries HWTCOUNT}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_shader_interface_aed80eea898c7600c5e7d21ee1cf02a0c}{is\+Valid}} () const
\item 
const std\+::vector$<$ \mbox{\hyperlink{class_shader_interface_1_1_parameter}{Parameter}} $>$ \& \mbox{\hyperlink{class_shader_interface_a0cbcbb6d4d630aaeebd7e851df464c96}{parameters}} () const
\item 
const std\+::vector$<$ QString $>$ \& \mbox{\hyperlink{class_shader_interface_a51d999c1fb154788dc5f70788d34c602}{input\+Ports}} () const
\item 
const \mbox{\hyperlink{class_shader_interface_1_1_shader_data}{Shader\+Data}} \& \mbox{\hyperlink{class_shader_interface_ae1ecdda15c2b8a6fa40061c9442a4a0b}{main\+Shader}} () const
\item 
const \mbox{\hyperlink{class_shader_interface_1_1_shader_data}{Shader\+Data}} \& \mbox{\hyperlink{class_shader_interface_a3271ccdff7fa5f409c29ab4aba38777b}{input\+Ports\+Shader}} () const
\item 
const \mbox{\hyperlink{class_shader_interface_1_1_shader_data}{Shader\+Data}} \& \mbox{\hyperlink{class_shader_interface_a6d308aca7aa208b3fbeff903e89d99dd}{bbox\+Shader}} () const
\item 
Handled\+World\+Transforms\+Type \mbox{\hyperlink{class_shader_interface_a88b4a117d3b05441373568eae480e348}{hwt\+Type}} () const
\item 
std\+::pair$<$ QOpen\+GLShader\+Program $\ast$, QDate\+Time $>$ \mbox{\hyperlink{class_shader_interface_a005d89e37c98779da3390ebf7d338619}{make\+Program}} (const \mbox{\hyperlink{class_shader_interface_1_1_shader_data}{Shader\+Data}} \&sd, int varyings\+Count=0, const GLchar $\ast$$\ast$varying\+Names=0) const
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_shader_interface_a28a24f18ebc40141c7dc4cea7d3be440}{clear}} ()
\item 
void \mbox{\hyperlink{class_shader_interface_a615c5402586a36e664e87dd300119b73}{save\+Data}} (\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&os) override
\item 
void \mbox{\hyperlink{class_shader_interface_a6e8babdd9733939be719b808da95b86f}{load\+Data}} (\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&is) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
A \mbox{\hyperlink{class_shader_interface}{Shader\+Interface}} represents interface data to a GLSL shader program.

\begin{DoxyParagraph}{Rationale}

\end{DoxyParagraph}
Open\+GL shaders are supplied as text to be compiled at run-\/time by a GLSL compiler. In our case, the specified text is assumed to be stored in one or more files on hard-\/disk. ~\newline
~\newline
 However, in order for an executable to correctly interface a GLSL shader program, further interface data must be supplied in some form.

Interface data include the path of the GLSL shader program file and parameters to be bound by the executable before the shader is run.

\begin{DoxyParagraph}{Usage}

\end{DoxyParagraph}
A \mbox{\hyperlink{class_shader_interface}{Shader\+Interface}} is loaded from an xml file. Since an interface could be loaded incorrectly, remember to check the is\+Valid() method to ensure that the loading process succeeds.

A loaded \mbox{\hyperlink{class_shader_interface}{Shader\+Interface}} allows access to shader parameters and acts as a factory object to compiled QGLShader\+Program instances. 

\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_shader_interface_a8cae06083d0de995f10f4edde72b4d48}\label{class_shader_interface_a8cae06083d0de995f10f4edde72b4d48}} 
\index{ShaderInterface@{ShaderInterface}!HandledWorldTransformsType@{HandledWorldTransformsType}}
\index{HandledWorldTransformsType@{HandledWorldTransformsType}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{HandledWorldTransformsType}{HandledWorldTransformsType}}
{\footnotesize\ttfamily enum Shader\+Interface\+::\+Handled\+World\+Transforms\+Type}


\begin{DoxyCode}{0}
\DoxyCodeLine{00112 \{ HWT\_UNKNOWN, ANY, ISOTROPIC, HWTCOUNT \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_shader_interface_a939c92a427c11f18640cf13113722c66}\label{class_shader_interface_a939c92a427c11f18640cf13113722c66}} 
\index{ShaderInterface@{ShaderInterface}!ParameterConceptType@{ParameterConceptType}}
\index{ParameterConceptType@{ParameterConceptType}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{ParameterConceptType}{ParameterConceptType}}
{\footnotesize\ttfamily enum Shader\+Interface\+::\+Parameter\+Concept\+Type}


\begin{DoxyCode}{0}
\DoxyCodeLine{00073                             \{}
\DoxyCodeLine{00074     CONCEPT\_NONE,}
\DoxyCodeLine{00075     PERCENT,}
\DoxyCodeLine{00076     LENGTH,}
\DoxyCodeLine{00077     ANGLE,}
\DoxyCodeLine{00078     POINT,}
\DoxyCodeLine{00079     RADIUS\_UI,}
\DoxyCodeLine{00080     WIDTH\_UI,}
\DoxyCodeLine{00081     ANGLE\_UI,}
\DoxyCodeLine{00082     POINT\_UI,}
\DoxyCodeLine{00083     XY\_UI,}
\DoxyCodeLine{00084     VECTOR\_UI,}
\DoxyCodeLine{00085     POLAR\_UI,}
\DoxyCodeLine{00086     SIZE\_UI,}
\DoxyCodeLine{00087     QUAD\_UI,}
\DoxyCodeLine{00088     RECT\_UI,}
\DoxyCodeLine{00089     COMPASS\_UI,}
\DoxyCodeLine{00090     COMPASS\_SPIN\_UI,}
\DoxyCodeLine{00091 }
\DoxyCodeLine{00092     CONCEPTSCOUNT,}
\DoxyCodeLine{00093     UI\_CONCEPTS = RADIUS\_UI}
\DoxyCodeLine{00094   \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_shader_interface_a58c34e5d470b624002d6f9d70352f4ff}\label{class_shader_interface_a58c34e5d470b624002d6f9d70352f4ff}} 
\index{ShaderInterface@{ShaderInterface}!ParameterType@{ParameterType}}
\index{ParameterType@{ParameterType}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{ParameterType}{ParameterType}}
{\footnotesize\ttfamily enum Shader\+Interface\+::\+Parameter\+Type}


\begin{DoxyCode}{0}
\DoxyCodeLine{00096                      \{}
\DoxyCodeLine{00097     PARAMETER\_UNKNOWN,}
\DoxyCodeLine{00098     BOOL,}
\DoxyCodeLine{00099     FLOAT,}
\DoxyCodeLine{00100     VEC2,}
\DoxyCodeLine{00101     VEC3,}
\DoxyCodeLine{00102     VEC4,}
\DoxyCodeLine{00103     INT,}
\DoxyCodeLine{00104     IVEC2,}
\DoxyCodeLine{00105     IVEC3,}
\DoxyCodeLine{00106     IVEC4,}
\DoxyCodeLine{00107     RGBA,}
\DoxyCodeLine{00108     RGB,}
\DoxyCodeLine{00109     TYPESCOUNT}
\DoxyCodeLine{00110   \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_shader_interface_a52166aa150e0434616f9151bf8eaef8a}\label{class_shader_interface_a52166aa150e0434616f9151bf8eaef8a}} 
\index{ShaderInterface@{ShaderInterface}!ShaderInterface@{ShaderInterface}}
\index{ShaderInterface@{ShaderInterface}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{ShaderInterface()}{ShaderInterface()}}
{\footnotesize\ttfamily Shader\+Interface\+::\+Shader\+Interface (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00117 : m\_hwt(ANY) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_shader_interface_a6d308aca7aa208b3fbeff903e89d99dd}\label{class_shader_interface_a6d308aca7aa208b3fbeff903e89d99dd}} 
\index{ShaderInterface@{ShaderInterface}!bboxShader@{bboxShader}}
\index{bboxShader@{bboxShader}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{bboxShader()}{bboxShader()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_shader_interface_1_1_shader_data}{Shader\+Interface\+::\+Shader\+Data}} \& Shader\+Interface\+::bbox\+Shader (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00157                                                                    \{}
\DoxyCodeLine{00158   \textcolor{keywordflow}{return} m\_bboxShader;}
\DoxyCodeLine{00159 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shader_interface_a28a24f18ebc40141c7dc4cea7d3be440}\label{class_shader_interface_a28a24f18ebc40141c7dc4cea7d3be440}} 
\index{ShaderInterface@{ShaderInterface}!clear@{clear}}
\index{clear@{clear}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily void Shader\+Interface\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00121                             \{}
\DoxyCodeLine{00122   m\_mainShader = m\_portsShader = ShaderData();}
\DoxyCodeLine{00123   m\_parameters.clear();}
\DoxyCodeLine{00124 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shader_interface_a88b4a117d3b05441373568eae480e348}\label{class_shader_interface_a88b4a117d3b05441373568eae480e348}} 
\index{ShaderInterface@{ShaderInterface}!hwtType@{hwtType}}
\index{hwtType@{hwtType}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{hwtType()}{hwtType()}}
{\footnotesize\ttfamily Shader\+Interface\+::\+Handled\+World\+Transforms\+Type Shader\+Interface\+::hwt\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00163                                                                          \{}
\DoxyCodeLine{00164   \textcolor{keywordflow}{return} m\_hwt;}
\DoxyCodeLine{00165 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shader_interface_a51d999c1fb154788dc5f70788d34c602}\label{class_shader_interface_a51d999c1fb154788dc5f70788d34c602}} 
\index{ShaderInterface@{ShaderInterface}!inputPorts@{inputPorts}}
\index{inputPorts@{inputPorts}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{inputPorts()}{inputPorts()}}
{\footnotesize\ttfamily const std\+::vector$<$ QString $>$ \& Shader\+Interface\+::input\+Ports (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00139                                                             \{}
\DoxyCodeLine{00140   \textcolor{keywordflow}{return} m\_ports;}
\DoxyCodeLine{00141 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shader_interface_a3271ccdff7fa5f409c29ab4aba38777b}\label{class_shader_interface_a3271ccdff7fa5f409c29ab4aba38777b}} 
\index{ShaderInterface@{ShaderInterface}!inputPortsShader@{inputPortsShader}}
\index{inputPortsShader@{inputPortsShader}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{inputPortsShader()}{inputPortsShader()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_shader_interface_1_1_shader_data}{Shader\+Interface\+::\+Shader\+Data}} \& Shader\+Interface\+::input\+Ports\+Shader (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00151                                                                          \{}
\DoxyCodeLine{00152   \textcolor{keywordflow}{return} m\_portsShader;}
\DoxyCodeLine{00153 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shader_interface_aed80eea898c7600c5e7d21ee1cf02a0c}\label{class_shader_interface_aed80eea898c7600c5e7d21ee1cf02a0c}} 
\index{ShaderInterface@{ShaderInterface}!isValid@{isValid}}
\index{isValid@{isValid}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{isValid()}{isValid()}}
{\footnotesize\ttfamily bool Shader\+Interface\+::is\+Valid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00128 \{ \textcolor{keywordflow}{return} m\_mainShader.isValid(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shader_interface_a6e8babdd9733939be719b808da95b86f}\label{class_shader_interface_a6e8babdd9733939be719b808da95b86f}} 
\index{ShaderInterface@{ShaderInterface}!loadData@{loadData}}
\index{loadData@{loadData}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{loadData()}{loadData()}}
{\footnotesize\ttfamily void Shader\+Interface\+::load\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&}]{is }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} This is a pure virtual function and must be overridden with a method
\end{DoxyVerb}
 that implements the object loading from a stream (i.\+e take the object\textquotesingle{}s features from a formatted data stream). For example the \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} class use his implementation to take the values of the parameters that characterizes a stage object as name, coordinates, etc... from a file. {\itshape is} is an input file stream 

Implements \mbox{\hyperlink{class_t_persist_a9e9d78431e843edb9299095af867a136}{TPersist}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00256                                            \{}
\DoxyCodeLine{00257   \textcolor{keyword}{struct }locals \{}
\DoxyCodeLine{00258     \textcolor{keyword}{inline} \textcolor{keyword}{static} \mbox{\hyperlink{class_t_file_path}{TFilePath}} getAbsolutePath(\textcolor{keyword}{const} \mbox{\hyperlink{class_t_file_path}{TFilePath}} \&file,}
\DoxyCodeLine{00259                                             \textcolor{keyword}{const} \mbox{\hyperlink{class_t_file_path}{TFilePath}} \&relTo) \{}
\DoxyCodeLine{00260       QDir relToDir(}
\DoxyCodeLine{00261           QString::fromStdWString(relTo.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}().getWideString()));}
\DoxyCodeLine{00262       QString absFileStr(relToDir.absoluteFilePath(}
\DoxyCodeLine{00263           QString::fromStdWString(file.getWideString())));}
\DoxyCodeLine{00264       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path}{TFilePath}}(absFileStr.toStdWString());}
\DoxyCodeLine{00265     \}}
\DoxyCodeLine{00266 }
\DoxyCodeLine{00267     \textcolor{keyword}{static} \textcolor{keywordtype}{bool} nameMatch(\textcolor{keyword}{const} QString \&name, \textcolor{keyword}{const} Parameter \&param) \{}
\DoxyCodeLine{00268       \textcolor{keywordflow}{return} (name == param.m\_name);}
\DoxyCodeLine{00269     \}}
\DoxyCodeLine{00270   \};}
\DoxyCodeLine{00271 }
\DoxyCodeLine{00272   std::string tagName;}
\DoxyCodeLine{00273 }
\DoxyCodeLine{00274   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00275     \textcolor{keywordflow}{while} (is.\mbox{\hyperlink{class_t_i_stream_a735640240402316f00c595134bfe6b4b}{openChild}}(tagName)) \{}
\DoxyCodeLine{00276       \textcolor{keywordflow}{if} (tagName == l\_names[MAIN\_PROGRAM]) \{}
\DoxyCodeLine{00277         is >> m\_mainShader;}
\DoxyCodeLine{00278         m\_mainShader.\mbox{\hyperlink{class_shader_interface_1_1_shader_data_a0f6cb39226af27932d79821075f6ea7e}{m\_type}} = QOpenGLShader::Fragment;}
\DoxyCodeLine{00279         is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{00280       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == l\_names[INPUT\_PORTS]) \{}
\DoxyCodeLine{00281         \textcolor{keywordflow}{while} (is.\mbox{\hyperlink{class_t_i_stream_a735640240402316f00c595134bfe6b4b}{openChild}}(tagName)) \{}
\DoxyCodeLine{00282           \textcolor{keywordflow}{if} (tagName == l\_names[INPUT\_PORT]) \{}
\DoxyCodeLine{00283             QString portName;}
\DoxyCodeLine{00284             is >> portName;}
\DoxyCodeLine{00285 }
\DoxyCodeLine{00286             m\_ports.push\_back(portName);}
\DoxyCodeLine{00287 }
\DoxyCodeLine{00288             is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{00289           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == l\_names[PORTS\_PROGRAM]) \{}
\DoxyCodeLine{00290             is >> m\_portsShader;}
\DoxyCodeLine{00291             m\_portsShader.\mbox{\hyperlink{class_shader_interface_1_1_shader_data_a0f6cb39226af27932d79821075f6ea7e}{m\_type}} = QOpenGLShader::Vertex;}
\DoxyCodeLine{00292             is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{00293           \} else}
\DoxyCodeLine{00294             ::skipTag(is, tagName);}
\DoxyCodeLine{00295         \}}
\DoxyCodeLine{00296 }
\DoxyCodeLine{00297         is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{00298       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == l\_names[BBOX\_PROGRAM]) \{}
\DoxyCodeLine{00299         is >> m\_bboxShader;}
\DoxyCodeLine{00300         m\_bboxShader.\mbox{\hyperlink{class_shader_interface_1_1_shader_data_a0f6cb39226af27932d79821075f6ea7e}{m\_type}} = QOpenGLShader::Vertex;}
\DoxyCodeLine{00301         is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{00302       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == l\_names[HANDLED\_WORLD\_TRANSFORMS]) \{}
\DoxyCodeLine{00303         QString hwtName;}
\DoxyCodeLine{00304         is >> hwtName;}
\DoxyCodeLine{00305 }
\DoxyCodeLine{00306         m\_hwt = HandledWorldTransformsType(}
\DoxyCodeLine{00307             std::find\_if(l\_hwtNames, l\_hwtNames + HWTCOUNT,}
\DoxyCodeLine{00308                          ::CaselessCompare(hwtName)) -\/}
\DoxyCodeLine{00309             l\_hwtNames);}
\DoxyCodeLine{00310 }
\DoxyCodeLine{00311         \textcolor{keywordflow}{if} (m\_hwt == HWTCOUNT) \{}
\DoxyCodeLine{00312           m\_hwt = HWT\_UNKNOWN;}
\DoxyCodeLine{00313           ::dumpError(is, L\textcolor{stringliteral}{"{}Unrecognized HandledWorldTransforms type '"{}} +}
\DoxyCodeLine{00314                               hwtName.toStdWString() + L\textcolor{stringliteral}{"{}'"{}});}
\DoxyCodeLine{00315         \}}
\DoxyCodeLine{00316 }
\DoxyCodeLine{00317         is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{00318       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == l\_names[PARAMETERS]) \{}
\DoxyCodeLine{00319         \textcolor{keywordflow}{while} (is.\mbox{\hyperlink{class_t_i_stream_a735640240402316f00c595134bfe6b4b}{openChild}}(tagName)) \{}
\DoxyCodeLine{00320           \textcolor{keywordflow}{if} (tagName == l\_names[PARAMETER]) \{}
\DoxyCodeLine{00321             Parameter param;}
\DoxyCodeLine{00322             is >> param;}
\DoxyCodeLine{00323 }
\DoxyCodeLine{00324             m\_parameters.push\_back(param);}
\DoxyCodeLine{00325 }
\DoxyCodeLine{00326             is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{00327           \} else}
\DoxyCodeLine{00328             ::skipTag(is, tagName);}
\DoxyCodeLine{00329         \}}
\DoxyCodeLine{00330 }
\DoxyCodeLine{00331         is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{00332       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == l\_names[CONCEPT]) \{}
\DoxyCodeLine{00333         ParameterConcept \textcolor{keyword}{concept};}
\DoxyCodeLine{00334         is >> \textcolor{keyword}{concept};}
\DoxyCodeLine{00335 }
\DoxyCodeLine{00336         m\_parConcepts.push\_back(\textcolor{keyword}{concept});}
\DoxyCodeLine{00337 }
\DoxyCodeLine{00338         is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{00339       \} else}
\DoxyCodeLine{00340         ::skipTag(is, tagName);}
\DoxyCodeLine{00341     \};}
\DoxyCodeLine{00342   \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} \mbox{\hyperlink{class_t_exception}{TException}} \&e) \{}
\DoxyCodeLine{00343     ::dumpError(is, e.getMessage());}
\DoxyCodeLine{00344     clear();}
\DoxyCodeLine{00345   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00346     ::dumpError(is);}
\DoxyCodeLine{00347     clear();}
\DoxyCodeLine{00348   \}}
\DoxyCodeLine{00349 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01242}{TIStream\+::close\+Child()}}, \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}, \mbox{\hyperlink{l00180}{Shader\+Interface\+::\+Shader\+Data\+::m\+\_\+type}}, and \mbox{\hyperlink{l01231}{TIStream\+::open\+Child()}}.

\mbox{\Hypertarget{class_shader_interface_ae1ecdda15c2b8a6fa40061c9442a4a0b}\label{class_shader_interface_ae1ecdda15c2b8a6fa40061c9442a4a0b}} 
\index{ShaderInterface@{ShaderInterface}!mainShader@{mainShader}}
\index{mainShader@{mainShader}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{mainShader()}{mainShader()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_shader_interface_1_1_shader_data}{Shader\+Interface\+::\+Shader\+Data}} \& Shader\+Interface\+::main\+Shader (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00145                                                                    \{}
\DoxyCodeLine{00146   \textcolor{keywordflow}{return} m\_mainShader;}
\DoxyCodeLine{00147 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shader_interface_a005d89e37c98779da3390ebf7d338619}\label{class_shader_interface_a005d89e37c98779da3390ebf7d338619}} 
\index{ShaderInterface@{ShaderInterface}!makeProgram@{makeProgram}}
\index{makeProgram@{makeProgram}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{makeProgram()}{makeProgram()}}
{\footnotesize\ttfamily std\+::pair$<$ QOpen\+GLShader\+Program $\ast$, QDate\+Time $>$ Shader\+Interface\+::make\+Program (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_shader_interface_1_1_shader_data}{Shader\+Data}} \&}]{sd,  }\item[{int}]{varyings\+Count = {\ttfamily 0},  }\item[{const GLchar $\ast$$\ast$}]{varying\+Names = {\ttfamily 0} }\end{DoxyParamCaption}) const}

Returns a compiled shader program against current Open\+GL context, and the last modified date of the associated shader file. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00171                                        \{}
\DoxyCodeLine{00172   CompiledShader result;}
\DoxyCodeLine{00173 }
\DoxyCodeLine{00174   \textcolor{keywordflow}{if} (!isValid()) \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00175 }
\DoxyCodeLine{00176   result.first = \textcolor{keyword}{new} QOpenGLShaderProgram;}
\DoxyCodeLine{00177 }
\DoxyCodeLine{00178   ::loadShader(sd.m\_type, sd.m\_path, result);}
\DoxyCodeLine{00179 }
\DoxyCodeLine{00180   \textcolor{keywordflow}{if} (varyingsCount > 0)}
\DoxyCodeLine{00181     glTransformFeedbackVaryings(result.first-\/>programId(), varyingsCount,}
\DoxyCodeLine{00182                                 varyingNames, GL\_INTERLEAVED\_ATTRIBS);}
\DoxyCodeLine{00183   \textcolor{comment}{// NOTE: Since we'll be drawing a single vertex, GL\_INTERLEAVED\_ATTRIBS is}}
\DoxyCodeLine{00184   \textcolor{comment}{// less restrictive than GL\_SEPARATE\_ATTRIBS.}}
\DoxyCodeLine{00185 }
\DoxyCodeLine{00186   result.first-\/>link();}
\DoxyCodeLine{00187 }
\DoxyCodeLine{00188   \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00189 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00179}{Shader\+Interface\+::\+Shader\+Data\+::m\+\_\+path}}, and \mbox{\hyperlink{l00180}{Shader\+Interface\+::\+Shader\+Data\+::m\+\_\+type}}.

\mbox{\Hypertarget{class_shader_interface_a0cbcbb6d4d630aaeebd7e851df464c96}\label{class_shader_interface_a0cbcbb6d4d630aaeebd7e851df464c96}} 
\index{ShaderInterface@{ShaderInterface}!parameters@{parameters}}
\index{parameters@{parameters}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{parameters()}{parameters()}}
{\footnotesize\ttfamily const std\+::vector$<$ \mbox{\hyperlink{class_shader_interface_1_1_parameter}{Shader\+Interface\+::\+Parameter}} $>$ \& Shader\+Interface\+::parameters (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00133           \{}
\DoxyCodeLine{00134   \textcolor{keywordflow}{return} m\_parameters;}
\DoxyCodeLine{00135 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shader_interface_a615c5402586a36e664e87dd300119b73}\label{class_shader_interface_a615c5402586a36e664e87dd300119b73}} 
\index{ShaderInterface@{ShaderInterface}!saveData@{saveData}}
\index{saveData@{saveData}!ShaderInterface@{ShaderInterface}}
\doxysubsubsection{\texorpdfstring{saveData()}{saveData()}}
{\footnotesize\ttfamily void Shader\+Interface\+::save\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&}]{os }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} This is a pure virtual function and must be overridden with a method
\end{DoxyVerb}
 that implements the object saving to a data stream (i.\+e put the object\textquotesingle{}s features on a formatted data stream). For example the \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} class use his implementation to save the values of the parameters that characterizes a stage object as name, coordinates, etc... on a file {\itshape os} is an output file stream. 

Implements \mbox{\hyperlink{class_t_persist_afb991f7b26f14dbee1740ef036ff4e85}{TPersist}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00193                                            \{}
\DoxyCodeLine{00194   \textcolor{keyword}{struct }locals \{}
\DoxyCodeLine{00195     \textcolor{keyword}{inline} \textcolor{keyword}{static} \mbox{\hyperlink{class_t_file_path}{TFilePath}} getRelativePath(\textcolor{keyword}{const} \mbox{\hyperlink{class_t_file_path}{TFilePath}} \&file,}
\DoxyCodeLine{00196                                             \textcolor{keyword}{const} \mbox{\hyperlink{class_t_file_path}{TFilePath}} \&relTo) \{}
\DoxyCodeLine{00197       QDir relToDir(}
\DoxyCodeLine{00198           QString::fromStdWString(relTo.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}().getWideString()));}
\DoxyCodeLine{00199       QString relFileStr(relToDir.relativeFilePath(}
\DoxyCodeLine{00200           QString::fromStdWString(file.getWideString())));}
\DoxyCodeLine{00201       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path}{TFilePath}}(relFileStr.toStdWString());}
\DoxyCodeLine{00202     \}}
\DoxyCodeLine{00203   \};}
\DoxyCodeLine{00204 }
\DoxyCodeLine{00205   assert(isValid());}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207   \textcolor{keywordflow}{if} (isValid()) \{}
\DoxyCodeLine{00208     os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(l\_names[MAIN\_PROGRAM]);}
\DoxyCodeLine{00209     os << m\_mainShader;}
\DoxyCodeLine{00210     os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00211 }
\DoxyCodeLine{00212     os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(l\_names[INPUT\_PORTS]);}
\DoxyCodeLine{00213     \{}
\DoxyCodeLine{00214       \textcolor{keywordtype}{int} i, iCount = int(m\_ports.size());}
\DoxyCodeLine{00215       \textcolor{keywordflow}{for} (i = 0; i != iCount; ++i) \{}
\DoxyCodeLine{00216         os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(l\_names[INPUT\_PORT]);}
\DoxyCodeLine{00217         os << m\_ports[i];}
\DoxyCodeLine{00218         os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00219       \}}
\DoxyCodeLine{00220 }
\DoxyCodeLine{00221       \textcolor{keywordflow}{if} (m\_portsShader.isValid()) \{}
\DoxyCodeLine{00222         os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(l\_names[PORTS\_PROGRAM]);}
\DoxyCodeLine{00223         os << m\_portsShader;}
\DoxyCodeLine{00224         os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00225       \}}
\DoxyCodeLine{00226     \}}
\DoxyCodeLine{00227     os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00228 }
\DoxyCodeLine{00229     \textcolor{keywordflow}{if} (m\_bboxShader.isValid()) \{}
\DoxyCodeLine{00230       os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(l\_names[BBOX\_PROGRAM]);}
\DoxyCodeLine{00231       os << m\_bboxShader;}
\DoxyCodeLine{00232       os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00233     \}}
\DoxyCodeLine{00234 }
\DoxyCodeLine{00235     \textcolor{keywordflow}{if} (m\_hwt != ANY) \{}
\DoxyCodeLine{00236       os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(l\_names[HANDLED\_WORLD\_TRANSFORMS]);}
\DoxyCodeLine{00237       os << l\_names[m\_hwt];}
\DoxyCodeLine{00238       os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00239     \}}
\DoxyCodeLine{00240 }
\DoxyCodeLine{00241     os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(l\_names[PARAMETERS]);}
\DoxyCodeLine{00242     \{}
\DoxyCodeLine{00243       \textcolor{keywordtype}{int} p, pCount = int(m\_parameters.size());}
\DoxyCodeLine{00244       \textcolor{keywordflow}{for} (p = 0; p != pCount; ++p) \{}
\DoxyCodeLine{00245         os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(l\_names[PARAMETER]);}
\DoxyCodeLine{00246         os << m\_parameters[p];}
\DoxyCodeLine{00247         os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00248       \}}
\DoxyCodeLine{00249     \}}
\DoxyCodeLine{00250     os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{00251   \}}
\DoxyCodeLine{00252 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00520}{TOStream\+::close\+Child()}}, \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}, and \mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{TOStream\+::open\+Child()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/stdfx/shaderinterface.\+h\item 
E\+:/opentoonz/toonz/sources/stdfx/shaderinterface.\+cpp\end{DoxyCompactItemize}
