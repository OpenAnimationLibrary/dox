\hypertarget{class_schematic_link}{}\doxysection{Schematic\+Link Class Reference}
\label{class_schematic_link}\index{SchematicLink@{SchematicLink}}


{\ttfamily \#include $<$schematicnode.\+h$>$}

Inheritance diagram for Schematic\+Link\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_schematic_link}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_schematic_link_ab4b4d66dbe1c2a91b491826f7ff75f80}{Schematic\+Link}} (QGraphics\+Item $\ast$parent, QGraphics\+Scene $\ast$scene)
\item 
QRectF \mbox{\hyperlink{class_schematic_link_a819a7cf048fdb18d172b77ead94af97f}{bounding\+Rect}} () const override
\begin{DoxyCompactList}\small\item\em Reimplements the pure virtual QGraphics\+Item\+::bounding\+Rect() method. \end{DoxyCompactList}\item 
QPainter\+Path \mbox{\hyperlink{class_schematic_link_aaa51eb5656aed6d2875a0e87d7d9a950}{shape}} () const override
\begin{DoxyCompactList}\small\item\em Reimplements the virtual QGraphics\+Item\+::shape() method. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_schematic_link_a9509e26bcc2c6c13e87c659683584159}{paint}} (QPainter $\ast$painter, const QStyle\+Option\+Graphics\+Item $\ast$option, QWidget $\ast$widget=0) override
\begin{DoxyCompactList}\small\item\em Reimplements the pure virtual QGraphics\+Item\+::paint() method. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}{update\+Path}} (const QPointF \&start\+Pos, const QPointF \&end\+Pos)
\item 
void \mbox{\hyperlink{class_schematic_link_a5fe0340597a09b9eda9640ffb4fef7e2}{update\+Path}} (\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$start\+Port, \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$end\+Port)
\item 
void \mbox{\hyperlink{class_schematic_link_a99deb7dec768784435226c11603975c8}{update\+Path}} ()
\item 
void \mbox{\hyperlink{class_schematic_link_ab073c846f1ddc0ea71453f46f9866df5}{update\+End\+Pos}} (const QPointF \&end\+Pos)
\item 
void \mbox{\hyperlink{class_schematic_link_a2a8b9f790ce3d2d61c3101ee3eda680b}{set\+Start\+Port}} (\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$start\+Port)
\begin{DoxyCompactList}\small\item\em Sets the start \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of the link to {\bfseries{start\+Port}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_schematic_link_aa85efeba1810851f4c5882732aaf1ce4}{set\+End\+Port}} (\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$end\+Port)
\begin{DoxyCompactList}\small\item\em Sets the start \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of the link to {\bfseries{start\+Port}}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$ \mbox{\hyperlink{class_schematic_link_ae6fac3ac6e4f44958b7388be9bd9bcf6}{get\+Start\+Port}} () const
\begin{DoxyCompactList}\small\item\em Returns the start \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of the link. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$ \mbox{\hyperlink{class_schematic_link_a3a08c8ff1c6ebe6e526bc44bb6c9e96c}{get\+End\+Port}} () const
\begin{DoxyCompactList}\small\item\em Returns the end \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of the link. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$ \mbox{\hyperlink{class_schematic_link_ad634461aec8ce9f70d8f97f9d91ff582}{get\+Other\+Port}} (const \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$port) const
\item 
\mbox{\hyperlink{class_schematic_node}{Schematic\+Node}} $\ast$ \mbox{\hyperlink{class_schematic_link_a7ea14562560270438447734d45cf2785}{get\+Other\+Node}} (const \mbox{\hyperlink{class_schematic_node}{Schematic\+Node}} $\ast$node) const
\item 
bool \mbox{\hyperlink{class_schematic_link_a424acf550625de2a3cb2c86c12211ad7}{is\+Line\+Shaped}} ()
\begin{DoxyCompactList}\small\item\em Returns true if the link is line shaped. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_schematic_link_a60822749d2bad8a4837f98684af51e7e}{set\+Line\+Shaped}} (bool value)
\item 
bool \mbox{\hyperlink{class_schematic_link_a693c869b5b4a7b7734256fdac9623211}{is\+Highlighted}} ()
\item 
void \mbox{\hyperlink{class_schematic_link_a22da0b8cd87ee1b62c73ba774f91caf1}{set\+Highlighted}} (bool value)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_schematic_link_a8b63b420e4b74397553c8968a7bcc1e8}{mouse\+Press\+Event}} (QGraphics\+Scene\+Mouse\+Event $\ast$me) override
\item 
void \mbox{\hyperlink{class_schematic_link_ab3f78eb04394abb871664fc9e4c0cd5c}{mouse\+Release\+Event}} (QGraphics\+Scene\+Mouse\+Event $\ast$me) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb} \brief The class provides method to draw links between two SchematicPort

 A link can has a cubic shape or a line shape and is drawing calling the
\end{DoxyVerb}
 update\+Path() method. The class also provides methods to retrieve the start \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} and the end \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of the link and a method to remove the link from these two \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}}.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}}, \mbox{\hyperlink{class_schematic_node}{Schematic\+Node}}. 
\end{DoxySeeAlso}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_schematic_link_ab4b4d66dbe1c2a91b491826f7ff75f80}\label{class_schematic_link_ab4b4d66dbe1c2a91b491826f7ff75f80}} 
\index{SchematicLink@{SchematicLink}!SchematicLink@{SchematicLink}}
\index{SchematicLink@{SchematicLink}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{SchematicLink()}{SchematicLink()}}
{\footnotesize\ttfamily Schematic\+Link\+::\+Schematic\+Link (\begin{DoxyParamCaption}\item[{QGraphics\+Item $\ast$}]{parent,  }\item[{QGraphics\+Scene $\ast$}]{scene }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00436     : QGraphicsItem(parent)}
\DoxyCodeLine{00437 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00438     : QGraphicsItem(parent, scene)}
\DoxyCodeLine{00439 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00440     , m\_startPort(0)}
\DoxyCodeLine{00441     , m\_endPort(0)}
\DoxyCodeLine{00442     , m\_path()}
\DoxyCodeLine{00443     , m\_hitPath()}
\DoxyCodeLine{00444     , m\_lineShaped(\textcolor{keyword}{false})}
\DoxyCodeLine{00445     , m\_highlighted(\textcolor{keyword}{false}) \{}
\DoxyCodeLine{00446 \textcolor{preprocessor}{\#if QT\_VERSION >= 0x050000}}
\DoxyCodeLine{00447   scene-\/>addItem(\textcolor{keyword}{this});}
\DoxyCodeLine{00448 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00449   setFlag(QGraphicsItem::ItemIsMovable, \textcolor{keyword}{false});}
\DoxyCodeLine{00450   setFlag(QGraphicsItem::ItemIsSelectable, \textcolor{keyword}{true});}
\DoxyCodeLine{00451   setFlag(QGraphicsItem::ItemIsFocusable, \textcolor{keyword}{false});}
\DoxyCodeLine{00452   setZValue(0.0);}
\DoxyCodeLine{00453 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_a3ddef1e41386bd08d7fca7d384043b80}\label{class_schematic_link_a3ddef1e41386bd08d7fca7d384043b80}} 
\index{SchematicLink@{SchematicLink}!````~SchematicLink@{$\sim$SchematicLink}}
\index{````~SchematicLink@{$\sim$SchematicLink}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{$\sim$SchematicLink()}{~SchematicLink()}}
{\footnotesize\ttfamily Schematic\+Link\+::$\sim$\+Schematic\+Link (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00457 \{ m\_startPort = m\_endPort = 0; \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_schematic_link_a819a7cf048fdb18d172b77ead94af97f}\label{class_schematic_link_a819a7cf048fdb18d172b77ead94af97f}} 
\index{SchematicLink@{SchematicLink}!boundingRect@{boundingRect}}
\index{boundingRect@{boundingRect}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{boundingRect()}{boundingRect()}}
{\footnotesize\ttfamily QRectF Schematic\+Link\+::bounding\+Rect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}



Reimplements the pure virtual QGraphics\+Item\+::bounding\+Rect() method. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00461                                          \{}
\DoxyCodeLine{00462   \textcolor{keywordflow}{return} m\_hitPath.boundingRect().adjusted(-\/5, -\/5, 5, 5);}
\DoxyCodeLine{00463 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_a3a08c8ff1c6ebe6e526bc44bb6c9e96c}\label{class_schematic_link_a3a08c8ff1c6ebe6e526bc44bb6c9e96c}} 
\index{SchematicLink@{SchematicLink}!getEndPort@{getEndPort}}
\index{getEndPort@{getEndPort}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{getEndPort()}{getEndPort()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$ Schematic\+Link\+::get\+End\+Port (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the end \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of the link. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00257 \{ \textcolor{keywordflow}{return} m\_endPort; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00117}{Schematic\+Scene\+::clear\+All\+Items()}}, \mbox{\hyperlink{l00837}{Schematic\+Port\+::is\+Linked\+To()}}, and \mbox{\hyperlink{l00852}{Schematic\+Port\+::update\+Links\+Geometry()}}.

\mbox{\Hypertarget{class_schematic_link_a7ea14562560270438447734d45cf2785}\label{class_schematic_link_a7ea14562560270438447734d45cf2785}} 
\index{SchematicLink@{SchematicLink}!getOtherNode@{getOtherNode}}
\index{getOtherNode@{getOtherNode}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{getOtherNode()}{getOtherNode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_schematic_node}{Schematic\+Node}} $\ast$ Schematic\+Link\+::get\+Other\+Node (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_schematic_node}{Schematic\+Node}} $\ast$}]{node }\end{DoxyParamCaption}) const}

Returns the other \mbox{\hyperlink{class_schematic_node}{Schematic\+Node}} linked to the specified {\bfseries{node}}.~\newline
Returns 0 if {\bfseries{node}} isn\textquotesingle{}t neither the parent node of the start \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} either the parent node of the end \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of the link. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00564                                                                           \{}
\DoxyCodeLine{00565   \textcolor{keywordflow}{if} (node == m\_startPort-\/>getNode())}
\DoxyCodeLine{00566     \textcolor{keywordflow}{return} m\_endPort-\/>getNode();}
\DoxyCodeLine{00567   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (node == m\_endPort-\/>getNode())}
\DoxyCodeLine{00568     \textcolor{keywordflow}{return} m\_startPort-\/>getNode();}
\DoxyCodeLine{00569   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00570     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00571 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_ad634461aec8ce9f70d8f97f9d91ff582}\label{class_schematic_link_ad634461aec8ce9f70d8f97f9d91ff582}} 
\index{SchematicLink@{SchematicLink}!getOtherPort@{getOtherPort}}
\index{getOtherPort@{getOtherPort}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{getOtherPort()}{getOtherPort()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$ Schematic\+Link\+::get\+Other\+Port (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$}]{port }\end{DoxyParamCaption}) const}

Returns the other \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} linked to the specified {\bfseries{port}}.~\newline
Returns 0 if {\bfseries{port}} isn\textquotesingle{}t neither the start \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} either the end \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of this link. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00553                                                                           \{}
\DoxyCodeLine{00554   \textcolor{keywordflow}{if} (port == m\_startPort)}
\DoxyCodeLine{00555     \textcolor{keywordflow}{return} m\_endPort;}
\DoxyCodeLine{00556   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (port == m\_endPort)}
\DoxyCodeLine{00557     \textcolor{keywordflow}{return} m\_startPort;}
\DoxyCodeLine{00558   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00559     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00560 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00806}{Schematic\+Port\+::erase\+Link()}}, and \mbox{\hyperlink{l01922}{Fx\+Schematic\+Scene\+::simulate\+Disconnect\+Selection()}}.

\mbox{\Hypertarget{class_schematic_link_ae6fac3ac6e4f44958b7388be9bd9bcf6}\label{class_schematic_link_ae6fac3ac6e4f44958b7388be9bd9bcf6}} 
\index{SchematicLink@{SchematicLink}!getStartPort@{getStartPort}}
\index{getStartPort@{getStartPort}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{getStartPort()}{getStartPort()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$ Schematic\+Link\+::get\+Start\+Port (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the start \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of the link. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00255 \{ \textcolor{keywordflow}{return} m\_startPort; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00117}{Schematic\+Scene\+::clear\+All\+Items()}}, \mbox{\hyperlink{l00837}{Schematic\+Port\+::is\+Linked\+To()}}, \mbox{\hyperlink{l00471}{paint()}}, and \mbox{\hyperlink{l00852}{Schematic\+Port\+::update\+Links\+Geometry()}}.

\mbox{\Hypertarget{class_schematic_link_a693c869b5b4a7b7734256fdac9623211}\label{class_schematic_link_a693c869b5b4a7b7734256fdac9623211}} 
\index{SchematicLink@{SchematicLink}!isHighlighted@{isHighlighted}}
\index{isHighlighted@{isHighlighted}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{isHighlighted()}{isHighlighted()}}
{\footnotesize\ttfamily bool Schematic\+Link\+::is\+Highlighted (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00273 \{ \textcolor{keywordflow}{return} m\_highlighted; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_a424acf550625de2a3cb2c86c12211ad7}\label{class_schematic_link_a424acf550625de2a3cb2c86c12211ad7}} 
\index{SchematicLink@{SchematicLink}!isLineShaped@{isLineShaped}}
\index{isLineShaped@{isLineShaped}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{isLineShaped()}{isLineShaped()}}
{\footnotesize\ttfamily bool Schematic\+Link\+::is\+Line\+Shaped (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Returns true if the link is line shaped. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00270 \{ \textcolor{keywordflow}{return} m\_lineShaped; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00113}{Fx\+Selection\+::select()}}.

\mbox{\Hypertarget{class_schematic_link_a8b63b420e4b74397553c8968a7bcc1e8}\label{class_schematic_link_a8b63b420e4b74397553c8968a7bcc1e8}} 
\index{SchematicLink@{SchematicLink}!mousePressEvent@{mousePressEvent}}
\index{mousePressEvent@{mousePressEvent}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{mousePressEvent()}{mousePressEvent()}}
{\footnotesize\ttfamily void Schematic\+Link\+::mouse\+Press\+Event (\begin{DoxyParamCaption}\item[{QGraphics\+Scene\+Mouse\+Event $\ast$}]{me }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00575                                                                 \{}
\DoxyCodeLine{00576   QPointF pos              = me-\/>scenePos();}
\DoxyCodeLine{00577   \mbox{\hyperlink{class_schematic_port}{SchematicPort}} *startPort = \mbox{\hyperlink{class_schematic_link_ae6fac3ac6e4f44958b7388be9bd9bcf6}{getStartPort}}();}
\DoxyCodeLine{00578   \mbox{\hyperlink{class_schematic_port}{SchematicPort}} *endPort   = \mbox{\hyperlink{class_schematic_link_a3a08c8ff1c6ebe6e526bc44bb6c9e96c}{getEndPort}}();}
\DoxyCodeLine{00579 }
\DoxyCodeLine{00580   \textcolor{keywordflow}{if} (!startPort || !endPort) \{}
\DoxyCodeLine{00581     me-\/>ignore();}
\DoxyCodeLine{00582     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00583   \}}
\DoxyCodeLine{00584 }
\DoxyCodeLine{00585   \textcolor{keywordflow}{if} (startPort \&\& endPort) \{}
\DoxyCodeLine{00586     QRectF startRect = startPort-\/>boundingRect();}
\DoxyCodeLine{00587     startRect.moveTopLeft(startPort-\/>scenePos());}
\DoxyCodeLine{00588     QRectF endRect = endPort-\/>boundingRect();}
\DoxyCodeLine{00589     endRect.moveTopLeft(endPort-\/>scenePos());}
\DoxyCodeLine{00590     \textcolor{keywordflow}{if} (startRect.contains(pos) || endRect.contains(pos)) \{}
\DoxyCodeLine{00591       me-\/>ignore();}
\DoxyCodeLine{00592       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00593     \}}
\DoxyCodeLine{00594   \}}
\DoxyCodeLine{00595 }
\DoxyCodeLine{00596   QMatrix matrix = scene()-\/>views()[0]-\/>matrix();}
\DoxyCodeLine{00597 \textcolor{preprocessor}{\#if QT\_VERSION >= 0x050000}}
\DoxyCodeLine{00598   \textcolor{keywordtype}{double} scaleFactor = sqrt(matrix.determinant());}
\DoxyCodeLine{00599 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00600   \textcolor{keywordtype}{double} scaleFactor = sqrt(matrix.det());}
\DoxyCodeLine{00601 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00602 }
\DoxyCodeLine{00603   QPointF startPos = \mbox{\hyperlink{class_schematic_link_ae6fac3ac6e4f44958b7388be9bd9bcf6}{getStartPort}}()-\/>\mbox{\hyperlink{class_schematic_port_ad492cc685e51ebb805131898a57f6518}{getLinkEndPoint}}();}
\DoxyCodeLine{00604   QPointF endPos   = \mbox{\hyperlink{class_schematic_link_a3a08c8ff1c6ebe6e526bc44bb6c9e96c}{getEndPort}}()-\/>\mbox{\hyperlink{class_schematic_port_ad492cc685e51ebb805131898a57f6518}{getLinkEndPoint}}();}
\DoxyCodeLine{00605   QPointF p0((endPos.x() -\/ startPos.x()) * 0.5, 0);}
\DoxyCodeLine{00606   QPointF p1(p0.x(), endPos.y() -\/ startPos.y());}
\DoxyCodeLine{00607   QPointF p2(endPos -\/ startPos);}
\DoxyCodeLine{00608   \textcolor{keywordtype}{double} sensitivity = 5 / scaleFactor;}
\DoxyCodeLine{00609   QPointF h(0, sensitivity);}
\DoxyCodeLine{00610   QPointF p = h;}
\DoxyCodeLine{00611   \textcolor{keywordflow}{if} (p2.y() > 0)}
\DoxyCodeLine{00612     p.setX(p2.x() > 0 ? -\/sensitivity : sensitivity);}
\DoxyCodeLine{00613   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00614     p.setX(p2.x() > 0 ? sensitivity : -\/sensitivity);}
\DoxyCodeLine{00615   QPainterPath path(QPointF(0, 0));}
\DoxyCodeLine{00616   path.lineTo(h);}
\DoxyCodeLine{00617   path.cubicTo(p0 + p, p1 + p, p2 + h);}
\DoxyCodeLine{00618   path.lineTo(p2 -\/ h);}
\DoxyCodeLine{00619   path.cubicTo(p1 -\/ p, p0 -\/ p, -\/h);}
\DoxyCodeLine{00620   path.lineTo(0, 0);}
\DoxyCodeLine{00621   \textcolor{keywordflow}{if} (!path.contains(me-\/>scenePos() -\/ scenePos())) \{}
\DoxyCodeLine{00622     me-\/>ignore();}
\DoxyCodeLine{00623     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00624   \}}
\DoxyCodeLine{00625 }
\DoxyCodeLine{00626   \textcolor{keywordflow}{if} (!isSelected()) \{}
\DoxyCodeLine{00627     \textcolor{keywordflow}{if} (me-\/>modifiers() != Qt::ControlModifier) scene()-\/>clearSelection();}
\DoxyCodeLine{00628     \textcolor{keywordflow}{if} (me-\/>button() == Qt::LeftButton || me-\/>button() == Qt::RightButton)}
\DoxyCodeLine{00629       setSelected(\textcolor{keyword}{true});}
\DoxyCodeLine{00630   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00631     \textcolor{keywordflow}{if} (me-\/>modifiers() == Qt::ControlModifier \&\&}
\DoxyCodeLine{00632         me-\/>button() == Qt::LeftButton)}
\DoxyCodeLine{00633       setSelected(\textcolor{keyword}{false});}
\DoxyCodeLine{00634   \}}
\DoxyCodeLine{00635 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_ab3f78eb04394abb871664fc9e4c0cd5c}\label{class_schematic_link_ab3f78eb04394abb871664fc9e4c0cd5c}} 
\index{SchematicLink@{SchematicLink}!mouseReleaseEvent@{mouseReleaseEvent}}
\index{mouseReleaseEvent@{mouseReleaseEvent}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{mouseReleaseEvent()}{mouseReleaseEvent()}}
{\footnotesize\ttfamily void Schematic\+Link\+::mouse\+Release\+Event (\begin{DoxyParamCaption}\item[{QGraphics\+Scene\+Mouse\+Event $\ast$}]{me }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00639                                                                   \{}
\DoxyCodeLine{00640   \textcolor{keywordflow}{if} (me-\/>modifiers() != Qt::ControlModifier \&\& me-\/>button() != Qt::RightButton)}
\DoxyCodeLine{00641     QGraphicsItem::mouseReleaseEvent(me);}
\DoxyCodeLine{00642 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_a9509e26bcc2c6c13e87c659683584159}\label{class_schematic_link_a9509e26bcc2c6c13e87c659683584159}} 
\index{SchematicLink@{SchematicLink}!paint@{paint}}
\index{paint@{paint}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{paint()}{paint()}}
{\footnotesize\ttfamily void Schematic\+Link\+::paint (\begin{DoxyParamCaption}\item[{QPainter $\ast$}]{painter,  }\item[{const QStyle\+Option\+Graphics\+Item $\ast$}]{option,  }\item[{QWidget $\ast$}]{widget = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}



Reimplements the pure virtual QGraphics\+Item\+::paint() method. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00473                                            \{}
\DoxyCodeLine{00474   \mbox{\hyperlink{class_schematic_viewer}{SchematicViewer}} *viewer;}
\DoxyCodeLine{00475   \mbox{\hyperlink{class_fx_schematic_scene}{FxSchematicScene}} *fxScene = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_fx_schematic_scene}{FxSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{00476   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{00477       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{00478   \textcolor{keywordflow}{if} (fxScene) \{}
\DoxyCodeLine{00479     viewer = fxScene-\/>getSchematicViewer();}
\DoxyCodeLine{00480   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (stageScene) \{}
\DoxyCodeLine{00481     viewer = stageScene-\/>getSchematicViewer();}
\DoxyCodeLine{00482   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00483     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00484   \}}
\DoxyCodeLine{00485 }
\DoxyCodeLine{00486   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_schematic_link_ae6fac3ac6e4f44958b7388be9bd9bcf6}{getStartPort}}() \&\& (\mbox{\hyperlink{class_schematic_link_ae6fac3ac6e4f44958b7388be9bd9bcf6}{getStartPort}}()-\/>\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == 100  \textcolor{comment}{// eStageSplinePort}}
\DoxyCodeLine{00487                          || \mbox{\hyperlink{class_schematic_link_ae6fac3ac6e4f44958b7388be9bd9bcf6}{getStartPort}}()-\/>\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == 202)) \{  \textcolor{comment}{// eFxLinkPort}}
\DoxyCodeLine{00488     \textcolor{keywordflow}{if} (isSelected() || isHighlighted())}
\DoxyCodeLine{00489       painter-\/>setPen(QPen(viewer-\/>getMotionPathSelectedLinkColor()));}
\DoxyCodeLine{00490     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00491       painter-\/>setPen(QColor(viewer-\/>getMotionPathLinkColor()));}
\DoxyCodeLine{00492   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (isSelected() || isHighlighted())}
\DoxyCodeLine{00493     painter-\/>setPen(QPen(viewer-\/>getSelectedLinkColor()));}
\DoxyCodeLine{00494 }
\DoxyCodeLine{00495   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!m\_lineShaped)}
\DoxyCodeLine{00496     painter-\/>setPen(QPen(viewer-\/>getLinkColor()));}
\DoxyCodeLine{00497   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00498     painter-\/>setPen(QPen(QColor(170, 170, 10), 0, Qt::DashLine));}
\DoxyCodeLine{00499 }
\DoxyCodeLine{00500   painter-\/>setRenderHint(QPainter::Antialiasing, \textcolor{keyword}{true});}
\DoxyCodeLine{00501   painter-\/>drawPath(m\_path);}
\DoxyCodeLine{00502 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00255}{get\+Start\+Port()}}, and \mbox{\hyperlink{l00384}{Schematic\+Port\+::get\+Type()}}.

\mbox{\Hypertarget{class_schematic_link_aa85efeba1810851f4c5882732aaf1ce4}\label{class_schematic_link_aa85efeba1810851f4c5882732aaf1ce4}} 
\index{SchematicLink@{SchematicLink}!setEndPort@{setEndPort}}
\index{setEndPort@{setEndPort}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{setEndPort()}{setEndPort()}}
{\footnotesize\ttfamily void Schematic\+Link\+::set\+End\+Port (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$}]{end\+Port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the start \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of the link to {\bfseries{start\+Port}}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00253 \{ m\_endPort = endPort; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00822}{Schematic\+Port\+::make\+Link()}}, and \mbox{\hyperlink{l01334}{Fx\+Schematic\+Port\+::make\+Link()}}.

\mbox{\Hypertarget{class_schematic_link_a22da0b8cd87ee1b62c73ba774f91caf1}\label{class_schematic_link_a22da0b8cd87ee1b62c73ba774f91caf1}} 
\index{SchematicLink@{SchematicLink}!setHighlighted@{setHighlighted}}
\index{setHighlighted@{setHighlighted}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{setHighlighted()}{setHighlighted()}}
{\footnotesize\ttfamily void Schematic\+Link\+::set\+Highlighted (\begin{DoxyParamCaption}\item[{bool}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00274 \{ m\_highlighted = value; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_a60822749d2bad8a4837f98684af51e7e}\label{class_schematic_link_a60822749d2bad8a4837f98684af51e7e}} 
\index{SchematicLink@{SchematicLink}!setLineShaped@{setLineShaped}}
\index{setLineShaped@{setLineShaped}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{setLineShaped()}{setLineShaped()}}
{\footnotesize\ttfamily void Schematic\+Link\+::set\+Line\+Shaped (\begin{DoxyParamCaption}\item[{bool}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00271 \{ m\_lineShaped = value; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_a2a8b9f790ce3d2d61c3101ee3eda680b}\label{class_schematic_link_a2a8b9f790ce3d2d61c3101ee3eda680b}} 
\index{SchematicLink@{SchematicLink}!setStartPort@{setStartPort}}
\index{setStartPort@{setStartPort}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{setStartPort()}{setStartPort()}}
{\footnotesize\ttfamily void Schematic\+Link\+::set\+Start\+Port (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$}]{start\+Port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Sets the start \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} of the link to {\bfseries{start\+Port}}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00251 \{ m\_startPort = startPort; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00822}{Schematic\+Port\+::make\+Link()}}, and \mbox{\hyperlink{l01334}{Fx\+Schematic\+Port\+::make\+Link()}}.

\mbox{\Hypertarget{class_schematic_link_aaa51eb5656aed6d2875a0e87d7d9a950}\label{class_schematic_link_aaa51eb5656aed6d2875a0e87d7d9a950}} 
\index{SchematicLink@{SchematicLink}!shape@{shape}}
\index{shape@{shape}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{shape()}{shape()}}
{\footnotesize\ttfamily QPainter\+Path Schematic\+Link\+::shape (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}



Reimplements the virtual QGraphics\+Item\+::shape() method. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00467 \{ \textcolor{keywordflow}{return} m\_hitPath; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_ab073c846f1ddc0ea71453f46f9866df5}\label{class_schematic_link_ab073c846f1ddc0ea71453f46f9866df5}} 
\index{SchematicLink@{SchematicLink}!updateEndPos@{updateEndPos}}
\index{updateEndPos@{updateEndPos}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{updateEndPos()}{updateEndPos()}}
{\footnotesize\ttfamily void Schematic\+Link\+::update\+End\+Pos (\begin{DoxyParamCaption}\item[{const QPointF \&}]{end\+Pos }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00547                                                       \{}
\DoxyCodeLine{00548   \textcolor{keywordflow}{if} (m\_startPort) \mbox{\hyperlink{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}{updatePath}}(m\_startPort-\/>\mbox{\hyperlink{class_schematic_port_ad492cc685e51ebb805131898a57f6518}{getLinkEndPoint}}(), endPos);}
\DoxyCodeLine{00549 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_a99deb7dec768784435226c11603975c8}\label{class_schematic_link_a99deb7dec768784435226c11603975c8}} 
\index{SchematicLink@{SchematicLink}!updatePath@{updatePath}}
\index{updatePath@{updatePath}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{updatePath()}{updatePath()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void Schematic\+Link\+::update\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00246 \{ \mbox{\hyperlink{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}{updatePath}}(m\_startPort, m\_endPort); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}\label{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}} 
\index{SchematicLink@{SchematicLink}!updatePath@{updatePath}}
\index{updatePath@{updatePath}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{updatePath()}{updatePath()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void Schematic\+Link\+::update\+Path (\begin{DoxyParamCaption}\item[{const QPointF \&}]{start\+Pos,  }\item[{const QPointF \&}]{end\+Pos }\end{DoxyParamCaption})}

Update the link path.~\newline
The link is has a cubic shape starting from {\bfseries{start\+Pos}} and ending to {\bfseries{end\+Pos}}. If a link path already exists, the path is updating otherwise a path is created. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00506                                                                              \{}
\DoxyCodeLine{00507   prepareGeometryChange();}
\DoxyCodeLine{00508   setPos(startPos);}
\DoxyCodeLine{00509   \textcolor{keywordflow}{if} (!m\_lineShaped) \{}
\DoxyCodeLine{00510     QPointF p0((endPos.x() -\/ startPos.x()) * 0.5, 0);}
\DoxyCodeLine{00511     QPointF p1(p0.x(), endPos.y() -\/ startPos.y());}
\DoxyCodeLine{00512     QPointF p2(endPos -\/ startPos);}
\DoxyCodeLine{00513 }
\DoxyCodeLine{00514     m\_path = QPainterPath(QPointF(0, 0));}
\DoxyCodeLine{00515     m\_path.cubicTo(p0, p1, p2);}
\DoxyCodeLine{00516 }
\DoxyCodeLine{00517     QPointF h(0, 5);}
\DoxyCodeLine{00518     QPointF p = h;}
\DoxyCodeLine{00519     \textcolor{keywordflow}{if} (p2.y() > 0)}
\DoxyCodeLine{00520       p.setX(p2.x() > 0 ? -\/5 : 5);}
\DoxyCodeLine{00521     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00522       p.setX(p2.x() > 0 ? 5 : -\/5);}
\DoxyCodeLine{00523     m\_hitPath = QPainterPath(QPointF(0, 0));}
\DoxyCodeLine{00524     m\_hitPath.lineTo(h);}
\DoxyCodeLine{00525     m\_hitPath.cubicTo(p0 + p, p1 + p, p2 + h);}
\DoxyCodeLine{00526     m\_hitPath.lineTo(p2 -\/ h);}
\DoxyCodeLine{00527     m\_hitPath.cubicTo(p1 -\/ p, p0 -\/ p, -\/h);}
\DoxyCodeLine{00528     m\_hitPath.lineTo(0, 0);}
\DoxyCodeLine{00529   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00530     m\_path = QPainterPath(QPointF(0, 0));}
\DoxyCodeLine{00531     m\_path.lineTo(endPos -\/ startPos);}
\DoxyCodeLine{00532 }
\DoxyCodeLine{00533     m\_hitPath = QPainterPath(QPointF(0, 0));}
\DoxyCodeLine{00534     m\_hitPath.lineTo(endPos -\/ startPos);}
\DoxyCodeLine{00535   \}}
\DoxyCodeLine{00536 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00506}{update\+Path()}}.



Referenced by \mbox{\hyperlink{l00822}{Schematic\+Port\+::make\+Link()}}, \mbox{\hyperlink{l01334}{Fx\+Schematic\+Port\+::make\+Link()}}, \mbox{\hyperlink{l00852}{Schematic\+Port\+::update\+Links\+Geometry()}}, and \mbox{\hyperlink{l00506}{update\+Path()}}.

\mbox{\Hypertarget{class_schematic_link_a5fe0340597a09b9eda9640ffb4fef7e2}\label{class_schematic_link_a5fe0340597a09b9eda9640ffb4fef7e2}} 
\index{SchematicLink@{SchematicLink}!updatePath@{updatePath}}
\index{updatePath@{updatePath}!SchematicLink@{SchematicLink}}
\doxysubsubsection{\texorpdfstring{updatePath()}{updatePath()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void Schematic\+Link\+::update\+Path (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$}]{start\+Port,  }\item[{\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$}]{end\+Port }\end{DoxyParamCaption})}

Update the link path.~\newline
Call the \mbox{\hyperlink{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}{update\+Path(const QPoint\+F \&start\+Pos, const QPoint\+F \&end\+Pos)}} method. The {\bfseries{start}} pos and the {\bfseries{end\+Pos}} are taken from the the given {\bfseries{start\+Port}} and {\bfseries{end\+Port}}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00541                                                        \{}
\DoxyCodeLine{00542   \mbox{\hyperlink{class_schematic_link_a9bfcb06c072362836941fb49eb5b36d3}{updatePath}}(startPort-\/>\mbox{\hyperlink{class_schematic_port_ad492cc685e51ebb805131898a57f6518}{getLinkEndPoint}}(), endPort-\/>\mbox{\hyperlink{class_schematic_port_ad492cc685e51ebb805131898a57f6518}{getLinkEndPoint}}());}
\DoxyCodeLine{00543 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00868}{Schematic\+Port\+::get\+Link\+End\+Point()}}, and \mbox{\hyperlink{l00506}{update\+Path()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/schematicnode.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/schematicnode.\+cpp\end{DoxyCompactItemize}
