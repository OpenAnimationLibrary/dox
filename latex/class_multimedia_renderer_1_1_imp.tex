\hypertarget{class_multimedia_renderer_1_1_imp}{}\doxysection{Multimedia\+Renderer\+::Imp Class Reference}
\label{class_multimedia_renderer_1_1_imp}\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
Inheritance diagram for Multimedia\+Renderer\+::Imp\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_multimedia_renderer_1_1_imp}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_multimedia_renderer_1_1_imp_ae187cc7113e71db3d98b8181de74479a}{Imp}} (\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$scene, const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&movie\+Path, int multimedia\+Mode, int thread\+Count, bool cache\+Results)
\item 
void \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a49cc8194cea63ba4bb90eb1cae4df84c}{scan\+Scene\+For\+Render\+Nodes}} ()
\item 
void \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a6974c6663c2574b85fb64ddc6ff838f3}{scan\+Scene\+For\+Columns}} ()
\item 
void \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_ad8d211d7afc408aa93de283db177903c}{scan\+Scene\+For\+Layers}} ()
\item 
bool \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a9f69012e8e77f4c5e65c06bc5af36d68}{scan\+Cols\+Recursive}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx)
\begin{DoxyCompactList}\small\item\em Returns true if the passed fx is a valid column representant. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_column_fx}{TColumn\+Fx}} $\ast$ \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a25e97d27f9d462a7ce3b6f02635509e5}{search\+Column}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} fx)
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_aeb35602b717dd0a369ac84bc72e91402}{add\+Post\+Processing}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} fx, \mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} post\+Proc)
\item 
void \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a694ed6186ef2f356162e41d4c449c27c}{add\+Post\+Processing\+Recursive}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} fx, \mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} post\+Proc)
\item 
void \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_ae8cf46bd370104840d1aba3644b249c1}{start}} ()
\item 
bool \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_aaa85fac5a2428dee2b87c45a30614939}{on\+Frame\+Completed}} (int frame) override
\item 
bool \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a652e0ed694969e0b1e51232e24f20e5c}{on\+Frame\+Failed}} (int frame, \mbox{\hyperlink{class_t_exception}{TException}} \&e) override
\item 
void \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a20ad9a54e7064a065444e7339b1d56ea}{on\+Sequence\+Completed}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp) override
\item 
void \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a6cb0245fa8755fd87776b684f1117cff}{on\+Render\+Completed}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$ \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_ac524c39007c0892b5493489e8f05eeb3}{m\+\_\+scene}}
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a3d62597a2aee79c30b64c69a2970ee9c}{m\+\_\+fp}}
\item 
int \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a08e5fa440340b9a25a61d0ea8d4171fe}{m\+\_\+thread\+Count}}
\item 
bool \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a67ac0e0770cea340263b2b0d3bca0645}{m\+\_\+cache\+Results}}
\item 
double \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a18c45c31deb3868f5500af8e57b85e53}{m\+\_\+x\+Dpi}}
\item 
double \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_abeb124dd8aaa1cbbaca04254fc71704e}{m\+\_\+y\+Dpi}}
\item 
\mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a3b3ce29ad9a63979454997e33c3f9898}{m\+\_\+render\+Settings}}
\item 
std\+::vector$<$ \mbox{\hyperlink{class_multimedia_renderer_1_1_listener}{Multimedia\+Renderer\+::\+Listener}} $\ast$ $>$ \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a11f0bc6d178ef275a034aad9a76f991e}{m\+\_\+listeners}}
\item 
bool \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a47a3c23066cdf05bd2c177d50de5f0bc}{m\+\_\+precomputing\+Enabled}}
\item 
bool \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a82b332b4828edcdc0488c7236aeb8d79}{m\+\_\+canceled}}
\item 
int \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a45b542927ee5a1c7e45ea035b2d630cf}{m\+\_\+current\+Fx}}
\item 
std\+::set$<$ double $>$\+::iterator \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a0777bf846a84190f02faf03e0cdae563}{m\+\_\+current\+Frame}}
\item 
\mbox{\hyperlink{class_t_renderer}{TRenderer}} $\ast$ \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a4dadc7a686089ffa441069d53f30a956}{m\+\_\+current\+TRenderer}}
\item 
\mbox{\hyperlink{class_t_fx_set}{TFx\+Set}} \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a28321da9b650340291506936effffc8b}{m\+\_\+fxs\+To\+Render}}
\item 
std\+::set$<$ double $>$ \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a9af40093c9ef591cdd1388865022ab84}{m\+\_\+frames\+To\+Render}}
\item 
QEvent\+Loop \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_ae57607659e795b59c7ed623226dc542e}{m\+\_\+event\+Loop}}
\item 
int \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a44aabb83d96e63bc071d5dea87f523cd}{m\+\_\+multimedia\+Mode}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_ae187cc7113e71db3d98b8181de74479a}\label{class_multimedia_renderer_1_1_imp_ae187cc7113e71db3d98b8181de74479a}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!Imp@{Imp}}
\index{Imp@{Imp}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{Imp()}{Imp()}}
{\footnotesize\ttfamily Multimedia\+Renderer\+::\+Imp\+::\+Imp (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$}]{scene,  }\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{movie\+Path,  }\item[{int}]{multimedia\+Mode,  }\item[{int}]{thread\+Count,  }\item[{bool}]{cache\+Results }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00099     : m\_scene(scene)}
\DoxyCodeLine{00100     , m\_fp(moviePath)}
\DoxyCodeLine{00101     , m\_threadCount(threadCount)}
\DoxyCodeLine{00102     , m\_cacheResults(cacheResults)}
\DoxyCodeLine{00103     , m\_xDpi(72)}
\DoxyCodeLine{00104     , m\_yDpi(72)}
\DoxyCodeLine{00105     , m\_renderSettings()}
\DoxyCodeLine{00106     , m\_listeners()}
\DoxyCodeLine{00107     , m\_precomputingEnabled(\textcolor{keyword}{true})}
\DoxyCodeLine{00108     , m\_canceled(\textcolor{keyword}{false})}
\DoxyCodeLine{00109     , m\_currentFx(0)}
\DoxyCodeLine{00110     , m\_currentFrame()}
\DoxyCodeLine{00111     , m\_multimediaMode(multimediaMode) \{}
\DoxyCodeLine{00112   \textcolor{comment}{// Retrieve all fx nodes to be rendered in this process.}}
\DoxyCodeLine{00113   scanSceneForRenderNodes();}
\DoxyCodeLine{00114 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a3141bb7e6d01dd8df7534ef592e8d598}\label{class_multimedia_renderer_1_1_imp_a3141bb7e6d01dd8df7534ef592e8d598}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!````~Imp@{$\sim$Imp}}
\index{````~Imp@{$\sim$Imp}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{$\sim$Imp()}{~Imp()}}
{\footnotesize\ttfamily Multimedia\+Renderer\+::\+Imp\+::$\sim$\+Imp (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00118 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_aeb35602b717dd0a369ac84bc72e91402}\label{class_multimedia_renderer_1_1_imp_aeb35602b717dd0a369ac84bc72e91402}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!addPostProcessing@{addPostProcessing}}
\index{addPostProcessing@{addPostProcessing}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{addPostProcessing()}{addPostProcessing()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} Multimedia\+Renderer\+::\+Imp\+::add\+Post\+Processing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}}}]{fx,  }\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}}}]{post\+Proc }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00231                                                                     \{}
\DoxyCodeLine{00232   \textcolor{keywordflow}{if} (\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsheet_fx}{TXsheetFx}} *\textcolor{keyword}{>}(postProc.getPointer())) \textcolor{keywordflow}{return} fx;}
\DoxyCodeLine{00233 }
\DoxyCodeLine{00234   \textcolor{comment}{// Clone the postProcessing tree and substitute recursively}}
\DoxyCodeLine{00235   postProc = postProc-\/>clone(\textcolor{keyword}{true});}
\DoxyCodeLine{00236   addPostProcessingRecursive(fx, postProc);}
\DoxyCodeLine{00237 }
\DoxyCodeLine{00238   \textcolor{keywordflow}{return} postProc;}
\DoxyCodeLine{00239 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a694ed6186ef2f356162e41d4c449c27c}\label{class_multimedia_renderer_1_1_imp_a694ed6186ef2f356162e41d4c449c27c}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!addPostProcessingRecursive@{addPostProcessingRecursive}}
\index{addPostProcessingRecursive@{addPostProcessingRecursive}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{addPostProcessingRecursive()}{addPostProcessingRecursive()}}
{\footnotesize\ttfamily void Multimedia\+Renderer\+::\+Imp\+::add\+Post\+Processing\+Recursive (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}}}]{fx,  }\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}}}]{post\+Proc }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00244                                                                         \{}
\DoxyCodeLine{00245   \textcolor{keywordflow}{if} (!postProc) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00246 }
\DoxyCodeLine{00247   \textcolor{keywordtype}{int} i, count = postProc-\/>getInputPortCount();}
\DoxyCodeLine{00248   \textcolor{keywordflow}{for} (i = 0; i < count; ++i) \{}
\DoxyCodeLine{00249     \mbox{\hyperlink{class_t_fx_port}{TFxPort}} *port = postProc-\/>getInputPort(i);}
\DoxyCodeLine{00250     \mbox{\hyperlink{class_t_fx}{TFx}} *childFx  = port-\/>getFx();}
\DoxyCodeLine{00251 }
\DoxyCodeLine{00252     \textcolor{keywordflow}{if} (\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsheet_fx}{TXsheetFx}} *\textcolor{keyword}{>}(childFx))}
\DoxyCodeLine{00253       port-\/>setFx(fx.getPointer());}
\DoxyCodeLine{00254     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00255       addPostProcessingRecursive(fx, childFx);}
\DoxyCodeLine{00256   \}}
\DoxyCodeLine{00257 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_aaa85fac5a2428dee2b87c45a30614939}\label{class_multimedia_renderer_1_1_imp_aaa85fac5a2428dee2b87c45a30614939}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!onFrameCompleted@{onFrameCompleted}}
\index{onFrameCompleted@{onFrameCompleted}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{onFrameCompleted()}{onFrameCompleted()}}
{\footnotesize\ttfamily bool Multimedia\+Renderer\+::\+Imp\+::on\+Frame\+Completed (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_movie_renderer_1_1_listener}{Movie\+Renderer\+::\+Listener}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00403                                                       \{}
\DoxyCodeLine{00404   \textcolor{comment}{// Inform all listeners}}
\DoxyCodeLine{00405   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < m\_listeners.size(); ++i)}
\DoxyCodeLine{00406     m\_listeners[i]-\/>onFrameCompleted(*m\_currentFrame, m\_currentFx);}
\DoxyCodeLine{00407 }
\DoxyCodeLine{00408   m\_currentFrame++;}
\DoxyCodeLine{00409   \textcolor{keywordflow}{return} !m\_canceled;}
\DoxyCodeLine{00410 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a652e0ed694969e0b1e51232e24f20e5c}\label{class_multimedia_renderer_1_1_imp_a652e0ed694969e0b1e51232e24f20e5c}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!onFrameFailed@{onFrameFailed}}
\index{onFrameFailed@{onFrameFailed}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{onFrameFailed()}{onFrameFailed()}}
{\footnotesize\ttfamily bool Multimedia\+Renderer\+::\+Imp\+::on\+Frame\+Failed (\begin{DoxyParamCaption}\item[{int}]{frame,  }\item[{\mbox{\hyperlink{class_t_exception}{TException}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_movie_renderer_1_1_listener}{Movie\+Renderer\+::\+Listener}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00414                                                                   \{}
\DoxyCodeLine{00415   \textcolor{comment}{// Inform all listeners}}
\DoxyCodeLine{00416   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < m\_listeners.size(); ++i)}
\DoxyCodeLine{00417     m\_listeners[i]-\/>onFrameFailed(*m\_currentFrame, m\_currentFx, e);}
\DoxyCodeLine{00418 }
\DoxyCodeLine{00419   m\_currentFrame++;}
\DoxyCodeLine{00420   \textcolor{keywordflow}{return} !m\_canceled;}
\DoxyCodeLine{00421 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a6cb0245fa8755fd87776b684f1117cff}\label{class_multimedia_renderer_1_1_imp_a6cb0245fa8755fd87776b684f1117cff}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!onRenderCompleted@{onRenderCompleted}}
\index{onRenderCompleted@{onRenderCompleted}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{onRenderCompleted()}{onRenderCompleted()}}
{\footnotesize\ttfamily void Multimedia\+Renderer\+::\+Imp\+::on\+Render\+Completed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00437                                               \{}
\DoxyCodeLine{00438   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < m\_listeners.size(); ++i)}
\DoxyCodeLine{00439     m\_listeners[i]-\/>onRenderCompleted();}
\DoxyCodeLine{00440 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a20ad9a54e7064a065444e7339b1d56ea}\label{class_multimedia_renderer_1_1_imp_a20ad9a54e7064a065444e7339b1d56ea}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!onSequenceCompleted@{onSequenceCompleted}}
\index{onSequenceCompleted@{onSequenceCompleted}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{onSequenceCompleted()}{onSequenceCompleted()}}
{\footnotesize\ttfamily void Multimedia\+Renderer\+::\+Imp\+::on\+Sequence\+Completed (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_movie_renderer_1_1_listener}{Movie\+Renderer\+::\+Listener}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00425                                                                    \{}
\DoxyCodeLine{00426   \textcolor{comment}{// Inform all listeners}}
\DoxyCodeLine{00427   m\_currentTRenderer = 0;}
\DoxyCodeLine{00428 }
\DoxyCodeLine{00429   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < m\_listeners.size(); ++i)}
\DoxyCodeLine{00430     m\_listeners[i]-\/>onSequenceCompleted(m\_currentFx);}
\DoxyCodeLine{00431 }
\DoxyCodeLine{00432   m\_eventLoop.quit();}
\DoxyCodeLine{00433 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a9f69012e8e77f4c5e65c06bc5af36d68}\label{class_multimedia_renderer_1_1_imp_a9f69012e8e77f4c5e65c06bc5af36d68}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!scanColsRecursive@{scanColsRecursive}}
\index{scanColsRecursive@{scanColsRecursive}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{scanColsRecursive()}{scanColsRecursive()}}
{\footnotesize\ttfamily bool Multimedia\+Renderer\+::\+Imp\+::scan\+Cols\+Recursive (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx }\end{DoxyParamCaption})}



Returns true if the passed fx is a valid column representant. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00157                                                      \{}
\DoxyCodeLine{00158   \textcolor{comment}{// Columns should return true -\/ they are column representant}}
\DoxyCodeLine{00159   \textcolor{keywordflow}{if} (\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_column_fx}{TColumnFx}} *\textcolor{keyword}{>}(fx)) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00160 }
\DoxyCodeLine{00161   \textcolor{comment}{// Search columns in every port}}
\DoxyCodeLine{00162   \textcolor{keywordtype}{bool} isChildAnFxRepres;}
\DoxyCodeLine{00163   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < fx-\/>getInputPortCount(); ++i) \{}
\DoxyCodeLine{00164     \mbox{\hyperlink{class_t_fx}{TFx}} *childFx = fx-\/>getInputPort(i)-\/>getFx();}
\DoxyCodeLine{00165     \textcolor{keywordflow}{if} (!childFx) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00166     isChildAnFxRepres = \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a9f69012e8e77f4c5e65c06bc5af36d68}{scanColsRecursive}}(childFx);}
\DoxyCodeLine{00167     \textcolor{keywordflow}{if} (isChildAnFxRepres \&\& fx-\/>getInputPortCount() > 1)}
\DoxyCodeLine{00168       m\_fxsToRender.addFx(childFx);}
\DoxyCodeLine{00169   \}}
\DoxyCodeLine{00170 }
\DoxyCodeLine{00171   \textcolor{keywordflow}{if} (isChildAnFxRepres \&\& fx-\/>getInputPortCount() == 1) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00172   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00173 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a6974c6663c2574b85fb64ddc6ff838f3}\label{class_multimedia_renderer_1_1_imp_a6974c6663c2574b85fb64ddc6ff838f3}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!scanSceneForColumns@{scanSceneForColumns}}
\index{scanSceneForColumns@{scanSceneForColumns}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{scanSceneForColumns()}{scanSceneForColumns()}}
{\footnotesize\ttfamily void Multimedia\+Renderer\+::\+Imp\+::scan\+Scene\+For\+Columns (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Retrieve the first level of scene columns, climb their paths along unary fxs, and then build the scene fxs. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00139                                                 \{}
\DoxyCodeLine{00140   \textcolor{comment}{// Retrieve the terminal fxs (ie, fxs which are implicitly}}
\DoxyCodeLine{00141   \textcolor{comment}{// connected to the xsheet one)}}
\DoxyCodeLine{00142   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}();}
\DoxyCodeLine{00143   \mbox{\hyperlink{class_t_fx_set}{TFxSet}} *fxs  = xsh-\/>\mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}()-\/>getTerminalFxs();}
\DoxyCodeLine{00144 }
\DoxyCodeLine{00145   \textcolor{comment}{// Launch the recursive column climber procedure for each}}
\DoxyCodeLine{00146   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < fxs-\/>getFxCount(); ++i) \{}
\DoxyCodeLine{00147     \mbox{\hyperlink{class_t_fx}{TFx}} *fx = fxs-\/>getFx(i);}
\DoxyCodeLine{00148     \textcolor{keywordflow}{if} (!fx) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00149     \textcolor{keywordtype}{bool} isItARenderFx = \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a9f69012e8e77f4c5e65c06bc5af36d68}{scanColsRecursive}}(fx);}
\DoxyCodeLine{00150     \textcolor{keywordflow}{if} (isItARenderFx) m\_fxsToRender.addFx(fx);}
\DoxyCodeLine{00151   \}}
\DoxyCodeLine{00152 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01564}{TXsheet\+::get\+Fx\+Dag()}}.

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_ad8d211d7afc408aa93de283db177903c}\label{class_multimedia_renderer_1_1_imp_ad8d211d7afc408aa93de283db177903c}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!scanSceneForLayers@{scanSceneForLayers}}
\index{scanSceneForLayers@{scanSceneForLayers}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{scanSceneForLayers()}{scanSceneForLayers()}}
{\footnotesize\ttfamily void Multimedia\+Renderer\+::\+Imp\+::scan\+Scene\+For\+Layers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Build the scene fx for each node below the xsheet one. Remember that left xsheet ports must not be expanded. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00179                                                \{}
\DoxyCodeLine{00180   \textcolor{comment}{// Retrieve the terminal fxs (ie, fxs which are implicitly}}
\DoxyCodeLine{00181   \textcolor{comment}{// connected to the xsheet one)}}
\DoxyCodeLine{00182   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}();}
\DoxyCodeLine{00183   \mbox{\hyperlink{class_t_fx_set}{TFxSet}} *fxs  = xsh-\/>\mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}()-\/>getTerminalFxs();}
\DoxyCodeLine{00184 }
\DoxyCodeLine{00185   \textcolor{comment}{// Examine all of them and -\/ eventually -\/ expand left xsheet}}
\DoxyCodeLine{00186   \textcolor{comment}{// ports (ie fx nodes who allow implicit overlaying)}}
\DoxyCodeLine{00187   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < fxs-\/>getFxCount(); ++i) \{}
\DoxyCodeLine{00188     \mbox{\hyperlink{class_t_fx}{TFx}} *fx = fxs-\/>getFx(i);}
\DoxyCodeLine{00189     \mbox{\hyperlink{class_t_fx_port}{TFxPort}} *leftXSheetPort;}
\DoxyCodeLine{00190 }
\DoxyCodeLine{00191   retry:}
\DoxyCodeLine{00192 }
\DoxyCodeLine{00193     \textcolor{keywordflow}{if} (!fx) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00194     leftXSheetPort = fx-\/>getXsheetPort();}
\DoxyCodeLine{00195 }
\DoxyCodeLine{00196     \textcolor{keywordflow}{if} (!leftXSheetPort) \{}
\DoxyCodeLine{00197       m\_fxsToRender.addFx(fx);}
\DoxyCodeLine{00198       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00199     \}}
\DoxyCodeLine{00200 }
\DoxyCodeLine{00201     \textcolor{comment}{// If the leftXSheetPort is not connected, retry on port 0}}
\DoxyCodeLine{00202     \textcolor{keywordflow}{if} (leftXSheetPort-\/>isConnected())}
\DoxyCodeLine{00203       m\_fxsToRender.addFx(fx);}
\DoxyCodeLine{00204     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00205       fx = fx-\/>getInputPort(0)-\/>getFx();}
\DoxyCodeLine{00206       \textcolor{keywordflow}{goto} retry;}
\DoxyCodeLine{00207     \}}
\DoxyCodeLine{00208   \}}
\DoxyCodeLine{00209 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01564}{TXsheet\+::get\+Fx\+Dag()}}.

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a49cc8194cea63ba4bb90eb1cae4df84c}\label{class_multimedia_renderer_1_1_imp_a49cc8194cea63ba4bb90eb1cae4df84c}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!scanSceneForRenderNodes@{scanSceneForRenderNodes}}
\index{scanSceneForRenderNodes@{scanSceneForRenderNodes}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{scanSceneForRenderNodes()}{scanSceneForRenderNodes()}}
{\footnotesize\ttfamily void Multimedia\+Renderer\+::\+Imp\+::scan\+Scene\+For\+Render\+Nodes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00122                                                     \{}
\DoxyCodeLine{00123   \textcolor{keywordflow}{switch} (m\_multimediaMode) \{}
\DoxyCodeLine{00124   \textcolor{keywordflow}{case} COLUMNS:}
\DoxyCodeLine{00125     \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_a6974c6663c2574b85fb64ddc6ff838f3}{scanSceneForColumns}}();}
\DoxyCodeLine{00126     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00127   \textcolor{keywordflow}{case} LAYERS:}
\DoxyCodeLine{00128     \mbox{\hyperlink{class_multimedia_renderer_1_1_imp_ad8d211d7afc408aa93de283db177903c}{scanSceneForLayers}}();}
\DoxyCodeLine{00129     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00130   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00131     assert(0);}
\DoxyCodeLine{00132   \}}
\DoxyCodeLine{00133 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a25e97d27f9d462a7ce3b6f02635509e5}\label{class_multimedia_renderer_1_1_imp_a25e97d27f9d462a7ce3b6f02635509e5}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!searchColumn@{searchColumn}}
\index{searchColumn@{searchColumn}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{searchColumn()}{searchColumn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_column_fx}{TColumn\+Fx}} $\ast$ Multimedia\+Renderer\+::\+Imp\+::search\+Column (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}}}]{fx }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00213                                                       \{}
\DoxyCodeLine{00214   \textcolor{comment}{// Descend ports 0 until a TColumnFx is found. Then, output its number.}}
\DoxyCodeLine{00215   \mbox{\hyperlink{class_t_fx}{TFx}} *currFx      = fx.getPointer();}
\DoxyCodeLine{00216   \mbox{\hyperlink{class_t_column_fx}{TColumnFx}} *colFx = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_column_fx}{TColumnFx}} *\textcolor{keyword}{>}(currFx);}
\DoxyCodeLine{00217   \textcolor{keywordflow}{while} (!colFx) \{}
\DoxyCodeLine{00218     \textcolor{keywordflow}{if} (fx-\/>getInputPortCount() <= 0) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00219 }
\DoxyCodeLine{00220     currFx = currFx-\/>getInputPort(0)-\/>getFx();}
\DoxyCodeLine{00221 }
\DoxyCodeLine{00222     \textcolor{keywordflow}{if} (!currFx) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00223     colFx = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_column_fx}{TColumnFx}} *\textcolor{keyword}{>}(currFx);}
\DoxyCodeLine{00224   \}}
\DoxyCodeLine{00225 }
\DoxyCodeLine{00226   \textcolor{keywordflow}{return} colFx;}
\DoxyCodeLine{00227 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_ae8cf46bd370104840d1aba3644b249c1}\label{class_multimedia_renderer_1_1_imp_ae8cf46bd370104840d1aba3644b249c1}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!start@{start}}
\index{start@{start}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void Multimedia\+Renderer\+::\+Imp\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00261                                   \{}
\DoxyCodeLine{00262   \textcolor{comment}{// Retrieve some useful infos}}
\DoxyCodeLine{00263   \textcolor{keywordtype}{double} stretchTo   = m\_renderSettings.\mbox{\hyperlink{class_t_render_settings_a6b8313c094bdb0c2ab6902b1f895694e}{m\_timeStretchTo}};}
\DoxyCodeLine{00264   \textcolor{keywordtype}{double} stretchFrom = m\_renderSettings.\mbox{\hyperlink{class_t_render_settings_aec1a905d4eec617a546c286480f41b2a}{m\_timeStretchFrom}};}
\DoxyCodeLine{00265 }
\DoxyCodeLine{00266   \textcolor{keywordtype}{double} timeStretchFactor = stretchFrom / stretchTo;}
\DoxyCodeLine{00267   \textcolor{keywordtype}{bool} fieldRendering =}
\DoxyCodeLine{00268       m\_renderSettings.\mbox{\hyperlink{class_t_render_settings_a48bbcbb6ca2cad3de97f4cabea09cd2f}{m\_fieldPrevalence}} != \mbox{\hyperlink{class_t_render_settings_aff548d2c58f7c6adea513ab32526eae8acc9a06de2f74e1ae1404282226d6a2d9}{TRenderSettings::NoField}};}
\DoxyCodeLine{00269 }
\DoxyCodeLine{00270   std::wstring modeStr;}
\DoxyCodeLine{00271   \textcolor{keywordflow}{switch} (m\_multimediaMode) \{}
\DoxyCodeLine{00272   \textcolor{keywordflow}{case} COLUMNS:}
\DoxyCodeLine{00273     modeStr = L\textcolor{stringliteral}{"{}\_col"{}};}
\DoxyCodeLine{00274     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00275   \textcolor{keywordflow}{case} LAYERS:}
\DoxyCodeLine{00276     modeStr = L\textcolor{stringliteral}{"{}\_lay"{}};}
\DoxyCodeLine{00277     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00278   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00279     assert(0);}
\DoxyCodeLine{00280   \}}
\DoxyCodeLine{00281 }
\DoxyCodeLine{00282   \textcolor{comment}{// Build the post processing fxs tree}}
\DoxyCodeLine{00283   std::vector<TFxP> postFxs(m\_framesToRender.size());}
\DoxyCodeLine{00284 }
\DoxyCodeLine{00285   std::set<double>::iterator jt;}
\DoxyCodeLine{00286   \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{00287   \textcolor{keywordflow}{for} (j = 0, jt = m\_framesToRender.begin(); jt != m\_framesToRender.end();}
\DoxyCodeLine{00288        ++j, ++jt)}
\DoxyCodeLine{00289     postFxs[j] =}
\DoxyCodeLine{00290         buildPostSceneFx(m\_scene, *jt, m\_renderSettings.\mbox{\hyperlink{class_t_render_settings_a52dd41881bbf6aaf953fe300be2e233e}{m\_shrinkX}},}
\DoxyCodeLine{00291                          \textcolor{keyword}{false});  \textcolor{comment}{// Adds camera and camera dpi transforms}}
\DoxyCodeLine{00292 }
\DoxyCodeLine{00293   \textcolor{comment}{// For each node to be rendered}}
\DoxyCodeLine{00294   \textcolor{keywordtype}{int} i, count = m\_fxsToRender.getFxCount();}
\DoxyCodeLine{00295   \textcolor{keywordflow}{for} (i = 0; i < count; ++i) \{}
\DoxyCodeLine{00296     \textcolor{comment}{// In case the process has been canceled, return}}
\DoxyCodeLine{00297     \textcolor{keywordflow}{if} (m\_canceled) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00298 }
\DoxyCodeLine{00299     \textcolor{comment}{// Then, build the scene fx for each frame to be rendered}}
\DoxyCodeLine{00300     std::vector<std::pair<double, TFxPair>> pairsToBeRendered;}
\DoxyCodeLine{00301 }
\DoxyCodeLine{00302     \textcolor{comment}{// NOTE: The above pairs should not be directly added to a previously}}
\DoxyCodeLine{00303     \textcolor{comment}{// declared movierenderer,}}
\DoxyCodeLine{00304     \textcolor{comment}{// since an output level would be created even before knowing if any cell to}}
\DoxyCodeLine{00305     \textcolor{comment}{// be rendered is}}
\DoxyCodeLine{00306     \textcolor{comment}{// actually available.}}
\DoxyCodeLine{00307     \textcolor{keyword}{const} BSFX\_Transforms\_Enum transforms =    \textcolor{comment}{// Do NOT add camera and}}
\DoxyCodeLine{00308         BSFX\_Transforms\_Enum(BSFX\_COLUMN\_TR);  \textcolor{comment}{// camera dpi transforms}}
\DoxyCodeLine{00309 }
\DoxyCodeLine{00310     \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{00311     \textcolor{keywordflow}{for} (j = 0, jt = m\_framesToRender.begin(); jt != m\_framesToRender.end();}
\DoxyCodeLine{00312          ++j, ++jt) \{}
\DoxyCodeLine{00313       \mbox{\hyperlink{class_t_fx_pair}{TFxPair}} fx;}
\DoxyCodeLine{00314 }
\DoxyCodeLine{00315       \textcolor{keywordflow}{if} (m\_renderSettings.\mbox{\hyperlink{class_t_render_settings_aadbd5a3a50b242b366a93023d5f7da07}{m\_stereoscopic}})}
\DoxyCodeLine{00316         m\_scene-\/>shiftCameraX(-\/m\_renderSettings.\mbox{\hyperlink{class_t_render_settings_a8c9cade2391a50017b4ad623f653c82f}{m\_stereoscopicShift}} / 2);}
\DoxyCodeLine{00317 }
\DoxyCodeLine{00318       fx.m\_frameA =}
\DoxyCodeLine{00319           buildSceneFx(m\_scene, *jt, 0, m\_fxsToRender.getFx(i), transforms);}
\DoxyCodeLine{00320 }
\DoxyCodeLine{00321       \textcolor{keywordflow}{if} (m\_renderSettings.\mbox{\hyperlink{class_t_render_settings_aadbd5a3a50b242b366a93023d5f7da07}{m\_stereoscopic}}) \{}
\DoxyCodeLine{00322         m\_scene-\/>shiftCameraX(m\_renderSettings.\mbox{\hyperlink{class_t_render_settings_a8c9cade2391a50017b4ad623f653c82f}{m\_stereoscopicShift}});}
\DoxyCodeLine{00323         fx.m\_frameB =}
\DoxyCodeLine{00324             buildSceneFx(m\_scene, *jt, 0, m\_fxsToRender.getFx(i), transforms);}
\DoxyCodeLine{00325         m\_scene-\/>shiftCameraX(-\/m\_renderSettings.\mbox{\hyperlink{class_t_render_settings_a8c9cade2391a50017b4ad623f653c82f}{m\_stereoscopicShift}} / 2);}
\DoxyCodeLine{00326       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (fieldRendering)}
\DoxyCodeLine{00327         fx.m\_frameB = buildSceneFx(m\_scene, *jt + 0.5 * timeStretchFactor, 0,}
\DoxyCodeLine{00328                                    m\_fxsToRender.getFx(i), transforms);}
\DoxyCodeLine{00329       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00330         fx.m\_frameB = \mbox{\hyperlink{class_t_raster_fx_p}{TRasterFxP}}();}
\DoxyCodeLine{00331 }
\DoxyCodeLine{00332       \textcolor{comment}{// Substitute with the post-\/process...}}
\DoxyCodeLine{00333       \textcolor{keywordflow}{if} (fx.m\_frameA) fx.m\_frameA = addPostProcessing(fx.m\_frameA, postFxs[j]);}
\DoxyCodeLine{00334       \textcolor{keywordflow}{if} (fx.m\_frameB) fx.m\_frameB = addPostProcessing(fx.m\_frameB, postFxs[j]);}
\DoxyCodeLine{00335 }
\DoxyCodeLine{00336       \textcolor{keywordflow}{if} (fx.m\_frameA)  \textcolor{comment}{// Could be 0, if the corresponding cell is void / not}}
\DoxyCodeLine{00337                         \textcolor{comment}{// rendered}}
\DoxyCodeLine{00338         pairsToBeRendered.push\_back(std::pair<double, TFxPair>(*jt, fx));}
\DoxyCodeLine{00339     \}}
\DoxyCodeLine{00340 }
\DoxyCodeLine{00341     \textcolor{keywordflow}{if} (pairsToBeRendered.size() == 0)}
\DoxyCodeLine{00342       \textcolor{keywordflow}{continue};  \textcolor{comment}{// Could be, if no cell for this column was in the frame range.}}
\DoxyCodeLine{00343 }
\DoxyCodeLine{00344     \textcolor{comment}{// Build the output name}}
\DoxyCodeLine{00345     \mbox{\hyperlink{class_t_column_fx}{TColumnFx}} *colFx = searchColumn(m\_fxsToRender.getFx(i));}
\DoxyCodeLine{00346     \mbox{\hyperlink{class_t_fx}{TFx}} *currFx      = m\_fxsToRender.getFx(i);}
\DoxyCodeLine{00347     assert(colFx);}
\DoxyCodeLine{00348     \textcolor{keywordflow}{if} (!colFx) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00349 }
\DoxyCodeLine{00350     \textcolor{keywordtype}{int} columnIndex = colFx-\/>getColumnIndex();}
\DoxyCodeLine{00351     std::wstring columnName(colFx-\/>getColumnName());}
\DoxyCodeLine{00352     std::wstring columnId(colFx-\/>getColumnId());}
\DoxyCodeLine{00353     std::wstring fxName(currFx-\/>getName());}
\DoxyCodeLine{00354     std::wstring fxNameNoSpaces(::removeSpaces(fxName));}
\DoxyCodeLine{00355     std::wstring fxId(currFx-\/>getFxId());}
\DoxyCodeLine{00356 }
\DoxyCodeLine{00357     std::wstring fpName =}
\DoxyCodeLine{00358         m\_fp.getWideName() + L\textcolor{stringliteral}{"{}\_"{}} + columnName +}
\DoxyCodeLine{00359         (columnId == columnName ? L\textcolor{stringliteral}{"{}"{}} : L\textcolor{stringliteral}{"{}("{}} + columnId + L\textcolor{stringliteral}{"{})"{}}) +}
\DoxyCodeLine{00360         (fxId.empty()}
\DoxyCodeLine{00361              ? L\textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{00362              : L\textcolor{stringliteral}{"{}\_"{}} + fxName +}
\DoxyCodeLine{00363                    (fxId == fxNameNoSpaces ? L\textcolor{stringliteral}{"{}"{}} : L\textcolor{stringliteral}{"{}("{}} + fxId + L\textcolor{stringliteral}{"{})"{}}));}
\DoxyCodeLine{00364     \mbox{\hyperlink{class_t_file_path}{TFilePath}} movieFp(m\_fp.\mbox{\hyperlink{class_t_file_path_a3ebf9ced558cfef97a60bba536b23c6f}{withName}}(fpName));}
\DoxyCodeLine{00365 }
\DoxyCodeLine{00366     \textcolor{comment}{// Initialize a MovieRenderer with our infos}}
\DoxyCodeLine{00367     \mbox{\hyperlink{class_movie_renderer}{MovieRenderer}} movieRenderer(m\_scene, movieFp, m\_threadCount, \textcolor{keyword}{false});}
\DoxyCodeLine{00368     movieRenderer.setRenderSettings(m\_renderSettings);}
\DoxyCodeLine{00369     movieRenderer.setDpi(m\_xDpi, m\_yDpi);}
\DoxyCodeLine{00370     movieRenderer.enablePrecomputing(m\_precomputingEnabled);}
\DoxyCodeLine{00371     movieRenderer.addListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00372 }
\DoxyCodeLine{00373     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} j = 0; j < pairsToBeRendered.size(); ++j) \{}
\DoxyCodeLine{00374       std::pair<double, TFxPair> \&currentPair = pairsToBeRendered[j];}
\DoxyCodeLine{00375       movieRenderer.addFrame(currentPair.first, currentPair.second);}
\DoxyCodeLine{00376     \}}
\DoxyCodeLine{00377 }
\DoxyCodeLine{00378     \textcolor{comment}{// Finally, start rendering currently initialized MovieRenderer.}}
\DoxyCodeLine{00379     m\_currentFx        = i;}
\DoxyCodeLine{00380     m\_currentFrame     = m\_framesToRender.begin();}
\DoxyCodeLine{00381     m\_currentTRenderer = movieRenderer.getTRenderer();}
\DoxyCodeLine{00382 }
\DoxyCodeLine{00383     movieRenderer.start();}
\DoxyCodeLine{00384 }
\DoxyCodeLine{00385     \textcolor{comment}{// I don't recall Toonz currently supports different, simultaneous rendering}}
\DoxyCodeLine{00386     \textcolor{comment}{// processes.}}
\DoxyCodeLine{00387     \textcolor{comment}{// However, one rendering process is supposed to be exhausting the machine's}}
\DoxyCodeLine{00388     \textcolor{comment}{// resources}}
\DoxyCodeLine{00389     \textcolor{comment}{// on its own -\/ so, we'll just set up an idle (but GUI-\/reactive) loop here.}}
\DoxyCodeLine{00390     \textcolor{comment}{// It will quit looping whenever the "{}onSequenceCompleted"{} notification gets}}
\DoxyCodeLine{00391     \textcolor{comment}{// called.}}
\DoxyCodeLine{00392     m\_eventLoop.exec();}
\DoxyCodeLine{00393 }
\DoxyCodeLine{00394     \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ Loops here -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00395   \}}
\DoxyCodeLine{00396 }
\DoxyCodeLine{00397   \textcolor{comment}{// Lastly, inform everyone that rendering stopped}}
\DoxyCodeLine{00398   onRenderCompleted();}
\DoxyCodeLine{00399 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a67ac0e0770cea340263b2b0d3bca0645}\label{class_multimedia_renderer_1_1_imp_a67ac0e0770cea340263b2b0d3bca0645}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_cacheResults@{m\_cacheResults}}
\index{m\_cacheResults@{m\_cacheResults}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_cacheResults}{m\_cacheResults}}
{\footnotesize\ttfamily bool Multimedia\+Renderer\+::\+Imp\+::m\+\_\+cache\+Results}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a82b332b4828edcdc0488c7236aeb8d79}\label{class_multimedia_renderer_1_1_imp_a82b332b4828edcdc0488c7236aeb8d79}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_canceled@{m\_canceled}}
\index{m\_canceled@{m\_canceled}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_canceled}{m\_canceled}}
{\footnotesize\ttfamily bool Multimedia\+Renderer\+::\+Imp\+::m\+\_\+canceled}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a0777bf846a84190f02faf03e0cdae563}\label{class_multimedia_renderer_1_1_imp_a0777bf846a84190f02faf03e0cdae563}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_currentFrame@{m\_currentFrame}}
\index{m\_currentFrame@{m\_currentFrame}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_currentFrame}{m\_currentFrame}}
{\footnotesize\ttfamily std\+::set$<$double$>$\+::iterator Multimedia\+Renderer\+::\+Imp\+::m\+\_\+current\+Frame}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a45b542927ee5a1c7e45ea035b2d630cf}\label{class_multimedia_renderer_1_1_imp_a45b542927ee5a1c7e45ea035b2d630cf}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_currentFx@{m\_currentFx}}
\index{m\_currentFx@{m\_currentFx}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_currentFx}{m\_currentFx}}
{\footnotesize\ttfamily int Multimedia\+Renderer\+::\+Imp\+::m\+\_\+current\+Fx}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a4dadc7a686089ffa441069d53f30a956}\label{class_multimedia_renderer_1_1_imp_a4dadc7a686089ffa441069d53f30a956}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_currentTRenderer@{m\_currentTRenderer}}
\index{m\_currentTRenderer@{m\_currentTRenderer}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_currentTRenderer}{m\_currentTRenderer}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_renderer}{TRenderer}}$\ast$ Multimedia\+Renderer\+::\+Imp\+::m\+\_\+current\+TRenderer}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_ae57607659e795b59c7ed623226dc542e}\label{class_multimedia_renderer_1_1_imp_ae57607659e795b59c7ed623226dc542e}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_eventLoop@{m\_eventLoop}}
\index{m\_eventLoop@{m\_eventLoop}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_eventLoop}{m\_eventLoop}}
{\footnotesize\ttfamily QEvent\+Loop Multimedia\+Renderer\+::\+Imp\+::m\+\_\+event\+Loop}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a3d62597a2aee79c30b64c69a2970ee9c}\label{class_multimedia_renderer_1_1_imp_a3d62597a2aee79c30b64c69a2970ee9c}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_fp@{m\_fp}}
\index{m\_fp@{m\_fp}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_fp}{m\_fp}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} Multimedia\+Renderer\+::\+Imp\+::m\+\_\+fp}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a9af40093c9ef591cdd1388865022ab84}\label{class_multimedia_renderer_1_1_imp_a9af40093c9ef591cdd1388865022ab84}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_framesToRender@{m\_framesToRender}}
\index{m\_framesToRender@{m\_framesToRender}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_framesToRender}{m\_framesToRender}}
{\footnotesize\ttfamily std\+::set$<$double$>$ Multimedia\+Renderer\+::\+Imp\+::m\+\_\+frames\+To\+Render}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a28321da9b650340291506936effffc8b}\label{class_multimedia_renderer_1_1_imp_a28321da9b650340291506936effffc8b}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_fxsToRender@{m\_fxsToRender}}
\index{m\_fxsToRender@{m\_fxsToRender}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_fxsToRender}{m\_fxsToRender}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_fx_set}{TFx\+Set}} Multimedia\+Renderer\+::\+Imp\+::m\+\_\+fxs\+To\+Render}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a11f0bc6d178ef275a034aad9a76f991e}\label{class_multimedia_renderer_1_1_imp_a11f0bc6d178ef275a034aad9a76f991e}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_listeners@{m\_listeners}}
\index{m\_listeners@{m\_listeners}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_listeners}{m\_listeners}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{class_multimedia_renderer_1_1_listener}{Multimedia\+Renderer\+::\+Listener}} $\ast$$>$ Multimedia\+Renderer\+::\+Imp\+::m\+\_\+listeners}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a44aabb83d96e63bc071d5dea87f523cd}\label{class_multimedia_renderer_1_1_imp_a44aabb83d96e63bc071d5dea87f523cd}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_multimediaMode@{m\_multimediaMode}}
\index{m\_multimediaMode@{m\_multimediaMode}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_multimediaMode}{m\_multimediaMode}}
{\footnotesize\ttfamily int Multimedia\+Renderer\+::\+Imp\+::m\+\_\+multimedia\+Mode}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a47a3c23066cdf05bd2c177d50de5f0bc}\label{class_multimedia_renderer_1_1_imp_a47a3c23066cdf05bd2c177d50de5f0bc}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_precomputingEnabled@{m\_precomputingEnabled}}
\index{m\_precomputingEnabled@{m\_precomputingEnabled}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_precomputingEnabled}{m\_precomputingEnabled}}
{\footnotesize\ttfamily bool Multimedia\+Renderer\+::\+Imp\+::m\+\_\+precomputing\+Enabled}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a3b3ce29ad9a63979454997e33c3f9898}\label{class_multimedia_renderer_1_1_imp_a3b3ce29ad9a63979454997e33c3f9898}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_renderSettings@{m\_renderSettings}}
\index{m\_renderSettings@{m\_renderSettings}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_renderSettings}{m\_renderSettings}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} Multimedia\+Renderer\+::\+Imp\+::m\+\_\+render\+Settings}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_ac524c39007c0892b5493489e8f05eeb3}\label{class_multimedia_renderer_1_1_imp_ac524c39007c0892b5493489e8f05eeb3}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_scene@{m\_scene}}
\index{m\_scene@{m\_scene}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_scene}{m\_scene}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}}$\ast$ Multimedia\+Renderer\+::\+Imp\+::m\+\_\+scene}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a08e5fa440340b9a25a61d0ea8d4171fe}\label{class_multimedia_renderer_1_1_imp_a08e5fa440340b9a25a61d0ea8d4171fe}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_threadCount@{m\_threadCount}}
\index{m\_threadCount@{m\_threadCount}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_threadCount}{m\_threadCount}}
{\footnotesize\ttfamily int Multimedia\+Renderer\+::\+Imp\+::m\+\_\+thread\+Count}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_a18c45c31deb3868f5500af8e57b85e53}\label{class_multimedia_renderer_1_1_imp_a18c45c31deb3868f5500af8e57b85e53}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_xDpi@{m\_xDpi}}
\index{m\_xDpi@{m\_xDpi}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_xDpi}{m\_xDpi}}
{\footnotesize\ttfamily double Multimedia\+Renderer\+::\+Imp\+::m\+\_\+x\+Dpi}

\mbox{\Hypertarget{class_multimedia_renderer_1_1_imp_abeb124dd8aaa1cbbaca04254fc71704e}\label{class_multimedia_renderer_1_1_imp_abeb124dd8aaa1cbbaca04254fc71704e}} 
\index{MultimediaRenderer::Imp@{MultimediaRenderer::Imp}!m\_yDpi@{m\_yDpi}}
\index{m\_yDpi@{m\_yDpi}!MultimediaRenderer::Imp@{MultimediaRenderer::Imp}}
\doxysubsubsection{\texorpdfstring{m\_yDpi}{m\_yDpi}}
{\footnotesize\ttfamily double Multimedia\+Renderer\+::\+Imp\+::m\+\_\+y\+Dpi}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzlib/multimediarenderer.\+cpp\end{DoxyCompactItemize}
