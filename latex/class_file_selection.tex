\hypertarget{class_file_selection}{}\doxysection{File\+Selection Class Reference}
\label{class_file_selection}\index{FileSelection@{FileSelection}}
Inheritance diagram for File\+Selection\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_file_selection}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_file_selection_ab58391dcab81112405eea0e1286c2eba}{get\+Selected\+Files}} (std\+::vector$<$ \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} $>$ \&files)
\item 
void \mbox{\hyperlink{class_file_selection_a89ac14618c0a3025585dfcbbe61b86e1}{enable\+Commands}} () override
\item 
void \mbox{\hyperlink{class_file_selection_aa94eec5a5dabeeff2788207f9e4587a0}{duplicate\+Files}} ()
\item 
void \mbox{\hyperlink{class_file_selection_a428266334b32b8a4a67be6c1df16508a}{delete\+Files}} ()
\item 
void \mbox{\hyperlink{class_file_selection_a78eb24d82f1fe2720b09214b773b497c}{copy\+Files}} ()
\item 
void \mbox{\hyperlink{class_file_selection_a6c2453ae534262041c33b9055ad84449}{paste\+Files}} ()
\item 
void \mbox{\hyperlink{class_file_selection_ae0481bccd55e045ee518fdc0b07d727d}{show\+Folder\+Contents}} ()
\item 
void \mbox{\hyperlink{class_file_selection_ac7412b3450f48f7d024cf701ad7d6540}{view\+File\+Info}} ()
\item 
void \mbox{\hyperlink{class_file_selection_a4212a2b44341ec1d34702c2da0f54eb9}{view\+File}} ()
\item 
void \mbox{\hyperlink{class_file_selection_a77282072181e22a71e1bf56dcc5182bc}{convert\+Files}} ()
\item 
void \mbox{\hyperlink{class_file_selection_acf72eddbcc824e7fa1a93e301df6b6df}{premultiply\+Files}} ()
\item 
void \mbox{\hyperlink{class_file_selection_aee249be225e65326eea8d25271c6bd97}{add\+To\+Batch\+Render\+List}} ()
\item 
void \mbox{\hyperlink{class_file_selection_ac1eae9398d69927323e2702a472756d5}{add\+To\+Batch\+Cleanup\+List}} ()
\item 
void \mbox{\hyperlink{class_file_selection_a9a22d9dde880032cbb9f1b4d5c0f84a2}{collect\+Assets}} ()
\item 
void \mbox{\hyperlink{class_file_selection_a006140614e1d4adf4d893a215f05beb6}{import\+Scenes}} ()
\item 
void \mbox{\hyperlink{class_file_selection_a793cecebc329e2b47e19449fdccc0085}{export\+Scenes}} ()
\item 
void \mbox{\hyperlink{class_file_selection_a8bf4720a9917a59bacd979851c793c29}{export\+Scene}} (\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} scene\+Path)
\item 
void \mbox{\hyperlink{class_file_selection_a86207e0e2a4db687baaaf1b4cecf1997}{select\+All}} ()
\item 
void \mbox{\hyperlink{class_file_selection_ab1fb8e87093f1460dd69e390197da979}{separate\+Files\+By\+Colors}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_file_selection_afcbe0f0151dd9eb276897cb543972030}\label{class_file_selection_afcbe0f0151dd9eb276897cb543972030}} 
\index{FileSelection@{FileSelection}!FileSelection@{FileSelection}}
\index{FileSelection@{FileSelection}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{FileSelection()}{FileSelection()}}
{\footnotesize\ttfamily File\+Selection\+::\+File\+Selection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00199 : m\_exportScenePopup(0) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a4e1326d9e3b5f7f2cadbf562287c6db9}\label{class_file_selection_a4e1326d9e3b5f7f2cadbf562287c6db9}} 
\index{FileSelection@{FileSelection}!````~FileSelection@{$\sim$FileSelection}}
\index{````~FileSelection@{$\sim$FileSelection}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{$\sim$FileSelection()}{~FileSelection()}}
{\footnotesize\ttfamily File\+Selection\+::$\sim$\+File\+Selection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00201 \{ m\_infoViewers.clear(); \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_file_selection_ac1eae9398d69927323e2702a472756d5}\label{class_file_selection_ac1eae9398d69927323e2702a472756d5}} 
\index{FileSelection@{FileSelection}!addToBatchCleanupList@{addToBatchCleanupList}}
\index{addToBatchCleanupList@{addToBatchCleanupList}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{addToBatchCleanupList()}{addToBatchCleanupList()}}
{\footnotesize\ttfamily void File\+Selection\+::add\+To\+Batch\+Cleanup\+List (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00253                                           \{}
\DoxyCodeLine{00254   std::vector<TFilePath> files;}
\DoxyCodeLine{00255   getSelectedFiles(files);}
\DoxyCodeLine{00256   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00257   \textcolor{keywordflow}{for} (i = 0; i < files.size(); i++)}
\DoxyCodeLine{00258     BatchesController::instance()-\/>addCleanupTask(files[i]);}
\DoxyCodeLine{00259 }
\DoxyCodeLine{00260   DVGui::info(QObject::tr(\textcolor{stringliteral}{"{} Task added to the Batch Cleanup List."{}}));}
\DoxyCodeLine{00261 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_aee249be225e65326eea8d25271c6bd97}\label{class_file_selection_aee249be225e65326eea8d25271c6bd97}} 
\index{FileSelection@{FileSelection}!addToBatchRenderList@{addToBatchRenderList}}
\index{addToBatchRenderList@{addToBatchRenderList}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{addToBatchRenderList()}{addToBatchRenderList()}}
{\footnotesize\ttfamily void File\+Selection\+::add\+To\+Batch\+Render\+List (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00241                                          \{}
\DoxyCodeLine{00242   std::vector<TFilePath> files;}
\DoxyCodeLine{00243   getSelectedFiles(files);}
\DoxyCodeLine{00244   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00245   \textcolor{keywordflow}{for} (i = 0; i < files.size(); i++)}
\DoxyCodeLine{00246     BatchesController::instance()-\/>addComposerTask(files[i]);}
\DoxyCodeLine{00247 }
\DoxyCodeLine{00248   DVGui::info(QObject::tr(\textcolor{stringliteral}{"{} Task added to the Batch Render List."{}}));}
\DoxyCodeLine{00249 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a9a22d9dde880032cbb9f1b4d5c0f84a2}\label{class_file_selection_a9a22d9dde880032cbb9f1b4d5c0f84a2}} 
\index{FileSelection@{FileSelection}!collectAssets@{collectAssets}}
\index{collectAssets@{collectAssets}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{collectAssets()}{collectAssets()}}
{\footnotesize\ttfamily void File\+Selection\+::collect\+Assets (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00476                                   \{}
\DoxyCodeLine{00477   std::vector<TFilePath> files;}
\DoxyCodeLine{00478   getSelectedFiles(files);}
\DoxyCodeLine{00479   \textcolor{keywordflow}{if} (files.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00480   \textcolor{keywordtype}{int} collectedAssets = 0;}
\DoxyCodeLine{00481 }
\DoxyCodeLine{00482   \textcolor{keywordtype}{int} count = files.size();}
\DoxyCodeLine{00483 }
\DoxyCodeLine{00484   \textcolor{keywordflow}{if} (count > 1) \{}
\DoxyCodeLine{00485     QMainWindow *mw = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_aa229713538a33215a03db85064ef4012}{getMainWindow}}();}
\DoxyCodeLine{00486     \mbox{\hyperlink{class_d_v_gui_1_1_progress_dialog}{ProgressDialog}} progress(QObject::tr(\textcolor{stringliteral}{"{}Collecting assets..."{}}),}
\DoxyCodeLine{00487                             QObject::tr(\textcolor{stringliteral}{"{}Abort"{}}), 0, count, mw);}
\DoxyCodeLine{00488     progress.setWindowModality(Qt::WindowModal);}
\DoxyCodeLine{00489 }
\DoxyCodeLine{00490     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00491     \textcolor{keywordflow}{for} (i = 1; i <= count; i++) \{}
\DoxyCodeLine{00492       collectedAssets += ::collectAssets(files[i -\/ 1]);}
\DoxyCodeLine{00493       progress.setValue(i);}
\DoxyCodeLine{00494       \textcolor{keywordflow}{if} (progress.wasCanceled()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00495     \}}
\DoxyCodeLine{00496     progress.setValue(count);}
\DoxyCodeLine{00497   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00498     collectedAssets = ::collectAssets(files[0]);}
\DoxyCodeLine{00499   \}}
\DoxyCodeLine{00500   \textcolor{keywordflow}{if} (collectedAssets == 0)}
\DoxyCodeLine{00501     DVGui::info(QObject::tr(\textcolor{stringliteral}{"{}There are no assets to collect"{}}));}
\DoxyCodeLine{00502   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (collectedAssets == 1)}
\DoxyCodeLine{00503     DVGui::info(QObject::tr(\textcolor{stringliteral}{"{}One asset imported"{}}));}
\DoxyCodeLine{00504   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00505     DVGui::info(QObject::tr(\textcolor{stringliteral}{"{}\%1 assets imported"{}}).arg(collectedAssets));}
\DoxyCodeLine{00506   DvDirModel::instance()-\/>refreshFolder(}
\DoxyCodeLine{00507       \mbox{\hyperlink{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}{TProjectManager::instance}}()-\/>getCurrentProjectPath().getParentDir());}
\DoxyCodeLine{00508 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a77282072181e22a71e1bf56dcc5182bc}\label{class_file_selection_a77282072181e22a71e1bf56dcc5182bc}} 
\index{FileSelection@{FileSelection}!convertFiles@{convertFiles}}
\index{convertFiles@{convertFiles}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{convertFiles()}{convertFiles()}}
{\footnotesize\ttfamily void File\+Selection\+::convert\+Files (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00407                                  \{}
\DoxyCodeLine{00408   std::vector<TFilePath> files;}
\DoxyCodeLine{00409   getSelectedFiles(files);}
\DoxyCodeLine{00410   \textcolor{keywordflow}{if} (files.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00411 }
\DoxyCodeLine{00412   \textcolor{keyword}{static} \mbox{\hyperlink{class_convert_popup}{ConvertPopup}} *popup = \textcolor{keyword}{new} \mbox{\hyperlink{class_convert_popup}{ConvertPopup}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00413   \textcolor{keywordflow}{if} (popup-\/>isConverting()) \{}
\DoxyCodeLine{00414     DVGui::info(QObject::tr(}
\DoxyCodeLine{00415         \textcolor{stringliteral}{"{}A conversion task is in progress! wait until it stops or cancel it"{}}));}
\DoxyCodeLine{00416     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00417   \}}
\DoxyCodeLine{00418   popup-\/>setFiles(files);}
\DoxyCodeLine{00419   popup-\/>exec();}
\DoxyCodeLine{00420 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a78eb24d82f1fe2720b09214b773b497c}\label{class_file_selection_a78eb24d82f1fe2720b09214b773b497c}} 
\index{FileSelection@{FileSelection}!copyFiles@{copyFiles}}
\index{copyFiles@{copyFiles}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{copyFiles()}{copyFiles()}}
{\footnotesize\ttfamily void File\+Selection\+::copy\+Files (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00294                               \{}
\DoxyCodeLine{00295   std::vector<TFilePath> files;}
\DoxyCodeLine{00296   getSelectedFiles(files);}
\DoxyCodeLine{00297   \textcolor{keywordflow}{if} (files.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00298 }
\DoxyCodeLine{00299   QClipboard *clipboard = QApplication::clipboard();}
\DoxyCodeLine{00300   QMimeData *oldData    = cloneData(clipboard-\/>mimeData());}
\DoxyCodeLine{00301   \mbox{\hyperlink{class_file_data}{FileData}} *data        = \textcolor{keyword}{new} \mbox{\hyperlink{class_file_data}{FileData}}();}
\DoxyCodeLine{00302   data-\/>setFiles(files);}
\DoxyCodeLine{00303   QApplication::clipboard()-\/>setMimeData(data);}
\DoxyCodeLine{00304   QMimeData *newData = cloneData(clipboard-\/>mimeData());}
\DoxyCodeLine{00305 }
\DoxyCodeLine{00306   TUndoManager::manager()-\/>add(\textcolor{keyword}{new} CopyFilesUndo(oldData, newData));}
\DoxyCodeLine{00307 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a428266334b32b8a4a67be6c1df16508a}\label{class_file_selection_a428266334b32b8a4a67be6c1df16508a}} 
\index{FileSelection@{FileSelection}!deleteFiles@{deleteFiles}}
\index{deleteFiles@{deleteFiles}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{deleteFiles()}{deleteFiles()}}
{\footnotesize\ttfamily void File\+Selection\+::delete\+Files (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00265                                 \{}
\DoxyCodeLine{00266   std::vector<TFilePath> files;}
\DoxyCodeLine{00267   getSelectedFiles(files);}
\DoxyCodeLine{00268   \textcolor{keywordflow}{if} (files.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00269 }
\DoxyCodeLine{00270   QString question;}
\DoxyCodeLine{00271   \textcolor{keywordflow}{if} (files.size() == 1) \{}
\DoxyCodeLine{00272     QString fn = QString::fromStdWString(files[0].getWideString());}
\DoxyCodeLine{00273     question   = QObject::tr(\textcolor{stringliteral}{"{}Deleting \%1. Are you sure?"{}}).arg(fn);}
\DoxyCodeLine{00274   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00275     question =}
\DoxyCodeLine{00276         QObject::tr(\textcolor{stringliteral}{"{}Deleting \%n files. Are you sure?"{}}, \textcolor{stringliteral}{"{}"{}}, (\textcolor{keywordtype}{int})files.size());}
\DoxyCodeLine{00277   \}}
\DoxyCodeLine{00278   \textcolor{keywordtype}{int} ret =}
\DoxyCodeLine{00279       DVGui::MsgBox(question, QObject::tr(\textcolor{stringliteral}{"{}Delete"{}}), QObject::tr(\textcolor{stringliteral}{"{}Cancel"{}}), 1);}
\DoxyCodeLine{00280   \textcolor{keywordflow}{if} (ret == 2 || ret == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00281 }
\DoxyCodeLine{00282   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00283   \textcolor{keywordflow}{for} (i = 0; i < (int)files.size(); i++) \{}
\DoxyCodeLine{00284     TSystem::moveFileOrLevelToRecycleBin(files[i]);}
\DoxyCodeLine{00285     IconGenerator::instance()-\/>remove(files[i]);}
\DoxyCodeLine{00286     \textcolor{comment}{// TODO: cancellare anche xxxx\_files se files[i] == xxxx.tnz}}
\DoxyCodeLine{00287   \}}
\DoxyCodeLine{00288   selectNone();}
\DoxyCodeLine{00289   FileBrowser::refreshFolder(files[0].getParentDir());}
\DoxyCodeLine{00290 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_aa94eec5a5dabeeff2788207f9e4587a0}\label{class_file_selection_aa94eec5a5dabeeff2788207f9e4587a0}} 
\index{FileSelection@{FileSelection}!duplicateFiles@{duplicateFiles}}
\index{duplicateFiles@{duplicateFiles}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{duplicateFiles()}{duplicateFiles()}}
{\footnotesize\ttfamily void File\+Selection\+::duplicate\+Files (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00443                                    \{}
\DoxyCodeLine{00444   std::vector<TFilePath> files;}
\DoxyCodeLine{00445   std::vector<TFilePath> newFiles;}
\DoxyCodeLine{00446   getSelectedFiles(files);}
\DoxyCodeLine{00447   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00448   \textcolor{keywordflow}{for} (i = 0; i < (int)files.size(); i++) \{}
\DoxyCodeLine{00449     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp      = files[i];}
\DoxyCodeLine{00450     \mbox{\hyperlink{class_t_file_path}{TFilePath}} newPath = ImageUtils::duplicate(fp);}
\DoxyCodeLine{00451     newFiles.push\_back(newPath);}
\DoxyCodeLine{00452     FileBrowser::refreshFolder(fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}());}
\DoxyCodeLine{00453   \}}
\DoxyCodeLine{00454   TUndoManager::manager()-\/>add(\textcolor{keyword}{new} DuplicateUndo(files, newFiles));}
\DoxyCodeLine{00455 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a89ac14618c0a3025585dfcbbe61b86e1}\label{class_file_selection_a89ac14618c0a3025585dfcbbe61b86e1}} 
\index{FileSelection@{FileSelection}!enableCommands@{enableCommands}}
\index{enableCommands@{enableCommands}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{enableCommands()}{enableCommands()}}
{\footnotesize\ttfamily void File\+Selection\+::enable\+Commands (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_dv_item_selection}{Dv\+Item\+Selection}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00219                                    \{}
\DoxyCodeLine{00220   DvItemSelection::enableCommands();}
\DoxyCodeLine{00221   enableCommand(\textcolor{keyword}{this}, MI\_DuplicateFile, \&FileSelection::duplicateFiles);}
\DoxyCodeLine{00222   enableCommand(\textcolor{keyword}{this}, MI\_Clear, \&FileSelection::deleteFiles);}
\DoxyCodeLine{00223   enableCommand(\textcolor{keyword}{this}, MI\_Copy, \&FileSelection::copyFiles);}
\DoxyCodeLine{00224   enableCommand(\textcolor{keyword}{this}, MI\_Paste, \&FileSelection::pasteFiles);}
\DoxyCodeLine{00225   enableCommand(\textcolor{keyword}{this}, MI\_ShowFolderContents,}
\DoxyCodeLine{00226                 \&FileSelection::showFolderContents);}
\DoxyCodeLine{00227   enableCommand(\textcolor{keyword}{this}, MI\_ConvertFiles, \&FileSelection::convertFiles);}
\DoxyCodeLine{00228   enableCommand(\textcolor{keyword}{this}, MI\_AddToBatchRenderList,}
\DoxyCodeLine{00229                 \&FileSelection::addToBatchRenderList);}
\DoxyCodeLine{00230   enableCommand(\textcolor{keyword}{this}, MI\_AddToBatchCleanupList,}
\DoxyCodeLine{00231                 \&FileSelection::addToBatchCleanupList);}
\DoxyCodeLine{00232   enableCommand(\textcolor{keyword}{this}, MI\_CollectAssets, \&FileSelection::collectAssets);}
\DoxyCodeLine{00233   enableCommand(\textcolor{keyword}{this}, MI\_ImportScenes, \&FileSelection::importScenes);}
\DoxyCodeLine{00234   enableCommand(\textcolor{keyword}{this}, MI\_ExportScenes, \&FileSelection::exportScenes);}
\DoxyCodeLine{00235   enableCommand(\textcolor{keyword}{this}, MI\_SelectAll, \&FileSelection::selectAll);}
\DoxyCodeLine{00236   enableCommand(\textcolor{keyword}{this}, MI\_SeparateColors, \&FileSelection::separateFilesByColors);}
\DoxyCodeLine{00237 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a8bf4720a9917a59bacd979851c793c29}\label{class_file_selection_a8bf4720a9917a59bacd979851c793c29}} 
\index{FileSelection@{FileSelection}!exportScene@{exportScene}}
\index{exportScene@{exportScene}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{exportScene()}{exportScene()}}
{\footnotesize\ttfamily void File\+Selection\+::export\+Scene (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_file_path}{TFile\+Path}}}]{scene\+Path }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00611                                                    \{}
\DoxyCodeLine{00612   \textcolor{keywordflow}{if} (scenePath.isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00613 }
\DoxyCodeLine{00614   std::vector<TFilePath> files;}
\DoxyCodeLine{00615   files.push\_back(scenePath);}
\DoxyCodeLine{00616   \textcolor{keywordflow}{if} (!m\_exportScenePopup)}
\DoxyCodeLine{00617     m\_exportScenePopup = \textcolor{keyword}{new} \mbox{\hyperlink{class_export_scene_popup}{ExportScenePopup}}(files);}
\DoxyCodeLine{00618   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00619     m\_exportScenePopup-\/>setScenes(files);}
\DoxyCodeLine{00620   m\_exportScenePopup-\/>show();}
\DoxyCodeLine{00621 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a793cecebc329e2b47e19449fdccc0085}\label{class_file_selection_a793cecebc329e2b47e19449fdccc0085}} 
\index{FileSelection@{FileSelection}!exportScenes@{exportScenes}}
\index{exportScenes@{exportScenes}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{exportScenes()}{exportScenes()}}
{\footnotesize\ttfamily void File\+Selection\+::export\+Scenes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00601                                  \{}
\DoxyCodeLine{00602   std::vector<TFilePath> files;}
\DoxyCodeLine{00603   getSelectedFiles(files);}
\DoxyCodeLine{00604   \textcolor{keywordflow}{if} (!m\_exportScenePopup)}
\DoxyCodeLine{00605     m\_exportScenePopup = \textcolor{keyword}{new} \mbox{\hyperlink{class_export_scene_popup}{ExportScenePopup}}(files);}
\DoxyCodeLine{00606   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00607     m\_exportScenePopup-\/>setScenes(files);}
\DoxyCodeLine{00608   m\_exportScenePopup-\/>show();}
\DoxyCodeLine{00609 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_ab58391dcab81112405eea0e1286c2eba}\label{class_file_selection_ab58391dcab81112405eea0e1286c2eba}} 
\index{FileSelection@{FileSelection}!getSelectedFiles@{getSelectedFiles}}
\index{getSelectedFiles@{getSelectedFiles}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{getSelectedFiles()}{getSelectedFiles()}}
{\footnotesize\ttfamily void File\+Selection\+::get\+Selected\+Files (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} $>$ \&}]{files }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00205                                                                 \{}
\DoxyCodeLine{00206   \textcolor{keywordflow}{if} (!getModel()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00207   \textcolor{keyword}{const} std::set<int> \&indices = getSelectedIndices();}
\DoxyCodeLine{00208   std::set<int>::const\_iterator it;}
\DoxyCodeLine{00209   \textcolor{keywordflow}{for} (it = indices.begin(); it != indices.end(); ++it) \{}
\DoxyCodeLine{00210     QString name =}
\DoxyCodeLine{00211         getModel()-\/>getItemData(*it, DvItemListModel::FullPath).toString();}
\DoxyCodeLine{00212     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(name.toStdWString());}
\DoxyCodeLine{00213     files.push\_back(fp);}
\DoxyCodeLine{00214   \}}
\DoxyCodeLine{00215 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a006140614e1d4adf4d893a215f05beb6}\label{class_file_selection_a006140614e1d4adf4d893a215f05beb6}} 
\index{FileSelection@{FileSelection}!importScenes@{importScenes}}
\index{importScenes@{importScenes}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{importScenes()}{importScenes()}}
{\footnotesize\ttfamily void File\+Selection\+::import\+Scenes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00565                                  \{}
\DoxyCodeLine{00566   std::vector<TFilePath> files;}
\DoxyCodeLine{00567   getSelectedFiles(files);}
\DoxyCodeLine{00568   \textcolor{keywordflow}{if} (files.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00569   \textcolor{keywordtype}{int} importedSceneCount = 0;}
\DoxyCodeLine{00570 }
\DoxyCodeLine{00571   \textcolor{keywordtype}{int} count = files.size();}
\DoxyCodeLine{00572 }
\DoxyCodeLine{00573   \textcolor{keywordflow}{if} (count > 1) \{}
\DoxyCodeLine{00574     QMainWindow *mw = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_aa229713538a33215a03db85064ef4012}{getMainWindow}}();}
\DoxyCodeLine{00575     \mbox{\hyperlink{class_d_v_gui_1_1_progress_dialog}{ProgressDialog}} progress(QObject::tr(\textcolor{stringliteral}{"{}Importing scenes..."{}}),}
\DoxyCodeLine{00576                             QObject::tr(\textcolor{stringliteral}{"{}Abort"{}}), 0, count, mw);}
\DoxyCodeLine{00577     progress.setWindowModality(Qt::WindowModal);}
\DoxyCodeLine{00578 }
\DoxyCodeLine{00579     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00580     \textcolor{keywordflow}{for} (i = 1; i <= count; i++) \{}
\DoxyCodeLine{00581       \textcolor{keywordtype}{int} ret = ::importScene(files[i -\/ 1]);}
\DoxyCodeLine{00582       importedSceneCount += ret;}
\DoxyCodeLine{00583       progress.setValue(i);}
\DoxyCodeLine{00584       \textcolor{keywordflow}{if} (progress.wasCanceled()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00585     \}}
\DoxyCodeLine{00586     progress.setValue(count);}
\DoxyCodeLine{00587   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00588     \textcolor{keywordtype}{int} ret = ::importScene(files[0]);}
\DoxyCodeLine{00589     importedSceneCount += ret;}
\DoxyCodeLine{00590   \}}
\DoxyCodeLine{00591   \textcolor{keywordflow}{if} (importedSceneCount == 0)}
\DoxyCodeLine{00592     DVGui::info(QObject::tr(\textcolor{stringliteral}{"{}No scene imported"{}}));}
\DoxyCodeLine{00593   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (importedSceneCount == 1)}
\DoxyCodeLine{00594     DVGui::info(QObject::tr(\textcolor{stringliteral}{"{}One scene imported"{}}));}
\DoxyCodeLine{00595   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00596     DVGui::info(QString::number(importedSceneCount) +}
\DoxyCodeLine{00597                 QObject::tr(\textcolor{stringliteral}{"{}\%1 scenes imported"{}}).arg(importedSceneCount));}
\DoxyCodeLine{00598 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a6c2453ae534262041c33b9055ad84449}\label{class_file_selection_a6c2453ae534262041c33b9055ad84449}} 
\index{FileSelection@{FileSelection}!pasteFiles@{pasteFiles}}
\index{pasteFiles@{pasteFiles}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{pasteFiles()}{pasteFiles()}}
{\footnotesize\ttfamily void File\+Selection\+::paste\+Files (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00311                                \{}
\DoxyCodeLine{00312   \textcolor{keyword}{const} \mbox{\hyperlink{class_file_data}{FileData}} *data =}
\DoxyCodeLine{00313       \textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{class_file_data}{FileData}} *\textcolor{keyword}{>}(QApplication::clipboard()-\/>mimeData());}
\DoxyCodeLine{00314   \textcolor{keywordflow}{if} (!data) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00315   \mbox{\hyperlink{class_t_app}{TApp}} *app          = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00316   \mbox{\hyperlink{class_file_browser}{FileBrowser}} *model = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_file_browser}{FileBrowser}} *\textcolor{keyword}{>}(getModel());}
\DoxyCodeLine{00317   \textcolor{keywordflow}{if} (!model) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00318   \mbox{\hyperlink{class_t_file_path}{TFilePath}} folder = model-\/>getFolder();}
\DoxyCodeLine{00319   std::vector<TFilePath> newFiles;}
\DoxyCodeLine{00320   data-\/>getFiles(folder, newFiles);}
\DoxyCodeLine{00321   FileBrowser::refreshFolder(folder);}
\DoxyCodeLine{00322   TUndoManager::manager()-\/>add(\textcolor{keyword}{new} PasteFilesUndo(newFiles, folder));}
\DoxyCodeLine{00323 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_acf72eddbcc824e7fa1a93e301df6b6df}\label{class_file_selection_acf72eddbcc824e7fa1a93e301df6b6df}} 
\index{FileSelection@{FileSelection}!premultiplyFiles@{premultiplyFiles}}
\index{premultiplyFiles@{premultiplyFiles}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{premultiplyFiles()}{premultiplyFiles()}}
{\footnotesize\ttfamily void File\+Selection\+::premultiply\+Files (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00424                                      \{}
\DoxyCodeLine{00425   QString question = QObject::tr(}
\DoxyCodeLine{00426       \textcolor{stringliteral}{"{}You are going to premultiply selected files.\(\backslash\)nThe operation cannot be "{}}}
\DoxyCodeLine{00427       \textcolor{stringliteral}{"{}undone: are you sure?"{}});}
\DoxyCodeLine{00428   \textcolor{keywordtype}{int} ret = DVGui::MsgBox(question, QObject::tr(\textcolor{stringliteral}{"{}Premultiply"{}}),}
\DoxyCodeLine{00429                           QObject::tr(\textcolor{stringliteral}{"{}Cancel"{}}), 1);}
\DoxyCodeLine{00430   \textcolor{keywordflow}{if} (ret == 2 || ret == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00431 }
\DoxyCodeLine{00432   std::vector<TFilePath> files;}
\DoxyCodeLine{00433   getSelectedFiles(files);}
\DoxyCodeLine{00434   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00435   \textcolor{keywordflow}{for} (i = 0; i < (int)files.size(); i++) \{}
\DoxyCodeLine{00436     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = files[i];}
\DoxyCodeLine{00437     ImageUtils::premultiply(fp);}
\DoxyCodeLine{00438   \}}
\DoxyCodeLine{00439 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a86207e0e2a4db687baaaf1b4cecf1997}\label{class_file_selection_a86207e0e2a4db687baaaf1b4cecf1997}} 
\index{FileSelection@{FileSelection}!selectAll@{selectAll}}
\index{selectAll@{selectAll}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{selectAll()}{selectAll()}}
{\footnotesize\ttfamily void File\+Selection\+::select\+All (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00624                               \{}
\DoxyCodeLine{00625   DvItemSelection::selectAll();}
\DoxyCodeLine{00626   \textcolor{keyword}{const} std::set<int> \&indices = getSelectedIndices();}
\DoxyCodeLine{00627   \textcolor{keywordflow}{if} (indices.size()) \{}
\DoxyCodeLine{00628     std::set<int>::const\_iterator it;}
\DoxyCodeLine{00629     it = indices.begin();}
\DoxyCodeLine{00630     QString name =}
\DoxyCodeLine{00631         getModel()-\/>getItemData(*it, DvItemListModel::FullPath).toString();}
\DoxyCodeLine{00632     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(name.toStdWString());}
\DoxyCodeLine{00633     FileBrowser::updateItemViewerPanel();}
\DoxyCodeLine{00634   \}}
\DoxyCodeLine{00635 }
\DoxyCodeLine{00636 \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00637 }
\DoxyCodeLine{00638 \textcolor{keyword}{class }ExportCurrentSceneCommandHandler final : \textcolor{keyword}{public} \mbox{\hyperlink{class_menu_item_handler}{MenuItemHandler}} \{}
\DoxyCodeLine{00639 \textcolor{keyword}{public}:}
\DoxyCodeLine{00640   ExportCurrentSceneCommandHandler() : \mbox{\hyperlink{class_menu_item_handler}{MenuItemHandler}}(MI\_ExportCurrentScene) \{\}}
\DoxyCodeLine{00641   \textcolor{keywordtype}{void} execute()\textcolor{keyword}{ override }\{}
\DoxyCodeLine{00642     \mbox{\hyperlink{class_t_app}{TApp}} *app                 = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00643     \mbox{\hyperlink{class_t_scene_handle}{TSceneHandle}} *sceneHandle = app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}();}
\DoxyCodeLine{00644     \textcolor{keywordflow}{if} (!sceneHandle) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00645     \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = sceneHandle-\/>getScene();}
\DoxyCodeLine{00646     \textcolor{keywordflow}{if} (!scene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00647     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = scene-\/>\mbox{\hyperlink{class_toonz_scene_ad42b52b671b094f66e003c4b7ebefd45}{getScenePath}}();}
\DoxyCodeLine{00648 }
\DoxyCodeLine{00649     \textcolor{keywordflow}{if} (sceneHandle-\/>getDirtyFlag() || scene-\/>\mbox{\hyperlink{class_toonz_scene_a53cbaf09f551658479eb743e153ab6bc}{isUntitled}}() ||}
\DoxyCodeLine{00650         !TSystem::doesExistFileOrLevel(fp)) \{}
\DoxyCodeLine{00651       DVGui::warning(tr(\textcolor{stringliteral}{"{}You must save the current scene first."{}}));}
\DoxyCodeLine{00652       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00653     \}}
\DoxyCodeLine{00654 }
\DoxyCodeLine{00655     \mbox{\hyperlink{class_file_selection}{FileSelection}} *fs = \textcolor{keyword}{new} \mbox{\hyperlink{class_file_selection}{FileSelection}}();}
\DoxyCodeLine{00656     fs-\/>exportScene(fp);}
\DoxyCodeLine{00657   \}}
\DoxyCodeLine{00658 <<<<<<< HEAD}
\DoxyCodeLine{00659 \} ExportCurrentSceneCommandHandler;}
\DoxyCodeLine{00660 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_ab1fb8e87093f1460dd69e390197da979}\label{class_file_selection_ab1fb8e87093f1460dd69e390197da979}} 
\index{FileSelection@{FileSelection}!separateFilesByColors@{separateFilesByColors}}
\index{separateFilesByColors@{separateFilesByColors}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{separateFilesByColors()}{separateFilesByColors()}}
{\footnotesize\ttfamily void File\+Selection\+::separate\+Files\+By\+Colors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00512                                           \{}
\DoxyCodeLine{00513   std::vector<TFilePath> files;}
\DoxyCodeLine{00514   getSelectedFiles(files);}
\DoxyCodeLine{00515   \textcolor{keywordflow}{if} (files.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00516 }
\DoxyCodeLine{00517   \textcolor{keyword}{static} \mbox{\hyperlink{class_separate_colors_popup}{SeparateColorsPopup}} *popup = \textcolor{keyword}{new} \mbox{\hyperlink{class_separate_colors_popup}{SeparateColorsPopup}}();}
\DoxyCodeLine{00518   \textcolor{keywordflow}{if} (popup-\/>isConverting()) \{}
\DoxyCodeLine{00519     DVGui::MsgBox(INFORMATION, QObject::tr(\textcolor{stringliteral}{"{}A separation task is in progress! "{}}}
\DoxyCodeLine{00520                                            \textcolor{stringliteral}{"{}wait until it stops or cancel it"{}}));}
\DoxyCodeLine{00521     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00522   \}}
\DoxyCodeLine{00523   popup-\/>setFiles(files);}
\DoxyCodeLine{00524   popup-\/>show();}
\DoxyCodeLine{00525   popup-\/>raise();}
\DoxyCodeLine{00526   \textcolor{comment}{// popup-\/>exec();}}
\DoxyCodeLine{00527 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_ae0481bccd55e045ee518fdc0b07d727d}\label{class_file_selection_ae0481bccd55e045ee518fdc0b07d727d}} 
\index{FileSelection@{FileSelection}!showFolderContents@{showFolderContents}}
\index{showFolderContents@{showFolderContents}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{showFolderContents()}{showFolderContents()}}
{\footnotesize\ttfamily void File\+Selection\+::show\+Folder\+Contents (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00327                                        \{}
\DoxyCodeLine{00328   std::vector<TFilePath> files;}
\DoxyCodeLine{00329   getSelectedFiles(files);}
\DoxyCodeLine{00330   \mbox{\hyperlink{class_t_file_path}{TFilePath}} folderPath;}
\DoxyCodeLine{00331   \textcolor{keywordflow}{if} (!files.empty()) folderPath = files[0].\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{00332   \textcolor{keywordflow}{if} (folderPath.isEmpty()) \{}
\DoxyCodeLine{00333     \mbox{\hyperlink{class_file_browser}{FileBrowser}} *model = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_file_browser}{FileBrowser}} *\textcolor{keyword}{>}(getModel());}
\DoxyCodeLine{00334     \textcolor{keywordflow}{if} (!model) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00335     folderPath = model-\/>getFolder();}
\DoxyCodeLine{00336   \}}
\DoxyCodeLine{00337   \textcolor{keywordflow}{if} (TSystem::isUNC(folderPath)) \{}
\DoxyCodeLine{00338     \textcolor{keywordtype}{bool} ok = QDesktopServices::openUrl(}
\DoxyCodeLine{00339         QUrl(QString::fromStdWString(folderPath.getWideString())));}
\DoxyCodeLine{00340     \textcolor{keywordflow}{if} (ok) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00341     \textcolor{comment}{// If the above fails, then try opening UNC path with the same way as the}}
\DoxyCodeLine{00342     \textcolor{comment}{// local files.. QUrl::fromLocalFile() seems to work for UNC path as well in}}
\DoxyCodeLine{00343     \textcolor{comment}{// our environment. (8/10/2021 shun-\/iwasawa)}}
\DoxyCodeLine{00344   \}}
\DoxyCodeLine{00345   QDesktopServices::openUrl(}
\DoxyCodeLine{00346       QUrl::fromLocalFile(QString::fromStdWString(folderPath.getWideString())));}
\DoxyCodeLine{00347 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_a4212a2b44341ec1d34702c2da0f54eb9}\label{class_file_selection_a4212a2b44341ec1d34702c2da0f54eb9}} 
\index{FileSelection@{FileSelection}!viewFile@{viewFile}}
\index{viewFile@{viewFile}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{viewFile()}{viewFile()}}
{\footnotesize\ttfamily void File\+Selection\+::view\+File (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00376                              \{}
\DoxyCodeLine{00377   std::vector<TFilePath> files;}
\DoxyCodeLine{00378   getSelectedFiles(files);}
\DoxyCodeLine{00379   \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{00380   \textcolor{keywordflow}{for} (i = 0; i < files.size(); i++) \{}
\DoxyCodeLine{00381     \textcolor{keywordflow}{if} (!TFileType::isViewable(TFileType::getInfo(files[i])) \&\&}
\DoxyCodeLine{00382         files[i].getType() != \textcolor{stringliteral}{"{}tpl"{}})}
\DoxyCodeLine{00383       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00384 }
\DoxyCodeLine{00385     \textcolor{keywordflow}{if} (Preferences::instance()-\/>isDefaultViewerEnabled() \&\&}
\DoxyCodeLine{00386         (files[i].getType() == \textcolor{stringliteral}{"{}mov"{}} || files[i].getType() == \textcolor{stringliteral}{"{}avi"{}} ||}
\DoxyCodeLine{00387          files[i].getType() == \textcolor{stringliteral}{"{}3gp"{}}))}
\DoxyCodeLine{00388       QDesktopServices::openUrl(QUrl(\textcolor{stringliteral}{"{}file:///"{}} + toQString(files[i])));}
\DoxyCodeLine{00389     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (files[i].getType() == \textcolor{stringliteral}{"{}tpl"{}}) \{}
\DoxyCodeLine{00390       viewedPalette = StudioPalette::instance()-\/>getPalette(files[i], \textcolor{keyword}{false});}
\DoxyCodeLine{00391       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()}
\DoxyCodeLine{00392           -\/>getPaletteController()}
\DoxyCodeLine{00393           -\/>getCurrentLevelPalette()}
\DoxyCodeLine{00394           -\/>setPalette(viewedPalette.getPointer());}
\DoxyCodeLine{00395       CommandManager::instance()-\/>execute(\textcolor{stringliteral}{"{}MI\_OpenPalette"{}});}
\DoxyCodeLine{00396     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00397       \mbox{\hyperlink{class_flip_book}{FlipBook}} *fb = ::viewFile(files[i]);}
\DoxyCodeLine{00398       \textcolor{keywordflow}{if} (fb) \{}
\DoxyCodeLine{00399         FileBrowserPopup::setModalBrowserToParent(fb-\/>parentWidget());}
\DoxyCodeLine{00400       \}}
\DoxyCodeLine{00401     \}}
\DoxyCodeLine{00402   \}}
\DoxyCodeLine{00403 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_file_selection_ac7412b3450f48f7d024cf701ad7d6540}\label{class_file_selection_ac7412b3450f48f7d024cf701ad7d6540}} 
\index{FileSelection@{FileSelection}!viewFileInfo@{viewFileInfo}}
\index{viewFileInfo@{viewFileInfo}!FileSelection@{FileSelection}}
\doxysubsubsection{\texorpdfstring{viewFileInfo()}{viewFileInfo()}}
{\footnotesize\ttfamily void File\+Selection\+::view\+File\+Info (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00351                                  \{}
\DoxyCodeLine{00352   std::vector<TFilePath> files;}
\DoxyCodeLine{00353   getSelectedFiles(files);}
\DoxyCodeLine{00354   \textcolor{keywordflow}{if} (files.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00355   \textcolor{keywordtype}{int} j = 0;}
\DoxyCodeLine{00356   \textcolor{keywordflow}{for} (j = 0; j < files.size(); j++) \{}
\DoxyCodeLine{00357     \mbox{\hyperlink{class_info_viewer}{InfoViewer}} *infoViewer = 0;}
\DoxyCodeLine{00358     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00359     \textcolor{keywordflow}{for} (i = 0; i < m\_infoViewers.size(); i++) \{}
\DoxyCodeLine{00360       \mbox{\hyperlink{class_info_viewer}{InfoViewer}} *v = m\_infoViewers.at(i);}
\DoxyCodeLine{00361       \textcolor{keywordflow}{if} (!v-\/>isHidden()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00362       infoViewer = v;}
\DoxyCodeLine{00363       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00364     \}}
\DoxyCodeLine{00365     \textcolor{keywordflow}{if} (!infoViewer) \{}
\DoxyCodeLine{00366       infoViewer = \textcolor{keyword}{new} \mbox{\hyperlink{class_info_viewer}{InfoViewer}}();}
\DoxyCodeLine{00367       m\_infoViewers.append(infoViewer);}
\DoxyCodeLine{00368     \}}
\DoxyCodeLine{00369     FileBrowserPopup::setModalBrowserToParent(infoViewer);}
\DoxyCodeLine{00370     infoViewer-\/>setItem(0, 0, files[j]);}
\DoxyCodeLine{00371   \}}
\DoxyCodeLine{00372 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/fileselection.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/fileselection.\+cpp\end{DoxyCompactItemize}
