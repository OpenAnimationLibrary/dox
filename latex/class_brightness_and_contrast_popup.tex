\hypertarget{class_brightness_and_contrast_popup}{}\doxysection{Brightness\+And\+Contrast\+Popup Class Reference}
\label{class_brightness_and_contrast_popup}\index{BrightnessAndContrastPopup@{BrightnessAndContrastPopup}}
Inheritance diagram for Brightness\+And\+Contrast\+Popup\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_brightness_and_contrast_popup}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_brightness_and_contrast_popup_1_1_swatch}{Swatch}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_brightness_and_contrast_popup_af93cf9f07e32ef45d2651f9d9122b977}{apply}} ()
\item 
void \mbox{\hyperlink{class_brightness_and_contrast_popup_a812e69568cb10656cd09c3348edb91f8}{on\+Values\+Changed}} (bool dragging)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_brightness_and_contrast_popup_af8bdaea251877cacd4f22ca86ced3fc5}{set\+Current\+Sample\+Raster}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_brightness_and_contrast_popup_ae091508ff431542a3a70588d5b31e9b5}{show\+Event}} (QShow\+Event $\ast$e) override
\item 
void \mbox{\hyperlink{class_brightness_and_contrast_popup_a578f99efe81345670a850d20b88d4201}{hide\+Event}} (QHide\+Event $\ast$e) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_brightness_and_contrast_popup_a36f6c10465a5a0651f109de134ec7874}\label{class_brightness_and_contrast_popup_a36f6c10465a5a0651f109de134ec7874}} 
\index{BrightnessAndContrastPopup@{BrightnessAndContrastPopup}!BrightnessAndContrastPopup@{BrightnessAndContrastPopup}}
\index{BrightnessAndContrastPopup@{BrightnessAndContrastPopup}!BrightnessAndContrastPopup@{BrightnessAndContrastPopup}}
\doxysubsubsection{\texorpdfstring{BrightnessAndContrastPopup()}{BrightnessAndContrastPopup()}}
{\footnotesize\ttfamily Brightness\+And\+Contrast\+Popup\+::\+Brightness\+And\+Contrast\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00237     : Dialog(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getMainWindow(), \textcolor{keyword}{true}, \textcolor{keyword}{false},}
\DoxyCodeLine{00238              \textcolor{stringliteral}{"{}BrightnessAndContrast"{}})}
\DoxyCodeLine{00239     , m\_startRas(0) \{}
\DoxyCodeLine{00240   setWindowTitle(tr(\textcolor{stringliteral}{"{}Brightness and Contrast"{}}));}
\DoxyCodeLine{00241   setLabelWidth(0);}
\DoxyCodeLine{00242   setModal(\textcolor{keyword}{false});}
\DoxyCodeLine{00243 }
\DoxyCodeLine{00244   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_a7aa8ccf399f483fe1f36c30a1318987a}{setTopMargin}}(0);}
\DoxyCodeLine{00245   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_af1334e3123db7e7c9a9b90ee7c73e226}{setTopSpacing}}(0);}
\DoxyCodeLine{00246 }
\DoxyCodeLine{00247   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ae7de609b3b23233656bc68852a2d10cb}{beginVLayout}}();}
\DoxyCodeLine{00248 }
\DoxyCodeLine{00249   QSplitter *splitter = \textcolor{keyword}{new} QSplitter(Qt::Vertical);}
\DoxyCodeLine{00250   splitter-\/>setSizePolicy(QSizePolicy(QSizePolicy::MinimumExpanding,}
\DoxyCodeLine{00251                                       QSizePolicy::MinimumExpanding));}
\DoxyCodeLine{00252   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(splitter);}
\DoxyCodeLine{00253 }
\DoxyCodeLine{00254   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ab88d88334402845e544da6ca1f207c79}{endVLayout}}();}
\DoxyCodeLine{00255 }
\DoxyCodeLine{00256   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ Top Layout -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00257 }
\DoxyCodeLine{00258   QScrollArea *scrollArea = \textcolor{keyword}{new} QScrollArea(splitter);}
\DoxyCodeLine{00259   scrollArea-\/>setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);}
\DoxyCodeLine{00260   scrollArea-\/>setWidgetResizable(\textcolor{keyword}{true});}
\DoxyCodeLine{00261   splitter-\/>addWidget(scrollArea);}
\DoxyCodeLine{00262   splitter-\/>setStretchFactor(0, 1);}
\DoxyCodeLine{00263 }
\DoxyCodeLine{00264   QFrame *topWidget = \textcolor{keyword}{new} QFrame(scrollArea);}
\DoxyCodeLine{00265   topWidget-\/>setSizePolicy(QSizePolicy(QSizePolicy::MinimumExpanding,}
\DoxyCodeLine{00266                                        QSizePolicy::MinimumExpanding));}
\DoxyCodeLine{00267   scrollArea-\/>setWidget(topWidget);}
\DoxyCodeLine{00268 }
\DoxyCodeLine{00269   QGridLayout *topLayout = \textcolor{keyword}{new} QGridLayout(\textcolor{keyword}{this});}
\DoxyCodeLine{00270   topWidget-\/>setLayout(topLayout);}
\DoxyCodeLine{00271 }
\DoxyCodeLine{00272   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ Parameters -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00273 }
\DoxyCodeLine{00274   \textcolor{comment}{// Brightness}}
\DoxyCodeLine{00275   QLabel *brightnessLabel = \textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Brightness:"{}}));}
\DoxyCodeLine{00276   topLayout-\/>addWidget(brightnessLabel, 0, 0,}
\DoxyCodeLine{00277                        Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{00278 }
\DoxyCodeLine{00279   m\_brightnessField = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_int_field}{DVGui::IntField}}(topWidget);}
\DoxyCodeLine{00280   m\_brightnessField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a055d473a8dde4481be33a83c9fa04c96}{setRange}}(-\/127, 127);}
\DoxyCodeLine{00281   m\_brightnessField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_aed421e2c52946f2c7643534b4f6f13f7}{setValue}}(0);}
\DoxyCodeLine{00282   topLayout-\/>addWidget(m\_brightnessField, 0, 1);}
\DoxyCodeLine{00283 }
\DoxyCodeLine{00284   \textcolor{comment}{// Contrast}}
\DoxyCodeLine{00285   QLabel *contrastLabel = \textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Contrast:"{}}));}
\DoxyCodeLine{00286   topLayout-\/>addWidget(contrastLabel, 1, 0, Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{00287 }
\DoxyCodeLine{00288   m\_contrastField = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_int_field}{DVGui::IntField}}(topWidget);}
\DoxyCodeLine{00289   m\_contrastField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a055d473a8dde4481be33a83c9fa04c96}{setRange}}(-\/127, 127);}
\DoxyCodeLine{00290   m\_contrastField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_aed421e2c52946f2c7643534b4f6f13f7}{setValue}}(0);}
\DoxyCodeLine{00291   topLayout-\/>addWidget(m\_contrastField, 1, 1);}
\DoxyCodeLine{00292 }
\DoxyCodeLine{00293   topLayout-\/>setRowStretch(2, 1);}
\DoxyCodeLine{00294 }
\DoxyCodeLine{00295   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ Swatch -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00296 }
\DoxyCodeLine{00297   m\_viewer = \textcolor{keyword}{new} Swatch(splitter);}
\DoxyCodeLine{00298   m\_viewer-\/>setMinimumHeight(150);}
\DoxyCodeLine{00299   m\_viewer-\/>setFocusPolicy(Qt::WheelFocus);}
\DoxyCodeLine{00300   splitter-\/>addWidget(m\_viewer);}
\DoxyCodeLine{00301 }
\DoxyCodeLine{00302   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ Button -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00303 }
\DoxyCodeLine{00304   m\_okBtn = \textcolor{keyword}{new} QPushButton(QString(tr(\textcolor{stringliteral}{"{}Apply"{}})), \textcolor{keyword}{this});}
\DoxyCodeLine{00305   connect(m\_okBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(apply()));}
\DoxyCodeLine{00306 }
\DoxyCodeLine{00307   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_aff324b24a1ad0c06fdc178024c1f0cf0}{addButtonBarWidget}}(m\_okBtn);}
\DoxyCodeLine{00308 }
\DoxyCodeLine{00309   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ Connections -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00310 }
\DoxyCodeLine{00311   \mbox{\hyperlink{class_t_app}{TApp}} *app = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00312 }
\DoxyCodeLine{00313   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{true};}
\DoxyCodeLine{00314 }
\DoxyCodeLine{00315   ret = ret \&\& connect(m\_brightnessField, SIGNAL(valueChanged(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{00316                        SLOT(onValuesChanged(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00317   ret = ret \&\& connect(m\_contrastField, SIGNAL(valueChanged(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{00318                        SLOT(onValuesChanged(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00319 }
\DoxyCodeLine{00320   assert(ret);}
\DoxyCodeLine{00321 }
\DoxyCodeLine{00322   m\_viewer-\/>resize(0, 350);}
\DoxyCodeLine{00323   resize(600, 500);}
\DoxyCodeLine{00324 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_brightness_and_contrast_popup_af93cf9f07e32ef45d2651f9d9122b977}\label{class_brightness_and_contrast_popup_af93cf9f07e32ef45d2651f9d9122b977}} 
\index{BrightnessAndContrastPopup@{BrightnessAndContrastPopup}!apply@{apply}}
\index{apply@{apply}!BrightnessAndContrastPopup@{BrightnessAndContrastPopup}}
\doxysubsubsection{\texorpdfstring{apply}{apply}}
{\footnotesize\ttfamily void Brightness\+And\+Contrast\+Popup\+::apply (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00470                                        \{}
\DoxyCodeLine{00471   \mbox{\hyperlink{class_t_cell_selection}{TCellSelection}} *cellSelection =}
\DoxyCodeLine{00472       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_cell_selection}{TCellSelection}} *\textcolor{keyword}{>}(TSelection::getCurrent());}
\DoxyCodeLine{00473   \textcolor{keywordtype}{int} brightness = m\_brightnessField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}();}
\DoxyCodeLine{00474   \textcolor{keywordtype}{int} contrast   = m\_contrastField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}();}
\DoxyCodeLine{00475   \textcolor{keywordflow}{if} (cellSelection) \{}
\DoxyCodeLine{00476     std::set<TRasterImage *> images;}
\DoxyCodeLine{00477     \textcolor{keywordtype}{int} r0, c0, r1, c1;}
\DoxyCodeLine{00478     cellSelection-\/>getSelectedCells(r0, c0, r1, c1);}
\DoxyCodeLine{00479     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsheet      = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{00480     \textcolor{keywordtype}{bool} oneImageChanged = \textcolor{keyword}{false};}
\DoxyCodeLine{00481     \textcolor{keywordtype}{int} c, r;}
\DoxyCodeLine{00482     TUndoManager::manager()-\/>beginBlock();}
\DoxyCodeLine{00483     \textcolor{keywordflow}{for} (c = c0; c <= c1; c++)}
\DoxyCodeLine{00484       \textcolor{keywordflow}{for} (r = r0; r <= r1; r++) \{}
\DoxyCodeLine{00485         \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell          = xsheet-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(r, c);}
\DoxyCodeLine{00486         \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} rasImage = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})cell.\mbox{\hyperlink{class_t_xsh_cell_a20b623d308bc09b820ec6b116516f564}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00487         \textcolor{keywordflow}{if} (!rasImage) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00488         \textcolor{keywordflow}{if} (images.find(rasImage.getPointer()) != images.end()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00489         \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} ras = rasImage-\/>getRaster();}
\DoxyCodeLine{00490         \textcolor{keywordflow}{if} (!ras) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00491         images.insert(rasImage.getPointer());}
\DoxyCodeLine{00492         oneImageChanged = \textcolor{keyword}{true};}
\DoxyCodeLine{00493         TUndoManager::manager()-\/>add(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_raster_brightness_undo}{TRasterBrightnessUndo}}(}
\DoxyCodeLine{00494             brightness, contrast, r, c, ras-\/>clone()));}
\DoxyCodeLine{00495         onChange(ras, contrast, brightness);}
\DoxyCodeLine{00496         \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *simpleLevel = cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{00497         assert(simpleLevel);}
\DoxyCodeLine{00498         simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a3c20a8d11037048322d2035b0f286209}{touchFrame}}(cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{00499         simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00500         IconGenerator::instance()-\/>invalidate(simpleLevel, cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{00501       \}}
\DoxyCodeLine{00502     TUndoManager::manager()-\/>endBlock();}
\DoxyCodeLine{00503     \textcolor{keywordflow}{if} (oneImageChanged) \{}
\DoxyCodeLine{00504       close();}
\DoxyCodeLine{00505       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00506     \}}
\DoxyCodeLine{00507   \}}
\DoxyCodeLine{00508   \mbox{\hyperlink{class_t_filmstrip_selection}{TFilmstripSelection}} *filmstripSelection =}
\DoxyCodeLine{00509       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_filmstrip_selection}{TFilmstripSelection}} *\textcolor{keyword}{>}(TSelection::getCurrent());}
\DoxyCodeLine{00510   \textcolor{keywordflow}{if} (filmstripSelection) \{}
\DoxyCodeLine{00511     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *simpleLevel =}
\DoxyCodeLine{00512         \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}{getCurrentLevel}}()-\/>getSimpleLevel();}
\DoxyCodeLine{00513     \textcolor{keywordflow}{if} (simpleLevel) \{}
\DoxyCodeLine{00514       std::set<TFrameId> fids         = filmstripSelection-\/>getSelectedFids();}
\DoxyCodeLine{00515       std::set<TFrameId>::iterator it = fids.begin();}
\DoxyCodeLine{00516       \textcolor{keywordtype}{bool} oneImageChanged            = \textcolor{keyword}{false};}
\DoxyCodeLine{00517       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \textcolor{keyword}{const} \&fid : fids) \{}
\DoxyCodeLine{00518         \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} rasImage =}
\DoxyCodeLine{00519             (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})simpleLevel-\/>getFrame(fid, \textcolor{keyword}{true});}
\DoxyCodeLine{00520         ;}
\DoxyCodeLine{00521         \textcolor{keywordflow}{if} (!rasImage) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00522         \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} ras = rasImage-\/>getRaster();}
\DoxyCodeLine{00523         \textcolor{keywordflow}{if} (!ras) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00524         oneImageChanged = \textcolor{keyword}{true};}
\DoxyCodeLine{00525         onChange(ras, contrast, brightness);}
\DoxyCodeLine{00526         simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a3c20a8d11037048322d2035b0f286209}{touchFrame}}(fid);}
\DoxyCodeLine{00527         simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00528         IconGenerator::instance()-\/>invalidate(simpleLevel, fid);}
\DoxyCodeLine{00529       \}}
\DoxyCodeLine{00530       \textcolor{keywordflow}{if} (oneImageChanged) \{}
\DoxyCodeLine{00531         close();}
\DoxyCodeLine{00532         \textcolor{keywordflow}{return};}
\DoxyCodeLine{00533       \}}
\DoxyCodeLine{00534     \}}
\DoxyCodeLine{00535   \}}
\DoxyCodeLine{00536 }
\DoxyCodeLine{00537   DVGui::error(QObject::tr(\textcolor{stringliteral}{"{}The current selection is invalid."{}}));}
\DoxyCodeLine{00538   \textcolor{keywordflow}{return};}
\DoxyCodeLine{00539 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_brightness_and_contrast_popup_a578f99efe81345670a850d20b88d4201}\label{class_brightness_and_contrast_popup_a578f99efe81345670a850d20b88d4201}} 
\index{BrightnessAndContrastPopup@{BrightnessAndContrastPopup}!hideEvent@{hideEvent}}
\index{hideEvent@{hideEvent}!BrightnessAndContrastPopup@{BrightnessAndContrastPopup}}
\doxysubsubsection{\texorpdfstring{hideEvent()}{hideEvent()}}
{\footnotesize\ttfamily void Brightness\+And\+Contrast\+Popup\+::hide\+Event (\begin{DoxyParamCaption}\item[{QHide\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00388                                                          \{}
\DoxyCodeLine{00389   \mbox{\hyperlink{class_t_app}{TApp}} *app = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00390   disconnect(app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}(), SIGNAL(frameTypeChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00391              SLOT(setCurrentSampleRaster()));}
\DoxyCodeLine{00392   disconnect(app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}(), SIGNAL(frameSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00393              SLOT(setCurrentSampleRaster()));}
\DoxyCodeLine{00394   disconnect(app-\/>\mbox{\hyperlink{class_t_app_a1e294e7cff300851d12a8c3d196943f6}{getCurrentColumn}}(), SIGNAL(columnIndexSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00395              SLOT(setCurrentSampleRaster()));}
\DoxyCodeLine{00396 }
\DoxyCodeLine{00397   Dialog::hideEvent(he);}
\DoxyCodeLine{00398 }
\DoxyCodeLine{00399   m\_viewer-\/>raster() = \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}}();}
\DoxyCodeLine{00400   m\_startRas         = \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}}();}
\DoxyCodeLine{00401 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_brightness_and_contrast_popup_a812e69568cb10656cd09c3348edb91f8}\label{class_brightness_and_contrast_popup_a812e69568cb10656cd09c3348edb91f8}} 
\index{BrightnessAndContrastPopup@{BrightnessAndContrastPopup}!onValuesChanged@{onValuesChanged}}
\index{onValuesChanged@{onValuesChanged}!BrightnessAndContrastPopup@{BrightnessAndContrastPopup}}
\doxysubsubsection{\texorpdfstring{onValuesChanged}{onValuesChanged}}
{\footnotesize\ttfamily void Brightness\+And\+Contrast\+Popup\+::on\+Values\+Changed (\begin{DoxyParamCaption}\item[{bool}]{dragging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00543                                                               \{}
\DoxyCodeLine{00544   \textcolor{keywordflow}{if} (!m\_startRas || !m\_viewer-\/>raster()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00545 }
\DoxyCodeLine{00546   onChange(m\_startRas, m\_viewer-\/>raster(), m\_contrastField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}(),}
\DoxyCodeLine{00547            m\_brightnessField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}());}
\DoxyCodeLine{00548   m\_viewer-\/>update();}
\DoxyCodeLine{00549 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_brightness_and_contrast_popup_af8bdaea251877cacd4f22ca86ced3fc5}\label{class_brightness_and_contrast_popup_af8bdaea251877cacd4f22ca86ced3fc5}} 
\index{BrightnessAndContrastPopup@{BrightnessAndContrastPopup}!setCurrentSampleRaster@{setCurrentSampleRaster}}
\index{setCurrentSampleRaster@{setCurrentSampleRaster}!BrightnessAndContrastPopup@{BrightnessAndContrastPopup}}
\doxysubsubsection{\texorpdfstring{setCurrentSampleRaster}{setCurrentSampleRaster}}
{\footnotesize\ttfamily void Brightness\+And\+Contrast\+Popup\+::set\+Current\+Sample\+Raster (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00328                                                         \{}
\DoxyCodeLine{00329   \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} sampleRas;}
\DoxyCodeLine{00330 }
\DoxyCodeLine{00331   m\_startRas = \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}}();}
\DoxyCodeLine{00332   \mbox{\hyperlink{class_t_selection}{TSelection}} *selection =}
\DoxyCodeLine{00333       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a6e0ee1978807a89009571ed5ce44323b}{getCurrentSelection}}()-\/>getSelection();}
\DoxyCodeLine{00334   \mbox{\hyperlink{class_t_cell_selection}{TCellSelection}} *cellSelection = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_cell_selection}{TCellSelection}} *\textcolor{keyword}{>}(selection);}
\DoxyCodeLine{00335   \mbox{\hyperlink{class_t_filmstrip_selection}{TFilmstripSelection}} *filmstripSelection =}
\DoxyCodeLine{00336       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_filmstrip_selection}{TFilmstripSelection}} *\textcolor{keyword}{>}(selection);}
\DoxyCodeLine{00337   \textcolor{keywordflow}{if} (cellSelection) \{}
\DoxyCodeLine{00338     \mbox{\hyperlink{class_t_app}{TApp}} *app     = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00339     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh  = app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{00340     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}()-\/>getFrameIndex(),}
\DoxyCodeLine{00341                                  app-\/>\mbox{\hyperlink{class_t_app_a1e294e7cff300851d12a8c3d196943f6}{getCurrentColumn}}()-\/>getColumnIndex());}
\DoxyCodeLine{00342     \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} rasImage = cell.\mbox{\hyperlink{class_t_xsh_cell_a20b623d308bc09b820ec6b116516f564}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00343     \textcolor{keywordflow}{if} (rasImage \&\& rasImage-\/>getRaster())}
\DoxyCodeLine{00344       sampleRas = rasImage-\/>getRaster()-\/>clone();}
\DoxyCodeLine{00345   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (filmstripSelection) \{}
\DoxyCodeLine{00346     \mbox{\hyperlink{class_t_app}{TApp}} *app                    = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00347     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *simpleLevel = app-\/>\mbox{\hyperlink{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}{getCurrentLevel}}()-\/>getSimpleLevel();}
\DoxyCodeLine{00348     \textcolor{keywordflow}{if} (simpleLevel) \{}
\DoxyCodeLine{00349       \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} rasImage = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})simpleLevel-\/>getFrame(}
\DoxyCodeLine{00350           app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}()-\/>getFid(), \textcolor{keyword}{true});}
\DoxyCodeLine{00351       \textcolor{keywordflow}{if} (rasImage \&\& rasImage-\/>getRaster())}
\DoxyCodeLine{00352         sampleRas = rasImage-\/>getRaster()-\/>clone();}
\DoxyCodeLine{00353     \}}
\DoxyCodeLine{00354   \}}
\DoxyCodeLine{00355   \textcolor{keywordflow}{if} (!sampleRas) \{}
\DoxyCodeLine{00356     m\_viewer-\/>raster() = \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}}();}
\DoxyCodeLine{00357     m\_viewer-\/>update();}
\DoxyCodeLine{00358     m\_okBtn-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00359     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00360   \}}
\DoxyCodeLine{00361 }
\DoxyCodeLine{00362   m\_okBtn-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00363   m\_startRas = sampleRas-\/>clone();}
\DoxyCodeLine{00364   onChange(m\_startRas, sampleRas, m\_contrastField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}(),}
\DoxyCodeLine{00365            m\_brightnessField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}());}
\DoxyCodeLine{00366 }
\DoxyCodeLine{00367   m\_viewer-\/>raster() = sampleRas;}
\DoxyCodeLine{00368   m\_viewer-\/>update();}
\DoxyCodeLine{00369 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_brightness_and_contrast_popup_ae091508ff431542a3a70588d5b31e9b5}\label{class_brightness_and_contrast_popup_ae091508ff431542a3a70588d5b31e9b5}} 
\index{BrightnessAndContrastPopup@{BrightnessAndContrastPopup}!showEvent@{showEvent}}
\index{showEvent@{showEvent}!BrightnessAndContrastPopup@{BrightnessAndContrastPopup}}
\doxysubsubsection{\texorpdfstring{showEvent()}{showEvent()}}
{\footnotesize\ttfamily void Brightness\+And\+Contrast\+Popup\+::show\+Event (\begin{DoxyParamCaption}\item[{QShow\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00373                                                          \{}
\DoxyCodeLine{00374   \mbox{\hyperlink{class_t_app}{TApp}} *app = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00375   \textcolor{keywordtype}{bool} ret  = \textcolor{keyword}{true};}
\DoxyCodeLine{00376   ret = ret \&\& connect(app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}(), SIGNAL(frameTypeChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00377                        SLOT(setCurrentSampleRaster()));}
\DoxyCodeLine{00378   ret = ret \&\& connect(app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}(), SIGNAL(frameSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00379                        SLOT(setCurrentSampleRaster()));}
\DoxyCodeLine{00380   ret = ret \&\& connect(app-\/>\mbox{\hyperlink{class_t_app_a1e294e7cff300851d12a8c3d196943f6}{getCurrentColumn}}(), SIGNAL(columnIndexSwitched()),}
\DoxyCodeLine{00381                        \textcolor{keyword}{this}, SLOT(setCurrentSampleRaster()));}
\DoxyCodeLine{00382   assert(ret);}
\DoxyCodeLine{00383   setCurrentSampleRaster();}
\DoxyCodeLine{00384 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/brightnessandcontrastpopup.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/brightnessandcontrastpopup.\+cpp\end{DoxyCompactItemize}
