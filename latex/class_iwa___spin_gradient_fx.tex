\hypertarget{class_iwa___spin_gradient_fx}{}\doxysection{Iwa\+\_\+\+Spin\+Gradient\+Fx Class Reference}
\label{class_iwa___spin_gradient_fx}\index{Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}}
Inheritance diagram for Iwa\+\_\+\+Spin\+Gradient\+Fx\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=6.000000cm]{class_iwa___spin_gradient_fx}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_iwa___spin_gradient_fx_ad9bdb43a38613cb9e52e6ab4f671718c}{can\+Handle}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info, double frame) override
\item 
bool \mbox{\hyperlink{class_iwa___spin_gradient_fx_a83b1f9b4682ce3fe5671ef26f6f91c94}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&ri) override
\item 
void \mbox{\hyperlink{class_iwa___spin_gradient_fx_a1daa08a1db999a3bdc8153a25cf0ad31}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&ri) override
\item 
void \mbox{\hyperlink{class_iwa___spin_gradient_fx_a342c4d43135646f81e040d61f7b926c0}{get\+Param\+UIs}} (\mbox{\hyperlink{class_t_param_u_i_concept}{TParam\+UIConcept}} $\ast$\&concepts, int \&length) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_iwa___spin_gradient_fx_a966fd5c66b2dfcdfc930cff57268ec88}\label{class_iwa___spin_gradient_fx_a966fd5c66b2dfcdfc930cff57268ec88}} 
\index{Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}!Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}}
\index{Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}!Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}}
\doxysubsubsection{\texorpdfstring{Iwa\_SpinGradientFx()}{Iwa\_SpinGradientFx()}}
{\footnotesize\ttfamily Iwa\+\_\+\+Spin\+Gradient\+Fx\+::\+Iwa\+\_\+\+Spin\+Gradient\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00016     : m\_center(\mbox{\hyperlink{class_t_point_t}{TPointD}}(0.0, 0.0))}
\DoxyCodeLine{00017     , m\_startAngle(0.0)}
\DoxyCodeLine{00018     , m\_endAngle(0.0)}
\DoxyCodeLine{00019     , m\_startColor(TPixel32::Black)}
\DoxyCodeLine{00020     , m\_endColor(TPixel32::White)}
\DoxyCodeLine{00021     , m\_curveType(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}()) \{}
\DoxyCodeLine{00022   m\_center-\/>getX()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00023   m\_center-\/>getY()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00024   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}center"{}}, m\_center);}
\DoxyCodeLine{00025 }
\DoxyCodeLine{00026   m\_startAngle-\/>setValueRange(-\/360, 720);}
\DoxyCodeLine{00027   m\_endAngle-\/>setValueRange(-\/360, 720);}
\DoxyCodeLine{00028   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}startAngle"{}}, m\_startAngle);}
\DoxyCodeLine{00029   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}endAngle"{}}, m\_endAngle);}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031   m\_curveType-\/>addItem(EaseInOut, \textcolor{stringliteral}{"{}Ease In-\/Out"{}});}
\DoxyCodeLine{00032   m\_curveType-\/>addItem(Linear, \textcolor{stringliteral}{"{}Linear"{}});}
\DoxyCodeLine{00033   m\_curveType-\/>addItem(EaseIn, \textcolor{stringliteral}{"{}Ease In"{}});}
\DoxyCodeLine{00034   m\_curveType-\/>addItem(EaseOut, \textcolor{stringliteral}{"{}Ease Out"{}});}
\DoxyCodeLine{00035   m\_curveType-\/>setDefaultValue(Linear);}
\DoxyCodeLine{00036   m\_curveType-\/>setValue(Linear);}
\DoxyCodeLine{00037   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}curveType"{}}, m\_curveType);}
\DoxyCodeLine{00038 }
\DoxyCodeLine{00039   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}startColor"{}}, m\_startColor);}
\DoxyCodeLine{00040   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}endColor"{}}, m\_endColor);}
\DoxyCodeLine{00041 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_iwa___spin_gradient_fx_ad9bdb43a38613cb9e52e6ab4f671718c}\label{class_iwa___spin_gradient_fx_ad9bdb43a38613cb9e52e6ab4f671718c}} 
\index{Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}!canHandle@{canHandle}}
\index{canHandle@{canHandle}!Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}}
\doxysubsubsection{\texorpdfstring{canHandle()}{canHandle()}}
{\footnotesize\ttfamily bool Iwa\+\_\+\+Spin\+Gradient\+Fx\+::can\+Handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00020                                                                      \{}
\DoxyCodeLine{00021     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00022   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___spin_gradient_fx_a1daa08a1db999a3bdc8153a25cf0ad31}\label{class_iwa___spin_gradient_fx_a1daa08a1db999a3bdc8153a25cf0ad31}} 
\index{Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void Iwa\+\_\+\+Spin\+Gradient\+Fx\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{ri }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00111                                                               \{}
\DoxyCodeLine{00112   \textcolor{keywordflow}{if} (!((\mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}})tile.getRaster()) \&\& !((\mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}})tile.getRaster())) \{}
\DoxyCodeLine{00113     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_rop_exception}{TRopException}}(\textcolor{stringliteral}{"{}unsupported input pixel type"{}});}
\DoxyCodeLine{00114   \}}
\DoxyCodeLine{00115 }
\DoxyCodeLine{00116   \textcolor{comment}{// convert shape position to render region coordinate}}
\DoxyCodeLine{00117   \mbox{\hyperlink{class_t_affine}{TAffine}} aff = ri.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}};}
\DoxyCodeLine{00118   \mbox{\hyperlink{class_t_dimension_t}{TDimensionI}} dimOut(tile.getRaster()-\/>getLx(), tile.getRaster()-\/>getLy());}
\DoxyCodeLine{00119   \mbox{\hyperlink{class_t_point_t}{TPointD}} dimOffset((\textcolor{keywordtype}{float})dimOut.lx / 2.0f, (\textcolor{keywordtype}{float})dimOut.ly / 2.0f);}
\DoxyCodeLine{00120   \mbox{\hyperlink{class_t_point_t}{TPointD}} centerPos = aff * m\_center-\/>getValue(frame) -\/}
\DoxyCodeLine{00121                       (tile.m\_pos + tile.getRaster()-\/>getCenterD()) + dimOffset;}
\DoxyCodeLine{00122 }
\DoxyCodeLine{00123   std::vector<TSpectrum::ColorKey> colors = \{}
\DoxyCodeLine{00124       TSpectrum::ColorKey(0, m\_startColor-\/>getValue(frame)),}
\DoxyCodeLine{00125       TSpectrum::ColorKey(1, m\_endColor-\/>getValue(frame))\};}
\DoxyCodeLine{00126   \mbox{\hyperlink{class_t_spectrum_param_p}{TSpectrumParamP}} m\_colors = \mbox{\hyperlink{class_t_spectrum_param_p}{TSpectrumParamP}}(colors);}
\DoxyCodeLine{00127 }
\DoxyCodeLine{00128   \textcolor{keyword}{auto} conv2RadianAndClamp = [](\textcolor{keywordtype}{double} angle) \{}
\DoxyCodeLine{00129     \textcolor{keywordtype}{double} ret = angle * M\_PI / 180.0;}
\DoxyCodeLine{00130     \textcolor{keywordflow}{while} (ret < -\/M\_PI) \{}
\DoxyCodeLine{00131       ret += 2.0 * M\_PI;}
\DoxyCodeLine{00132     \}}
\DoxyCodeLine{00133     \textcolor{keywordflow}{while} (ret >= M\_PI) \{}
\DoxyCodeLine{00134       ret -\/= 2.0 * M\_PI;}
\DoxyCodeLine{00135     \}}
\DoxyCodeLine{00136     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{00137   \};}
\DoxyCodeLine{00138 }
\DoxyCodeLine{00139   \textcolor{keywordtype}{double} startAngle = conv2RadianAndClamp(m\_startAngle-\/>getValue(frame));}
\DoxyCodeLine{00140   \textcolor{keywordtype}{double} endAngle   = conv2RadianAndClamp(m\_endAngle-\/>getValue(frame));}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142   tile.getRaster()-\/>clear();}
\DoxyCodeLine{00143   \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} outRas32 = (\mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}})tile.getRaster();}
\DoxyCodeLine{00144   \mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}} outRas64 = (\mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}})tile.getRaster();}
\DoxyCodeLine{00145   \textcolor{keywordflow}{if} (outRas32)}
\DoxyCodeLine{00146     doSpinGradientT<TRaster32P, TPixel32>(}
\DoxyCodeLine{00147         outRas32, dimOut, centerPos, startAngle, endAngle,}
\DoxyCodeLine{00148         m\_colors-\/>getValue(frame), (GradientCurveType)m\_curveType-\/>getValue());}
\DoxyCodeLine{00149   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (outRas64)}
\DoxyCodeLine{00150     doSpinGradientT<TRaster64P, TPixel64>(}
\DoxyCodeLine{00151         outRas64, dimOut, centerPos, startAngle, endAngle,}
\DoxyCodeLine{00152         m\_colors-\/>getValue64(frame),}
\DoxyCodeLine{00153         (GradientCurveType)m\_curveType-\/>getValue());}
\DoxyCodeLine{00154 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___spin_gradient_fx_a83b1f9b4682ce3fe5671ef26f6f91c94}\label{class_iwa___spin_gradient_fx_a83b1f9b4682ce3fe5671ef26f6f91c94}} 
\index{Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool Iwa\+\_\+\+Spin\+Gradient\+Fx\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{ri }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00046                                                               \{}
\DoxyCodeLine{00047   bBox = TConsts::infiniteRectD;}
\DoxyCodeLine{00048   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00049 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___spin_gradient_fx_a342c4d43135646f81e040d61f7b926c0}\label{class_iwa___spin_gradient_fx_a342c4d43135646f81e040d61f7b926c0}} 
\index{Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}!getParamUIs@{getParamUIs}}
\index{getParamUIs@{getParamUIs}!Iwa\_SpinGradientFx@{Iwa\_SpinGradientFx}}
\doxysubsubsection{\texorpdfstring{getParamUIs()}{getParamUIs()}}
{\footnotesize\ttfamily void Iwa\+\_\+\+Spin\+Gradient\+Fx\+::get\+Param\+UIs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_param_u_i_concept}{TParam\+UIConcept}} $\ast$\&}]{params,  }\item[{int \&}]{length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a list of User Interface Concepts to be displayed when editing the fx parameters. \begin{DoxyNote}{Note}
Ownership of the returned array allocated with new\mbox{[}\mbox{]} is passed to callers. 
\end{DoxyNote}


Reimplemented from \mbox{\hyperlink{class_t_fx_a18766b107b77772d67c5678e7d832b18}{TFx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00158                                                                             \{}
\DoxyCodeLine{00159   concepts = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_param_u_i_concept}{TParamUIConcept}}[length = 2];}
\DoxyCodeLine{00160 }
\DoxyCodeLine{00161   concepts[0].\mbox{\hyperlink{class_t_param_u_i_concept_a2dbb7c954ca5f2441a6931945cf004a5}{m\_type}}  = TParamUIConcept::ANGLE\_2;}
\DoxyCodeLine{00162   concepts[0].m\_label = \textcolor{stringliteral}{"{}Angle"{}};}
\DoxyCodeLine{00163   concepts[0].m\_params.push\_back(m\_startAngle);}
\DoxyCodeLine{00164   concepts[0].m\_params.push\_back(m\_endAngle);}
\DoxyCodeLine{00165   concepts[0].m\_params.push\_back(m\_center);}
\DoxyCodeLine{00166 }
\DoxyCodeLine{00167   concepts[1].m\_type  = TParamUIConcept::POINT;}
\DoxyCodeLine{00168   concepts[1].m\_label = \textcolor{stringliteral}{"{}Center"{}};}
\DoxyCodeLine{00169   concepts[1].m\_params.push\_back(m\_center);}
\DoxyCodeLine{00170 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00078}{TParam\+UIConcept\+::m\+\_\+label}}, \mbox{\hyperlink{l00079}{TParam\+UIConcept\+::m\+\_\+params}}, and \mbox{\hyperlink{l00077}{TParam\+UIConcept\+::m\+\_\+type}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/stdfx/iwa\+\_\+spingradientfx.\+h\item 
E\+:/opentoonz/toonz/sources/stdfx/iwa\+\_\+spingradientfx.\+cpp\end{DoxyCompactItemize}
