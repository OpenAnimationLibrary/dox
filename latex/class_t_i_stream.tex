\hypertarget{class_t_i_stream}{}\doxysection{TIStream Class Reference}
\label{class_t_i_stream}\index{TIStream@{TIStream}}


Toonz\textquotesingle{}s XML-\/like {\itshape input} file parser.  




{\ttfamily \#include $<$tstream.\+h$>$}

\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_t_i_stream_1_1_imp}{Imp}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_i_stream_a58a63e86e50106c90e5baf4be81e54d0}{TIStream}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&is)
\begin{DoxyCompactList}\small\item\em Opens the document at the specified path. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream_a2bd86f41e1740ff1a4d2a4d16ca57c61}{$\sim$\+TIStream}} ()
\begin{DoxyCompactList}\small\item\em Destroys the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream_a83965f8d66dabeea0cc03c81913e0e03}{operator bool}} () const
\begin{DoxyCompactList}\small\item\em Returns whether the stream has a valid status. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream}{TIStream}} \& \mbox{\hyperlink{class_t_i_stream_abf992decd964f90ab17a2c1c62739816}{operator$>$$>$}} (int \&v)
\begin{DoxyCompactList}\small\item\em Reads an integer from the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream}{TIStream}} \& \mbox{\hyperlink{class_t_i_stream_a3f37314bb2ce723cc37d2e25a3c024aa}{operator$>$$>$}} (double \&v)
\begin{DoxyCompactList}\small\item\em Reads a double from the stream. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_i_stream_a601669739420d5253bd1fe2105194eed}\label{class_t_i_stream_a601669739420d5253bd1fe2105194eed}} 
\mbox{\hyperlink{class_t_i_stream}{TIStream}} \& {\bfseries operator$>$$>$} (std\+::string \&v)
\begin{DoxyCompactList}\small\item\em Reads a string from the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream}{TIStream}} \& \mbox{\hyperlink{class_t_i_stream_a63a05cb6c8be2666fbbb7c9074722528}{operator$>$$>$}} (std\+::wstring \&v)
\begin{DoxyCompactList}\small\item\em Reads a wstring from the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream}{TIStream}} \& \mbox{\hyperlink{class_t_i_stream_a1b105a397ab25b61d9a9583317eeacb1}{operator$>$$>$}} (\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&v)
\begin{DoxyCompactList}\small\item\em Reads a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} from the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream}{TIStream}} \& \mbox{\hyperlink{class_t_i_stream_af0176a0b29108d69c8b59b5cd55865b4}{operator$>$$>$}} (TPixel32 \&v)
\begin{DoxyCompactList}\small\item\em Reads a TPixel32 from the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream}{TIStream}} \& \mbox{\hyperlink{class_t_i_stream_a91c54f76a32ae8fb381afe551b418a64}{operator$>$$>$}} (TPixel64 \&v)
\begin{DoxyCompactList}\small\item\em Reads a TPixel64 from the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream}{TIStream}} \& \mbox{\hyperlink{class_t_i_stream_ab4fd31f53ef7d740f94cf297a83253a1}{operator$>$$>$}} (QString \&v)
\begin{DoxyCompactList}\small\item\em Reads an integer from the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream}{TIStream}} \& \mbox{\hyperlink{class_t_i_stream_a0fbd26240b8f500f37a9a39b6227c476}{operator$>$$>$}} (\mbox{\hyperlink{class_t_persist}{TPersist}} \&v)
\begin{DoxyCompactList}\small\item\em Reads a \mbox{\hyperlink{class_t_persist}{TPersist}} derived object data from the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_i_stream}{TIStream}} \& \mbox{\hyperlink{class_t_i_stream_ac75b17eeaf0e6ca5b1c160e30f0c57a7}{operator$>$$>$}} (\mbox{\hyperlink{class_t_persist}{TPersist}} $\ast$\&v)
\item 
std\+::string \mbox{\hyperlink{class_t_i_stream_a76a3e6c6e96204af6dc291dc7dad7dd2}{get\+String}} ()
\begin{DoxyCompactList}\small\item\em Returns the stream content as a string, up to the next tag. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_i_stream_af8ad0a31e14e94179bd5688f13340528}{eos}} ()
\begin{DoxyCompactList}\small\item\em Returns {\itshape true} in case of end of string (a Stream\+Tag\+::\+End\+Tag. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_i_stream_a5fe7ddb5560e39e0ab4ff57d24926d41}{match\+Tag}} (std\+::string \&tag\+Name)
\begin{DoxyCompactList}\small\item\em is encountered or the string is empty). \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{match\+End\+Tag}} ()
\begin{DoxyCompactList}\small\item\em Attempts matching a Stream\+Tag\+::\+End\+Tag. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_i_stream_a530540f44de1a1031cebfee0d34ffcfe}{get\+Tag\+Param}} (std\+::string param\+Name, std\+::string \&value)
\begin{DoxyCompactList}\small\item\em Attempts retrieval of the value associated with the specified tag attribute in current tag. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_i_stream_ab86e9032b8fb83447c36716b5bdd9897}{get\+Tag\+Param}} (std\+::string param\+Name, int \&value)
\item 
bool \mbox{\hyperlink{class_t_i_stream_abcf60b08d2748213f88eb8645947b2da}{is\+Begin\+End\+Tag}} ()
\item 
bool \mbox{\hyperlink{class_t_i_stream_a735640240402316f00c595134bfe6b4b}{open\+Child}} (std\+::string \&tag\+Name)
\item 
void \mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{close\+Child}} ()
\item 
bool \mbox{\hyperlink{class_t_i_stream_a553e64a56d198379fad4defaedba16ad}{match}} (char c) const
\item 
std\+::string \mbox{\hyperlink{class_t_i_stream_a03a74e5481dd5b2d328351c5c4022ab2}{get\+Tag\+Attribute}} (std\+::string name) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_i_stream_a5a770238e933a111555fb09c7dd164f8}{get\+File\+Path}} ()
\begin{DoxyCompactList}\small\item\em TOStream\+::open\+Child(string, const map$<$std\+::string, string$>$\&). \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_i_stream_a4e08dc7ba15a50044bbd7cd022ce05cc}{get\+Repository\+Path}} ()
\item 
int \mbox{\hyperlink{class_t_i_stream_a84cdf811f1ea9a68635e763059ec0cee}{get\+Line}} () const
\item 
Version\+Number \mbox{\hyperlink{class_t_i_stream_a61179493a9ae5d6b057d23195cec606b}{get\+Version}} () const
\item 
void \mbox{\hyperlink{class_t_i_stream_ab793d0eaa6881bc7126babc39b93f5d9}{set\+Version}} (const Version\+Number \&version)
\item 
void \mbox{\hyperlink{class_t_i_stream_add912e4624a496f6dd1564cd63976dbb}{skip\+Current\+Tag}} ()
\item 
std\+::string \mbox{\hyperlink{class_t_i_stream_a552cd5d309d5d001fbeaa7f55f6520d0}{get\+Current\+Tag\+Name}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Toonz\textquotesingle{}s XML-\/like {\itshape input} file parser. 

This class is Toonz\textquotesingle{}s standard {\itshape input} parser for simple XML files. It is specifically designed to interact with object types derived from the \mbox{\hyperlink{class_t_persist}{TPersist}} base class. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_i_stream_a58a63e86e50106c90e5baf4be81e54d0}\label{class_t_i_stream_a58a63e86e50106c90e5baf4be81e54d0}} 
\index{TIStream@{TIStream}!TIStream@{TIStream}}
\index{TIStream@{TIStream}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{TIStream()}{TIStream()}}
{\footnotesize\ttfamily TIStream\+::\+TIStream (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{is }\end{DoxyParamCaption})}



Opens the document at the specified path. 

\begin{DoxyWarning}{Warning}
Stream construction {\itshape  may throw } on files {\bfseries{compressed}} using \mbox{\hyperlink{class_t_o_stream}{TOStream}} \textquotesingle{}s compression.

Even if construction does not throw, the stream could still be constructed with an invalid status. Remember to check the stream status using operator bool(). 
\end{DoxyWarning}

\begin{DoxyCode}{0}
\DoxyCodeLine{00830                                       : m\_imp(\textcolor{keyword}{new} Imp) \{}
\DoxyCodeLine{00831   m\_imp-\/>m\_filepath = fp;}
\DoxyCodeLine{00832   m\_imp-\/>m\_is       = \textcolor{keyword}{new} \mbox{\hyperlink{class_tifstream}{Tifstream}}(fp);}
\DoxyCodeLine{00833 }
\DoxyCodeLine{00834   \textcolor{keywordflow}{if} (m\_imp-\/>m\_is-\/>peek() == \textcolor{charliteral}{'T'})  \textcolor{comment}{// non comincia con '<' dev'essere compresso}}
\DoxyCodeLine{00835   \{}
\DoxyCodeLine{00836     \textcolor{keywordtype}{bool} swapForEndianess = \textcolor{keyword}{false};}
\DoxyCodeLine{00837 }
\DoxyCodeLine{00838     unique\_ptr<std::istream> is(m\_imp-\/>m\_is);}
\DoxyCodeLine{00839     m\_imp-\/>m\_is = 0;}
\DoxyCodeLine{00840 }
\DoxyCodeLine{00841     \textcolor{keywordtype}{char} magicBuffer[4];}
\DoxyCodeLine{00842     is-\/>read(magicBuffer, 4);}
\DoxyCodeLine{00843     \textcolor{keywordtype}{string} magic(magicBuffer, 4);}
\DoxyCodeLine{00844     \textcolor{keywordtype}{size\_t} in\_len, out\_len;}
\DoxyCodeLine{00845 }
\DoxyCodeLine{00846     \textcolor{keywordflow}{if} (magic == \textcolor{stringliteral}{"{}TNZC"{}}) \{}
\DoxyCodeLine{00847       \textcolor{comment}{// Tab3.0 beta}}
\DoxyCodeLine{00848       is-\/>read((\textcolor{keywordtype}{char} *)\&out\_len, \textcolor{keyword}{sizeof} out\_len);}
\DoxyCodeLine{00849       is-\/>read((\textcolor{keywordtype}{char} *)\&in\_len, \textcolor{keyword}{sizeof} in\_len);}
\DoxyCodeLine{00850     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (magic == \textcolor{stringliteral}{"{}TABc"{}}) \{}
\DoxyCodeLine{00851       TINT32 v;}
\DoxyCodeLine{00852       is-\/>read((\textcolor{keywordtype}{char} *)\&v, \textcolor{keyword}{sizeof} v);}
\DoxyCodeLine{00853       printf(\textcolor{stringliteral}{"{}magic = \%08X\(\backslash\)n"{}}, v);}
\DoxyCodeLine{00854 }
\DoxyCodeLine{00855       \textcolor{keywordflow}{if} (v == 0x0A0B0C0D)}
\DoxyCodeLine{00856         swapForEndianess = \textcolor{keyword}{false};}
\DoxyCodeLine{00857       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (v == 0x0D0C0B0A)}
\DoxyCodeLine{00858         swapForEndianess = \textcolor{keyword}{true};}
\DoxyCodeLine{00859       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00860         swapForEndianess = \textcolor{keyword}{true};}
\DoxyCodeLine{00861         printf(\textcolor{stringliteral}{"{}UH OH!\(\backslash\)n"{}});}
\DoxyCodeLine{00862       \}}
\DoxyCodeLine{00863 }
\DoxyCodeLine{00864       is-\/>read((\textcolor{keywordtype}{char} *)\&v, \textcolor{keyword}{sizeof} v);}
\DoxyCodeLine{00865       out\_len = swapForEndianess ? swapTINT32(v) : v;}
\DoxyCodeLine{00866       is-\/>read((\textcolor{keywordtype}{char} *)\&v, \textcolor{keyword}{sizeof} v);}
\DoxyCodeLine{00867       in\_len = swapForEndianess ? swapTINT32(v) : v;}
\DoxyCodeLine{00868     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00869       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}Bad magic number"{}});}
\DoxyCodeLine{00870 }
\DoxyCodeLine{00871     \textcolor{keywordflow}{if} (in\_len <= 0 || in\_len > 100000000)  \textcolor{comment}{// 100M di tnzfile (compresso)}}
\DoxyCodeLine{00872                                             \textcolor{comment}{// sembrano proprio esagerati}}
\DoxyCodeLine{00873       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}Corrupted file"{}});}
\DoxyCodeLine{00874 }
\DoxyCodeLine{00875     LZ4F\_decompressionContext\_t lz4dctx;}
\DoxyCodeLine{00876 }
\DoxyCodeLine{00877     LZ4F\_errorCode\_t err =}
\DoxyCodeLine{00878         LZ4F\_createDecompressionContext(\&lz4dctx, LZ4F\_VERSION);}
\DoxyCodeLine{00879     \textcolor{keywordflow}{if} (LZ4F\_isError(err)) \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}Couldn't decompress file"{}});}
\DoxyCodeLine{00880 }
\DoxyCodeLine{00881     \textcolor{keywordtype}{char} *in = (\textcolor{keywordtype}{char} *)malloc(in\_len);}
\DoxyCodeLine{00882     is-\/>read((\textcolor{keywordtype}{char} *)in, in\_len);}
\DoxyCodeLine{00883 }
\DoxyCodeLine{00884     m\_imp-\/>m\_strbuffer.resize(out\_len + 1000);  \textcolor{comment}{// per prudenza}}
\DoxyCodeLine{00885     \textcolor{keywordtype}{char} *out = (\textcolor{keywordtype}{char} *)m\_imp-\/>m\_strbuffer.c\_str();}
\DoxyCodeLine{00886 }
\DoxyCodeLine{00887     \textcolor{keywordtype}{size\_t} check\_len = out\_len;}
\DoxyCodeLine{00888 }
\DoxyCodeLine{00889     \textcolor{comment}{// size\_t remaining = LZ4F\_decompress(lz4dctx, out, \&out\_len, in, \&in\_len,}}
\DoxyCodeLine{00890     \textcolor{comment}{// NULL);}}
\DoxyCodeLine{00891     \textcolor{keywordtype}{bool} ok = lz4decompress(lz4dctx, out, \&out\_len, in, in\_len);}
\DoxyCodeLine{00892     LZ4F\_freeDecompressionContext(lz4dctx);}
\DoxyCodeLine{00893 }
\DoxyCodeLine{00894     free(in);}
\DoxyCodeLine{00895 }
\DoxyCodeLine{00896     \textcolor{keywordflow}{if} (!ok) \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}Couldn't decompress file"{}});}
\DoxyCodeLine{00897 }
\DoxyCodeLine{00898     \textcolor{keywordflow}{if} (check\_len != out\_len) \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}corrupted file"{}});}
\DoxyCodeLine{00899 }
\DoxyCodeLine{00900     m\_imp-\/>m\_is = \textcolor{keyword}{new} istringstream(std::string(out, out\_len));}
\DoxyCodeLine{00901   \}}
\DoxyCodeLine{00902 }
\DoxyCodeLine{00903   m\_imp-\/>m\_chanOwner = \textcolor{keyword}{true};}
\DoxyCodeLine{00904 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_a2bd86f41e1740ff1a4d2a4d16ca57c61}\label{class_t_i_stream_a2bd86f41e1740ff1a4d2a4d16ca57c61}} 
\index{TIStream@{TIStream}!````~TIStream@{$\sim$TIStream}}
\index{````~TIStream@{$\sim$TIStream}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{$\sim$TIStream()}{~TIStream()}}
{\footnotesize\ttfamily TIStream\+::$\sim$\+TIStream (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destroys the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00918                     \{}
\DoxyCodeLine{00919   \textcolor{keywordflow}{if} (m\_imp-\/>m\_chanOwner) \textcolor{keyword}{delete} m\_imp-\/>m\_is;}
\DoxyCodeLine{00920 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}\label{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}} 
\index{TIStream@{TIStream}!closeChild@{closeChild}}
\index{closeChild@{closeChild}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{closeChild()}{closeChild()}}
{\footnotesize\ttfamily void TIStream\+::close\+Child (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000025}{Deprecated}}]Use \mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{match\+End\+Tag()}} instead. \end{DoxyRefDesc}

\begin{DoxyCode}{0}
\DoxyCodeLine{01242                           \{}
\DoxyCodeLine{01243   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}()) \{}
\DoxyCodeLine{01244     \textcolor{keywordtype}{string} tagName;}
\DoxyCodeLine{01245     \textcolor{keywordflow}{if} (!m\_imp-\/>m\_tagStack.empty()) tagName = m\_imp-\/>m\_tagStack.back();}
\DoxyCodeLine{01246     \textcolor{keywordflow}{if} (tagName != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01247       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}Expected \(\backslash\)"{}"{}} + tagName + \textcolor{stringliteral}{"{}\(\backslash\)"{} end tag"{}});}
\DoxyCodeLine{01248     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01249       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}expected EndTag"{}});}
\DoxyCodeLine{01250   \}}
\DoxyCodeLine{01251 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01156}{match\+End\+Tag()}}.



Referenced by \mbox{\hyperlink{l00154}{TImage\+Reader\+Mesh\+::load()}}, \mbox{\hyperlink{l00470}{TParam\+Set\+::load\+Data()}}, \mbox{\hyperlink{l00427}{Shader\+Interface\+::\+Parameter\+Concept\+::load\+Data()}}, \mbox{\hyperlink{l00567}{Shader\+Interface\+::\+Parameter\+::load\+Data()}}, \mbox{\hyperlink{l00378}{Shader\+Interface\+::\+Shader\+Data\+::load\+Data()}}, \mbox{\hyperlink{l00256}{Shader\+Interface\+::load\+Data()}}, \mbox{\hyperlink{l00351}{TExternal\+Program\+Fx\+::load\+Data()}}, \mbox{\hyperlink{l00703}{TFx\+::load\+Data()}}, \mbox{\hyperlink{l00474}{TMacro\+Fx\+::load\+Data()}}, \mbox{\hyperlink{l00210}{TTexture\+Mesh\+::load\+Data()}}, \mbox{\hyperlink{l00041}{TXsh\+Child\+Level\+::load\+Data()}}, \mbox{\hyperlink{l01178}{TXsheet\+::load\+Data()}}, \mbox{\hyperlink{l00096}{TXsh\+Level\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00120}{TXsh\+Mesh\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00051}{TXsh\+Palette\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00049}{TXsh\+Palette\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00228}{TXsh\+Sound\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00065}{TXsh\+Sound\+Text\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00128}{TXsh\+Zerary\+Fx\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00751}{TPalette\+::load\+Data()}}, \mbox{\hyperlink{l00087}{TPoint\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00151}{TPixel\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00086}{TRange\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00358}{TSpectrum\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00406}{TTone\+Curve\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00246}{Ctrl\+Farm\+Task\+::load\+Data()}}, and \mbox{\hyperlink{l00359}{TScene\+Properties\+::load\+Data()}}.

\mbox{\Hypertarget{class_t_i_stream_af8ad0a31e14e94179bd5688f13340528}\label{class_t_i_stream_af8ad0a31e14e94179bd5688f13340528}} 
\index{TIStream@{TIStream}!eos@{eos}}
\index{eos@{eos}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{eos()}{eos()}}
{\footnotesize\ttfamily bool TIStream\+::eos (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns {\itshape true} in case of end of string (a Stream\+Tag\+::\+End\+Tag. 

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000023}{Deprecated}}]\end{DoxyRefDesc}

\begin{DoxyCode}{0}
\DoxyCodeLine{01169                    \{}
\DoxyCodeLine{01170   \textcolor{keywordflow}{if} (m\_imp-\/>matchTag())}
\DoxyCodeLine{01171     \textcolor{keywordflow}{return} m\_imp-\/>m\_currentTag.m\_type == StreamTag::EndTag;}
\DoxyCodeLine{01172   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01173     \textcolor{keywordflow}{return} !(*m\_imp-\/>m\_is);}
\DoxyCodeLine{01174 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00470}{TParam\+Set\+::load\+Data()}}, \mbox{\hyperlink{l01025}{TDouble\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00272}{TFarm\+Task\+::load\+Data()}}, \mbox{\hyperlink{l00727}{TFarm\+Task\+Group\+::load\+Data()}}, \mbox{\hyperlink{l00703}{TFx\+::load\+Data()}}, \mbox{\hyperlink{l00474}{TMacro\+Fx\+::load\+Data()}}, \mbox{\hyperlink{l00175}{TStage\+Object\+Spline\+::load\+Data()}}, \mbox{\hyperlink{l01178}{TXsheet\+::load\+Data()}}, \mbox{\hyperlink{l00228}{TXsh\+Sound\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00751}{TPalette\+::load\+Data()}}, \mbox{\hyperlink{l00050}{TPersist\+Set\+::load\+Data()}}, \mbox{\hyperlink{l00358}{TSpectrum\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00359}{TScene\+Properties\+::load\+Data()}}, \mbox{\hyperlink{l00377}{TStage\+Object\+Tree\+::load\+Data()}}, and \mbox{\hyperlink{l00443}{Toonz\+Scene\+::load\+Tnz\+File()}}.

\mbox{\Hypertarget{class_t_i_stream_a552cd5d309d5d001fbeaa7f55f6520d0}\label{class_t_i_stream_a552cd5d309d5d001fbeaa7f55f6520d0}} 
\index{TIStream@{TIStream}!getCurrentTagName@{getCurrentTagName}}
\index{getCurrentTagName@{getCurrentTagName}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{getCurrentTagName()}{getCurrentTagName()}}
{\footnotesize\ttfamily std\+::string TIStream\+::get\+Current\+Tag\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01287 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_tagStack.back(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_a5a770238e933a111555fb09c7dd164f8}\label{class_t_i_stream_a5a770238e933a111555fb09c7dd164f8}} 
\index{TIStream@{TIStream}!getFilePath@{getFilePath}}
\index{getFilePath@{getFilePath}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{getFilePath()}{getFilePath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TIStream\+::get\+File\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



TOStream\+::open\+Child(string, const map$<$std\+::string, string$>$\&). 

Returns the stream\textquotesingle{}s path (i.\+e. the opened filename associated to the input stream). 
\begin{DoxyCode}{0}
\DoxyCodeLine{00639 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_filepath; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00378}{Shader\+Interface\+::\+Shader\+Data\+::load\+Data()}}.

\mbox{\Hypertarget{class_t_i_stream_a84cdf811f1ea9a68635e763059ec0cee}\label{class_t_i_stream_a84cdf811f1ea9a68635e763059ec0cee}} 
\index{TIStream@{TIStream}!getLine@{getLine}}
\index{getLine@{getLine}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{getLine()}{getLine()}}
{\footnotesize\ttfamily int TIStream\+::get\+Line (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the line number of the stream {\ttfamily {\bfseries{+1}}}. \begin{DoxyWarning}{Warning}
I\textquotesingle{}ve not idea why the +1, though. 
\end{DoxyWarning}

\begin{DoxyCode}{0}
\DoxyCodeLine{01269 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_line + 1; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_a4e08dc7ba15a50044bbd7cd022ce05cc}\label{class_t_i_stream_a4e08dc7ba15a50044bbd7cd022ce05cc}} 
\index{TIStream@{TIStream}!getRepositoryPath@{getRepositoryPath}}
\index{getRepositoryPath@{getRepositoryPath}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{getRepositoryPath()}{getRepositoryPath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TIStream\+::get\+Repository\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000027}{Deprecated}}]\end{DoxyRefDesc}

\begin{DoxyCode}{0}
\DoxyCodeLine{00643                                       \{}
\DoxyCodeLine{00644   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = m\_imp-\/>m\_filepath;}
\DoxyCodeLine{00645   \textcolor{keywordflow}{return} fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}() + (fp.\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}() + \textcolor{stringliteral}{"{}\_files"{}});}
\DoxyCodeLine{00646 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00636}{TFile\+Path\+::get\+Name()}}, and \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}.

\mbox{\Hypertarget{class_t_i_stream_a76a3e6c6e96204af6dc291dc7dad7dd2}\label{class_t_i_stream_a76a3e6c6e96204af6dc291dc7dad7dd2}} 
\index{TIStream@{TIStream}!getString@{getString}}
\index{getString@{getString}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{getString()}{getString()}}
{\footnotesize\ttfamily string TIStream\+::get\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the stream content as a string, up to the next tag. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_i_stream_a0fbd26240b8f500f37a9a39b6227c476}{operator$>$$>$(\+TPersist\&)}} 
\end{DoxySeeAlso}
\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000022}{Deprecated}}]\end{DoxyRefDesc}

\begin{DoxyCode}{0}
\DoxyCodeLine{01026                            \{}
\DoxyCodeLine{01027   istream \&is = *(m\_imp-\/>m\_is);}
\DoxyCodeLine{01028   \textcolor{keywordtype}{string} v    = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01029   m\_imp-\/>skipBlanks();}
\DoxyCodeLine{01030   \textcolor{keywordtype}{char} c = is.peek();}
\DoxyCodeLine{01031   \textcolor{keywordflow}{while} (c != \textcolor{charliteral}{'<'}) \{}
\DoxyCodeLine{01032     is.get(c);}
\DoxyCodeLine{01033     c = is.peek();}
\DoxyCodeLine{01034     \textcolor{keywordflow}{if} (!is) \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}unexpected EOF"{}});}
\DoxyCodeLine{01035     v.append(1, c);}
\DoxyCodeLine{01036   \}}
\DoxyCodeLine{01037   \textcolor{keywordflow}{return} v;}
\DoxyCodeLine{01038 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00443}{Toonz\+Scene\+::load\+Tnz\+File()}}.

\mbox{\Hypertarget{class_t_i_stream_a03a74e5481dd5b2d328351c5c4022ab2}\label{class_t_i_stream_a03a74e5481dd5b2d328351c5c4022ab2}} 
\index{TIStream@{TIStream}!getTagAttribute@{getTagAttribute}}
\index{getTagAttribute@{getTagAttribute}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{getTagAttribute()}{getTagAttribute()}}
{\footnotesize\ttfamily string TIStream\+::get\+Tag\+Attribute (\begin{DoxyParamCaption}\item[{std\+::string}]{name }\end{DoxyParamCaption}) const}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000026}{Deprecated}}]\end{DoxyRefDesc}
\begin{DoxySeeAlso}{See also}
get\+Tag\+Param(string, string\&), 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01190                                                   \{}
\DoxyCodeLine{01191   StreamTag \&tag = m\_imp-\/>m\_currentTag;}
\DoxyCodeLine{01192   std::map<std::string, string>::const\_iterator it =}
\DoxyCodeLine{01193       tag.m\_attributes.find(name);}
\DoxyCodeLine{01194   \textcolor{keywordflow}{if} (it == tag.m\_attributes.end())}
\DoxyCodeLine{01195     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01196   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01197     \textcolor{keywordflow}{return} it-\/>second;}
\DoxyCodeLine{01198 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00884}{Params\+Page\+Set\+::create\+Controls()}}, \mbox{\hyperlink{l00644}{TProject\+::load()}}, \mbox{\hyperlink{l01025}{TDouble\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00351}{TExternal\+Program\+Fx\+::load\+Data()}}, \mbox{\hyperlink{l00474}{TMacro\+Fx\+::load\+Data()}}, \mbox{\hyperlink{l00902}{TXsh\+Simple\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00359}{TScene\+Properties\+::load\+Data()}}, \mbox{\hyperlink{l00377}{TStage\+Object\+Tree\+::load\+Data()}}, \mbox{\hyperlink{l01015}{TProject\+Manager\+::load\+Scene\+Project()}}, and \mbox{\hyperlink{l00443}{Toonz\+Scene\+::load\+Tnz\+File()}}.

\mbox{\Hypertarget{class_t_i_stream_ab86e9032b8fb83447c36716b5bdd9897}\label{class_t_i_stream_ab86e9032b8fb83447c36716b5bdd9897}} 
\index{TIStream@{TIStream}!getTagParam@{getTagParam}}
\index{getTagParam@{getTagParam}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{getTagParam()}{getTagParam()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool TIStream\+::get\+Tag\+Param (\begin{DoxyParamCaption}\item[{std\+::string}]{param\+Name,  }\item[{int \&}]{value }\end{DoxyParamCaption})}

\begin{DoxySeeAlso}{See also}
get\+Tag\+Param(string, string\&) 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_t_i_stream_a530540f44de1a1031cebfee0d34ffcfe}\label{class_t_i_stream_a530540f44de1a1031cebfee0d34ffcfe}} 
\index{TIStream@{TIStream}!getTagParam@{getTagParam}}
\index{getTagParam@{getTagParam}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{getTagParam()}{getTagParam()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool TIStream\+::get\+Tag\+Param (\begin{DoxyParamCaption}\item[{std\+::string}]{param\+Name,  }\item[{std\+::string \&}]{value }\end{DoxyParamCaption})}



Attempts retrieval of the value associated with the specified tag attribute in current tag. 


\begin{DoxyParams}{Parameters}
{\em param\+Name} & Tag attribute name. \\
\hline
{\em value} & Output value of the attribute. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether the tag attribute was found. 
\end{DoxyReturn}


Referenced by \mbox{\hyperlink{l00074}{TXsh\+Palette\+Level\+::load()}}, \mbox{\hyperlink{l00902}{TXsh\+Simple\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00751}{TPalette\+::load\+Data()}}, and \mbox{\hyperlink{l00367}{Toonz\+Scene\+::load\+Frame\+Count()}}.

\mbox{\Hypertarget{class_t_i_stream_a61179493a9ae5d6b057d23195cec606b}\label{class_t_i_stream_a61179493a9ae5d6b057d23195cec606b}} 
\index{TIStream@{TIStream}!getVersion@{getVersion}}
\index{getVersion@{getVersion}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{getVersion()}{getVersion()}}
{\footnotesize\ttfamily Version\+Number TIStream\+::get\+Version (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the currently stored version of the opened document. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_i_stream_ab793d0eaa6881bc7126babc39b93f5d9}{set\+Version()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01273 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_versionNumber; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01098}{Plastic\+Skeleton\+Deformation\+::load\+Data()}}, \mbox{\hyperlink{l00703}{TFx\+::load\+Data()}}, \mbox{\hyperlink{l00474}{TMacro\+Fx\+::load\+Data()}}, \mbox{\hyperlink{l00175}{TStage\+Object\+Spline\+::load\+Data()}}, \mbox{\hyperlink{l00228}{TXsh\+Sound\+Column\+::load\+Data()}}, and \mbox{\hyperlink{l00751}{TPalette\+::load\+Data()}}.

\mbox{\Hypertarget{class_t_i_stream_abcf60b08d2748213f88eb8645947b2da}\label{class_t_i_stream_abcf60b08d2748213f88eb8645947b2da}} 
\index{TIStream@{TIStream}!isBeginEndTag@{isBeginEndTag}}
\index{isBeginEndTag@{isBeginEndTag}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{isBeginEndTag()}{isBeginEndTag()}}
{\footnotesize\ttfamily bool TIStream\+::is\+Begin\+End\+Tag (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns whether current tag is of type Stream\+Tag\+::\+Begin\+End\+Tag. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01225                              \{}
\DoxyCodeLine{01226   \textcolor{keywordflow}{return} m\_imp-\/>m\_currentTag.m\_type == StreamTag::BeginEndTag;}
\DoxyCodeLine{01227 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_a553e64a56d198379fad4defaedba16ad}\label{class_t_i_stream_a553e64a56d198379fad4defaedba16ad}} 
\index{TIStream@{TIStream}!match@{match}}
\index{match@{match}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{match()}{match()}}
{\footnotesize\ttfamily bool TIStream\+::match (\begin{DoxyParamCaption}\item[{char}]{c }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01255                                  \{}
\DoxyCodeLine{01256   m\_imp-\/>skipBlanks();}
\DoxyCodeLine{01257   \textcolor{keywordflow}{if} (m\_imp-\/>m\_is-\/>peek() != c) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01258   m\_imp-\/>m\_is-\/>get(c);}
\DoxyCodeLine{01259   \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\(\backslash\)r'}) m\_imp-\/>m\_line++;}
\DoxyCodeLine{01260   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01261 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}\label{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}} 
\index{TIStream@{TIStream}!matchEndTag@{matchEndTag}}
\index{matchEndTag@{matchEndTag}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{matchEndTag()}{matchEndTag()}}
{\footnotesize\ttfamily bool TIStream\+::match\+End\+Tag (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Attempts matching a Stream\+Tag\+::\+End\+Tag. 

\begin{DoxyReturn}{Returns}
Whether an end tag was found. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{01156                            \{}
\DoxyCodeLine{01157   \textcolor{keywordflow}{if} (m\_imp-\/>m\_tagStack.empty()) \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}tag stack empty"{}});}
\DoxyCodeLine{01158   \textcolor{keywordflow}{if} (!m\_imp-\/>matchTag()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01159   \textcolor{keywordflow}{if} (m\_imp-\/>m\_currentTag.m\_type != StreamTag::EndTag) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01160   \textcolor{keywordflow}{if} (m\_imp-\/>m\_currentTag.m\_name != m\_imp-\/>m\_tagStack.back())}
\DoxyCodeLine{01161     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}end tag mismatch"{}});}
\DoxyCodeLine{01162   m\_imp-\/>m\_tagStack.pop\_back();}
\DoxyCodeLine{01163   m\_imp-\/>m\_currentTag = StreamTag();}
\DoxyCodeLine{01164   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01165 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01242}{close\+Child()}}, \mbox{\hyperlink{l00884}{Params\+Page\+Set\+::create\+Controls()}}, \mbox{\hyperlink{l00074}{TXsh\+Palette\+Level\+::load()}}, \mbox{\hyperlink{l00644}{TProject\+::load()}}, \mbox{\hyperlink{l00070}{Plastic\+Skeleton\+Vertex\+::load\+Data()}}, \mbox{\hyperlink{l00474}{Plastic\+Skeleton\+::load\+Data()}}, \mbox{\hyperlink{l00196}{Plastic\+Skeleton\+Vertex\+Deformation\+::load\+Data()}}, \mbox{\hyperlink{l01098}{Plastic\+Skeleton\+Deformation\+::load\+Data()}}, \mbox{\hyperlink{l01025}{TDouble\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00272}{TFarm\+Task\+::load\+Data()}}, \mbox{\hyperlink{l00727}{TFarm\+Task\+Group\+::load\+Data()}}, \mbox{\hyperlink{l00175}{TStage\+Object\+Spline\+::load\+Data()}}, \mbox{\hyperlink{l01178}{TXsheet\+::load\+Data()}}, \mbox{\hyperlink{l00902}{TXsh\+Simple\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00109}{TXsh\+Sound\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00047}{TXsh\+Sound\+Text\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00311}{Vectorizer\+Parameters\+::load\+Data()}}, \mbox{\hyperlink{l02326}{Brush\+Data\+::load\+Data()}}, \mbox{\hyperlink{l01885}{Vector\+Brush\+Data\+::load\+Data()}}, \mbox{\hyperlink{l00359}{TScene\+Properties\+::load\+Data()}}, \mbox{\hyperlink{l00377}{TStage\+Object\+Tree\+::load\+Data()}}, \mbox{\hyperlink{l01015}{TProject\+Manager\+::load\+Scene\+Project()}}, and \mbox{\hyperlink{l00443}{Toonz\+Scene\+::load\+Tnz\+File()}}.

\mbox{\Hypertarget{class_t_i_stream_a5fe7ddb5560e39e0ab4ff57d24926d41}\label{class_t_i_stream_a5fe7ddb5560e39e0ab4ff57d24926d41}} 
\index{TIStream@{TIStream}!matchTag@{matchTag}}
\index{matchTag@{matchTag}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{matchTag()}{matchTag()}}
{\footnotesize\ttfamily bool TIStream\+::match\+Tag (\begin{DoxyParamCaption}\item[{std\+::string \&}]{tag\+Name }\end{DoxyParamCaption})}



is encountered or the string is empty). 


\begin{DoxyParams}{Parameters}
{\em tag\+Name} & Output name of a matched tag. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether a tag was found. Attempts matching a tag and returns its name. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{01178                                        \{}
\DoxyCodeLine{01179   \textcolor{keywordflow}{if} (!m\_imp-\/>matchTag()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01180   \textcolor{keywordflow}{if} (m\_imp-\/>m\_currentTag.m\_type == StreamTag::EndTag) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01181   tagName                    = m\_imp-\/>m\_currentTag.m\_name;}
\DoxyCodeLine{01182   m\_imp-\/>m\_currentTag.m\_name = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01183   \textcolor{keywordflow}{if} (m\_imp-\/>m\_currentTag.m\_type != StreamTag::BeginEndTag)}
\DoxyCodeLine{01184     m\_imp-\/>m\_tagStack.push\_back(tagName);}
\DoxyCodeLine{01185   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01186 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00884}{Params\+Page\+Set\+::create\+Controls()}}, \mbox{\hyperlink{l00074}{TXsh\+Palette\+Level\+::load()}}, \mbox{\hyperlink{l01083}{TXsh\+Simple\+Level\+::load()}}, \mbox{\hyperlink{l00644}{TProject\+::load()}}, \mbox{\hyperlink{l00196}{Plastic\+Skeleton\+Vertex\+Deformation\+::load\+Data()}}, \mbox{\hyperlink{l01025}{TDouble\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00351}{TExternal\+Program\+Fx\+::load\+Data()}}, \mbox{\hyperlink{l00272}{TFarm\+Task\+::load\+Data()}}, \mbox{\hyperlink{l00727}{TFarm\+Task\+Group\+::load\+Data()}}, \mbox{\hyperlink{l00474}{TMacro\+Fx\+::load\+Data()}}, \mbox{\hyperlink{l00175}{TStage\+Object\+Spline\+::load\+Data()}}, \mbox{\hyperlink{l00041}{TXsh\+Child\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00049}{TXsh\+Palette\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00902}{TXsh\+Simple\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00109}{TXsh\+Sound\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00047}{TXsh\+Sound\+Text\+Level\+::load\+Data()}}, \mbox{\hyperlink{l00128}{TXsh\+Zerary\+Fx\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00311}{Vectorizer\+Parameters\+::load\+Data()}}, \mbox{\hyperlink{l00751}{TPalette\+::load\+Data()}}, \mbox{\hyperlink{l02326}{Brush\+Data\+::load\+Data()}}, \mbox{\hyperlink{l01885}{Vector\+Brush\+Data\+::load\+Data()}}, \mbox{\hyperlink{l00359}{TScene\+Properties\+::load\+Data()}}, \mbox{\hyperlink{l00377}{TStage\+Object\+Tree\+::load\+Data()}}, \mbox{\hyperlink{l00367}{Toonz\+Scene\+::load\+Frame\+Count()}}, \mbox{\hyperlink{l01015}{TProject\+Manager\+::load\+Scene\+Project()}}, and \mbox{\hyperlink{l00443}{Toonz\+Scene\+::load\+Tnz\+File()}}.

\mbox{\Hypertarget{class_t_i_stream_a735640240402316f00c595134bfe6b4b}\label{class_t_i_stream_a735640240402316f00c595134bfe6b4b}} 
\index{TIStream@{TIStream}!openChild@{openChild}}
\index{openChild@{openChild}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{openChild()}{openChild()}}
{\footnotesize\ttfamily bool TIStream\+::open\+Child (\begin{DoxyParamCaption}\item[{std\+::string \&}]{tag\+Name }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000024}{Deprecated}}]Use match\+Tag(string\&) instead. \end{DoxyRefDesc}

\begin{DoxyCode}{0}
\DoxyCodeLine{01231                                         \{}
\DoxyCodeLine{01232   \textcolor{keywordflow}{if} (!m\_imp-\/>matchTag()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01233   \textcolor{keywordflow}{if} (m\_imp-\/>m\_currentTag.m\_type != StreamTag::BeginTag) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01234   tagName                    = m\_imp-\/>m\_currentTag.m\_name;}
\DoxyCodeLine{01235   m\_imp-\/>m\_currentTag.m\_name = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01236   m\_imp-\/>m\_tagStack.push\_back(tagName);}
\DoxyCodeLine{01237   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01238 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00154}{TImage\+Reader\+Mesh\+::load()}}, \mbox{\hyperlink{l00470}{TParam\+Set\+::load\+Data()}}, \mbox{\hyperlink{l00070}{Plastic\+Skeleton\+Vertex\+::load\+Data()}}, \mbox{\hyperlink{l00474}{Plastic\+Skeleton\+::load\+Data()}}, \mbox{\hyperlink{l01098}{Plastic\+Skeleton\+Deformation\+::load\+Data()}}, \mbox{\hyperlink{l00427}{Shader\+Interface\+::\+Parameter\+Concept\+::load\+Data()}}, \mbox{\hyperlink{l00567}{Shader\+Interface\+::\+Parameter\+::load\+Data()}}, \mbox{\hyperlink{l00378}{Shader\+Interface\+::\+Shader\+Data\+::load\+Data()}}, \mbox{\hyperlink{l00256}{Shader\+Interface\+::load\+Data()}}, \mbox{\hyperlink{l00351}{TExternal\+Program\+Fx\+::load\+Data()}}, \mbox{\hyperlink{l00703}{TFx\+::load\+Data()}}, \mbox{\hyperlink{l00474}{TMacro\+Fx\+::load\+Data()}}, \mbox{\hyperlink{l00210}{TTexture\+Mesh\+::load\+Data()}}, \mbox{\hyperlink{l01178}{TXsheet\+::load\+Data()}}, \mbox{\hyperlink{l00096}{TXsh\+Level\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00120}{TXsh\+Mesh\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00051}{TXsh\+Palette\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00228}{TXsh\+Sound\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00065}{TXsh\+Sound\+Text\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00751}{TPalette\+::load\+Data()}}, \mbox{\hyperlink{l00087}{TPoint\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00151}{TPixel\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00086}{TRange\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00358}{TSpectrum\+Param\+::load\+Data()}}, \mbox{\hyperlink{l00406}{TTone\+Curve\+Param\+::load\+Data()}}, and \mbox{\hyperlink{l00246}{Ctrl\+Farm\+Task\+::load\+Data()}}.

\mbox{\Hypertarget{class_t_i_stream_a83965f8d66dabeea0cc03c81913e0e03}\label{class_t_i_stream_a83965f8d66dabeea0cc03c81913e0e03}} 
\index{TIStream@{TIStream}!operator bool@{operator bool}}
\index{operator bool@{operator bool}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{operator bool()}{operator bool()}}
{\footnotesize\ttfamily TIStream\+::operator bool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns whether the stream has a valid status. 

\begin{DoxySeeAlso}{See also}
std\+::basic\+\_\+istream\+::operator void$\ast$(). 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01265 \{ \textcolor{keywordflow}{return} (m\_imp-\/>m\_is \&\& *m\_imp-\/>m\_is); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_a3f37314bb2ce723cc37d2e25a3c024aa}\label{class_t_i_stream_a3f37314bb2ce723cc37d2e25a3c024aa}} 
\index{TIStream@{TIStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{operator$>$$>$()}{operator>>()}\hspace{0.1cm}{\footnotesize\ttfamily [1/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_i_stream}{TIStream}} \& TIStream\+::operator$>$$>$ (\begin{DoxyParamCaption}\item[{double \&}]{v }\end{DoxyParamCaption})}



Reads a double from the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00931                                         \{}
\DoxyCodeLine{00932   *(m\_imp-\/>m\_is) >> v;}
\DoxyCodeLine{00933   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00934 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_abf992decd964f90ab17a2c1c62739816}\label{class_t_i_stream_abf992decd964f90ab17a2c1c62739816}} 
\index{TIStream@{TIStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{operator$>$$>$()}{operator>>()}\hspace{0.1cm}{\footnotesize\ttfamily [2/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_i_stream}{TIStream}} \& TIStream\+::operator$>$$>$ (\begin{DoxyParamCaption}\item[{int \&}]{v }\end{DoxyParamCaption})}



Reads an integer from the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00924                                      \{}
\DoxyCodeLine{00925   *(m\_imp-\/>m\_is) >> v;}
\DoxyCodeLine{00926   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00927 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00937}{operator$>$$>$()}}.

\mbox{\Hypertarget{class_t_i_stream_ab4fd31f53ef7d740f94cf297a83253a1}\label{class_t_i_stream_ab4fd31f53ef7d740f94cf297a83253a1}} 
\index{TIStream@{TIStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{operator$>$$>$()}{operator>>()}\hspace{0.1cm}{\footnotesize\ttfamily [3/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_i_stream}{TIStream}} \& TIStream\+::operator$>$$>$ (\begin{DoxyParamCaption}\item[{QString \&}]{v }\end{DoxyParamCaption})}



Reads an integer from the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00986                                          \{}
\DoxyCodeLine{00987   istream \&is = *(m\_imp-\/>m\_is);}
\DoxyCodeLine{00988   v           = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00989   m\_imp-\/>skipBlanks();}
\DoxyCodeLine{00990   \textcolor{keywordtype}{char} c;}
\DoxyCodeLine{00991   is.get(c);}
\DoxyCodeLine{00992   \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\(\backslash\)"{}'}) \{}
\DoxyCodeLine{00993     is.get(c);}
\DoxyCodeLine{00994     \textcolor{keywordflow}{while} (is \&\& c != \textcolor{charliteral}{'"{}'}) \{}
\DoxyCodeLine{00995       \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) \{}
\DoxyCodeLine{00996         is.get(c);}
\DoxyCodeLine{00997         \textcolor{keywordflow}{if} (!is) \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}unexpected EOF"{}});}
\DoxyCodeLine{00998         \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'"{}'})}
\DoxyCodeLine{00999           v.append(\textcolor{charliteral}{'"{}'});}
\DoxyCodeLine{01000         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})}
\DoxyCodeLine{01001           v.append(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01002         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\(\backslash\)''})}
\DoxyCodeLine{01003           v.append(\textcolor{charliteral}{'\(\backslash\)''});}
\DoxyCodeLine{01004         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01005           v.append(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{01006           v.append(c);}
\DoxyCodeLine{01007         \}}
\DoxyCodeLine{01008       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01009         v.append(c);}
\DoxyCodeLine{01010       is.get(c);}
\DoxyCodeLine{01011     \}}
\DoxyCodeLine{01012   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01013     v.append(c);}
\DoxyCodeLine{01014     \textcolor{keywordflow}{while} (c = is.peek(), isalnum(c) || c == \textcolor{charliteral}{'\_'} || c == \textcolor{charliteral}{'\&'} || c == \textcolor{charliteral}{'\#'} ||}
\DoxyCodeLine{01015                               c == \textcolor{charliteral}{';'} || c == \textcolor{charliteral}{'\%'}) \{}
\DoxyCodeLine{01016       is.get(c);}
\DoxyCodeLine{01017       v.append(c);}
\DoxyCodeLine{01018     \}}
\DoxyCodeLine{01019   \}}
\DoxyCodeLine{01020 }
\DoxyCodeLine{01021   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{01022 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_a63a05cb6c8be2666fbbb7c9074722528}\label{class_t_i_stream_a63a05cb6c8be2666fbbb7c9074722528}} 
\index{TIStream@{TIStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{operator$>$$>$()}{operator>>()}\hspace{0.1cm}{\footnotesize\ttfamily [4/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_i_stream}{TIStream}} \& TIStream\+::operator$>$$>$ (\begin{DoxyParamCaption}\item[{std\+::wstring \&}]{v }\end{DoxyParamCaption})}



Reads a wstring from the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00937                                             \{}
\DoxyCodeLine{00938   \textcolor{keywordtype}{string} s;}
\DoxyCodeLine{00939   \mbox{\hyperlink{class_t_i_stream_abf992decd964f90ab17a2c1c62739816}{operator>>}}(s);}
\DoxyCodeLine{00940   v = ::to\_wstring(s);}
\DoxyCodeLine{00941   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00942 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00924}{operator$>$$>$()}}.

\mbox{\Hypertarget{class_t_i_stream_a1b105a397ab25b61d9a9583317eeacb1}\label{class_t_i_stream_a1b105a397ab25b61d9a9583317eeacb1}} 
\index{TIStream@{TIStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{operator$>$$>$()}{operator>>()}\hspace{0.1cm}{\footnotesize\ttfamily [5/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_i_stream}{TIStream}} \& TIStream\+::operator$>$$>$ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{v }\end{DoxyParamCaption})}



Reads a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} from the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01073                                            \{}
\DoxyCodeLine{01074   istream \&is = *(m\_imp-\/>m\_is);}
\DoxyCodeLine{01075   \textcolor{keywordtype}{string} s;}
\DoxyCodeLine{01076   \textcolor{keywordtype}{char} c;}
\DoxyCodeLine{01077   m\_imp-\/>skipBlanks();}
\DoxyCodeLine{01078   is.get(c);}
\DoxyCodeLine{01079   \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'"{}'}) \{}
\DoxyCodeLine{01080     is.get(c);}
\DoxyCodeLine{01081     \textcolor{keywordtype}{bool} escapeChar = \textcolor{keyword}{false};}
\DoxyCodeLine{01082     \textcolor{comment}{// If processing double-\/quote ("{}), if it's escaped, keep reading.}}
\DoxyCodeLine{01083     \textcolor{keywordflow}{while} (is \&\& (c != \textcolor{charliteral}{'"{}'} || escapeChar)) \{}
\DoxyCodeLine{01084       \textcolor{comment}{// if(c=='\(\backslash\)\(\backslash\)')}}
\DoxyCodeLine{01085       \textcolor{comment}{//   is.get(c);}}
\DoxyCodeLine{01086       \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'} \&\& !escapeChar)}
\DoxyCodeLine{01087         escapeChar = \textcolor{keyword}{true};}
\DoxyCodeLine{01088       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01089         escapeChar = \textcolor{keyword}{false};}
\DoxyCodeLine{01090       s.append(1, c);}
\DoxyCodeLine{01091       is.get(c);}
\DoxyCodeLine{01092     \}}
\DoxyCodeLine{01093   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01094     \textcolor{comment}{// il filepath non e' fra virgolette:}}
\DoxyCodeLine{01095     \textcolor{comment}{// puo' contenere solo caratteri alfanumerici, \% e \_}}
\DoxyCodeLine{01096     s.append(1, c);}
\DoxyCodeLine{01097     \textcolor{keywordflow}{while} (is) \{}
\DoxyCodeLine{01098       c = is.peek();}
\DoxyCodeLine{01099       \textcolor{keywordflow}{if} (!isalnum(c) \&\& c != \textcolor{charliteral}{'\%'} \&\& c != \textcolor{charliteral}{'\_'}) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01100       is.get(c);}
\DoxyCodeLine{01101       s.append(1, c);}
\DoxyCodeLine{01102     \}}
\DoxyCodeLine{01103   \}}
\DoxyCodeLine{01104 }
\DoxyCodeLine{01105   v = \mbox{\hyperlink{class_t_file_path}{TFilePath}}(s);}
\DoxyCodeLine{01106   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{01107 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_a0fbd26240b8f500f37a9a39b6227c476}\label{class_t_i_stream_a0fbd26240b8f500f37a9a39b6227c476}} 
\index{TIStream@{TIStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{operator$>$$>$()}{operator>>()}\hspace{0.1cm}{\footnotesize\ttfamily [6/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_i_stream}{TIStream}} \& TIStream\+::operator$>$$>$ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_persist}{TPersist}} \&}]{v }\end{DoxyParamCaption})}



Reads a \mbox{\hyperlink{class_t_persist}{TPersist}} derived object data from the stream. 

\textbackslash{}detail This function dispatches the loading process to the derived class\textquotesingle{} reimplementation of the \mbox{\hyperlink{class_t_persist_a9e9d78431e843edb9299095af867a136}{TPersist\+::load\+Data()}} function.

\begin{DoxyNote}{Note}
Unlinke \mbox{\hyperlink{class_t_i_stream_ac75b17eeaf0e6ca5b1c160e30f0c57a7}{operator$>$$>$(\+TPersist$\ast$\&)}}, this function {\itshape requires} that the passed object is of the {\bfseries{correct}} type to read the current tag. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01110                                           \{}
\DoxyCodeLine{01111   v.\mbox{\hyperlink{class_t_persist_a9e9d78431e843edb9299095af867a136}{loadData}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{01112   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{01113 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_t_persist_a9e9d78431e843edb9299095af867a136}{TPersist\+::load\+Data()}}.

\mbox{\Hypertarget{class_t_i_stream_ac75b17eeaf0e6ca5b1c160e30f0c57a7}\label{class_t_i_stream_ac75b17eeaf0e6ca5b1c160e30f0c57a7}} 
\index{TIStream@{TIStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{operator$>$$>$()}{operator>>()}\hspace{0.1cm}{\footnotesize\ttfamily [7/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_i_stream}{TIStream}} \& TIStream\+::operator$>$$>$ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_persist}{TPersist}} $\ast$\&}]{v }\end{DoxyParamCaption})}

{\itshape Allocates} and reads a \mbox{\hyperlink{class_t_persist}{TPersist}} derived object data from the stream. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01117                                            \{}
\DoxyCodeLine{01118   \textcolor{keywordflow}{if} (!m\_imp-\/>matchTag() || m\_imp-\/>m\_currentTag.m\_type == StreamTag::EndTag) \{}
\DoxyCodeLine{01119     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}expected begin tag"{}});}
\DoxyCodeLine{01120   \}}
\DoxyCodeLine{01121   StreamTag tag       = m\_imp-\/>m\_currentTag;}
\DoxyCodeLine{01122   m\_imp-\/>m\_currentTag = StreamTag();}
\DoxyCodeLine{01123   \textcolor{keywordtype}{string} tagName      = tag.m\_name;}
\DoxyCodeLine{01124   std::map<std::string, string>::iterator it;}
\DoxyCodeLine{01125   \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = -\/1;}
\DoxyCodeLine{01126   it     = tag.m\_attributes.find(\textcolor{stringliteral}{"{}id"{}});}
\DoxyCodeLine{01127   \textcolor{keywordflow}{if} (it != tag.m\_attributes.end()) \textcolor{keywordtype}{id} = atoi(it-\/>second.c\_str());}
\DoxyCodeLine{01128   \textcolor{comment}{// cout << "{}tagname = "{} << tagName << "{} id = "{} << id << endl;}}
\DoxyCodeLine{01129 }
\DoxyCodeLine{01130   Imp::PersistTable::iterator pit = m\_imp-\/>m\_table.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{01131   \textcolor{keywordflow}{if} (pit == m\_imp-\/>m\_table.end()) \{}
\DoxyCodeLine{01132     v = TPersistFactory::instance()-\/>\mbox{\hyperlink{class_t_persist_a5af0825543bdd74860c0518859a546bc}{create}}(tagName);}
\DoxyCodeLine{01133     \textcolor{keywordflow}{if} (!v) \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}unable to create a persistent '"{}} + tagName + \textcolor{stringliteral}{"{}'"{}});}
\DoxyCodeLine{01134     m\_imp-\/>m\_table[id] = v;}
\DoxyCodeLine{01135     \textcolor{keywordflow}{if} (tag.m\_type != StreamTag::BeginTag)}
\DoxyCodeLine{01136       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}expected begin tag"{}});}
\DoxyCodeLine{01137     m\_imp-\/>m\_tagStack.push\_back(tag.m\_name);}
\DoxyCodeLine{01138     v-\/>\mbox{\hyperlink{class_t_persist_a9e9d78431e843edb9299095af867a136}{loadData}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{01139     m\_imp-\/>matchTag();}
\DoxyCodeLine{01140     \textcolor{keywordflow}{if} (!m\_imp-\/>m\_currentTag || m\_imp-\/>m\_currentTag.m\_type != StreamTag::EndTag)}
\DoxyCodeLine{01141       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}expected end tag"{}});}
\DoxyCodeLine{01142     \textcolor{keywordflow}{if} (m\_imp-\/>m\_currentTag.m\_name != m\_imp-\/>m\_tagStack.back())}
\DoxyCodeLine{01143       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}end tag mismatch"{}});}
\DoxyCodeLine{01144     m\_imp-\/>m\_tagStack.pop\_back();}
\DoxyCodeLine{01145     m\_imp-\/>m\_currentTag = StreamTag();}
\DoxyCodeLine{01146   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01147     v = pit-\/>second;}
\DoxyCodeLine{01148     \textcolor{keywordflow}{if} (tag.m\_type != StreamTag::BeginEndTag)}
\DoxyCodeLine{01149       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}expected begin/end tag"{}});}
\DoxyCodeLine{01150   \}}
\DoxyCodeLine{01151   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{01152 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00193}{TPersist\+::create()}}, and \mbox{\hyperlink{class_t_persist_a9e9d78431e843edb9299095af867a136}{TPersist\+::load\+Data()}}.

\mbox{\Hypertarget{class_t_i_stream_af0176a0b29108d69c8b59b5cd55865b4}\label{class_t_i_stream_af0176a0b29108d69c8b59b5cd55865b4}} 
\index{TIStream@{TIStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{operator$>$$>$()}{operator>>()}\hspace{0.1cm}{\footnotesize\ttfamily [8/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_i_stream}{TIStream}} \& TIStream\+::operator$>$$>$ (\begin{DoxyParamCaption}\item[{TPixel32 \&}]{v }\end{DoxyParamCaption})}



Reads a TPixel32 from the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01042                                           \{}
\DoxyCodeLine{01043   istream \&is = *(m\_imp-\/>m\_is);}
\DoxyCodeLine{01044   \textcolor{keywordtype}{int} r, g, b, m;}
\DoxyCodeLine{01045   is >> r;}
\DoxyCodeLine{01046   is >> g;}
\DoxyCodeLine{01047   is >> b;}
\DoxyCodeLine{01048   is >> m;}
\DoxyCodeLine{01049   v.r = r;}
\DoxyCodeLine{01050   v.g = g;}
\DoxyCodeLine{01051   v.b = b;}
\DoxyCodeLine{01052   v.m = m;}
\DoxyCodeLine{01053   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{01054 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_a91c54f76a32ae8fb381afe551b418a64}\label{class_t_i_stream_a91c54f76a32ae8fb381afe551b418a64}} 
\index{TIStream@{TIStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{operator$>$$>$()}{operator>>()}\hspace{0.1cm}{\footnotesize\ttfamily [9/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_i_stream}{TIStream}} \& TIStream\+::operator$>$$>$ (\begin{DoxyParamCaption}\item[{TPixel64 \&}]{v }\end{DoxyParamCaption})}



Reads a TPixel64 from the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01057                                           \{}
\DoxyCodeLine{01058   istream \&is = *(m\_imp-\/>m\_is);}
\DoxyCodeLine{01059   \textcolor{keywordtype}{int} r, g, b, m;}
\DoxyCodeLine{01060   is >> r;}
\DoxyCodeLine{01061   is >> g;}
\DoxyCodeLine{01062   is >> b;}
\DoxyCodeLine{01063   is >> m;}
\DoxyCodeLine{01064   v.r = r;}
\DoxyCodeLine{01065   v.g = g;}
\DoxyCodeLine{01066   v.b = b;}
\DoxyCodeLine{01067   v.m = m;}
\DoxyCodeLine{01068   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{01069 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_i_stream_ab793d0eaa6881bc7126babc39b93f5d9}\label{class_t_i_stream_ab793d0eaa6881bc7126babc39b93f5d9}} 
\index{TIStream@{TIStream}!setVersion@{setVersion}}
\index{setVersion@{setVersion}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{setVersion()}{setVersion()}}
{\footnotesize\ttfamily void TIStream\+::set\+Version (\begin{DoxyParamCaption}\item[{const Version\+Number \&}]{version }\end{DoxyParamCaption})}

Returns the currently stored version of the 
\begin{DoxyCode}{0}
\DoxyCodeLine{01277                                                       \{}
\DoxyCodeLine{01278   m\_imp-\/>m\_versionNumber = version;}
\DoxyCodeLine{01279 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00644}{TProject\+::load()}}, and \mbox{\hyperlink{l00443}{Toonz\+Scene\+::load\+Tnz\+File()}}.

\mbox{\Hypertarget{class_t_i_stream_add912e4624a496f6dd1564cd63976dbb}\label{class_t_i_stream_add912e4624a496f6dd1564cd63976dbb}} 
\index{TIStream@{TIStream}!skipCurrentTag@{skipCurrentTag}}
\index{skipCurrentTag@{skipCurrentTag}!TIStream@{TIStream}}
\doxysubsubsection{\texorpdfstring{skipCurrentTag()}{skipCurrentTag()}}
{\footnotesize\ttfamily void TIStream\+::skip\+Current\+Tag (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

opened document. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_i_stream_ab793d0eaa6881bc7126babc39b93f5d9}{set\+Version()}}
\end{DoxySeeAlso}
\begin{DoxyNote}{Note}
After skipping the tag content, the stream is positioned immediately after the end tag. Silently ignores the content of currently opened tag up to its end. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01283 \{ m\_imp-\/>skipCurrentTag(); \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00154}{TImage\+Reader\+Mesh\+::load()}}, \mbox{\hyperlink{l00070}{Plastic\+Skeleton\+Vertex\+::load\+Data()}}, \mbox{\hyperlink{l00474}{Plastic\+Skeleton\+::load\+Data()}}, \mbox{\hyperlink{l00196}{Plastic\+Skeleton\+Vertex\+Deformation\+::load\+Data()}}, \mbox{\hyperlink{l01098}{Plastic\+Skeleton\+Deformation\+::load\+Data()}}, \mbox{\hyperlink{l00703}{TFx\+::load\+Data()}}, \mbox{\hyperlink{l00210}{TTexture\+Mesh\+::load\+Data()}}, \mbox{\hyperlink{l00120}{TXsh\+Mesh\+Column\+::load\+Data()}}, \mbox{\hyperlink{l00311}{Vectorizer\+Parameters\+::load\+Data()}}, \mbox{\hyperlink{l02326}{Brush\+Data\+::load\+Data()}}, and \mbox{\hyperlink{l01885}{Vector\+Brush\+Data\+::load\+Data()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tstream.\+h\item 
E\+:/opentoonz/toonz/sources/common/tstream/tstream.\+cpp\end{DoxyCompactItemize}
