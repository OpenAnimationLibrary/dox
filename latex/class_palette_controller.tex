\hypertarget{class_palette_controller}{}\doxysection{Palette\+Controller Class Reference}
\label{class_palette_controller}\index{PaletteController@{PaletteController}}
Inheritance diagram for Palette\+Controller\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_palette_controller}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_palette_controller_a71cf204041b632d3e23f813fce3674f5}{edit\+Level\+Palette}} ()
\item 
void \mbox{\hyperlink{class_palette_controller_a0e11f5ddbf7fd22d397e6c49c48705ab}{edit\+Cleanup\+Palette}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_palette_controller_a449410fbfadd947cb0675a40f099df64}\label{class_palette_controller_a449410fbfadd947cb0675a40f099df64}} 
void {\bfseries color\+Auto\+Apply\+Enabled} (bool enabled)
\item 
\mbox{\Hypertarget{class_palette_controller_a717dc59edf97c82ccf0e2b12c3066222}\label{class_palette_controller_a717dc59edf97c82ccf0e2b12c3066222}} 
void {\bfseries color\+Sample\+Changed} (const TPixel32 \&)
\item 
\mbox{\Hypertarget{class_palette_controller_a07fb4a9e4c409701e337d1ef826d9849}\label{class_palette_controller_a07fb4a9e4c409701e337d1ef826d9849}} 
void {\bfseries check\+Palette\+Lock} ()
\item 
\mbox{\Hypertarget{class_palette_controller_a8b0f0d077b764ac4fef9b29b6f5e6014}\label{class_palette_controller_a8b0f0d077b764ac4fef9b29b6f5e6014}} 
void {\bfseries color\+Passive\+Picked} (const QColor \&)
\item 
\mbox{\Hypertarget{class_palette_controller_af55258d1994d04a16233b274f4cd4d37}\label{class_palette_controller_af55258d1994d04a16233b274f4cd4d37}} 
void {\bfseries style\+Passive\+Picked} (const int, const int, const int)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$ \mbox{\hyperlink{class_palette_controller_ab9476ada887f8e05c8cefb4928769aa7}{get\+Current\+Level\+Palette}} () const
\item 
\mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$ \mbox{\hyperlink{class_palette_controller_a72c8348484e73d91490af93c3832104b}{get\+Current\+Cleanup\+Palette}} () const
\item 
\mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$ \mbox{\hyperlink{class_palette_controller_a5565372488781d6960175a6dce04feef}{get\+Current\+Palette}} () const
\item 
void \mbox{\hyperlink{class_palette_controller_a693f13b376d77c32ebcf6a1f97bdc56a}{set\+Current\+Palette}} (\mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$palette\+Handle)
\item 
void \mbox{\hyperlink{class_palette_controller_af820220de80f128769b60bfa023b29f1}{enable\+Color\+Auto\+Apply}} (bool enabled)
\item 
bool \mbox{\hyperlink{class_palette_controller_ae6c9983d32ebc567609f8489853abf02}{is\+Color\+Auto\+Apply\+Enabled}} () const
\item 
void \mbox{\hyperlink{class_palette_controller_a87a89c4f98fe9b710b89eb890b29dd9c}{set\+Color\+Sample}} (const TPixel32 \&color)
\item 
TPixel32 \mbox{\hyperlink{class_palette_controller_a69936f0efca7954e98d109d0d8436fc5}{get\+Color\+Sample}} () const
\item 
void \mbox{\hyperlink{class_palette_controller_a934e8735bf63e845e2838aa4b9af3ec9}{notify\+Color\+Passive\+Picked}} (const QColor \&col)
\item 
void \mbox{\hyperlink{class_palette_controller_ad82926b8891cd4c41fafbc28249fe471}{notify\+Style\+Passive\+Picked}} (const int ink, const int paint, const int tone)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_palette_controller_a35d5b1bef3e3f98e42bc3c588d3dda8a}\label{class_palette_controller_a35d5b1bef3e3f98e42bc3c588d3dda8a}} 
\index{PaletteController@{PaletteController}!PaletteController@{PaletteController}}
\index{PaletteController@{PaletteController}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{PaletteController()}{PaletteController()}}
{\footnotesize\ttfamily Palette\+Controller\+::\+Palette\+Controller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00019     : QObject()}
\DoxyCodeLine{00020     , m\_currentLevelPalette(0)}
\DoxyCodeLine{00021     , m\_currentCleanupPalette(0)}
\DoxyCodeLine{00022     , m\_originalCurrentPalette(0)}
\DoxyCodeLine{00023     , m\_currentPalette(0)}
\DoxyCodeLine{00024     , m\_colorAutoApplyEnabled(PaletteControllerAutoApplyState != 0)}
\DoxyCodeLine{00025     , m\_colorSample() \{}
\DoxyCodeLine{00026   m\_currentLevelPalette   = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_palette_handle}{TPaletteHandle}};}
\DoxyCodeLine{00027   m\_currentCleanupPalette = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_palette_handle}{TPaletteHandle}};}
\DoxyCodeLine{00028   m\_currentPalette        = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_palette_handle}{TPaletteHandle}};}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030   QObject::connect(m\_currentCleanupPalette, SIGNAL(paletteSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00031                    SLOT(editCleanupPalette()));}
\DoxyCodeLine{00032   QObject::connect(m\_currentCleanupPalette, SIGNAL(colorStyleSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00033                    SLOT(editCleanupPalette()));}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035   QObject::connect(m\_currentLevelPalette, SIGNAL(paletteSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00036                    SLOT(editLevelPalette()));}
\DoxyCodeLine{00037   QObject::connect(m\_currentLevelPalette, SIGNAL(colorStyleSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00038                    SLOT(editLevelPalette()));}
\DoxyCodeLine{00039   \textcolor{comment}{// QObject::connect(m\_currentLevelPalette, SIGNAL(colorStyleSwitched()), this,}}
\DoxyCodeLine{00040   \textcolor{comment}{// SLOT(setColorCheckIndex()));}}
\DoxyCodeLine{00041 }
\DoxyCodeLine{00042   QObject::connect(m\_currentLevelPalette, SIGNAL(paletteLockChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00043                    SLOT(editLevelPalette()));}
\DoxyCodeLine{00044 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_a66a3a62c01ff0c5364620f61fce51a6f}\label{class_palette_controller_a66a3a62c01ff0c5364620f61fce51a6f}} 
\index{PaletteController@{PaletteController}!````~PaletteController@{$\sim$PaletteController}}
\index{````~PaletteController@{$\sim$PaletteController}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{$\sim$PaletteController()}{~PaletteController()}}
{\footnotesize\ttfamily Palette\+Controller\+::$\sim$\+Palette\+Controller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00048                                       \{}
\DoxyCodeLine{00049   \textcolor{keyword}{delete} m\_currentLevelPalette;}
\DoxyCodeLine{00050   \textcolor{keyword}{delete} m\_currentCleanupPalette;}
\DoxyCodeLine{00051   \textcolor{keyword}{delete} m\_currentPalette;}
\DoxyCodeLine{00052 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_palette_controller_a0e11f5ddbf7fd22d397e6c49c48705ab}\label{class_palette_controller_a0e11f5ddbf7fd22d397e6c49c48705ab}} 
\index{PaletteController@{PaletteController}!editCleanupPalette@{editCleanupPalette}}
\index{editCleanupPalette@{editCleanupPalette}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{editCleanupPalette}{editCleanupPalette}}
{\footnotesize\ttfamily void Palette\+Controller\+::edit\+Cleanup\+Palette (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00098                                            \{}
\DoxyCodeLine{00099   setCurrentPalette(m\_currentCleanupPalette);}
\DoxyCodeLine{00100 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_a71cf204041b632d3e23f813fce3674f5}\label{class_palette_controller_a71cf204041b632d3e23f813fce3674f5}} 
\index{PaletteController@{PaletteController}!editLevelPalette@{editLevelPalette}}
\index{editLevelPalette@{editLevelPalette}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{editLevelPalette}{editLevelPalette}}
{\footnotesize\ttfamily void Palette\+Controller\+::edit\+Level\+Palette (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00091                                          \{}
\DoxyCodeLine{00092   setCurrentPalette(m\_currentLevelPalette);}
\DoxyCodeLine{00093   emit(checkPaletteLock());}
\DoxyCodeLine{00094 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_af820220de80f128769b60bfa023b29f1}\label{class_palette_controller_af820220de80f128769b60bfa023b29f1}} 
\index{PaletteController@{PaletteController}!enableColorAutoApply@{enableColorAutoApply}}
\index{enableColorAutoApply@{enableColorAutoApply}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{enableColorAutoApply()}{enableColorAutoApply()}}
{\footnotesize\ttfamily void Palette\+Controller\+::enable\+Color\+Auto\+Apply (\begin{DoxyParamCaption}\item[{bool}]{enabled }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00104                                                          \{}
\DoxyCodeLine{00105   \textcolor{keywordflow}{if} (m\_colorAutoApplyEnabled != enabled) \{}
\DoxyCodeLine{00106     m\_colorAutoApplyEnabled         = enabled;}
\DoxyCodeLine{00107     PaletteControllerAutoApplyState = (enabled) ? 1 : 0;}
\DoxyCodeLine{00108     emit colorAutoApplyEnabled(m\_colorAutoApplyEnabled);}
\DoxyCodeLine{00109   \}}
\DoxyCodeLine{00110 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_a69936f0efca7954e98d109d0d8436fc5}\label{class_palette_controller_a69936f0efca7954e98d109d0d8436fc5}} 
\index{PaletteController@{PaletteController}!getColorSample@{getColorSample}}
\index{getColorSample@{getColorSample}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{getColorSample()}{getColorSample()}}
{\footnotesize\ttfamily TPixel32 Palette\+Controller\+::get\+Color\+Sample (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00074 \{ \textcolor{keywordflow}{return} m\_colorSample; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_a72c8348484e73d91490af93c3832104b}\label{class_palette_controller_a72c8348484e73d91490af93c3832104b}} 
\index{PaletteController@{PaletteController}!getCurrentCleanupPalette@{getCurrentCleanupPalette}}
\index{getCurrentCleanupPalette@{getCurrentCleanupPalette}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{getCurrentCleanupPalette()}{getCurrentCleanupPalette()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$ Palette\+Controller\+::get\+Current\+Cleanup\+Palette (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00060                                                    \{}
\DoxyCodeLine{00061     \textcolor{keywordflow}{return} m\_currentCleanupPalette;}
\DoxyCodeLine{00062   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_ab9476ada887f8e05c8cefb4928769aa7}\label{class_palette_controller_ab9476ada887f8e05c8cefb4928769aa7}} 
\index{PaletteController@{PaletteController}!getCurrentLevelPalette@{getCurrentLevelPalette}}
\index{getCurrentLevelPalette@{getCurrentLevelPalette}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{getCurrentLevelPalette()}{getCurrentLevelPalette()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$ Palette\+Controller\+::get\+Current\+Level\+Palette (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00057                                                  \{}
\DoxyCodeLine{00058     \textcolor{keywordflow}{return} m\_currentLevelPalette;}
\DoxyCodeLine{00059   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_a5565372488781d6960175a6dce04feef}\label{class_palette_controller_a5565372488781d6960175a6dce04feef}} 
\index{PaletteController@{PaletteController}!getCurrentPalette@{getCurrentPalette}}
\index{getCurrentPalette@{getCurrentPalette}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{getCurrentPalette()}{getCurrentPalette()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$ Palette\+Controller\+::get\+Current\+Palette (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00063 \{ \textcolor{keywordflow}{return} m\_currentPalette; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_ae6c9983d32ebc567609f8489853abf02}\label{class_palette_controller_ae6c9983d32ebc567609f8489853abf02}} 
\index{PaletteController@{PaletteController}!isColorAutoApplyEnabled@{isColorAutoApplyEnabled}}
\index{isColorAutoApplyEnabled@{isColorAutoApplyEnabled}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{isColorAutoApplyEnabled()}{isColorAutoApplyEnabled()}}
{\footnotesize\ttfamily bool Palette\+Controller\+::is\+Color\+Auto\+Apply\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00071 \{ \textcolor{keywordflow}{return} m\_colorAutoApplyEnabled; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_a934e8735bf63e845e2838aa4b9af3ec9}\label{class_palette_controller_a934e8735bf63e845e2838aa4b9af3ec9}} 
\index{PaletteController@{PaletteController}!notifyColorPassivePicked@{notifyColorPassivePicked}}
\index{notifyColorPassivePicked@{notifyColorPassivePicked}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{notifyColorPassivePicked()}{notifyColorPassivePicked()}}
{\footnotesize\ttfamily void Palette\+Controller\+::notify\+Color\+Passive\+Picked (\begin{DoxyParamCaption}\item[{const QColor \&}]{col }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00078                                                    \{}
\DoxyCodeLine{00079     emit colorPassivePicked(col);}
\DoxyCodeLine{00080   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_ad82926b8891cd4c41fafbc28249fe471}\label{class_palette_controller_ad82926b8891cd4c41fafbc28249fe471}} 
\index{PaletteController@{PaletteController}!notifyStylePassivePicked@{notifyStylePassivePicked}}
\index{notifyStylePassivePicked@{notifyStylePassivePicked}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{notifyStylePassivePicked()}{notifyStylePassivePicked()}}
{\footnotesize\ttfamily void Palette\+Controller\+::notify\+Style\+Passive\+Picked (\begin{DoxyParamCaption}\item[{const int}]{ink,  }\item[{const int}]{paint,  }\item[{const int}]{tone }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00084                                                 \{}
\DoxyCodeLine{00085     emit stylePassivePicked(ink, paint, tone);}
\DoxyCodeLine{00086   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_a87a89c4f98fe9b710b89eb890b29dd9c}\label{class_palette_controller_a87a89c4f98fe9b710b89eb890b29dd9c}} 
\index{PaletteController@{PaletteController}!setColorSample@{setColorSample}}
\index{setColorSample@{setColorSample}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{setColorSample()}{setColorSample()}}
{\footnotesize\ttfamily void Palette\+Controller\+::set\+Color\+Sample (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{color }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00114                                                             \{}
\DoxyCodeLine{00115   \textcolor{keywordflow}{if} (m\_colorSample != color) \{}
\DoxyCodeLine{00116     m\_colorSample = color;}
\DoxyCodeLine{00117     emit colorSampleChanged(m\_colorSample);}
\DoxyCodeLine{00118   \}}
\DoxyCodeLine{00119 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palette_controller_a693f13b376d77c32ebcf6a1f97bdc56a}\label{class_palette_controller_a693f13b376d77c32ebcf6a1f97bdc56a}} 
\index{PaletteController@{PaletteController}!setCurrentPalette@{setCurrentPalette}}
\index{setCurrentPalette@{setCurrentPalette}!PaletteController@{PaletteController}}
\doxysubsubsection{\texorpdfstring{setCurrentPalette()}{setCurrentPalette()}}
{\footnotesize\ttfamily void Palette\+Controller\+::set\+Current\+Palette (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$}]{palette\+Handle }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00056                                                                        \{}
\DoxyCodeLine{00057   \textcolor{comment}{// Current palette redirects to the palette of another palette handle -\/}}
\DoxyCodeLine{00058   \textcolor{comment}{// namely one of either the current level palette or current cleanup}}
\DoxyCodeLine{00059   \textcolor{comment}{// palette -\/ even though m\_currentPalette is a standalone palette handle.}}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061   \textcolor{comment}{// In order to correctly support the notification system notify*() functions}}
\DoxyCodeLine{00062   \textcolor{comment}{// perform signal BROADCASTING to all palette handles implicitly mapping to}}
\DoxyCodeLine{00063   \textcolor{comment}{// the associated palette:}}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065   \textcolor{comment}{// in case the handle is not changed, skip the reconnection}}
\DoxyCodeLine{00066   \textcolor{keywordflow}{if} (m\_originalCurrentPalette == paletteHandle) \{}
\DoxyCodeLine{00067     \textcolor{keywordflow}{if} (!paletteHandle) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00068     m\_currentPalette-\/>setPalette(paletteHandle-\/>getPalette(),}
\DoxyCodeLine{00069                                  paletteHandle-\/>getStyleIndex());}
\DoxyCodeLine{00070     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00071   \}}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073   \textcolor{keywordflow}{if} (m\_originalCurrentPalette) \{}
\DoxyCodeLine{00074     m\_originalCurrentPalette-\/>disconnectBroadcasts(m\_currentPalette);}
\DoxyCodeLine{00075     m\_currentPalette-\/>disconnectBroadcasts(m\_originalCurrentPalette);}
\DoxyCodeLine{00076   \}}
\DoxyCodeLine{00077 }
\DoxyCodeLine{00078   m\_originalCurrentPalette = paletteHandle;}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080   \textcolor{keywordflow}{if} (!paletteHandle) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00081 }
\DoxyCodeLine{00082   m\_currentPalette-\/>setPalette(paletteHandle-\/>getPalette(),}
\DoxyCodeLine{00083                                paletteHandle-\/>getStyleIndex());}
\DoxyCodeLine{00084 }
\DoxyCodeLine{00085   m\_originalCurrentPalette-\/>connectBroadcasts(m\_currentPalette);}
\DoxyCodeLine{00086   m\_currentPalette-\/>connectBroadcasts(m\_originalCurrentPalette);}
\DoxyCodeLine{00087 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/palettecontroller.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/palettecontroller.\+cpp\end{DoxyCompactItemize}
