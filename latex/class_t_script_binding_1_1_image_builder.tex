\hypertarget{class_t_script_binding_1_1_image_builder}{}\doxysection{TScript\+Binding\+::Image\+Builder Class Reference}
\label{class_t_script_binding_1_1_image_builder}\index{TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}}
Inheritance diagram for TScript\+Binding\+::Image\+Builder\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_t_script_binding_1_1_image_builder}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_image_builder_a13354fa30a0e4510e04b22a491389e1d}{to\+String}} ()
\item 
QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_image_builder_a3b9b1fce625b9c5352df4e911263704e}{get\+Image}} ()
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_image_builder_aaa1d5c4b8708401ffddf5eae9f5bb4fe}{add}} (QScript\+Value img)
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_image_builder_ab67f170ee0e518ccd40e3a5a2bc090ee}{add}} (QScript\+Value img, QScript\+Value transformation)
\item 
Q\+\_\+\+INVOKABLE void \mbox{\hyperlink{class_t_script_binding_1_1_image_builder_abbc20ba6570f46310831d38e14622445}{clear}} ()
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_image_builder_a42fa0f50a71e074776b580ee92f82e6f}{fill}} (const QString \&color\+Name)
\end{DoxyCompactItemize}
\doxysubsection*{Properties}
\begin{DoxyCompactItemize}
\item 
QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_image_builder_a356c12f0f2d9bbe20df3be294b90950e}{image}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_script_binding_1_1_image_builder_a15d299cb812098dba2bdb67de20eacf0}\label{class_t_script_binding_1_1_image_builder_a15d299cb812098dba2bdb67de20eacf0}} 
\index{TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}!ImageBuilder@{ImageBuilder}}
\index{ImageBuilder@{ImageBuilder}!TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}}
\doxysubsubsection{\texorpdfstring{ImageBuilder()}{ImageBuilder()}}
{\footnotesize\ttfamily Image\+Builder\+::\+Image\+Builder (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00082 : m\_width(0), m\_height(0) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_image_builder_a0e766bc011c7f051d21f70dbed04007d}\label{class_t_script_binding_1_1_image_builder_a0e766bc011c7f051d21f70dbed04007d}} 
\index{TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}!````~ImageBuilder@{$\sim$ImageBuilder}}
\index{````~ImageBuilder@{$\sim$ImageBuilder}!TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}}
\doxysubsubsection{\texorpdfstring{$\sim$ImageBuilder()}{~ImageBuilder()}}
{\footnotesize\ttfamily Image\+Builder\+::$\sim$\+Image\+Builder (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00084 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_script_binding_1_1_image_builder_aaa1d5c4b8708401ffddf5eae9f5bb4fe}\label{class_t_script_binding_1_1_image_builder_aaa1d5c4b8708401ffddf5eae9f5bb4fe}} 
\index{TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}!add@{add}}
\index{add@{add}!TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}}
\doxysubsubsection{\texorpdfstring{add()}{add()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily QScript\+Value Image\+Builder\+::add (\begin{DoxyParamCaption}\item[{QScript\+Value}]{img }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00258                                                   \{}
\DoxyCodeLine{00259   Image *simg      = 0;}
\DoxyCodeLine{00260   QScriptValue err = checkImage(context(), imgArg, simg);}
\DoxyCodeLine{00261   \textcolor{keywordflow}{if} (err.isError()) \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{00262   QString errStr = add(simg-\/>getImg(), \mbox{\hyperlink{class_t_affine}{TAffine}}());}
\DoxyCodeLine{00263   \textcolor{keywordflow}{if} (errStr != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{00264     \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00265         tr(\textcolor{stringliteral}{"{}\%1 : \%2"{}}).arg(errStr).arg(imgArg.toString()));}
\DoxyCodeLine{00266   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00267     \textcolor{keywordflow}{return} context()-\/>thisObject();}
\DoxyCodeLine{00268 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_image_builder_ab67f170ee0e518ccd40e3a5a2bc090ee}\label{class_t_script_binding_1_1_image_builder_ab67f170ee0e518ccd40e3a5a2bc090ee}} 
\index{TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}!add@{add}}
\index{add@{add}!TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}}
\doxysubsubsection{\texorpdfstring{add()}{add()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily QScript\+Value Image\+Builder\+::add (\begin{DoxyParamCaption}\item[{QScript\+Value}]{img,  }\item[{QScript\+Value}]{transformation }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00271                                                                \{}
\DoxyCodeLine{00272   Image *simg      = 0;}
\DoxyCodeLine{00273   QScriptValue err = checkImage(context(), imgArg, simg);}
\DoxyCodeLine{00274   \textcolor{keywordflow}{if} (err.isError()) \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{00275   Transform *transformation = qscriptvalue\_cast<Transform *>(transformationArg);}
\DoxyCodeLine{00276   \textcolor{keywordflow}{if} (!transformation) \{}
\DoxyCodeLine{00277     \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00278         tr(\textcolor{stringliteral}{"{}Bad argument (\%1): should be a Transformation"{}})}
\DoxyCodeLine{00279             .arg(transformationArg.toString()));}
\DoxyCodeLine{00280   \}}
\DoxyCodeLine{00281   \mbox{\hyperlink{class_t_affine}{TAffine}} aff    = transformation-\/>getAffine();}
\DoxyCodeLine{00282   QString errStr = add(simg-\/>getImg(), aff);}
\DoxyCodeLine{00283   \textcolor{keywordflow}{if} (errStr != \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{00284     \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00285         tr(\textcolor{stringliteral}{"{}\%1 : \%2"{}}).arg(errStr).arg(imgArg.toString()));}
\DoxyCodeLine{00286   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00287     \textcolor{keywordflow}{return} context()-\/>thisObject();}
\DoxyCodeLine{00288 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_image_builder_abbc20ba6570f46310831d38e14622445}\label{class_t_script_binding_1_1_image_builder_abbc20ba6570f46310831d38e14622445}} 
\index{TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}!clear@{clear}}
\index{clear@{clear}!TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily void Image\+Builder\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00163 \{ m\_img = \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}}(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_image_builder_a42fa0f50a71e074776b580ee92f82e6f}\label{class_t_script_binding_1_1_image_builder_a42fa0f50a71e074776b580ee92f82e6f}} 
\index{TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}!fill@{fill}}
\index{fill@{fill}!TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}}
\doxysubsubsection{\texorpdfstring{fill()}{fill()}}
{\footnotesize\ttfamily QScript\+Value Image\+Builder\+::fill (\begin{DoxyParamCaption}\item[{const QString \&}]{color\+Name }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00145                                                         \{}
\DoxyCodeLine{00146   QColor color;}
\DoxyCodeLine{00147   QScriptValue err = checkColor(context(), colorName, color);}
\DoxyCodeLine{00148   \textcolor{keywordflow}{if} (err.isError()) \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{00149   TPixel32 pix(color.red(), color.green(), color.blue(), color.alpha());}
\DoxyCodeLine{00150   \textcolor{keywordflow}{if} (m\_img) \{}
\DoxyCodeLine{00151     \textcolor{keywordflow}{if} (m\_img-\/>\mbox{\hyperlink{class_t_image_a52205464a87894ee940a1083a7641d86}{getType}}() != \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1ada6df9de5e7d50b9c9c823871bee09d6}{TImage::RASTER}})}
\DoxyCodeLine{00152       context()-\/>throwError(\textcolor{stringliteral}{"{}Can't fill a non-\/'Raster' image"{}});}
\DoxyCodeLine{00153     \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} ras = m\_img-\/>\mbox{\hyperlink{class_t_image_acab19efe21f788a8016f0604c4c71912}{raster}}();}
\DoxyCodeLine{00154     \textcolor{keywordflow}{if} (ras) ras-\/>fill(pix);}
\DoxyCodeLine{00155   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_width > 0 \&\& m\_height > 0) \{}
\DoxyCodeLine{00156     \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} ras(m\_width, m\_height);}
\DoxyCodeLine{00157     ras-\/>fill(pix);}
\DoxyCodeLine{00158     m\_img = \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}}(ras);}
\DoxyCodeLine{00159   \}}
\DoxyCodeLine{00160   \textcolor{keywordflow}{return} context()-\/>thisObject();}
\DoxyCodeLine{00161 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_image_builder_a3b9b1fce625b9c5352df4e911263704e}\label{class_t_script_binding_1_1_image_builder_a3b9b1fce625b9c5352df4e911263704e}} 
\index{TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}!getImage@{getImage}}
\index{getImage@{getImage}!TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}}
\doxysubsubsection{\texorpdfstring{getImage()}{getImage()}}
{\footnotesize\ttfamily QScript\+Value Image\+Builder\+::get\+Image (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00141                                     \{}
\DoxyCodeLine{00142   \textcolor{keywordflow}{return} create(engine(), \textcolor{keyword}{new} Image(m\_img));}
\DoxyCodeLine{00143 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_image_builder_a13354fa30a0e4510e04b22a491389e1d}\label{class_t_script_binding_1_1_image_builder_a13354fa30a0e4510e04b22a491389e1d}} 
\index{TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}!toString@{toString}}
\index{toString@{toString}!TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}}
\doxysubsubsection{\texorpdfstring{toString()}{toString()}}
{\footnotesize\ttfamily QScript\+Value Image\+Builder\+::to\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00126                                     \{}
\DoxyCodeLine{00127   QString type = \textcolor{stringliteral}{"{}Empty"{}};}
\DoxyCodeLine{00128   \textcolor{keywordflow}{if} (m\_img) \{}
\DoxyCodeLine{00129     \textcolor{keywordflow}{if} (m\_img-\/>\mbox{\hyperlink{class_t_image_a52205464a87894ee940a1083a7641d86}{getType}}() == \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1ada6df9de5e7d50b9c9c823871bee09d6}{TImage::RASTER}})}
\DoxyCodeLine{00130       type = \textcolor{stringliteral}{"{}Raster"{}};}
\DoxyCodeLine{00131     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_img-\/>\mbox{\hyperlink{class_t_image_a52205464a87894ee940a1083a7641d86}{getType}}() == \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1a4628781c4add56d9e3f547515561db61}{TImage::TOONZ\_RASTER}})}
\DoxyCodeLine{00132       type = \textcolor{stringliteral}{"{}ToonzRaster"{}};}
\DoxyCodeLine{00133     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_img-\/>\mbox{\hyperlink{class_t_image_a52205464a87894ee940a1083a7641d86}{getType}}() == \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1aae0e08194ada9a9bb8271dfd21ef8b2e}{TImage::VECTOR}})}
\DoxyCodeLine{00134       type = \textcolor{stringliteral}{"{}Vector"{}};}
\DoxyCodeLine{00135     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00136       type = \textcolor{stringliteral}{"{}Bad"{}};}
\DoxyCodeLine{00137   \}}
\DoxyCodeLine{00138   \textcolor{keywordflow}{return} tr(\textcolor{stringliteral}{"{}ImageBuilder(\%1 image)"{}}).arg(type);}
\DoxyCodeLine{00139 \}}

\end{DoxyCode}


\doxysubsection{Property Documentation}
\mbox{\Hypertarget{class_t_script_binding_1_1_image_builder_a356c12f0f2d9bbe20df3be294b90950e}\label{class_t_script_binding_1_1_image_builder_a356c12f0f2d9bbe20df3be294b90950e}} 
\index{TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}!image@{image}}
\index{image@{image}!TScriptBinding::ImageBuilder@{TScriptBinding::ImageBuilder}}
\doxysubsubsection{\texorpdfstring{image}{image}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Image\+Builder\+::image\hspace{0.3cm}{\ttfamily [read]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/scriptbinding\+\_\+image\+\_\+builder.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/scriptbinding\+\_\+image\+\_\+builder.\+cpp\end{DoxyCompactItemize}
