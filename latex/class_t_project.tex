\hypertarget{class_t_project}{}\doxysection{TProject Class Reference}
\label{class_t_project}\index{TProject@{TProject}}


Define and handle a toonz project.  




{\ttfamily \#include $<$tproject.\+h$>$}

Inheritance diagram for TProject\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_t_project}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_a258a4b6435978b730722a92ab104cd89}{get\+Name}} () const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_ab97b51d9527c7ede8dc52dc0007dc27b}{get\+Project\+Path}} () const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_a593eef0243c736a73e92e459fb0ed71d}{get\+Project\+Folder}} () const
\item 
\mbox{\Hypertarget{class_t_project_ab42d494e58f154284f7862a457fdfac4}\label{class_t_project_ab42d494e58f154284f7862a457fdfac4}} 
void {\bfseries set\+Folder} (std\+::string name, \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} path)
\item 
\mbox{\Hypertarget{class_t_project_a0a8a0efd09f3853070e220a8f9e3bf2f}\label{class_t_project_a0a8a0efd09f3853070e220a8f9e3bf2f}} 
void {\bfseries set\+Folder} (std\+::string name)
\item 
int \mbox{\hyperlink{class_t_project_a26ebcdd853071adf3bfb4e80aabed84f}{get\+Folder\+Count}} () const
\begin{DoxyCompactList}\small\item\em Returns the number of the folders contained in the project folder. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{class_t_project_ab7cd33e579f84763bee6421daeb3bde5}{get\+Folder\+Name}} (int index) const
\begin{DoxyCompactList}\small\item\em Returns the name of the folder indexed with {\bfseries{index}}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_t_project_a3aa0dda9dc56aafce607a965afccc1d0}{get\+Folder\+Index}} (std\+::string folder\+Name) const
\item 
bool \mbox{\hyperlink{class_t_project_af03dded99d20e6531551ca1891f3fbc0}{is\+Constant\+Folder}} (int index) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{get\+Folder}} (int index) const
\item 
\mbox{\Hypertarget{class_t_project_a555d0a820cd592a078ac500bcb979c5d}\label{class_t_project_a555d0a820cd592a078ac500bcb979c5d}} 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} {\bfseries get\+Folder} (std\+::string name, bool absolute=false) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_a62c3e40e2395b6cbc4ec8ddecf1494b5}{get\+Scenes\+Path}} () const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_ac0914d4747810b2c5fd70a3d981fd72f}{decode}} (\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} fp) const
\item 
bool \mbox{\hyperlink{class_t_project_a3460e74c19ca0593d55fc0a233dd0762}{is\+Current}} () const
\item 
void \mbox{\hyperlink{class_t_project_af3e83e57d958a700b9b1df276423c00e}{set\+Scene\+Properties}} (const \mbox{\hyperlink{class_t_scene_properties}{TScene\+Properties}} \&sprop)
\item 
const \mbox{\hyperlink{class_t_scene_properties}{TScene\+Properties}} \& \mbox{\hyperlink{class_t_project_aae72fd8f21f5376dcdab76ec75ecc7b0}{get\+Scene\+Properties}} () const
\item 
\mbox{\hyperlink{class_file_path_properties}{File\+Path\+Properties}} $\ast$ \mbox{\hyperlink{class_t_project_a4bb35f48bbb0767d0c0f01351974d74d}{get\+File\+Path\+Properties}} () const
\item 
void \mbox{\hyperlink{class_t_project_abb3ef7e35bc8b552733a61a2984ba34e}{set\+Use\+Scene\+Path}} (std\+::string folder\+Name, bool on)
\item 
bool \mbox{\hyperlink{class_t_project_aa14191058e3a7338322822af72510874}{get\+Use\+Scene\+Path}} (std\+::string folder\+Name) const
\item 
int \mbox{\hyperlink{class_t_project_ad843f3d8d4785299c49c273c14d1686c}{get\+Folder\+Index\+From\+Path}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
std\+::wstring \mbox{\hyperlink{class_t_project_a647a0a7901dcce1c132cd0a1d7d66840}{get\+Folder\+Name\+From\+Path}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
bool \mbox{\hyperlink{class_t_project_a620a88aa773f5521435d7f53d77e920a}{save}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&project\+Path)
\item 
bool \mbox{\hyperlink{class_t_project_a5e2d83c6523dda2a88ed669299bbd9aa}{save}} ()
\item 
void \mbox{\hyperlink{class_t_project_a16c5f69fb661a7c4202d42d991ff15be}{load}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&project\+Path)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{is\+AProject\+Path}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const std\+::string \mbox{\hyperlink{class_t_project_aa7a1a54d2e59c7c712cd260e0471b34c}{Inputs}} = \char`\"{}inputs\char`\"{}
\item 
static const std\+::string \mbox{\hyperlink{class_t_project_a192daa44228264ac90d27f6d6491ac38}{Drawings}} = \char`\"{}drawings\char`\"{}
\item 
static const std\+::string \mbox{\hyperlink{class_t_project_afa1aca692a03ae826a4d22565c7361cb}{Scenes}} = \char`\"{}scenes\char`\"{}
\item 
static const std\+::string \mbox{\hyperlink{class_t_project_a78253a5cc9abd6373bfc51b560c5fce5}{Extras}} = \char`\"{}extras\char`\"{}
\item 
static const std\+::string \mbox{\hyperlink{class_t_project_a24ca66c3d958d13d653b65c87f0c3b2d}{Outputs}} = \char`\"{}outputs\char`\"{}
\item 
static const std\+::string \mbox{\hyperlink{class_t_project_abdf1068b5219720247d9f7cc9a568559}{Scripts}} = \char`\"{}scripts\char`\"{}
\item 
static const std\+::string \mbox{\hyperlink{class_t_project_a092d328ed133774a3522d4029eedf06c}{Palettes}} = \char`\"{}palettes\char`\"{}
\item 
static const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_project_a3fc8cb5307b3a6dabc30d14fbd2dade4}{Sandbox\+Project\+Name}}
\begin{DoxyCompactList}\small\item\em Default project name. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
Define and handle a toonz project. 

A toonz project is identified by a project name that matches a folder with the same name in the project root.~\newline
 The project folder can contains saveral other folders. By default, five folders are created\+: Inputs, Drawings, Scenes, Extras and Outputs. Each of this folders can be renamed using the set\+Folder(string name, \+TFile\+Path path) method. Usually, the {\bfseries{name}} parameter is chosen from inputs, drawings, scenes, extras and outputs; the {\bfseries{path}} parameter contains the folder that can have a different name from them. All association between names and folder are kept in a mapping.~\newline
 A folder of a project can be constant or scene dependent. A constant folder is used by every scene created in the project to save or load data. A scene dependent folder is used only by the scene from which the folder depends. A scene dependent folder contains the string \char`\"{}\$scene\char`\"{} in its path. \begin{DoxyVerb} \code
 e.g.
 Scene path: "...\\prodA\\episode1\\scenes\\sceneA.tzn"
 Drawings scene dependent folder:
\end{DoxyVerb}
 \char`\"{}...\textbackslash{}\textbackslash{}prod\+A\textbackslash{}\textbackslash{}episode1\textbackslash{}\textbackslash{}\$scene\textbackslash{}\textbackslash{}drawings\char`\"{} Drawings folder path\+: \char`\"{}...\textbackslash{}\textbackslash{}prod\+A\textbackslash{}\textbackslash{}episode1\textbackslash{}\textbackslash{}\+Scene\+A\textbackslash{}\textbackslash{}drawings\char`\"{}  ~\newline
~\newline
 By default, from the toonz installation, exist always a toonz project called \char`\"{}sandbox\char`\"{}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_project_manager}{TProject\+Manager}}, \mbox{\hyperlink{class_t_scene_properties}{TScene\+Properties}}. 
\end{DoxySeeAlso}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_project_a65b49eaa5d8e65bead58a6fd3ed32fee}\label{class_t_project_a65b49eaa5d8e65bead58a6fd3ed32fee}} 
\index{TProject@{TProject}!TProject@{TProject}}
\index{TProject@{TProject}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{TProject()}{TProject()}}
{\footnotesize\ttfamily TProject\+::\+TProject (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00291     : m\_name()}
\DoxyCodeLine{00292     , m\_path()}
\DoxyCodeLine{00293     , m\_sprop(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_scene_properties}{TSceneProperties}}())}
\DoxyCodeLine{00294     , m\_fpProp(\textcolor{keyword}{new} \mbox{\hyperlink{class_file_path_properties}{FilePathProperties}}()) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_a0edc9cff3a41614112bc69dbab367bb3}\label{class_t_project_a0edc9cff3a41614112bc69dbab367bb3}} 
\index{TProject@{TProject}!````~TProject@{$\sim$TProject}}
\index{````~TProject@{$\sim$TProject}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{$\sim$TProject()}{~TProject()}}
{\footnotesize\ttfamily TProject\+::$\sim$\+TProject (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00298                     \{}
\DoxyCodeLine{00299   \textcolor{keyword}{delete} m\_sprop;}
\DoxyCodeLine{00300   \textcolor{keyword}{delete} m\_fpProp;}
\DoxyCodeLine{00301 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_project_ac0914d4747810b2c5fd70a3d981fd72f}\label{class_t_project_ac0914d4747810b2c5fd70a3d981fd72f}} 
\index{TProject@{TProject}!decode@{decode}}
\index{decode@{decode}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{decode()}{decode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+::decode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_file_path}{TFile\+Path}}}]{fp }\end{DoxyParamCaption}) const}

Returns the absolute path of {\bfseries{fp}}. If {\bfseries{fp}} contains \char`\"{}\$project\char`\"{}, replaces it with the name of the project. \begin{DoxyNote}{Note}
the returned path can contain \char`\"{}\$scene\char`\"{} 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00434                                              \{}
\DoxyCodeLine{00435   \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{00436     wstring fpstr = fp.getWideString();}
\DoxyCodeLine{00437     \textcolor{keywordtype}{int} j         = fpstr.find(L\textcolor{stringliteral}{"{}\$project"{}});}
\DoxyCodeLine{00438     \textcolor{keywordflow}{if} (j == (\textcolor{keywordtype}{int})wstring::npos) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00439     fpstr.replace(j, 8, \mbox{\hyperlink{class_t_project_a258a4b6435978b730722a92ab104cd89}{getName}}().getWideString());}
\DoxyCodeLine{00440     fp = \mbox{\hyperlink{class_t_file_path}{TFilePath}}(fpstr);}
\DoxyCodeLine{00441   \}}
\DoxyCodeLine{00442   \textcolor{keywordflow}{return} makeAbsolute(\mbox{\hyperlink{class_t_project_a593eef0243c736a73e92e459fb0ed71d}{getProjectFolder}}(), fp);}
\DoxyCodeLine{00443 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00049}{get\+Name()}}, and \mbox{\hyperlink{l00051}{get\+Project\+Folder()}}.



Referenced by \mbox{\hyperlink{l00463}{get\+Folder\+Index\+From\+Path()}}, and \mbox{\hyperlink{l00524}{save()}}.

\mbox{\Hypertarget{class_t_project_a4bb35f48bbb0767d0c0f01351974d74d}\label{class_t_project_a4bb35f48bbb0767d0c0f01351974d74d}} 
\index{TProject@{TProject}!getFilePathProperties@{getFilePathProperties}}
\index{getFilePathProperties@{getFilePathProperties}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getFilePathProperties()}{getFilePathProperties()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_file_path_properties}{File\+Path\+Properties}} $\ast$ TProject\+::get\+File\+Path\+Properties (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00074 \{ \textcolor{keywordflow}{return} m\_fpProp; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}\label{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}} 
\index{TProject@{TProject}!getFolder@{getFolder}}
\index{getFolder@{getFolder}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getFolder()}{getFolder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+::get\+Folder (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const}

Returns the path of the folder indexed with {\bfseries{index}}.~\newline
 Returns \mbox{\hyperlink{class_t_file_path}{TFile\+Path()}} if there isn\textquotesingle{}t a folder indexed with {\bfseries{index}}. \begin{DoxyNote}{Note}
The returned path could be a relative path. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00366                                              \{}
\DoxyCodeLine{00367   \textcolor{keywordflow}{if} (0 <= index \&\& index < (\textcolor{keywordtype}{int})m\_folderNames.size())}
\DoxyCodeLine{00368     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(m\_folderNames[index]);}
\DoxyCodeLine{00369   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00370     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path}{TFilePath}}();}
\DoxyCodeLine{00371 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00366}{get\+Folder()}}.



Referenced by \mbox{\hyperlink{l01231}{Toonz\+Scene\+::decode\+File\+Path()}}, \mbox{\hyperlink{l00366}{get\+Folder()}}, \mbox{\hyperlink{l00463}{get\+Folder\+Index\+From\+Path()}}, \mbox{\hyperlink{l00507}{get\+Folder\+Name\+From\+Path()}}, \mbox{\hyperlink{l00356}{get\+Scenes\+Path()}}, \mbox{\hyperlink{l00377}{is\+Constant\+Folder()}}, and \mbox{\hyperlink{l00524}{save()}}.

\mbox{\Hypertarget{class_t_project_a26ebcdd853071adf3bfb4e80aabed84f}\label{class_t_project_a26ebcdd853071adf3bfb4e80aabed84f}} 
\index{TProject@{TProject}!getFolderCount@{getFolderCount}}
\index{getFolderCount@{getFolderCount}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getFolderCount()}{getFolderCount()}}
{\footnotesize\ttfamily int TProject\+::get\+Folder\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the number of the folders contained in the project folder. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00384 \{ \textcolor{keywordflow}{return} m\_folders.size(); \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01328}{Toonz\+Scene\+::code\+File\+Path()}}, \mbox{\hyperlink{l01231}{Toonz\+Scene\+::decode\+File\+Path()}}, \mbox{\hyperlink{l00463}{get\+Folder\+Index\+From\+Path()}}, \mbox{\hyperlink{l01457}{Toonz\+Scene\+::is\+Extern\+Path()}}, and \mbox{\hyperlink{l00524}{save()}}.

\mbox{\Hypertarget{class_t_project_a3aa0dda9dc56aafce607a965afccc1d0}\label{class_t_project_a3aa0dda9dc56aafce607a965afccc1d0}} 
\index{TProject@{TProject}!getFolderIndex@{getFolderIndex}}
\index{getFolderIndex@{getFolderIndex}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getFolderIndex()}{getFolderIndex()}}
{\footnotesize\ttfamily int TProject\+::get\+Folder\+Index (\begin{DoxyParamCaption}\item[{std\+::string}]{folder\+Name }\end{DoxyParamCaption}) const}

Returns the index of the folder named with {\bfseries{folder\+Name}}.~\newline
 If a folder named with {\bfseries{folder\+Name}} doesn\textquotesingle{}t exist, return -\/1. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00400                                               \{}
\DoxyCodeLine{00401   std::vector<std::string>::const\_iterator it;}
\DoxyCodeLine{00402   it = std::find(m\_folderNames.begin(), m\_folderNames.end(), name);}
\DoxyCodeLine{00403   \textcolor{keywordflow}{if} (it == m\_folderNames.end()) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00404   \textcolor{keywordflow}{return} std::distance(it, m\_folderNames.begin());}
\DoxyCodeLine{00405 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_ad843f3d8d4785299c49c273c14d1686c}\label{class_t_project_ad843f3d8d4785299c49c273c14d1686c}} 
\index{TProject@{TProject}!getFolderIndexFromPath@{getFolderIndexFromPath}}
\index{getFolderIndexFromPath@{getFolderIndexFromPath}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getFolderIndexFromPath()}{getFolderIndexFromPath()}}
{\footnotesize\ttfamily int TProject\+::get\+Folder\+Index\+From\+Path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{folder\+Dir }\end{DoxyParamCaption})}

Returns the index of the folder specified in the path {\bfseries{folder\+Dir}}. Returns -\/1 if {\bfseries{folder\+Dir}} isn\textquotesingle{}t a folder of the project. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00463                                                                \{}
\DoxyCodeLine{00464   \mbox{\hyperlink{class_t_file_path}{TFilePath}} scenePath          = \mbox{\hyperlink{class_t_project_ac0914d4747810b2c5fd70a3d981fd72f}{decode}}(\mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(\mbox{\hyperlink{class_t_project_afa1aca692a03ae826a4d22565c7361cb}{Scenes}}));}
\DoxyCodeLine{00465   \textcolor{keywordtype}{bool} sceneDependentScenePath = \textcolor{keyword}{false};}
\DoxyCodeLine{00466   \textcolor{keywordflow}{if} (scenePath.\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}().find(\textcolor{stringliteral}{"{}\$scene"{}}) != string::npos) \{}
\DoxyCodeLine{00467     scenePath               = scenePath.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{00468     sceneDependentScenePath = \textcolor{keyword}{true};}
\DoxyCodeLine{00469   \}}
\DoxyCodeLine{00470   \textcolor{keywordtype}{int} folderIndex;}
\DoxyCodeLine{00471   \textcolor{keywordflow}{for} (folderIndex = 0; folderIndex < \mbox{\hyperlink{class_t_project_a26ebcdd853071adf3bfb4e80aabed84f}{getFolderCount}}(); folderIndex++)}
\DoxyCodeLine{00472     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_project_af03dded99d20e6531551ca1891f3fbc0}{isConstantFolder}}(folderIndex)) \{}
\DoxyCodeLine{00473       \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = \mbox{\hyperlink{class_t_project_ac0914d4747810b2c5fd70a3d981fd72f}{decode}}(\mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(folderIndex));}
\DoxyCodeLine{00474       \textcolor{keywordflow}{if} (fp == folderDir) \textcolor{keywordflow}{return} folderIndex;}
\DoxyCodeLine{00475     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00476       \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = \mbox{\hyperlink{class_t_project_ac0914d4747810b2c5fd70a3d981fd72f}{decode}}(\mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(folderIndex));}
\DoxyCodeLine{00477       wstring a    = fp.getWideString();}
\DoxyCodeLine{00478       wstring b    = folderDir.getWideString();}
\DoxyCodeLine{00479       \textcolor{keywordtype}{int} alen     = a.length();}
\DoxyCodeLine{00480       \textcolor{keywordtype}{int} blen     = b.length();}
\DoxyCodeLine{00481       \textcolor{keywordtype}{int} i        = a.find(L\textcolor{stringliteral}{"{}\$scene"{}});}
\DoxyCodeLine{00482       assert(i != (\textcolor{keywordtype}{int})wstring::npos);}
\DoxyCodeLine{00483       \textcolor{keywordflow}{if} (i == (\textcolor{keywordtype}{int})wstring::npos) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00484       \textcolor{keywordtype}{int} j = i + 1;}
\DoxyCodeLine{00485       \textcolor{keywordflow}{while} (j < alen \&\& isalnum(a[j])) j++;}
\DoxyCodeLine{00486       \textcolor{comment}{// a.substr(i,j-\/i) == "{}\$scenexxxx"{}}}
\DoxyCodeLine{00487       \textcolor{keywordtype}{int} k = j + blen -\/ alen;}
\DoxyCodeLine{00488       \textcolor{keywordflow}{if} (!(0 <= i \&\& i < k \&\& k <= blen)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00489       assert(i < blen);}
\DoxyCodeLine{00490       \textcolor{keywordflow}{if} (i > 0 \&\& a.substr(0, i) != b.substr(0, i)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00491       \textcolor{keywordflow}{if} (k < blen \&\& (j >= alen || a.substr(j) != b.substr(k))) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00492       wstring v = b.substr(i, k -\/ i);}
\DoxyCodeLine{00493       \mbox{\hyperlink{class_t_file_path}{TFilePath}} scene(v + L\textcolor{stringliteral}{"{}.tnz"{}});}
\DoxyCodeLine{00494       \textcolor{keywordflow}{if} (sceneDependentScenePath)}
\DoxyCodeLine{00495         scene = scenePath + scene.getWideName() + scene;}
\DoxyCodeLine{00496       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00497         scene = scenePath + scene;}
\DoxyCodeLine{00498       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(scene).doesExist()) \textcolor{keywordflow}{return} folderIndex;}
\DoxyCodeLine{00499     \}}
\DoxyCodeLine{00500   \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00501 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00434}{decode()}}, \mbox{\hyperlink{l00366}{get\+Folder()}}, \mbox{\hyperlink{l00384}{get\+Folder\+Count()}}, \mbox{\hyperlink{l00636}{TFile\+Path\+::get\+Name()}}, \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}, \mbox{\hyperlink{l00377}{is\+Constant\+Folder()}}, and \mbox{\hyperlink{l00037}{Scenes}}.



Referenced by \mbox{\hyperlink{l00507}{get\+Folder\+Name\+From\+Path()}}.

\mbox{\Hypertarget{class_t_project_ab7cd33e579f84763bee6421daeb3bde5}\label{class_t_project_ab7cd33e579f84763bee6421daeb3bde5}} 
\index{TProject@{TProject}!getFolderName@{getFolderName}}
\index{getFolderName@{getFolderName}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getFolderName()}{getFolderName()}}
{\footnotesize\ttfamily string TProject\+::get\+Folder\+Name (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const}



Returns the name of the folder indexed with {\bfseries{index}}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00388                                               \{}
\DoxyCodeLine{00389   \textcolor{keywordflow}{if} (0 <= index \&\& index < (\textcolor{keywordtype}{int})m\_folderNames.size())}
\DoxyCodeLine{00390     \textcolor{keywordflow}{return} m\_folderNames[index];}
\DoxyCodeLine{00391   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00392     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00393 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01328}{Toonz\+Scene\+::code\+File\+Path()}}, \mbox{\hyperlink{l00507}{get\+Folder\+Name\+From\+Path()}}, \mbox{\hyperlink{l01457}{Toonz\+Scene\+::is\+Extern\+Path()}}, and \mbox{\hyperlink{l00524}{save()}}.

\mbox{\Hypertarget{class_t_project_a647a0a7901dcce1c132cd0a1d7d66840}\label{class_t_project_a647a0a7901dcce1c132cd0a1d7d66840}} 
\index{TProject@{TProject}!getFolderNameFromPath@{getFolderNameFromPath}}
\index{getFolderNameFromPath@{getFolderNameFromPath}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getFolderNameFromPath()}{getFolderNameFromPath()}}
{\footnotesize\ttfamily wstring TProject\+::get\+Folder\+Name\+From\+Path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{folder\+Dir }\end{DoxyParamCaption})}

Returns the folder\textquotesingle{}s name of the specified \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} {\bfseries{folder\+Dir}}.~\newline
 Returns the empty string if {\bfseries{folder\+Dir}} isn\textquotesingle{}t a folder of the project. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00507                                                                   \{}
\DoxyCodeLine{00508   \textcolor{keywordtype}{int} index = \mbox{\hyperlink{class_t_project_ad843f3d8d4785299c49c273c14d1686c}{getFolderIndexFromPath}}(folderDir);}
\DoxyCodeLine{00509   \textcolor{keywordflow}{if} (index < 0) \textcolor{keywordflow}{return} L\textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00510   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(index).isAbsolute())}
\DoxyCodeLine{00511     return ::to\_wstring(\textcolor{stringliteral}{"{}+"{}} + \mbox{\hyperlink{class_t_project_ab7cd33e579f84763bee6421daeb3bde5}{getFolderName}}(index));}
\DoxyCodeLine{00512   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00513     \textcolor{keywordflow}{return} folderDir.getWideName();}
\DoxyCodeLine{00514 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00366}{get\+Folder()}}, \mbox{\hyperlink{l00463}{get\+Folder\+Index\+From\+Path()}}, and \mbox{\hyperlink{l00388}{get\+Folder\+Name()}}.

\mbox{\Hypertarget{class_t_project_a258a4b6435978b730722a92ab104cd89}\label{class_t_project_a258a4b6435978b730722a92ab104cd89}} 
\index{TProject@{TProject}!getName@{getName}}
\index{getName@{getName}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getName()}{getName()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+::get\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the name of the project. 
\begin{DoxyCode}{0}
\DoxyCodeLine{e.g. \textcolor{stringliteral}{"{}prodA\(\backslash\)\(\backslash\)episode1"{}}}

\end{DoxyCode}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{00049 \{ \textcolor{keywordflow}{return} m\_name; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00434}{decode()}}.

\mbox{\Hypertarget{class_t_project_a593eef0243c736a73e92e459fb0ed71d}\label{class_t_project_a593eef0243c736a73e92e459fb0ed71d}} 
\index{TProject@{TProject}!getProjectFolder@{getProjectFolder}}
\index{getProjectFolder@{getProjectFolder}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getProjectFolder()}{getProjectFolder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+::get\+Project\+Folder (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the project folder path. It is an absolute path. 
\begin{DoxyCode}{0}
\DoxyCodeLine{e.g. \textcolor{stringliteral}{"{}prodA\(\backslash\)\(\backslash\)episode1"{}} -\/> \textcolor{stringliteral}{"{}...\(\backslash\)\(\backslash\)prodA\(\backslash\)\(\backslash\)episode1\(\backslash\)\(\backslash\)"{}}}

\end{DoxyCode}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{00051 \{ \textcolor{keywordflow}{return} m\_path.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}(); \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}.



Referenced by \mbox{\hyperlink{l00434}{decode()}}, \mbox{\hyperlink{l01231}{Toonz\+Scene\+::decode\+File\+Path()}}, and \mbox{\hyperlink{l00356}{get\+Scenes\+Path()}}.

\mbox{\Hypertarget{class_t_project_ab97b51d9527c7ede8dc52dc0007dc27b}\label{class_t_project_ab97b51d9527c7ede8dc52dc0007dc27b}} 
\index{TProject@{TProject}!getProjectPath@{getProjectPath}}
\index{getProjectPath@{getProjectPath}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getProjectPath()}{getProjectPath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+::get\+Project\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the path of the project. It is an absolute path. 
\begin{DoxyCode}{0}
\DoxyCodeLine{e.g. \textcolor{stringliteral}{"{}prodA\(\backslash\)\(\backslash\)episode1"{}} -\/> \textcolor{stringliteral}{"{}...\(\backslash\)\(\backslash\)prodA\(\backslash\)\(\backslash\)episode1\(\backslash\)\(\backslash\)episode1\_prj.xml"{}}}

\end{DoxyCode}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{00050 \{ \textcolor{keywordflow}{return} m\_path; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00412}{is\+Current()}}.

\mbox{\Hypertarget{class_t_project_aae72fd8f21f5376dcdab76ec75ecc7b0}\label{class_t_project_aae72fd8f21f5376dcdab76ec75ecc7b0}} 
\index{TProject@{TProject}!getSceneProperties@{getSceneProperties}}
\index{getSceneProperties@{getSceneProperties}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getSceneProperties()}{getSceneProperties()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_scene_properties}{TScene\+Properties}} \& TProject\+::get\+Scene\+Properties (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns the scene properties of the project. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_scene_properties}{TScene\+Properties}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00072 \{ \textcolor{keywordflow}{return} *m\_sprop; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01106}{TProject\+Manager\+::initialize\+Scene()}}, and \mbox{\hyperlink{l00524}{save()}}.

\mbox{\Hypertarget{class_t_project_a62c3e40e2395b6cbc4ec8ddecf1494b5}\label{class_t_project_a62c3e40e2395b6cbc4ec8ddecf1494b5}} 
\index{TProject@{TProject}!getScenesPath@{getScenesPath}}
\index{getScenesPath@{getScenesPath}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getScenesPath()}{getScenesPath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+::get\+Scenes\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the path of the Scene folder.~\newline
 The Scene folder contains all the saved scene. The returned path is an absolute path. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00356                                         \{}
\DoxyCodeLine{00357   \mbox{\hyperlink{class_t_file_path}{TFilePath}} scenes = \mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(\mbox{\hyperlink{class_t_project_afa1aca692a03ae826a4d22565c7361cb}{Scenes}});}
\DoxyCodeLine{00358   \textcolor{keywordflow}{return} makeAbsolute(\mbox{\hyperlink{class_t_project_a593eef0243c736a73e92e459fb0ed71d}{getProjectFolder}}(), scenes);}
\DoxyCodeLine{00359 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00366}{get\+Folder()}}, \mbox{\hyperlink{l00051}{get\+Project\+Folder()}}, and \mbox{\hyperlink{l00037}{Scenes}}.

\mbox{\Hypertarget{class_t_project_aa14191058e3a7338322822af72510874}\label{class_t_project_aa14191058e3a7338322822af72510874}} 
\index{TProject@{TProject}!getUseScenePath@{getUseScenePath}}
\index{getUseScenePath@{getUseScenePath}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{getUseScenePath()}{getUseScenePath()}}
{\footnotesize\ttfamily bool TProject\+::get\+Use\+Scene\+Path (\begin{DoxyParamCaption}\item[{std\+::string}]{folder\+Name }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00453                                                       \{}
\DoxyCodeLine{00454   std::map<std::string, bool>::const\_iterator it;}
\DoxyCodeLine{00455   it = m\_useScenePathFlags.find(folderName);}
\DoxyCodeLine{00456   \textcolor{keywordflow}{return} it != m\_useScenePathFlags.end() ? it-\/>second : \textcolor{keyword}{false};}
\DoxyCodeLine{00457 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_project_a8b032f797ce4424bf65c1fc75771962f}\label{class_t_project_a8b032f797ce4424bf65c1fc75771962f}} 
\index{TProject@{TProject}!isAProjectPath@{isAProjectPath}}
\index{isAProjectPath@{isAProjectPath}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{isAProjectPath()}{isAProjectPath()}}
{\footnotesize\ttfamily bool TProject\+::is\+AProject\+Path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Returns true if the specified path is a project path.~\newline
 A project path must be absolute, must be an xml file and must have the name of the parent root with either one of the version-\/dependent suffixes \char`\"{}\+\_\+prj$\ast$\char`\"{}.~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{     e.g. \textcolor{stringliteral}{"{}C:\(\backslash\)\(\backslash\)Toonz 5.2 stuff\(\backslash\)\(\backslash\)projects\(\backslash\)\(\backslash\)prodA\(\backslash\)\(\backslash\)episode1\(\backslash\)\(\backslash\)episode1\_prj.xml"{}}}
\DoxyCodeLine{is a project path.}

\end{DoxyCode}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{00710                                                  \{}
\DoxyCodeLine{00711   \textcolor{keywordflow}{if} (fp.isAbsolute() \&\& fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}() == \textcolor{stringliteral}{"{}xml"{}}) \{}
\DoxyCodeLine{00712     \textcolor{keyword}{const} std::wstring \&fpName = fp.getWideName();}
\DoxyCodeLine{00713     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < prjSuffixCount; ++i)}
\DoxyCodeLine{00714       \textcolor{keywordflow}{if} (fpName.find(prjSuffix[i]) != std::wstring::npos) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00715   \}}
\DoxyCodeLine{00716 }
\DoxyCodeLine{00717   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00718 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00225}{TFile\+Path\+::get\+Type()}}.



Referenced by \mbox{\hyperlink{l00993}{TProject\+Manager\+::get\+Current\+Project()}}, \mbox{\hyperlink{l00971}{TProject\+Manager\+::get\+Current\+Project\+Path()}}, \mbox{\hyperlink{l00888}{TProject\+Manager\+::get\+Project\+Path\+By\+Name()}}, \mbox{\hyperlink{l00644}{load()}}, \mbox{\hyperlink{l01015}{TProject\+Manager\+::load\+Scene\+Project()}}, \mbox{\hyperlink{l00862}{TProject\+Manager\+::project\+Name\+To\+Project\+Path()}}, \mbox{\hyperlink{l00524}{save()}}, and \mbox{\hyperlink{l00958}{TProject\+Manager\+::set\+Current\+Project\+Path()}}.

\mbox{\Hypertarget{class_t_project_af03dded99d20e6531551ca1891f3fbc0}\label{class_t_project_af03dded99d20e6531551ca1891f3fbc0}} 
\index{TProject@{TProject}!isConstantFolder@{isConstantFolder}}
\index{isConstantFolder@{isConstantFolder}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{isConstantFolder()}{isConstantFolder()}}
{\footnotesize\ttfamily bool TProject\+::is\+Constant\+Folder (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const}

Returns true if the folder indexed with {\bfseries{index}} isn\textquotesingle{}t scene dependent.~\newline
 A scene dependent folder is a folder containing \char`\"{}\$scene\char`\"{} in its path. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00377                                                \{}
\DoxyCodeLine{00378   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = \mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(index);}
\DoxyCodeLine{00379   \textcolor{keywordflow}{return} fp.getWideString().find(L\textcolor{stringliteral}{"{}\$scene"{}}) == wstring::npos;}
\DoxyCodeLine{00380 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00366}{get\+Folder()}}.



Referenced by \mbox{\hyperlink{l00463}{get\+Folder\+Index\+From\+Path()}}, and \mbox{\hyperlink{l00524}{save()}}.

\mbox{\Hypertarget{class_t_project_a3460e74c19ca0593d55fc0a233dd0762}\label{class_t_project_a3460e74c19ca0593d55fc0a233dd0762}} 
\index{TProject@{TProject}!isCurrent@{isCurrent}}
\index{isCurrent@{isCurrent}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{isCurrent()}{isCurrent()}}
{\footnotesize\ttfamily bool TProject\+::is\+Current (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns true if this project is the current project. Uses {\bfseries{\mbox{\hyperlink{class_t_project_manager}{TProject\+Manager}}}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_project_manager}{TProject\+Manager}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00412                                \{}
\DoxyCodeLine{00413   \mbox{\hyperlink{class_t_file_path}{TFilePath}} currentProjectPath =}
\DoxyCodeLine{00414       \mbox{\hyperlink{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}{TProjectManager::instance}}()-\/>\mbox{\hyperlink{class_t_project_manager_a79e8b9ec6435b27c64f0fd853832b102}{getCurrentProjectPath}}();}
\DoxyCodeLine{00415   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_project_ab97b51d9527c7ede8dc52dc0007dc27b}{getProjectPath}}() == currentProjectPath)}
\DoxyCodeLine{00416     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00417   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00418     \textcolor{keywordflow}{return} getLatestVersionProjectPath(currentProjectPath) ==}
\DoxyCodeLine{00419            getLatestVersionProjectPath(\mbox{\hyperlink{class_t_project_ab97b51d9527c7ede8dc52dc0007dc27b}{getProjectPath}}());}
\DoxyCodeLine{00420 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00971}{TProject\+Manager\+::get\+Current\+Project\+Path()}}, \mbox{\hyperlink{l00050}{get\+Project\+Path()}}, and \mbox{\hyperlink{l00777}{TProject\+Manager\+::instance()}}.

\mbox{\Hypertarget{class_t_project_a16c5f69fb661a7c4202d42d991ff15be}\label{class_t_project_a16c5f69fb661a7c4202d42d991ff15be}} 
\index{TProject@{TProject}!load@{load}}
\index{load@{load}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily void TProject\+::load (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{project\+Path }\end{DoxyParamCaption})}

Loads the project specified in {\bfseries{project\+Path}}.~\newline
 {\bfseries{project\+Path}} must be an absolute path. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00644                                                 \{}
\DoxyCodeLine{00645   assert(\mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{isAProjectPath}}(projectPath));}
\DoxyCodeLine{00646 }
\DoxyCodeLine{00647   \mbox{\hyperlink{class_t_file_path}{TFilePath}} latestProjectPath = getLatestVersionProjectPath(projectPath);}
\DoxyCodeLine{00648   \mbox{\hyperlink{class_t_file_path}{TFilePath}} inputProjectPath  = searchProjectPath(projectPath.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}());}
\DoxyCodeLine{00649 }
\DoxyCodeLine{00650   \mbox{\hyperlink{class_t_project_manager}{TProjectManager}} *pm = \mbox{\hyperlink{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}{TProjectManager::instance}}();}
\DoxyCodeLine{00651   m\_name              = pm-\/>\mbox{\hyperlink{class_t_project_manager_ae4e369cfaa32798f62507d476c6dd5b9}{projectPathToProjectName}}(latestProjectPath);}
\DoxyCodeLine{00652   m\_path              = latestProjectPath;}
\DoxyCodeLine{00653 }
\DoxyCodeLine{00654   m\_folderNames.clear();}
\DoxyCodeLine{00655   m\_folders.clear();}
\DoxyCodeLine{00656   m\_useScenePathFlags.clear();}
\DoxyCodeLine{00657   \textcolor{keyword}{delete} m\_sprop;}
\DoxyCodeLine{00658   m\_sprop = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_scene_properties}{TSceneProperties}}();}
\DoxyCodeLine{00659 }
\DoxyCodeLine{00660   \textcolor{comment}{// Read the project}}
\DoxyCodeLine{00661   \mbox{\hyperlink{class_t_i_stream}{TIStream}} is(inputProjectPath);}
\DoxyCodeLine{00662   \textcolor{keywordflow}{if} (!is) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00663 }
\DoxyCodeLine{00664   \textcolor{keywordtype}{string} tagName;}
\DoxyCodeLine{00665   \textcolor{keywordflow}{if} (!is.matchTag(tagName) || tagName != \textcolor{stringliteral}{"{}project"{}}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00666 }
\DoxyCodeLine{00667   \textcolor{keywordflow}{while} (is.matchTag(tagName)) \{}
\DoxyCodeLine{00668     \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}folders"{}}) \{}
\DoxyCodeLine{00669       \textcolor{keywordflow}{while} (is.matchTag(tagName)) \{}
\DoxyCodeLine{00670         \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}folder"{}}) \{}
\DoxyCodeLine{00671           \textcolor{keywordtype}{string} name = is.getTagAttribute(\textcolor{stringliteral}{"{}name"{}});}
\DoxyCodeLine{00672           \mbox{\hyperlink{class_t_file_path}{TFilePath}} path(is.getTagAttribute(\textcolor{stringliteral}{"{}path"{}}));}
\DoxyCodeLine{00673           setFolder(name, path);}
\DoxyCodeLine{00674           \textcolor{keywordtype}{string} useScenePath = is.getTagAttribute(\textcolor{stringliteral}{"{}useScenePath"{}});}
\DoxyCodeLine{00675           setUseScenePath(name, useScenePath == \textcolor{stringliteral}{"{}yes"{}});}
\DoxyCodeLine{00676         \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00677           \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}expected <folder>"{}});}
\DoxyCodeLine{00678       \}}
\DoxyCodeLine{00679       is.matchEndTag();}
\DoxyCodeLine{00680     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}version"{}}) \{}
\DoxyCodeLine{00681       \textcolor{keywordtype}{int} major, minor;}
\DoxyCodeLine{00682       is >> major >> minor;}
\DoxyCodeLine{00683       is.setVersion(VersionNumber(major, minor));}
\DoxyCodeLine{00684       is.matchEndTag();}
\DoxyCodeLine{00685     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}sceneProperties"{}}) \{}
\DoxyCodeLine{00686       \mbox{\hyperlink{class_t_scene_properties}{TSceneProperties}} sprop;}
\DoxyCodeLine{00687       \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00688         sprop.\mbox{\hyperlink{class_t_scene_properties_a2dab8c56b747756cae8f9a31d8047d1e}{loadData}}(is, \textcolor{keyword}{true});}
\DoxyCodeLine{00689       \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00690       \}}
\DoxyCodeLine{00691       \mbox{\hyperlink{class_t_project_af3e83e57d958a700b9b1df276423c00e}{setSceneProperties}}(sprop);}
\DoxyCodeLine{00692       is.matchEndTag();}
\DoxyCodeLine{00693     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}filePathProperties"{}}) \{}
\DoxyCodeLine{00694       m\_fpProp-\/>loadData(is);}
\DoxyCodeLine{00695       is.matchEndTag();}
\DoxyCodeLine{00696     \}}
\DoxyCodeLine{00697   \}}
\DoxyCodeLine{00698 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}, \mbox{\hyperlink{l01190}{TIStream\+::get\+Tag\+Attribute()}}, \mbox{\hyperlink{l00777}{TProject\+Manager\+::instance()}}, \mbox{\hyperlink{l00710}{is\+AProject\+Path()}}, \mbox{\hyperlink{l00359}{TScene\+Properties\+::load\+Data()}}, \mbox{\hyperlink{l01156}{TIStream\+::match\+End\+Tag()}}, \mbox{\hyperlink{l01178}{TIStream\+::match\+Tag()}}, \mbox{\hyperlink{l00832}{TProject\+Manager\+::project\+Path\+To\+Project\+Name()}}, \mbox{\hyperlink{l00425}{set\+Scene\+Properties()}}, and \mbox{\hyperlink{l01277}{TIStream\+::set\+Version()}}.



Referenced by \mbox{\hyperlink{l01106}{TProject\+Manager\+::initialize\+Scene()}}, and \mbox{\hyperlink{l01015}{TProject\+Manager\+::load\+Scene\+Project()}}.

\mbox{\Hypertarget{class_t_project_a5e2d83c6523dda2a88ed669299bbd9aa}\label{class_t_project_a5e2d83c6523dda2a88ed669299bbd9aa}} 
\index{TProject@{TProject}!save@{save}}
\index{save@{save}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{save()}{save()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool TProject\+::save (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Saves the project. Is equivalent to save(get\+Project\+Path()). The project is saved as a xml file.~\newline
 Uses \mbox{\hyperlink{class_t_project_manager}{TProject\+Manager}} and \mbox{\hyperlink{class_t_o_stream}{TOStream}}. \begin{DoxyNote}{Note}
Exceptions can be thrown. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_project_manager}{TProject\+Manager}} and \mbox{\hyperlink{class_t_o_stream}{TOStream}}. 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00638 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_project_a5e2d83c6523dda2a88ed669299bbd9aa}{save}}(m\_path); \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00638}{save()}}.



Referenced by \mbox{\hyperlink{l00638}{save()}}.

\mbox{\Hypertarget{class_t_project_a620a88aa773f5521435d7f53d77e920a}\label{class_t_project_a620a88aa773f5521435d7f53d77e920a}} 
\index{TProject@{TProject}!save@{save}}
\index{save@{save}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{save()}{save()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool TProject\+::save (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{project\+Path }\end{DoxyParamCaption})}

Saves the project in the specified path. The Tfile\+Path fp must be an absolute path. The project is saved as a xml file.~\newline
 Uses \mbox{\hyperlink{class_t_project_manager}{TProject\+Manager}} and \mbox{\hyperlink{class_t_o_stream}{TOStream}}. \begin{DoxyNote}{Note}
Exceptions can be thrown. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_project_manager}{TProject\+Manager}} and \mbox{\hyperlink{class_t_o_stream}{TOStream}}. 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00524                                                 \{}
\DoxyCodeLine{00525   assert(\mbox{\hyperlink{class_t_project_a8b032f797ce4424bf65c1fc75771962f}{isAProjectPath}}(projectPath));}
\DoxyCodeLine{00526 }
\DoxyCodeLine{00527   \mbox{\hyperlink{class_t_project_manager}{TProjectManager}} *pm     = \mbox{\hyperlink{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}{TProjectManager::instance}}();}
\DoxyCodeLine{00528   m\_name                  = pm-\/>\mbox{\hyperlink{class_t_project_manager_ae4e369cfaa32798f62507d476c6dd5b9}{projectPathToProjectName}}(projectPath);}
\DoxyCodeLine{00529   m\_path                  = getLatestVersionProjectPath(projectPath);}
\DoxyCodeLine{00530   \mbox{\hyperlink{class_t_file_path}{TFilePath}} projectFolder = projectPath.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{00531 }
\DoxyCodeLine{00532   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(projectFolder).doesExist()) \{}
\DoxyCodeLine{00533     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00534       TSystem::mkDir(projectFolder);}
\DoxyCodeLine{00535     \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00536       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00537     \}}
\DoxyCodeLine{00538   \}}
\DoxyCodeLine{00539 }
\DoxyCodeLine{00540   \mbox{\hyperlink{class_t_file_path}{TFilePath}} sceneFolder    = \mbox{\hyperlink{class_t_project_ac0914d4747810b2c5fd70a3d981fd72f}{decode}}(\mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(\mbox{\hyperlink{class_t_project_afa1aca692a03ae826a4d22565c7361cb}{TProject::Scenes}}));}
\DoxyCodeLine{00541   \mbox{\hyperlink{class_t_file_path}{TFilePath}} scenesDescPath = sceneFolder + \textcolor{stringliteral}{"{}scenes.xml"{}};}
\DoxyCodeLine{00542 }
\DoxyCodeLine{00543   \mbox{\hyperlink{class_t_file_status}{TFileStatus}} fs(projectPath);}
\DoxyCodeLine{00544   \textcolor{keywordflow}{if} (fs.doesExist() \&\& !fs.isWritable()) \{}
\DoxyCodeLine{00545     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_system_exception}{TSystemException}}(}
\DoxyCodeLine{00546         projectPath,}
\DoxyCodeLine{00547         \textcolor{stringliteral}{"{}Cannot save the project settings. The file is read-\/only."{}});}
\DoxyCodeLine{00548     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00549   \}}
\DoxyCodeLine{00550   \mbox{\hyperlink{class_t_file_status}{TFileStatus}} fs2(scenesDescPath);}
\DoxyCodeLine{00551   \textcolor{keywordflow}{if} (fs2.doesExist() \&\& !fs2.isWritable()) \{}
\DoxyCodeLine{00552     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_system_exception}{TSystemException}}(}
\DoxyCodeLine{00553         projectPath,}
\DoxyCodeLine{00554         \textcolor{stringliteral}{"{}Cannot save the project settings. The scenes file is read-\/only."{}});}
\DoxyCodeLine{00555     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00556   \}}
\DoxyCodeLine{00557 }
\DoxyCodeLine{00558   \mbox{\hyperlink{class_t_o_stream}{TOStream}} os(m\_path);}
\DoxyCodeLine{00559   os.openChild(\textcolor{stringliteral}{"{}project"{}});}
\DoxyCodeLine{00560   os.openChild(\textcolor{stringliteral}{"{}version"{}});}
\DoxyCodeLine{00561   os << 70 << 1;    \textcolor{comment}{// Standard version signature:}}
\DoxyCodeLine{00562   os.closeChild();  \textcolor{comment}{//   <Major Toonz version number * 10>.<Major version}}
\DoxyCodeLine{00563                     \textcolor{comment}{//   advancement>}}
\DoxyCodeLine{00564   os.openChild(\textcolor{stringliteral}{"{}folders"{}});}
\DoxyCodeLine{00565   \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{00566   \textcolor{keywordflow}{for} (i = 0; i < \mbox{\hyperlink{class_t_project_a26ebcdd853071adf3bfb4e80aabed84f}{getFolderCount}}(); i++) \{}
\DoxyCodeLine{00567     \mbox{\hyperlink{class_t_file_path}{TFilePath}} folderRelativePath = \mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(i);}
\DoxyCodeLine{00568     \textcolor{keywordflow}{if} (folderRelativePath == \mbox{\hyperlink{class_t_file_path}{TFilePath}}()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00569     std::map<std::string, string> attr;}
\DoxyCodeLine{00570     \textcolor{keywordtype}{string} folderName = \mbox{\hyperlink{class_t_project_ab7cd33e579f84763bee6421daeb3bde5}{getFolderName}}(i);}
\DoxyCodeLine{00571     attr[\textcolor{stringliteral}{"{}name"{}}]      = folderName;}
\DoxyCodeLine{00572     attr[\textcolor{stringliteral}{"{}path"{}}]      = ::to\_string(folderRelativePath);  \textcolor{comment}{// escape()}}
\DoxyCodeLine{00573     \textcolor{keywordflow}{if} (getUseScenePath(folderName)) attr[\textcolor{stringliteral}{"{}useScenePath"{}}] = \textcolor{stringliteral}{"{}yes"{}};}
\DoxyCodeLine{00574     os.openCloseChild(\textcolor{stringliteral}{"{}folder"{}}, attr);}
\DoxyCodeLine{00575   \}}
\DoxyCodeLine{00576   os.closeChild();}
\DoxyCodeLine{00577 }
\DoxyCodeLine{00578   os.openChild(\textcolor{stringliteral}{"{}sceneProperties"{}});}
\DoxyCodeLine{00579   \mbox{\hyperlink{class_t_project_aae72fd8f21f5376dcdab76ec75ecc7b0}{getSceneProperties}}().saveData(os);}
\DoxyCodeLine{00580   os.closeChild();}
\DoxyCodeLine{00581 }
\DoxyCodeLine{00582   \textcolor{keywordflow}{if} (!getFilePathProperties()-\/>isDefault()) \{}
\DoxyCodeLine{00583     os.openChild(\textcolor{stringliteral}{"{}filePathProperties"{}});}
\DoxyCodeLine{00584     getFilePathProperties()-\/>saveData(os);}
\DoxyCodeLine{00585     os.closeChild();}
\DoxyCodeLine{00586   \}}
\DoxyCodeLine{00587 }
\DoxyCodeLine{00588   os.closeChild();}
\DoxyCodeLine{00589 }
\DoxyCodeLine{00590   \textcolor{comment}{// crea (se necessario) le directory relative ai vari folder}}
\DoxyCodeLine{00591   \textcolor{keywordflow}{for} (i = 0; i < \mbox{\hyperlink{class_t_project_a26ebcdd853071adf3bfb4e80aabed84f}{getFolderCount}}(); i++)}
\DoxyCodeLine{00592     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_project_af03dded99d20e6531551ca1891f3fbc0}{isConstantFolder}}(i)) \{}
\DoxyCodeLine{00593       \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = \mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(i);}
\DoxyCodeLine{00594       \textcolor{keywordflow}{if} (fp == \mbox{\hyperlink{class_t_file_path}{TFilePath}}()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00595       fp = \mbox{\hyperlink{class_t_project_ac0914d4747810b2c5fd70a3d981fd72f}{decode}}(fp);}
\DoxyCodeLine{00596       \textcolor{comment}{// if(!fp.isAbsolute()) fp = projectFolder + fp;}}
\DoxyCodeLine{00597       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp).doesExist()) \{}
\DoxyCodeLine{00598         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00599           TSystem::mkDir(fp);}
\DoxyCodeLine{00600         \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00601         \}}
\DoxyCodeLine{00602       \}}
\DoxyCodeLine{00603     \}}
\DoxyCodeLine{00604 }
\DoxyCodeLine{00605   \textcolor{comment}{/*-\/-\/ +scenes だけでなく、全てのProject Folderにscenes.xmlを生成する -\/-\/*/}}
\DoxyCodeLine{00606   std::vector<std::string> foldernames;}
\DoxyCodeLine{00607   pm-\/>\mbox{\hyperlink{class_t_project_manager_a3ab1f7a196f7be9fd13640cfa21554b6}{getFolderNames}}(foldernames);}
\DoxyCodeLine{00608   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} f = 0; f < foldernames.size(); f++) \{}
\DoxyCodeLine{00609     \mbox{\hyperlink{class_t_file_path}{TFilePath}} folderpath = \mbox{\hyperlink{class_t_project_ac0914d4747810b2c5fd70a3d981fd72f}{decode}}(\mbox{\hyperlink{class_t_project_ac0967db66b75e4cf0afe5b1df73a03c7}{getFolder}}(foldernames.at(f)));}
\DoxyCodeLine{00610     \textcolor{keywordflow}{if} (folderpath.isEmpty() || !\mbox{\hyperlink{class_t_project_af03dded99d20e6531551ca1891f3fbc0}{isConstantFolder}}(f)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00611 }
\DoxyCodeLine{00612     \mbox{\hyperlink{class_t_file_path}{TFilePath}} xmlPath = folderpath + \textcolor{stringliteral}{"{}scenes.xml"{}};}
\DoxyCodeLine{00613     \mbox{\hyperlink{class_t_file_status}{TFileStatus}} xmlfs(xmlPath);}
\DoxyCodeLine{00614     \textcolor{keywordflow}{if} (xmlfs.doesExist() \&\& !xmlfs.isWritable()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00615 }
\DoxyCodeLine{00616     \mbox{\hyperlink{class_t_file_path}{TFilePath}} relativeProjectFolder =}
\DoxyCodeLine{00617         makeRelative(folderpath, m\_path.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}());}
\DoxyCodeLine{00618 }
\DoxyCodeLine{00619     \mbox{\hyperlink{class_t_o_stream}{TOStream}} os2(xmlPath);}
\DoxyCodeLine{00620     std::map<std::string, string> attr;}
\DoxyCodeLine{00621     attr[\textcolor{stringliteral}{"{}type"{}}] = \textcolor{stringliteral}{"{}projectFolder"{}};}
\DoxyCodeLine{00622     os2.openChild(\textcolor{stringliteral}{"{}parentProject"{}}, attr);}
\DoxyCodeLine{00623     os2 << relativeProjectFolder;}
\DoxyCodeLine{00624     os2.closeChild();}
\DoxyCodeLine{00625   \}}
\DoxyCodeLine{00626 }
\DoxyCodeLine{00627   \textcolor{comment}{// The project has been successfully saved. In case there are other}}
\DoxyCodeLine{00628   \textcolor{comment}{// project files from older Toonz project versions, those files are}}
\DoxyCodeLine{00629   \textcolor{comment}{// renamed so that older Toonz versions can no longer 'see' it.}}
\DoxyCodeLine{00630   \textcolor{keywordflow}{if} (!isFolderUnderVersionControl(projectFolder))}
\DoxyCodeLine{00631     hideOlderProjectFiles(projectFolder);}
\DoxyCodeLine{00632 }
\DoxyCodeLine{00633   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00634 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00520}{TOStream\+::close\+Child()}}, \mbox{\hyperlink{l00434}{decode()}}, \mbox{\hyperlink{l00366}{get\+Folder()}}, \mbox{\hyperlink{l00384}{get\+Folder\+Count()}}, \mbox{\hyperlink{l00388}{get\+Folder\+Name()}}, \mbox{\hyperlink{l00924}{TProject\+Manager\+::get\+Folder\+Names()}}, \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}, \mbox{\hyperlink{l00072}{get\+Scene\+Properties()}}, \mbox{\hyperlink{l00777}{TProject\+Manager\+::instance()}}, \mbox{\hyperlink{l00710}{is\+AProject\+Path()}}, \mbox{\hyperlink{l00377}{is\+Constant\+Folder()}}, \mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{TOStream\+::open\+Child()}}, \mbox{\hyperlink{l00535}{TOStream\+::open\+Close\+Child()}}, \mbox{\hyperlink{l00832}{TProject\+Manager\+::project\+Path\+To\+Project\+Name()}}, and \mbox{\hyperlink{l00037}{Scenes}}.



Referenced by \mbox{\hyperlink{l00676}{Export\+Scene\+Popup\+::create\+New\+Project()}}.

\mbox{\Hypertarget{class_t_project_af3e83e57d958a700b9b1df276423c00e}\label{class_t_project_af3e83e57d958a700b9b1df276423c00e}} 
\index{TProject@{TProject}!setSceneProperties@{setSceneProperties}}
\index{setSceneProperties@{setSceneProperties}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{setSceneProperties()}{setSceneProperties()}}
{\footnotesize\ttfamily void TProject\+::set\+Scene\+Properties (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_scene_properties}{TScene\+Properties}} \&}]{sprop }\end{DoxyParamCaption})}

Set the scene properties {\bfseries{sprop}} to the project. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_scene_properties}{TScene\+Properties}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00425                                                                \{}
\DoxyCodeLine{00426   m\_sprop-\/>\mbox{\hyperlink{class_t_scene_properties_a27e5b33b64f5f268ff0a31b81b4e3d16}{assign}}(\&sprop);}
\DoxyCodeLine{00427 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00089}{TScene\+Properties\+::assign()}}.



Referenced by \mbox{\hyperlink{l00644}{load()}}.

\mbox{\Hypertarget{class_t_project_abb3ef7e35bc8b552733a61a2984ba34e}\label{class_t_project_abb3ef7e35bc8b552733a61a2984ba34e}} 
\index{TProject@{TProject}!setUseScenePath@{setUseScenePath}}
\index{setUseScenePath@{setUseScenePath}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{setUseScenePath()}{setUseScenePath()}}
{\footnotesize\ttfamily void TProject\+::set\+Use\+Scene\+Path (\begin{DoxyParamCaption}\item[{std\+::string}]{folder\+Name,  }\item[{bool}]{on }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00447                                                          \{}
\DoxyCodeLine{00448   m\_useScenePathFlags[folderName] = on;}
\DoxyCodeLine{00449 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_t_project_a192daa44228264ac90d27f6d6491ac38}\label{class_t_project_a192daa44228264ac90d27f6d6491ac38}} 
\index{TProject@{TProject}!Drawings@{Drawings}}
\index{Drawings@{Drawings}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{Drawings}{Drawings}}
{\footnotesize\ttfamily const std\+::string TProject\+::\+Drawings = \char`\"{}drawings\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}

Default drawings folder\+: is used to save all tlv and pli levels. 

Referenced by \mbox{\hyperlink{l00924}{TProject\+Manager\+::get\+Folder\+Names()}}.

\mbox{\Hypertarget{class_t_project_a78253a5cc9abd6373bfc51b560c5fce5}\label{class_t_project_a78253a5cc9abd6373bfc51b560c5fce5}} 
\index{TProject@{TProject}!Extras@{Extras}}
\index{Extras@{Extras}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{Extras}{Extras}}
{\footnotesize\ttfamily const std\+::string TProject\+::\+Extras = \char`\"{}extras\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}

Default extras folder\+: is used to save all imported images and levels not pli or tlv. 

Referenced by \mbox{\hyperlink{l00924}{TProject\+Manager\+::get\+Folder\+Names()}}.

\mbox{\Hypertarget{class_t_project_aa7a1a54d2e59c7c712cd260e0471b34c}\label{class_t_project_aa7a1a54d2e59c7c712cd260e0471b34c}} 
\index{TProject@{TProject}!Inputs@{Inputs}}
\index{Inputs@{Inputs}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{Inputs}{Inputs}}
{\footnotesize\ttfamily const std\+::string TProject\+::\+Inputs = \char`\"{}inputs\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}

Default inputs folder\+: is used to save all scanned immage. 

Referenced by \mbox{\hyperlink{l00924}{TProject\+Manager\+::get\+Folder\+Names()}}.

\mbox{\Hypertarget{class_t_project_a24ca66c3d958d13d653b65c87f0c3b2d}\label{class_t_project_a24ca66c3d958d13d653b65c87f0c3b2d}} 
\index{TProject@{TProject}!Outputs@{Outputs}}
\index{Outputs@{Outputs}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{Outputs}{Outputs}}
{\footnotesize\ttfamily const std\+::string TProject\+::\+Outputs = \char`\"{}outputs\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}

Default outputs folder\+: is used to save all rendered scenes. 

Referenced by \mbox{\hyperlink{l00924}{TProject\+Manager\+::get\+Folder\+Names()}}.

\mbox{\Hypertarget{class_t_project_a092d328ed133774a3522d4029eedf06c}\label{class_t_project_a092d328ed133774a3522d4029eedf06c}} 
\index{TProject@{TProject}!Palettes@{Palettes}}
\index{Palettes@{Palettes}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{Palettes}{Palettes}}
{\footnotesize\ttfamily const std\+::string TProject\+::\+Palettes = \char`\"{}palettes\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}

Default palettes folder\+: is used for color design (色指定) \mbox{\Hypertarget{class_t_project_a3fc8cb5307b3a6dabc30d14fbd2dade4}\label{class_t_project_a3fc8cb5307b3a6dabc30d14fbd2dade4}} 
\index{TProject@{TProject}!SandboxProjectName@{SandboxProjectName}}
\index{SandboxProjectName@{SandboxProjectName}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{SandboxProjectName}{SandboxProjectName}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TProject\+::\+Sandbox\+Project\+Name\hspace{0.3cm}{\ttfamily [static]}}



Default project name. 



Referenced by \mbox{\hyperlink{l00971}{TProject\+Manager\+::get\+Current\+Project\+Path()}}, \mbox{\hyperlink{l00888}{TProject\+Manager\+::get\+Project\+Path\+By\+Name()}}, \mbox{\hyperlink{l01172}{TProject\+Manager\+::get\+Sandbox\+Project\+Path()}}, and \mbox{\hyperlink{l00862}{TProject\+Manager\+::project\+Name\+To\+Project\+Path()}}.

\mbox{\Hypertarget{class_t_project_afa1aca692a03ae826a4d22565c7361cb}\label{class_t_project_afa1aca692a03ae826a4d22565c7361cb}} 
\index{TProject@{TProject}!Scenes@{Scenes}}
\index{Scenes@{Scenes}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{Scenes}{Scenes}}
{\footnotesize\ttfamily const std\+::string TProject\+::\+Scenes = \char`\"{}scenes\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}

Default scenes folder\+: is used to save all scenes. 

Referenced by \mbox{\hyperlink{l01231}{Toonz\+Scene\+::decode\+File\+Path()}}, \mbox{\hyperlink{l00463}{get\+Folder\+Index\+From\+Path()}}, \mbox{\hyperlink{l00924}{TProject\+Manager\+::get\+Folder\+Names()}}, \mbox{\hyperlink{l01558}{Toonz\+Scene\+::get\+Save\+Path()}}, \mbox{\hyperlink{l00356}{get\+Scenes\+Path()}}, and \mbox{\hyperlink{l00524}{save()}}.

\mbox{\Hypertarget{class_t_project_abdf1068b5219720247d9f7cc9a568559}\label{class_t_project_abdf1068b5219720247d9f7cc9a568559}} 
\index{TProject@{TProject}!Scripts@{Scripts}}
\index{Scripts@{Scripts}!TProject@{TProject}}
\doxysubsubsection{\texorpdfstring{Scripts}{Scripts}}
{\footnotesize\ttfamily const std\+::string TProject\+::\+Scripts = \char`\"{}scripts\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}

Default scripts folder\+: is used to save all the script. 

Referenced by \mbox{\hyperlink{l00924}{TProject\+Manager\+::get\+Folder\+Names()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/tproject.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/tproject.\+cpp\end{DoxyCompactItemize}
