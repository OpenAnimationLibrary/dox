\hypertarget{struct_t_stroke_1_1_imp}{}\doxysection{TStroke\+::Imp Struct Reference}
\label{struct_t_stroke_1_1_imp}\index{TStroke::Imp@{TStroke::Imp}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_t_stroke_1_1_imp_a470eb5b7dbebe78ba09db2192e9287c8}{Imp}} (const \mbox{\hyperlink{classvector}{vector}}$<$ \mbox{\hyperlink{class_t_point_t}{TPointD}} $>$ \&v)
\item 
\mbox{\hyperlink{struct_t_stroke_1_1_imp_afc105b2738568137dc7e81290efdb325}{Imp}} (const \mbox{\hyperlink{classvector}{vector}}$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ \&v)
\item 
void \mbox{\hyperlink{struct_t_stroke_1_1_imp_a8496cef05f7a9e8a3043130b2195f30f}{init}} ()
\item 
double \mbox{\hyperlink{struct_t_stroke_1_1_imp_a8bdf71cce2b39b83d37508e3c7bc0658}{getW}} (int index)
\item 
\mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{struct_t_stroke_1_1_imp_a82e048e902c87bf694cca48955c87250}{compute\+Centerline\+BBox}} ()
\item 
void \mbox{\hyperlink{struct_t_stroke_1_1_imp_a8539545ec34cc40d34af2a9b9413573f}{compute\+Max\+Thickness}} ()
\item 
\mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{struct_t_stroke_1_1_imp_ad05c3a7f92845b924d70e44cf2423652}{compute\+Sub\+BBox}} (double w0, double w1) const
\item 
Quad\+Stroke\+Chunk\+Array \& \mbox{\hyperlink{struct_t_stroke_1_1_imp_a7b01f54bae413370c2afac7370dc0946}{get\+TQArray}} ()
\item 
void \mbox{\hyperlink{struct_t_stroke_1_1_imp_af7f34cb3a6e6590f8af70bc4b105061b}{swap\+Geometry}} (\mbox{\hyperlink{struct_t_stroke_1_1_imp}{TStroke\+::\+Imp}} \&other)  throw ()
\item 
void \mbox{\hyperlink{struct_t_stroke_1_1_imp_a7c71fd5b2202ede1b79e215c629c6166}{compute\+Cache\+Vector}} ()
\begin{DoxyCompactList}\small\item\em compute cache vector \end{DoxyCompactList}\item 
void \mbox{\hyperlink{struct_t_stroke_1_1_imp_a9bbc983dbede238ffcf97291936ef085}{compute\+Parameter\+In\+Control\+Point}} ()
\item 
void \mbox{\hyperlink{struct_t_stroke_1_1_imp_a9f19f36a35a67846d128991f44b731b7}{update\+Parameter\+Value}} (double w, UINT chunk, \mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}} $\ast$tq1, \mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}} $\ast$tq2)
\item 
bool \mbox{\hyperlink{struct_t_stroke_1_1_imp_a8d627f30b9adc61e6e3a9f764401d6f6}{retrieve\+Chunk\+And\+Its\+Paramameter}} (double w, int \&chunk, double \&t)
\item 
bool \mbox{\hyperlink{struct_t_stroke_1_1_imp_a470df21eb601c223fe0c8df3bc2a21fd}{retrieve\+Chunk\+And\+Its\+Paramameter\+At\+Length}} (double s, int \&chunk, double \&t)
\item 
int \mbox{\hyperlink{struct_t_stroke_1_1_imp_a1dfba680509f8d10a5900f5cfef3c24f}{retrieve\+Chunk\+From\+Control\+Point\+Index}} (int n)
\item 
Double\+Pair \mbox{\hyperlink{struct_t_stroke_1_1_imp_a17eb9c05e3299cbbeeac3a0aff256048}{retrieve\+Parameters\+From\+Chunk}} (UINT chunk)
\item 
void \mbox{\hyperlink{struct_t_stroke_1_1_imp_a2783b2386fae353eee27128830de57fb}{print}} (ostream \&os)
\item 
int \mbox{\hyperlink{struct_t_stroke_1_1_imp_a0beb58c67e67a5cb2a3c689690a0c480}{get\+Chunk\+Count}} () const
\item 
int \mbox{\hyperlink{struct_t_stroke_1_1_imp_acdb9b61be44b4532ba7ae473aa03555c}{get\+Control\+Point\+Count}} () const
\item 
\mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}} $\ast$ \mbox{\hyperlink{struct_t_stroke_1_1_imp_ae8807faff728307c634a332cf15b67c3}{get\+Chunk}} (int index)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
BYTE \mbox{\hyperlink{struct_t_stroke_1_1_imp_a498266a0e618af1e1fd1897dae6e9e38}{m\+\_\+flag}}
\item 
bool \mbox{\hyperlink{struct_t_stroke_1_1_imp_afdf8d6be8d459916380e40028ee500f4}{m\+\_\+is\+Valid\+Length}}
\item 
bool \mbox{\hyperlink{struct_t_stroke_1_1_imp_aa7c68b7794cef67ab2b1d1f8ab3a36f8}{m\+\_\+is\+Outline\+Valid}}
\item 
bool \mbox{\hyperlink{struct_t_stroke_1_1_imp_a0b32e14a71dd431116edb21b71ce57ec}{m\+\_\+are\+Disabled\+Compute\+Of\+Caches}}
\begin{DoxyCompactList}\small\item\em Control calculus of cache vector. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{struct_t_stroke_1_1_imp_a7dfca54aaa16e315a8bf181b399e9178}{m\+\_\+b\+Box}}
\begin{DoxyCompactList}\small\item\em Bounding Box of a stroke. \end{DoxyCompactList}\item 
Double\+Array \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\+\_\+partial\+Length\+Array}}
\begin{DoxyCompactList}\small\item\em This vector contains length computed for each control point of stroke. \end{DoxyCompactList}\item 
Double\+Array \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\+\_\+parameter\+Value\+At\+Control\+Point}}
\begin{DoxyCompactList}\small\item\em This vector contains parameter computed for each control point of stroke. \end{DoxyCompactList}\item 
Quad\+Stroke\+Chunk\+Array \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\+\_\+center\+Line\+Array}}
\begin{DoxyCompactList}\small\item\em This vector contains outline of stroke. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{struct_t_stroke_1_1_imp_a424d7f72e8b7a772af47722d3d477b25}{m\+\_\+self\+Loop}}
\item 
int \mbox{\hyperlink{struct_t_stroke_1_1_imp_a48889617171280a2cb62ce187ea3a87e}{m\+\_\+negative\+Thickness\+Points}}
\item 
double \mbox{\hyperlink{struct_t_stroke_1_1_imp_a379ce656717d5fa83edd2687bf94cb62}{m\+\_\+average\+Thickness}}
\item 
double \mbox{\hyperlink{struct_t_stroke_1_1_imp_a0d4961e987b373631ed5ca63702367f2}{m\+\_\+max\+Thickness}}
\item 
int \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac0cf69fa44ecf0e59954d6d43805937f}{m\+\_\+id}}
\item 
int \mbox{\hyperlink{struct_t_stroke_1_1_imp_ab89f08d0fd55f730dade538e89a15e88}{m\+\_\+style\+Id}}
\item 
\mbox{\hyperlink{class_t_stroke_prop}{TStroke\+Prop}} $\ast$ \mbox{\hyperlink{struct_t_stroke_1_1_imp_af62622887dc86a2a8eff71768283fdae}{m\+\_\+prop}}
\item 
TStroke\+::\+Outline\+Options \mbox{\hyperlink{struct_t_stroke_1_1_imp_a9e8ea7af4766342fb1ea8818b7da275a}{m\+\_\+outline\+Options}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_ab05305237c56c2ad19ae8be7dfbc1de0}\label{struct_t_stroke_1_1_imp_ab05305237c56c2ad19ae8be7dfbc1de0}} 
\index{TStroke::Imp@{TStroke::Imp}!Imp@{Imp}}
\index{Imp@{Imp}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{Imp()}{Imp()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily TStroke\+::\+Imp\+::\+Imp (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00765 \{ \mbox{\hyperlink{struct_t_stroke_1_1_imp_a8496cef05f7a9e8a3043130b2195f30f}{init}}(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a470eb5b7dbebe78ba09db2192e9287c8}\label{struct_t_stroke_1_1_imp_a470eb5b7dbebe78ba09db2192e9287c8}} 
\index{TStroke::Imp@{TStroke::Imp}!Imp@{Imp}}
\index{Imp@{Imp}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{Imp()}{Imp()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily TStroke\+::\+Imp\+::\+Imp (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classvector}{vector}}$<$ \mbox{\hyperlink{class_t_point_t}{TPointD}} $>$ \&}]{v }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00778                                            \{}
\DoxyCodeLine{00779   buildChunksFromControlPoints(\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}, v);}
\DoxyCodeLine{00780   roundNegativeThickess(\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}});}
\DoxyCodeLine{00781 }
\DoxyCodeLine{00782   \mbox{\hyperlink{struct_t_stroke_1_1_imp_a8496cef05f7a9e8a3043130b2195f30f}{init}}();}
\DoxyCodeLine{00783 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_afc105b2738568137dc7e81290efdb325}\label{struct_t_stroke_1_1_imp_afc105b2738568137dc7e81290efdb325}} 
\index{TStroke::Imp@{TStroke::Imp}!Imp@{Imp}}
\index{Imp@{Imp}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{Imp()}{Imp()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily TStroke\+::\+Imp\+::\+Imp (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classvector}{vector}}$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ \&}]{v }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00769                                                \{}
\DoxyCodeLine{00770   buildChunksFromControlPoints(\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}, v);}
\DoxyCodeLine{00771   roundNegativeThickess(\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}});}
\DoxyCodeLine{00772 }
\DoxyCodeLine{00773   \mbox{\hyperlink{struct_t_stroke_1_1_imp_a8496cef05f7a9e8a3043130b2195f30f}{init}}();}
\DoxyCodeLine{00774 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a4629ed469940250eb9e9f81c06d89c08}\label{struct_t_stroke_1_1_imp_a4629ed469940250eb9e9f81c06d89c08}} 
\index{TStroke::Imp@{TStroke::Imp}!````~Imp@{$\sim$Imp}}
\index{````~Imp@{$\sim$Imp}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{$\sim$Imp()}{~Imp()}}
{\footnotesize\ttfamily TStroke\+::\+Imp\+::$\sim$\+Imp (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00603          \{}
\DoxyCodeLine{00604     \textcolor{keyword}{delete} m\_prop;}
\DoxyCodeLine{00605     clearPointerContainer(\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}});}
\DoxyCodeLine{00606     \textcolor{comment}{// delete m\_style;}}
\DoxyCodeLine{00607   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a7c71fd5b2202ede1b79e215c629c6166}\label{struct_t_stroke_1_1_imp_a7c71fd5b2202ede1b79e215c629c6166}} 
\index{TStroke::Imp@{TStroke::Imp}!computeCacheVector@{computeCacheVector}}
\index{computeCacheVector@{computeCacheVector}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{computeCacheVector()}{computeCacheVector()}}
{\footnotesize\ttfamily void TStroke\+::\+Imp\+::compute\+Cache\+Vector (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



compute cache vector 


\begin{DoxyCode}{0}
\DoxyCodeLine{00813                                     \{}
\DoxyCodeLine{00814   \textcolor{comment}{// se la stroke e' stata invalidata a causa dell'inserimento di punti}}
\DoxyCodeLine{00815   \textcolor{comment}{//  di controllo o dal ricampionamento}}
\DoxyCodeLine{00816   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{struct_t_stroke_1_1_imp_a0b32e14a71dd431116edb21b71ce57ec}{m\_areDisabledComputeOfCaches}} \&\& !\mbox{\hyperlink{struct_t_stroke_1_1_imp_afdf8d6be8d459916380e40028ee500f4}{m\_isValidLength}}) \{}
\DoxyCodeLine{00817     \textcolor{keywordflow}{if} (getChunkCount() > 0)  \textcolor{comment}{// se ci sono cionchi}}
\DoxyCodeLine{00818     \{}
\DoxyCodeLine{00819       \textcolor{comment}{// (re)inizializzo un vettore}}
\DoxyCodeLine{00820       \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}.resize(getControlPointCount(),}
\DoxyCodeLine{00821                                   (std::numeric\_limits<double>::max)());}
\DoxyCodeLine{00822 }
\DoxyCodeLine{00823       \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}[0] = 0.0;}
\DoxyCodeLine{00824 }
\DoxyCodeLine{00825       \textcolor{keywordtype}{double} length = 0.0;}
\DoxyCodeLine{00826       \textcolor{keywordtype}{int} j         = 0;}
\DoxyCodeLine{00827       \textcolor{keyword}{const} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *tq;}
\DoxyCodeLine{00828 }
\DoxyCodeLine{00829       \mbox{\hyperlink{class_t_quadratic_length_evaluator}{TQuadraticLengthEvaluator}} lengthEvaluator;}
\DoxyCodeLine{00830 }
\DoxyCodeLine{00831       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < getChunkCount(); ++i) \{}
\DoxyCodeLine{00832         assert(j <= getControlPointCount());}
\DoxyCodeLine{00833         tq = getChunk(i);}
\DoxyCodeLine{00834         lengthEvaluator.setQuad(*tq);}
\DoxyCodeLine{00835         \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}[j++] = length;}
\DoxyCodeLine{00836         \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}[j++] = length + lengthEvaluator.getLengthAt(0.5);}
\DoxyCodeLine{00837         length += lengthEvaluator.getLengthAt(1.0);}
\DoxyCodeLine{00838       \}}
\DoxyCodeLine{00839 }
\DoxyCodeLine{00840       \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}[j++] = length;}
\DoxyCodeLine{00841       assert(j == getControlPointCount());}
\DoxyCodeLine{00842       \textcolor{comment}{// assert( m\_parameterValueAtControlPoint.size() ==}}
\DoxyCodeLine{00843       \textcolor{comment}{// m\_partialLengthArray.size() );}}
\DoxyCodeLine{00844     \}}
\DoxyCodeLine{00845     \mbox{\hyperlink{struct_t_stroke_1_1_imp_afdf8d6be8d459916380e40028ee500f4}{m\_isValidLength}} = \textcolor{keyword}{true};}
\DoxyCodeLine{00846   \}}
\DoxyCodeLine{00847 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{TStroke\+::get\+Chunk()}}, \mbox{\hyperlink{l01845}{TStroke\+::get\+Chunk\+Count()}}, and \mbox{\hyperlink{l01849}{TStroke\+::get\+Control\+Point\+Count()}}.

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a82e048e902c87bf694cca48955c87250}\label{struct_t_stroke_1_1_imp_a82e048e902c87bf694cca48955c87250}} 
\index{TStroke::Imp@{TStroke::Imp}!computeCenterlineBBox@{computeCenterlineBBox}}
\index{computeCenterlineBBox@{computeCenterlineBBox}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{computeCenterlineBBox()}{computeCenterlineBBox()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRectD}} TStroke\+::\+Imp\+::compute\+Centerline\+BBox (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01048                                          \{}
\DoxyCodeLine{01049   UINT n = \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}.size();}
\DoxyCodeLine{01050   \textcolor{keywordflow}{if} (\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}.empty()) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{01051   \mbox{\hyperlink{class_t_quadratic}{TQuadratic}} q(\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[0]-\/>getP0(), \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[0]-\/>getP1(),}
\DoxyCodeLine{01052                \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[0]-\/>getP2());}
\DoxyCodeLine{01053   \mbox{\hyperlink{class_t_rect_t}{TRectD}} bbox = q.getBBox();}
\DoxyCodeLine{01054   \textcolor{keywordflow}{for} (UINT i = 1; i < n; i++) \{}
\DoxyCodeLine{01055     q = \mbox{\hyperlink{class_t_quadratic}{TQuadratic}}(\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i]-\/>getP0(), \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i]-\/>getP1(),}
\DoxyCodeLine{01056                    \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i]-\/>getP2());}
\DoxyCodeLine{01057     bbox += q.getBBox();}
\DoxyCodeLine{01058   \}}
\DoxyCodeLine{01059   \textcolor{keywordflow}{return} bbox;}
\DoxyCodeLine{01060 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a8539545ec34cc40d34af2a9b9413573f}\label{struct_t_stroke_1_1_imp_a8539545ec34cc40d34af2a9b9413573f}} 
\index{TStroke::Imp@{TStroke::Imp}!computeMaxThickness@{computeMaxThickness}}
\index{computeMaxThickness@{computeMaxThickness}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{computeMaxThickness()}{computeMaxThickness()}}
{\footnotesize\ttfamily void TStroke\+::\+Imp\+::compute\+Max\+Thickness (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

It computes the bounding box of the sub\+Stroke in the parameter range w0-\/w1. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00805                                      \{}
\DoxyCodeLine{00806   m\_maxThickness = \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[0]-\/>getThickP0().thick;}
\DoxyCodeLine{00807   \textcolor{keywordflow}{for} (UINT i = 0; i < \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}.size(); i++)}
\DoxyCodeLine{00808     m\_maxThickness =}
\DoxyCodeLine{00809         std::max(\{m\_maxThickness, \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i]-\/>getThickP1().thick,}
\DoxyCodeLine{00810                   \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i]-\/>getThickP2().thick\});}
\DoxyCodeLine{00811 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a9bbc983dbede238ffcf97291936ef085}\label{struct_t_stroke_1_1_imp_a9bbc983dbede238ffcf97291936ef085}} 
\index{TStroke::Imp@{TStroke::Imp}!computeParameterInControlPoint@{computeParameterInControlPoint}}
\index{computeParameterInControlPoint@{computeParameterInControlPoint}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{computeParameterInControlPoint()}{computeParameterInControlPoint()}}
{\footnotesize\ttfamily void TStroke\+::\+Imp\+::compute\+Parameter\+In\+Control\+Point (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Set value in m\+\_\+parameter\+Value\+At\+Control\+Point 
\begin{DoxyCode}{0}
\DoxyCodeLine{00851                                                 \{}
\DoxyCodeLine{00852   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{struct_t_stroke_1_1_imp_a0b32e14a71dd431116edb21b71ce57ec}{m\_areDisabledComputeOfCaches}}) \{}
\DoxyCodeLine{00853     \textcolor{comment}{// questa funzione ricalcola i valori dei parametri nei cionchi}}
\DoxyCodeLine{00854     \textcolor{comment}{//  N.B. deve essere richiamata quando si effettuano inserimenti}}
\DoxyCodeLine{00855     \textcolor{comment}{//    di punti di controllo che cambiano la lunghezza della curva}}
\DoxyCodeLine{00856     \textcolor{comment}{//  insert, push e costruttore}}
\DoxyCodeLine{00857     \textcolor{keywordflow}{if} (!getChunkCount()) \{}
\DoxyCodeLine{00858       \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.clear();}
\DoxyCodeLine{00859       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00860     \}}
\DoxyCodeLine{00861 }
\DoxyCodeLine{00862     \textcolor{keywordtype}{int} controlPointCount = getControlPointCount();}
\DoxyCodeLine{00863 }
\DoxyCodeLine{00864     \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.resize(controlPointCount, 0);}
\DoxyCodeLine{00865 }
\DoxyCodeLine{00866     \textcolor{comment}{// N.B. number of control point is reduced of 1}}
\DoxyCodeLine{00867     -\/-\/controlPointCount;}
\DoxyCodeLine{00868 }
\DoxyCodeLine{00869     \textcolor{keywordtype}{double} val = 0.0;}
\DoxyCodeLine{00870 }
\DoxyCodeLine{00871     assert(controlPointCount >= 0.0);}
\DoxyCodeLine{00872 }
\DoxyCodeLine{00873     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i <= controlPointCount; ++i) \{}
\DoxyCodeLine{00874       val                               = i / (double)controlPointCount;}
\DoxyCodeLine{00875       \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}[i] = val;}
\DoxyCodeLine{00876     \}}
\DoxyCodeLine{00877   \}}
\DoxyCodeLine{00878 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01845}{TStroke\+::get\+Chunk\+Count()}}, and \mbox{\hyperlink{l01849}{TStroke\+::get\+Control\+Point\+Count()}}.



Referenced by \mbox{\hyperlink{l00736}{init()}}.

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_ad05c3a7f92845b924d70e44cf2423652}\label{struct_t_stroke_1_1_imp_ad05c3a7f92845b924d70e44cf2423652}} 
\index{TStroke::Imp@{TStroke::Imp}!computeSubBBox@{computeSubBBox}}
\index{computeSubBBox@{computeSubBBox}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{computeSubBBox()}{computeSubBBox()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRectD}} TStroke\+::\+Imp\+::compute\+Sub\+BBox (\begin{DoxyParamCaption}\item[{double}]{w0,  }\item[{double}]{w1 }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01064                                                             \{}
\DoxyCodeLine{01065   \textcolor{keywordflow}{if} (\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}.empty()) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{01066 }
\DoxyCodeLine{01067   \textcolor{keywordtype}{int} n = \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}.size();}
\DoxyCodeLine{01068 }
\DoxyCodeLine{01069   \mbox{\hyperlink{class_t_rect_t}{TRectD}} bBox;}
\DoxyCodeLine{01070   \textcolor{keyword}{const} \textcolor{keywordtype}{double} eps = 0.000000001;}
\DoxyCodeLine{01071   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01072 }
\DoxyCodeLine{01073   \textcolor{keywordflow}{if} (w0 > w1) std::swap(w0, w1);}
\DoxyCodeLine{01074 }
\DoxyCodeLine{01075   \textcolor{keywordtype}{double} nw0 = w0 * n;}
\DoxyCodeLine{01076   \textcolor{keywordtype}{double} nw1 = w1 * n;}
\DoxyCodeLine{01077 }
\DoxyCodeLine{01078   \textcolor{keywordtype}{int} i0 = (int)nw0;  \textcolor{comment}{// indice della quadrica che contiene w0}}
\DoxyCodeLine{01079   \textcolor{keywordtype}{int} i1 = (int)nw1;  \textcolor{comment}{// idem per w1}}
\DoxyCodeLine{01080 }
\DoxyCodeLine{01081   \textcolor{keywordtype}{double} t0 =}
\DoxyCodeLine{01082       nw0 -\/}
\DoxyCodeLine{01083       (double)i0;  \textcolor{comment}{// parametro di w0 rispetto alla quadrica che lo contiene}}
\DoxyCodeLine{01084   \textcolor{keywordtype}{double} t1 = nw1 -\/ (double)i1;  \textcolor{comment}{// idem per w1}}
\DoxyCodeLine{01085 }
\DoxyCodeLine{01086   \textcolor{keywordflow}{if} (t0 < eps)  \textcolor{comment}{// se t0 e' quasi uguale a zero, evito di fare lo split e}}
\DoxyCodeLine{01087                  \textcolor{comment}{// considero tutta la quadrica i0}}
\DoxyCodeLine{01088   \{}
\DoxyCodeLine{01089     i0-\/-\/;}
\DoxyCodeLine{01090     t0 = 1.0;}
\DoxyCodeLine{01091   \}}
\DoxyCodeLine{01092   \textcolor{keywordflow}{if} (t1 > (1 -\/ eps))  \textcolor{comment}{// se t1 e' quasi uguale a uno, evito di fare lo split e}}
\DoxyCodeLine{01093                        \textcolor{comment}{// considero tutta la quadrica i1}}
\DoxyCodeLine{01094   \{}
\DoxyCodeLine{01095     i1++;}
\DoxyCodeLine{01096     t1 = 0.0;}
\DoxyCodeLine{01097   \}}
\DoxyCodeLine{01098 }
\DoxyCodeLine{01099   \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} quadratic1, quadratic2, quadratic3;}
\DoxyCodeLine{01100 }
\DoxyCodeLine{01101   \textcolor{keywordflow}{if} (i0 == i1)  \textcolor{comment}{// i due punti di taglio capitano nella stessa quadratica}}
\DoxyCodeLine{01102   \{}
\DoxyCodeLine{01103     \textcolor{keywordflow}{if} (t0 < eps \&\& t1 > (1 -\/ eps)) \textcolor{keywordflow}{return} \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i0]-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}();}
\DoxyCodeLine{01104 }
\DoxyCodeLine{01105     \textcolor{keywordflow}{if} (t0 < eps) \{}
\DoxyCodeLine{01106       \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i0]-\/>split(t1, quadratic1, quadratic2);}
\DoxyCodeLine{01107       \textcolor{keywordflow}{return} quadratic1.getBBox();}
\DoxyCodeLine{01108     \}}
\DoxyCodeLine{01109 }
\DoxyCodeLine{01110     \textcolor{keywordflow}{if} (t1 > (1 -\/ eps)) \{}
\DoxyCodeLine{01111       \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i0]-\/>split(t0, quadratic1, quadratic2);}
\DoxyCodeLine{01112       \textcolor{keywordflow}{return} quadratic2.getBBox();}
\DoxyCodeLine{01113     \}}
\DoxyCodeLine{01114 }
\DoxyCodeLine{01115     \textcolor{comment}{// quadratic1 e' la quadratica risultante dallo split tra t0 e t1 di}}
\DoxyCodeLine{01116     \textcolor{comment}{// m\_centerLineArray[i0]}}
\DoxyCodeLine{01117     \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i0]-\/>split(t0, quadratic1, quadratic2);}
\DoxyCodeLine{01118     quadratic2.split((t1 -\/ t0) / (1 -\/ t0), quadratic1, quadratic3);}
\DoxyCodeLine{01119 }
\DoxyCodeLine{01120     \textcolor{keywordflow}{return} quadratic1.getBBox();}
\DoxyCodeLine{01121   \}}
\DoxyCodeLine{01122 }
\DoxyCodeLine{01123   \textcolor{comment}{// se i due punti di taglio capitano in quadratiche diverse}}
\DoxyCodeLine{01124 }
\DoxyCodeLine{01125   \textcolor{comment}{// sommo le bbox di quelle interne}}
\DoxyCodeLine{01126   \textcolor{keywordflow}{for} (i = i0 + 1; i < i1; i++) bBox += \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i]-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}();}
\DoxyCodeLine{01127 }
\DoxyCodeLine{01128   \textcolor{comment}{// e sommo le bbox delle quadratiche splittate agli estremi se non sono}}
\DoxyCodeLine{01129   \textcolor{comment}{// irrilevanti}}
\DoxyCodeLine{01130   \textcolor{keywordflow}{if} (i0 >= 0 \&\& t0 < (1 -\/ eps)) \{}
\DoxyCodeLine{01131     \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i0]-\/>split(t0, quadratic1, quadratic2);}
\DoxyCodeLine{01132     bBox += quadratic2.getBBox();}
\DoxyCodeLine{01133   \}}
\DoxyCodeLine{01134 }
\DoxyCodeLine{01135   \textcolor{keywordflow}{if} (i1 < n \&\& t1 > eps) \{}
\DoxyCodeLine{01136     \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[i1]-\/>split(t1, quadratic1, quadratic2);}
\DoxyCodeLine{01137     bBox += quadratic1.getBBox();}
\DoxyCodeLine{01138   \}}
\DoxyCodeLine{01139 }
\DoxyCodeLine{01140   \textcolor{keywordflow}{return} bBox;}
\DoxyCodeLine{01141 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_ae8807faff728307c634a332cf15b67c3}\label{struct_t_stroke_1_1_imp_ae8807faff728307c634a332cf15b67c3}} 
\index{TStroke::Imp@{TStroke::Imp}!getChunk@{getChunk}}
\index{getChunk@{getChunk}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{getChunk()}{getChunk()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}} $\ast$ TStroke\+::\+Imp\+::get\+Chunk (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00714                                        \{}
\DoxyCodeLine{00715     \textcolor{keywordflow}{if} (0 <= index \&\& index < getChunkCount()) \textcolor{keywordflow}{return} \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[index];}
\DoxyCodeLine{00716 }
\DoxyCodeLine{00717     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00718   \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a0beb58c67e67a5cb2a3c689690a0c480}\label{struct_t_stroke_1_1_imp_a0beb58c67e67a5cb2a3c689690a0c480}} 
\index{TStroke::Imp@{TStroke::Imp}!getChunkCount@{getChunkCount}}
\index{getChunkCount@{getChunkCount}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{getChunkCount()}{getChunkCount()}}
{\footnotesize\ttfamily int TStroke\+::\+Imp\+::get\+Chunk\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00703 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}.size(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_acdb9b61be44b4532ba7ae473aa03555c}\label{struct_t_stroke_1_1_imp_acdb9b61be44b4532ba7ae473aa03555c}} 
\index{TStroke::Imp@{TStroke::Imp}!getControlPointCount@{getControlPointCount}}
\index{getControlPointCount@{getControlPointCount}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{getControlPointCount()}{getControlPointCount()}}
{\footnotesize\ttfamily int TStroke\+::\+Imp\+::get\+Control\+Point\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00707                                           \{}
\DoxyCodeLine{00708     UINT out = 2 * getChunkCount() + 1;}
\DoxyCodeLine{00709     \textcolor{keywordflow}{return} out;}
\DoxyCodeLine{00710   \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a7b01f54bae413370c2afac7370dc0946}\label{struct_t_stroke_1_1_imp_a7b01f54bae413370c2afac7370dc0946}} 
\index{TStroke::Imp@{TStroke::Imp}!getTQArray@{getTQArray}}
\index{getTQArray@{getTQArray}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{getTQArray()}{getTQArray()}}
{\footnotesize\ttfamily Quad\+Stroke\+Chunk\+Array \& TStroke\+::\+Imp\+::get\+TQArray (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00628 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a8bdf71cce2b39b83d37508e3c7bc0658}\label{struct_t_stroke_1_1_imp_a8bdf71cce2b39b83d37508e3c7bc0658}} 
\index{TStroke::Imp@{TStroke::Imp}!getW@{getW}}
\index{getW@{getW}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{getW()}{getW()}}
{\footnotesize\ttfamily double TStroke\+::\+Imp\+::getW (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00613                                 \{}
\DoxyCodeLine{00614     \textcolor{keywordflow}{return} ((\textcolor{keywordtype}{int})\mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.size() > index)}
\DoxyCodeLine{00615                ? \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}[index]}
\DoxyCodeLine{00616                : \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.back();}
\DoxyCodeLine{00617   \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a8496cef05f7a9e8a3043130b2195f30f}\label{struct_t_stroke_1_1_imp_a8496cef05f7a9e8a3043130b2195f30f}} 
\index{TStroke::Imp@{TStroke::Imp}!init@{init}}
\index{init@{init}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily void TStroke\+::\+Imp\+::init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\hyperlink{struct_t_stroke_1_1_imp_a8496cef05f7a9e8a3043130b2195f30f}{init()}} is required to initialize all variable Call init after centerline initialization, because it\textquotesingle{}s necessary to compute BBox 
\begin{DoxyCode}{0}
\DoxyCodeLine{00736                       \{}
\DoxyCodeLine{00737   m\_flag = c\_dirty\_flag;}
\DoxyCodeLine{00738 }
\DoxyCodeLine{00739   m\_styleId = 1;  \textcolor{comment}{// DefaultStrokeStyle;}}
\DoxyCodeLine{00740   m\_prop    = 0;}
\DoxyCodeLine{00741 }
\DoxyCodeLine{00742   m\_id                         = ++maxStrokeId;}
\DoxyCodeLine{00743   \mbox{\hyperlink{struct_t_stroke_1_1_imp_afdf8d6be8d459916380e40028ee500f4}{m\_isValidLength}}              = \textcolor{keyword}{false};}
\DoxyCodeLine{00744   \mbox{\hyperlink{struct_t_stroke_1_1_imp_aa7c68b7794cef67ab2b1d1f8ab3a36f8}{m\_isOutlineValid}}             = \textcolor{keyword}{false};}
\DoxyCodeLine{00745   \mbox{\hyperlink{struct_t_stroke_1_1_imp_a0b32e14a71dd431116edb21b71ce57ec}{m\_areDisabledComputeOfCaches}} = \textcolor{keyword}{false};}
\DoxyCodeLine{00746   m\_selfLoop                   = \textcolor{keyword}{false};}
\DoxyCodeLine{00747   m\_averageThickness           = 0;}
\DoxyCodeLine{00748   m\_maxThickness               = -\/1;}
\DoxyCodeLine{00749   m\_negativeThicknessPoints    = 0;}
\DoxyCodeLine{00750   \textcolor{keywordflow}{for} (UINT j = 0; j < \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}.size(); j++) \{}
\DoxyCodeLine{00751     \textcolor{keywordflow}{if} (\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[j]-\/>getThickP0().thick <= 0)}
\DoxyCodeLine{00752       m\_negativeThicknessPoints++;}
\DoxyCodeLine{00753     \textcolor{keywordflow}{if} (\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}[j]-\/>getThickP1().thick <= 0)}
\DoxyCodeLine{00754       m\_negativeThicknessPoints++;}
\DoxyCodeLine{00755   \}}
\DoxyCodeLine{00756   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}.empty() \&\&}
\DoxyCodeLine{00757       \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}.back()-\/>getThickP2().thick <= 0)}
\DoxyCodeLine{00758     m\_negativeThicknessPoints++;}
\DoxyCodeLine{00759 }
\DoxyCodeLine{00760   \mbox{\hyperlink{struct_t_stroke_1_1_imp_a9bbc983dbede238ffcf97291936ef085}{computeParameterInControlPoint}}();}
\DoxyCodeLine{00761 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00851}{compute\+Parameter\+In\+Control\+Point()}}, \mbox{\hyperlink{l00564}{m\+\_\+are\+Disabled\+Compute\+Of\+Caches}}, \mbox{\hyperlink{l00576}{m\+\_\+center\+Line\+Array}}, \mbox{\hyperlink{l00561}{m\+\_\+is\+Outline\+Valid}}, and \mbox{\hyperlink{l00557}{m\+\_\+is\+Valid\+Length}}.

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a2783b2386fae353eee27128830de57fb}\label{struct_t_stroke_1_1_imp_a2783b2386fae353eee27128830de57fb}} 
\index{TStroke::Imp@{TStroke::Imp}!print@{print}}
\index{print@{print}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{print()}{print()}}
{\footnotesize\ttfamily void TStroke\+::\+Imp\+::print (\begin{DoxyParamCaption}\item[{ostream \&}]{os }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01145                                   \{}
\DoxyCodeLine{01146 \textcolor{preprocessor}{\#if defined(\_DEBUG) || defined(DEBUG)}}
\DoxyCodeLine{01147 }
\DoxyCodeLine{01148   os << \textcolor{stringliteral}{"{}m\_isValidLength:"{}} << \mbox{\hyperlink{struct_t_stroke_1_1_imp_afdf8d6be8d459916380e40028ee500f4}{m\_isValidLength}} << endl;}
\DoxyCodeLine{01149 }
\DoxyCodeLine{01150   os << \textcolor{stringliteral}{"{}m\_isOutlineValid:"{}} << \mbox{\hyperlink{struct_t_stroke_1_1_imp_aa7c68b7794cef67ab2b1d1f8ab3a36f8}{m\_isOutlineValid}} << endl;}
\DoxyCodeLine{01151 }
\DoxyCodeLine{01152   os << \textcolor{stringliteral}{"{}m\_areDisabledComputeOfCaches:"{}} << \mbox{\hyperlink{struct_t_stroke_1_1_imp_a0b32e14a71dd431116edb21b71ce57ec}{m\_areDisabledComputeOfCaches}} << endl;}
\DoxyCodeLine{01153 }
\DoxyCodeLine{01154   os << \textcolor{stringliteral}{"{}m\_bBox:"{}} << \mbox{\hyperlink{struct_t_stroke_1_1_imp_a7dfca54aaa16e315a8bf181b399e9178}{m\_bBox}} << endl;}
\DoxyCodeLine{01155 }
\DoxyCodeLine{01156   os << \textcolor{stringliteral}{"{}m\_partialLengthArray"{}};}
\DoxyCodeLine{01157   printContainer(os, \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}});}
\DoxyCodeLine{01158   os << endl;}
\DoxyCodeLine{01159 }
\DoxyCodeLine{01160   os << \textcolor{stringliteral}{"{}m\_parameterValueAtControlPoint"{}};}
\DoxyCodeLine{01161   printContainer(os, \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}});}
\DoxyCodeLine{01162   os << endl;}
\DoxyCodeLine{01163 }
\DoxyCodeLine{01164   os << \textcolor{stringliteral}{"{}m\_centerLineArray"{}};}
\DoxyCodeLine{01165   \textcolor{comment}{// os.setf(myIOFlags::scientific);}}
\DoxyCodeLine{01166   printContainerOfPointer(os, \mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}});}
\DoxyCodeLine{01167   os << endl;}
\DoxyCodeLine{01168 }
\DoxyCodeLine{01169 \textcolor{comment}{/*}}
\DoxyCodeLine{01170 \textcolor{comment}{  vector<TPixel> m\_outlineColorArray;}}
\DoxyCodeLine{01171 \textcolor{comment}{}}
\DoxyCodeLine{01172 \textcolor{comment}{    vector<TPointD> m\_texArray;}}
\DoxyCodeLine{01173 \textcolor{comment}{}}
\DoxyCodeLine{01174 \textcolor{comment}{      TFilePath m\_filePath;}}
\DoxyCodeLine{01175 \textcolor{comment}{      TRasterP  m\_texture;}}
\DoxyCodeLine{01176 \textcolor{comment}{  */}}
\DoxyCodeLine{01177 \textcolor{comment}{// TSystem::outputDebug( os.str());}}
\DoxyCodeLine{01178 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01179 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01180 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a8d627f30b9adc61e6e3a9f764401d6f6}\label{struct_t_stroke_1_1_imp_a8d627f30b9adc61e6e3a9f764401d6f6}} 
\index{TStroke::Imp@{TStroke::Imp}!retrieveChunkAndItsParamameter@{retrieveChunkAndItsParamameter}}
\index{retrieveChunkAndItsParamameter@{retrieveChunkAndItsParamameter}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{retrieveChunkAndItsParamameter()}{retrieveChunkAndItsParamameter()}}
{\footnotesize\ttfamily bool TStroke\+::\+Imp\+::retrieve\+Chunk\+And\+Its\+Paramameter (\begin{DoxyParamCaption}\item[{double}]{w,  }\item[{int \&}]{chunk,  }\item[{double \&}]{t }\end{DoxyParamCaption})}

From parameter w retrieves chunk and its parameter ( t in \mbox{[}0,1\mbox{]} ). Return true -\/\texorpdfstring{$>$}{>} error (parameter w out of range, etc) false -\/\texorpdfstring{$>$}{>} ok 
\begin{DoxyCode}{0}
\DoxyCodeLine{01001                                                              \{}
\DoxyCodeLine{01002   vector<double>::iterator first;}
\DoxyCodeLine{01003 }
\DoxyCodeLine{01004   \textcolor{comment}{// trova l'iteratore alla prima posizione che risulta maggiore o uguale a w}}
\DoxyCodeLine{01005   first = std::lower\_bound(\mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.begin(),}
\DoxyCodeLine{01006                            \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.end(), w);}
\DoxyCodeLine{01007 }
\DoxyCodeLine{01008   \textcolor{comment}{// se non e' stato possibile trovare w nel vettore ritorna errore}}
\DoxyCodeLine{01009   \textcolor{keywordflow}{if} (first == \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.end()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01010   \textcolor{comment}{/* FAB}}
\DoxyCodeLine{01011 \textcolor{comment}{double}}
\DoxyCodeLine{01012 \textcolor{comment}{found = *first;}}
\DoxyCodeLine{01013 \textcolor{comment}{assert(found  <=  *first);}}
\DoxyCodeLine{01014 \textcolor{comment}{//*/}}
\DoxyCodeLine{01015   \textcolor{comment}{// individuo il punto di controllo che compete alla posizione nel vettore}}
\DoxyCodeLine{01016   \textcolor{keywordtype}{int} controlPointOffset =}
\DoxyCodeLine{01017       distance(\mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.begin(), first);}
\DoxyCodeLine{01018 }
\DoxyCodeLine{01019   \textcolor{comment}{// individuo il cionco relativo al punto di controllo}}
\DoxyCodeLine{01020   chunk = \mbox{\hyperlink{struct_t_stroke_1_1_imp_a1dfba680509f8d10a5900f5cfef3c24f}{retrieveChunkFromControlPointIndex}}(controlPointOffset);}
\DoxyCodeLine{01021 }
\DoxyCodeLine{01022   \textcolor{comment}{// calcolo il parametro relativo al cionco}}
\DoxyCodeLine{01023   DoublePair p = \mbox{\hyperlink{struct_t_stroke_1_1_imp_a17eb9c05e3299cbbeeac3a0aff256048}{retrieveParametersFromChunk}}(chunk);}
\DoxyCodeLine{01024   \textcolor{comment}{/* FAB}}
\DoxyCodeLine{01025 \textcolor{comment}{assert( p.first <= w \&\&}}
\DoxyCodeLine{01026 \textcolor{comment}{    w <= p.second );}}
\DoxyCodeLine{01027 \textcolor{comment}{}}
\DoxyCodeLine{01028 \textcolor{comment}{\#ifdef  \_DEBUG}}
\DoxyCodeLine{01029 \textcolor{comment}{chunk = retrieveChunkFromControlPointIndex( controlPointOffset );}}
\DoxyCodeLine{01030 \textcolor{comment}{p = retrieveParametersFromChunk( chunk );}}
\DoxyCodeLine{01031 \textcolor{comment}{\#endif}}
\DoxyCodeLine{01032 \textcolor{comment}{//*/}}
\DoxyCodeLine{01033 }
\DoxyCodeLine{01034   \textcolor{keywordflow}{if} (w < p.first || w > p.second) \{}
\DoxyCodeLine{01035     t = (p.first + p.second) * 0.5;}
\DoxyCodeLine{01036   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01037     t = proportion(1.0, w -\/ p.first, p.second -\/ p.first);}
\DoxyCodeLine{01038 }
\DoxyCodeLine{01039   \textcolor{comment}{/* FAB}}
\DoxyCodeLine{01040 \textcolor{comment}{assert( 0.0 <= t \&\& t <= 1.0 );}}
\DoxyCodeLine{01041 \textcolor{comment}{//*/}}
\DoxyCodeLine{01042 }
\DoxyCodeLine{01043   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01044 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a470df21eb601c223fe0c8df3bc2a21fd}\label{struct_t_stroke_1_1_imp_a470df21eb601c223fe0c8df3bc2a21fd}} 
\index{TStroke::Imp@{TStroke::Imp}!retrieveChunkAndItsParamameterAtLength@{retrieveChunkAndItsParamameterAtLength}}
\index{retrieveChunkAndItsParamameterAtLength@{retrieveChunkAndItsParamameterAtLength}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{retrieveChunkAndItsParamameterAtLength()}{retrieveChunkAndItsParamameterAtLength()}}
{\footnotesize\ttfamily bool TStroke\+::\+Imp\+::retrieve\+Chunk\+And\+Its\+Paramameter\+At\+Length (\begin{DoxyParamCaption}\item[{double}]{s,  }\item[{int \&}]{chunk,  }\item[{double \&}]{t }\end{DoxyParamCaption})}

From length s retrieves chunk and its parameter ( t in \mbox{[}0,1\mbox{]} ). Return true -\/\texorpdfstring{$>$}{>} error (parameter w out of range, etc) false -\/\texorpdfstring{$>$}{>} ok 
\begin{DoxyCode}{0}
\DoxyCodeLine{00928                                                                      \{}
\DoxyCodeLine{00929   vector<double>::iterator first;}
\DoxyCodeLine{00930 }
\DoxyCodeLine{00931   \textcolor{comment}{// cerco nella cache la posizione che compete alla lunghezza s}}
\DoxyCodeLine{00932   first = std::upper\_bound(\mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}.begin(),}
\DoxyCodeLine{00933                            \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}.end(), s);}
\DoxyCodeLine{00934 }
\DoxyCodeLine{00935   \textcolor{comment}{// se s e' interna al vettore di cache}}
\DoxyCodeLine{00936   \textcolor{keywordflow}{if} (first != \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}.end()) \{}
\DoxyCodeLine{00937     \textcolor{comment}{// individuo il punto di controllo della stroke...}}
\DoxyCodeLine{00938     \textcolor{keywordtype}{int} controlPointOffset = distance(\mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}.begin(), first);}
\DoxyCodeLine{00939 }
\DoxyCodeLine{00940     \textcolor{comment}{// ...e da questo il cionco relativo.}}
\DoxyCodeLine{00941     chunk = \mbox{\hyperlink{struct_t_stroke_1_1_imp_a1dfba680509f8d10a5900f5cfef3c24f}{retrieveChunkFromControlPointIndex}}(controlPointOffset);}
\DoxyCodeLine{00942 }
\DoxyCodeLine{00943     \textcolor{keywordflow}{if} (first != \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}.begin() \&\& s == *(first -\/ 1)) \{}
\DoxyCodeLine{00944       controlPointOffset-\/-\/;}
\DoxyCodeLine{00945       \textcolor{keywordflow}{if} (controlPointOffset \& 1) \{}
\DoxyCodeLine{00946         \textcolor{keyword}{const} DoublePair \&p = \mbox{\hyperlink{struct_t_stroke_1_1_imp_a17eb9c05e3299cbbeeac3a0aff256048}{retrieveParametersFromChunk}}(chunk);}
\DoxyCodeLine{00947         t = proportion(1.0, getW(controlPointOffset) -\/ p.first,}
\DoxyCodeLine{00948                        p.second -\/ p.first);}
\DoxyCodeLine{00949       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00950         t = 0.0;}
\DoxyCodeLine{00951 }
\DoxyCodeLine{00952       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00953     \}}
\DoxyCodeLine{00954 }
\DoxyCodeLine{00955     \textcolor{comment}{// fisso un offset per l'algoritmo di bisezione}}
\DoxyCodeLine{00956     \textcolor{keywordtype}{double} offset = (first == \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}.begin())}
\DoxyCodeLine{00957                         ? s}
\DoxyCodeLine{00958                         : s -\/ \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}[chunk * 2];}
\DoxyCodeLine{00959 }
\DoxyCodeLine{00960     \textcolor{comment}{// cerco il parametro minimo a meno di una tolleranza epsilon}}
\DoxyCodeLine{00961 }
\DoxyCodeLine{00962     \textcolor{keyword}{const} \textcolor{keywordtype}{double} tol = TConsts::epsilon * 0.1;}
\DoxyCodeLine{00963     \textcolor{keywordtype}{int} err;}
\DoxyCodeLine{00964 }
\DoxyCodeLine{00965     computeOffset\_ op(getChunk(chunk), offset);}
\DoxyCodeLine{00966     computeSpeed\_ op2(getChunk(chunk));}
\DoxyCodeLine{00967 }
\DoxyCodeLine{00968     \textcolor{keywordflow}{if} (!findZero\_Newton(0.0, 1.0, op, op2, tol, tol, 100, t, err))}
\DoxyCodeLine{00969       t = -\/1;  \textcolor{comment}{// if can not find a good value set parameter to error value}}
\DoxyCodeLine{00970 }
\DoxyCodeLine{00971     \textcolor{comment}{// se l'algoritmo di ricerca ha fallito fissa il valore ad uno dei due}}
\DoxyCodeLine{00972     \textcolor{comment}{// estremi}}
\DoxyCodeLine{00973     \textcolor{keywordflow}{if} (t == -\/1) \{}
\DoxyCodeLine{00974       \textcolor{keywordflow}{if} (s <= \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}[controlPointOffset]) t = 0.0;}
\DoxyCodeLine{00975       t                                                    = 1.0;}
\DoxyCodeLine{00976     \}}
\DoxyCodeLine{00977 }
\DoxyCodeLine{00978     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00979   \}}
\DoxyCodeLine{00980 }
\DoxyCodeLine{00981   \textcolor{keywordflow}{if} (s <= 0.0) \{}
\DoxyCodeLine{00982     chunk = 0;}
\DoxyCodeLine{00983     t     = 0.0;}
\DoxyCodeLine{00984   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (s >= \mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}.back()) \{}
\DoxyCodeLine{00985     chunk = getChunkCount() -\/ 1;}
\DoxyCodeLine{00986     t     = 1.0;}
\DoxyCodeLine{00987   \}}
\DoxyCodeLine{00988 }
\DoxyCodeLine{00989   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00990 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{TStroke\+::get\+Chunk()}}, \mbox{\hyperlink{l01845}{TStroke\+::get\+Chunk\+Count()}}, and \mbox{\hyperlink{l02029}{TStroke\+::get\+W()}}.

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a1dfba680509f8d10a5900f5cfef3c24f}\label{struct_t_stroke_1_1_imp_a1dfba680509f8d10a5900f5cfef3c24f}} 
\index{TStroke::Imp@{TStroke::Imp}!retrieveChunkFromControlPointIndex@{retrieveChunkFromControlPointIndex}}
\index{retrieveChunkFromControlPointIndex@{retrieveChunkFromControlPointIndex}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{retrieveChunkFromControlPointIndex()}{retrieveChunkFromControlPointIndex()}}
{\footnotesize\ttfamily int TStroke\+::\+Imp\+::retrieve\+Chunk\+From\+Control\+Point\+Index (\begin{DoxyParamCaption}\item[{int}]{n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Retrieve chunk which contains the n-\/th control point of stroke. If control point is between two chunks return the left point. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00670                                                 \{}
\DoxyCodeLine{00671     assert(0 <= n \&\& n < getControlPointCount());}
\DoxyCodeLine{00672 }
\DoxyCodeLine{00673     \textcolor{keywordflow}{if} (n \& 1) ++n;}
\DoxyCodeLine{00674 }
\DoxyCodeLine{00675     n >>= 1;}
\DoxyCodeLine{00676 }
\DoxyCodeLine{00677     \textcolor{keywordflow}{return} n ? n -\/ 1 : n;}
\DoxyCodeLine{00678   \};}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a17eb9c05e3299cbbeeac3a0aff256048}\label{struct_t_stroke_1_1_imp_a17eb9c05e3299cbbeeac3a0aff256048}} 
\index{TStroke::Imp@{TStroke::Imp}!retrieveParametersFromChunk@{retrieveParametersFromChunk}}
\index{retrieveParametersFromChunk@{retrieveParametersFromChunk}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{retrieveParametersFromChunk()}{retrieveParametersFromChunk()}}
{\footnotesize\ttfamily Double\+Pair TStroke\+::\+Imp\+::retrieve\+Parameters\+From\+Chunk (\begin{DoxyParamCaption}\item[{UINT}]{chunk }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Retrieve range for a chunk. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00683                                                      \{}
\DoxyCodeLine{00684     DoublePair outPar;}
\DoxyCodeLine{00685 }
\DoxyCodeLine{00686     \textcolor{keywordtype}{int} nFirst, nSecond;}
\DoxyCodeLine{00687 }
\DoxyCodeLine{00688     nFirst  = chunk * 2;}
\DoxyCodeLine{00689     nSecond = (chunk + 1) * 2;}
\DoxyCodeLine{00690 }
\DoxyCodeLine{00691     outPar.first  = getW(nFirst);}
\DoxyCodeLine{00692     outPar.second = getW(nSecond);}
\DoxyCodeLine{00693 }
\DoxyCodeLine{00694     \textcolor{keywordflow}{return} outPar;}
\DoxyCodeLine{00695   \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_af7f34cb3a6e6590f8af70bc4b105061b}\label{struct_t_stroke_1_1_imp_af7f34cb3a6e6590f8af70bc4b105061b}} 
\index{TStroke::Imp@{TStroke::Imp}!swapGeometry@{swapGeometry}}
\index{swapGeometry@{swapGeometry}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{swapGeometry()}{swapGeometry()}}
{\footnotesize\ttfamily void TStroke\+::\+Imp\+::swap\+Geometry (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_t_stroke_1_1_imp}{TStroke\+::\+Imp}} \&}]{other }\end{DoxyParamCaption}) throw ( ) }

Swaps the geometrical infos only 
\begin{DoxyCode}{0}
\DoxyCodeLine{00787                                                 \{}
\DoxyCodeLine{00788   std::swap(m\_flag, other.m\_flag);}
\DoxyCodeLine{00789   std::swap(\mbox{\hyperlink{struct_t_stroke_1_1_imp_afdf8d6be8d459916380e40028ee500f4}{m\_isValidLength}}, other.\mbox{\hyperlink{struct_t_stroke_1_1_imp_afdf8d6be8d459916380e40028ee500f4}{m\_isValidLength}});}
\DoxyCodeLine{00790   std::swap(\mbox{\hyperlink{struct_t_stroke_1_1_imp_aa7c68b7794cef67ab2b1d1f8ab3a36f8}{m\_isOutlineValid}}, other.\mbox{\hyperlink{struct_t_stroke_1_1_imp_aa7c68b7794cef67ab2b1d1f8ab3a36f8}{m\_isOutlineValid}});}
\DoxyCodeLine{00791   std::swap(\mbox{\hyperlink{struct_t_stroke_1_1_imp_a0b32e14a71dd431116edb21b71ce57ec}{m\_areDisabledComputeOfCaches}}, other.\mbox{\hyperlink{struct_t_stroke_1_1_imp_a0b32e14a71dd431116edb21b71ce57ec}{m\_areDisabledComputeOfCaches}});}
\DoxyCodeLine{00792   std::swap(\mbox{\hyperlink{struct_t_stroke_1_1_imp_a7dfca54aaa16e315a8bf181b399e9178}{m\_bBox}}, other.\mbox{\hyperlink{struct_t_stroke_1_1_imp_a7dfca54aaa16e315a8bf181b399e9178}{m\_bBox}});}
\DoxyCodeLine{00793   std::swap(\mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}}, other.\mbox{\hyperlink{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}{m\_partialLengthArray}});}
\DoxyCodeLine{00794   std::swap(\mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}},}
\DoxyCodeLine{00795             other.\mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}});}
\DoxyCodeLine{00796   std::swap(\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}}, other.\mbox{\hyperlink{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}{m\_centerLineArray}});}
\DoxyCodeLine{00797   std::swap(m\_selfLoop, other.m\_selfLoop);}
\DoxyCodeLine{00798   std::swap(m\_negativeThicknessPoints, other.m\_negativeThicknessPoints);}
\DoxyCodeLine{00799   std::swap(m\_averageThickness, other.m\_averageThickness);}
\DoxyCodeLine{00800   std::swap(m\_maxThickness, other.m\_maxThickness);}
\DoxyCodeLine{00801 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a9f19f36a35a67846d128991f44b731b7}\label{struct_t_stroke_1_1_imp_a9f19f36a35a67846d128991f44b731b7}} 
\index{TStroke::Imp@{TStroke::Imp}!updateParameterValue@{updateParameterValue}}
\index{updateParameterValue@{updateParameterValue}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{updateParameterValue()}{updateParameterValue()}}
{\footnotesize\ttfamily void TStroke\+::\+Imp\+::update\+Parameter\+Value (\begin{DoxyParamCaption}\item[{double}]{w,  }\item[{UINT}]{chunk,  }\item[{\mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}} $\ast$}]{tq1,  }\item[{\mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}} $\ast$}]{tq2 }\end{DoxyParamCaption})}

Update parameter in m\+\_\+parameter\+Value\+At\+Control\+Point after insert of control point in stroke. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00884                                                               \{}
\DoxyCodeLine{00885   DoublePair p = \mbox{\hyperlink{struct_t_stroke_1_1_imp_a17eb9c05e3299cbbeeac3a0aff256048}{retrieveParametersFromChunk}}(chunk);}
\DoxyCodeLine{00886 }
\DoxyCodeLine{00887   UINT controlPointToErase = 2 * chunk + 1;}
\DoxyCodeLine{00888   DoubleIt it              = \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.begin();}
\DoxyCodeLine{00889   std::advance(it, controlPointToErase);}
\DoxyCodeLine{00890   \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.erase(it);}
\DoxyCodeLine{00891 }
\DoxyCodeLine{00892   \textcolor{keywordtype}{double} normalizedParam = tq2-\/>\mbox{\hyperlink{class_t_quadratic_ac0a935d30e22e5be4639979a28aa1c99}{getT}}(tq2-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}());}
\DoxyCodeLine{00893 }
\DoxyCodeLine{00894   std::vector<double>::iterator first;}
\DoxyCodeLine{00895 }
\DoxyCodeLine{00896   normalizedParam = proportion(p.second, normalizedParam, 1.0, w);}
\DoxyCodeLine{00897 }
\DoxyCodeLine{00898   first =}
\DoxyCodeLine{00899       std::upper\_bound(\mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.begin(),}
\DoxyCodeLine{00900                        \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.end(), normalizedParam);}
\DoxyCodeLine{00901 }
\DoxyCodeLine{00902   \textcolor{keywordflow}{if} (first != \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.end()) \{}
\DoxyCodeLine{00903     first = \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.insert(first, normalizedParam);}
\DoxyCodeLine{00904 }
\DoxyCodeLine{00905     first = \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.insert(first, w);}
\DoxyCodeLine{00906 }
\DoxyCodeLine{00907     normalizedParam = tq1-\/>\mbox{\hyperlink{class_t_quadratic_ac0a935d30e22e5be4639979a28aa1c99}{getT}}(tq1-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}());}
\DoxyCodeLine{00908     normalizedParam = proportion(w, normalizedParam, 1.0, p.first);}
\DoxyCodeLine{00909 }
\DoxyCodeLine{00910     \mbox{\hyperlink{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}{m\_parameterValueAtControlPoint}}.insert(first, normalizedParam);}
\DoxyCodeLine{00911   \}}
\DoxyCodeLine{00912 }
\DoxyCodeLine{00913   \textcolor{comment}{/* FAB}}
\DoxyCodeLine{00914 \textcolor{comment}{assert( getControlPointCount() <=}}
\DoxyCodeLine{00915 \textcolor{comment}{    (int)m\_parameterValueAtControlPoint.size() );}}
\DoxyCodeLine{00916 \textcolor{comment}{//*/}}
\DoxyCodeLine{00917 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00140}{TQuadratic\+::get\+P1()}}, and \mbox{\hyperlink{l00059}{TQuadratic\+::get\+T()}}.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a0b32e14a71dd431116edb21b71ce57ec}\label{struct_t_stroke_1_1_imp_a0b32e14a71dd431116edb21b71ce57ec}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_areDisabledComputeOfCaches@{m\_areDisabledComputeOfCaches}}
\index{m\_areDisabledComputeOfCaches@{m\_areDisabledComputeOfCaches}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_areDisabledComputeOfCaches}{m\_areDisabledComputeOfCaches}}
{\footnotesize\ttfamily bool TStroke\+::\+Imp\+::m\+\_\+are\+Disabled\+Compute\+Of\+Caches}



Control calculus of cache vector. 



Referenced by \mbox{\hyperlink{l00736}{init()}}.

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a379ce656717d5fa83edd2687bf94cb62}\label{struct_t_stroke_1_1_imp_a379ce656717d5fa83edd2687bf94cb62}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_averageThickness@{m\_averageThickness}}
\index{m\_averageThickness@{m\_averageThickness}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_averageThickness}{m\_averageThickness}}
{\footnotesize\ttfamily double TStroke\+::\+Imp\+::m\+\_\+average\+Thickness}

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a7dfca54aaa16e315a8bf181b399e9178}\label{struct_t_stroke_1_1_imp_a7dfca54aaa16e315a8bf181b399e9178}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_bBox@{m\_bBox}}
\index{m\_bBox@{m\_bBox}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_bBox}{m\_bBox}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRectD}} TStroke\+::\+Imp\+::m\+\_\+b\+Box}



Bounding Box of a stroke. 

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}\label{struct_t_stroke_1_1_imp_a88f32477ee5cde4bf96bb7a096d5395b}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_centerLineArray@{m\_centerLineArray}}
\index{m\_centerLineArray@{m\_centerLineArray}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_centerLineArray}{m\_centerLineArray}}
{\footnotesize\ttfamily Quad\+Stroke\+Chunk\+Array TStroke\+::\+Imp\+::m\+\_\+center\+Line\+Array}



This vector contains outline of stroke. 



Referenced by \mbox{\hyperlink{l00736}{init()}}.

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a498266a0e618af1e1fd1897dae6e9e38}\label{struct_t_stroke_1_1_imp_a498266a0e618af1e1fd1897dae6e9e38}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_flag@{m\_flag}}
\index{m\_flag@{m\_flag}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_flag}{m\_flag}}
{\footnotesize\ttfamily BYTE TStroke\+::\+Imp\+::m\+\_\+flag}

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_ac0cf69fa44ecf0e59954d6d43805937f}\label{struct_t_stroke_1_1_imp_ac0cf69fa44ecf0e59954d6d43805937f}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_id@{m\_id}}
\index{m\_id@{m\_id}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_id}{m\_id}}
{\footnotesize\ttfamily int TStroke\+::\+Imp\+::m\+\_\+id}

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_aa7c68b7794cef67ab2b1d1f8ab3a36f8}\label{struct_t_stroke_1_1_imp_aa7c68b7794cef67ab2b1d1f8ab3a36f8}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_isOutlineValid@{m\_isOutlineValid}}
\index{m\_isOutlineValid@{m\_isOutlineValid}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_isOutlineValid}{m\_isOutlineValid}}
{\footnotesize\ttfamily bool TStroke\+::\+Imp\+::m\+\_\+is\+Outline\+Valid}

This flag checks if changes occurs and if it is necessary to update outline. 

Referenced by \mbox{\hyperlink{l00736}{init()}}.

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_afdf8d6be8d459916380e40028ee500f4}\label{struct_t_stroke_1_1_imp_afdf8d6be8d459916380e40028ee500f4}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_isValidLength@{m\_isValidLength}}
\index{m\_isValidLength@{m\_isValidLength}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_isValidLength}{m\_isValidLength}}
{\footnotesize\ttfamily bool TStroke\+::\+Imp\+::m\+\_\+is\+Valid\+Length}

This flag checks if changes occurs and if it is necessary to update length. 

Referenced by \mbox{\hyperlink{l00736}{init()}}.

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a0d4961e987b373631ed5ca63702367f2}\label{struct_t_stroke_1_1_imp_a0d4961e987b373631ed5ca63702367f2}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_maxThickness@{m\_maxThickness}}
\index{m\_maxThickness@{m\_maxThickness}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_maxThickness}{m\_maxThickness}}
{\footnotesize\ttfamily double TStroke\+::\+Imp\+::m\+\_\+max\+Thickness}

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a48889617171280a2cb62ce187ea3a87e}\label{struct_t_stroke_1_1_imp_a48889617171280a2cb62ce187ea3a87e}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_negativeThicknessPoints@{m\_negativeThicknessPoints}}
\index{m\_negativeThicknessPoints@{m\_negativeThicknessPoints}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_negativeThicknessPoints}{m\_negativeThicknessPoints}}
{\footnotesize\ttfamily int TStroke\+::\+Imp\+::m\+\_\+negative\+Thickness\+Points}

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a9e8ea7af4766342fb1ea8818b7da275a}\label{struct_t_stroke_1_1_imp_a9e8ea7af4766342fb1ea8818b7da275a}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_outlineOptions@{m\_outlineOptions}}
\index{m\_outlineOptions@{m\_outlineOptions}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_outlineOptions}{m\_outlineOptions}}
{\footnotesize\ttfamily TStroke\+::\+Outline\+Options TStroke\+::\+Imp\+::m\+\_\+outline\+Options}

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}\label{struct_t_stroke_1_1_imp_ac25e7da544e951a2836e474cd53a9c20}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_parameterValueAtControlPoint@{m\_parameterValueAtControlPoint}}
\index{m\_parameterValueAtControlPoint@{m\_parameterValueAtControlPoint}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_parameterValueAtControlPoint}{m\_parameterValueAtControlPoint}}
{\footnotesize\ttfamily Double\+Array TStroke\+::\+Imp\+::m\+\_\+parameter\+Value\+At\+Control\+Point}



This vector contains parameter computed for each control point of stroke. 

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}\label{struct_t_stroke_1_1_imp_aaa369f5b81d7266a3a97976609f9d1ae}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_partialLengthArray@{m\_partialLengthArray}}
\index{m\_partialLengthArray@{m\_partialLengthArray}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_partialLengthArray}{m\_partialLengthArray}}
{\footnotesize\ttfamily Double\+Array TStroke\+::\+Imp\+::m\+\_\+partial\+Length\+Array}



This vector contains length computed for each control point of stroke. 

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_af62622887dc86a2a8eff71768283fdae}\label{struct_t_stroke_1_1_imp_af62622887dc86a2a8eff71768283fdae}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_prop@{m\_prop}}
\index{m\_prop@{m\_prop}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_prop}{m\_prop}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stroke_prop}{TStroke\+Prop}}$\ast$ TStroke\+::\+Imp\+::m\+\_\+prop}

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_a424d7f72e8b7a772af47722d3d477b25}\label{struct_t_stroke_1_1_imp_a424d7f72e8b7a772af47722d3d477b25}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_selfLoop@{m\_selfLoop}}
\index{m\_selfLoop@{m\_selfLoop}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_selfLoop}{m\_selfLoop}}
{\footnotesize\ttfamily bool TStroke\+::\+Imp\+::m\+\_\+self\+Loop}

\mbox{\Hypertarget{struct_t_stroke_1_1_imp_ab89f08d0fd55f730dade538e89a15e88}\label{struct_t_stroke_1_1_imp_ab89f08d0fd55f730dade538e89a15e88}} 
\index{TStroke::Imp@{TStroke::Imp}!m\_styleId@{m\_styleId}}
\index{m\_styleId@{m\_styleId}!TStroke::Imp@{TStroke::Imp}}
\doxysubsubsection{\texorpdfstring{m\_styleId}{m\_styleId}}
{\footnotesize\ttfamily int TStroke\+::\+Imp\+::m\+\_\+style\+Id}



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/common/tvectorimage/tstroke.\+cpp\end{DoxyCompactItemize}
