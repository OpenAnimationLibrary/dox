\hypertarget{classino__fog}{}\doxysection{ino\+\_\+fog Class Reference}
\label{classino__fog}\index{ino\_fog@{ino\_fog}}
Inheritance diagram for ino\+\_\+fog\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{classino__fog}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{classino__fog_a5b91163f80593ae029b5482aafc75102}{get\+\_\+render\+\_\+real\+\_\+radius}} (const double frame, const \mbox{\hyperlink{class_t_affine}{TAffine}} affine)
\item 
void \mbox{\hyperlink{classino__fog_a6872cd28032a1c49b21cdc6f39224acb}{get\+\_\+render\+\_\+enlarge}} (const double frame, const \mbox{\hyperlink{class_t_affine}{TAffine}} affine, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box)
\item 
bool \mbox{\hyperlink{classino__fog_aa86eab19c94212cb82cb9644590740eb}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
int \mbox{\hyperlink{classino__fog_a88015771eaab8a0a27248867133d62fe}{get\+Memory\+Requirement}} (const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
void \mbox{\hyperlink{classino__fog_a3aa160b89f56246642c309e2418e2090}{transform}} (double frame, int port, const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Output, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Output, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Input, \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Input) override
\item 
bool \mbox{\hyperlink{classino__fog_af8755fd6f6668d80785b845056804f7a}{can\+Handle}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info, double frame) override
\item 
void \mbox{\hyperlink{classino__fog_aed40ae7120b69b40bb82e927d207f642}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&rend\+\_\+sets) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classino__fog_a9ae35794970ef869c1bbcf9b3ce7d6c7}\label{classino__fog_a9ae35794970ef869c1bbcf9b3ce7d6c7}} 
\index{ino\_fog@{ino\_fog}!ino\_fog@{ino\_fog}}
\index{ino\_fog@{ino\_fog}!ino\_fog@{ino\_fog}}
\doxysubsubsection{\texorpdfstring{ino\_fog()}{ino\_fog()}}
{\footnotesize\ttfamily ino\+\_\+fog\+::ino\+\_\+fog (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00020       : m\_radius(1.0)}
\DoxyCodeLine{00021       , m\_curve(1.0 * ino::param\_range())}
\DoxyCodeLine{00022       , m\_power(1.0 * ino::param\_range())}
\DoxyCodeLine{00023       , m\_threshold\_min(0.0 * ino::param\_range())}
\DoxyCodeLine{00024       , m\_threshold\_max(0.0 * ino::param\_range())}
\DoxyCodeLine{00025       , m\_alpha\_rendering(\textcolor{keyword}{false}) \{}
\DoxyCodeLine{00026     this-\/>m\_radius-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00027 }
\DoxyCodeLine{00028     \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}Source"{}}, this-\/>m\_input);}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00030     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}radius"{}}, this-\/>m\_radius);}
\DoxyCodeLine{00031     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}curve"{}}, this-\/>m\_curve);}
\DoxyCodeLine{00032     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}power"{}}, this-\/>m\_power);}
\DoxyCodeLine{00033     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}threshold\_min"{}}, this-\/>m\_threshold\_min);}
\DoxyCodeLine{00034     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}threshold\_max"{}}, this-\/>m\_threshold\_max);}
\DoxyCodeLine{00035     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}alpha\_rendering"{}}, this-\/>m\_alpha\_rendering);}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037     this-\/>m\_radius-\/>setValueRange(0.0, 100.0);}
\DoxyCodeLine{00038     this-\/>m\_curve-\/>setValueRange(0.1 * ino::param\_range(),}
\DoxyCodeLine{00039                                  10.0 * ino::param\_range()); \textcolor{comment}{/* gammaカーブ */}}
\DoxyCodeLine{00040     this-\/>m\_power-\/>setValueRange(-\/2.0 * ino::param\_range(),}
\DoxyCodeLine{00041                                  2.0 * ino::param\_range());}
\DoxyCodeLine{00042     this-\/>m\_threshold\_min-\/>setValueRange(0.0 * ino::param\_range(),}
\DoxyCodeLine{00043                                          1.01 * ino::param\_range());}
\DoxyCodeLine{00044     this-\/>m\_threshold\_max-\/>setValueRange(0.0 * ino::param\_range(),}
\DoxyCodeLine{00045                                          1.01 * ino::param\_range());}
\DoxyCodeLine{00046   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classino__fog_af8755fd6f6668d80785b845056804f7a}\label{classino__fog_af8755fd6f6668d80785b845056804f7a}} 
\index{ino\_fog@{ino\_fog}!canHandle@{canHandle}}
\index{canHandle@{canHandle}!ino\_fog@{ino\_fog}}
\doxysubsubsection{\texorpdfstring{canHandle()}{canHandle()}}
{\footnotesize\ttfamily bool ino\+\_\+fog\+::can\+Handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00086                                                                      \{}
\DoxyCodeLine{00087     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00088   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__fog_aed40ae7120b69b40bb82e927d207f642}\label{classino__fog_aed40ae7120b69b40bb82e927d207f642}} 
\index{ino\_fog@{ino\_fog}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!ino\_fog@{ino\_fog}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void ino\+\_\+fog\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{rend\+\_\+sets }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00132                                                           \{}
\DoxyCodeLine{00133   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 接続していなければ処理しない -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00134   \textcolor{keywordflow}{if} (!this-\/>m\_input.isConnected()) \{}
\DoxyCodeLine{00135     tile.getRaster()-\/>clear(); \textcolor{comment}{/* 塗りつぶしクリア */}}
\DoxyCodeLine{00136     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00137   \}}
\DoxyCodeLine{00138   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ サポートしていないPixelタイプはエラーを投げる -\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00139   \textcolor{keywordflow}{if} (!((\mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}})tile.getRaster()) \&\& !((\mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}})tile.getRaster())) \{}
\DoxyCodeLine{00140     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_rop_exception}{TRopException}}(\textcolor{stringliteral}{"{}unsupported input pixel type"{}});}
\DoxyCodeLine{00141   \}}
\DoxyCodeLine{00142   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 動作パラメータを得る -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00143   \textcolor{keyword}{const} \textcolor{keywordtype}{double} radius = this-\/>get\_render\_real\_radius(frame, rend\_sets.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}});}
\DoxyCodeLine{00144   \textcolor{keyword}{const} \textcolor{keywordtype}{double} curve  = this-\/>m\_curve-\/>getValue(frame) / ino::param\_range();}
\DoxyCodeLine{00145   \textcolor{keyword}{const} \textcolor{keywordtype}{double} power  = this-\/>m\_power-\/>getValue(frame) / ino::param\_range();}
\DoxyCodeLine{00146   \textcolor{keyword}{const} \textcolor{keywordtype}{double} threshold\_min =}
\DoxyCodeLine{00147       this-\/>m\_threshold\_min-\/>getValue(frame) / ino::param\_range();}
\DoxyCodeLine{00148   \textcolor{keyword}{const} \textcolor{keywordtype}{double} threshold\_max =}
\DoxyCodeLine{00149       this-\/>m\_threshold\_max-\/>getValue(frame) / ino::param\_range();}
\DoxyCodeLine{00150   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} alp\_rend\_sw = this-\/>m\_alpha\_rendering-\/>getValue();}
\DoxyCodeLine{00151   \textcolor{keyword}{const} \textcolor{keywordtype}{int} nthread      = 1;}
\DoxyCodeLine{00152   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ fogがからないパラメータ値のときはfog処理しない -\/-\/-\/-\/*/}}
\DoxyCodeLine{00153   \textcolor{keywordflow}{if} (!igs::fog::have\_change(radius, power, threshold\_min)) \{}
\DoxyCodeLine{00154     this-\/>m\_input-\/>compute(tile, frame, rend\_sets);}
\DoxyCodeLine{00155     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00156   \}}
\DoxyCodeLine{00157   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 表示の範囲を得る -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00158   \mbox{\hyperlink{class_t_rect_t}{TRectD}} bBox =}
\DoxyCodeLine{00159       \mbox{\hyperlink{class_t_rect_t}{TRectD}}(tile.m\_pos \textcolor{comment}{/* Render画像上(Pixel単位)の位置 */}}
\DoxyCodeLine{00160              ,}
\DoxyCodeLine{00161              \mbox{\hyperlink{class_t_dimension_t}{TDimensionD}}(\textcolor{comment}{/* Render画像上(Pixel単位)のサイズ */}}
\DoxyCodeLine{00162                          tile.getRaster()-\/>getLx(), tile.getRaster()-\/>getLy()));}
\DoxyCodeLine{00163   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ fog半径(=マージン)分表示範囲を広げる -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00164   \textcolor{keyword}{const} \textcolor{keywordtype}{int} int\_radius = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(ceil(radius));}
\DoxyCodeLine{00165   \textcolor{keywordflow}{if} (0 < int\_radius) \{}
\DoxyCodeLine{00166     bBox = bBox.enlarge(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(int\_radius));}
\DoxyCodeLine{00167   \}}
\DoxyCodeLine{00168   \mbox{\hyperlink{class_t_tile}{TTile}} enlarge\_tile;}
\DoxyCodeLine{00169   this-\/>m\_input-\/>allocateAndCompute(}
\DoxyCodeLine{00170       enlarge\_tile, bBox.getP00(),}
\DoxyCodeLine{00171       \mbox{\hyperlink{class_t_dimension_t}{TDimensionI}}(\textcolor{comment}{/* Pixel単位に四捨五入 */}}
\DoxyCodeLine{00172                   \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bBox.getLx() + 0.5),}
\DoxyCodeLine{00173                   \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bBox.getLy() + 0.5)),}
\DoxyCodeLine{00174       tile.getRaster(), frame, rend\_sets);}
\DoxyCodeLine{00175   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ 保存すべき画像メモリを塗りつぶしクリア -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00176   tile.getRaster()-\/>clear(); \textcolor{comment}{/* 塗りつぶしクリア */}}
\DoxyCodeLine{00177 }
\DoxyCodeLine{00178   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ (app\_begin)log記憶 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00179   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} log\_sw = ino::log\_enable\_sw();}
\DoxyCodeLine{00180 }
\DoxyCodeLine{00181   \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00182     std::ostringstream os;}
\DoxyCodeLine{00183     os << \textcolor{stringliteral}{"{}params"{}}}
\DoxyCodeLine{00184        << \textcolor{stringliteral}{"{}  nthread "{}} << nthread << \textcolor{stringliteral}{"{}  usr\_radius "{}}}
\DoxyCodeLine{00185        << this-\/>m\_radius-\/>getValue(frame) << \textcolor{stringliteral}{"{}  real\_radius "{}} << radius}
\DoxyCodeLine{00186        << \textcolor{stringliteral}{"{}  int\_radius "{}} << int\_radius << \textcolor{stringliteral}{"{}  curve "{}} << curve << \textcolor{stringliteral}{"{}  power "{}}}
\DoxyCodeLine{00187        << power << \textcolor{stringliteral}{"{}  threshold\_min "{}} << threshold\_min << \textcolor{stringliteral}{"{}  threshold\_max "{}}}
\DoxyCodeLine{00188        << threshold\_max << \textcolor{stringliteral}{"{}  alp\_rend\_sw "{}} << alp\_rend\_sw << \textcolor{stringliteral}{"{}   tile w "{}}}
\DoxyCodeLine{00189        << tile.getRaster()-\/>getLx() << \textcolor{stringliteral}{"{}  h "{}} << tile.getRaster()-\/>getLy()}
\DoxyCodeLine{00190        << \textcolor{stringliteral}{"{}  pixbits "{}} << ino::pixel\_bits(tile.getRaster()) << \textcolor{stringliteral}{"{}   frame "{}}}
\DoxyCodeLine{00191        << frame << \textcolor{stringliteral}{"{}   rand\_sets affine\_det "{}} << rend\_sets.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}}.det()}
\DoxyCodeLine{00192        << \textcolor{stringliteral}{"{}  shrink x "{}} << rend\_sets.\mbox{\hyperlink{class_t_render_settings_a52dd41881bbf6aaf953fe300be2e233e}{m\_shrinkX}} << \textcolor{stringliteral}{"{}  y "{}} << rend\_sets.\mbox{\hyperlink{class_t_render_settings_ae1882f584ce9ffad12ce6bf9ff23814c}{m\_shrinkY}};}
\DoxyCodeLine{00193   \}}
\DoxyCodeLine{00194   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ fx処理 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00195   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00196     tile.getRaster()-\/>lock();}
\DoxyCodeLine{00197     fx\_(enlarge\_tile.getRaster()  \textcolor{comment}{// with margin}}
\DoxyCodeLine{00198         ,}
\DoxyCodeLine{00199         int\_radius  \textcolor{comment}{// margin}}
\DoxyCodeLine{00200         ,}
\DoxyCodeLine{00201         tile.getRaster()  \textcolor{comment}{// no margin}}
\DoxyCodeLine{00202         ,}
\DoxyCodeLine{00203         nthread, radius, curve, power, threshold\_min, threshold\_max,}
\DoxyCodeLine{00204         alp\_rend\_sw);}
\DoxyCodeLine{00205     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00206   \}}
\DoxyCodeLine{00207   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ error処理 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00208   \textcolor{keywordflow}{catch} (std::bad\_alloc \&e) \{}
\DoxyCodeLine{00209     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00210     \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00211       std::string str(\textcolor{stringliteral}{"{}std::bad\_alloc <"{}});}
\DoxyCodeLine{00212       str += e.what();}
\DoxyCodeLine{00213       str += \textcolor{charliteral}{'>'};}
\DoxyCodeLine{00214     \}}
\DoxyCodeLine{00215     \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00216   \} \textcolor{keywordflow}{catch} (std::exception \&e) \{}
\DoxyCodeLine{00217     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00218     \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00219       std::string str(\textcolor{stringliteral}{"{}exception <"{}});}
\DoxyCodeLine{00220       str += e.what();}
\DoxyCodeLine{00221       str += \textcolor{charliteral}{'>'};}
\DoxyCodeLine{00222     \}}
\DoxyCodeLine{00223     \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00224   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00225     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00226     \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00227       std::string str(\textcolor{stringliteral}{"{}other exception"{}});}
\DoxyCodeLine{00228     \}}
\DoxyCodeLine{00229     \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00230   \}}
\DoxyCodeLine{00231 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__fog_aa86eab19c94212cb82cb9644590740eb}\label{classino__fog_aa86eab19c94212cb82cb9644590740eb}} 
\index{ino\_fog@{ino\_fog}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!ino\_fog@{ino\_fog}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool ino\+\_\+fog\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064                                                        \{}
\DoxyCodeLine{00065     \textcolor{keywordflow}{if} (\textcolor{keyword}{false} == this-\/>m\_input.isConnected()) \{}
\DoxyCodeLine{00066       bBox = \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{00067       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00068     \}}
\DoxyCodeLine{00069     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} ret = this-\/>m\_input-\/>doGetBBox(frame, bBox, info);}
\DoxyCodeLine{00070     this-\/>get\_render\_enlarge(frame, info.m\_affine, bBox);}
\DoxyCodeLine{00071     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{00072   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__fog_a6872cd28032a1c49b21cdc6f39224acb}\label{classino__fog_a6872cd28032a1c49b21cdc6f39224acb}} 
\index{ino\_fog@{ino\_fog}!get\_render\_enlarge@{get\_render\_enlarge}}
\index{get\_render\_enlarge@{get\_render\_enlarge}!ino\_fog@{ino\_fog}}
\doxysubsubsection{\texorpdfstring{get\_render\_enlarge()}{get\_render\_enlarge()}}
{\footnotesize\ttfamily void ino\+\_\+fog\+::get\+\_\+render\+\_\+enlarge (\begin{DoxyParamCaption}\item[{const double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}}}]{affine,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00055                                         \{}
\DoxyCodeLine{00056     \textcolor{keyword}{const} \textcolor{keywordtype}{int} margin =}
\DoxyCodeLine{00057         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(ceil(this-\/>get\_render\_real\_radius(frame, affine)));}
\DoxyCodeLine{00058     \textcolor{keywordflow}{if} (0 < margin) \{}
\DoxyCodeLine{00059       bBox = bBox.enlarge(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(margin));}
\DoxyCodeLine{00060     \}}
\DoxyCodeLine{00061   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__fog_a5b91163f80593ae029b5482aafc75102}\label{classino__fog_a5b91163f80593ae029b5482aafc75102}} 
\index{ino\_fog@{ino\_fog}!get\_render\_real\_radius@{get\_render\_real\_radius}}
\index{get\_render\_real\_radius@{get\_render\_real\_radius}!ino\_fog@{ino\_fog}}
\doxysubsubsection{\texorpdfstring{get\_render\_real\_radius()}{get\_render\_real\_radius()}}
{\footnotesize\ttfamily double ino\+\_\+fog\+::get\+\_\+render\+\_\+real\+\_\+radius (\begin{DoxyParamCaption}\item[{const double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}}}]{affine }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00048                                                                           \{}
\DoxyCodeLine{00049     \textcolor{keywordflow}{return} this-\/>m\_radius-\/>getValue(frame) *}
\DoxyCodeLine{00050            ino::pixel\_per\_mm()        \textcolor{comment}{/* render用単位にする */}}
\DoxyCodeLine{00051            * sqrt(fabs(affine.det())) \textcolor{comment}{/* 拡大縮小のGeometryを反映 */}}
\DoxyCodeLine{00052         ;}
\DoxyCodeLine{00053   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__fog_a88015771eaab8a0a27248867133d62fe}\label{classino__fog_a88015771eaab8a0a27248867133d62fe}} 
\index{ino\_fog@{ino\_fog}!getMemoryRequirement@{getMemoryRequirement}}
\index{getMemoryRequirement@{getMemoryRequirement}!ino\_fog@{ino\_fog}}
\doxysubsubsection{\texorpdfstring{getMemoryRequirement()}{getMemoryRequirement()}}
{\footnotesize\ttfamily int ino\+\_\+fog\+::get\+Memory\+Requirement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Specifies the approximate size (in Mega\+Bytes) of the maximum allocation instance that this fx will need to perform in order to render the passed input. This method should be reimplemented in order to make the Toonz rendering process aware of the use of big raster memory chunks, at least. Observe that the passed tile geometry is implicitly {\itshape  already allocated \texorpdfstring{$<$}{<}\textbackslash{}i\texorpdfstring{$>$}{>} for the fx output. ~\newline
The default implementation returns 0, assuming that the passed implicit memory size is passed below in node computation without further allocation of resources. Fxs can reimplement this to -\/1 to explicitly disable the Toonz\textquotesingle{}s smart memory handling. ~\newline
 ~\newline
\begin{DoxyNote}{Note}
The rendering process ensures that the passed render settings are {\itshape handled} by the fx before this function is invoked -\/ do not waste code for it. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRaster\+Fx\+::memory\+Size}} and TRaster\+Fx\+::can\+Handle methods. 
\end{DoxySeeAlso}
}

Reimplemented from \mbox{\hyperlink{class_t_raster_fx_af8eb991c9756f4fb2e48d9f96cbacfba}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00074                                                                  \{}
\DoxyCodeLine{00075     \mbox{\hyperlink{class_t_rect_t}{TRectD}} bBox(rect);}
\DoxyCodeLine{00076     this-\/>get\_render\_enlarge(frame, info.m\_affine, bBox);}
\DoxyCodeLine{00077     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRasterFx::memorySize}}(bBox, info.m\_bpp);}
\DoxyCodeLine{00078   \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00560}{TRaster\+Fx\+::memory\+Size()}}.

\mbox{\Hypertarget{classino__fog_a3aa160b89f56246642c309e2418e2090}\label{classino__fog_a3aa160b89f56246642c309e2418e2090}} 
\index{ino\_fog@{ino\_fog}!transform@{transform}}
\index{transform@{transform}!ino\_fog@{ino\_fog}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}}
{\footnotesize\ttfamily void ino\+\_\+fog\+::transform (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{int}]{port,  }\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Output,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Output,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Input,  }\item[{\mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00081                                                         \{}
\DoxyCodeLine{00082     rectOnInput = rectOnOutput;}
\DoxyCodeLine{00083     infoOnInput = infoOnOutput;}
\DoxyCodeLine{00084     this-\/>get\_render\_enlarge(frame, infoOnOutput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}}, rectOnInput);}
\DoxyCodeLine{00085   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/stdfx/ino\+\_\+fog.\+cpp\end{DoxyCompactItemize}
