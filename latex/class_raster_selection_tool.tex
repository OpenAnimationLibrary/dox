\hypertarget{class_raster_selection_tool}{}\doxysection{Raster\+Selection\+Tool Class Reference}
\label{class_raster_selection_tool}\index{RasterSelectionTool@{RasterSelectionTool}}
Inheritance diagram for Raster\+Selection\+Tool\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_raster_selection_tool}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_raster_selection_tool_a30d191da63fb58619ad41932fd05b1b3}{Raster\+Selection\+Tool}} (int target\+Type)
\item 
void \mbox{\hyperlink{class_raster_selection_tool_a290bb21e6828d37128195cdf55bba3fb}{set\+BBox}} (const \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{Drag\+Selection\+Tool\+::\+Four\+Points}} \&points, int index=0) override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_ae7356bbe057c7cbd8c263ca13093bfb8}{set\+New\+Free\+Deformer}} () override
\item 
\mbox{\hyperlink{class_vector_free_deformer}{Vector\+Free\+Deformer}} $\ast$ \mbox{\hyperlink{class_raster_selection_tool_ad91b6ff4044889343cafc2fab7b510d5}{get\+Selection\+Free\+Deformer}} () const
\item 
bool \mbox{\hyperlink{class_raster_selection_tool_a41d48bd8e4e15239fa8a07db1527da96}{is\+Floating}} () const override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_aeba4d385ac48fbbc64790329e7421e3c}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_ab2eff9edda0e7388295427be168cd077}{mouse\+Move}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_a65952da2279395a28163fa6e5a727e45}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_a8e3918395cd8c18d4fcee96292136cca}{left\+Button\+Up}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_a5321b4801e1c061ba5ca01feec93cbdd}{left\+Button\+Double\+Click}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_a53c4f77bac43b8766df1b290415c09e1}{draw}} () override
\begin{DoxyCompactList}\small\item\em Draws the tool on the viewer. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_selection}{TSelection}} $\ast$ \mbox{\hyperlink{class_raster_selection_tool_a9a464e45100ead00f947d1700431c384}{get\+Selection}} () override
\begin{DoxyCompactList}\small\item\em Returns a pointer to the tool selection. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_raster_selection_tool_adf110f0ef220ac87b5acac3e2802de70}{is\+Selection\+Empty}} () override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_ab07396492d803b74f21b2759ee4b5b36}{compute\+BBox}} () override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_ad62d8987af9e783a8e5af75dd4fad465}{do\+On\+Activate}} () override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_a216025cb1095132d29c822471f278c51}{do\+On\+Deactivate}} () override
\item 
void \mbox{\hyperlink{class_raster_selection_tool_aa353b8a43062f8293fd06d1b86546c07}{on\+Image\+Changed}} () override
\begin{DoxyCompactList}\small\item\em Notifies changes in the image in use. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_raster_selection_tool_afa2b8ed43de86bc0a2103d45f1526ff2}{transform\+Floating\+Selection}} (const \mbox{\hyperlink{class_t_affine}{TAffine}} \&affine, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&center, const \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{Drag\+Selection\+Tool\+::\+Four\+Points}} \&points)
\item 
void \mbox{\hyperlink{class_raster_selection_tool_a2b5708b2c4c7a01813420813258717ce}{increase\+Transformation\+Count}} ()
\item 
void \mbox{\hyperlink{class_raster_selection_tool_abbe0a5087a76b0d56c89dedda9d1df35}{decrease\+Transformation\+Count}} ()
\item 
void \mbox{\hyperlink{class_raster_selection_tool_ac4783ee2c2a3d62d914a41769ed76a12}{on\+Activate}} () override
\begin{DoxyCompactList}\small\item\em Callback invoked whenever the tool activates. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_bool_property}{TBool\+Property}} $\ast$ \mbox{\hyperlink{class_raster_selection_tool_a3baa228ef76075265f1d7cd52433061a}{get\+Modify\+Savebox\+Property}} ()
\item 
bool \mbox{\hyperlink{class_raster_selection_tool_af0114538fae18e880af79f0286c27c1e}{on\+Property\+Changed}} (std\+::string property\+Name) override
\item 
bool \mbox{\hyperlink{class_raster_selection_tool_a99527e3c907f90b2bc35cee70a4c73f9}{get\+No\+Antialiasing\+Value}} ()
\item 
bool \mbox{\hyperlink{class_raster_selection_tool_a44c067d173d7cc1b8e305b7c5be0c3d7}{is\+Selection\+Editable}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_raster_selection_tool_a096b46c0aec830598fb921ad0faa25c1}{update\+Translation}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_raster_selection_tool_a30d191da63fb58619ad41932fd05b1b3}\label{class_raster_selection_tool_a30d191da63fb58619ad41932fd05b1b3}} 
\index{RasterSelectionTool@{RasterSelectionTool}!RasterSelectionTool@{RasterSelectionTool}}
\index{RasterSelectionTool@{RasterSelectionTool}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{RasterSelectionTool()}{RasterSelectionTool()}}
{\footnotesize\ttfamily Raster\+Selection\+Tool\+::\+Raster\+Selection\+Tool (\begin{DoxyParamCaption}\item[{int}]{target\+Type }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00470     : \mbox{\hyperlink{class_selection_tool}{SelectionTool}}(targetType)}
\DoxyCodeLine{00471     , m\_transformationCount(0)}
\DoxyCodeLine{00472     , m\_selectionFreeDeformer(0)}
\DoxyCodeLine{00473     , m\_noAntialiasing(\textcolor{stringliteral}{"{}No Antialiasing"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00474     , m\_modifySavebox(\textcolor{stringliteral}{"{}Modify Savebox"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00475     , m\_setSaveboxTool(0) \{}
\DoxyCodeLine{00476   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_noAntialiasing);}
\DoxyCodeLine{00477   m\_rasterSelection.setView(\textcolor{keyword}{this});}
\DoxyCodeLine{00478   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_tool_ad84e5837b3ed638e3e73373c3195a589}{m\_targetType}} \& \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1}{ToonzImage}}) \{}
\DoxyCodeLine{00479     m\_setSaveboxTool = \textcolor{keyword}{new} \mbox{\hyperlink{class_set_savebox_tool}{SetSaveboxTool}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00480     m\_modifySavebox.setId(\textcolor{stringliteral}{"{}ModifySavebox"{}});}
\DoxyCodeLine{00481   \}}
\DoxyCodeLine{00482 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_raster_selection_tool_ab07396492d803b74f21b2759ee4b5b36}\label{class_raster_selection_tool_ab07396492d803b74f21b2759ee4b5b36}} 
\index{RasterSelectionTool@{RasterSelectionTool}!computeBBox@{computeBBox}}
\index{computeBBox@{computeBBox}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{computeBBox()}{computeBBox()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::compute\+BBox (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00883                                       \{}
\DoxyCodeLine{00884   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image    = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00885   \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = (\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}})image;}
\DoxyCodeLine{00886   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})image;}
\DoxyCodeLine{00887   \textcolor{keywordflow}{if} (!ti \&\& !ri) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00888 }
\DoxyCodeLine{00889   m\_deformValues.reset();}
\DoxyCodeLine{00890 }
\DoxyCodeLine{00891   m\_bboxs.clear();}
\DoxyCodeLine{00892   m\_centers.clear();}
\DoxyCodeLine{00893 }
\DoxyCodeLine{00894   \{}
\DoxyCodeLine{00895     std::vector<TStroke> strokes = m\_rasterSelection.getStrokes();}
\DoxyCodeLine{00896     \mbox{\hyperlink{class_t_rect_t}{TRectD}} strokesRect           = m\_rasterSelection.\mbox{\hyperlink{class_raster_selection_af55ad70d28c650aad626dac005841c75}{getStrokesBound}}(strokes);}
\DoxyCodeLine{00897     \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{DragSelectionTool::FourPoints}} p;}
\DoxyCodeLine{00898     p = strokesRect;}
\DoxyCodeLine{00899     p = p * m\_rasterSelection.getTransformation();}
\DoxyCodeLine{00900     m\_bboxs.push\_back(p);}
\DoxyCodeLine{00901     m\_centers.push\_back((p.getP00() + p.getP11()) * 0.5);}
\DoxyCodeLine{00902     m\_rasterSelection.setSelectionBbox(strokesRect);}
\DoxyCodeLine{00903   \}}
\DoxyCodeLine{00904 }
\DoxyCodeLine{00905   \textcolor{keywordflow}{if} (!m\_freeDeformers.empty()) clearPointerContainer(m\_freeDeformers);}
\DoxyCodeLine{00906 }
\DoxyCodeLine{00907   \textcolor{keywordflow}{if} (m\_selectionFreeDeformer) \{}
\DoxyCodeLine{00908     \textcolor{keyword}{delete} m\_selectionFreeDeformer;}
\DoxyCodeLine{00909     m\_selectionFreeDeformer = 0;}
\DoxyCodeLine{00910   \}}
\DoxyCodeLine{00911 }
\DoxyCodeLine{00912   TTool::getApplication()-\/>getCurrentTool()-\/>\mbox{\hyperlink{class_tool_handle_a39e34f1a30868bad11a629228b07bd40}{notifyToolChanged}}();}
\DoxyCodeLine{00913 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_abbe0a5087a76b0d56c89dedda9d1df35}\label{class_raster_selection_tool_abbe0a5087a76b0d56c89dedda9d1df35}} 
\index{RasterSelectionTool@{RasterSelectionTool}!decreaseTransformationCount@{decreaseTransformationCount}}
\index{decreaseTransformationCount@{decreaseTransformationCount}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{decreaseTransformationCount()}{decreaseTransformationCount()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::decrease\+Transformation\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00998                                                       \{}
\DoxyCodeLine{00999   m\_transformationCount-\/-\/;}
\DoxyCodeLine{01000   m\_rasterSelection.setTransformationCount(m\_transformationCount);}
\DoxyCodeLine{01001   \textcolor{keywordflow}{if} (m\_rasterSelection.getTransformationCount() == 0)}
\DoxyCodeLine{01002     m\_rasterSelection.\mbox{\hyperlink{class_raster_selection_a54bab0e2b8882efafa423cc54d233bba}{pasteFloatingSelection}}();}
\DoxyCodeLine{01003 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_ad62d8987af9e783a8e5af75dd4fad465}\label{class_raster_selection_tool_ad62d8987af9e783a8e5af75dd4fad465}} 
\index{RasterSelectionTool@{RasterSelectionTool}!doOnActivate@{doOnActivate}}
\index{doOnActivate@{doOnActivate}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{doOnActivate()}{doOnActivate()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::do\+On\+Activate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00917                                        \{}
\DoxyCodeLine{00918   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} \&imageCell = \mbox{\hyperlink{class_t_tool_a158a4612dcff62a7f37e5fc3b47ed31c}{TTool::getImageCell}}();}
\DoxyCodeLine{00919 }
\DoxyCodeLine{00920   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image =}
\DoxyCodeLine{00921       imageCell.\mbox{\hyperlink{class_t_xsh_cell_a20b623d308bc09b820ec6b116516f564}{getImage}}(\textcolor{keyword}{false}, 1);  \textcolor{comment}{// => See the onImageChanged() warning !}}
\DoxyCodeLine{00922 }
\DoxyCodeLine{00923   \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = (\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}})image;}
\DoxyCodeLine{00924   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})image;}
\DoxyCodeLine{00925   \textcolor{keywordflow}{if} (!ti \&\& !ri) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00926 }
\DoxyCodeLine{00927   m\_rasterSelection.makeCurrent();}
\DoxyCodeLine{00928   m\_rasterSelection.setCurrentImage(image, imageCell);}
\DoxyCodeLine{00929   m\_rasterSelection.\mbox{\hyperlink{class_raster_selection_ac7347b3813c25e7b5d0d4ef0552cf952}{selectNone}}();}
\DoxyCodeLine{00930   m\_noAntialiasing.setValue(NoAntialiasing);}
\DoxyCodeLine{00931   m\_rasterSelection.setNoAntialiasing(m\_noAntialiasing.getValue());}
\DoxyCodeLine{00932 }
\DoxyCodeLine{00933   TTool::getApplication()}
\DoxyCodeLine{00934       -\/>getCurrentTool()}
\DoxyCodeLine{00935       -\/>\mbox{\hyperlink{class_tool_handle_a39e34f1a30868bad11a629228b07bd40}{notifyToolChanged}}();  \textcolor{comment}{// Refreshes toolbar values}}
\DoxyCodeLine{00936 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a216025cb1095132d29c822471f278c51}\label{class_raster_selection_tool_a216025cb1095132d29c822471f278c51}} 
\index{RasterSelectionTool@{RasterSelectionTool}!doOnDeactivate@{doOnDeactivate}}
\index{doOnDeactivate@{doOnDeactivate}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{doOnDeactivate()}{doOnDeactivate()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::do\+On\+Deactivate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00940                                          \{}
\DoxyCodeLine{00941   TTool::getApplication()-\/>getCurrentSelection()-\/>setSelection(0);}
\DoxyCodeLine{00942   m\_rasterSelection.setCurrentImage(0, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}());}
\DoxyCodeLine{00943   m\_rasterSelection.\mbox{\hyperlink{class_raster_selection_ac7347b3813c25e7b5d0d4ef0552cf952}{selectNone}}();}
\DoxyCodeLine{00944 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a53c4f77bac43b8766df1b290415c09e1}\label{class_raster_selection_tool_a53c4f77bac43b8766df1b290415c09e1}} 
\index{RasterSelectionTool@{RasterSelectionTool}!draw@{draw}}
\index{draw@{draw}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{draw()}{draw()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::draw (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Draws the tool on the viewer. 



Implements \mbox{\hyperlink{class_selection_tool_a64457ad075be6bd4410efe8b02951dc7}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00821                                \{}
\DoxyCodeLine{00822   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image    = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00823   \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = (\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}})image;}
\DoxyCodeLine{00824   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})image;}
\DoxyCodeLine{00825   \textcolor{keywordflow}{if} (!ti \&\& !ri) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00826 }
\DoxyCodeLine{00827   \textcolor{keywordflow}{if} (m\_setSaveboxTool \&\& m\_modifySavebox.getValue()) \{}
\DoxyCodeLine{00828     m\_setSaveboxTool-\/>draw();}
\DoxyCodeLine{00829     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00830   \}}
\DoxyCodeLine{00831 }
\DoxyCodeLine{00832   glPushMatrix();}
\DoxyCodeLine{00833 }
\DoxyCodeLine{00834   \textcolor{comment}{/*-\/-\/ フローティング画像の描画 -\/-\/*/}}
\DoxyCodeLine{00835   drawFloatingSelection();}
\DoxyCodeLine{00836 }
\DoxyCodeLine{00837   \textcolor{keywordflow}{if} (m\_strokeSelectionType.getValue() == POLYLINE\_SELECTION \&\&}
\DoxyCodeLine{00838       !m\_rasterSelection.isFloating())}
\DoxyCodeLine{00839     drawPolylineSelection();}
\DoxyCodeLine{00840   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_strokeSelectionType.getValue() == FREEHAND\_SELECTION \&\&}
\DoxyCodeLine{00841            !m\_rasterSelection.isFloating())}
\DoxyCodeLine{00842     drawFreehandSelection();}
\DoxyCodeLine{00843   \textcolor{keywordflow}{if} (m\_rasterSelection.isEmpty()) m\_bboxs.clear();}
\DoxyCodeLine{00844 }
\DoxyCodeLine{00845   \textcolor{comment}{/*-\/-\/ 選択範囲の変形ハンドルの描画 -\/-\/*/}}
\DoxyCodeLine{00846   \textcolor{keywordflow}{if} (getBBoxsCount() > 0) drawCommandHandle(image.getPointer());}
\DoxyCodeLine{00847 }
\DoxyCodeLine{00848   \textcolor{comment}{/*-\/-\/ 選択範囲の四角形の描画 -\/-\/*/}}
\DoxyCodeLine{00849   \textcolor{keywordflow}{if} (m\_selecting \&\& !m\_selectingRect.isEmpty())}
\DoxyCodeLine{00850     drawRectSelection(image.getPointer());}
\DoxyCodeLine{00851 }
\DoxyCodeLine{00852   \textcolor{comment}{/*-\/-\/ バウンディングボックスの描画 -\/-\/*/}}
\DoxyCodeLine{00853   \textcolor{comment}{/*}}
\DoxyCodeLine{00854 \textcolor{comment}{if(ti)}}
\DoxyCodeLine{00855 \textcolor{comment}{\{}}
\DoxyCodeLine{00856 \textcolor{comment}{   TRectD saveBox = ToonzImageUtils::convertRasterToWorld(ti-\/>getSavebox(), ti);}}
\DoxyCodeLine{00857 \textcolor{comment}{drawRect(saveBox.enlarge(0.5)*ti-\/>getSubsampling(), TPixel32::Black, 0x5555,}}
\DoxyCodeLine{00858 \textcolor{comment}{true);}}
\DoxyCodeLine{00859 \textcolor{comment}{\}}}
\DoxyCodeLine{00860 \textcolor{comment}{*/}}
\DoxyCodeLine{00861 }
\DoxyCodeLine{00862   glPopMatrix();}
\DoxyCodeLine{00863 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_t_rect_t_a53ce09c6112f8a019b43ad82d721a93b}{TRect\+T$<$ T $>$\+::is\+Empty()}}.

\mbox{\Hypertarget{class_raster_selection_tool_a3baa228ef76075265f1d7cd52433061a}\label{class_raster_selection_tool_a3baa228ef76075265f1d7cd52433061a}} 
\index{RasterSelectionTool@{RasterSelectionTool}!getModifySaveboxProperty@{getModifySaveboxProperty}}
\index{getModifySaveboxProperty@{getModifySaveboxProperty}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{getModifySaveboxProperty()}{getModifySaveboxProperty()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_bool_property}{TBool\+Property}} $\ast$ Raster\+Selection\+Tool\+::get\+Modify\+Savebox\+Property (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00241                                             \{}
\DoxyCodeLine{00242     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_tool_ad84e5837b3ed638e3e73373c3195a589}{m\_targetType}} \& \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1}{ToonzImage}}) \textcolor{keywordflow}{return} \&m\_modifySavebox;}
\DoxyCodeLine{00243     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00244   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a99527e3c907f90b2bc35cee70a4c73f9}\label{class_raster_selection_tool_a99527e3c907f90b2bc35cee70a4c73f9}} 
\index{RasterSelectionTool@{RasterSelectionTool}!getNoAntialiasingValue@{getNoAntialiasingValue}}
\index{getNoAntialiasingValue@{getNoAntialiasingValue}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{getNoAntialiasingValue()}{getNoAntialiasingValue()}}
{\footnotesize\ttfamily bool Raster\+Selection\+Tool\+::get\+No\+Antialiasing\+Value (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00246 \{ \textcolor{keywordflow}{return} m\_noAntialiasing.getValue(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a9a464e45100ead00f947d1700431c384}\label{class_raster_selection_tool_a9a464e45100ead00f947d1700431c384}} 
\index{RasterSelectionTool@{RasterSelectionTool}!getSelection@{getSelection}}
\index{getSelection@{getSelection}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{getSelection()}{getSelection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_selection}{TSelection}} $\ast$ Raster\+Selection\+Tool\+::get\+Selection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns a pointer to the tool selection. 



Implements \mbox{\hyperlink{class_selection_tool_a8041c0371ff11a50bc4165812fa64d8a}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00867 \{ \textcolor{keywordflow}{return} \&m\_rasterSelection; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_ad91b6ff4044889343cafc2fab7b510d5}\label{class_raster_selection_tool_ad91b6ff4044889343cafc2fab7b510d5}} 
\index{RasterSelectionTool@{RasterSelectionTool}!getSelectionFreeDeformer@{getSelectionFreeDeformer}}
\index{getSelectionFreeDeformer@{getSelectionFreeDeformer}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{getSelectionFreeDeformer()}{getSelectionFreeDeformer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_vector_free_deformer}{Vector\+Free\+Deformer}} $\ast$ Raster\+Selection\+Tool\+::get\+Selection\+Free\+Deformer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00529                                                                         \{}
\DoxyCodeLine{00530   \textcolor{keywordflow}{return} m\_selectionFreeDeformer;}
\DoxyCodeLine{00531 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a2b5708b2c4c7a01813420813258717ce}\label{class_raster_selection_tool_a2b5708b2c4c7a01813420813258717ce}} 
\index{RasterSelectionTool@{RasterSelectionTool}!increaseTransformationCount@{increaseTransformationCount}}
\index{increaseTransformationCount@{increaseTransformationCount}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{increaseTransformationCount()}{increaseTransformationCount()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::increase\+Transformation\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00989                                                       \{}
\DoxyCodeLine{00990   \textcolor{keywordflow}{if} (m\_rasterSelection.getTransformationCount() != m\_transformationCount)}
\DoxyCodeLine{00991     m\_transformationCount = 0;}
\DoxyCodeLine{00992   m\_transformationCount++;}
\DoxyCodeLine{00993   m\_rasterSelection.setTransformationCount(m\_transformationCount);}
\DoxyCodeLine{00994 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a41d48bd8e4e15239fa8a07db1527da96}\label{class_raster_selection_tool_a41d48bd8e4e15239fa8a07db1527da96}} 
\index{RasterSelectionTool@{RasterSelectionTool}!isFloating@{isFloating}}
\index{isFloating@{isFloating}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{isFloating()}{isFloating()}}
{\footnotesize\ttfamily bool Raster\+Selection\+Tool\+::is\+Floating (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00535                                            \{}
\DoxyCodeLine{00536   \textcolor{keywordflow}{return} m\_rasterSelection.isFloating();}
\DoxyCodeLine{00537 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a44c067d173d7cc1b8e305b7c5be0c3d7}\label{class_raster_selection_tool_a44c067d173d7cc1b8e305b7c5be0c3d7}} 
\index{RasterSelectionTool@{RasterSelectionTool}!isSelectionEditable@{isSelectionEditable}}
\index{isSelectionEditable@{isSelectionEditable}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{isSelectionEditable()}{isSelectionEditable()}}
{\footnotesize\ttfamily bool Raster\+Selection\+Tool\+::is\+Selection\+Editable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00248 \{ \textcolor{keywordflow}{return} m\_rasterSelection.isEditable(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_adf110f0ef220ac87b5acac3e2802de70}\label{class_raster_selection_tool_adf110f0ef220ac87b5acac3e2802de70}} 
\index{RasterSelectionTool@{RasterSelectionTool}!isSelectionEmpty@{isSelectionEmpty}}
\index{isSelectionEmpty@{isSelectionEmpty}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{isSelectionEmpty()}{isSelectionEmpty()}}
{\footnotesize\ttfamily bool Raster\+Selection\+Tool\+::is\+Selection\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00871                                            \{}
\DoxyCodeLine{00872   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image    = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{00873   \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = (\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}})image;}
\DoxyCodeLine{00874   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})image;}
\DoxyCodeLine{00875 }
\DoxyCodeLine{00876   \textcolor{keywordflow}{if} (!ti \&\& !ri) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00877 }
\DoxyCodeLine{00878   \textcolor{keywordflow}{return} m\_rasterSelection.isEmpty();}
\DoxyCodeLine{00879 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a5321b4801e1c061ba5ca01feec93cbdd}\label{class_raster_selection_tool_a5321b4801e1c061ba5ca01feec93cbdd}} 
\index{RasterSelectionTool@{RasterSelectionTool}!leftButtonDoubleClick@{leftButtonDoubleClick}}
\index{leftButtonDoubleClick@{leftButtonDoubleClick}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDoubleClick()}{leftButtonDoubleClick()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::left\+Button\+Double\+Click (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00753                                                                       \{}
\DoxyCodeLine{00754   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image    = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00755   \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = (\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}})image;}
\DoxyCodeLine{00756   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})image;}
\DoxyCodeLine{00757   \textcolor{keywordflow}{if} (!ti \&\& !ri) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00758   \textcolor{keywordflow}{if} (m\_strokeSelectionType.getValue() == POLYLINE\_SELECTION \&\&}
\DoxyCodeLine{00759       !m\_polyline.empty()) \{}
\DoxyCodeLine{00760     \mbox{\hyperlink{class_selection_tool_a1556a79760dc71939d18011cf223a2b0}{closePolyline}}(pos);}
\DoxyCodeLine{00761     \textcolor{keywordflow}{if} (m\_stroke) \{}
\DoxyCodeLine{00762       m\_rasterSelection.\mbox{\hyperlink{class_raster_selection_a1a62989ed221dae211abdee1f2bfa99e}{select}}(*m\_stroke);}
\DoxyCodeLine{00763       m\_rasterSelection.setFrameId(\mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}());}
\DoxyCodeLine{00764       m\_rasterSelection.makeCurrent();}
\DoxyCodeLine{00765     \}}
\DoxyCodeLine{00766     m\_selecting = \textcolor{keyword}{false};}
\DoxyCodeLine{00767     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00768   \}}
\DoxyCodeLine{00769 }
\DoxyCodeLine{00770   TTool::getApplication()}
\DoxyCodeLine{00771       -\/>getCurrentTool()}
\DoxyCodeLine{00772       -\/>\mbox{\hyperlink{class_tool_handle_a39e34f1a30868bad11a629228b07bd40}{notifyToolChanged}}();  \textcolor{comment}{// Refreshes toolbar values}}
\DoxyCodeLine{00773 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_aeba4d385ac48fbbc64790329e7421e3c}\label{class_raster_selection_tool_aeba4d385ac48fbbc64790329e7421e3c}} 
\index{RasterSelectionTool@{RasterSelectionTool}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00598                                                                \{}
\DoxyCodeLine{00599   \textcolor{keywordflow}{if} (m\_setSaveboxTool \&\& m\_modifySavebox.getValue()) \{}
\DoxyCodeLine{00600     m\_setSaveboxTool-\/>leftButtonDown(pos);}
\DoxyCodeLine{00601     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00602   \}}
\DoxyCodeLine{00603   SelectionTool::leftButtonDown(pos, e);}
\DoxyCodeLine{00604 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a65952da2279395a28163fa6e5a727e45}\label{class_raster_selection_tool_a65952da2279395a28163fa6e5a727e45}} 
\index{RasterSelectionTool@{RasterSelectionTool}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00620                                                                \{}
\DoxyCodeLine{00621   \textcolor{keywordflow}{if} (m\_setSaveboxTool \&\& m\_modifySavebox.getValue()) \{}
\DoxyCodeLine{00622     m\_setSaveboxTool-\/>leftButtonDrag(pos);}
\DoxyCodeLine{00623     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00624     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00625   \}}
\DoxyCodeLine{00626 }
\DoxyCodeLine{00627   \textcolor{keywordtype}{double} pixelSize = getPixelSize();}
\DoxyCodeLine{00628   \textcolor{keywordflow}{if} (m\_dragTool) \{}
\DoxyCodeLine{00629     \textcolor{comment}{// Even in Windows version deformation is processed at interval of 20msec.}}
\DoxyCodeLine{00630     \textcolor{comment}{// (See SceneViewer::tabletEvent)}}
\DoxyCodeLine{00631     \textcolor{keywordflow}{if} (e.isHighFrequent()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00632     \textcolor{keywordflow}{if} (!m\_rasterSelection.isEditable()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00633     m\_dragTool-\/>leftButtonDrag(pos, e);}
\DoxyCodeLine{00634     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00635     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00636   \}}
\DoxyCodeLine{00637 }
\DoxyCodeLine{00638   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image    = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00639   \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = (\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}})image;}
\DoxyCodeLine{00640   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})image;}
\DoxyCodeLine{00641   \textcolor{keywordflow}{if} (!ti \&\& !ri) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00642 }
\DoxyCodeLine{00643   \textcolor{keywordflow}{if} (m\_selecting) \{}
\DoxyCodeLine{00644     \textcolor{keywordflow}{if} (m\_strokeSelectionType.getValue() == RECT\_SELECTION) \{}
\DoxyCodeLine{00645       \mbox{\hyperlink{class_t_dimension_t}{TDimension}} imageSize;}
\DoxyCodeLine{00646       \textcolor{keywordflow}{if} (ti)}
\DoxyCodeLine{00647         imageSize = ti-\/>getSize();}
\DoxyCodeLine{00648       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ri)}
\DoxyCodeLine{00649         imageSize = ri-\/>getRaster()-\/>getSize();}
\DoxyCodeLine{00650       \mbox{\hyperlink{class_t_point_t}{TPointD}} p(imageSize.lx \% 2 ? 0.5 : 0.0, imageSize.ly \% 2 ? 0.5 : 0.0);}
\DoxyCodeLine{00651       \mbox{\hyperlink{class_t_rect_t}{TRectD}} rectD(tround(std::min(m\_firstPos.x, pos.x) -\/ p.x) + p.x,}
\DoxyCodeLine{00652                    tround(std::min(m\_firstPos.y, pos.y) -\/ p.y) + p.y,}
\DoxyCodeLine{00653                    tround(std::max(m\_firstPos.x, pos.x) -\/ p.x) + p.x,}
\DoxyCodeLine{00654                    tround(std::max(m\_firstPos.y, pos.y) -\/ p.y) + p.y);}
\DoxyCodeLine{00655 }
\DoxyCodeLine{00656       m\_selectingRect = rectD;}
\DoxyCodeLine{00657       m\_bboxs.clear();}
\DoxyCodeLine{00658 }
\DoxyCodeLine{00659       TTool::getApplication()}
\DoxyCodeLine{00660           -\/>getCurrentTool()}
\DoxyCodeLine{00661           -\/>\mbox{\hyperlink{class_tool_handle_a39e34f1a30868bad11a629228b07bd40}{notifyToolChanged}}();  \textcolor{comment}{// Refreshes toolbar values}}
\DoxyCodeLine{00662 }
\DoxyCodeLine{00663       \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00664     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_strokeSelectionType.getValue() == FREEHAND\_SELECTION) \{}
\DoxyCodeLine{00665       \mbox{\hyperlink{class_selection_tool_aa81b2073bde08fd3872ee2fa185fbe1e}{freehandDrag}}(pos);}
\DoxyCodeLine{00666       \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00667     \}}
\DoxyCodeLine{00668     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00669   \}}
\DoxyCodeLine{00670 }
\DoxyCodeLine{00671   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{00672   \textcolor{keywordflow}{if} (!app || m\_justSelected || !m\_selecting ||}
\DoxyCodeLine{00673       tdistance2(pos, m\_curPos) < 9.0 * pixelSize * pixelSize)}
\DoxyCodeLine{00674     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00675 }
\DoxyCodeLine{00676   m\_curPos = pos;}
\DoxyCodeLine{00677 }
\DoxyCodeLine{00678   \textcolor{keywordflow}{if} (m\_strokeSelectionType.getValue() == FREEHAND\_SELECTION) \{}
\DoxyCodeLine{00679     \mbox{\hyperlink{class_selection_tool_aa81b2073bde08fd3872ee2fa185fbe1e}{freehandDrag}}(pos);}
\DoxyCodeLine{00680     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00681   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_strokeSelectionType.getValue() == RECT\_SELECTION) \{}
\DoxyCodeLine{00682     \textcolor{keywordtype}{bool} selectOverlappingStroke = (m\_firstPos.x > pos.x);}
\DoxyCodeLine{00683     \mbox{\hyperlink{class_t_rect_t}{TRectD}} rect(m\_firstPos, pos);}
\DoxyCodeLine{00684     m\_selectingRect = rect;}
\DoxyCodeLine{00685 }
\DoxyCodeLine{00686     TTool::getApplication()}
\DoxyCodeLine{00687         -\/>getCurrentTool()}
\DoxyCodeLine{00688         -\/>\mbox{\hyperlink{class_tool_handle_a39e34f1a30868bad11a629228b07bd40}{notifyToolChanged}}();  \textcolor{comment}{// Refreshes toolbar values}}
\DoxyCodeLine{00689 }
\DoxyCodeLine{00690     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00691   \}}
\DoxyCodeLine{00692 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a8e3918395cd8c18d4fcee96292136cca}\label{class_raster_selection_tool_a8e3918395cd8c18d4fcee96292136cca}} 
\index{RasterSelectionTool@{RasterSelectionTool}!leftButtonUp@{leftButtonUp}}
\index{leftButtonUp@{leftButtonUp}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{leftButtonUp()}{leftButtonUp()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::left\+Button\+Up (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00697                                                              \{}
\DoxyCodeLine{00698   \textcolor{keywordflow}{if} (m\_setSaveboxTool \&\& m\_modifySavebox.getValue()) \{}
\DoxyCodeLine{00699     m\_setSaveboxTool-\/>leftButtonUp(pos);}
\DoxyCodeLine{00700     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00701     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00702   \}}
\DoxyCodeLine{00703   m\_leftButtonMousePressed = \textcolor{keyword}{false};}
\DoxyCodeLine{00704   m\_shiftPressed           = \textcolor{keyword}{false};}
\DoxyCodeLine{00705 }
\DoxyCodeLine{00706   \textcolor{keywordflow}{if} (m\_dragTool) \{}
\DoxyCodeLine{00707     \textcolor{keywordflow}{if} (!m\_rasterSelection.isEditable()) \{}
\DoxyCodeLine{00708       \textcolor{keyword}{delete} m\_dragTool;}
\DoxyCodeLine{00709       m\_dragTool = 0;}
\DoxyCodeLine{00710       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00711     \}}
\DoxyCodeLine{00712 }
\DoxyCodeLine{00713     m\_dragTool-\/>leftButtonUp(pos, e);}
\DoxyCodeLine{00714     \textcolor{keyword}{delete} m\_dragTool;}
\DoxyCodeLine{00715     m\_dragTool = 0;}
\DoxyCodeLine{00716     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00717     \mbox{\hyperlink{class_t_tool_abd1824e9b49705c534e0a773305294c4}{notifyImageChanged}}();}
\DoxyCodeLine{00718     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00719   \}}
\DoxyCodeLine{00720 }
\DoxyCodeLine{00721   \textcolor{keywordflow}{if} (!m\_selecting) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00722 }
\DoxyCodeLine{00723   \textcolor{comment}{// Se stavo modificando la selezione la completo}}
\DoxyCodeLine{00724 }
\DoxyCodeLine{00725   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image    = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00726   \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = (\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}})image;}
\DoxyCodeLine{00727   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})image;}
\DoxyCodeLine{00728   \textcolor{keywordflow}{if} (ti || ri) \{}
\DoxyCodeLine{00729     \textcolor{keywordflow}{if} (m\_strokeSelectionType.getValue() == RECT\_SELECTION) \{}
\DoxyCodeLine{00730       m\_bboxs.push\_back(m\_selectingRect);}
\DoxyCodeLine{00731       m\_rasterSelection.\mbox{\hyperlink{class_raster_selection_a1a62989ed221dae211abdee1f2bfa99e}{select}}(}
\DoxyCodeLine{00732           \mbox{\hyperlink{class_t_rect_t}{TRectD}}(m\_selectingRect.getP00(), m\_selectingRect.getP11()));}
\DoxyCodeLine{00733       m\_rasterSelection.setFrameId(\mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}());}
\DoxyCodeLine{00734       m\_selectingRect.empty();}
\DoxyCodeLine{00735     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_strokeSelectionType.getValue() == FREEHAND\_SELECTION) \{}
\DoxyCodeLine{00736       \mbox{\hyperlink{class_selection_tool_a8bfc34fc4d618bc00a7baf8b2345eed3}{closeFreehand}}(pos);}
\DoxyCodeLine{00737       \textcolor{keywordflow}{if} (m\_stroke-\/>\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}() > 5) \{}
\DoxyCodeLine{00738         m\_rasterSelection.\mbox{\hyperlink{class_raster_selection_a1a62989ed221dae211abdee1f2bfa99e}{select}}(*m\_stroke);}
\DoxyCodeLine{00739         m\_rasterSelection.setFrameId(\mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}());}
\DoxyCodeLine{00740         m\_rasterSelection.makeCurrent();}
\DoxyCodeLine{00741       \}}
\DoxyCodeLine{00742       m\_track.\mbox{\hyperlink{class_stroke_generator_a4a78460714a37e461296d169715ba460}{clear}}();}
\DoxyCodeLine{00743     \}}
\DoxyCodeLine{00744   \}}
\DoxyCodeLine{00745   m\_selecting    = \textcolor{keyword}{false};}
\DoxyCodeLine{00746   m\_justSelected = \textcolor{keyword}{false};}
\DoxyCodeLine{00747   \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00748 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_ab2eff9edda0e7388295427be168cd077}\label{class_raster_selection_tool_ab2eff9edda0e7388295427be168cd077}} 
\index{RasterSelectionTool@{RasterSelectionTool}!mouseMove@{mouseMove}}
\index{mouseMove@{mouseMove}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{mouseMove()}{mouseMove()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::mouse\+Move (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00608                                                                             \{}
\DoxyCodeLine{00609   \textcolor{keywordflow}{if} (m\_setSaveboxTool \&\& m\_modifySavebox.getValue()) \{}
\DoxyCodeLine{00610     \textcolor{keywordflow}{if} (!m\_leftButtonMousePressed)}
\DoxyCodeLine{00611       m\_cursorId = m\_setSaveboxTool-\/>getCursorId(pos);}
\DoxyCodeLine{00612     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00613   \}}
\DoxyCodeLine{00614   SelectionTool::mouseMove(pos, e);}
\DoxyCodeLine{00615 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_ac4783ee2c2a3d62d914a41769ed76a12}\label{class_raster_selection_tool_ac4783ee2c2a3d62d914a41769ed76a12}} 
\index{RasterSelectionTool@{RasterSelectionTool}!onActivate@{onActivate}}
\index{onActivate@{onActivate}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{onActivate()}{onActivate()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::on\+Activate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Callback invoked whenever the tool activates. 



Reimplemented from \mbox{\hyperlink{class_t_tool_ac286a2681633b4db6106596b4f54e53b}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01007                                      \{}
\DoxyCodeLine{01008   \textcolor{keywordflow}{if} (m\_firstTime) \{}
\DoxyCodeLine{01009     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_tool_ad84e5837b3ed638e3e73373c3195a589}{m\_targetType}} \& \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1}{ToonzImage}})}
\DoxyCodeLine{01010       m\_modifySavebox.setValue(ModifySavebox ? 1 : 0);}
\DoxyCodeLine{01011   \}}
\DoxyCodeLine{01012 }
\DoxyCodeLine{01013   \mbox{\hyperlink{class_selection_tool_abee6387f8a780096576933bf18d5d4b3}{SelectionTool::onActivate}}();}
\DoxyCodeLine{01014 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01296}{Selection\+Tool\+::on\+Activate()}}.

\mbox{\Hypertarget{class_raster_selection_tool_aa353b8a43062f8293fd06d1b86546c07}\label{class_raster_selection_tool_aa353b8a43062f8293fd06d1b86546c07}} 
\index{RasterSelectionTool@{RasterSelectionTool}!onImageChanged@{onImageChanged}}
\index{onImageChanged@{onImageChanged}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{onImageChanged()}{onImageChanged()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::on\+Image\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Notifies changes in the image in use. 



Implements \mbox{\hyperlink{class_selection_tool_a5ea1e5cda592831a8f40e3db766de94c}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00948                                          \{}
\DoxyCodeLine{00949   \textcolor{comment}{// ATTENTION: using getImage(false, 1) *works* here, but it's trickier than}}
\DoxyCodeLine{00950   \textcolor{comment}{// you could}}
\DoxyCodeLine{00951   \textcolor{comment}{// expect. It works because:}}
\DoxyCodeLine{00952 }
\DoxyCodeLine{00953   \textcolor{comment}{// 1. Invoking getImage(true) after getImage(false, 1) will return the same}}
\DoxyCodeLine{00954   \textcolor{comment}{// image}}
\DoxyCodeLine{00955   \textcolor{comment}{// 2. The cached fullsampled image may be in the 'not modified' ImageManager}}
\DoxyCodeLine{00956   \textcolor{comment}{// state.}}
\DoxyCodeLine{00957   \textcolor{comment}{//    Users could then alter the required image level subsampling -\/ but doing}}
\DoxyCodeLine{00958   \textcolor{comment}{//    so will}}
\DoxyCodeLine{00959   \textcolor{comment}{//    immediately redirect here through 'onXshLevelChanged()' (thus resetting}}
\DoxyCodeLine{00960   \textcolor{comment}{//    the subs back to 1).}}
\DoxyCodeLine{00961 }
\DoxyCodeLine{00962   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image    = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false}, 1);}
\DoxyCodeLine{00963   \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = image;}
\DoxyCodeLine{00964   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = image;}
\DoxyCodeLine{00965 }
\DoxyCodeLine{00966   \textcolor{keywordflow}{if} ((!ti \&\& !ri) || image != m\_rasterSelection.getCurrentImage())}
\DoxyCodeLine{00967     m\_rasterSelection.\mbox{\hyperlink{class_raster_selection_ac7347b3813c25e7b5d0d4ef0552cf952}{selectNone}}();}
\DoxyCodeLine{00968 }
\DoxyCodeLine{00969   TTool::getApplication()}
\DoxyCodeLine{00970       -\/>getCurrentTool()}
\DoxyCodeLine{00971       -\/>\mbox{\hyperlink{class_tool_handle_a39e34f1a30868bad11a629228b07bd40}{notifyToolChanged}}();  \textcolor{comment}{// Refreshes toolbar values}}
\DoxyCodeLine{00972 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00065}{Tool\+Handle\+::notify\+Tool\+Changed()}}.

\mbox{\Hypertarget{class_raster_selection_tool_af0114538fae18e880af79f0286c27c1e}\label{class_raster_selection_tool_af0114538fae18e880af79f0286c27c1e}} 
\index{RasterSelectionTool@{RasterSelectionTool}!onPropertyChanged@{onPropertyChanged}}
\index{onPropertyChanged@{onPropertyChanged}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{onPropertyChanged()}{onPropertyChanged()}}
{\footnotesize\ttfamily bool Raster\+Selection\+Tool\+::on\+Property\+Changed (\begin{DoxyParamCaption}\item[{std\+::string}]{property\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} Does the tasks associated to changes in \p propertyName and returns \p
\end{DoxyVerb}
 true; Does the tasks associated to changes in {\ttfamily property\+Name} and returns {\ttfamily true}. 

Reimplemented from \mbox{\hyperlink{class_t_tool_a06694e0586f807c34b18e16341aa9ee2}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01018                                                                   \{}
\DoxyCodeLine{01019   \textcolor{keywordflow}{if} (!m\_rasterSelection.isEditable()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01020 }
\DoxyCodeLine{01021   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_selection_tool_ab75a88cb099f2bd7f33333a203de0578}{SelectionTool::onPropertyChanged}}(propertyName)) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01022   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_tool_ad84e5837b3ed638e3e73373c3195a589}{m\_targetType}} \& \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1}{ToonzImage}}) \{}
\DoxyCodeLine{01023     ModifySavebox = (int)(m\_modifySavebox.getValue());}
\DoxyCodeLine{01024     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01025   \}}
\DoxyCodeLine{01026   \textcolor{keywordflow}{if} (propertyName == m\_noAntialiasing.getName()) \{}
\DoxyCodeLine{01027     NoAntialiasing = m\_noAntialiasing.getValue() ? 1 : 0;}
\DoxyCodeLine{01028     m\_rasterSelection.setNoAntialiasing(m\_noAntialiasing.getValue());}
\DoxyCodeLine{01029   \}}
\DoxyCodeLine{01030 }
\DoxyCodeLine{01031   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01032 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01324}{Selection\+Tool\+::on\+Property\+Changed()}}.

\mbox{\Hypertarget{class_raster_selection_tool_a290bb21e6828d37128195cdf55bba3fb}\label{class_raster_selection_tool_a290bb21e6828d37128195cdf55bba3fb}} 
\index{RasterSelectionTool@{RasterSelectionTool}!setBBox@{setBBox}}
\index{setBBox@{setBBox}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{setBBox()}{setBBox()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::set\+BBox (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{Drag\+Selection\+Tool\+::\+Four\+Points}} \&}]{points,  }\item[{int}]{index = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00487                                              \{}
\DoxyCodeLine{00488   \textcolor{keywordflow}{if} (m\_bboxs.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00489   assert((\textcolor{keywordtype}{int})m\_bboxs.size() > index);}
\DoxyCodeLine{00490   m\_bboxs[index]                  = points;}
\DoxyCodeLine{00491   \mbox{\hyperlink{class_t_affine}{TAffine}} aff                     = m\_rasterSelection.getTransformation();}
\DoxyCodeLine{00492   \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{DragSelectionTool::FourPoints}} p = points * aff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}();}
\DoxyCodeLine{00493   m\_rasterSelection.setSelectionBbox(p.getBox());}
\DoxyCodeLine{00494 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_ae7356bbe057c7cbd8c263ca13093bfb8}\label{class_raster_selection_tool_ae7356bbe057c7cbd8c263ca13093bfb8}} 
\index{RasterSelectionTool@{RasterSelectionTool}!setNewFreeDeformer@{setNewFreeDeformer}}
\index{setNewFreeDeformer@{setNewFreeDeformer}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{setNewFreeDeformer()}{setNewFreeDeformer()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::set\+New\+Free\+Deformer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00498                                              \{}
\DoxyCodeLine{00499   \textcolor{keywordflow}{if} (!m\_freeDeformers.empty() || isSelectionEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00500 }
\DoxyCodeLine{00501   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image = (\mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}})\mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00502 }
\DoxyCodeLine{00503   \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = (\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}})image;}
\DoxyCodeLine{00504   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})image;}
\DoxyCodeLine{00505   \textcolor{keywordflow}{if} (!ti \&\& !ri) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00506 }
\DoxyCodeLine{00507   \textcolor{keywordflow}{if} (!m\_rasterSelection.isEditable()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00508 }
\DoxyCodeLine{00509   \textcolor{keywordflow}{if} (!isFloating()) m\_rasterSelection.\mbox{\hyperlink{class_raster_selection_affb61ef678edf612083b5d4235996bb1}{makeFloating}}();}
\DoxyCodeLine{00510   m\_freeDeformers.push\_back(}
\DoxyCodeLine{00511       \textcolor{keyword}{new} \mbox{\hyperlink{class_raster_free_deformer}{RasterFreeDeformer}}(m\_rasterSelection.getFloatingSelection()));}
\DoxyCodeLine{00512   std::vector<TStroke> strokes = m\_rasterSelection.getOriginalStrokes();}
\DoxyCodeLine{00513   \textcolor{keywordflow}{if} (!strokes.empty()) \{}
\DoxyCodeLine{00514     \mbox{\hyperlink{class_t_vector_image}{TVectorImage}} *vi = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_vector_image}{TVectorImage}}();}
\DoxyCodeLine{00515     std::set<int> indices;}
\DoxyCodeLine{00516     \textcolor{comment}{// Devo deformare anche gli strokes della selezione!!!}}
\DoxyCodeLine{00517     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00518     \textcolor{keywordflow}{for} (i = 0; i < (int)strokes.size(); i++) \{}
\DoxyCodeLine{00519       vi-\/>\mbox{\hyperlink{class_t_vector_image_ae79fbf2aec0f00876382f920227bfa05}{addStroke}}(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_stroke}{TStroke}}(strokes[i]));}
\DoxyCodeLine{00520       indices.insert(i);}
\DoxyCodeLine{00521     \}}
\DoxyCodeLine{00522     m\_selectionFreeDeformer = \textcolor{keyword}{new} \mbox{\hyperlink{class_vector_free_deformer}{VectorFreeDeformer}}(vi, indices);}
\DoxyCodeLine{00523     m\_selectionFreeDeformer-\/>setPreserveThickness(\textcolor{keyword}{true});}
\DoxyCodeLine{00524   \}}
\DoxyCodeLine{00525 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_afa2b8ed43de86bc0a2103d45f1526ff2}\label{class_raster_selection_tool_afa2b8ed43de86bc0a2103d45f1526ff2}} 
\index{RasterSelectionTool@{RasterSelectionTool}!transformFloatingSelection@{transformFloatingSelection}}
\index{transformFloatingSelection@{transformFloatingSelection}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{transformFloatingSelection()}{transformFloatingSelection()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::transform\+Floating\+Selection (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}} \&}]{affine,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{center,  }\item[{const \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{Drag\+Selection\+Tool\+::\+Four\+Points}} \&}]{points }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00978                                                \{}
\DoxyCodeLine{00979   m\_rasterSelection.setTransformation(affine);}
\DoxyCodeLine{00980   \textcolor{keywordflow}{if} (isFloating()) \{}
\DoxyCodeLine{00981     setBBox(points);}
\DoxyCodeLine{00982     setCenter(center);}
\DoxyCodeLine{00983   \}}
\DoxyCodeLine{00984   \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00985 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_selection_tool_a096b46c0aec830598fb921ad0faa25c1}\label{class_raster_selection_tool_a096b46c0aec830598fb921ad0faa25c1}} 
\index{RasterSelectionTool@{RasterSelectionTool}!updateTranslation@{updateTranslation}}
\index{updateTranslation@{updateTranslation}!RasterSelectionTool@{RasterSelectionTool}}
\doxysubsubsection{\texorpdfstring{updateTranslation()}{updateTranslation()}}
{\footnotesize\ttfamily void Raster\+Selection\+Tool\+::update\+Translation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01036                                             \{}
\DoxyCodeLine{01037   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_tool_ad84e5837b3ed638e3e73373c3195a589}{m\_targetType}} \& \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1}{ToonzImage}})}
\DoxyCodeLine{01038     m\_modifySavebox.setQStringName(tr(\textcolor{stringliteral}{"{}Modify Savebox"{}}));}
\DoxyCodeLine{01039 }
\DoxyCodeLine{01040   m\_noAntialiasing.setQStringName(tr(\textcolor{stringliteral}{"{}No Antialiasing"{}}));}
\DoxyCodeLine{01041   SelectionTool::updateTranslation();}
\DoxyCodeLine{01042 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/rasterselectiontool.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/rasterselectiontool.\+cpp\end{DoxyCompactItemize}
