\hypertarget{class_t_script_binding_1_1_scene}{}\doxysection{TScript\+Binding\+::Scene Class Reference}
\label{class_t_script_binding_1_1_scene}\index{TScriptBinding::Scene@{TScriptBinding::Scene}}
Inheritance diagram for TScript\+Binding\+::Scene\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_t_script_binding_1_1_scene}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_ad8f1a5dae831029e61619b85da1142ee}{to\+String}} ()
\item 
int \mbox{\hyperlink{class_t_script_binding_1_1_scene_ab323ee9a77e5aa4fa262e52a67ad0b60}{get\+Frame\+Count}} ()
\item 
int \mbox{\hyperlink{class_t_script_binding_1_1_scene_a0ffc1cf347cc54cbc086bf459f72444b}{get\+Column\+Count}} ()
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_afef7b2dd04c32530bf32a89d7e7ce71a}{load}} (const QScript\+Value \&fp\+Arg)
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_a933a900f4254d560f9484d1dd95b442c}{save}} (const QScript\+Value \&fp\+Arg)
\item 
QString \mbox{\hyperlink{class_t_script_binding_1_1_scene_a414984dd637c14360ac3dcf2d50d6f10}{do\+Set\+Cell}} (int row, int col, const QScript\+Value \&level, const QScript\+Value \&fid)
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_a63df77fe1a2a00e34f8038497fb4d0cf}{set\+Cell}} (int row, int col, const QScript\+Value \&level, const QScript\+Value \&fid)
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_a702c1e40631853f77e326c72a54c3eac}{set\+Cell}} (int row, int col, const QScript\+Value \&cell)
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_af7b95a792d2bb94df98e0fd4d6f33e59}{get\+Cell}} (int row, int col)
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_a52d11e0f53d7020c093e2c18decbca9f}{insert\+Column}} (int col)
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_a203614902c1f713fc91d5a22283478fd}{delete\+Column}} (int col)
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_a826a9009a770feca8cf63c8f721e62c8}{get\+Levels}} () const
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_a52ea16e14e65b493ba190e5c7bd8bc70}{get\+Level}} (const QString \&name) const
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_a3e3bafa643ef3a44f39247f394745f11}{new\+Level}} (const QString \&type, const QString \&name) const
\item 
Q\+\_\+\+INVOKABLE QScript\+Value \mbox{\hyperlink{class_t_script_binding_1_1_scene_adc3cec805badaa9fcc3564995887526e}{load\+Level}} (const QString \&name, const QScript\+Value \&path) const
\item 
\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$ \mbox{\hyperlink{class_t_script_binding_1_1_scene_a0f993a42fb04adbb3bba1689fdaf6611}{get\+Toonz\+Scene}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Properties}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{class_t_script_binding_1_1_scene_ab5a8ad21cb92b06b85383552af79cb53}{frame\+Count}}
\item 
int \mbox{\hyperlink{class_t_script_binding_1_1_scene_a52b97d391607bbbf013f5e77cd5ef60d}{column\+Count}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a3ea9d25ba86e0fc12d5cb325fe8bd284}\label{class_t_script_binding_1_1_scene_a3ea9d25ba86e0fc12d5cb325fe8bd284}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!Scene@{Scene}}
\index{Scene@{Scene}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{Scene()}{Scene()}}
{\footnotesize\ttfamily TScript\+Binding\+::\+Scene\+::\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00019              \{}
\DoxyCodeLine{00020   m\_scene = \textcolor{keyword}{new} \mbox{\hyperlink{class_toonz_scene}{ToonzScene}}();}
\DoxyCodeLine{00021   \mbox{\hyperlink{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}{TProjectManager::instance}}()-\/>\mbox{\hyperlink{class_t_project_manager_a930e00976b60a69ae1708bfd08ebf038}{initializeScene}}(m\_scene);}
\DoxyCodeLine{00022 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a36cab0a293c525671d57d72123548926}\label{class_t_script_binding_1_1_scene_a36cab0a293c525671d57d72123548926}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!````~Scene@{$\sim$Scene}}
\index{````~Scene@{$\sim$Scene}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{$\sim$Scene()}{~Scene()}}
{\footnotesize\ttfamily TScript\+Binding\+::\+Scene\+::$\sim$\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00024 \{ \textcolor{keyword}{delete} m\_scene; \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a203614902c1f713fc91d5a22283478fd}\label{class_t_script_binding_1_1_scene_a203614902c1f713fc91d5a22283478fd}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!deleteColumn@{deleteColumn}}
\index{deleteColumn@{deleteColumn}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{deleteColumn()}{deleteColumn()}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::delete\+Column (\begin{DoxyParamCaption}\item[{int}]{col }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00227                                         \{}
\DoxyCodeLine{00228   m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}{removeColumn}}(col);}
\DoxyCodeLine{00229   \textcolor{keywordflow}{return} context()-\/>thisObject();}
\DoxyCodeLine{00230 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a414984dd637c14360ac3dcf2d50d6f10}\label{class_t_script_binding_1_1_scene_a414984dd637c14360ac3dcf2d50d6f10}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!doSetCell@{doSetCell}}
\index{doSetCell@{doSetCell}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{doSetCell()}{doSetCell()}}
{\footnotesize\ttfamily QString TScript\+Binding\+::\+Scene\+::do\+Set\+Cell (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{const QScript\+Value \&}]{level,  }\item[{const QScript\+Value \&}]{fid }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00146                                                      \{}
\DoxyCodeLine{00147   \textcolor{keywordflow}{if} (row < 0 || col < 0) \{}
\DoxyCodeLine{00148     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Bad row/col values"{}};}
\DoxyCodeLine{00149   \}}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151   QString err;}
\DoxyCodeLine{00152   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell;}
\DoxyCodeLine{00153   cell.m\_frameId = Level::getFid(fidArg, err);}
\DoxyCodeLine{00154   \textcolor{keywordflow}{if} (err != \textcolor{stringliteral}{"{}"{}}) \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{00155   Level *level = qscriptvalue\_cast<Level *>(levelArg);}
\DoxyCodeLine{00156   \textcolor{keywordflow}{if} (level) \{}
\DoxyCodeLine{00157     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_aac1fd1d3ecf0778b8ee139c9119fcdef}{getSimpleLevel}}();}
\DoxyCodeLine{00158     \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *xl       = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}()-\/>getLevel(sl-\/>\mbox{\hyperlink{class_t_xsh_level_a3a59fb1bd3261baee4e889a9edbf0ae8}{getName}}());}
\DoxyCodeLine{00159     \textcolor{keywordflow}{if} (!xl || xl-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}() != sl) \{}
\DoxyCodeLine{00160       \textcolor{keywordflow}{return} tr(\textcolor{stringliteral}{"{}Level is not included in the scene : \%1"{}})}
\DoxyCodeLine{00161           .arg(levelArg.toString());}
\DoxyCodeLine{00162     \}}
\DoxyCodeLine{00163     cell.m\_level = sl;}
\DoxyCodeLine{00164   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00165     \textcolor{keywordflow}{if} (!levelArg.isString())}
\DoxyCodeLine{00166       \textcolor{keywordflow}{return} tr(\textcolor{stringliteral}{"{}\%1 : Expected a Level instance or a level name"{}})}
\DoxyCodeLine{00167           .arg(levelArg.toString());}
\DoxyCodeLine{00168     QString levelName = levelArg.toString();}
\DoxyCodeLine{00169     \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *xl = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}()-\/>getLevel(levelName.toStdWString());}
\DoxyCodeLine{00170     \textcolor{keywordflow}{if} (!xl)}
\DoxyCodeLine{00171       \textcolor{keywordflow}{return} tr(\textcolor{stringliteral}{"{}Level '\%1' is not included in the scene"{}}).arg(levelName);}
\DoxyCodeLine{00172     cell.m\_level = xl;}
\DoxyCodeLine{00173   \}}
\DoxyCodeLine{00174   m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>setCell(row, col, cell);}
\DoxyCodeLine{00175   \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00176 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_af7b95a792d2bb94df98e0fd4d6f33e59}\label{class_t_script_binding_1_1_scene_af7b95a792d2bb94df98e0fd4d6f33e59}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!getCell@{getCell}}
\index{getCell@{getCell}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{getCell()}{getCell()}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::get\+Cell (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00203                                             \{}
\DoxyCodeLine{00204   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell       = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(row, col);}
\DoxyCodeLine{00205   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{00206   \textcolor{keywordflow}{if} (sl) \{}
\DoxyCodeLine{00207     QScriptValue level = create(engine(), \textcolor{keyword}{new} Level(sl));}
\DoxyCodeLine{00208     QScriptValue fid;}
\DoxyCodeLine{00209     \textcolor{keywordflow}{if} (cell.m\_frameId.getLetter().isEmpty())}
\DoxyCodeLine{00210       fid = cell.m\_frameId.getNumber();}
\DoxyCodeLine{00211     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00212       fid = QString::fromStdString(cell.m\_frameId.expand());}
\DoxyCodeLine{00213     QScriptValue result = engine()-\/>newObject();}
\DoxyCodeLine{00214     result.setProperty(\textcolor{stringliteral}{"{}level"{}}, level);}
\DoxyCodeLine{00215     result.setProperty(\textcolor{stringliteral}{"{}fid"{}}, fid);}
\DoxyCodeLine{00216     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00217   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00218     \textcolor{keywordflow}{return} QScriptValue();}
\DoxyCodeLine{00219   \}}
\DoxyCodeLine{00220 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a0ffc1cf347cc54cbc086bf459f72444b}\label{class_t_script_binding_1_1_scene_a0ffc1cf347cc54cbc086bf459f72444b}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!getColumnCount@{getColumnCount}}
\index{getColumnCount@{getColumnCount}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{getColumnCount()}{getColumnCount()}}
{\footnotesize\ttfamily int TScript\+Binding\+::\+Scene\+::get\+Column\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00040 \{ \textcolor{keywordflow}{return} m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}{getColumnCount}}(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_ab323ee9a77e5aa4fa262e52a67ad0b60}\label{class_t_script_binding_1_1_scene_ab323ee9a77e5aa4fa262e52a67ad0b60}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!getFrameCount@{getFrameCount}}
\index{getFrameCount@{getFrameCount}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{getFrameCount()}{getFrameCount()}}
{\footnotesize\ttfamily int TScript\+Binding\+::\+Scene\+::get\+Frame\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00038 \{ \textcolor{keywordflow}{return} m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ab5cd3ad6f894b1acc5656ca747a80627}{getFrameCount}}(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a52ea16e14e65b493ba190e5c7bd8bc70}\label{class_t_script_binding_1_1_scene_a52ea16e14e65b493ba190e5c7bd8bc70}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!getLevel@{getLevel}}
\index{getLevel@{getLevel}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{getLevel()}{getLevel()}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::get\+Level (\begin{DoxyParamCaption}\item[{const QString \&}]{name }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00092                                                       \{}
\DoxyCodeLine{00093   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *xl       = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}()-\/>getLevel(name.toStdWString());}
\DoxyCodeLine{00094   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = xl ? xl-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}() : 0;}
\DoxyCodeLine{00095   \textcolor{keywordflow}{if} (sl) \{}
\DoxyCodeLine{00096     Level *level = \textcolor{keyword}{new} Level(sl);}
\DoxyCodeLine{00097     \textcolor{keywordflow}{return} create(engine(), level);}
\DoxyCodeLine{00098   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00099     \textcolor{keywordflow}{return} QScriptValue();}
\DoxyCodeLine{00100 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a826a9009a770feca8cf63c8f721e62c8}\label{class_t_script_binding_1_1_scene_a826a9009a770feca8cf63c8f721e62c8}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!getLevels@{getLevels}}
\index{getLevels@{getLevels}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{getLevels()}{getLevels()}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::get\+Levels (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00076                                     \{}
\DoxyCodeLine{00077   QScriptValue result = engine()-\/>newArray();}
\DoxyCodeLine{00078   qint32 index        = 0;}
\DoxyCodeLine{00079   std::vector<TXshLevel *> levels;}
\DoxyCodeLine{00080   m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}()-\/>listLevels(levels);}
\DoxyCodeLine{00081   \textcolor{keywordflow}{for} (std::vector<TXshLevel *>::iterator it = levels.begin();}
\DoxyCodeLine{00082        it != levels.end(); ++it) \{}
\DoxyCodeLine{00083     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = (*it)-\/>\mbox{\hyperlink{class_t_xsh_simple_level_aac1fd1d3ecf0778b8ee139c9119fcdef}{getSimpleLevel}}();}
\DoxyCodeLine{00084     \textcolor{keywordflow}{if} (sl) \{}
\DoxyCodeLine{00085       Level *level = \textcolor{keyword}{new} Level(sl);}
\DoxyCodeLine{00086       result.setProperty(index++, create(engine(), level));}
\DoxyCodeLine{00087     \}}
\DoxyCodeLine{00088   \}}
\DoxyCodeLine{00089   \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00090 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a0f993a42fb04adbb3bba1689fdaf6611}\label{class_t_script_binding_1_1_scene_a0f993a42fb04adbb3bba1689fdaf6611}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!getToonzScene@{getToonzScene}}
\index{getToonzScene@{getToonzScene}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{getToonzScene()}{getToonzScene()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$ TScript\+Binding\+::\+Scene\+::get\+Toonz\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00046 \{ \textcolor{keywordflow}{return} m\_scene; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a52d11e0f53d7020c093e2c18decbca9f}\label{class_t_script_binding_1_1_scene_a52d11e0f53d7020c093e2c18decbca9f}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!insertColumn@{insertColumn}}
\index{insertColumn@{insertColumn}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{insertColumn()}{insertColumn()}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::insert\+Column (\begin{DoxyParamCaption}\item[{int}]{col }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00222                                         \{}
\DoxyCodeLine{00223   m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insertColumn}}(col);}
\DoxyCodeLine{00224   \textcolor{keywordflow}{return} context()-\/>thisObject();}
\DoxyCodeLine{00225 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_afef7b2dd04c32530bf32a89d7e7ce71a}\label{class_t_script_binding_1_1_scene_afef7b2dd04c32530bf32a89d7e7ce71a}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!load@{load}}
\index{load@{load}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::load (\begin{DoxyParamCaption}\item[{const QScript\+Value \&}]{fp\+Arg }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00042                                                   \{}
\DoxyCodeLine{00043   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp;}
\DoxyCodeLine{00044   QScriptValue err = checkFilePath(context(), fpArg, fp);}
\DoxyCodeLine{00045   \textcolor{keywordflow}{if} (err.isError()) \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{00046   \textcolor{keywordflow}{if} (!fp.isAbsolute())}
\DoxyCodeLine{00047     fp = \mbox{\hyperlink{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}{TProjectManager::instance}}()-\/>\mbox{\hyperlink{class_t_project_manager_a5267cfeae48d4e7585c3fc56d8d5b0b3}{getCurrentProject}}()-\/>getScenesPath() + fp;}
\DoxyCodeLine{00048   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00049     \textcolor{keywordflow}{if} (!TSystem::doesExistFileOrLevel(fp)) \{}
\DoxyCodeLine{00050       \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00051           tr(\textcolor{stringliteral}{"{}File \%1 doesn't exist"{}}).arg(fpArg.toString()));}
\DoxyCodeLine{00052     \}}
\DoxyCodeLine{00053     m\_scene-\/>load(fp);}
\DoxyCodeLine{00054     \textcolor{keywordflow}{return} context()-\/>thisObject();}
\DoxyCodeLine{00055   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00056     \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00057         tr(\textcolor{stringliteral}{"{}Exception reading \%1"{}}).arg(fpArg.toString()));}
\DoxyCodeLine{00058   \}}
\DoxyCodeLine{00059 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_adc3cec805badaa9fcc3564995887526e}\label{class_t_script_binding_1_1_scene_adc3cec805badaa9fcc3564995887526e}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!loadLevel@{loadLevel}}
\index{loadLevel@{loadLevel}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{loadLevel()}{loadLevel()}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::load\+Level (\begin{DoxyParamCaption}\item[{const QString \&}]{name,  }\item[{const QScript\+Value \&}]{path }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00126                                                                \{}
\DoxyCodeLine{00127   \textcolor{keywordflow}{if} (m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}()-\/>hasLevel(levelName.toStdWString()))}
\DoxyCodeLine{00128     \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00129         tr(\textcolor{stringliteral}{"{}Can't add the level: name(\%1) is already used"{}}).arg(levelName));}
\DoxyCodeLine{00130   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp;}
\DoxyCodeLine{00131   QScriptValue err = checkFilePath(context(), fpArg, fp);}
\DoxyCodeLine{00132   \textcolor{keywordflow}{if} (err.isError()) \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{00133   TFileType::Type type = TFileType::getInfo(fp);}
\DoxyCodeLine{00134   \textcolor{keywordflow}{if} ((type \& TFileType::VIEWABLE) == 0)}
\DoxyCodeLine{00135     \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00136         tr(\textcolor{stringliteral}{"{}Can't load this kind of file as a level : \%1"{}})}
\DoxyCodeLine{00137             .arg(fpArg.toString()));}
\DoxyCodeLine{00138   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *xl = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ae6bd7d22f6310011d48dfb5176344015}{loadLevel}}(fp);}
\DoxyCodeLine{00139   \textcolor{keywordflow}{if} (!xl || !xl-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}())}
\DoxyCodeLine{00140     \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00141         tr(\textcolor{stringliteral}{"{}Could not load level \%1"{}}).arg(fpArg.toString()));}
\DoxyCodeLine{00142   \textcolor{keywordflow}{return} create(engine(), \textcolor{keyword}{new} Level(xl-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}()));}
\DoxyCodeLine{00143 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a3e3bafa643ef3a44f39247f394745f11}\label{class_t_script_binding_1_1_scene_a3e3bafa643ef3a44f39247f394745f11}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!newLevel@{newLevel}}
\index{newLevel@{newLevel}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{newLevel()}{newLevel()}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::new\+Level (\begin{DoxyParamCaption}\item[{const QString \&}]{type,  }\item[{const QString \&}]{name }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00103                                                              \{}
\DoxyCodeLine{00104   \textcolor{keywordtype}{int} levelType = NO\_XSHLEVEL;}
\DoxyCodeLine{00105   \textcolor{keywordflow}{if} (levelTypeStr == \textcolor{stringliteral}{"{}Vector"{}})}
\DoxyCodeLine{00106     levelType = PLI\_XSHLEVEL;}
\DoxyCodeLine{00107   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (levelTypeStr == \textcolor{stringliteral}{"{}ToonzRaster"{}})}
\DoxyCodeLine{00108     levelType = TZP\_XSHLEVEL;}
\DoxyCodeLine{00109   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (levelTypeStr == \textcolor{stringliteral}{"{}Raster"{}})}
\DoxyCodeLine{00110     levelType = OVL\_XSHLEVEL;}
\DoxyCodeLine{00111   \textcolor{keywordflow}{if} (levelType == NO\_XSHLEVEL)}
\DoxyCodeLine{00112     \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00113         tr(\textcolor{stringliteral}{"{}Bad level type (\%1): must be Vector,Raster or ToonzRaster"{}})}
\DoxyCodeLine{00114             .arg(levelTypeStr));}
\DoxyCodeLine{00115 }
\DoxyCodeLine{00116   \textcolor{keywordflow}{if} (m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}()-\/>hasLevel(levelName.toStdWString()))}
\DoxyCodeLine{00117     \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00118         tr(\textcolor{stringliteral}{"{}Can't add the level: name(\%1) is already used"{}}).arg(levelName));}
\DoxyCodeLine{00119 }
\DoxyCodeLine{00120   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *xl = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ac8791183db4daa28bdffdd40e15c3b9e}{createNewLevel}}(levelType, levelName.toStdWString());}
\DoxyCodeLine{00121   xl-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}()-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00122   \textcolor{keywordflow}{return} create(engine(), \textcolor{keyword}{new} Level(xl-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}()));}
\DoxyCodeLine{00123 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a933a900f4254d560f9484d1dd95b442c}\label{class_t_script_binding_1_1_scene_a933a900f4254d560f9484d1dd95b442c}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!save@{save}}
\index{save@{save}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{save()}{save()}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::save (\begin{DoxyParamCaption}\item[{const QScript\+Value \&}]{fp\+Arg }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00061                                                   \{}
\DoxyCodeLine{00062   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp;}
\DoxyCodeLine{00063   QScriptValue err = checkFilePath(context(), fpArg, fp);}
\DoxyCodeLine{00064   \textcolor{keywordflow}{if} (err.isError()) \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{00065   \textcolor{keywordflow}{if} (!fp.isAbsolute())}
\DoxyCodeLine{00066     fp = \mbox{\hyperlink{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}{TProjectManager::instance}}()-\/>\mbox{\hyperlink{class_t_project_manager_a5267cfeae48d4e7585c3fc56d8d5b0b3}{getCurrentProject}}()-\/>getScenesPath() + fp;}
\DoxyCodeLine{00067   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00068     m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ac65f5b13baf094ba58e2e74c6949df61}{save}}(fp);}
\DoxyCodeLine{00069     \textcolor{keywordflow}{return} context()-\/>thisObject();}
\DoxyCodeLine{00070   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00071     \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00072         tr(\textcolor{stringliteral}{"{}Exception writing \%1"{}}).arg(fpArg.toString()));}
\DoxyCodeLine{00073   \}}
\DoxyCodeLine{00074 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a702c1e40631853f77e326c72a54c3eac}\label{class_t_script_binding_1_1_scene_a702c1e40631853f77e326c72a54c3eac}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!setCell@{setCell}}
\index{setCell@{setCell}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{setCell()}{setCell()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::set\+Cell (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{const QScript\+Value \&}]{cell }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00185                                                                          \{}
\DoxyCodeLine{00186   \textcolor{keywordflow}{if} (cellArg.isUndefined()) \{}
\DoxyCodeLine{00187     \textcolor{keywordflow}{if} (row >= 0 \&\& col >= 0)}
\DoxyCodeLine{00188       m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>setCell(row, col, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}());}
\DoxyCodeLine{00189   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00190     \textcolor{keywordflow}{if} (!cellArg.isObject() || cellArg.property(\textcolor{stringliteral}{"{}level"{}}).isUndefined() ||}
\DoxyCodeLine{00191         cellArg.property(\textcolor{stringliteral}{"{}fid"{}}).isUndefined())}
\DoxyCodeLine{00192       \textcolor{keywordflow}{return} context()-\/>throwError(}
\DoxyCodeLine{00193           \textcolor{stringliteral}{"{}Third argument should be an object with attributes 'level' and "{}}}
\DoxyCodeLine{00194           \textcolor{stringliteral}{"{}'fid'"{}});}
\DoxyCodeLine{00195     QScriptValue levelArg = cellArg.property(\textcolor{stringliteral}{"{}level"{}});}
\DoxyCodeLine{00196     QScriptValue fidArg   = cellArg.property(\textcolor{stringliteral}{"{}fid"{}});}
\DoxyCodeLine{00197     QString err           = doSetCell(row, col, levelArg, fidArg);}
\DoxyCodeLine{00198     \textcolor{keywordflow}{if} (err != \textcolor{stringliteral}{"{}"{}}) \textcolor{keywordflow}{return} context()-\/>throwError(err);}
\DoxyCodeLine{00199   \}}
\DoxyCodeLine{00200   \textcolor{keywordflow}{return} context()-\/>thisObject();}
\DoxyCodeLine{00201 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a63df77fe1a2a00e34f8038497fb4d0cf}\label{class_t_script_binding_1_1_scene_a63df77fe1a2a00e34f8038497fb4d0cf}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!setCell@{setCell}}
\index{setCell@{setCell}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{setCell()}{setCell()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::set\+Cell (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{const QScript\+Value \&}]{level,  }\item[{const QScript\+Value \&}]{fid }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00179                                                      \{}
\DoxyCodeLine{00180   QString err = doSetCell(row, col, level, fid);}
\DoxyCodeLine{00181   \textcolor{keywordflow}{if} (err != \textcolor{stringliteral}{"{}"{}}) \textcolor{keywordflow}{return} context()-\/>throwError(err);}
\DoxyCodeLine{00182   \textcolor{keywordflow}{return} context()-\/>thisObject();}
\DoxyCodeLine{00183 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_ad8f1a5dae831029e61619b85da1142ee}\label{class_t_script_binding_1_1_scene_ad8f1a5dae831029e61619b85da1142ee}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!toString@{toString}}
\index{toString@{toString}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{toString()}{toString()}}
{\footnotesize\ttfamily QScript\+Value TScript\+Binding\+::\+Scene\+::to\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00034                              \{}
\DoxyCodeLine{00035   \textcolor{keywordflow}{return} QString(\textcolor{stringliteral}{"{}Scene (\%1 frames)"{}}).arg(getFrameCount());}
\DoxyCodeLine{00036 \}}

\end{DoxyCode}


\doxysubsection{Property Documentation}
\mbox{\Hypertarget{class_t_script_binding_1_1_scene_a52b97d391607bbbf013f5e77cd5ef60d}\label{class_t_script_binding_1_1_scene_a52b97d391607bbbf013f5e77cd5ef60d}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!columnCount@{columnCount}}
\index{columnCount@{columnCount}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{columnCount}{columnCount}}
{\footnotesize\ttfamily int TScript\+Binding\+::\+Scene\+::column\+Count\hspace{0.3cm}{\ttfamily [read]}}

\mbox{\Hypertarget{class_t_script_binding_1_1_scene_ab5a8ad21cb92b06b85383552af79cb53}\label{class_t_script_binding_1_1_scene_ab5a8ad21cb92b06b85383552af79cb53}} 
\index{TScriptBinding::Scene@{TScriptBinding::Scene}!frameCount@{frameCount}}
\index{frameCount@{frameCount}!TScriptBinding::Scene@{TScriptBinding::Scene}}
\doxysubsubsection{\texorpdfstring{frameCount}{frameCount}}
{\footnotesize\ttfamily int TScript\+Binding\+::\+Scene\+::frame\+Count\hspace{0.3cm}{\ttfamily [read]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/scriptbinding\+\_\+scene.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/scriptbinding\+\_\+scene.\+cpp\end{DoxyCompactItemize}
