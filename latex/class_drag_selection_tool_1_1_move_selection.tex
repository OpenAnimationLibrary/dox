\hypertarget{class_drag_selection_tool_1_1_move_selection}{}\doxysection{Drag\+Selection\+Tool\+::Move\+Selection Class Reference}
\label{class_drag_selection_tool_1_1_move_selection}\index{DragSelectionTool::MoveSelection@{DragSelectionTool::MoveSelection}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_drag_selection_tool_1_1_move_selection_a722d478a8377d72e0fd9d97811a736e1}{Move\+Selection}} (\mbox{\hyperlink{class_drag_selection_tool_1_1_deform_tool}{Deform\+Tool}} $\ast$deform\+Tool)
\item 
void \mbox{\hyperlink{class_drag_selection_tool_1_1_move_selection_a40ec992a2ca24678975826d3c1964bda}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e)
\item 
void \mbox{\hyperlink{class_drag_selection_tool_1_1_move_selection_af04514e89afcc66459a814d91b86784c}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_drag_selection_tool_1_1_move_selection_a722d478a8377d72e0fd9d97811a736e1}\label{class_drag_selection_tool_1_1_move_selection_a722d478a8377d72e0fd9d97811a736e1}} 
\index{DragSelectionTool::MoveSelection@{DragSelectionTool::MoveSelection}!MoveSelection@{MoveSelection}}
\index{MoveSelection@{MoveSelection}!DragSelectionTool::MoveSelection@{DragSelectionTool::MoveSelection}}
\doxysubsubsection{\texorpdfstring{MoveSelection()}{MoveSelection()}}
{\footnotesize\ttfamily Drag\+Selection\+Tool\+::\+Move\+Selection\+::\+Move\+Selection (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_drag_selection_tool_1_1_deform_tool}{Deform\+Tool}} $\ast$}]{deform\+Tool }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00515     : m\_deformTool(deformTool), m\_lastDelta(), m\_firstPos() \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_drag_selection_tool_1_1_move_selection_a40ec992a2ca24678975826d3c1964bda}\label{class_drag_selection_tool_1_1_move_selection_a40ec992a2ca24678975826d3c1964bda}} 
\index{DragSelectionTool::MoveSelection@{DragSelectionTool::MoveSelection}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!DragSelectionTool::MoveSelection@{DragSelectionTool::MoveSelection}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void Drag\+Selection\+Tool\+::\+Move\+Selection\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00520                                                                             \{}
\DoxyCodeLine{00521   m\_deformTool-\/>setCurPos(pos);}
\DoxyCodeLine{00522   m\_firstPos = pos;}
\DoxyCodeLine{00523 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_drag_selection_tool_1_1_move_selection_af04514e89afcc66459a814d91b86784c}\label{class_drag_selection_tool_1_1_move_selection_af04514e89afcc66459a814d91b86784c}} 
\index{DragSelectionTool::MoveSelection@{DragSelectionTool::MoveSelection}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!DragSelectionTool::MoveSelection@{DragSelectionTool::MoveSelection}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void Drag\+Selection\+Tool\+::\+Move\+Selection\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00528                                                                             \{}
\DoxyCodeLine{00529   \mbox{\hyperlink{class_t_affine}{TAffine}} aff;}
\DoxyCodeLine{00530   \mbox{\hyperlink{class_t_point_t}{TPointD}} curPos = m\_deformTool-\/>getCurPos();}
\DoxyCodeLine{00531   \mbox{\hyperlink{class_t_point_t}{TPointD}} delta  = pos -\/ curPos;}
\DoxyCodeLine{00532   \textcolor{keywordflow}{if} (e.isShiftPressed()) \{}
\DoxyCodeLine{00533     \textcolor{keywordflow}{if} (m\_lastDelta == \mbox{\hyperlink{class_t_point_t}{TPointD}}()) \{}
\DoxyCodeLine{00534       \mbox{\hyperlink{class_t_point_t}{TPointD}} totalDelta = curPos -\/ m\_firstPos;}
\DoxyCodeLine{00535       aff                = \mbox{\hyperlink{class_t_translation}{TTranslation}}(totalDelta).\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}();}
\DoxyCodeLine{00536     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00537       aff = \mbox{\hyperlink{class_t_translation}{TTranslation}}(m\_lastDelta).\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}();}
\DoxyCodeLine{00538     \textcolor{keywordflow}{if} (fabs((curPos -\/ m\_firstPos).x) > fabs((curPos -\/ m\_firstPos).y))}
\DoxyCodeLine{00539       m\_lastDelta = \mbox{\hyperlink{class_t_point_t}{TPointD}}((curPos -\/ m\_firstPos).x, 0);}
\DoxyCodeLine{00540     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00541       m\_lastDelta = \mbox{\hyperlink{class_t_point_t}{TPointD}}(0, (curPos -\/ m\_firstPos).y);}
\DoxyCodeLine{00542     aff *= \mbox{\hyperlink{class_t_translation}{TTranslation}}(m\_lastDelta);}
\DoxyCodeLine{00543   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00544     aff = \mbox{\hyperlink{class_t_translation}{TTranslation}}(delta);}
\DoxyCodeLine{00545   \textcolor{keywordtype}{double} factor = 1.0 / \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}};}
\DoxyCodeLine{00546   m\_deformTool-\/>getTool()-\/>m\_deformValues.m\_moveValue =}
\DoxyCodeLine{00547       m\_deformTool-\/>getTool()-\/>m\_deformValues.m\_moveValue + factor * delta;}
\DoxyCodeLine{00548   m\_deformTool-\/>transform(aff);}
\DoxyCodeLine{00549   m\_deformTool-\/>setCurPos(pos);}
\DoxyCodeLine{00550   TTool::getApplication()-\/>getCurrentTool()-\/>\mbox{\hyperlink{class_tool_handle_a39e34f1a30868bad11a629228b07bd40}{notifyToolChanged}}();}
\DoxyCodeLine{00551 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/selectiontool.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/selectiontool.\+cpp\end{DoxyCompactItemize}
