\hypertarget{class_t_file_path}{}\doxysection{TFile\+Path Class Reference}
\label{class_t_file_path}\index{TFilePath@{TFilePath}}


{\ttfamily \#include $<$tfilepath.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFile\+Path}} (const char $\ast$path=\char`\"{}\char`\"{})
\item 
\mbox{\hyperlink{class_t_file_path_a478a8844240cb607ba3b89729ff56cea}{TFile\+Path}} (const std\+::string \&path)
\item 
\mbox{\hyperlink{class_t_file_path_a6539d54015ad84281f15bdfa12c13a0e}{TFile\+Path}} (const std\+::wstring \&path)
\item 
\mbox{\hyperlink{class_t_file_path_a0b81eeb47dd6695d7d7ea702da643afe}{TFile\+Path}} (const QString \&path)
\item 
\mbox{\hyperlink{class_t_file_path_aaaacc61d8c6cf6e779bbb330b428ddde}{TFile\+Path}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \& \mbox{\hyperlink{class_t_file_path_a87341556786740477ed6fc8c6c0aa0be}{operator=}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
bool \mbox{\hyperlink{class_t_file_path_a6fa94c81c44a736ba76006338ed26a89}{operator==}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp) const
\item 
bool \mbox{\hyperlink{class_t_file_path_a66b1c0c38f8e5f5084c5dcb0cc3b3b50}{operator!=}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp) const
\item 
bool \mbox{\hyperlink{class_t_file_path_a5a3e02bedca4aec22c29c9193d14118f}{operator$<$}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp) const
\item 
const std\+::wstring \mbox{\hyperlink{class_t_file_path_a3fdd10ec3bbd1bee223c345ae461dc7b}{get\+Wide\+String}} () const
\item 
QString \mbox{\hyperlink{class_t_file_path_a6f5f59b7136a412918f3a9119d58fa7d}{get\+QString}} () const
\item 
std\+::string \mbox{\hyperlink{class_t_file_path_a698bbf714436eb6923359044900cde2b}{get\+Dots}} () const
\item 
std\+::string \mbox{\hyperlink{class_t_file_path_ae69f3fd881d12ebb858c7462417c82b8}{get\+Dotted\+Type}} () const
\item 
std\+::string \mbox{\hyperlink{class_t_file_path_a9c07887e09bef6c00a47c47dcb1a3595}{get\+Undotted\+Type}} () const
\item 
std\+::string \mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{get\+Type}} () const
\item 
std\+::string \mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{get\+Name}} () const
\item 
std\+::wstring \mbox{\hyperlink{class_t_file_path_a622326442c4da7520ecdaec2a0d8d092}{get\+Wide\+Name}} () const
\item 
std\+::string \mbox{\hyperlink{class_t_file_path_a9b256108e6e5ff99f3ba828d4cdbd7ee}{get\+Level\+Name}} () const
\item 
std\+::wstring \mbox{\hyperlink{class_t_file_path_ab647291f08ed28e7ff6e6ae73efb6bea}{get\+Level\+NameW}} () const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{get\+Parent\+Dir}} () const
\item 
\mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \mbox{\hyperlink{class_t_file_path_af4989f7784b96eb3096e3b5777015c28}{get\+Frame}} () const
\item 
bool \mbox{\hyperlink{class_t_file_path_a766b1c37a0d4ab542c5ccd8a35855757}{is\+Ffmpeg\+Type}} () const
\item 
bool \mbox{\hyperlink{class_t_file_path_a99f841e6c4ef05bbee7cfec55acd4646}{is\+Level\+Name}} () const
\item 
bool \mbox{\hyperlink{class_t_file_path_a1c61dae650923adb9b7ee6a37cf17a22}{is\+Absolute}} () const
\item 
bool \mbox{\hyperlink{class_t_file_path_aff46937c8f1b02ecc2200dee5ecf2e92}{is\+Root}} () const
\item 
bool \mbox{\hyperlink{class_t_file_path_a93ba502eaa623c47968d09ad126c7c83}{is\+Empty}} () const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a1437b0e0720e9258b622f68b6858e95d}{with\+Type}} (const std\+::string \&type) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a3ebf9ced558cfef97a60bba536b23c6f}{with\+Name}} (const std\+::string \&name) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a8bc6e64b1ddb2536b022b77b16ac4910}{with\+Name}} (const std\+::wstring \&name) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a09d12d68c4264183e0268dde6f592b2e}{with\+Parent\+Dir}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&dir) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_ac17d65d827432f0fae28fed699bf4afa}{without\+Parent\+Dir}} () const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{with\+Frame}} (const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&frame, TFrame\+Id\+::\+Frame\+Format format=TFrame\+Id\+::\+USE\+\_\+\+CURRENT\+\_\+\+FORMAT) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_ab5cc01a758d429804c28ff6e85834e93}{with\+Frame}} (int f) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a3eeca95fe10ef9419269245ea9f11ec5}{with\+Frame}} (int f, char letter) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a6982c35ce4c9b191e676d93d716f5e0a}{with\+Frame}} () const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a3de193b5fff5e9fb1a132f1ccb12d779}{with\+No\+Frame}} () const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a1ee3e0723d46973bdd227390dc85edf5}{operator+}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \& \mbox{\hyperlink{class_t_file_path_a142a4ca97b81567e67b461245e6464ca}{operator+=}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a25a8e39e1bfb0ec98cff0247a9066c3b}{operator+}} (const std\+::string \&s) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \& \mbox{\hyperlink{class_t_file_path_acd702c83ef1d12657006a57040c43a09}{operator+=}} (const std\+::string \&s)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \& \mbox{\hyperlink{class_t_file_path_acd8acc5fa28ecc3ee9e2af20dd07ba2b}{operator+=}} (const std\+::wstring \&s)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a51f1e71ca8fc9daf878554e48cfa8106}{operator+}} (const std\+::wstring \&s) const
\item 
bool \mbox{\hyperlink{class_t_file_path_a473296db836e8d89a17ae9e2de92c3ec}{is\+Ancestor\+Of}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&) const
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_file_path_a4a2f3b05ef48431eebe49b9f24ff3bdd}{operator-\/}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp) const
\item 
bool \mbox{\hyperlink{class_t_file_path_a45f55de844077877c1f3c9e4c7807f79}{match}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp) const
\item 
void \mbox{\hyperlink{class_t_file_path_a23536fffacdd587b42446e8c9070c654}{split}} (std\+::wstring \&head, \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&tail) const
\item 
TFile\+Path\+Info \mbox{\hyperlink{class_t_file_path_aecf8832a79c01b02bac7057b86aa404f}{analyze\+Path}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{class_t_file_path_ac2f46556ce0dec81e89372e2f7f2d155}{set\+Underscore\+Format\+Allowed}} (bool state)
\item 
static bool \mbox{\hyperlink{class_t_file_path_ad131af83c5947b194e4a70c85afb88b0}{set\+File\+Path\+Properties}} (bool use\+Standard, bool accept\+Non\+Alpha\+Suffix, int letter\+Count\+For\+Suffix)
\item 
static bool \mbox{\hyperlink{class_t_file_path_a629157b37b440b5f098a909ec5706ad3}{use\+Standard}} ()
\item 
static QString \mbox{\hyperlink{class_t_file_path_a0a9dd0b999d2d7df21447cd30fd0ef15}{fid\+Reg\+Exp\+Str}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The class \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} defines a file path.\+Its constructor creates a string according to the platform and to certain rules.\+For more information see the constructor. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}\label{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}} 
\index{TFilePath@{TFilePath}!TFilePath@{TFilePath}}
\index{TFilePath@{TFilePath}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{TFilePath()}{TFilePath()}\hspace{0.1cm}{\footnotesize\ttfamily [1/5]}}
{\footnotesize\ttfamily TFile\+Path\+::\+TFile\+Path (\begin{DoxyParamCaption}\item[{const char $\ast$}]{path = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}

This constructor creates a string removing redundances (\textquotesingle{}//\textquotesingle{}, \textquotesingle{}./\textquotesingle{},etc.) and final slashes, correcting (redressing) the \char`\"{}twisted\char`\"{} slashes. Note that if the current directory is \char`\"{}.\char`\"{}, it becomes \char`\"{}\char`\"{}. If the path is \char`\"{}$<$alpha$>$\+:\char`\"{} a slash will be added 
\begin{DoxyCode}{0}
\DoxyCodeLine{00309 \{ setPath(::to\_wstring(path)); \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00683}{get\+Parent\+Dir()}}, \mbox{\hyperlink{l00860}{with\+Frame()}}, \mbox{\hyperlink{l00808}{with\+Name()}}, \mbox{\hyperlink{l00853}{with\+Parent\+Dir()}}, and \mbox{\hyperlink{l00774}{with\+Type()}}.

\mbox{\Hypertarget{class_t_file_path_a478a8844240cb607ba3b89729ff56cea}\label{class_t_file_path_a478a8844240cb607ba3b89729ff56cea}} 
\index{TFilePath@{TFilePath}!TFilePath@{TFilePath}}
\index{TFilePath@{TFilePath}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{TFilePath()}{TFilePath()}\hspace{0.1cm}{\footnotesize\ttfamily [2/5]}}
{\footnotesize\ttfamily TFile\+Path\+::\+TFile\+Path (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00313 \{ setPath(::to\_wstring(path)); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a6539d54015ad84281f15bdfa12c13a0e}\label{class_t_file_path_a6539d54015ad84281f15bdfa12c13a0e}} 
\index{TFilePath@{TFilePath}!TFilePath@{TFilePath}}
\index{TFilePath@{TFilePath}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{TFilePath()}{TFilePath()}\hspace{0.1cm}{\footnotesize\ttfamily [3/5]}}
{\footnotesize\ttfamily TFile\+Path\+::\+TFile\+Path (\begin{DoxyParamCaption}\item[{const std\+::wstring \&}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00317 \{ setPath(path); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a0b81eeb47dd6695d7d7ea702da643afe}\label{class_t_file_path_a0b81eeb47dd6695d7d7ea702da643afe}} 
\index{TFilePath@{TFilePath}!TFilePath@{TFilePath}}
\index{TFilePath@{TFilePath}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{TFilePath()}{TFilePath()}\hspace{0.1cm}{\footnotesize\ttfamily [4/5]}}
{\footnotesize\ttfamily TFile\+Path\+::\+TFile\+Path (\begin{DoxyParamCaption}\item[{const QString \&}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00321 \{ setPath(path.toStdWString()); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a0bc39dd2f03701efe5090776fcbd664f}\label{class_t_file_path_a0bc39dd2f03701efe5090776fcbd664f}} 
\index{TFilePath@{TFilePath}!````~TFilePath@{$\sim$TFilePath}}
\index{````~TFilePath@{$\sim$TFilePath}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{$\sim$TFilePath()}{~TFilePath()}}
{\footnotesize\ttfamily TFile\+Path\+::$\sim$\+TFile\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00190 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_aaaacc61d8c6cf6e779bbb330b428ddde}\label{class_t_file_path_aaaacc61d8c6cf6e779bbb330b428ddde}} 
\index{TFilePath@{TFilePath}!TFilePath@{TFilePath}}
\index{TFilePath@{TFilePath}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{TFilePath()}{TFilePath()}\hspace{0.1cm}{\footnotesize\ttfamily [5/5]}}
{\footnotesize\ttfamily TFile\+Path\+::\+TFile\+Path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00191 : m\_path(fp.m\_path) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_file_path_aecf8832a79c01b02bac7057b86aa404f}\label{class_t_file_path_aecf8832a79c01b02bac7057b86aa404f}} 
\index{TFilePath@{TFilePath}!analyzePath@{analyzePath}}
\index{analyzePath@{analyzePath}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{analyzePath()}{analyzePath()}}
{\footnotesize\ttfamily TFile\+Path\+::\+TFile\+Path\+Info TFile\+Path\+::analyze\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01037                                                     \{}
\DoxyCodeLine{01038   assert(!TFilePath::m\_useStandard);}
\DoxyCodeLine{01039 }
\DoxyCodeLine{01040   TFilePath::TFilePathInfo info;}
\DoxyCodeLine{01041 }
\DoxyCodeLine{01042   \textcolor{keywordtype}{int} i            = getLastSlash(m\_path);}
\DoxyCodeLine{01043   std::wstring str = m\_path.substr(i + 1);}
\DoxyCodeLine{01044 }
\DoxyCodeLine{01045   \textcolor{keywordflow}{if} (i >= 0) info.parentDir = QString::fromStdWString(m\_path.substr(0, i + 1));}
\DoxyCodeLine{01046 }
\DoxyCodeLine{01047   QString fileName = QString::fromStdWString(str);}
\DoxyCodeLine{01048 }
\DoxyCodeLine{01049   \textcolor{comment}{// Level Name : letters other than  \(\backslash\)/:,;*?"{}<>|}}
\DoxyCodeLine{01050   \textcolor{keyword}{const} QString levelNameRegExp(\textcolor{stringliteral}{"{}([\string^\(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)/:,;*?\(\backslash\)"{}<>|]+)"{}});}
\DoxyCodeLine{01051   \textcolor{comment}{// Sep Char : period or underscore}}
\DoxyCodeLine{01052   \textcolor{keyword}{const} QString sepCharRegExp(\textcolor{stringliteral}{"{}([\(\backslash\)\(\backslash\).\_])"{}});}
\DoxyCodeLine{01053   \textcolor{comment}{// Frame Number and Suffix}}
\DoxyCodeLine{01054   QString fIdRegExp = TFilePath::fidRegExpStr();}
\DoxyCodeLine{01055 }
\DoxyCodeLine{01056   \textcolor{comment}{// Extension：letters other than "{}.\_"{} or  \(\backslash\)/:,;*?"{}<>|  or "{} "{}(space)}}
\DoxyCodeLine{01057   \textcolor{keyword}{const} QString extensionRegExp(\textcolor{stringliteral}{"{}([\string^\(\backslash\)\(\backslash\).\_ \(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)/:,;*?\(\backslash\)"{}<>|]+)"{}});}
\DoxyCodeLine{01058 }
\DoxyCodeLine{01059   \textcolor{comment}{// ignore frame numbers on non-\/sequential (i.e. movie) extension case :}}
\DoxyCodeLine{01060   \textcolor{comment}{// hoge\_0001.mp4}}
\DoxyCodeLine{01061   \textcolor{comment}{// QRegExp rx\_mf("{}\string^"{} + levelNameRegExp + "{}\(\backslash\)\(\backslash\)."{} + extensionRegExp + "{}\$"{});}}
\DoxyCodeLine{01062   \textcolor{comment}{// if (rx\_mf.indexIn(levelName) != -\/1) \{}}
\DoxyCodeLine{01063   \textcolor{comment}{//  QString ext = rx\_mf.cap(2);}}
\DoxyCodeLine{01064   \textcolor{comment}{//  if (!checkForSeqNum(ext)) \{}}
\DoxyCodeLine{01065   \textcolor{comment}{//    info.levelName = rx\_mf.cap(1);}}
\DoxyCodeLine{01066   \textcolor{comment}{//    info.sepChar = QChar();}}
\DoxyCodeLine{01067   \textcolor{comment}{//    info.fId = TFrameId(TFrameId::NO\_FRAME, 0, 0); //NO\_PADで初期化する}}
\DoxyCodeLine{01068   \textcolor{comment}{//    info.extension = ext;}}
\DoxyCodeLine{01069   \textcolor{comment}{//    return info;}}
\DoxyCodeLine{01070   \textcolor{comment}{//  \}}}
\DoxyCodeLine{01071   \textcolor{comment}{//\}}}
\DoxyCodeLine{01072 }
\DoxyCodeLine{01073   \textcolor{comment}{// hogehoge.0001a.jpg}}
\DoxyCodeLine{01074   \textcolor{comment}{// empty frame case : hogehoge..jpg}}
\DoxyCodeLine{01075   QRegExp rx(\textcolor{stringliteral}{"{}\string^"{}} + levelNameRegExp + sepCharRegExp + \textcolor{stringliteral}{"{}(?:"{}} + fIdRegExp + \textcolor{stringliteral}{"{})?"{}} +}
\DoxyCodeLine{01076              \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)."{}} + extensionRegExp + \textcolor{stringliteral}{"{}\$"{}});}
\DoxyCodeLine{01077   \textcolor{keywordflow}{if} (rx.indexIn(fileName) != -\/1) \{}
\DoxyCodeLine{01078     assert(rx.captureCount() == 5);}
\DoxyCodeLine{01079     info.levelName = rx.cap(1);}
\DoxyCodeLine{01080     info.sepChar   = rx.cap(2)[0];}
\DoxyCodeLine{01081     info.extension = rx.cap(5);}
\DoxyCodeLine{01082     \textcolor{comment}{// ignore frame numbers on non-\/sequential (i.e. movie) extension case :}}
\DoxyCodeLine{01083     \textcolor{comment}{// hoge\_0001.mp4}}
\DoxyCodeLine{01084     \textcolor{keywordflow}{if} (!checkForSeqNum(info.extension)) \{}
\DoxyCodeLine{01085       info.levelName = rx.cap(1) + rx.cap(2);}
\DoxyCodeLine{01086       \textcolor{keywordflow}{if} (!rx.cap(3).isEmpty()) info.levelName += rx.cap(3);}
\DoxyCodeLine{01087       \textcolor{keywordflow}{if} (!rx.cap(4).isEmpty()) info.levelName += rx.cap(4);}
\DoxyCodeLine{01088       info.sepChar = QChar();}
\DoxyCodeLine{01089       info.fId = \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::NO\_FRAME, 0, 0);  \textcolor{comment}{// initialize with NO\_PAD}}
\DoxyCodeLine{01090     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01091       QString numberStr = rx.cap(3);}
\DoxyCodeLine{01092       \textcolor{keywordflow}{if} (numberStr.isEmpty())  \textcolor{comment}{// empty frame case : hogehoge..jpg}}
\DoxyCodeLine{01093         info.fId =}
\DoxyCodeLine{01094             \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::EMPTY\_FRAME, 0, 4, info.sepChar.toLatin1());}
\DoxyCodeLine{01095       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01096         \textcolor{keywordtype}{int} number  = numberStr.toInt();}
\DoxyCodeLine{01097         \textcolor{keywordtype}{int} padding = 0;}
\DoxyCodeLine{01098         \textcolor{keywordflow}{if} (numberStr[0] == \textcolor{stringliteral}{"{}0"{}})  \textcolor{comment}{// with padding}}
\DoxyCodeLine{01099           padding = numberStr.count();}
\DoxyCodeLine{01100         QString suffix;}
\DoxyCodeLine{01101         \textcolor{keywordflow}{if} (!rx.cap(4).isEmpty()) suffix = rx.cap(4);}
\DoxyCodeLine{01102         info.fId = \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(number, suffix, padding, info.sepChar.toLatin1());}
\DoxyCodeLine{01103       \}}
\DoxyCodeLine{01104     \}}
\DoxyCodeLine{01105     \textcolor{keywordflow}{return} info;}
\DoxyCodeLine{01106   \}}
\DoxyCodeLine{01107 }
\DoxyCodeLine{01108   \textcolor{comment}{// QRegExp rx\_ef("{}\string^"{} + levelNameRegExp + sepCharRegExp + "{}\(\backslash\)\(\backslash\)."{} +}}
\DoxyCodeLine{01109   \textcolor{comment}{// extensionRegExp + "{}\$"{}); if (rx\_ef.indexIn(levelName) != -\/1) \{}}
\DoxyCodeLine{01110   \textcolor{comment}{//  info.levelName = rx\_ef.cap(1);}}
\DoxyCodeLine{01111   \textcolor{comment}{//  info.sepChar = rx\_ef.cap(2)[0];}}
\DoxyCodeLine{01112   \textcolor{comment}{//  info.fId = TFrameId(TFrameId::EMPTY\_FRAME, 0, 4, info.sepChar.toLatin1());}}
\DoxyCodeLine{01113   \textcolor{comment}{//  info.extension = rx\_ef.cap(3);}}
\DoxyCodeLine{01114   \textcolor{comment}{//  return info;}}
\DoxyCodeLine{01115   \textcolor{comment}{//\}}}
\DoxyCodeLine{01116 }
\DoxyCodeLine{01117   \textcolor{comment}{// no frame case : hogehoge.jpg}}
\DoxyCodeLine{01118   \textcolor{comment}{// no level name case : .jpg}}
\DoxyCodeLine{01119   QRegExp rx\_nf(\textcolor{stringliteral}{"{}\string^(?:"{}} + levelNameRegExp + \textcolor{stringliteral}{"{})?\(\backslash\)\(\backslash\)."{}} + extensionRegExp + \textcolor{stringliteral}{"{}\$"{}});}
\DoxyCodeLine{01120   \textcolor{keywordflow}{if} (rx\_nf.indexIn(fileName) != -\/1) \{}
\DoxyCodeLine{01121     \textcolor{keywordflow}{if} (!rx\_nf.cap(1).isEmpty()) info.levelName = rx\_nf.cap(1);}
\DoxyCodeLine{01122     info.sepChar = QChar();}
\DoxyCodeLine{01123     info.fId = \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::NO\_FRAME, 0, 0);  \textcolor{comment}{// initialize with NO\_PAD}}
\DoxyCodeLine{01124     info.extension = rx\_nf.cap(2);}
\DoxyCodeLine{01125     \textcolor{keywordflow}{return} info;}
\DoxyCodeLine{01126   \}}
\DoxyCodeLine{01127 }
\DoxyCodeLine{01128   \textcolor{comment}{// no periods}}
\DoxyCodeLine{01129   info.levelName = fileName;}
\DoxyCodeLine{01130   info.sepChar   = QChar();}
\DoxyCodeLine{01131   info.fId = \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::NO\_FRAME, 0, 0);  \textcolor{comment}{// initialize with NO\_PAD}}
\DoxyCodeLine{01132   info.extension = QString();}
\DoxyCodeLine{01133   \textcolor{keywordflow}{return} info;}
\DoxyCodeLine{01134 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a0a9dd0b999d2d7df21447cd30fd0ef15}\label{class_t_file_path_a0a9dd0b999d2d7df21447cd30fd0ef15}} 
\index{TFilePath@{TFilePath}!fidRegExpStr@{fidRegExpStr}}
\index{fidRegExpStr@{fidRegExpStr}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{fidRegExpStr()}{fidRegExpStr()}}
{\footnotesize\ttfamily QString TFile\+Path\+::fid\+Reg\+Exp\+Str (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01023                                 \{}
\DoxyCodeLine{01024   \textcolor{keywordflow}{if} (m\_useStandard) \textcolor{keywordflow}{return} QString(\textcolor{stringliteral}{"{}(\(\backslash\)\(\backslash\)d+)([a-\/zA-\/Z]?)"{}});}
\DoxyCodeLine{01025   QString suffixLetter = (m\_acceptNonAlphabetSuffix)}
\DoxyCodeLine{01026                              ? \textcolor{stringliteral}{"{}[\string^\(\backslash\)\(\backslash\).\_ \(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)/:,;*?\(\backslash\)"{}<>|0123456789]"{}}}
\DoxyCodeLine{01027                              : \textcolor{stringliteral}{"{}[a-\/zA-\/Z]"{}};}
\DoxyCodeLine{01028   QString countLetter = (m\_letterCountForSuffix == 0)}
\DoxyCodeLine{01029                             ? \textcolor{stringliteral}{"{}\{0,\}"{}}}
\DoxyCodeLine{01030                             : (QString(\textcolor{stringliteral}{"{}\{0,\%1\}"{}}).arg(m\_letterCountForSuffix));}
\DoxyCodeLine{01031   \textcolor{keywordflow}{return} QString(\textcolor{stringliteral}{"{}(\(\backslash\)\(\backslash\)d+)(\%1\%2)"{}}).arg(suffixLetter).arg(countLetter);}
\DoxyCodeLine{01032   \textcolor{comment}{// const QString fIdRegExp("{}(\(\backslash\)\(\backslash\)d+)([a-\/zA-\/Z]?)"{});}}
\DoxyCodeLine{01033 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a698bbf714436eb6923359044900cde2b}\label{class_t_file_path_a698bbf714436eb6923359044900cde2b}} 
\index{TFilePath@{TFilePath}!getDots@{getDots}}
\index{getDots@{getDots}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getDots()}{getDots()}}
{\footnotesize\ttfamily string TFile\+Path\+::get\+Dots (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns\+: a. \char`\"{}\char`\"{} if there is no filename extension b. \char`\"{}.\char`\"{} if there is a filename extension but no frame c.\char`\"{}..\char`\"{} if there are both filename extension and frame 
\begin{DoxyCode}{0}
\DoxyCodeLine{00539                                    \{}
\DoxyCodeLine{00540   \textcolor{keywordflow}{if} (!TFilePath::m\_useStandard) \{}
\DoxyCodeLine{00541     TFilePathInfo info = analyzePath();}
\DoxyCodeLine{00542     \textcolor{keywordflow}{if} (info.extension.isEmpty()) \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00543     \textcolor{keywordflow}{if} (info.sepChar.isNull()) \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00544     \textcolor{comment}{// return "{}.."{} regardless of sepChar type (either "{}\_"{} or "{}."{})}}
\DoxyCodeLine{00545     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}.."{}};}
\DoxyCodeLine{00546   \}}
\DoxyCodeLine{00547   \textcolor{comment}{//-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00548 }
\DoxyCodeLine{00549   QString type = QString::fromStdString(\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}()).toLower();}
\DoxyCodeLine{00550   \textcolor{keywordflow}{if} (isFfmpegType()) \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00551   \textcolor{keywordtype}{int} i            = getLastSlash(m\_path);}
\DoxyCodeLine{00552   std::wstring str = m\_path.substr(i + 1);}
\DoxyCodeLine{00553   \textcolor{comment}{// potrei anche avere a.b.c.d dove d e' l'estensione}}
\DoxyCodeLine{00554   i = str.rfind(L\textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00555   \textcolor{keywordflow}{if} (i == (\textcolor{keywordtype}{int})std::wstring::npos || str == L\textcolor{stringliteral}{"{}.."{}}) \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00556 }
\DoxyCodeLine{00557   \textcolor{keywordtype}{int} j = str.substr(0, i).rfind(L\textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00558   \textcolor{keywordflow}{if} (j == (\textcolor{keywordtype}{int})std::wstring::npos \&\& m\_underscoreFormatAllowed)}
\DoxyCodeLine{00559     j = str.substr(0, i).rfind(L\textcolor{stringliteral}{"{}\_"{}});}
\DoxyCodeLine{00560 }
\DoxyCodeLine{00561   \textcolor{keywordflow}{if} (j != (\textcolor{keywordtype}{int})std::wstring::npos)}
\DoxyCodeLine{00562     \textcolor{keywordflow}{return} (j == i -\/ 1 || (checkForSeqNum(type) \&\& isNumbers(str, j, i))) ? \textcolor{stringliteral}{"{}.."{}}}
\DoxyCodeLine{00563                                                                           : \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00564   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00565     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00566 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00225}{get\+Type()}}.



Referenced by \mbox{\hyperlink{l01029}{Toonz\+Scene\+::get\+Imported\+Level\+Path()}}, \mbox{\hyperlink{l00269}{TLevel\+Writer\+::renumber\+Fids()}}, \mbox{\hyperlink{l01024}{Flip\+Book\+::set\+Level()}}, and \mbox{\hyperlink{l00860}{with\+Frame()}}.

\mbox{\Hypertarget{class_t_file_path_ae69f3fd881d12ebb858c7462417c82b8}\label{class_t_file_path_ae69f3fd881d12ebb858c7462417c82b8}} 
\index{TFilePath@{TFilePath}!getDottedType@{getDottedType}}
\index{getDottedType@{getDottedType}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getDottedType()}{getDottedType()}}
{\footnotesize\ttfamily string TFile\+Path\+::get\+Dotted\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the filename extension, including leading period (.). Returns \char`\"{}\char`\"{} if there is no filename extension. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00572 \{}
\DoxyCodeLine{00573   \textcolor{keywordflow}{if} (!TFilePath::m\_useStandard) \{}
\DoxyCodeLine{00574     QString ext = analyzePath().extension;}
\DoxyCodeLine{00575     \textcolor{keywordflow}{if} (ext.isEmpty()) \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00576     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}."{}} + ext.toLower().toStdString();}
\DoxyCodeLine{00577   \}}
\DoxyCodeLine{00578 }
\DoxyCodeLine{00579   \textcolor{keywordtype}{int} i            = getLastSlash(m\_path);}
\DoxyCodeLine{00580   std::wstring str = m\_path.substr(i + 1);}
\DoxyCodeLine{00581   i                = str.rfind(L\textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00582   \textcolor{keywordflow}{if} (i == (\textcolor{keywordtype}{int})std::wstring::npos) \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00583 }
\DoxyCodeLine{00584   \textcolor{keywordflow}{return} toLower(::to\_string(str.substr(i)));}
\DoxyCodeLine{00585 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00729}{Studio\+Palette\+Tree\+Viewer\+::drop\+Event()}}, \mbox{\hyperlink{l00123}{TScene\+Properties\+::on\+Initialize()}}, and \mbox{\hyperlink{l00374}{Studio\+Palette\+Tree\+Viewer\+::on\+Item\+Changed()}}.

\mbox{\Hypertarget{class_t_file_path_af4989f7784b96eb3096e3b5777015c28}\label{class_t_file_path_af4989f7784b96eb3096e3b5777015c28}} 
\index{TFilePath@{TFilePath}!getFrame@{getFrame}}
\index{getFrame@{getFrame}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getFrame()}{getFrame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} TFile\+Path\+::get\+Frame (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00719                                    \{}
\DoxyCodeLine{00720   \textcolor{keywordflow}{if} (!TFilePath::m\_useStandard) \{}
\DoxyCodeLine{00721     \textcolor{keywordflow}{return} analyzePath().fId;}
\DoxyCodeLine{00722   \}}
\DoxyCodeLine{00723 }
\DoxyCodeLine{00724   \textcolor{comment}{//-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00725   \textcolor{keywordtype}{int} i            = getLastSlash(m\_path);  \textcolor{comment}{// cerco l'ultimo slash}}
\DoxyCodeLine{00726   std::wstring str = m\_path.substr(i + 1);  \textcolor{comment}{// str e' il path senza parentdir}}
\DoxyCodeLine{00727   QString type     = QString::fromStdString(\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}()).toLower();}
\DoxyCodeLine{00728   i                = str.rfind(L\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00729   \textcolor{keywordflow}{if} (i == (\textcolor{keywordtype}{int})std::wstring::npos || str == L\textcolor{stringliteral}{"{}."{}} || str == L\textcolor{stringliteral}{"{}.."{}})}
\DoxyCodeLine{00730     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::NO\_FRAME);}
\DoxyCodeLine{00731   \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{00732 }
\DoxyCodeLine{00733   j = str.substr(0, i).rfind(L\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00734   \textcolor{keywordflow}{if} (j == (\textcolor{keywordtype}{int})std::wstring::npos \&\& m\_underscoreFormatAllowed)}
\DoxyCodeLine{00735     j = str.substr(0, i).rfind(L\textcolor{charliteral}{'\_'});}
\DoxyCodeLine{00736 }
\DoxyCodeLine{00737   \textcolor{keywordflow}{if} (j == (\textcolor{keywordtype}{int})std::wstring::npos) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::NO\_FRAME);}
\DoxyCodeLine{00738   \textcolor{keywordflow}{if} (i == j + 1) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::EMPTY\_FRAME);}
\DoxyCodeLine{00739 }
\DoxyCodeLine{00740   \textcolor{comment}{// 間が数字でない場合（ファイル名にまぎれた"{}\_"{} や "{}."{}がある場合）を除外する}}
\DoxyCodeLine{00741   \textcolor{keywordflow}{if} (!checkForSeqNum(type) || !isNumbers(str, j, i))}
\DoxyCodeLine{00742     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::NO\_FRAME);}
\DoxyCodeLine{00743 }
\DoxyCodeLine{00744   \textcolor{keywordtype}{int} k, number = 0, digits = 0;}
\DoxyCodeLine{00745   \textcolor{keywordflow}{for} (k = j + 1; k < i \&\& iswdigit(str[k]); k++) \{}
\DoxyCodeLine{00746     digits++;}
\DoxyCodeLine{00747     number = number * 10 + str[k] -\/ L\textcolor{charliteral}{'0'};}
\DoxyCodeLine{00748   \}}
\DoxyCodeLine{00749   \textcolor{keywordtype}{char} letter = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00750   \textcolor{keywordflow}{if} (iswalpha(str[k])) letter = str[k++] + (\textcolor{charliteral}{'a'} -\/ L\textcolor{charliteral}{'a'});}
\DoxyCodeLine{00751 }
\DoxyCodeLine{00752   \textcolor{comment}{//  if (number == 0 || k < i)  // || letter!='\(\backslash\)0')}}
\DoxyCodeLine{00753   \textcolor{comment}{//    throw TMalformedFrameException(}}
\DoxyCodeLine{00754   \textcolor{comment}{//        *this,}}
\DoxyCodeLine{00755   \textcolor{comment}{//        str + L"{}: "{} + QObject::tr("{}Malformed frame name"{}).toStdWString());}}
\DoxyCodeLine{00756   \textcolor{keywordtype}{int} padding = 0;}
\DoxyCodeLine{00757 }
\DoxyCodeLine{00758   \textcolor{keywordflow}{if} (str[j + 1] == \textcolor{charliteral}{'0'}) padding = digits;}
\DoxyCodeLine{00759 }
\DoxyCodeLine{00760   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(number, letter, padding, str[j]);}
\DoxyCodeLine{00761 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a9b256108e6e5ff99f3ba828d4cdbd7ee}\label{class_t_file_path_a9b256108e6e5ff99f3ba828d4cdbd7ee}} 
\index{TFilePath@{TFilePath}!getLevelName@{getLevelName}}
\index{getLevelName@{getLevelName}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getLevelName()}{getLevelName()}}
{\footnotesize\ttfamily string TFile\+Path\+::get\+Level\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the filename (with extension, escluding in case the frame number). ex.\+: \mbox{\hyperlink{class_t_file_path}{TFile\+Path}}(\char`\"{}/pippo/pluto.\+0001.\+gif\char`\"{}).\mbox{\hyperlink{class_t_file_path_a9b256108e6e5ff99f3ba828d4cdbd7ee}{get\+Level\+Name()}} == \char`\"{}pluto..\+gif\char`\"{} 
\begin{DoxyCode}{0}
\DoxyCodeLine{00643                                         \{}
\DoxyCodeLine{00644   return ::to\_string(getLevelNameW());}
\DoxyCodeLine{00645 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00154}{Thumbnail\+Viewer\+::draw\+Item()}}.

\mbox{\Hypertarget{class_t_file_path_ab647291f08ed28e7ff6e6ae73efb6bea}\label{class_t_file_path_ab647291f08ed28e7ff6e6ae73efb6bea}} 
\index{TFilePath@{TFilePath}!getLevelNameW@{getLevelNameW}}
\index{getLevelNameW@{getLevelNameW}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getLevelNameW()}{getLevelNameW()}}
{\footnotesize\ttfamily std\+::wstring TFile\+Path\+::get\+Level\+NameW (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00650                                           \{}
\DoxyCodeLine{00651   \textcolor{keywordflow}{if} (!TFilePath::m\_useStandard) \{}
\DoxyCodeLine{00652     TFilePathInfo info = analyzePath();}
\DoxyCodeLine{00653     \textcolor{keywordflow}{if} (info.extension.isEmpty()) \textcolor{keywordflow}{return} info.levelName.toStdWString();}
\DoxyCodeLine{00654     QString name = info.levelName;}
\DoxyCodeLine{00655     \textcolor{keywordflow}{if} (!info.sepChar.isNull()) name += info.sepChar;}
\DoxyCodeLine{00656     name += \textcolor{stringliteral}{"{}."{}} + info.extension;}
\DoxyCodeLine{00657     \textcolor{keywordflow}{return} name.toStdWString();}
\DoxyCodeLine{00658   \}}
\DoxyCodeLine{00659   \textcolor{comment}{//-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00660 }
\DoxyCodeLine{00661   \textcolor{keywordtype}{int} i            = getLastSlash(m\_path);  \textcolor{comment}{// cerco l'ultimo slash}}
\DoxyCodeLine{00662   std::wstring str = m\_path.substr(i + 1);  \textcolor{comment}{// str e' m\_path senza directory}}
\DoxyCodeLine{00663   QString type     = QString::fromStdString(\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}()).toLower();}
\DoxyCodeLine{00664   \textcolor{keywordflow}{if} (isFfmpegType()) \textcolor{keywordflow}{return} str;}
\DoxyCodeLine{00665   \textcolor{keywordtype}{int} j = str.rfind(L\textcolor{stringliteral}{"{}."{}});                       \textcolor{comment}{// str[j..] = "{}.type"{}}}
\DoxyCodeLine{00666   \textcolor{keywordflow}{if} (j == (\textcolor{keywordtype}{int})std::wstring::npos) \textcolor{keywordflow}{return} str;  \textcolor{comment}{// no frame; no type}}
\DoxyCodeLine{00667   i = str.substr(0, j).rfind(L\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00668   \textcolor{keywordflow}{if} (i == (\textcolor{keywordtype}{int})std::wstring::npos \&\& m\_underscoreFormatAllowed)}
\DoxyCodeLine{00669     i = str.substr(0, j).rfind(L\textcolor{charliteral}{'\_'});}
\DoxyCodeLine{00670 }
\DoxyCodeLine{00671   \textcolor{keywordflow}{if} (j == i || j -\/ i == 1)  \textcolor{comment}{// prova.tif o prova..tif}}
\DoxyCodeLine{00672     \textcolor{keywordflow}{return} str;}
\DoxyCodeLine{00673 }
\DoxyCodeLine{00674   \textcolor{keywordflow}{if} (!checkForSeqNum(type) || !isNumbers(str, i, j) ||}
\DoxyCodeLine{00675       i == (\textcolor{keywordtype}{int})std::wstring::npos)}
\DoxyCodeLine{00676     \textcolor{keywordflow}{return} str;}
\DoxyCodeLine{00677   \textcolor{comment}{// prova.0001.tif}}
\DoxyCodeLine{00678   \textcolor{keywordflow}{return} str.erase(i + 1, j -\/ i -\/ 1);}
\DoxyCodeLine{00679 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}\label{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}} 
\index{TFilePath@{TFilePath}!getName@{getName}}
\index{getName@{getName}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getName()}{getName()}}
{\footnotesize\ttfamily string TFile\+Path\+::get\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the base filename (no extension, no dots, no slash) 
\begin{DoxyCode}{0}
\DoxyCodeLine{00637 \{}
\DoxyCodeLine{00638   return ::to\_string(getWideName());}
\DoxyCodeLine{00639 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l02175}{TXsh\+Simple\+Level\+::copy\+Files()}}, \mbox{\hyperlink{l00226}{Studio\+Palette\+Tree\+Viewer\+::create\+Item()}}, \mbox{\hyperlink{l00187}{Studio\+Palette\+Tree\+Viewer\+::create\+Root\+Item()}}, \mbox{\hyperlink{l01231}{Toonz\+Scene\+::decode\+File\+Path()}}, \mbox{\hyperlink{l00729}{Studio\+Palette\+Tree\+Viewer\+::drop\+Event()}}, \mbox{\hyperlink{l00610}{Export\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l00614}{Save\+Scene\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01871}{Save\+Palette\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l00413}{Io\+Cmd\+::export\+Level()}}, \mbox{\hyperlink{l00463}{TProject\+::get\+Folder\+Index\+From\+Path()}}, \mbox{\hyperlink{l02289}{TXsh\+Simple\+Level\+::get\+Hook\+Path()}}, \mbox{\hyperlink{l00643}{TIStream\+::get\+Repository\+Path()}}, \mbox{\hyperlink{l00319}{TOStream\+::get\+Repository\+Path()}}, \mbox{\hyperlink{l01558}{Toonz\+Scene\+::get\+Save\+Path()}}, \mbox{\hyperlink{l02357}{Io\+Cmd\+::load\+Resources()}}, \mbox{\hyperlink{l01357}{Output\+Settings\+Popup\+::on\+Add\+Preset\+Button\+Pressed()}}, \mbox{\hyperlink{l00374}{Studio\+Palette\+Tree\+Viewer\+::on\+Item\+Changed()}}, \mbox{\hyperlink{l00990}{Output\+Settings\+Popup\+::on\+Name\+Changed()}}, \mbox{\hyperlink{l01407}{TLevel\+Writer\+Tzl\+::optimize()}}, \mbox{\hyperlink{l02231}{TXsh\+Simple\+Level\+::remove\+Files()}}, \mbox{\hyperlink{l02210}{TXsh\+Simple\+Level\+::rename\+Files()}}, \mbox{\hyperlink{l00209}{Scene\+Level\+::save()}}, and \mbox{\hyperlink{l00802}{Output\+Settings\+Popup\+::update\+Field()}}.

\mbox{\Hypertarget{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}\label{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}} 
\index{TFilePath@{TFilePath}!getParentDir@{getParentDir}}
\index{getParentDir@{getParentDir}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getParentDir()}{getParentDir()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::get\+Parent\+Dir (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the parent directory escluding the eventual final slash. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00684 \{}
\DoxyCodeLine{00685   \textcolor{keywordtype}{int} i = getLastSlash(m\_path);  \textcolor{comment}{// cerco l'ultimo slash}}
\DoxyCodeLine{00686   \textcolor{keywordflow}{if} (i < 0) \{}
\DoxyCodeLine{00687     \textcolor{keywordflow}{if} (m\_path.length() >= 2 \&\&}
\DoxyCodeLine{00688         ((\textcolor{charliteral}{'a'} <= m\_path[0] \&\& m\_path[0] <= \textcolor{charliteral}{'z'}) ||}
\DoxyCodeLine{00689          (\textcolor{charliteral}{'A'} <= m\_path[0] \&\& m\_path[0] <= \textcolor{charliteral}{'Z'})) \&\&}
\DoxyCodeLine{00690         m\_path[1] == \textcolor{charliteral}{':'})}
\DoxyCodeLine{00691       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, 2));}
\DoxyCodeLine{00692     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00693       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00694   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (i == 0)}
\DoxyCodeLine{00695     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(\textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{00696   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00697     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, i));}
\DoxyCodeLine{00698 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00309}{TFile\+Path()}}.



Referenced by \mbox{\hyperlink{l01412}{Toonz\+Scene\+::code\+Save\+Path()}}, \mbox{\hyperlink{l01058}{Toonz\+Scene\+::convert\+Level\+If\+Needed()}}, \mbox{\hyperlink{l02175}{TXsh\+Simple\+Level\+::copy\+Files()}}, \mbox{\hyperlink{l00697}{Studio\+Palette\+Cmd\+::create\+Palette()}}, \mbox{\hyperlink{l01231}{Toonz\+Scene\+::decode\+File\+Path()}}, \mbox{\hyperlink{l01439}{Toonz\+Scene\+::decode\+Save\+Path()}}, \mbox{\hyperlink{l00729}{Studio\+Palette\+Tree\+Viewer\+::drop\+Event()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01783}{Replace\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l01871}{Save\+Palette\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l00413}{Io\+Cmd\+::export\+Level()}}, \mbox{\hyperlink{l00971}{TProject\+Manager\+::get\+Current\+Project\+Path()}}, \mbox{\hyperlink{l02321}{TXsh\+Simple\+Level\+::get\+Existing\+Hook\+File()}}, \mbox{\hyperlink{l00463}{TProject\+::get\+Folder\+Index\+From\+Path()}}, \mbox{\hyperlink{l02304}{TXsh\+Simple\+Level\+::get\+Hook\+Files()}}, \mbox{\hyperlink{l01547}{Toonz\+Scene\+::get\+Icon\+Path()}}, \mbox{\hyperlink{l01029}{Toonz\+Scene\+::get\+Imported\+Level\+Path()}}, \mbox{\hyperlink{l00051}{TProject\+::get\+Project\+Folder()}}, \mbox{\hyperlink{l00643}{TIStream\+::get\+Repository\+Path()}}, \mbox{\hyperlink{l00319}{TOStream\+::get\+Repository\+Path()}}, \mbox{\hyperlink{l01168}{TProject\+Manager\+::get\+Sandbox\+Project\+Folder()}}, \mbox{\hyperlink{l00644}{TProject\+::load()}}, \mbox{\hyperlink{l00378}{Shader\+Interface\+::\+Shader\+Data\+::load\+Data()}}, \mbox{\hyperlink{l00256}{Shader\+Interface\+::load\+Data()}}, \mbox{\hyperlink{l02357}{Io\+Cmd\+::load\+Resources()}}, \mbox{\hyperlink{l01015}{TProject\+Manager\+::load\+Scene\+Project()}}, \mbox{\hyperlink{l00374}{Studio\+Palette\+Tree\+Viewer\+::on\+Item\+Changed()}}, \mbox{\hyperlink{l00186}{Palettes\+Scan\+Popup\+::on\+Plt()}}, \mbox{\hyperlink{l00832}{TProject\+Manager\+::project\+Path\+To\+Project\+Name()}}, \mbox{\hyperlink{l02231}{TXsh\+Simple\+Level\+::remove\+Files()}}, \mbox{\hyperlink{l02210}{TXsh\+Simple\+Level\+::rename\+Files()}}, \mbox{\hyperlink{l00269}{TLevel\+Writer\+::renumber\+Fids()}}, \mbox{\hyperlink{l00209}{Scene\+Level\+::save()}}, \mbox{\hyperlink{l01404}{TXsh\+Simple\+Level\+::save()}}, \mbox{\hyperlink{l00590}{Toonz\+Scene\+::save()}}, \mbox{\hyperlink{l00524}{TProject\+::save()}}, \mbox{\hyperlink{l00355}{Shader\+Interface\+::\+Shader\+Data\+::save\+Data()}}, \mbox{\hyperlink{l00193}{Shader\+Interface\+::save\+Data()}}, and \mbox{\hyperlink{l00802}{Output\+Settings\+Popup\+::update\+Field()}}.

\mbox{\Hypertarget{class_t_file_path_a6f5f59b7136a412918f3a9119d58fa7d}\label{class_t_file_path_a6f5f59b7136a412918f3a9119d58fa7d}} 
\index{TFilePath@{TFilePath}!getQString@{getQString}}
\index{getQString@{getQString}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getQString()}{getQString()}}
{\footnotesize\ttfamily QString TFile\+Path\+::get\+QString (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00490                                     \{}
\DoxyCodeLine{00491   \textcolor{keywordflow}{return} QString::fromStdWString(getWideString());}
\DoxyCodeLine{00492 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}\label{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}} 
\index{TFilePath@{TFilePath}!getType@{getType}}
\index{getType@{getType}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getType()}{getType()}}
{\footnotesize\ttfamily std\+::string TFile\+Path\+::get\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

It is equal to \mbox{\hyperlink{class_t_file_path_a9c07887e09bef6c00a47c47dcb1a3595}{get\+Undotted\+Type()}}\+: Returns the filename extension, excluding leading period (.). Returns \char`\"{}\char`\"{} if there is no filename extension. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00225                             \{}
\DoxyCodeLine{00226     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a9c07887e09bef6c00a47c47dcb1a3595}{getUndottedType}}();}
\DoxyCodeLine{00227   \}  \textcolor{comment}{// ritorna l'estensione SENZA PUNTO}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00083}{Image\+Loader\+::build()}}, \mbox{\hyperlink{l02175}{TXsh\+Simple\+Level\+::copy\+Files()}}, \mbox{\hyperlink{l00761}{Palette\+Viewer\+::drag\+Enter\+Event()}}, \mbox{\hyperlink{l00691}{Studio\+Palette\+Tree\+Viewer\+::drag\+Enter\+Event()}}, \mbox{\hyperlink{l00120}{Color\+Model\+Viewer\+::drag\+Enter\+Event()}}, \mbox{\hyperlink{l00711}{Studio\+Palette\+Tree\+Viewer\+::drag\+Move\+Event()}}, \mbox{\hyperlink{l00154}{Thumbnail\+Viewer\+::draw\+Item()}}, \mbox{\hyperlink{l00799}{Palette\+Viewer\+::drop\+Event()}}, \mbox{\hyperlink{l00729}{Studio\+Palette\+Tree\+Viewer\+::drop\+Event()}}, \mbox{\hyperlink{l00055}{Load\+Task\+List\+Popup\+::execute()}}, \mbox{\hyperlink{l00093}{Load\+Task\+Popup\+::execute()}}, \mbox{\hyperlink{l00088}{Save\+Curve\+Popup\+::execute()}}, \mbox{\hyperlink{l00123}{Load\+Curve\+Popup\+::execute()}}, \mbox{\hyperlink{l00168}{Export\+Curve\+Popup\+::execute()}}, \mbox{\hyperlink{l00466}{Generic\+Save\+File\+Popup\+::execute()}}, \mbox{\hyperlink{l00521}{Load\+Scene\+Popup\+::execute()}}, \mbox{\hyperlink{l00576}{Load\+Sub\+Scene\+Popup\+::execute()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01871}{Save\+Palette\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l00413}{Io\+Cmd\+::export\+Level()}}, \mbox{\hyperlink{l00539}{get\+Dots()}}, \mbox{\hyperlink{l02252}{TXsh\+Simple\+Level\+::get\+Files()}}, \mbox{\hyperlink{l01029}{Toonz\+Scene\+::get\+Imported\+Level\+Path()}}, \mbox{\hyperlink{l00710}{TProject\+::is\+AProject\+Path()}}, \mbox{\hyperlink{l00908}{Vectorizer\+Popup\+::is\+Level\+To\+Convert()}}, \mbox{\hyperlink{l01083}{TXsh\+Simple\+Level\+::load()}}, \mbox{\hyperlink{l00902}{TXsh\+Simple\+Level\+::load\+Data()}}, \mbox{\hyperlink{l02357}{Io\+Cmd\+::load\+Resources()}}, \mbox{\hyperlink{l01883}{TXsh\+Simple\+Level\+::make\+Tlv()}}, \mbox{\hyperlink{l00721}{Render\+Command\+::multimedia\+Render()}}, \mbox{\hyperlink{l01054}{Output\+Settings\+Popup\+::on\+Format\+Changed()}}, \mbox{\hyperlink{l00412}{Studio\+Palette\+Tree\+Viewer\+::on\+Item\+Selection\+Changed()}}, \mbox{\hyperlink{l01091}{Output\+Settings\+Popup\+::open\+Settings\+Popup()}}, \mbox{\hyperlink{l02231}{TXsh\+Simple\+Level\+::remove\+Files()}}, \mbox{\hyperlink{l02210}{TXsh\+Simple\+Level\+::rename\+Files()}}, \mbox{\hyperlink{l00269}{TLevel\+Writer\+::renumber\+Fids()}}, \mbox{\hyperlink{l01151}{File\+Icon\+Renderer\+::run()}}, \mbox{\hyperlink{l00209}{Scene\+Level\+::save()}}, \mbox{\hyperlink{l01468}{TXsh\+Simple\+Level\+::save()}}, \mbox{\hyperlink{l00190}{Scene\+Level\+::\+Scene\+Level()}}, \mbox{\hyperlink{l00211}{TXsh\+Simple\+Level\+::set\+Editable\+Range()}}, \mbox{\hyperlink{l01024}{Flip\+Book\+::set\+Level()}}, \mbox{\hyperlink{l00671}{Studio\+Palette\+Tree\+Viewer\+::start\+Drag\+Drop()}}, \mbox{\hyperlink{l00156}{Palettes\+Scan\+Popup\+::step()}}, \mbox{\hyperlink{l00802}{Output\+Settings\+Popup\+::update\+Field()}}, \mbox{\hyperlink{l00860}{with\+Frame()}}, and \mbox{\hyperlink{l00808}{with\+Name()}}.

\mbox{\Hypertarget{class_t_file_path_a9c07887e09bef6c00a47c47dcb1a3595}\label{class_t_file_path_a9c07887e09bef6c00a47c47dcb1a3595}} 
\index{TFilePath@{TFilePath}!getUndottedType@{getUndottedType}}
\index{getUndottedType@{getUndottedType}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getUndottedType()}{getUndottedType()}}
{\footnotesize\ttfamily string TFile\+Path\+::get\+Undotted\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the filename extension, escluding leading period (.). Returns \char`\"{}\char`\"{} if there is no filename extension. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00591 \{}
\DoxyCodeLine{00592   \textcolor{keywordflow}{if} (!TFilePath::m\_useStandard) \{}
\DoxyCodeLine{00593     QString ext = analyzePath().extension;}
\DoxyCodeLine{00594     \textcolor{keywordflow}{if} (ext.isEmpty())}
\DoxyCodeLine{00595       \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00596     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00597       \textcolor{keywordflow}{return} ext.toLower().toStdString();}
\DoxyCodeLine{00598   \}}
\DoxyCodeLine{00599 }
\DoxyCodeLine{00600   \textcolor{comment}{//-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00601   \textcolor{keywordtype}{size\_t} i         = getLastSlash(m\_path);}
\DoxyCodeLine{00602   std::wstring str = m\_path.substr(i + 1);}
\DoxyCodeLine{00603   i                = str.rfind(L\textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00604   \textcolor{keywordflow}{if} (i == std::wstring::npos || i == str.length() -\/ 1) \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00605   \textcolor{keywordflow}{return} toLower(::to\_string(str.substr(i + 1)));}
\DoxyCodeLine{00606 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00359}{TScene\+Properties\+::load\+Data()}}.

\mbox{\Hypertarget{class_t_file_path_a622326442c4da7520ecdaec2a0d8d092}\label{class_t_file_path_a622326442c4da7520ecdaec2a0d8d092}} 
\index{TFilePath@{TFilePath}!getWideName@{getWideName}}
\index{getWideName@{getWideName}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getWideName()}{getWideName()}}
{\footnotesize\ttfamily std\+::wstring TFile\+Path\+::get\+Wide\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00611 \{}
\DoxyCodeLine{00612   \textcolor{keywordflow}{if} (!TFilePath::m\_useStandard) \{}
\DoxyCodeLine{00613     \textcolor{keywordflow}{return} analyzePath().levelName.toStdWString();}
\DoxyCodeLine{00614   \}}
\DoxyCodeLine{00615   \textcolor{comment}{//-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00616 }
\DoxyCodeLine{00617   QString type     = QString::fromStdString(\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}()).toLower();}
\DoxyCodeLine{00618   \textcolor{keywordtype}{int} i            = getLastSlash(m\_path);  \textcolor{comment}{// cerco l'ultimo slash}}
\DoxyCodeLine{00619   std::wstring str = m\_path.substr(i + 1);}
\DoxyCodeLine{00620   i                = str.rfind(L\textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00621   \textcolor{keywordflow}{if} (i == (\textcolor{keywordtype}{int})std::wstring::npos) \textcolor{keywordflow}{return} str;}
\DoxyCodeLine{00622   \textcolor{keywordtype}{int} j = str.substr(0, i).rfind(L\textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00623   \textcolor{keywordflow}{if} (j != (\textcolor{keywordtype}{int})std::wstring::npos) \{}
\DoxyCodeLine{00624     \textcolor{keywordflow}{if} (checkForSeqNum(type) \&\& isNumbers(str, j, i)) i = j;}
\DoxyCodeLine{00625   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_underscoreFormatAllowed) \{}
\DoxyCodeLine{00626     j = str.substr(0, i).rfind(L\textcolor{stringliteral}{"{}\_"{}});}
\DoxyCodeLine{00627     \textcolor{keywordflow}{if} (j != (\textcolor{keywordtype}{int})std::wstring::npos \&\& checkForSeqNum(type) \&\&}
\DoxyCodeLine{00628         isNumbers(str, j, i))}
\DoxyCodeLine{00629       i = j;}
\DoxyCodeLine{00630   \}}
\DoxyCodeLine{00631   \textcolor{keywordflow}{return} str.substr(0, i);}
\DoxyCodeLine{00632 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a3fdd10ec3bbd1bee223c345ae461dc7b}\label{class_t_file_path_a3fdd10ec3bbd1bee223c345ae461dc7b}} 
\index{TFilePath@{TFilePath}!getWideString@{getWideString}}
\index{getWideString@{getWideString}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{getWideString()}{getWideString()}}
{\footnotesize\ttfamily const std\+::wstring TFile\+Path\+::get\+Wide\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00442                                                 \{}
\DoxyCodeLine{00443   \textcolor{keywordflow}{return} m\_path;}
\DoxyCodeLine{00444   \textcolor{comment}{/*}}
\DoxyCodeLine{00445 \textcolor{comment}{std::wstring s;}}
\DoxyCodeLine{00446 \textcolor{comment}{int n = m\_path.size();}}
\DoxyCodeLine{00447 \textcolor{comment}{for(int i=0;i<n; i++)}}
\DoxyCodeLine{00448 \textcolor{comment}{\{}}
\DoxyCodeLine{00449 \textcolor{comment}{char c = m\_path[i];}}
\DoxyCodeLine{00450 \textcolor{comment}{if(c!='\&') s.append(1, (unsigned short)c);}}
\DoxyCodeLine{00451 \textcolor{comment}{else}}
\DoxyCodeLine{00452 \textcolor{comment}{ \{}}
\DoxyCodeLine{00453 \textcolor{comment}{  i++;}}
\DoxyCodeLine{00454 \textcolor{comment}{  if(m\_path[i] == '\#')}}
\DoxyCodeLine{00455 \textcolor{comment}{    \{}}
\DoxyCodeLine{00456 \textcolor{comment}{     unsigned short w = 0;}}
\DoxyCodeLine{00457 \textcolor{comment}{     i++;}}
\DoxyCodeLine{00458 \textcolor{comment}{     while(i<n)}}
\DoxyCodeLine{00459 \textcolor{comment}{       \{}}
\DoxyCodeLine{00460 \textcolor{comment}{        c = m\_path[i];}}
\DoxyCodeLine{00461 \textcolor{comment}{        if('0'<=c \&\& c<='9')}}
\DoxyCodeLine{00462 \textcolor{comment}{          w = w*10 + c -\/ '0';}}
\DoxyCodeLine{00463 \textcolor{comment}{        else if('a' <=c \&\& c<='f')}}
\DoxyCodeLine{00464 \textcolor{comment}{          w = w*10 + c -\/ 'a' + 10;}}
\DoxyCodeLine{00465 \textcolor{comment}{        else if('A' <=c \&\& c<='F')}}
\DoxyCodeLine{00466 \textcolor{comment}{          w = w*10 + c -\/ 'A' + 10;}}
\DoxyCodeLine{00467 \textcolor{comment}{        else}}
\DoxyCodeLine{00468 \textcolor{comment}{          break;}}
\DoxyCodeLine{00469 \textcolor{comment}{        i++;}}
\DoxyCodeLine{00470 \textcolor{comment}{       \}}}
\DoxyCodeLine{00471 \textcolor{comment}{     s.append(1, w);}}
\DoxyCodeLine{00472 \textcolor{comment}{    \}}}
\DoxyCodeLine{00473 \textcolor{comment}{ \}}}
\DoxyCodeLine{00474 \textcolor{comment}{\}}}
\DoxyCodeLine{00475 \textcolor{comment}{return s;}}
\DoxyCodeLine{00476 \textcolor{comment}{*/}}
\DoxyCodeLine{00477 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a1c61dae650923adb9b7ee6a37cf17a22}\label{class_t_file_path_a1c61dae650923adb9b7ee6a37cf17a22}} 
\index{TFilePath@{TFilePath}!isAbsolute@{isAbsolute}}
\index{isAbsolute@{isAbsolute}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{isAbsolute()}{isAbsolute()}}
{\footnotesize\ttfamily bool TFile\+Path\+::is\+Absolute (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00519                                  \{}
\DoxyCodeLine{00520   \textcolor{keywordflow}{return} ((m\_path.length() >= 1 \&\& m\_path[0] == slash) ||}
\DoxyCodeLine{00521           (m\_path.length() >= 2 \&\& iswalpha(m\_path[0]) \&\& m\_path[1] == \textcolor{charliteral}{':'}));}
\DoxyCodeLine{00522 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a473296db836e8d89a17ae9e2de92c3ec}\label{class_t_file_path_a473296db836e8d89a17ae9e2de92c3ec}} 
\index{TFilePath@{TFilePath}!isAncestorOf@{isAncestorOf}}
\index{isAncestorOf@{isAncestorOf}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{isAncestorOf()}{isAncestorOf()}}
{\footnotesize\ttfamily bool TFile\+Path\+::is\+Ancestor\+Of (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{possible\+Descendent }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00950                                                                       \{}
\DoxyCodeLine{00951   \textcolor{keywordtype}{size\_t} len = m\_path.length();}
\DoxyCodeLine{00952   \textcolor{keywordflow}{if} (len == 0) \{}
\DoxyCodeLine{00953     \textcolor{comment}{// il punto e' antenato di tutti i path non assoluti}}
\DoxyCodeLine{00954     \textcolor{keywordflow}{return} !possibleDescendent.isAbsolute();}
\DoxyCodeLine{00955   \}}
\DoxyCodeLine{00956 }
\DoxyCodeLine{00957   \textcolor{comment}{// un path e' antenato di se stesso}}
\DoxyCodeLine{00958   \textcolor{keywordflow}{if} (m\_path == possibleDescendent.m\_path) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00959 }
\DoxyCodeLine{00960   \textcolor{keywordtype}{int} possibleDescendentLen = possibleDescendent.m\_path.length();}
\DoxyCodeLine{00961   \textcolor{comment}{// altrimenti l'antenato deve essere piu' corto}}
\DoxyCodeLine{00962   \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})len >= possibleDescendentLen) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00963   \textcolor{comment}{// e deve coincidere con la prima parte del discendente}}
\DoxyCodeLine{00964   \textcolor{keywordflow}{if} (toLower(m\_path) != toLower(possibleDescendent.m\_path.substr(0, len)))}
\DoxyCodeLine{00965     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00966   \textcolor{comment}{// se l'antenato non finisce con slash ci deve essere uno slash nel}}
\DoxyCodeLine{00967   \textcolor{comment}{// discendente, subito dopo}}
\DoxyCodeLine{00968   \textcolor{keywordflow}{if} (m\_path[len -\/ 1] != wslash \&\& possibleDescendent.m\_path[len] != wslash)}
\DoxyCodeLine{00969     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00970 }
\DoxyCodeLine{00971   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00972 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a93ba502eaa623c47968d09ad126c7c83}\label{class_t_file_path_a93ba502eaa623c47968d09ad126c7c83}} 
\index{TFilePath@{TFilePath}!isEmpty@{isEmpty}}
\index{isEmpty@{isEmpty}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{isEmpty()}{isEmpty()}}
{\footnotesize\ttfamily bool TFile\+Path\+::is\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00252 \{ \textcolor{keywordflow}{return} m\_path == L\textcolor{stringliteral}{"{}"{}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a766b1c37a0d4ab542c5ccd8a35855757}\label{class_t_file_path_a766b1c37a0d4ab542c5ccd8a35855757}} 
\index{TFilePath@{TFilePath}!isFfmpegType@{isFfmpegType}}
\index{isFfmpegType@{isFfmpegType}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{isFfmpegType()}{isFfmpegType()}}
{\footnotesize\ttfamily bool TFile\+Path\+::is\+Ffmpeg\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00765                                    \{}
\DoxyCodeLine{00766   QString type = QString::fromStdString(\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}()).toLower();}
\DoxyCodeLine{00767   \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}gif"{}} || type == \textcolor{stringliteral}{"{}mp4"{}} || type == \textcolor{stringliteral}{"{}webm"{}})}
\DoxyCodeLine{00768     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00769   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00770     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00771 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a99f841e6c4ef05bbee7cfec55acd4646}\label{class_t_file_path_a99f841e6c4ef05bbee7cfec55acd4646}} 
\index{TFilePath@{TFilePath}!isLevelName@{isLevelName}}
\index{isLevelName@{isLevelName}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{isLevelName()}{isLevelName()}}
{\footnotesize\ttfamily bool TFile\+Path\+::is\+Level\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00702                                   \{}
\DoxyCodeLine{00703   \textcolor{keywordflow}{if} (!TFilePath::m\_useStandard) \{}
\DoxyCodeLine{00704     \textcolor{keywordflow}{return} analyzePath().fId.getNumber() == TFrameId::EMPTY\_FRAME;}
\DoxyCodeLine{00705   \}}
\DoxyCodeLine{00706   \textcolor{comment}{//-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00707 }
\DoxyCodeLine{00708   QString type = QString::fromStdString(\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}()).toLower();}
\DoxyCodeLine{00709   \textcolor{keywordflow}{if} (isFfmpegType() || !checkForSeqNum(type)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00710   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00711     \textcolor{keywordflow}{return} getFrame() == \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::EMPTY\_FRAME);}
\DoxyCodeLine{00712   \}}
\DoxyCodeLine{00713 }
\DoxyCodeLine{00714   \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00715     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00716   \}}
\DoxyCodeLine{00717 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_aff46937c8f1b02ecc2200dee5ecf2e92}\label{class_t_file_path_aff46937c8f1b02ecc2200dee5ecf2e92}} 
\index{TFilePath@{TFilePath}!isRoot@{isRoot}}
\index{isRoot@{isRoot}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{isRoot()}{isRoot()}}
{\footnotesize\ttfamily bool TFile\+Path\+::is\+Root (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00526                              \{}
\DoxyCodeLine{00527   \textcolor{keywordflow}{return} ((m\_path.length() == 1 \&\& m\_path[0] == slash) ||}
\DoxyCodeLine{00528           (m\_path.length() == 3 \&\& iswalpha(m\_path[0]) \&\& m\_path[1] == \textcolor{charliteral}{':'} \&\&}
\DoxyCodeLine{00529            m\_path[2] == slash) ||}
\DoxyCodeLine{00530           ((m\_path.length() > 2 \&\& m\_path[0] == slash \&\& m\_path[1] == slash) \&\&}
\DoxyCodeLine{00531            (std::string::npos == m\_path.find(slash, 2) ||}
\DoxyCodeLine{00532             m\_path.find(slash, 2) == (m\_path.size() -\/ 1))));}
\DoxyCodeLine{00533 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a45f55de844077877c1f3c9e4c7807f79}\label{class_t_file_path_a45f55de844077877c1f3c9e4c7807f79}} 
\index{TFilePath@{TFilePath}!match@{match}}
\index{match@{match}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{match()}{match()}}
{\footnotesize\ttfamily bool TFile\+Path\+::match (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00987                                                \{}
\DoxyCodeLine{00988   \textcolor{keywordflow}{if} (!TFilePath::m\_useStandard) \{}
\DoxyCodeLine{00989     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}() != fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00990 }
\DoxyCodeLine{00991     TFilePathInfo info     = analyzePath();}
\DoxyCodeLine{00992     TFilePathInfo info\_ext = fp.analyzePath();}
\DoxyCodeLine{00993 }
\DoxyCodeLine{00994     \textcolor{keywordflow}{return} (info.levelName == info\_ext.levelName \&\& info.fId == info\_ext.fId \&\&}
\DoxyCodeLine{00995             info.extension == info\_ext.extension);}
\DoxyCodeLine{00996   \}}
\DoxyCodeLine{00997 }
\DoxyCodeLine{00998   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}() == fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}() \&\& \mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}() == fp.\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}() \&\&}
\DoxyCodeLine{00999          getFrame() == fp.getFrame() \&\& \mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}() == fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}();}
\DoxyCodeLine{01000 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a66b1c0c38f8e5f5084c5dcb0cc3b3b50}\label{class_t_file_path_a66b1c0c38f8e5f5084c5dcb0cc3b3b50}} 
\index{TFilePath@{TFilePath}!operator"!=@{operator"!=}}
\index{operator"!=@{operator"!=}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator"!=()}{operator!=()}}
{\footnotesize\ttfamily bool TFile\+Path\+::operator!= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00198                                                     \{}
\DoxyCodeLine{00199     \textcolor{keywordflow}{return} !(m\_path == fp.m\_path);}
\DoxyCodeLine{00200   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a25a8e39e1bfb0ec98cff0247a9066c3b}\label{class_t_file_path_a25a8e39e1bfb0ec98cff0247a9066c3b}} 
\index{TFilePath@{TFilePath}!operator+@{operator+}}
\index{operator+@{operator+}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator+()}{operator+()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::operator+ (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{s }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00287                                                        \{}
\DoxyCodeLine{00288     \textcolor{keywordflow}{return} operator+(\mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(s));}
\DoxyCodeLine{00289   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a51f1e71ca8fc9daf878554e48cfa8106}\label{class_t_file_path_a51f1e71ca8fc9daf878554e48cfa8106}} 
\index{TFilePath@{TFilePath}!operator+@{operator+}}
\index{operator+@{operator+}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator+()}{operator+()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::operator+ (\begin{DoxyParamCaption}\item[{const std\+::wstring \&}]{s }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00295                                                  \{}
\DoxyCodeLine{00296     \mbox{\hyperlink{class_t_file_path}{TFilePath}} res(*\textcolor{keyword}{this});}
\DoxyCodeLine{00297     \textcolor{keywordflow}{return} res += s;}
\DoxyCodeLine{00298   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a1ee3e0723d46973bdd227390dc85edf5}\label{class_t_file_path_a1ee3e0723d46973bdd227390dc85edf5}} 
\index{TFilePath@{TFilePath}!operator+@{operator+}}
\index{operator+@{operator+}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator+()}{operator+()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::operator+ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00423                                                         \{}
\DoxyCodeLine{00424   \mbox{\hyperlink{class_t_file_path}{TFilePath}} ret(*\textcolor{keyword}{this});}
\DoxyCodeLine{00425   ret += fp;}
\DoxyCodeLine{00426   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{00427 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_acd702c83ef1d12657006a57040c43a09}\label{class_t_file_path_acd702c83ef1d12657006a57040c43a09}} 
\index{TFilePath@{TFilePath}!operator+=@{operator+=}}
\index{operator+=@{operator+=}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator+=()}{operator+=()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \& TFile\+Path\+::operator+= (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{s }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00290                                                    \{}
\DoxyCodeLine{00291     \textcolor{keywordflow}{return} operator+=(\mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(s));}
\DoxyCodeLine{00292   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_acd8acc5fa28ecc3ee9e2af20dd07ba2b}\label{class_t_file_path_acd8acc5fa28ecc3ee9e2af20dd07ba2b}} 
\index{TFilePath@{TFilePath}!operator+=@{operator+=}}
\index{operator+=@{operator+=}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator+=()}{operator+=()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \& TFile\+Path\+::operator+= (\begin{DoxyParamCaption}\item[{const std\+::wstring \&}]{s }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00430                                                     \{}
\DoxyCodeLine{00431   \textcolor{keywordflow}{if} (s.empty()) \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00432   \textcolor{comment}{// if(m\_path.length()!=1 || m\_path[0] != slash)}}
\DoxyCodeLine{00433   \textcolor{comment}{//  m\_path += slash;}}
\DoxyCodeLine{00434   \textcolor{keywordflow}{if} (m\_path.length() > 0 \&\& !isSlash(m\_path[m\_path.length() -\/ 1]))}
\DoxyCodeLine{00435     m\_path.append(1, wslash);}
\DoxyCodeLine{00436   m\_path += s;}
\DoxyCodeLine{00437   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00438 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a142a4ca97b81567e67b461245e6464ca}\label{class_t_file_path_a142a4ca97b81567e67b461245e6464ca}} 
\index{TFilePath@{TFilePath}!operator+=@{operator+=}}
\index{operator+=@{operator+=}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator+=()}{operator+=()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \& TFile\+Path\+::operator+= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00405                                                     \{}
\DoxyCodeLine{00406   assert(!fp.isAbsolute());}
\DoxyCodeLine{00407   \textcolor{keywordflow}{if} (fp.isEmpty())}
\DoxyCodeLine{00408     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00409   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (isEmpty()) \{}
\DoxyCodeLine{00410     *\textcolor{keyword}{this} = fp;}
\DoxyCodeLine{00411     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00412   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_path.length() != 1 || m\_path[0] != slash) \{}
\DoxyCodeLine{00413     assert(!m\_path.empty());}
\DoxyCodeLine{00414     \textcolor{keywordflow}{if} (!isSlash(m\_path[m\_path.length() -\/ 1])) m\_path.append(1, wslash);}
\DoxyCodeLine{00415     m\_path += fp.m\_path;}
\DoxyCodeLine{00416     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00417   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00418     *\textcolor{keyword}{this} = \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path + fp.m\_path);}
\DoxyCodeLine{00419     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00420   \}}
\DoxyCodeLine{00421 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a4a2f3b05ef48431eebe49b9f24ff3bdd}\label{class_t_file_path_a4a2f3b05ef48431eebe49b9f24ff3bdd}} 
\index{TFilePath@{TFilePath}!operator-\/@{operator-\/}}
\index{operator-\/@{operator-\/}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator-\/()}{operator-()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::operator-\/ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00976                                                         \{}
\DoxyCodeLine{00977   \textcolor{keywordflow}{if} (toLower(m\_path) == toLower(fp.m\_path)) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00978   \textcolor{keywordflow}{if} (!fp.isAncestorOf(*\textcolor{keyword}{this})) \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00979   \textcolor{keywordtype}{int} len = fp.m\_path.length();}
\DoxyCodeLine{00980   \textcolor{keywordflow}{if} (len == 0 || fp.m\_path[len -\/ 1] != wslash) len++;}
\DoxyCodeLine{00981 }
\DoxyCodeLine{00982   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(len));}
\DoxyCodeLine{00983 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a5a3e02bedca4aec22c29c9193d14118f}\label{class_t_file_path_a5a3e02bedca4aec22c29c9193d14118f}} 
\index{TFilePath@{TFilePath}!operator$<$@{operator$<$}}
\index{operator$<$@{operator$<$}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator$<$()}{operator<()}}
{\footnotesize\ttfamily bool TFile\+Path\+::operator$<$ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00335                                                    \{}
\DoxyCodeLine{00336   std::wstring iName = m\_path;}
\DoxyCodeLine{00337   std::wstring jName = fp.m\_path;}
\DoxyCodeLine{00338   \textcolor{keywordtype}{int} i1 = 0, j1 = 0;}
\DoxyCodeLine{00339   \textcolor{keywordtype}{int} i2 = m\_path.find(L\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}});}
\DoxyCodeLine{00340   \textcolor{keywordtype}{int} j2 = fp.m\_path.find(L\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}});}
\DoxyCodeLine{00341   \textcolor{keywordflow}{if} (i2 == j2 \&\& j2 == -\/1)}
\DoxyCodeLine{00342 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00343     \textcolor{keywordflow}{return} \_wcsicmp(m\_path.c\_str(), fp.m\_path.c\_str()) < 0;}
\DoxyCodeLine{00344 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00345     \textcolor{keywordflow}{return} m\_path < fp.m\_path;}
\DoxyCodeLine{00346 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00347   \textcolor{keywordflow}{if} (!i2) \{}
\DoxyCodeLine{00348     ++i1;}
\DoxyCodeLine{00349     i2 = m\_path.find(L\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, i1);}
\DoxyCodeLine{00350   \}}
\DoxyCodeLine{00351   \textcolor{keywordflow}{if} (!j2) \{}
\DoxyCodeLine{00352     ++j1;}
\DoxyCodeLine{00353     j2 = fp.m\_path.find(L\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, j1);}
\DoxyCodeLine{00354   \}}
\DoxyCodeLine{00355   \textcolor{keywordflow}{while} (i2 != -\/1 || j2 != -\/1) \{}
\DoxyCodeLine{00356     iName = (i2 != -\/1) ? m\_path.substr(i1, i2 -\/ i1) : m\_path;}
\DoxyCodeLine{00357     jName = (j2 != -\/1) ? fp.m\_path.substr(j1, j2 -\/ j1) : fp.m\_path;}
\DoxyCodeLine{00358 \textcolor{comment}{// se le due parti di path, conpresi tra slash sono uguali}}
\DoxyCodeLine{00359 \textcolor{comment}{// itero il processo di confronto altrimenti ritorno}}
\DoxyCodeLine{00360 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00361     \textcolor{keywordtype}{char} differ;}
\DoxyCodeLine{00362     differ = \_wcsicmp(iName.c\_str(), jName.c\_str());}
\DoxyCodeLine{00363     \textcolor{keywordflow}{if} (differ != 0) \textcolor{keywordflow}{return} differ < 0 ? true : \textcolor{keyword}{false};}
\DoxyCodeLine{00364 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00365     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(iName) != \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(jName))}
\DoxyCodeLine{00366       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(iName) < \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(jName);}
\DoxyCodeLine{00367 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00368     i1 = (i2 != -\/1) ? i2 + 1 : m\_path.size();}
\DoxyCodeLine{00369     j1 = (j2 != -\/1) ? j2 + 1 : fp.m\_path.size();}
\DoxyCodeLine{00370     i2 = m\_path.find(L\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, i1);}
\DoxyCodeLine{00371     j2 = fp.m\_path.find(L\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}, j1);}
\DoxyCodeLine{00372   \}}
\DoxyCodeLine{00373 }
\DoxyCodeLine{00374   iName = m\_path.substr(i1, m\_path.size() -\/ i1);}
\DoxyCodeLine{00375   jName = fp.m\_path.substr(j1, fp.m\_path.size() -\/ j1);}
\DoxyCodeLine{00376 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00377   \textcolor{keywordflow}{return} \_wcsicmp(iName.c\_str(), jName.c\_str()) < 0;}
\DoxyCodeLine{00378 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00379   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(iName) < \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(jName);}
\DoxyCodeLine{00380 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00381 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a87341556786740477ed6fc8c6c0aa0be}\label{class_t_file_path_a87341556786740477ed6fc8c6c0aa0be}} 
\index{TFilePath@{TFilePath}!operator=@{operator=}}
\index{operator=@{operator=}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \& TFile\+Path\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00192                                             \{}
\DoxyCodeLine{00193     m\_path = fp.m\_path;}
\DoxyCodeLine{00194     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00195   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a6fa94c81c44a736ba76006338ed26a89}\label{class_t_file_path_a6fa94c81c44a736ba76006338ed26a89}} 
\index{TFilePath@{TFilePath}!operator==@{operator==}}
\index{operator==@{operator==}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{operator==()}{operator==()}}
{\footnotesize\ttfamily bool TFile\+Path\+::operator== (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00325                                                     \{}
\DoxyCodeLine{00326 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00327   \textcolor{keywordflow}{return} \_wcsicmp(m\_path.c\_str(), fp.m\_path.c\_str()) == 0;}
\DoxyCodeLine{00328 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00329   \textcolor{keywordflow}{return} m\_path == fp.m\_path;}
\DoxyCodeLine{00330 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00331 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_ad131af83c5947b194e4a70c85afb88b0}\label{class_t_file_path_ad131af83c5947b194e4a70c85afb88b0}} 
\index{TFilePath@{TFilePath}!setFilePathProperties@{setFilePathProperties}}
\index{setFilePathProperties@{setFilePathProperties}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{setFilePathProperties()}{setFilePathProperties()}}
{\footnotesize\ttfamily static bool TFile\+Path\+::set\+File\+Path\+Properties (\begin{DoxyParamCaption}\item[{bool}]{use\+Standard,  }\item[{bool}]{accept\+Non\+Alpha\+Suffix,  }\item[{int}]{letter\+Count\+For\+Suffix }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00166                                                               \{}
\DoxyCodeLine{00167     \textcolor{keywordflow}{if} (m\_useStandard == useStandard \&\&}
\DoxyCodeLine{00168         m\_acceptNonAlphabetSuffix == acceptNonAlphaSuffix \&\&}
\DoxyCodeLine{00169         m\_letterCountForSuffix == letterCountForSuffix)}
\DoxyCodeLine{00170       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00171     m\_useStandard             = useStandard;}
\DoxyCodeLine{00172     m\_acceptNonAlphabetSuffix = acceptNonAlphaSuffix;}
\DoxyCodeLine{00173     m\_letterCountForSuffix    = letterCountForSuffix;}
\DoxyCodeLine{00174     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00175   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_ac2f46556ce0dec81e89372e2f7f2d155}\label{class_t_file_path_ac2f46556ce0dec81e89372e2f7f2d155}} 
\index{TFilePath@{TFilePath}!setUnderscoreFormatAllowed@{setUnderscoreFormatAllowed}}
\index{setUnderscoreFormatAllowed@{setUnderscoreFormatAllowed}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{setUnderscoreFormatAllowed()}{setUnderscoreFormatAllowed()}}
{\footnotesize\ttfamily static void TFile\+Path\+::set\+Underscore\+Format\+Allowed (\begin{DoxyParamCaption}\item[{bool}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

this static method allows correct reading of levels in the form pippo\+\_\+0001.\+tif (represented always as pippo..tif) 
\begin{DoxyCode}{0}
\DoxyCodeLine{00158                                                      \{}
\DoxyCodeLine{00159     m\_underscoreFormatAllowed = state;}
\DoxyCodeLine{00160   \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01164}{Convert\+Popup\+::apply()}}.

\mbox{\Hypertarget{class_t_file_path_a23536fffacdd587b42446e8c9070c654}\label{class_t_file_path_a23536fffacdd587b42446e8c9070c654}} 
\index{TFilePath@{TFilePath}!split@{split}}
\index{split@{split}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{split()}{split()}}
{\footnotesize\ttfamily void TFile\+Path\+::split (\begin{DoxyParamCaption}\item[{std\+::wstring \&}]{head,  }\item[{\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{tail }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01004                                                              \{}
\DoxyCodeLine{01005   \mbox{\hyperlink{class_t_file_path}{TFilePath}} ancestor = \mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{01006   \textcolor{keywordflow}{if} (ancestor == \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}()) \{}
\DoxyCodeLine{01007     head = getWideString();}
\DoxyCodeLine{01008     tail = \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}();}
\DoxyCodeLine{01009     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01010   \}}
\DoxyCodeLine{01011   \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{01012     \textcolor{keywordflow}{if} (ancestor.isRoot()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01013     \mbox{\hyperlink{class_t_file_path}{TFilePath}} p = ancestor.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{01014     \textcolor{keywordflow}{if} (p == \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01015     ancestor = p;}
\DoxyCodeLine{01016   \}}
\DoxyCodeLine{01017   head = ancestor.getWideString();}
\DoxyCodeLine{01018   tail = *\textcolor{keyword}{this} -\/ ancestor;}
\DoxyCodeLine{01019 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a629157b37b440b5f098a909ec5706ad3}\label{class_t_file_path_a629157b37b440b5f098a909ec5706ad3}} 
\index{TFilePath@{TFilePath}!useStandard@{useStandard}}
\index{useStandard@{useStandard}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{useStandard()}{useStandard()}}
{\footnotesize\ttfamily static bool TFile\+Path\+::use\+Standard (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00176 \{ \textcolor{keywordflow}{return} m\_useStandard; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a6982c35ce4c9b191e676d93d716f5e0a}\label{class_t_file_path_a6982c35ce4c9b191e676d93d716f5e0a}} 
\index{TFilePath@{TFilePath}!withFrame@{withFrame}}
\index{withFrame@{withFrame}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{withFrame()}{withFrame()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::with\+Frame (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00277                               \{}
\DoxyCodeLine{00278     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{withFrame}}(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::EMPTY\_FRAME));}
\DoxyCodeLine{00279   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}\label{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}} 
\index{TFilePath@{TFilePath}!withFrame@{withFrame}}
\index{withFrame@{withFrame}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{withFrame()}{withFrame()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::with\+Frame (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&}]{frame,  }\item[{TFrame\+Id\+::\+Frame\+Format}]{format = {\ttfamily TFrameId\+:\+:USE\+\_\+CURRENT\+\_\+FORMAT} }\end{DoxyParamCaption}) const}

Return a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} with frame \char`\"{}frame\char`\"{}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00861                                                                  \{}
\DoxyCodeLine{00862   \textcolor{keywordflow}{if} (!TFilePath::m\_useStandard) \{}
\DoxyCodeLine{00863     TFilePathInfo info = analyzePath();}
\DoxyCodeLine{00864     \textcolor{comment}{// Override format input because it may be wrong.}}
\DoxyCodeLine{00865     \textcolor{keywordflow}{if} (checkForSeqNum(info.extension)) format = frame.getCurrentFormat();}
\DoxyCodeLine{00866     \textcolor{comment}{// override format if the original fid is available}}
\DoxyCodeLine{00867     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (info.fId.getNumber() != TFrameId::NO\_FRAME)}
\DoxyCodeLine{00868       format = info.fId.getCurrentFormat();}
\DoxyCodeLine{00869 }
\DoxyCodeLine{00870     \textcolor{keywordflow}{if} (info.extension.isEmpty()) \{}
\DoxyCodeLine{00871       \textcolor{keywordflow}{if} (frame.isEmptyFrame() || frame.isNoFrame()) \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00872 }
\DoxyCodeLine{00873       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path + L\textcolor{stringliteral}{"{}."{}} + ::to\_wstring(frame.expand(format)));}
\DoxyCodeLine{00874     \}}
\DoxyCodeLine{00875     \textcolor{keywordflow}{if} (frame.isNoFrame()) \{}
\DoxyCodeLine{00876       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(info.parentDir + info.levelName + \textcolor{stringliteral}{"{}."{}} + info.extension);}
\DoxyCodeLine{00877     \}}
\DoxyCodeLine{00878     QString sepChar = (info.sepChar.isNull()) ? \textcolor{stringliteral}{"{}."{}} : QString(info.sepChar);}
\DoxyCodeLine{00879 }
\DoxyCodeLine{00880     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(info.parentDir + info.levelName + sepChar +}
\DoxyCodeLine{00881                      QString::fromStdString(frame.expand(format)) + \textcolor{stringliteral}{"{}."{}} +}
\DoxyCodeLine{00882                      info.extension);}
\DoxyCodeLine{00883   \}}
\DoxyCodeLine{00884 }
\DoxyCodeLine{00885   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00886 }
\DoxyCodeLine{00887   \textcolor{keyword}{const} std::wstring dot = L\textcolor{stringliteral}{"{}."{}}, dotDot = L\textcolor{stringliteral}{"{}.."{}};}
\DoxyCodeLine{00888   \textcolor{keywordtype}{int} i            = getLastSlash(m\_path);  \textcolor{comment}{// cerco l'ultimo slash}}
\DoxyCodeLine{00889   std::wstring str = m\_path.substr(i + 1);  \textcolor{comment}{// str e' il path senza parentdir}}
\DoxyCodeLine{00890   QString type     = QString::fromStdString(\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}()).toLower();}
\DoxyCodeLine{00891   assert(str != dot \&\& str != dotDot);}
\DoxyCodeLine{00892   \textcolor{keywordtype}{int} j          = str.rfind(L\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00893   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *ch = \textcolor{stringliteral}{"{}."{}};}
\DoxyCodeLine{00894   \textcolor{comment}{// Override format input because it may be wrong.}}
\DoxyCodeLine{00895   \textcolor{keywordflow}{if} (!isFfmpegType() \&\& checkForSeqNum(type))}
\DoxyCodeLine{00896     format = frame.getCurrentFormat();}
\DoxyCodeLine{00897   \textcolor{keywordflow}{if} (m\_underscoreFormatAllowed \&\& (format == TFrameId::UNDERSCORE\_FOUR\_ZEROS ||}
\DoxyCodeLine{00898                                     format == TFrameId::UNDERSCORE\_NO\_PAD ||}
\DoxyCodeLine{00899                                     format == TFrameId::UNDERSCORE\_CUSTOM\_PAD))}
\DoxyCodeLine{00900     ch = \textcolor{stringliteral}{"{}\_"{}};}
\DoxyCodeLine{00901 }
\DoxyCodeLine{00902   \textcolor{comment}{// no extension case}}
\DoxyCodeLine{00903   \textcolor{keywordflow}{if} (j == (\textcolor{keywordtype}{int})std::wstring::npos) \{}
\DoxyCodeLine{00904     \textcolor{keywordflow}{if} (frame.isEmptyFrame() || frame.isNoFrame())}
\DoxyCodeLine{00905       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00906     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00907       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path + ::to\_wstring(ch + frame.expand(format)));}
\DoxyCodeLine{00908   \}}
\DoxyCodeLine{00909 }
\DoxyCodeLine{00910   \textcolor{keywordtype}{int} k = str.substr(0, j).rfind(L\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00911 }
\DoxyCodeLine{00912   \textcolor{keywordtype}{bool} hasValidFrameNum = \textcolor{keyword}{false};}
\DoxyCodeLine{00913   \textcolor{keywordflow}{if} (!isFfmpegType() \&\& checkForSeqNum(type) \&\& isNumbers(str, k, j))}
\DoxyCodeLine{00914     hasValidFrameNum = \textcolor{keyword}{true};}
\DoxyCodeLine{00915   std::string frameString;}
\DoxyCodeLine{00916   \textcolor{keywordflow}{if} (frame.isNoFrame())}
\DoxyCodeLine{00917     frameString = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00918   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!frame.isEmptyFrame() \&\& \mbox{\hyperlink{class_t_file_path_a698bbf714436eb6923359044900cde2b}{getDots}}() != \textcolor{stringliteral}{"{}."{}} \&\& !hasValidFrameNum) \{}
\DoxyCodeLine{00919     \textcolor{keywordflow}{if} (k != (\textcolor{keywordtype}{int})std::wstring::npos) \{}
\DoxyCodeLine{00920       std::wstring wstr = str.substr(k, j -\/ k);}
\DoxyCodeLine{00921       std::string str2(wstr.begin(), wstr.end());}
\DoxyCodeLine{00922       frameString = str2;}
\DoxyCodeLine{00923     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00924       frameString = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{00925   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00926     frameString = ch + frame.expand(format);}
\DoxyCodeLine{00927 }
\DoxyCodeLine{00928   \textcolor{keywordflow}{if} (k != (\textcolor{keywordtype}{int})std::wstring::npos)}
\DoxyCodeLine{00929     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, k + i + 1) + ::to\_wstring(frameString) +}
\DoxyCodeLine{00930                      str.substr(j));}
\DoxyCodeLine{00931   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_underscoreFormatAllowed) \{}
\DoxyCodeLine{00932     k = str.substr(0, j).rfind(L\textcolor{charliteral}{'\_'});}
\DoxyCodeLine{00933     \textcolor{keywordflow}{if} (k != (\textcolor{keywordtype}{int})std::wstring::npos \&\&}
\DoxyCodeLine{00934         (k == j -\/ 1 ||}
\DoxyCodeLine{00935          (checkForSeqNum(type) \&\&}
\DoxyCodeLine{00936           isNumbers(str, k,}
\DoxyCodeLine{00937                     j))))  \textcolor{comment}{//-\/-\/ "{}\_."{} の並びか、"{}\_[数字]."{}の並びのとき -\/-\/}}
\DoxyCodeLine{00938       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, k + i + 1) +}
\DoxyCodeLine{00939                        ((frame.isNoFrame())}
\DoxyCodeLine{00940                             ? L\textcolor{stringliteral}{"{}"{}}}
\DoxyCodeLine{00941                             : ::to\_wstring(\textcolor{stringliteral}{"{}\_"{}} + frame.expand(format))) +}
\DoxyCodeLine{00942                        str.substr(j));}
\DoxyCodeLine{00943   \}}
\DoxyCodeLine{00944   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, j + i + 1) + ::to\_wstring(frameString) +}
\DoxyCodeLine{00945                    str.substr(j));}
\DoxyCodeLine{00946 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00539}{get\+Dots()}}, \mbox{\hyperlink{l00225}{get\+Type()}}, \mbox{\hyperlink{l00309}{TFile\+Path()}}, and \mbox{\hyperlink{l00860}{with\+Frame()}}.



Referenced by \mbox{\hyperlink{l00610}{Export\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l00413}{Io\+Cmd\+::export\+Level()}}, \mbox{\hyperlink{l01029}{Toonz\+Scene\+::get\+Imported\+Level\+Path()}}, \mbox{\hyperlink{l00154}{TImage\+Reader\+Mesh\+::load()}}, \mbox{\hyperlink{l00504}{Color\+Model\+Viewer\+::load\+Current\+Frame()}}, \mbox{\hyperlink{l01208}{Previewer\+::on\+Image\+Change()}}, \mbox{\hyperlink{l01024}{Flip\+Book\+::set\+Level()}}, and \mbox{\hyperlink{l00860}{with\+Frame()}}.

\mbox{\Hypertarget{class_t_file_path_ab5cc01a758d429804c28ff6e85834e93}\label{class_t_file_path_ab5cc01a758d429804c28ff6e85834e93}} 
\index{TFilePath@{TFilePath}!withFrame@{withFrame}}
\index{withFrame@{withFrame}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{withFrame()}{withFrame()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::with\+Frame (\begin{DoxyParamCaption}\item[{int}]{f }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} with a frame identified by an integer number \char`\"{}f\char`\"{}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00270 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{withFrame}}(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(f)); \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00270}{with\+Frame()}}.



Referenced by \mbox{\hyperlink{l00270}{with\+Frame()}}.

\mbox{\Hypertarget{class_t_file_path_a3eeca95fe10ef9419269245ea9f11ec5}\label{class_t_file_path_a3eeca95fe10ef9419269245ea9f11ec5}} 
\index{TFilePath@{TFilePath}!withFrame@{withFrame}}
\index{withFrame@{withFrame}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{withFrame()}{withFrame()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::with\+Frame (\begin{DoxyParamCaption}\item[{int}]{f,  }\item[{char}]{letter }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} with a frame identified by an integer and by a character 
\begin{DoxyCode}{0}
\DoxyCodeLine{00273                                                 \{}
\DoxyCodeLine{00274     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{withFrame}}(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(f, letter));}
\DoxyCodeLine{00275   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_a3ebf9ced558cfef97a60bba536b23c6f}\label{class_t_file_path_a3ebf9ced558cfef97a60bba536b23c6f}} 
\index{TFilePath@{TFilePath}!withName@{withName}}
\index{withName@{withName}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{withName()}{withName()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::with\+Name (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption}) const}

Return a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} with filename \char`\"{}name\char`\"{}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00802                                                          \{}
\DoxyCodeLine{00803   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a3ebf9ced558cfef97a60bba536b23c6f}{withName}}(::to\_wstring(name));}
\DoxyCodeLine{00804 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00802}{with\+Name()}}.



Referenced by \mbox{\hyperlink{l01231}{Toonz\+Scene\+::decode\+File\+Path()}}, \mbox{\hyperlink{l00610}{Export\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l02289}{TXsh\+Simple\+Level\+::get\+Hook\+Path()}}, \mbox{\hyperlink{l00990}{Output\+Settings\+Popup\+::on\+Name\+Changed()}}, \mbox{\hyperlink{l01468}{TXsh\+Simple\+Level\+::save()}}, \mbox{\hyperlink{l00211}{TXsh\+Simple\+Level\+::set\+Editable\+Range()}}, \mbox{\hyperlink{l00242}{Vectorizer\+::set\+Level()}}, \mbox{\hyperlink{l00302}{Toonz\+Scene\+::set\+Scene\+Name()}}, and \mbox{\hyperlink{l00802}{with\+Name()}}.

\mbox{\Hypertarget{class_t_file_path_a8bc6e64b1ddb2536b022b77b16ac4910}\label{class_t_file_path_a8bc6e64b1ddb2536b022b77b16ac4910}} 
\index{TFilePath@{TFilePath}!withName@{withName}}
\index{withName@{withName}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{withName()}{withName()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::with\+Name (\begin{DoxyParamCaption}\item[{const std\+::wstring \&}]{name }\end{DoxyParamCaption}) const}

Return a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} with filename \char`\"{}name\char`\"{}. Unicode 
\begin{DoxyCode}{0}
\DoxyCodeLine{00808                                                           \{}
\DoxyCodeLine{00809   \textcolor{keywordflow}{if} (!TFilePath::m\_useStandard) \{}
\DoxyCodeLine{00810     TFilePathInfo info = analyzePath();}
\DoxyCodeLine{00811 }
\DoxyCodeLine{00812     QString ret = info.parentDir + QString::fromStdWString(name);}
\DoxyCodeLine{00813     \textcolor{keywordflow}{if} (info.fId.getNumber() != TFrameId::NO\_FRAME) \{}
\DoxyCodeLine{00814       QString sepChar = (info.sepChar.isNull()) ? \textcolor{stringliteral}{"{}."{}} : QString(info.sepChar);}
\DoxyCodeLine{00815       ret += sepChar + QString::fromStdString(}
\DoxyCodeLine{00816                            info.fId.expand(info.fId.getCurrentFormat()));}
\DoxyCodeLine{00817     \}}
\DoxyCodeLine{00818     \textcolor{keywordflow}{if} (!info.extension.isEmpty()) ret += \textcolor{stringliteral}{"{}."{}} + info.extension;}
\DoxyCodeLine{00819 }
\DoxyCodeLine{00820     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(ret);}
\DoxyCodeLine{00821   \}}
\DoxyCodeLine{00822 }
\DoxyCodeLine{00823   \textcolor{keywordtype}{int} i            = getLastSlash(m\_path);  \textcolor{comment}{// cerco l'ultimo slash}}
\DoxyCodeLine{00824   std::wstring str = m\_path.substr(i + 1);  \textcolor{comment}{// str e' il path senza parentdir}}
\DoxyCodeLine{00825   QString type     = QString::fromStdString(\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}()).toLower();}
\DoxyCodeLine{00826   \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{00827   j = str.rfind(L\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00828 }
\DoxyCodeLine{00829   \textcolor{keywordflow}{if} (j == (\textcolor{keywordtype}{int})std::wstring::npos) \{}
\DoxyCodeLine{00830     \textcolor{keywordflow}{if} (m\_underscoreFormatAllowed) \{}
\DoxyCodeLine{00831       j = str.rfind(L\textcolor{charliteral}{'\_'});}
\DoxyCodeLine{00832       \textcolor{keywordflow}{if} (j != (\textcolor{keywordtype}{int})std::wstring::npos)}
\DoxyCodeLine{00833         \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, i + 1) + name + str.substr(j));}
\DoxyCodeLine{00834     \}}
\DoxyCodeLine{00835     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, i + 1) + name);}
\DoxyCodeLine{00836   \}}
\DoxyCodeLine{00837   \textcolor{keywordtype}{int} k;}
\DoxyCodeLine{00838 }
\DoxyCodeLine{00839   k = str.substr(0, j).rfind(L\textcolor{stringliteral}{"{}."{}});}
\DoxyCodeLine{00840   \textcolor{keywordflow}{if} (k == (\textcolor{keywordtype}{int})std::wstring::npos \&\& m\_underscoreFormatAllowed)}
\DoxyCodeLine{00841     k = str.substr(0, j).rfind(L\textcolor{stringliteral}{"{}\_"{}});}
\DoxyCodeLine{00842 }
\DoxyCodeLine{00843   \textcolor{keywordflow}{if} (k == (\textcolor{keywordtype}{int})(std::wstring::npos))}
\DoxyCodeLine{00844     k = j;}
\DoxyCodeLine{00845   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (k != j -\/ 1 \&\& (!checkForSeqNum(type) || !isNumbers(str, k, j)))}
\DoxyCodeLine{00846     k = j;}
\DoxyCodeLine{00847 }
\DoxyCodeLine{00848   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, i + 1) + name + str.substr(k));}
\DoxyCodeLine{00849 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00225}{get\+Type()}}, and \mbox{\hyperlink{l00309}{TFile\+Path()}}.

\mbox{\Hypertarget{class_t_file_path_a3de193b5fff5e9fb1a132f1ccb12d779}\label{class_t_file_path_a3de193b5fff5e9fb1a132f1ccb12d779}} 
\index{TFilePath@{TFilePath}!withNoFrame@{withNoFrame}}
\index{withNoFrame@{withNoFrame}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{withNoFrame()}{withNoFrame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::with\+No\+Frame (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00280                                 \{}
\DoxyCodeLine{00281     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{withFrame}}(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(TFrameId::NO\_FRAME));}
\DoxyCodeLine{00282   \}  \textcolor{comment}{// pippo.tif}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_file_path_ac17d65d827432f0fae28fed699bf4afa}\label{class_t_file_path_ac17d65d827432f0fae28fed699bf4afa}} 
\index{TFilePath@{TFilePath}!withoutParentDir@{withoutParentDir}}
\index{withoutParentDir@{withoutParentDir}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{withoutParentDir()}{withoutParentDir()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::without\+Parent\+Dir (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Return a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} without parent directory 
\begin{DoxyCode}{0}
\DoxyCodeLine{00264 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a09d12d68c4264183e0268dde6f592b2e}{withParentDir}}(\mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}()); \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01412}{Toonz\+Scene\+::code\+Save\+Path()}}, \mbox{\hyperlink{l00504}{Color\+Model\+Viewer\+::load\+Current\+Frame()}}, \mbox{\hyperlink{l00832}{TProject\+Manager\+::project\+Path\+To\+Project\+Name()}}, and \mbox{\hyperlink{l01024}{Flip\+Book\+::set\+Level()}}.

\mbox{\Hypertarget{class_t_file_path_a09d12d68c4264183e0268dde6f592b2e}\label{class_t_file_path_a09d12d68c4264183e0268dde6f592b2e}} 
\index{TFilePath@{TFilePath}!withParentDir@{withParentDir}}
\index{withParentDir@{withParentDir}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{withParentDir()}{withParentDir()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::with\+Parent\+Dir (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{dir }\end{DoxyParamCaption}) const}

Return a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} with parent directory \char`\"{}dir\char`\"{}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00853                                                              \{}
\DoxyCodeLine{00854   \textcolor{keywordtype}{int} i = getLastSlash(m\_path);  \textcolor{comment}{// cerco l'ultimo slash}}
\DoxyCodeLine{00855   \textcolor{keywordflow}{return} dir + \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(i + 1));}
\DoxyCodeLine{00856 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00309}{TFile\+Path()}}.



Referenced by \mbox{\hyperlink{l02076}{Replace\+Parent\+Directory\+Popup\+::execute()}}, \mbox{\hyperlink{l01029}{Toonz\+Scene\+::get\+Imported\+Level\+Path()}}, \mbox{\hyperlink{l02357}{Io\+Cmd\+::load\+Resources()}}, and \mbox{\hyperlink{l00968}{Output\+Settings\+Popup\+::on\+Path\+Changed()}}.

\mbox{\Hypertarget{class_t_file_path_a1437b0e0720e9258b622f68b6858e95d}\label{class_t_file_path_a1437b0e0720e9258b622f68b6858e95d}} 
\index{TFilePath@{TFilePath}!withType@{withType}}
\index{withType@{withType}!TFilePath@{TFilePath}}
\doxysubsubsection{\texorpdfstring{withType()}{withType()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TFile\+Path\+::with\+Type (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{type }\end{DoxyParamCaption}) const}

Return a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} with extension type. type is a string that indicate the filename extension(ex\+:. bmp or .bmp) 
\begin{DoxyCode}{0}
\DoxyCodeLine{00774                                                          \{}
\DoxyCodeLine{00775   assert(type.length() < 2 || type.substr(0, 2) != \textcolor{stringliteral}{"{}.."{}});}
\DoxyCodeLine{00776   \textcolor{keywordtype}{int} i            = getLastSlash(m\_path);  \textcolor{comment}{// cerco l'ultimo slash}}
\DoxyCodeLine{00777   std::wstring str = m\_path.substr(i + 1);  \textcolor{comment}{// str e' il path senza parentdir}}
\DoxyCodeLine{00778   \textcolor{keywordtype}{int} j            = str.rfind(L\textcolor{charliteral}{'.'});}
\DoxyCodeLine{00779   \textcolor{keywordflow}{if} (j == (\textcolor{keywordtype}{int})std::wstring::npos || str == L\textcolor{stringliteral}{"{}.."{}})}
\DoxyCodeLine{00780   \textcolor{comment}{// il path originale non ha tipo}}
\DoxyCodeLine{00781   \{}
\DoxyCodeLine{00782     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{00783       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00784     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type[0] == \textcolor{charliteral}{'.'})}
\DoxyCodeLine{00785       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path + ::to\_wstring(type));}
\DoxyCodeLine{00786     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00787       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path + ::to\_wstring(\textcolor{stringliteral}{"{}."{}} + type));}
\DoxyCodeLine{00788   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00789   \textcolor{comment}{// il path originale ha gia' il tipo}}
\DoxyCodeLine{00790   \{}
\DoxyCodeLine{00791     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{00792       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, i + j + 1));}
\DoxyCodeLine{00793     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type[0] == \textcolor{charliteral}{'.'})}
\DoxyCodeLine{00794       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, i + j + 1) + ::to\_wstring(type));}
\DoxyCodeLine{00795     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00796       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_file_path_a99b85e67c02c5d3a79030f66770b7eb3}{TFilePath}}(m\_path.substr(0, i + j + 2) + ::to\_wstring(type));}
\DoxyCodeLine{00797   \}}
\DoxyCodeLine{00798 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00309}{TFile\+Path()}}.



Referenced by \mbox{\hyperlink{l00413}{Level\+Updater\+::close()}}, \mbox{\hyperlink{l01058}{Toonz\+Scene\+::convert\+Level\+If\+Needed()}}, \mbox{\hyperlink{l01231}{Toonz\+Scene\+::decode\+File\+Path()}}, \mbox{\hyperlink{l00127}{Save\+Task\+List\+Popup\+::execute()}}, \mbox{\hyperlink{l00088}{Save\+Curve\+Popup\+::execute()}}, \mbox{\hyperlink{l00123}{Load\+Curve\+Popup\+::execute()}}, \mbox{\hyperlink{l00168}{Export\+Curve\+Popup\+::execute()}}, \mbox{\hyperlink{l00610}{Export\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l00413}{Io\+Cmd\+::export\+Level()}}, \mbox{\hyperlink{l00712}{Cleanup\+Settings\+Model\+::get\+Cln\+Path()}}, \mbox{\hyperlink{l01371}{Toonz\+Scene\+::get\+Default\+Level\+Path()}}, \mbox{\hyperlink{l02252}{TXsh\+Simple\+Level\+::get\+Files()}}, \mbox{\hyperlink{l01558}{Toonz\+Scene\+::get\+Save\+Path()}}, \mbox{\hyperlink{l00359}{TScene\+Properties\+::load\+Data()}}, \mbox{\hyperlink{l01054}{Output\+Settings\+Popup\+::on\+Format\+Changed()}}, \mbox{\hyperlink{l02231}{TXsh\+Simple\+Level\+::remove\+Files()}}, \mbox{\hyperlink{l02210}{TXsh\+Simple\+Level\+::rename\+Files()}}, \mbox{\hyperlink{l00209}{Scene\+Level\+::save()}}, \mbox{\hyperlink{l01468}{TXsh\+Simple\+Level\+::save()}}, \mbox{\hyperlink{l00211}{TXsh\+Simple\+Level\+::set\+Editable\+Range()}}, and \mbox{\hyperlink{l00242}{Vectorizer\+::set\+Level()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tfilepath.\+h\item 
E\+:/opentoonz/toonz/sources/common/tsystem/tfilepath.\+cpp\item 
E\+:/opentoonz/toonz/sources/toonzfarm/tnzcore\+\_\+stuff/tfilepath.\+cpp\end{DoxyCompactItemize}
