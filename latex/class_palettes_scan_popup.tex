\hypertarget{class_palettes_scan_popup}{}\doxysection{Palettes\+Scan\+Popup Class Reference}
\label{class_palettes_scan_popup}\index{PalettesScanPopup@{PalettesScanPopup}}


The \mbox{\hyperlink{class_palettes_scan_popup}{Palettes\+Scan\+Popup}} class provides a modal dialog to import palette in \mbox{\hyperlink{class_studio_palette}{Studio\+Palette}} folder.  


Inheritance diagram for Palettes\+Scan\+Popup\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_palettes_scan_popup}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_palettes_scan_popup_a22c19009d59b07ce07ed88d76f27e25e}{set\+Current\+Folder}} (\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} path)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_palettes_scan_popup_a485e673da3a5ddb505bc37ac1b2da8d8}{get\+Current\+Folder}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_palettes_scan_popup_aff49755a097ef5cae1f4e3333e109eb9}{on\+Ok\+Btn\+Clicked}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_palettes_scan_popup_ac78556c1d85e6964e3308e81764a1682}{set\+Label}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
void \mbox{\hyperlink{class_palettes_scan_popup_a5df5457a95cdb3252af8f34275469edb}{timer\+Event}} (QTimer\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_palettes_scan_popup_a9ce8e7d85f2824d56d959004ffdd859f}{push}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
void \mbox{\hyperlink{class_palettes_scan_popup_aa4c4b4e44a0adc1d1dbe9bd1871f998e}{push}} (const TFile\+Path\+Set \&fs)
\item 
void \mbox{\hyperlink{class_palettes_scan_popup_a09aa746c81613f87c3cea5281d444197}{pop}} ()
\item 
bool \mbox{\hyperlink{class_palettes_scan_popup_a729c1476936d6d84dd1264643c79a586}{step}} ()
\item 
void \mbox{\hyperlink{class_palettes_scan_popup_aadc993a3870415a49f6bcca9f0431574}{clear\+Stack}} ()
\item 
void \mbox{\hyperlink{class_palettes_scan_popup_a4213a34add5499ce863d60399c35fa10}{on\+Plt}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{class_palettes_scan_popup}{Palettes\+Scan\+Popup}} class provides a modal dialog to import palette in \mbox{\hyperlink{class_studio_palette}{Studio\+Palette}} folder. 

Inherits {\bfseries{Dialog}}. This object is composed of three sub-\/object\+: a {\bfseries{File\+Field}} to choose a folder, a label {\bfseries{QLabel}}, generally empty, to show palette folder during them import, and a button bar to start import or cancel command.

The class provides a method, {\bfseries{\mbox{\hyperlink{class_palettes_scan_popup_a22c19009d59b07ce07ed88d76f27e25e}{set\+Current\+Folder(\+TFile\+Path path)}}}}, to set folder wherein import palettes. Protected function allows to manage palette import. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_palettes_scan_popup_a560f37405c4fae0dc665bfbb4b165526}\label{class_palettes_scan_popup_a560f37405c4fae0dc665bfbb4b165526}} 
\index{PalettesScanPopup@{PalettesScanPopup}!PalettesScanPopup@{PalettesScanPopup}}
\index{PalettesScanPopup@{PalettesScanPopup}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{PalettesScanPopup()}{PalettesScanPopup()}}
{\footnotesize\ttfamily Palettes\+Scan\+Popup\+::\+Palettes\+Scan\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00029     : Dialog(0, \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{stringliteral}{"{}PalettesScan"{}})}
\DoxyCodeLine{00030     , m\_folderPath(\mbox{\hyperlink{class_t_file_path}{TFilePath}}())}
\DoxyCodeLine{00031     , m\_timerId(0) \{}
\DoxyCodeLine{00032   setWindowTitle(tr(\textcolor{stringliteral}{"{}Search for Palettes"{}}));}
\DoxyCodeLine{00033   setFixedWidth(250);}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035   m\_field = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_file_field}{DVGui::FileField}}();}
\DoxyCodeLine{00036   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(m\_field);}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038   m\_label = \textcolor{keyword}{new} QLabel();}
\DoxyCodeLine{00039   m\_label-\/>setFixedWidth(200);}
\DoxyCodeLine{00040   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(m\_label);}
\DoxyCodeLine{00041 }
\DoxyCodeLine{00042   QPushButton *okBtn = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Ok"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{00043   okBtn-\/>setDefault(\textcolor{keyword}{true});}
\DoxyCodeLine{00044   QPushButton *cancelBtn = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Cancel"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{00045   connect(okBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(\mbox{\hyperlink{class_palettes_scan_popup_aff49755a097ef5cae1f4e3333e109eb9}{onOkBtnClicked}}()));}
\DoxyCodeLine{00046   connect(cancelBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(reject()));}
\DoxyCodeLine{00047   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_aff324b24a1ad0c06fdc178024c1f0cf0}{addButtonBarWidget}}(okBtn, cancelBtn);}
\DoxyCodeLine{00048 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_palettes_scan_popup_aadc993a3870415a49f6bcca9f0431574}\label{class_palettes_scan_popup_aadc993a3870415a49f6bcca9f0431574}} 
\index{PalettesScanPopup@{PalettesScanPopup}!clearStack@{clearStack}}
\index{clearStack@{clearStack}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{clearStack()}{clearStack()}}
{\footnotesize\ttfamily void Palettes\+Scan\+Popup\+::clear\+Stack (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Resets the content of the directories stack and set label text empty. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00177                                    \{}
\DoxyCodeLine{00178   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_stack.size(); i++) \textcolor{keyword}{delete} m\_stack[i];}
\DoxyCodeLine{00179   m\_stack.clear();}
\DoxyCodeLine{00180   m\_label-\/>setText(tr(\textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{00181 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00099}{timer\+Event()}}.

\mbox{\Hypertarget{class_palettes_scan_popup_a485e673da3a5ddb505bc37ac1b2da8d8}\label{class_palettes_scan_popup_a485e673da3a5ddb505bc37ac1b2da8d8}} 
\index{PalettesScanPopup@{PalettesScanPopup}!getCurrentFolder@{getCurrentFolder}}
\index{getCurrentFolder@{getCurrentFolder}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{getCurrentFolder()}{getCurrentFolder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} Palettes\+Scan\+Popup\+::get\+Current\+Folder (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Return current folder path. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00060 \{ \textcolor{keywordflow}{return} m\_folderPath; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palettes_scan_popup_aff49755a097ef5cae1f4e3333e109eb9}\label{class_palettes_scan_popup_aff49755a097ef5cae1f4e3333e109eb9}} 
\index{PalettesScanPopup@{PalettesScanPopup}!onOkBtnClicked@{onOkBtnClicked}}
\index{onOkBtnClicked@{onOkBtnClicked}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{onOkBtnClicked}{onOkBtnClicked}}
{\footnotesize\ttfamily void Palettes\+Scan\+Popup\+::on\+Ok\+Btn\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Start palette import. Add {\bfseries{File\+Field}} path to directories stack and start a timer. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00066                                        \{}
\DoxyCodeLine{00067   m\_timerId = startTimer(3);}
\DoxyCodeLine{00068   TFilePathSet fps;}
\DoxyCodeLine{00069   std::wstring s = m\_field-\/>getPath().toStdWString();}
\DoxyCodeLine{00070   \textcolor{keywordtype}{int} i = 0, len = s.length();}
\DoxyCodeLine{00071   \textcolor{keywordflow}{while} (i < len) \{}
\DoxyCodeLine{00072     \textcolor{keywordflow}{while} (i < len \&\& (s[i] == \textcolor{charliteral}{' '} || s[i] == \textcolor{charliteral}{'\(\backslash\)t'})) i++;}
\DoxyCodeLine{00073     \textcolor{keywordflow}{if} (i >= len) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00074     \textcolor{keywordtype}{int} j = i;}
\DoxyCodeLine{00075     \textcolor{keywordflow}{while} (j < len \&\& s[j] != \textcolor{charliteral}{','}) j++;}
\DoxyCodeLine{00076     \textcolor{keywordtype}{int} k = j;}
\DoxyCodeLine{00077     \textcolor{keywordflow}{while} (k > i \&\& (s[k -\/ 1] == \textcolor{charliteral}{' '} || s[k -\/ 1] == \textcolor{charliteral}{'\(\backslash\)t'})) k-\/-\/;}
\DoxyCodeLine{00078     std::wstring token = s.substr(i, k -\/ i);}
\DoxyCodeLine{00079     fps.push\_back(\mbox{\hyperlink{class_t_file_path}{TFilePath}}(token));}
\DoxyCodeLine{00080     i = j + 1;}
\DoxyCodeLine{00081   \}}
\DoxyCodeLine{00082   \mbox{\hyperlink{class_palettes_scan_popup_a9ce8e7d85f2824d56d959004ffdd859f}{push}}(fps);}
\DoxyCodeLine{00083 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00111}{push()}}.

\mbox{\Hypertarget{class_palettes_scan_popup_a4213a34add5499ce863d60399c35fa10}\label{class_palettes_scan_popup_a4213a34add5499ce863d60399c35fa10}} 
\index{PalettesScanPopup@{PalettesScanPopup}!onPlt@{onPlt}}
\index{onPlt@{onPlt}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{onPlt()}{onPlt()}}
{\footnotesize\ttfamily void Palettes\+Scan\+Popup\+::on\+Plt (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Import palette, defined in path {\bfseries{fp}}, in current {\bfseries{\mbox{\hyperlink{class_studio_palette}{Studio\+Palette}}}} folder. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00186                                                  \{}
\DoxyCodeLine{00187   \mbox{\hyperlink{class_t_file_path}{TFilePath}} root(m\_field-\/>getPath().toStdString());}
\DoxyCodeLine{00188   assert(root.isAncestorOf(fp));}
\DoxyCodeLine{00189   \mbox{\hyperlink{class_t_file_path}{TFilePath}} q = fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}() -\/ root;}
\DoxyCodeLine{00190   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00191     StudioPalette::instance()-\/>importPalette(m\_folderPath + q, fp);}
\DoxyCodeLine{00192   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_system_exception}{TSystemException}} \&se) \{}
\DoxyCodeLine{00193     DVGui::warning(QString::fromStdWString(se.getMessage()));}
\DoxyCodeLine{00194   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00195     DVGui::warning(QString::fromStdWString(fp.getWideString() + L\textcolor{stringliteral}{"{}\(\backslash\)n"{}}) +}
\DoxyCodeLine{00196                    tr(\textcolor{stringliteral}{"{}Failed to import palette."{}}));}
\DoxyCodeLine{00197   \}}
\DoxyCodeLine{00198 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}.



Referenced by \mbox{\hyperlink{l00156}{step()}}.

\mbox{\Hypertarget{class_palettes_scan_popup_a09aa746c81613f87c3cea5281d444197}\label{class_palettes_scan_popup_a09aa746c81613f87c3cea5281d444197}} 
\index{PalettesScanPopup@{PalettesScanPopup}!pop@{pop}}
\index{pop@{pop}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{pop()}{pop()}}
{\footnotesize\ttfamily void Palettes\+Scan\+Popup\+::pop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Removes the top item from the stack. If stack is empty return immediately. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00136                             \{}
\DoxyCodeLine{00137   \textcolor{keywordflow}{if} (m\_stack.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00138   Directory *dir = m\_stack.back();}
\DoxyCodeLine{00139   \textcolor{keyword}{delete} dir;}
\DoxyCodeLine{00140   m\_stack.pop\_back();}
\DoxyCodeLine{00141   \textcolor{keywordflow}{if} (!m\_stack.empty()) \{}
\DoxyCodeLine{00142     dir = m\_stack.back();}
\DoxyCodeLine{00143     \mbox{\hyperlink{class_palettes_scan_popup_ac78556c1d85e6964e3308e81764a1682}{setLabel}}(dir-\/>m\_path);}
\DoxyCodeLine{00144   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00145     m\_label-\/>setText(tr(\textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{00146 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00088}{set\+Label()}}.



Referenced by \mbox{\hyperlink{l00156}{step()}}.

\mbox{\Hypertarget{class_palettes_scan_popup_a9ce8e7d85f2824d56d959004ffdd859f}\label{class_palettes_scan_popup_a9ce8e7d85f2824d56d959004ffdd859f}} 
\index{PalettesScanPopup@{PalettesScanPopup}!push@{push}}
\index{push@{push}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Palettes\+Scan\+Popup\+::push (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Push \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} {\bfseries{fp}} to the top of directories stack. Set label text to fp. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00111                                                 \{}
\DoxyCodeLine{00112   \mbox{\hyperlink{class_palettes_scan_popup_ac78556c1d85e6964e3308e81764a1682}{setLabel}}(fp);}
\DoxyCodeLine{00113   Directory *dir = \textcolor{keyword}{new} Directory();}
\DoxyCodeLine{00114   m\_stack.push\_back(dir);}
\DoxyCodeLine{00115   dir-\/>m\_path  = fp;}
\DoxyCodeLine{00116   dir-\/>m\_files = TSystem::readDirectory(fp);}
\DoxyCodeLine{00117   dir-\/>m\_it    = dir-\/>m\_files.begin();}
\DoxyCodeLine{00118 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00088}{set\+Label()}}.



Referenced by \mbox{\hyperlink{l00066}{on\+Ok\+Btn\+Clicked()}}, and \mbox{\hyperlink{l00156}{step()}}.

\mbox{\Hypertarget{class_palettes_scan_popup_aa4c4b4e44a0adc1d1dbe9bd1871f998e}\label{class_palettes_scan_popup_aa4c4b4e44a0adc1d1dbe9bd1871f998e}} 
\index{PalettesScanPopup@{PalettesScanPopup}!push@{push}}
\index{push@{push}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{push()}{push()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Palettes\+Scan\+Popup\+::push (\begin{DoxyParamCaption}\item[{const TFile\+Path\+Set \&}]{fs }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Push TFile\+Path\+Set {\bfseries{fs}} to the top of directories stack. Set label text to \char`\"{}$<$files$>$\char`\"{}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00124                                                    \{}
\DoxyCodeLine{00125   m\_label-\/>setText(tr(\textcolor{stringliteral}{"{}<files>"{}}));}
\DoxyCodeLine{00126   Directory *dir = \textcolor{keyword}{new} Directory();}
\DoxyCodeLine{00127   m\_stack.push\_back(dir);}
\DoxyCodeLine{00128   dir-\/>m\_path  = \mbox{\hyperlink{class_t_file_path}{TFilePath}}();}
\DoxyCodeLine{00129   dir-\/>m\_files = fs;}
\DoxyCodeLine{00130   dir-\/>m\_it    = dir-\/>m\_files.begin();}
\DoxyCodeLine{00131 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_palettes_scan_popup_a22c19009d59b07ce07ed88d76f27e25e}\label{class_palettes_scan_popup_a22c19009d59b07ce07ed88d76f27e25e}} 
\index{PalettesScanPopup@{PalettesScanPopup}!setCurrentFolder@{setCurrentFolder}}
\index{setCurrentFolder@{setCurrentFolder}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{setCurrentFolder()}{setCurrentFolder()}}
{\footnotesize\ttfamily void Palettes\+Scan\+Popup\+::set\+Current\+Folder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_file_path}{TFile\+Path}}}]{path }\end{DoxyParamCaption})}

Set current folder path to {\bfseries{path}}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00053                                                        \{}
\DoxyCodeLine{00054   m\_folderPath = path;}
\DoxyCodeLine{00055 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00665}{Studio\+Palette\+Tree\+Viewer\+::search\+For\+Palette()}}, and \mbox{\hyperlink{l00528}{Studio\+Palette\+Tree\+Viewer\+::search\+For\+Plt()}}.

\mbox{\Hypertarget{class_palettes_scan_popup_ac78556c1d85e6964e3308e81764a1682}\label{class_palettes_scan_popup_ac78556c1d85e6964e3308e81764a1682}} 
\index{PalettesScanPopup@{PalettesScanPopup}!setLabel@{setLabel}}
\index{setLabel@{setLabel}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{setLabel()}{setLabel()}}
{\footnotesize\ttfamily void Palettes\+Scan\+Popup\+::set\+Label (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Set label text to path {\bfseries{fp}}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00088                                                     \{}
\DoxyCodeLine{00089   QString elideStr =}
\DoxyCodeLine{00090       elideText(toQString(fp), m\_label-\/>font(), m\_label-\/>width());}
\DoxyCodeLine{00091   m\_label-\/>setText(elideStr);}
\DoxyCodeLine{00092 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00136}{pop()}}, \mbox{\hyperlink{l00111}{push()}}, and \mbox{\hyperlink{l00156}{step()}}.

\mbox{\Hypertarget{class_palettes_scan_popup_a729c1476936d6d84dd1264643c79a586}\label{class_palettes_scan_popup_a729c1476936d6d84dd1264643c79a586}} 
\index{PalettesScanPopup@{PalettesScanPopup}!step@{step}}
\index{step@{step}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{step()}{step()}}
{\footnotesize\ttfamily bool Palettes\+Scan\+Popup\+::step (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Return true if directories stack is not empty; otherwise return false. ~\newline
 If stack is not empty check current directory\+: \begin{DoxyItemize}
\item if all files are checked recall {\bfseries{\mbox{\hyperlink{class_palettes_scan_popup_a09aa746c81613f87c3cea5281d444197}{pop()}}}}; \item if its path is a directory recall {\bfseries{\mbox{\hyperlink{class_palettes_scan_popup_a9ce8e7d85f2824d56d959004ffdd859f}{push(const TFile\+Path \&fp)}}}}; \item if its path is a file check its extension and recall {\bfseries{\mbox{\hyperlink{class_palettes_scan_popup_a4213a34add5499ce863d60399c35fa10}{on\+Plt(const \+TFile\+Path \&fp)}}}}. \end{DoxyItemize}

\begin{DoxyCode}{0}
\DoxyCodeLine{00156                              \{}
\DoxyCodeLine{00157   \textcolor{keywordflow}{if} (m\_stack.empty()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00158   Directory *dir = m\_stack.back();}
\DoxyCodeLine{00159   \textcolor{keywordflow}{if} (dir-\/>m\_it == dir-\/>m\_files.end())}
\DoxyCodeLine{00160     \mbox{\hyperlink{class_palettes_scan_popup_a09aa746c81613f87c3cea5281d444197}{pop}}();}
\DoxyCodeLine{00161   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00162     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = *(dir-\/>m\_it)++;}
\DoxyCodeLine{00163     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp).isDirectory())}
\DoxyCodeLine{00164       \mbox{\hyperlink{class_palettes_scan_popup_a9ce8e7d85f2824d56d959004ffdd859f}{push}}(fp);}
\DoxyCodeLine{00165     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00166       \mbox{\hyperlink{class_palettes_scan_popup_ac78556c1d85e6964e3308e81764a1682}{setLabel}}(fp);}
\DoxyCodeLine{00167       std::string ext = fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}();}
\DoxyCodeLine{00168       \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}plt"{}} || ext == \textcolor{stringliteral}{"{}tpl"{}} || ext == \textcolor{stringliteral}{"{}pli"{}}) \mbox{\hyperlink{class_palettes_scan_popup_a4213a34add5499ce863d60399c35fa10}{onPlt}}(fp);}
\DoxyCodeLine{00169     \}}
\DoxyCodeLine{00170   \}}
\DoxyCodeLine{00171   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00172 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00225}{TFile\+Path\+::get\+Type()}}, \mbox{\hyperlink{l00186}{on\+Plt()}}, \mbox{\hyperlink{l00136}{pop()}}, \mbox{\hyperlink{l00111}{push()}}, and \mbox{\hyperlink{l00088}{set\+Label()}}.



Referenced by \mbox{\hyperlink{l00099}{timer\+Event()}}.

\mbox{\Hypertarget{class_palettes_scan_popup_a5df5457a95cdb3252af8f34275469edb}\label{class_palettes_scan_popup_a5df5457a95cdb3252af8f34275469edb}} 
\index{PalettesScanPopup@{PalettesScanPopup}!timerEvent@{timerEvent}}
\index{timerEvent@{timerEvent}!PalettesScanPopup@{PalettesScanPopup}}
\doxysubsubsection{\texorpdfstring{timerEvent()}{timerEvent()}}
{\footnotesize\ttfamily void Palettes\+Scan\+Popup\+::timer\+Event (\begin{DoxyParamCaption}\item[{QTimer\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}

Proceed in palette import recalling {\bfseries{\mbox{\hyperlink{class_palettes_scan_popup_a729c1476936d6d84dd1264643c79a586}{step()}}}}; if \mbox{\hyperlink{class_palettes_scan_popup_a729c1476936d6d84dd1264643c79a586}{step()}} return false stop timer, clear directories stack, and close popup sending accept event. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00099                                                      \{}
\DoxyCodeLine{00100   \textcolor{keywordtype}{bool} ret = \mbox{\hyperlink{class_palettes_scan_popup_a729c1476936d6d84dd1264643c79a586}{step}}();}
\DoxyCodeLine{00101   \textcolor{keywordflow}{if} (!ret) \{}
\DoxyCodeLine{00102     killTimer(m\_timerId);}
\DoxyCodeLine{00103     \mbox{\hyperlink{class_palettes_scan_popup_aadc993a3870415a49f6bcca9f0431574}{clearStack}}();}
\DoxyCodeLine{00104     QDialog::accept();}
\DoxyCodeLine{00105   \}}
\DoxyCodeLine{00106 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00177}{clear\+Stack()}}, and \mbox{\hyperlink{l00156}{step()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzqt/palettesscanpopup.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/palettesscanpopup.\+cpp\end{DoxyCompactItemize}
