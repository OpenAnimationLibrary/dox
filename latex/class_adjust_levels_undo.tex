\hypertarget{class_adjust_levels_undo}{}\doxysection{Adjust\+Levels\+Undo Class Reference}
\label{class_adjust_levels_undo}\index{AdjustLevelsUndo@{AdjustLevelsUndo}}
Inheritance diagram for Adjust\+Levels\+Undo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_adjust_levels_undo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_adjust_levels_undo_a472619aeb8902891f6fd049f3047c0d3}{Adjust\+Levels\+Undo}} (int $\ast$in0, int $\ast$in1, int $\ast$out0, int $\ast$out1, int r, int c, \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} ras)
\item 
void \mbox{\hyperlink{class_adjust_levels_undo_a16303fe0ce125d4636ad2daf06729e24}{undo}} () const override
\item 
void \mbox{\hyperlink{class_adjust_levels_undo_a3047565facd7d120f8e3d888eaff4bf0}{redo}} () const override
\item 
int \mbox{\hyperlink{class_adjust_levels_undo_a50f42e2dab4fcbb11585c6b474880a20}{get\+Size}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_adjust_levels_undo_a472619aeb8902891f6fd049f3047c0d3}\label{class_adjust_levels_undo_a472619aeb8902891f6fd049f3047c0d3}} 
\index{AdjustLevelsUndo@{AdjustLevelsUndo}!AdjustLevelsUndo@{AdjustLevelsUndo}}
\index{AdjustLevelsUndo@{AdjustLevelsUndo}!AdjustLevelsUndo@{AdjustLevelsUndo}}
\doxysubsubsection{\texorpdfstring{AdjustLevelsUndo()}{AdjustLevelsUndo()}}
{\footnotesize\ttfamily Adjust\+Levels\+Undo\+::\+Adjust\+Levels\+Undo (\begin{DoxyParamCaption}\item[{int $\ast$}]{in0,  }\item[{int $\ast$}]{in1,  }\item[{int $\ast$}]{out0,  }\item[{int $\ast$}]{out1,  }\item[{int}]{r,  }\item[{int}]{c,  }\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}}}]{ras }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00579     : m\_r(r)}
\DoxyCodeLine{00580     , m\_c(c)}
\DoxyCodeLine{00581     , m\_rasSize(ras-\/>getLx() * ras-\/>getLy() * ras-\/>getPixelSize()) \{}
\DoxyCodeLine{00582   memcpy(m\_in0, in0, \textcolor{keyword}{sizeof}(m\_in0));}
\DoxyCodeLine{00583   memcpy(m\_in1, in1, \textcolor{keyword}{sizeof}(m\_in1));}
\DoxyCodeLine{00584   memcpy(m\_out0, out0, \textcolor{keyword}{sizeof}(m\_out0));}
\DoxyCodeLine{00585   memcpy(m\_out1, out1, \textcolor{keyword}{sizeof}(m\_out1));}
\DoxyCodeLine{00586 }
\DoxyCodeLine{00587   \textcolor{keyword}{static} \textcolor{keywordtype}{int} counter = 0;}
\DoxyCodeLine{00588   m\_rasId            = QString(\textcolor{stringliteral}{"{}AdjustLevelsUndo"{}}) + QString::number(++counter);}
\DoxyCodeLine{00589 }
\DoxyCodeLine{00590   TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a124eae4cf370288f42c22b3477cb5163}{add}}(m\_rasId, \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}}(ras));}
\DoxyCodeLine{00591 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_adjust_levels_undo_a7d64ba4bb242d10d2d83d68e4b9aaae3}\label{class_adjust_levels_undo_a7d64ba4bb242d10d2d83d68e4b9aaae3}} 
\index{AdjustLevelsUndo@{AdjustLevelsUndo}!````~AdjustLevelsUndo@{$\sim$AdjustLevelsUndo}}
\index{````~AdjustLevelsUndo@{$\sim$AdjustLevelsUndo}!AdjustLevelsUndo@{AdjustLevelsUndo}}
\doxysubsubsection{\texorpdfstring{$\sim$AdjustLevelsUndo()}{~AdjustLevelsUndo()}}
{\footnotesize\ttfamily Adjust\+Levels\+Undo\+::$\sim$\+Adjust\+Levels\+Undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00595                                     \{}
\DoxyCodeLine{00596   TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a57d63227dfe2532b0aed22c47113be66}{remove}}(m\_rasId);}
\DoxyCodeLine{00597 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_adjust_levels_undo_a50f42e2dab4fcbb11585c6b474880a20}\label{class_adjust_levels_undo_a50f42e2dab4fcbb11585c6b474880a20}} 
\index{AdjustLevelsUndo@{AdjustLevelsUndo}!getSize@{getSize}}
\index{getSize@{getSize}!AdjustLevelsUndo@{AdjustLevelsUndo}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Adjust\+Levels\+Undo\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00572 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(*this) + m\_rasSize; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_adjust_levels_undo_a3047565facd7d120f8e3d888eaff4bf0}\label{class_adjust_levels_undo_a3047565facd7d120f8e3d888eaff4bf0}} 
\index{AdjustLevelsUndo@{AdjustLevelsUndo}!redo@{redo}}
\index{redo@{redo}!AdjustLevelsUndo@{AdjustLevelsUndo}}
\doxysubsubsection{\texorpdfstring{redo()}{redo()}}
{\footnotesize\ttfamily void Adjust\+Levels\+Undo\+::redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00625                                   \{}
\DoxyCodeLine{00626   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsheet = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{00627   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell   = xsheet-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(m\_r, m\_c);}
\DoxyCodeLine{00628 }
\DoxyCodeLine{00629   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} rasImage = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})cell.\mbox{\hyperlink{class_t_xsh_cell_a20b623d308bc09b820ec6b116516f564}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00630   \textcolor{keywordflow}{if} (!rasImage) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00631 }
\DoxyCodeLine{00632   \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} ras = rasImage-\/>getRaster();}
\DoxyCodeLine{00633   \textcolor{keywordflow}{if} (!ras) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00634 }
\DoxyCodeLine{00635   \mbox{\hyperlink{namespace_t_rop_ae2160d9b4cacd0527c741e83181f17be}{TRop::rgbmAdjust}}(ras, ras, m\_in0, m\_in1, m\_out0, m\_out1);}
\DoxyCodeLine{00636 }
\DoxyCodeLine{00637   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *simpleLevel = cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{00638   assert(simpleLevel);}
\DoxyCodeLine{00639   simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a3c20a8d11037048322d2035b0f286209}{touchFrame}}(cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{00640   simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00641   IconGenerator::instance()-\/>invalidate(simpleLevel, cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{00642 }
\DoxyCodeLine{00643   \textcolor{keywordflow}{if} (m\_isLastInBlock)}
\DoxyCodeLine{00644     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00645 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_adjust_levels_undo_a16303fe0ce125d4636ad2daf06729e24}\label{class_adjust_levels_undo_a16303fe0ce125d4636ad2daf06729e24}} 
\index{AdjustLevelsUndo@{AdjustLevelsUndo}!undo@{undo}}
\index{undo@{undo}!AdjustLevelsUndo@{AdjustLevelsUndo}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Adjust\+Levels\+Undo\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00601                                   \{}
\DoxyCodeLine{00602   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsheet = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{00603   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell   = xsheet-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(m\_r, m\_c);}
\DoxyCodeLine{00604 }
\DoxyCodeLine{00605   \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} rasImage = (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})cell.\mbox{\hyperlink{class_t_xsh_cell_a20b623d308bc09b820ec6b116516f564}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00606   \textcolor{keywordflow}{if} (!rasImage) \textcolor{keywordflow}{return};  \textcolor{comment}{//...Should never happen, though...}}
\DoxyCodeLine{00607 }
\DoxyCodeLine{00608   rasImage-\/>setRaster(}
\DoxyCodeLine{00609       ((\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})TImageCache::instance()-\/>get(m\_rasId, \textcolor{keyword}{true}))}
\DoxyCodeLine{00610           -\/>getRaster()}
\DoxyCodeLine{00611           -\/>clone());}
\DoxyCodeLine{00612 }
\DoxyCodeLine{00613   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *simpleLevel = cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{00614   assert(simpleLevel);}
\DoxyCodeLine{00615   simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a3c20a8d11037048322d2035b0f286209}{touchFrame}}(cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{00616   simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00617   IconGenerator::instance()-\/>invalidate(simpleLevel, cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{00618 }
\DoxyCodeLine{00619   \textcolor{keywordflow}{if} (m\_isLastInBlock)}
\DoxyCodeLine{00620     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00621 \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/adjustlevelspopup.\+cpp\end{DoxyCompactItemize}
