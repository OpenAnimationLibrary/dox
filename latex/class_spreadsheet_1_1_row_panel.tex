\hypertarget{class_spreadsheet_1_1_row_panel}{}\doxysection{Spreadsheet\+::Row\+Panel Class Reference}
\label{class_spreadsheet_1_1_row_panel}\index{Spreadsheet::RowPanel@{Spreadsheet::RowPanel}}
Inheritance diagram for Spreadsheet\+::Row\+Panel\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_spreadsheet_1_1_row_panel}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_spreadsheet_1_1_row_panel_a49a40de284ff7c16d755f14f607a1b91}{Row\+Panel}} (\mbox{\hyperlink{class_spreadsheet_viewer}{Spreadsheet\+Viewer}} $\ast$viewer)
\item 
\mbox{\hyperlink{class_spreadsheet_1_1_drag_tool}{Drag\+Tool}} $\ast$ \mbox{\hyperlink{class_spreadsheet_1_1_row_panel_a3644e8c17dc9a5e47cf9d0bae6deac24}{create\+Drag\+Tool}} (QMouse\+Event $\ast$) override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_spreadsheet_1_1_row_panel_a70ed820cc63974c413f784bee8629710}{paint\+Event}} (QPaint\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_spreadsheet_1_1_row_panel_a3f9e0dd413f56d0b717d2249d31d0fc0}{draw\+Rows}} (QPainter \&p, int r0, int r1)
\item 
void \mbox{\hyperlink{class_spreadsheet_1_1_row_panel_ae18a2ec292b2bcfac679fd794c849397}{draw\+Current\+Row\+Gadget}} (QPainter \&p, int r0, int r1)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_spreadsheet_1_1_row_panel_a49a40de284ff7c16d755f14f607a1b91}\label{class_spreadsheet_1_1_row_panel_a49a40de284ff7c16d755f14f607a1b91}} 
\index{Spreadsheet::RowPanel@{Spreadsheet::RowPanel}!RowPanel@{RowPanel}}
\index{RowPanel@{RowPanel}!Spreadsheet::RowPanel@{Spreadsheet::RowPanel}}
\doxysubsubsection{\texorpdfstring{RowPanel()}{RowPanel()}}
{\footnotesize\ttfamily Spreadsheet\+::\+Row\+Panel\+::\+Row\+Panel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_spreadsheet_viewer}{Spreadsheet\+Viewer}} $\ast$}]{viewer }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00338     : GenericPanel(viewer), m\_xa(12) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_spreadsheet_1_1_row_panel_a403700e42801fbe1e07102155ba761f2}\label{class_spreadsheet_1_1_row_panel_a403700e42801fbe1e07102155ba761f2}} 
\index{Spreadsheet::RowPanel@{Spreadsheet::RowPanel}!````~RowPanel@{$\sim$RowPanel}}
\index{````~RowPanel@{$\sim$RowPanel}!Spreadsheet::RowPanel@{Spreadsheet::RowPanel}}
\doxysubsubsection{\texorpdfstring{$\sim$RowPanel()}{~RowPanel()}}
{\footnotesize\ttfamily virtual Spreadsheet\+::\+Row\+Panel\+::$\sim$\+Row\+Panel (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00190 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_spreadsheet_1_1_row_panel_a3644e8c17dc9a5e47cf9d0bae6deac24}\label{class_spreadsheet_1_1_row_panel_a3644e8c17dc9a5e47cf9d0bae6deac24}} 
\index{Spreadsheet::RowPanel@{Spreadsheet::RowPanel}!createDragTool@{createDragTool}}
\index{createDragTool@{createDragTool}!Spreadsheet::RowPanel@{Spreadsheet::RowPanel}}
\doxysubsubsection{\texorpdfstring{createDragTool()}{createDragTool()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_spreadsheet_1_1_drag_tool}{Drag\+Tool}} $\ast$ Spreadsheet\+::\+Row\+Panel\+::create\+Drag\+Tool (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_spreadsheet_1_1_generic_panel}{Spreadsheet\+::\+Generic\+Panel}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00342                                                 \{}
\DoxyCodeLine{00343   \mbox{\hyperlink{class_t_frame_handle}{TFrameHandle}} *frameHandle = getViewer()-\/>getFrameHandle();}
\DoxyCodeLine{00344   \textcolor{keywordflow}{if} (frameHandle)}
\DoxyCodeLine{00345     \textcolor{keywordflow}{return} \textcolor{keyword}{new} SetFrameDragTool(frameHandle);}
\DoxyCodeLine{00346   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00347     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00348 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_spreadsheet_1_1_row_panel_ae18a2ec292b2bcfac679fd794c849397}\label{class_spreadsheet_1_1_row_panel_ae18a2ec292b2bcfac679fd794c849397}} 
\index{Spreadsheet::RowPanel@{Spreadsheet::RowPanel}!drawCurrentRowGadget@{drawCurrentRowGadget}}
\index{drawCurrentRowGadget@{drawCurrentRowGadget}!Spreadsheet::RowPanel@{Spreadsheet::RowPanel}}
\doxysubsubsection{\texorpdfstring{drawCurrentRowGadget()}{drawCurrentRowGadget()}}
{\footnotesize\ttfamily void Spreadsheet\+::\+Row\+Panel\+::draw\+Current\+Row\+Gadget (\begin{DoxyParamCaption}\item[{QPainter \&}]{p,  }\item[{int}]{r0,  }\item[{int}]{r1 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00407                                                                \{}
\DoxyCodeLine{00408   \textcolor{keywordtype}{int} currentRow = getViewer()-\/>getCurrentRow();}
\DoxyCodeLine{00409   \textcolor{comment}{// int y          = getViewer()-\/>rowToY(currentRow);}}
\DoxyCodeLine{00410   \textcolor{keywordflow}{if} (currentRow < r0 || r1 < currentRow) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00411   \textcolor{keywordtype}{int} top    = getViewer()-\/>rowToY(currentRow);}
\DoxyCodeLine{00412   \textcolor{keywordtype}{int} bottom = getViewer()-\/>rowToY(currentRow + 1) -\/ 1;}
\DoxyCodeLine{00413   QRect rect(1, top, width() -\/ 1, bottom -\/ top);}
\DoxyCodeLine{00414 }
\DoxyCodeLine{00415   p.fillRect(rect, getViewer()-\/>getCurrentRowBgColor());}
\DoxyCodeLine{00416 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_spreadsheet_1_1_row_panel_a3f9e0dd413f56d0b717d2249d31d0fc0}\label{class_spreadsheet_1_1_row_panel_a3f9e0dd413f56d0b717d2249d31d0fc0}} 
\index{Spreadsheet::RowPanel@{Spreadsheet::RowPanel}!drawRows@{drawRows}}
\index{drawRows@{drawRows}!Spreadsheet::RowPanel@{Spreadsheet::RowPanel}}
\doxysubsubsection{\texorpdfstring{drawRows()}{drawRows()}}
{\footnotesize\ttfamily void Spreadsheet\+::\+Row\+Panel\+::draw\+Rows (\begin{DoxyParamCaption}\item[{QPainter \&}]{p,  }\item[{int}]{r0,  }\item[{int}]{r1 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00352                                                    \{}
\DoxyCodeLine{00353   QString fontName = Preferences::instance()-\/>getInterfaceFont();}
\DoxyCodeLine{00354   \textcolor{keywordflow}{if} (fontName == \textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{00355 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00356     fontName = \textcolor{stringliteral}{"{}Arial"{}};}
\DoxyCodeLine{00357 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00358     fontName = \textcolor{stringliteral}{"{}Helvetica"{}};}
\DoxyCodeLine{00359 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00360   \}}
\DoxyCodeLine{00361   \textcolor{keyword}{static} QFont font(fontName, -\/1, QFont::Bold);}
\DoxyCodeLine{00362   font.setPixelSize(12);}
\DoxyCodeLine{00363   p.setFont(font);}
\DoxyCodeLine{00364 }
\DoxyCodeLine{00365   QRect visibleRect = visibleRegion().boundingRect();}
\DoxyCodeLine{00366   \textcolor{keywordtype}{int} x0            = visibleRect.left();}
\DoxyCodeLine{00367   \textcolor{keywordtype}{int} x1            = visibleRect.right();}
\DoxyCodeLine{00368   \textcolor{keywordtype}{int} y0            = visibleRect.top();}
\DoxyCodeLine{00369   \textcolor{keywordtype}{int} y1            = visibleRect.bottom();}
\DoxyCodeLine{00370 }
\DoxyCodeLine{00371   \textcolor{keywordtype}{bool} simpleView = getViewer()-\/>getFrameZoomFactor() <=}
\DoxyCodeLine{00372                     Orientations::topToBottom()-\/>dimension(}
\DoxyCodeLine{00373                         PredefinedDimension::SCALE\_THRESHOLD);}
\DoxyCodeLine{00374   \textcolor{keywordtype}{int} r;}
\DoxyCodeLine{00375   \textcolor{keywordtype}{int} y = getViewer()-\/>rowToY(r0);}
\DoxyCodeLine{00376   \textcolor{keywordflow}{for} (r = r0; r <= r1; r++) \{}
\DoxyCodeLine{00377     \textcolor{keywordtype}{int} next\_y = getViewer()-\/>rowToY(r + 1);}
\DoxyCodeLine{00378     \textcolor{comment}{// draw horizontal line}}
\DoxyCodeLine{00379     QColor color = (getViewer()-\/>isMarkRow(r))}
\DoxyCodeLine{00380                        ? getViewer()-\/>getMarkerLineColor()}
\DoxyCodeLine{00381                        : getViewer()-\/>getLightLineColor();}
\DoxyCodeLine{00382     p.setPen(color);}
\DoxyCodeLine{00383     p.drawLine(x0, y, x1, y);}
\DoxyCodeLine{00384 }
\DoxyCodeLine{00385     \textcolor{keywordflow}{if} (simpleView \&\& r > 0 \&\& !getViewer()-\/>isMarkRow(r + 1)) \{}
\DoxyCodeLine{00386       y = next\_y;}
\DoxyCodeLine{00387       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00388     \}}
\DoxyCodeLine{00389 }
\DoxyCodeLine{00390     \textcolor{comment}{// draw numbers}}
\DoxyCodeLine{00391     p.setPen(getViewer()-\/>getTextColor());}
\DoxyCodeLine{00392 }
\DoxyCodeLine{00393     QString number = QString::number(r + 1);}
\DoxyCodeLine{00394     p.drawText(QRect(x0, y + 1, width() -\/ 4, next\_y -\/ y -\/ 1),}
\DoxyCodeLine{00395                Qt::AlignVCenter | Qt::AlignRight, number);}
\DoxyCodeLine{00396     y = next\_y;}
\DoxyCodeLine{00397   \}}
\DoxyCodeLine{00398   \textcolor{comment}{// erase the marker interval at upper-\/end}}
\DoxyCodeLine{00399   \textcolor{keywordflow}{if} (r0 == 0) \{}
\DoxyCodeLine{00400     p.setPen(getViewer()-\/>getLightLineColor());}
\DoxyCodeLine{00401     p.drawLine(x0, getViewer()-\/>rowToY(0), x1, getViewer()-\/>rowToY(0));}
\DoxyCodeLine{00402   \}}
\DoxyCodeLine{00403 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_spreadsheet_1_1_row_panel_a70ed820cc63974c413f784bee8629710}\label{class_spreadsheet_1_1_row_panel_a70ed820cc63974c413f784bee8629710}} 
\index{Spreadsheet::RowPanel@{Spreadsheet::RowPanel}!paintEvent@{paintEvent}}
\index{paintEvent@{paintEvent}!Spreadsheet::RowPanel@{Spreadsheet::RowPanel}}
\doxysubsubsection{\texorpdfstring{paintEvent()}{paintEvent()}}
{\footnotesize\ttfamily void Spreadsheet\+::\+Row\+Panel\+::paint\+Event (\begin{DoxyParamCaption}\item[{QPaint\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00420                                         \{}
\DoxyCodeLine{00421   QRect toBeUpdated = e-\/>rect();}
\DoxyCodeLine{00422   QPainter p(\textcolor{keyword}{this});}
\DoxyCodeLine{00423 }
\DoxyCodeLine{00424   \mbox{\hyperlink{class_cell_range}{CellRange}} visible = getViewer()-\/>xyRectToRange(toBeUpdated);}
\DoxyCodeLine{00425   \textcolor{comment}{// range of visible rows}}
\DoxyCodeLine{00426   \textcolor{keywordtype}{int} r0 = visible.from().frame();}
\DoxyCodeLine{00427   \textcolor{keywordtype}{int} r1 = visible.to().frame();}
\DoxyCodeLine{00428 }
\DoxyCodeLine{00429   p.setClipRect(toBeUpdated);}
\DoxyCodeLine{00430   p.fillRect(toBeUpdated, QBrush(getViewer()-\/>getLightLightBGColor()));}
\DoxyCodeLine{00431 }
\DoxyCodeLine{00432   drawCurrentRowGadget(p, r0, r1);}
\DoxyCodeLine{00433   drawRows(p, r0, r1);}
\DoxyCodeLine{00434 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/spreadsheetviewer.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/spreadsheetviewer.\+cpp\end{DoxyCompactItemize}
