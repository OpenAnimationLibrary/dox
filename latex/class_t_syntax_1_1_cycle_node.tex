\hypertarget{class_t_syntax_1_1_cycle_node}{}\doxysection{TSyntax\+::Cycle\+Node Class Reference}
\label{class_t_syntax_1_1_cycle_node}\index{TSyntax::CycleNode@{TSyntax::CycleNode}}
Inheritance diagram for TSyntax\+::Cycle\+Node\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_t_syntax_1_1_cycle_node}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_syntax_1_1_cycle_node_a3b285559179f6bfb25772dd60c1c6bef}{Cycle\+Node}} (\mbox{\hyperlink{class_t_syntax_1_1_calculator}{Calculator}} $\ast$calc, \mbox{\hyperlink{class_t_syntax_1_1_calculator_node}{Calculator\+Node}} $\ast$a)
\item 
double \mbox{\hyperlink{class_t_syntax_1_1_cycle_node_a069f00412285bd9337b32448592370fa}{compute}} (double vars\mbox{[}3\mbox{]}) const override
\item 
void \mbox{\hyperlink{class_t_syntax_1_1_cycle_node_acd18dec1f7f7a44f1f6d74427a87533b}{accept}} (\mbox{\hyperlink{class_t_syntax_1_1_calculator_node_visitor}{Calculator\+Node\+Visitor}} \&visitor) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_syntax_1_1_cycle_node_a3b285559179f6bfb25772dd60c1c6bef}\label{class_t_syntax_1_1_cycle_node_a3b285559179f6bfb25772dd60c1c6bef}} 
\index{TSyntax::CycleNode@{TSyntax::CycleNode}!CycleNode@{CycleNode}}
\index{CycleNode@{CycleNode}!TSyntax::CycleNode@{TSyntax::CycleNode}}
\doxysubsubsection{\texorpdfstring{CycleNode()}{CycleNode()}}
{\footnotesize\ttfamily TSyntax\+::\+Cycle\+Node\+::\+Cycle\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_syntax_1_1_calculator}{Calculator}} $\ast$}]{calc,  }\item[{\mbox{\hyperlink{class_t_syntax_1_1_calculator_node}{Calculator\+Node}} $\ast$}]{a }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00235       : CalculatorNode(calc), m\_a(a) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_syntax_1_1_cycle_node_acd18dec1f7f7a44f1f6d74427a87533b}\label{class_t_syntax_1_1_cycle_node_acd18dec1f7f7a44f1f6d74427a87533b}} 
\index{TSyntax::CycleNode@{TSyntax::CycleNode}!accept@{accept}}
\index{accept@{accept}!TSyntax::CycleNode@{TSyntax::CycleNode}}
\doxysubsubsection{\texorpdfstring{accept()}{accept()}}
{\footnotesize\ttfamily void TSyntax\+::\+Cycle\+Node\+::accept (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_syntax_1_1_calculator_node_visitor}{Calculator\+Node\+Visitor}} \&}]{visitor }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_syntax_1_1_calculator_node}{TSyntax\+::\+Calculator\+Node}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00265 \{ m\_a-\/>accept(visitor); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_syntax_1_1_cycle_node_a069f00412285bd9337b32448592370fa}\label{class_t_syntax_1_1_cycle_node_a069f00412285bd9337b32448592370fa}} 
\index{TSyntax::CycleNode@{TSyntax::CycleNode}!compute@{compute}}
\index{compute@{compute}!TSyntax::CycleNode@{TSyntax::CycleNode}}
\doxysubsubsection{\texorpdfstring{compute()}{compute()}}
{\footnotesize\ttfamily double TSyntax\+::\+Cycle\+Node\+::compute (\begin{DoxyParamCaption}\item[{double}]{vars\mbox{[}3\mbox{]} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_syntax_1_1_calculator_node}{TSyntax\+::\+Calculator\+Node}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00237                                                 \{}
\DoxyCodeLine{00238     \textcolor{keyword}{struct }locals \{}
\DoxyCodeLine{00239       \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{double} compute(\textcolor{keyword}{const} \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} \&param, \textcolor{keywordtype}{double} f) \{}
\DoxyCodeLine{00240         \textcolor{keywordflow}{if} (param.getKeyframeCount() >= 2 \&\&}
\DoxyCodeLine{00241             f < param.\mbox{\hyperlink{class_t_double_param_af08442b9fd968fddada028a6f07983d5}{keyframeIndexToFrame}}(0)) \{}
\DoxyCodeLine{00242           \mbox{\hyperlink{class_t_double_keyframe}{TDoubleKeyframe}} kf = param.getKeyframe(0);}
\DoxyCodeLine{00243           \textcolor{keywordflow}{if} (kf.m\_type == TDoubleKeyframe::Expression ||}
\DoxyCodeLine{00244               kf.m\_type == TDoubleKeyframe::SimilarShape)}
\DoxyCodeLine{00245             \textcolor{keywordflow}{return} param.getDefaultValue();}
\DoxyCodeLine{00246         \}}
\DoxyCodeLine{00247 }
\DoxyCodeLine{00248         \textcolor{keywordtype}{double} value = param.getValue(f);}
\DoxyCodeLine{00249         \textcolor{keywordflow}{return} value;}
\DoxyCodeLine{00250       \}}
\DoxyCodeLine{00251     \};}
\DoxyCodeLine{00252 }
\DoxyCodeLine{00253     \textcolor{keywordtype}{double} delta = std::max(1.0, m\_a-\/>compute(vars));}
\DoxyCodeLine{00254 }
\DoxyCodeLine{00255     \textcolor{keyword}{const} \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *ownerParam = getCalculator()-\/>getOwnerParameter();}
\DoxyCodeLine{00256     \textcolor{keywordflow}{if} (!ownerParam) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00257 }
\DoxyCodeLine{00258     \textcolor{keywordtype}{double} value = locals::compute(*ownerParam, vars[FRAME] -\/ 1 -\/ delta);}
\DoxyCodeLine{00259     \textcolor{keywordflow}{if} (getCalculator()-\/>getUnit())}
\DoxyCodeLine{00260       value = getCalculator()-\/>getUnit()-\/>convertTo(value);}
\DoxyCodeLine{00261 }
\DoxyCodeLine{00262     \textcolor{keywordflow}{return} value;}
\DoxyCodeLine{00263   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/common/expressions/tgrammar.\+cpp\end{DoxyCompactItemize}
