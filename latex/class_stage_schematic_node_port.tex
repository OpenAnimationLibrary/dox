\hypertarget{class_stage_schematic_node_port}{}\doxysection{Stage\+Schematic\+Node\+Port Class Reference}
\label{class_stage_schematic_node_port}\index{StageSchematicNodePort@{StageSchematicNodePort}}
Inheritance diagram for Stage\+Schematic\+Node\+Port\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_stage_schematic_node_port}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_stage_schematic_node_port_a67ef98727f4ed37e2b428457156bcb15}{Stage\+Schematic\+Node\+Port}} (\mbox{\hyperlink{class_stage_schematic_node_dock}{Stage\+Schematic\+Node\+Dock}} $\ast$parent, int type)
\item 
QRectF \mbox{\hyperlink{class_stage_schematic_node_port_a2ccee0db52588aeee8a1b189c4c8a71b}{bounding\+Rect}} () const override
\item 
void \mbox{\hyperlink{class_stage_schematic_node_port_a8bf2a6ffc6420ac26bdcdb99900e6261}{paint}} (QPainter $\ast$painter, const QStyle\+Option\+Graphics\+Item $\ast$option, QWidget $\ast$widget=0) override
\item 
void \mbox{\hyperlink{class_stage_schematic_node_port_a89caa41f5c2a4dc1a78fecd6f42ce7ec}{set\+Handle}} (const QString \&value)
\item 
QString \mbox{\hyperlink{class_stage_schematic_node_port_a8b08f1fd22ee8cd566586df0b5e1cdbb}{get\+Handle}} ()
\item 
bool \mbox{\hyperlink{class_stage_schematic_node_port_a6e9442fe4bf5443adb5c0df956384215}{link\+To}} (\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$port, bool check\+Only=false) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_stage_schematic_node_port_a67ef98727f4ed37e2b428457156bcb15}\label{class_stage_schematic_node_port_a67ef98727f4ed37e2b428457156bcb15}} 
\index{StageSchematicNodePort@{StageSchematicNodePort}!StageSchematicNodePort@{StageSchematicNodePort}}
\index{StageSchematicNodePort@{StageSchematicNodePort}!StageSchematicNodePort@{StageSchematicNodePort}}
\doxysubsubsection{\texorpdfstring{StageSchematicNodePort()}{StageSchematicNodePort()}}
{\footnotesize\ttfamily Stage\+Schematic\+Node\+Port\+::\+Stage\+Schematic\+Node\+Port (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_stage_schematic_node_dock}{Stage\+Schematic\+Node\+Dock}} $\ast$}]{parent,  }\item[{int}]{type }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00710     : \mbox{\hyperlink{class_schematic_port}{SchematicPort}}(parent, parent-\/>getNode(), type), m\_handle(\textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{00711   QRectF rect = boundingRect();}
\DoxyCodeLine{00712   \textcolor{keywordflow}{if} (parent-\/>isParentPort())}
\DoxyCodeLine{00713     m\_hook = QPointF(rect.left(), (rect.top() + rect.bottom()) * 0.5);}
\DoxyCodeLine{00714   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00715     m\_hook = QPointF(rect.right(), (rect.top() + rect.bottom()) * 0.5);}
\DoxyCodeLine{00716 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_port_a9ea7627c53374c6d226332ab18e480fd}\label{class_stage_schematic_node_port_a9ea7627c53374c6d226332ab18e480fd}} 
\index{StageSchematicNodePort@{StageSchematicNodePort}!````~StageSchematicNodePort@{$\sim$StageSchematicNodePort}}
\index{````~StageSchematicNodePort@{$\sim$StageSchematicNodePort}!StageSchematicNodePort@{StageSchematicNodePort}}
\doxysubsubsection{\texorpdfstring{$\sim$StageSchematicNodePort()}{~StageSchematicNodePort()}}
{\footnotesize\ttfamily Stage\+Schematic\+Node\+Port\+::$\sim$\+Stage\+Schematic\+Node\+Port (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00720 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_stage_schematic_node_port_a2ccee0db52588aeee8a1b189c4c8a71b}\label{class_stage_schematic_node_port_a2ccee0db52588aeee8a1b189c4c8a71b}} 
\index{StageSchematicNodePort@{StageSchematicNodePort}!boundingRect@{boundingRect}}
\index{boundingRect@{boundingRect}!StageSchematicNodePort@{StageSchematicNodePort}}
\doxysubsubsection{\texorpdfstring{boundingRect()}{boundingRect()}}
{\footnotesize\ttfamily QRectF Stage\+Schematic\+Node\+Port\+::bounding\+Rect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00724                                                   \{}
\DoxyCodeLine{00725   \textcolor{keywordflow}{return} QRectF(0, 0, 18, 18);}
\DoxyCodeLine{00726 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_port_a8b08f1fd22ee8cd566586df0b5e1cdbb}\label{class_stage_schematic_node_port_a8b08f1fd22ee8cd566586df0b5e1cdbb}} 
\index{StageSchematicNodePort@{StageSchematicNodePort}!getHandle@{getHandle}}
\index{getHandle@{getHandle}!StageSchematicNodePort@{StageSchematicNodePort}}
\doxysubsubsection{\texorpdfstring{getHandle()}{getHandle()}}
{\footnotesize\ttfamily QString Stage\+Schematic\+Node\+Port\+::get\+Handle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00221 \{ \textcolor{keywordflow}{return} m\_handle; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_port_a6e9442fe4bf5443adb5c0df956384215}\label{class_stage_schematic_node_port_a6e9442fe4bf5443adb5c0df956384215}} 
\index{StageSchematicNodePort@{StageSchematicNodePort}!linkTo@{linkTo}}
\index{linkTo@{linkTo}!StageSchematicNodePort@{StageSchematicNodePort}}
\doxysubsubsection{\texorpdfstring{linkTo()}{linkTo()}}
{\footnotesize\ttfamily bool Stage\+Schematic\+Node\+Port\+::link\+To (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} $\ast$}]{port,  }\item[{bool}]{check\+Only = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Check and make a connection between the data Objects. Returns true if it is possible to have a connection between the data Object represented by this \mbox{\hyperlink{class_schematic_port}{Schematic\+Port}} and that represented by {\bfseries{port}}. If check only is false no connections is created! \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_fx_port}{TFx\+Port}}, \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}}. 
\end{DoxySeeAlso}


Implements \mbox{\hyperlink{class_schematic_port_a2ad48288778f948d68c70c8bb127a0e5}{Schematic\+Port}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00774                                                                        \{}
\DoxyCodeLine{00775   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{00776       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{00777   \textcolor{keywordflow}{if} (!port) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00778 }
\DoxyCodeLine{00779   \mbox{\hyperlink{class_stage_schematic_node}{StageSchematicNode}} *srcNode = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_node}{StageSchematicNode}} *\textcolor{keyword}{>}(getNode());}
\DoxyCodeLine{00780   \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == port \&\& !srcNode-\/>getStageObject()-\/>isGrouped()) \{}
\DoxyCodeLine{00781     \textcolor{keywordflow}{if} (!checkOnly)}
\DoxyCodeLine{00782       TStageObjectCmd::setParent(srcNode-\/>getStageObject()-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}(),}
\DoxyCodeLine{00783                                  TStageObjectId::NoneId, \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{00784                                  stageScene-\/>getXsheetHandle());}
\DoxyCodeLine{00785     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00786   \}}
\DoxyCodeLine{00787   \mbox{\hyperlink{class_stage_schematic_node}{StageSchematicNode}} *dstNode =}
\DoxyCodeLine{00788       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_node}{StageSchematicNode}} *\textcolor{keyword}{>}(port-\/>getNode());}
\DoxyCodeLine{00789   \textcolor{keywordflow}{if} (!dstNode) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00790   \textcolor{keywordflow}{if} (srcNode == dstNode) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00791 }
\DoxyCodeLine{00792   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *pegbar = 0, *parentPegbar = 0;}
\DoxyCodeLine{00793   \mbox{\hyperlink{class_schematic_port}{SchematicPort}} *childPort, *parentPort;}
\DoxyCodeLine{00794   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == eStageParentPort \&\& port-\/>\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == eStageChildPort) \{}
\DoxyCodeLine{00795     pegbar       = srcNode-\/>getStageObject();}
\DoxyCodeLine{00796     parentPegbar = dstNode-\/>getStageObject();}
\DoxyCodeLine{00797     childPort    = \textcolor{keyword}{this};}
\DoxyCodeLine{00798     parentPort   = port;}
\DoxyCodeLine{00799   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == eStageChildPort \&\&}
\DoxyCodeLine{00800              port-\/>\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == eStageParentPort) \{}
\DoxyCodeLine{00801     pegbar       = dstNode-\/>getStageObject();}
\DoxyCodeLine{00802     parentPegbar = srcNode-\/>getStageObject();}
\DoxyCodeLine{00803     childPort    = port;}
\DoxyCodeLine{00804     parentPort   = \textcolor{keyword}{this};}
\DoxyCodeLine{00805   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00806     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00807   \textcolor{keywordflow}{if} (pegbar-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}().\mbox{\hyperlink{class_t_stage_object_id_a2ab00aa1e5039ac19b1bf7ab0dead466}{isTable}}()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00808   \textcolor{keywordflow}{if} (pegbar-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}().\mbox{\hyperlink{class_t_stage_object_id_a87a62052c05b8bfb6cb28c05f555a718}{isPegbar}}() \&\& !parentPegbar-\/>getId().isTable() \&\&}
\DoxyCodeLine{00809       !parentPegbar-\/>getId().isPegbar() \&\& !parentPegbar-\/>getId().isCamera())}
\DoxyCodeLine{00810     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00811 }
\DoxyCodeLine{00812   \textcolor{keywordflow}{if} (parentPegbar == pegbar || parentPegbar-\/>isAncestor(pegbar)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00813   \textcolor{keywordflow}{if} (parentPegbar-\/>isGrouped() || pegbar-\/>isGrouped()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00814   \textcolor{keywordflow}{if} (checkOnly) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00815 }
\DoxyCodeLine{00816   \mbox{\hyperlink{class_stage_schematic_node_port}{StageSchematicNodePort}} *dstPort =}
\DoxyCodeLine{00817       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_node_port}{StageSchematicNodePort}} *\textcolor{keyword}{>}(parentPort);}
\DoxyCodeLine{00818   \textcolor{keywordflow}{if} (!dstPort) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00819   TStageObjectCmd::setParent(pegbar-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}(), parentPegbar-\/>getId(),}
\DoxyCodeLine{00820                              dstPort-\/>getHandle().toStdString(),}
\DoxyCodeLine{00821                              stageScene-\/>getXsheetHandle());}
\DoxyCodeLine{00822   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00823 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00520}{TStage\+Object\+::get\+Id()}}, \mbox{\hyperlink{l00384}{Schematic\+Port\+::get\+Type()}}, \mbox{\hyperlink{l00638}{TStage\+Object\+::is\+Ancestor()}}, \mbox{\hyperlink{l00174}{TStage\+Object\+Id\+::is\+Pegbar()}}, and \mbox{\hyperlink{l00168}{TStage\+Object\+Id\+::is\+Table()}}.

\mbox{\Hypertarget{class_stage_schematic_node_port_a8bf2a6ffc6420ac26bdcdb99900e6261}\label{class_stage_schematic_node_port_a8bf2a6ffc6420ac26bdcdb99900e6261}} 
\index{StageSchematicNodePort@{StageSchematicNodePort}!paint@{paint}}
\index{paint@{paint}!StageSchematicNodePort@{StageSchematicNodePort}}
\doxysubsubsection{\texorpdfstring{paint()}{paint()}}
{\footnotesize\ttfamily void Stage\+Schematic\+Node\+Port\+::paint (\begin{DoxyParamCaption}\item[{QPainter $\ast$}]{painter,  }\item[{const QStyle\+Option\+Graphics\+Item $\ast$}]{option,  }\item[{QWidget $\ast$}]{widget = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00732                                                     \{}
\DoxyCodeLine{00733   \textcolor{comment}{// StageSchematicNode *node = dynamic\_cast<StageSchematicNode *>(getNode());}}
\DoxyCodeLine{00734   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *scene =}
\DoxyCodeLine{00735       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(this-\/>scene());}
\DoxyCodeLine{00736   \textcolor{keywordflow}{if} (scene \&\& scene-\/>isShowLetterOnPortFlagEnabled()) \{}
\DoxyCodeLine{00737     painter-\/>setBrush(QColor(255, 255, 255, 255));}
\DoxyCodeLine{00738     painter-\/>setPen(QColor(180, 180, 180, 255));}
\DoxyCodeLine{00739     painter-\/>drawRect(boundingRect());}
\DoxyCodeLine{00740     \textcolor{keywordflow}{if} (m\_type == 103 || m\_type == 104 || m\_type == 105) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00741     painter-\/>setPen(QColor(0, 0, 0, 255));}
\DoxyCodeLine{00742     QFont font(\textcolor{stringliteral}{"{}Verdana"{}}, 8);}
\DoxyCodeLine{00743     painter-\/>setFont(font);}
\DoxyCodeLine{00744     QTextOption textOption(Qt::AlignCenter);}
\DoxyCodeLine{00745     QString text = m\_handle;}
\DoxyCodeLine{00746     \textcolor{keywordflow}{if} (text.size() > 1 \&\& text.at(0) == \textcolor{charliteral}{'H'}) text.remove(\textcolor{stringliteral}{"{}H"{}});}
\DoxyCodeLine{00747     painter-\/>drawText(boundingRect(), text, textOption);}
\DoxyCodeLine{00748   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00749     QRect imgRect(2, 2, 14, 14);}
\DoxyCodeLine{00750     QRect sourceRect = scene-\/>views()[0]-\/>matrix().mapRect(imgRect);}
\DoxyCodeLine{00751     QPixmap pixmap;}
\DoxyCodeLine{00752 }
\DoxyCodeLine{00753     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == eStageParentPort || \mbox{\hyperlink{class_schematic_port_a119b9e3d6a308273c141c08fc18c5bfc}{getType}}() == eStageParentGroupPort) \{}
\DoxyCodeLine{00754       \textcolor{keywordflow}{if} (isHighlighted())}
\DoxyCodeLine{00755         pixmap = QIcon(\textcolor{stringliteral}{"{}:Resources/port\_blue\_highlight.svg"{}})}
\DoxyCodeLine{00756                      .pixmap(sourceRect.size());}
\DoxyCodeLine{00757       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00758         pixmap = QIcon(\textcolor{stringliteral}{"{}:Resources/port\_blue.svg"{}}).pixmap(sourceRect.size());}
\DoxyCodeLine{00759     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00760       \textcolor{keywordflow}{if} (isHighlighted())}
\DoxyCodeLine{00761         pixmap = QIcon(\textcolor{stringliteral}{"{}:Resources/port\_red\_highlight.svg"{}})}
\DoxyCodeLine{00762                      .pixmap(sourceRect.size());}
\DoxyCodeLine{00763       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00764         pixmap = QIcon(\textcolor{stringliteral}{"{}:Resources/port\_red.svg"{}}).pixmap(sourceRect.size());}
\DoxyCodeLine{00765     \}}
\DoxyCodeLine{00766     sourceRect = QRect(0, 0, sourceRect.width() * getDevPixRatio(),}
\DoxyCodeLine{00767                        sourceRect.height() * getDevPixRatio());}
\DoxyCodeLine{00768     painter-\/>drawPixmap(imgRect, pixmap, sourceRect);}
\DoxyCodeLine{00769   \}}
\DoxyCodeLine{00770 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_node_port_a89caa41f5c2a4dc1a78fecd6f42ce7ec}\label{class_stage_schematic_node_port_a89caa41f5c2a4dc1a78fecd6f42ce7ec}} 
\index{StageSchematicNodePort@{StageSchematicNodePort}!setHandle@{setHandle}}
\index{setHandle@{setHandle}!StageSchematicNodePort@{StageSchematicNodePort}}
\doxysubsubsection{\texorpdfstring{setHandle()}{setHandle()}}
{\footnotesize\ttfamily void Stage\+Schematic\+Node\+Port\+::set\+Handle (\begin{DoxyParamCaption}\item[{const QString \&}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00220 \{ m\_handle = value; \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/stageschematicnode.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/stageschematicnode.\+cpp\end{DoxyCompactItemize}
