\hypertarget{class_undo_change_outline_style}{}\doxysection{Undo\+Change\+Outline\+Style Class Reference}
\label{class_undo_change_outline_style}\index{UndoChangeOutlineStyle@{UndoChangeOutlineStyle}}
Inheritance diagram for Undo\+Change\+Outline\+Style\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_undo_change_outline_style}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_undo_change_outline_style_a49b7f58c543b4e5cbb9587149a0cb96d}{Undo\+Change\+Outline\+Style}} (\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$level, const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&frame\+Id, \mbox{\hyperlink{class_vector_selection_tool}{Vector\+Selection\+Tool}} $\ast$tool)
\item 
void \mbox{\hyperlink{class_undo_change_outline_style_a7dfa5397dd54e45c0cf3ecba0f60ac1d}{register\+Strokes}} (bool before\+Modify=false)
\item 
void \mbox{\hyperlink{class_undo_change_outline_style_a90154f336def3a529a00c2a15c8d1cdb}{transform}} (const std\+::vector$<$ TStroke\+::\+Outline\+Options $>$ \&options, \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{Four\+Points}} bbox) const
\item 
void \mbox{\hyperlink{class_undo_change_outline_style_a67c95a338f86a87976bf0d84d08b83c8}{undo}} () const override
\item 
void \mbox{\hyperlink{class_undo_change_outline_style_aa93a3e61139e96367906ebc576b1035f}{redo}} () const override
\item 
int \mbox{\hyperlink{class_undo_change_outline_style_ad072c889cc49dcb840778c596c1ddc50}{get\+Size}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_undo_change_outline_style_a49b7f58c543b4e5cbb9587149a0cb96d}\label{class_undo_change_outline_style_a49b7f58c543b4e5cbb9587149a0cb96d}} 
\index{UndoChangeOutlineStyle@{UndoChangeOutlineStyle}!UndoChangeOutlineStyle@{UndoChangeOutlineStyle}}
\index{UndoChangeOutlineStyle@{UndoChangeOutlineStyle}!UndoChangeOutlineStyle@{UndoChangeOutlineStyle}}
\doxysubsubsection{\texorpdfstring{UndoChangeOutlineStyle()}{UndoChangeOutlineStyle()}}
{\footnotesize\ttfamily Undo\+Change\+Outline\+Style\+::\+Undo\+Change\+Outline\+Style (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$}]{level,  }\item[{const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&}]{frame\+Id,  }\item[{\mbox{\hyperlink{class_vector_selection_tool}{Vector\+Selection\+Tool}} $\ast$}]{tool }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00461     : \mbox{\hyperlink{class_tool_utils_1_1_t_tool_undo}{ToolUtils::TToolUndo}}(level, frameId)}
\DoxyCodeLine{00462     , m\_tool(tool)}
\DoxyCodeLine{00463     , m\_oldBBox(tool-\/>getBBox())}
\DoxyCodeLine{00464     , m\_selectionCount(tool-\/>getSelectionCount()) \{}
\DoxyCodeLine{00465   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} image = m\_level-\/>getFrame(m\_frameId, \textcolor{keyword}{false});}
\DoxyCodeLine{00466   assert(!!image);}
\DoxyCodeLine{00467   \textcolor{keywordflow}{if} (!image) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00468   \mbox{\hyperlink{class_stroke_selection}{StrokeSelection}} *strokeSelection =}
\DoxyCodeLine{00469       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stroke_selection}{StrokeSelection}} *\textcolor{keyword}{>}(tool-\/>\mbox{\hyperlink{class_vector_selection_tool_a8401bdd71bef9790c20e2512b7a98e0a}{getSelection}}());}
\DoxyCodeLine{00470   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00471   \textcolor{keywordflow}{for} (i = 0; i < (int)image-\/>getStrokeCount(); i++) \{}
\DoxyCodeLine{00472     \textcolor{keywordflow}{if} (!strokeSelection-\/>isSelected(i) \&\& !m\_tool-\/>isLevelType() \&\&}
\DoxyCodeLine{00473         !m\_tool-\/>isSelectedFramesType())}
\DoxyCodeLine{00474       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00475     m\_indexes.push\_back(i);}
\DoxyCodeLine{00476   \}}
\DoxyCodeLine{00477   registerStrokes(\textcolor{keyword}{true});}
\DoxyCodeLine{00478 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_undo_change_outline_style_abf73be5ca9f193e972951349153140b2}\label{class_undo_change_outline_style_abf73be5ca9f193e972951349153140b2}} 
\index{UndoChangeOutlineStyle@{UndoChangeOutlineStyle}!````~UndoChangeOutlineStyle@{$\sim$UndoChangeOutlineStyle}}
\index{````~UndoChangeOutlineStyle@{$\sim$UndoChangeOutlineStyle}!UndoChangeOutlineStyle@{UndoChangeOutlineStyle}}
\doxysubsubsection{\texorpdfstring{$\sim$UndoChangeOutlineStyle()}{~UndoChangeOutlineStyle()}}
{\footnotesize\ttfamily Undo\+Change\+Outline\+Style\+::$\sim$\+Undo\+Change\+Outline\+Style (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00447 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_undo_change_outline_style_ad072c889cc49dcb840778c596c1ddc50}\label{class_undo_change_outline_style_ad072c889cc49dcb840778c596c1ddc50}} 
\index{UndoChangeOutlineStyle@{UndoChangeOutlineStyle}!getSize@{getSize}}
\index{getSize@{getSize}!UndoChangeOutlineStyle@{UndoChangeOutlineStyle}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Undo\+Change\+Outline\+Style\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00535                                           \{}
\DoxyCodeLine{00536   \textcolor{comment}{// NOTE: This is definitely wrong... sizeof(vector) DOES NOT correspond to its}}
\DoxyCodeLine{00537   \textcolor{comment}{// actual size -\/ as it is internally allocated with new!!}}
\DoxyCodeLine{00538   \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(*this) + \textcolor{keyword}{sizeof}(*m\_tool);}
\DoxyCodeLine{00539 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_undo_change_outline_style_aa93a3e61139e96367906ebc576b1035f}\label{class_undo_change_outline_style_aa93a3e61139e96367906ebc576b1035f}} 
\index{UndoChangeOutlineStyle@{UndoChangeOutlineStyle}!redo@{redo}}
\index{redo@{redo}!UndoChangeOutlineStyle@{UndoChangeOutlineStyle}}
\doxysubsubsection{\texorpdfstring{redo()}{redo()}}
{\footnotesize\ttfamily void Undo\+Change\+Outline\+Style\+::redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00528                                         \{}
\DoxyCodeLine{00529   transform(m\_newOptions, m\_newBBox);}
\DoxyCodeLine{00530   TTool::getApplication()-\/>getCurrentTool()-\/>\mbox{\hyperlink{class_tool_handle_a39e34f1a30868bad11a629228b07bd40}{notifyToolChanged}}();}
\DoxyCodeLine{00531 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_undo_change_outline_style_a7dfa5397dd54e45c0cf3ecba0f60ac1d}\label{class_undo_change_outline_style_a7dfa5397dd54e45c0cf3ecba0f60ac1d}} 
\index{UndoChangeOutlineStyle@{UndoChangeOutlineStyle}!registerStrokes@{registerStrokes}}
\index{registerStrokes@{registerStrokes}!UndoChangeOutlineStyle@{UndoChangeOutlineStyle}}
\doxysubsubsection{\texorpdfstring{registerStrokes()}{registerStrokes()}}
{\footnotesize\ttfamily void Undo\+Change\+Outline\+Style\+::register\+Strokes (\begin{DoxyParamCaption}\item[{bool}]{before\+Modify = {\ttfamily false} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00482                                                               \{}
\DoxyCodeLine{00483   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} image = m\_level-\/>getFrame(m\_frameId, \textcolor{keyword}{false});}
\DoxyCodeLine{00484   assert(!!image);}
\DoxyCodeLine{00485   \textcolor{keywordflow}{if} (!image) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00486   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00487   \textcolor{keywordflow}{for} (i = 0; i < (int)m\_indexes.size(); i++) \{}
\DoxyCodeLine{00488     \textcolor{keywordflow}{if} (beforeModify)}
\DoxyCodeLine{00489       m\_oldOptions.push\_back(image-\/>getStroke(m\_indexes[i])-\/>outlineOptions());}
\DoxyCodeLine{00490     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00491       m\_newOptions.push\_back(image-\/>getStroke(m\_indexes[i])-\/>outlineOptions());}
\DoxyCodeLine{00492   \}}
\DoxyCodeLine{00493   \textcolor{keywordflow}{if} (!beforeModify) m\_newBBox = m\_tool-\/>getBBox();}
\DoxyCodeLine{00494 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_undo_change_outline_style_a90154f336def3a529a00c2a15c8d1cdb}\label{class_undo_change_outline_style_a90154f336def3a529a00c2a15c8d1cdb}} 
\index{UndoChangeOutlineStyle@{UndoChangeOutlineStyle}!transform@{transform}}
\index{transform@{transform}!UndoChangeOutlineStyle@{UndoChangeOutlineStyle}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}}
{\footnotesize\ttfamily void Undo\+Change\+Outline\+Style\+::transform (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ TStroke\+::\+Outline\+Options $>$ \&}]{options,  }\item[{\mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{Four\+Points}}}]{bbox }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00500                            \{}
\DoxyCodeLine{00501   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} image = m\_level-\/>getFrame(m\_frameId, \textcolor{keyword}{true});}
\DoxyCodeLine{00502   assert(!!image);}
\DoxyCodeLine{00503   \textcolor{keywordflow}{if} (!image) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00504   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00505   \textcolor{keywordflow}{for} (i = 0; i < (int)m\_indexes.size(); i++) \{}
\DoxyCodeLine{00506     \textcolor{keywordtype}{int} index                                 = m\_indexes[i];}
\DoxyCodeLine{00507     image-\/>getStroke(index)-\/>outlineOptions() = options[i];}
\DoxyCodeLine{00508   \}}
\DoxyCodeLine{00509   \textcolor{keywordflow}{if} (!m\_tool-\/>isSelectionEmpty() \&\&}
\DoxyCodeLine{00510       m\_selectionCount == m\_tool-\/>getSelectionCount())}
\DoxyCodeLine{00511     m\_tool-\/>setBBox(bbox);}
\DoxyCodeLine{00512   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00513     m\_tool-\/>computeBBox();}
\DoxyCodeLine{00514   m\_tool-\/>\mbox{\hyperlink{class_t_tool_abd1824e9b49705c534e0a773305294c4}{notifyImageChanged}}(m\_frameId);}
\DoxyCodeLine{00515   TTool::getApplication()-\/>getCurrentXsheet()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00516   TTool::getApplication()-\/>getCurrentTool()-\/>\mbox{\hyperlink{class_tool_handle_a39e34f1a30868bad11a629228b07bd40}{notifyToolChanged}}();}
\DoxyCodeLine{00517 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_undo_change_outline_style_a67c95a338f86a87976bf0d84d08b83c8}\label{class_undo_change_outline_style_a67c95a338f86a87976bf0d84d08b83c8}} 
\index{UndoChangeOutlineStyle@{UndoChangeOutlineStyle}!undo@{undo}}
\index{undo@{undo}!UndoChangeOutlineStyle@{UndoChangeOutlineStyle}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Undo\+Change\+Outline\+Style\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00521                                         \{}
\DoxyCodeLine{00522   transform(m\_oldOptions, m\_oldBBox);}
\DoxyCodeLine{00523   TTool::getApplication()-\/>getCurrentTool()-\/>\mbox{\hyperlink{class_tool_handle_a39e34f1a30868bad11a629228b07bd40}{notifyToolChanged}}();}
\DoxyCodeLine{00524 \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/vectorselectiontool.\+cpp\end{DoxyCompactItemize}
