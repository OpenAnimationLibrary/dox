\hypertarget{class_dv_dir_model}{}\doxysection{Dv\+Dir\+Model Class Reference}
\label{class_dv_dir_model}\index{DvDirModel@{DvDirModel}}
Inheritance diagram for Dv\+Dir\+Model\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_dv_dir_model}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_dv_dir_model_a7cb8889bd39636de5693fadb2e60e32e}{on\+Folder\+Changed}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&path) override
\item 
\mbox{\hyperlink{class_dv_dir_model_node}{Dv\+Dir\+Model\+Node}} $\ast$ \mbox{\hyperlink{class_dv_dir_model_a0e278b3475f13af755c2cc37fef3f141}{get\+Node}} (const QModel\+Index \&index) const
\item 
QModel\+Index \mbox{\hyperlink{class_dv_dir_model_a6199d7b29de63ba55781a7384b0e3cde}{index}} (int row, int column, const QModel\+Index \&parent) const override
\item 
QModel\+Index \mbox{\hyperlink{class_dv_dir_model_a387ef8d728998b7ace091823b6c4387f}{parent}} (const QModel\+Index \&index) const override
\item 
QModel\+Index \mbox{\hyperlink{class_dv_dir_model_ab8701730fd37ec040ae1d35fa3fcb443}{get\+Index\+By\+Path}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&path) const
\item 
QModel\+Index \mbox{\hyperlink{class_dv_dir_model_ab840b90617828e2b09a0184ecde47529}{get\+Index\+By\+Node}} (\mbox{\hyperlink{class_dv_dir_model_node}{Dv\+Dir\+Model\+Node}} $\ast$node) const
\item 
QModel\+Index \mbox{\hyperlink{class_dv_dir_model_a2bc816283250ba15ce73f073577d84ab}{child\+By\+Name}} (const QModel\+Index \&parent, const std\+::wstring \&name) const
\item 
int \mbox{\hyperlink{class_dv_dir_model_ac0af45a0b80503e284db6778aed66867}{column\+Count}} (const QModel\+Index \&parent) const override
\item 
QVariant \mbox{\hyperlink{class_dv_dir_model_abd54d414bb2d6d427b422751a93f0c83}{data}} (const QModel\+Index \&index, int role=Qt\+::\+Display\+Role) const override
\item 
Qt\+::\+Item\+Flags \mbox{\hyperlink{class_dv_dir_model_a27a8f9e94e2dc07a348019a32d886f31}{flags}} (const QModel\+Index \&index) const override
\item 
bool \mbox{\hyperlink{class_dv_dir_model_af06004120ec644ac11a2504d51adb27a}{set\+Data}} (const QModel\+Index \&index, const QVariant \&value, int role=Qt\+::\+Edit\+Role) override
\item 
int \mbox{\hyperlink{class_dv_dir_model_a1229470dd15f039d821531858ac49d13}{row\+Count}} (const QModel\+Index \&parent=QModel\+Index()) const override
\item 
bool \mbox{\hyperlink{class_dv_dir_model_a950246992d696ec010b526cb9d925ba2}{has\+Children}} (const QModel\+Index \&parent=QModel\+Index()) const override
\item 
void \mbox{\hyperlink{class_dv_dir_model_a46170d4985b4a774a2fc70d9908d4909}{refresh}} (const QModel\+Index \&index)
\item 
void \mbox{\hyperlink{class_dv_dir_model_afe31bf2460babf04af8e27f9fc572424}{refresh\+Folder}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&folder\+Path, const QModel\+Index \&i=QModel\+Index())
\item 
void \mbox{\hyperlink{class_dv_dir_model_affb254142e00254bb94cd04c15a310f7}{refresh\+Folder\+Child}} (const QModel\+Index \&i=QModel\+Index())
\item 
bool \mbox{\hyperlink{class_dv_dir_model_aa144122b2f925ff08bf83c208e661133}{remove\+Rows}} (int row, int count, const QModel\+Index \&parent=QModel\+Index()) override
\item 
QModel\+Index \mbox{\hyperlink{class_dv_dir_model_a5ef7cff14cbe554005371377976ff736}{get\+Current\+Project\+Index}} () const
\item 
void \mbox{\hyperlink{class_dv_dir_model_ae33977f26fd516764e47572f38b524b1}{notify\+Begin\+Remove\+Rows}} (const QModel\+Index \&parent, int first, int last)
\item 
void \mbox{\hyperlink{class_dv_dir_model_a484c48c8e1455199d81c78ccf0f441b1}{notify\+End\+Remove\+Rows}} ()
\item 
void \mbox{\hyperlink{class_dv_dir_model_a680f5c92cc4195d7f10f463959b7cd1e}{notify\+Begin\+Insert\+Rows}} (const QModel\+Index \&parent, int first, int last)
\item 
void \mbox{\hyperlink{class_dv_dir_model_a23b5f5c2aa47c9b709b8fb08b4a6edfb}{notify\+End\+Insert\+Rows}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_dv_dir_model}{Dv\+Dir\+Model}} $\ast$ \mbox{\hyperlink{class_dv_dir_model_a8c1220e7f0b21049c235eb9a55377c37}{instance}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_dv_dir_model_a1ee91fe17435b4f8913710847ab8de90}{on\+Scene\+Switched}} ()
\item 
void \mbox{\hyperlink{class_dv_dir_model_ab66e4927158f1b71b429c582ca5665bf}{on\+Preference\+Changed}} (const QString \&)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_dv_dir_model_aefe008ae9272674724d98cd2964af2ea}\label{class_dv_dir_model_aefe008ae9272674724d98cd2964af2ea}} 
\index{DvDirModel@{DvDirModel}!DvDirModel@{DvDirModel}}
\index{DvDirModel@{DvDirModel}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{DvDirModel()}{DvDirModel()}}
{\footnotesize\ttfamily Dv\+Dir\+Model\+::\+Dv\+Dir\+Model (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01257                        \{}
\DoxyCodeLine{01258   m\_root = \textcolor{keyword}{new} \mbox{\hyperlink{class_dv_dir_model_root_node}{DvDirModelRootNode}}();}
\DoxyCodeLine{01259   m\_root-\/>refreshChildren();}
\DoxyCodeLine{01260 }
\DoxyCodeLine{01261   \textcolor{comment}{// when the scene switched, update the path of the scene location node}}
\DoxyCodeLine{01262   \mbox{\hyperlink{class_t_scene_handle}{TSceneHandle}} *sceneHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}();}
\DoxyCodeLine{01263   \textcolor{keywordtype}{bool} ret                  = \textcolor{keyword}{true};}
\DoxyCodeLine{01264   ret = ret \&\& connect(sceneHandle, SIGNAL(sceneSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{01265                        SLOT(onSceneSwitched()));}
\DoxyCodeLine{01266   ret = ret \&\& connect(sceneHandle, SIGNAL(nameSceneChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{01267                        SLOT(onSceneSwitched()));}
\DoxyCodeLine{01268   ret = ret \&\& connect(sceneHandle, SIGNAL(preferenceChanged(\textcolor{keyword}{const} QString \&)),}
\DoxyCodeLine{01269                        \textcolor{keyword}{this}, SLOT(onPreferenceChanged(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{01270   assert(ret);}
\DoxyCodeLine{01271 }
\DoxyCodeLine{01272   onSceneSwitched();}
\DoxyCodeLine{01273 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a63eefcd5244b260090fcb8b7cd284fe3}\label{class_dv_dir_model_a63eefcd5244b260090fcb8b7cd284fe3}} 
\index{DvDirModel@{DvDirModel}!````~DvDirModel@{$\sim$DvDirModel}}
\index{````~DvDirModel@{$\sim$DvDirModel}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{$\sim$DvDirModel()}{~DvDirModel()}}
{\footnotesize\ttfamily Dv\+Dir\+Model\+::$\sim$\+Dv\+Dir\+Model (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01277 \{ \textcolor{keyword}{delete} m\_root; \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_dv_dir_model_a2bc816283250ba15ce73f073577d84ab}\label{class_dv_dir_model_a2bc816283250ba15ce73f073577d84ab}} 
\index{DvDirModel@{DvDirModel}!childByName@{childByName}}
\index{childByName@{childByName}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{childByName()}{childByName()}}
{\footnotesize\ttfamily QModel\+Index Dv\+Dir\+Model\+::child\+By\+Name (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{parent,  }\item[{const std\+::wstring \&}]{name }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01360                                                                   \{}
\DoxyCodeLine{01361   \textcolor{keywordflow}{if} (!parent.isValid()) \textcolor{keywordflow}{return} QModelIndex();}
\DoxyCodeLine{01362   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *parentNode = getNode(parent);}
\DoxyCodeLine{01363   \textcolor{keywordflow}{if} (!parentNode) \textcolor{keywordflow}{return} QModelIndex();}
\DoxyCodeLine{01364   \textcolor{keywordtype}{int} row = parentNode-\/>rowByName(name);}
\DoxyCodeLine{01365   \textcolor{keywordflow}{if} (row < 0 || row >= parentNode-\/>getChildCount()) \textcolor{keywordflow}{return} QModelIndex();}
\DoxyCodeLine{01366   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *childNode = parentNode-\/>getChild(row);}
\DoxyCodeLine{01367   \textcolor{keywordflow}{return} createIndex(row, 0, childNode);}
\DoxyCodeLine{01368 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_ac0af45a0b80503e284db6778aed66867}\label{class_dv_dir_model_ac0af45a0b80503e284db6778aed66867}} 
\index{DvDirModel@{DvDirModel}!columnCount@{columnCount}}
\index{columnCount@{columnCount}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{columnCount()}{columnCount()}}
{\footnotesize\ttfamily int Dv\+Dir\+Model\+::column\+Count (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{parent }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00359 \{ \textcolor{keywordflow}{return} 1; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_abd54d414bb2d6d427b422751a93f0c83}\label{class_dv_dir_model_abd54d414bb2d6d427b422751a93f0c83}} 
\index{DvDirModel@{DvDirModel}!data@{data}}
\index{data@{data}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{data()}{data()}}
{\footnotesize\ttfamily QVariant Dv\+Dir\+Model\+::data (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{index,  }\item[{int}]{role = {\ttfamily Qt\+:\+:DisplayRole} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01386                                                                   \{}
\DoxyCodeLine{01387   \textcolor{keywordflow}{if} (!index.isValid()) \textcolor{keywordflow}{return} QVariant();}
\DoxyCodeLine{01388   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node = getNode(index);}
\DoxyCodeLine{01389   \textcolor{keywordflow}{if} (role == Qt::DisplayRole || role == Qt::EditRole)}
\DoxyCodeLine{01390     \textcolor{keywordflow}{return} QString::fromStdWString(node-\/>getName());}
\DoxyCodeLine{01391   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (role == Qt::DecorationRole) \{}
\DoxyCodeLine{01392     \textcolor{keywordflow}{return} QVariant();}
\DoxyCodeLine{01393   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (role == Qt::ForegroundRole) \{}
\DoxyCodeLine{01394     \textcolor{keywordflow}{if} (!node || !node-\/>isRenameEnabled())}
\DoxyCodeLine{01395       \textcolor{keywordflow}{return} QBrush(Qt::blue);}
\DoxyCodeLine{01396     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01397       \textcolor{keywordflow}{return} QVariant();}
\DoxyCodeLine{01398   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01399     \textcolor{keywordflow}{return} QVariant();}
\DoxyCodeLine{01400 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a27a8f9e94e2dc07a348019a32d886f31}\label{class_dv_dir_model_a27a8f9e94e2dc07a348019a32d886f31}} 
\index{DvDirModel@{DvDirModel}!flags@{flags}}
\index{flags@{flags}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{flags()}{flags()}}
{\footnotesize\ttfamily Qt\+::\+Item\+Flags Dv\+Dir\+Model\+::flags (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01404                                                             \{}
\DoxyCodeLine{01405   Qt::ItemFlags flags = QAbstractItemModel::flags(index);}
\DoxyCodeLine{01406   \textcolor{keywordflow}{if} (index.isValid()) \{}
\DoxyCodeLine{01407     \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node = getNode(index);}
\DoxyCodeLine{01408     \textcolor{keywordflow}{if} (node \&\& node-\/>isRenameEnabled()) flags |= Qt::ItemIsEditable;}
\DoxyCodeLine{01409   \}}
\DoxyCodeLine{01410   \textcolor{keywordflow}{return} flags;}
\DoxyCodeLine{01411 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a5ef7cff14cbe554005371377976ff736}\label{class_dv_dir_model_a5ef7cff14cbe554005371377976ff736}} 
\index{DvDirModel@{DvDirModel}!getCurrentProjectIndex@{getCurrentProjectIndex}}
\index{getCurrentProjectIndex@{getCurrentProjectIndex}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{getCurrentProjectIndex()}{getCurrentProjectIndex()}}
{\footnotesize\ttfamily QModel\+Index Dv\+Dir\+Model\+::get\+Current\+Project\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01456                                                      \{}
\DoxyCodeLine{01457   \textcolor{keywordflow}{return} getIndexByPath(}
\DoxyCodeLine{01458       \mbox{\hyperlink{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}{TProjectManager::instance}}()-\/>getCurrentProjectPath().getParentDir());}
\DoxyCodeLine{01459 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_ab840b90617828e2b09a0184ecde47529}\label{class_dv_dir_model_ab840b90617828e2b09a0184ecde47529}} 
\index{DvDirModel@{DvDirModel}!getIndexByNode@{getIndexByNode}}
\index{getIndexByNode@{getIndexByNode}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{getIndexByNode()}{getIndexByNode()}}
{\footnotesize\ttfamily QModel\+Index Dv\+Dir\+Model\+::get\+Index\+By\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_dv_dir_model_node}{Dv\+Dir\+Model\+Node}} $\ast$}]{node }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01449                                                                  \{}
\DoxyCodeLine{01450   \textcolor{keywordflow}{if} (!node) \textcolor{keywordflow}{return} QModelIndex();}
\DoxyCodeLine{01451   \textcolor{keywordflow}{return} createIndex(node-\/>getRow(), 0, node);}
\DoxyCodeLine{01452 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_ab8701730fd37ec040ae1d35fa3fcb443}\label{class_dv_dir_model_ab8701730fd37ec040ae1d35fa3fcb443}} 
\index{DvDirModel@{DvDirModel}!getIndexByPath@{getIndexByPath}}
\index{getIndexByPath@{getIndexByPath}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{getIndexByPath()}{getIndexByPath()}}
{\footnotesize\ttfamily QModel\+Index Dv\+Dir\+Model\+::get\+Index\+By\+Path (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{path }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01443                                                                   \{}
\DoxyCodeLine{01444   \textcolor{keywordflow}{return} getIndexByNode(m\_root-\/>getNodeByPath(path));}
\DoxyCodeLine{01445 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a0e278b3475f13af755c2cc37fef3f141}\label{class_dv_dir_model_a0e278b3475f13af755c2cc37fef3f141}} 
\index{DvDirModel@{DvDirModel}!getNode@{getNode}}
\index{getNode@{getNode}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{getNode()}{getNode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_dv_dir_model_node}{Dv\+Dir\+Model\+Node}} $\ast$ Dv\+Dir\+Model\+::get\+Node (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{index }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01326                                                                   \{}
\DoxyCodeLine{01327   \textcolor{keywordflow}{if} (index.isValid())}
\DoxyCodeLine{01328     \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *\textcolor{keyword}{>}(index.internalPointer());}
\DoxyCodeLine{01329   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01330     \textcolor{keywordflow}{return} m\_root;}
\DoxyCodeLine{01331 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a950246992d696ec010b526cb9d925ba2}\label{class_dv_dir_model_a950246992d696ec010b526cb9d925ba2}} 
\index{DvDirModel@{DvDirModel}!hasChildren@{hasChildren}}
\index{hasChildren@{hasChildren}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{hasChildren()}{hasChildren()}}
{\footnotesize\ttfamily bool Dv\+Dir\+Model\+::has\+Children (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{parent = {\ttfamily QModelIndex()} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01379                                                             \{}
\DoxyCodeLine{01380   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node = getNode(parent);}
\DoxyCodeLine{01381   \textcolor{keywordflow}{return} node-\/>hasChildren();}
\DoxyCodeLine{01382 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a6199d7b29de63ba55781a7384b0e3cde}\label{class_dv_dir_model_a6199d7b29de63ba55781a7384b0e3cde}} 
\index{DvDirModel@{DvDirModel}!index@{index}}
\index{index@{index}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{index()}{index()}}
{\footnotesize\ttfamily QModel\+Index Dv\+Dir\+Model\+::index (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{column,  }\item[{const QModel\+Index \&}]{parent }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01336                                                                \{}
\DoxyCodeLine{01337   \textcolor{keywordflow}{if} (column != 0) \textcolor{keywordflow}{return} QModelIndex();}
\DoxyCodeLine{01338   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *parentNode       = m\_root;}
\DoxyCodeLine{01339   \textcolor{keywordflow}{if} (parent.isValid()) parentNode = getNode(parent);}
\DoxyCodeLine{01340   \textcolor{keywordflow}{if} (row < 0 || row >= parentNode-\/>getChildCount()) \textcolor{keywordflow}{return} QModelIndex();}
\DoxyCodeLine{01341   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node = parentNode-\/>getChild(row);}
\DoxyCodeLine{01342   \textcolor{keywordflow}{return} createIndex(row, column, node);}
\DoxyCodeLine{01343 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a8c1220e7f0b21049c235eb9a55377c37}\label{class_dv_dir_model_a8c1220e7f0b21049c235eb9a55377c37}} 
\index{DvDirModel@{DvDirModel}!instance@{instance}}
\index{instance@{instance}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{instance()}{instance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_dv_dir_model}{Dv\+Dir\+Model}} $\ast$ Dv\+Dir\+Model\+::instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01463                                  \{}
\DoxyCodeLine{01464   \textcolor{keyword}{static} \mbox{\hyperlink{class_dv_dir_model}{DvDirModel}} \_instance;}
\DoxyCodeLine{01465   \textcolor{keywordflow}{return} \&\_instance;}
\DoxyCodeLine{01466 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a680f5c92cc4195d7f10f463959b7cd1e}\label{class_dv_dir_model_a680f5c92cc4195d7f10f463959b7cd1e}} 
\index{DvDirModel@{DvDirModel}!notifyBeginInsertRows@{notifyBeginInsertRows}}
\index{notifyBeginInsertRows@{notifyBeginInsertRows}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{notifyBeginInsertRows()}{notifyBeginInsertRows()}}
{\footnotesize\ttfamily void Dv\+Dir\+Model\+::notify\+Begin\+Insert\+Rows (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{parent,  }\item[{int}]{first,  }\item[{int}]{last }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00380                                                                              \{}
\DoxyCodeLine{00381     emit beginInsertRows(parent, first, last);}
\DoxyCodeLine{00382   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_ae33977f26fd516764e47572f38b524b1}\label{class_dv_dir_model_ae33977f26fd516764e47572f38b524b1}} 
\index{DvDirModel@{DvDirModel}!notifyBeginRemoveRows@{notifyBeginRemoveRows}}
\index{notifyBeginRemoveRows@{notifyBeginRemoveRows}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{notifyBeginRemoveRows()}{notifyBeginRemoveRows()}}
{\footnotesize\ttfamily void Dv\+Dir\+Model\+::notify\+Begin\+Remove\+Rows (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{parent,  }\item[{int}]{first,  }\item[{int}]{last }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00376                                                                              \{}
\DoxyCodeLine{00377     emit beginRemoveRows(parent, first, last);}
\DoxyCodeLine{00378   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a23b5f5c2aa47c9b709b8fb08b4a6edfb}\label{class_dv_dir_model_a23b5f5c2aa47c9b709b8fb08b4a6edfb}} 
\index{DvDirModel@{DvDirModel}!notifyEndInsertRows@{notifyEndInsertRows}}
\index{notifyEndInsertRows@{notifyEndInsertRows}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{notifyEndInsertRows()}{notifyEndInsertRows()}}
{\footnotesize\ttfamily void Dv\+Dir\+Model\+::notify\+End\+Insert\+Rows (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00383 \{ emit endInsertRows(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a484c48c8e1455199d81c78ccf0f441b1}\label{class_dv_dir_model_a484c48c8e1455199d81c78ccf0f441b1}} 
\index{DvDirModel@{DvDirModel}!notifyEndRemoveRows@{notifyEndRemoveRows}}
\index{notifyEndRemoveRows@{notifyEndRemoveRows}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{notifyEndRemoveRows()}{notifyEndRemoveRows()}}
{\footnotesize\ttfamily void Dv\+Dir\+Model\+::notify\+End\+Remove\+Rows (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00379 \{ emit endRemoveRows(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a7cb8889bd39636de5693fadb2e60e32e}\label{class_dv_dir_model_a7cb8889bd39636de5693fadb2e60e32e}} 
\index{DvDirModel@{DvDirModel}!onFolderChanged@{onFolderChanged}}
\index{onFolderChanged@{onFolderChanged}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{onFolderChanged()}{onFolderChanged()}}
{\footnotesize\ttfamily void Dv\+Dir\+Model\+::on\+Folder\+Changed (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_folder_listener_manager_1_1_listener}{Folder\+Listener\+Manager\+::\+Listener}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01281 \{ refreshFolder(path); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_ab66e4927158f1b71b429c582ca5665bf}\label{class_dv_dir_model_ab66e4927158f1b71b429c582ca5665bf}} 
\index{DvDirModel@{DvDirModel}!onPreferenceChanged@{onPreferenceChanged}}
\index{onPreferenceChanged@{onPreferenceChanged}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{onPreferenceChanged}{onPreferenceChanged}}
{\footnotesize\ttfamily void Dv\+Dir\+Model\+::on\+Preference\+Changed (\begin{DoxyParamCaption}\item[{const QString \&}]{pref\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01485                                                             \{}
\DoxyCodeLine{01486   \textcolor{keywordflow}{if} (prefName != \textcolor{stringliteral}{"{}PathAliasPriority"{}}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01487 }
\DoxyCodeLine{01488   Preferences::PathAliasPriority priority =}
\DoxyCodeLine{01489       Preferences::instance()-\/>getPathAliasPriority();}
\DoxyCodeLine{01490   \mbox{\hyperlink{class_dv_dir_model_root_node}{DvDirModelRootNode}} *rootNode = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_dv_dir_model_root_node}{DvDirModelRootNode}} *\textcolor{keyword}{>}(m\_root);}
\DoxyCodeLine{01491   \textcolor{keywordflow}{if} (rootNode)}
\DoxyCodeLine{01492     rootNode-\/>updateSceneFolderNodeVisibility(priority ==}
\DoxyCodeLine{01493                                               Preferences::ProjectFolderOnly);}
\DoxyCodeLine{01494 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a1ee91fe17435b4f8913710847ab8de90}\label{class_dv_dir_model_a1ee91fe17435b4f8913710847ab8de90}} 
\index{DvDirModel@{DvDirModel}!onSceneSwitched@{onSceneSwitched}}
\index{onSceneSwitched@{onSceneSwitched}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{onSceneSwitched}{onSceneSwitched}}
{\footnotesize\ttfamily void Dv\+Dir\+Model\+::on\+Scene\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01470                                  \{}
\DoxyCodeLine{01471   \mbox{\hyperlink{class_dv_dir_model_root_node}{DvDirModelRootNode}} *rootNode = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_dv_dir_model_root_node}{DvDirModelRootNode}} *\textcolor{keyword}{>}(m\_root);}
\DoxyCodeLine{01472   \textcolor{keywordflow}{if} (rootNode) \{}
\DoxyCodeLine{01473     \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{01474     \textcolor{keywordflow}{if} (scene) \{}
\DoxyCodeLine{01475       \textcolor{keywordflow}{if} (scene-\/>\mbox{\hyperlink{class_toonz_scene_a53cbaf09f551658479eb743e153ab6bc}{isUntitled}}())}
\DoxyCodeLine{01476         rootNode-\/>setSceneLocation(\mbox{\hyperlink{class_t_file_path}{TFilePath}}());}
\DoxyCodeLine{01477       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01478         rootNode-\/>setSceneLocation(scene-\/>\mbox{\hyperlink{class_toonz_scene_ad42b52b671b094f66e003c4b7ebefd45}{getScenePath}}().\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}());}
\DoxyCodeLine{01479     \}}
\DoxyCodeLine{01480   \}}
\DoxyCodeLine{01481 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a387ef8d728998b7ace091823b6c4387f}\label{class_dv_dir_model_a387ef8d728998b7ace091823b6c4387f}} 
\index{DvDirModel@{DvDirModel}!parent@{parent}}
\index{parent@{parent}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{parent()}{parent()}}
{\footnotesize\ttfamily QModel\+Index Dv\+Dir\+Model\+::parent (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01347                                                              \{}
\DoxyCodeLine{01348   \textcolor{keywordflow}{if} (!index.isValid()) \textcolor{keywordflow}{return} QModelIndex();}
\DoxyCodeLine{01349   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node       = getNode(index);}
\DoxyCodeLine{01350   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *parentNode = node-\/>getParent();}
\DoxyCodeLine{01351   \textcolor{keywordflow}{if} (!parentNode || parentNode == m\_root)}
\DoxyCodeLine{01352     \textcolor{keywordflow}{return} QModelIndex();}
\DoxyCodeLine{01353   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01354     \textcolor{keywordflow}{return} createIndex(parentNode-\/>getRow(), 0, parentNode);}
\DoxyCodeLine{01355 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a46170d4985b4a774a2fc70d9908d4909}\label{class_dv_dir_model_a46170d4985b4a774a2fc70d9908d4909}} 
\index{DvDirModel@{DvDirModel}!refresh@{refresh}}
\index{refresh@{refresh}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{refresh()}{refresh()}}
{\footnotesize\ttfamily void Dv\+Dir\+Model\+::refresh (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{index }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01285                                                  \{}
\DoxyCodeLine{01286   \textcolor{keywordflow}{if} (!index.isValid()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01287   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node = getNode(index);}
\DoxyCodeLine{01288   \textcolor{keywordflow}{if} (!node || node-\/>getChildCount() < 1) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01289   emit layoutAboutToBeChanged();}
\DoxyCodeLine{01290   emit beginRemoveRows(index, 0, node-\/>getChildCount() -\/ 1);}
\DoxyCodeLine{01291   node-\/>refreshChildren();}
\DoxyCodeLine{01292   emit endRemoveRows();}
\DoxyCodeLine{01293   emit layoutChanged();}
\DoxyCodeLine{01294 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_afe31bf2460babf04af8e27f9fc572424}\label{class_dv_dir_model_afe31bf2460babf04af8e27f9fc572424}} 
\index{DvDirModel@{DvDirModel}!refreshFolder@{refreshFolder}}
\index{refreshFolder@{refreshFolder}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{refreshFolder()}{refreshFolder()}}
{\footnotesize\ttfamily void Dv\+Dir\+Model\+::refresh\+Folder (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{folder\+Path,  }\item[{const QModel\+Index \&}]{i = {\ttfamily QModelIndex()} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01299                                                      \{}
\DoxyCodeLine{01300   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node = getNode(i);}
\DoxyCodeLine{01301   \textcolor{keywordflow}{if} (!node) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01302   \textcolor{keywordflow}{if} (node-\/>isFolder(folderPath))}
\DoxyCodeLine{01303     refresh(i);}
\DoxyCodeLine{01304   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (node-\/>areChildrenValid()) \{}
\DoxyCodeLine{01305     \textcolor{keywordtype}{int} count = rowCount(i);}
\DoxyCodeLine{01306     \textcolor{keywordtype}{int} r;}
\DoxyCodeLine{01307     \textcolor{keywordflow}{for} (r = 0; r < count; r++) refreshFolder(folderPath, index(r, 0, i));}
\DoxyCodeLine{01308   \}}
\DoxyCodeLine{01309 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_affb254142e00254bb94cd04c15a310f7}\label{class_dv_dir_model_affb254142e00254bb94cd04c15a310f7}} 
\index{DvDirModel@{DvDirModel}!refreshFolderChild@{refreshFolderChild}}
\index{refreshFolderChild@{refreshFolderChild}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{refreshFolderChild()}{refreshFolderChild()}}
{\footnotesize\ttfamily void Dv\+Dir\+Model\+::refresh\+Folder\+Child (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{i = {\ttfamily QModelIndex()} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01313                                                         \{}
\DoxyCodeLine{01314   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node = getNode(i);}
\DoxyCodeLine{01315   \textcolor{keywordflow}{if} (!node || !node-\/>areChildrenValid()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01316 }
\DoxyCodeLine{01317   \textcolor{keywordflow}{if} (node-\/>isFolder() || \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_dv_dir_model_my_computer_node}{DvDirModelMyComputerNode}} *\textcolor{keyword}{>}(node))}
\DoxyCodeLine{01318     refresh(i);}
\DoxyCodeLine{01319   \textcolor{keywordtype}{int} count = rowCount(i);}
\DoxyCodeLine{01320   \textcolor{keywordtype}{int} r;}
\DoxyCodeLine{01321   \textcolor{keywordflow}{for} (r = 0; r < count; r++) refreshFolderChild(index(r, 0, i));}
\DoxyCodeLine{01322 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_aa144122b2f925ff08bf83c208e661133}\label{class_dv_dir_model_aa144122b2f925ff08bf83c208e661133}} 
\index{DvDirModel@{DvDirModel}!removeRows@{removeRows}}
\index{removeRows@{removeRows}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{removeRows()}{removeRows()}}
{\footnotesize\ttfamily bool Dv\+Dir\+Model\+::remove\+Rows (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{count,  }\item[{const QModel\+Index \&}]{parent = {\ttfamily QModelIndex()} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01431                                                             \{}
\DoxyCodeLine{01432   \textcolor{keywordflow}{if} (!parentIndex.isValid()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01433   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node = getNode(parentIndex);}
\DoxyCodeLine{01434   \textcolor{keywordflow}{if} (!node) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01435   emit beginRemoveRows(parentIndex, row, row + count -\/ 1);}
\DoxyCodeLine{01436   node-\/>removeChildren(row, count);}
\DoxyCodeLine{01437   emit endRemoveRows();}
\DoxyCodeLine{01438   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01439 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_a1229470dd15f039d821531858ac49d13}\label{class_dv_dir_model_a1229470dd15f039d821531858ac49d13}} 
\index{DvDirModel@{DvDirModel}!rowCount@{rowCount}}
\index{rowCount@{rowCount}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{rowCount()}{rowCount()}}
{\footnotesize\ttfamily int Dv\+Dir\+Model\+::row\+Count (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{parent = {\ttfamily QModelIndex()} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01372                                                         \{}
\DoxyCodeLine{01373   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node = getNode(parent);}
\DoxyCodeLine{01374   \textcolor{keywordflow}{return} node-\/>getChildCount();}
\DoxyCodeLine{01375 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_dv_dir_model_af06004120ec644ac11a2504d51adb27a}\label{class_dv_dir_model_af06004120ec644ac11a2504d51adb27a}} 
\index{DvDirModel@{DvDirModel}!setData@{setData}}
\index{setData@{setData}!DvDirModel@{DvDirModel}}
\doxysubsubsection{\texorpdfstring{setData()}{setData()}}
{\footnotesize\ttfamily bool Dv\+Dir\+Model\+::set\+Data (\begin{DoxyParamCaption}\item[{const QModel\+Index \&}]{index,  }\item[{const QVariant \&}]{value,  }\item[{int}]{role = {\ttfamily Qt\+:\+:EditRole} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}

used only for name / rename of items 
\begin{DoxyCode}{0}
\DoxyCodeLine{01417                                    \{}
\DoxyCodeLine{01418   \textcolor{keywordflow}{if} (!index.isValid()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01419   \mbox{\hyperlink{class_dv_dir_model_node}{DvDirModelNode}} *node = getNode(index);}
\DoxyCodeLine{01420   \textcolor{keywordflow}{if} (!node || !node-\/>isRenameEnabled()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01421   QString newName = value.toString();}
\DoxyCodeLine{01422   \textcolor{keywordflow}{if} (newName == \textcolor{stringliteral}{"{}"{}}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01423   \textcolor{keywordflow}{if} (!node-\/>setName(newName.toStdWString())) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01424   emit dataChanged(index, index);}
\DoxyCodeLine{01425   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01426 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/filebrowsermodel.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/filebrowsermodel.\+cpp\end{DoxyCompactItemize}
