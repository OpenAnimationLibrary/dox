\hypertarget{class_s_v_n_update_dialog}{}\doxysection{SVNUpdate\+Dialog Class Reference}
\label{class_s_v_n_update_dialog}\index{SVNUpdateDialog@{SVNUpdateDialog}}
Inheritance diagram for SVNUpdate\+Dialog\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_s_v_n_update_dialog}
\end{center}
\end{figure}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_s_v_n_update_dialog_a5a07b1369a70605312795ee0a7c0a0b5}\label{class_s_v_n_update_dialog_a5a07b1369a70605312795ee0a7c0a0b5}} 
void {\bfseries done} (const QString\+List \&)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_s_v_n_update_dialog_ac91d48aa1f9133ab2e41f0c5a451885f}{SVNUpdate\+Dialog}} (QWidget $\ast$parent, const QString \&working\+Dir, const QString\+List \&files\+To\+Update, int scene\+Icons\+Count, bool is\+Folder\+Only, bool update\+To\+Revision, bool non\+Recursive)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_s_v_n_update_dialog_a7526566c4bbb9fb191afd139695169f4}{on\+Error}} (const QString \&)
\item 
void \mbox{\hyperlink{class_s_v_n_update_dialog_a7af01d19c5f588b90525f6317a496037}{on\+Update\+Done}} (const QString \&)
\item 
void \mbox{\hyperlink{class_s_v_n_update_dialog_a3c2b5baf0b3f64a47d07aa8e3a8548f3}{on\+Conflict\+Setted}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_update_dialog_a390653d016d47d510c119edd709321ad}{on\+Update\+To\+Mine\+Done}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_update_dialog_ae9d836aa43b4716d98287315cdf1701e}{on\+Conflict\+Resolved}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_update_dialog_a17c473b1f173458550ed80423817341e}{on\+Update\+To\+Revision\+Button\+Clicked}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_update_dialog_a68c68ba2933e3e1610b89d5f9d08e5a0}{on\+Update\+Button\+Clicked}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_update_dialog_aa4f6f526b45f8a441e5d6408a730e0fa}{add\+Output\+Text}} (const QString \&text)
\item 
void \mbox{\hyperlink{class_s_v_n_update_dialog_a3a8b2b37f16139cc339fae8a5d0a9228}{on\+Status\+Retrieved}} (const QString \&)
\item 
void \mbox{\hyperlink{class_s_v_n_update_dialog_af23de7eb271e73a512745c27ab3ef460}{on\+Update\+Scene\+Contents\+Toggled}} (bool)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_s_v_n_update_dialog_ac91d48aa1f9133ab2e41f0c5a451885f}\label{class_s_v_n_update_dialog_ac91d48aa1f9133ab2e41f0c5a451885f}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!SVNUpdateDialog@{SVNUpdateDialog}}
\index{SVNUpdateDialog@{SVNUpdateDialog}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{SVNUpdateDialog()}{SVNUpdateDialog()}}
{\footnotesize\ttfamily SVNUpdate\+Dialog\+::\+SVNUpdate\+Dialog (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent,  }\item[{const QString \&}]{working\+Dir,  }\item[{const QString\+List \&}]{files\+To\+Update,  }\item[{int}]{scene\+Icons\+Count,  }\item[{bool}]{is\+Folder\+Only,  }\item[{bool}]{update\+To\+Revision,  }\item[{bool}]{non\+Recursive }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00037     : Dialog(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getMainWindow(), \textcolor{keyword}{true}, \textcolor{keyword}{false})}
\DoxyCodeLine{00038     , m\_updateSceneContentsCheckBox(0)}
\DoxyCodeLine{00039     , m\_workingDir(workingDir)}
\DoxyCodeLine{00040     , m\_files(files)}
\DoxyCodeLine{00041     , m\_updateToRevision(updateToRevision)}
\DoxyCodeLine{00042     , m\_nonRecursive(nonRecursive)}
\DoxyCodeLine{00043     , m\_sceneIconsCount(sceneIconsCount)}
\DoxyCodeLine{00044     , m\_someSceneIsMissing(\textcolor{keyword}{false}) \{}
\DoxyCodeLine{00045   setModal(\textcolor{keyword}{false});}
\DoxyCodeLine{00046   setMinimumSize(300, 180);}
\DoxyCodeLine{00047   setAttribute(Qt::WA\_DeleteOnClose, \textcolor{keyword}{true});}
\DoxyCodeLine{00048   setWindowTitle(tr(\textcolor{stringliteral}{"{}Version Control: Update"{}}));}
\DoxyCodeLine{00049 }
\DoxyCodeLine{00050   QWidget *container = \textcolor{keyword}{new} QWidget;}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052   QVBoxLayout *mainLayout = \textcolor{keyword}{new} QVBoxLayout;}
\DoxyCodeLine{00053   mainLayout-\/>setAlignment(Qt::AlignHCenter);}
\DoxyCodeLine{00054   mainLayout-\/>setMargin(0);}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056   QHBoxLayout *hLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058   m\_waitingLabel      = \textcolor{keyword}{new} QLabel;}
\DoxyCodeLine{00059   QMovie *waitingMove = \textcolor{keyword}{new} QMovie(\textcolor{stringliteral}{"{}:Resources/waiting.gif"{}});}
\DoxyCodeLine{00060   waitingMove-\/>setParent(\textcolor{keyword}{this});}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062   m\_waitingLabel-\/>setMovie(waitingMove);}
\DoxyCodeLine{00063   waitingMove-\/>setCacheMode(QMovie::CacheAll);}
\DoxyCodeLine{00064   waitingMove-\/>start();}
\DoxyCodeLine{00065 }
\DoxyCodeLine{00066   m\_textLabel = \textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Getting repository status..."{}}));}
\DoxyCodeLine{00067 }
\DoxyCodeLine{00068   hLayout-\/>addStretch();}
\DoxyCodeLine{00069   hLayout-\/>addWidget(m\_waitingLabel);}
\DoxyCodeLine{00070   hLayout-\/>addWidget(m\_textLabel);}
\DoxyCodeLine{00071   hLayout-\/>addStretch();}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073   mainLayout-\/>addLayout(hLayout);}
\DoxyCodeLine{00074 }
\DoxyCodeLine{00075   m\_output = \textcolor{keyword}{new} QTextEdit;}
\DoxyCodeLine{00076   m\_output-\/>setTextInteractionFlags(Qt::NoTextInteraction);}
\DoxyCodeLine{00077   m\_output-\/>setReadOnly(\textcolor{keyword}{true});}
\DoxyCodeLine{00078   m\_output-\/>hide();}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080   mainLayout-\/>addWidget(m\_output);}
\DoxyCodeLine{00081 }
\DoxyCodeLine{00082   m\_conflictWidget = \textcolor{keyword}{new} \mbox{\hyperlink{class_conflict_widget}{ConflictWidget}};}
\DoxyCodeLine{00083   m\_conflictWidget-\/>hide();}
\DoxyCodeLine{00084 }
\DoxyCodeLine{00085   mainLayout-\/>addWidget(m\_conflictWidget);}
\DoxyCodeLine{00086 }
\DoxyCodeLine{00087   m\_dateChooserWidget = \textcolor{keyword}{new} \mbox{\hyperlink{class_date_chooser_widget}{DateChooserWidget}};}
\DoxyCodeLine{00088   m\_dateChooserWidget-\/>hide();}
\DoxyCodeLine{00089 }
\DoxyCodeLine{00090   mainLayout-\/>addWidget(m\_dateChooserWidget);}
\DoxyCodeLine{00091 }
\DoxyCodeLine{00092   \textcolor{keywordflow}{if} (!isFolderOnly) \{}
\DoxyCodeLine{00093     QHBoxLayout *checkBoxLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00094     checkBoxLayout-\/>setMargin(0);}
\DoxyCodeLine{00095     m\_updateSceneContentsCheckBox = \textcolor{keyword}{new} QCheckBox(\textcolor{keyword}{this});}
\DoxyCodeLine{00096     m\_updateSceneContentsCheckBox-\/>setChecked(\textcolor{keyword}{false});}
\DoxyCodeLine{00097     m\_updateSceneContentsCheckBox-\/>setText(tr(\textcolor{stringliteral}{"{}Get Scene Contents"{}}));}
\DoxyCodeLine{00098     m\_updateSceneContentsCheckBox-\/>hide();}
\DoxyCodeLine{00099     connect(m\_updateSceneContentsCheckBox, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{00100             SLOT(onUpdateSceneContentsToggled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00102     checkBoxLayout-\/>addStretch();}
\DoxyCodeLine{00103     checkBoxLayout-\/>addWidget(m\_updateSceneContentsCheckBox);}
\DoxyCodeLine{00104     checkBoxLayout-\/>addStretch();}
\DoxyCodeLine{00105 }
\DoxyCodeLine{00106     mainLayout-\/>addSpacing(10);}
\DoxyCodeLine{00107     mainLayout-\/>addLayout(checkBoxLayout);}
\DoxyCodeLine{00108   \}}
\DoxyCodeLine{00109 }
\DoxyCodeLine{00110   container-\/>setLayout(mainLayout);}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_a21628a44d453352094b61b62b4407c6b}{beginHLayout}}();}
\DoxyCodeLine{00113   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(container, \textcolor{keyword}{false});}
\DoxyCodeLine{00114   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_abe29ee90829fe5e0351fbdee41089252}{endHLayout}}();}
\DoxyCodeLine{00115 }
\DoxyCodeLine{00116   m\_updateButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Update"{}}));}
\DoxyCodeLine{00117   m\_updateButton-\/>hide();}
\DoxyCodeLine{00118   \textcolor{keywordflow}{if} (m\_updateToRevision)}
\DoxyCodeLine{00119     connect(m\_updateButton, SIGNAL(clicked()), \textcolor{keyword}{this},}
\DoxyCodeLine{00120             SLOT(onUpdateToRevisionButtonClicked()));}
\DoxyCodeLine{00121   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00122     connect(m\_updateButton, SIGNAL(clicked()), \textcolor{keyword}{this},}
\DoxyCodeLine{00123             SLOT(onUpdateButtonClicked()));}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125   m\_closeButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Close"{}}));}
\DoxyCodeLine{00126   m\_closeButton-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00127   connect(m\_closeButton, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(close()));}
\DoxyCodeLine{00128 }
\DoxyCodeLine{00129   m\_cancelButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Cancel"{}}));}
\DoxyCodeLine{00130   connect(m\_cancelButton, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(reject()));}
\DoxyCodeLine{00131 }
\DoxyCodeLine{00132   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_aff324b24a1ad0c06fdc178024c1f0cf0}{addButtonBarWidget}}(m\_updateButton, m\_closeButton, m\_cancelButton);}
\DoxyCodeLine{00133 }
\DoxyCodeLine{00134   \textcolor{comment}{// 0. Connect for svn errors (that may occur every time)}}
\DoxyCodeLine{00135   connect(\&m\_thread, SIGNAL(error(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00136           SLOT(onError(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00137 }
\DoxyCodeLine{00138   \textcolor{comment}{// 1. Getting status}}
\DoxyCodeLine{00139   connect(\&m\_thread, SIGNAL(statusRetrieved(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00140           SLOT(onStatusRetrieved(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00141   m\_thread.getSVNStatus(m\_workingDir, m\_files, \textcolor{keyword}{true}, \textcolor{keyword}{false}, \textcolor{keyword}{true});}
\DoxyCodeLine{00142 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_s_v_n_update_dialog_aa4f6f526b45f8a441e5d6408a730e0fa}\label{class_s_v_n_update_dialog_aa4f6f526b45f8a441e5d6408a730e0fa}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!addOutputText@{addOutputText}}
\index{addOutputText@{addOutputText}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{addOutputText}{addOutputText}}
{\footnotesize\ttfamily void SVNUpdate\+Dialog\+::add\+Output\+Text (\begin{DoxyParamCaption}\item[{const QString \&}]{text }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00302                                                        \{}
\DoxyCodeLine{00303   QRegExp regExp(\textcolor{stringliteral}{"{}Updated to revision (\(\backslash\)\(\backslash\)d+)\(\backslash\)\(\backslash\)."{}});}
\DoxyCodeLine{00304   QString temp = text;}
\DoxyCodeLine{00305   temp.remove(regExp);}
\DoxyCodeLine{00306 }
\DoxyCodeLine{00307   QStringList split = temp.split(QRegExp(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)r\(\backslash\)\(\backslash\)n|\(\backslash\)\(\backslash\)n"{}}));}
\DoxyCodeLine{00308 }
\DoxyCodeLine{00309   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < split.size(); i++) \{}
\DoxyCodeLine{00310     QString s = split.at(i);}
\DoxyCodeLine{00311     \textcolor{keywordflow}{if} (!s.isEmpty()) m\_output-\/>insertPlainText(s + \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{00312   \}}
\DoxyCodeLine{00313   QScrollBar *scrollBar = m\_output-\/>verticalScrollBar();}
\DoxyCodeLine{00314   scrollBar-\/>setValue(scrollBar-\/>maximum());}
\DoxyCodeLine{00315 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_update_dialog_ae9d836aa43b4716d98287315cdf1701e}\label{class_s_v_n_update_dialog_ae9d836aa43b4716d98287315cdf1701e}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!onConflictResolved@{onConflictResolved}}
\index{onConflictResolved@{onConflictResolved}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{onConflictResolved}{onConflictResolved}}
{\footnotesize\ttfamily void SVNUpdate\+Dialog\+::on\+Conflict\+Resolved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00393                                          \{}
\DoxyCodeLine{00394   m\_conflictWidget-\/>hide();}
\DoxyCodeLine{00395   updateFiles();}
\DoxyCodeLine{00396 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_update_dialog_a3c2b5baf0b3f64a47d07aa8e3a8548f3}\label{class_s_v_n_update_dialog_a3c2b5baf0b3f64a47d07aa8e3a8548f3}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!onConflictSetted@{onConflictSetted}}
\index{onConflictSetted@{onConflictSetted}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{onConflictSetted}{onConflictSetted}}
{\footnotesize\ttfamily void SVNUpdate\+Dialog\+::on\+Conflict\+Setted (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00426 \{ m\_updateButton-\/>setEnabled(\textcolor{keyword}{true}); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_update_dialog_a7526566c4bbb9fb191afd139695169f4}\label{class_s_v_n_update_dialog_a7526566c4bbb9fb191afd139695169f4}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!onError@{onError}}
\index{onError@{onError}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{onError}{onError}}
{\footnotesize\ttfamily void SVNUpdate\+Dialog\+::on\+Error (\begin{DoxyParamCaption}\item[{const QString \&}]{error\+String }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00400                                                         \{}
\DoxyCodeLine{00401   m\_waitingLabel-\/>hide();}
\DoxyCodeLine{00402   \textcolor{keywordflow}{if} (m\_output-\/>isVisible())}
\DoxyCodeLine{00403     addOutputText(errorString);}
\DoxyCodeLine{00404   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00405     m\_textLabel-\/>setText(errorString);}
\DoxyCodeLine{00406     m\_textLabel-\/>show();}
\DoxyCodeLine{00407   \}}
\DoxyCodeLine{00408   switchToCloseButton();}
\DoxyCodeLine{00409 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_update_dialog_a3a8b2b37f16139cc339fae8a5d0a9228}\label{class_s_v_n_update_dialog_a3a8b2b37f16139cc339fae8a5d0a9228}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!onStatusRetrieved@{onStatusRetrieved}}
\index{onStatusRetrieved@{onStatusRetrieved}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{onStatusRetrieved}{onStatusRetrieved}}
{\footnotesize\ttfamily void SVNUpdate\+Dialog\+::on\+Status\+Retrieved (\begin{DoxyParamCaption}\item[{const QString \&}]{xml\+Response }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00146                                                                   \{}
\DoxyCodeLine{00147   m\_waitingLabel-\/>hide();}
\DoxyCodeLine{00148 }
\DoxyCodeLine{00149   \mbox{\hyperlink{class_s_v_n_status_reader}{SVNStatusReader}} sr(xmlResponse);}
\DoxyCodeLine{00150   m\_status = sr.getStatus();}
\DoxyCodeLine{00151 }
\DoxyCodeLine{00152   checkFiles();}
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154   \textcolor{comment}{// Check if a scene files is found}}
\DoxyCodeLine{00155   \textcolor{keywordtype}{int} fileSize = m\_filesToUpdate.size();}
\DoxyCodeLine{00156   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < fileSize; i++) \{}
\DoxyCodeLine{00157     \textcolor{keywordflow}{if} (m\_filesToUpdate.at(i).endsWith(\textcolor{stringliteral}{"{}.tnz"{}})) \{}
\DoxyCodeLine{00158       \textcolor{keywordflow}{if} (fileSize == 1)}
\DoxyCodeLine{00159         m\_textLabel-\/>setText(}
\DoxyCodeLine{00160             tr(\textcolor{stringliteral}{"{}\%1 items to update."{}})}
\DoxyCodeLine{00161                 .arg(m\_filesToUpdate.size() + m\_sceneResources.size()));}
\DoxyCodeLine{00162       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00163         m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}\%1 items to update."{}})}
\DoxyCodeLine{00164                                  .arg(m\_filesToUpdate.size() +}
\DoxyCodeLine{00165                                       m\_sceneResources.size() -\/}
\DoxyCodeLine{00166                                       m\_sceneIconsCount));}
\DoxyCodeLine{00167       \textcolor{keywordflow}{if} (m\_updateSceneContentsCheckBox \&\& !m\_someSceneIsMissing)}
\DoxyCodeLine{00168         m\_updateSceneContentsCheckBox-\/>show();}
\DoxyCodeLine{00169       m\_updateButton-\/>show();}
\DoxyCodeLine{00170       m\_closeButton-\/>hide();}
\DoxyCodeLine{00171       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00172     \}}
\DoxyCodeLine{00173   \}}
\DoxyCodeLine{00174 }
\DoxyCodeLine{00175   \textcolor{keywordflow}{if} (m\_updateToRevision) \{}
\DoxyCodeLine{00176     \textcolor{keywordflow}{if} (m\_filesWithConflict.count() > 0) \{}
\DoxyCodeLine{00177       m\_textLabel-\/>setText(}
\DoxyCodeLine{00178           tr(\textcolor{stringliteral}{"{}Some items are currently modified in your working copy.\(\backslash\)nPlease "{}}}
\DoxyCodeLine{00179              \textcolor{stringliteral}{"{}commit or revert changes first."{}}));}
\DoxyCodeLine{00180       m\_textLabel-\/>show();}
\DoxyCodeLine{00181       switchToCloseButton();}
\DoxyCodeLine{00182       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00183     \}}
\DoxyCodeLine{00184 }
\DoxyCodeLine{00185     m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}Update to:"{}}));}
\DoxyCodeLine{00186     m\_textLabel-\/>show();}
\DoxyCodeLine{00187     m\_dateChooserWidget-\/>show();}
\DoxyCodeLine{00188     m\_updateButton-\/>show();}
\DoxyCodeLine{00189     m\_closeButton-\/>hide();}
\DoxyCodeLine{00190 }
\DoxyCodeLine{00191     adjustSize();}
\DoxyCodeLine{00192   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00193     \textcolor{comment}{// Resolve first files with conflict}}
\DoxyCodeLine{00194     \textcolor{keywordflow}{if} (m\_filesWithConflict.count() > 0) \{}
\DoxyCodeLine{00195       m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}Some conflict found. Select.."{}}));}
\DoxyCodeLine{00196       m\_textLabel-\/>show();}
\DoxyCodeLine{00197       m\_updateButton-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00198       m\_updateButton-\/>show();}
\DoxyCodeLine{00199       m\_closeButton-\/>hide();}
\DoxyCodeLine{00200 }
\DoxyCodeLine{00201       QStringList fileswithConflict;}
\DoxyCodeLine{00202       \textcolor{keywordtype}{int} fileswithConflictCount = m\_filesWithConflict.size();}
\DoxyCodeLine{00203       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < fileswithConflictCount; i++)}
\DoxyCodeLine{00204         fileswithConflict.append(m\_filesWithConflict.at(i));}
\DoxyCodeLine{00205       m\_conflictWidget-\/>setFiles(fileswithConflict);}
\DoxyCodeLine{00206       m\_conflictWidget-\/>show();}
\DoxyCodeLine{00207       adjustSize();}
\DoxyCodeLine{00208       connect(m\_conflictWidget, SIGNAL(allConflictSetted()), \textcolor{keyword}{this},}
\DoxyCodeLine{00209               SLOT(onConflictSetted()));}
\DoxyCodeLine{00210     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00211       updateFiles();}
\DoxyCodeLine{00212   \}}
\DoxyCodeLine{00213 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_update_dialog_a68c68ba2933e3e1610b89d5f9d08e5a0}\label{class_s_v_n_update_dialog_a68c68ba2933e3e1610b89d5f9d08e5a0}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!onUpdateButtonClicked@{onUpdateButtonClicked}}
\index{onUpdateButtonClicked@{onUpdateButtonClicked}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{onUpdateButtonClicked}{onUpdateButtonClicked}}
{\footnotesize\ttfamily void SVNUpdate\+Dialog\+::on\+Update\+Button\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00349                                             \{}
\DoxyCodeLine{00350   \textcolor{comment}{// Update to mine}}
\DoxyCodeLine{00351   QStringList files = m\_conflictWidget-\/>getFilesWithOption(0);}
\DoxyCodeLine{00352   \textcolor{keywordflow}{if} (files.size() > 0) \{}
\DoxyCodeLine{00353     m\_waitingLabel-\/>show();}
\DoxyCodeLine{00354     m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}Updating items..."{}}));}
\DoxyCodeLine{00355     QStringList args;}
\DoxyCodeLine{00356     args << \textcolor{stringliteral}{"{}update"{}};}
\DoxyCodeLine{00357     args.append(files);}
\DoxyCodeLine{00358     args << \textcolor{stringliteral}{"{}-\/-\/accept"{}}}
\DoxyCodeLine{00359          << \textcolor{stringliteral}{"{}mine-\/full"{}};}
\DoxyCodeLine{00360 }
\DoxyCodeLine{00361     m\_thread.disconnect(SIGNAL(done(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00362     connect(\&m\_thread, SIGNAL(done(\textcolor{keyword}{const} QString \&)),}
\DoxyCodeLine{00363             SLOT(onUpdateToMineDone()));}
\DoxyCodeLine{00364     m\_thread.executeCommand(m\_workingDir, \textcolor{stringliteral}{"{}svn"{}}, args);}
\DoxyCodeLine{00365   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00366     onUpdateToMineDone();}
\DoxyCodeLine{00367 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_update_dialog_a7af01d19c5f588b90525f6317a496037}\label{class_s_v_n_update_dialog_a7af01d19c5f588b90525f6317a496037}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!onUpdateDone@{onUpdateDone}}
\index{onUpdateDone@{onUpdateDone}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{onUpdateDone}{onUpdateDone}}
{\footnotesize\ttfamily void SVNUpdate\+Dialog\+::on\+Update\+Done (\begin{DoxyParamCaption}\item[{const QString \&}]{text }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00413                                                       \{}
\DoxyCodeLine{00414   addOutputText(text);}
\DoxyCodeLine{00415 }
\DoxyCodeLine{00416   QStringList files;}
\DoxyCodeLine{00417   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_filesToUpdate.size(); i++)}
\DoxyCodeLine{00418     files.append(m\_filesToUpdate.at(i));}
\DoxyCodeLine{00419   emit done(files);}
\DoxyCodeLine{00420 }
\DoxyCodeLine{00421   switchToCloseButton();}
\DoxyCodeLine{00422 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_update_dialog_af23de7eb271e73a512745c27ab3ef460}\label{class_s_v_n_update_dialog_af23de7eb271e73a512745c27ab3ef460}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!onUpdateSceneContentsToggled@{onUpdateSceneContentsToggled}}
\index{onUpdateSceneContentsToggled@{onUpdateSceneContentsToggled}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{onUpdateSceneContentsToggled}{onUpdateSceneContentsToggled}}
{\footnotesize\ttfamily void SVNUpdate\+Dialog\+::on\+Update\+Scene\+Contents\+Toggled (\begin{DoxyParamCaption}\item[{bool}]{checked }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00430                                                                \{}
\DoxyCodeLine{00431   \textcolor{keywordflow}{if} (!checked)}
\DoxyCodeLine{00432     m\_sceneResources.clear();}
\DoxyCodeLine{00433   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00434     \mbox{\hyperlink{class_version_control}{VersionControl}} *vc = VersionControl::instance();}
\DoxyCodeLine{00435 }
\DoxyCodeLine{00436     \textcolor{keywordtype}{int} fileSize = m\_filesToUpdate.count();}
\DoxyCodeLine{00437     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < fileSize; i++) \{}
\DoxyCodeLine{00438       QString fileName = m\_filesToUpdate.at(i);}
\DoxyCodeLine{00439       \textcolor{keywordflow}{if} (fileName.endsWith(\textcolor{stringliteral}{"{}.tnz"{}}))}
\DoxyCodeLine{00440         m\_sceneResources.append(vc-\/>getSceneContents(m\_workingDir, fileName));}
\DoxyCodeLine{00441     \}}
\DoxyCodeLine{00442   \}}
\DoxyCodeLine{00443 }
\DoxyCodeLine{00444   \textcolor{keywordflow}{if} (m\_filesToUpdate.size() == 1)}
\DoxyCodeLine{00445     m\_textLabel-\/>setText(}
\DoxyCodeLine{00446         tr(\textcolor{stringliteral}{"{}\%1 items to update."{}})}
\DoxyCodeLine{00447             .arg(m\_filesToUpdate.size() + m\_sceneResources.size()));}
\DoxyCodeLine{00448   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00449     m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}\%1 items to update."{}})}
\DoxyCodeLine{00450                              .arg(m\_filesToUpdate.size() +}
\DoxyCodeLine{00451                                   m\_sceneResources.size() -\/ m\_sceneIconsCount));}
\DoxyCodeLine{00452 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_update_dialog_a390653d016d47d510c119edd709321ad}\label{class_s_v_n_update_dialog_a390653d016d47d510c119edd709321ad}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!onUpdateToMineDone@{onUpdateToMineDone}}
\index{onUpdateToMineDone@{onUpdateToMineDone}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{onUpdateToMineDone}{onUpdateToMineDone}}
{\footnotesize\ttfamily void SVNUpdate\+Dialog\+::on\+Update\+To\+Mine\+Done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00371                                          \{}
\DoxyCodeLine{00372   \textcolor{comment}{// Update to theirs}}
\DoxyCodeLine{00373   QStringList files = m\_conflictWidget-\/>getFilesWithOption(1);}
\DoxyCodeLine{00374   \textcolor{keywordflow}{if} (files.size() > 0) \{}
\DoxyCodeLine{00375     m\_waitingLabel-\/>show();}
\DoxyCodeLine{00376     m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}Updating to their items..."{}}));}
\DoxyCodeLine{00377     QStringList args;}
\DoxyCodeLine{00378     args << \textcolor{stringliteral}{"{}update"{}};}
\DoxyCodeLine{00379     args.append(files);}
\DoxyCodeLine{00380     args << \textcolor{stringliteral}{"{}-\/-\/accept"{}}}
\DoxyCodeLine{00381          << \textcolor{stringliteral}{"{}theirs-\/full"{}};}
\DoxyCodeLine{00382 }
\DoxyCodeLine{00383     m\_thread.disconnect(SIGNAL(done(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00384     connect(\&m\_thread, SIGNAL(done(\textcolor{keyword}{const} QString \&)),}
\DoxyCodeLine{00385             SLOT(onConflictResolved()));}
\DoxyCodeLine{00386     m\_thread.executeCommand(m\_workingDir, \textcolor{stringliteral}{"{}svn"{}}, args);}
\DoxyCodeLine{00387   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00388     onConflictResolved();}
\DoxyCodeLine{00389 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_update_dialog_a17c473b1f173458550ed80423817341e}\label{class_s_v_n_update_dialog_a17c473b1f173458550ed80423817341e}} 
\index{SVNUpdateDialog@{SVNUpdateDialog}!onUpdateToRevisionButtonClicked@{onUpdateToRevisionButtonClicked}}
\index{onUpdateToRevisionButtonClicked@{onUpdateToRevisionButtonClicked}!SVNUpdateDialog@{SVNUpdateDialog}}
\doxysubsubsection{\texorpdfstring{onUpdateToRevisionButtonClicked}{onUpdateToRevisionButtonClicked}}
{\footnotesize\ttfamily void SVNUpdate\+Dialog\+::on\+Update\+To\+Revision\+Button\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00319                                                       \{}
\DoxyCodeLine{00320   m\_textLabel-\/>hide();}
\DoxyCodeLine{00321   m\_cancelButton-\/>hide();}
\DoxyCodeLine{00322   m\_updateButton-\/>hide();}
\DoxyCodeLine{00323   m\_dateChooserWidget-\/>hide();}
\DoxyCodeLine{00324   m\_output-\/>show();}
\DoxyCodeLine{00325 }
\DoxyCodeLine{00326   QStringList args;}
\DoxyCodeLine{00327   args << \textcolor{stringliteral}{"{}update"{}};}
\DoxyCodeLine{00328 }
\DoxyCodeLine{00329   \textcolor{comment}{// Pay attention: I have to perform update of the whole selected files}}
\DoxyCodeLine{00330   \textcolor{comment}{// (that could become updatable "{}looking in the past"{})}}
\DoxyCodeLine{00331   \textcolor{keywordtype}{int} filesCount = m\_files.count();}
\DoxyCodeLine{00332   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < filesCount; i++) \{}
\DoxyCodeLine{00333     QString file = m\_files.at(i);}
\DoxyCodeLine{00334     \textcolor{keywordflow}{if} (!file.isEmpty()) args << file;}
\DoxyCodeLine{00335   \}}
\DoxyCodeLine{00336   QString revisionString = m\_dateChooserWidget-\/>getRevisionString();}
\DoxyCodeLine{00337 }
\DoxyCodeLine{00338   args << \textcolor{stringliteral}{"{}-\/r"{}} << revisionString;}
\DoxyCodeLine{00339 }
\DoxyCodeLine{00340   connect(\&m\_thread, SIGNAL(outputRetrieved(\textcolor{keyword}{const} QString \&)),}
\DoxyCodeLine{00341           SLOT(addOutputText(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00342   connect(\&m\_thread, SIGNAL(done(\textcolor{keyword}{const} QString \&)),}
\DoxyCodeLine{00343           SLOT(onUpdateDone(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00344   m\_thread.executeCommand(m\_workingDir, \textcolor{stringliteral}{"{}svn"{}}, args, \textcolor{keyword}{false});}
\DoxyCodeLine{00345 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/svnupdatedialog.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/svnupdatedialog.\+cpp\end{DoxyCompactItemize}
