\hypertarget{class_tool_utils_1_1_t_full_color_raster_undo}{}\doxysection{Tool\+Utils\+::TFull\+Color\+Raster\+Undo Class Reference}
\label{class_tool_utils_1_1_t_full_color_raster_undo}\index{ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}}
Inheritance diagram for Tool\+Utils\+::TFull\+Color\+Raster\+Undo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{class_tool_utils_1_1_t_full_color_raster_undo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_tool_utils_1_1_t_full_color_raster_undo_a1628cbd5a91fee341012472144c63483}{TFull\+Color\+Raster\+Undo}} (\mbox{\hyperlink{class_t_tile_set_full_color}{TTile\+Set\+Full\+Color}} $\ast$tiles, \mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$level, const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&frame\+Id, bool created\+Frame, bool created\+Level, const \mbox{\hyperlink{class_t_smart_pointer_t}{TPaletteP}} \&old\+Palette)
\item 
int \mbox{\hyperlink{class_tool_utils_1_1_t_full_color_raster_undo_a382637d7d41237a0f116aeef9f6f890b}{get\+Size}} () const override
\item 
void \mbox{\hyperlink{class_tool_utils_1_1_t_full_color_raster_undo_a37b14d4a69fea6ffe732c633c1c8f623}{undo}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_raster_image_p}{TRaster\+ImageP}} \mbox{\hyperlink{class_tool_utils_1_1_t_full_color_raster_undo_aaea4492d18c2ca56703c27e877dc8cc0}{get\+Image}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_tile_set_full_color}{TTile\+Set\+Full\+Color}} $\ast$ \mbox{\hyperlink{class_tool_utils_1_1_t_full_color_raster_undo_a1e49bf679ff5f1de9f7df34d51a01da5}{m\+\_\+tiles}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_t_full_color_raster_undo_a1628cbd5a91fee341012472144c63483}\label{class_tool_utils_1_1_t_full_color_raster_undo_a1628cbd5a91fee341012472144c63483}} 
\index{ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}!TFullColorRasterUndo@{TFullColorRasterUndo}}
\index{TFullColorRasterUndo@{TFullColorRasterUndo}!ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}}
\doxysubsubsection{\texorpdfstring{TFullColorRasterUndo()}{TFullColorRasterUndo()}}
{\footnotesize\ttfamily Tool\+Utils\+::\+TFull\+Color\+Raster\+Undo\+::\+TFull\+Color\+Raster\+Undo (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile_set_full_color}{TTile\+Set\+Full\+Color}} $\ast$}]{tiles,  }\item[{\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$}]{level,  }\item[{const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&}]{frame\+Id,  }\item[{bool}]{created\+Frame,  }\item[{bool}]{created\+Level,  }\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TPaletteP}} \&}]{old\+Palette }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00669     : TToolUndo(level, frameId, createdFrame, createdLevel, oldPalette)}
\DoxyCodeLine{00670     , m\_tiles(tiles) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_t_full_color_raster_undo_afde4f71d1e7729904b56f020f8c01965}\label{class_tool_utils_1_1_t_full_color_raster_undo_afde4f71d1e7729904b56f020f8c01965}} 
\index{ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}!````~TFullColorRasterUndo@{$\sim$TFullColorRasterUndo}}
\index{````~TFullColorRasterUndo@{$\sim$TFullColorRasterUndo}!ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}}
\doxysubsubsection{\texorpdfstring{$\sim$TFullColorRasterUndo()}{~TFullColorRasterUndo()}}
{\footnotesize\ttfamily Tool\+Utils\+::\+TFull\+Color\+Raster\+Undo\+::$\sim$\+TFull\+Color\+Raster\+Undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00674 \{ \textcolor{keyword}{delete} m\_tiles; \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_t_full_color_raster_undo_aaea4492d18c2ca56703c27e877dc8cc0}\label{class_tool_utils_1_1_t_full_color_raster_undo_aaea4492d18c2ca56703c27e877dc8cc0}} 
\index{ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}!getImage@{getImage}}
\index{getImage@{getImage}!ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}}
\doxysubsubsection{\texorpdfstring{getImage()}{getImage()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_raster_image_p}{TRaster\+ImageP}} Tool\+Utils\+::\+TFull\+Color\+Raster\+Undo\+::get\+Image (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00678                                                             \{}
\DoxyCodeLine{00679   \textcolor{keywordflow}{if} (m\_level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a14de45c4b17032346cfcffbca8ef9751}{isFid}}(m\_frameId))}
\DoxyCodeLine{00680     \textcolor{keywordflow}{return} (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})m\_level-\/>getFrame(m\_frameId, \textcolor{keyword}{true});}
\DoxyCodeLine{00681   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00682 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_t_full_color_raster_undo_a382637d7d41237a0f116aeef9f6f890b}\label{class_tool_utils_1_1_t_full_color_raster_undo_a382637d7d41237a0f116aeef9f6f890b}} 
\index{ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}!getSize@{getSize}}
\index{getSize@{getSize}!ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Tool\+Utils\+::\+TFull\+Color\+Raster\+Undo\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00686                                                  \{}
\DoxyCodeLine{00687   \textcolor{keywordtype}{int} size = \textcolor{keyword}{sizeof}(*this);}
\DoxyCodeLine{00688   size += \textcolor{keyword}{sizeof}(*(m\_level.getPointer()));}
\DoxyCodeLine{00689   size += \textcolor{keyword}{sizeof}(*(m\_oldPalette.getPointer()));}
\DoxyCodeLine{00690   \textcolor{keywordflow}{return} m\_tiles ? m\_tiles-\/>getMemorySize() + size : size;}
\DoxyCodeLine{00691 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_t_full_color_raster_undo_a37b14d4a69fea6ffe732c633c1c8f623}\label{class_tool_utils_1_1_t_full_color_raster_undo_a37b14d4a69fea6ffe732c633c1c8f623}} 
\index{ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}!undo@{undo}}
\index{undo@{undo}!ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Tool\+Utils\+::\+TFull\+Color\+Raster\+Undo\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00695                                                \{}
\DoxyCodeLine{00696   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{00697   \textcolor{keywordflow}{if} (!app) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00698 }
\DoxyCodeLine{00699   \textcolor{keywordflow}{if} (m\_tiles \&\& m\_tiles-\/>getTileCount() > 0) \{}
\DoxyCodeLine{00700     \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} image = getImage();}
\DoxyCodeLine{00701     \textcolor{keywordflow}{if} (!image) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00702     std::vector<TRect> rects = paste(image, m\_tiles);}
\DoxyCodeLine{00703     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00704     \mbox{\hyperlink{class_t_rect_t}{TRect}} resRect = rects[0];}
\DoxyCodeLine{00705     \textcolor{keywordflow}{for} (i = 1; i < (int)rects.size(); i++) resRect += rects[i];}
\DoxyCodeLine{00706   \}}
\DoxyCodeLine{00707 }
\DoxyCodeLine{00708   removeLevelAndFrameIfNeeded();}
\DoxyCodeLine{00709 }
\DoxyCodeLine{00710   app-\/>getCurrentXsheet()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00711   notifyImageChanged();}
\DoxyCodeLine{00712 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_t_full_color_raster_undo_a1e49bf679ff5f1de9f7df34d51a01da5}\label{class_tool_utils_1_1_t_full_color_raster_undo_a1e49bf679ff5f1de9f7df34d51a01da5}} 
\index{ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}!m\_tiles@{m\_tiles}}
\index{m\_tiles@{m\_tiles}!ToolUtils::TFullColorRasterUndo@{ToolUtils::TFullColorRasterUndo}}
\doxysubsubsection{\texorpdfstring{m\_tiles}{m\_tiles}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_tile_set_full_color}{TTile\+Set\+Full\+Color}}$\ast$ Tool\+Utils\+::\+TFull\+Color\+Raster\+Undo\+::m\+\_\+tiles\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tools/toolutils.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/toolutils.\+cpp\end{DoxyCompactItemize}
