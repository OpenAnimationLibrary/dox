\hypertarget{class_t_predictive_cache_manager}{}\doxysection{TPredictive\+Cache\+Manager Class Reference}
\label{class_t_predictive_cache_manager}\index{TPredictiveCacheManager@{TPredictiveCacheManager}}


{\ttfamily \#include $<$tpredictivecachemanager.\+h$>$}

Inheritance diagram for TPredictive\+Cache\+Manager\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_t_predictive_cache_manager}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_t_predictive_cache_manager_1_1_imp}{Imp}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_t_predictive_cache_manager_a06eba9ba64f932386c2f627e0d67b917}\label{class_t_predictive_cache_manager_a06eba9ba64f932386c2f627e0d67b917}} 
int {\bfseries get\+Max\+Tile\+Size} () const
\item 
\mbox{\Hypertarget{class_t_predictive_cache_manager_ac0231968c1597d709019bc2a18d45648}\label{class_t_predictive_cache_manager_ac0231968c1597d709019bc2a18d45648}} 
int {\bfseries get\+BPP} () const
\item 
void \mbox{\hyperlink{class_t_predictive_cache_manager_adc7a3cd7918bca52f4e6957b45efb70e}{set\+Max\+Tile\+Size}} (int max\+Tile\+Size)
\item 
void \mbox{\hyperlink{class_t_predictive_cache_manager_ad5d2eaf121a9f93a175b360e663a97b7}{set\+BPP}} (int bpp)
\item 
void \mbox{\hyperlink{class_t_predictive_cache_manager_a164a2e93e4f6181b7fa94d3aee9c4a47}{get\+Resource}} (\mbox{\hyperlink{class_t_cache_resource_p}{TCache\+ResourceP}} \&resource, const std\+::string \&alias, const \mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} \&fx, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&rs, \mbox{\hyperlink{struct_resource_declaration}{Resource\+Declaration}} $\ast$res\+Data) override
\item 
void \mbox{\hyperlink{class_t_predictive_cache_manager_a861c260555cdb281fe04d0c16a0ef181}{on\+Render\+Status\+Start}} (int render\+Status) override
\item 
void \mbox{\hyperlink{class_t_predictive_cache_manager_a7747b891e804f50d62d9a4d28a798610}{on\+Render\+Status\+End}} (int render\+Status) override
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_t_predictive_cache_manager_aac91f9f2a6b84ad67e4bb99e1fe22b05}\label{class_t_predictive_cache_manager_aac91f9f2a6b84ad67e4bb99e1fe22b05}} 
static \mbox{\hyperlink{class_t_predictive_cache_manager}{TPredictive\+Cache\+Manager}} $\ast$ {\bfseries instance} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{class_t_predictive_cache_manager}{TPredictive\+Cache\+Manager}} is the \mbox{\hyperlink{class_t_fx_cache_manager_delegate}{TFx\+Cache\+Manager\+Delegate}} used to cache intermediate render results due to predictive analysis of the scene schematic. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_predictive_cache_manager_a5870a2371f80c7ca42ff7a4e58a62b5c}\label{class_t_predictive_cache_manager_a5870a2371f80c7ca42ff7a4e58a62b5c}} 
\index{TPredictiveCacheManager@{TPredictiveCacheManager}!TPredictiveCacheManager@{TPredictiveCacheManager}}
\index{TPredictiveCacheManager@{TPredictiveCacheManager}!TPredictiveCacheManager@{TPredictiveCacheManager}}
\doxysubsubsection{\texorpdfstring{TPredictiveCacheManager()}{TPredictiveCacheManager()}}
{\footnotesize\ttfamily TPredictive\+Cache\+Manager\+::\+TPredictive\+Cache\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00102     : m\_imp(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_predictive_cache_manager_1_1_imp}{TPredictiveCacheManager::Imp}}()) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_predictive_cache_manager_ae9bc51e81c55865e81fc7bd6e02e4d4f}\label{class_t_predictive_cache_manager_ae9bc51e81c55865e81fc7bd6e02e4d4f}} 
\index{TPredictiveCacheManager@{TPredictiveCacheManager}!````~TPredictiveCacheManager@{$\sim$TPredictiveCacheManager}}
\index{````~TPredictiveCacheManager@{$\sim$TPredictiveCacheManager}!TPredictiveCacheManager@{TPredictiveCacheManager}}
\doxysubsubsection{\texorpdfstring{$\sim$TPredictiveCacheManager()}{~TPredictiveCacheManager()}}
{\footnotesize\ttfamily TPredictive\+Cache\+Manager\+::$\sim$\+TPredictive\+Cache\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00106 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_predictive_cache_manager_a164a2e93e4f6181b7fa94d3aee9c4a47}\label{class_t_predictive_cache_manager_a164a2e93e4f6181b7fa94d3aee9c4a47}} 
\index{TPredictiveCacheManager@{TPredictiveCacheManager}!getResource@{getResource}}
\index{getResource@{getResource}!TPredictiveCacheManager@{TPredictiveCacheManager}}
\doxysubsubsection{\texorpdfstring{getResource()}{getResource()}}
{\footnotesize\ttfamily void TPredictive\+Cache\+Manager\+::get\+Resource (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_cache_resource_p}{TCache\+ResourceP}} \&}]{resource,  }\item[{const std\+::string \&}]{alias,  }\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} \&}]{fx,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{rs,  }\item[{\mbox{\hyperlink{struct_resource_declaration}{Resource\+Declaration}} $\ast$}]{res\+Data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_fx_cache_manager_delegate}{TFx\+Cache\+Manager\+Delegate}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00122                                                                         \{}
\DoxyCodeLine{00123   \textcolor{keywordflow}{if} (!m\_imp-\/>m\_enabled) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125   m\_imp-\/>run(resource, alias, fx, frame, rs, resData);}
\DoxyCodeLine{00126 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_predictive_cache_manager_a7747b891e804f50d62d9a4d28a798610}\label{class_t_predictive_cache_manager_a7747b891e804f50d62d9a4d28a798610}} 
\index{TPredictiveCacheManager@{TPredictiveCacheManager}!onRenderStatusEnd@{onRenderStatusEnd}}
\index{onRenderStatusEnd@{onRenderStatusEnd}!TPredictiveCacheManager@{TPredictiveCacheManager}}
\doxysubsubsection{\texorpdfstring{onRenderStatusEnd()}{onRenderStatusEnd()}}
{\footnotesize\ttfamily void TPredictive\+Cache\+Manager\+::on\+Render\+Status\+End (\begin{DoxyParamCaption}\item[{int}]{render\+Status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_render_resource_manager}{TRender\+Resource\+Manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00201                                                                 \{}
\DoxyCodeLine{00202   \textcolor{keywordflow}{switch} (renderStatus) \{}
\DoxyCodeLine{00203   \textcolor{keywordflow}{case} TRenderer::TESTRUN:}
\DoxyCodeLine{00204 }
\DoxyCodeLine{00205     \textcolor{comment}{// All resources which have just 1 computation tile, which is also}}
\DoxyCodeLine{00206     \textcolor{comment}{// referenced}}
\DoxyCodeLine{00207     \textcolor{comment}{// only once, are released.}}
\DoxyCodeLine{00208 }
\DoxyCodeLine{00209     std::map<TCacheResourceP, PredictionData>::iterator it;}
\DoxyCodeLine{00210     \textcolor{keywordflow}{for} (it = m\_imp-\/>m\_resources.begin(); it != m\_imp-\/>m\_resources.end();) \{}
\DoxyCodeLine{00211       \textcolor{keyword}{const} \mbox{\hyperlink{struct_resource_declaration}{ResourceDeclaration}} *decl = it-\/>second.m\_decl;}
\DoxyCodeLine{00212 }
\DoxyCodeLine{00213       \textcolor{keywordflow}{if} (decl-\/>m\_tiles.size() == 1 \&\& decl-\/>m\_tiles[0].m\_refCount == 1) \{}
\DoxyCodeLine{00214         std::map<TCacheResourceP, PredictionData>::iterator jt = it++;}
\DoxyCodeLine{00215         m\_imp-\/>m\_resources.erase(jt);}
\DoxyCodeLine{00216       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00217         it++;}
\DoxyCodeLine{00218     \}}
\DoxyCodeLine{00219   \}}
\DoxyCodeLine{00220 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_predictive_cache_manager_a861c260555cdb281fe04d0c16a0ef181}\label{class_t_predictive_cache_manager_a861c260555cdb281fe04d0c16a0ef181}} 
\index{TPredictiveCacheManager@{TPredictiveCacheManager}!onRenderStatusStart@{onRenderStatusStart}}
\index{onRenderStatusStart@{onRenderStatusStart}!TPredictiveCacheManager@{TPredictiveCacheManager}}
\doxysubsubsection{\texorpdfstring{onRenderStatusStart()}{onRenderStatusStart()}}
{\footnotesize\ttfamily void TPredictive\+Cache\+Manager\+::on\+Render\+Status\+Start (\begin{DoxyParamCaption}\item[{int}]{render\+Status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_render_resource_manager}{TRender\+Resource\+Manager}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00195                                                                   \{}
\DoxyCodeLine{00196   m\_imp-\/>m\_renderStatus = renderStatus;}
\DoxyCodeLine{00197 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_predictive_cache_manager_ad5d2eaf121a9f93a175b360e663a97b7}\label{class_t_predictive_cache_manager_ad5d2eaf121a9f93a175b360e663a97b7}} 
\index{TPredictiveCacheManager@{TPredictiveCacheManager}!setBPP@{setBPP}}
\index{setBPP@{setBPP}!TPredictiveCacheManager@{TPredictiveCacheManager}}
\doxysubsubsection{\texorpdfstring{setBPP()}{setBPP()}}
{\footnotesize\ttfamily void TPredictive\+Cache\+Manager\+::set\+BPP (\begin{DoxyParamCaption}\item[{int}]{bpp }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00114 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_predictive_cache_manager_adc7a3cd7918bca52f4e6957b45efb70e}\label{class_t_predictive_cache_manager_adc7a3cd7918bca52f4e6957b45efb70e}} 
\index{TPredictiveCacheManager@{TPredictiveCacheManager}!setMaxTileSize@{setMaxTileSize}}
\index{setMaxTileSize@{setMaxTileSize}!TPredictiveCacheManager@{TPredictiveCacheManager}}
\doxysubsubsection{\texorpdfstring{setMaxTileSize()}{setMaxTileSize()}}
{\footnotesize\ttfamily void TPredictive\+Cache\+Manager\+::set\+Max\+Tile\+Size (\begin{DoxyParamCaption}\item[{int}]{max\+Tile\+Size }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00110 \{\}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tpredictivecachemanager.\+h\item 
E\+:/opentoonz/toonz/sources/common/tfx/tpredictivecachemanager.\+cpp\end{DoxyCompactItemize}
