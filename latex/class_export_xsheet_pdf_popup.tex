\hypertarget{class_export_xsheet_pdf_popup}{}\doxysection{Export\+Xsheet\+Pdf\+Popup Class Reference}
\label{class_export_xsheet_pdf_popup}\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
Inheritance diagram for Export\+Xsheet\+Pdf\+Popup\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_export_xsheet_pdf_popup}
\end{center}
\end{figure}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_a696933bcbfd6904ef514f9b7f70c5397}{on\+Export}} ()
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_a54ba83a4c33e2213769350d61cd6a719}{on\+Export\+PNG}} ()
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_ad2c249ec839f5061a1975f1731dafa36}{init\+Template}} ()
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_adfa704678670161f7fa5c380d8592bf4}{set\+Info}} ()
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_aed599f90975900404682274fbe64914b}{update\+Preview}} ()
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_a6d3d9b5c12e2ce2760b3b1e4bb559bdf}{on\+Logo\+Mode\+Toggled}} ()
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_a470dbc6c55f1874ae4ae2c5330a54f0d}{on\+Logo\+Img\+Path\+Changed}} ()
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_a0113475d972b6886c7b946ecb3654588}{on\+Prev}} ()
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_a118281151a428a8e1b8d9bc4d75cb866}{on\+Next}} ()
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_a58b874d451770b515dfa2b8904211b47}{on\+Tick\+Id\+Combo\+Activated}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_a6b3016dbd3e73549eb3ff54d91d46d01}{show\+Event}} (QShow\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_export_xsheet_pdf_popup_af96b21f7979d2b66947e09c13d8fa8d4}{close\+Event}} (QClose\+Event $\ast$event) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_a54adaea4c17a434b9447055a0358abbe}\label{class_export_xsheet_pdf_popup_a54adaea4c17a434b9447055a0358abbe}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{ExportXsheetPdfPopup()}{ExportXsheetPdfPopup()}}
{\footnotesize\ttfamily Export\+Xsheet\+Pdf\+Popup\+::\+Export\+Xsheet\+Pdf\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01875     : \mbox{\hyperlink{class_d_v_gui_1_1_dialog}{DVGui::Dialog}}(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getMainWindow(), \textcolor{keyword}{false}, \textcolor{keyword}{false},}
\DoxyCodeLine{01876                     \textcolor{stringliteral}{"{}ExportXsheetPdf"{}})}
\DoxyCodeLine{01877     , m\_currentTmpl(\textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{01878   setWindowTitle(tr(\textcolor{stringliteral}{"{}Export Xsheet PDF"{}}));}
\DoxyCodeLine{01879 }
\DoxyCodeLine{01880   m\_previewPane         = \textcolor{keyword}{new} \mbox{\hyperlink{class_xsheet_pdf_preview_pane}{XsheetPdfPreviewPane}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01881   m\_pathFld             = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_file_field}{DVGui::FileField}}();}
\DoxyCodeLine{01882   m\_fileNameFld         = \textcolor{keyword}{new} QLineEdit(\textcolor{keyword}{this});}
\DoxyCodeLine{01883   m\_templateCombo       = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01884   m\_exportAreaCombo     = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01885   m\_continuousLineCombo = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01886 }
\DoxyCodeLine{01887   m\_pageInfoLbl  = \textcolor{keyword}{new} QLabel(\textcolor{keyword}{this});}
\DoxyCodeLine{01888   m\_lineColorFld = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}}(\textcolor{keyword}{this}, \textcolor{keyword}{false}, TPixel32(128, 128, 128));}
\DoxyCodeLine{01889   m\_templateFontCB = \textcolor{keyword}{new} QFontComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01890   m\_contentsFontCB = \textcolor{keyword}{new} QFontComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01891   m\_addDateTimeCB  = \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Print Export DateTime"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01892   m\_addScenePathCB = \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Print Scene Path"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01893   m\_drawSoundCB    = \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Print Soundtrack"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01894   m\_addSceneNameCB = \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Print Scene Name"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01895   m\_serialFrameNumberCB =}
\DoxyCodeLine{01896       \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Put Serial Frame Numbers Over Pages"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01897   m\_levelNameOnBottomCB =}
\DoxyCodeLine{01898       \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Print Level Names On The Bottom"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01899   m\_drawDialogueCB   = \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Print Dialogue"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01900   m\_dialogueColCombo = \textcolor{keyword}{new} QComboBox();}
\DoxyCodeLine{01901   m\_sceneNameEdit    = \textcolor{keyword}{new} QLineEdit(\textcolor{keyword}{this});}
\DoxyCodeLine{01902   m\_memoEdit         = \textcolor{keyword}{new} QTextEdit(\textcolor{keyword}{this});}
\DoxyCodeLine{01903 }
\DoxyCodeLine{01904   m\_logoTxtRB        = \textcolor{keyword}{new} QRadioButton(tr(\textcolor{stringliteral}{"{}Text"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01905   m\_logoImgRB        = \textcolor{keyword}{new} QRadioButton(tr(\textcolor{stringliteral}{"{}Image"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01906   m\_logoTextEdit     = \textcolor{keyword}{new} QLineEdit(\textcolor{keyword}{this});}
\DoxyCodeLine{01907   m\_logoImgPathField = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_file_field}{DVGui::FileField}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01908 }
\DoxyCodeLine{01909   m\_previewArea     = \textcolor{keyword}{new} \mbox{\hyperlink{class_xsheet_pdf_preview_area}{XsheetPdfPreviewArea}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01910   m\_currentPageEdit = \textcolor{keyword}{new} QLineEdit(\textcolor{keyword}{this});}
\DoxyCodeLine{01911   m\_totalPageCount  = 1;}
\DoxyCodeLine{01912   m\_prev            = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}< Prev"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01913   m\_next            = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Next >"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01914 }
\DoxyCodeLine{01915   QPushButton* exportBtn    = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Export PDF"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01916   QPushButton* exportPngBtn = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Export PNG"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01917   QPushButton* cancelBtn    = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Cancel"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01918 }
\DoxyCodeLine{01919   m\_tick1IdCombo = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01920   m\_tick2IdCombo = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01921   m\_keyIdCombo   = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01922   refreshCellMarkComboItems(m\_tick1IdCombo);}
\DoxyCodeLine{01923   refreshCellMarkComboItems(m\_tick2IdCombo);}
\DoxyCodeLine{01924   refreshCellMarkComboItems(m\_keyIdCombo);}
\DoxyCodeLine{01925   m\_tick1MarkCombo = createTickMarkCombo(\textcolor{keyword}{this});}
\DoxyCodeLine{01926   m\_tick2MarkCombo = createTickMarkCombo(\textcolor{keyword}{this});}
\DoxyCodeLine{01927 }
\DoxyCodeLine{01928   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01929   QStringList pdfFileTypes = \{\textcolor{stringliteral}{"{}pdf"{}}\};}
\DoxyCodeLine{01930   m\_pathFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_file_field_aad79aa2cfdb79a5e1a1753f3fefb7957}{setFilters}}(pdfFileTypes);}
\DoxyCodeLine{01931   m\_pathFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_file_field_aa7a756fa242d0b6dbcf80994ee59c79e}{setFileMode}}(QFileDialog::DirectoryOnly);}
\DoxyCodeLine{01932   m\_fileNameFld-\/>setFixedWidth(100);}
\DoxyCodeLine{01933   m\_previewArea-\/>setWidget(m\_previewPane);}
\DoxyCodeLine{01934   m\_previewArea-\/>setAlignment(Qt::AlignCenter);}
\DoxyCodeLine{01935   m\_previewArea-\/>setBackgroundRole(QPalette::Dark);}
\DoxyCodeLine{01936   m\_previewArea-\/>setStyleSheet(\textcolor{stringliteral}{"{}background-\/color:black;"{}});}
\DoxyCodeLine{01937   m\_exportAreaCombo-\/>addItem(tr(\textcolor{stringliteral}{"{}ACTIONS"{}}), Area\_Actions);}
\DoxyCodeLine{01938   m\_exportAreaCombo-\/>addItem(tr(\textcolor{stringliteral}{"{}CELLS"{}}), Area\_Cells);}
\DoxyCodeLine{01939   \textcolor{comment}{// m\_exportAreaCombo-\/>setCurrentIndex(1);}}
\DoxyCodeLine{01940   m\_memoEdit-\/>setAcceptRichText(\textcolor{keyword}{false});}
\DoxyCodeLine{01941   m\_memoEdit-\/>setStyleSheet(}
\DoxyCodeLine{01942       \textcolor{stringliteral}{"{}background:white;\(\backslash\)ncolor:black;\(\backslash\)nborder:1 solid black;"{}});}
\DoxyCodeLine{01943   m\_memoEdit-\/>setFixedHeight(150);}
\DoxyCodeLine{01944   m\_dialogueColCombo-\/>setSizeAdjustPolicy(QComboBox::AdjustToContents);}
\DoxyCodeLine{01945   m\_sceneNameEdit-\/>setFixedWidth(100);}
\DoxyCodeLine{01946 }
\DoxyCodeLine{01947   m\_continuousLineCombo-\/>addItem(tr(\textcolor{stringliteral}{"{}Always"{}}), Line\_Always);}
\DoxyCodeLine{01948   m\_continuousLineCombo-\/>addItem(tr(\textcolor{stringliteral}{"{}More Than 3 Continuous Cells"{}}),}
\DoxyCodeLine{01949                                  Line\_MoreThan3s);}
\DoxyCodeLine{01950   m\_continuousLineCombo-\/>addItem(tr(\textcolor{stringliteral}{"{}None"{}}), Line\_None);}
\DoxyCodeLine{01951 }
\DoxyCodeLine{01952   QStringList filters;}
\DoxyCodeLine{01953   \textcolor{keywordflow}{for} (QByteArray\& format : QImageReader::supportedImageFormats())}
\DoxyCodeLine{01954     filters += format;}
\DoxyCodeLine{01955   m\_logoImgPathField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_file_field_aad79aa2cfdb79a5e1a1753f3fefb7957}{setFilters}}(filters);}
\DoxyCodeLine{01956   m\_logoImgPathField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_file_field_aa7a756fa242d0b6dbcf80994ee59c79e}{setFileMode}}(QFileDialog::ExistingFile);}
\DoxyCodeLine{01957 }
\DoxyCodeLine{01958   m\_currentPageEdit-\/>setValidator(\textcolor{keyword}{new} QIntValidator(1, m\_totalPageCount, \textcolor{keyword}{this}));}
\DoxyCodeLine{01959   m\_currentPageEdit-\/>setText(\textcolor{stringliteral}{"{}1"{}});}
\DoxyCodeLine{01960   m\_currentPageEdit-\/>setObjectName(\textcolor{stringliteral}{"{}LargeSizedText"{}});}
\DoxyCodeLine{01961   m\_currentPageEdit-\/>setFixedWidth(100);}
\DoxyCodeLine{01962   m\_prev-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{01963   m\_next-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{01964   exportBtn-\/>setObjectName(\textcolor{stringliteral}{"{}LargeSizedText"{}});}
\DoxyCodeLine{01965 }
\DoxyCodeLine{01966   QHBoxLayout* mainLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{01967   mainLay-\/>setMargin(0);}
\DoxyCodeLine{01968   mainLay-\/>setSpacing(5);}
\DoxyCodeLine{01969   \{}
\DoxyCodeLine{01970     QVBoxLayout* previewLay = \textcolor{keyword}{new} QVBoxLayout();}
\DoxyCodeLine{01971     previewLay-\/>setMargin(0);}
\DoxyCodeLine{01972     previewLay-\/>setSpacing(0);}
\DoxyCodeLine{01973     \{}
\DoxyCodeLine{01974       previewLay-\/>addWidget(m\_previewArea, 1);}
\DoxyCodeLine{01975       QHBoxLayout* prevBtnLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{01976       prevBtnLay-\/>setMargin(15);}
\DoxyCodeLine{01977       prevBtnLay-\/>setSpacing(10);}
\DoxyCodeLine{01978       \{}
\DoxyCodeLine{01979         prevBtnLay-\/>addStretch(1);}
\DoxyCodeLine{01980         prevBtnLay-\/>addWidget(m\_prev, 0);}
\DoxyCodeLine{01981         prevBtnLay-\/>addWidget(m\_currentPageEdit, 0);}
\DoxyCodeLine{01982         prevBtnLay-\/>addWidget(m\_next, 0);}
\DoxyCodeLine{01983         prevBtnLay-\/>addStretch(1);}
\DoxyCodeLine{01984       \}}
\DoxyCodeLine{01985       previewLay-\/>addLayout(prevBtnLay, 0);}
\DoxyCodeLine{01986     \}}
\DoxyCodeLine{01987     mainLay-\/>addLayout(previewLay, 1);}
\DoxyCodeLine{01988 }
\DoxyCodeLine{01989     QVBoxLayout* rightLay = \textcolor{keyword}{new} QVBoxLayout();}
\DoxyCodeLine{01990     rightLay-\/>setMargin(0);}
\DoxyCodeLine{01991     rightLay-\/>setSpacing(10);}
\DoxyCodeLine{01992     \{}
\DoxyCodeLine{01993       QScrollArea* scrollArea = \textcolor{keyword}{new} QScrollArea(\textcolor{keyword}{this});}
\DoxyCodeLine{01994       scrollArea-\/>setHorizontalScrollBarPolicy(Qt::ScrollBarAlwaysOff);}
\DoxyCodeLine{01995       QWidget* scrollPanel    = \textcolor{keyword}{new} QWidget(\textcolor{keyword}{this});}
\DoxyCodeLine{01996       QVBoxLayout* controlLay = \textcolor{keyword}{new} QVBoxLayout();}
\DoxyCodeLine{01997       controlLay-\/>setMargin(20);}
\DoxyCodeLine{01998       controlLay-\/>setSpacing(10);}
\DoxyCodeLine{01999       \{}
\DoxyCodeLine{02000         QGroupBox* tmplGBox = \textcolor{keyword}{new} QGroupBox(tr(\textcolor{stringliteral}{"{}Template Settings"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{02001 }
\DoxyCodeLine{02002         QGridLayout* tmplLay = \textcolor{keyword}{new} QGridLayout();}
\DoxyCodeLine{02003         tmplLay-\/>setMargin(10);}
\DoxyCodeLine{02004         tmplLay-\/>setHorizontalSpacing(5);}
\DoxyCodeLine{02005         tmplLay-\/>setVerticalSpacing(10);}
\DoxyCodeLine{02006         \{}
\DoxyCodeLine{02007           tmplLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Template:"{}}), \textcolor{keyword}{this}), 0, 0,}
\DoxyCodeLine{02008                              Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02009           tmplLay-\/>addWidget(m\_templateCombo, 0, 1, 1, 2,}
\DoxyCodeLine{02010                              Qt::AlignLeft | Qt::AlignVCenter);}
\DoxyCodeLine{02011 }
\DoxyCodeLine{02012           tmplLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Line color:"{}}), \textcolor{keyword}{this}), 1, 0,}
\DoxyCodeLine{02013                              Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02014           tmplLay-\/>addWidget(m\_lineColorFld, 1, 1, 1, 2);}
\DoxyCodeLine{02015 }
\DoxyCodeLine{02016           tmplLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Template font:"{}}), \textcolor{keyword}{this}), 2, 0,}
\DoxyCodeLine{02017                              Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02018           tmplLay-\/>addWidget(m\_templateFontCB, 2, 1, 1, 2,}
\DoxyCodeLine{02019                              Qt::AlignLeft | Qt::AlignVCenter);}
\DoxyCodeLine{02020 }
\DoxyCodeLine{02021           tmplLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Logo:"{}}), \textcolor{keyword}{this}), 3, 0,}
\DoxyCodeLine{02022                              Qt::AlignRight | Qt::AlignTop);}
\DoxyCodeLine{02023           tmplLay-\/>addWidget(m\_logoTxtRB, 3, 1);}
\DoxyCodeLine{02024           tmplLay-\/>addWidget(m\_logoTextEdit, 3, 2);}
\DoxyCodeLine{02025           tmplLay-\/>addWidget(m\_logoImgRB, 4, 1);}
\DoxyCodeLine{02026           tmplLay-\/>addWidget(m\_logoImgPathField, 4, 2);}
\DoxyCodeLine{02027 }
\DoxyCodeLine{02028           tmplLay-\/>addWidget(m\_serialFrameNumberCB, 5, 0, 1, 3);}
\DoxyCodeLine{02029         \}}
\DoxyCodeLine{02030         tmplLay-\/>setColumnStretch(2, 1);}
\DoxyCodeLine{02031         tmplGBox-\/>setLayout(tmplLay);}
\DoxyCodeLine{02032         controlLay-\/>addWidget(tmplGBox, 0);}
\DoxyCodeLine{02033 }
\DoxyCodeLine{02034         QGroupBox* exportGBox = \textcolor{keyword}{new} QGroupBox(tr(\textcolor{stringliteral}{"{}Export Settings"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{02035 }
\DoxyCodeLine{02036         QGridLayout* exportLay = \textcolor{keyword}{new} QGridLayout();}
\DoxyCodeLine{02037         exportLay-\/>setMargin(10);}
\DoxyCodeLine{02038         exportLay-\/>setHorizontalSpacing(5);}
\DoxyCodeLine{02039         exportLay-\/>setVerticalSpacing(10);}
\DoxyCodeLine{02040         \{}
\DoxyCodeLine{02041           exportLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Output area:"{}}), \textcolor{keyword}{this}), 0, 0,}
\DoxyCodeLine{02042                                Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02043           exportLay-\/>addWidget(m\_exportAreaCombo, 0, 1);}
\DoxyCodeLine{02044           exportLay-\/>addWidget(m\_pageInfoLbl, 0, 2);}
\DoxyCodeLine{02045 }
\DoxyCodeLine{02046           exportLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Output font:"{}}), \textcolor{keyword}{this}), 1, 0,}
\DoxyCodeLine{02047                                Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02048           exportLay-\/>addWidget(m\_contentsFontCB, 1, 1, 1, 2,}
\DoxyCodeLine{02049                                Qt::AlignLeft | Qt::AlignVCenter);}
\DoxyCodeLine{02050 }
\DoxyCodeLine{02051           exportLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Continuous line:"{}}), \textcolor{keyword}{this}), 2, 0,}
\DoxyCodeLine{02052                                Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02053           exportLay-\/>addWidget(m\_continuousLineCombo, 2, 1, 1, 2,}
\DoxyCodeLine{02054                                Qt::AlignLeft | Qt::AlignVCenter);}
\DoxyCodeLine{02055 }
\DoxyCodeLine{02056           QGridLayout* checksLay = \textcolor{keyword}{new} QGridLayout();}
\DoxyCodeLine{02057           checksLay-\/>setMargin(0);}
\DoxyCodeLine{02058           checksLay-\/>setHorizontalSpacing(10);}
\DoxyCodeLine{02059           checksLay-\/>setVerticalSpacing(10);}
\DoxyCodeLine{02060           \{}
\DoxyCodeLine{02061             checksLay-\/>addWidget(m\_addDateTimeCB, 0, 0);}
\DoxyCodeLine{02062             checksLay-\/>addWidget(m\_addScenePathCB, 0, 1, 1, 2);}
\DoxyCodeLine{02063             checksLay-\/>addWidget(m\_drawSoundCB, 1, 0);}
\DoxyCodeLine{02064             checksLay-\/>addWidget(m\_addSceneNameCB, 1, 1);}
\DoxyCodeLine{02065             checksLay-\/>addWidget(m\_sceneNameEdit, 1, 2,}
\DoxyCodeLine{02066                                  Qt::AlignLeft | Qt::AlignVCenter);}
\DoxyCodeLine{02067             checksLay-\/>addWidget(m\_levelNameOnBottomCB, 2, 0);}
\DoxyCodeLine{02068             checksLay-\/>addWidget(m\_drawDialogueCB, 2, 1);}
\DoxyCodeLine{02069             checksLay-\/>addWidget(m\_dialogueColCombo, 2, 2,}
\DoxyCodeLine{02070                                  Qt::AlignLeft | Qt::AlignVCenter);}
\DoxyCodeLine{02071           \}}
\DoxyCodeLine{02072           checksLay-\/>setColumnStretch(0, 2);}
\DoxyCodeLine{02073           checksLay-\/>setColumnStretch(1, 1);}
\DoxyCodeLine{02074           checksLay-\/>setColumnStretch(2, 1);}
\DoxyCodeLine{02075           exportLay-\/>addLayout(checksLay, 3, 0, 1, 3);}
\DoxyCodeLine{02076 }
\DoxyCodeLine{02077           exportLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Inbetween mark:"{}}), \textcolor{keyword}{this}), 4, 0,}
\DoxyCodeLine{02078                                Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02079           exportLay-\/>addWidget(m\_tick1IdCombo, 4, 1);}
\DoxyCodeLine{02080           exportLay-\/>addWidget(m\_tick1MarkCombo, 4, 2,}
\DoxyCodeLine{02081                                Qt::AlignLeft | Qt::AlignVCenter);}
\DoxyCodeLine{02082           exportLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Reverse sheet mark:"{}}), \textcolor{keyword}{this}), 5,}
\DoxyCodeLine{02083                                0, Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02084           exportLay-\/>addWidget(m\_tick2IdCombo, 5, 1);}
\DoxyCodeLine{02085           exportLay-\/>addWidget(m\_tick2MarkCombo, 5, 2,}
\DoxyCodeLine{02086                                Qt::AlignLeft | Qt::AlignVCenter);}
\DoxyCodeLine{02087           exportLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Keyframe mark:"{}}), \textcolor{keyword}{this}), 6, 0,}
\DoxyCodeLine{02088                                Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02089           exportLay-\/>addWidget(m\_keyIdCombo, 6, 1);}
\DoxyCodeLine{02090 }
\DoxyCodeLine{02091           exportLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Memo:"{}}), \textcolor{keyword}{this}), 7, 0,}
\DoxyCodeLine{02092                                Qt::AlignRight | Qt::AlignTop);}
\DoxyCodeLine{02093           exportLay-\/>addWidget(m\_memoEdit, 7, 1, 1, 2);}
\DoxyCodeLine{02094         \}}
\DoxyCodeLine{02095         exportLay-\/>setColumnStretch(2, 1);}
\DoxyCodeLine{02096         exportGBox-\/>setLayout(exportLay);}
\DoxyCodeLine{02097         controlLay-\/>addWidget(exportGBox, 0);}
\DoxyCodeLine{02098 }
\DoxyCodeLine{02099         controlLay-\/>addStretch(1);}
\DoxyCodeLine{02100       \}}
\DoxyCodeLine{02101       scrollPanel-\/>setLayout(controlLay);}
\DoxyCodeLine{02102       scrollArea-\/>setWidget(scrollPanel);}
\DoxyCodeLine{02103       rightLay-\/>addWidget(scrollArea, 1);}
\DoxyCodeLine{02104 }
\DoxyCodeLine{02105       QGridLayout* saveLay = \textcolor{keyword}{new} QGridLayout();}
\DoxyCodeLine{02106       saveLay-\/>setMargin(15);}
\DoxyCodeLine{02107       saveLay-\/>setHorizontalSpacing(5);}
\DoxyCodeLine{02108       saveLay-\/>setVerticalSpacing(10);}
\DoxyCodeLine{02109       \{}
\DoxyCodeLine{02110         saveLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Save in:"{}}), \textcolor{keyword}{this}), 0, 0,}
\DoxyCodeLine{02111                            Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02112         saveLay-\/>addWidget(m\_pathFld, 0, 1);}
\DoxyCodeLine{02113 }
\DoxyCodeLine{02114         saveLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Name:"{}}), \textcolor{keyword}{this}), 1, 0,}
\DoxyCodeLine{02115                            Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{02116         saveLay-\/>addWidget(m\_fileNameFld, 1, 1,}
\DoxyCodeLine{02117                            Qt::AlignLeft | Qt::AlignVCenter);}
\DoxyCodeLine{02118       \}}
\DoxyCodeLine{02119       rightLay-\/>addLayout(saveLay, 0);}
\DoxyCodeLine{02120 }
\DoxyCodeLine{02121       QHBoxLayout* btnLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{02122       btnLay-\/>setMargin(10);}
\DoxyCodeLine{02123       btnLay-\/>setSpacing(10);}
\DoxyCodeLine{02124       \{}
\DoxyCodeLine{02125         btnLay-\/>addStretch(1);}
\DoxyCodeLine{02126         btnLay-\/>addWidget(exportBtn, 0);}
\DoxyCodeLine{02127         btnLay-\/>addWidget(exportPngBtn, 0);}
\DoxyCodeLine{02128         btnLay-\/>addWidget(cancelBtn, 0);}
\DoxyCodeLine{02129       \}}
\DoxyCodeLine{02130       rightLay-\/>addLayout(btnLay, 0);}
\DoxyCodeLine{02131     \}}
\DoxyCodeLine{02132     mainLay-\/>addLayout(rightLay, 0);}
\DoxyCodeLine{02133   \}}
\DoxyCodeLine{02134   m\_topLayout-\/>addLayout(mainLay, 1);}
\DoxyCodeLine{02135 }
\DoxyCodeLine{02136   loadPresetItems();}
\DoxyCodeLine{02137   loadSettings();}
\DoxyCodeLine{02138 }
\DoxyCodeLine{02139   connect(exportBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(onExport()));}
\DoxyCodeLine{02140   connect(exportPngBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(onExportPNG()));}
\DoxyCodeLine{02141   connect(cancelBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(close()));}
\DoxyCodeLine{02142 }
\DoxyCodeLine{02143   connect(m\_templateCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this}, SLOT(initTemplate()));}
\DoxyCodeLine{02144 }
\DoxyCodeLine{02145   connect(m\_exportAreaCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{02146           SLOT(updatePreview()));}
\DoxyCodeLine{02147   connect(m\_continuousLineCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{02148           SLOT(updatePreview()));}
\DoxyCodeLine{02149   connect(m\_lineColorFld, SIGNAL(colorChanged(\textcolor{keyword}{const} TPixel32\&, \textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{02150           SLOT(updatePreview()));}
\DoxyCodeLine{02151   connect(m\_templateFontCB, SIGNAL(currentFontChanged(\textcolor{keyword}{const} QFont\&)), \textcolor{keyword}{this},}
\DoxyCodeLine{02152           SLOT(updatePreview()));}
\DoxyCodeLine{02153   connect(m\_contentsFontCB, SIGNAL(currentFontChanged(\textcolor{keyword}{const} QFont\&)), \textcolor{keyword}{this},}
\DoxyCodeLine{02154           SLOT(updatePreview()));}
\DoxyCodeLine{02155   connect(m\_addDateTimeCB, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this}, SLOT(updatePreview()));}
\DoxyCodeLine{02156   connect(m\_addScenePathCB, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this}, SLOT(updatePreview()));}
\DoxyCodeLine{02157   connect(m\_drawSoundCB, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this}, SLOT(updatePreview()));}
\DoxyCodeLine{02158   connect(m\_serialFrameNumberCB, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{02159           SLOT(updatePreview()));}
\DoxyCodeLine{02160   connect(m\_levelNameOnBottomCB, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{02161           SLOT(updatePreview()));}
\DoxyCodeLine{02162   connect(m\_drawDialogueCB, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this}, SLOT(updatePreview()));}
\DoxyCodeLine{02163   connect(m\_drawDialogueCB, SIGNAL(clicked(\textcolor{keywordtype}{bool})), m\_dialogueColCombo,}
\DoxyCodeLine{02164           SLOT(setEnabled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{02165   connect(m\_dialogueColCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{02166           SLOT(updatePreview()));}
\DoxyCodeLine{02167   connect(m\_addSceneNameCB, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this}, SLOT(updatePreview()));}
\DoxyCodeLine{02168   connect(m\_addSceneNameCB, SIGNAL(clicked(\textcolor{keywordtype}{bool})), m\_sceneNameEdit,}
\DoxyCodeLine{02169           SLOT(setEnabled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{02170   connect(m\_sceneNameEdit, SIGNAL(editingFinished()), \textcolor{keyword}{this},}
\DoxyCodeLine{02171           SLOT(updatePreview()));}
\DoxyCodeLine{02172   connect(m\_memoEdit, SIGNAL(textChanged()), \textcolor{keyword}{this}, SLOT(updatePreview()));}
\DoxyCodeLine{02173 }
\DoxyCodeLine{02174   connect(m\_logoTxtRB, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this}, SLOT(onLogoModeToggled()));}
\DoxyCodeLine{02175   connect(m\_logoImgRB, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this}, SLOT(onLogoModeToggled()));}
\DoxyCodeLine{02176   connect(m\_logoTextEdit, SIGNAL(editingFinished()), \textcolor{keyword}{this},}
\DoxyCodeLine{02177           SLOT(updatePreview()));}
\DoxyCodeLine{02178   connect(m\_logoImgPathField, SIGNAL(pathChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{02179           SLOT(onLogoImgPathChanged()));}
\DoxyCodeLine{02180   connect(m\_currentPageEdit, SIGNAL(editingFinished()), \textcolor{keyword}{this},}
\DoxyCodeLine{02181           SLOT(updatePreview()));}
\DoxyCodeLine{02182   connect(m\_prev, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this}, SLOT(onPrev()));}
\DoxyCodeLine{02183   connect(m\_next, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this}, SLOT(onNext()));}
\DoxyCodeLine{02184 }
\DoxyCodeLine{02185   connect(m\_tick1IdCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{02186           SLOT(onTickIdComboActivated()));}
\DoxyCodeLine{02187   connect(m\_tick2IdCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{02188           SLOT(onTickIdComboActivated()));}
\DoxyCodeLine{02189   connect(m\_keyIdCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this}, SLOT(updatePreview()));}
\DoxyCodeLine{02190   connect(m\_tick1MarkCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{02191           SLOT(updatePreview()));}
\DoxyCodeLine{02192   connect(m\_tick2MarkCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{02193           SLOT(updatePreview()));}
\DoxyCodeLine{02194 }
\DoxyCodeLine{02195   \textcolor{comment}{// The following lines are "{}translation word book"{} listing the words which may}}
\DoxyCodeLine{02196   \textcolor{comment}{// appear in the template}}
\DoxyCodeLine{02197 }
\DoxyCodeLine{02198   \textcolor{comment}{// info item labels}}
\DoxyCodeLine{02199   QObject::tr(\textcolor{stringliteral}{"{}EPISODE"{}}, \textcolor{stringliteral}{"{}XSheetPDF"{}});}
\DoxyCodeLine{02200   QObject::tr(\textcolor{stringliteral}{"{}SEQ."{}}, \textcolor{stringliteral}{"{}XSheetPDF"{}});}
\DoxyCodeLine{02201   QObject::tr(\textcolor{stringliteral}{"{}SCENE"{}}, \textcolor{stringliteral}{"{}XSheetPDF"{}});}
\DoxyCodeLine{02202   QObject::tr(\textcolor{stringliteral}{"{}TIME"{}}, \textcolor{stringliteral}{"{}XSheetPDF"{}});}
\DoxyCodeLine{02203   QObject::tr(\textcolor{stringliteral}{"{}NAME"{}}, \textcolor{stringliteral}{"{}XSheetPDF"{}});}
\DoxyCodeLine{02204   QObject::tr(\textcolor{stringliteral}{"{}SHEET"{}}, \textcolor{stringliteral}{"{}XSheetPDF"{}});}
\DoxyCodeLine{02205   QObject::tr(\textcolor{stringliteral}{"{}TITLE"{}}, \textcolor{stringliteral}{"{}XSheetPDF"{}});}
\DoxyCodeLine{02206   QObject::tr(\textcolor{stringliteral}{"{}CAMERAMAN"{}}, \textcolor{stringliteral}{"{}XSheetPDF"{}});}
\DoxyCodeLine{02207   \textcolor{comment}{// template name}}
\DoxyCodeLine{02208   tr(\textcolor{stringliteral}{"{}B4 size, 3 seconds sheet"{}});}
\DoxyCodeLine{02209   tr(\textcolor{stringliteral}{"{}B4 size, 6 seconds sheet"{}});}
\DoxyCodeLine{02210   tr(\textcolor{stringliteral}{"{}A3 size, 3 seconds sheet"{}});}
\DoxyCodeLine{02211   tr(\textcolor{stringliteral}{"{}A3 size, 6 seconds sheet"{}});}
\DoxyCodeLine{02212 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_a1934f1fc5873c02d54877a1179087122}\label{class_export_xsheet_pdf_popup_a1934f1fc5873c02d54877a1179087122}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!````~ExportXsheetPdfPopup@{$\sim$ExportXsheetPdfPopup}}
\index{````~ExportXsheetPdfPopup@{$\sim$ExportXsheetPdfPopup}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{$\sim$ExportXsheetPdfPopup()}{~ExportXsheetPdfPopup()}}
{\footnotesize\ttfamily Export\+Xsheet\+Pdf\+Popup\+::$\sim$\+Export\+Xsheet\+Pdf\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02214                                             \{}
\DoxyCodeLine{02215   \textcolor{keywordflow}{if} (m\_currentTmpl) \textcolor{keyword}{delete} m\_currentTmpl;}
\DoxyCodeLine{02216 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_af96b21f7979d2b66947e09c13d8fa8d4}\label{class_export_xsheet_pdf_popup_af96b21f7979d2b66947e09c13d8fa8d4}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!closeEvent@{closeEvent}}
\index{closeEvent@{closeEvent}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{closeEvent()}{closeEvent()}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::close\+Event (\begin{DoxyParamCaption}\item[{QClose\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00332 \{ saveSettings(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_ad2c249ec839f5061a1975f1731dafa36}\label{class_export_xsheet_pdf_popup_ad2c249ec839f5061a1975f1731dafa36}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!initTemplate@{initTemplate}}
\index{initTemplate@{initTemplate}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{initTemplate}{initTemplate}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::init\+Template (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02424                                         \{}
\DoxyCodeLine{02425   \textcolor{keywordflow}{if} (m\_currentTmpl) \{}
\DoxyCodeLine{02426     \textcolor{keyword}{delete} m\_currentTmpl;}
\DoxyCodeLine{02427     m\_currentTmpl = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{02428   \}}
\DoxyCodeLine{02429 }
\DoxyCodeLine{02430   QString tmplPath = m\_templateCombo-\/>currentData().toString();}
\DoxyCodeLine{02431   \textcolor{keywordflow}{if} (tmplPath.isEmpty()) \{}
\DoxyCodeLine{02432     m\_currentTmpl = \textcolor{keyword}{new} \mbox{\hyperlink{class_x_sheet_p_d_f_template___b4__6sec}{XSheetPDFTemplate\_B4\_6sec}}(m\_columns, m\_duration);}
\DoxyCodeLine{02433   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02434     \mbox{\hyperlink{class_x_sheet_p_d_f_template___custom}{XSheetPDFTemplate\_Custom}}* ret =}
\DoxyCodeLine{02435         \textcolor{keyword}{new} \mbox{\hyperlink{class_x_sheet_p_d_f_template___custom}{XSheetPDFTemplate\_Custom}}(tmplPath, m\_columns, m\_duration);}
\DoxyCodeLine{02436 }
\DoxyCodeLine{02437     \textcolor{keywordflow}{if} (ret-\/>isValid())}
\DoxyCodeLine{02438       m\_currentTmpl = ret;}
\DoxyCodeLine{02439     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02440       DVGui::MsgBoxInPopup(}
\DoxyCodeLine{02441           DVGui::CRITICAL,}
\DoxyCodeLine{02442           tr(\textcolor{stringliteral}{"{}The preset file \%1 is not valid."{}}).arg(tmplPath));}
\DoxyCodeLine{02443       \textcolor{keyword}{delete} ret;}
\DoxyCodeLine{02444       m\_currentTmpl = \textcolor{keyword}{new} \mbox{\hyperlink{class_x_sheet_p_d_f_template___b4__6sec}{XSheetPDFTemplate\_B4\_6sec}}(m\_columns, m\_duration);}
\DoxyCodeLine{02445     \}}
\DoxyCodeLine{02446   \}}
\DoxyCodeLine{02447 }
\DoxyCodeLine{02448   \textcolor{keywordflow}{if} (!m\_soundColumns.isEmpty()) m\_currentTmpl-\/>setSoundColumns(m\_soundColumns);}
\DoxyCodeLine{02449 }
\DoxyCodeLine{02450   updatePreview();}
\DoxyCodeLine{02451 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_a696933bcbfd6904ef514f9b7f70c5397}\label{class_export_xsheet_pdf_popup_a696933bcbfd6904ef514f9b7f70c5397}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!onExport@{onExport}}
\index{onExport@{onExport}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{onExport}{onExport}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::on\+Export (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02565                                     \{}
\DoxyCodeLine{02566   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}}* scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{02567 }
\DoxyCodeLine{02568   \textcolor{keywordflow}{if} (m\_fileNameFld-\/>text().isEmpty()) \{}
\DoxyCodeLine{02569     DVGui::MsgBoxInPopup(DVGui::WARNING, tr(\textcolor{stringliteral}{"{}Please specify the file name."{}}));}
\DoxyCodeLine{02570     \textcolor{keywordflow}{return};}
\DoxyCodeLine{02571   \}}
\DoxyCodeLine{02572 }
\DoxyCodeLine{02573   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(m\_pathFld-\/>getPath());}
\DoxyCodeLine{02574   fp += m\_fileNameFld-\/>text().toStdString() + \textcolor{stringliteral}{"{}.pdf"{}};}
\DoxyCodeLine{02575   fp = scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(fp);}
\DoxyCodeLine{02576 }
\DoxyCodeLine{02577   \textcolor{keywordflow}{if} (TSystem::doesExistFileOrLevel(fp)) \{}
\DoxyCodeLine{02578     QString question =}
\DoxyCodeLine{02579         tr(\textcolor{stringliteral}{"{}The file \%1 already exists.\(\backslash\)nDo you want to overwrite it?"{}})}
\DoxyCodeLine{02580             .arg(fp.getQString());}
\DoxyCodeLine{02581     \textcolor{keywordtype}{int} ret =}
\DoxyCodeLine{02582         DVGui::MsgBox(question, QObject::tr(\textcolor{stringliteral}{"{}Overwrite"{}}), QObject::tr(\textcolor{stringliteral}{"{}Cancel"{}}));}
\DoxyCodeLine{02583     \textcolor{keywordflow}{if} (ret == 0 || ret == 2) \{}
\DoxyCodeLine{02584       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02585     \}}
\DoxyCodeLine{02586   \}}
\DoxyCodeLine{02587   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp.getParentDir()).doesExist()) \{}
\DoxyCodeLine{02588     QString question =}
\DoxyCodeLine{02589         tr(\textcolor{stringliteral}{"{}A folder \%1 does not exist.\(\backslash\)nDo you want to create it?"{}})}
\DoxyCodeLine{02590             .arg(fp.getParentDir().getQString());}
\DoxyCodeLine{02591     \textcolor{keywordtype}{int} ret = DVGui::MsgBox(question, QObject::tr(\textcolor{stringliteral}{"{}Create folder"{}}),}
\DoxyCodeLine{02592                             QObject::tr(\textcolor{stringliteral}{"{}Cancel"{}}));}
\DoxyCodeLine{02593     \textcolor{keywordflow}{if} (ret == 0 || ret == 2) \{}
\DoxyCodeLine{02594       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02595     \}}
\DoxyCodeLine{02596 }
\DoxyCodeLine{02597     \textcolor{keywordflow}{if} (!TSystem::touchParentDir(fp)) \{}
\DoxyCodeLine{02598       DVGui::MsgBoxInPopup(DVGui::CRITICAL,}
\DoxyCodeLine{02599                            tr(\textcolor{stringliteral}{"{}Failed to create folder \%1."{}})}
\DoxyCodeLine{02600                                .arg(fp.getParentDir().getQString()));}
\DoxyCodeLine{02601       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02602     \}}
\DoxyCodeLine{02603   \}}
\DoxyCodeLine{02604 }
\DoxyCodeLine{02605   QFile pdfFile(fp.getQString());}
\DoxyCodeLine{02606 }
\DoxyCodeLine{02607   pdfFile.open(QIODevice::WriteOnly);}
\DoxyCodeLine{02608   QPdfWriter writer(\&pdfFile);}
\DoxyCodeLine{02609 }
\DoxyCodeLine{02610   initTemplate();}
\DoxyCodeLine{02611   setInfo();}
\DoxyCodeLine{02612 }
\DoxyCodeLine{02613   m\_currentTmpl-\/>initializePage(writer);}
\DoxyCodeLine{02614   QPainter painter(\&writer);}
\DoxyCodeLine{02615 }
\DoxyCodeLine{02616   \textcolor{keywordtype}{int} framePageCount    = m\_currentTmpl-\/>framePageCount();}
\DoxyCodeLine{02617   \textcolor{keywordtype}{int} parallelPageCount = m\_currentTmpl-\/>parallelPageCount();}
\DoxyCodeLine{02618   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} framePage = 0; framePage < framePageCount; framePage++) \{}
\DoxyCodeLine{02619     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} parallelPage = 0; parallelPage < parallelPageCount;}
\DoxyCodeLine{02620          parallelPage++) \{}
\DoxyCodeLine{02621       m\_currentTmpl-\/>drawXsheetTemplate(painter, framePage);}
\DoxyCodeLine{02622       m\_currentTmpl-\/>drawXsheetContents(painter, framePage, parallelPage);}
\DoxyCodeLine{02623       \textcolor{keywordflow}{if} (framePage != framePageCount -\/ 1 ||}
\DoxyCodeLine{02624           parallelPage != parallelPageCount -\/ 1)}
\DoxyCodeLine{02625         writer.newPage();}
\DoxyCodeLine{02626     \}}
\DoxyCodeLine{02627   \}}
\DoxyCodeLine{02628   painter.end();}
\DoxyCodeLine{02629 }
\DoxyCodeLine{02630   pdfFile.close();}
\DoxyCodeLine{02631 }
\DoxyCodeLine{02632   onExportFinished(fp);}
\DoxyCodeLine{02633 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_a54ba83a4c33e2213769350d61cd6a719}\label{class_export_xsheet_pdf_popup_a54ba83a4c33e2213769350d61cd6a719}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!onExportPNG@{onExportPNG}}
\index{onExportPNG@{onExportPNG}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{onExportPNG}{onExportPNG}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::on\+Export\+PNG (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02635                                        \{}
\DoxyCodeLine{02636   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}}* scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{02637 }
\DoxyCodeLine{02638   \textcolor{keywordflow}{if} (m\_fileNameFld-\/>text().isEmpty()) \{}
\DoxyCodeLine{02639     DVGui::MsgBoxInPopup(DVGui::WARNING, tr(\textcolor{stringliteral}{"{}Please specify the file name."{}}));}
\DoxyCodeLine{02640     \textcolor{keywordflow}{return};}
\DoxyCodeLine{02641   \}}
\DoxyCodeLine{02642 }
\DoxyCodeLine{02643   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(m\_pathFld-\/>getPath());}
\DoxyCodeLine{02644   fp += m\_fileNameFld-\/>text().toStdString() + \textcolor{stringliteral}{"{}..png"{}};}
\DoxyCodeLine{02645   fp = scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(fp);}
\DoxyCodeLine{02646 }
\DoxyCodeLine{02647   \textcolor{keywordflow}{if} (TSystem::doesExistFileOrLevel(fp)) \{}
\DoxyCodeLine{02648     QString question =}
\DoxyCodeLine{02649         tr(\textcolor{stringliteral}{"{}The file \%1 already exists.\(\backslash\)nDo you want to overwrite it?"{}})}
\DoxyCodeLine{02650             .arg(fp.getQString());}
\DoxyCodeLine{02651     \textcolor{keywordtype}{int} ret =}
\DoxyCodeLine{02652         DVGui::MsgBox(question, QObject::tr(\textcolor{stringliteral}{"{}Overwrite"{}}), QObject::tr(\textcolor{stringliteral}{"{}Cancel"{}}));}
\DoxyCodeLine{02653     \textcolor{keywordflow}{if} (ret == 0 || ret == 2) \{}
\DoxyCodeLine{02654       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02655     \}}
\DoxyCodeLine{02656   \}}
\DoxyCodeLine{02657   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp.getParentDir()).doesExist()) \{}
\DoxyCodeLine{02658     QString question =}
\DoxyCodeLine{02659         tr(\textcolor{stringliteral}{"{}A folder \%1 does not exist.\(\backslash\)nDo you want to create it?"{}})}
\DoxyCodeLine{02660             .arg(fp.getParentDir().getQString());}
\DoxyCodeLine{02661     \textcolor{keywordtype}{int} ret = DVGui::MsgBox(question, QObject::tr(\textcolor{stringliteral}{"{}Create folder"{}}),}
\DoxyCodeLine{02662                             QObject::tr(\textcolor{stringliteral}{"{}Cancel"{}}));}
\DoxyCodeLine{02663     \textcolor{keywordflow}{if} (ret == 0 || ret == 2) \{}
\DoxyCodeLine{02664       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02665     \}}
\DoxyCodeLine{02666 }
\DoxyCodeLine{02667     \textcolor{keywordflow}{if} (!TSystem::touchParentDir(fp)) \{}
\DoxyCodeLine{02668       DVGui::MsgBoxInPopup(DVGui::CRITICAL,}
\DoxyCodeLine{02669                            tr(\textcolor{stringliteral}{"{}Failed to create folder \%1."{}})}
\DoxyCodeLine{02670                                .arg(fp.getParentDir().getQString()));}
\DoxyCodeLine{02671       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02672     \}}
\DoxyCodeLine{02673   \}}
\DoxyCodeLine{02674 }
\DoxyCodeLine{02675   initTemplate();}
\DoxyCodeLine{02676   setInfo();}
\DoxyCodeLine{02677   QPixmap tmplPm = m\_currentTmpl-\/>initializePreview();}
\DoxyCodeLine{02678 }
\DoxyCodeLine{02679   \textcolor{keywordtype}{int} framePageCount    = m\_currentTmpl-\/>framePageCount();}
\DoxyCodeLine{02680   \textcolor{keywordtype}{int} parallelPageCount = m\_currentTmpl-\/>parallelPageCount();}
\DoxyCodeLine{02681   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} framePage = 0; framePage < framePageCount; framePage++) \{}
\DoxyCodeLine{02682     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} parallelPage = 0; parallelPage < parallelPageCount;}
\DoxyCodeLine{02683          parallelPage++) \{}
\DoxyCodeLine{02684       QPixmap pm(tmplPm);}
\DoxyCodeLine{02685       QPainter painter(\&pm);}
\DoxyCodeLine{02686       m\_currentTmpl-\/>drawXsheetTemplate(painter, framePage, \textcolor{keyword}{true});}
\DoxyCodeLine{02687       m\_currentTmpl-\/>drawXsheetContents(painter, framePage, parallelPage, \textcolor{keyword}{true});}
\DoxyCodeLine{02688       painter.end();}
\DoxyCodeLine{02689 }
\DoxyCodeLine{02690       \textcolor{keywordflow}{if} (parallelPageCount == 1) \{}
\DoxyCodeLine{02691         pm.save(fp.withFrame(framePage + 1).getQString());}
\DoxyCodeLine{02692       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02693         pm.save(fp.withFrame(framePage + 1, \textcolor{charliteral}{'a'} + parallelPage).getQString());}
\DoxyCodeLine{02694       \}}
\DoxyCodeLine{02695     \}}
\DoxyCodeLine{02696   \}}
\DoxyCodeLine{02697 }
\DoxyCodeLine{02698   onExportFinished(fp);}
\DoxyCodeLine{02699 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_a470dbc6c55f1874ae4ae2c5330a54f0d}\label{class_export_xsheet_pdf_popup_a470dbc6c55f1874ae4ae2c5330a54f0d}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!onLogoImgPathChanged@{onLogoImgPathChanged}}
\index{onLogoImgPathChanged@{onLogoImgPathChanged}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{onLogoImgPathChanged}{onLogoImgPathChanged}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::on\+Logo\+Img\+Path\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02725                                                 \{}
\DoxyCodeLine{02726   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(m\_logoImgPathField-\/>getPath());}
\DoxyCodeLine{02727   \textcolor{keywordflow}{if} (fp.isLevelName()) \{}
\DoxyCodeLine{02728     \mbox{\hyperlink{class_toonz_scene}{ToonzScene}}* scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{02729     \mbox{\hyperlink{class_t_level_reader_p}{TLevelReaderP}} lr(scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(fp));}
\DoxyCodeLine{02730     \mbox{\hyperlink{class_t_level_p}{TLevelP}} level;}
\DoxyCodeLine{02731     \textcolor{keywordflow}{if} (lr) level = lr-\/>loadInfo();}
\DoxyCodeLine{02732     \textcolor{keywordflow}{if} (level.getPointer() \&\& level-\/>getTable()-\/>size() > 0) \{}
\DoxyCodeLine{02733       \mbox{\hyperlink{class_t_frame_id}{TFrameId}} firstFrame = level-\/>begin()-\/>first;}
\DoxyCodeLine{02734       fp                  = fp.withFrame(firstFrame);}
\DoxyCodeLine{02735       m\_logoImgPathField-\/>setPath(fp.getQString());}
\DoxyCodeLine{02736     \}}
\DoxyCodeLine{02737   \}}
\DoxyCodeLine{02738   updatePreview();}
\DoxyCodeLine{02739 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_a6d3d9b5c12e2ce2760b3b1e4bb559bdf}\label{class_export_xsheet_pdf_popup_a6d3d9b5c12e2ce2760b3b1e4bb559bdf}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!onLogoModeToggled@{onLogoModeToggled}}
\index{onLogoModeToggled@{onLogoModeToggled}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{onLogoModeToggled}{onLogoModeToggled}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::on\+Logo\+Mode\+Toggled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02719                                              \{}
\DoxyCodeLine{02720   m\_logoTextEdit-\/>setEnabled(m\_logoTxtRB-\/>isChecked());}
\DoxyCodeLine{02721   m\_logoImgPathField-\/>setEnabled(m\_logoImgRB-\/>isChecked());}
\DoxyCodeLine{02722   updatePreview();}
\DoxyCodeLine{02723 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_a118281151a428a8e1b8d9bc4d75cb866}\label{class_export_xsheet_pdf_popup_a118281151a428a8e1b8d9bc4d75cb866}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!onNext@{onNext}}
\index{onNext@{onNext}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{onNext}{onNext}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::on\+Next (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02752                                   \{}
\DoxyCodeLine{02753   \textcolor{keywordtype}{int} current = m\_currentPageEdit-\/>text().toInt();}
\DoxyCodeLine{02754   assert(current < m\_totalPageCount);}
\DoxyCodeLine{02755   current += 1;}
\DoxyCodeLine{02756   m\_currentPageEdit-\/>setText(QString::number(current));}
\DoxyCodeLine{02757 }
\DoxyCodeLine{02758   m\_prev-\/>setDisabled(current == 1);}
\DoxyCodeLine{02759   m\_next-\/>setDisabled(current == m\_totalPageCount);}
\DoxyCodeLine{02760   updatePreview();}
\DoxyCodeLine{02761 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_a0113475d972b6886c7b946ecb3654588}\label{class_export_xsheet_pdf_popup_a0113475d972b6886c7b946ecb3654588}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!onPrev@{onPrev}}
\index{onPrev@{onPrev}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{onPrev}{onPrev}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::on\+Prev (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02741                                   \{}
\DoxyCodeLine{02742   \textcolor{keywordtype}{int} current = m\_currentPageEdit-\/>text().toInt();}
\DoxyCodeLine{02743   assert(current > 1);}
\DoxyCodeLine{02744   current -\/= 1;}
\DoxyCodeLine{02745   m\_currentPageEdit-\/>setText(QString::number(current));}
\DoxyCodeLine{02746 }
\DoxyCodeLine{02747   m\_prev-\/>setDisabled(current == 1);}
\DoxyCodeLine{02748   m\_next-\/>setDisabled(current == m\_totalPageCount);}
\DoxyCodeLine{02749   updatePreview();}
\DoxyCodeLine{02750 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_a58b874d451770b515dfa2b8904211b47}\label{class_export_xsheet_pdf_popup_a58b874d451770b515dfa2b8904211b47}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!onTickIdComboActivated@{onTickIdComboActivated}}
\index{onTickIdComboActivated@{onTickIdComboActivated}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{onTickIdComboActivated}{onTickIdComboActivated}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::on\+Tick\+Id\+Combo\+Activated (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02763                                                   \{}
\DoxyCodeLine{02764   QComboBox* combo = qobject\_cast<QComboBox*>(sender());}
\DoxyCodeLine{02765   \textcolor{keywordflow}{if} (combo == m\_tick1IdCombo)}
\DoxyCodeLine{02766     m\_tick1MarkCombo-\/>setEnabled(m\_tick1IdCombo-\/>currentData().toInt() != -\/1);}
\DoxyCodeLine{02767   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (combo == m\_tick2IdCombo)}
\DoxyCodeLine{02768     m\_tick2MarkCombo-\/>setEnabled(m\_tick2IdCombo-\/>currentData().toInt() != -\/1);}
\DoxyCodeLine{02769   updatePreview();}
\DoxyCodeLine{02770 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_adfa704678670161f7fa5c380d8592bf4}\label{class_export_xsheet_pdf_popup_adfa704678670161f7fa5c380d8592bf4}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!setInfo@{setInfo}}
\index{setInfo@{setInfo}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{setInfo}{setInfo}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::set\+Info (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02453                                    \{}
\DoxyCodeLine{02454   \mbox{\hyperlink{struct_x_sheet_p_d_f_format_info}{XSheetPDFFormatInfo}} info;}
\DoxyCodeLine{02455 }
\DoxyCodeLine{02456   TPixel32 col   = m\_lineColorFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_color_field_a6955ee5be0a395075590a99bc9262fe1}{getColor}}();}
\DoxyCodeLine{02457   info.lineColor = QColor(col.r, col.g, col.b);}
\DoxyCodeLine{02458   info.dateTimeText =}
\DoxyCodeLine{02459       (m\_addDateTimeCB-\/>isChecked())}
\DoxyCodeLine{02460           ? QDateTime::currentDateTime().toString(Qt::DefaultLocaleLongDate)}
\DoxyCodeLine{02461           : \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{02462   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}}* scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{02463   info.scenePathText =}
\DoxyCodeLine{02464       (m\_addScenePathCB-\/>isEnabled() \&\& m\_addScenePathCB-\/>isChecked())}
\DoxyCodeLine{02465           ? scene-\/>\mbox{\hyperlink{class_toonz_scene_ad42b52b671b094f66e003c4b7ebefd45}{getScenePath}}().getQString()}
\DoxyCodeLine{02466           : \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{02467   info.sceneNameText =}
\DoxyCodeLine{02468       (m\_addSceneNameCB-\/>isChecked()) ? m\_sceneNameEdit-\/>text() : \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{02469 }
\DoxyCodeLine{02470   info.exportArea = (ExportArea)(m\_exportAreaCombo-\/>currentData().toInt());}
\DoxyCodeLine{02471   info.continuousLineMode =}
\DoxyCodeLine{02472       (ContinuousLineMode)(m\_continuousLineCombo-\/>currentData().toInt());}
\DoxyCodeLine{02473   info.templateFontFamily = m\_templateFontCB-\/>currentFont().family();}
\DoxyCodeLine{02474   info.contentsFontFamily = m\_contentsFontCB-\/>currentFont().family();}
\DoxyCodeLine{02475   info.memoText           = m\_memoEdit-\/>toPlainText();}
\DoxyCodeLine{02476 }
\DoxyCodeLine{02477   info.logoText  = (m\_logoTxtRB-\/>isChecked()) ? m\_logoTextEdit-\/>text() : \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{02478   info.drawSound = m\_drawSoundCB-\/>isEnabled() \&\& m\_drawSoundCB-\/>isChecked();}
\DoxyCodeLine{02479   info.serialFrameNumber     = m\_serialFrameNumberCB-\/>isChecked();}
\DoxyCodeLine{02480   info.drawLevelNameOnBottom = m\_levelNameOnBottomCB-\/>isChecked();}
\DoxyCodeLine{02481 }
\DoxyCodeLine{02482   info.tick1MarkId   = m\_tick1IdCombo-\/>currentData().toInt();}
\DoxyCodeLine{02483   info.tick2MarkId   = m\_tick2IdCombo-\/>currentData().toInt();}
\DoxyCodeLine{02484   info.keyMarkId     = m\_keyIdCombo-\/>currentData().toInt();}
\DoxyCodeLine{02485   info.tick1MarkType = (TickMarkType)(m\_tick1MarkCombo-\/>currentData().toInt());}
\DoxyCodeLine{02486   info.tick2MarkType = (TickMarkType)(m\_tick2MarkCombo-\/>currentData().toInt());}
\DoxyCodeLine{02487 }
\DoxyCodeLine{02488   m\_currentTmpl-\/>setInfo(info);}
\DoxyCodeLine{02489 }
\DoxyCodeLine{02490   \textcolor{keywordflow}{if} (m\_drawDialogueCB-\/>isChecked() \&\& m\_drawDialogueCB-\/>isEnabled())}
\DoxyCodeLine{02491     m\_currentTmpl-\/>setNoteColumn(m\_noteColumns.value(}
\DoxyCodeLine{02492         m\_dialogueColCombo-\/>currentData().toInt(), \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{02493   \textcolor{keywordflow}{else}}
\DoxyCodeLine{02494     m\_currentTmpl-\/>setNoteColumn(\textcolor{keyword}{nullptr});}
\DoxyCodeLine{02495 }
\DoxyCodeLine{02496   \textcolor{keywordflow}{if} (!m\_logoImgRB-\/>isChecked()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02497 }
\DoxyCodeLine{02498   \textcolor{comment}{// prepare logo image}}
\DoxyCodeLine{02499   QSize logoPixSize = m\_currentTmpl-\/>logoPixelSize();}
\DoxyCodeLine{02500   \textcolor{keywordflow}{if} (logoPixSize.isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02501 }
\DoxyCodeLine{02502   \mbox{\hyperlink{class_t_file_path}{TFilePath}} decodedPath =}
\DoxyCodeLine{02503       scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(\mbox{\hyperlink{class_t_file_path}{TFilePath}}(m\_logoImgPathField-\/>getPath()));}
\DoxyCodeLine{02504   QImage img(decodedPath.getQString());}
\DoxyCodeLine{02505   img = img.scaled(logoPixSize, Qt::KeepAspectRatio, Qt::SmoothTransformation);}
\DoxyCodeLine{02506   QImage alphaImg = img;}
\DoxyCodeLine{02507   alphaImg.invertPixels();}
\DoxyCodeLine{02508   img.setAlphaChannel(alphaImg);}
\DoxyCodeLine{02509   QImage logoImg(img.size(), QImage::Format\_ARGB32\_Premultiplied);}
\DoxyCodeLine{02510   logoImg.fill(info.lineColor);}
\DoxyCodeLine{02511   QPainter p(\&logoImg);}
\DoxyCodeLine{02512   p.setCompositionMode(QPainter::CompositionMode\_DestinationIn);}
\DoxyCodeLine{02513   p.drawImage(QPoint(0, 0), img);}
\DoxyCodeLine{02514   p.end();}
\DoxyCodeLine{02515 }
\DoxyCodeLine{02516   m\_currentTmpl-\/>setLogoPixmap(QPixmap::fromImage(logoImg));}
\DoxyCodeLine{02517 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_a6b3016dbd3e73549eb3ff54d91d46d01}\label{class_export_xsheet_pdf_popup_a6b3016dbd3e73549eb3ff54d91d46d01}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!showEvent@{showEvent}}
\index{showEvent@{showEvent}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{showEvent()}{showEvent()}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::show\+Event (\begin{DoxyParamCaption}\item[{QShow\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00331 \{ initialize(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_export_xsheet_pdf_popup_aed599f90975900404682274fbe64914b}\label{class_export_xsheet_pdf_popup_aed599f90975900404682274fbe64914b}} 
\index{ExportXsheetPdfPopup@{ExportXsheetPdfPopup}!updatePreview@{updatePreview}}
\index{updatePreview@{updatePreview}!ExportXsheetPdfPopup@{ExportXsheetPdfPopup}}
\doxysubsubsection{\texorpdfstring{updatePreview}{updatePreview}}
{\footnotesize\ttfamily void Export\+Xsheet\+Pdf\+Popup\+::update\+Preview (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02519                                          \{}
\DoxyCodeLine{02520   setInfo();}
\DoxyCodeLine{02521 }
\DoxyCodeLine{02522   \textcolor{keywordtype}{int} framePageCount    = m\_currentTmpl-\/>framePageCount();}
\DoxyCodeLine{02523   \textcolor{keywordtype}{int} parallelPageCount = m\_currentTmpl-\/>parallelPageCount();}
\DoxyCodeLine{02524   \textcolor{keywordtype}{int} totalPage         = framePageCount * parallelPageCount;}
\DoxyCodeLine{02525 }
\DoxyCodeLine{02526   \textcolor{keywordtype}{int} currentPage = m\_currentPageEdit-\/>text().toInt();}
\DoxyCodeLine{02527   \textcolor{comment}{// if the page count is changed}}
\DoxyCodeLine{02528   \textcolor{keywordflow}{if} (m\_totalPageCount != totalPage) \{}
\DoxyCodeLine{02529     m\_currentPageEdit-\/>setValidator(\textcolor{keyword}{new} QIntValidator(1, totalPage, \textcolor{keyword}{this}));}
\DoxyCodeLine{02530     \textcolor{keywordflow}{if} (m\_totalPageCount > totalPage) \{}
\DoxyCodeLine{02531       m\_currentPageEdit-\/>setText(QString::number(totalPage));}
\DoxyCodeLine{02532       currentPage = totalPage;}
\DoxyCodeLine{02533     \}}
\DoxyCodeLine{02534     m\_totalPageCount = totalPage;}
\DoxyCodeLine{02535 }
\DoxyCodeLine{02536     m\_prev-\/>setDisabled(currentPage == 1);}
\DoxyCodeLine{02537     m\_next-\/>setDisabled(currentPage == totalPage);}
\DoxyCodeLine{02538   \}}
\DoxyCodeLine{02539   m\_serialFrameNumberCB-\/>setDisabled(framePageCount == 1);}
\DoxyCodeLine{02540   m\_levelNameOnBottomCB-\/>setEnabled(m\_duration > 36);}
\DoxyCodeLine{02541 }
\DoxyCodeLine{02542   \textcolor{keywordtype}{int} fPage = (currentPage -\/ 1) / parallelPageCount;}
\DoxyCodeLine{02543   \textcolor{keywordtype}{int} pPage = (currentPage -\/ 1) \% parallelPageCount;}
\DoxyCodeLine{02544 }
\DoxyCodeLine{02545   QPixmap pm = m\_currentTmpl-\/>initializePreview();}
\DoxyCodeLine{02546   QPainter painter(\&pm);}
\DoxyCodeLine{02547   m\_currentTmpl-\/>drawXsheetTemplate(painter, fPage, \textcolor{keyword}{true});}
\DoxyCodeLine{02548   m\_currentTmpl-\/>drawXsheetContents(painter, fPage, pPage, \textcolor{keyword}{true});}
\DoxyCodeLine{02549   m\_previewPane-\/>setPixmap(pm);}
\DoxyCodeLine{02550 }
\DoxyCodeLine{02551   QColor infoColor;}
\DoxyCodeLine{02552   \textcolor{keywordflow}{if} (parallelPageCount == 1) \{}
\DoxyCodeLine{02553     m\_pageInfoLbl-\/>setText(tr(\textcolor{stringliteral}{"{}\%n page(s)"{}}, \textcolor{stringliteral}{"{}"{}}, framePageCount));}
\DoxyCodeLine{02554     infoColor = QColor(Qt::green);}
\DoxyCodeLine{02555   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02556     m\_pageInfoLbl-\/>setText(}
\DoxyCodeLine{02557         tr(\textcolor{stringliteral}{"{}\%1 x \%2 pages"{}}).arg(framePageCount).arg(parallelPageCount));}
\DoxyCodeLine{02558     infoColor = QColor(Qt::yellow);}
\DoxyCodeLine{02559   \}}
\DoxyCodeLine{02560   m\_pageInfoLbl-\/>setStyleSheet(QString(\textcolor{stringliteral}{"{}QLabel\{color: \%1;\}\(\backslash\)}}
\DoxyCodeLine{02561 \textcolor{stringliteral}{                                          QLabel QWidget\{ color: black;\}"{}})}
\DoxyCodeLine{02562                                    .arg(infoColor.name()));}
\DoxyCodeLine{02563 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/exportxsheetpdf.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/exportxsheetpdf.\+cpp\end{DoxyCompactItemize}
