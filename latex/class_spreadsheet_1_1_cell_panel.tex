\hypertarget{class_spreadsheet_1_1_cell_panel}{}\doxysection{Spreadsheet\+::Cell\+Panel Class Reference}
\label{class_spreadsheet_1_1_cell_panel}\index{Spreadsheet::CellPanel@{Spreadsheet::CellPanel}}
Inheritance diagram for Spreadsheet\+::Cell\+Panel\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_spreadsheet_1_1_cell_panel}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_spreadsheet_1_1_cell_panel_ac0607648aeac0120b421c4f6005dbc59}{Cell\+Panel}} (\mbox{\hyperlink{class_spreadsheet_viewer}{Spreadsheet\+Viewer}} $\ast$viewer)
\item 
\mbox{\hyperlink{class_spreadsheet_1_1_drag_tool}{Drag\+Tool}} $\ast$ \mbox{\hyperlink{class_spreadsheet_1_1_cell_panel_a289eb377bcf67f8b422051b42661204c}{create\+Drag\+Tool}} (QMouse\+Event $\ast$) override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_spreadsheet_1_1_cell_panel_ab662ab3965635cb37e2f254357c81ddf}{paint\+Event}} (QPaint\+Event $\ast$) override
\item 
virtual void \mbox{\hyperlink{class_spreadsheet_1_1_cell_panel_ad2bd50dd61dd8701c73c76354b4318b4}{draw\+Cells}} (QPainter \&p, int r0, int c0, int r1, int c1)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_spreadsheet_1_1_cell_panel_ac0607648aeac0120b421c4f6005dbc59}\label{class_spreadsheet_1_1_cell_panel_ac0607648aeac0120b421c4f6005dbc59}} 
\index{Spreadsheet::CellPanel@{Spreadsheet::CellPanel}!CellPanel@{CellPanel}}
\index{CellPanel@{CellPanel}!Spreadsheet::CellPanel@{Spreadsheet::CellPanel}}
\doxysubsubsection{\texorpdfstring{CellPanel()}{CellPanel()}}
{\footnotesize\ttfamily Spreadsheet\+::\+Cell\+Panel\+::\+Cell\+Panel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_spreadsheet_viewer}{Spreadsheet\+Viewer}} $\ast$}]{viewer }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00442 : GenericPanel(viewer) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_spreadsheet_1_1_cell_panel_a9e5276b69c2fb7b3289b18dd6e2b9964}\label{class_spreadsheet_1_1_cell_panel_a9e5276b69c2fb7b3289b18dd6e2b9964}} 
\index{Spreadsheet::CellPanel@{Spreadsheet::CellPanel}!````~CellPanel@{$\sim$CellPanel}}
\index{````~CellPanel@{$\sim$CellPanel}!Spreadsheet::CellPanel@{Spreadsheet::CellPanel}}
\doxysubsubsection{\texorpdfstring{$\sim$CellPanel()}{~CellPanel()}}
{\footnotesize\ttfamily virtual Spreadsheet\+::\+Cell\+Panel\+::$\sim$\+Cell\+Panel (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00216 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_spreadsheet_1_1_cell_panel_a289eb377bcf67f8b422051b42661204c}\label{class_spreadsheet_1_1_cell_panel_a289eb377bcf67f8b422051b42661204c}} 
\index{Spreadsheet::CellPanel@{Spreadsheet::CellPanel}!createDragTool@{createDragTool}}
\index{createDragTool@{createDragTool}!Spreadsheet::CellPanel@{Spreadsheet::CellPanel}}
\doxysubsubsection{\texorpdfstring{createDragTool()}{createDragTool()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_spreadsheet_1_1_drag_tool}{Drag\+Tool}} $\ast$ Spreadsheet\+::\+Cell\+Panel\+::create\+Drag\+Tool (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_spreadsheet_1_1_generic_panel}{Spreadsheet\+::\+Generic\+Panel}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00444                                                  \{}
\DoxyCodeLine{00445   \textcolor{comment}{// FunctionSheetCellViewer::createDragTool is called instead}}
\DoxyCodeLine{00446   \textcolor{comment}{// when clicking on the CellPanel in NumericalColumns}}
\DoxyCodeLine{00447   \textcolor{keywordflow}{return} \textcolor{keyword}{new} SelectionDragTool(getViewer());}
\DoxyCodeLine{00448 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_spreadsheet_1_1_cell_panel_ad2bd50dd61dd8701c73c76354b4318b4}\label{class_spreadsheet_1_1_cell_panel_ad2bd50dd61dd8701c73c76354b4318b4}} 
\index{Spreadsheet::CellPanel@{Spreadsheet::CellPanel}!drawCells@{drawCells}}
\index{drawCells@{drawCells}!Spreadsheet::CellPanel@{Spreadsheet::CellPanel}}
\doxysubsubsection{\texorpdfstring{drawCells()}{drawCells()}}
{\footnotesize\ttfamily virtual void Spreadsheet\+::\+Cell\+Panel\+::draw\+Cells (\begin{DoxyParamCaption}\item[{QPainter \&}]{p,  }\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00222 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_spreadsheet_1_1_cell_panel_ab662ab3965635cb37e2f254357c81ddf}\label{class_spreadsheet_1_1_cell_panel_ab662ab3965635cb37e2f254357c81ddf}} 
\index{Spreadsheet::CellPanel@{Spreadsheet::CellPanel}!paintEvent@{paintEvent}}
\index{paintEvent@{paintEvent}!Spreadsheet::CellPanel@{Spreadsheet::CellPanel}}
\doxysubsubsection{\texorpdfstring{paintEvent()}{paintEvent()}}
{\footnotesize\ttfamily void Spreadsheet\+::\+Cell\+Panel\+::paint\+Event (\begin{DoxyParamCaption}\item[{QPaint\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00450                                          \{}
\DoxyCodeLine{00451   QPainter painter(\textcolor{keyword}{this});}
\DoxyCodeLine{00452 }
\DoxyCodeLine{00453   QRect toBeUpdated = e-\/>rect();}
\DoxyCodeLine{00454   painter.setClipRect(toBeUpdated);}
\DoxyCodeLine{00455 }
\DoxyCodeLine{00456   \textcolor{keywordtype}{int} x0 = toBeUpdated.left() -\/ 1;}
\DoxyCodeLine{00457   \textcolor{keywordtype}{int} y0 = toBeUpdated.top();}
\DoxyCodeLine{00458   \textcolor{keywordtype}{int} x1 = toBeUpdated.right(), y1 = toBeUpdated.bottom();}
\DoxyCodeLine{00459 }
\DoxyCodeLine{00460   QRect alteredRect(QPoint(x0, y0), QPoint(x1, y1));}
\DoxyCodeLine{00461   \mbox{\hyperlink{class_cell_range}{CellRange}} cellRange = getViewer()-\/>xyRectToRange(alteredRect);}
\DoxyCodeLine{00462   \textcolor{comment}{// visible rows range}}
\DoxyCodeLine{00463   \textcolor{keywordtype}{int} r0 = cellRange.from().frame();}
\DoxyCodeLine{00464   \textcolor{keywordtype}{int} r1 = cellRange.to().frame();}
\DoxyCodeLine{00465 }
\DoxyCodeLine{00466   \textcolor{comment}{// visible columns range}}
\DoxyCodeLine{00467   \textcolor{keywordtype}{int} c0 = cellRange.from().layer();}
\DoxyCodeLine{00468   \textcolor{keywordtype}{int} c1 = cellRange.to().layer();}
\DoxyCodeLine{00469 }
\DoxyCodeLine{00470   \textcolor{comment}{// cambia colore alle celle prima di rowCount()}}
\DoxyCodeLine{00471   \textcolor{keywordtype}{int} rowCount = getViewer()-\/>getRowCount();}
\DoxyCodeLine{00472 }
\DoxyCodeLine{00473   \textcolor{comment}{// fill with bg color}}
\DoxyCodeLine{00474   painter.fillRect(toBeUpdated, getViewer()-\/>getLightLightBGColor());}
\DoxyCodeLine{00475 }
\DoxyCodeLine{00476   \textcolor{comment}{// scene range bg}}
\DoxyCodeLine{00477   \textcolor{keywordtype}{int} yLast = getViewer()-\/>rowToY(rowCount);}
\DoxyCodeLine{00478   \textcolor{keywordflow}{if} (yLast < y1)}
\DoxyCodeLine{00479     painter.fillRect(x0, y0, x1 -\/ x0, yLast -\/ y0, getViewer()-\/>getBGColor());}
\DoxyCodeLine{00480   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00481     painter.fillRect(toBeUpdated, getViewer()-\/>getBGColor());}
\DoxyCodeLine{00482 }
\DoxyCodeLine{00483   \textcolor{comment}{// draw cells}}
\DoxyCodeLine{00484   drawCells(painter, r0, c0, r1, c1);}
\DoxyCodeLine{00485 }
\DoxyCodeLine{00486   \textcolor{comment}{// draw columns}}
\DoxyCodeLine{00487   painter.setPen(getViewer()-\/>getVerticalLineColor());}
\DoxyCodeLine{00488   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} col = c0; col <= c1; col++) \{}
\DoxyCodeLine{00489     \textcolor{keywordtype}{int} x = getViewer()-\/>columnToX(col);}
\DoxyCodeLine{00490     painter.drawLine(x, y0, x, y1);}
\DoxyCodeLine{00491   \}}
\DoxyCodeLine{00492 }
\DoxyCodeLine{00493   \textcolor{comment}{// draw rows}}
\DoxyCodeLine{00494   \textcolor{keywordtype}{int} currentRow = getViewer()-\/>getCurrentRow();}
\DoxyCodeLine{00495   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r = r0; r <= r1; r++) \{}
\DoxyCodeLine{00496     \textcolor{keywordtype}{int} y        = getViewer()-\/>rowToY(r);}
\DoxyCodeLine{00497     QColor color = getViewer()-\/>isMarkRow(r) ? getViewer()-\/>getMarkerLineColor()}
\DoxyCodeLine{00498                                              : getViewer()-\/>getLightLineColor();}
\DoxyCodeLine{00499     painter.setPen(color);}
\DoxyCodeLine{00500     painter.drawLine(x0, y, x1, y);}
\DoxyCodeLine{00501   \}}
\DoxyCodeLine{00502   \textcolor{comment}{// erase the marker interval at upper-\/end}}
\DoxyCodeLine{00503   painter.setPen(getViewer()-\/>getLightLineColor());}
\DoxyCodeLine{00504   painter.drawLine(x0, 0, x1, 0);}
\DoxyCodeLine{00505 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/spreadsheetviewer.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/spreadsheetviewer.\+cpp\end{DoxyCompactItemize}
