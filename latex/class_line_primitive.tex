\hypertarget{class_line_primitive}{}\doxysection{Line\+Primitive Class Reference}
\label{class_line_primitive}\index{LinePrimitive@{LinePrimitive}}
Inheritance diagram for Line\+Primitive\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_line_primitive}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_line_primitive_aa09455bdde26e34054fc8b06f0feabdc}{Line\+Primitive}} (\mbox{\hyperlink{class_primitive_param}{Primitive\+Param}} $\ast$param, \mbox{\hyperlink{class_geometric_tool}{Geometric\+Tool}} $\ast$tool, bool reaster\+Tool)
\item 
std\+::string \mbox{\hyperlink{class_line_primitive_a0f9da2c9f010b8ebd6b831eb6af8bab8}{get\+Name}} () const override
\item 
void \mbox{\hyperlink{class_line_primitive_a53f3949c87ebe7247cc3098c1682c839}{draw}} () override
\item 
void \mbox{\hyperlink{class_line_primitive_adcdca129efede27cc3eb6669271fd29a}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_line_primitive_a358de135b854f41fab0bba63f27ba197}{left\+Button\+Up}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_line_primitive_a63d5872da430de782ac374a892c15bb4}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_line_primitive_ac6844307c30192f72c371a5b3b70befe}{mouse\+Move}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_line_primitive_a308b1258e229c86506b3caa563d3013c}{left\+Button\+Double\+Click}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_line_primitive_aa09455bdde26e34054fc8b06f0feabdc}\label{class_line_primitive_aa09455bdde26e34054fc8b06f0feabdc}} 
\index{LinePrimitive@{LinePrimitive}!LinePrimitive@{LinePrimitive}}
\index{LinePrimitive@{LinePrimitive}!LinePrimitive@{LinePrimitive}}
\doxysubsubsection{\texorpdfstring{LinePrimitive()}{LinePrimitive()}}
{\footnotesize\ttfamily Line\+Primitive\+::\+Line\+Primitive (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_primitive_param}{Primitive\+Param}} $\ast$}]{param,  }\item[{\mbox{\hyperlink{class_geometric_tool}{Geometric\+Tool}} $\ast$}]{tool,  }\item[{bool}]{reaster\+Tool }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00778       : \mbox{\hyperlink{class_multi_line_primitive}{MultiLinePrimitive}}(param, tool, reasterTool) \{}
\DoxyCodeLine{00779     m\_isSingleLine = \textcolor{keyword}{true};}
\DoxyCodeLine{00780   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_line_primitive_a53f3949c87ebe7247cc3098c1682c839}\label{class_line_primitive_a53f3949c87ebe7247cc3098c1682c839}} 
\index{LinePrimitive@{LinePrimitive}!draw@{draw}}
\index{draw@{draw}!LinePrimitive@{LinePrimitive}}
\doxysubsubsection{\texorpdfstring{draw()}{draw()}}
{\footnotesize\ttfamily void Line\+Primitive\+::draw (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_multi_line_primitive}{Multi\+Line\+Primitive}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02237                          \{}
\DoxyCodeLine{02238   UINT size = m\_vertex.size();}
\DoxyCodeLine{02239 }
\DoxyCodeLine{02240   drawSnap();}
\DoxyCodeLine{02241 }
\DoxyCodeLine{02242   tglColor(TPixel32::Red);}
\DoxyCodeLine{02243 }
\DoxyCodeLine{02244   \textcolor{keywordflow}{if} (m\_isEditing || m\_isPrompting) \{}
\DoxyCodeLine{02245     glBegin(GL\_LINE\_STRIP);}
\DoxyCodeLine{02246     tglVertex(m\_vertex[0]);}
\DoxyCodeLine{02247 }
\DoxyCodeLine{02248     tglVertex(m\_mousePosition);}
\DoxyCodeLine{02249     glEnd();}
\DoxyCodeLine{02250   \}}
\DoxyCodeLine{02251 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_line_primitive_a0f9da2c9f010b8ebd6b831eb6af8bab8}\label{class_line_primitive_a0f9da2c9f010b8ebd6b831eb6af8bab8}} 
\index{LinePrimitive@{LinePrimitive}!getName@{getName}}
\index{getName@{getName}!LinePrimitive@{LinePrimitive}}
\doxysubsubsection{\texorpdfstring{getName()}{getName()}}
{\footnotesize\ttfamily std\+::string Line\+Primitive\+::get\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_multi_line_primitive}{Multi\+Line\+Primitive}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00782                                      \{}
\DoxyCodeLine{00783     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}Line"{}};}
\DoxyCodeLine{00784   \}  \textcolor{comment}{// W\_ToolOptions\_ShapePolyline"{};\}}}

\end{DoxyCode}
\mbox{\Hypertarget{class_line_primitive_a308b1258e229c86506b3caa563d3013c}\label{class_line_primitive_a308b1258e229c86506b3caa563d3013c}} 
\index{LinePrimitive@{LinePrimitive}!leftButtonDoubleClick@{leftButtonDoubleClick}}
\index{leftButtonDoubleClick@{leftButtonDoubleClick}!LinePrimitive@{LinePrimitive}}
\doxysubsubsection{\texorpdfstring{leftButtonDoubleClick()}{leftButtonDoubleClick()}}
{\footnotesize\ttfamily void Line\+Primitive\+::left\+Button\+Double\+Click (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_multi_line_primitive}{Multi\+Line\+Primitive}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00791 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_line_primitive_adcdca129efede27cc3eb6669271fd29a}\label{class_line_primitive_adcdca129efede27cc3eb6669271fd29a}} 
\index{LinePrimitive@{LinePrimitive}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!LinePrimitive@{LinePrimitive}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void Line\+Primitive\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_multi_line_primitive}{Multi\+Line\+Primitive}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02263                                                                            \{}
\DoxyCodeLine{02264   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{02265   \textcolor{keywordflow}{if} (!app) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02266 }
\DoxyCodeLine{02267   \textcolor{keywordflow}{if} (app-\/>getCurrentObject()-\/>isSpline()) \{}
\DoxyCodeLine{02268     m\_color     = TPixel32::Red;}
\DoxyCodeLine{02269     m\_isEditing = \textcolor{keyword}{true};}
\DoxyCodeLine{02270   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02271     \textcolor{keyword}{const} \mbox{\hyperlink{class_t_color_style}{TColorStyle}} *style = app-\/>getCurrentLevelStyle();}
\DoxyCodeLine{02272     \textcolor{keywordflow}{if} (style) \{}
\DoxyCodeLine{02273       m\_isEditing = style-\/>\mbox{\hyperlink{class_t_color_style_ad30252c2cfc4e9d5d09b954d74b97b00}{isStrokeStyle}}();}
\DoxyCodeLine{02274       m\_color     = style-\/>\mbox{\hyperlink{class_t_color_style_af5907c6146db5067fcf000edeb8e403b}{getAverageColor}}();}
\DoxyCodeLine{02275     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02276       m\_isEditing = \textcolor{keyword}{false};}
\DoxyCodeLine{02277       m\_color     = TPixel32::Black;}
\DoxyCodeLine{02278     \}}
\DoxyCodeLine{02279   \}}
\DoxyCodeLine{02280 }
\DoxyCodeLine{02281   \textcolor{keywordflow}{if} (!m\_isEditing) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02282 }
\DoxyCodeLine{02283   \mbox{\hyperlink{class_t_point_t}{TPointD}} newPos = getSnap(pos);}
\DoxyCodeLine{02284 }
\DoxyCodeLine{02285   m\_mousePosition = newPos;}
\DoxyCodeLine{02286 }
\DoxyCodeLine{02287   \mbox{\hyperlink{class_t_point_t}{TPointD}} \_pos = newPos;}
\DoxyCodeLine{02288 }
\DoxyCodeLine{02289   \textcolor{keywordflow}{if} (m\_param-\/>m\_pencil.getValue() \&\&}
\DoxyCodeLine{02290       (m\_param-\/>m\_targetType \& \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1}{TTool::ToonzImage}} ||}
\DoxyCodeLine{02291        m\_param-\/>m\_targetType \& \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859}{TTool::RasterImage}})) \{}
\DoxyCodeLine{02292     \textcolor{keywordflow}{if} (m\_param-\/>m\_rasterToolSize.getValue() \% 2 != 0)}
\DoxyCodeLine{02293       \_pos = \mbox{\hyperlink{class_t_point_t}{TPointD}}((\textcolor{keywordtype}{int})newPos.x, (\textcolor{keywordtype}{int})newPos.y);}
\DoxyCodeLine{02294     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02295       \_pos = \mbox{\hyperlink{class_t_point_t}{TPointD}}((\textcolor{keywordtype}{int})newPos.x + 0.5, (\textcolor{keywordtype}{int})newPos.y + 0.5);}
\DoxyCodeLine{02296   \}}
\DoxyCodeLine{02297 }
\DoxyCodeLine{02298   \textcolor{keywordflow}{if} (m\_vertex.size() == 0)}
\DoxyCodeLine{02299     addVertex(\_pos);}
\DoxyCodeLine{02300   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02301     \textcolor{keywordflow}{if} (e.isShiftPressed() \&\& !m\_vertex.empty())}
\DoxyCodeLine{02302       addVertex(rectify(m\_vertex.back(), pos));}
\DoxyCodeLine{02303     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02304       addVertex(\_pos);}
\DoxyCodeLine{02305     endLine();}
\DoxyCodeLine{02306   \}}
\DoxyCodeLine{02307 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_line_primitive_a63d5872da430de782ac374a892c15bb4}\label{class_line_primitive_a63d5872da430de782ac374a892c15bb4}} 
\index{LinePrimitive@{LinePrimitive}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!LinePrimitive@{LinePrimitive}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void Line\+Primitive\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_multi_line_primitive}{Multi\+Line\+Primitive}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02311                                                                            \{}
\DoxyCodeLine{02312   \textcolor{keywordflow}{if} (!m\_isEditing) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02313   \mbox{\hyperlink{class_t_point_t}{TPointD}} newPos = calculateSnap(pos);}
\DoxyCodeLine{02314   newPos         = checkGuideSnapping(pos);}
\DoxyCodeLine{02315 }
\DoxyCodeLine{02316   m\_mousePosition = newPos;}
\DoxyCodeLine{02317 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_line_primitive_a358de135b854f41fab0bba63f27ba197}\label{class_line_primitive_a358de135b854f41fab0bba63f27ba197}} 
\index{LinePrimitive@{LinePrimitive}!leftButtonUp@{leftButtonUp}}
\index{leftButtonUp@{leftButtonUp}!LinePrimitive@{LinePrimitive}}
\doxysubsubsection{\texorpdfstring{leftButtonUp()}{leftButtonUp()}}
{\footnotesize\ttfamily void Line\+Primitive\+::left\+Button\+Up (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_multi_line_primitive}{Multi\+Line\+Primitive}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02320                                                                          \{}
\DoxyCodeLine{02321   \textcolor{comment}{// snapping}}
\DoxyCodeLine{02322   \mbox{\hyperlink{class_t_point_t}{TPointD}} newPos = getSnap(pos);}
\DoxyCodeLine{02323 }
\DoxyCodeLine{02324   m\_mousePosition = newPos;}
\DoxyCodeLine{02325   \textcolor{keywordflow}{if} (e.isShiftPressed() \&\& !m\_vertex.empty())}
\DoxyCodeLine{02326     m\_vertex.push\_back(rectify(m\_vertex.back(), pos));}
\DoxyCodeLine{02327   \textcolor{keywordflow}{else}}
\DoxyCodeLine{02328     m\_vertex.push\_back(newPos);}
\DoxyCodeLine{02329 }
\DoxyCodeLine{02330   endLine();}
\DoxyCodeLine{02331 }
\DoxyCodeLine{02332   resetSnap();}
\DoxyCodeLine{02333 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_line_primitive_ac6844307c30192f72c371a5b3b70befe}\label{class_line_primitive_ac6844307c30192f72c371a5b3b70befe}} 
\index{LinePrimitive@{LinePrimitive}!mouseMove@{mouseMove}}
\index{mouseMove@{mouseMove}!LinePrimitive@{LinePrimitive}}
\doxysubsubsection{\texorpdfstring{mouseMove()}{mouseMove()}}
{\footnotesize\ttfamily void Line\+Primitive\+::mouse\+Move (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_multi_line_primitive}{Multi\+Line\+Primitive}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02255                                                                       \{}
\DoxyCodeLine{02256   \mbox{\hyperlink{class_t_point_t}{TPointD}} newPos = calculateSnap(pos);}
\DoxyCodeLine{02257   newPos         = checkGuideSnapping(pos);}
\DoxyCodeLine{02258   m\_tool-\/>\mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{02259 \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/geometrictool.\+cpp\end{DoxyCompactItemize}
