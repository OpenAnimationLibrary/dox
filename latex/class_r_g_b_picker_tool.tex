\hypertarget{class_r_g_b_picker_tool}{}\doxysection{RGBPicker\+Tool Class Reference}
\label{class_r_g_b_picker_tool}\index{RGBPickerTool@{RGBPickerTool}}
Inheritance diagram for RGBPicker\+Tool\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_r_g_b_picker_tool}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_aff3c60324ed2f93220042871028a7a9b}{set\+Tool\+Options\+Box}} (\mbox{\hyperlink{class_r_g_b_picker_tool_options_box}{RGBPicker\+Tool\+Options\+Box}} $\ast$tool\+Options\+Box)
\item 
\mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296c}{Tool\+Type}} \mbox{\hyperlink{class_r_g_b_picker_tool_a69fe5b22c96bdac90cf4256bb315ee35}{get\+Tool\+Type}} () const override
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a67326d7948894eb29a7d84a4bd6af9cb}{update\+Translation}} () override
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a8e54f6882c12b63ea4b8fffddae06382}{on\+Image\+Changed}} () override
\begin{DoxyCompactList}\small\item\em Notifies changes in the image in use. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a1561a7654bf6c12a32a6d503be19e97e}{draw}} () override
\begin{DoxyCompactList}\small\item\em Draws the tool on the viewer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a44fcabc844e458cc953ef6ea67ee04ba}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a88b381855f69a2827121cb3585437e71}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a224eccf47077c61e3ecaf202e070dcb7}{left\+Button\+Up}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a5db933509bddf29892b134fd4b5a59fd}{left\+Button\+Double\+Click}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_ade202b1f2e7cd2fd7691457db4afde4e}{mouse\+Move}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a0340dd6c561c20b30b003267058e67d4}{pick}} ()
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a5e44782ad324a8c43bc245489c498f90}{pick\+Rect}} ()
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_aa520c1db848350b2f2d7d45cee912ec9}{pick\+Stroke}} ()
\item 
bool \mbox{\hyperlink{class_r_g_b_picker_tool_a46def62f5940eee5d3a2432d196123e5}{on\+Property\+Changed}} (std\+::string property\+Name) override
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a36197c7bc09d42211488ec34b30ae1a7}{on\+Activate}} () override
\begin{DoxyCompactList}\small\item\em Callback invoked whenever the tool activates. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ \mbox{\hyperlink{class_r_g_b_picker_tool_a57af30ff54eeda4faeab1e55695cfa7a}{get\+Properties}} (int target\+Type) override
\item 
int \mbox{\hyperlink{class_r_g_b_picker_tool_a3848986595c6427b76017f0293954cc8}{get\+Cursor\+Id}} () const override
\begin{DoxyCompactList}\small\item\em Returns the type of cursor used by the tool. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a4fd4ff506644c698ff41b5d4b2389bc4}{do\+Polyline\+Freehand\+Pick}} ()
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a933f60caa9555c63d308d6cf1645817a}{passive\+Pick}} ()
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_af88030955d9947af9914d9aa4cdc153f}{start\+Freehand}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&drawing\+Pos, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&working\+Pos)
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_aa32c8ef5bd39f0873532843583b30465}{freehand\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&drawing\+Pos, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&working\+Pos)
\begin{DoxyCompactList}\small\item\em Viene aggiunto {\bfseries{pos}} a {\bfseries{m\+\_\+track}} e disegnato un altro pezzetto del lazzo. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a28fc44a9d449aa655a59e9cc36e5d4bd}{close\+Freehand}} ()
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_acda7fde14dd32c06146d43a54fc2532d}{add\+Point\+Polyline}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&drawing\+Pos, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&working\+Pos)
\begin{DoxyCompactList}\small\item\em Viene aggiunto un punto al vettore m\+\_\+polyline. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a366ee3c09e966a736eafce6791d916c1}{close\+Polyline}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&drawing\+Pos, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&working\+Pos)
\item 
void \mbox{\hyperlink{class_r_g_b_picker_tool_a2264165e47956d20d09cbdd31762dd7f}{show\+Flip\+Picked\+Color}} (const TPixel32 \&pix)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_r_g_b_picker_tool_ac549f275947dde2ad2cef131e0b44bcb}\label{class_r_g_b_picker_tool_ac549f275947dde2ad2cef131e0b44bcb}} 
\index{RGBPickerTool@{RGBPickerTool}!RGBPickerTool@{RGBPickerTool}}
\index{RGBPickerTool@{RGBPickerTool}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{RGBPickerTool()}{RGBPickerTool()}}
{\footnotesize\ttfamily RGBPicker\+Tool\+::\+RGBPicker\+Tool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00191     : \mbox{\hyperlink{class_t_tool_a9c63ec35f606e755d0d036bf4fed62ab}{TTool}}(\textcolor{stringliteral}{"{}T\_RGBPicker"{}})}
\DoxyCodeLine{00192     , m\_currentStyleId(0)}
\DoxyCodeLine{00193     , m\_pickType(\textcolor{stringliteral}{"{}Type:"{}})}
\DoxyCodeLine{00194     , m\_drawingTrack()}
\DoxyCodeLine{00195     , m\_workingTrack()}
\DoxyCodeLine{00196     , m\_firstDrawingPos()}
\DoxyCodeLine{00197     , m\_firstWorkingPos()}
\DoxyCodeLine{00198     , m\_mousePosition()}
\DoxyCodeLine{00199     , m\_thick(0.5)}
\DoxyCodeLine{00200     , m\_stroke(0)}
\DoxyCodeLine{00201     , m\_firstStroke(0)}
\DoxyCodeLine{00202     , m\_makePick(\textcolor{keyword}{false})}
\DoxyCodeLine{00203     , m\_firstTime(\textcolor{keyword}{true})}
\DoxyCodeLine{00204     , m\_passivePick(\textcolor{stringliteral}{"{}Passive Pick"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00205     , m\_toolOptionsBox(0)}
\DoxyCodeLine{00206     , m\_mousePixelPosition() \{}
\DoxyCodeLine{00207   bind(TTool::CommonLevels);}
\DoxyCodeLine{00208   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_pickType);}
\DoxyCodeLine{00209   m\_pickType.addValue(NORMAL\_PICK);}
\DoxyCodeLine{00210   m\_pickType.addValue(RECT\_PICK);}
\DoxyCodeLine{00211   m\_pickType.addValue(FREEHAND\_PICK);}
\DoxyCodeLine{00212   m\_pickType.addValue(POLYLINE\_PICK);}
\DoxyCodeLine{00213   m\_pickType.setId(\textcolor{stringliteral}{"{}Type"{}});}
\DoxyCodeLine{00214 }
\DoxyCodeLine{00215   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_passivePick);}
\DoxyCodeLine{00216   m\_passivePick.setId(\textcolor{stringliteral}{"{}PassivePick"{}});}
\DoxyCodeLine{00217 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_r_g_b_picker_tool_acda7fde14dd32c06146d43a54fc2532d}\label{class_r_g_b_picker_tool_acda7fde14dd32c06146d43a54fc2532d}} 
\index{RGBPickerTool@{RGBPickerTool}!addPointPolyline@{addPointPolyline}}
\index{addPointPolyline@{addPointPolyline}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{addPointPolyline()}{addPointPolyline()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::add\+Point\+Polyline (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{drawing\+Pos,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{working\+Pos }\end{DoxyParamCaption})}



Viene aggiunto un punto al vettore m\+\_\+polyline. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00636                                                                 \{}
\DoxyCodeLine{00637   m\_mousePosition = drawingPos;}
\DoxyCodeLine{00638   \textcolor{comment}{/*-\/-\/-\/drawingPosは中心からの座標 workingPosは画面左下からの座標-\/-\/-\/*/}}
\DoxyCodeLine{00639   m\_drawingPolyline.push\_back(drawingPos);}
\DoxyCodeLine{00640   m\_workingPolyline.push\_back(workingPos);}
\DoxyCodeLine{00641 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a28fc44a9d449aa655a59e9cc36e5d4bd}\label{class_r_g_b_picker_tool_a28fc44a9d449aa655a59e9cc36e5d4bd}} 
\index{RGBPickerTool@{RGBPickerTool}!closeFreehand@{closeFreehand}}
\index{closeFreehand@{closeFreehand}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{closeFreehand()}{closeFreehand()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::close\+Freehand (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Viene chiuso il lazzo (si aggiunge l\textquotesingle{}ultimo punto ad m\+\_\+track) e viene creato lo stroke rappresentante il lazzo. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00615                                   \{}
\DoxyCodeLine{00616 \textcolor{preprocessor}{\#if defined(MACOSX)}}
\DoxyCodeLine{00617 \textcolor{comment}{// getViewer()-\/>enableRedraw(true);}}
\DoxyCodeLine{00618 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00619   \textcolor{keywordflow}{if} (m\_drawingTrack.\mbox{\hyperlink{class_stroke_generator_a85461eab47ef4791610974866efb61aa}{isEmpty}}() || m\_workingTrack.\mbox{\hyperlink{class_stroke_generator_a85461eab47ef4791610974866efb61aa}{isEmpty}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00620   \textcolor{keywordtype}{double} pixelSize2 = getPixelSize() * getPixelSize();}
\DoxyCodeLine{00621   m\_drawingTrack.\mbox{\hyperlink{class_stroke_generator_a6b8f7f919bde3cf7695c9c58980c9ba3}{add}}(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(m\_firstDrawingPos, m\_thick), pixelSize2);}
\DoxyCodeLine{00622   m\_workingTrack.\mbox{\hyperlink{class_stroke_generator_a6b8f7f919bde3cf7695c9c58980c9ba3}{add}}(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(m\_firstWorkingPos, m\_thick), pixelSize2);}
\DoxyCodeLine{00623   m\_workingTrack.\mbox{\hyperlink{class_stroke_generator_a493d7aac12911e5618057115dde42131}{filterPoints}}();}
\DoxyCodeLine{00624   \textcolor{keywordtype}{double} error = (30.0 / 11) * sqrt(pixelSize2);}
\DoxyCodeLine{00625   m\_stroke     = m\_workingTrack.\mbox{\hyperlink{class_stroke_generator_a647b44a77222a0d8b4bc21db2fdb9f93}{makeStroke}}(error);}
\DoxyCodeLine{00626   m\_stroke-\/>\mbox{\hyperlink{class_t_stroke_a33f59dfbed74b577700351eac8c2fc7b}{setStyle}}(1);}
\DoxyCodeLine{00627 }
\DoxyCodeLine{00628   m\_drawingTrack.\mbox{\hyperlink{class_stroke_generator_a4a78460714a37e461296d169715ba460}{clear}}();}
\DoxyCodeLine{00629   m\_workingTrack.\mbox{\hyperlink{class_stroke_generator_a4a78460714a37e461296d169715ba460}{clear}}();}
\DoxyCodeLine{00630 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a366ee3c09e966a736eafce6791d916c1}\label{class_r_g_b_picker_tool_a366ee3c09e966a736eafce6791d916c1}} 
\index{RGBPickerTool@{RGBPickerTool}!closePolyline@{closePolyline}}
\index{closePolyline@{closePolyline}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{closePolyline()}{closePolyline()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::close\+Polyline (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{drawing\+Pos,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{working\+Pos }\end{DoxyParamCaption})}

Agginge l\textquotesingle{}ultimo pos a {\bfseries{m\+\_\+polyline}} e chiude la spezzata (aggiunge {\bfseries{m\+\_\+polyline.\+front()}} alla fine del vettore) 
\begin{DoxyCode}{0}
\DoxyCodeLine{00648                                                              \{}
\DoxyCodeLine{00649   \textcolor{keywordflow}{if} (m\_drawingPolyline.size() <= 1 || m\_workingPolyline.size() <= 1) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00650   \textcolor{keywordflow}{if} (m\_drawingPolyline.back() != drawingPos)}
\DoxyCodeLine{00651     m\_drawingPolyline.push\_back(drawingPos);}
\DoxyCodeLine{00652   \textcolor{keywordflow}{if} (m\_workingPolyline.back() != workingPos)}
\DoxyCodeLine{00653     m\_workingPolyline.push\_back(workingPos);}
\DoxyCodeLine{00654   \textcolor{keywordflow}{if} (m\_drawingPolyline.back() != m\_drawingPolyline.front())}
\DoxyCodeLine{00655     m\_drawingPolyline.push\_back(m\_drawingPolyline.front());}
\DoxyCodeLine{00656   \textcolor{keywordflow}{if} (m\_workingPolyline.back() != m\_workingPolyline.front())}
\DoxyCodeLine{00657     m\_workingPolyline.push\_back(m\_workingPolyline.front());}
\DoxyCodeLine{00658 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a4fd4ff506644c698ff41b5d4b2389bc4}\label{class_r_g_b_picker_tool_a4fd4ff506644c698ff41b5d4b2389bc4}} 
\index{RGBPickerTool@{RGBPickerTool}!doPolylineFreehandPick@{doPolylineFreehandPick}}
\index{doPolylineFreehandPick@{doPolylineFreehandPick}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{doPolylineFreehandPick()}{doPolylineFreehandPick()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::do\+Polyline\+Freehand\+Pick (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00570                                            \{}
\DoxyCodeLine{00571   \textcolor{keywordflow}{if} (m\_stroke \&\& (m\_pickType.getValue() == POLYLINE\_PICK ||}
\DoxyCodeLine{00572                    m\_pickType.getValue() == FREEHAND\_PICK)) \{}
\DoxyCodeLine{00573     pickStroke();}
\DoxyCodeLine{00574     \textcolor{keyword}{delete} m\_stroke;}
\DoxyCodeLine{00575     m\_stroke = 0;}
\DoxyCodeLine{00576   \}}
\DoxyCodeLine{00577 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a1561a7654bf6c12a32a6d503be19e97e}\label{class_r_g_b_picker_tool_a1561a7654bf6c12a32a6d503be19e97e}} 
\index{RGBPickerTool@{RGBPickerTool}!draw@{draw}}
\index{draw@{draw}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{draw()}{draw()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::draw (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Draws the tool on the viewer. 



Reimplemented from \mbox{\hyperlink{class_t_tool_a058bf656d73bf3cd63b9826cbaaf48e0}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00269                          \{}
\DoxyCodeLine{00270   \textcolor{keywordtype}{double} pixelSize2 = getPixelSize() * getPixelSize();}
\DoxyCodeLine{00271   m\_thick           = sqrt(pixelSize2) / 2.0;}
\DoxyCodeLine{00272   \textcolor{keywordflow}{if} (m\_makePick) \{}
\DoxyCodeLine{00273     \textcolor{keywordflow}{if} (m\_currentStyleId != 0) \{}
\DoxyCodeLine{00274       \textcolor{comment}{// Il pick in modalita' polyline e rectangular deve essere fatto soltanto}}
\DoxyCodeLine{00275       \textcolor{comment}{// dopo aver cancellato il}}
\DoxyCodeLine{00276       \textcolor{comment}{//"{}disegno"{} della polyline altrimenti alcuni pixels neri delle spezzate}}
\DoxyCodeLine{00277       \textcolor{comment}{// che la}}
\DoxyCodeLine{00278       \textcolor{comment}{// compongono vengono presi in considerazione nel calcolo del "{}colore}}
\DoxyCodeLine{00279       \textcolor{comment}{// medio"{}}}
\DoxyCodeLine{00280       \textcolor{keywordflow}{if} (m\_pickType.getValue() == POLYLINE\_PICK \&\& m\_drawingPolyline.empty())}
\DoxyCodeLine{00281         doPolylineFreehandPick();}
\DoxyCodeLine{00282       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_pickType.getValue() == RECT\_PICK \&\& m\_drawingRect.\mbox{\hyperlink{class_t_rect_t_a53ce09c6112f8a019b43ad82d721a93b}{isEmpty}}())}
\DoxyCodeLine{00283         pickRect();}
\DoxyCodeLine{00284       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_pickType.getValue() == NORMAL\_PICK)}
\DoxyCodeLine{00285         pick();}
\DoxyCodeLine{00286       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_pickType.getValue() == FREEHAND\_PICK \&\& m\_stroke)}
\DoxyCodeLine{00287         doPolylineFreehandPick();}
\DoxyCodeLine{00288     \}}
\DoxyCodeLine{00289     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00290   \}}
\DoxyCodeLine{00291   \textcolor{keywordflow}{if} (m\_passivePick.getValue() == \textcolor{keyword}{true}) \{}
\DoxyCodeLine{00292     passivePick();}
\DoxyCodeLine{00293   \}}
\DoxyCodeLine{00294   \textcolor{keywordflow}{if} (m\_pickType.getValue() == RECT\_PICK \&\& !m\_makePick) \{}
\DoxyCodeLine{00295     TPixel color = ToonzCheck::instance()-\/>getChecks() \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff}{ToonzCheck::eBlackBg}}}
\DoxyCodeLine{00296                        ? TPixel32::White}
\DoxyCodeLine{00297                        : TPixel32::Red;}
\DoxyCodeLine{00298     ToolUtils::drawRect(m\_drawingRect, color, 0x3F33, \textcolor{keyword}{true});}
\DoxyCodeLine{00299   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_pickType.getValue() == POLYLINE\_PICK \&\&}
\DoxyCodeLine{00300              !m\_drawingPolyline.empty()) \{}
\DoxyCodeLine{00301     TPixel color = ToonzCheck::instance()-\/>getChecks() \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff}{ToonzCheck::eBlackBg}}}
\DoxyCodeLine{00302                        ? TPixel32::White}
\DoxyCodeLine{00303                        : TPixel32::Black;}
\DoxyCodeLine{00304     tglColor(color);}
\DoxyCodeLine{00305     tglDrawCircle(m\_drawingPolyline[0], 2);}
\DoxyCodeLine{00306     glBegin(GL\_LINE\_STRIP);}
\DoxyCodeLine{00307     \textcolor{keywordflow}{for} (UINT i = 0; i < m\_drawingPolyline.size(); i++)}
\DoxyCodeLine{00308       tglVertex(m\_drawingPolyline[i]);}
\DoxyCodeLine{00309     tglVertex(m\_mousePosition);}
\DoxyCodeLine{00310     glEnd();}
\DoxyCodeLine{00311   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_pickType.getValue() == FREEHAND\_PICK \&\&}
\DoxyCodeLine{00312              !m\_drawingTrack.\mbox{\hyperlink{class_stroke_generator_a85461eab47ef4791610974866efb61aa}{isEmpty}}()) \{}
\DoxyCodeLine{00313     TPixel color = ToonzCheck::instance()-\/>getChecks() \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff}{ToonzCheck::eBlackBg}}}
\DoxyCodeLine{00314                        ? TPixel32::White}
\DoxyCodeLine{00315                        : TPixel32::Black;}
\DoxyCodeLine{00316     tglColor(color);}
\DoxyCodeLine{00317     m\_drawingTrack.\mbox{\hyperlink{class_stroke_generator_a36ec59cf8b18831d60760706068c9c8f}{drawAllFragments}}();}
\DoxyCodeLine{00318   \}}
\DoxyCodeLine{00319 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00044}{Toonz\+Check\+::e\+Black\+Bg}}.

\mbox{\Hypertarget{class_r_g_b_picker_tool_aa32c8ef5bd39f0873532843583b30465}\label{class_r_g_b_picker_tool_aa32c8ef5bd39f0873532843583b30465}} 
\index{RGBPickerTool@{RGBPickerTool}!freehandDrag@{freehandDrag}}
\index{freehandDrag@{freehandDrag}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{freehandDrag()}{freehandDrag()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::freehand\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{drawing\+Pos,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{working\+Pos }\end{DoxyParamCaption})}



Viene aggiunto {\bfseries{pos}} a {\bfseries{m\+\_\+track}} e disegnato un altro pezzetto del lazzo. 

Viene aggiunto {\bfseries{pos}} a {\bfseries{m\+\_\+track}} e disegnato un altro pezzetto del lazzo. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00601                                                             \{}
\DoxyCodeLine{00602 \textcolor{preprocessor}{\#if defined(MACOSX)}}
\DoxyCodeLine{00603 \textcolor{comment}{// getViewer()-\/>enableRedraw(false);}}
\DoxyCodeLine{00604 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00605 }
\DoxyCodeLine{00606   \textcolor{keywordtype}{double} pixelSize2 = getPixelSize() * getPixelSize();}
\DoxyCodeLine{00607   m\_drawingTrack.\mbox{\hyperlink{class_stroke_generator_a6b8f7f919bde3cf7695c9c58980c9ba3}{add}}(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(drawingPos, m\_thick), pixelSize2);}
\DoxyCodeLine{00608   m\_workingTrack.\mbox{\hyperlink{class_stroke_generator_a6b8f7f919bde3cf7695c9c58980c9ba3}{add}}(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(workingPos, m\_thick), pixelSize2);}
\DoxyCodeLine{00609 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a3848986595c6427b76017f0293954cc8}\label{class_r_g_b_picker_tool_a3848986595c6427b76017f0293954cc8}} 
\index{RGBPickerTool@{RGBPickerTool}!getCursorId@{getCursorId}}
\index{getCursorId@{getCursorId}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{getCursorId()}{getCursorId()}}
{\footnotesize\ttfamily int RGBPicker\+Tool\+::get\+Cursor\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the type of cursor used by the tool. 

\begin{DoxySeeAlso}{See also}
For a list of cursor ids \mbox{\hyperlink{}{cursor.\+h}} 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_t_tool_a1768a57b8b6d1480618fd923fad15f1d}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00556                                      \{}
\DoxyCodeLine{00557   \textcolor{keywordtype}{int} currentStyleId = getApplication()}
\DoxyCodeLine{00558                            -\/>getPaletteController()}
\DoxyCodeLine{00559                            -\/>getCurrentPalette()}
\DoxyCodeLine{00560                            -\/>getStyleIndex();}
\DoxyCodeLine{00561   \textcolor{keywordflow}{if} (currentStyleId == 0) \textcolor{keywordflow}{return} ToolCursor::ForbiddenCursor;}
\DoxyCodeLine{00562   \textcolor{keywordflow}{if} (ToonzCheck::instance()-\/>getChecks() \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff}{ToonzCheck::eBlackBg}})}
\DoxyCodeLine{00563     \textcolor{keywordflow}{return} ToolCursor::PickerRGBWhite;}
\DoxyCodeLine{00564   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00565     \textcolor{keywordflow}{return} ToolCursor::PickerRGB;}
\DoxyCodeLine{00566 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00044}{Toonz\+Check\+::e\+Black\+Bg}}.

\mbox{\Hypertarget{class_r_g_b_picker_tool_a57af30ff54eeda4faeab1e55695cfa7a}\label{class_r_g_b_picker_tool_a57af30ff54eeda4faeab1e55695cfa7a}} 
\index{RGBPickerTool@{RGBPickerTool}!getProperties@{getProperties}}
\index{getProperties@{getProperties}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{getProperties()}{getProperties()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ RGBPicker\+Tool\+::get\+Properties (\begin{DoxyParamCaption}\item[{int}]{target\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00552 \{ \textcolor{keywordflow}{return} \&m\_prop; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a69fe5b22c96bdac90cf4256bb315ee35}\label{class_r_g_b_picker_tool_a69fe5b22c96bdac90cf4256bb315ee35}} 
\index{RGBPickerTool@{RGBPickerTool}!getToolType@{getToolType}}
\index{getToolType@{getToolType}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{getToolType()}{getToolType()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296c}{Tool\+Type}} RGBPicker\+Tool\+::get\+Tool\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00048 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296ca18d911ba387409847ad5ae6a731031f8}{TTool::LevelReadTool}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a5db933509bddf29892b134fd4b5a59fd}\label{class_r_g_b_picker_tool_a5db933509bddf29892b134fd4b5a59fd}} 
\index{RGBPickerTool@{RGBPickerTool}!leftButtonDoubleClick@{leftButtonDoubleClick}}
\index{leftButtonDoubleClick@{leftButtonDoubleClick}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDoubleClick()}{leftButtonDoubleClick()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::left\+Button\+Double\+Click (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00392                                                                 \{}
\DoxyCodeLine{00393   \textcolor{keywordflow}{if} (m\_currentStyleId == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00394   \textcolor{keywordflow}{if} (m\_pickType.getValue() == POLYLINE\_PICK) \{}
\DoxyCodeLine{00395     \mbox{\hyperlink{class_r_g_b_picker_tool_a366ee3c09e966a736eafce6791d916c1}{closePolyline}}(pos, e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}});}
\DoxyCodeLine{00396     std::vector<TThickPoint> strokePoints;}
\DoxyCodeLine{00397     \textcolor{keywordflow}{for} (UINT i = 0; i < m\_workingPolyline.size() -\/ 1; i++) \{}
\DoxyCodeLine{00398       strokePoints.push\_back(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(m\_workingPolyline[i], 1));}
\DoxyCodeLine{00399       strokePoints.push\_back(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(}
\DoxyCodeLine{00400           0.5 * (m\_workingPolyline[i] + m\_workingPolyline[i + 1]), 1));}
\DoxyCodeLine{00401     \}}
\DoxyCodeLine{00402     strokePoints.push\_back(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(m\_workingPolyline.back(), 1));}
\DoxyCodeLine{00403     m\_drawingPolyline.clear();}
\DoxyCodeLine{00404     m\_workingPolyline.clear();}
\DoxyCodeLine{00405     m\_stroke   = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stroke}{TStroke}}(strokePoints);}
\DoxyCodeLine{00406     m\_makePick = \textcolor{keyword}{true};}
\DoxyCodeLine{00407     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00408   \}}
\DoxyCodeLine{00409 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a44fcabc844e458cc953ef6ea67ee04ba}\label{class_r_g_b_picker_tool_a44fcabc844e458cc953ef6ea67ee04ba}} 
\index{RGBPickerTool@{RGBPickerTool}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00323                                                                            \{}
\DoxyCodeLine{00324   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app   = TTool::getApplication();}
\DoxyCodeLine{00325   \mbox{\hyperlink{class_t_palette_handle}{TPaletteHandle}} *pltHandle = app-\/>getPaletteController()-\/>getCurrentPalette();}
\DoxyCodeLine{00326   m\_currentStyleId          = pltHandle-\/>getStyleIndex();}
\DoxyCodeLine{00327   \textcolor{keywordflow}{if} (m\_currentStyleId == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00328 }
\DoxyCodeLine{00329   \mbox{\hyperlink{class_t_color_style}{TColorStyle}} *colorStyle = pltHandle-\/>getStyle();}
\DoxyCodeLine{00330 }
\DoxyCodeLine{00331   \textcolor{keywordflow}{if} (colorStyle) m\_oldValue = colorStyle-\/>\mbox{\hyperlink{class_t_color_style_abd78dd4e3ff3e2e78b647195f7622aa7}{getMainColor}}();}
\DoxyCodeLine{00332 }
\DoxyCodeLine{00333   \textcolor{keywordflow}{if} (m\_pickType.getValue() == RECT\_PICK) \{}
\DoxyCodeLine{00334     m\_selectingRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}}.x;}
\DoxyCodeLine{00335     m\_selectingRect.y0 = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}}.y;}
\DoxyCodeLine{00336     m\_selectingRect.x1 = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}}.x;}
\DoxyCodeLine{00337     m\_selectingRect.y1 = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}}.y;}
\DoxyCodeLine{00338     m\_drawingRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}   = pos.x;}
\DoxyCodeLine{00339     m\_drawingRect.y0   = pos.y;}
\DoxyCodeLine{00340     m\_drawingRect.x1   = pos.x;}
\DoxyCodeLine{00341     m\_drawingRect.y1   = pos.y;}
\DoxyCodeLine{00342     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00343     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00344   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_pickType.getValue() == FREEHAND\_PICK) \{}
\DoxyCodeLine{00345     \mbox{\hyperlink{class_r_g_b_picker_tool_af88030955d9947af9914d9aa4cdc153f}{startFreehand}}(pos, e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}});}
\DoxyCodeLine{00346     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00347   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_pickType.getValue() == POLYLINE\_PICK) \{}
\DoxyCodeLine{00348     \mbox{\hyperlink{class_r_g_b_picker_tool_acda7fde14dd32c06146d43a54fc2532d}{addPointPolyline}}(pos, e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}});}
\DoxyCodeLine{00349     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00350   \} \textcolor{keywordflow}{else} \{  \textcolor{comment}{// NORMAL\_PICK}}
\DoxyCodeLine{00351     m\_mousePixelPosition = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}};}
\DoxyCodeLine{00352     m\_makePick           = \textcolor{keyword}{true};}
\DoxyCodeLine{00353     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00354   \}}
\DoxyCodeLine{00355 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a88b381855f69a2827121cb3585437e71}\label{class_r_g_b_picker_tool_a88b381855f69a2827121cb3585437e71}} 
\index{RGBPickerTool@{RGBPickerTool}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00359                                                                            \{}
\DoxyCodeLine{00360   \textcolor{keywordflow}{if} (m\_currentStyleId == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00361   \textcolor{keywordflow}{if} (m\_pickType.getValue() == RECT\_PICK) \{}
\DoxyCodeLine{00362     m\_selectingRect.x1 = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}}.x;}
\DoxyCodeLine{00363     m\_selectingRect.y1 = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}}.y;}
\DoxyCodeLine{00364     m\_drawingRect.x1   = pos.x;}
\DoxyCodeLine{00365     m\_drawingRect.y1   = pos.y;}
\DoxyCodeLine{00366     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00367     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00368   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_pickType.getValue() == FREEHAND\_PICK) \{}
\DoxyCodeLine{00369     \mbox{\hyperlink{class_r_g_b_picker_tool_aa32c8ef5bd39f0873532843583b30465}{freehandDrag}}(pos, e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}});}
\DoxyCodeLine{00370     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00371   \}}
\DoxyCodeLine{00372 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a224eccf47077c61e3ecaf202e070dcb7}\label{class_r_g_b_picker_tool_a224eccf47077c61e3ecaf202e070dcb7}} 
\index{RGBPickerTool@{RGBPickerTool}!leftButtonUp@{leftButtonUp}}
\index{leftButtonUp@{leftButtonUp}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{leftButtonUp()}{leftButtonUp()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::left\+Button\+Up (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00376                                                                         \{}
\DoxyCodeLine{00377   \textcolor{keywordflow}{if} (m\_currentStyleId == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00378   \textcolor{keywordflow}{if} (m\_pickType.getValue() == RECT\_PICK) \{}
\DoxyCodeLine{00379     m\_makePick = \textcolor{keyword}{true};}
\DoxyCodeLine{00380     m\_drawingRect.empty();}
\DoxyCodeLine{00381   \}}
\DoxyCodeLine{00382   \textcolor{keywordflow}{if} (m\_pickType.getValue() == FREEHAND\_PICK) \{}
\DoxyCodeLine{00383     \mbox{\hyperlink{class_r_g_b_picker_tool_a28fc44a9d449aa655a59e9cc36e5d4bd}{closeFreehand}}();}
\DoxyCodeLine{00384     m\_makePick = \textcolor{keyword}{true};}
\DoxyCodeLine{00385   \}}
\DoxyCodeLine{00386   \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00387 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_ade202b1f2e7cd2fd7691457db4afde4e}\label{class_r_g_b_picker_tool_ade202b1f2e7cd2fd7691457db4afde4e}} 
\index{RGBPickerTool@{RGBPickerTool}!mouseMove@{mouseMove}}
\index{mouseMove@{mouseMove}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{mouseMove()}{mouseMove()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::mouse\+Move (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00413                                                                       \{}
\DoxyCodeLine{00414   \textcolor{comment}{/*-\/-\/-\/ Pick color passively and display in the tool option bar -\/-\/-\/*/}}
\DoxyCodeLine{00415   \textcolor{keywordflow}{if} (m\_passivePick.getValue() == \textcolor{keyword}{true}) \{}
\DoxyCodeLine{00416     m\_mousePixelPosition = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}};}
\DoxyCodeLine{00417     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00418   \}}
\DoxyCodeLine{00419   \textcolor{keywordflow}{if} (m\_pickType.getValue() == POLYLINE\_PICK \&\& !m\_drawingPolyline.empty()) \{}
\DoxyCodeLine{00420     m\_mousePosition = pos;}
\DoxyCodeLine{00421     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00422   \}}
\DoxyCodeLine{00423 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a36197c7bc09d42211488ec34b30ae1a7}\label{class_r_g_b_picker_tool_a36197c7bc09d42211488ec34b30ae1a7}} 
\index{RGBPickerTool@{RGBPickerTool}!onActivate@{onActivate}}
\index{onActivate@{onActivate}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{onActivate()}{onActivate()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::on\+Activate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Callback invoked whenever the tool activates. 



Reimplemented from \mbox{\hyperlink{class_t_tool_ac286a2681633b4db6106596b4f54e53b}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00542                                \{}
\DoxyCodeLine{00543   \textcolor{keywordflow}{if} (m\_firstTime) \{}
\DoxyCodeLine{00544     m\_pickType.setValue(::to\_wstring(PickVectorType.getValue()));}
\DoxyCodeLine{00545     m\_passivePick.setValue(PickPassive ? 1 : 0);}
\DoxyCodeLine{00546     m\_firstTime = \textcolor{keyword}{false};}
\DoxyCodeLine{00547   \}}
\DoxyCodeLine{00548 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a8e54f6882c12b63ea4b8fffddae06382}\label{class_r_g_b_picker_tool_a8e54f6882c12b63ea4b8fffddae06382}} 
\index{RGBPickerTool@{RGBPickerTool}!onImageChanged@{onImageChanged}}
\index{onImageChanged@{onImageChanged}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{onImageChanged()}{onImageChanged()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::on\+Image\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Notifies changes in the image in use. 



Reimplemented from \mbox{\hyperlink{class_t_tool_aaf1e021290e74c1b085e4b095668e1ed}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00245                                    \{}
\DoxyCodeLine{00246   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{00247   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *level  = app-\/>getCurrentLevel()-\/>getSimpleLevel();}
\DoxyCodeLine{00248   \textcolor{keywordflow}{if} (m\_currentStyleId != 0 \&\& m\_makePick \&\&}
\DoxyCodeLine{00249       (m\_pickType.getValue() == POLYLINE\_PICK ||}
\DoxyCodeLine{00250        m\_pickType.getValue() == RECT\_PICK)) \{}
\DoxyCodeLine{00251     \mbox{\hyperlink{class_t_palette_handle}{TPaletteHandle}} *ph = app-\/>getPaletteController()-\/>getCurrentPalette();}
\DoxyCodeLine{00252     \textcolor{keywordtype}{int} styleId        = ph-\/>getStyleIndex();}
\DoxyCodeLine{00253     \mbox{\hyperlink{class_t_palette}{TPalette}} *palette  = ph-\/>getPalette();}
\DoxyCodeLine{00254     \textcolor{keywordflow}{if} (palette)}
\DoxyCodeLine{00255       TUndoManager::manager()-\/>add(}
\DoxyCodeLine{00256           \textcolor{keyword}{new} \mbox{\hyperlink{class_r_g_b_picker_1_1_undo_pick_r_g_b_m}{UndoPickRGBM}}(palette, styleId, m\_currentValue, level));}
\DoxyCodeLine{00257   \}}
\DoxyCodeLine{00258   \textcolor{keywordflow}{if} (m\_makePick) \{}
\DoxyCodeLine{00259     setCurrentColor(m\_currentValue);}
\DoxyCodeLine{00260     \textcolor{keywordflow}{if} (level) \{}
\DoxyCodeLine{00261       std::vector<TFrameId> fids;}
\DoxyCodeLine{00262       level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a567daee4ca12a0e92445bcf98a6541f1}{getFids}}(fids);}
\DoxyCodeLine{00263       invalidateIcons(level, fids);}
\DoxyCodeLine{00264     \}}
\DoxyCodeLine{00265   \}}
\DoxyCodeLine{00266   m\_makePick = \textcolor{keyword}{false};}
\DoxyCodeLine{00267 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00448}{TXsh\+Simple\+Level\+::get\+Fids()}}.

\mbox{\Hypertarget{class_r_g_b_picker_tool_a46def62f5940eee5d3a2432d196123e5}\label{class_r_g_b_picker_tool_a46def62f5940eee5d3a2432d196123e5}} 
\index{RGBPickerTool@{RGBPickerTool}!onPropertyChanged@{onPropertyChanged}}
\index{onPropertyChanged@{onPropertyChanged}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{onPropertyChanged()}{onPropertyChanged()}}
{\footnotesize\ttfamily bool RGBPicker\+Tool\+::on\+Property\+Changed (\begin{DoxyParamCaption}\item[{std\+::string}]{property\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} Does the tasks associated to changes in \p propertyName and returns \p
\end{DoxyVerb}
 true; Does the tasks associated to changes in {\ttfamily property\+Name} and returns {\ttfamily true}. 

Reimplemented from \mbox{\hyperlink{class_t_tool_a06694e0586f807c34b18e16341aa9ee2}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00532                                                             \{}
\DoxyCodeLine{00533   \textcolor{keywordflow}{if} (propertyName == m\_pickType.getName())}
\DoxyCodeLine{00534     PickVectorType = ::to\_string(m\_pickType.getValue());}
\DoxyCodeLine{00535   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_passivePick.getName())}
\DoxyCodeLine{00536     PickPassive = m\_passivePick.getValue();}
\DoxyCodeLine{00537   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00538 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a933f60caa9555c63d308d6cf1645817a}\label{class_r_g_b_picker_tool_a933f60caa9555c63d308d6cf1645817a}} 
\index{RGBPickerTool@{RGBPickerTool}!passivePick@{passivePick}}
\index{passivePick@{passivePick}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{passivePick()}{passivePick()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::passive\+Pick (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00427                                 \{}
\DoxyCodeLine{00428   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image = \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}}(\mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false}));}
\DoxyCodeLine{00429   \textcolor{keywordflow}{if} (!image) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00430   \mbox{\hyperlink{class_t_rect_t}{TRectD}} area = \mbox{\hyperlink{class_t_rect_t}{TRectD}}(m\_mousePixelPosition.x, m\_mousePixelPosition.y,}
\DoxyCodeLine{00431                        m\_mousePixelPosition.x, m\_mousePixelPosition.y);}
\DoxyCodeLine{00432 }
\DoxyCodeLine{00433   \mbox{\hyperlink{class_style_picker}{StylePicker}} picker(image);}
\DoxyCodeLine{00434 }
\DoxyCodeLine{00435   \textcolor{keywordflow}{if} (LutManager::instance()-\/>isValid()) \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>bindFBO();}
\DoxyCodeLine{00436 }
\DoxyCodeLine{00437   TPixel32 pix = picker.pickColor(area);}
\DoxyCodeLine{00438 }
\DoxyCodeLine{00439   \textcolor{keywordflow}{if} (LutManager::instance()-\/>isValid()) \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>releaseFBO();}
\DoxyCodeLine{00440 }
\DoxyCodeLine{00441   QColor col((\textcolor{keywordtype}{int})pix.r, (\textcolor{keywordtype}{int})pix.g, (\textcolor{keywordtype}{int})pix.b);}
\DoxyCodeLine{00442 }
\DoxyCodeLine{00443   \mbox{\hyperlink{class_palette_controller}{PaletteController}} *controller =}
\DoxyCodeLine{00444       TTool::getApplication()-\/>getPaletteController();}
\DoxyCodeLine{00445   controller-\/>notifyColorPassivePicked(col);}
\DoxyCodeLine{00446 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a0340dd6c561c20b30b003267058e67d4}\label{class_r_g_b_picker_tool_a0340dd6c561c20b30b003267058e67d4}} 
\index{RGBPickerTool@{RGBPickerTool}!pick@{pick}}
\index{pick@{pick}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{pick()}{pick()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::pick (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00450                          \{}
\DoxyCodeLine{00451   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image = \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}}(\mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false}));}
\DoxyCodeLine{00452 }
\DoxyCodeLine{00453   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{00454   \mbox{\hyperlink{class_t_palette_handle}{TPaletteHandle}} *ph      = app-\/>getPaletteController()-\/>getCurrentPalette();}
\DoxyCodeLine{00455   \textcolor{keywordtype}{int} styleId             = ph-\/>getStyleIndex();}
\DoxyCodeLine{00456   \mbox{\hyperlink{class_t_palette}{TPalette}} *palette       = ph-\/>getPalette();}
\DoxyCodeLine{00457   \textcolor{keywordflow}{if} (!palette) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00458 }
\DoxyCodeLine{00459   \mbox{\hyperlink{class_t_rect_t}{TRectD}} area = \mbox{\hyperlink{class_t_rect_t}{TRectD}}(m\_mousePixelPosition.x -\/ 1, m\_mousePixelPosition.y -\/ 1,}
\DoxyCodeLine{00460                        m\_mousePixelPosition.x + 1, m\_mousePixelPosition.y + 1);}
\DoxyCodeLine{00461   \mbox{\hyperlink{class_style_picker}{StylePicker}} picker(image, palette);}
\DoxyCodeLine{00462 }
\DoxyCodeLine{00463   \textcolor{keywordflow}{if} (LutManager::instance()-\/>isValid()) \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>bindFBO();}
\DoxyCodeLine{00464 }
\DoxyCodeLine{00465   m\_currentValue = picker.pickColor(area);}
\DoxyCodeLine{00466 }
\DoxyCodeLine{00467   \textcolor{keywordflow}{if} (LutManager::instance()-\/>isValid()) \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>releaseFBO();}
\DoxyCodeLine{00468 }
\DoxyCodeLine{00469   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *level = app-\/>getCurrentLevel()-\/>getSimpleLevel();}
\DoxyCodeLine{00470   \mbox{\hyperlink{class_r_g_b_picker_1_1_undo_pick_r_g_b_m}{UndoPickRGBM}} *cmd = \textcolor{keyword}{new} \mbox{\hyperlink{class_r_g_b_picker_1_1_undo_pick_r_g_b_m}{UndoPickRGBM}}(palette, styleId, m\_currentValue, level);}
\DoxyCodeLine{00471   TUndoManager::manager()-\/>add(cmd);}
\DoxyCodeLine{00472 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a5e44782ad324a8c43bc245489c498f90}\label{class_r_g_b_picker_tool_a5e44782ad324a8c43bc245489c498f90}} 
\index{RGBPickerTool@{RGBPickerTool}!pickRect@{pickRect}}
\index{pickRect@{pickRect}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{pickRect()}{pickRect()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::pick\+Rect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00475                              \{}
\DoxyCodeLine{00476   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image = \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}}(\mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false}));}
\DoxyCodeLine{00477 }
\DoxyCodeLine{00478   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{00479   \mbox{\hyperlink{class_t_palette_handle}{TPaletteHandle}} *ph      = app-\/>getPaletteController()-\/>getCurrentPalette();}
\DoxyCodeLine{00480   \textcolor{keywordtype}{int} styleId             = ph-\/>getStyleIndex();}
\DoxyCodeLine{00481   \mbox{\hyperlink{class_t_palette}{TPalette}} *palette       = ph-\/>getPalette();}
\DoxyCodeLine{00482   \mbox{\hyperlink{class_t_rect_t}{TRectD}} area             = m\_selectingRect;}
\DoxyCodeLine{00483   \textcolor{keywordflow}{if} (!palette) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00484   \textcolor{keywordflow}{if} (m\_selectingRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} > m\_selectingRect.x1) \{}
\DoxyCodeLine{00485     area.x1 = m\_selectingRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}};}
\DoxyCodeLine{00486     area.x0 = m\_selectingRect.x1;}
\DoxyCodeLine{00487   \}}
\DoxyCodeLine{00488   \textcolor{keywordflow}{if} (m\_selectingRect.y0 > m\_selectingRect.y1) \{}
\DoxyCodeLine{00489     area.y1 = m\_selectingRect.y0;}
\DoxyCodeLine{00490     area.y0 = m\_selectingRect.y1;}
\DoxyCodeLine{00491   \}}
\DoxyCodeLine{00492   m\_selectingRect.empty();}
\DoxyCodeLine{00493   \textcolor{keywordflow}{if} (area.getLx() <= 1 || area.getLy() <= 1) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00494   \mbox{\hyperlink{class_style_picker}{StylePicker}} picker(image, palette);}
\DoxyCodeLine{00495 }
\DoxyCodeLine{00496   \textcolor{keywordflow}{if} (LutManager::instance()-\/>isValid()) \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>bindFBO();}
\DoxyCodeLine{00497 }
\DoxyCodeLine{00498   m\_currentValue = picker.pickColor(area);}
\DoxyCodeLine{00499 }
\DoxyCodeLine{00500   \textcolor{keywordflow}{if} (LutManager::instance()-\/>isValid()) \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>releaseFBO();}
\DoxyCodeLine{00501 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_aa520c1db848350b2f2d7d45cee912ec9}\label{class_r_g_b_picker_tool_aa520c1db848350b2f2d7d45cee912ec9}} 
\index{RGBPickerTool@{RGBPickerTool}!pickStroke@{pickStroke}}
\index{pickStroke@{pickStroke}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{pickStroke()}{pickStroke()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::pick\+Stroke (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00505                                \{}
\DoxyCodeLine{00506   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image = \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}}(\mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false}));}
\DoxyCodeLine{00507 }
\DoxyCodeLine{00508   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{00509   \mbox{\hyperlink{class_t_palette_handle}{TPaletteHandle}} *ph      = app-\/>getPaletteController()-\/>getCurrentPalette();}
\DoxyCodeLine{00510   \textcolor{keywordtype}{int} styleId             = ph-\/>getStyleIndex();}
\DoxyCodeLine{00511   \mbox{\hyperlink{class_t_palette}{TPalette}} *palette       = ph-\/>getPalette();}
\DoxyCodeLine{00512   \textcolor{keywordflow}{if} (!palette) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00513 }
\DoxyCodeLine{00514   \mbox{\hyperlink{class_style_picker}{StylePicker}} picker(image, palette);}
\DoxyCodeLine{00515   \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stroke}{TStroke}}(*m\_stroke);}
\DoxyCodeLine{00516 }
\DoxyCodeLine{00517   \textcolor{keywordflow}{if} (LutManager::instance()-\/>isValid()) \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>bindFBO();}
\DoxyCodeLine{00518 }
\DoxyCodeLine{00519   m\_currentValue = picker.pickColor(stroke);}
\DoxyCodeLine{00520 }
\DoxyCodeLine{00521   \textcolor{keywordflow}{if} (LutManager::instance()-\/>isValid()) \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>releaseFBO();}
\DoxyCodeLine{00522 }
\DoxyCodeLine{00523   \textcolor{keywordflow}{if} (!(m\_pickType.getValue() == POLYLINE\_PICK)) \{}
\DoxyCodeLine{00524     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *level = app-\/>getCurrentLevel()-\/>getSimpleLevel();}
\DoxyCodeLine{00525     TUndoManager::manager()-\/>add(}
\DoxyCodeLine{00526         \textcolor{keyword}{new} \mbox{\hyperlink{class_r_g_b_picker_1_1_undo_pick_r_g_b_m}{UndoPickRGBM}}(palette, styleId, m\_currentValue, level));}
\DoxyCodeLine{00527   \}}
\DoxyCodeLine{00528 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_aff3c60324ed2f93220042871028a7a9b}\label{class_r_g_b_picker_tool_aff3c60324ed2f93220042871028a7a9b}} 
\index{RGBPickerTool@{RGBPickerTool}!setToolOptionsBox@{setToolOptionsBox}}
\index{setToolOptionsBox@{setToolOptionsBox}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{setToolOptionsBox()}{setToolOptionsBox()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::set\+Tool\+Options\+Box (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_r_g_b_picker_tool_options_box}{RGBPicker\+Tool\+Options\+Box}} $\ast$}]{tool\+Options\+Box }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00221                                                                              \{}
\DoxyCodeLine{00222   m\_toolOptionsBox.push\_back(toolOptionsBox);}
\DoxyCodeLine{00223 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a2264165e47956d20d09cbdd31762dd7f}\label{class_r_g_b_picker_tool_a2264165e47956d20d09cbdd31762dd7f}} 
\index{RGBPickerTool@{RGBPickerTool}!showFlipPickedColor@{showFlipPickedColor}}
\index{showFlipPickedColor@{showFlipPickedColor}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{showFlipPickedColor()}{showFlipPickedColor()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::show\+Flip\+Picked\+Color (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{pix }\end{DoxyParamCaption})}

Flipbook上で\+Passive Pickを有効にする 
\begin{DoxyCode}{0}
\DoxyCodeLine{00663                                                            \{}
\DoxyCodeLine{00664   \textcolor{keywordflow}{if} (m\_passivePick.getValue()) \{}
\DoxyCodeLine{00665     QColor col((\textcolor{keywordtype}{int})pix.r, (\textcolor{keywordtype}{int})pix.g, (\textcolor{keywordtype}{int})pix.b);}
\DoxyCodeLine{00666     \mbox{\hyperlink{class_palette_controller}{PaletteController}} *controller =}
\DoxyCodeLine{00667         TTool::getApplication()-\/>getPaletteController();}
\DoxyCodeLine{00668     controller-\/>notifyColorPassivePicked(col);}
\DoxyCodeLine{00669   \}}
\DoxyCodeLine{00670 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_af88030955d9947af9914d9aa4cdc153f}\label{class_r_g_b_picker_tool_af88030955d9947af9914d9aa4cdc153f}} 
\index{RGBPickerTool@{RGBPickerTool}!startFreehand@{startFreehand}}
\index{startFreehand@{startFreehand}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{startFreehand()}{startFreehand()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::start\+Freehand (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{drawing\+Pos,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{working\+Pos }\end{DoxyParamCaption})}

Viene aggiunto {\bfseries{pos}} a {\bfseries{m\+\_\+track}} e disegnato il primo pezzetto del lazzo. Viene inizializzato {\bfseries{m\+\_\+first\+Pos}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{00584                                                              \{}
\DoxyCodeLine{00585   m\_drawingTrack.\mbox{\hyperlink{class_stroke_generator_a4a78460714a37e461296d169715ba460}{clear}}();}
\DoxyCodeLine{00586   m\_workingTrack.\mbox{\hyperlink{class_stroke_generator_a4a78460714a37e461296d169715ba460}{clear}}();}
\DoxyCodeLine{00587   m\_firstDrawingPos = drawingPos;}
\DoxyCodeLine{00588   m\_firstWorkingPos = workingPos;}
\DoxyCodeLine{00589   \textcolor{keywordtype}{double} pixelSize2 = getPixelSize() * getPixelSize();}
\DoxyCodeLine{00590   m\_drawingTrack.\mbox{\hyperlink{class_stroke_generator_a6b8f7f919bde3cf7695c9c58980c9ba3}{add}}(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(drawingPos, m\_thick), pixelSize2);}
\DoxyCodeLine{00591   m\_workingTrack.\mbox{\hyperlink{class_stroke_generator_a6b8f7f919bde3cf7695c9c58980c9ba3}{add}}(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(workingPos, m\_thick), pixelSize2);}
\DoxyCodeLine{00592 \textcolor{preprocessor}{\#if defined(MACOSX)}}
\DoxyCodeLine{00593 \textcolor{comment}{// m\_viewer-\/>prepareForegroundDrawing();}}
\DoxyCodeLine{00594 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00595 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_r_g_b_picker_tool_a67326d7948894eb29a7d84a4bd6af9cb}\label{class_r_g_b_picker_tool_a67326d7948894eb29a7d84a4bd6af9cb}} 
\index{RGBPickerTool@{RGBPickerTool}!updateTranslation@{updateTranslation}}
\index{updateTranslation@{updateTranslation}!RGBPickerTool@{RGBPickerTool}}
\doxysubsubsection{\texorpdfstring{updateTranslation()}{updateTranslation()}}
{\footnotesize\ttfamily void RGBPicker\+Tool\+::update\+Translation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00227                                       \{}
\DoxyCodeLine{00228   m\_pickType.setQStringName(tr(\textcolor{stringliteral}{"{}Type:"{}}));}
\DoxyCodeLine{00229   m\_pickType.setItemUIName(NORMAL\_PICK, tr(\textcolor{stringliteral}{"{}Normal"{}}));}
\DoxyCodeLine{00230   m\_pickType.setItemUIName(RECT\_PICK, tr(\textcolor{stringliteral}{"{}Rectangular"{}}));}
\DoxyCodeLine{00231   m\_pickType.setItemUIName(FREEHAND\_PICK, tr(\textcolor{stringliteral}{"{}Freehand"{}}));}
\DoxyCodeLine{00232   m\_pickType.setItemUIName(POLYLINE\_PICK, tr(\textcolor{stringliteral}{"{}Polyline"{}}));}
\DoxyCodeLine{00233 }
\DoxyCodeLine{00234   m\_passivePick.setQStringName(tr(\textcolor{stringliteral}{"{}Passive Pick"{}}));}
\DoxyCodeLine{00235 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/rgbpickertool.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/rgbpickertool.\+cpp\end{DoxyCompactItemize}
