\hypertarget{classino__density}{}\doxysection{ino\+\_\+density Class Reference}
\label{classino__density}\index{ino\_density@{ino\_density}}
Inheritance diagram for ino\+\_\+density\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{classino__density}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classino__density_aebd9966e8e82798d1f8dae3d6a7f5e21}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
bool \mbox{\hyperlink{classino__density_aadb5f431effce46181094f6858680fb7}{can\+Handle}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&rend\+\_\+sets, double frame) override
\item 
void \mbox{\hyperlink{classino__density_a2fe4c8ddf93fa5e565ac36aa78c0aa1a}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&rend\+\_\+sets) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classino__density_ae72c517d5a57217cb115d9aee1ab53f7}\label{classino__density_ae72c517d5a57217cb115d9aee1ab53f7}} 
\index{ino\_density@{ino\_density}!ino\_density@{ino\_density}}
\index{ino\_density@{ino\_density}!ino\_density@{ino\_density}}
\doxysubsubsection{\texorpdfstring{ino\_density()}{ino\_density()}}
{\footnotesize\ttfamily ino\+\_\+density\+::ino\+\_\+density (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00018       : m\_density(1.0 * ino::param\_range())}
\DoxyCodeLine{00019       , m\_ref\_mode(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(0, \textcolor{stringliteral}{"{}Red"{}})) \{}
\DoxyCodeLine{00020     \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}Source"{}}, this-\/>m\_input);}
\DoxyCodeLine{00021     \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}Reference"{}}, this-\/>m\_refer);}
\DoxyCodeLine{00022 }
\DoxyCodeLine{00023     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}density"{}}, this-\/>m\_density);}
\DoxyCodeLine{00024     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}reference"{}}, this-\/>m\_ref\_mode);}
\DoxyCodeLine{00025 }
\DoxyCodeLine{00026     this-\/>m\_density-\/>setValueRange(0.0 * ino::param\_range(),}
\DoxyCodeLine{00027                                    10.0 * ino::param\_range());}
\DoxyCodeLine{00028 }
\DoxyCodeLine{00029     this-\/>m\_ref\_mode-\/>addItem(1, \textcolor{stringliteral}{"{}Green"{}});}
\DoxyCodeLine{00030     this-\/>m\_ref\_mode-\/>addItem(2, \textcolor{stringliteral}{"{}Blue"{}});}
\DoxyCodeLine{00031     this-\/>m\_ref\_mode-\/>addItem(3, \textcolor{stringliteral}{"{}Alpha"{}});}
\DoxyCodeLine{00032     this-\/>m\_ref\_mode-\/>addItem(4, \textcolor{stringliteral}{"{}Luminance"{}});}
\DoxyCodeLine{00033     this-\/>m\_ref\_mode-\/>addItem(-\/1, \textcolor{stringliteral}{"{}Nothing"{}});}
\DoxyCodeLine{00034   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classino__density_aadb5f431effce46181094f6858680fb7}\label{classino__density_aadb5f431effce46181094f6858680fb7}} 
\index{ino\_density@{ino\_density}!canHandle@{canHandle}}
\index{canHandle@{canHandle}!ino\_density@{ino\_density}}
\doxysubsubsection{\texorpdfstring{canHandle()}{canHandle()}}
{\footnotesize\ttfamily bool ino\+\_\+density\+::can\+Handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{rend\+\_\+sets,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00044                                                                           \{}
\DoxyCodeLine{00045     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00046   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__density_a2fe4c8ddf93fa5e565ac36aa78c0aa1a}\label{classino__density_a2fe4c8ddf93fa5e565ac36aa78c0aa1a}} 
\index{ino\_density@{ino\_density}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!ino\_density@{ino\_density}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void ino\+\_\+density\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{rend\+\_\+sets }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00088                                                               \{}
\DoxyCodeLine{00089   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ 接続していなければ処理しない -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00090   \textcolor{keywordflow}{if} (!this-\/>m\_input.isConnected()) \{}
\DoxyCodeLine{00091     tile.getRaster()-\/>clear(); \textcolor{comment}{/* 塗りつぶしクリア */}}
\DoxyCodeLine{00092     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00093   \}}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ サポートしていないPixelタイプはエラーを投げる -\/-\/-\/ */}}
\DoxyCodeLine{00096   \textcolor{keywordflow}{if} (!((\mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}})tile.getRaster()) \&\& !((\mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}})tile.getRaster())) \{}
\DoxyCodeLine{00097     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_rop_exception}{TRopException}}(\textcolor{stringliteral}{"{}unsupported input pixel type"{}});}
\DoxyCodeLine{00098   \}}
\DoxyCodeLine{00099 }
\DoxyCodeLine{00100   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ 動作パラメータを得る -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00101   \textcolor{keyword}{const} \textcolor{keywordtype}{double} density = this-\/>m\_density-\/>getValue(frame) / ino::param\_range();}
\DoxyCodeLine{00102   \textcolor{keyword}{const} \textcolor{keywordtype}{int} refer\_mode = this-\/>m\_ref\_mode-\/>getValue();}
\DoxyCodeLine{00103 }
\DoxyCodeLine{00104   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ 画像生成 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00105   this-\/>m\_input-\/>compute(tile, frame, rend\_sets);}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 参照画像生成 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00108   \mbox{\hyperlink{class_t_tile}{TTile}} refer\_tile;}
\DoxyCodeLine{00109   \textcolor{keywordtype}{bool} refer\_sw = \textcolor{keyword}{false};}
\DoxyCodeLine{00110   \textcolor{keywordflow}{if} (this-\/>m\_refer.isConnected()) \{}
\DoxyCodeLine{00111     refer\_sw = \textcolor{keyword}{true};}
\DoxyCodeLine{00112     this-\/>m\_refer-\/>allocateAndCompute(}
\DoxyCodeLine{00113         refer\_tile, tile.m\_pos,}
\DoxyCodeLine{00114         \mbox{\hyperlink{class_t_dimension_t}{TDimensionI}}(\textcolor{comment}{/* Pixel単位 */}}
\DoxyCodeLine{00115                     tile.getRaster()-\/>getLx(), tile.getRaster()-\/>getLy()),}
\DoxyCodeLine{00116         tile.getRaster(), frame, rend\_sets);}
\DoxyCodeLine{00117   \}}
\DoxyCodeLine{00118 }
\DoxyCodeLine{00119   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ (app\_begin)log記憶 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00120   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} log\_sw = ino::log\_enable\_sw();}
\DoxyCodeLine{00121 }
\DoxyCodeLine{00122   \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00123     std::ostringstream os;}
\DoxyCodeLine{00124     os << \textcolor{stringliteral}{"{}params"{}}}
\DoxyCodeLine{00125        << \textcolor{stringliteral}{"{}  den "{}} << density << \textcolor{stringliteral}{"{}  refer\_mode "{}} << refer\_mode << \textcolor{stringliteral}{"{}   tile w "{}}}
\DoxyCodeLine{00126        << tile.getRaster()-\/>getLx() << \textcolor{stringliteral}{"{}  h "{}} << tile.getRaster()-\/>getLy()}
\DoxyCodeLine{00127        << \textcolor{stringliteral}{"{}  pixbits "{}} << ino::pixel\_bits(tile.getRaster()) << \textcolor{stringliteral}{"{}   frame "{}}}
\DoxyCodeLine{00128        << frame;}
\DoxyCodeLine{00129     \textcolor{keywordflow}{if} (refer\_sw) \{}
\DoxyCodeLine{00130       os << \textcolor{stringliteral}{"{}  refer\_tile.m\_pos "{}} << refer\_tile.m\_pos << \textcolor{stringliteral}{"{}  refer\_tile\_getLx "{}}}
\DoxyCodeLine{00131          << refer\_tile.getRaster()-\/>getLx() << \textcolor{stringliteral}{"{}  y "{}}}
\DoxyCodeLine{00132          << refer\_tile.getRaster()-\/>getLy();}
\DoxyCodeLine{00133     \}}
\DoxyCodeLine{00134   \}}
\DoxyCodeLine{00135   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ fx処理 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00136   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00137     tile.getRaster()-\/>lock();}
\DoxyCodeLine{00138     \textcolor{keywordflow}{if} (refer\_tile.getRaster() != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{00139       refer\_tile.getRaster()-\/>lock();}
\DoxyCodeLine{00140     \}}
\DoxyCodeLine{00141     fx\_(tile.getRaster(), refer\_tile.getRaster(), refer\_mode, density);}
\DoxyCodeLine{00142     \textcolor{keywordflow}{if} (refer\_tile.getRaster() != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{00143       refer\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00144     \}}
\DoxyCodeLine{00145     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00146   \}}
\DoxyCodeLine{00147   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ error処理 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00148   \textcolor{keywordflow}{catch} (std::bad\_alloc \&e) \{}
\DoxyCodeLine{00149     \textcolor{keywordflow}{if} (refer\_tile.getRaster() != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{00150       refer\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00151     \}}
\DoxyCodeLine{00152     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00153     \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00154       std::string str(\textcolor{stringliteral}{"{}std::bad\_alloc <"{}});}
\DoxyCodeLine{00155       str += e.what();}
\DoxyCodeLine{00156       str += \textcolor{charliteral}{'>'};}
\DoxyCodeLine{00157     \}}
\DoxyCodeLine{00158     \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00159   \} \textcolor{keywordflow}{catch} (std::exception \&e) \{}
\DoxyCodeLine{00160     \textcolor{keywordflow}{if} (refer\_tile.getRaster() != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{00161       refer\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00162     \}}
\DoxyCodeLine{00163     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00164     \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00165       std::string str(\textcolor{stringliteral}{"{}exception <"{}});}
\DoxyCodeLine{00166       str += e.what();}
\DoxyCodeLine{00167       str += \textcolor{charliteral}{'>'};}
\DoxyCodeLine{00168     \}}
\DoxyCodeLine{00169     \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00170   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00171     \textcolor{keywordflow}{if} (refer\_tile.getRaster() != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{00172       refer\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00173     \}}
\DoxyCodeLine{00174     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00175     \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00176       std::string str(\textcolor{stringliteral}{"{}other exception"{}});}
\DoxyCodeLine{00177     \}}
\DoxyCodeLine{00178     \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00179   \}}
\DoxyCodeLine{00180 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__density_aebd9966e8e82798d1f8dae3d6a7f5e21}\label{classino__density_aebd9966e8e82798d1f8dae3d6a7f5e21}} 
\index{ino\_density@{ino\_density}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!ino\_density@{ino\_density}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool ino\+\_\+density\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00036                                                        \{}
\DoxyCodeLine{00037     \textcolor{keywordflow}{if} (this-\/>m\_input.isConnected()) \{}
\DoxyCodeLine{00038       \textcolor{keywordflow}{return} this-\/>m\_input-\/>doGetBBox(frame, bBox, info);}
\DoxyCodeLine{00039     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00040       bBox = \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{00041       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00042     \}}
\DoxyCodeLine{00043   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/stdfx/ino\+\_\+density.\+cpp\end{DoxyCompactItemize}
