\hypertarget{class_t_xsh_sound_column}{}\doxysection{TXsh\+Sound\+Column Class Reference}
\label{class_t_xsh_sound_column}\index{TXshSoundColumn@{TXshSoundColumn}}


{\ttfamily \#include $<$txshsoundcolumn.\+h$>$}

Inheritance diagram for TXsh\+Sound\+Column\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{class_t_xsh_sound_column}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
TXsh\+Column\+::\+Column\+Type \mbox{\hyperlink{class_t_xsh_sound_column_a69b29b9a49132ce960278c514d53ca1f}{get\+Column\+Type}} () const override
\item 
\mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}} $\ast$ \mbox{\hyperlink{class_t_xsh_sound_column_a24ef5fa4bd84363afff22aaaf56928dc}{get\+Sound\+Column}} () override
\item 
bool \mbox{\hyperlink{class_t_xsh_sound_column_a4b4ff537b0bffcaa5b17a325cd16cecc}{can\+Set\+Cell}} (const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&cell) const override
\item 
\mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$ \mbox{\hyperlink{class_t_xsh_sound_column_a56cd7e3c576a57c8a129bd6f7b489987}{clone}} () const override
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_abdf9550b8dd31d53d667b0bced635de1}{assign\+Levels}} (const \mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}} $\ast$src)
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_afef0800a3794cbcfa65becb29d64cd0c}{load\+Data}} (\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&is) override
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_aa371183e43fd991acfdb7dc6bac1b6b1}{save\+Data}} (\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&os) override
\item 
int \mbox{\hyperlink{class_t_xsh_sound_column_a1862397a8615b187936a3052bfc6f0d5}{get\+Range}} (int \&r0, int \&r1) const override
\item 
int \mbox{\hyperlink{class_t_xsh_sound_column_a6269029d5fba7c5b83aefacfd1b2caf9}{get\+Row\+Count}} () const override
\item 
int \mbox{\hyperlink{class_t_xsh_sound_column_a2a46c5f9b3126dbb1ba154d242bb2088}{get\+Max\+Frame}} () const override
\item 
int \mbox{\hyperlink{class_t_xsh_sound_column_a75802ec0d00a1cf41ba8e39fcc1ce836}{get\+First\+Row}} () const override
\item 
const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \& \mbox{\hyperlink{class_t_xsh_sound_column_a7e88d1c7f432600a7a48ecd7892f4802}{get\+Cell}} (int row) const override
\item 
\mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \mbox{\hyperlink{class_t_xsh_sound_column_a656674b6f4401aaf542358ec7cee9d59}{get\+Sound\+Cell}} (int row)
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a3e94d219e047b3e72f0ea4227f07b4c2}{get\+Cells}} (int row, int row\+Count, \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} cells\mbox{[}$\,$\mbox{]}) override
\item 
bool \mbox{\hyperlink{class_t_xsh_sound_column_a8a97a89c28078795c2d99f9587731595}{set\+Cell}} (int row, const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&cell) override
\item 
bool \mbox{\hyperlink{class_t_xsh_sound_column_a945e9138fe0e58e872813155a3755fa8}{set\+Cells}} (int row, int row\+Count, const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} cells\mbox{[}$\,$\mbox{]}) override
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_ad212e97f3506ab7dcffb33cf4159c093}{insert\+Empty\+Cells}} (int row, int row\+Count) override
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_ab5b6df2f3d422671a4e5169903279cd9}{clear\+Cells}} (int row, int row\+Count) override
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a3af2cc5599f683d8821910ec98b03c92}{remove\+Cells}} (int row, int row\+Count) override
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a0b29a421ce039fc40efd4e33efaaa62a}{update\+Cells}} (int row, int row\+Count)
\item 
int \mbox{\hyperlink{class_t_xsh_sound_column_a513720f91b054355ca6521efe8fa0a73}{modify\+Cell\+Range}} (int row, int delta, bool modify\+Start\+Value)
\item 
bool \mbox{\hyperlink{class_t_xsh_sound_column_a1b7945748069f6eb649edca26a05b766}{is\+Cell\+Empty}} (int row) const override
\item 
bool \mbox{\hyperlink{class_t_xsh_sound_column_ae50e978919de9823df378b1f7d32bc07}{get\+Level\+Range}} (int row, int \&r0, int \&r1) const override
\item 
bool \mbox{\hyperlink{class_t_xsh_sound_column_aa42f12ce33c4d55d071303149f057b6d}{get\+Level\+Range\+Without\+Offset}} (int row, int \&r0, int \&r1) const
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}{check\+Column}} () const override
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a9bd5f67989ce1e94ae40a160f7352dcc}{set\+Xsheet}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsheet) override
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a2fdb0686fec962624a8f47c05a757c08}{set\+Frame\+Rate}} (double fps)
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a628b6c7b014c5e40d9bae10d63e3ac98}{update\+Frame\+Rate}} (double fps)
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_acfb0739d911e96beaf02aa116672fd60}{set\+Volume}} (double value)
\begin{DoxyCompactList}\small\item\em From 0.\+0 to 1.\+0. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_t_xsh_sound_column_a538c2381d2a7701583f9ea3ffdbeb390}{get\+Volume}} () const
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \mbox{\hyperlink{class_t_xsh_sound_column_a40e7a0875f2b7b4dacdf3de78d5c0bc0}{get\+Current\+Play\+Sound\+Truck}} ()
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_acc1552030b74e782b389ec41c66b4d3c}{play}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} soundtrack, int s0, int s1, bool loop)
\begin{DoxyCompactList}\small\item\em s0 and s1 are samples \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a1a8a1c46fcf511b3ccdd2e7376c743fb}{play}} (\mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$ss, int current\+Frame)
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_ac289ec271cf5e22a63cc0103e937123e}{play}} (int current\+Frame=0)
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a165e0a5dd6e57f7a80003de9ed6e05fe}{stop}} ()
\item 
bool \mbox{\hyperlink{class_t_xsh_sound_column_ad44fd6a7e2cde028dce19ee4afbd0767}{is\+Playing}} () const
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_addeee1cc5d0f3b389c082981a0762710}{scrub}} (int from\+Frame, int to\+Frame)
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \mbox{\hyperlink{class_t_xsh_sound_column_a3dc3f78cd9fec803f67cd15973d464c4}{get\+Overall\+Sound\+Track}} (int from\+Frame=-\/1, int to\+Fram=-\/1, double fps=-\/1, \mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}} format=\mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}}())
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \mbox{\hyperlink{class_t_xsh_sound_column_a12a5265dc29d0dd2a0b62627a5e2083a}{mixing\+Together}} (const std\+::vector$<$ \mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}} $\ast$ $>$ \&vect, int from\+Frame=-\/1, int to\+Fram=-\/1, double fps=-\/1)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_af1d57ffb1f7fb12cbf5fe292fcfd396f}{on\+Timer\+Out}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_t_xsh_sound_column_a6cacfb2d7adc6db3527d1ccc79fc229d}{set\+Cell}} (int row, const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&cell, bool update\+Sequence)
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_aed8260a40ad9d3932c3a071909b2a04e}{remove\+Cells}} (int row, int row\+Count, bool shift)
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_aeeb5bcc8eed1675a5f7cd4eb2ed5a5c6}{set\+Cell\+In\+Empty\+Frame}} (int row, const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&cell)
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a670a4afed19322fb96f956fa2a314d6b}{insert\+Column\+Level}} (\mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$column\+Level, int index=-\/1)
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a1826e142fa97402f1381f8baa5ccc6d6}{remove\+Column\+Level}} (\mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$column\+Level)
\item 
\mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$ \mbox{\hyperlink{class_t_xsh_sound_column_a8793857dd044247ecb83242976d8a71e}{get\+Column\+Level\+By\+Frame}} (int frame) const
\item 
\mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$ \mbox{\hyperlink{class_t_xsh_sound_column_a68c30ac9fd1de4a368e84fdf5a737bed}{get\+Column\+Level}} (int index)
\item 
int \mbox{\hyperlink{class_t_xsh_sound_column_a4be5a5bbcbcac79aa2700d2434cf2025}{get\+Column\+Level\+Index}} (\mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$ss) const
\item 
void \mbox{\hyperlink{class_t_xsh_sound_column_a0e2d9ec7d0bea8964edd206b77f88fd2}{clear}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}} class provides a sound column in xsheet and allows its management through cell concept.

Inherits {\bfseries{\mbox{\hyperlink{class_t_xsh_cell_column}{TXsh\+Cell\+Column}}}}. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_xsh_sound_column_adbc70b78acfde9278112520ed8984509}\label{class_t_xsh_sound_column_adbc70b78acfde9278112520ed8984509}} 
\index{TXshSoundColumn@{TXshSoundColumn}!TXshSoundColumn@{TXshSoundColumn}}
\index{TXshSoundColumn@{TXshSoundColumn}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{TXshSoundColumn()}{TXshSoundColumn()}}
{\footnotesize\ttfamily TXsh\+Sound\+Column\+::\+TXsh\+Sound\+Column (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00156     : m\_player(0)}
\DoxyCodeLine{00157     , m\_volume(0.4)}
\DoxyCodeLine{00158     , m\_currentPlaySoundTrack(0)}
\DoxyCodeLine{00159     , m\_isOldVersion(\textcolor{keyword}{false}) \{}
\DoxyCodeLine{00160   m\_timer.setInterval(500);}
\DoxyCodeLine{00161   m\_timer.setSingleShot(\textcolor{keyword}{true});}
\DoxyCodeLine{00162   m\_timer.stop();}
\DoxyCodeLine{00163 }
\DoxyCodeLine{00164   connect(\&m\_timer, SIGNAL(timeout()), \textcolor{keyword}{this}, SLOT(onTimerOut()));}
\DoxyCodeLine{00165 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_aafdac7b3abaaa3ca3a81c1df93b84415}\label{class_t_xsh_sound_column_aafdac7b3abaaa3ca3a81c1df93b84415}} 
\index{TXshSoundColumn@{TXshSoundColumn}!````~TXshSoundColumn@{$\sim$TXshSoundColumn}}
\index{````~TXshSoundColumn@{$\sim$TXshSoundColumn}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{$\sim$TXshSoundColumn()}{~TXshSoundColumn()}}
{\footnotesize\ttfamily TXsh\+Sound\+Column\+::$\sim$\+TXsh\+Sound\+Column (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00169                                   \{}
\DoxyCodeLine{00170   clear();}
\DoxyCodeLine{00171   \textcolor{keywordflow}{if} (m\_timer.isActive()) \{}
\DoxyCodeLine{00172     m\_timer.stop();}
\DoxyCodeLine{00173     stop();}
\DoxyCodeLine{00174   \}}
\DoxyCodeLine{00175 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_xsh_sound_column_abdf9550b8dd31d53d667b0bced635de1}\label{class_t_xsh_sound_column_abdf9550b8dd31d53d667b0bced635de1}} 
\index{TXshSoundColumn@{TXshSoundColumn}!assignLevels@{assignLevels}}
\index{assignLevels@{assignLevels}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{assignLevels()}{assignLevels()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::assign\+Levels (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}} $\ast$}]{src }\end{DoxyParamCaption})}

Clear column and set src level. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00204                                                              \{}
\DoxyCodeLine{00205   \textcolor{comment}{// Svuoto la lista dei livelli}}
\DoxyCodeLine{00206   clear();}
\DoxyCodeLine{00207 }
\DoxyCodeLine{00208   \textcolor{keywordtype}{int} r;}
\DoxyCodeLine{00209   \textcolor{keywordflow}{for} (r = src-\/>\mbox{\hyperlink{class_t_xsh_sound_column_a75802ec0d00a1cf41ba8e39fcc1ce836}{getFirstRow}}(); r <= src-\/>\mbox{\hyperlink{class_t_xsh_sound_column_a2a46c5f9b3126dbb1ba154d242bb2088}{getMaxFrame}}(); r++) \{}
\DoxyCodeLine{00210     \textcolor{keywordtype}{int} r0, r1;}
\DoxyCodeLine{00211     \textcolor{keywordflow}{if} (!src-\/>\mbox{\hyperlink{class_t_xsh_sound_column_ae50e978919de9823df378b1f7d32bc07}{getLevelRange}}(r, r0, r1)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00212     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = src-\/>\mbox{\hyperlink{class_t_xsh_sound_column_a7e88d1c7f432600a7a48ecd7892f4802}{getCell}}(r);}
\DoxyCodeLine{00213     \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00214     \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_aa26f1638f7685304949b33befc0bfcc9}{getSoundLevel}}();}
\DoxyCodeLine{00215     assert(!!soundLevel);}
\DoxyCodeLine{00216     \textcolor{keywordtype}{int} startOffset = cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}().getNumber();}
\DoxyCodeLine{00217     \textcolor{keywordtype}{int} startFrame  = r -\/ startOffset;}
\DoxyCodeLine{00218     \textcolor{keywordtype}{int} endOffset   = startFrame + soundLevel-\/>getFrameCount() -\/ r1 -\/ 1;}
\DoxyCodeLine{00219     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l =}
\DoxyCodeLine{00220         \textcolor{keyword}{new} \mbox{\hyperlink{class_column_level}{ColumnLevel}}(soundLevel, startFrame, startOffset, endOffset);}
\DoxyCodeLine{00221     \mbox{\hyperlink{class_t_xsh_sound_column_a670a4afed19322fb96f956fa2a314d6b}{insertColumnLevel}}(l);}
\DoxyCodeLine{00222     r = r1;}
\DoxyCodeLine{00223   \}}
\DoxyCodeLine{00224 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00317}{get\+Cell()}}, \mbox{\hyperlink{l00310}{get\+First\+Row()}}, \mbox{\hyperlink{l00120}{TXsh\+Cell\+::get\+Frame\+Id()}}, \mbox{\hyperlink{l00678}{get\+Level\+Range()}}, \mbox{\hyperlink{l00302}{get\+Max\+Frame()}}, \mbox{\hyperlink{l00108}{TXsh\+Level\+::get\+Sound\+Level()}}, \mbox{\hyperlink{l00849}{insert\+Column\+Level()}}, and \mbox{\hyperlink{l00078}{TXsh\+Cell\+::is\+Empty()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a4b4ff537b0bffcaa5b17a325cd16cecc}\label{class_t_xsh_sound_column_a4b4ff537b0bffcaa5b17a325cd16cecc}} 
\index{TXshSoundColumn@{TXshSoundColumn}!canSetCell@{canSetCell}}
\index{canSetCell@{canSetCell}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{canSetCell()}{canSetCell()}}
{\footnotesize\ttfamily bool TXsh\+Sound\+Column\+::can\+Set\+Cell (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&}]{cell }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_xsh_cell_column}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00185                                                            \{}
\DoxyCodeLine{00186   \textcolor{keywordflow}{return} cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}() || cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_aa26f1638f7685304949b33befc0bfcc9}{getSoundLevel}}() != 0;}
\DoxyCodeLine{00187 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}\label{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}} 
\index{TXshSoundColumn@{TXshSoundColumn}!checkColumn@{checkColumn}}
\index{checkColumn@{checkColumn}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{checkColumn()}{checkColumn()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::check\+Column (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Only debug. 

Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00366                                         \{}
\DoxyCodeLine{00367 \textcolor{preprocessor}{\#ifndef NDEBUG}}
\DoxyCodeLine{00368   \textcolor{keywordtype}{int} size = m\_levels.size();}
\DoxyCodeLine{00369   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00370   \textcolor{keywordflow}{for} (i = 0; i < size; i++) \{}
\DoxyCodeLine{00371     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *level = m\_levels.at(i);}
\DoxyCodeLine{00372     assert(level);}
\DoxyCodeLine{00373     assert(level-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}());}
\DoxyCodeLine{00374     \textcolor{keywordtype}{int} start1 = level-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}();}
\DoxyCodeLine{00375     \textcolor{keywordtype}{int} end1   = level-\/>\mbox{\hyperlink{class_column_level_a8fe00c7778347f1cea87ed5af840281d}{getVisibleEndFrame}}();}
\DoxyCodeLine{00376     assert(start1 <= end1);}
\DoxyCodeLine{00377     \textcolor{keywordflow}{if} (i < size -\/ 1) \{}
\DoxyCodeLine{00378       \mbox{\hyperlink{class_column_level}{ColumnLevel}} *nextLevel = m\_levels.at(i + 1);}
\DoxyCodeLine{00379       assert(nextLevel);}
\DoxyCodeLine{00380       assert(nextLevel-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}());}
\DoxyCodeLine{00381       \textcolor{keywordtype}{int} start2 = nextLevel-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}();}
\DoxyCodeLine{00382       \textcolor{keywordtype}{int} end2   = nextLevel-\/>\mbox{\hyperlink{class_column_level_a8fe00c7778347f1cea87ed5af840281d}{getVisibleEndFrame}}();}
\DoxyCodeLine{00383       assert(start2 <= end2);}
\DoxyCodeLine{00384       assert(end1 < start2);}
\DoxyCodeLine{00385     \}}
\DoxyCodeLine{00386   \}}
\DoxyCodeLine{00387 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00388 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00053}{Column\+Level\+::get\+Sound\+Level()}}, \mbox{\hyperlink{l00127}{Column\+Level\+::get\+Visible\+End\+Frame()}}, and \mbox{\hyperlink{l00120}{Column\+Level\+::get\+Visible\+Start\+Frame()}}.



Referenced by \mbox{\hyperlink{l00392}{get\+Cells()}}, \mbox{\hyperlink{l00511}{insert\+Empty\+Cells()}}, and \mbox{\hyperlink{l00623}{modify\+Cell\+Range()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a0e2d9ec7d0bea8964edd206b77f88fd2}\label{class_t_xsh_sound_column_a0e2d9ec7d0bea8964edd206b77f88fd2}} 
\index{TXshSoundColumn@{TXshSoundColumn}!clear@{clear}}
\index{clear@{clear}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00895                             \{}
\DoxyCodeLine{00896   \textcolor{keywordtype}{int} sequenceCount = m\_levels.size();}
\DoxyCodeLine{00897   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < sequenceCount; i++) \{}
\DoxyCodeLine{00898     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *s = m\_levels[i];}
\DoxyCodeLine{00899     \textcolor{keyword}{delete} s;}
\DoxyCodeLine{00900   \}}
\DoxyCodeLine{00901   m\_levels.clear();}
\DoxyCodeLine{00902 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_ab5b6df2f3d422671a4e5169903279cd9}\label{class_t_xsh_sound_column_ab5b6df2f3d422671a4e5169903279cd9}} 
\index{TXshSoundColumn@{TXshSoundColumn}!clearCells@{clearCells}}
\index{clearCells@{clearCells}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{clearCells()}{clearCells()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::clear\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{row\+Count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Clear {\bfseries{row\+Count}} cells from line {\bfseries{row}}, without shift. 

Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_a2e143e05d7c869fb49b3c7535984b2c2}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00598                                                       \{}
\DoxyCodeLine{00599   \textcolor{keywordflow}{if} (rowCount <= 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00600   \textcolor{keywordflow}{if} (m\_levels.isEmpty())}
\DoxyCodeLine{00601     \textcolor{keywordflow}{return};  \textcolor{comment}{// se la colonna e' vuota non devo "{}sbiancare"{} celle}}
\DoxyCodeLine{00602   \mbox{\hyperlink{class_t_xsh_sound_column_a3af2cc5599f683d8821910ec98b03c92}{removeCells}}(row, rowCount, \textcolor{keyword}{false});}
\DoxyCodeLine{00603 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00607}{remove\+Cells()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a56cd7e3c576a57c8a129bd6f7b489987}\label{class_t_xsh_sound_column_a56cd7e3c576a57c8a129bd6f7b489987}} 
\index{TXshSoundColumn@{TXshSoundColumn}!clone@{clone}}
\index{clone@{clone}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$ TXsh\+Sound\+Column\+::clone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00191                                          \{}
\DoxyCodeLine{00192   \mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}} *column = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}}();}
\DoxyCodeLine{00193   column-\/>setVolume(m\_volume);}
\DoxyCodeLine{00194   column-\/>setXsheet(\mbox{\hyperlink{class_t_xsh_column_a2d812ed804dba4d8d91482a5f35e2601}{getXsheet}}());}
\DoxyCodeLine{00195   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00196   \textcolor{keywordflow}{for} (i = 0; i < m\_levels.size(); i++)}
\DoxyCodeLine{00197     column-\/>insertColumnLevel(m\_levels.at(i)-\/>clone(), i);}
\DoxyCodeLine{00198 }
\DoxyCodeLine{00199   \textcolor{keywordflow}{return} column;}
\DoxyCodeLine{00200 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a7e88d1c7f432600a7a48ecd7892f4802}\label{class_t_xsh_sound_column_a7e88d1c7f432600a7a48ecd7892f4802}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getCell@{getCell}}
\index{getCell@{getCell}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getCell()}{getCell()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \& TXsh\+Sound\+Column\+::get\+Cell (\begin{DoxyParamCaption}\item[{int}]{row }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Return cell in {\bfseries{row}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsh_sound_column_a3e94d219e047b3e72f0ea4227f07b4c2}{get\+Cells}} and \mbox{\hyperlink{class_t_xsh_sound_column_a8a97a89c28078795c2d99f9587731595}{set\+Cell()}} 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00317                                                       \{}
\DoxyCodeLine{00318   \textcolor{keyword}{static} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} emptyCell;}
\DoxyCodeLine{00319 }
\DoxyCodeLine{00320   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = getColumnLevelByFrame(row);}
\DoxyCodeLine{00321   \textcolor{keywordflow}{if} (row < 0 || row < \mbox{\hyperlink{class_t_xsh_sound_column_a75802ec0d00a1cf41ba8e39fcc1ce836}{getFirstRow}}() || row > \mbox{\hyperlink{class_t_xsh_sound_column_a2a46c5f9b3126dbb1ba154d242bb2088}{getMaxFrame}}()) \{}
\DoxyCodeLine{00322     \textcolor{keywordflow}{if} (l) emptyCell.m\_level = l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}();}
\DoxyCodeLine{00323     \textcolor{keywordflow}{return} emptyCell;}
\DoxyCodeLine{00324   \}}
\DoxyCodeLine{00325 }
\DoxyCodeLine{00326   \textcolor{keywordflow}{if} (!l) \textcolor{keywordflow}{return} emptyCell;}
\DoxyCodeLine{00327   \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}();}
\DoxyCodeLine{00328   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} *cell = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}(soundLevel, \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(row -\/ l-\/>getStartFrame()));}
\DoxyCodeLine{00329   \textcolor{comment}{// The new cell adds a reference to the TXshSoundLevel;}}
\DoxyCodeLine{00330   \textcolor{comment}{// since the cells of the TXshSoundColumn are not persistent structures}}
\DoxyCodeLine{00331   \textcolor{comment}{// but are dynamic structures (they are recreated every time) I have to take}}
\DoxyCodeLine{00332   \textcolor{comment}{// care of making the release otherwise the TXshSoundLevel is never thrown}}
\DoxyCodeLine{00333   \textcolor{comment}{// away.}}
\DoxyCodeLine{00334   soundLevel-\/>release();}
\DoxyCodeLine{00335   \textcolor{keywordflow}{return} *cell;}
\DoxyCodeLine{00336 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00310}{get\+First\+Row()}}, \mbox{\hyperlink{l00302}{get\+Max\+Frame()}}, and \mbox{\hyperlink{l00053}{Column\+Level\+::get\+Sound\+Level()}}.



Referenced by \mbox{\hyperlink{l00204}{assign\+Levels()}}, \mbox{\hyperlink{l00392}{get\+Cells()}}, and \mbox{\hyperlink{l00613}{update\+Cells()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a3e94d219e047b3e72f0ea4227f07b4c2}\label{class_t_xsh_sound_column_a3e94d219e047b3e72f0ea4227f07b4c2}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getCells@{getCells}}
\index{getCells@{getCells}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getCells()}{getCells()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::get\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{row\+Count,  }\item[{\mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}}}]{cells\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Set {\bfseries{cells}}\mbox{[}\mbox{]} from {\bfseries{row}} to {\bfseries{row}} + {\bfseries{row\+Count}} to column cells. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsh_sound_column_a7e88d1c7f432600a7a48ecd7892f4802}{get\+Cell}} and \mbox{\hyperlink{class_t_xsh_sound_column_a945e9138fe0e58e872813155a3755fa8}{set\+Cells()}} 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_ac977346c15e229ba4ab069d6bb2d82f8}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00392                                                                       \{}
\DoxyCodeLine{00393   \textcolor{comment}{// le celle da settare sono [ra, rb]}}
\DoxyCodeLine{00394   \textcolor{keywordtype}{int} ra = row;}
\DoxyCodeLine{00395   \textcolor{keywordtype}{int} rb = row + rowCount -\/ 1;}
\DoxyCodeLine{00396   assert(ra <= rb);}
\DoxyCodeLine{00397   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} *dstCell = cells;}
\DoxyCodeLine{00398   \textcolor{keywordtype}{int} r;}
\DoxyCodeLine{00399   \textcolor{keywordflow}{for} (r = ra; r <= rb; r++) *cells++ = \mbox{\hyperlink{class_t_xsh_sound_column_a7e88d1c7f432600a7a48ecd7892f4802}{getCell}}(r);}
\DoxyCodeLine{00400   \mbox{\hyperlink{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}{checkColumn}}();}
\DoxyCodeLine{00401 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00366}{check\+Column()}}, and \mbox{\hyperlink{l00317}{get\+Cell()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a68c30ac9fd1de4a368e84fdf5a737bed}\label{class_t_xsh_sound_column_a68c30ac9fd1de4a368e84fdf5a737bed}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getColumnLevel@{getColumnLevel}}
\index{getColumnLevel@{getColumnLevel}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getColumnLevel()}{getColumnLevel()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$ TXsh\+Sound\+Column\+::get\+Column\+Level (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00882                                                       \{}
\DoxyCodeLine{00883   \textcolor{keywordflow}{if} (index < 0 || index >= m\_levels.count()) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00884   \textcolor{keywordflow}{return} m\_levels.at(index);}
\DoxyCodeLine{00885 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a8793857dd044247ecb83242976d8a71e}\label{class_t_xsh_sound_column_a8793857dd044247ecb83242976d8a71e}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getColumnLevelByFrame@{getColumnLevelByFrame}}
\index{getColumnLevelByFrame@{getColumnLevelByFrame}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getColumnLevelByFrame()}{getColumnLevelByFrame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$ TXsh\+Sound\+Column\+::get\+Column\+Level\+By\+Frame (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00867                                                                    \{}
\DoxyCodeLine{00868   \textcolor{keywordtype}{int} levelCount = m\_levels.size();}
\DoxyCodeLine{00869   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < levelCount; i++) \{}
\DoxyCodeLine{00870     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l             = m\_levels.at(i);}
\DoxyCodeLine{00871     \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}();}
\DoxyCodeLine{00872     \textcolor{keywordtype}{int} startFrame             = l-\/>getStartFrame() + l-\/>getStartOffset();}
\DoxyCodeLine{00873     \textcolor{keywordtype}{int} frameCount =}
\DoxyCodeLine{00874         soundLevel-\/>getFrameCount() -\/ l-\/>getStartOffset() -\/ l-\/>getEndOffset();}
\DoxyCodeLine{00875     \textcolor{keywordflow}{if} (startFrame <= frame \&\& startFrame + frameCount > frame) \textcolor{keywordflow}{return} l;}
\DoxyCodeLine{00876   \}}
\DoxyCodeLine{00877   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00878 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a4be5a5bbcbcac79aa2700d2434cf2025}\label{class_t_xsh_sound_column_a4be5a5bbcbcac79aa2700d2434cf2025}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getColumnLevelIndex@{getColumnLevelIndex}}
\index{getColumnLevelIndex@{getColumnLevelIndex}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getColumnLevelIndex()}{getColumnLevelIndex()}}
{\footnotesize\ttfamily int TXsh\+Sound\+Column\+::get\+Column\+Level\+Index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$}]{ss }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00889                                                                        \{}
\DoxyCodeLine{00890   \textcolor{keywordflow}{return} m\_levels.indexOf(columnLevel);}
\DoxyCodeLine{00891 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a69b29b9a49132ce960278c514d53ca1f}\label{class_t_xsh_sound_column_a69b29b9a49132ce960278c514d53ca1f}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getColumnType@{getColumnType}}
\index{getColumnType@{getColumnType}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getColumnType()}{getColumnType()}}
{\footnotesize\ttfamily TXsh\+Column\+::\+Column\+Type TXsh\+Sound\+Column\+::get\+Column\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00179                                                           \{}
\DoxyCodeLine{00180   \textcolor{keywordflow}{return} eSoundType;}
\DoxyCodeLine{00181 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a40e7a0875f2b7b4dacdf3de78d5c0bc0}\label{class_t_xsh_sound_column_a40e7a0875f2b7b4dacdf3de78d5c0bc0}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getCurrentPlaySoundTruck@{getCurrentPlaySoundTruck}}
\index{getCurrentPlaySoundTruck@{getCurrentPlaySoundTruck}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getCurrentPlaySoundTruck()}{getCurrentPlaySoundTruck()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} TXsh\+Sound\+Column\+::get\+Current\+Play\+Sound\+Truck (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00182 \{ \textcolor{keywordflow}{return} m\_currentPlaySoundTrack; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a75802ec0d00a1cf41ba8e39fcc1ce836}\label{class_t_xsh_sound_column_a75802ec0d00a1cf41ba8e39fcc1ce836}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getFirstRow@{getFirstRow}}
\index{getFirstRow@{getFirstRow}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getFirstRow()}{getFirstRow()}}
{\footnotesize\ttfamily int TXsh\+Sound\+Column\+::get\+First\+Row (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Return min row not empty. 

Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_ad70a850bd9a11c11660a38d11559690f}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00310                                        \{}
\DoxyCodeLine{00311   \textcolor{keywordflow}{if} (m\_levels.size() == 0) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00312   \textcolor{keywordflow}{return} m\_levels.at(0)-\/>getVisibleStartFrame();}
\DoxyCodeLine{00313 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00204}{assign\+Levels()}}, \mbox{\hyperlink{l00317}{get\+Cell()}}, \mbox{\hyperlink{l00288}{get\+Range()}}, and \mbox{\hyperlink{l00296}{get\+Row\+Count()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_ae50e978919de9823df378b1f7d32bc07}\label{class_t_xsh_sound_column_ae50e978919de9823df378b1f7d32bc07}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getLevelRange@{getLevelRange}}
\index{getLevelRange@{getLevelRange}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getLevelRange()}{getLevelRange()}}
{\footnotesize\ttfamily bool TXsh\+Sound\+Column\+::get\+Level\+Range (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int \&}]{r0,  }\item[{int \&}]{r1 }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

r0 \+: min row not empty of level in row, r1 \+: max row not empty of level in row. Return true if level range is not empty. 

Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_ab78c772a22580d87a6198d9076d147cf}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00678                                                                    \{}
\DoxyCodeLine{00679   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = getColumnLevelByFrame(row);}
\DoxyCodeLine{00680   \textcolor{keywordflow}{if} (!l) \{}
\DoxyCodeLine{00681     r0 = r1 = row;}
\DoxyCodeLine{00682     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00683   \}}
\DoxyCodeLine{00684   r0 = l-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}();}
\DoxyCodeLine{00685   r1 = l-\/>\mbox{\hyperlink{class_column_level_a8fe00c7778347f1cea87ed5af840281d}{getVisibleEndFrame}}();}
\DoxyCodeLine{00686   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00687 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00127}{Column\+Level\+::get\+Visible\+End\+Frame()}}, and \mbox{\hyperlink{l00120}{Column\+Level\+::get\+Visible\+Start\+Frame()}}.



Referenced by \mbox{\hyperlink{l00204}{assign\+Levels()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_aa42f12ce33c4d55d071303149f057b6d}\label{class_t_xsh_sound_column_aa42f12ce33c4d55d071303149f057b6d}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getLevelRangeWithoutOffset@{getLevelRangeWithoutOffset}}
\index{getLevelRangeWithoutOffset@{getLevelRangeWithoutOffset}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getLevelRangeWithoutOffset()}{getLevelRangeWithoutOffset()}}
{\footnotesize\ttfamily bool TXsh\+Sound\+Column\+::get\+Level\+Range\+Without\+Offset (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int \&}]{r0,  }\item[{int \&}]{r1 }\end{DoxyParamCaption}) const}

r0 \+: min possible (without offset) row of level in row, r1 \+: max possible (without offset) row of level in row. Return true if level range is not empty. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00692                                                                 \{}
\DoxyCodeLine{00693   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = getColumnLevelByFrame(row);}
\DoxyCodeLine{00694   \textcolor{keywordflow}{if} (!l) \{}
\DoxyCodeLine{00695     r0 = r1 = row;}
\DoxyCodeLine{00696     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00697   \}}
\DoxyCodeLine{00698   r0 = l-\/>getStartFrame();}
\DoxyCodeLine{00699   r1 = l-\/>\mbox{\hyperlink{class_column_level_a883dc883189d8cb3fba5228221921985}{getEndFrame}}();}
\DoxyCodeLine{00700   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00701 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00099}{Column\+Level\+::get\+End\+Frame()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a2a46c5f9b3126dbb1ba154d242bb2088}\label{class_t_xsh_sound_column_a2a46c5f9b3126dbb1ba154d242bb2088}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getMaxFrame@{getMaxFrame}}
\index{getMaxFrame@{getMaxFrame}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getMaxFrame()}{getMaxFrame()}}
{\footnotesize\ttfamily int TXsh\+Sound\+Column\+::get\+Max\+Frame (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Return max row not empty. 

Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_abb9061ec897fb594f9a8a580b6e36d9e}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00302                                        \{}
\DoxyCodeLine{00303   \textcolor{keywordtype}{int} levelsCount = m\_levels.size();}
\DoxyCodeLine{00304   \textcolor{keywordflow}{if} (levelsCount == 0) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00305   \textcolor{keywordflow}{return} m\_levels.at(levelsCount -\/ 1)-\/>getVisibleEndFrame();}
\DoxyCodeLine{00306 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00204}{assign\+Levels()}}, \mbox{\hyperlink{l00317}{get\+Cell()}}, \mbox{\hyperlink{l00288}{get\+Range()}}, and \mbox{\hyperlink{l00296}{get\+Row\+Count()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a3dc3f78cd9fec803f67cd15973d464c4}\label{class_t_xsh_sound_column_a3dc3f78cd9fec803f67cd15973d464c4}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getOverallSoundTrack@{getOverallSoundTrack}}
\index{getOverallSoundTrack@{getOverallSoundTrack}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getOverallSoundTrack()}{getOverallSoundTrack()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} TXsh\+Sound\+Column\+::get\+Overall\+Sound\+Track (\begin{DoxyParamCaption}\item[{int}]{from\+Frame = {\ttfamily -\/1},  }\item[{int}]{to\+Fram = {\ttfamily -\/1},  }\item[{double}]{fps = {\ttfamily -\/1},  }\item[{\mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}}}]{format = {\ttfamily \mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}}()} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00932                                                                              \{}
\DoxyCodeLine{00933   \textcolor{keywordtype}{int} levelsCount = m\_levels.size();}
\DoxyCodeLine{00934 }
\DoxyCodeLine{00935   \textcolor{keywordflow}{if} (levelsCount == 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00936 }
\DoxyCodeLine{00937   \textcolor{keywordflow}{if} (fps == -\/1) fps = m\_levels[0]-\/>getSoundLevel()-\/>getFrameRate();}
\DoxyCodeLine{00938   \textcolor{keywordflow}{if} (fromFrame == -\/1) fromFrame = \mbox{\hyperlink{class_t_xsh_sound_column_a75802ec0d00a1cf41ba8e39fcc1ce836}{getFirstRow}}();}
\DoxyCodeLine{00939   \textcolor{keywordflow}{if} (toFrame == -\/1) toFrame = \mbox{\hyperlink{class_t_xsh_sound_column_a2a46c5f9b3126dbb1ba154d242bb2088}{getMaxFrame}}();}
\DoxyCodeLine{00940 }
\DoxyCodeLine{00941   \textcolor{keywordflow}{if} (format.m\_sampleRate == 0) \{}
\DoxyCodeLine{00942     \textcolor{comment}{// Find the best format inside the soundsequences}}
\DoxyCodeLine{00943     \textcolor{keywordtype}{int} sampleRate    = 0;}
\DoxyCodeLine{00944     \textcolor{keywordtype}{int} bitsPerSample = 8;}
\DoxyCodeLine{00945     \textcolor{keywordtype}{int} channels      = 1;}
\DoxyCodeLine{00946     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < levelsCount; i++) \{}
\DoxyCodeLine{00947       \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = m\_levels.at(i)-\/>getSoundLevel();}
\DoxyCodeLine{00948       \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} soundTrack    = soundLevel-\/>getSoundTrack();}
\DoxyCodeLine{00949       \textcolor{keywordflow}{if} (soundTrack.getPointer() == 0) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00950       \mbox{\hyperlink{class_t_sound_track_format}{TSoundTrackFormat}} f = soundTrack-\/>\mbox{\hyperlink{class_t_sound_track_aa58db0cee313f7174bc023e295b701a9}{getFormat}}();}
\DoxyCodeLine{00951       \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})f.m\_sampleRate > sampleRate) \{}
\DoxyCodeLine{00952         format.m\_sampleRate   = f.m\_sampleRate;}
\DoxyCodeLine{00953         sampleRate            = f.m\_sampleRate;}
\DoxyCodeLine{00954         format.m\_channelCount = f.m\_channelCount;}
\DoxyCodeLine{00955         channels              = f.m\_channelCount;}
\DoxyCodeLine{00956         format.m\_signedSample = f.m\_signedSample;}
\DoxyCodeLine{00957         format.m\_bitPerSample = f.m\_bitPerSample;}
\DoxyCodeLine{00958         bitsPerSample         = f.m\_bitPerSample;}
\DoxyCodeLine{00959       \}}
\DoxyCodeLine{00960       \textcolor{keywordflow}{if} (f.m\_channelCount > channels) \{}
\DoxyCodeLine{00961         format.m\_channelCount = f.m\_channelCount;}
\DoxyCodeLine{00962         channels              = f.m\_channelCount;}
\DoxyCodeLine{00963       \}}
\DoxyCodeLine{00964       \textcolor{keywordflow}{if} (f.m\_bitPerSample > bitsPerSample) \{}
\DoxyCodeLine{00965         format.m\_bitPerSample = f.m\_bitPerSample;}
\DoxyCodeLine{00966         bitsPerSample         = f.m\_bitPerSample;}
\DoxyCodeLine{00967       \}}
\DoxyCodeLine{00968     \}}
\DoxyCodeLine{00969   \}}
\DoxyCodeLine{00970 }
\DoxyCodeLine{00971   \textcolor{comment}{// If there is no soundSequence I use a default format}}
\DoxyCodeLine{00972   \textcolor{keywordflow}{if} (levelsCount == 0 || format.m\_sampleRate == 0) \{}
\DoxyCodeLine{00973     format.m\_sampleRate   = 44100;}
\DoxyCodeLine{00974     format.m\_bitPerSample = 16;}
\DoxyCodeLine{00975     format.m\_channelCount = 1;}
\DoxyCodeLine{00976     format.m\_signedSample = \textcolor{keyword}{true};}
\DoxyCodeLine{00977   \}}
\DoxyCodeLine{00978 }
\DoxyCodeLine{00979 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00980   \textcolor{keywordflow}{if} (format.m\_sampleRate > 44100) format.m\_sampleRate = 44100;}
\DoxyCodeLine{00981 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00982   QAudioDeviceInfo info(QAudioDeviceInfo::defaultOutputDevice());}
\DoxyCodeLine{00983   \textcolor{keywordflow}{if} (info.deviceName().length() == 0)}
\DoxyCodeLine{00984     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}}(TSoundDeviceException::NoDevice,}
\DoxyCodeLine{00985                                 \textcolor{stringliteral}{"{}No device found, check QAudio backends"{}});}
\DoxyCodeLine{00986   QList<int> ssrs = info.supportedSampleRates();}
\DoxyCodeLine{00987   \textcolor{keywordflow}{if} (!ssrs.contains(format.m\_sampleRate)) format.m\_sampleRate = 44100;}
\DoxyCodeLine{00988   QAudioFormat qFormat;}
\DoxyCodeLine{00989   qFormat.setSampleRate(format.m\_sampleRate);}
\DoxyCodeLine{00990   qFormat.setSampleType(format.m\_signedSample ? QAudioFormat::SignedInt}
\DoxyCodeLine{00991                                               : QAudioFormat::UnSignedInt);}
\DoxyCodeLine{00992   qFormat.setSampleSize(format.m\_bitPerSample);}
\DoxyCodeLine{00993   qFormat.setCodec(\textcolor{stringliteral}{"{}audio/pcm"{}});}
\DoxyCodeLine{00994   qFormat.setChannelCount(format.m\_channelCount);}
\DoxyCodeLine{00995   qFormat.setByteOrder(QAudioFormat::LittleEndian);}
\DoxyCodeLine{00996   \textcolor{keywordflow}{if} (!info.isFormatSupported((qFormat))) \{}
\DoxyCodeLine{00997     qFormat = info.nearestFormat(qFormat);}
\DoxyCodeLine{00998     format.m\_bitPerSample = qFormat.sampleSize();}
\DoxyCodeLine{00999     format.m\_channelCount = qFormat.channelCount();}
\DoxyCodeLine{01000     format.m\_sampleRate = qFormat.sampleRate();}
\DoxyCodeLine{01001     \textcolor{keywordflow}{if} (qFormat.sampleType() == QAudioFormat::SignedInt)}
\DoxyCodeLine{01002       format.m\_signedSample = \textcolor{keyword}{true};}
\DoxyCodeLine{01003     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01004       format.m\_signedSample = \textcolor{keyword}{false};}
\DoxyCodeLine{01005   \}}
\DoxyCodeLine{01006 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01007   \textcolor{comment}{// Create the soundTrack}}
\DoxyCodeLine{01008   \textcolor{keywordtype}{double} samplePerFrame = format.m\_sampleRate / fps;}
\DoxyCodeLine{01009 }
\DoxyCodeLine{01010   \textcolor{comment}{// In seconds}}
\DoxyCodeLine{01011   \textcolor{keywordtype}{double} duration = double(toFrame -\/ fromFrame) / fps;}
\DoxyCodeLine{01012 }
\DoxyCodeLine{01013   \textcolor{comment}{// Seconds to Sample  (it is more accurate than using sampleCount}}
\DoxyCodeLine{01014   \textcolor{keywordtype}{double} dsamp = duration * format.m\_sampleRate;}
\DoxyCodeLine{01015   TINT32 lsamp = (TINT32)dsamp;}
\DoxyCodeLine{01016   \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{double})lsamp < dsamp -\/ TConsts::epsilon) lsamp++;}
\DoxyCodeLine{01017 }
\DoxyCodeLine{01018   \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} overallSoundTrack;}
\DoxyCodeLine{01019 }
\DoxyCodeLine{01020   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01021     overallSoundTrack = \mbox{\hyperlink{class_t_sound_track_a9a83177a9a5b9a7470f32b87e7f21f3d}{TSoundTrack::create}}(format, lsamp);}
\DoxyCodeLine{01022   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&) \{}
\DoxyCodeLine{01023   \}}
\DoxyCodeLine{01024 }
\DoxyCodeLine{01025   \textcolor{comment}{// Blank the whole track}}
\DoxyCodeLine{01026   overallSoundTrack-\/>\mbox{\hyperlink{class_t_sound_track_a4c1166b839c24644144e0fc0a49e0fc8}{blank}}(0, lsamp);}
\DoxyCodeLine{01027 }
\DoxyCodeLine{01028   \textcolor{keywordflow}{if} (levelsCount == 0) \textcolor{keywordflow}{return} overallSoundTrack;}
\DoxyCodeLine{01029 }
\DoxyCodeLine{01030   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < levelsCount; i++) \{}
\DoxyCodeLine{01031     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l             = m\_levels.at(i);}
\DoxyCodeLine{01032     \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}();}
\DoxyCodeLine{01033 }
\DoxyCodeLine{01034     \textcolor{comment}{// Check if the soundtrack is inside the frame Range.}}
\DoxyCodeLine{01035     \textcolor{keywordtype}{int} levelStartFrame = l-\/>getStartFrame() + l-\/>getStartOffset();}
\DoxyCodeLine{01036     \textcolor{keywordtype}{int} levelEndFrame   = levelStartFrame + soundLevel-\/>getFrameCount() -\/}
\DoxyCodeLine{01037                         l-\/>getStartOffset() -\/ l-\/>getEndOffset();}
\DoxyCodeLine{01038     \textcolor{comment}{// If the soundSequence is completely before fromFrame I will skip it}}
\DoxyCodeLine{01039     \textcolor{keywordflow}{if} ((levelStartFrame < fromFrame \&\& levelEndFrame < fromFrame)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01040     \textcolor{comment}{// If the soundSequence is after toFrame I don't check the others (that}}
\DoxyCodeLine{01041     \textcolor{comment}{// comes later..)}}
\DoxyCodeLine{01042     \textcolor{keywordflow}{if} ((levelStartFrame > toFrame \&\& levelEndFrame > toFrame)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01043 }
\DoxyCodeLine{01044     \textcolor{comment}{// Extract the right soundTrack (using the offsets)}}
\DoxyCodeLine{01045     \textcolor{comment}{// (pay attention to convert it before)}}
\DoxyCodeLine{01046     \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} s = soundLevel-\/>getSoundTrack();}
\DoxyCodeLine{01047     \textcolor{keywordflow}{if} (!s) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01048     \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} soundTrack = \mbox{\hyperlink{namespace_t_sop_a7b9eba10396f90035ab0b2b9ad127e96}{TSop::convert}}(s, format);}
\DoxyCodeLine{01049 }
\DoxyCodeLine{01050     \textcolor{keywordtype}{int} s0delta = 0;}
\DoxyCodeLine{01051     \textcolor{keywordflow}{if} (fromFrame > levelStartFrame) s0delta = fromFrame -\/ levelStartFrame;}
\DoxyCodeLine{01052 }
\DoxyCodeLine{01053     \textcolor{keywordtype}{int} s0 = (l-\/>getStartOffset() + s0delta) * samplePerFrame;}
\DoxyCodeLine{01054 }
\DoxyCodeLine{01055     \textcolor{keywordtype}{int} s1delta = 0;}
\DoxyCodeLine{01056     \textcolor{keywordflow}{if} (toFrame < levelEndFrame) s1delta = levelEndFrame -\/ toFrame;}
\DoxyCodeLine{01057     \textcolor{keywordtype}{int} s1 = (soundLevel-\/>getFrameCount() -\/ l-\/>getEndOffset() -\/ s1delta) *}
\DoxyCodeLine{01058              samplePerFrame;}
\DoxyCodeLine{01059 }
\DoxyCodeLine{01060     \textcolor{keywordflow}{if} (s1 > 0 \&\& s1 >= s0) \{}
\DoxyCodeLine{01061       soundTrack = soundTrack-\/>\mbox{\hyperlink{class_t_sound_track_a6efbb9d14bb633cff1257095eba11096}{extract}}(s0, s1);}
\DoxyCodeLine{01062 }
\DoxyCodeLine{01063       \textcolor{comment}{// Copy the sound track}}
\DoxyCodeLine{01064       overallSoundTrack-\/>\mbox{\hyperlink{class_t_sound_track_a77370b67b41927689f5490bbe15a907d}{copy}}(}
\DoxyCodeLine{01065           soundTrack,}
\DoxyCodeLine{01066           \textcolor{keywordtype}{int}((levelStartFrame -\/ fromFrame) *}
\DoxyCodeLine{01067               samplePerFrame));  \textcolor{comment}{// The int cast is IMPORTANT, since}}
\DoxyCodeLine{01068     \}                            \textcolor{comment}{// there are 2 overloads (int \& double)}}
\DoxyCodeLine{01069   \}                              \textcolor{comment}{// with DIFFERENT SCALES. We mean the}}
\DoxyCodeLine{01070                                  \textcolor{comment}{// SAMPLES-\/BASED one.}}
\DoxyCodeLine{01071   \textcolor{keywordflow}{return} overallSoundTrack;}
\DoxyCodeLine{01072 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a1862397a8615b187936a3052bfc6f0d5}\label{class_t_xsh_sound_column_a1862397a8615b187936a3052bfc6f0d5}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getRange@{getRange}}
\index{getRange@{getRange}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getRange()}{getRange()}}
{\footnotesize\ttfamily int TXsh\+Sound\+Column\+::get\+Range (\begin{DoxyParamCaption}\item[{int \&}]{r0,  }\item[{int \&}]{r1 }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

r0 \+: min row not empty, r1 \+: max row not empty. Return row count. 

Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_ab684089dcfd22454e7cbad249a04e29c}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00288                                                     \{}
\DoxyCodeLine{00289   r0 = \mbox{\hyperlink{class_t_xsh_sound_column_a75802ec0d00a1cf41ba8e39fcc1ce836}{getFirstRow}}();}
\DoxyCodeLine{00290   r1 = \mbox{\hyperlink{class_t_xsh_sound_column_a2a46c5f9b3126dbb1ba154d242bb2088}{getMaxFrame}}();}
\DoxyCodeLine{00291   \textcolor{keywordflow}{return} r1 -\/ r0 + 1;}
\DoxyCodeLine{00292 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00310}{get\+First\+Row()}}, and \mbox{\hyperlink{l00302}{get\+Max\+Frame()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a6269029d5fba7c5b83aefacfd1b2caf9}\label{class_t_xsh_sound_column_a6269029d5fba7c5b83aefacfd1b2caf9}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getRowCount@{getRowCount}}
\index{getRowCount@{getRowCount}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getRowCount()}{getRowCount()}}
{\footnotesize\ttfamily int TXsh\+Sound\+Column\+::get\+Row\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Last not empty row -\/ first not empty row. 

Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_a61c3721599568e5078baeaa2775d9016}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00296                                        \{}
\DoxyCodeLine{00297   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_xsh_sound_column_a2a46c5f9b3126dbb1ba154d242bb2088}{getMaxFrame}}() -\/ \mbox{\hyperlink{class_t_xsh_sound_column_a75802ec0d00a1cf41ba8e39fcc1ce836}{getFirstRow}}();}
\DoxyCodeLine{00298 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00310}{get\+First\+Row()}}, and \mbox{\hyperlink{l00302}{get\+Max\+Frame()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a656674b6f4401aaf542358ec7cee9d59}\label{class_t_xsh_sound_column_a656674b6f4401aaf542358ec7cee9d59}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getSoundCell@{getSoundCell}}
\index{getSoundCell@{getSoundCell}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getSoundCell()}{getSoundCell()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} TXsh\+Sound\+Column\+::get\+Sound\+Cell (\begin{DoxyParamCaption}\item[{int}]{row }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00340                                               \{}
\DoxyCodeLine{00341   \textcolor{keyword}{static} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} emptyCell;}
\DoxyCodeLine{00342 }
\DoxyCodeLine{00343   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = getColumnLevelByFrame(row);}
\DoxyCodeLine{00344   \textcolor{keywordflow}{if} (row < 0 || row < \mbox{\hyperlink{class_t_xsh_sound_column_a75802ec0d00a1cf41ba8e39fcc1ce836}{getFirstRow}}() || row > \mbox{\hyperlink{class_t_xsh_sound_column_a2a46c5f9b3126dbb1ba154d242bb2088}{getMaxFrame}}()) \{}
\DoxyCodeLine{00345     \textcolor{keywordflow}{if} (l) emptyCell.m\_level = l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}();}
\DoxyCodeLine{00346     \textcolor{keywordflow}{return} emptyCell;}
\DoxyCodeLine{00347   \}}
\DoxyCodeLine{00348 }
\DoxyCodeLine{00349   \textcolor{keywordflow}{if} (!l) \textcolor{keywordflow}{return} emptyCell;}
\DoxyCodeLine{00350   \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}();}
\DoxyCodeLine{00351   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell(soundLevel, \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(row -\/ l-\/>getStartFrame()));}
\DoxyCodeLine{00352   \textcolor{keywordflow}{return} cell;}
\DoxyCodeLine{00353 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a24ef5fa4bd84363afff22aaaf56928dc}\label{class_t_xsh_sound_column_a24ef5fa4bd84363afff22aaaf56928dc}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getSoundColumn@{getSoundColumn}}
\index{getSoundColumn@{getSoundColumn}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getSoundColumn()}{getSoundColumn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}} $\ast$ TXsh\+Sound\+Column\+::get\+Sound\+Column (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00118 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{this}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a538c2381d2a7701583f9ea3ffdbeb390}\label{class_t_xsh_sound_column_a538c2381d2a7701583f9ea3ffdbeb390}} 
\index{TXshSoundColumn@{TXshSoundColumn}!getVolume@{getVolume}}
\index{getVolume@{getVolume}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{getVolume()}{getVolume()}}
{\footnotesize\ttfamily double TXsh\+Sound\+Column\+::get\+Volume (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00761 \{ \textcolor{keywordflow}{return} m\_volume; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a670a4afed19322fb96f956fa2a314d6b}\label{class_t_xsh_sound_column_a670a4afed19322fb96f956fa2a314d6b}} 
\index{TXshSoundColumn@{TXshSoundColumn}!insertColumnLevel@{insertColumnLevel}}
\index{insertColumnLevel@{insertColumnLevel}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{insertColumnLevel()}{insertColumnLevel()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::insert\+Column\+Level (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$}]{column\+Level,  }\item[{int}]{index = {\ttfamily -\/1} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

If index == -\/1 insert sound\+Column\+Level at last and than order sound\+Column\+Level by start\+Frame. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00849                                                                            \{}
\DoxyCodeLine{00850   \textcolor{keywordflow}{if} (index == -\/1) index = m\_levels.size();}
\DoxyCodeLine{00851   m\_levels.insert(index, columnLevel);}
\DoxyCodeLine{00852   std::sort(m\_levels.begin(), m\_levels.end(), lessThan);}
\DoxyCodeLine{00853 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00204}{assign\+Levels()}}, \mbox{\hyperlink{l00511}{insert\+Empty\+Cells()}}, and \mbox{\hyperlink{l00228}{load\+Data()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_ad212e97f3506ab7dcffb33cf4159c093}\label{class_t_xsh_sound_column_ad212e97f3506ab7dcffb33cf4159c093}} 
\index{TXshSoundColumn@{TXshSoundColumn}!insertEmptyCells@{insertEmptyCells}}
\index{insertEmptyCells@{insertEmptyCells}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{insertEmptyCells()}{insertEmptyCells()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::insert\+Empty\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{row\+Count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Insert {\bfseries{row\+Count}} empty cells from line {\bfseries{row}}. 

Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_ac256660fc32543ab27d3e56149ca328d}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00511                                                             \{}
\DoxyCodeLine{00512   \textcolor{keywordflow}{if} (m\_levels.isEmpty())}
\DoxyCodeLine{00513     \textcolor{keywordflow}{return};  \textcolor{comment}{// se la colonna e' vuota non devo inserire celle}}
\DoxyCodeLine{00514 }
\DoxyCodeLine{00515   \textcolor{keywordtype}{int} ra = row;}
\DoxyCodeLine{00516   \textcolor{keywordtype}{int} rb = row + rowCount -\/ 1;}
\DoxyCodeLine{00517   assert(ra <= rb);}
\DoxyCodeLine{00518 }
\DoxyCodeLine{00519   \textcolor{comment}{// Se il livello nella riga ra inizia prima devo "{}spezzarlo"{}}}
\DoxyCodeLine{00520   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = getColumnLevelByFrame(ra);}
\DoxyCodeLine{00521   \textcolor{keywordflow}{if} (l \&\& l-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}() < ra) \{}
\DoxyCodeLine{00522     \textcolor{keywordtype}{int} oldOffset = l-\/>getEndOffset();}
\DoxyCodeLine{00523     l-\/>setEndOffset(oldOffset + l-\/>\mbox{\hyperlink{class_column_level_a8fe00c7778347f1cea87ed5af840281d}{getVisibleEndFrame}}() -\/ ra + 1);}
\DoxyCodeLine{00524     \mbox{\hyperlink{class_t_xsh_sound_column_a670a4afed19322fb96f956fa2a314d6b}{insertColumnLevel}}(\textcolor{keyword}{new} \mbox{\hyperlink{class_column_level}{ColumnLevel}}(l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}(), l-\/>getStartFrame(),}
\DoxyCodeLine{00525                                       row -\/ l-\/>getStartFrame(), oldOffset));}
\DoxyCodeLine{00526   \}}
\DoxyCodeLine{00527 }
\DoxyCodeLine{00528   \textcolor{comment}{// Sposto il first frame di tutti i livelli successivi ad ra.}}
\DoxyCodeLine{00529   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00530   \textcolor{keywordflow}{for} (i = m\_levels.count() -\/ 1; i >= 0; i-\/-\/) \{}
\DoxyCodeLine{00531     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *cl = m\_levels.at(i);}
\DoxyCodeLine{00532     \textcolor{keywordflow}{if} (cl-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}() < ra) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00533     cl-\/>\mbox{\hyperlink{class_column_level_aa627284419684f743fd8f5bc1552be80}{setStartFrame}}(cl-\/>getStartFrame() + rowCount);}
\DoxyCodeLine{00534   \}}
\DoxyCodeLine{00535   \mbox{\hyperlink{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}{checkColumn}}();}
\DoxyCodeLine{00536 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00366}{check\+Column()}}, \mbox{\hyperlink{l00053}{Column\+Level\+::get\+Sound\+Level()}}, \mbox{\hyperlink{l00127}{Column\+Level\+::get\+Visible\+End\+Frame()}}, \mbox{\hyperlink{l00120}{Column\+Level\+::get\+Visible\+Start\+Frame()}}, \mbox{\hyperlink{l00849}{insert\+Column\+Level()}}, and \mbox{\hyperlink{l00068}{Column\+Level\+::set\+Start\+Frame()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a1b7945748069f6eb649edca26a05b766}\label{class_t_xsh_sound_column_a1b7945748069f6eb649edca26a05b766}} 
\index{TXshSoundColumn@{TXshSoundColumn}!isCellEmpty@{isCellEmpty}}
\index{isCellEmpty@{isCellEmpty}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{isCellEmpty()}{isCellEmpty()}}
{\footnotesize\ttfamily bool TXsh\+Sound\+Column\+::is\+Cell\+Empty (\begin{DoxyParamCaption}\item[{int}]{row }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Return true if cell in {\bfseries{row}} is empty. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsh_cell_column_ae2c7bdf562fc2147a38d13b2b3ceb5cd}{is\+Empty()}} 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_abb7f749ea22c1114876f72e88e83a693}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00357                                                \{}
\DoxyCodeLine{00358   \textcolor{keywordflow}{if} (m\_levels.empty()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00359   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = getColumnLevelByFrame(row);}
\DoxyCodeLine{00360   \textcolor{keywordflow}{if} (!l || !l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00361   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00362 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00053}{Column\+Level\+::get\+Sound\+Level()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_ad44fd6a7e2cde028dce19ee4afbd0767}\label{class_t_xsh_sound_column_ad44fd6a7e2cde028dce19ee4afbd0767}} 
\index{TXshSoundColumn@{TXshSoundColumn}!isPlaying@{isPlaying}}
\index{isPlaying@{isPlaying}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{isPlaying()}{isPlaying()}}
{\footnotesize\ttfamily bool TXsh\+Sound\+Column\+::is\+Playing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00843                                       \{}
\DoxyCodeLine{00844   \textcolor{keywordflow}{return} m\_player \&\& m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a1cfbf4df850a94edb663a8882d438f94}{isPlaying}}();}
\DoxyCodeLine{00845 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_afef0800a3794cbcfa65becb29d64cd0c}\label{class_t_xsh_sound_column_afef0800a3794cbcfa65becb29d64cd0c}} 
\index{TXshSoundColumn@{TXshSoundColumn}!loadData@{loadData}}
\index{loadData@{loadData}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{loadData()}{loadData()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::load\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&}]{is }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} This is a pure virtual function and must be overridden with a method
\end{DoxyVerb}
 that implements the object loading from a stream (i.\+e take the object\textquotesingle{}s features from a formatted data stream). For example the \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} class use his implementation to take the values of the parameters that characterizes a stage object as name, coordinates, etc... from a file. {\itshape is} is an input file stream 

Implements \mbox{\hyperlink{class_t_persist_a9e9d78431e843edb9299095af867a136}{TPersist}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00228                                            \{}
\DoxyCodeLine{00229   VersionNumber tnzVersion = is.\mbox{\hyperlink{class_t_i_stream_a61179493a9ae5d6b057d23195cec606b}{getVersion}}();}
\DoxyCodeLine{00230   \textcolor{keywordflow}{if} (tnzVersion < VersionNumber(1, 17)) \{}
\DoxyCodeLine{00231     \mbox{\hyperlink{class_t_file_path}{TFilePath}} path;}
\DoxyCodeLine{00232     is >> path;}
\DoxyCodeLine{00233     m\_isOldVersion = \textcolor{keyword}{true};}
\DoxyCodeLine{00234     \textcolor{keywordtype}{int} offset     = 0;}
\DoxyCodeLine{00235     is >> offset;}
\DoxyCodeLine{00236     is >> m\_volume;}
\DoxyCodeLine{00237     \textcolor{keywordflow}{if} (!is.\mbox{\hyperlink{class_t_i_stream_af8ad0a31e14e94179bd5688f13340528}{eos}}()) \{}
\DoxyCodeLine{00238       \textcolor{keywordtype}{int} status;}
\DoxyCodeLine{00239       is >> status;}
\DoxyCodeLine{00240       \mbox{\hyperlink{class_t_xsh_column_a378972a4fe54aa059a07039bdb48d9f2}{setStatusWord}}(status);}
\DoxyCodeLine{00241     \}}
\DoxyCodeLine{00242     \mbox{\hyperlink{class_t_smart_pointer_t}{TXshSoundLevelP}} level = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}}(path.getWideName());}
\DoxyCodeLine{00243     level-\/>setPath(path);}
\DoxyCodeLine{00244     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = \textcolor{keyword}{new} \mbox{\hyperlink{class_column_level}{ColumnLevel}}(level.getPointer(), offset, 0, 0);}
\DoxyCodeLine{00245     \mbox{\hyperlink{class_t_xsh_sound_column_a670a4afed19322fb96f956fa2a314d6b}{insertColumnLevel}}(l);}
\DoxyCodeLine{00246     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00247   \}}
\DoxyCodeLine{00248   is >> m\_volume;}
\DoxyCodeLine{00249   \textcolor{keywordtype}{int} levelCount = 0;}
\DoxyCodeLine{00250   is >> levelCount;}
\DoxyCodeLine{00251 }
\DoxyCodeLine{00252   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00253   \textcolor{keywordflow}{for} (i = 0; i < levelCount; i++) \{}
\DoxyCodeLine{00254     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *sl = \textcolor{keyword}{new} \mbox{\hyperlink{class_column_level}{ColumnLevel}}();}
\DoxyCodeLine{00255     sl-\/>loadData(is);}
\DoxyCodeLine{00256     \mbox{\hyperlink{class_t_xsh_sound_column_a670a4afed19322fb96f956fa2a314d6b}{insertColumnLevel}}(sl, i);}
\DoxyCodeLine{00257   \}}
\DoxyCodeLine{00258   \textcolor{keywordflow}{if} (!is.\mbox{\hyperlink{class_t_i_stream_af8ad0a31e14e94179bd5688f13340528}{eos}}()) \{}
\DoxyCodeLine{00259     \textcolor{keywordtype}{int} status;}
\DoxyCodeLine{00260     is >> status;}
\DoxyCodeLine{00261     \mbox{\hyperlink{class_t_xsh_column_a378972a4fe54aa059a07039bdb48d9f2}{setStatusWord}}(status);}
\DoxyCodeLine{00262   \}}
\DoxyCodeLine{00263 }
\DoxyCodeLine{00264   std::string tagName;}
\DoxyCodeLine{00265   \textcolor{keywordflow}{while} (is.\mbox{\hyperlink{class_t_i_stream_a735640240402316f00c595134bfe6b4b}{openChild}}(tagName)) \{}
\DoxyCodeLine{00266     \textcolor{keywordflow}{if} (!loadCellMarks(tagName, is))}
\DoxyCodeLine{00267       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}TXshLevelColumn, unknown tag: "{}} + tagName);}
\DoxyCodeLine{00268     is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{00269   \}}
\DoxyCodeLine{00270 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01242}{TIStream\+::close\+Child()}}, \mbox{\hyperlink{l01169}{TIStream\+::eos()}}, \mbox{\hyperlink{l01273}{TIStream\+::get\+Version()}}, \mbox{\hyperlink{l00849}{insert\+Column\+Level()}}, \mbox{\hyperlink{l01231}{TIStream\+::open\+Child()}}, and \mbox{\hyperlink{l00498}{TXsh\+Column\+::set\+Status\+Word()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a12a5265dc29d0dd2a0b62627a5e2083a}\label{class_t_xsh_sound_column_a12a5265dc29d0dd2a0b62627a5e2083a}} 
\index{TXshSoundColumn@{TXshSoundColumn}!mixingTogether@{mixingTogether}}
\index{mixingTogether@{mixingTogether}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{mixingTogether()}{mixingTogether()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} TXsh\+Sound\+Column\+::mixing\+Together (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}} $\ast$ $>$ \&}]{vect,  }\item[{int}]{from\+Frame = {\ttfamily -\/1},  }\item[{int}]{to\+Fram = {\ttfamily -\/1},  }\item[{double}]{fps = {\ttfamily -\/1} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01078                 \{}
\DoxyCodeLine{01079   \textcolor{keywordtype}{int} offset       = 0xffff;}
\DoxyCodeLine{01080   \textcolor{keywordtype}{long} sampleCount = 0;}
\DoxyCodeLine{01081   std::vector<TSoundTrackP> tracks;}
\DoxyCodeLine{01082   \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}};}
\DoxyCodeLine{01083 }
\DoxyCodeLine{01084   \textcolor{keywordtype}{int} size = vect.size(), i = 0;}
\DoxyCodeLine{01085 }
\DoxyCodeLine{01086   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = vect[0]-\/>getColumnLevel(0);}
\DoxyCodeLine{01087   \textcolor{keywordflow}{if} (!l)        \textcolor{comment}{// May happen if the sound level is not}}
\DoxyCodeLine{01088     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}};  \textcolor{comment}{// correctly loaded from disk}}
\DoxyCodeLine{01089 }
\DoxyCodeLine{01090   \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}();}
\DoxyCodeLine{01091   assert(soundLevel);}
\DoxyCodeLine{01092 }
\DoxyCodeLine{01093   \textcolor{keywordflow}{if} (fps == -\/1) fps = soundLevel-\/>getFrameRate();}
\DoxyCodeLine{01094   \textcolor{keywordflow}{if} (fromFrame == -\/1) fromFrame = 0;}
\DoxyCodeLine{01095   \textcolor{keywordflow}{if} (toFrame == -\/1) toFrame = \mbox{\hyperlink{class_t_xsh_column_a2d812ed804dba4d8d91482a5f35e2601}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_a12a62da7dc04395088112e492d73374f}{getFrameCount}}();}
\DoxyCodeLine{01096 }
\DoxyCodeLine{01097   \textcolor{keywordflow}{if} (!soundLevel-\/>getSoundTrack()) \textcolor{keywordflow}{return} \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}};}
\DoxyCodeLine{01098   \mbox{\hyperlink{class_t_sound_track_format}{TSoundTrackFormat}} format = soundLevel-\/>getSoundTrack()-\/>\mbox{\hyperlink{class_t_sound_track_aa58db0cee313f7174bc023e295b701a9}{getFormat}}();}
\DoxyCodeLine{01099 }
\DoxyCodeLine{01100   \mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}} *c = 0;}
\DoxyCodeLine{01101   \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{01102   \textcolor{keywordflow}{for} (j = 0; j < size; ++j) \{}
\DoxyCodeLine{01103     \mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}} *oldC = c;}
\DoxyCodeLine{01104     c                     = vect[j];}
\DoxyCodeLine{01105     \textcolor{keywordflow}{if} (j == 0) \{}
\DoxyCodeLine{01106       \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}} = c-\/>getOverallSoundTrack(fromFrame, toFrame, fps, format);}
\DoxyCodeLine{01107       \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} mixedTrack =}
\DoxyCodeLine{01108           \mbox{\hyperlink{class_t_sound_track_a9a83177a9a5b9a7470f32b87e7f21f3d}{TSoundTrack::create}}(\mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}}-\/>\mbox{\hyperlink{class_t_sound_track_aa58db0cee313f7174bc023e295b701a9}{getFormat}}(), \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}}-\/>getSampleCount());}
\DoxyCodeLine{01109       \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}} = \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{TSop::mix}}(mixedTrack, mix, 1.0, c-\/>getVolume());}
\DoxyCodeLine{01110       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01111     \}}
\DoxyCodeLine{01112     assert(oldC);}
\DoxyCodeLine{01113     \textcolor{keywordflow}{if} (c-\/>getVolume() == 0 || c-\/>\mbox{\hyperlink{class_t_xsh_cell_column_ae2c7bdf562fc2147a38d13b2b3ceb5cd}{isEmpty}}()) \{}
\DoxyCodeLine{01114       c = oldC;}
\DoxyCodeLine{01115       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01116     \}}
\DoxyCodeLine{01117     \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}} =}
\DoxyCodeLine{01118         \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{TSop::mix}}(mix, c-\/>getOverallSoundTrack(fromFrame, toFrame, fps, format),}
\DoxyCodeLine{01119                   1.0, c-\/>getVolume());}
\DoxyCodeLine{01120   \}}
\DoxyCodeLine{01121 }
\DoxyCodeLine{01122   \textcolor{comment}{// Per ora perche mov vuole solo 16 bit}}
\DoxyCodeLine{01123   \mbox{\hyperlink{class_t_sound_track_format}{TSoundTrackFormat}} fmt = \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}}-\/>\mbox{\hyperlink{class_t_sound_track_aa58db0cee313f7174bc023e295b701a9}{getFormat}}();}
\DoxyCodeLine{01124   \textcolor{keywordflow}{if} (fmt.m\_bitPerSample != 16) fmt.m\_bitPerSample = 16;}
\DoxyCodeLine{01125   \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}} = \mbox{\hyperlink{namespace_t_sop_a7b9eba10396f90035ab0b2b9ad127e96}{TSop::convert}}(mix, fmt);}
\DoxyCodeLine{01126   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{mix}};}
\DoxyCodeLine{01127 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a513720f91b054355ca6521efe8fa0a73}\label{class_t_xsh_sound_column_a513720f91b054355ca6521efe8fa0a73}} 
\index{TXshSoundColumn@{TXshSoundColumn}!modifyCellRange@{modifyCellRange}}
\index{modifyCellRange@{modifyCellRange}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{modifyCellRange()}{modifyCellRange()}}
{\footnotesize\ttfamily int TXsh\+Sound\+Column\+::modify\+Cell\+Range (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{delta,  }\item[{bool}]{modify\+Start\+Value }\end{DoxyParamCaption})}

Modify range of level sound in row. Return new range value of the level in row. N.\+B. Row must be the first or last cell of a sound level. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00624                                                             \{}
\DoxyCodeLine{00625   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = getColumnLevelByFrame(row);}
\DoxyCodeLine{00626   \textcolor{keywordflow}{if} (!l) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00627 }
\DoxyCodeLine{00628   \textcolor{keywordtype}{int} startVisibleFrame = l-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}();}
\DoxyCodeLine{00629   \textcolor{keywordtype}{int} endVisibleFrame   = l-\/>\mbox{\hyperlink{class_column_level_a8fe00c7778347f1cea87ed5af840281d}{getVisibleEndFrame}}();}
\DoxyCodeLine{00630   \textcolor{comment}{// Non dovrebbe mai accadere, metto un controllo di sicurezza.}}
\DoxyCodeLine{00631   \textcolor{keywordflow}{if} (startVisibleFrame != row \&\& endVisibleFrame != row) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00632 }
\DoxyCodeLine{00633   \textcolor{keywordtype}{int} r0 = delta > 0 ? row : row + delta;}
\DoxyCodeLine{00634   \textcolor{keywordtype}{int} r1 = delta > 0 ? row + delta : row;}
\DoxyCodeLine{00635 }
\DoxyCodeLine{00636   \textcolor{keywordtype}{int} r;}
\DoxyCodeLine{00637   \textcolor{keywordflow}{for} (r = r0; r <= r1; r++) \{}
\DoxyCodeLine{00638     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *oldL = getColumnLevelByFrame(r);}
\DoxyCodeLine{00639     \textcolor{keywordflow}{if} (!oldL || oldL == l) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00640     \textcolor{keywordtype}{int} visibleStartFrame = oldL-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}();}
\DoxyCodeLine{00641     \textcolor{keywordtype}{int} visibleEndFrame   = oldL-\/>\mbox{\hyperlink{class_column_level_a8fe00c7778347f1cea87ed5af840281d}{getVisibleEndFrame}}();}
\DoxyCodeLine{00642     \textcolor{keywordflow}{if} (visibleStartFrame >= r0 \&\& visibleEndFrame <= r1)}
\DoxyCodeLine{00643       removeColumnLevel(oldL);}
\DoxyCodeLine{00644     \textcolor{keywordflow}{if} (visibleStartFrame <= r0)}
\DoxyCodeLine{00645       oldL-\/>setEndOffset(oldL-\/>getEndOffset() + visibleEndFrame -\/ r0 + 1);}
\DoxyCodeLine{00646     \textcolor{keywordflow}{if} (visibleEndFrame >= r1)}
\DoxyCodeLine{00647       oldL-\/>setStartOffset(oldL-\/>getStartOffset() + r1 -\/ visibleStartFrame + 1);}
\DoxyCodeLine{00648     r = visibleEndFrame;}
\DoxyCodeLine{00649   \}}
\DoxyCodeLine{00650 }
\DoxyCodeLine{00651   \textcolor{keywordflow}{if} (modifyStartValue) \{}
\DoxyCodeLine{00652     \textcolor{comment}{// Evito che vada oltre il limite infieriore}}
\DoxyCodeLine{00653     \textcolor{keywordflow}{if} (endVisibleFrame < startVisibleFrame + delta)}
\DoxyCodeLine{00654       delta = endVisibleFrame -\/ startVisibleFrame;}
\DoxyCodeLine{00655     \textcolor{keywordtype}{int} newStartOffset = l-\/>getStartOffset() + delta;}
\DoxyCodeLine{00656     \textcolor{comment}{// Evito che vada oltre il limite superiore}}
\DoxyCodeLine{00657     \textcolor{keywordflow}{if} (newStartOffset < 0) newStartOffset = 0;}
\DoxyCodeLine{00658     l-\/>setStartOffset(newStartOffset);}
\DoxyCodeLine{00659     \mbox{\hyperlink{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}{checkColumn}}();}
\DoxyCodeLine{00660     \mbox{\hyperlink{class_t_xsh_column_a2d812ed804dba4d8d91482a5f35e2601}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{00661     \textcolor{keywordflow}{return} l-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}();}
\DoxyCodeLine{00662   \}}
\DoxyCodeLine{00663 }
\DoxyCodeLine{00664   \textcolor{comment}{// Evito che vada oltre il limite superiore}}
\DoxyCodeLine{00665   \textcolor{keywordflow}{if} (startVisibleFrame > endVisibleFrame + delta)}
\DoxyCodeLine{00666     delta = startVisibleFrame -\/ endVisibleFrame;}
\DoxyCodeLine{00667   \textcolor{comment}{// Evito che vada oltre il limite inferiore}}
\DoxyCodeLine{00668   \textcolor{keywordtype}{int} newEndOffset = l-\/>getEndOffset() -\/ delta;}
\DoxyCodeLine{00669   \textcolor{keywordflow}{if} (newEndOffset < 0) newEndOffset = 0;}
\DoxyCodeLine{00670   l-\/>setEndOffset(newEndOffset);}
\DoxyCodeLine{00671   \mbox{\hyperlink{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}{checkColumn}}();}
\DoxyCodeLine{00672   \mbox{\hyperlink{class_t_xsh_column_a2d812ed804dba4d8d91482a5f35e2601}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{00673   \textcolor{keywordflow}{return} l-\/>\mbox{\hyperlink{class_column_level_a8fe00c7778347f1cea87ed5af840281d}{getVisibleEndFrame}}();}
\DoxyCodeLine{00674 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00366}{check\+Column()}}, \mbox{\hyperlink{l00127}{Column\+Level\+::get\+Visible\+End\+Frame()}}, \mbox{\hyperlink{l00120}{Column\+Level\+::get\+Visible\+Start\+Frame()}}, \mbox{\hyperlink{l00237}{TXsh\+Column\+::get\+Xsheet()}}, and \mbox{\hyperlink{l01166}{TXsheet\+::update\+Frame\+Count()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_af1d57ffb1f7fb12cbf5fe292fcfd396f}\label{class_t_xsh_sound_column_af1d57ffb1f7fb12cbf5fe292fcfd396f}} 
\index{TXshSoundColumn@{TXshSoundColumn}!onTimerOut@{onTimerOut}}
\index{onTimerOut@{onTimerOut}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{onTimerOut}{onTimerOut}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::on\+Timer\+Out (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00905                                  \{}
\DoxyCodeLine{00906 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00907   \textcolor{keywordflow}{if} (m\_player \&\& m\_player-\/>isAllQueuedItemsPlayed()) stop();}
\DoxyCodeLine{00908 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00909 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a1a8a1c46fcf511b3ccdd2e7376c743fb}\label{class_t_xsh_sound_column_a1a8a1c46fcf511b3ccdd2e7376c743fb}} 
\index{TXshSoundColumn@{TXshSoundColumn}!play@{play}}
\index{play@{play}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{play()}{play()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::play (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$}]{ss,  }\item[{int}]{current\+Frame }\end{DoxyParamCaption})}

Play the whole sound\+Sequence, current\+Frame it is used to compute an offset when the user play a single level and hence the audio behind.. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00792                                                                      \{}
\DoxyCodeLine{00793   assert(columnLevel);}
\DoxyCodeLine{00794   \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = columnLevel-\/>\mbox{\hyperlink{class_t_xsh_sound_level_a4e97f6d2475d496e1951f4d829f04461}{getSoundLevel}}();}
\DoxyCodeLine{00795   \textcolor{keywordtype}{int} offset                 = 0;}
\DoxyCodeLine{00796   \textcolor{keywordtype}{int} startFrame             = currentFrame -\/ columnLevel-\/>getStartFrame();}
\DoxyCodeLine{00797   \textcolor{keywordtype}{int} endFrame = soundLevel-\/>getFrameCount() -\/ columnLevel-\/>getEndOffset();}
\DoxyCodeLine{00798   \textcolor{keywordtype}{int} spf      = soundLevel-\/>getSamplePerFrame();}
\DoxyCodeLine{00799   \textcolor{keywordtype}{int} s0       = startFrame * spf;}
\DoxyCodeLine{00800   \textcolor{keywordtype}{int} s1       = endFrame * spf;}
\DoxyCodeLine{00801 }
\DoxyCodeLine{00802   \textcolor{keywordflow}{if} (!soundLevel-\/>getSoundTrack()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00803   \mbox{\hyperlink{class_t_xsh_sound_column_acc1552030b74e782b389ec41c66b4d3c}{play}}(soundLevel-\/>getSoundTrack(), s0, s1, \textcolor{keyword}{false});}
\DoxyCodeLine{00804 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00053}{Column\+Level\+::get\+Sound\+Level()}}, and \mbox{\hyperlink{l00765}{play()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_ac289ec271cf5e22a63cc0103e937123e}\label{class_t_xsh_sound_column_ac289ec271cf5e22a63cc0103e937123e}} 
\index{TXshSoundColumn@{TXshSoundColumn}!play@{play}}
\index{play@{play}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{play()}{play()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::play (\begin{DoxyParamCaption}\item[{int}]{current\+Frame = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00808                                            \{}
\DoxyCodeLine{00809   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00810     \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} soundTrack = getOverallSoundTrack(currentFrame);}
\DoxyCodeLine{00811 }
\DoxyCodeLine{00812     \textcolor{keywordflow}{if} (!soundTrack) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00813 }
\DoxyCodeLine{00814     \textcolor{keywordtype}{int} spf        = m\_levels.at(0)-\/>getSoundLevel()-\/>getSamplePerFrame();}
\DoxyCodeLine{00815     \textcolor{keywordtype}{int} startFrame = (currentFrame -\/ \mbox{\hyperlink{class_t_xsh_sound_column_a75802ec0d00a1cf41ba8e39fcc1ce836}{getFirstRow}}());}
\DoxyCodeLine{00816 }
\DoxyCodeLine{00817     \textcolor{keywordtype}{int} s0 = startFrame * spf;}
\DoxyCodeLine{00818     \textcolor{keywordtype}{int} s1 = \mbox{\hyperlink{class_t_xsh_sound_column_a2a46c5f9b3126dbb1ba154d242bb2088}{getMaxFrame}}() * spf;}
\DoxyCodeLine{00819 }
\DoxyCodeLine{00820     \mbox{\hyperlink{class_t_xsh_sound_column_acc1552030b74e782b389ec41c66b4d3c}{play}}(soundTrack, s0, s1, \textcolor{keyword}{false});}
\DoxyCodeLine{00821   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&e) \{}
\DoxyCodeLine{00822     \textcolor{keywordflow}{if} (e.getType() == TSoundDeviceException::NoDevice) \{}
\DoxyCodeLine{00823       std::cout << ::to\_string(e.getMessage()) << std::endl;}
\DoxyCodeLine{00824     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00825       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}}(e.getType(), e.getMessage());}
\DoxyCodeLine{00826     \}}
\DoxyCodeLine{00827   \}}
\DoxyCodeLine{00828 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_acc1552030b74e782b389ec41c66b4d3c}\label{class_t_xsh_sound_column_acc1552030b74e782b389ec41c66b4d3c}} 
\index{TXshSoundColumn@{TXshSoundColumn}!play@{play}}
\index{play@{play}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{play()}{play()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::play (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}}}]{soundtrack,  }\item[{int}]{s0,  }\item[{int}]{s1,  }\item[{bool}]{loop }\end{DoxyParamCaption})}



s0 and s1 are samples 


\begin{DoxyCode}{0}
\DoxyCodeLine{00765                                                                              \{}
\DoxyCodeLine{00766   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_sound_output_device_ae1fae3438b95a99b9ec5c208d3101498}{TSoundOutputDevice::installed}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00767 }
\DoxyCodeLine{00768   \textcolor{keywordflow}{if} (!m\_player) m\_player = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_sound_output_device}{TSoundOutputDevice}}();}
\DoxyCodeLine{00769 }
\DoxyCodeLine{00770   \textcolor{keywordflow}{if} (m\_player) \{}
\DoxyCodeLine{00771     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00772 \textcolor{preprocessor}{\#ifndef \_WIN32}}
\DoxyCodeLine{00773       m\_player-\/>prepareVolume(m\_volume);}
\DoxyCodeLine{00774       \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} mixedTrack = soundtrack;}
\DoxyCodeLine{00775 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00776       \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} mixedTrack = \mbox{\hyperlink{class_t_sound_track_a9a83177a9a5b9a7470f32b87e7f21f3d}{TSoundTrack::create}}(}
\DoxyCodeLine{00777           soundtrack-\/>\mbox{\hyperlink{class_t_sound_track_aa58db0cee313f7174bc023e295b701a9}{getFormat}}(), soundtrack-\/>getSampleCount());}
\DoxyCodeLine{00778       mixedTrack = \mbox{\hyperlink{namespace_t_sop_ad4f52697222759a1183cb082670e2233}{TSop::mix}}(mixedTrack, soundtrack, 1.0, m\_volume);}
\DoxyCodeLine{00779 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00780       m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a00c8269bf8377f52876b9ee32bc75276}{play}}(mixedTrack, s0, s1, loop);}
\DoxyCodeLine{00781       m\_currentPlaySoundTrack = mixedTrack;}
\DoxyCodeLine{00782 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00783       m\_timer.start();}
\DoxyCodeLine{00784 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00785     \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&) \{}
\DoxyCodeLine{00786     \}}
\DoxyCodeLine{00787   \}}
\DoxyCodeLine{00788 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00078}{TSound\+Track\+::create()}}, \mbox{\hyperlink{l00250}{TSound\+Track\+::get\+Format()}}, \mbox{\hyperlink{l00693}{TSound\+Output\+Device\+::installed()}}, \mbox{\hyperlink{l01302}{TSop\+::mix()}}, and \mbox{\hyperlink{l00719}{TSound\+Output\+Device\+::play()}}.



Referenced by \mbox{\hyperlink{l00792}{play()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a3af2cc5599f683d8821910ec98b03c92}\label{class_t_xsh_sound_column_a3af2cc5599f683d8821910ec98b03c92}} 
\index{TXshSoundColumn@{TXshSoundColumn}!removeCells@{removeCells}}
\index{removeCells@{removeCells}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{removeCells()}{removeCells()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::remove\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{row\+Count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Remove {\bfseries{row\+Count}} cells from line {\bfseries{row}}, with shift. 

Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_a9dd9284327bd2bab258ce40f47a7b751}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00607                                                        \{}
\DoxyCodeLine{00608   \mbox{\hyperlink{class_t_xsh_sound_column_a3af2cc5599f683d8821910ec98b03c92}{removeCells}}(row, rowCount, \textcolor{keyword}{true});}
\DoxyCodeLine{00609 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00607}{remove\+Cells()}}.



Referenced by \mbox{\hyperlink{l00598}{clear\+Cells()}}, and \mbox{\hyperlink{l00607}{remove\+Cells()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_aed8260a40ad9d3932c3a071909b2a04e}\label{class_t_xsh_sound_column_aed8260a40ad9d3932c3a071909b2a04e}} 
\index{TXshSoundColumn@{TXshSoundColumn}!removeCells@{removeCells}}
\index{removeCells@{removeCells}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{removeCells()}{removeCells()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::remove\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{row\+Count,  }\item[{bool}]{shift }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00540                                                                    \{}
\DoxyCodeLine{00541   \textcolor{comment}{// le celle da cancellare sono [ra, rb]}}
\DoxyCodeLine{00542   \textcolor{keywordtype}{int} ra = row;}
\DoxyCodeLine{00543   \textcolor{keywordtype}{int} rb = row + rowCount -\/ 1;}
\DoxyCodeLine{00544   assert(ra <= rb);}
\DoxyCodeLine{00545 }
\DoxyCodeLine{00546   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00547   \textcolor{keywordflow}{for} (i = m\_levels.size() -\/ 1; i >= 0; i-\/-\/) \{}
\DoxyCodeLine{00548     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = m\_levels.at(i);}
\DoxyCodeLine{00549     \textcolor{keywordflow}{if} (!l) \textcolor{keywordflow}{continue};  \textcolor{comment}{// Non dovrebbe accadere!}}
\DoxyCodeLine{00550     \textcolor{keywordtype}{int} visibleStartFrame = l-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}();}
\DoxyCodeLine{00551     \textcolor{keywordtype}{int} visibleEndFrame   = l-\/>\mbox{\hyperlink{class_column_level_a8fe00c7778347f1cea87ed5af840281d}{getVisibleEndFrame}}();}
\DoxyCodeLine{00552     \textcolor{comment}{// Fuori dal range da tagliare.}}
\DoxyCodeLine{00553     \textcolor{keywordflow}{if} (visibleStartFrame > rb || visibleEndFrame < ra) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00554     \textcolor{keywordtype}{int} newEndOffset   = l-\/>\mbox{\hyperlink{class_column_level_a883dc883189d8cb3fba5228221921985}{getEndFrame}}() -\/ ra + 1;}
\DoxyCodeLine{00555     \textcolor{keywordtype}{int} newStartOffset = rb -\/ l-\/>getStartFrame() + 1;}
\DoxyCodeLine{00556     \textcolor{comment}{// Il livello contiene il range da cancellare: devo "{}spezzare"{} il livello in}}
\DoxyCodeLine{00557     \textcolor{comment}{// due.}}
\DoxyCodeLine{00558     \textcolor{keywordflow}{if} (visibleStartFrame < ra \&\& visibleEndFrame > rb) \{}
\DoxyCodeLine{00559       \textcolor{keywordtype}{int} oldEndOffset = l-\/>getEndOffset();}
\DoxyCodeLine{00560       l-\/>setEndOffset(newEndOffset);}
\DoxyCodeLine{00561       \mbox{\hyperlink{class_t_xsh_sound_column_a670a4afed19322fb96f956fa2a314d6b}{insertColumnLevel}}(\textcolor{keyword}{new} \mbox{\hyperlink{class_column_level}{ColumnLevel}}(l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}(), l-\/>getStartFrame(),}
\DoxyCodeLine{00562                                         newStartOffset, oldEndOffset));}
\DoxyCodeLine{00563       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00564     \}}
\DoxyCodeLine{00565     \textcolor{keywordflow}{if} (visibleStartFrame < ra) l-\/>setEndOffset(newEndOffset);}
\DoxyCodeLine{00566     \textcolor{keywordflow}{if} (visibleEndFrame > rb) l-\/>setStartOffset(newStartOffset);}
\DoxyCodeLine{00567     \textcolor{comment}{// Il livello e' contenuto nel range da cancellare: lo rimuovo.}}
\DoxyCodeLine{00568     \textcolor{keywordflow}{if} (visibleStartFrame >= ra \&\& visibleEndFrame <= rb) removeColumnLevel(l);}
\DoxyCodeLine{00569   \}}
\DoxyCodeLine{00570 }
\DoxyCodeLine{00571   \textcolor{keywordflow}{if} (shift) \{}
\DoxyCodeLine{00572     \textcolor{keywordflow}{for} (i = m\_levels.size() -\/ 1; i >= 0; i-\/-\/) \{}
\DoxyCodeLine{00573       \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l = m\_levels.at(i);}
\DoxyCodeLine{00574       \textcolor{keywordflow}{if} (!l) \textcolor{keywordflow}{continue};  \textcolor{comment}{// Non dovrebbe accadere!}}
\DoxyCodeLine{00575       \textcolor{keywordtype}{int} visibleStartFrame = l-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}();}
\DoxyCodeLine{00576       \textcolor{keywordtype}{int} visibleEndFrame   = l-\/>\mbox{\hyperlink{class_column_level_a8fe00c7778347f1cea87ed5af840281d}{getVisibleEndFrame}}();}
\DoxyCodeLine{00577       \textcolor{keywordflow}{if} (visibleStartFrame > ra)}
\DoxyCodeLine{00578         l-\/>\mbox{\hyperlink{class_column_level_aa627284419684f743fd8f5bc1552be80}{setStartFrame}}(l-\/>getStartFrame() -\/ rowCount);}
\DoxyCodeLine{00579     \}}
\DoxyCodeLine{00580 }
\DoxyCodeLine{00581     \textcolor{comment}{// Devo controllare se il livello precedente il taglio e quello successivo}}
\DoxyCodeLine{00582     \textcolor{comment}{// sono in sequenza}}
\DoxyCodeLine{00583     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *beforeL = getColumnLevelByFrame(ra -\/ 1);}
\DoxyCodeLine{00584     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *nextL   = getColumnLevelByFrame(ra);}
\DoxyCodeLine{00585     \textcolor{keywordflow}{if} (beforeL \&\& nextL \&\&}
\DoxyCodeLine{00586         beforeL-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}() == nextL-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}() \&\&}
\DoxyCodeLine{00587         beforeL-\/>getStartFrame() == nextL-\/>getStartFrame()) \{}
\DoxyCodeLine{00588       beforeL-\/>setEndOffset(nextL-\/>getEndOffset());}
\DoxyCodeLine{00589       removeColumnLevel(nextL);}
\DoxyCodeLine{00590     \}}
\DoxyCodeLine{00591   \}}
\DoxyCodeLine{00592 }
\DoxyCodeLine{00593   \mbox{\hyperlink{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}{checkColumn}}();}
\DoxyCodeLine{00594 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a1826e142fa97402f1381f8baa5ccc6d6}\label{class_t_xsh_sound_column_a1826e142fa97402f1381f8baa5ccc6d6}} 
\index{TXshSoundColumn@{TXshSoundColumn}!removeColumnLevel@{removeColumnLevel}}
\index{removeColumnLevel@{removeColumnLevel}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{removeColumnLevel()}{removeColumnLevel()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::remove\+Column\+Level (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_column_level}{Column\+Level}} $\ast$}]{column\+Level }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00857                                                                 \{}
\DoxyCodeLine{00858   \textcolor{keywordflow}{if} (!columnLevel) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00859   \textcolor{keywordtype}{int} index = m\_levels.indexOf(columnLevel);}
\DoxyCodeLine{00860   \textcolor{keywordflow}{if} (index == -\/1) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00861   m\_levels.removeAt(index);}
\DoxyCodeLine{00862   \textcolor{keyword}{delete} columnLevel;}
\DoxyCodeLine{00863 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_aa371183e43fd991acfdb7dc6bac1b6b1}\label{class_t_xsh_sound_column_aa371183e43fd991acfdb7dc6bac1b6b1}} 
\index{TXshSoundColumn@{TXshSoundColumn}!saveData@{saveData}}
\index{saveData@{saveData}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{saveData()}{saveData()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::save\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&}]{os }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} This is a pure virtual function and must be overridden with a method
\end{DoxyVerb}
 that implements the object saving to a data stream (i.\+e put the object\textquotesingle{}s features on a formatted data stream). For example the \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} class use his implementation to save the values of the parameters that characterizes a stage object as name, coordinates, etc... on a file {\itshape os} is an output file stream. 

Implements \mbox{\hyperlink{class_t_persist_afb991f7b26f14dbee1740ef036ff4e85}{TPersist}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00274                                            \{}
\DoxyCodeLine{00275   os << m\_volume;}
\DoxyCodeLine{00276   \textcolor{keywordtype}{int} levelsCount = m\_levels.size();}
\DoxyCodeLine{00277   os << levelsCount;}
\DoxyCodeLine{00278   \textcolor{keywordflow}{if} (levelsCount == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00279   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00280   \textcolor{keywordflow}{for} (i = 0; i < levelsCount; i++) m\_levels.at(i)-\/>saveData(os);}
\DoxyCodeLine{00281   os << \mbox{\hyperlink{class_t_xsh_column_a93756d61d42ea3125e417172cc0481a1}{getStatusWord}}();}
\DoxyCodeLine{00282   \textcolor{comment}{// cell marks}}
\DoxyCodeLine{00283   saveCellMarks(os);}
\DoxyCodeLine{00284 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00106}{TXsh\+Column\+::get\+Status\+Word()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_addeee1cc5d0f3b389c082981a0762710}\label{class_t_xsh_sound_column_addeee1cc5d0f3b389c082981a0762710}} 
\index{TXshSoundColumn@{TXshSoundColumn}!scrub@{scrub}}
\index{scrub@{scrub}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{scrub()}{scrub()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::scrub (\begin{DoxyParamCaption}\item[{int}]{from\+Frame,  }\item[{int}]{to\+Frame }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00913                                                       \{}
\DoxyCodeLine{00914   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_xsh_column_ae8f2989de835d8ed4ca4c246f70127f1}{isCamstandVisible}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00915   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00916     \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} soundTrack = getOverallSoundTrack(fromFrame, toFrame + 1);}
\DoxyCodeLine{00917     \textcolor{keywordflow}{if} (!soundTrack) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00918     \mbox{\hyperlink{class_t_xsh_sound_column_acc1552030b74e782b389ec41c66b4d3c}{play}}(soundTrack, 0, soundTrack-\/>getSampleCount(), \textcolor{keyword}{false});}
\DoxyCodeLine{00919   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&e) \{}
\DoxyCodeLine{00920     \textcolor{keywordflow}{if} (e.getType() == TSoundDeviceException::NoDevice) \{}
\DoxyCodeLine{00921       std::cout << ::to\_string(e.getMessage()) << std::endl;}
\DoxyCodeLine{00922     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00923       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}}(e.getType(), e.getMessage());}
\DoxyCodeLine{00924     \}}
\DoxyCodeLine{00925   \}}
\DoxyCodeLine{00926 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a8a97a89c28078795c2d99f9587731595}\label{class_t_xsh_sound_column_a8a97a89c28078795c2d99f9587731595}} 
\index{TXshSoundColumn@{TXshSoundColumn}!setCell@{setCell}}
\index{setCell@{setCell}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{setCell()}{setCell()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool TXsh\+Sound\+Column\+::set\+Cell (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&}]{cell }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Set cell in {\bfseries{row}} to {\bfseries{\mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}}}} {\bfseries{cell}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsh_sound_column_a945e9138fe0e58e872813155a3755fa8}{set\+Cells()}} and \mbox{\hyperlink{class_t_xsh_sound_column_a7e88d1c7f432600a7a48ecd7892f4802}{get\+Cell()}}; return false if cannot set cells. 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_a7dc6cd2fa2a50088c4168a02dca582c1}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00418                                                            \{}
\DoxyCodeLine{00419   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_xsh_sound_column_a8a97a89c28078795c2d99f9587731595}{setCell}}(row, cell, \textcolor{keyword}{false});}
\DoxyCodeLine{00420 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00418}{set\+Cell()}}.



Referenced by \mbox{\hyperlink{l00418}{set\+Cell()}}, \mbox{\hyperlink{l00494}{set\+Cells()}}, and \mbox{\hyperlink{l00613}{update\+Cells()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a6cacfb2d7adc6db3527d1ccc79fc229d}\label{class_t_xsh_sound_column_a6cacfb2d7adc6db3527d1ccc79fc229d}} 
\index{TXshSoundColumn@{TXshSoundColumn}!setCell@{setCell}}
\index{setCell@{setCell}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{setCell()}{setCell()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool TXsh\+Sound\+Column\+::set\+Cell (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&}]{cell,  }\item[{bool}]{update\+Sequence }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00425                                                    \{}
\DoxyCodeLine{00426   \textcolor{keywordflow}{if} (!canSetCell(cell)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00427   assert(row >= 0);}
\DoxyCodeLine{00428   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *lBefore = getColumnLevelByFrame(row -\/ 1);}
\DoxyCodeLine{00429   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *l       = getColumnLevelByFrame(row);}
\DoxyCodeLine{00430   \mbox{\hyperlink{class_column_level}{ColumnLevel}} *lNext   = getColumnLevelByFrame(row + 1);}
\DoxyCodeLine{00431 }
\DoxyCodeLine{00432   \textcolor{comment}{// Se non devo fare un update della sequenzialita' e la cella e' uguale a}}
\DoxyCodeLine{00433   \textcolor{comment}{// quella gia' esistente ritorno.}}
\DoxyCodeLine{00434   \textcolor{keywordflow}{if} (!updateSequence \&\& l \&\& l-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}() == cell.\mbox{\hyperlink{class_t_xsh_cell_a8c7ad08b83f6df4afec4b00334acfea6}{getSoundLevel}}() \&\&}
\DoxyCodeLine{00435       row -\/ l-\/>getStartFrame() == cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}().getNumber())}
\DoxyCodeLine{00436     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00437 }
\DoxyCodeLine{00438   \textcolor{keywordtype}{bool} isBeforeLevelInSequence =}
\DoxyCodeLine{00439       (lBefore \&\& lBefore-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}() == cell.\mbox{\hyperlink{class_t_xsh_cell_a8c7ad08b83f6df4afec4b00334acfea6}{getSoundLevel}}() \&\&}
\DoxyCodeLine{00440        row -\/ lBefore-\/>getStartFrame() == cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}().getNumber());}
\DoxyCodeLine{00441 }
\DoxyCodeLine{00442   \textcolor{keywordtype}{bool} isNextLevelInSequence =}
\DoxyCodeLine{00443       (lNext \&\& lNext-\/>\mbox{\hyperlink{class_column_level_aa8ccfde04a68c5cb4ea167b0a93541d0}{getSoundLevel}}() == cell.\mbox{\hyperlink{class_t_xsh_cell_a8c7ad08b83f6df4afec4b00334acfea6}{getSoundLevel}}() \&\&}
\DoxyCodeLine{00444        row -\/ lNext-\/>getStartFrame() == cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}().getNumber());}
\DoxyCodeLine{00445 }
\DoxyCodeLine{00446   \textcolor{comment}{// Modifico solo l'endOffset del BeforeLevel}}
\DoxyCodeLine{00447   \textcolor{keywordflow}{if} (isBeforeLevelInSequence) \{}
\DoxyCodeLine{00448     \textcolor{keywordtype}{int} oldEndOffset = lBefore-\/>getEndOffset();}
\DoxyCodeLine{00449     \textcolor{keywordtype}{int} endOffset    = (lBefore-\/>\mbox{\hyperlink{class_column_level_a8fe00c7778347f1cea87ed5af840281d}{getVisibleEndFrame}}() != row) ? oldEndOffset -\/ 1}
\DoxyCodeLine{00450                                                            : oldEndOffset;}
\DoxyCodeLine{00451     \textcolor{keywordflow}{if} (isNextLevelInSequence) \{}
\DoxyCodeLine{00452       endOffset = lNext-\/>getEndOffset();}
\DoxyCodeLine{00453       \textcolor{comment}{// Se precedente e successivo sono diversi elimino il successivo (caso in}}
\DoxyCodeLine{00454       \textcolor{comment}{// cui inserisci un frame in successione su una cella vuota)}}
\DoxyCodeLine{00455       \textcolor{keywordflow}{if} (lNext != lBefore) removeColumnLevel(lNext);}
\DoxyCodeLine{00456     \}}
\DoxyCodeLine{00457     \textcolor{keywordflow}{if} (l \&\& l != lBefore) \{}
\DoxyCodeLine{00458       \textcolor{keywordflow}{if} (l-\/>\mbox{\hyperlink{class_column_level_a6e7ce8a292647085d3492bd58a3b139e}{getVisibleFrameCount}}() == 1)}
\DoxyCodeLine{00459         removeColumnLevel(l);}
\DoxyCodeLine{00460       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00461         l-\/>setStartOffset(l-\/>getStartOffset() + 1);}
\DoxyCodeLine{00462     \}}
\DoxyCodeLine{00463     lBefore-\/>setEndOffset(endOffset);}
\DoxyCodeLine{00464     \mbox{\hyperlink{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}{checkColumn}}();}
\DoxyCodeLine{00465     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00466   \}}
\DoxyCodeLine{00467   \textcolor{comment}{// Modifico solo lo startOffset del NextLevel}}
\DoxyCodeLine{00468   \textcolor{keywordflow}{if} (isNextLevelInSequence) \{}
\DoxyCodeLine{00469     \textcolor{keywordtype}{int} oldStartOffset = lNext-\/>getStartOffset();}
\DoxyCodeLine{00470     \textcolor{keywordtype}{int} startOffset    = (lNext-\/>\mbox{\hyperlink{class_column_level_ae8a852ea174534625cfcf4a618b4aaf1}{getVisibleStartFrame}}() != row)}
\DoxyCodeLine{00471                           ? oldStartOffset -\/ 1}
\DoxyCodeLine{00472                           : oldStartOffset;}
\DoxyCodeLine{00473     \textcolor{keywordflow}{if} (l \&\& l != lNext) \{}
\DoxyCodeLine{00474       \textcolor{keywordflow}{if} (l-\/>\mbox{\hyperlink{class_column_level_a6e7ce8a292647085d3492bd58a3b139e}{getVisibleFrameCount}}() == 1)}
\DoxyCodeLine{00475         removeColumnLevel(l);}
\DoxyCodeLine{00476       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00477         l-\/>setEndOffset(l-\/>getEndOffset() + 1);}
\DoxyCodeLine{00478     \}}
\DoxyCodeLine{00479     lNext-\/>setStartOffset(startOffset);}
\DoxyCodeLine{00480     \mbox{\hyperlink{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}{checkColumn}}();}
\DoxyCodeLine{00481     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00482   \}}
\DoxyCodeLine{00483 }
\DoxyCodeLine{00484   \textcolor{comment}{// I Frame non sono in successione quindi devo inserire la cella in frame un}}
\DoxyCodeLine{00485   \textcolor{comment}{// vuoto:}}
\DoxyCodeLine{00486   \mbox{\hyperlink{class_t_xsh_sound_column_ab5b6df2f3d422671a4e5169903279cd9}{clearCells}}(row, 1);}
\DoxyCodeLine{00487   setCellInEmptyFrame(row, cell);}
\DoxyCodeLine{00488   \mbox{\hyperlink{class_t_xsh_sound_column_ac4dc488ae6e0edc5f5eab67726fe1391}{checkColumn}}();}
\DoxyCodeLine{00489   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00490 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_aeeb5bcc8eed1675a5f7cd4eb2ed5a5c6}\label{class_t_xsh_sound_column_aeeb5bcc8eed1675a5f7cd4eb2ed5a5c6}} 
\index{TXshSoundColumn@{TXshSoundColumn}!setCellInEmptyFrame@{setCellInEmptyFrame}}
\index{setCellInEmptyFrame@{setCellInEmptyFrame}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{setCellInEmptyFrame()}{setCellInEmptyFrame()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::set\+Cell\+In\+Empty\+Frame (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&}]{cell }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00405                                                                        \{}
\DoxyCodeLine{00406   \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00407   \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = cell.\mbox{\hyperlink{class_t_xsh_cell_a8c7ad08b83f6df4afec4b00334acfea6}{getSoundLevel}}();}
\DoxyCodeLine{00408   \textcolor{keywordflow}{if} (!soundLevel) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00409   \textcolor{keywordtype}{int} startOffset = cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}().getNumber();}
\DoxyCodeLine{00410   \textcolor{keywordtype}{int} startFrame  = row -\/ startOffset;}
\DoxyCodeLine{00411   \textcolor{keywordtype}{int} endOffset   = startFrame + soundLevel-\/>getFrameCount() -\/ 1 -\/ row;}
\DoxyCodeLine{00412   \mbox{\hyperlink{class_t_xsh_sound_column_a670a4afed19322fb96f956fa2a314d6b}{insertColumnLevel}}(}
\DoxyCodeLine{00413       \textcolor{keyword}{new} \mbox{\hyperlink{class_column_level}{ColumnLevel}}(soundLevel, startFrame, startOffset, endOffset));}
\DoxyCodeLine{00414 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a945e9138fe0e58e872813155a3755fa8}\label{class_t_xsh_sound_column_a945e9138fe0e58e872813155a3755fa8}} 
\index{TXshSoundColumn@{TXshSoundColumn}!setCells@{setCells}}
\index{setCells@{setCells}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{setCells()}{setCells()}}
{\footnotesize\ttfamily bool TXsh\+Sound\+Column\+::set\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{row\+Count,  }\item[{const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}}}]{cells\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Return false if cannot set cells. 

Reimplemented from \mbox{\hyperlink{class_t_xsh_cell_column_a91611c268308aa7d1dc8c4ebdcba43aa}{TXsh\+Cell\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00494                                                                             \{}
\DoxyCodeLine{00495   assert(row >= 0);}
\DoxyCodeLine{00496   \textcolor{comment}{// le celle da settare sono [ra, rb]}}
\DoxyCodeLine{00497   \textcolor{keywordtype}{int} ra = row;}
\DoxyCodeLine{00498   \textcolor{keywordtype}{int} rb = row + rowCount -\/ 1;}
\DoxyCodeLine{00499   assert(ra <= rb);}
\DoxyCodeLine{00500   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{false};}
\DoxyCodeLine{00501   \textcolor{keywordtype}{int} r;}
\DoxyCodeLine{00502   \textcolor{keywordflow}{for} (r = ra; r <= rb; r++) \{}
\DoxyCodeLine{00503     \textcolor{keywordtype}{bool} isOneCellSet = \mbox{\hyperlink{class_t_xsh_sound_column_a8a97a89c28078795c2d99f9587731595}{setCell}}(r, cells[r -\/ ra]);}
\DoxyCodeLine{00504     \textcolor{keywordflow}{if} (isOneCellSet) ret = isOneCellSet;}
\DoxyCodeLine{00505   \}}
\DoxyCodeLine{00506   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{00507 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00418}{set\+Cell()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a2fdb0686fec962624a8f47c05a757c08}\label{class_t_xsh_sound_column_a2fdb0686fec962624a8f47c05a757c08}} 
\index{TXshSoundColumn@{TXshSoundColumn}!setFrameRate@{setFrameRate}}
\index{setFrameRate@{setFrameRate}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{setFrameRate()}{setFrameRate()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::set\+Frame\+Rate (\begin{DoxyParamCaption}\item[{double}]{fps }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00722                                              \{}
\DoxyCodeLine{00723   \textcolor{keywordflow}{if} (m\_levels.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00724   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00725   \textcolor{keywordflow}{for} (i = 0; i < m\_levels.size(); i++) \{}
\DoxyCodeLine{00726     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *column        = m\_levels.at(i);}
\DoxyCodeLine{00727     \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = column-\/>getSoundLevel();}
\DoxyCodeLine{00728     \textcolor{keywordflow}{if} (soundLevel-\/>getFrameRate() != fps) soundLevel-\/>\mbox{\hyperlink{class_t_xsh_sound_level_a2d8162c84e15754cc03f2a37d5f44c93}{setFrameRate}}(fps);}
\DoxyCodeLine{00729     column-\/>setFrameRate(fps);}
\DoxyCodeLine{00730   \}}
\DoxyCodeLine{00731 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_acfb0739d911e96beaf02aa116672fd60}\label{class_t_xsh_sound_column_acfb0739d911e96beaf02aa116672fd60}} 
\index{TXshSoundColumn@{TXshSoundColumn}!setVolume@{setVolume}}
\index{setVolume@{setVolume}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{setVolume()}{setVolume()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::set\+Volume (\begin{DoxyParamCaption}\item[{double}]{value }\end{DoxyParamCaption})}



From 0.\+0 to 1.\+0. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00749                                             \{}
\DoxyCodeLine{00750   m\_volume = tcrop<double>(value, 0.0, 1.0);}
\DoxyCodeLine{00751   \textcolor{keywordflow}{if} (m\_player \&\& m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a1cfbf4df850a94edb663a8882d438f94}{isPlaying}}())}
\DoxyCodeLine{00752 \textcolor{preprocessor}{\#ifndef \_WIN32}}
\DoxyCodeLine{00753     m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_aa0d9d66c260853cbd14e491b36282298}{setVolume}}(m\_volume);}
\DoxyCodeLine{00754 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00755     stop();}
\DoxyCodeLine{00756 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00757 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00777}{TSound\+Output\+Device\+::is\+Playing()}}, and \mbox{\hyperlink{l00291}{TSound\+Output\+Device\+::set\+Volume()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a9bd5f67989ce1e94ae40a160f7352dcc}\label{class_t_xsh_sound_column_a9bd5f67989ce1e94ae40a160f7352dcc}} 
\index{TXshSoundColumn@{TXshSoundColumn}!setXsheet@{setXsheet}}
\index{setXsheet@{setXsheet}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{setXsheet()}{setXsheet()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::set\+Xsheet (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsheet }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Set {\bfseries{m\+\_\+xsheet}} to {\bfseries{xsheet}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsh_column_a2d812ed804dba4d8d91482a5f35e2601}{get\+Xsheet()}} 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_t_xsh_column_ad4badbad6279671e8a42037873647de9}{TXsh\+Column}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00705                                                \{}
\DoxyCodeLine{00706   \mbox{\hyperlink{class_t_xsh_column_ad4badbad6279671e8a42037873647de9}{TXshColumn::setXsheet}}(xsheet);}
\DoxyCodeLine{00707   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = xsheet-\/>\mbox{\hyperlink{class_t_xsheet_a35d49d436513243d059eee3a25ffa2ef}{getScene}}();}
\DoxyCodeLine{00708   \textcolor{keywordflow}{if} (!scene || m\_levels.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00709 }
\DoxyCodeLine{00710   \textcolor{keywordflow}{if} (m\_isOldVersion) \{}
\DoxyCodeLine{00711     assert(m\_levels.size() == 1);}
\DoxyCodeLine{00712     scene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}()-\/>insertLevel(m\_levels.at(0)-\/>getSoundLevel());}
\DoxyCodeLine{00713     m\_isOldVersion = \textcolor{keyword}{false};}
\DoxyCodeLine{00714   \}}
\DoxyCodeLine{00715 }
\DoxyCodeLine{00716   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *properties = scene-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()-\/>\mbox{\hyperlink{class_t_scene_properties_abea7b4b8e4f0cedbf753b26ec30b5331}{getOutputProperties}}();}
\DoxyCodeLine{00717   setFrameRate(properties-\/>\mbox{\hyperlink{class_t_output_properties_a0d9662971bc33097aa1b55111965b967}{getFrameRate}}());}
\DoxyCodeLine{00718 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00175}{TOutput\+Properties\+::get\+Frame\+Rate()}}, \mbox{\hyperlink{l00093}{Toonz\+Scene\+::get\+Level\+Set()}}, \mbox{\hyperlink{l00145}{TScene\+Properties\+::get\+Output\+Properties()}}, \mbox{\hyperlink{l00087}{Toonz\+Scene\+::get\+Properties()}}, \mbox{\hyperlink{l01575}{TXsheet\+::get\+Scene()}}, and \mbox{\hyperlink{l00232}{TXsh\+Column\+::set\+Xsheet()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a165e0a5dd6e57f7a80003de9ed6e05fe}\label{class_t_xsh_sound_column_a165e0a5dd6e57f7a80003de9ed6e05fe}} 
\index{TXshSoundColumn@{TXshSoundColumn}!stop@{stop}}
\index{stop@{stop}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00832                            \{}
\DoxyCodeLine{00833   \textcolor{keywordflow}{if} (m\_player) \{}
\DoxyCodeLine{00834     m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a7c556dc08b5ffb0b18a9ac87636a5c38}{stop}}();}
\DoxyCodeLine{00835     m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a7b6664bb45c191ea70a1bb1745ba7516}{close}}();}
\DoxyCodeLine{00836     m\_player                = 0;}
\DoxyCodeLine{00837     m\_currentPlaySoundTrack = \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}}();}
\DoxyCodeLine{00838   \}}
\DoxyCodeLine{00839 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsh_sound_column_a0b29a421ce039fc40efd4e33efaaa62a}\label{class_t_xsh_sound_column_a0b29a421ce039fc40efd4e33efaaa62a}} 
\index{TXshSoundColumn@{TXshSoundColumn}!updateCells@{updateCells}}
\index{updateCells@{updateCells}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{updateCells()}{updateCells()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::update\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{row\+Count }\end{DoxyParamCaption})}

Check if frames from {\bfseries{row}} to {\bfseries{row+row\+Count}} are in sequence and collapse level if it is true. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00613                                                        \{}
\DoxyCodeLine{00614   \textcolor{keywordtype}{int} r;}
\DoxyCodeLine{00615   \textcolor{keywordflow}{for} (r = row; r < row + rowCount; r++) \{}
\DoxyCodeLine{00616     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = \mbox{\hyperlink{class_t_xsh_sound_column_a7e88d1c7f432600a7a48ecd7892f4802}{getCell}}(r);}
\DoxyCodeLine{00617     \mbox{\hyperlink{class_t_xsh_sound_column_a8a97a89c28078795c2d99f9587731595}{setCell}}(row, cell, \textcolor{keyword}{true});}
\DoxyCodeLine{00618   \}}
\DoxyCodeLine{00619 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00317}{get\+Cell()}}, and \mbox{\hyperlink{l00418}{set\+Cell()}}.

\mbox{\Hypertarget{class_t_xsh_sound_column_a628b6c7b014c5e40d9bae10d63e3ac98}\label{class_t_xsh_sound_column_a628b6c7b014c5e40d9bae10d63e3ac98}} 
\index{TXshSoundColumn@{TXshSoundColumn}!updateFrameRate@{updateFrameRate}}
\index{updateFrameRate@{updateFrameRate}!TXshSoundColumn@{TXshSoundColumn}}
\doxysubsubsection{\texorpdfstring{updateFrameRate()}{updateFrameRate()}}
{\footnotesize\ttfamily void TXsh\+Sound\+Column\+::update\+Frame\+Rate (\begin{DoxyParamCaption}\item[{double}]{fps }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00735                                                 \{}
\DoxyCodeLine{00736   \textcolor{keywordflow}{if} (m\_levels.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00737   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00738   \textcolor{keywordflow}{for} (i = 0; i < m\_levels.size(); i++) \{}
\DoxyCodeLine{00739     \mbox{\hyperlink{class_column_level}{ColumnLevel}} *column        = m\_levels.at(i);}
\DoxyCodeLine{00740     \mbox{\hyperlink{class_t_xsh_sound_level}{TXshSoundLevel}} *soundLevel = column-\/>getSoundLevel();}
\DoxyCodeLine{00741     \textcolor{keywordtype}{double} oldFps              = soundLevel-\/>getFrameRate();}
\DoxyCodeLine{00742     \textcolor{keywordflow}{if} (oldFps != fps) soundLevel-\/>\mbox{\hyperlink{class_t_xsh_sound_level_a2d8162c84e15754cc03f2a37d5f44c93}{setFrameRate}}(fps);}
\DoxyCodeLine{00743     column-\/>updateFrameRate(fps);}
\DoxyCodeLine{00744   \}}
\DoxyCodeLine{00745 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/txshsoundcolumn.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/txshsoundcolumn.\+cpp\end{DoxyCompactItemize}
