\hypertarget{class_command_bar}{}\doxysection{Command\+Bar Class Reference}
\label{class_command_bar}\index{CommandBar@{CommandBar}}
Inheritance diagram for Command\+Bar\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_command_bar}
\end{center}
\end{figure}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_command_bar_a1f3ec6d6f0f794368c4429852d3b85ed}\label{class_command_bar_a1f3ec6d6f0f794368c4429852d3b85ed}} 
void {\bfseries update\+Visibility} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_command_bar_a954747c859609f88cf70ac45069ce093}{Command\+Bar}} (QWidget $\ast$parent=0, Qt\+::\+WFlags flags=0)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_command_bar_a3b444e16f120049789a64427f2e209ae}{do\+Customize\+Command\+Bar}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_command_bar_a204a66329a74a14acb3c5151a92b6ce2}{context\+Menu\+Event}} (QContext\+Menu\+Event $\ast$event) override
\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{class_command_bar_a7433d3eca48280581e095d152cbb840e}{fill\+Toolbar}} (\mbox{\hyperlink{class_command_bar}{Command\+Bar}} $\ast$toolbar, bool is\+Xsheet\+Toolbar=false)
\item 
static void \mbox{\hyperlink{class_command_bar_a03a8a477f296e33bc58abcccbd657a36}{build\+Default\+Toolbar}} (\mbox{\hyperlink{class_command_bar}{Command\+Bar}} $\ast$toolbar)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_command_bar_afa8fade9ef1471985ead6c74e03f4b39}{m\+\_\+is\+Collapsible}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_command_bar_a954747c859609f88cf70ac45069ce093}\label{class_command_bar_a954747c859609f88cf70ac45069ce093}} 
\index{CommandBar@{CommandBar}!CommandBar@{CommandBar}}
\index{CommandBar@{CommandBar}!CommandBar@{CommandBar}}
\doxysubsubsection{\texorpdfstring{CommandBar()}{CommandBar()}}
{\footnotesize\ttfamily Command\+Bar\+::\+Command\+Bar (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0},  }\item[{Qt\+::\+WFlags}]{flags = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00037     : QToolBar(parent), m\_isCollapsible(isCollapsible) \{}
\DoxyCodeLine{00038   setObjectName(\textcolor{stringliteral}{"{}cornerWidget"{}});}
\DoxyCodeLine{00039   setObjectName(\textcolor{stringliteral}{"{}CommandBar"{}});}
\DoxyCodeLine{00040   fillToolbar(\textcolor{keyword}{this}, isXsheetToolbar);}
\DoxyCodeLine{00041   setIconSize(QSize(20, 20));}
\DoxyCodeLine{00042 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_command_bar_a03a8a477f296e33bc58abcccbd657a36}\label{class_command_bar_a03a8a477f296e33bc58abcccbd657a36}} 
\index{CommandBar@{CommandBar}!buildDefaultToolbar@{buildDefaultToolbar}}
\index{buildDefaultToolbar@{buildDefaultToolbar}!CommandBar@{CommandBar}}
\doxysubsubsection{\texorpdfstring{buildDefaultToolbar()}{buildDefaultToolbar()}}
{\footnotesize\ttfamily void Command\+Bar\+::build\+Default\+Toolbar (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_command_bar}{Command\+Bar}} $\ast$}]{toolbar }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00102                                                         \{}
\DoxyCodeLine{00103   toolbar-\/>clear();}
\DoxyCodeLine{00104   \mbox{\hyperlink{class_t_app}{TApp}} *app = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00105   \{}
\DoxyCodeLine{00106     QAction *newVectorLevel =}
\DoxyCodeLine{00107         CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_NewVectorLevel"{}});}
\DoxyCodeLine{00108     toolbar-\/>addAction(newVectorLevel);}
\DoxyCodeLine{00109     QAction *newToonzRasterLevel =}
\DoxyCodeLine{00110         CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_NewToonzRasterLevel"{}});}
\DoxyCodeLine{00111     toolbar-\/>addAction(newToonzRasterLevel);}
\DoxyCodeLine{00112     QAction *newRasterLevel =}
\DoxyCodeLine{00113         CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_NewRasterLevel"{}});}
\DoxyCodeLine{00114     toolbar-\/>addAction(newRasterLevel);}
\DoxyCodeLine{00115     toolbar-\/>addSeparator();}
\DoxyCodeLine{00116     QAction *reframeOnes = CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_Reframe1"{}});}
\DoxyCodeLine{00117     toolbar-\/>addAction(reframeOnes);}
\DoxyCodeLine{00118     QAction *reframeTwos = CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_Reframe2"{}});}
\DoxyCodeLine{00119     toolbar-\/>addAction(reframeTwos);}
\DoxyCodeLine{00120     QAction *reframeThrees =}
\DoxyCodeLine{00121         CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_Reframe3"{}});}
\DoxyCodeLine{00122     toolbar-\/>addAction(reframeThrees);}
\DoxyCodeLine{00123 }
\DoxyCodeLine{00124     toolbar-\/>addSeparator();}
\DoxyCodeLine{00125 }
\DoxyCodeLine{00126     QAction *repeat = CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_Dup"{}});}
\DoxyCodeLine{00127     toolbar-\/>addAction(repeat);}
\DoxyCodeLine{00128 }
\DoxyCodeLine{00129     toolbar-\/>addSeparator();}
\DoxyCodeLine{00130 }
\DoxyCodeLine{00131     QAction *collapse = CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_Collapse"{}});}
\DoxyCodeLine{00132     toolbar-\/>addAction(collapse);}
\DoxyCodeLine{00133     QAction *open = CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_OpenChild"{}});}
\DoxyCodeLine{00134     toolbar-\/>addAction(open);}
\DoxyCodeLine{00135     QAction *leave = CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_CloseChild"{}});}
\DoxyCodeLine{00136     toolbar-\/>addAction(leave);}
\DoxyCodeLine{00137     QAction *editInPlace =}
\DoxyCodeLine{00138         CommandManager::instance()-\/>getAction(\textcolor{stringliteral}{"{}MI\_ToggleEditInPlace"{}});}
\DoxyCodeLine{00139     toolbar-\/>addAction(editInPlace);}
\DoxyCodeLine{00140   \}}
\DoxyCodeLine{00141 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_command_bar_a204a66329a74a14acb3c5151a92b6ce2}\label{class_command_bar_a204a66329a74a14acb3c5151a92b6ce2}} 
\index{CommandBar@{CommandBar}!contextMenuEvent@{contextMenuEvent}}
\index{contextMenuEvent@{contextMenuEvent}!CommandBar@{CommandBar}}
\doxysubsubsection{\texorpdfstring{contextMenuEvent()}{contextMenuEvent()}}
{\footnotesize\ttfamily void Command\+Bar\+::context\+Menu\+Event (\begin{DoxyParamCaption}\item[{QContext\+Menu\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00145                                                           \{}
\DoxyCodeLine{00146   QMenu *menu                  = \textcolor{keyword}{new} QMenu(\textcolor{keyword}{this});}
\DoxyCodeLine{00147   QAction *customizeCommandBar = menu-\/>addAction(tr(\textcolor{stringliteral}{"{}Customize Command Bar"{}}));}
\DoxyCodeLine{00148   connect(customizeCommandBar, SIGNAL(triggered()),}
\DoxyCodeLine{00149           SLOT(doCustomizeCommandBar()));}
\DoxyCodeLine{00150   menu-\/>exec(event-\/>globalPos());}
\DoxyCodeLine{00151 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_command_bar_a3b444e16f120049789a64427f2e209ae}\label{class_command_bar_a3b444e16f120049789a64427f2e209ae}} 
\index{CommandBar@{CommandBar}!doCustomizeCommandBar@{doCustomizeCommandBar}}
\index{doCustomizeCommandBar@{doCustomizeCommandBar}!CommandBar@{CommandBar}}
\doxysubsubsection{\texorpdfstring{doCustomizeCommandBar}{doCustomizeCommandBar}}
{\footnotesize\ttfamily void Command\+Bar\+::do\+Customize\+Command\+Bar (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00155                                        \{}
\DoxyCodeLine{00156   \mbox{\hyperlink{class_command_bar_popup}{CommandBarPopup}} *cbPopup = \textcolor{keyword}{new} \mbox{\hyperlink{class_command_bar_popup}{CommandBarPopup}}();}
\DoxyCodeLine{00157 }
\DoxyCodeLine{00158   \textcolor{keywordflow}{if} (cbPopup-\/>exec()) \{}
\DoxyCodeLine{00159     fillToolbar(\textcolor{keyword}{this});}
\DoxyCodeLine{00160   \}}
\DoxyCodeLine{00161   \textcolor{keyword}{delete} cbPopup;}
\DoxyCodeLine{00162 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_command_bar_a7433d3eca48280581e095d152cbb840e}\label{class_command_bar_a7433d3eca48280581e095d152cbb840e}} 
\index{CommandBar@{CommandBar}!fillToolbar@{fillToolbar}}
\index{fillToolbar@{fillToolbar}!CommandBar@{CommandBar}}
\doxysubsubsection{\texorpdfstring{fillToolbar()}{fillToolbar()}}
{\footnotesize\ttfamily void Command\+Bar\+::fill\+Toolbar (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_command_bar}{Command\+Bar}} $\ast$}]{toolbar,  }\item[{bool}]{is\+Xsheet\+Toolbar = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00046                                                                       \{}
\DoxyCodeLine{00047   toolbar-\/>clear();}
\DoxyCodeLine{00048   \mbox{\hyperlink{class_t_file_path}{TFilePath}} personalPath;}
\DoxyCodeLine{00049   \textcolor{keywordflow}{if} (isXsheetToolbar) \{}
\DoxyCodeLine{00050     personalPath =}
\DoxyCodeLine{00051         ToonzFolder::getMyModuleDir() + \mbox{\hyperlink{class_t_file_path}{TFilePath}}(\textcolor{stringliteral}{"{}xsheettoolbar.xml"{}});}
\DoxyCodeLine{00052   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00053     personalPath = ToonzFolder::getMyModuleDir() + \mbox{\hyperlink{class_t_file_path}{TFilePath}}(\textcolor{stringliteral}{"{}commandbar.xml"{}});}
\DoxyCodeLine{00054   \}}
\DoxyCodeLine{00055   \textcolor{keywordflow}{if} (!TSystem::doesExistFileOrLevel(personalPath)) \{}
\DoxyCodeLine{00056     \textcolor{keywordflow}{if} (isXsheetToolbar) \{}
\DoxyCodeLine{00057       personalPath =}
\DoxyCodeLine{00058           ToonzFolder::getTemplateModuleDir() + \mbox{\hyperlink{class_t_file_path}{TFilePath}}(\textcolor{stringliteral}{"{}xsheettoolbar.xml"{}});}
\DoxyCodeLine{00059     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00060       personalPath =}
\DoxyCodeLine{00061           ToonzFolder::getTemplateModuleDir() + \mbox{\hyperlink{class_t_file_path}{TFilePath}}(\textcolor{stringliteral}{"{}commandbar.xml"{}});}
\DoxyCodeLine{00062     \}}
\DoxyCodeLine{00063   \}}
\DoxyCodeLine{00064   QFile file(toQString(personalPath));}
\DoxyCodeLine{00065   \textcolor{keywordflow}{if} (!file.open(QFile::ReadOnly | QFile::Text)) \{}
\DoxyCodeLine{00066     qDebug() << \textcolor{stringliteral}{"{}Cannot read file"{}} << file.errorString();}
\DoxyCodeLine{00067     buildDefaultToolbar(toolbar);}
\DoxyCodeLine{00068     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00069   \}}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071   QXmlStreamReader reader(\&file);}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073   \textcolor{keywordflow}{if} (reader.readNextStartElement()) \{}
\DoxyCodeLine{00074     \textcolor{keywordflow}{if} (reader.name() == \textcolor{stringliteral}{"{}commandbar"{}}) \{}
\DoxyCodeLine{00075       \textcolor{keywordflow}{while} (reader.readNextStartElement()) \{}
\DoxyCodeLine{00076         \textcolor{keywordflow}{if} (reader.name() == \textcolor{stringliteral}{"{}command"{}}) \{}
\DoxyCodeLine{00077           QString cmdName    = reader.readElementText();}
\DoxyCodeLine{00078           std::string cmdStr = cmdName.toStdString();}
\DoxyCodeLine{00079           QAction *action =}
\DoxyCodeLine{00080               CommandManager::instance()-\/>getAction(cmdStr.c\_str());}
\DoxyCodeLine{00081           \textcolor{keywordflow}{if} (action) toolbar-\/>addAction(action);}
\DoxyCodeLine{00082         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (reader.name() == \textcolor{stringliteral}{"{}separator"{}}) \{}
\DoxyCodeLine{00083           toolbar-\/>addSeparator();}
\DoxyCodeLine{00084           reader.skipCurrentElement();}
\DoxyCodeLine{00085         \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00086           reader.skipCurrentElement();}
\DoxyCodeLine{00087       \}}
\DoxyCodeLine{00088     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00089       reader.raiseError(QObject::tr(\textcolor{stringliteral}{"{}Incorrect file"{}}));}
\DoxyCodeLine{00090   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00091     reader.raiseError(QObject::tr(\textcolor{stringliteral}{"{}Cannot Read XML File"{}}));}
\DoxyCodeLine{00092   \}}
\DoxyCodeLine{00093 }
\DoxyCodeLine{00094   \textcolor{keywordflow}{if} (reader.hasError()) \{}
\DoxyCodeLine{00095     buildDefaultToolbar(toolbar);}
\DoxyCodeLine{00096     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00097   \}}
\DoxyCodeLine{00098 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_command_bar_afa8fade9ef1471985ead6c74e03f4b39}\label{class_command_bar_afa8fade9ef1471985ead6c74e03f4b39}} 
\index{CommandBar@{CommandBar}!m\_isCollapsible@{m\_isCollapsible}}
\index{m\_isCollapsible@{m\_isCollapsible}!CommandBar@{CommandBar}}
\doxysubsubsection{\texorpdfstring{m\_isCollapsible}{m\_isCollapsible}}
{\footnotesize\ttfamily bool Command\+Bar\+::m\+\_\+is\+Collapsible\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/commandbar.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/commandbar.\+cpp\end{DoxyCompactItemize}
