\hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer}{}\doxysection{Toonz\+Ext\+::Stroke\+Parametric\+Deformer Class Reference}
\label{class_toonz_ext_1_1_stroke_parametric_deformer}\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}


This class implements new deformer.  




{\ttfamily \#include $<$Stroke\+Parametric\+Deformer.\+h$>$}

Inheritance diagram for Toonz\+Ext\+::Stroke\+Parametric\+Deformer\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_toonz_ext_1_1_stroke_parametric_deformer}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a80534f104c4986e2bacd4ac609167aa0}{Stroke\+Parametric\+Deformer}} (double action\+Length, double start\+Parameter, \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$s, \mbox{\hyperlink{class_toonz_ext_1_1_potential}{Potential}} $\ast$)
\item 
void \mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a0f263460e87c678515fe17b4d206d5f3}{set\+Mouse\+Move}} (double vx, double vy)
\begin{DoxyCompactList}\small\item\em Set mouse movement from last valid position. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a9c5ac5e09b2c27598030c8fcd9a8e085}{get\+Displacement}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&stroke, double w) const override
\begin{DoxyCompactList}\small\item\em Return displacement to use with function increase\+Control\+Points. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a3ac9c31db09cd5cc8a64d6f3eaf85af9}{get\+Displacement\+For\+Control\+Point}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&stroke, UINT n) const override
\begin{DoxyCompactList}\small\item\em Return displacement to use with function modify\+Control\+Points. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a4e0368b35a3df1d4c963ae17e7cf4cdc}{get\+Displacement\+For\+Control\+Point\+Len}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&stroke, double cp\+Len) const override
\item 
double \mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a29930646a4ea2e737951c950e5cfdf86}{get\+Delta}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&stroke, double w) const override
\begin{DoxyCompactList}\small\item\em This method compute the delta (gradient) referred to stroke in at parameter w. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a3f7fff7e82a60018ac88228e909d3f06}{get\+Max\+Diff}} () const override
\begin{DoxyCompactList}\small\item\em Max diff of delta (This value indicates when it\textquotesingle{}s necessary to insert control point) \end{DoxyCompactList}\item 
const \mbox{\hyperlink{class_toonz_ext_1_1_potential}{Potential}} $\ast$ \mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a756059d10f231ac9345d1d16ef76f3b1}{get\+Potential}} () const
\item 
void \mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_aca1ea6023e3e64af5667ad6a8d31266a}{set\+Diff}} (double diff)
\begin{DoxyCompactList}\small\item\em Change sensitivity of deformer (just for debug). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_aa725a968b11d0dc34a688b189e732347}{get\+Range}} (double \&from, double \&to)
\begin{DoxyCompactList}\small\item\em Retrieve the parameters range where is applied deformation. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class implements new deformer. 

New stroke deformer doesn\textquotesingle{}t change last point of stroke. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_a80534f104c4986e2bacd4ac609167aa0}\label{class_toonz_ext_1_1_stroke_parametric_deformer_a80534f104c4986e2bacd4ac609167aa0}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!StrokeParametricDeformer@{StrokeParametricDeformer}}
\index{StrokeParametricDeformer@{StrokeParametricDeformer}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{StrokeParametricDeformer()}{StrokeParametricDeformer()}}
{\footnotesize\ttfamily Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::\+Stroke\+Parametric\+Deformer (\begin{DoxyParamCaption}\item[{double}]{action\+Length,  }\item[{double}]{start\+Parameter,  }\item[{\mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$}]{s,  }\item[{\mbox{\hyperlink{class_toonz_ext_1_1_potential}{Potential}} $\ast$}]{pot }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00022     : startParameter\_(startParameter)}
\DoxyCodeLine{00023     , actionLength\_(actionLength)}
\DoxyCodeLine{00024     , vx\_(1.0)}
\DoxyCodeLine{00025     , vy\_(1.0)}
\DoxyCodeLine{00026     , pot\_(0) \{}
\DoxyCodeLine{00027   diff\_ = 0.001;}
\DoxyCodeLine{00028 }
\DoxyCodeLine{00029   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00030     ref\_copy\_ = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stroke}{TStroke}}(*s);}
\DoxyCodeLine{00031   \} \textcolor{keywordflow}{catch} (std::bad\_alloc \&) \{}
\DoxyCodeLine{00032     \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}Not possible to have a copy of stroke!!!"{}});}
\DoxyCodeLine{00033   \}}
\DoxyCodeLine{00034 }
\DoxyCodeLine{00035   assert(0.0 <= startParameter\_ \&\& startParameter\_ <= 1.0);}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037   \textcolor{comment}{// double}}
\DoxyCodeLine{00038   \textcolor{comment}{//  max\_length = s-\/>getLength();}}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040   \textcolor{comment}{//  if( actionLength == -\/1 )}}
\DoxyCodeLine{00041   \textcolor{comment}{//  \{}}
\DoxyCodeLine{00042   \textcolor{comment}{//    assert(false \&\& "{}Rispristina la vecchia gestione"{});}}
\DoxyCodeLine{00043   \textcolor{comment}{//    actionLength\_ = 2.0 * max\_length;}}
\DoxyCodeLine{00044   \textcolor{comment}{//  \}}}
\DoxyCodeLine{00045   \textcolor{comment}{//  else}}
\DoxyCodeLine{00046   \textcolor{comment}{//  \{}}
\DoxyCodeLine{00047   assert(0.0 <= actionLength\_);}
\DoxyCodeLine{00048   \textcolor{comment}{// \&\& actionLength\_ <= max\_length );}}
\DoxyCodeLine{00049 }
\DoxyCodeLine{00050   \textcolor{keywordflow}{if} (0.0 > actionLength\_) actionLength\_ = 0.0;}
\DoxyCodeLine{00051   \textcolor{comment}{// else if ( actionLength\_ > max\_length )}}
\DoxyCodeLine{00052   \textcolor{comment}{//  actionLength\_ = max\_length;}}
\DoxyCodeLine{00053   \textcolor{comment}{//\}}}
\DoxyCodeLine{00054 }
\DoxyCodeLine{00055   pot\_ = pot;}
\DoxyCodeLine{00056   \textcolor{keywordflow}{if} (!pot\_)}
\DoxyCodeLine{00057     \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}Not Possible to have a ref of Potential!!!"{}});}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059   pot\_-\/>\mbox{\hyperlink{class_toonz_ext_1_1_potential_aedac8d3783e71b08e9763511cf071430}{setParameters}}(ref\_copy\_, startParameter\_, actionLength\_);}
\DoxyCodeLine{00060   assert(pot\_);}
\DoxyCodeLine{00061   startLength\_ = startParameter\_;}
\DoxyCodeLine{00062 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_a7b8d1d43af9bb3ebe6f65d2d2b0d5d68}\label{class_toonz_ext_1_1_stroke_parametric_deformer_a7b8d1d43af9bb3ebe6f65d2d2b0d5d68}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!````~StrokeParametricDeformer@{$\sim$StrokeParametricDeformer}}
\index{````~StrokeParametricDeformer@{$\sim$StrokeParametricDeformer}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{$\sim$StrokeParametricDeformer()}{~StrokeParametricDeformer()}}
{\footnotesize\ttfamily Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::$\sim$\+Stroke\+Parametric\+Deformer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00073                                                             \{}
\DoxyCodeLine{00074   \textcolor{keyword}{delete} pot\_;}
\DoxyCodeLine{00075   \textcolor{keyword}{delete} ref\_copy\_;}
\DoxyCodeLine{00076 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_a29930646a4ea2e737951c950e5cfdf86}\label{class_toonz_ext_1_1_stroke_parametric_deformer_a29930646a4ea2e737951c950e5cfdf86}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!getDelta@{getDelta}}
\index{getDelta@{getDelta}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{getDelta()}{getDelta()}}
{\footnotesize\ttfamily double Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Delta (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke,  }\item[{double}]{w }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



This method compute the delta (gradient) referred to stroke in at parameter w. 

This value is the result of $ \frac{getDisplacement(stroke,w)}{dw} $. \begin{DoxyNote}{Note}
Sometimes this value can be approximated. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em stroke} & Stroke to test \\
\hline
{\em w} & Stroke parameter \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the {\bfseries{gradient}} in w 
\end{DoxyReturn}


Implements \mbox{\hyperlink{class_t_stroke_deformation_a7b9fd2eadfddc3e599222d8cdd21533d}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00110                                                                     \{}
\DoxyCodeLine{00111 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{00112   \textcolor{keywordtype}{double}  w0 = w;}
\DoxyCodeLine{00113   \textcolor{keywordflow}{if}(w0 == 1.0)}
\DoxyCodeLine{00114     \textcolor{keywordflow}{return} norm( stroke.\mbox{\hyperlink{class_t_stroke_aacd3df1526449eb47659de8ea4c16039}{getSpeed}}(1.0));}
\DoxyCodeLine{00115   \textcolor{keywordtype}{double} tmp = stroke.\mbox{\hyperlink{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}{getLength}}(w0);}
\DoxyCodeLine{00116   tmp+=1.0;}
\DoxyCodeLine{00117   \textcolor{keywordtype}{double} w1 = stroke.\mbox{\hyperlink{class_t_stroke_a45226c432c0d643e9985823abccdeda2}{getParameterAtLength}}(tmp);}
\DoxyCodeLine{00118 }
\DoxyCodeLine{00119   \textcolor{comment}{/*}}
\DoxyCodeLine{00120 \textcolor{comment}{  double  w1 = w + 0.01;  }}
\DoxyCodeLine{00121 \textcolor{comment}{  if(w1>1.0)}}
\DoxyCodeLine{00122 \textcolor{comment}{  \{}}
\DoxyCodeLine{00123 \textcolor{comment}{    w0 = 1.0 -\/ 0.01;}}
\DoxyCodeLine{00124 \textcolor{comment}{    w1 = 1.0;}}
\DoxyCodeLine{00125 \textcolor{comment}{  \}}}
\DoxyCodeLine{00126 \textcolor{comment}{  */}}
\DoxyCodeLine{00127 }
\DoxyCodeLine{00128   \textcolor{keyword}{const} \textcolor{keywordtype}{double}  dx = 1.0; \textcolor{comment}{//stroke.getLength(w0,w1);}}
\DoxyCodeLine{00129   \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} pnt = this-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a9c5ac5e09b2c27598030c8fcd9a8e085}{getDisplacement}}(stroke,w1) -\/ }
\DoxyCodeLine{00130                     this-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a9c5ac5e09b2c27598030c8fcd9a8e085}{getDisplacement}}(stroke,w0);}
\DoxyCodeLine{00131 }
\DoxyCodeLine{00132   \textcolor{keywordtype}{double}  dy =  sqrt( sq(pnt.x) + sq(pnt.y) + sq(pnt.thick) );}
\DoxyCodeLine{00133 }
\DoxyCodeLine{00134   assert(dx!=0.0);}
\DoxyCodeLine{00135   \textcolor{keywordflow}{return} dy/dx;}
\DoxyCodeLine{00136 }
\DoxyCodeLine{00137   \textcolor{comment}{/*}}
\DoxyCodeLine{00138 \textcolor{comment}{  // the increaser is wrong than this value need to be the deformation}}
\DoxyCodeLine{00139 \textcolor{comment}{  //  value }}
\DoxyCodeLine{00140 \textcolor{comment}{}}
\DoxyCodeLine{00141 \textcolor{comment}{  // is norm }}
\DoxyCodeLine{00142 \textcolor{comment}{  TThickPoint pnt = this-\/>getDisplacement(stroke,}}
\DoxyCodeLine{00143 \textcolor{comment}{                                          w);}}
\DoxyCodeLine{00144 \textcolor{comment}{  return sqrt( sq(pnt.x) + sq(pnt.y) + sq(pnt.thick) );}}
\DoxyCodeLine{00145 \textcolor{comment}{}}
\DoxyCodeLine{00146 \textcolor{comment}{  //return pot\_-\/>gradient(w);}}
\DoxyCodeLine{00147 \textcolor{comment}{  */}}
\DoxyCodeLine{00148 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00149   \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a9c5ac5e09b2c27598030c8fcd9a8e085}{getDisplacement}}(stroke, w).y;}
\DoxyCodeLine{00150 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01591}{TStroke\+::get\+Length()}}, \mbox{\hyperlink{l01981}{TStroke\+::get\+Parameter\+At\+Length()}}, and \mbox{\hyperlink{l02123}{TStroke\+::get\+Speed()}}.

\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_a9c5ac5e09b2c27598030c8fcd9a8e085}\label{class_toonz_ext_1_1_stroke_parametric_deformer_a9c5ac5e09b2c27598030c8fcd9a8e085}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!getDisplacement@{getDisplacement}}
\index{getDisplacement@{getDisplacement}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{getDisplacement()}{getDisplacement()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Displacement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke,  }\item[{double}]{w }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Return displacement to use with function increase\+Control\+Points. 


\begin{DoxyParams}{Parameters}
{\em stroke} & to test \\
\hline
{\em w} & stroke parameter \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
displacement to apply to obtain deformation 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
increase\+Control\+Points 
\end{DoxySeeAlso}


Implements \mbox{\hyperlink{class_t_stroke_deformation_a14016df3f46a20f16313dd725a514d63}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00081                                            \{}
\DoxyCodeLine{00082   \textcolor{comment}{// conversion in absolute system for shape deformation}}
\DoxyCodeLine{00083   \textcolor{keywordtype}{double} val = pot\_-\/>\mbox{\hyperlink{class_toonz_ext_1_1_potential_a5fed9f80f31c83bd8d06a255f9a9df3e}{value}}(w);}
\DoxyCodeLine{00084 }
\DoxyCodeLine{00085   assert(val >= 0);}
\DoxyCodeLine{00086 }
\DoxyCodeLine{00087   \textcolor{comment}{// amplify movement}}
\DoxyCodeLine{00088   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(vx\_ * val, vy\_ * val, 0.0);}
\DoxyCodeLine{00089 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_a3ac9c31db09cd5cc8a64d6f3eaf85af9}\label{class_toonz_ext_1_1_stroke_parametric_deformer_a3ac9c31db09cd5cc8a64d6f3eaf85af9}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!getDisplacementForControlPoint@{getDisplacementForControlPoint}}
\index{getDisplacementForControlPoint@{getDisplacementForControlPoint}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{getDisplacementForControlPoint()}{getDisplacementForControlPoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Displacement\+For\+Control\+Point (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke,  }\item[{UINT}]{n }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Return displacement to use with function modify\+Control\+Points. 


\begin{DoxyParams}{Parameters}
{\em stroke} & to test \\
\hline
{\em n} & control point to get \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
displacement to apply to obtain deformation 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
modify\+Control\+Points 
\end{DoxySeeAlso}


Implements \mbox{\hyperlink{class_t_stroke_deformation_ac566a93f9396d25548059ea993d3224d}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00094                                          \{}
\DoxyCodeLine{00095   \textcolor{keywordtype}{double} w = stroke.\mbox{\hyperlink{class_t_stroke_a244eb0bf1629669b61949df20b2ee091}{getParameterAtControlPoint}}(n);}
\DoxyCodeLine{00096   \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a9c5ac5e09b2c27598030c8fcd9a8e085}{getDisplacement}}(stroke, w);}
\DoxyCodeLine{00097 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l02002}{TStroke\+::get\+Parameter\+At\+Control\+Point()}}.

\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_a4e0368b35a3df1d4c963ae17e7cf4cdc}\label{class_toonz_ext_1_1_stroke_parametric_deformer_a4e0368b35a3df1d4c963ae17e7cf4cdc}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!getDisplacementForControlPointLen@{getDisplacementForControlPointLen}}
\index{getDisplacementForControlPointLen@{getDisplacementForControlPointLen}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{getDisplacementForControlPointLen()}{getDisplacementForControlPointLen()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Displacement\+For\+Control\+Point\+Len (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke,  }\item[{double}]{cp\+Len }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_stroke_deformation}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00103                                                \{}
\DoxyCodeLine{00104   \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_parametric_deformer_a9c5ac5e09b2c27598030c8fcd9a8e085}{getDisplacement}}(stroke, cpLen);}
\DoxyCodeLine{00105 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_a3f7fff7e82a60018ac88228e909d3f06}\label{class_toonz_ext_1_1_stroke_parametric_deformer_a3f7fff7e82a60018ac88228e909d3f06}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!getMaxDiff@{getMaxDiff}}
\index{getMaxDiff@{getMaxDiff}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{getMaxDiff()}{getMaxDiff()}}
{\footnotesize\ttfamily double Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Max\+Diff (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Max diff of delta (This value indicates when it\textquotesingle{}s necessary to insert control point) 

\begin{DoxyReturn}{Returns}
max displacement permitted 
\end{DoxyReturn}


Implements \mbox{\hyperlink{class_t_stroke_deformation_a45f44de3e2a465e262b7a3a8a71a02e6}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00154 \{ \textcolor{keywordflow}{return} diff\_; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_a756059d10f231ac9345d1d16ef76f3b1}\label{class_toonz_ext_1_1_stroke_parametric_deformer_a756059d10f231ac9345d1d16ef76f3b1}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!getPotential@{getPotential}}
\index{getPotential@{getPotential}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{getPotential()}{getPotential()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_toonz_ext_1_1_potential}{Potential}} $\ast$ Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Potential (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00093 \{ \textcolor{keywordflow}{return} pot\_; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_aa725a968b11d0dc34a688b189e732347}\label{class_toonz_ext_1_1_stroke_parametric_deformer_aa725a968b11d0dc34a688b189e732347}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!getRange@{getRange}}
\index{getRange@{getRange}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{getRange()}{getRange()}}
{\footnotesize\ttfamily void Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Range (\begin{DoxyParamCaption}\item[{double \&}]{from,  }\item[{double \&}]{to }\end{DoxyParamCaption})}



Retrieve the parameters range where is applied deformation. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00158                                                                         \{}
\DoxyCodeLine{00159   \textcolor{keywordtype}{double} x     = ref\_copy\_-\/>\mbox{\hyperlink{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}{getLength}}(startParameter\_);}
\DoxyCodeLine{00160   \textcolor{keywordtype}{double} delta = x -\/ actionLength\_ * 0.5;}
\DoxyCodeLine{00161   \textcolor{keywordflow}{if} (delta > 0)}
\DoxyCodeLine{00162     from = ref\_copy\_-\/>\mbox{\hyperlink{class_t_stroke_a45226c432c0d643e9985823abccdeda2}{getParameterAtLength}}(delta);}
\DoxyCodeLine{00163   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00164     from = 0.0;}
\DoxyCodeLine{00165 }
\DoxyCodeLine{00166   delta = x + actionLength\_ * 0.5;}
\DoxyCodeLine{00167   \textcolor{keywordflow}{if} (delta < ref\_copy\_-\/>getLength())}
\DoxyCodeLine{00168     to = ref\_copy\_-\/>\mbox{\hyperlink{class_t_stroke_a45226c432c0d643e9985823abccdeda2}{getParameterAtLength}}(delta);}
\DoxyCodeLine{00169   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00170     to = 1.0;}
\DoxyCodeLine{00171 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_aca1ea6023e3e64af5667ad6a8d31266a}\label{class_toonz_ext_1_1_stroke_parametric_deformer_aca1ea6023e3e64af5667ad6a8d31266a}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!setDiff@{setDiff}}
\index{setDiff@{setDiff}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{setDiff()}{setDiff()}}
{\footnotesize\ttfamily void Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::set\+Diff (\begin{DoxyParamCaption}\item[{double}]{diff }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Change sensitivity of deformer (just for debug). 


\begin{DoxyCode}{0}
\DoxyCodeLine{00098 \{ diff\_ = diff; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}.

\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_parametric_deformer_a0f263460e87c678515fe17b4d206d5f3}\label{class_toonz_ext_1_1_stroke_parametric_deformer_a0f263460e87c678515fe17b4d206d5f3}} 
\index{ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}!setMouseMove@{setMouseMove}}
\index{setMouseMove@{setMouseMove}!ToonzExt::StrokeParametricDeformer@{ToonzExt::StrokeParametricDeformer}}
\doxysubsubsection{\texorpdfstring{setMouseMove()}{setMouseMove()}}
{\footnotesize\ttfamily void Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::set\+Mouse\+Move (\begin{DoxyParamCaption}\item[{double}]{vx,  }\item[{double}]{vy }\end{DoxyParamCaption})}



Set mouse movement from last valid position. 


\begin{DoxyParams}{Parameters}
{\em vx} & horyzontal \\
\hline
{\em vy} & vertical \\
\hline
\end{DoxyParams}

\begin{DoxyCode}{0}
\DoxyCodeLine{00066                                                                         \{}
\DoxyCodeLine{00067   vx\_ = vx;}
\DoxyCodeLine{00068   vy\_ = vy;}
\DoxyCodeLine{00069 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00456}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::update\+\_\+impl()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/ext/Stroke\+Parametric\+Deformer.\+h\item 
E\+:/opentoonz/toonz/sources/tnzext/Stroke\+Parametric\+Deformer.\+cpp\end{DoxyCompactItemize}
