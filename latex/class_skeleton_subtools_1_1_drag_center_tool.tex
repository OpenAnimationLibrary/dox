\hypertarget{class_skeleton_subtools_1_1_drag_center_tool}{}\doxysection{Skeleton\+Subtools\+::Drag\+Center\+Tool Class Reference}
\label{class_skeleton_subtools_1_1_drag_center_tool}\index{SkeletonSubtools::DragCenterTool@{SkeletonSubtools::DragCenterTool}}
Inheritance diagram for Skeleton\+Subtools\+::Drag\+Center\+Tool\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_skeleton_subtools_1_1_drag_center_tool}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_skeleton_subtools_1_1_drag_center_tool_a0b9cb2525707fd516a4eb72fe6a5371e}{Drag\+Center\+Tool}} (\mbox{\hyperlink{class_skeleton_tool}{Skeleton\+Tool}} $\ast$tool)
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_drag_center_tool_a229b5b44b5244a13c16159724d188270}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_drag_center_tool_a4dce37efe14a2fbb5e36754098a4e556}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_drag_center_tool_a9ec46989178a688368b887cc21d4ace1}{left\+Button\+Up}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_drag_center_tool_a0b9cb2525707fd516a4eb72fe6a5371e}\label{class_skeleton_subtools_1_1_drag_center_tool_a0b9cb2525707fd516a4eb72fe6a5371e}} 
\index{SkeletonSubtools::DragCenterTool@{SkeletonSubtools::DragCenterTool}!DragCenterTool@{DragCenterTool}}
\index{DragCenterTool@{DragCenterTool}!SkeletonSubtools::DragCenterTool@{SkeletonSubtools::DragCenterTool}}
\doxysubsubsection{\texorpdfstring{DragCenterTool()}{DragCenterTool()}}
{\footnotesize\ttfamily Drag\+Center\+Tool\+::\+Drag\+Center\+Tool (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_skeleton_tool}{Skeleton\+Tool}} $\ast$}]{tool }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00040     : \mbox{\hyperlink{class_skeleton_subtools_1_1_drag_tool}{DragTool}}(tool)}
\DoxyCodeLine{00041     , m\_objId(TTool::getApplication()-\/>getCurrentObject()-\/>getObjectId())}
\DoxyCodeLine{00042     , m\_frame(TTool::getApplication()-\/>getCurrentFrame()-\/>getFrame()) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_drag_center_tool_a229b5b44b5244a13c16159724d188270}\label{class_skeleton_subtools_1_1_drag_center_tool_a229b5b44b5244a13c16159724d188270}} 
\index{SkeletonSubtools::DragCenterTool@{SkeletonSubtools::DragCenterTool}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!SkeletonSubtools::DragCenterTool@{SkeletonSubtools::DragCenterTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void Drag\+Center\+Tool\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_skeleton_subtools_1_1_drag_tool}{Skeleton\+Subtools\+::\+Drag\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00046                                                                            \{}
\DoxyCodeLine{00047   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = TTool::getApplication()-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{00048   m\_center = m\_oldCenter = xsh-\/>\mbox{\hyperlink{class_t_xsheet_ad762600c9d9d3b5173fcc1e79a802793}{getCenter}}(m\_objId, m\_frame);}
\DoxyCodeLine{00049   m\_firstPos             = pos;}
\DoxyCodeLine{00050   m\_affine               = xsh-\/>\mbox{\hyperlink{class_t_xsheet_abd766f516cac9898a2a952463618a9fe}{getPlacement}}(m\_objId, m\_frame).\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}() *}
\DoxyCodeLine{00051              xsh-\/>\mbox{\hyperlink{class_t_xsheet_a491a29d5ec8795c1445db08a5e83a612}{getParentPlacement}}(m\_objId, m\_frame);}
\DoxyCodeLine{00052   m\_affine.a13 = m\_affine.a23 = 0;}
\DoxyCodeLine{00053 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_drag_center_tool_a4dce37efe14a2fbb5e36754098a4e556}\label{class_skeleton_subtools_1_1_drag_center_tool_a4dce37efe14a2fbb5e36754098a4e556}} 
\index{SkeletonSubtools::DragCenterTool@{SkeletonSubtools::DragCenterTool}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!SkeletonSubtools::DragCenterTool@{SkeletonSubtools::DragCenterTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void Drag\+Center\+Tool\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_skeleton_subtools_1_1_drag_tool}{Skeleton\+Subtools\+::\+Drag\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00057                                                                            \{}
\DoxyCodeLine{00058   \textcolor{keywordtype}{double} factor = 1.0 / \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}};}
\DoxyCodeLine{00059   m\_center      = m\_oldCenter + (m\_affine * (pos -\/ m\_firstPos)) * factor;}
\DoxyCodeLine{00060   TTool::getApplication()-\/>getCurrentXsheet()-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a5518e9cd4b6bb85707ea4dda3808862b}{setCenter}}(}
\DoxyCodeLine{00061       m\_objId, m\_frame, m\_center);}
\DoxyCodeLine{00062 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_drag_center_tool_a9ec46989178a688368b887cc21d4ace1}\label{class_skeleton_subtools_1_1_drag_center_tool_a9ec46989178a688368b887cc21d4ace1}} 
\index{SkeletonSubtools::DragCenterTool@{SkeletonSubtools::DragCenterTool}!leftButtonUp@{leftButtonUp}}
\index{leftButtonUp@{leftButtonUp}!SkeletonSubtools::DragCenterTool@{SkeletonSubtools::DragCenterTool}}
\doxysubsubsection{\texorpdfstring{leftButtonUp()}{leftButtonUp()}}
{\footnotesize\ttfamily void Drag\+Center\+Tool\+::left\+Button\+Up (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_skeleton_subtools_1_1_drag_tool}{Skeleton\+Subtools\+::\+Drag\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00066                                                                          \{}
\DoxyCodeLine{00067   \mbox{\hyperlink{class_undo_stage_object_center_move}{UndoStageObjectCenterMove}} *undo =}
\DoxyCodeLine{00068       \textcolor{keyword}{new} \mbox{\hyperlink{class_undo_stage_object_center_move}{UndoStageObjectCenterMove}}(m\_objId, m\_frame, m\_oldCenter, m\_center);}
\DoxyCodeLine{00069   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{00070   undo-\/>setObjectHandle(app-\/>getCurrentObject());}
\DoxyCodeLine{00071   undo-\/>setXsheetHandle(app-\/>getCurrentXsheet());}
\DoxyCodeLine{00072   TUndoManager::manager()-\/>add(undo);}
\DoxyCodeLine{00073 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/skeletonsubtools.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/skeletonsubtools.\+cpp\end{DoxyCompactItemize}
