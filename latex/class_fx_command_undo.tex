\hypertarget{class_fx_command_undo}{}\doxysection{Fx\+Command\+Undo Class Reference}
\label{class_fx_command_undo}\index{FxCommandUndo@{FxCommandUndo}}
Inheritance diagram for Fx\+Command\+Undo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=12.000000cm]{class_fx_command_undo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_fx_command_undo_aefafaddfda67aa2478916fe101d4a721}\label{class_fx_command_undo_aefafaddfda67aa2478916fe101d4a721}} 
virtual bool {\bfseries is\+Consistent} () const =0
\item 
int \mbox{\hyperlink{class_fx_command_undo_ab3fdcdf783e9867c37a08434c53eeec4}{get\+History\+Type}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Pred $>$ }\\static \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ \mbox{\hyperlink{class_fx_command_undo_ada9310c1e357070f39b5d0b1e327f547}{leftmost\+Connected\+Fx}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx, Pred pred)
\item 
{\footnotesize template$<$typename Pred $>$ }\\static \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ \mbox{\hyperlink{class_fx_command_undo_ad27c3e6962024d00ce595967b3e6642a}{rightmost\+Connected\+Fx}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx, Pred pred)
\item 
static \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ \mbox{\hyperlink{class_fx_command_undo_a696561e97d0a177f9a9f96f2c21b1de8}{leftmost\+Connected\+Fx}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx)
\item 
static \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ \mbox{\hyperlink{class_fx_command_undo_adf9cfa133401a449b7940007ab639326}{rightmost\+Connected\+Fx}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx)
\item 
static std\+::vector$<$ \mbox{\hyperlink{class_t_fx_command_1_1_link}{TFx\+Command\+::\+Link}} $>$ \mbox{\hyperlink{class_fx_command_undo_a49ce6dd7b366f9d3f9e0520e2cf84b12}{input\+Links}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx)
\item 
static std\+::vector$<$ \mbox{\hyperlink{class_t_fx_command_1_1_link}{TFx\+Command\+::\+Link}} $>$ \mbox{\hyperlink{class_fx_command_undo_a07aa43fdaaa4fe6c850c7ebab4e3f446}{output\+Links}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx)
\end{DoxyCompactItemize}
\doxysubsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXsh\+Zerary\+Fx\+Column}} $\ast$ \mbox{\hyperlink{class_fx_command_undo_a2ce224fb1ca03344943e148ef36823ca}{create\+Zerary\+Fx\+Column}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$zfx, int row=0)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_af18d1a4330f86b8daff805c7491e3e78}{clone\+Group\+Stack}} (const QStack$<$ int $>$ \&group\+Ids, const QStack$<$ std\+::wstring $>$ \&group\+Names, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$to\+Fx)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_a5d1723605847554d33d9812d3e387a81}{clone\+Group\+Stack}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$from\+Fx, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$to\+Fx)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_a0b5be24fcb4bc647500d669692b6c52b}{copy\+Group\+Edit\+Level}} (int edit\+Group\+Id, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$to\+Fx)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_ae9a46dd59920fc13e1013880691cd460}{copy\+Group\+Edit\+Level}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$from\+Fx, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$to\+Fx)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_ac644d3714bbc5467f250c4de4516c0cf}{copy\+Dag\+Position}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$from\+Fx, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$to\+Fx)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_a2acd799360b0eb16517c0394f64c36f2}{attach}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$input\+Fx, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$output\+Fx, int port, bool copy\+Group\+Data)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_aabca41c0f7c22f4a5c15dd4f03c223ac}{attach}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, const \mbox{\hyperlink{class_t_fx_command_1_1_link}{TFx\+Command\+::\+Link}} \&link, bool copy\+Group\+Data)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_a8ba75228ce74def1be2e9f3e85c1348e}{attach\+Outputs}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$inserted\+Fx, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$input\+Fx)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_a64dd84324b86aa1eca706034772f568e}{detach\+Fxs}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx\+Left, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx\+Right, bool detach\+Left=true)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_af229b3079a982485ca28c14ac54dd537}{insert\+Fxs}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, const \mbox{\hyperlink{class_t_fx_command_1_1_link}{TFx\+Command\+::\+Link}} \&link, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx\+Left, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx\+Right)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_a6e2e6cb1d7cddff81ee1cf514a197d05}{insert\+Column}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, \mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$column, int col\+Idx, bool remove\+Hole=false, bool auto\+Terminal=false)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_a8c24a0031616da378ecffd17699b73d9}{remove\+Fx\+Or\+Column}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx, int col\+Idx, bool insert\+Hole=false, bool unlink\+Params=true)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_a489327fb60db36179c7c76d6dc468a4e}{link\+Params}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$linked\+Fx)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_aa6108f746817c3b68f5ddd93645be566}{unlink\+Params}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx)
\item 
static void \mbox{\hyperlink{class_fx_command_undo_aab28f80180e3461f397a83431c01a60d}{make\+Not\+Current}} (\mbox{\hyperlink{class_t_fx_handle}{TFx\+Handle}} $\ast$fx\+Handle, \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$fx)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_fx_command_undo_a41ca3cd49635decfd19f69da07339b00}\label{class_fx_command_undo_a41ca3cd49635decfd19f69da07339b00}} 
\index{FxCommandUndo@{FxCommandUndo}!````~FxCommandUndo@{$\sim$FxCommandUndo}}
\index{````~FxCommandUndo@{$\sim$FxCommandUndo}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{$\sim$FxCommandUndo()}{~FxCommandUndo()}}
{\footnotesize\ttfamily virtual Fx\+Command\+Undo\+::$\sim$\+Fx\+Command\+Undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00253 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_fx_command_undo_aabca41c0f7c22f4a5c15dd4f03c223ac}\label{class_fx_command_undo_aabca41c0f7c22f4a5c15dd4f03c223ac}} 
\index{FxCommandUndo@{FxCommandUndo}!attach@{attach}}
\index{attach@{attach}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{attach()}{attach()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::attach (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{const \mbox{\hyperlink{class_t_fx_command_1_1_link}{TFx\+Command\+::\+Link}} \&}]{link,  }\item[{bool}]{copy\+Group\+Data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00395                                                \{}
\DoxyCodeLine{00396   attach(xsh, link.m\_inputFx.getPointer(), link.m\_outputFx.getPointer(),}
\DoxyCodeLine{00397          link.\mbox{\hyperlink{class_t_fx_command_1_1_link_a59252bec823e61280e1e6c1c9b5ce377}{m\_index}}, copyGroupData);}
\DoxyCodeLine{00398 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a2acd799360b0eb16517c0394f64c36f2}\label{class_fx_command_undo_a2acd799360b0eb16517c0394f64c36f2}} 
\index{FxCommandUndo@{FxCommandUndo}!attach@{attach}}
\index{attach@{attach}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{attach()}{attach()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::attach (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{input\+Fx,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{output\+Fx,  }\item[{int}]{port,  }\item[{bool}]{copy\+Group\+Data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00372                                                \{}
\DoxyCodeLine{00373   \textcolor{keywordflow}{if} (outputFx) \{}
\DoxyCodeLine{00374     \mbox{\hyperlink{class_fx_dag}{FxDag}} *fxDag = xsh-\/>\mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}();}
\DoxyCodeLine{00375 }
\DoxyCodeLine{00376     inputFx  = ::getActualOut(inputFx);}
\DoxyCodeLine{00377     outputFx = ::getActualIn(outputFx);}
\DoxyCodeLine{00378 }
\DoxyCodeLine{00379     \textcolor{keywordflow}{if} (inputFx \&\& link < 0) \{}
\DoxyCodeLine{00380       assert(\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsheet_fx}{TXsheetFx}} *\textcolor{keyword}{>}(outputFx));}
\DoxyCodeLine{00381       fxDag-\/>addToXsheet(inputFx);}
\DoxyCodeLine{00382     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00383       \textcolor{keywordtype}{int} ipCount = outputFx-\/>getInputPortCount();}
\DoxyCodeLine{00384       \textcolor{keywordflow}{if} (ipCount > 0 \&\& link < ipCount)}
\DoxyCodeLine{00385         outputFx-\/>getInputPort(link)-\/>setFx(inputFx);}
\DoxyCodeLine{00386 }
\DoxyCodeLine{00387       \textcolor{keywordflow}{if} (copyGroupData) copyGroupEditLevel(inputFx, outputFx);}
\DoxyCodeLine{00388     \}}
\DoxyCodeLine{00389   \}}
\DoxyCodeLine{00390 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a8ba75228ce74def1be2e9f3e85c1348e}\label{class_fx_command_undo_a8ba75228ce74def1be2e9f3e85c1348e}} 
\index{FxCommandUndo@{FxCommandUndo}!attachOutputs@{attachOutputs}}
\index{attachOutputs@{attachOutputs}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{attachOutputs()}{attachOutputs()}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::attach\+Outputs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{inserted\+Fx,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{input\+Fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00402                                                                              \{}
\DoxyCodeLine{00403   \mbox{\hyperlink{macros_8h_abcaf2f3bbaba74cf330e778baf26fb8a}{TCG\_ASSERT}}(inputFx, \textcolor{keywordflow}{return} );}
\DoxyCodeLine{00404 }
\DoxyCodeLine{00405   \mbox{\hyperlink{class_fx_dag}{FxDag}} *fxDag = xsh-\/>\mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}();}
\DoxyCodeLine{00406 }
\DoxyCodeLine{00407   insertedFx = ::getActualOut(insertedFx);}
\DoxyCodeLine{00408   inputFx    = ::getActualOut(inputFx);}
\DoxyCodeLine{00409 }
\DoxyCodeLine{00410   \textcolor{keywordtype}{int} p, pCount = inputFx-\/>getOutputConnectionCount();}
\DoxyCodeLine{00411   \textcolor{keywordflow}{for} (p = pCount -\/ 1; p >= 0;}
\DoxyCodeLine{00412        -\/-\/p)  \textcolor{comment}{// Backward iteration on output connections -\/}}
\DoxyCodeLine{00413   \{          \textcolor{comment}{// it's necessary since TFxPort::setFx() REMOVES}}
\DoxyCodeLine{00414     \mbox{\hyperlink{class_t_fx_port}{TFxPort}} *port = inputFx-\/>getOutputConnection(}
\DoxyCodeLine{00415         p);  \textcolor{comment}{// the corresponding port int the output connections}}
\DoxyCodeLine{00416     port-\/>setFx(}
\DoxyCodeLine{00417         insertedFx);  \textcolor{comment}{// container -\/ thus, it's better to start from the end}}
\DoxyCodeLine{00418   \}}
\DoxyCodeLine{00419 }
\DoxyCodeLine{00420   \textcolor{keywordflow}{if} (fxDag-\/>getTerminalFxs()-\/>containsFx(inputFx)) \{}
\DoxyCodeLine{00421     fxDag-\/>removeFromXsheet(inputFx);}
\DoxyCodeLine{00422     fxDag-\/>addToXsheet(insertedFx);}
\DoxyCodeLine{00423   \}}
\DoxyCodeLine{00424 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_af18d1a4330f86b8daff805c7491e3e78}\label{class_fx_command_undo_af18d1a4330f86b8daff805c7491e3e78}} 
\index{FxCommandUndo@{FxCommandUndo}!cloneGroupStack@{cloneGroupStack}}
\index{cloneGroupStack@{cloneGroupStack}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{cloneGroupStack()}{cloneGroupStack()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::clone\+Group\+Stack (\begin{DoxyParamCaption}\item[{const QStack$<$ int $>$ \&}]{group\+Ids,  }\item[{const QStack$<$ std\+::wstring $>$ \&}]{group\+Names,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{to\+Fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00323                                                \{}
\DoxyCodeLine{00324   toFx-\/>getAttributes()-\/>removeFromAllGroup();}
\DoxyCodeLine{00325 }
\DoxyCodeLine{00326   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < groupIds.size(); ++i) \{}
\DoxyCodeLine{00327     toFx-\/>getAttributes()-\/>setGroupId(groupIds[i]);}
\DoxyCodeLine{00328     toFx-\/>getAttributes()-\/>setGroupName(groupNames[i]);}
\DoxyCodeLine{00329   \}}
\DoxyCodeLine{00330 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a5d1723605847554d33d9812d3e387a81}\label{class_fx_command_undo_a5d1723605847554d33d9812d3e387a81}} 
\index{FxCommandUndo@{FxCommandUndo}!cloneGroupStack@{cloneGroupStack}}
\index{cloneGroupStack@{cloneGroupStack}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{cloneGroupStack()}{cloneGroupStack()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::clone\+Group\+Stack (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{from\+Fx,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{to\+Fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00334                                                           \{}
\DoxyCodeLine{00335   \textcolor{keywordflow}{if} (fromFx-\/>getAttributes()-\/>isGrouped()) \{}
\DoxyCodeLine{00336     cloneGroupStack(fromFx-\/>getAttributes()-\/>getGroupIdStack(),}
\DoxyCodeLine{00337                     fromFx-\/>getAttributes()-\/>getGroupNameStack(), toFx);}
\DoxyCodeLine{00338   \}}
\DoxyCodeLine{00339 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_ac644d3714bbc5467f250c4de4516c0cf}\label{class_fx_command_undo_ac644d3714bbc5467f250c4de4516c0cf}} 
\index{FxCommandUndo@{FxCommandUndo}!copyDagPosition@{copyDagPosition}}
\index{copyDagPosition@{copyDagPosition}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{copyDagPosition()}{copyDagPosition()}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::copy\+Dag\+Position (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{from\+Fx,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{to\+Fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00362                                                           \{}
\DoxyCodeLine{00363   assert(toFx);}
\DoxyCodeLine{00364   \textcolor{keywordflow}{if} (fromFx)}
\DoxyCodeLine{00365     toFx-\/>getAttributes()-\/>setDagNodePos(}
\DoxyCodeLine{00366         fromFx-\/>getAttributes()-\/>getDagNodePos());}
\DoxyCodeLine{00367 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a0b5be24fcb4bc647500d669692b6c52b}\label{class_fx_command_undo_a0b5be24fcb4bc647500d669692b6c52b}} 
\index{FxCommandUndo@{FxCommandUndo}!copyGroupEditLevel@{copyGroupEditLevel}}
\index{copyGroupEditLevel@{copyGroupEditLevel}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{copyGroupEditLevel()}{copyGroupEditLevel()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::copy\+Group\+Edit\+Level (\begin{DoxyParamCaption}\item[{int}]{edit\+Group\+Id,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{to\+Fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00343                                                                  \{}
\DoxyCodeLine{00344   toFx-\/>getAttributes()-\/>closeAllGroups();}
\DoxyCodeLine{00345   \textcolor{keywordflow}{while} (editGroupId != toFx-\/>getAttributes()-\/>getEditingGroupId() \&\&}
\DoxyCodeLine{00346          toFx-\/>getAttributes()-\/>editGroup())}
\DoxyCodeLine{00347     ;}
\DoxyCodeLine{00348 }
\DoxyCodeLine{00349   assert(editGroupId == toFx-\/>getAttributes()-\/>getEditingGroupId());}
\DoxyCodeLine{00350 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_ae9a46dd59920fc13e1013880691cd460}\label{class_fx_command_undo_ae9a46dd59920fc13e1013880691cd460}} 
\index{FxCommandUndo@{FxCommandUndo}!copyGroupEditLevel@{copyGroupEditLevel}}
\index{copyGroupEditLevel@{copyGroupEditLevel}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{copyGroupEditLevel()}{copyGroupEditLevel()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::copy\+Group\+Edit\+Level (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{from\+Fx,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{to\+Fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00354                                                              \{}
\DoxyCodeLine{00355   assert(toFx);}
\DoxyCodeLine{00356   \textcolor{keywordflow}{if} (fromFx \&\& fromFx-\/>getAttributes()-\/>isGrouped())}
\DoxyCodeLine{00357     copyGroupEditLevel(fromFx-\/>getAttributes()-\/>getEditingGroupId(), toFx);}
\DoxyCodeLine{00358 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a2ce224fb1ca03344943e148ef36823ca}\label{class_fx_command_undo_a2ce224fb1ca03344943e148ef36823ca}} 
\index{FxCommandUndo@{FxCommandUndo}!createZeraryFxColumn@{createZeraryFxColumn}}
\index{createZeraryFxColumn@{createZeraryFxColumn}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{createZeraryFxColumn()}{createZeraryFxColumn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXsh\+Zerary\+Fx\+Column}} $\ast$ Fx\+Command\+Undo\+::create\+Zerary\+Fx\+Column (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{zfx,  }\item[{int}]{row = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00308                                                                  \{}
\DoxyCodeLine{00309   \textcolor{keywordtype}{int} frameCount = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a35d49d436513243d059eee3a25ffa2ef}{getScene}}()-\/>\mbox{\hyperlink{class_toonz_scene_ab5cd3ad6f894b1acc5656ca747a80627}{getFrameCount}}() -\/ row;}
\DoxyCodeLine{00310 }
\DoxyCodeLine{00311   \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *column =}
\DoxyCodeLine{00312       \textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}}(frameCount > 0 ? frameCount : 100);}
\DoxyCodeLine{00313   column-\/>getZeraryColumnFx()-\/>setZeraryFx(zfx);}
\DoxyCodeLine{00314   column-\/>insertEmptyCells(0, row);}
\DoxyCodeLine{00315 }
\DoxyCodeLine{00316   \textcolor{keywordflow}{return} column;}
\DoxyCodeLine{00317 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a64dd84324b86aa1eca706034772f568e}\label{class_fx_command_undo_a64dd84324b86aa1eca706034772f568e}} 
\index{FxCommandUndo@{FxCommandUndo}!detachFxs@{detachFxs}}
\index{detachFxs@{detachFxs}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{detachFxs()}{detachFxs()}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::detach\+Fxs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx\+Left,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx\+Right,  }\item[{bool}]{detach\+Left = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00429                                                \{}
\DoxyCodeLine{00430   assert(fxLeft \&\& fxRight);}
\DoxyCodeLine{00431 }
\DoxyCodeLine{00432   fxLeft  = ::getActualIn(fxLeft);}
\DoxyCodeLine{00433   fxRight = ::getActualOut(fxRight);}
\DoxyCodeLine{00434 }
\DoxyCodeLine{00435   \textcolor{keywordtype}{int} ipCount = fxLeft-\/>getInputPortCount();}
\DoxyCodeLine{00436 }
\DoxyCodeLine{00437   \textcolor{comment}{// Redirect input/output ports}}
\DoxyCodeLine{00438   \mbox{\hyperlink{class_t_fx}{TFx}} *inputFx0 = (ipCount > 0) ? fxLeft-\/>getInputPort(0)-\/>getFx() : 0;}
\DoxyCodeLine{00439 }
\DoxyCodeLine{00440   \textcolor{keywordtype}{int} p, opCount = fxRight-\/>getOutputConnectionCount();}
\DoxyCodeLine{00441   \textcolor{keywordflow}{for} (p = opCount -\/ 1; p >= 0;}
\DoxyCodeLine{00442        -\/-\/p)  \textcolor{comment}{// Backward iteration due to TFxPort::setFx()}}
\DoxyCodeLine{00443   \{}
\DoxyCodeLine{00444     \mbox{\hyperlink{class_t_fx_port}{TFxPort}} *outPort = fxRight-\/>getOutputConnection(p);}
\DoxyCodeLine{00445     assert(outPort \&\& outPort-\/>getFx() == fxRight);}
\DoxyCodeLine{00446 }
\DoxyCodeLine{00447     outPort-\/>setFx(inputFx0);}
\DoxyCodeLine{00448   \}}
\DoxyCodeLine{00449 }
\DoxyCodeLine{00450   \textcolor{comment}{// Xsheet links redirection}}
\DoxyCodeLine{00451   \mbox{\hyperlink{class_fx_dag}{FxDag}} *fxDag = xsh-\/>\mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}();}
\DoxyCodeLine{00452   \textcolor{keywordflow}{if} (fxDag-\/>getTerminalFxs()-\/>containsFx(fxRight)) \{}
\DoxyCodeLine{00453     fxDag-\/>removeFromXsheet(fxRight);}
\DoxyCodeLine{00454 }
\DoxyCodeLine{00455     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} p = 0; p != ipCount; ++p)}
\DoxyCodeLine{00456       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_fx}{TFx}} *inputFx = fxLeft-\/>getInputPort(p)-\/>getFx())}
\DoxyCodeLine{00457         fxDag-\/>addToXsheet(inputFx);}
\DoxyCodeLine{00458   \}}
\DoxyCodeLine{00459 }
\DoxyCodeLine{00460   \textcolor{keywordflow}{if} (detachLeft) fxLeft-\/>disconnectAll();}
\DoxyCodeLine{00461 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_ab3fdcdf783e9867c37a08434c53eeec4}\label{class_fx_command_undo_ab3fdcdf783e9867c37a08434c53eeec4}} 
\index{FxCommandUndo@{FxCommandUndo}!getHistoryType@{getHistoryType}}
\index{getHistoryType@{getHistoryType}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{getHistoryType()}{getHistoryType()}}
{\footnotesize\ttfamily int Fx\+Command\+Undo\+::get\+History\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00269 \{ \textcolor{keywordflow}{return} HistoryType::Schematic; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a49ce6dd7b366f9d3f9e0520e2cf84b12}\label{class_fx_command_undo_a49ce6dd7b366f9d3f9e0520e2cf84b12}} 
\index{FxCommandUndo@{FxCommandUndo}!inputLinks@{inputLinks}}
\index{inputLinks@{inputLinks}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{inputLinks()}{inputLinks()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{class_t_fx_command_1_1_link}{TFx\+Command\+::\+Link}} $>$ Fx\+Command\+Undo\+::input\+Links (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00648                                                                          \{}
\DoxyCodeLine{00649   std::vector<TFxCommand::Link> result;}
\DoxyCodeLine{00650 }
\DoxyCodeLine{00651   fx = ::getActualIn(fx);}
\DoxyCodeLine{00652 }
\DoxyCodeLine{00653   \textcolor{keywordtype}{int} il, ilCount = fx-\/>getInputPortCount();}
\DoxyCodeLine{00654   \textcolor{keywordflow}{for} (il = 0; il != ilCount; ++il) \{}
\DoxyCodeLine{00655     \mbox{\hyperlink{class_t_fx_port}{TFxPort}} *port = fx-\/>getInputPort(il);}
\DoxyCodeLine{00656 }
\DoxyCodeLine{00657     assert(port);}
\DoxyCodeLine{00658     \textcolor{keywordflow}{if} (port-\/>isConnected())}
\DoxyCodeLine{00659       result.push\_back(\mbox{\hyperlink{class_t_fx_command_1_1_link}{TFxCommand::Link}}(port-\/>getFx(), fx, il));}
\DoxyCodeLine{00660   \}}
\DoxyCodeLine{00661 }
\DoxyCodeLine{00662   \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00663 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a6e2e6cb1d7cddff81ee1cf514a197d05}\label{class_fx_command_undo_a6e2e6cb1d7cddff81ee1cf514a197d05}} 
\index{FxCommandUndo@{FxCommandUndo}!insertColumn@{insertColumn}}
\index{insertColumn@{insertColumn}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{insertColumn()}{insertColumn()}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::insert\+Column (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{\mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$}]{column,  }\item[{int}]{col\+Idx,  }\item[{bool}]{remove\+Hole = {\ttfamily false},  }\item[{bool}]{auto\+Terminal = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00483                                                                      \{}
\DoxyCodeLine{00484   \mbox{\hyperlink{class_fx_dag}{FxDag}} *fxDag  = xsh-\/>\mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}();}
\DoxyCodeLine{00485   \mbox{\hyperlink{class_t_fx}{TFx}} *fx       = column-\/>getFx();}
\DoxyCodeLine{00486   \textcolor{keywordtype}{bool} terminal = \textcolor{keyword}{false};}
\DoxyCodeLine{00487 }
\DoxyCodeLine{00488   \textcolor{keywordflow}{if} (fx) \{}
\DoxyCodeLine{00489     ::showFx(xsh, fx);}
\DoxyCodeLine{00490     terminal = fxDag-\/>getTerminalFxs()-\/>containsFx(fx);}
\DoxyCodeLine{00491   \}}
\DoxyCodeLine{00492 }
\DoxyCodeLine{00493   \textcolor{keywordflow}{if} (removeHole) xsh-\/>\mbox{\hyperlink{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}{removeColumn}}(col);}
\DoxyCodeLine{00494 }
\DoxyCodeLine{00495   xsh-\/>\mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insertColumn}}(col, column);  \textcolor{comment}{// Attaches the fx to the xsheet, too -\/}}
\DoxyCodeLine{00496                                    \textcolor{comment}{// but not if the column is a palette one.}}
\DoxyCodeLine{00497   \textcolor{keywordflow}{if} (!autoTerminal) \{}
\DoxyCodeLine{00498     \textcolor{comment}{// Preserve the initial terminal state.}}
\DoxyCodeLine{00499     \textcolor{comment}{// This lets fxs to be linked to the xsheet while still hidden.}}
\DoxyCodeLine{00500 }
\DoxyCodeLine{00501     fxDag-\/>removeFromXsheet(fx);}
\DoxyCodeLine{00502     \textcolor{keywordflow}{if} (terminal) fxDag-\/>addToXsheet(fx);}
\DoxyCodeLine{00503   \}}
\DoxyCodeLine{00504 }
\DoxyCodeLine{00505   xsh-\/>\mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{00506 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_af229b3079a982485ca28c14ac54dd537}\label{class_fx_command_undo_af229b3079a982485ca28c14ac54dd537}} 
\index{FxCommandUndo@{FxCommandUndo}!insertFxs@{insertFxs}}
\index{insertFxs@{insertFxs}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{insertFxs()}{insertFxs()}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::insert\+Fxs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{const \mbox{\hyperlink{class_t_fx_command_1_1_link}{TFx\+Command\+::\+Link}} \&}]{link,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx\+Left,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx\+Right }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00466                                                          \{}
\DoxyCodeLine{00467   assert(fxLeft \&\& fxRight);}
\DoxyCodeLine{00468 }
\DoxyCodeLine{00469   \textcolor{keywordflow}{if} (link.m\_inputFx \&\& link.m\_outputFx) \{}
\DoxyCodeLine{00470     FxCommandUndo::attach(xsh, link.m\_inputFx.getPointer(), fxLeft, 0, \textcolor{keyword}{false});}
\DoxyCodeLine{00471     FxCommandUndo::attach(xsh, fxRight, link.m\_outputFx.getPointer(),}
\DoxyCodeLine{00472                           link.\mbox{\hyperlink{class_t_fx_command_1_1_link_a59252bec823e61280e1e6c1c9b5ce377}{m\_index}}, \textcolor{keyword}{false});}
\DoxyCodeLine{00473 }
\DoxyCodeLine{00474     \textcolor{keywordflow}{if} (link.\mbox{\hyperlink{class_t_fx_command_1_1_link_a59252bec823e61280e1e6c1c9b5ce377}{m\_index}} < 0)}
\DoxyCodeLine{00475       xsh-\/>\mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}()-\/>removeFromXsheet(}
\DoxyCodeLine{00476           ::getActualOut(link.m\_inputFx.getPointer()));}
\DoxyCodeLine{00477   \}}
\DoxyCodeLine{00478 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a696561e97d0a177f9a9f96f2c21b1de8}\label{class_fx_command_undo_a696561e97d0a177f9a9f96f2c21b1de8}} 
\index{FxCommandUndo@{FxCommandUndo}!leftmostConnectedFx@{leftmostConnectedFx}}
\index{leftmostConnectedFx@{leftmostConnectedFx}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{leftmostConnectedFx()}{leftmostConnectedFx()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ Fx\+Command\+Undo\+::leftmost\+Connected\+Fx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00636                                                \{}
\DoxyCodeLine{00637   \textcolor{keywordflow}{return} leftmostConnectedFx(fx, ::True\_pred());}
\DoxyCodeLine{00638 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_ada9310c1e357070f39b5d0b1e327f547}\label{class_fx_command_undo_ada9310c1e357070f39b5d0b1e327f547}} 
\index{FxCommandUndo@{FxCommandUndo}!leftmostConnectedFx@{leftmostConnectedFx}}
\index{leftmostConnectedFx@{leftmostConnectedFx}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{leftmostConnectedFx()}{leftmostConnectedFx()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Pred $>$ \\
\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ Fx\+Command\+Undo\+::leftmost\+Connected\+Fx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx,  }\item[{Pred}]{pred }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00591                                                           \{}
\DoxyCodeLine{00592   assert(fx);}
\DoxyCodeLine{00593 }
\DoxyCodeLine{00594   fx = rightmostConnectedFx(fx, pred);  \textcolor{comment}{// The rightmost fx should be discovered}}
\DoxyCodeLine{00595                                         \textcolor{comment}{// first, then, we'll descend from that}}
\DoxyCodeLine{00596   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{00597     fx = ::getActualIn(fx);}
\DoxyCodeLine{00598 }
\DoxyCodeLine{00599     \textcolor{keywordflow}{if} (!((fx-\/>getInputPortCount() > 0) \&\& fx-\/>getInputPort(0)-\/>isConnected() \&\&}
\DoxyCodeLine{00600           pred(fx-\/>getInputPort(0)-\/>getFx())))}
\DoxyCodeLine{00601       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00602 }
\DoxyCodeLine{00603     fx = fx-\/>getInputPort(0)-\/>getFx();}
\DoxyCodeLine{00604   \} \textcolor{keywordflow}{while} (\textcolor{keyword}{true});}
\DoxyCodeLine{00605 }
\DoxyCodeLine{00606   \textcolor{keywordflow}{return} fx;}
\DoxyCodeLine{00607 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a489327fb60db36179c7c76d6dc468a4e}\label{class_fx_command_undo_a489327fb60db36179c7c76d6dc468a4e}} 
\index{FxCommandUndo@{FxCommandUndo}!linkParams@{linkParams}}
\index{linkParams@{linkParams}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{linkParams()}{linkParams()}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::link\+Params (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{linked\+Fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00539                                                      \{}
\DoxyCodeLine{00540   \textcolor{keywordflow}{if} (linkedFx) ::getActualIn(fx)-\/>linkParams(::getActualIn(linkedFx));}
\DoxyCodeLine{00541 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_aab28f80180e3461f397a83431c01a60d}\label{class_fx_command_undo_aab28f80180e3461f397a83431c01a60d}} 
\index{FxCommandUndo@{FxCommandUndo}!makeNotCurrent@{makeNotCurrent}}
\index{makeNotCurrent@{makeNotCurrent}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{makeNotCurrent()}{makeNotCurrent()}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::make\+Not\+Current (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx_handle}{TFx\+Handle}} $\ast$}]{fx\+Handle,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00551                                                                \{}
\DoxyCodeLine{00552   \textcolor{keywordflow}{if} (fx = ::getActualOut(fx), fx == fxHandle-\/>getFx()) fxHandle-\/>setFx(0);}
\DoxyCodeLine{00553 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a07aa43fdaaa4fe6c850c7ebab4e3f446}\label{class_fx_command_undo_a07aa43fdaaa4fe6c850c7ebab4e3f446}} 
\index{FxCommandUndo@{FxCommandUndo}!outputLinks@{outputLinks}}
\index{outputLinks@{outputLinks}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{outputLinks()}{outputLinks()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{class_t_fx_command_1_1_link}{TFx\+Command\+::\+Link}} $>$ Fx\+Command\+Undo\+::output\+Links (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00668                                                                   \{}
\DoxyCodeLine{00669   std::vector<TFxCommand::Link> result;}
\DoxyCodeLine{00670 }
\DoxyCodeLine{00671   fx = ::getActualOut(fx);}
\DoxyCodeLine{00672 }
\DoxyCodeLine{00673   \textcolor{keywordtype}{int} ol, olCount = fx-\/>getOutputConnectionCount();}
\DoxyCodeLine{00674   \textcolor{keywordflow}{for} (ol = 0; ol != olCount; ++ol) \{}
\DoxyCodeLine{00675     \mbox{\hyperlink{class_t_fx_port}{TFxPort}} *port = fx-\/>getOutputConnection(ol);}
\DoxyCodeLine{00676     \mbox{\hyperlink{class_t_fx}{TFx}} *ownerFx  = port-\/>getOwnerFx();}
\DoxyCodeLine{00677     \textcolor{keywordtype}{int} portIndex = ::inputPortIndex(ownerFx, port);}
\DoxyCodeLine{00678 }
\DoxyCodeLine{00679     result.push\_back(\mbox{\hyperlink{class_t_fx_command_1_1_link}{TFxCommand::Link}}(fx, ownerFx, portIndex));}
\DoxyCodeLine{00680   \}}
\DoxyCodeLine{00681 }
\DoxyCodeLine{00682   \mbox{\hyperlink{class_fx_dag}{FxDag}} *fxDag = xsh-\/>\mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}();}
\DoxyCodeLine{00683   \textcolor{keywordflow}{if} (fxDag-\/>getTerminalFxs()-\/>containsFx(fx))}
\DoxyCodeLine{00684     result.push\_back(\mbox{\hyperlink{class_t_fx_command_1_1_link}{TFxCommand::Link}}(fx, fxDag-\/>getXsheetFx(), -\/1));}
\DoxyCodeLine{00685 }
\DoxyCodeLine{00686   \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00687 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_a8c24a0031616da378ecffd17699b73d9}\label{class_fx_command_undo_a8c24a0031616da378ecffd17699b73d9}} 
\index{FxCommandUndo@{FxCommandUndo}!removeFxOrColumn@{removeFxOrColumn}}
\index{removeFxOrColumn@{removeFxOrColumn}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{removeFxOrColumn()}{removeFxOrColumn()}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::remove\+Fx\+Or\+Column (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx,  }\item[{int}]{col\+Idx,  }\item[{bool}]{insert\+Hole = {\ttfamily false},  }\item[{bool}]{unlink\+Params = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00558                                                                          \{}
\DoxyCodeLine{00559   assert(fx || colIdx >= 0);}
\DoxyCodeLine{00560 }
\DoxyCodeLine{00561   \textcolor{keywordflow}{if} (!fx)}
\DoxyCodeLine{00562     fx = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(colIdx)-\/>getFx();}
\DoxyCodeLine{00563   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_column_fx}{TColumnFx}} *colFx = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_column_fx}{TColumnFx}} *\textcolor{keyword}{>}(fx))}
\DoxyCodeLine{00564     colIdx = colFx-\/>getColumnIndex();}
\DoxyCodeLine{00565   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_zerary_fx}{TZeraryFx}} *zfx = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_zerary_fx}{TZeraryFx}} *\textcolor{keyword}{>}(fx)) \{}
\DoxyCodeLine{00566     \textcolor{keywordflow}{if} (zfx-\/>getColumnFx())}
\DoxyCodeLine{00567       fx     = zfx-\/>getColumnFx(),}
\DoxyCodeLine{00568       colIdx = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_t_column_fx}{TColumnFx}} *\textcolor{keyword}{>}(fx)-\/>getColumnIndex();}
\DoxyCodeLine{00569   \}}
\DoxyCodeLine{00570 }
\DoxyCodeLine{00571   \textcolor{keywordflow}{if} (fx) \{}
\DoxyCodeLine{00572     \textcolor{comment}{// Discriminate special fx types}}
\DoxyCodeLine{00573     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_zerary_column_fx}{TZeraryColumnFx}} *zcfx = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_zerary_column_fx}{TZeraryColumnFx}} *\textcolor{keyword}{>}(fx)) \{}
\DoxyCodeLine{00574       \textcolor{comment}{// Removed as a column}}
\DoxyCodeLine{00575       fx = zcfx-\/>getZeraryFx();}
\DoxyCodeLine{00576     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_output_fx}{TOutputFx}} *outputFx = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_output_fx}{TOutputFx}} *\textcolor{keyword}{>}(fx)) \{}
\DoxyCodeLine{00577       assert(xsh-\/>\mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}()-\/>getOutputFxCount() > 1);}
\DoxyCodeLine{00578       FxCommandUndo::removeOutputFx(xsh, outputFx);}
\DoxyCodeLine{00579     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (colIdx < 0)}
\DoxyCodeLine{00580       FxCommandUndo::removeNormalFx(xsh, fx);}
\DoxyCodeLine{00581 }
\DoxyCodeLine{00582     \textcolor{keywordflow}{if} (unlinkParams) FxCommandUndo::unlinkParams(fx);}
\DoxyCodeLine{00583   \}}
\DoxyCodeLine{00584 }
\DoxyCodeLine{00585   \textcolor{keywordflow}{if} (colIdx >= 0) FxCommandUndo::removeColumn(xsh, colIdx, insertHole);}
\DoxyCodeLine{00586 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_adf9cfa133401a449b7940007ab639326}\label{class_fx_command_undo_adf9cfa133401a449b7940007ab639326}} 
\index{FxCommandUndo@{FxCommandUndo}!rightmostConnectedFx@{rightmostConnectedFx}}
\index{rightmostConnectedFx@{rightmostConnectedFx}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{rightmostConnectedFx()}{rightmostConnectedFx()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ Fx\+Command\+Undo\+::rightmost\+Connected\+Fx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00642                                                 \{}
\DoxyCodeLine{00643   \textcolor{keywordflow}{return} rightmostConnectedFx(fx, ::True\_pred());}
\DoxyCodeLine{00644 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_ad27c3e6962024d00ce595967b3e6642a}\label{class_fx_command_undo_ad27c3e6962024d00ce595967b3e6642a}} 
\index{FxCommandUndo@{FxCommandUndo}!rightmostConnectedFx@{rightmostConnectedFx}}
\index{rightmostConnectedFx@{rightmostConnectedFx}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{rightmostConnectedFx()}{rightmostConnectedFx()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Pred $>$ \\
\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ Fx\+Command\+Undo\+::rightmost\+Connected\+Fx (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx,  }\item[{Pred}]{pred }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00612                                                            \{}
\DoxyCodeLine{00613   assert(fx);}
\DoxyCodeLine{00614 }
\DoxyCodeLine{00615   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{00616     fx = ::getActualOut(fx);}
\DoxyCodeLine{00617 }
\DoxyCodeLine{00618     \textcolor{keywordflow}{if} (!(fx-\/>getOutputConnectionCount() > 0 \&\&}
\DoxyCodeLine{00619           pred(fx-\/>getOutputConnection(0)-\/>getOwnerFx())))}
\DoxyCodeLine{00620       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00621 }
\DoxyCodeLine{00622     fx = fx-\/>getOutputConnection(0)-\/>getOwnerFx();}
\DoxyCodeLine{00623   \} \textcolor{keywordflow}{while} (\textcolor{keyword}{true});}
\DoxyCodeLine{00624 }
\DoxyCodeLine{00625   \textcolor{keywordflow}{return} fx;}
\DoxyCodeLine{00626 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_fx_command_undo_aa6108f746817c3b68f5ddd93645be566}\label{class_fx_command_undo_aa6108f746817c3b68f5ddd93645be566}} 
\index{FxCommandUndo@{FxCommandUndo}!unlinkParams@{unlinkParams}}
\index{unlinkParams@{unlinkParams}!FxCommandUndo@{FxCommandUndo}}
\doxysubsubsection{\texorpdfstring{unlinkParams()}{unlinkParams()}}
{\footnotesize\ttfamily void Fx\+Command\+Undo\+::unlink\+Params (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{fx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00545                                         \{}
\DoxyCodeLine{00546   \textcolor{keywordflow}{if} (fx = ::getActualIn(fx), fx-\/>getLinkedFx()) fx-\/>unlinkParams();}
\DoxyCodeLine{00547 \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzlib/fxcommand.\+cpp\end{DoxyCompactItemize}
