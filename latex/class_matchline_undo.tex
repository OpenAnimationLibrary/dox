\hypertarget{class_matchline_undo}{}\doxysection{Matchline\+Undo Class Reference}
\label{class_matchline_undo}\index{MatchlineUndo@{MatchlineUndo}}
Inheritance diagram for Matchline\+Undo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_matchline_undo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_matchline_undo_ab6e440be5712d360574f9a6b99dcf414}{Matchline\+Undo}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TXsh\+LevelP}} xl, int merge\+Cmapped\+Session\+Id, int index, int prevalence, int column, \mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$level, const std\+::map$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}, QString $>$ \&images, int m\+Column, \mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$palette)
\item 
void \mbox{\hyperlink{class_matchline_undo_a1f811a0372fd1a7394ab813de245aa71}{undo}} () const override
\item 
void \mbox{\hyperlink{class_matchline_undo_a41262d6e2a6d0e8da6c7320dabaaa5b3}{redo}} () const override
\item 
int \mbox{\hyperlink{class_matchline_undo_a08f14a1e6f154f4fd0faa52d336388f1}{get\+Size}} () const override
\item 
QString \mbox{\hyperlink{class_matchline_undo_a9476f82fb20cf62e97f288ae4ec5f475}{get\+History\+String}} () override
\item 
int \mbox{\hyperlink{class_matchline_undo_a2d62c79f7eae02d17959344b520357cd}{get\+History\+Type}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_matchline_undo_ab6e440be5712d360574f9a6b99dcf414}\label{class_matchline_undo_ab6e440be5712d360574f9a6b99dcf414}} 
\index{MatchlineUndo@{MatchlineUndo}!MatchlineUndo@{MatchlineUndo}}
\index{MatchlineUndo@{MatchlineUndo}!MatchlineUndo@{MatchlineUndo}}
\doxysubsubsection{\texorpdfstring{MatchlineUndo()}{MatchlineUndo()}}
{\footnotesize\ttfamily Matchline\+Undo\+::\+Matchline\+Undo (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TXsh\+LevelP}}}]{xl,  }\item[{int}]{merge\+Cmapped\+Session\+Id,  }\item[{int}]{index,  }\item[{int}]{prevalence,  }\item[{int}]{column,  }\item[{\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$}]{level,  }\item[{const std\+::map$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}, QString $>$ \&}]{images,  }\item[{int}]{m\+Column,  }\item[{\mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$}]{palette }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00606       : \mbox{\hyperlink{class_t_undo}{TUndo}}()}
\DoxyCodeLine{00607       , m\_xl(xl)}
\DoxyCodeLine{00608       , m\_mergeCmappedSessionId(mergeCmappedSessionId)}
\DoxyCodeLine{00609       , m\_palette(palette-\/>clone())}
\DoxyCodeLine{00610       , m\_level(level)}
\DoxyCodeLine{00611       , m\_column(column)}
\DoxyCodeLine{00612       , m\_mColumn(mColumn)}
\DoxyCodeLine{00613       , m\_index(index)}
\DoxyCodeLine{00614       , m\_prevalence(prevalence)}
\DoxyCodeLine{00615       , m\_images(images) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_matchline_undo_adfc011315e374a124a77949d57682ccb}\label{class_matchline_undo_adfc011315e374a124a77949d57682ccb}} 
\index{MatchlineUndo@{MatchlineUndo}!````~MatchlineUndo@{$\sim$MatchlineUndo}}
\index{````~MatchlineUndo@{$\sim$MatchlineUndo}!MatchlineUndo@{MatchlineUndo}}
\doxysubsubsection{\texorpdfstring{$\sim$MatchlineUndo()}{~MatchlineUndo()}}
{\footnotesize\ttfamily Matchline\+Undo\+::$\sim$\+Matchline\+Undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00653                    \{}
\DoxyCodeLine{00654     std::map<TFrameId, QString>::const\_iterator it = m\_images.begin();}
\DoxyCodeLine{00655     \textcolor{keywordflow}{for} (; it != m\_images.end(); ++it)  \textcolor{comment}{//, ++mit)}}
\DoxyCodeLine{00656     \{}
\DoxyCodeLine{00657       QString \textcolor{keywordtype}{id} = \textcolor{stringliteral}{"{}MatchlineUndo"{}} + QString::number(m\_mergeCmappedSessionId) +}
\DoxyCodeLine{00658                    \textcolor{stringliteral}{"{}-\/"{}} + QString::number(it-\/>first.getNumber());}
\DoxyCodeLine{00659       TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a57d63227dfe2532b0aed22c47113be66}{remove}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00660     \}}
\DoxyCodeLine{00661     \textcolor{keyword}{delete} m\_palette;}
\DoxyCodeLine{00662   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_matchline_undo_a9476f82fb20cf62e97f288ae4ec5f475}\label{class_matchline_undo_a9476f82fb20cf62e97f288ae4ec5f475}} 
\index{MatchlineUndo@{MatchlineUndo}!getHistoryString@{getHistoryString}}
\index{getHistoryString@{getHistoryString}!MatchlineUndo@{MatchlineUndo}}
\doxysubsubsection{\texorpdfstring{getHistoryString()}{getHistoryString()}}
{\footnotesize\ttfamily QString Matchline\+Undo\+::get\+History\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00664                                       \{}
\DoxyCodeLine{00665     \textcolor{keywordflow}{return} QObject::tr(\textcolor{stringliteral}{"{}Apply Matchline  : Column\%1 < Column\%2"{}})}
\DoxyCodeLine{00666         .arg(QString::number(m\_column + 1))}
\DoxyCodeLine{00667         .arg(QString::number(m\_mColumn + 1));}
\DoxyCodeLine{00668   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_matchline_undo_a2d62c79f7eae02d17959344b520357cd}\label{class_matchline_undo_a2d62c79f7eae02d17959344b520357cd}} 
\index{MatchlineUndo@{MatchlineUndo}!getHistoryType@{getHistoryType}}
\index{getHistoryType@{getHistoryType}!MatchlineUndo@{MatchlineUndo}}
\doxysubsubsection{\texorpdfstring{getHistoryType()}{getHistoryType()}}
{\footnotesize\ttfamily int Matchline\+Undo\+::get\+History\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00669 \{ \textcolor{keywordflow}{return} HistoryType::FilmStrip; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_matchline_undo_a08f14a1e6f154f4fd0faa52d336388f1}\label{class_matchline_undo_a08f14a1e6f154f4fd0faa52d336388f1}} 
\index{MatchlineUndo@{MatchlineUndo}!getSize@{getSize}}
\index{getSize@{getSize}!MatchlineUndo@{MatchlineUndo}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Matchline\+Undo\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00651 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(*this); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_matchline_undo_a41262d6e2a6d0e8da6c7320dabaaa5b3}\label{class_matchline_undo_a41262d6e2a6d0e8da6c7320dabaaa5b3}} 
\index{MatchlineUndo@{MatchlineUndo}!redo@{redo}}
\index{redo@{redo}!MatchlineUndo@{MatchlineUndo}}
\doxysubsubsection{\texorpdfstring{redo()}{redo()}}
{\footnotesize\ttfamily void Matchline\+Undo\+::redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00646                              \{}
\DoxyCodeLine{00647     doMatchlines(m\_column, m\_mColumn, m\_index, m\_prevalence,}
\DoxyCodeLine{00648                  m\_mergeCmappedSessionId);}
\DoxyCodeLine{00649   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_matchline_undo_a1f811a0372fd1a7394ab813de245aa71}\label{class_matchline_undo_a1f811a0372fd1a7394ab813de245aa71}} 
\index{MatchlineUndo@{MatchlineUndo}!undo@{undo}}
\index{undo@{undo}!MatchlineUndo@{MatchlineUndo}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Matchline\+Undo\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00617                              \{}
\DoxyCodeLine{00618     std::map<TFrameId, QString>::const\_iterator it = m\_images.begin();}
\DoxyCodeLine{00619 }
\DoxyCodeLine{00620     m\_level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a9aea4f8e34caef293d5e5c7694047564}{getPalette}}()-\/>\mbox{\hyperlink{class_t_palette_a319e848e06467e458214bba1132b49a9}{assign}}(m\_palette);}
\DoxyCodeLine{00621 }
\DoxyCodeLine{00622     std::vector<TFrameId> fids;}
\DoxyCodeLine{00623     \textcolor{keywordflow}{for} (; it != m\_images.end(); ++it)  \textcolor{comment}{//, ++mit)}}
\DoxyCodeLine{00624     \{}
\DoxyCodeLine{00625       QString \textcolor{keywordtype}{id} = \textcolor{stringliteral}{"{}MatchlinesUndo"{}} + QString::number(m\_mergeCmappedSessionId) +}
\DoxyCodeLine{00626                    \textcolor{stringliteral}{"{}-\/"{}} + QString::number(it-\/>first.getNumber());}
\DoxyCodeLine{00627       \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} img = TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_aea3ac2752efd6fa9689f5a7c1e895e41}{get}}(\textcolor{keywordtype}{id}, \textcolor{keyword}{false})-\/>\mbox{\hyperlink{class_t_image_a3632b96b398057030a4adfe6917d2e28}{cloneImage}}();}
\DoxyCodeLine{00628 }
\DoxyCodeLine{00629       img-\/>\mbox{\hyperlink{class_t_image_a3377c18a849addff5c2cb238176ad04f}{setPalette}}(m\_level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a9aea4f8e34caef293d5e5c7694047564}{getPalette}}());}
\DoxyCodeLine{00630 }
\DoxyCodeLine{00631       m\_level-\/>setFrame(it-\/>first, img);}
\DoxyCodeLine{00632       fids.push\_back(it-\/>first);}
\DoxyCodeLine{00633     \}}
\DoxyCodeLine{00634 }
\DoxyCodeLine{00635     \textcolor{keywordflow}{if} (m\_xl) invalidateIcons(m\_xl.getPointer(), fids);}
\DoxyCodeLine{00636 }
\DoxyCodeLine{00637     m\_level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00638     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00639     \textcolor{keywordflow}{if} (m\_index == -\/1)}
\DoxyCodeLine{00640       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()}
\DoxyCodeLine{00641           -\/>getPaletteController()}
\DoxyCodeLine{00642           -\/>getCurrentPalette()}
\DoxyCodeLine{00643           -\/>notifyPaletteChanged();}
\DoxyCodeLine{00644   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/matchline.\+cpp\end{DoxyCompactItemize}
