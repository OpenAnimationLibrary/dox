\hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo}{}\doxysection{Skeleton\+Subtools\+::IKTool\+Undo Class Reference}
\label{class_skeleton_subtools_1_1_i_k_tool_undo}\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
Inheritance diagram for Skeleton\+Subtools\+::IKTool\+Undo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_skeleton_subtools_1_1_i_k_tool_undo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_i_k_tool_undo_aa86a1ffb91194acde12ee16dadd27fc5}{set\+First\+Foot\+Id}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&first\+Foot\+Id)
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_i_k_tool_undo_a7cf040c83b8f602cc55b0020976623d0}{set\+First\+Foot\+Old\+Placement}} (const \mbox{\hyperlink{class_t_affine}{TAffine}} \&old\+Placement)
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_i_k_tool_undo_a0077c82caf43ec87bb8f88bdedb07a47}{set\+First\+Foot\+New\+Placement}} (const \mbox{\hyperlink{class_t_affine}{TAffine}} \&new\+Placement)
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_i_k_tool_undo_a44bfcd7e2caaae4f6d83fc5c7641cac6}{add\+Node}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&id)
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_i_k_tool_undo_aeb36332f5c9402166abab13928bbdafd}{on\+Add}} () override
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_i_k_tool_undo_a5ef6875aca455dd54531b70b60c7f313}{set\+Foot\+Placement}} (const \mbox{\hyperlink{class_t_affine}{TAffine}} \&placement) const
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_i_k_tool_undo_a32ec1b5590179947c9f896ddc65b20d7}{undo}} () const override
\item 
void \mbox{\hyperlink{class_skeleton_subtools_1_1_i_k_tool_undo_ac734f92ce3250b5d2aed148a61990ed7}{redo}} () const override
\item 
int \mbox{\hyperlink{class_skeleton_subtools_1_1_i_k_tool_undo_a9faa7e508eccceb599d406e70c80a020}{get\+Size}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo_ad27465012bfb9fc84a7798b2d9b40822}\label{class_skeleton_subtools_1_1_i_k_tool_undo_ad27465012bfb9fc84a7798b2d9b40822}} 
\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}!IKToolUndo@{IKToolUndo}}
\index{IKToolUndo@{IKToolUndo}!SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
\doxysubsubsection{\texorpdfstring{IKToolUndo()}{IKToolUndo()}}
{\footnotesize\ttfamily Skeleton\+Subtools\+::\+IKTool\+Undo\+::\+IKTool\+Undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00648 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo_a44bfcd7e2caaae4f6d83fc5c7641cac6}\label{class_skeleton_subtools_1_1_i_k_tool_undo_a44bfcd7e2caaae4f6d83fc5c7641cac6}} 
\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}!addNode@{addNode}}
\index{addNode@{addNode}!SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
\doxysubsubsection{\texorpdfstring{addNode()}{addNode()}}
{\footnotesize\ttfamily void Skeleton\+Subtools\+::\+IKTool\+Undo\+::add\+Node (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00660                                          \{}
\DoxyCodeLine{00661     m\_nodes.push\_back(\mbox{\hyperlink{class_node}{Node}}());}
\DoxyCodeLine{00662     m\_nodes.back().m\_id = id;}
\DoxyCodeLine{00663     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = TTool::getApplication()-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{00664     \textcolor{keywordtype}{int} frame    = TTool::getApplication()-\/>getCurrentFrame()-\/>getFrame();}
\DoxyCodeLine{00665     \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *param =}
\DoxyCodeLine{00666         xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(\textcolor{keywordtype}{id})-\/>\mbox{\hyperlink{class_t_stage_object_ae4cf64f5085310a14074ceb54d2b5177}{getParam}}(\mbox{\hyperlink{class_t_stage_object_ac7a60ddc803173dc7591f784577cb439a08806eb331bdede66bb3113b1642a6ad}{TStageObject::T\_Angle}});}
\DoxyCodeLine{00667     m\_nodes.back().m\_oldAngle    = param-\/>getValue(frame);}
\DoxyCodeLine{00668     m\_nodes.back().m\_wasKeyframe = param-\/>\mbox{\hyperlink{class_t_double_param_a2be2db8a6849e4619940ff37a0948574}{isKeyframe}}(frame);}
\DoxyCodeLine{00669   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo_a9faa7e508eccceb599d406e70c80a020}\label{class_skeleton_subtools_1_1_i_k_tool_undo_a9faa7e508eccceb599d406e70c80a020}} 
\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}!getSize@{getSize}}
\index{getSize@{getSize}!SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Skeleton\+Subtools\+::\+IKTool\+Undo\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00721                                \{}
\DoxyCodeLine{00722     \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(*this) + (int)m\_nodes.size() * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_node}{Node}});}
\DoxyCodeLine{00723   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo_aeb36332f5c9402166abab13928bbdafd}\label{class_skeleton_subtools_1_1_i_k_tool_undo_aeb36332f5c9402166abab13928bbdafd}} 
\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}!onAdd@{onAdd}}
\index{onAdd@{onAdd}!SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
\doxysubsubsection{\texorpdfstring{onAdd()}{onAdd()}}
{\footnotesize\ttfamily void Skeleton\+Subtools\+::\+IKTool\+Undo\+::on\+Add (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00671                         \{}
\DoxyCodeLine{00672     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = TTool::getApplication()-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{00673     m\_frame      = TTool::getApplication()-\/>getCurrentFrame()-\/>getFrame();}
\DoxyCodeLine{00674     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_nodes.size(); i++) \{}
\DoxyCodeLine{00675       \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *param =}
\DoxyCodeLine{00676           xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(m\_nodes[i].m\_id)-\/>\mbox{\hyperlink{class_t_stage_object_ae4cf64f5085310a14074ceb54d2b5177}{getParam}}(\mbox{\hyperlink{class_t_stage_object_ac7a60ddc803173dc7591f784577cb439a08806eb331bdede66bb3113b1642a6ad}{TStageObject::T\_Angle}});}
\DoxyCodeLine{00677       m\_nodes[i].m\_newAngle = param-\/>getValue(m\_frame);}
\DoxyCodeLine{00678     \}}
\DoxyCodeLine{00679   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo_ac734f92ce3250b5d2aed148a61990ed7}\label{class_skeleton_subtools_1_1_i_k_tool_undo_ac734f92ce3250b5d2aed148a61990ed7}} 
\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}!redo@{redo}}
\index{redo@{redo}!SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
\doxysubsubsection{\texorpdfstring{redo()}{redo()}}
{\footnotesize\ttfamily void Skeleton\+Subtools\+::\+IKTool\+Undo\+::redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00708                              \{}
\DoxyCodeLine{00709     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = TTool::getApplication()-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{00710     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_nodes.size(); i++) \{}
\DoxyCodeLine{00711       \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *param =}
\DoxyCodeLine{00712           xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(m\_nodes[i].m\_id)-\/>\mbox{\hyperlink{class_t_stage_object_ae4cf64f5085310a14074ceb54d2b5177}{getParam}}(\mbox{\hyperlink{class_t_stage_object_ac7a60ddc803173dc7591f784577cb439a08806eb331bdede66bb3113b1642a6ad}{TStageObject::T\_Angle}});}
\DoxyCodeLine{00713       param-\/>setValue(m\_frame, m\_nodes[i].m\_newAngle);}
\DoxyCodeLine{00714     \}}
\DoxyCodeLine{00715     \textcolor{keywordflow}{if} (m\_firstFootId.\mbox{\hyperlink{class_t_stage_object_id_af6d13fcf31e7e10eef28f085855f469c}{isColumn}}()) setFootPlacement(m\_newFootPlacement);}
\DoxyCodeLine{00716 }
\DoxyCodeLine{00717     TTool::getApplication()-\/>getCurrentXsheet()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00718     TTool::getApplication()-\/>getCurrentObject()-\/>notifyObjectIdChanged(\textcolor{keyword}{false});}
\DoxyCodeLine{00719   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo_aa86a1ffb91194acde12ee16dadd27fc5}\label{class_skeleton_subtools_1_1_i_k_tool_undo_aa86a1ffb91194acde12ee16dadd27fc5}} 
\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}!setFirstFootId@{setFirstFootId}}
\index{setFirstFootId@{setFirstFootId}!SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
\doxysubsubsection{\texorpdfstring{setFirstFootId()}{setFirstFootId()}}
{\footnotesize\ttfamily void Skeleton\+Subtools\+::\+IKTool\+Undo\+::set\+First\+Foot\+Id (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{first\+Foot\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00650                                                          \{}
\DoxyCodeLine{00651     m\_firstFootId = firstFootId;}
\DoxyCodeLine{00652   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo_a0077c82caf43ec87bb8f88bdedb07a47}\label{class_skeleton_subtools_1_1_i_k_tool_undo_a0077c82caf43ec87bb8f88bdedb07a47}} 
\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}!setFirstFootNewPlacement@{setFirstFootNewPlacement}}
\index{setFirstFootNewPlacement@{setFirstFootNewPlacement}!SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
\doxysubsubsection{\texorpdfstring{setFirstFootNewPlacement()}{setFirstFootNewPlacement()}}
{\footnotesize\ttfamily void Skeleton\+Subtools\+::\+IKTool\+Undo\+::set\+First\+Foot\+New\+Placement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}} \&}]{new\+Placement }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00656                                                              \{}
\DoxyCodeLine{00657     m\_newFootPlacement = newPlacement;}
\DoxyCodeLine{00658   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo_a7cf040c83b8f602cc55b0020976623d0}\label{class_skeleton_subtools_1_1_i_k_tool_undo_a7cf040c83b8f602cc55b0020976623d0}} 
\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}!setFirstFootOldPlacement@{setFirstFootOldPlacement}}
\index{setFirstFootOldPlacement@{setFirstFootOldPlacement}!SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
\doxysubsubsection{\texorpdfstring{setFirstFootOldPlacement()}{setFirstFootOldPlacement()}}
{\footnotesize\ttfamily void Skeleton\+Subtools\+::\+IKTool\+Undo\+::set\+First\+Foot\+Old\+Placement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}} \&}]{old\+Placement }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00653                                                              \{}
\DoxyCodeLine{00654     m\_oldFootPlacement = oldPlacement;}
\DoxyCodeLine{00655   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo_a5ef6875aca455dd54531b70b60c7f313}\label{class_skeleton_subtools_1_1_i_k_tool_undo_a5ef6875aca455dd54531b70b60c7f313}} 
\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}!setFootPlacement@{setFootPlacement}}
\index{setFootPlacement@{setFootPlacement}!SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
\doxysubsubsection{\texorpdfstring{setFootPlacement()}{setFootPlacement()}}
{\footnotesize\ttfamily void Skeleton\+Subtools\+::\+IKTool\+Undo\+::set\+Foot\+Placement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}} \&}]{placement }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00681                                                         \{}
\DoxyCodeLine{00682     \textcolor{keywordflow}{if} (!m\_firstFootId.\mbox{\hyperlink{class_t_stage_object_id_af6d13fcf31e7e10eef28f085855f469c}{isColumn}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00683     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = TTool::getApplication()-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{00684     \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *obj         = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(m\_firstFootId);}
\DoxyCodeLine{00685     \mbox{\hyperlink{class_t_pinned_range_set}{TPinnedRangeSet}} *rangeSet = obj-\/>getPinnedRangeSet();}
\DoxyCodeLine{00686     rangeSet-\/>setPlacement(placement);}
\DoxyCodeLine{00687     \textcolor{keywordflow}{while} (obj-\/>\mbox{\hyperlink{class_t_stage_object_afb4724a8cc2ef7eb2c6c7585834210f2}{getParent}}().\mbox{\hyperlink{class_t_stage_object_id_af6d13fcf31e7e10eef28f085855f469c}{isColumn}}())}
\DoxyCodeLine{00688       obj = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(obj-\/>\mbox{\hyperlink{class_t_stage_object_afb4724a8cc2ef7eb2c6c7585834210f2}{getParent}}());}
\DoxyCodeLine{00689     obj-\/>\mbox{\hyperlink{class_t_stage_object_add34b90eaaa8ff75b9ed098c4d9bec27}{invalidate}}();}
\DoxyCodeLine{00690   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_skeleton_subtools_1_1_i_k_tool_undo_a32ec1b5590179947c9f896ddc65b20d7}\label{class_skeleton_subtools_1_1_i_k_tool_undo_a32ec1b5590179947c9f896ddc65b20d7}} 
\index{SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}!undo@{undo}}
\index{undo@{undo}!SkeletonSubtools::IKToolUndo@{SkeletonSubtools::IKToolUndo}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Skeleton\+Subtools\+::\+IKTool\+Undo\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00692                              \{}
\DoxyCodeLine{00693     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = TTool::getApplication()-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{00694     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_nodes.size(); i++) \{}
\DoxyCodeLine{00695       \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *param =}
\DoxyCodeLine{00696           xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(m\_nodes[i].m\_id)-\/>\mbox{\hyperlink{class_t_stage_object_ae4cf64f5085310a14074ceb54d2b5177}{getParam}}(\mbox{\hyperlink{class_t_stage_object_ac7a60ddc803173dc7591f784577cb439a08806eb331bdede66bb3113b1642a6ad}{TStageObject::T\_Angle}});}
\DoxyCodeLine{00697       \textcolor{keywordflow}{if} (m\_nodes[i].m\_wasKeyframe)}
\DoxyCodeLine{00698         param-\/>setValue(m\_frame, m\_nodes[i].m\_oldAngle);}
\DoxyCodeLine{00699       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00700         param-\/>\mbox{\hyperlink{class_t_double_param_a4654e139a14f57eb7f455a82f56f683d}{deleteKeyframe}}(m\_frame);}
\DoxyCodeLine{00701     \}}
\DoxyCodeLine{00702     \textcolor{keywordflow}{if} (m\_firstFootId.\mbox{\hyperlink{class_t_stage_object_id_af6d13fcf31e7e10eef28f085855f469c}{isColumn}}()) setFootPlacement(m\_oldFootPlacement);}
\DoxyCodeLine{00703 }
\DoxyCodeLine{00704     TTool::getApplication()-\/>getCurrentXsheet()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00705     TTool::getApplication()-\/>getCurrentObject()-\/>notifyObjectIdChanged(\textcolor{keyword}{false});}
\DoxyCodeLine{00706   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/skeletonsubtools.\+cpp\end{DoxyCompactItemize}
