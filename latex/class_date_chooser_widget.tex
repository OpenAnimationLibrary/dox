\hypertarget{class_date_chooser_widget}{}\doxysection{Date\+Chooser\+Widget Class Reference}
\label{class_date_chooser_widget}\index{DateChooserWidget@{DateChooserWidget}}
Inheritance diagram for Date\+Chooser\+Widget\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_date_chooser_widget}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_date_chooser_widget_a032110922539ff953687e0171a3a100e}{Date\+Chooser\+Widget}} (QWidget $\ast$parent=0)
\item 
QString \mbox{\hyperlink{class_date_chooser_widget_ad0ab2235f70a79146166ca939818ddde}{get\+Revision\+String}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_date_chooser_widget_a768097e35b116fbc68c72de4cbe0dd24}{on\+Radio\+Button\+Clicked}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_date_chooser_widget_a032110922539ff953687e0171a3a100e}\label{class_date_chooser_widget_a032110922539ff953687e0171a3a100e}} 
\index{DateChooserWidget@{DateChooserWidget}!DateChooserWidget@{DateChooserWidget}}
\index{DateChooserWidget@{DateChooserWidget}!DateChooserWidget@{DateChooserWidget}}
\doxysubsubsection{\texorpdfstring{DateChooserWidget()}{DateChooserWidget()}}
{\footnotesize\ttfamily Date\+Chooser\+Widget\+::\+Date\+Chooser\+Widget (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00018     : QWidget(parent), m\_selectedRadioIndex(0) \{}
\DoxyCodeLine{00019   QVBoxLayout *mainLayout = \textcolor{keyword}{new} QVBoxLayout;}
\DoxyCodeLine{00020   mainLayout-\/>setMargin(0);}
\DoxyCodeLine{00021   mainLayout-\/>setAlignment(Qt::AlignTop);}
\DoxyCodeLine{00022 }
\DoxyCodeLine{00023   \textcolor{comment}{// Time}}
\DoxyCodeLine{00024   QHBoxLayout *timeLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00025 }
\DoxyCodeLine{00026   m\_timeRadioButton = \textcolor{keyword}{new} QRadioButton;}
\DoxyCodeLine{00027   m\_timeRadioButton-\/>setChecked(\textcolor{keyword}{true});}
\DoxyCodeLine{00028   connect(m\_timeRadioButton, SIGNAL(clicked()), \textcolor{keyword}{this},}
\DoxyCodeLine{00029           SLOT(onRadioButtonClicked()));}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031   m\_timeEdit = \textcolor{keyword}{new} QTimeEdit;}
\DoxyCodeLine{00032   m\_timeEdit-\/>setDisplayFormat(\textcolor{stringliteral}{"{}hh:mm"{}});}
\DoxyCodeLine{00033 }
\DoxyCodeLine{00034   timeLayout-\/>addWidget(m\_timeRadioButton);}
\DoxyCodeLine{00035   timeLayout-\/>addWidget(m\_timeEdit);}
\DoxyCodeLine{00036   timeLayout-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}time ago."{}})));}
\DoxyCodeLine{00037   timeLayout-\/>addStretch();}
\DoxyCodeLine{00038   mainLayout-\/>addLayout(timeLayout);}
\DoxyCodeLine{00039 }
\DoxyCodeLine{00040   \textcolor{comment}{// Days}}
\DoxyCodeLine{00041   QHBoxLayout *dayLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00042 }
\DoxyCodeLine{00043   m\_dayRadioButton = \textcolor{keyword}{new} QRadioButton;}
\DoxyCodeLine{00044   connect(m\_dayRadioButton, SIGNAL(clicked()), \textcolor{keyword}{this},}
\DoxyCodeLine{00045           SLOT(onRadioButtonClicked()));}
\DoxyCodeLine{00046 }
\DoxyCodeLine{00047   m\_dayEdit = \textcolor{keyword}{new} QSpinBox;}
\DoxyCodeLine{00048   m\_dayEdit-\/>setRange(1, 99);}
\DoxyCodeLine{00049   m\_dayEdit-\/>setValue(1);}
\DoxyCodeLine{00050   m\_dayEdit-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00051 }
\DoxyCodeLine{00052   dayLayout-\/>addWidget(m\_dayRadioButton);}
\DoxyCodeLine{00053   dayLayout-\/>addWidget(m\_dayEdit);}
\DoxyCodeLine{00054   dayLayout-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}days ago."{}})));}
\DoxyCodeLine{00055   dayLayout-\/>addStretch();}
\DoxyCodeLine{00056   mainLayout-\/>addLayout(dayLayout);}
\DoxyCodeLine{00057 }
\DoxyCodeLine{00058   \textcolor{comment}{// Weeks}}
\DoxyCodeLine{00059   QHBoxLayout *weekLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061   m\_weekRadioButton = \textcolor{keyword}{new} QRadioButton;}
\DoxyCodeLine{00062   connect(m\_weekRadioButton, SIGNAL(clicked()), \textcolor{keyword}{this},}
\DoxyCodeLine{00063           SLOT(onRadioButtonClicked()));}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065   m\_weekEdit = \textcolor{keyword}{new} QSpinBox;}
\DoxyCodeLine{00066   m\_weekEdit-\/>setRange(1, 99);}
\DoxyCodeLine{00067   m\_weekEdit-\/>setValue(1);}
\DoxyCodeLine{00068   m\_weekEdit-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00069 }
\DoxyCodeLine{00070   weekLayout-\/>addWidget(m\_weekRadioButton);}
\DoxyCodeLine{00071   weekLayout-\/>addWidget(m\_weekEdit);}
\DoxyCodeLine{00072   weekLayout-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}weeks ago."{}})));}
\DoxyCodeLine{00073   weekLayout-\/>addStretch();}
\DoxyCodeLine{00074   mainLayout-\/>addLayout(weekLayout);}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076   \textcolor{comment}{// Custom date}}
\DoxyCodeLine{00077   QHBoxLayout *customDateLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00078 }
\DoxyCodeLine{00079   m\_dateRadioButton = \textcolor{keyword}{new} QRadioButton;}
\DoxyCodeLine{00080   connect(m\_dateRadioButton, SIGNAL(clicked()), \textcolor{keyword}{this},}
\DoxyCodeLine{00081           SLOT(onRadioButtonClicked()));}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083   m\_dateTimeEdit = \textcolor{keyword}{new} QDateTimeEdit;}
\DoxyCodeLine{00084   m\_dateTimeEdit-\/>setDisplayFormat(\textcolor{stringliteral}{"{}yyyy-\/MM-\/dd hh:mm"{}});}
\DoxyCodeLine{00085   QDate now = QDate::currentDate();}
\DoxyCodeLine{00086   m\_dateTimeEdit-\/>setMaximumDate(now);}
\DoxyCodeLine{00087   m\_dateTimeEdit-\/>setDate(now);}
\DoxyCodeLine{00088   m\_dateTimeEdit-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00089   m\_dateTimeEdit-\/>setCalendarPopup(\textcolor{keyword}{true});}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091   customDateLayout-\/>addWidget(m\_dateRadioButton);}
\DoxyCodeLine{00092   customDateLayout-\/>addWidget(m\_dateTimeEdit);}
\DoxyCodeLine{00093   customDateLayout-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}( Custom date )"{}})));}
\DoxyCodeLine{00094   customDateLayout-\/>addStretch();}
\DoxyCodeLine{00095   mainLayout-\/>addLayout(customDateLayout);}
\DoxyCodeLine{00096 }
\DoxyCodeLine{00097   setLayout(mainLayout);}
\DoxyCodeLine{00098 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_date_chooser_widget_ad0ab2235f70a79146166ca939818ddde}\label{class_date_chooser_widget_ad0ab2235f70a79146166ca939818ddde}} 
\index{DateChooserWidget@{DateChooserWidget}!getRevisionString@{getRevisionString}}
\index{getRevisionString@{getRevisionString}!DateChooserWidget@{DateChooserWidget}}
\doxysubsubsection{\texorpdfstring{getRevisionString()}{getRevisionString()}}
{\footnotesize\ttfamily QString Date\+Chooser\+Widget\+::get\+Revision\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00136                                                    \{}
\DoxyCodeLine{00137   QString timeString;}
\DoxyCodeLine{00138   QString dateString;}
\DoxyCodeLine{00139 }
\DoxyCodeLine{00140   QDate today = QDate::currentDate();}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142   \textcolor{keywordflow}{if} (m\_selectedRadioIndex == 0)  \textcolor{comment}{// Time}}
\DoxyCodeLine{00143   \{}
\DoxyCodeLine{00144     QTime currentTime = QTime::currentTime();}
\DoxyCodeLine{00145     QTime t           = m\_timeEdit-\/>time();}
\DoxyCodeLine{00146     \textcolor{keywordtype}{int} seconds       = t.hour() * 60 * 60 + t.minute() * 60;}
\DoxyCodeLine{00147     currentTime       = currentTime.addSecs(-\/seconds);}
\DoxyCodeLine{00148     timeString        = currentTime.toString(\textcolor{stringliteral}{"{}hh:mm"{}});}
\DoxyCodeLine{00149     dateString        = today.toString(\textcolor{stringliteral}{"{}yyyy-\/MM-\/dd"{}});}
\DoxyCodeLine{00150   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_selectedRadioIndex == 1)  \textcolor{comment}{// Days}}
\DoxyCodeLine{00151   \{}
\DoxyCodeLine{00152     timeString = \textcolor{stringliteral}{"{}00:00"{}};}
\DoxyCodeLine{00153     today      = today.addDays(-\/(m\_dayEdit-\/>value()));}
\DoxyCodeLine{00154     dateString = today.toString(\textcolor{stringliteral}{"{}yyyy-\/MM-\/dd"{}});}
\DoxyCodeLine{00155   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_selectedRadioIndex == 2)  \textcolor{comment}{// Weeks}}
\DoxyCodeLine{00156   \{}
\DoxyCodeLine{00157     timeString = \textcolor{stringliteral}{"{}00:00"{}};}
\DoxyCodeLine{00158     today      = today.addDays(-\/(m\_weekEdit-\/>value() * 7));}
\DoxyCodeLine{00159     dateString = today.toString(\textcolor{stringliteral}{"{}yyyy-\/MM-\/dd"{}});}
\DoxyCodeLine{00160   \} \textcolor{keywordflow}{else}  \textcolor{comment}{// Custom date}}
\DoxyCodeLine{00161   \{}
\DoxyCodeLine{00162     QTime time = m\_dateTimeEdit-\/>time();}
\DoxyCodeLine{00163     timeString = time.toString(\textcolor{stringliteral}{"{}hh:mm"{}});}
\DoxyCodeLine{00164 }
\DoxyCodeLine{00165     QDate date = m\_dateTimeEdit-\/>date();}
\DoxyCodeLine{00166     dateString = date.toString(\textcolor{stringliteral}{"{}yyyy-\/MM-\/dd"{}});}
\DoxyCodeLine{00167   \}}
\DoxyCodeLine{00168 }
\DoxyCodeLine{00169   \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}\{"{}} + dateString + \textcolor{stringliteral}{"{} "{}} + timeString + \textcolor{stringliteral}{"{}\}"{}};}
\DoxyCodeLine{00170 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_date_chooser_widget_a768097e35b116fbc68c72de4cbe0dd24}\label{class_date_chooser_widget_a768097e35b116fbc68c72de4cbe0dd24}} 
\index{DateChooserWidget@{DateChooserWidget}!onRadioButtonClicked@{onRadioButtonClicked}}
\index{onRadioButtonClicked@{onRadioButtonClicked}!DateChooserWidget@{DateChooserWidget}}
\doxysubsubsection{\texorpdfstring{onRadioButtonClicked}{onRadioButtonClicked}}
{\footnotesize\ttfamily void Date\+Chooser\+Widget\+::on\+Radio\+Button\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00111                                              \{}
\DoxyCodeLine{00112   QObject *obj         = sender();}
\DoxyCodeLine{00113   QRadioButton *button = \textcolor{keyword}{dynamic\_cast<}QRadioButton *\textcolor{keyword}{>}(obj);}
\DoxyCodeLine{00114 }
\DoxyCodeLine{00115   \textcolor{keywordflow}{if} (!button) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00116 }
\DoxyCodeLine{00117   disableAllWidgets();}
\DoxyCodeLine{00118 }
\DoxyCodeLine{00119   \textcolor{keywordflow}{if} (button == m\_timeRadioButton) \{}
\DoxyCodeLine{00120     m\_timeEdit-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00121     m\_selectedRadioIndex = 0;}
\DoxyCodeLine{00122   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (button == m\_dayRadioButton) \{}
\DoxyCodeLine{00123     m\_dayEdit-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00124     m\_selectedRadioIndex = 1;}
\DoxyCodeLine{00125   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (button == m\_weekRadioButton) \{}
\DoxyCodeLine{00126     m\_weekEdit-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00127     m\_selectedRadioIndex = 2;}
\DoxyCodeLine{00128   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (button == m\_dateRadioButton) \{}
\DoxyCodeLine{00129     m\_dateTimeEdit-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00130     m\_selectedRadioIndex = 3;}
\DoxyCodeLine{00131   \}}
\DoxyCodeLine{00132 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/versioncontrolwidget.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/versioncontrolwidget.\+cpp\end{DoxyCompactItemize}
