\hypertarget{classino__warp__hv}{}\doxysection{ino\+\_\+warp\+\_\+hv Class Reference}
\label{classino__warp__hv}\index{ino\_warp\_hv@{ino\_warp\_hv}}
Inheritance diagram for ino\+\_\+warp\+\_\+hv\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{classino__warp__hv}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classino__warp__hv_a9faf93748a41003a2558873990823294}{get\+\_\+render\+\_\+real\+\_\+hv}} (const double frame, const \mbox{\hyperlink{class_t_affine}{TAffine}} affine, double \&h\+\_\+maxlen, double \&v\+\_\+maxlen)
\item 
void \mbox{\hyperlink{classino__warp__hv_a800456761baad8b5a5b4c34ac722e692}{get\+\_\+render\+\_\+enlarge}} (const double frame, const \mbox{\hyperlink{class_t_affine}{TAffine}} affine, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box)
\item 
bool \mbox{\hyperlink{classino__warp__hv_a03904037a3e56e1f74e716a7880b23c9}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
int \mbox{\hyperlink{classino__warp__hv_ac55389dbf2ded41668838c310c3a3237}{get\+Memory\+Requirement}} (const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
void \mbox{\hyperlink{classino__warp__hv_a5542f386b8c804b8ba1bb095834ab705}{transform}} (double frame, int port, const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Output, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Output, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Input, \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Input) override
\item 
bool \mbox{\hyperlink{classino__warp__hv_a994649b57cb03cd3b1cdf71c303b6790}{can\+Handle}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info, double frame) override
\item 
void \mbox{\hyperlink{classino__warp__hv_a0a7f5982b49a42d5ae23944fbb5e572d}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&rend\+\_\+sets) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classino__warp__hv_a31812b50f3bc72909a287f6264d96d7d}\label{classino__warp__hv_a31812b50f3bc72909a287f6264d96d7d}} 
\index{ino\_warp\_hv@{ino\_warp\_hv}!ino\_warp\_hv@{ino\_warp\_hv}}
\index{ino\_warp\_hv@{ino\_warp\_hv}!ino\_warp\_hv@{ino\_warp\_hv}}
\doxysubsubsection{\texorpdfstring{ino\_warp\_hv()}{ino\_warp\_hv()}}
{\footnotesize\ttfamily ino\+\_\+warp\+\_\+hv\+::ino\+\_\+warp\+\_\+hv (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00024       : m\_h\_maxlen(0.0 * ino::param\_range())}
\DoxyCodeLine{00025       , m\_v\_maxlen(0.0 * ino::param\_range())}
\DoxyCodeLine{00026       , m\_h\_ref\_mode(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(2, \textcolor{stringliteral}{"{}Red"{}}))}
\DoxyCodeLine{00027       , m\_v\_ref\_mode(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(2, \textcolor{stringliteral}{"{}Red"{}}))}
\DoxyCodeLine{00028       , m\_alpha\_rendering(\textcolor{keyword}{true})}
\DoxyCodeLine{00029       , m\_anti\_aliasing(\textcolor{keyword}{true}) \{}
\DoxyCodeLine{00030     this-\/>m\_h\_maxlen-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00031     this-\/>m\_v\_maxlen-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00032 }
\DoxyCodeLine{00033     \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}Source"{}}, this-\/>m\_input);}
\DoxyCodeLine{00034     \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}Hori"{}}, this-\/>m\_hori);}
\DoxyCodeLine{00035     \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}Vert"{}}, this-\/>m\_vert);}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}h\_maxlen"{}}, this-\/>m\_h\_maxlen);}
\DoxyCodeLine{00038     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}v\_maxlen"{}}, this-\/>m\_v\_maxlen);}
\DoxyCodeLine{00039     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}h\_ref\_mode"{}}, this-\/>m\_h\_ref\_mode);}
\DoxyCodeLine{00040     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}v\_ref\_mode"{}}, this-\/>m\_v\_ref\_mode);}
\DoxyCodeLine{00041     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}alpha\_rendering"{}}, this-\/>m\_alpha\_rendering);}
\DoxyCodeLine{00042     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}anti\_aliasing"{}}, this-\/>m\_anti\_aliasing);}
\DoxyCodeLine{00043 }
\DoxyCodeLine{00044     this-\/>m\_h\_maxlen-\/>setValueRange(0.0 * ino::param\_range(),}
\DoxyCodeLine{00045                                     100.0 * ino::param\_range());}
\DoxyCodeLine{00046     this-\/>m\_v\_maxlen-\/>setValueRange(0.0 * ino::param\_range(),}
\DoxyCodeLine{00047                                     100.0 * ino::param\_range());}
\DoxyCodeLine{00048     this-\/>m\_h\_ref\_mode-\/>addItem(1, \textcolor{stringliteral}{"{}Green"{}});}
\DoxyCodeLine{00049     this-\/>m\_h\_ref\_mode-\/>addItem(0, \textcolor{stringliteral}{"{}Blue"{}});}
\DoxyCodeLine{00050     this-\/>m\_h\_ref\_mode-\/>addItem(3, \textcolor{stringliteral}{"{}Alpha"{}});}
\DoxyCodeLine{00051     this-\/>m\_v\_ref\_mode-\/>addItem(1, \textcolor{stringliteral}{"{}Green"{}});}
\DoxyCodeLine{00052     this-\/>m\_v\_ref\_mode-\/>addItem(0, \textcolor{stringliteral}{"{}Blue"{}});}
\DoxyCodeLine{00053     this-\/>m\_v\_ref\_mode-\/>addItem(3, \textcolor{stringliteral}{"{}Alpha"{}});}
\DoxyCodeLine{00054   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classino__warp__hv_a994649b57cb03cd3b1cdf71c303b6790}\label{classino__warp__hv_a994649b57cb03cd3b1cdf71c303b6790}} 
\index{ino\_warp\_hv@{ino\_warp\_hv}!canHandle@{canHandle}}
\index{canHandle@{canHandle}!ino\_warp\_hv@{ino\_warp\_hv}}
\doxysubsubsection{\texorpdfstring{canHandle()}{canHandle()}}
{\footnotesize\ttfamily bool ino\+\_\+warp\+\_\+hv\+::can\+Handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00103                                                                      \{}
\DoxyCodeLine{00104     \textcolor{comment}{// return true;}}
\DoxyCodeLine{00105     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00106   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__warp__hv_a0a7f5982b49a42d5ae23944fbb5e572d}\label{classino__warp__hv_a0a7f5982b49a42d5ae23944fbb5e572d}} 
\index{ino\_warp\_hv@{ino\_warp\_hv}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!ino\_warp\_hv@{ino\_warp\_hv}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void ino\+\_\+warp\+\_\+hv\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{rend\+\_\+sets }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00197                                                               \{}
\DoxyCodeLine{00198   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 接続していなければ処理しない -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00199   \textcolor{keywordflow}{if} (!this-\/>m\_input.isConnected()) \{}
\DoxyCodeLine{00200     tile.getRaster()-\/>clear(); \textcolor{comment}{/* 塗りつぶしクリア */}}
\DoxyCodeLine{00201     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00202   \}}
\DoxyCodeLine{00203 }
\DoxyCodeLine{00204   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ サポートしていないPixelタイプはエラーを投げる -\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00205   \textcolor{keywordflow}{if} (!((\mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}})tile.getRaster()) \&\& !((\mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}})tile.getRaster())) \{}
\DoxyCodeLine{00206     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_rop_exception}{TRopException}}(\textcolor{stringliteral}{"{}unsupported input pixel type"{}});}
\DoxyCodeLine{00207   \}}
\DoxyCodeLine{00208 }
\DoxyCodeLine{00209   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 動作パラメータを得る -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00210   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} alp\_rend\_sw = this-\/>m\_alpha\_rendering-\/>getValue();}
\DoxyCodeLine{00211   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} anti\_ali\_sw = this-\/>m\_anti\_aliasing-\/>getValue();}
\DoxyCodeLine{00212   \textcolor{keywordtype}{double} h\_maxlen        = 0;}
\DoxyCodeLine{00213   \textcolor{keywordtype}{double} v\_maxlen        = 0;}
\DoxyCodeLine{00214   this-\/>get\_render\_real\_hv(frame, rend\_sets.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}}, h\_maxlen, v\_maxlen);}
\DoxyCodeLine{00215   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 表示の範囲を得る -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00216   \mbox{\hyperlink{class_t_rect_t}{TRectD}} bBox =}
\DoxyCodeLine{00217       \mbox{\hyperlink{class_t_rect_t}{TRectD}}(tile.m\_pos \textcolor{comment}{/* Render画像上(Pixel単位)の位置 */}}
\DoxyCodeLine{00218              ,}
\DoxyCodeLine{00219              \mbox{\hyperlink{class_t_dimension_t}{TDimensionD}}(\textcolor{comment}{/* Render画像上(Pixel単位)のサイズ */}}
\DoxyCodeLine{00220                          tile.getRaster()-\/>getLx(), tile.getRaster()-\/>getLy()));}
\DoxyCodeLine{00221   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 歪み量分(=マージン)分表示範囲を広げる -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00222   \textcolor{keyword}{const} \textcolor{keywordtype}{int} margin =}
\DoxyCodeLine{00223       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(ceil((h\_maxlen < v\_maxlen) ? v\_maxlen : h\_maxlen));}
\DoxyCodeLine{00224   \textcolor{keywordflow}{if} (0 < margin) \{}
\DoxyCodeLine{00225     bBox = bBox.enlarge(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(margin));}
\DoxyCodeLine{00226   \}}
\DoxyCodeLine{00227   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 広げた範囲の画像生成 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00228   \mbox{\hyperlink{class_t_tile}{TTile}} enlarge\_tile;}
\DoxyCodeLine{00229   this-\/>m\_input-\/>allocateAndCompute(}
\DoxyCodeLine{00230       enlarge\_tile, bBox.getP00(),}
\DoxyCodeLine{00231       \mbox{\hyperlink{class_t_dimension_t}{TDimensionI}}(\textcolor{comment}{/* Pixel単位のdouble -\/> intにしてセット */}}
\DoxyCodeLine{00232                   \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bBox.getLx() + 0.5),}
\DoxyCodeLine{00233                   \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(bBox.getLy() + 0.5)),}
\DoxyCodeLine{00234       tile.getRaster(), frame, rend\_sets);}
\DoxyCodeLine{00235   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 参照画像生成 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00236   \mbox{\hyperlink{class_t_tile}{TTile}} hori\_tile;}
\DoxyCodeLine{00237   \mbox{\hyperlink{class_t_tile}{TTile}} vert\_tile;}
\DoxyCodeLine{00238   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} hori\_cn\_is = this-\/>m\_hori.isConnected();}
\DoxyCodeLine{00239   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} vert\_cn\_is = this-\/>m\_vert.isConnected();}
\DoxyCodeLine{00240   \textcolor{keywordflow}{if} (hori\_cn\_is) \{}
\DoxyCodeLine{00241     this-\/>m\_hori-\/>allocateAndCompute(}
\DoxyCodeLine{00242         hori\_tile, bBox.getP00(),}
\DoxyCodeLine{00243         \mbox{\hyperlink{class_t_dimension_t}{TDimensionI}}(\textcolor{comment}{/* Pixel単位のdouble -\/> intにしてセット */}}
\DoxyCodeLine{00244                     (\textcolor{keywordtype}{int})(bBox.getLx() + 0.5), (\textcolor{keywordtype}{int})(bBox.getLy() + 0.5)),}
\DoxyCodeLine{00245         tile.getRaster(), frame, rend\_sets);}
\DoxyCodeLine{00246   \}}
\DoxyCodeLine{00247   \textcolor{keywordflow}{if} (vert\_cn\_is) \{}
\DoxyCodeLine{00248     this-\/>m\_vert-\/>allocateAndCompute(}
\DoxyCodeLine{00249         vert\_tile, bBox.getP00(),}
\DoxyCodeLine{00250         \mbox{\hyperlink{class_t_dimension_t}{TDimensionI}}(\textcolor{comment}{/* Pixel単位のdouble -\/> intにしてセット */}}
\DoxyCodeLine{00251                     (\textcolor{keywordtype}{int})(bBox.getLx() + 0.5), (\textcolor{keywordtype}{int})(bBox.getLy() + 0.5)),}
\DoxyCodeLine{00252         tile.getRaster(), frame, rend\_sets);}
\DoxyCodeLine{00253   \}}
\DoxyCodeLine{00254   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ 保存すべき画像メモリを塗りつぶしクリア -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00255   tile.getRaster()-\/>clear(); \textcolor{comment}{/* 塗りつぶしクリア */}}
\DoxyCodeLine{00256 }
\DoxyCodeLine{00257   \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/ (app\_begin)log記憶 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{00258   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} log\_sw = ino::log\_enable\_sw();}
\DoxyCodeLine{00259 }
\DoxyCodeLine{00260   \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00261     std::ostringstream os;}
\DoxyCodeLine{00262     os << \textcolor{stringliteral}{"{}params"{}}}
\DoxyCodeLine{00263        << \textcolor{stringliteral}{"{}  h\_maxlen "{}} << h\_maxlen << \textcolor{stringliteral}{"{}  v\_maxlen "{}} << v\_maxlen << \textcolor{stringliteral}{"{}  margin "{}}}
\DoxyCodeLine{00264        << margin << \textcolor{stringliteral}{"{}  alp\_rend\_sw "{}} << alp\_rend\_sw << \textcolor{stringliteral}{"{}  anti\_ali\_sw "{}}}
\DoxyCodeLine{00265        << anti\_ali\_sw}
\DoxyCodeLine{00266 }
\DoxyCodeLine{00267        << \textcolor{stringliteral}{"{}   tile w "{}} << tile.getRaster()-\/>getLx() << \textcolor{stringliteral}{"{}  h "{}}}
\DoxyCodeLine{00268        << tile.getRaster()-\/>getLy() << \textcolor{stringliteral}{"{}  pixbits "{}}}
\DoxyCodeLine{00269        << ino::pixel\_bits(tile.getRaster());}
\DoxyCodeLine{00270     \textcolor{keywordflow}{if} (hori\_cn\_is) \{}
\DoxyCodeLine{00271       os << \textcolor{stringliteral}{"{}   htile w "{}} << hori\_tile.getRaster()-\/>getLx() << \textcolor{stringliteral}{"{}  h "{}}}
\DoxyCodeLine{00272          << hori\_tile.getRaster()-\/>getLy() << \textcolor{stringliteral}{"{}  pixbits "{}}}
\DoxyCodeLine{00273          << ino::pixel\_bits(hori\_tile.getRaster());}
\DoxyCodeLine{00274     \}}
\DoxyCodeLine{00275     \textcolor{keywordflow}{if} (vert\_cn\_is) \{}
\DoxyCodeLine{00276       os << \textcolor{stringliteral}{"{}   vtile w "{}} << vert\_tile.getRaster()-\/>getLx() << \textcolor{stringliteral}{"{}  h "{}}}
\DoxyCodeLine{00277          << vert\_tile.getRaster()-\/>getLy() << \textcolor{stringliteral}{"{}  pixbits "{}}}
\DoxyCodeLine{00278          << ino::pixel\_bits(vert\_tile.getRaster());}
\DoxyCodeLine{00279     \}}
\DoxyCodeLine{00280     os << \textcolor{stringliteral}{"{}   frame "{}} << frame << \textcolor{stringliteral}{"{}   rand\_sets affine\_det "{}}}
\DoxyCodeLine{00281        << rend\_sets.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}}.det() << \textcolor{stringliteral}{"{}  shrink x "{}} << rend\_sets.\mbox{\hyperlink{class_t_render_settings_a52dd41881bbf6aaf953fe300be2e233e}{m\_shrinkX}}}
\DoxyCodeLine{00282        << \textcolor{stringliteral}{"{}  y "{}} << rend\_sets.\mbox{\hyperlink{class_t_render_settings_ae1882f584ce9ffad12ce6bf9ff23814c}{m\_shrinkY}};}
\DoxyCodeLine{00283   \}}
\DoxyCodeLine{00284   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ fx処理 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00285   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00286     tile.getRaster()-\/>lock();}
\DoxyCodeLine{00287     \textcolor{keywordflow}{if} (hori\_cn\_is) \{}
\DoxyCodeLine{00288       hori\_tile.getRaster()-\/>lock();}
\DoxyCodeLine{00289     \}}
\DoxyCodeLine{00290     \textcolor{keywordflow}{if} (vert\_cn\_is) \{}
\DoxyCodeLine{00291       vert\_tile.getRaster()-\/>lock();}
\DoxyCodeLine{00292     \}}
\DoxyCodeLine{00293     fx\_(enlarge\_tile.getRaster()  \textcolor{comment}{// in with margin}}
\DoxyCodeLine{00294         ,}
\DoxyCodeLine{00295         (hori\_cn\_is ? hori\_tile.getRaster() : \textcolor{keyword}{nullptr})  \textcolor{comment}{// with margin}}
\DoxyCodeLine{00296         ,}
\DoxyCodeLine{00297         (vert\_cn\_is ? vert\_tile.getRaster() : \textcolor{keyword}{nullptr})  \textcolor{comment}{// with margin}}
\DoxyCodeLine{00298         ,}
\DoxyCodeLine{00299         margin  \textcolor{comment}{// margin}}
\DoxyCodeLine{00300         ,}
\DoxyCodeLine{00301         tile.getRaster()  \textcolor{comment}{// out with no margin}}
\DoxyCodeLine{00302         ,}
\DoxyCodeLine{00303         h\_maxlen, v\_maxlen, this-\/>m\_h\_ref\_mode-\/>getValue(),}
\DoxyCodeLine{00304         this-\/>m\_v\_ref\_mode-\/>getValue(), alp\_rend\_sw, anti\_ali\_sw);}
\DoxyCodeLine{00305     \textcolor{keywordflow}{if} (vert\_cn\_is) \{}
\DoxyCodeLine{00306       vert\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00307     \}}
\DoxyCodeLine{00308     \textcolor{keywordflow}{if} (hori\_cn\_is) \{}
\DoxyCodeLine{00309       hori\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00310     \}}
\DoxyCodeLine{00311     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00312   \}}
\DoxyCodeLine{00313   \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/ error処理 -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{00314   \textcolor{keywordflow}{catch} (std::bad\_alloc \&e) \{}
\DoxyCodeLine{00315     \textcolor{keywordflow}{if} (vert\_cn\_is) \{}
\DoxyCodeLine{00316       vert\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00317     \}}
\DoxyCodeLine{00318     \textcolor{keywordflow}{if} (hori\_cn\_is) \{}
\DoxyCodeLine{00319       hori\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00320     \}}
\DoxyCodeLine{00321     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00322     \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00323       std::string str(\textcolor{stringliteral}{"{}std::bad\_alloc <"{}});}
\DoxyCodeLine{00324       str += e.what();}
\DoxyCodeLine{00325       str += \textcolor{charliteral}{'>'};}
\DoxyCodeLine{00326     \}}
\DoxyCodeLine{00327     \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00328   \} \textcolor{keywordflow}{catch} (std::exception \&e) \{}
\DoxyCodeLine{00329     \textcolor{keywordflow}{if} (vert\_cn\_is) \{}
\DoxyCodeLine{00330       vert\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00331     \}}
\DoxyCodeLine{00332     \textcolor{keywordflow}{if} (hori\_cn\_is) \{}
\DoxyCodeLine{00333       hori\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00334     \}}
\DoxyCodeLine{00335     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00336     \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00337       std::string str(\textcolor{stringliteral}{"{}exception <"{}});}
\DoxyCodeLine{00338       str += e.what();}
\DoxyCodeLine{00339       str += \textcolor{charliteral}{'>'};}
\DoxyCodeLine{00340     \}}
\DoxyCodeLine{00341     \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00342   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00343     \textcolor{keywordflow}{if} (vert\_cn\_is) \{}
\DoxyCodeLine{00344       vert\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00345     \}}
\DoxyCodeLine{00346     \textcolor{keywordflow}{if} (hori\_cn\_is) \{}
\DoxyCodeLine{00347       hori\_tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00348     \}}
\DoxyCodeLine{00349     tile.getRaster()-\/>unlock();}
\DoxyCodeLine{00350     \textcolor{keywordflow}{if} (log\_sw) \{}
\DoxyCodeLine{00351       std::string str(\textcolor{stringliteral}{"{}other exception"{}});}
\DoxyCodeLine{00352     \}}
\DoxyCodeLine{00353     \textcolor{keywordflow}{throw};}
\DoxyCodeLine{00354   \}}
\DoxyCodeLine{00355 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__warp__hv_a03904037a3e56e1f74e716a7880b23c9}\label{classino__warp__hv_a03904037a3e56e1f74e716a7880b23c9}} 
\index{ino\_warp\_hv@{ino\_warp\_hv}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!ino\_warp\_hv@{ino\_warp\_hv}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool ino\+\_\+warp\+\_\+hv\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00081                                                        \{}
\DoxyCodeLine{00082     \textcolor{keywordflow}{if} (\textcolor{keyword}{false} == this-\/>m\_input.isConnected()) \{}
\DoxyCodeLine{00083       bBox = \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{00084       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00085     \}}
\DoxyCodeLine{00086     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} ret = this-\/>m\_input-\/>doGetBBox(frame, bBox, info);}
\DoxyCodeLine{00087     this-\/>get\_render\_enlarge(frame, info.m\_affine, bBox);}
\DoxyCodeLine{00088     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{00089   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__warp__hv_a800456761baad8b5a5b4c34ac722e692}\label{classino__warp__hv_a800456761baad8b5a5b4c34ac722e692}} 
\index{ino\_warp\_hv@{ino\_warp\_hv}!get\_render\_enlarge@{get\_render\_enlarge}}
\index{get\_render\_enlarge@{get\_render\_enlarge}!ino\_warp\_hv@{ino\_warp\_hv}}
\doxysubsubsection{\texorpdfstring{get\_render\_enlarge()}{get\_render\_enlarge()}}
{\footnotesize\ttfamily void ino\+\_\+warp\+\_\+hv\+::get\+\_\+render\+\_\+enlarge (\begin{DoxyParamCaption}\item[{const double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}}}]{affine,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00070                                         \{}
\DoxyCodeLine{00071     \textcolor{keywordtype}{double} h\_maxlen = 0.0;}
\DoxyCodeLine{00072     \textcolor{keywordtype}{double} v\_maxlen = 0.0;}
\DoxyCodeLine{00073     this-\/>get\_render\_real\_hv(frame, affine, h\_maxlen, v\_maxlen);}
\DoxyCodeLine{00074     \textcolor{keyword}{const} \textcolor{keywordtype}{int} margin =}
\DoxyCodeLine{00075         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(ceil((h\_maxlen < v\_maxlen) ? v\_maxlen : h\_maxlen));}
\DoxyCodeLine{00076     \textcolor{keywordflow}{if} (0 < margin) \{}
\DoxyCodeLine{00077       bBox = bBox.enlarge(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(margin));}
\DoxyCodeLine{00078     \}}
\DoxyCodeLine{00079   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__warp__hv_a9faf93748a41003a2558873990823294}\label{classino__warp__hv_a9faf93748a41003a2558873990823294}} 
\index{ino\_warp\_hv@{ino\_warp\_hv}!get\_render\_real\_hv@{get\_render\_real\_hv}}
\index{get\_render\_real\_hv@{get\_render\_real\_hv}!ino\_warp\_hv@{ino\_warp\_hv}}
\doxysubsubsection{\texorpdfstring{get\_render\_real\_hv()}{get\_render\_real\_hv()}}
{\footnotesize\ttfamily void ino\+\_\+warp\+\_\+hv\+::get\+\_\+render\+\_\+real\+\_\+hv (\begin{DoxyParamCaption}\item[{const double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}}}]{affine,  }\item[{double \&}]{h\+\_\+maxlen,  }\item[{double \&}]{v\+\_\+maxlen }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00056                                                               \{}
\DoxyCodeLine{00057     \textcolor{comment}{/*-\/-\/-\/ ベクトルにする(プラス値) -\/-\/-\/ */}}
\DoxyCodeLine{00058     \mbox{\hyperlink{class_t_point_t}{TPointD}} rend\_vect;}
\DoxyCodeLine{00059     rend\_vect.x = this-\/>m\_h\_maxlen-\/>getValue(frame);}
\DoxyCodeLine{00060     rend\_vect.y = this-\/>m\_v\_maxlen-\/>getValue(frame);}
\DoxyCodeLine{00061     \textcolor{comment}{/*-\/-\/-\/ 単位変換(mm -\/-\/> render\_pixel)render用単位にする -\/-\/-\/*/}}
\DoxyCodeLine{00062     rend\_vect = rend\_vect * ino::pixel\_per\_mm();}
\DoxyCodeLine{00063     \textcolor{comment}{/*-\/-\/-\/ 拡大縮小(移動回転しないで)のGeometryを反映させる -\/-\/-\/*/}}
\DoxyCodeLine{00064     rend\_vect = rend\_vect * sqrt(fabs(affine.det()));}
\DoxyCodeLine{00065     \textcolor{comment}{/*-\/-\/-\/ 方向は無視して長さを返す(プラス値) -\/-\/-\/*/}}
\DoxyCodeLine{00066     h\_maxlen = rend\_vect.x;}
\DoxyCodeLine{00067     v\_maxlen = rend\_vect.y;}
\DoxyCodeLine{00068   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classino__warp__hv_ac55389dbf2ded41668838c310c3a3237}\label{classino__warp__hv_ac55389dbf2ded41668838c310c3a3237}} 
\index{ino\_warp\_hv@{ino\_warp\_hv}!getMemoryRequirement@{getMemoryRequirement}}
\index{getMemoryRequirement@{getMemoryRequirement}!ino\_warp\_hv@{ino\_warp\_hv}}
\doxysubsubsection{\texorpdfstring{getMemoryRequirement()}{getMemoryRequirement()}}
{\footnotesize\ttfamily int ino\+\_\+warp\+\_\+hv\+::get\+Memory\+Requirement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Specifies the approximate size (in Mega\+Bytes) of the maximum allocation instance that this fx will need to perform in order to render the passed input. This method should be reimplemented in order to make the Toonz rendering process aware of the use of big raster memory chunks, at least. Observe that the passed tile geometry is implicitly {\itshape  already allocated \texorpdfstring{$<$}{<}\textbackslash{}i\texorpdfstring{$>$}{>} for the fx output. ~\newline
The default implementation returns 0, assuming that the passed implicit memory size is passed below in node computation without further allocation of resources. Fxs can reimplement this to -\/1 to explicitly disable the Toonz\textquotesingle{}s smart memory handling. ~\newline
 ~\newline
\begin{DoxyNote}{Note}
The rendering process ensures that the passed render settings are {\itshape handled} by the fx before this function is invoked -\/ do not waste code for it. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRaster\+Fx\+::memory\+Size}} and TRaster\+Fx\+::can\+Handle methods. 
\end{DoxySeeAlso}
}

Reimplemented from \mbox{\hyperlink{class_t_raster_fx_af8eb991c9756f4fb2e48d9f96cbacfba}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00091                                                                  \{}
\DoxyCodeLine{00092     \mbox{\hyperlink{class_t_rect_t}{TRectD}} bBox(rect);}
\DoxyCodeLine{00093     this-\/>get\_render\_enlarge(frame, info.m\_affine, bBox);}
\DoxyCodeLine{00094     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRasterFx::memorySize}}(bBox, info.m\_bpp);}
\DoxyCodeLine{00095   \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00560}{TRaster\+Fx\+::memory\+Size()}}.

\mbox{\Hypertarget{classino__warp__hv_a5542f386b8c804b8ba1bb095834ab705}\label{classino__warp__hv_a5542f386b8c804b8ba1bb095834ab705}} 
\index{ino\_warp\_hv@{ino\_warp\_hv}!transform@{transform}}
\index{transform@{transform}!ino\_warp\_hv@{ino\_warp\_hv}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}}
{\footnotesize\ttfamily void ino\+\_\+warp\+\_\+hv\+::transform (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{int}]{port,  }\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Output,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Output,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Input,  }\item[{\mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00098                                                         \{}
\DoxyCodeLine{00099     rectOnInput = rectOnOutput;}
\DoxyCodeLine{00100     infoOnInput = infoOnOutput;}
\DoxyCodeLine{00101     this-\/>get\_render\_enlarge(frame, infoOnOutput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}}, rectOnInput);}
\DoxyCodeLine{00102   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/stdfx/ino\+\_\+warp\+\_\+hv.\+cpp\end{DoxyCompactItemize}
