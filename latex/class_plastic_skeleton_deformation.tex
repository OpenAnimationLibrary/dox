\hypertarget{class_plastic_skeleton_deformation}{}\doxysection{Plastic\+Skeleton\+Deformation Class Reference}
\label{class_plastic_skeleton_deformation}\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}


{\ttfamily \#include $<$plasticskeletondeformation.\+h$>$}

Inheritance diagram for Plastic\+Skeleton\+Deformation\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_plastic_skeleton_deformation}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_plastic_skeleton_deformation_1_1_imp}{Imp}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{structtcg_1_1any__it}{tcg\+::any\+\_\+it}}$<$ int, int, void $\ast$ $>$\+::bidirectional \mbox{\hyperlink{class_plastic_skeleton_deformation_ae63da92f8001a3798c1044f0463435fb}{skel\+Id\+\_\+iterator}}
\item 
typedef \mbox{\hyperlink{structtcg_1_1any__it}{tcg\+::any\+\_\+it}}$<$ std\+::pair$<$ const\+QString $\ast$, \mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{Sk\+VD}} $\ast$ $>$, std\+::pair$<$ const\+QString $\ast$, \mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{Sk\+VD}} $\ast$ $>$, void $\ast$ $>$\+::bidirectional \mbox{\hyperlink{class_plastic_skeleton_deformation_aee963ee5b7410abffc091a67d81048bf}{vd\+\_\+iterator}}
\item 
typedef \mbox{\hyperlink{structtcg_1_1any__it}{tcg\+::any\+\_\+it}}$<$ std\+::pair$<$ int, int $>$, std\+::pair$<$ int, int $>$, void $\ast$ $>$\+::bidirectional \mbox{\hyperlink{class_plastic_skeleton_deformation_abb6682c48ab46dc90625a351c4d15ffe}{vx\+\_\+iterator}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_plastic_skeleton_deformation_a08ccb6ab61455a17749ddf6e48fde4be}{Plastic\+Skeleton\+Deformation}} ()
\begin{DoxyCompactList}\small\item\em Constructs an empty deformation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_plastic_skeleton_deformation_a2e8d7ace35075d98c90fe5298f3152d0}{Plastic\+Skeleton\+Deformation}} (const \mbox{\hyperlink{class_plastic_skeleton_deformation}{Plastic\+Skeleton\+Deformation}} \&other)
\begin{DoxyCompactList}\small\item\em Constructs a deformation {\itshape cloning} other\textquotesingle{}s skeletons. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_plastic_skeleton_deformation}{Plastic\+Skeleton\+Deformation}} \& \mbox{\hyperlink{class_plastic_skeleton_deformation_a3f31dcd5c742ab19c3d698dc57c371e5}{operator=}} (const \mbox{\hyperlink{class_plastic_skeleton_deformation}{Plastic\+Skeleton\+Deformation}} \&other)
\item 
bool \mbox{\hyperlink{class_plastic_skeleton_deformation_a8c52be809542df16efe20423b7820706}{empty}} () const
\item 
int \mbox{\hyperlink{class_plastic_skeleton_deformation_a6d560dab31b5751501790eb1cdb20115}{skeletons\+Count}} () const
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_ae8aa59959248514bf788cfa716d80c01}{attach}} (int skeleton\+Id, \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} $\ast$skeleton)
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_a9782eb7dfdd1f1d31f71a22488e1fd6f}{detach}} (int skeleton\+Id)
\begin{DoxyCompactList}\small\item\em Releases the skeleton associated to specified skeleton\+Id. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{Plastic\+SkeletonP}} \mbox{\hyperlink{class_plastic_skeleton_deformation_a7779c579cfa0aa331e7868346be58e7b}{skeleton}} (int skeleton\+Id) const
\item 
int \mbox{\hyperlink{class_plastic_skeleton_deformation_a492422a477077d74c1405cb9665acdf0}{skeleton\+Id}} (\mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} $\ast$skeleton) const
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_a3a03a8a742ba5427d9ae95af6e53926e}{skeleton\+Ids}} (\mbox{\hyperlink{classtcg_1_1any__iterator}{skel\+Id\+\_\+iterator}} \&begin, \mbox{\hyperlink{classtcg_1_1any__iterator}{skel\+Id\+\_\+iterator}} \&end) const
\begin{DoxyCompactList}\small\item\em Returns the ordered range containing the skeleton ids. \end{DoxyCompactList}\item 
TDouble\+ParamP \mbox{\hyperlink{class_plastic_skeleton_deformation_a2d2e90162bacd30096e66aa3c333f5f4}{skeleton\+Ids\+Param}} () const
\begin{DoxyCompactList}\small\item\em Returns the skeleton id by frame animatable parameter. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{Plastic\+SkeletonP}} \mbox{\hyperlink{class_plastic_skeleton_deformation_ad61e9787999f5d835bab843be9e7933a}{skeleton}} (double frame) const
\begin{DoxyCompactList}\small\item\em Returns the {\itshape active} skeleton by xsheet frame. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_plastic_skeleton_deformation_a5f53dc6062cf017d93035ba2691e8cfd}{skeleton\+Id}} (double frame) const
\begin{DoxyCompactList}\small\item\em Returns the {\itshape active} skeleton id by xsheet frame. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_plastic_skeleton_deformation_a5ed43c4bbbee0d3d43aaa4dcff3ba2ac}{vertex\+Deformations\+Count}} () const
\item 
\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{Sk\+VD}} $\ast$ \mbox{\hyperlink{class_plastic_skeleton_deformation_a0c73e75c7c1f5fd40ebdeaf3a20f80ad}{vertex\+Deformation}} (const QString \&vertex\+Name) const
\item 
\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{Sk\+VD}} $\ast$ \mbox{\hyperlink{class_plastic_skeleton_deformation_af316bbf3e139e4128eb078b8e8ac36a2}{vertex\+Deformation}} (int skel\+Id, int v) const
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_ae6135d6a5f6aef4b5eb303dbfbe7739b}{vertex\+Deformations}} (\mbox{\hyperlink{classtcg_1_1any__iterator}{vd\+\_\+iterator}} \&begin, \mbox{\hyperlink{classtcg_1_1any__iterator}{vd\+\_\+iterator}} \&end) const
\begin{DoxyCompactList}\small\item\em Returns the ordered range of vertex deformations. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_a962b5a336a2fbb8e90a878efa201b021}{vd\+Skeleton\+Vertices}} (const QString \&vertex\+Name, \mbox{\hyperlink{classtcg_1_1any__iterator}{vx\+\_\+iterator}} \&begin, \mbox{\hyperlink{classtcg_1_1any__iterator}{vx\+\_\+iterator}} \&end) const
\item 
int \mbox{\hyperlink{class_plastic_skeleton_deformation_a3bbda5631f0c03f98927101568abd663}{hook\+Number}} (const QString \&name) const
\item 
int \mbox{\hyperlink{class_plastic_skeleton_deformation_a21c8595585e893fefa0bfa5f02b519c3}{hook\+Number}} (int skel\+Id, int v) const
\item 
QString \mbox{\hyperlink{class_plastic_skeleton_deformation_a8473a58228bc894f5fd46c6da987b820}{vertex\+Name}} (int hook\+Number) const
\item 
int \mbox{\hyperlink{class_plastic_skeleton_deformation_ace51bc4018a14b4fa1c620eeb5a6c14c}{vertex\+Index}} (int hook\+Number, int skel\+Id) const
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_aa86025e49bce8099e0d7f209252da82b}{add\+Observer}} (\mbox{\hyperlink{class_t_param_observer}{TParam\+Observer}} $\ast$observer)
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_a2932f513b5a199e89c19b5c199bef60b}{remove\+Observer}} (\mbox{\hyperlink{class_t_param_observer}{TParam\+Observer}} $\ast$observer)
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_a7163df77e5656df8e54b0e2018379b83}{set\+Grammar}} (\mbox{\hyperlink{class_t_syntax_1_1_grammar}{TSyntax\+::\+Grammar}} $\ast$grammar)
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_ac99d2405b93e81e88ebe4aeafc57bb75}{get\+Keyframe\+At}} (double frame, \mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe}{Sk\+DKey}} \&keys\+Map) const
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_a28dc91209e2c231b3f49ecde700b557e}{set\+Keyframe}} (double frame)
\item 
bool \mbox{\hyperlink{class_plastic_skeleton_deformation_acd8eedc349f8fadc93a90c84267149e0}{set\+Keyframe}} (const \mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe}{Sk\+DKey}} \&keyframe)
\item 
bool \mbox{\hyperlink{class_plastic_skeleton_deformation_ac49dd4c7d9b507209d41ccce719f1924}{set\+Keyframe}} (const \mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe}{Sk\+DKey}} \&keyframe, double frame, double ease\+In=-\/1.\+0, double ease\+Out=-\/1.\+0)
\item 
bool \mbox{\hyperlink{class_plastic_skeleton_deformation_ac8de4e1099fdb1fe0e563bfcb0036ba2}{is\+Keyframe}} (double frame) const
\item 
bool \mbox{\hyperlink{class_plastic_skeleton_deformation_aa4ff551599cf76d9ffcabeff2015de81}{is\+Full\+Keyframe}} (double frame) const
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_a1a15ee9ff08dd9ffa1a7bb039536e919}{delete\+Keyframe}} (double frame)
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_ab9fce203c78682ee16ee86f8837a7493}{store\+Deformed\+Skeleton}} (int skeleton\+Id, double frame, \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} \&skeleton) const
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_a007fb3965f71913baeb17e3e354469f8}{update\+Position}} (const \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} \&original\+Skeleton, \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} \&deformed\+Skeleton, double frame, int v, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos)
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_af2bb72fe1ddd378c6844f21b9d652aaf}{update\+Angle}} (const \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} \&original\+Skeleton, \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} \&deformed\+Skeleton, double frame, int v, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_ad9896be9142aee4b6f6f7dc195b23a62}{save\+Data}} (\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&os) override
\item 
void \mbox{\hyperlink{class_plastic_skeleton_deformation_af323f3c61a827ff27454f6c6ba6a19b2}{load\+Data}} (\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&is) override
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_plastic_skeleton_deformation_a74e95b4fe9a70c366468dd57d6e44ff4}{Plastic\+Skeleton}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{class_plastic_skeleton_deformation}{Plastic\+Skeleton\+Deformation}} models the deformation of a group of \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} instances.

\begin{DoxyParagraph}{Description}

\end{DoxyParagraph}
A \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} instance is typically used to act as a deformable object -\/ in other words, it defines the \textquotesingle{}original\textquotesingle{} form of a hierarchy of vertices that can be manipulated interactively to obtain a \textquotesingle{}deformed\textquotesingle{} configuration. ~\newline
~\newline
 \mbox{\hyperlink{class_plastic_skeleton_deformation}{Plastic\+Skeleton\+Deformation}} represents a deformation of \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} objects, therefore acting primarily as a collection of \mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{Plastic\+Skeleton\+Vertex\+Deformation}} instances -\/ one per skeleton vertex. The collection is an associative container mapping a {\itshape  vertex name \texorpdfstring{$<$}{<}\textbackslash{}I\texorpdfstring{$>$}{>} to its deformation; using names as keys is a useful abstraction that allows vertex deformations data (eg keyframes) to be copied to skeleton deformations whose skeletons have a different internal configuration (ie vertex indices and such). ~\newline
~\newline
 Each vertex deformation also stores a unique {\itshape  hook number \texorpdfstring{$<$}{<}\textbackslash{}I\texorpdfstring{$>$}{>} that can be used during xsheet animation to link stage objects to a skeleton vertex.}}

{\itshape {\itshape \begin{DoxyParagraph}{The Skeletons group}

\end{DoxyParagraph}
The \mbox{\hyperlink{class_plastic_skeleton_deformation}{Plastic\+Skeleton\+Deformation}} implementation has been extended to work on multiple skeletons for one class instance. This class stores a map associating skeleton indices to the skeleton instances, that can be used to select a skeleton to be deformed with the deformation\textquotesingle{}s data. ~\newline
~\newline
 Vertices in different skeleton instances share the same animation if their name is the same. ~\newline
~\newline
 This class provides an animatable parameter that is intended to choose the {\itshape active} skeleton along an xsheet timeline. It is retrievable through the \mbox{\hyperlink{class_plastic_skeleton_deformation_a2d2e90162bacd30096e66aa3c333f5f4}{skeleton\+Ids\+Param()}} method.}}

{\itshape {\itshape \begin{DoxyParagraph}{Notable implementation details}

\end{DoxyParagraph}
In current implementation, a \mbox{\hyperlink{class_plastic_skeleton_deformation}{Plastic\+Skeleton\+Deformation}} keeps shared ownership of the skeletons it is attached to. It is therefore intended to be a {\itshape container} of said skeletons. }}

\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_ae63da92f8001a3798c1044f0463435fb}\label{class_plastic_skeleton_deformation_ae63da92f8001a3798c1044f0463435fb}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!skelId\_iterator@{skelId\_iterator}}
\index{skelId\_iterator@{skelId\_iterator}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{skelId\_iterator}{skelId\_iterator}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{structtcg_1_1any__it}{tcg\+::any\+\_\+it}}$<$int,int,void$\ast$$>$\+::bidirectional \mbox{\hyperlink{classtcg_1_1any__iterator}{Plastic\+Skeleton\+Deformation\+::skel\+Id\+\_\+iterator}}}

\mbox{\Hypertarget{class_plastic_skeleton_deformation_aee963ee5b7410abffc091a67d81048bf}\label{class_plastic_skeleton_deformation_aee963ee5b7410abffc091a67d81048bf}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!vd\_iterator@{vd\_iterator}}
\index{vd\_iterator@{vd\_iterator}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{vd\_iterator}{vd\_iterator}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{structtcg_1_1any__it}{tcg\+::any\+\_\+it}}$<$std\+::pair$<$const\+QString$\ast$,\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{Sk\+VD}}$\ast$$>$,std\+::pair$<$const\+QString$\ast$,\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{Sk\+VD}}$\ast$$>$,void$\ast$$>$\+::bidirectional \mbox{\hyperlink{classtcg_1_1any__iterator}{Plastic\+Skeleton\+Deformation\+::vd\+\_\+iterator}}}

\mbox{\Hypertarget{class_plastic_skeleton_deformation_abb6682c48ab46dc90625a351c4d15ffe}\label{class_plastic_skeleton_deformation_abb6682c48ab46dc90625a351c4d15ffe}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!vx\_iterator@{vx\_iterator}}
\index{vx\_iterator@{vx\_iterator}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{vx\_iterator}{vx\_iterator}}
{\footnotesize\ttfamily typedef \mbox{\hyperlink{structtcg_1_1any__it}{tcg\+::any\+\_\+it}}$<$std\+::pair$<$int,int$>$,std\+::pair$<$int,int$>$,void$\ast$$>$\+::bidirectional \mbox{\hyperlink{classtcg_1_1any__iterator}{Plastic\+Skeleton\+Deformation\+::vx\+\_\+iterator}}}



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a08ccb6ab61455a17749ddf6e48fde4be}\label{class_plastic_skeleton_deformation_a08ccb6ab61455a17749ddf6e48fde4be}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{PlasticSkeletonDeformation()}{PlasticSkeletonDeformation()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Plastic\+Skeleton\+Deformation\+::\+Plastic\+Skeleton\+Deformation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Constructs an empty deformation. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00599     : m\_imp(\textcolor{keyword}{new} Imp(\textcolor{keyword}{this})) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a2e8d7ace35075d98c90fe5298f3152d0}\label{class_plastic_skeleton_deformation_a2e8d7ace35075d98c90fe5298f3152d0}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{PlasticSkeletonDeformation()}{PlasticSkeletonDeformation()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Plastic\+Skeleton\+Deformation\+::\+Plastic\+Skeleton\+Deformation (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_plastic_skeleton_deformation}{Plastic\+Skeleton\+Deformation}} \&}]{other }\end{DoxyParamCaption})}



Constructs a deformation {\itshape cloning} other\textquotesingle{}s skeletons. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00605     : \mbox{\hyperlink{class_t_smart_object}{TSmartObject}}(m\_classCode), m\_imp(\textcolor{keyword}{new} Imp(\textcolor{keyword}{this}, *other.m\_imp)) \{}
\DoxyCodeLine{00606   \textcolor{comment}{// Register deformation}}
\DoxyCodeLine{00607   SkeletonSet::iterator st, sEnd(m\_imp-\/>m\_skeletons.end());}
\DoxyCodeLine{00608   \textcolor{keywordflow}{for} (st = m\_imp-\/>m\_skeletons.begin(); st != sEnd; ++st)}
\DoxyCodeLine{00609     st-\/>get\_right()-\/>addListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00610 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a958e167de5741d1561b70eb1bcbad0dd}\label{class_plastic_skeleton_deformation_a958e167de5741d1561b70eb1bcbad0dd}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!````~PlasticSkeletonDeformation@{$\sim$PlasticSkeletonDeformation}}
\index{````~PlasticSkeletonDeformation@{$\sim$PlasticSkeletonDeformation}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{$\sim$PlasticSkeletonDeformation()}{~PlasticSkeletonDeformation()}}
{\footnotesize\ttfamily Plastic\+Skeleton\+Deformation\+::$\sim$\+Plastic\+Skeleton\+Deformation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00614                                                         \{}
\DoxyCodeLine{00615   \textcolor{comment}{// Unregister deformation}}
\DoxyCodeLine{00616   SkeletonSet::iterator st, sEnd(m\_imp-\/>m\_skeletons.end());}
\DoxyCodeLine{00617   \textcolor{keywordflow}{for} (st = m\_imp-\/>m\_skeletons.begin(); st != sEnd; ++st)}
\DoxyCodeLine{00618     st-\/>get\_right()-\/>removeListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00619 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_aa86025e49bce8099e0d7f209252da82b}\label{class_plastic_skeleton_deformation_aa86025e49bce8099e0d7f209252da82b}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!addObserver@{addObserver}}
\index{addObserver@{addObserver}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{addObserver()}{addObserver()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::add\+Observer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_param_observer}{TParam\+Observer}} $\ast$}]{observer }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01037                                                                      \{}
\DoxyCodeLine{01038   m\_imp-\/>m\_observers.insert(observer);}
\DoxyCodeLine{01039 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_ae8aa59959248514bf788cfa716d80c01}\label{class_plastic_skeleton_deformation_ae8aa59959248514bf788cfa716d80c01}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!attach@{attach}}
\index{attach@{attach}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{attach()}{attach()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::attach (\begin{DoxyParamCaption}\item[{int}]{skeleton\+Id,  }\item[{\mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} $\ast$}]{skeleton }\end{DoxyParamCaption})}

Acquires {\itshape  shared ownership \texorpdfstring{$<$}{<}\textbackslash{}I\texorpdfstring{$>$}{>} of the specified skeleton, under given skeleton\+Id }
\begin{DoxyCode}{0}
\DoxyCodeLine{00678                                                                    \{}
\DoxyCodeLine{00679   m\_imp-\/>attach(skeletonId, skeleton);}
\DoxyCodeLine{00680 }
\DoxyCodeLine{00681   skeleton-\/>addListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00682 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01098}{load\+Data()}}.

\mbox{\Hypertarget{class_plastic_skeleton_deformation_a1a15ee9ff08dd9ffa1a7bb039536e919}\label{class_plastic_skeleton_deformation_a1a15ee9ff08dd9ffa1a7bb039536e919}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!deleteKeyframe@{deleteKeyframe}}
\index{deleteKeyframe@{deleteKeyframe}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{deleteKeyframe()}{deleteKeyframe()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::delete\+Keyframe (\begin{DoxyParamCaption}\item[{double}]{frame }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00907                                                             \{}
\DoxyCodeLine{00908   m\_imp-\/>m\_skelIdsParam-\/>deleteKeyframe(frame);}
\DoxyCodeLine{00909 }
\DoxyCodeLine{00910   SkVDSet::iterator dt, dEnd(m\_imp-\/>m\_vds.end());}
\DoxyCodeLine{00911   \textcolor{keywordflow}{for} (dt = m\_imp-\/>m\_vds.begin(); dt != dEnd; ++dt)}
\DoxyCodeLine{00912     dt-\/>m\_vd.deleteKeyframe(frame);}
\DoxyCodeLine{00913 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a9782eb7dfdd1f1d31f71a22488e1fd6f}\label{class_plastic_skeleton_deformation_a9782eb7dfdd1f1d31f71a22488e1fd6f}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!detach@{detach}}
\index{detach@{detach}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{detach()}{detach()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::detach (\begin{DoxyParamCaption}\item[{int}]{skeleton\+Id }\end{DoxyParamCaption})}



Releases the skeleton associated to specified skeleton\+Id. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00686                                                       \{}
\DoxyCodeLine{00687   SkeletonSet::left\_map::iterator st(m\_imp-\/>m\_skeletons.left.find(skeletonId));}
\DoxyCodeLine{00688   \textcolor{keywordflow}{if} (st != m\_imp-\/>m\_skeletons.left.end()) \{}
\DoxyCodeLine{00689     st-\/>second-\/>removeListener(\textcolor{keyword}{this});}
\DoxyCodeLine{00690     m\_imp-\/>detach(skeletonId);}
\DoxyCodeLine{00691   \}}
\DoxyCodeLine{00692 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a8c52be809542df16efe20423b7820706}\label{class_plastic_skeleton_deformation_a8c52be809542df16efe20423b7820706}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!empty@{empty}}
\index{empty@{empty}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{empty()}{empty()}}
{\footnotesize\ttfamily bool Plastic\+Skeleton\+Deformation\+::empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00635                                              \{}
\DoxyCodeLine{00636   \textcolor{keywordflow}{return} m\_imp-\/>m\_skeletons.empty();}
\DoxyCodeLine{00637 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_ac99d2405b93e81e88ebe4aeafc57bb75}\label{class_plastic_skeleton_deformation_ac99d2405b93e81e88ebe4aeafc57bb75}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!getKeyframeAt@{getKeyframeAt}}
\index{getKeyframeAt@{getKeyframeAt}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{getKeyframeAt()}{getKeyframeAt()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::get\+Keyframe\+At (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe}{Sk\+DKey}} \&}]{keys\+Map }\end{DoxyParamCaption}) const}

\begin{DoxyNote}{Note}
keys\+Map returned by argument to avoid map copies in case move semantics is not available 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00804                                                                        \{}
\DoxyCodeLine{00805   keyframe.m\_skelIdKeyframe = m\_imp-\/>m\_skelIdsParam-\/>getKeyframeAt(frame);}
\DoxyCodeLine{00806   keyframe.m\_vertexKeyframes.clear();}
\DoxyCodeLine{00807 }
\DoxyCodeLine{00808   SkVDSet::const\_iterator dt, dEnd(m\_imp-\/>m\_vds.end());}
\DoxyCodeLine{00809   \textcolor{keywordflow}{for} (dt = m\_imp-\/>m\_vds.begin(); dt != dEnd; ++dt)}
\DoxyCodeLine{00810     keyframe.m\_vertexKeyframes.insert(}
\DoxyCodeLine{00811         std::make\_pair(dt-\/>m\_name, dt-\/>m\_vd.getKeyframe(frame)));}
\DoxyCodeLine{00812 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00096}{Plastic\+Skeleton\+Deformation\+Keyframe\+::m\+\_\+skel\+Id\+Keyframe}}, and \mbox{\hyperlink{l00095}{Plastic\+Skeleton\+Deformation\+Keyframe\+::m\+\_\+vertex\+Keyframes}}.



Referenced by \mbox{\hyperlink{l00835}{TStage\+Object\+::get\+Keyframe()}}.

\mbox{\Hypertarget{class_plastic_skeleton_deformation_a3bbda5631f0c03f98927101568abd663}\label{class_plastic_skeleton_deformation_a3bbda5631f0c03f98927101568abd663}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!hookNumber@{hookNumber}}
\index{hookNumber@{hookNumber}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{hookNumber()}{hookNumber()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int Plastic\+Skeleton\+Deformation\+::hook\+Number (\begin{DoxyParamCaption}\item[{const QString \&}]{name }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00768                                                                     \{}
\DoxyCodeLine{00769   SkVDSet::const\_iterator nt(m\_imp-\/>m\_vds.find(name));}
\DoxyCodeLine{00770   \textcolor{keywordflow}{return} (nt == m\_imp-\/>m\_vds.end()) ? -\/1 : nt-\/>m\_hookNumber;}
\DoxyCodeLine{00771 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a21c8595585e893fefa0bfa5f02b519c3}\label{class_plastic_skeleton_deformation_a21c8595585e893fefa0bfa5f02b519c3}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!hookNumber@{hookNumber}}
\index{hookNumber@{hookNumber}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{hookNumber()}{hookNumber()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int Plastic\+Skeleton\+Deformation\+::hook\+Number (\begin{DoxyParamCaption}\item[{int}]{skel\+Id,  }\item[{int}]{v }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00775                                                                   \{}
\DoxyCodeLine{00776   \textcolor{keyword}{const} QString \&name = skeleton(skelId)-\/>vertex(v).name();}
\DoxyCodeLine{00777   \textcolor{keywordflow}{return} hookNumber(name);}
\DoxyCodeLine{00778 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_aa4ff551599cf76d9ffcabeff2015de81}\label{class_plastic_skeleton_deformation_aa4ff551599cf76d9ffcabeff2015de81}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!isFullKeyframe@{isFullKeyframe}}
\index{isFullKeyframe@{isFullKeyframe}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{isFullKeyframe()}{isFullKeyframe()}}
{\footnotesize\ttfamily bool Plastic\+Skeleton\+Deformation\+::is\+Full\+Keyframe (\begin{DoxyParamCaption}\item[{double}]{frame }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00895                                                                   \{}
\DoxyCodeLine{00896   \textcolor{keywordflow}{if} (!m\_imp-\/>m\_skelIdsParam-\/>isKeyframe(frame)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00897 }
\DoxyCodeLine{00898   SkVDSet::const\_iterator dt, dEnd(m\_imp-\/>m\_vds.end());}
\DoxyCodeLine{00899   \textcolor{keywordflow}{for} (dt = m\_imp-\/>m\_vds.begin(); dt != dEnd; ++dt)}
\DoxyCodeLine{00900     \textcolor{keywordflow}{if} (!dt-\/>m\_vd.isFullKeyframe(frame)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00901 }
\DoxyCodeLine{00902   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00903 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_ac8de4e1099fdb1fe0e563bfcb0036ba2}\label{class_plastic_skeleton_deformation_ac8de4e1099fdb1fe0e563bfcb0036ba2}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!isKeyframe@{isKeyframe}}
\index{isKeyframe@{isKeyframe}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{isKeyframe()}{isKeyframe()}}
{\footnotesize\ttfamily bool Plastic\+Skeleton\+Deformation\+::is\+Keyframe (\begin{DoxyParamCaption}\item[{double}]{frame }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00883                                                               \{}
\DoxyCodeLine{00884   \textcolor{keywordflow}{if} (m\_imp-\/>m\_skelIdsParam-\/>isKeyframe(frame)) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00885 }
\DoxyCodeLine{00886   SkVDSet::const\_iterator dt, dEnd(m\_imp-\/>m\_vds.end());}
\DoxyCodeLine{00887   \textcolor{keywordflow}{for} (dt = m\_imp-\/>m\_vds.begin(); dt != dEnd; ++dt)}
\DoxyCodeLine{00888     \textcolor{keywordflow}{if} (dt-\/>m\_vd.isKeyframe(frame)) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00889 }
\DoxyCodeLine{00890   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00891 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_af323f3c61a827ff27454f6c6ba6a19b2}\label{class_plastic_skeleton_deformation_af323f3c61a827ff27454f6c6ba6a19b2}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!loadData@{loadData}}
\index{loadData@{loadData}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{loadData()}{loadData()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::load\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&}]{is }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} This is a pure virtual function and must be overridden with a method
\end{DoxyVerb}
 that implements the object loading from a stream (i.\+e take the object\textquotesingle{}s features from a formatted data stream). For example the \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} class use his implementation to take the values of the parameters that characterizes a stage object as name, coordinates, etc... from a file. {\itshape is} is an input file stream 

Implements \mbox{\hyperlink{class_t_persist_a9e9d78431e843edb9299095af867a136}{TPersist}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01098                                                       \{}
\DoxyCodeLine{01099   \textcolor{keywordflow}{if} (is.\mbox{\hyperlink{class_t_i_stream_a61179493a9ae5d6b057d23195cec606b}{getVersion}}() < VersionNumber(1, 21)) \{}
\DoxyCodeLine{01100     loadData\_prerelease(is);}
\DoxyCodeLine{01101     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01102   \}}
\DoxyCodeLine{01103 }
\DoxyCodeLine{01104   \textcolor{keywordtype}{int} skeletonId;}
\DoxyCodeLine{01105   \mbox{\hyperlink{class_plastic_skeleton}{PlasticSkeleton}} *skeleton;}
\DoxyCodeLine{01106 }
\DoxyCodeLine{01107   std::string tagName;}
\DoxyCodeLine{01108   \textcolor{keywordflow}{while} (is.\mbox{\hyperlink{class_t_i_stream_a735640240402316f00c595134bfe6b4b}{openChild}}(tagName)) \{}
\DoxyCodeLine{01109     \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}VertexDeforms"{}}) \{}
\DoxyCodeLine{01110       VDKey vKey;}
\DoxyCodeLine{01111 }
\DoxyCodeLine{01112       \textcolor{keywordflow}{while} (is.\mbox{\hyperlink{class_t_i_stream_a735640240402316f00c595134bfe6b4b}{openChild}}(tagName)) \{}
\DoxyCodeLine{01113         \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}Name"{}})}
\DoxyCodeLine{01114           is >> vKey.m\_name, is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}();}
\DoxyCodeLine{01115         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}Hook"{}})}
\DoxyCodeLine{01116           is >> vKey.m\_hookNumber, is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}();}
\DoxyCodeLine{01117         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}VD"{}}) \{}
\DoxyCodeLine{01118           m\_imp-\/>touchParams(vKey.m\_vd);}
\DoxyCodeLine{01119           is >> vKey.m\_vd, is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}();}
\DoxyCodeLine{01120 }
\DoxyCodeLine{01121           m\_imp-\/>m\_vds.insert(vKey);}
\DoxyCodeLine{01122 }
\DoxyCodeLine{01123           vKey = VDKey();}
\DoxyCodeLine{01124         \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01125           is.\mbox{\hyperlink{class_t_i_stream_add912e4624a496f6dd1564cd63976dbb}{skipCurrentTag}}();}
\DoxyCodeLine{01126       \}}
\DoxyCodeLine{01127 }
\DoxyCodeLine{01128       is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}();}
\DoxyCodeLine{01129     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}SkelIdsParam"{}})}
\DoxyCodeLine{01130       is >> *m\_imp-\/>m\_skelIdsParam, is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}();}
\DoxyCodeLine{01131     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}Skeletons"{}}) \{}
\DoxyCodeLine{01132       \textcolor{keywordflow}{while} (is.\mbox{\hyperlink{class_t_i_stream_a735640240402316f00c595134bfe6b4b}{openChild}}(tagName)) \{}
\DoxyCodeLine{01133         \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}SkelId"{}})}
\DoxyCodeLine{01134           is >> skeletonId, is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}();}
\DoxyCodeLine{01135         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}Skeleton"{}}) \{}
\DoxyCodeLine{01136           skeleton = \textcolor{keyword}{new} \mbox{\hyperlink{class_plastic_skeleton}{PlasticSkeleton}};}
\DoxyCodeLine{01137           is >> *skeleton, is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}();}
\DoxyCodeLine{01138 }
\DoxyCodeLine{01139           \mbox{\hyperlink{class_plastic_skeleton_deformation_ae8aa59959248514bf788cfa716d80c01}{attach}}(skeletonId, skeleton);}
\DoxyCodeLine{01140           skeletonId = 0, skeleton = 0;}
\DoxyCodeLine{01141         \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01142           is.\mbox{\hyperlink{class_t_i_stream_add912e4624a496f6dd1564cd63976dbb}{skipCurrentTag}}();}
\DoxyCodeLine{01143       \}}
\DoxyCodeLine{01144 }
\DoxyCodeLine{01145       is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}();}
\DoxyCodeLine{01146     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01147       is.\mbox{\hyperlink{class_t_i_stream_add912e4624a496f6dd1564cd63976dbb}{skipCurrentTag}}();}
\DoxyCodeLine{01148   \}}
\DoxyCodeLine{01149 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00677}{attach()}}, \mbox{\hyperlink{l01273}{TIStream\+::get\+Version()}}, \mbox{\hyperlink{l01156}{TIStream\+::match\+End\+Tag()}}, \mbox{\hyperlink{l01231}{TIStream\+::open\+Child()}}, and \mbox{\hyperlink{l01283}{TIStream\+::skip\+Current\+Tag()}}.

\mbox{\Hypertarget{class_plastic_skeleton_deformation_a3f31dcd5c742ab19c3d698dc57c371e5}\label{class_plastic_skeleton_deformation_a3f31dcd5c742ab19c3d698dc57c371e5}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!operator=@{operator=}}
\index{operator=@{operator=}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_plastic_skeleton_deformation}{Plastic\+Skeleton\+Deformation}} \& Plastic\+Skeleton\+Deformation\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_plastic_skeleton_deformation}{Plastic\+Skeleton\+Deformation}} \&}]{other }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00624                                              \{}
\DoxyCodeLine{00625   \textcolor{comment}{// The meaning of operator= is DIFFERENT from that implemented in the copy}}
\DoxyCodeLine{00626   \textcolor{comment}{// constructor.}}
\DoxyCodeLine{00627   \textcolor{comment}{// Skeletons are NOT cloned.}}
\DoxyCodeLine{00628 }
\DoxyCodeLine{00629   *m\_imp = *other.m\_imp;}
\DoxyCodeLine{00630   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00631 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a2932f513b5a199e89c19b5c199bef60b}\label{class_plastic_skeleton_deformation_a2932f513b5a199e89c19b5c199bef60b}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!removeObserver@{removeObserver}}
\index{removeObserver@{removeObserver}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{removeObserver()}{removeObserver()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::remove\+Observer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_param_observer}{TParam\+Observer}} $\ast$}]{observer }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01043                                                                         \{}
\DoxyCodeLine{01044   m\_imp-\/>m\_observers.erase(observer);}
\DoxyCodeLine{01045 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_ad9896be9142aee4b6f6f7dc195b23a62}\label{class_plastic_skeleton_deformation_ad9896be9142aee4b6f6f7dc195b23a62}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!saveData@{saveData}}
\index{saveData@{saveData}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{saveData()}{saveData()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::save\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&}]{os }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} This is a pure virtual function and must be overridden with a method
\end{DoxyVerb}
 that implements the object saving to a data stream (i.\+e put the object\textquotesingle{}s features on a formatted data stream). For example the \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} class use his implementation to save the values of the parameters that characterizes a stage object as name, coordinates, etc... on a file {\itshape os} is an output file stream. 

Implements \mbox{\hyperlink{class_t_persist_afb991f7b26f14dbee1740ef036ff4e85}{TPersist}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01065                                                       \{}
\DoxyCodeLine{01066   \textcolor{comment}{// Save skeleton vertex deformations}}
\DoxyCodeLine{01067   os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}VertexDeforms"{}});  \textcolor{comment}{// These are saved *before* skeletons}}
\DoxyCodeLine{01068   \{                               \textcolor{comment}{// ON PURPOSE -\/ in loadData(), we'll}}
\DoxyCodeLine{01069     SkVDSet::iterator vdt,}
\DoxyCodeLine{01070         vdEnd(m\_imp-\/>m\_vds.end());  \textcolor{comment}{// attach() skeletons to a completely}}
\DoxyCodeLine{01071     \textcolor{keywordflow}{for} (vdt = m\_imp-\/>m\_vds.begin(); vdt != vdEnd;}
\DoxyCodeLine{01072          ++vdt)  \textcolor{comment}{// rebuilt set of vertex deformations.}}
\DoxyCodeLine{01073     \{}
\DoxyCodeLine{01074       os.\mbox{\hyperlink{class_t_o_stream_a9cd1359e6b21d85786708c7e680756d1}{child}}(\textcolor{stringliteral}{"{}Name"{}}) << vdt-\/>m\_name;}
\DoxyCodeLine{01075       os.\mbox{\hyperlink{class_t_o_stream_a9cd1359e6b21d85786708c7e680756d1}{child}}(\textcolor{stringliteral}{"{}Hook"{}}) << vdt-\/>m\_hookNumber;}
\DoxyCodeLine{01076       os.\mbox{\hyperlink{class_t_o_stream_a9cd1359e6b21d85786708c7e680756d1}{child}}(\textcolor{stringliteral}{"{}VD"{}}) << vdt-\/>m\_vd;}
\DoxyCodeLine{01077     \}}
\DoxyCodeLine{01078   \}}
\DoxyCodeLine{01079   os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{01080 }
\DoxyCodeLine{01081   \textcolor{comment}{// Save skeleton ids param}}
\DoxyCodeLine{01082   os.\mbox{\hyperlink{class_t_o_stream_a9cd1359e6b21d85786708c7e680756d1}{child}}(\textcolor{stringliteral}{"{}SkelIdsParam"{}}) << *m\_imp-\/>m\_skelIdsParam;}
\DoxyCodeLine{01083 }
\DoxyCodeLine{01084   \textcolor{comment}{// Save skeletons}}
\DoxyCodeLine{01085   os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}Skeletons"{}});}
\DoxyCodeLine{01086   \{}
\DoxyCodeLine{01087     SkeletonSet::iterator st, sEnd(m\_imp-\/>m\_skeletons.end());}
\DoxyCodeLine{01088     \textcolor{keywordflow}{for} (st = m\_imp-\/>m\_skeletons.begin(); st != sEnd; ++st) \{}
\DoxyCodeLine{01089       os.\mbox{\hyperlink{class_t_o_stream_a9cd1359e6b21d85786708c7e680756d1}{child}}(\textcolor{stringliteral}{"{}SkelId"{}}) << st-\/>get\_left();}
\DoxyCodeLine{01090       os.\mbox{\hyperlink{class_t_o_stream_a9cd1359e6b21d85786708c7e680756d1}{child}}(\textcolor{stringliteral}{"{}Skeleton"{}}) << *st-\/>get\_right();}
\DoxyCodeLine{01091     \}}
\DoxyCodeLine{01092   \}}
\DoxyCodeLine{01093   os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{01094 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00482}{TOStream\+::child()}}, \mbox{\hyperlink{l00520}{TOStream\+::close\+Child()}}, and \mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{TOStream\+::open\+Child()}}.

\mbox{\Hypertarget{class_plastic_skeleton_deformation_a7163df77e5656df8e54b0e2018379b83}\label{class_plastic_skeleton_deformation_a7163df77e5656df8e54b0e2018379b83}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!setGrammar@{setGrammar}}
\index{setGrammar@{setGrammar}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{setGrammar()}{setGrammar()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::set\+Grammar (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_syntax_1_1_grammar}{TSyntax\+::\+Grammar}} $\ast$}]{grammar }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01049                                                                    \{}
\DoxyCodeLine{01050   SkVDSet::iterator vdt, vdEnd(m\_imp-\/>m\_vds.end());}
\DoxyCodeLine{01051   \textcolor{keywordflow}{for} (vdt = m\_imp-\/>m\_vds.begin(); vdt != vdEnd; ++vdt) \{}
\DoxyCodeLine{01052     \mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{SkVD}} \&vd = vdt-\/>m\_vd;}
\DoxyCodeLine{01053 }
\DoxyCodeLine{01054     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c != SkVD::PARAMS\_COUNT; ++c)}
\DoxyCodeLine{01055       vd.m\_params[c]-\/>setGrammar(grammar);}
\DoxyCodeLine{01056   \}}
\DoxyCodeLine{01057 }
\DoxyCodeLine{01058   m\_imp-\/>m\_skelIdsParam-\/>setGrammar(grammar);}
\DoxyCodeLine{01059 }
\DoxyCodeLine{01060   m\_imp-\/>m\_grammar = grammar;}
\DoxyCodeLine{01061 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_acd8eedc349f8fadc93a90c84267149e0}\label{class_plastic_skeleton_deformation_acd8eedc349f8fadc93a90c84267149e0}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!setKeyframe@{setKeyframe}}
\index{setKeyframe@{setKeyframe}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{setKeyframe()}{setKeyframe()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily bool Plastic\+Skeleton\+Deformation\+::set\+Keyframe (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe}{Sk\+DKey}} \&}]{keyframe }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00825                                                                    \{}
\DoxyCodeLine{00826   \textcolor{keywordtype}{bool} keyWasSet = \textcolor{keyword}{false};}
\DoxyCodeLine{00827 }
\DoxyCodeLine{00828   \textcolor{keywordflow}{if} (keyframe.\mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe_abd0f912df5a0c8b7bd9752219867dd48}{m\_skelIdKeyframe}}.m\_isKeyframe) \{}
\DoxyCodeLine{00829     m\_imp-\/>m\_skelIdsParam-\/>setKeyframe(keyframe.\mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe_abd0f912df5a0c8b7bd9752219867dd48}{m\_skelIdKeyframe}});}
\DoxyCodeLine{00830     keyWasSet = \textcolor{keyword}{true};}
\DoxyCodeLine{00831   \}}
\DoxyCodeLine{00832 }
\DoxyCodeLine{00833   \textcolor{keyword}{const} std::map<QString, SkVD::Keyframe> \&vdKeys = keyframe.\mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe_a5fe8f2a27b60fa944208bdb1755b0a41}{m\_vertexKeyframes}};}
\DoxyCodeLine{00834 }
\DoxyCodeLine{00835   \textcolor{comment}{// Iterate the keyframe's vertex deformations}}
\DoxyCodeLine{00836   std::map<QString, SkVD::Keyframe>::const\_iterator kt, kEnd(vdKeys.end());}
\DoxyCodeLine{00837   \textcolor{keywordflow}{for} (kt = vdKeys.begin(); kt != vdKeys.end(); ++kt) \{}
\DoxyCodeLine{00838     \textcolor{comment}{// Search for a corresponding vertex deformation among stored ones}}
\DoxyCodeLine{00839     SkVDSet::iterator vdt = m\_imp-\/>m\_vds.find(kt-\/>first);}
\DoxyCodeLine{00840     \textcolor{keywordflow}{if} (vdt != m\_imp-\/>m\_vds.end()) \{}
\DoxyCodeLine{00841       \textcolor{comment}{// Set the corresponding keyframe}}
\DoxyCodeLine{00842       keyWasSet = vdt-\/>m\_vd.setKeyframe(kt-\/>second) || keyWasSet;}
\DoxyCodeLine{00843     \}}
\DoxyCodeLine{00844   \}}
\DoxyCodeLine{00845 }
\DoxyCodeLine{00846   \textcolor{keywordflow}{return} keyWasSet;}
\DoxyCodeLine{00847 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_ac49dd4c7d9b507209d41ccce719f1924}\label{class_plastic_skeleton_deformation_ac49dd4c7d9b507209d41ccce719f1924}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!setKeyframe@{setKeyframe}}
\index{setKeyframe@{setKeyframe}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{setKeyframe()}{setKeyframe()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily bool Plastic\+Skeleton\+Deformation\+::set\+Keyframe (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe}{Sk\+DKey}} \&}]{keyframe,  }\item[{double}]{frame,  }\item[{double}]{ease\+In = {\ttfamily -\/1.0},  }\item[{double}]{ease\+Out = {\ttfamily -\/1.0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00853                                                              \{}
\DoxyCodeLine{00854   \textcolor{keywordtype}{bool} keyWasSet = \textcolor{keyword}{false};}
\DoxyCodeLine{00855 }
\DoxyCodeLine{00856   \textcolor{keywordflow}{if} (keyframe.\mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe_abd0f912df5a0c8b7bd9752219867dd48}{m\_skelIdKeyframe}}.m\_isKeyframe) \{}
\DoxyCodeLine{00857     \mbox{\hyperlink{class_t_double_keyframe}{TDoubleKeyframe}} kf(keyframe.\mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe_abd0f912df5a0c8b7bd9752219867dd48}{m\_skelIdKeyframe}});}
\DoxyCodeLine{00858     kf.m\_frame = frame;}
\DoxyCodeLine{00859 }
\DoxyCodeLine{00860     m\_imp-\/>m\_skelIdsParam-\/>setKeyframe(kf);}
\DoxyCodeLine{00861     keyWasSet = \textcolor{keyword}{true};}
\DoxyCodeLine{00862   \}}
\DoxyCodeLine{00863 }
\DoxyCodeLine{00864   \textcolor{keyword}{const} std::map<QString, SkVD::Keyframe> \&vdKeys = keyframe.\mbox{\hyperlink{struct_plastic_skeleton_deformation_keyframe_a5fe8f2a27b60fa944208bdb1755b0a41}{m\_vertexKeyframes}};}
\DoxyCodeLine{00865 }
\DoxyCodeLine{00866   \textcolor{comment}{// Iterate the keyframe's vertex deformations}}
\DoxyCodeLine{00867   std::map<QString, SkVD::Keyframe>::const\_iterator kt, kEnd(vdKeys.end());}
\DoxyCodeLine{00868   \textcolor{keywordflow}{for} (kt = vdKeys.begin(); kt != vdKeys.end(); ++kt) \{}
\DoxyCodeLine{00869     \textcolor{comment}{// Search for a corresponding vertex deformation among stored ones}}
\DoxyCodeLine{00870     SkVDSet::iterator vdt = m\_imp-\/>m\_vds.find(kt-\/>first);}
\DoxyCodeLine{00871     \textcolor{keywordflow}{if} (vdt != m\_imp-\/>m\_vds.end()) \{}
\DoxyCodeLine{00872       \textcolor{comment}{// Set the corresponding keyframe}}
\DoxyCodeLine{00873       keyWasSet = vdt-\/>m\_vd.setKeyframe(kt-\/>second, frame, easeIn, easeOut) ||}
\DoxyCodeLine{00874                   keyWasSet;}
\DoxyCodeLine{00875     \}}
\DoxyCodeLine{00876   \}}
\DoxyCodeLine{00877 }
\DoxyCodeLine{00878   \textcolor{keywordflow}{return} keyWasSet;}
\DoxyCodeLine{00879 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a28dc91209e2c231b3f49ecde700b557e}\label{class_plastic_skeleton_deformation_a28dc91209e2c231b3f49ecde700b557e}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!setKeyframe@{setKeyframe}}
\index{setKeyframe@{setKeyframe}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{setKeyframe()}{setKeyframe()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::set\+Keyframe (\begin{DoxyParamCaption}\item[{double}]{frame }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00816                                                          \{}
\DoxyCodeLine{00817   m\_imp-\/>m\_skelIdsParam-\/>setKeyframe(frame);}
\DoxyCodeLine{00818 }
\DoxyCodeLine{00819   SkVDSet::iterator dt, dEnd(m\_imp-\/>m\_vds.end());}
\DoxyCodeLine{00820   \textcolor{keywordflow}{for} (dt = m\_imp-\/>m\_vds.begin(); dt != dEnd; ++dt) dt-\/>m\_vd.setKeyframe(frame);}
\DoxyCodeLine{00821 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_ad61e9787999f5d835bab843be9e7933a}\label{class_plastic_skeleton_deformation_ad61e9787999f5d835bab843be9e7933a}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!skeleton@{skeleton}}
\index{skeleton@{skeleton}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{skeleton()}{skeleton()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{Plastic\+SkeletonP}} Plastic\+Skeleton\+Deformation\+::skeleton (\begin{DoxyParamCaption}\item[{double}]{frame }\end{DoxyParamCaption}) const}



Returns the {\itshape active} skeleton by xsheet frame. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00665                                                                         \{}
\DoxyCodeLine{00666   \textcolor{keywordflow}{return} skeleton(skeletonId(frame));}
\DoxyCodeLine{00667 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a7779c579cfa0aa331e7868346be58e7b}\label{class_plastic_skeleton_deformation_a7779c579cfa0aa331e7868346be58e7b}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!skeleton@{skeleton}}
\index{skeleton@{skeleton}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{skeleton()}{skeleton()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{Plastic\+SkeletonP}} Plastic\+Skeleton\+Deformation\+::skeleton (\begin{DoxyParamCaption}\item[{int}]{skeleton\+Id }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00696                                                                           \{}
\DoxyCodeLine{00697   SkeletonSet::left\_map::const\_iterator st =}
\DoxyCodeLine{00698       m\_imp-\/>m\_skeletons.left.find(skeletonId);}
\DoxyCodeLine{00699   \textcolor{keywordflow}{return} (st == m\_imp-\/>m\_skeletons.left.end()) ? \mbox{\hyperlink{class_t_smart_pointer_t}{PlasticSkeletonP}}()}
\DoxyCodeLine{00700                                                : st-\/>second;}
\DoxyCodeLine{00701 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a5f53dc6062cf017d93035ba2691e8cfd}\label{class_plastic_skeleton_deformation_a5f53dc6062cf017d93035ba2691e8cfd}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!skeletonId@{skeletonId}}
\index{skeletonId@{skeletonId}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{skeletonId()}{skeletonId()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily int Plastic\+Skeleton\+Deformation\+::skeleton\+Id (\begin{DoxyParamCaption}\item[{double}]{frame }\end{DoxyParamCaption}) const}



Returns the {\itshape active} skeleton id by xsheet frame. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00671                                                              \{}
\DoxyCodeLine{00672   \textcolor{keywordflow}{return} m\_imp-\/>m\_skelIdsParam-\/>getValue(frame);}
\DoxyCodeLine{00673 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a492422a477077d74c1405cb9665acdf0}\label{class_plastic_skeleton_deformation_a492422a477077d74c1405cb9665acdf0}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!skeletonId@{skeletonId}}
\index{skeletonId@{skeletonId}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{skeletonId()}{skeletonId()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily int Plastic\+Skeleton\+Deformation\+::skeleton\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} $\ast$}]{skeleton }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00705                                                                           \{}
\DoxyCodeLine{00706   SkeletonSet::right\_map::const\_iterator st =}
\DoxyCodeLine{00707       m\_imp-\/>m\_skeletons.right.find(skeleton);}
\DoxyCodeLine{00708   \textcolor{keywordflow}{return} (st == m\_imp-\/>m\_skeletons.right.end())}
\DoxyCodeLine{00709              ? -\/(std::numeric\_limits<int>::max)()}
\DoxyCodeLine{00710              : st-\/>second;}
\DoxyCodeLine{00711 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a3a03a8a742ba5427d9ae95af6e53926e}\label{class_plastic_skeleton_deformation_a3a03a8a742ba5427d9ae95af6e53926e}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!skeletonIds@{skeletonIds}}
\index{skeletonIds@{skeletonIds}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{skeletonIds()}{skeletonIds()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::skeleton\+Ids (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtcg_1_1any__iterator}{skel\+Id\+\_\+iterator}} \&}]{begin,  }\item[{\mbox{\hyperlink{classtcg_1_1any__iterator}{skel\+Id\+\_\+iterator}} \&}]{end }\end{DoxyParamCaption}) const}



Returns the ordered range containing the skeleton ids. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00648                                                                          \{}
\DoxyCodeLine{00649   \textcolor{keyword}{auto} \textcolor{keyword}{const} f = [](\textcolor{keyword}{const} SkeletonSet::left\_map::value\_type \&val) \{}
\DoxyCodeLine{00650     \textcolor{keywordflow}{return} val.first;}
\DoxyCodeLine{00651   \};}
\DoxyCodeLine{00652 }
\DoxyCodeLine{00653   begin = boost::make\_transform\_iterator(m\_imp-\/>m\_skeletons.left.begin(), f);}
\DoxyCodeLine{00654   end   = boost::make\_transform\_iterator(m\_imp-\/>m\_skeletons.left.end(), f);}
\DoxyCodeLine{00655 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a2d2e90162bacd30096e66aa3c333f5f4}\label{class_plastic_skeleton_deformation_a2d2e90162bacd30096e66aa3c333f5f4}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!skeletonIdsParam@{skeletonIdsParam}}
\index{skeletonIdsParam@{skeletonIdsParam}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{skeletonIdsParam()}{skeletonIdsParam()}}
{\footnotesize\ttfamily TDouble\+ParamP Plastic\+Skeleton\+Deformation\+::skeleton\+Ids\+Param (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns the skeleton id by frame animatable parameter. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00659                                                                  \{}
\DoxyCodeLine{00660   \textcolor{keywordflow}{return} m\_imp-\/>m\_skelIdsParam;}
\DoxyCodeLine{00661 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a6d560dab31b5751501790eb1cdb20115}\label{class_plastic_skeleton_deformation_a6d560dab31b5751501790eb1cdb20115}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!skeletonsCount@{skeletonsCount}}
\index{skeletonsCount@{skeletonsCount}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{skeletonsCount()}{skeletonsCount()}}
{\footnotesize\ttfamily int Plastic\+Skeleton\+Deformation\+::skeletons\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00641                                                      \{}
\DoxyCodeLine{00642   \textcolor{keywordflow}{return} m\_imp-\/>m\_skeletons.size();}
\DoxyCodeLine{00643 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_ab9fce203c78682ee16ee86f8837a7493}\label{class_plastic_skeleton_deformation_ab9fce203c78682ee16ee86f8837a7493}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!storeDeformedSkeleton@{storeDeformedSkeleton}}
\index{storeDeformedSkeleton@{storeDeformedSkeleton}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{storeDeformedSkeleton()}{storeDeformedSkeleton()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::store\+Deformed\+Skeleton (\begin{DoxyParamCaption}\item[{int}]{skeleton\+Id,  }\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} \&}]{skeleton }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00918                                                                \{}
\DoxyCodeLine{00919   \textcolor{comment}{// Copy the un-\/deformed skeleton to the output one}}
\DoxyCodeLine{00920   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_smart_pointer_t}{PlasticSkeletonP}} \&origSkel = this-\/>skeleton(skelId);}
\DoxyCodeLine{00921   skeleton                         = origSkel ? *origSkel : \mbox{\hyperlink{class_plastic_skeleton}{PlasticSkeleton}}();}
\DoxyCodeLine{00922 }
\DoxyCodeLine{00923   \textcolor{comment}{// Update the skeleton to the specified frame}}
\DoxyCodeLine{00924   \textcolor{keywordflow}{if} (!skeleton.vertices().empty())}
\DoxyCodeLine{00925     m\_imp-\/>updateBranchPositions(*origSkel, skeleton, frame,}
\DoxyCodeLine{00926                                  skeleton.vertices().begin().m\_idx);}
\DoxyCodeLine{00927 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_af2bb72fe1ddd378c6844f21b9d652aaf}\label{class_plastic_skeleton_deformation_af2bb72fe1ddd378c6844f21b9d652aaf}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!updateAngle@{updateAngle}}
\index{updateAngle@{updateAngle}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{updateAngle()}{updateAngle()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::update\+Angle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} \&}]{original\+Skeleton,  }\item[{\mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} \&}]{deformed\+Skeleton,  }\item[{double}]{frame,  }\item[{int}]{v,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00965                                              \{}
\DoxyCodeLine{00966   \textcolor{keyword}{const} \mbox{\hyperlink{struct_plastic_skeleton_vertex}{PlasticSkeletonVertex}} \&vx = deformedSkeleton.vertex(v);}
\DoxyCodeLine{00967   \textcolor{keywordtype}{int} vParent                     = vx.parent();}
\DoxyCodeLine{00968 }
\DoxyCodeLine{00969   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_point_t}{TPointD}} \&vParentPos = deformedSkeleton.vertex(vParent).P();}
\DoxyCodeLine{00970 }
\DoxyCodeLine{00971   \textcolor{comment}{// No need to access the grandParent, we're making the diff against the old vx}}
\DoxyCodeLine{00972   \textcolor{comment}{// position}}
\DoxyCodeLine{00973 }
\DoxyCodeLine{00974   \mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{SkVD}} \&vd = m\_imp-\/>m\_vds.find(vx.name())-\/>m\_vd;}
\DoxyCodeLine{00975 }
\DoxyCodeLine{00976   \textcolor{keywordtype}{double} aDelta = \mbox{\hyperlink{namespacetcg_1_1point__ops_a566c0c25632bc324dfacf35b4fe13e0e}{tcg::point\_ops::angle}}(vx.P() -\/ vParentPos, pos -\/ vParentPos) *}
\DoxyCodeLine{00977                   M\_180\_PI,}
\DoxyCodeLine{00978          a = tcrop(vd.m\_params[\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation_ad86a0a561a86fe4fecafe375ce9b668aac7395a1a37dd81030a5a3c4b64c834f1}{SkVD::ANGLE}}]-\/>getValue(frame) + aDelta,}
\DoxyCodeLine{00979                    vx.m\_minAngle, vx.\mbox{\hyperlink{struct_plastic_skeleton_vertex_a366f36a145a9c8bd76fef7aaf1a3fd76}{m\_maxAngle}});}
\DoxyCodeLine{00980 }
\DoxyCodeLine{00981   vd.m\_params[\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation_ad86a0a561a86fe4fecafe375ce9b668aac7395a1a37dd81030a5a3c4b64c834f1}{SkVD::ANGLE}}]-\/>setValue(frame, a);}
\DoxyCodeLine{00982 }
\DoxyCodeLine{00983   m\_imp-\/>updateBranchPositions(originalSkeleton, deformedSkeleton, frame, v);}
\DoxyCodeLine{00984 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a007fb3965f71913baeb17e3e354469f8}\label{class_plastic_skeleton_deformation_a007fb3965f71913baeb17e3e354469f8}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!updatePosition@{updatePosition}}
\index{updatePosition@{updatePosition}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{updatePosition()}{updatePosition()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::update\+Position (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} \&}]{original\+Skeleton,  }\item[{\mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}} \&}]{deformed\+Skeleton,  }\item[{double}]{frame,  }\item[{int}]{v,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00933                                              \{}
\DoxyCodeLine{00934   \textcolor{keyword}{const} \mbox{\hyperlink{struct_plastic_skeleton_vertex}{PlasticSkeletonVertex}} \&vx = deformedSkeleton.vertex(v);}
\DoxyCodeLine{00935   \textcolor{keywordtype}{int} vParent                     = vx.parent();}
\DoxyCodeLine{00936 }
\DoxyCodeLine{00937   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_point_t}{TPointD}} \&vParentPos = deformedSkeleton.vertex(vParent).P();}
\DoxyCodeLine{00938   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_point_t}{TPointD}} \&vPos       = deformedSkeleton.vertex(v).P();}
\DoxyCodeLine{00939 }
\DoxyCodeLine{00940   \mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{SkVD}} \&vd = m\_imp-\/>m\_vds.find(vx.name())-\/>m\_vd;}
\DoxyCodeLine{00941 }
\DoxyCodeLine{00942   \textcolor{comment}{// NOTE: The following aDelta calculation should be done as a true difference}}
\DoxyCodeLine{00943   \textcolor{comment}{// -\/ this is still ok and spares}}
\DoxyCodeLine{00944   \textcolor{comment}{// access to v's grandParent...}}
\DoxyCodeLine{00945 }
\DoxyCodeLine{00946   \textcolor{keywordtype}{double} aDelta = \mbox{\hyperlink{namespacetcg_1_1point__ops_a566c0c25632bc324dfacf35b4fe13e0e}{tcg::point\_ops::angle}}(vPos -\/ vParentPos, pos -\/ vParentPos) *}
\DoxyCodeLine{00947                   M\_180\_PI,}
\DoxyCodeLine{00948          dDelta = tcg::point\_ops::dist(vParentPos, pos) -\/}
\DoxyCodeLine{00949                   tcg::point\_ops::dist(vParentPos, vPos),}
\DoxyCodeLine{00950 }
\DoxyCodeLine{00951          a = tcrop(vd.m\_params[\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation_ad86a0a561a86fe4fecafe375ce9b668aac7395a1a37dd81030a5a3c4b64c834f1}{SkVD::ANGLE}}]-\/>getValue(frame) + aDelta,}
\DoxyCodeLine{00952                    vx.m\_minAngle, vx.\mbox{\hyperlink{struct_plastic_skeleton_vertex_a366f36a145a9c8bd76fef7aaf1a3fd76}{m\_maxAngle}}),}
\DoxyCodeLine{00953          d = vd.m\_params[\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation_ad86a0a561a86fe4fecafe375ce9b668aaa8d13a6740a3949b4c3a70fea675c70b}{SkVD::DISTANCE}}]-\/>getValue(frame) + dDelta;}
\DoxyCodeLine{00954 }
\DoxyCodeLine{00955   vd.m\_params[\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation_ad86a0a561a86fe4fecafe375ce9b668aac7395a1a37dd81030a5a3c4b64c834f1}{SkVD::ANGLE}}]-\/>setValue(frame, a);}
\DoxyCodeLine{00956   vd.m\_params[\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation_ad86a0a561a86fe4fecafe375ce9b668aaa8d13a6740a3949b4c3a70fea675c70b}{SkVD::DISTANCE}}]-\/>setValue(frame, d);}
\DoxyCodeLine{00957 }
\DoxyCodeLine{00958   m\_imp-\/>updateBranchPositions(originalSkeleton, deformedSkeleton, frame, v);}
\DoxyCodeLine{00959 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a962b5a336a2fbb8e90a878efa201b021}\label{class_plastic_skeleton_deformation_a962b5a336a2fbb8e90a878efa201b021}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!vdSkeletonVertices@{vdSkeletonVertices}}
\index{vdSkeletonVertices@{vdSkeletonVertices}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{vdSkeletonVertices()}{vdSkeletonVertices()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::vd\+Skeleton\+Vertices (\begin{DoxyParamCaption}\item[{const QString \&}]{vertex\+Name,  }\item[{\mbox{\hyperlink{classtcg_1_1any__iterator}{vx\+\_\+iterator}} \&}]{begin,  }\item[{\mbox{\hyperlink{classtcg_1_1any__iterator}{vx\+\_\+iterator}} \&}]{end }\end{DoxyParamCaption}) const}

Returns the ordered range of skeleton vertices (at max one per skeleton id) associated to a vertex name 
\begin{DoxyCode}{0}
\DoxyCodeLine{00750                                                                             \{}
\DoxyCodeLine{00751   \textcolor{keyword}{auto} \textcolor{keyword}{const} f = [](\textcolor{keyword}{const} std::map<int, int>::value\_type \&val) \{}
\DoxyCodeLine{00752     \textcolor{keywordflow}{return} std::make\_pair(val.first, val.second);}
\DoxyCodeLine{00753   \};}
\DoxyCodeLine{00754 }
\DoxyCodeLine{00755   SkVDSet::const\_iterator nt(m\_imp-\/>m\_vds.find(vertexName));}
\DoxyCodeLine{00756 }
\DoxyCodeLine{00757   \textcolor{keywordflow}{if} (nt == m\_imp-\/>m\_vds.end()) \{}
\DoxyCodeLine{00758     begin = vx\_iterator();}
\DoxyCodeLine{00759     end   = vx\_iterator();}
\DoxyCodeLine{00760   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00761     begin = boost::make\_transform\_iterator(nt-\/>m\_vIndices.begin(), f);}
\DoxyCodeLine{00762     end   = boost::make\_transform\_iterator(nt-\/>m\_vIndices.end(), f);}
\DoxyCodeLine{00763   \}}
\DoxyCodeLine{00764 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01529}{Plastic\+Tool\+::on\+Property\+Changed()}}.

\mbox{\Hypertarget{class_plastic_skeleton_deformation_a0c73e75c7c1f5fd40ebdeaf3a20f80ad}\label{class_plastic_skeleton_deformation_a0c73e75c7c1f5fd40ebdeaf3a20f80ad}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!vertexDeformation@{vertexDeformation}}
\index{vertexDeformation@{vertexDeformation}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{vertexDeformation()}{vertexDeformation()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{Sk\+VD}} $\ast$ Plastic\+Skeleton\+Deformation\+::vertex\+Deformation (\begin{DoxyParamCaption}\item[{const QString \&}]{vertex\+Name }\end{DoxyParamCaption}) const}

Returns the vertex deformation associated to given vertex name. The returned pointer is {\itshape  owned by the deformation -\/ it must {\bfseries{not}} be deleted \texorpdfstring{$<$}{<}\textbackslash{}I\texorpdfstring{$>$}{>} }
\begin{DoxyCode}{0}
\DoxyCodeLine{00722                                  \{}
\DoxyCodeLine{00723   SkVDSet::const\_iterator vdt = m\_imp-\/>m\_vds.find(vxName);}
\DoxyCodeLine{00724   \textcolor{keywordflow}{return} (vdt == m\_imp-\/>m\_vds.end()) ? (\mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{SkVD}} *)0 : \&vdt-\/>m\_vd;}
\DoxyCodeLine{00725 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_af316bbf3e139e4128eb078b8e8ac36a2}\label{class_plastic_skeleton_deformation_af316bbf3e139e4128eb078b8e8ac36a2}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!vertexDeformation@{vertexDeformation}}
\index{vertexDeformation@{vertexDeformation}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{vertexDeformation()}{vertexDeformation()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_plastic_skeleton_vertex_deformation}{Sk\+VD}} $\ast$ Plastic\+Skeleton\+Deformation\+::vertex\+Deformation (\begin{DoxyParamCaption}\item[{int}]{skel\+Id,  }\item[{int}]{v }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00729                                                                            \{}
\DoxyCodeLine{00730   \textcolor{keyword}{const} QString \&name = skeleton(skelId)-\/>vertex(v).name();}
\DoxyCodeLine{00731   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_plastic_skeleton_deformation_a0c73e75c7c1f5fd40ebdeaf3a20f80ad}{vertexDeformation}}(name);}
\DoxyCodeLine{00732 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_ae6135d6a5f6aef4b5eb303dbfbe7739b}\label{class_plastic_skeleton_deformation_ae6135d6a5f6aef4b5eb303dbfbe7739b}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!vertexDeformations@{vertexDeformations}}
\index{vertexDeformations@{vertexDeformations}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{vertexDeformations()}{vertexDeformations()}}
{\footnotesize\ttfamily void Plastic\+Skeleton\+Deformation\+::vertex\+Deformations (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classtcg_1_1any__iterator}{vd\+\_\+iterator}} \&}]{begin,  }\item[{\mbox{\hyperlink{classtcg_1_1any__iterator}{vd\+\_\+iterator}} \&}]{end }\end{DoxyParamCaption}) const}



Returns the ordered range of vertex deformations. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00737                                                                             \{}
\DoxyCodeLine{00738   \textcolor{keyword}{auto} \textcolor{keyword}{const} f = [](\textcolor{keyword}{const} VDKey \&vdKey) \{}
\DoxyCodeLine{00739     \textcolor{keywordflow}{return} std::make\_pair(\&vdKey.m\_name, \&vdKey.m\_vd);}
\DoxyCodeLine{00740   \};}
\DoxyCodeLine{00741 }
\DoxyCodeLine{00742   begin = boost::make\_transform\_iterator(m\_imp-\/>m\_vds.begin(), f);}
\DoxyCodeLine{00743   end   = boost::make\_transform\_iterator(m\_imp-\/>m\_vds.end(), f);}
\DoxyCodeLine{00744 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a5ed43c4bbbee0d3d43aaa4dcff3ba2ac}\label{class_plastic_skeleton_deformation_a5ed43c4bbbee0d3d43aaa4dcff3ba2ac}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!vertexDeformationsCount@{vertexDeformationsCount}}
\index{vertexDeformationsCount@{vertexDeformationsCount}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{vertexDeformationsCount()}{vertexDeformationsCount()}}
{\footnotesize\ttfamily int Plastic\+Skeleton\+Deformation\+::vertex\+Deformations\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00715                                                               \{}
\DoxyCodeLine{00716   \textcolor{keywordflow}{return} m\_imp-\/>m\_vds.size();}
\DoxyCodeLine{00717 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_ace51bc4018a14b4fa1c620eeb5a6c14c}\label{class_plastic_skeleton_deformation_ace51bc4018a14b4fa1c620eeb5a6c14c}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!vertexIndex@{vertexIndex}}
\index{vertexIndex@{vertexIndex}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{vertexIndex()}{vertexIndex()}}
{\footnotesize\ttfamily int Plastic\+Skeleton\+Deformation\+::vertex\+Index (\begin{DoxyParamCaption}\item[{int}]{hook\+Number,  }\item[{int}]{skel\+Id }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00791                                                                             \{}
\DoxyCodeLine{00792   \textcolor{keyword}{const} SkVDByHookNumber \&vds = m\_imp-\/>m\_vds.get<\textcolor{keywordtype}{int}>();}
\DoxyCodeLine{00793 }
\DoxyCodeLine{00794   SkVDByHookNumber::const\_iterator ht(vds.find(hookNumber));}
\DoxyCodeLine{00795   \textcolor{keywordflow}{if} (ht == vds.end()) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00796 }
\DoxyCodeLine{00797   std::map<int, int>::const\_iterator st(ht-\/>m\_vIndices.find(skelId));}
\DoxyCodeLine{00798   \textcolor{keywordflow}{return} (st == ht-\/>m\_vIndices.end()) ? -\/1 : st-\/>second;}
\DoxyCodeLine{00799 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a8473a58228bc894f5fd46c6da987b820}\label{class_plastic_skeleton_deformation_a8473a58228bc894f5fd46c6da987b820}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!vertexName@{vertexName}}
\index{vertexName@{vertexName}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{vertexName()}{vertexName()}}
{\footnotesize\ttfamily QString Plastic\+Skeleton\+Deformation\+::vertex\+Name (\begin{DoxyParamCaption}\item[{int}]{hook\+Number }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00782                                                                    \{}
\DoxyCodeLine{00783   \textcolor{keyword}{const} SkVDByHookNumber \&vds = m\_imp-\/>m\_vds.get<\textcolor{keywordtype}{int}>();}
\DoxyCodeLine{00784 }
\DoxyCodeLine{00785   SkVDByHookNumber::const\_iterator ht(vds.find(hookNumber));}
\DoxyCodeLine{00786   \textcolor{keywordflow}{return} (ht == vds.end()) ? QString() : ht-\/>m\_name;}
\DoxyCodeLine{00787 \}}

\end{DoxyCode}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{class_plastic_skeleton_deformation_a74e95b4fe9a70c366468dd57d6e44ff4}\label{class_plastic_skeleton_deformation_a74e95b4fe9a70c366468dd57d6e44ff4}} 
\index{PlasticSkeletonDeformation@{PlasticSkeletonDeformation}!PlasticSkeleton@{PlasticSkeleton}}
\index{PlasticSkeleton@{PlasticSkeleton}!PlasticSkeletonDeformation@{PlasticSkeletonDeformation}}
\doxysubsubsection{\texorpdfstring{PlasticSkeleton}{PlasticSkeleton}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{class_plastic_skeleton}{Plastic\+Skeleton}}\hspace{0.3cm}{\ttfamily [friend]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/ext/plasticskeletondeformation.\+h\item 
E\+:/opentoonz/toonz/sources/tnzext/plasticskeletondeformation.\+cpp\end{DoxyCompactItemize}
