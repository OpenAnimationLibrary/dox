\hypertarget{classtcg_1_1_tri_mesh}{}\doxysection{tcg\+::Tri\+Mesh\texorpdfstring{$<$}{<} V, E, F \texorpdfstring{$>$}{>} Class Template Reference}
\label{classtcg_1_1_tri_mesh}\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
Inheritance diagram for tcg\+::Tri\+Mesh\texorpdfstring{$<$}{<} V, E, F \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classtcg_1_1_tri_mesh}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtcg_1_1_tri_mesh_a1854ae1142871175ddd2a8b98f22d40b}{Tri\+Mesh}} (int vertices\+Hint)
\item 
int \mbox{\hyperlink{classtcg_1_1_tri_mesh_a6a33517f83ec7040346db00466d42d75}{add\+Face}} (V \&v1, V \&v2, V \&v3)
\item 
int \mbox{\hyperlink{classtcg_1_1_tri_mesh_a1e46c00784f010c9a0b62307436bedc8}{add\+Face}} (int v1, int v2, int v3)
\item 
int \mbox{\hyperlink{classtcg_1_1_tri_mesh_a7c4b1a0b52c8c6eee860eb50c333a6a4}{other\+Face\+Vertex}} (int f, int e) const
\item 
int \mbox{\hyperlink{classtcg_1_1_tri_mesh_a6bab1d4b19c5dbae21fe945eebd8bad2}{other\+Face\+Vertex}} (int f, int v1, int v2) const
\item 
int \mbox{\hyperlink{classtcg_1_1_tri_mesh_a06077c1af855385aa75e8d5269ba1082}{other\+Face\+Edge}} (int f, int v) const
\item 
void \mbox{\hyperlink{classtcg_1_1_tri_mesh_ab5e83dae741307a7899b4e225fc78891}{face\+Vertices}} (int f, int \&v1, int \&v2, int \&v3) const
\item 
int \mbox{\hyperlink{classtcg_1_1_tri_mesh_ab1fce0e7773ccbb83c92699001cb195b}{swap\+Edge}} (int e)
\begin{DoxyCompactList}\small\item\em Swaps the specified edge in the {\itshape two} adjacent faces. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classtcg_1_1_tri_mesh_a2a51636bfbbfcd2ee2e75267c5aff845}{collapse\+Edge}} (int e)
\begin{DoxyCompactList}\small\item\em Collapses the specified edge. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classtcg_1_1_tri_mesh_adb2c5f6b7406dd888640b384eedada95}{split\+Edge}} (int e)
\begin{DoxyCompactList}\small\item\em Splits the specified edge, inserting a new vertex at the middle. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename V, typename E, typename F$>$\newline
class tcg\+::\+Tri\+Mesh$<$ V, E, F $>$}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_a6c907fd1e0936bb04b5ebc126951af79}\label{classtcg_1_1_tri_mesh_a6c907fd1e0936bb04b5ebc126951af79}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!TriMesh@{TriMesh}}
\index{TriMesh@{TriMesh}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{TriMesh()}{TriMesh()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
\mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::\+Tri\+Mesh (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00179 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_a1854ae1142871175ddd2a8b98f22d40b}\label{classtcg_1_1_tri_mesh_a1854ae1142871175ddd2a8b98f22d40b}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!TriMesh@{TriMesh}}
\index{TriMesh@{TriMesh}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{TriMesh()}{TriMesh()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
\mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::\+Tri\+Mesh (\begin{DoxyParamCaption}\item[{int}]{vertices\+Hint }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00189                                           \{}
\DoxyCodeLine{00190   \textcolor{keywordtype}{int} edgesHint = (3 * verticesHint) / 2;}
\DoxyCodeLine{00191 }
\DoxyCodeLine{00192   m\_vertices.reserve(verticesHint);}
\DoxyCodeLine{00193   m\_edges.reserve(edgesHint);}
\DoxyCodeLine{00194   m\_faces.reserve(edgesHint + 1);  \textcolor{comment}{// Since V -\/ E + F = 1 for planar graphs (no}}
\DoxyCodeLine{00195                                    \textcolor{comment}{// outer face), and vMin == 0}}
\DoxyCodeLine{00196 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_a678db2fb3c5c1a0be3db01601587296d}\label{classtcg_1_1_tri_mesh_a678db2fb3c5c1a0be3db01601587296d}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!````~TriMesh@{$\sim$TriMesh}}
\index{````~TriMesh@{$\sim$TriMesh}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{$\sim$TriMesh()}{~TriMesh()}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
\mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::$\sim$\mbox{\hyperlink{classtcg_1_1_tri_mesh}{Tri\+Mesh}} (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00181 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_a1e46c00784f010c9a0b62307436bedc8}\label{classtcg_1_1_tri_mesh_a1e46c00784f010c9a0b62307436bedc8}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!addFace@{addFace}}
\index{addFace@{addFace}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{addFace()}{addFace()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
int \mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::add\+Face (\begin{DoxyParamCaption}\item[{int}]{v1,  }\item[{int}]{v2,  }\item[{int}]{v3 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00184                                       \{}
\DoxyCodeLine{00185     \textcolor{keywordflow}{return} addFace(Mesh<V, E, F>::vertex(v1), Mesh<V, E, F>::vertex(v2),}
\DoxyCodeLine{00186                    Mesh<V, E, F>::vertex(v3));}
\DoxyCodeLine{00187   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_a6a33517f83ec7040346db00466d42d75}\label{classtcg_1_1_tri_mesh_a6a33517f83ec7040346db00466d42d75}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!addFace@{addFace}}
\index{addFace@{addFace}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{addFace()}{addFace()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
int \mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::add\+Face (\begin{DoxyParamCaption}\item[{V \&}]{v1,  }\item[{V \&}]{v2,  }\item[{V \&}]{v3 }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00201                                                     \{}
\DoxyCodeLine{00202   \textcolor{keywordtype}{int} v1 = vx1.getIndex(), v2 = vx2.getIndex(), v3 = vx3.getIndex();}
\DoxyCodeLine{00203 }
\DoxyCodeLine{00204   \textcolor{comment}{// Retrieve the edges having v1, v2, v3 in common}}
\DoxyCodeLine{00205   \textcolor{keywordtype}{int} e1, e2, e3;}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207   e1 = this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aaf3669dd3836f0a300a29a3dfe1c8ba2}{edgeInciding}}(v1, v2);}
\DoxyCodeLine{00208   e2 = this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aaf3669dd3836f0a300a29a3dfe1c8ba2}{edgeInciding}}(v2, v3);}
\DoxyCodeLine{00209   e3 = this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aaf3669dd3836f0a300a29a3dfe1c8ba2}{edgeInciding}}(v3, v1);}
\DoxyCodeLine{00210 }
\DoxyCodeLine{00211   \textcolor{keywordflow}{if} (e1 < 0) e1 = this-\/>addEdge(E(v1, v2));}
\DoxyCodeLine{00212   \textcolor{keywordflow}{if} (e2 < 0) e2 = this-\/>addEdge(E(v2, v3));}
\DoxyCodeLine{00213   \textcolor{keywordflow}{if} (e3 < 0) e3 = this-\/>addEdge(E(v3, v1));}
\DoxyCodeLine{00214 }
\DoxyCodeLine{00215   F fc;}
\DoxyCodeLine{00216   fc.addEdge(e1), fc.addEdge(e2), fc.addEdge(e3);}
\DoxyCodeLine{00217 }
\DoxyCodeLine{00218   \textcolor{keywordtype}{int} f = int(m\_faces.push\_back(fc));}
\DoxyCodeLine{00219 }
\DoxyCodeLine{00220   m\_faces[f].setIndex(f);}
\DoxyCodeLine{00221 }
\DoxyCodeLine{00222   E \&E1 = this-\/>edge(e1);}
\DoxyCodeLine{00223   E1.addFace(f);}
\DoxyCodeLine{00224   E \&E2 = this-\/>edge(e2);}
\DoxyCodeLine{00225   E2.addFace(f);}
\DoxyCodeLine{00226   E \&E3 = this-\/>edge(e3);}
\DoxyCodeLine{00227   E3.addFace(f);}
\DoxyCodeLine{00228 }
\DoxyCodeLine{00229   \textcolor{keywordflow}{return} f;}
\DoxyCodeLine{00230 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_a2a51636bfbbfcd2ee2e75267c5aff845}\label{classtcg_1_1_tri_mesh_a2a51636bfbbfcd2ee2e75267c5aff845}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!collapseEdge@{collapseEdge}}
\index{collapseEdge@{collapseEdge}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{collapseEdge()}{collapseEdge()}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
int \mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::collapse\+Edge (\begin{DoxyParamCaption}\item[{int}]{e }\end{DoxyParamCaption})}



Collapses the specified edge. 

Specifically, this function removes {\ttfamily edge\+Vertex(e, 1)} and redirects its edges to {\ttfamily edge\+Vertex(e, 0)}. One edge per adjacent face (other than {\ttfamily e}) will be removed (which can be thought as \textquotesingle{}merged\textquotesingle{} with the remaining one), and each adjacent face will be removed.

\begin{DoxyNote}{Note}
This function removes {\itshape at most} 1 vertex, 3 edges and 2 faces, total.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
The user is respondible for ensuring that every vertex adjacent to {\itshape both} the collapsed edge\textquotesingle{}s endpoints is {\itshape also} adjacent to one of the edge\textquotesingle{}s {\itshape faces}. If not, the output configuration would be ill-\/formed. This function will {\itshape assert} in this case, and result in {\bfseries{undefined behavior}}.
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}
The remaining vertex index -\/ specifically, {\ttfamily edge\+Vertex(e, 0)}. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00311                                         \{}
\DoxyCodeLine{00312   E \&ed = this-\/>edge(e);}
\DoxyCodeLine{00313 }
\DoxyCodeLine{00314   \textcolor{comment}{// First, retrieve ed's adjacent vertices}}
\DoxyCodeLine{00315   \textcolor{keywordtype}{int} vKeep = ed.vertex(0), vDelete = ed.vertex(1);}
\DoxyCodeLine{00316   V \&vxKeep = this-\/>vertex(vKeep), \&vxDelete = this-\/>vertex(vDelete);}
\DoxyCodeLine{00317 }
\DoxyCodeLine{00318   \textcolor{comment}{// Then, retrieve the 2 vertices not belonging to e in the adjacent faces}}
\DoxyCodeLine{00319   \textcolor{keywordtype}{int} f, fCount = ed.facesCount();}
\DoxyCodeLine{00320   \textcolor{keywordtype}{int} otherV[2];}
\DoxyCodeLine{00321 }
\DoxyCodeLine{00322   \textcolor{keywordflow}{for} (f = 0; f != fCount; ++f) otherV[f] = otherFaceVertex(ed.face(f), e);}
\DoxyCodeLine{00323 }
\DoxyCodeLine{00324   \textcolor{comment}{// Remove e}}
\DoxyCodeLine{00325   this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aac3b2a0d2edea64350a5740a179e0aa4}{removeEdge}}(e);}
\DoxyCodeLine{00326 }
\DoxyCodeLine{00327   \textcolor{comment}{// Merge edges inciding vDelete and otherV with the corresponding inciding}}
\DoxyCodeLine{00328   \textcolor{comment}{// vKeep and otherV}}
\DoxyCodeLine{00329   \textcolor{keywordflow}{for} (f = 0; f != fCount; ++f) \{}
\DoxyCodeLine{00330     \textcolor{keywordtype}{int} srcE = this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aaf3669dd3836f0a300a29a3dfe1c8ba2}{edgeInciding}}(vDelete, otherV[f]),}
\DoxyCodeLine{00331         dstE = this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aaf3669dd3836f0a300a29a3dfe1c8ba2}{edgeInciding}}(vKeep, otherV[f]);}
\DoxyCodeLine{00332 }
\DoxyCodeLine{00333     E \&srcEd = this-\/>edge(srcE), \&dstEd = this-\/>edge(dstE);}
\DoxyCodeLine{00334 }
\DoxyCodeLine{00335     \textcolor{keyword}{typename} edge\_traits<E>::faces\_iterator ft = srcEd.facesBegin();}
\DoxyCodeLine{00336     \textcolor{keywordflow}{while} (ft != srcEd.facesEnd())  \textcolor{comment}{// current iterator will be erased}}
\DoxyCodeLine{00337     \{}
\DoxyCodeLine{00338       F \&fc = this-\/>face(*ft);}
\DoxyCodeLine{00339 }
\DoxyCodeLine{00340       (fc.edge(0) == srcE)}
\DoxyCodeLine{00341           ? fc.setEdge(0, dstE)}
\DoxyCodeLine{00342           : (fc.edge(1) == srcE) ? fc.setEdge(1, dstE) : fc.setEdge(2, dstE);}
\DoxyCodeLine{00343 }
\DoxyCodeLine{00344       dstEd.addFace(*ft);}
\DoxyCodeLine{00345       ft = srcEd.eraseFace(ft);  \textcolor{comment}{// here}}
\DoxyCodeLine{00346     \}}
\DoxyCodeLine{00347 }
\DoxyCodeLine{00348     this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aac3b2a0d2edea64350a5740a179e0aa4}{removeEdge}}(srcE);}
\DoxyCodeLine{00349   \}}
\DoxyCodeLine{00350 }
\DoxyCodeLine{00351   \textcolor{comment}{// Move further edges adjacent to vDelete to vKeep}}
\DoxyCodeLine{00352   \textcolor{keyword}{typename} vertex\_traits<V>::edges\_iterator et = vxDelete.edgesBegin();}
\DoxyCodeLine{00353   \textcolor{keywordflow}{while} (et != vxDelete.edgesEnd())  \textcolor{comment}{// current iterator will be erased}}
\DoxyCodeLine{00354   \{}
\DoxyCodeLine{00355     E \&ed = this-\/>edge(*et);}
\DoxyCodeLine{00356 }
\DoxyCodeLine{00357 \textcolor{comment}{// Ensure that there is no remaining edge which would be duplicated}}
\DoxyCodeLine{00358 \textcolor{comment}{// after vDelete and vKeep merge}}
\DoxyCodeLine{00359 \textcolor{comment}{/* FIXME: edgeInciding がないと言われるのでとりあえず省略 */}}
\DoxyCodeLine{00360 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{00361     assert(\textcolor{stringliteral}{"{}Detected vertex adjacent to collapsed edge's endpoints, but not to its faces."{}} \&\&}
\DoxyCodeLine{00362            \mbox{\hyperlink{classtcg_1_1_mesh_aaf3669dd3836f0a300a29a3dfe1c8ba2}{edgeInciding}}(ed.otherVertex(vDelete), vKeep) < 0);}
\DoxyCodeLine{00363 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00364     (ed.vertex(0) == vDelete) ? ed.setVertex(0, vKeep) : ed.setVertex(1, vKeep);}
\DoxyCodeLine{00365 }
\DoxyCodeLine{00366     vxKeep.addEdge(*et);}
\DoxyCodeLine{00367     et = vxDelete.eraseEdge(et);  \textcolor{comment}{// here}}
\DoxyCodeLine{00368   \}}
\DoxyCodeLine{00369 }
\DoxyCodeLine{00370   \textcolor{comment}{// Finally, update vKeep's position and remove vDelete}}
\DoxyCodeLine{00371   vxKeep.P() = 0.5 * (vxKeep.P() + vxDelete.P());}
\DoxyCodeLine{00372   m\_vertices.erase(vDelete);}
\DoxyCodeLine{00373 }
\DoxyCodeLine{00374   \textcolor{keywordflow}{return} vKeep;}
\DoxyCodeLine{00375 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_ab5e83dae741307a7899b4e225fc78891}\label{classtcg_1_1_tri_mesh_ab5e83dae741307a7899b4e225fc78891}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!faceVertices@{faceVertices}}
\index{faceVertices@{faceVertices}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{faceVertices()}{faceVertices()}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
void \mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::face\+Vertices (\begin{DoxyParamCaption}\item[{int}]{f,  }\item[{int \&}]{v1,  }\item[{int \&}]{v2,  }\item[{int \&}]{v3 }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00196                                                             \{}
\DoxyCodeLine{00197     \textcolor{keyword}{const} E \&ed = Mesh<V, E, F>::edge(Mesh<V, E, F>::face(f).edge(0));}
\DoxyCodeLine{00198     v1          = ed.vertex(0);}
\DoxyCodeLine{00199     v2          = ed.vertex(1);}
\DoxyCodeLine{00200     v3          = otherFaceVertex(f, ed.getIndex());}
\DoxyCodeLine{00201   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_a06077c1af855385aa75e8d5269ba1082}\label{classtcg_1_1_tri_mesh_a06077c1af855385aa75e8d5269ba1082}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!otherFaceEdge@{otherFaceEdge}}
\index{otherFaceEdge@{otherFaceEdge}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{otherFaceEdge()}{otherFaceEdge()}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
int \mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::other\+Face\+Edge (\begin{DoxyParamCaption}\item[{int}]{f,  }\item[{int}]{v }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00248                                                       \{}
\DoxyCodeLine{00249   \textcolor{keyword}{const} F \&face = Mesh<V, E, F>::face(f);}
\DoxyCodeLine{00250 }
\DoxyCodeLine{00251   \{}
\DoxyCodeLine{00252     \textcolor{keyword}{const} E \&ed = this-\/>edge(face.edge(0));}
\DoxyCodeLine{00253     \textcolor{keywordflow}{if} (ed.vertex(0) != v \&\& ed.vertex(1) != v) \textcolor{keywordflow}{return} face.edge(0);}
\DoxyCodeLine{00254   \}}
\DoxyCodeLine{00255 }
\DoxyCodeLine{00256   \{}
\DoxyCodeLine{00257     \textcolor{keyword}{const} E \&ed = this-\/>edge(face.edge(1));}
\DoxyCodeLine{00258     \textcolor{keywordflow}{if} (ed.vertex(0) != v \&\& ed.vertex(1) != v) \textcolor{keywordflow}{return} face.edge(1);}
\DoxyCodeLine{00259   \}}
\DoxyCodeLine{00260 }
\DoxyCodeLine{00261   \textcolor{keywordflow}{return} face.edge(2);}
\DoxyCodeLine{00262 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_a7c4b1a0b52c8c6eee860eb50c333a6a4}\label{classtcg_1_1_tri_mesh_a7c4b1a0b52c8c6eee860eb50c333a6a4}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!otherFaceVertex@{otherFaceVertex}}
\index{otherFaceVertex@{otherFaceVertex}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{otherFaceVertex()}{otherFaceVertex()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
int \mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::other\+Face\+Vertex (\begin{DoxyParamCaption}\item[{int}]{f,  }\item[{int}]{e }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00235                                                         \{}
\DoxyCodeLine{00236   \textcolor{keyword}{const} F \&face = Mesh<V, E, F>::face(f);}
\DoxyCodeLine{00237   \textcolor{keyword}{const} E \&otherEdge =}
\DoxyCodeLine{00238       face.edge(0) == e ? this-\/>edge(face.edge(1)) : this-\/>edge(face.edge(0));}
\DoxyCodeLine{00239 }
\DoxyCodeLine{00240   \textcolor{keywordtype}{int} v1 = this-\/>edge(e).vertex(0), v2 = this-\/>edge(e).vertex(1),}
\DoxyCodeLine{00241       v3 = otherEdge.otherVertex(v1);}
\DoxyCodeLine{00242   \textcolor{keywordflow}{return} (v3 == v2) ? otherEdge.otherVertex(v2) : v3;}
\DoxyCodeLine{00243 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_a6bab1d4b19c5dbae21fe945eebd8bad2}\label{classtcg_1_1_tri_mesh_a6bab1d4b19c5dbae21fe945eebd8bad2}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!otherFaceVertex@{otherFaceVertex}}
\index{otherFaceVertex@{otherFaceVertex}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{otherFaceVertex()}{otherFaceVertex()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
int \mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::other\+Face\+Vertex (\begin{DoxyParamCaption}\item[{int}]{f,  }\item[{int}]{v1,  }\item[{int}]{v2 }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00190                                                    \{}
\DoxyCodeLine{00191     \textcolor{keywordflow}{return} otherFaceVertex(f, \mbox{\hyperlink{classtcg_1_1_mesh_aaf3669dd3836f0a300a29a3dfe1c8ba2}{Mesh<V, E, F>::edgeInciding}}(v1, v2));}
\DoxyCodeLine{00192   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_adb2c5f6b7406dd888640b384eedada95}\label{classtcg_1_1_tri_mesh_adb2c5f6b7406dd888640b384eedada95}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!splitEdge@{splitEdge}}
\index{splitEdge@{splitEdge}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{splitEdge()}{splitEdge()}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
int \mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::split\+Edge (\begin{DoxyParamCaption}\item[{int}]{e }\end{DoxyParamCaption})}



Splits the specified edge, inserting a new vertex at the middle. 

This function inserts a new vertex at the midpoint of the specified edge, and splits any adjacent face in two.

\begin{DoxyReturn}{Returns}
The inserted vertex index. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00380                                      \{}
\DoxyCodeLine{00381   E \&ed = this-\/>edge(e);}
\DoxyCodeLine{00382 }
\DoxyCodeLine{00383   \textcolor{comment}{// Build a new vertex on the middle of e}}
\DoxyCodeLine{00384   \textcolor{keywordtype}{int} v1 = ed.vertex(0), v2 = ed.vertex(1);}
\DoxyCodeLine{00385 }
\DoxyCodeLine{00386   V \&vx1 = this-\/>vertex(v1), \&vx2 = this-\/>vertex(v2);}
\DoxyCodeLine{00387   V v(0.5 * (vx1.P() + vx2.P()));}
\DoxyCodeLine{00388 }
\DoxyCodeLine{00389   \textcolor{keywordtype}{int} vIdx = this-\/>addVertex(v);}
\DoxyCodeLine{00390 }
\DoxyCodeLine{00391   \textcolor{comment}{// Retrieve opposite vertices}}
\DoxyCodeLine{00392   \textcolor{keywordtype}{int} otherV[2];  \textcolor{comment}{// NOTE: If ever extended to support edges with}}
\DoxyCodeLine{00393   \textcolor{keywordtype}{int} f,}
\DoxyCodeLine{00394       fCount =}
\DoxyCodeLine{00395           ed.facesCount();  \textcolor{comment}{//       MORE than 2 adjacent faces, the new faces}}
\DoxyCodeLine{00396   \textcolor{comment}{//       should be inserted BEFORE removing the split}}
\DoxyCodeLine{00397   \textcolor{keywordflow}{for} (f      = 0; f != fCount; ++f)  \textcolor{comment}{//       edge.}}
\DoxyCodeLine{00398     otherV[f] = otherFaceVertex(ed.face(f), e);}
\DoxyCodeLine{00399 }
\DoxyCodeLine{00400   \textcolor{comment}{// Remove e}}
\DoxyCodeLine{00401   this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aac3b2a0d2edea64350a5740a179e0aa4}{removeEdge}}(e);}
\DoxyCodeLine{00402 }
\DoxyCodeLine{00403   \textcolor{comment}{// Add the new edges}}
\DoxyCodeLine{00404   this-\/>addEdge(E(v1, vIdx));}
\DoxyCodeLine{00405   this-\/>addEdge(E(vIdx, v2));}
\DoxyCodeLine{00406 }
\DoxyCodeLine{00407   \textcolor{comment}{// Add the new faces}}
\DoxyCodeLine{00408   \textcolor{keywordflow}{for} (f = 0; f != fCount; ++f)}
\DoxyCodeLine{00409     addFace(v1, vIdx, otherV[f]), addFace(vIdx, v2, otherV[f]);}
\DoxyCodeLine{00410 }
\DoxyCodeLine{00411   \textcolor{keywordflow}{return} vIdx;}
\DoxyCodeLine{00412 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1_tri_mesh_ab1fce0e7773ccbb83c92699001cb195b}\label{classtcg_1_1_tri_mesh_ab1fce0e7773ccbb83c92699001cb195b}} 
\index{tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}!swapEdge@{swapEdge}}
\index{swapEdge@{swapEdge}!tcg::TriMesh$<$ V, E, F $>$@{tcg::TriMesh$<$ V, E, F $>$}}
\doxysubsubsection{\texorpdfstring{swapEdge()}{swapEdge()}}
{\footnotesize\ttfamily template$<$typename V , typename E , typename F $>$ \\
int \mbox{\hyperlink{classtcg_1_1_tri_mesh}{tcg\+::\+Tri\+Mesh}}$<$ V, E, F $>$\+::swap\+Edge (\begin{DoxyParamCaption}\item[{int}]{e }\end{DoxyParamCaption})}



Swaps the specified edge in the {\itshape two} adjacent faces. 

This function selects an edge with {\itshape two} adjacent faces, and swaps its endpoints with their other\+Face\+Vertex().

\begin{DoxyRemark}{Remarks}
This function is idempotent -\/ swap\+Edge(swap\+Edge(e)) has no effect on the mesh (assuming swap\+Edge(e) is not {\ttfamily -\/1}). In particular, indices should remain the same.
\end{DoxyRemark}
\begin{DoxyNote}{Note}
In current implementation, the result is the {\itshape very same} input edge index.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
The swapped edge, or {\ttfamily -\/1} if the supplied edge did not have {\itshape two} adjacent faces. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00267                                     \{}
\DoxyCodeLine{00268   E \&ed = this-\/>edge(e);}
\DoxyCodeLine{00269 }
\DoxyCodeLine{00270   \textcolor{keywordflow}{if} (ed.facesCount() < 2) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00271 }
\DoxyCodeLine{00272   \textcolor{keywordtype}{int} f1 = ed.face(0), f2 = ed.face(1);}
\DoxyCodeLine{00273 }
\DoxyCodeLine{00274   \textcolor{comment}{// Retrieve the 2 vertices not belonging to e in the adjacent faces}}
\DoxyCodeLine{00275   \textcolor{keywordtype}{int} v1 = ed.vertex(0), v2 = ed.vertex(1);}
\DoxyCodeLine{00276   \textcolor{keywordtype}{int} v3 = otherFaceVertex(f1, e), v4 = otherFaceVertex(f2, e);}
\DoxyCodeLine{00277 }
\DoxyCodeLine{00278   assert(this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aaf3669dd3836f0a300a29a3dfe1c8ba2}{edgeInciding}}(v3, v4) < 0);}
\DoxyCodeLine{00279 }
\DoxyCodeLine{00280   \textcolor{comment}{// Remove e}}
\DoxyCodeLine{00281   this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aac3b2a0d2edea64350a5740a179e0aa4}{removeEdge}}(e);}
\DoxyCodeLine{00282 }
\DoxyCodeLine{00283   \textcolor{comment}{// Insert the new faces}}
\DoxyCodeLine{00284   addFace(v1, v3, v4);  \textcolor{comment}{// Inserts edge E(v3, v4)}}
\DoxyCodeLine{00285   addFace(v2, v4, v3);}
\DoxyCodeLine{00286 }
\DoxyCodeLine{00287   \textcolor{keywordflow}{return} this-\/>\mbox{\hyperlink{classtcg_1_1_mesh_aaf3669dd3836f0a300a29a3dfe1c8ba2}{edgeInciding}}(v3, v4);}
\DoxyCodeLine{00288 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tcg/mesh.\+h\item 
E\+:/opentoonz/toonz/sources/include/tcg/hpp/mesh.\+hpp\end{DoxyCompactItemize}
