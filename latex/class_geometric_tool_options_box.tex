\hypertarget{class_geometric_tool_options_box}{}\doxysection{Geometric\+Tool\+Options\+Box Class Reference}
\label{class_geometric_tool_options_box}\index{GeometricToolOptionsBox@{GeometricToolOptionsBox}}
Inheritance diagram for Geometric\+Tool\+Options\+Box\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_geometric_tool_options_box}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_geometric_tool_options_box_a9dd901bf3b2388b98f12f6a0fc0e9a9d}{Geometric\+Tool\+Options\+Box}} (QWidget $\ast$parent, \mbox{\hyperlink{class_t_tool}{TTool}} $\ast$tool, \mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$plt\+Handle, \mbox{\hyperlink{class_tool_handle}{Tool\+Handle}} $\ast$tool\+Handle)
\item 
void \mbox{\hyperlink{class_geometric_tool_options_box_a4a3b057638d820e80de144f641cf0c3c}{update\+Status}} ()
\begin{DoxyCompactList}\small\item\em Invokes \mbox{\hyperlink{class_geometric_tool_options_box_a4a3b057638d820e80de144f641cf0c3c}{update\+Status()}} on all registered controls. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_geometric_tool_options_box_a722872c5a1f6786d4411baefaadd154c}{on\+Shape\+Value\+Changed}} (int)
\item 
void \mbox{\hyperlink{class_geometric_tool_options_box_aaf8d7f754374c2e1ac3544c5f2596083}{on\+Pencil\+Mode\+Toggled}} (bool)
\item 
void \mbox{\hyperlink{class_geometric_tool_options_box_a0e887e59cc88a74609ac59736b8b5e37}{on\+Join\+Style\+Changed}} (int)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_geometric_tool_options_box_a9dd901bf3b2388b98f12f6a0fc0e9a9d}\label{class_geometric_tool_options_box_a9dd901bf3b2388b98f12f6a0fc0e9a9d}} 
\index{GeometricToolOptionsBox@{GeometricToolOptionsBox}!GeometricToolOptionsBox@{GeometricToolOptionsBox}}
\index{GeometricToolOptionsBox@{GeometricToolOptionsBox}!GeometricToolOptionsBox@{GeometricToolOptionsBox}}
\doxysubsubsection{\texorpdfstring{GeometricToolOptionsBox()}{GeometricToolOptionsBox()}}
{\footnotesize\ttfamily Geometric\+Tool\+Options\+Box\+::\+Geometric\+Tool\+Options\+Box (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent,  }\item[{\mbox{\hyperlink{class_t_tool}{TTool}} $\ast$}]{tool,  }\item[{\mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$}]{plt\+Handle,  }\item[{\mbox{\hyperlink{class_tool_handle}{Tool\+Handle}} $\ast$}]{tool\+Handle }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01286     : \mbox{\hyperlink{class_tool_options_box}{ToolOptionsBox}}(parent)}
\DoxyCodeLine{01287     , m\_targetType(tool-\/>getTargetType())}
\DoxyCodeLine{01288     , m\_poligonSideLabel(0)}
\DoxyCodeLine{01289     , m\_hardnessLabel(0)}
\DoxyCodeLine{01290     , m\_hardnessField(0)}
\DoxyCodeLine{01291     , m\_poligonSideField(0)}
\DoxyCodeLine{01292     , m\_shapeField(0)}
\DoxyCodeLine{01293     , m\_snapCheckbox(0)}
\DoxyCodeLine{01294     , m\_smoothCheckbox(0)}
\DoxyCodeLine{01295     , m\_snapSensitivityCombo(0)}
\DoxyCodeLine{01296     , m\_tool(tool)}
\DoxyCodeLine{01297     , m\_pencilMode(0) \{}
\DoxyCodeLine{01298   setFrameStyle(QFrame::StyledPanel);}
\DoxyCodeLine{01299   setFixedHeight(26);}
\DoxyCodeLine{01300   \mbox{\hyperlink{class_t_property_group}{TPropertyGroup}} *props = tool-\/>getProperties(0);}
\DoxyCodeLine{01301   assert(props-\/>getPropertyCount() > 0);}
\DoxyCodeLine{01302 }
\DoxyCodeLine{01303   \mbox{\hyperlink{class_tool_option_control_builder}{ToolOptionControlBuilder}} builder(\textcolor{keyword}{this}, tool, pltHandle, toolHandle);}
\DoxyCodeLine{01304   \textcolor{keywordflow}{if} (tool \&\& tool-\/>getProperties(0)) tool-\/>getProperties(0)-\/>accept(builder);}
\DoxyCodeLine{01305   builder.setEnumWidgetType(ToolOptionControlBuilder::POPUPBUTTON);}
\DoxyCodeLine{01306   builder.setSingleValueWidgetType(ToolOptionControlBuilder::FIELD);}
\DoxyCodeLine{01307   addSeparator();}
\DoxyCodeLine{01308   \textcolor{keywordflow}{if} (tool \&\& tool-\/>getProperties(1)) tool-\/>getProperties(1)-\/>accept(builder);}
\DoxyCodeLine{01309 }
\DoxyCodeLine{01310   hLayout()-\/>addStretch(1);}
\DoxyCodeLine{01311   m\_hardnessField =}
\DoxyCodeLine{01312       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_slider}{ToolOptionSlider}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Hardness:"{}}));}
\DoxyCodeLine{01313   \textcolor{keywordflow}{if} (m\_hardnessField)}
\DoxyCodeLine{01314     m\_hardnessLabel = m\_labels.value(m\_hardnessField-\/>propertyName());}
\DoxyCodeLine{01315 }
\DoxyCodeLine{01316   m\_shapeField = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_combo}{ToolOptionCombo}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Shape:"{}}));}
\DoxyCodeLine{01317   m\_poligonSideField =}
\DoxyCodeLine{01318       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_int_slider}{ToolOptionIntSlider}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Polygon Sides:"{}}));}
\DoxyCodeLine{01319   \textcolor{keywordflow}{if} (m\_poligonSideField)}
\DoxyCodeLine{01320     m\_poligonSideLabel = m\_labels.value(m\_poligonSideField-\/>propertyName());}
\DoxyCodeLine{01321   m\_pencilMode =}
\DoxyCodeLine{01322       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_checkbox}{ToolOptionCheckbox}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Pencil Mode"{}}));}
\DoxyCodeLine{01323 }
\DoxyCodeLine{01324   \textcolor{keywordflow}{if} (m\_shapeField-\/>getProperty()-\/>getValue() != L\textcolor{stringliteral}{"{}Polygon"{}}) \{}
\DoxyCodeLine{01325     m\_poligonSideLabel-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{01326     m\_poligonSideField-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{01327   \}}
\DoxyCodeLine{01328 }
\DoxyCodeLine{01329   m\_smoothCheckbox =}
\DoxyCodeLine{01330       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_checkbox}{ToolOptionCheckbox}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Smooth"{}}));}
\DoxyCodeLine{01331   \textcolor{keywordflow}{if} (m\_shapeField-\/>getProperty()-\/>getValue() != L\textcolor{stringliteral}{"{}MultiArc"{}}) \{}
\DoxyCodeLine{01332     m\_smoothCheckbox-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{01333   \}}
\DoxyCodeLine{01334 }
\DoxyCodeLine{01335   \textcolor{keywordtype}{bool} ret = connect(m\_shapeField, SIGNAL(currentIndexChanged(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{01336                      SLOT(onShapeValueChanged(\textcolor{keywordtype}{int})));}
\DoxyCodeLine{01337 }
\DoxyCodeLine{01338   \textcolor{keywordflow}{if} (m\_pencilMode) \{}
\DoxyCodeLine{01339     \textcolor{keywordflow}{if} (m\_pencilMode-\/>isChecked()) \{}
\DoxyCodeLine{01340       m\_hardnessLabel-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{01341       m\_hardnessField-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{01342     \}}
\DoxyCodeLine{01343     ret = ret \&\& connect(m\_pencilMode, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01344                          SLOT(onPencilModeToggled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01345   \}}
\DoxyCodeLine{01346 }
\DoxyCodeLine{01347   \textcolor{keywordflow}{if} (tool-\/>getTargetType() \& TTool::Vectors) \{}
\DoxyCodeLine{01348     m\_snapCheckbox =}
\DoxyCodeLine{01349         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_checkbox}{ToolOptionCheckbox}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Snap"{}}));}
\DoxyCodeLine{01350     m\_snapSensitivityCombo =}
\DoxyCodeLine{01351         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_combo}{ToolOptionCombo}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Sensitivity:"{}}));}
\DoxyCodeLine{01352     m\_snapSensitivityCombo-\/>setHidden(!m\_snapCheckbox-\/>isChecked());}
\DoxyCodeLine{01353   \}}
\DoxyCodeLine{01354 }
\DoxyCodeLine{01355   \mbox{\hyperlink{class_tool_option_popup_button}{ToolOptionPopupButton}} *m\_joinStyle =}
\DoxyCodeLine{01356       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_popup_button}{ToolOptionPopupButton}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Join"{}}));}
\DoxyCodeLine{01357   m\_miterField =}
\DoxyCodeLine{01358       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_int_slider}{ToolOptionIntSlider}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Miter:"{}}));}
\DoxyCodeLine{01359   m\_miterField-\/>setEnabled(m\_joinStyle-\/>currentIndex() ==}
\DoxyCodeLine{01360                            TStroke::OutlineOptions::MITER\_JOIN);}
\DoxyCodeLine{01361 }
\DoxyCodeLine{01362   assert(m\_joinStyle \&\& m\_miterField);}
\DoxyCodeLine{01363   connect(m\_joinStyle, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{01364           SLOT(onJoinStyleChanged(\textcolor{keywordtype}{int})));}
\DoxyCodeLine{01365 }
\DoxyCodeLine{01366   assert(ret);}
\DoxyCodeLine{01367 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_geometric_tool_options_box_a0e887e59cc88a74609ac59736b8b5e37}\label{class_geometric_tool_options_box_a0e887e59cc88a74609ac59736b8b5e37}} 
\index{GeometricToolOptionsBox@{GeometricToolOptionsBox}!onJoinStyleChanged@{onJoinStyleChanged}}
\index{onJoinStyleChanged@{onJoinStyleChanged}!GeometricToolOptionsBox@{GeometricToolOptionsBox}}
\doxysubsubsection{\texorpdfstring{onJoinStyleChanged}{onJoinStyleChanged}}
{\footnotesize\ttfamily void Geometric\+Tool\+Options\+Box\+::on\+Join\+Style\+Changed (\begin{DoxyParamCaption}\item[{int}]{join\+Style }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01400                                                               \{}
\DoxyCodeLine{01401   m\_miterField-\/>setEnabled(joinStyle == TStroke::OutlineOptions::MITER\_JOIN);}
\DoxyCodeLine{01402 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_options_box_aaf8d7f754374c2e1ac3544c5f2596083}\label{class_geometric_tool_options_box_aaf8d7f754374c2e1ac3544c5f2596083}} 
\index{GeometricToolOptionsBox@{GeometricToolOptionsBox}!onPencilModeToggled@{onPencilModeToggled}}
\index{onPencilModeToggled@{onPencilModeToggled}!GeometricToolOptionsBox@{GeometricToolOptionsBox}}
\doxysubsubsection{\texorpdfstring{onPencilModeToggled}{onPencilModeToggled}}
{\footnotesize\ttfamily void Geometric\+Tool\+Options\+Box\+::on\+Pencil\+Mode\+Toggled (\begin{DoxyParamCaption}\item[{bool}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01393                                                             \{}
\DoxyCodeLine{01394   m\_hardnessLabel-\/>setEnabled(!value);}
\DoxyCodeLine{01395   m\_hardnessField-\/>setEnabled(!value);}
\DoxyCodeLine{01396 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_options_box_a722872c5a1f6786d4411baefaadd154c}\label{class_geometric_tool_options_box_a722872c5a1f6786d4411baefaadd154c}} 
\index{GeometricToolOptionsBox@{GeometricToolOptionsBox}!onShapeValueChanged@{onShapeValueChanged}}
\index{onShapeValueChanged@{onShapeValueChanged}!GeometricToolOptionsBox@{GeometricToolOptionsBox}}
\doxysubsubsection{\texorpdfstring{onShapeValueChanged}{onShapeValueChanged}}
{\footnotesize\ttfamily void Geometric\+Tool\+Options\+Box\+::on\+Shape\+Value\+Changed (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01382                                                            \{}
\DoxyCodeLine{01383   \textcolor{keyword}{const} TEnumProperty::Range \&range = m\_shapeField-\/>getProperty()-\/>getRange();}
\DoxyCodeLine{01384   \textcolor{keywordtype}{bool} polygonEnabled               = range[index] == L\textcolor{stringliteral}{"{}Polygon"{}};}
\DoxyCodeLine{01385   m\_poligonSideLabel-\/>setEnabled(polygonEnabled);}
\DoxyCodeLine{01386   m\_poligonSideField-\/>setEnabled(polygonEnabled);}
\DoxyCodeLine{01387 }
\DoxyCodeLine{01388   m\_smoothCheckbox-\/>setEnabled(range[index] == L\textcolor{stringliteral}{"{}MultiArc"{}});}
\DoxyCodeLine{01389 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_options_box_a4a3b057638d820e80de144f641cf0c3c}\label{class_geometric_tool_options_box_a4a3b057638d820e80de144f641cf0c3c}} 
\index{GeometricToolOptionsBox@{GeometricToolOptionsBox}!updateStatus@{updateStatus}}
\index{updateStatus@{updateStatus}!GeometricToolOptionsBox@{GeometricToolOptionsBox}}
\doxysubsubsection{\texorpdfstring{updateStatus()}{updateStatus()}}
{\footnotesize\ttfamily void Geometric\+Tool\+Options\+Box\+::update\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Invokes \mbox{\hyperlink{class_geometric_tool_options_box_a4a3b057638d820e80de144f641cf0c3c}{update\+Status()}} on all registered controls. 



Reimplemented from \mbox{\hyperlink{class_tool_options_box_a475daf4252f0d89d4968d25bb57783ab}{Tool\+Options\+Box}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01371                                            \{}
\DoxyCodeLine{01372   QMap<std::string, ToolOptionControl *>::iterator it;}
\DoxyCodeLine{01373   \textcolor{keywordflow}{for} (it = \mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.begin(); it != \mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.end(); it++)}
\DoxyCodeLine{01374     it.value()-\/>updateStatus();}
\DoxyCodeLine{01375   \textcolor{keywordflow}{if} (m\_tool-\/>getTargetType() \& TTool::Vectors) \{}
\DoxyCodeLine{01376     m\_snapSensitivityCombo-\/>setHidden(!m\_snapCheckbox-\/>isChecked());}
\DoxyCodeLine{01377   \}}
\DoxyCodeLine{01378 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00106}{Tool\+Options\+Box\+::m\+\_\+controls}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tools/tooloptions.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/tooloptions.\+cpp\end{DoxyCompactItemize}
