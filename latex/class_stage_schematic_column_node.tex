\hypertarget{class_stage_schematic_column_node}{}\doxysection{Stage\+Schematic\+Column\+Node Class Reference}
\label{class_stage_schematic_column_node}\index{StageSchematicColumnNode@{StageSchematicColumnNode}}
Inheritance diagram for Stage\+Schematic\+Column\+Node\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_stage_schematic_column_node}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_stage_schematic_column_node_a1b32e74eaa430d338df72b825cdb987e}{Stage\+Schematic\+Column\+Node}} (\mbox{\hyperlink{class_stage_schematic_scene}{Stage\+Schematic\+Scene}} $\ast$scene, \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} $\ast$pegbar)
\item 
QRectF \mbox{\hyperlink{class_stage_schematic_column_node_af93d3d0a720d22738962d6be0eeff74d}{bounding\+Rect}} () const override
\item 
void \mbox{\hyperlink{class_stage_schematic_column_node_a76787cae3575f3d9019b9d1a404c2736}{paint}} (QPainter $\ast$painter, const QStyle\+Option\+Graphics\+Item $\ast$option, QWidget $\ast$widget=0) override
\item 
QPixmap \mbox{\hyperlink{class_stage_schematic_column_node_a1462013f5dd030c288a1693a298c69aa}{get\+Pixmap}} ()
\item 
bool \mbox{\hyperlink{class_stage_schematic_column_node_a92a3fab28be67edcc6878a86a4f598dd}{is\+Opened}} ()
\item 
void \mbox{\hyperlink{class_stage_schematic_column_node_a0e82b33b7a7c1cd66c7991b38683d7d3}{resize}} (bool maximized)
\item 
void \mbox{\hyperlink{class_stage_schematic_column_node_a18f68b8e4b166eb50553e6aeda34efe1}{get\+Level\+Type\+And\+Name}} (int \&, QString \&)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_stage_schematic_column_node_a3be6f887700c795b1958a84be04d1f13}{on\+Name\+Changed}} ()
\item 
void \mbox{\hyperlink{class_stage_schematic_column_node_a1ac96a58db52f8725efca1ca504a2aae}{on\+Changed\+Size}} (bool expand)
\item 
void \mbox{\hyperlink{class_stage_schematic_column_node_a86d523e9f46b31750d4516b39b9f96f1}{on\+Render\+Toggle\+Clicked}} (bool is\+Active)
\item 
void \mbox{\hyperlink{class_stage_schematic_column_node_a34f3db9b55238b1bd50ab6d845ca0e68}{on\+Camera\+Stand\+Toggle\+Clicked}} (int state)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_stage_schematic_column_node_adfed82d05ef63ac46fb8d8b93e57624c}{mouse\+Double\+Click\+Event}} (QGraphics\+Scene\+Mouse\+Event $\ast$me) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_stage_schematic_column_node_a1b32e74eaa430d338df72b825cdb987e}\label{class_stage_schematic_column_node_a1b32e74eaa430d338df72b825cdb987e}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{StageSchematicColumnNode()}{StageSchematicColumnNode()}}
{\footnotesize\ttfamily Stage\+Schematic\+Column\+Node\+::\+Stage\+Schematic\+Column\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_stage_schematic_scene}{Stage\+Schematic\+Scene}} $\ast$}]{scene,  }\item[{\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} $\ast$}]{pegbar }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01682     : \mbox{\hyperlink{class_stage_schematic_node}{StageSchematicNode}}(scene, pegbar, 90, 32), m\_isOpened(\textcolor{keyword}{true}) \{}
\DoxyCodeLine{01683   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{true};}
\DoxyCodeLine{01684 }
\DoxyCodeLine{01685   assert(pegbar \&\& pegbar-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}().\mbox{\hyperlink{class_t_stage_object_id_af6d13fcf31e7e10eef28f085855f469c}{isColumn}}());}
\DoxyCodeLine{01686 }
\DoxyCodeLine{01687   \mbox{\hyperlink{class_schematic_viewer}{SchematicViewer}} *viewer = scene-\/>getSchematicViewer();}
\DoxyCodeLine{01688 }
\DoxyCodeLine{01689   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column =}
\DoxyCodeLine{01690       scene-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(pegbar-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}().getIndex());}
\DoxyCodeLine{01691 }
\DoxyCodeLine{01692   std::string name = m\_stageObject-\/>getName();}
\DoxyCodeLine{01693 }
\DoxyCodeLine{01694   \textcolor{keywordflow}{if} (column) \{}
\DoxyCodeLine{01695     \textcolor{comment}{// ZeraryFx columns store name elsewhere}}
\DoxyCodeLine{01696     \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *zColumn = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *\textcolor{keyword}{>}(column);}
\DoxyCodeLine{01697     \textcolor{keywordflow}{if} (zColumn)}
\DoxyCodeLine{01698       name =}
\DoxyCodeLine{01699           ::to\_string(zColumn-\/>\mbox{\hyperlink{class_t_xsh_zerary_fx_column_ae19c0ca3303499293ebd643749b1fcc6}{getZeraryColumnFx}}()-\/>getZeraryFx()-\/>getName());}
\DoxyCodeLine{01700   \}}
\DoxyCodeLine{01701 }
\DoxyCodeLine{01702   m\_name       = QString::fromStdString(name);}
\DoxyCodeLine{01703   m\_resizeItem = \textcolor{keyword}{new} \mbox{\hyperlink{class_schematic_thumbnail_toggle}{SchematicThumbnailToggle}}(\textcolor{keyword}{this}, m\_stageObject-\/>\mbox{\hyperlink{class_t_stage_object_abd3bc432e4c7f7f1504cb30ded09b15e}{isOpened}}());}
\DoxyCodeLine{01704   m\_resizeItem-\/>setPos(2, 0);}
\DoxyCodeLine{01705   m\_resizeItem-\/>setZValue(2);}
\DoxyCodeLine{01706   ret = ret \&\& connect(m\_resizeItem, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01707                        SLOT(onChangedSize(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01708 }
\DoxyCodeLine{01709   m\_nameItem = \textcolor{keyword}{new} \mbox{\hyperlink{class_schematic_name}{SchematicName}}(\textcolor{keyword}{this}, 54, 20);}
\DoxyCodeLine{01710   m\_nameItem-\/>setDefaultTextColor(viewer-\/>getTextColor());}
\DoxyCodeLine{01711   m\_nameItem-\/>setName(m\_name);}
\DoxyCodeLine{01712   m\_nameItem-\/>setPos(16, -\/1);}
\DoxyCodeLine{01713   m\_nameItem-\/>setZValue(2);}
\DoxyCodeLine{01714   ret = ret \&\&}
\DoxyCodeLine{01715         connect(m\_nameItem, SIGNAL(focusOut()), \textcolor{keyword}{this}, SLOT(onNameChanged()));}
\DoxyCodeLine{01716   m\_nameItem-\/>hide();}
\DoxyCodeLine{01717 }
\DoxyCodeLine{01718   m\_renderToggle =}
\DoxyCodeLine{01719       \textcolor{keyword}{new} \mbox{\hyperlink{class_schematic_toggle}{SchematicToggle}}(\textcolor{keyword}{this}, viewer-\/>getSchematicPreviewButtonOnImage(),}
\DoxyCodeLine{01720                           viewer-\/>getSchematicPreviewButtonBgOnColor(),}
\DoxyCodeLine{01721                           viewer-\/>getSchematicPreviewButtonOffImage(),}
\DoxyCodeLine{01722                           viewer-\/>getSchematicPreviewButtonBgOffColor(),}
\DoxyCodeLine{01723                           SchematicToggle::eIsParentColumn);}
\DoxyCodeLine{01724   ret = ret \&\& connect(m\_renderToggle, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01725                        SLOT(onRenderToggleClicked(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01726   \textcolor{keywordflow}{if} (scene) \{}
\DoxyCodeLine{01727     \textcolor{keywordflow}{if} (column) m\_renderToggle-\/>\mbox{\hyperlink{class_schematic_toggle_a2f03784874c4accab37ce531639a4448}{setIsActive}}(column-\/>isPreviewVisible());}
\DoxyCodeLine{01728 }
\DoxyCodeLine{01729     m\_renderToggle-\/>setPos(72, 0);}
\DoxyCodeLine{01730     m\_renderToggle-\/>setZValue(2);}
\DoxyCodeLine{01731 }
\DoxyCodeLine{01732     m\_cameraStandToggle = \textcolor{keyword}{new} \mbox{\hyperlink{class_schematic_toggle}{SchematicToggle}}(}
\DoxyCodeLine{01733         \textcolor{keyword}{this}, viewer-\/>getSchematicCamstandButtonOnImage(),}
\DoxyCodeLine{01734         viewer-\/>getSchematicCamstandButtonTranspImage(),}
\DoxyCodeLine{01735         viewer-\/>getSchematicCamstandButtonBgOnColor(),}
\DoxyCodeLine{01736         viewer-\/>getSchematicCamstandButtonOffImage(),}
\DoxyCodeLine{01737         viewer-\/>getSchematicCamstandButtonBgOffColor(),}
\DoxyCodeLine{01738         SchematicToggle::eIsParentColumn | SchematicToggle::eEnableNullState);}
\DoxyCodeLine{01739     ret = ret \&\& connect(m\_cameraStandToggle, SIGNAL(stateChanged(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{01740                          SLOT(onCameraStandToggleClicked(\textcolor{keywordtype}{int})));}
\DoxyCodeLine{01741     \textcolor{keywordflow}{if} (column)}
\DoxyCodeLine{01742       m\_cameraStandToggle-\/>\mbox{\hyperlink{class_schematic_toggle_a8c89f7d3c8819f51645e8ab136deb8fa}{setState}}(column-\/>isCamstandVisible()}
\DoxyCodeLine{01743                                         ? (column-\/>getOpacity() < 255 ? 2 : 1)}
\DoxyCodeLine{01744                                         : 0);}
\DoxyCodeLine{01745 }
\DoxyCodeLine{01746     m\_cameraStandToggle-\/>setPos(72, 7);}
\DoxyCodeLine{01747     m\_cameraStandToggle-\/>setZValue(2);}
\DoxyCodeLine{01748   \}}
\DoxyCodeLine{01749 }
\DoxyCodeLine{01750   qreal y = 14;}
\DoxyCodeLine{01751   m\_parentDock-\/>setY(y);}
\DoxyCodeLine{01752   m\_childDocks[0]-\/>setY(y);}
\DoxyCodeLine{01753 }
\DoxyCodeLine{01754   m\_columnPainter = \textcolor{keyword}{new} \mbox{\hyperlink{class_column_painter}{ColumnPainter}}(\textcolor{keyword}{this}, m\_width, m\_height, m\_name);}
\DoxyCodeLine{01755   m\_columnPainter-\/>setZValue(1);}
\DoxyCodeLine{01756 }
\DoxyCodeLine{01757   \textcolor{keywordflow}{if} (column \&\& !column-\/>isControl() \&\& !column-\/>isRendered() \&\&}
\DoxyCodeLine{01758       !column-\/>getMeshColumn())}
\DoxyCodeLine{01759     m\_columnPainter-\/>setIsReference();}
\DoxyCodeLine{01760 }
\DoxyCodeLine{01761   \textcolor{keywordtype}{int} levelType;}
\DoxyCodeLine{01762   QString levelName;}
\DoxyCodeLine{01763   getLevelTypeAndName(levelType, levelName);}
\DoxyCodeLine{01764   setToolTip(QString(\textcolor{stringliteral}{"{}\%1 : \%2"{}}).arg(m\_name, levelName));}
\DoxyCodeLine{01765 }
\DoxyCodeLine{01766   onChangedSize(m\_stageObject-\/>\mbox{\hyperlink{class_t_stage_object_abd3bc432e4c7f7f1504cb30ded09b15e}{isOpened}}());}
\DoxyCodeLine{01767   assert(ret);}
\DoxyCodeLine{01768 }
\DoxyCodeLine{01769   \textcolor{keywordflow}{if} (levelType == PLT\_XSHLEVEL) \{}
\DoxyCodeLine{01770     m\_resizeItem-\/>hide();}
\DoxyCodeLine{01771     m\_cameraStandToggle-\/>hide();}
\DoxyCodeLine{01772   \}}
\DoxyCodeLine{01773 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_ab697f823d9e51ef1c0afcd20680971ce}\label{class_stage_schematic_column_node_ab697f823d9e51ef1c0afcd20680971ce}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!````~StageSchematicColumnNode@{$\sim$StageSchematicColumnNode}}
\index{````~StageSchematicColumnNode@{$\sim$StageSchematicColumnNode}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{$\sim$StageSchematicColumnNode()}{~StageSchematicColumnNode()}}
{\footnotesize\ttfamily Stage\+Schematic\+Column\+Node\+::$\sim$\+Stage\+Schematic\+Column\+Node (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01777 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_stage_schematic_column_node_af93d3d0a720d22738962d6be0eeff74d}\label{class_stage_schematic_column_node_af93d3d0a720d22738962d6be0eeff74d}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!boundingRect@{boundingRect}}
\index{boundingRect@{boundingRect}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{boundingRect()}{boundingRect()}}
{\footnotesize\ttfamily QRectF Stage\+Schematic\+Column\+Node\+::bounding\+Rect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01781                                                     \{}
\DoxyCodeLine{01782   \textcolor{comment}{// iwasawa}}
\DoxyCodeLine{01783   \textcolor{keywordflow}{if} (m\_isOpened)}
\DoxyCodeLine{01784     \textcolor{keywordflow}{return} QRectF(-\/5, -\/54, m\_width + 10, m\_height + 59);}
\DoxyCodeLine{01785   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01786     \textcolor{keywordflow}{return} QRectF(-\/5, -\/5, m\_width + 10, m\_height + 10);}
\DoxyCodeLine{01787 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_a18f68b8e4b166eb50553e6aeda34efe1}\label{class_stage_schematic_column_node_a18f68b8e4b166eb50553e6aeda34efe1}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!getLevelTypeAndName@{getLevelTypeAndName}}
\index{getLevelTypeAndName@{getLevelTypeAndName}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{getLevelTypeAndName()}{getLevelTypeAndName()}}
{\footnotesize\ttfamily void Stage\+Schematic\+Column\+Node\+::get\+Level\+Type\+And\+Name (\begin{DoxyParamCaption}\item[{int \&}]{ltype,  }\item[{QString \&}]{level\+Name }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01849                                                                        \{}
\DoxyCodeLine{01850   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{01851       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{01852   \textcolor{keywordflow}{if} (!stageScene) \{}
\DoxyCodeLine{01853     ltype     = NO\_XSHLEVEL;}
\DoxyCodeLine{01854     levelName = QString();}
\DoxyCodeLine{01855     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01856   \}}
\DoxyCodeLine{01857 }
\DoxyCodeLine{01858   \textcolor{keywordtype}{int} columnIndex = m\_stageObject-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}().getIndex();}
\DoxyCodeLine{01859   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh    = stageScene-\/>getXsheet();}
\DoxyCodeLine{01860   \textcolor{keywordflow}{if} (xsh \&\& !xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(columnIndex)) \{}
\DoxyCodeLine{01861     \textcolor{keywordtype}{int} r0, r1;}
\DoxyCodeLine{01862     xsh-\/>\mbox{\hyperlink{class_t_xsheet_a26850469fb0f2886b717479050c32be2}{getCellRange}}(columnIndex, r0, r1);}
\DoxyCodeLine{01863     \textcolor{keywordflow}{if} (r1 >= r0) \{}
\DoxyCodeLine{01864       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(r0, columnIndex);}
\DoxyCodeLine{01865       \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *xl = cell.m\_level.getPointer();}
\DoxyCodeLine{01866       \textcolor{keywordflow}{if} (xl) \{}
\DoxyCodeLine{01867         ltype = cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}();}
\DoxyCodeLine{01868 }
\DoxyCodeLine{01869         \textcolor{comment}{// for Zerary Fx, display FxId}}
\DoxyCodeLine{01870         \textcolor{keywordflow}{if} (ltype == ZERARYFX\_XSHLEVEL) \{}
\DoxyCodeLine{01871           \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *zColumn =}
\DoxyCodeLine{01872               \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *\textcolor{keyword}{>}(xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(columnIndex));}
\DoxyCodeLine{01873           \textcolor{keywordflow}{if} (zColumn) \{}
\DoxyCodeLine{01874             \mbox{\hyperlink{class_t_fx}{TFx}} *fx   = zColumn-\/>\mbox{\hyperlink{class_t_xsh_zerary_fx_column_ae19c0ca3303499293ebd643749b1fcc6}{getZeraryColumnFx}}()-\/>getZeraryFx();}
\DoxyCodeLine{01875             levelName = QString::fromStdWString(fx-\/>getFxId());}
\DoxyCodeLine{01876             \textcolor{keywordflow}{return};}
\DoxyCodeLine{01877           \}}
\DoxyCodeLine{01878         \}}
\DoxyCodeLine{01879 }
\DoxyCodeLine{01880         levelName = QString::fromStdWString(xl-\/>\mbox{\hyperlink{class_t_xsh_level_a3a59fb1bd3261baee4e889a9edbf0ae8}{getName}}());}
\DoxyCodeLine{01881         \textcolor{keywordflow}{return};}
\DoxyCodeLine{01882       \}}
\DoxyCodeLine{01883     \}}
\DoxyCodeLine{01884   \}}
\DoxyCodeLine{01885 }
\DoxyCodeLine{01886   ltype     = NO\_XSHLEVEL;}
\DoxyCodeLine{01887   levelName = QString();}
\DoxyCodeLine{01888   \textcolor{keywordflow}{return};}
\DoxyCodeLine{01889 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_a1462013f5dd030c288a1693a298c69aa}\label{class_stage_schematic_column_node_a1462013f5dd030c288a1693a298c69aa}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!getPixmap@{getPixmap}}
\index{getPixmap@{getPixmap}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{getPixmap()}{getPixmap()}}
{\footnotesize\ttfamily QPixmap Stage\+Schematic\+Column\+Node\+::get\+Pixmap (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01814                                             \{}
\DoxyCodeLine{01815   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{01816       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{01817   \textcolor{keywordflow}{if} (!stageScene) \textcolor{keywordflow}{return} QPixmap();}
\DoxyCodeLine{01818   \textcolor{keywordtype}{int} columnIndex = m\_stageObject-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}().getIndex();}
\DoxyCodeLine{01819   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh    = stageScene-\/>getXsheet();}
\DoxyCodeLine{01820   \textcolor{keywordflow}{if} (xsh \&\& !xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(columnIndex)) \{}
\DoxyCodeLine{01821     \textcolor{keywordtype}{int} r0, r1;}
\DoxyCodeLine{01822     xsh-\/>\mbox{\hyperlink{class_t_xsheet_a26850469fb0f2886b717479050c32be2}{getCellRange}}(columnIndex, r0, r1);}
\DoxyCodeLine{01823     \textcolor{keywordflow}{if} (r1 >= r0) \{}
\DoxyCodeLine{01824       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(r0, columnIndex);}
\DoxyCodeLine{01825       \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *xl = cell.m\_level.getPointer();}
\DoxyCodeLine{01826       \textcolor{keywordflow}{if} (xl) \{}
\DoxyCodeLine{01827         \textcolor{keywordtype}{bool} onDemand = \textcolor{keyword}{false};}
\DoxyCodeLine{01828         \textcolor{keywordflow}{if} (Preferences::instance()-\/>getColumnIconLoadingPolicy() ==}
\DoxyCodeLine{01829             \mbox{\hyperlink{class_preferences_a2d5feb8ad93cc1336224f65f4bc0ff30ad4f8e44727dff0fd890c28a36b29f9a9}{Preferences::LoadOnDemand}})}
\DoxyCodeLine{01830           onDemand =}
\DoxyCodeLine{01831               stageScene-\/>getColumnHandle()-\/>getColumnIndex() != columnIndex;}
\DoxyCodeLine{01832         \textcolor{keywordflow}{return} IconGenerator::instance()-\/>getIcon(xl, cell.m\_frameId, \textcolor{keyword}{false},}
\DoxyCodeLine{01833                                                   onDemand);}
\DoxyCodeLine{01834       \}}
\DoxyCodeLine{01835     \}}
\DoxyCodeLine{01836   \}}
\DoxyCodeLine{01837   \textcolor{keywordflow}{return} QPixmap();}
\DoxyCodeLine{01838 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_a92a3fab28be67edcc6878a86a4f598dd}\label{class_stage_schematic_column_node_a92a3fab28be67edcc6878a86a4f598dd}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!isOpened@{isOpened}}
\index{isOpened@{isOpened}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{isOpened()}{isOpened()}}
{\footnotesize\ttfamily bool Stage\+Schematic\+Column\+Node\+::is\+Opened (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00477 \{ \textcolor{keywordflow}{return} m\_isOpened; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_adfed82d05ef63ac46fb8d8b93e57624c}\label{class_stage_schematic_column_node_adfed82d05ef63ac46fb8d8b93e57624c}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!mouseDoubleClickEvent@{mouseDoubleClickEvent}}
\index{mouseDoubleClickEvent@{mouseDoubleClickEvent}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{mouseDoubleClickEvent()}{mouseDoubleClickEvent()}}
{\footnotesize\ttfamily void Stage\+Schematic\+Column\+Node\+::mouse\+Double\+Click\+Event (\begin{DoxyParamCaption}\item[{QGraphics\+Scene\+Mouse\+Event $\ast$}]{me }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01914                                   \{}
\DoxyCodeLine{01915   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{01916       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{01917   \textcolor{keywordflow}{if} (!stageScene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01918   QRectF nameArea(14, 0, m\_width -\/ 15, 14);}
\DoxyCodeLine{01919   \textcolor{keywordflow}{if} (nameArea.contains(me-\/>pos())) \{}
\DoxyCodeLine{01920     std::string name = m\_stageObject-\/>getName();}
\DoxyCodeLine{01921 }
\DoxyCodeLine{01922     \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} \textcolor{keywordtype}{id}  = m\_stageObject-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}();}
\DoxyCodeLine{01923     \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = stageScene-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(\textcolor{keywordtype}{id}.getIndex());}
\DoxyCodeLine{01924     \textcolor{keywordflow}{if} (column) \{}
\DoxyCodeLine{01925       \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *fxColumn = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *\textcolor{keyword}{>}(column);}
\DoxyCodeLine{01926       \textcolor{keywordflow}{if} (fxColumn)}
\DoxyCodeLine{01927         name = ::to\_string(}
\DoxyCodeLine{01928             fxColumn-\/>\mbox{\hyperlink{class_t_xsh_zerary_fx_column_ae19c0ca3303499293ebd643749b1fcc6}{getZeraryColumnFx}}()-\/>getZeraryFx()-\/>getName());}
\DoxyCodeLine{01929     \}}
\DoxyCodeLine{01930 }
\DoxyCodeLine{01931     m\_name = QString::fromStdString(name);}
\DoxyCodeLine{01932     m\_nameItem-\/>setPlainText(m\_name);}
\DoxyCodeLine{01933     m\_nameItem-\/>show();}
\DoxyCodeLine{01934     m\_nameItem-\/>setFocus();}
\DoxyCodeLine{01935     setFlag(QGraphicsItem::ItemIsSelectable, \textcolor{keyword}{false});}
\DoxyCodeLine{01936   \}}
\DoxyCodeLine{01937 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_a34f3db9b55238b1bd50ab6d845ca0e68}\label{class_stage_schematic_column_node_a34f3db9b55238b1bd50ab6d845ca0e68}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!onCameraStandToggleClicked@{onCameraStandToggleClicked}}
\index{onCameraStandToggleClicked@{onCameraStandToggleClicked}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{onCameraStandToggleClicked}{onCameraStandToggleClicked}}
{\footnotesize\ttfamily void Stage\+Schematic\+Column\+Node\+::on\+Camera\+Stand\+Toggle\+Clicked (\begin{DoxyParamCaption}\item[{int}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01987                                                                    \{}
\DoxyCodeLine{01988   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{01989       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{01990   \textcolor{keywordflow}{if} (!stageScene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01991   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column =}
\DoxyCodeLine{01992       stageScene-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(m\_stageObject-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}().getIndex());}
\DoxyCodeLine{01993   \textcolor{keywordflow}{if} (column) \{}
\DoxyCodeLine{01994     \textcolor{comment}{// column-\/>setCamstandNextState();}}
\DoxyCodeLine{01995     column-\/>setCamstandVisible(!column-\/>isCamstandVisible());}
\DoxyCodeLine{01996     emit sceneChanged();}
\DoxyCodeLine{01997     emit xsheetChanged();}
\DoxyCodeLine{01998   \}}
\DoxyCodeLine{01999 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_a1ac96a58db52f8725efca1ca504a2aae}\label{class_stage_schematic_column_node_a1ac96a58db52f8725efca1ca504a2aae}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!onChangedSize@{onChangedSize}}
\index{onChangedSize@{onChangedSize}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{onChangedSize}{onChangedSize}}
{\footnotesize\ttfamily void Stage\+Schematic\+Column\+Node\+::on\+Changed\+Size (\begin{DoxyParamCaption}\item[{bool}]{expand }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01892                                                         \{}
\DoxyCodeLine{01893   prepareGeometryChange();}
\DoxyCodeLine{01894   m\_isOpened = expand;}
\DoxyCodeLine{01895   m\_stageObject-\/>\mbox{\hyperlink{class_t_stage_object_a84e42d151bd6837e7185342ce90d370c}{setIsOpened}}(m\_isOpened);}
\DoxyCodeLine{01896   m\_height = 32;}
\DoxyCodeLine{01897   updatePortsPosition();}
\DoxyCodeLine{01898   updateLinksGeometry();}
\DoxyCodeLine{01899   update();}
\DoxyCodeLine{01900   emit nodeChangedSize();}
\DoxyCodeLine{01901 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_a3be6f887700c795b1958a84be04d1f13}\label{class_stage_schematic_column_node_a3be6f887700c795b1958a84be04d1f13}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!onNameChanged@{onNameChanged}}
\index{onNameChanged@{onNameChanged}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{onNameChanged}{onNameChanged}}
{\footnotesize\ttfamily void Stage\+Schematic\+Column\+Node\+::on\+Name\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01941                                              \{}
\DoxyCodeLine{01942   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{01943       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{01944   \textcolor{keywordflow}{if} (!stageScene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01945   m\_nameItem-\/>hide();}
\DoxyCodeLine{01946   m\_name = m\_nameItem-\/>toPlainText();}
\DoxyCodeLine{01947   m\_columnPainter-\/>setName(m\_name);}
\DoxyCodeLine{01948 }
\DoxyCodeLine{01949   \textcolor{keywordtype}{int} levelType;}
\DoxyCodeLine{01950   QString levelName;}
\DoxyCodeLine{01951   getLevelTypeAndName(levelType, levelName);}
\DoxyCodeLine{01952   setToolTip(QString(\textcolor{stringliteral}{"{}\%1 : \%2"{}}).arg(m\_name, levelName));}
\DoxyCodeLine{01953 }
\DoxyCodeLine{01954   setFlag(QGraphicsItem::ItemIsSelectable, \textcolor{keyword}{true});}
\DoxyCodeLine{01955 }
\DoxyCodeLine{01956   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} \textcolor{keywordtype}{id} = m\_stageObject-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}();}
\DoxyCodeLine{01957   \textcolor{keywordflow}{if} (!\textcolor{keywordtype}{id}.isColumn()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01958   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = stageScene-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(\textcolor{keywordtype}{id}.getIndex());}
\DoxyCodeLine{01959   \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *fxColumn = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *\textcolor{keyword}{>}(column);}
\DoxyCodeLine{01960   \textcolor{keywordflow}{if} (fxColumn)}
\DoxyCodeLine{01961     TFxCommand::renameFx(fxColumn-\/>\mbox{\hyperlink{class_t_xsh_zerary_fx_column_ae19c0ca3303499293ebd643749b1fcc6}{getZeraryColumnFx}}(), m\_name.toStdWString(),}
\DoxyCodeLine{01962                          stageScene-\/>getXsheetHandle());}
\DoxyCodeLine{01963   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01964     TStageObjectCmd::rename(\textcolor{keywordtype}{id}, m\_name.toStdString(),}
\DoxyCodeLine{01965                             stageScene-\/>getXsheetHandle());}
\DoxyCodeLine{01966     update();}
\DoxyCodeLine{01967   \}}
\DoxyCodeLine{01968 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_a86d523e9f46b31750d4516b39b9f96f1}\label{class_stage_schematic_column_node_a86d523e9f46b31750d4516b39b9f96f1}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!onRenderToggleClicked@{onRenderToggleClicked}}
\index{onRenderToggleClicked@{onRenderToggleClicked}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{onRenderToggleClicked}{onRenderToggleClicked}}
{\footnotesize\ttfamily void Stage\+Schematic\+Column\+Node\+::on\+Render\+Toggle\+Clicked (\begin{DoxyParamCaption}\item[{bool}]{is\+Active }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01972                                                                   \{}
\DoxyCodeLine{01973   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *stageScene =}
\DoxyCodeLine{01974       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(scene());}
\DoxyCodeLine{01975   \textcolor{keywordflow}{if} (!stageScene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01976   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column =}
\DoxyCodeLine{01977       stageScene-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(m\_stageObject-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}().getIndex());}
\DoxyCodeLine{01978   \textcolor{keywordflow}{if} (column) \{}
\DoxyCodeLine{01979     column-\/>setPreviewVisible(isActive);}
\DoxyCodeLine{01980     emit sceneChanged();}
\DoxyCodeLine{01981     emit xsheetChanged();}
\DoxyCodeLine{01982   \}}
\DoxyCodeLine{01983 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_a76787cae3575f3d9019b9d1a404c2736}\label{class_stage_schematic_column_node_a76787cae3575f3d9019b9d1a404c2736}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!paint@{paint}}
\index{paint@{paint}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{paint()}{paint()}}
{\footnotesize\ttfamily void Stage\+Schematic\+Column\+Node\+::paint (\begin{DoxyParamCaption}\item[{QPainter $\ast$}]{painter,  }\item[{const QStyle\+Option\+Graphics\+Item $\ast$}]{option,  }\item[{QWidget $\ast$}]{widget = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01793                                                       \{}
\DoxyCodeLine{01794   \mbox{\hyperlink{class_schematic_node_a587e509d56ea4bc2ad513f11509090cf}{StageSchematicNode::paint}}(painter, option, widget);}
\DoxyCodeLine{01795   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} \textcolor{keywordtype}{id} = m\_stageObject-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}();}
\DoxyCodeLine{01796   assert(\textcolor{keywordtype}{id}.isColumn());}
\DoxyCodeLine{01797   QString colNumber = QString::number(\textcolor{keywordtype}{id}.getIndex() + 1);}
\DoxyCodeLine{01798   QFont font(\textcolor{stringliteral}{"{}Verdana"{}}, 8);}
\DoxyCodeLine{01799   painter-\/>setFont(font);}
\DoxyCodeLine{01800   \mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *scene = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_stage_schematic_scene}{StageSchematicScene}} *\textcolor{keyword}{>}(m\_scene);}
\DoxyCodeLine{01801   \mbox{\hyperlink{class_schematic_viewer}{SchematicViewer}} *viewer    = scene-\/>getSchematicViewer();}
\DoxyCodeLine{01802   \textcolor{keywordflow}{if} (scene \&\& scene-\/>getCurrentObject() == id)}
\DoxyCodeLine{01803     painter-\/>setPen(viewer-\/>getSelectedNodeTextColor());}
\DoxyCodeLine{01804   QFontMetrics metrix(font);}
\DoxyCodeLine{01805   \textcolor{keywordtype}{int} srcWidth  = metrix.width(colNumber);}
\DoxyCodeLine{01806   \textcolor{keywordtype}{int} srcHeight = metrix.height();}
\DoxyCodeLine{01807   QPointF pos(m\_cameraStandToggle-\/>pos() -\/}
\DoxyCodeLine{01808               QPointF(srcWidth + 1, -\/srcHeight + 3));}
\DoxyCodeLine{01809   painter-\/>drawText(pos, colNumber);}
\DoxyCodeLine{01810 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_stage_schematic_column_node_a0e82b33b7a7c1cd66c7991b38683d7d3}\label{class_stage_schematic_column_node_a0e82b33b7a7c1cd66c7991b38683d7d3}} 
\index{StageSchematicColumnNode@{StageSchematicColumnNode}!resize@{resize}}
\index{resize@{resize}!StageSchematicColumnNode@{StageSchematicColumnNode}}
\doxysubsubsection{\texorpdfstring{resize()}{resize()}}
{\footnotesize\ttfamily void Stage\+Schematic\+Column\+Node\+::resize (\begin{DoxyParamCaption}\item[{bool}]{maximized }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01842                                                     \{}
\DoxyCodeLine{01843   m\_resizeItem-\/>setIsDown(!maximized);}
\DoxyCodeLine{01844 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/stageschematicnode.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/stageschematicnode.\+cpp\end{DoxyCompactItemize}
