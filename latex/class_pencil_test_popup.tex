\hypertarget{class_pencil_test_popup}{}\doxysection{Pencil\+Test\+Popup Class Reference}
\label{class_pencil_test_popup}\index{PencilTestPopup@{PencilTestPopup}}
Inheritance diagram for Pencil\+Test\+Popup\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_pencil_test_popup}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_pencil_test_popup_aef46a62e593cedc2d7f2ba9635a99f1f}{open\+Save\+In\+Folder\+Popup}} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_aef46a62e593cedc2d7f2ba9635a99f1f}\label{class_pencil_test_popup_aef46a62e593cedc2d7f2ba9635a99f1f}} 
void {\bfseries open\+Save\+In\+Folder\+Popup} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_pencil_test_popup_adf8d1416b15193ce59aa6af5302e605f}{refresh\+Camera\+List}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a060892143693a4d8a4cb7684b155fd0f}{on\+Camera\+List\+Combo\+Activated}} (int index)
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a78aef11cdf4136e3d08029cf9022b973}{on\+Resolution\+Combo\+Activated}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a8ce9448f2afbd4b984bffe721627cd0f}{on\+File\+Format\+Option\+Button\+Pressed}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a5483f37522917e0f41b8b4ad7cc33ea1}{on\+Level\+Name\+Edited}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a3a6bde88cbcc7036417bb1153137a729}{on\+Next\+Name}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a2ace6abd5f1c29fa577d1a80bc9b74b0}{on\+Previous\+Name}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a225798b5ef51f933c2bfc482b0127126}{on\+Color\+Type\+Combo\+Changed}} (int index)
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a3020833eae0fd5b8699ba942fb636ef6}{on\+Frame\+Captured}} (cv\+::\+Mat \&image)
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a6bda8f5e204cb63d5572e329f0b63980}{on\+Capture\+White\+BGButton\+Pressed}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a1a855418427c5f496552434529a79c4e}{on\+Onion\+CBToggled}} (bool)
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a967d245f0bf4f529040cd9d45a11b324}{on\+Load\+Image\+Button\+Pressed}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a8931c192f9c05edfcbe177f97cc897db}{on\+Onion\+Opacity\+Fld\+Edited}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a9f3eee0378fba25413fb3a4333bca883}{on\+Timer\+CBToggled}} (bool)
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a7c81d1523ec5215e9e648c3fa3090529}{on\+Capture\+Timer\+Timeout}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a843b5c725d253ad3ec3c4a51a05cbbc5}{on\+Count\+Down}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a86230069cb9f17b6d6eb91f6f4f7b3df}{on\+Capture\+Button\+Clicked}} (bool)
\item 
void \mbox{\hyperlink{class_pencil_test_popup_adda93a363396643f652e6bc07a09b983}{on\+Capture\+Filter\+Settings\+Btn\+Pressed}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a8f31684f71c8491ae17680e893771cb4}{refresh\+Frame\+Info}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_ac4a52f078d0998fb3deb115d090ac1af}{on\+Save\+In\+Path\+Edited}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a96ec3ad4d3e3b2eb2e16332fabad097f}{on\+Scene\+Switched}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a7995fd0a0a96a3d1c5965fc8bdf3f075}{on\+Sub\+Camera\+Toggled}} (bool)
\item 
void \mbox{\hyperlink{class_pencil_test_popup_aa73df376f9d3afd84ff169d4e32aa635}{on\+Sub\+Camera\+Resized}} (bool is\+Dragging)
\item 
void \mbox{\hyperlink{class_pencil_test_popup_aca299d158212a7f5fb4e727fbdc04472}{on\+Sub\+Camera\+Size\+Edited}} ()
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a34ba3ff382d12cbf6909c07aaaedafcb}{on\+Timeout}} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_adf8d1416b15193ce59aa6af5302e605f}\label{class_pencil_test_popup_adf8d1416b15193ce59aa6af5302e605f}} 
void {\bfseries refresh\+Camera\+List} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a060892143693a4d8a4cb7684b155fd0f}\label{class_pencil_test_popup_a060892143693a4d8a4cb7684b155fd0f}} 
void {\bfseries on\+Camera\+List\+Combo\+Activated} (int index)
\item 
void \mbox{\hyperlink{class_pencil_test_popup_af2df5656f7d6fb48428c50e6357f1327}{on\+Resolution\+Combo\+Activated}} (const QString \&)
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a8ce9448f2afbd4b984bffe721627cd0f}\label{class_pencil_test_popup_a8ce9448f2afbd4b984bffe721627cd0f}} 
void {\bfseries on\+File\+Format\+Option\+Button\+Pressed} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a5483f37522917e0f41b8b4ad7cc33ea1}\label{class_pencil_test_popup_a5483f37522917e0f41b8b4ad7cc33ea1}} 
void {\bfseries on\+Level\+Name\+Edited} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a3a6bde88cbcc7036417bb1153137a729}\label{class_pencil_test_popup_a3a6bde88cbcc7036417bb1153137a729}} 
void {\bfseries on\+Next\+Name} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a2ace6abd5f1c29fa577d1a80bc9b74b0}\label{class_pencil_test_popup_a2ace6abd5f1c29fa577d1a80bc9b74b0}} 
void {\bfseries on\+Previous\+Name} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a225798b5ef51f933c2bfc482b0127126}\label{class_pencil_test_popup_a225798b5ef51f933c2bfc482b0127126}} 
void {\bfseries on\+Color\+Type\+Combo\+Changed} (int index)
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a455d8a11174ece5857617611c7724bdb}{on\+Frame\+Captured}} (QImage \&image)
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a6bda8f5e204cb63d5572e329f0b63980}\label{class_pencil_test_popup_a6bda8f5e204cb63d5572e329f0b63980}} 
void {\bfseries on\+Capture\+White\+BGButton\+Pressed} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a1a855418427c5f496552434529a79c4e}\label{class_pencil_test_popup_a1a855418427c5f496552434529a79c4e}} 
void {\bfseries on\+Onion\+CBToggled} (bool)
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a967d245f0bf4f529040cd9d45a11b324}\label{class_pencil_test_popup_a967d245f0bf4f529040cd9d45a11b324}} 
void {\bfseries on\+Load\+Image\+Button\+Pressed} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a8931c192f9c05edfcbe177f97cc897db}\label{class_pencil_test_popup_a8931c192f9c05edfcbe177f97cc897db}} 
void {\bfseries on\+Onion\+Opacity\+Fld\+Edited} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a9f3eee0378fba25413fb3a4333bca883}\label{class_pencil_test_popup_a9f3eee0378fba25413fb3a4333bca883}} 
void {\bfseries on\+Timer\+CBToggled} (bool)
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a7c81d1523ec5215e9e648c3fa3090529}\label{class_pencil_test_popup_a7c81d1523ec5215e9e648c3fa3090529}} 
void {\bfseries on\+Capture\+Timer\+Timeout} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a843b5c725d253ad3ec3c4a51a05cbbc5}\label{class_pencil_test_popup_a843b5c725d253ad3ec3c4a51a05cbbc5}} 
void {\bfseries on\+Count\+Down} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a86230069cb9f17b6d6eb91f6f4f7b3df}\label{class_pencil_test_popup_a86230069cb9f17b6d6eb91f6f4f7b3df}} 
void {\bfseries on\+Capture\+Button\+Clicked} (bool)
\item 
\mbox{\Hypertarget{class_pencil_test_popup_adda93a363396643f652e6bc07a09b983}\label{class_pencil_test_popup_adda93a363396643f652e6bc07a09b983}} 
void {\bfseries on\+Capture\+Filter\+Settings\+Btn\+Pressed} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a8f31684f71c8491ae17680e893771cb4}\label{class_pencil_test_popup_a8f31684f71c8491ae17680e893771cb4}} 
void {\bfseries refresh\+Frame\+Info} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_ac4a52f078d0998fb3deb115d090ac1af}\label{class_pencil_test_popup_ac4a52f078d0998fb3deb115d090ac1af}} 
void {\bfseries on\+Save\+In\+Path\+Edited} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a96ec3ad4d3e3b2eb2e16332fabad097f}\label{class_pencil_test_popup_a96ec3ad4d3e3b2eb2e16332fabad097f}} 
void {\bfseries on\+Scene\+Switched} ()
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a7995fd0a0a96a3d1c5965fc8bdf3f075}\label{class_pencil_test_popup_a7995fd0a0a96a3d1c5965fc8bdf3f075}} 
void {\bfseries on\+Sub\+Camera\+Toggled} (bool)
\item 
\mbox{\Hypertarget{class_pencil_test_popup_aa73df376f9d3afd84ff169d4e32aa635}\label{class_pencil_test_popup_aa73df376f9d3afd84ff169d4e32aa635}} 
void {\bfseries on\+Sub\+Camera\+Resized} (bool is\+Dragging)
\item 
\mbox{\Hypertarget{class_pencil_test_popup_aca299d158212a7f5fb4e727fbdc04472}\label{class_pencil_test_popup_aca299d158212a7f5fb4e727fbdc04472}} 
void {\bfseries on\+Sub\+Camera\+Size\+Edited} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_pencil_test_popup_a463f58f01b514482c80835d84f29d8d7}{show\+Event}} (QShow\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_pencil_test_popup_ac257adf2d916c8f30a819fb323dc2634}{hide\+Event}} (QHide\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_pencil_test_popup_ac3f09f7b084cc898352699cace552959}{key\+Press\+Event}} (QKey\+Event $\ast$event) override
\item 
bool \mbox{\hyperlink{class_pencil_test_popup_a481bd73f49e2243a1d404011bff1fa35}{event}} (QEvent $\ast$e) override
\item 
\mbox{\Hypertarget{class_pencil_test_popup_af02b6806d8b435efbc8e1ae383428213}\label{class_pencil_test_popup_af02b6806d8b435efbc8e1ae383428213}} 
void {\bfseries show\+Event} (QShow\+Event $\ast$event)
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a726751e4992040c41ff9d08e95915ffb}\label{class_pencil_test_popup_a726751e4992040c41ff9d08e95915ffb}} 
void {\bfseries hide\+Event} (QHide\+Event $\ast$event)
\item 
\mbox{\Hypertarget{class_pencil_test_popup_af2d1281d1a3b4dcf986a551bafcad7f3}\label{class_pencil_test_popup_af2d1281d1a3b4dcf986a551bafcad7f3}} 
void {\bfseries key\+Press\+Event} (QKey\+Event $\ast$event)
\item 
\mbox{\Hypertarget{class_pencil_test_popup_a481bd73f49e2243a1d404011bff1fa35}\label{class_pencil_test_popup_a481bd73f49e2243a1d404011bff1fa35}} 
bool {\bfseries event} (QEvent $\ast$e) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_pencil_test_popup_adf818eb51a4f8174518c932daf43e401}\label{class_pencil_test_popup_adf818eb51a4f8174518c932daf43e401}} 
\index{PencilTestPopup@{PencilTestPopup}!PencilTestPopup@{PencilTestPopup}}
\index{PencilTestPopup@{PencilTestPopup}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{PencilTestPopup()}{PencilTestPopup()}}
{\footnotesize\ttfamily Pencil\+Test\+Popup\+::\+Pencil\+Test\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01267     : \mbox{\hyperlink{class_d_v_gui_1_1_dialog}{Dialog}}(0, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{stringliteral}{"{}PencilTest"{}})}
\DoxyCodeLine{01268     , m\_currentCamera(NULL)}
\DoxyCodeLine{01269     , m\_captureWhiteBGCue(\textcolor{keyword}{false})}
\DoxyCodeLine{01270     , m\_captureCue(\textcolor{keyword}{false})}
\DoxyCodeLine{01271     , m\_useMjpg(CamCapUseMjpg != 0)}
\DoxyCodeLine{01272 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{01273     , m\_useDirectShow(CamCapUseDirectShow != 0)}
\DoxyCodeLine{01274 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01275 \{}
\DoxyCodeLine{01276   setWindowTitle(tr(\textcolor{stringliteral}{"{}Camera Capture"{}}));}
\DoxyCodeLine{01277 }
\DoxyCodeLine{01278   \textcolor{comment}{// add maximize button to the dialog}}
\DoxyCodeLine{01279   setWindowFlags(windowFlags() | Qt::WindowMaximizeButtonHint);}
\DoxyCodeLine{01280 }
\DoxyCodeLine{01281   layout()-\/>setSizeConstraint(QLayout::SetNoConstraint);}
\DoxyCodeLine{01282 }
\DoxyCodeLine{01283   m\_saveInFolderPopup = \textcolor{keyword}{new} \mbox{\hyperlink{class_pencil_test_save_in_folder_popup}{PencilTestSaveInFolderPopup}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01284 }
\DoxyCodeLine{01285   m\_videoWidget = \textcolor{keyword}{new} \mbox{\hyperlink{class_my_video_widget}{MyVideoWidget}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01286 }
\DoxyCodeLine{01287   m\_cameraListCombo                 = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01288   QPushButton* refreshCamListButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Refresh"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01289   m\_resolutionCombo                 = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01290 }
\DoxyCodeLine{01291   QGroupBox* fileFrame = \textcolor{keyword}{new} QGroupBox(tr(\textcolor{stringliteral}{"{}File"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01292   m\_levelNameEdit      = \textcolor{keyword}{new} \mbox{\hyperlink{class_level_name_line_edit}{LevelNameLineEdit}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01293   \textcolor{comment}{// set the start frame 10 if the option in preferences}}
\DoxyCodeLine{01294   \textcolor{comment}{// "{}Show ABC Appendix to the Frame Number in Xsheet Cell"{} is active.}}
\DoxyCodeLine{01295   \textcolor{comment}{// (frame 10 is displayed as "{}1"{} with this option)}}
\DoxyCodeLine{01296   \textcolor{keywordtype}{int} startFrame =}
\DoxyCodeLine{01297       Preferences::instance()-\/>isShowFrameNumberWithLettersEnabled() ? 10 : 1;}
\DoxyCodeLine{01298   m\_frameNumberEdit        = \textcolor{keyword}{new} \mbox{\hyperlink{class_frame_number_line_edit}{FrameNumberLineEdit}}(\textcolor{keyword}{this}, startFrame);}
\DoxyCodeLine{01299   m\_frameInfoLabel         = \textcolor{keyword}{new} QLabel(\textcolor{stringliteral}{"{}"{}}, \textcolor{keyword}{this});}
\DoxyCodeLine{01300   m\_fileTypeCombo          = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01301   m\_fileFormatOptionButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Options"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01302 }
\DoxyCodeLine{01303   m\_saveInFileFld = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_file_field}{FileField}}(\textcolor{keyword}{this}, m\_saveInFolderPopup-\/>getParentPath());}
\DoxyCodeLine{01304 }
\DoxyCodeLine{01305   QToolButton* nextLevelButton = \textcolor{keyword}{new} QToolButton(\textcolor{keyword}{this});}
\DoxyCodeLine{01306   m\_previousLevelButton        = \textcolor{keyword}{new} QToolButton(\textcolor{keyword}{this});}
\DoxyCodeLine{01307 }
\DoxyCodeLine{01308   m\_saveOnCaptureCB =}
\DoxyCodeLine{01309       \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Save images as they are captured"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01310 }
\DoxyCodeLine{01311   QGroupBox* imageFrame = \textcolor{keyword}{new} QGroupBox(tr(\textcolor{stringliteral}{"{}Image adjust"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01312   m\_colorTypeCombo      = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{01313 }
\DoxyCodeLine{01314   m\_camCapLevelControl = \textcolor{keyword}{new} \mbox{\hyperlink{class_camera_capture_level_control}{CameraCaptureLevelControl}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01315   m\_upsideDownCB       = \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Upside down"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01316 }
\DoxyCodeLine{01317   m\_bgReductionFld       = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_int_field}{IntField}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01318   m\_captureWhiteBGButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Capture white BG"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01319 }
\DoxyCodeLine{01320   QGroupBox* displayFrame = \textcolor{keyword}{new} QGroupBox(tr(\textcolor{stringliteral}{"{}Display"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01321   m\_onionSkinCB           = \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Show onion skin"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01322   m\_loadImageButton       = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Load Selected Image"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01323   m\_onionOpacityFld       = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_int_field}{IntField}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01324 }
\DoxyCodeLine{01325   QGroupBox* timerFrame = \textcolor{keyword}{new} QGroupBox(tr(\textcolor{stringliteral}{"{}Interval timer"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01326   m\_timerCB             = \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Use interval timer"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01327   m\_timerIntervalFld    = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_int_field}{IntField}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01328   m\_captureTimer        = \textcolor{keyword}{new} QTimer(\textcolor{keyword}{this});}
\DoxyCodeLine{01329   m\_countdownTimer      = \textcolor{keyword}{new} QTimer(\textcolor{keyword}{this});}
\DoxyCodeLine{01330   m\_timer               = \textcolor{keyword}{new} QTimer(\textcolor{keyword}{this});}
\DoxyCodeLine{01331 }
\DoxyCodeLine{01332   m\_captureButton          = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Capture\(\backslash\)n[Return key]"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01333   QPushButton* closeButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Close"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01334 }
\DoxyCodeLine{01335 \textcolor{preprocessor}{\#ifdef WIN32}}
\DoxyCodeLine{01336   m\_captureFilterSettingsBtn = \textcolor{keyword}{new} QPushButton(\textcolor{keyword}{this});}
\DoxyCodeLine{01337 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01338   m\_captureFilterSettingsBtn = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01339 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01340 }
\DoxyCodeLine{01341   QPushButton* subfolderButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Subfolder"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01342 }
\DoxyCodeLine{01343   \textcolor{comment}{// subcamera}}
\DoxyCodeLine{01344   m\_subcameraButton     = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Subcamera"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{01345   m\_subWidthFld         = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit}{IntLineEdit}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01346   m\_subHeightFld        = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit}{IntLineEdit}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01347   QWidget* subCamWidget = \textcolor{keyword}{new} QWidget(\textcolor{keyword}{this});}
\DoxyCodeLine{01348 }
\DoxyCodeLine{01349   \textcolor{comment}{//-\/-\/-\/-\/}}
\DoxyCodeLine{01350 }
\DoxyCodeLine{01351   m\_resolutionCombo-\/>setMaximumWidth(fontMetrics().width(\textcolor{stringliteral}{"{}0000 x 0000"{}}) + 25);}
\DoxyCodeLine{01352   m\_fileTypeCombo-\/>addItems(\{\textcolor{stringliteral}{"{}jpg"{}}, \textcolor{stringliteral}{"{}png"{}}, \textcolor{stringliteral}{"{}tga"{}}, \textcolor{stringliteral}{"{}tif"{}}\});}
\DoxyCodeLine{01353   m\_fileTypeCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01354 }
\DoxyCodeLine{01355   fileFrame-\/>setObjectName(\textcolor{stringliteral}{"{}CleanupSettingsFrame"{}});}
\DoxyCodeLine{01356   m\_frameNumberEdit-\/>setObjectName(\textcolor{stringliteral}{"{}LargeSizedText"{}});}
\DoxyCodeLine{01357   m\_frameInfoLabel-\/>setAlignment(Qt::AlignRight);}
\DoxyCodeLine{01358   nextLevelButton-\/>setFixedSize(24, 24);}
\DoxyCodeLine{01359   nextLevelButton-\/>setArrowType(Qt::RightArrow);}
\DoxyCodeLine{01360   nextLevelButton-\/>setToolTip(tr(\textcolor{stringliteral}{"{}Next Level"{}}));}
\DoxyCodeLine{01361   m\_previousLevelButton-\/>setFixedSize(24, 24);}
\DoxyCodeLine{01362   m\_previousLevelButton-\/>setArrowType(Qt::LeftArrow);}
\DoxyCodeLine{01363   m\_previousLevelButton-\/>setToolTip(tr(\textcolor{stringliteral}{"{}Previous Level"{}}));}
\DoxyCodeLine{01364   m\_saveOnCaptureCB-\/>setChecked(\textcolor{keyword}{true});}
\DoxyCodeLine{01365 }
\DoxyCodeLine{01366   imageFrame-\/>setObjectName(\textcolor{stringliteral}{"{}CleanupSettingsFrame"{}});}
\DoxyCodeLine{01367   m\_colorTypeCombo-\/>addItems(}
\DoxyCodeLine{01368       \{tr(\textcolor{stringliteral}{"{}Color"{}}), tr(\textcolor{stringliteral}{"{}Grayscale"{}}), tr(\textcolor{stringliteral}{"{}Black \& White"{}})\});}
\DoxyCodeLine{01369   m\_colorTypeCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01370   m\_upsideDownCB-\/>setChecked(\textcolor{keyword}{false});}
\DoxyCodeLine{01371 }
\DoxyCodeLine{01372   m\_bgReductionFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a055d473a8dde4481be33a83c9fa04c96}{setRange}}(0, 100);}
\DoxyCodeLine{01373   m\_bgReductionFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_aed421e2c52946f2c7643534b4f6f13f7}{setValue}}(0);}
\DoxyCodeLine{01374   m\_bgReductionFld-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{01375 }
\DoxyCodeLine{01376   displayFrame-\/>setObjectName(\textcolor{stringliteral}{"{}CleanupSettingsFrame"{}});}
\DoxyCodeLine{01377   m\_onionSkinCB-\/>setChecked(\textcolor{keyword}{false});}
\DoxyCodeLine{01378   m\_onionOpacityFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a055d473a8dde4481be33a83c9fa04c96}{setRange}}(1, 100);}
\DoxyCodeLine{01379   m\_onionOpacityFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_aed421e2c52946f2c7643534b4f6f13f7}{setValue}}(50);}
\DoxyCodeLine{01380   m\_onionOpacityFld-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{01381 }
\DoxyCodeLine{01382   timerFrame-\/>setObjectName(\textcolor{stringliteral}{"{}CleanupSettingsFrame"{}});}
\DoxyCodeLine{01383   m\_timerCB-\/>setChecked(\textcolor{keyword}{false});}
\DoxyCodeLine{01384   m\_timerIntervalFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a055d473a8dde4481be33a83c9fa04c96}{setRange}}(0, 60);}
\DoxyCodeLine{01385   m\_timerIntervalFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_aed421e2c52946f2c7643534b4f6f13f7}{setValue}}(10);}
\DoxyCodeLine{01386   m\_timerIntervalFld-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{01387   \textcolor{comment}{// Make the interval timer single-\/shot. When the capture finished, restart}}
\DoxyCodeLine{01388   \textcolor{comment}{// timer for next frame.}}
\DoxyCodeLine{01389   \textcolor{comment}{// This is because capturing and saving the image needs some time.}}
\DoxyCodeLine{01390   m\_captureTimer-\/>setSingleShot(\textcolor{keyword}{true});}
\DoxyCodeLine{01391 }
\DoxyCodeLine{01392   m\_captureButton-\/>setObjectName(\textcolor{stringliteral}{"{}LargeSizedText"{}});}
\DoxyCodeLine{01393   m\_captureButton-\/>setFixedHeight(75);}
\DoxyCodeLine{01394   QCommonStyle style;}
\DoxyCodeLine{01395   m\_captureButton-\/>setIcon(style.standardIcon(QStyle::SP\_DialogOkButton));}
\DoxyCodeLine{01396   m\_captureButton-\/>setIconSize(QSize(30, 30));}
\DoxyCodeLine{01397   \textcolor{keywordflow}{if} (m\_captureFilterSettingsBtn) \{}
\DoxyCodeLine{01398     m\_captureFilterSettingsBtn-\/>setObjectName(\textcolor{stringliteral}{"{}GearButton"{}});}
\DoxyCodeLine{01399     m\_captureFilterSettingsBtn-\/>setFixedSize(24, 24);}
\DoxyCodeLine{01400     m\_captureFilterSettingsBtn-\/>setIconSize(QSize(16, 16));}
\DoxyCodeLine{01401     m\_captureFilterSettingsBtn-\/>setIcon(createQIcon(\textcolor{stringliteral}{"{}gear"{}}));}
\DoxyCodeLine{01402     m\_captureFilterSettingsBtn-\/>setToolTip(tr(\textcolor{stringliteral}{"{}Options"{}}));}
\DoxyCodeLine{01403     m\_captureFilterSettingsBtn-\/>setMenu(createOptionsMenu());}
\DoxyCodeLine{01404   \}}
\DoxyCodeLine{01405 }
\DoxyCodeLine{01406   subfolderButton-\/>setObjectName(\textcolor{stringliteral}{"{}SubfolderButton"{}});}
\DoxyCodeLine{01407   subfolderButton-\/>setIconSize(QSize(16, 16));}
\DoxyCodeLine{01408   subfolderButton-\/>setIcon(createQIcon(\textcolor{stringliteral}{"{}folder\_new"{}}));}
\DoxyCodeLine{01409   m\_saveInFileFld-\/>setMaximumWidth(380);}
\DoxyCodeLine{01410 }
\DoxyCodeLine{01411   m\_saveInFolderPopup-\/>hide();}
\DoxyCodeLine{01412 }
\DoxyCodeLine{01413   m\_subcameraButton-\/>setObjectName(\textcolor{stringliteral}{"{}SubcameraButton"{}});}
\DoxyCodeLine{01414   m\_subcameraButton-\/>setIconSize(QSize(16, 16));}
\DoxyCodeLine{01415   m\_subcameraButton-\/>setIcon(createQIcon(\textcolor{stringliteral}{"{}subcamera"{}}));}
\DoxyCodeLine{01416   m\_subcameraButton-\/>setCheckable(\textcolor{keyword}{true});}
\DoxyCodeLine{01417   m\_subcameraButton-\/>setChecked(\textcolor{keyword}{false});}
\DoxyCodeLine{01418   subCamWidget-\/>setHidden(\textcolor{keyword}{true});}
\DoxyCodeLine{01419 }
\DoxyCodeLine{01420   \textcolor{comment}{//-\/-\/-\/-\/ layout -\/-\/-\/-\/}}
\DoxyCodeLine{01421   m\_topLayout-\/>setMargin(10);}
\DoxyCodeLine{01422   m\_topLayout-\/>setSpacing(10);}
\DoxyCodeLine{01423   \{}
\DoxyCodeLine{01424     QHBoxLayout* camLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{01425     camLay-\/>setMargin(0);}
\DoxyCodeLine{01426     camLay-\/>setSpacing(3);}
\DoxyCodeLine{01427     \{}
\DoxyCodeLine{01428       camLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Camera:"{}}), \textcolor{keyword}{this}), 0);}
\DoxyCodeLine{01429       camLay-\/>addWidget(m\_cameraListCombo, 1);}
\DoxyCodeLine{01430       camLay-\/>addWidget(refreshCamListButton, 0);}
\DoxyCodeLine{01431       camLay-\/>addSpacing(10);}
\DoxyCodeLine{01432       camLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Resolution:"{}}), \textcolor{keyword}{this}), 0);}
\DoxyCodeLine{01433       camLay-\/>addWidget(m\_resolutionCombo, 1);}
\DoxyCodeLine{01434 }
\DoxyCodeLine{01435       \textcolor{keywordflow}{if} (m\_captureFilterSettingsBtn) \{}
\DoxyCodeLine{01436         camLay-\/>addSpacing(10);}
\DoxyCodeLine{01437         camLay-\/>addWidget(m\_captureFilterSettingsBtn);}
\DoxyCodeLine{01438       \}}
\DoxyCodeLine{01439 }
\DoxyCodeLine{01440       camLay-\/>addSpacing(10);}
\DoxyCodeLine{01441       camLay-\/>addWidget(m\_subcameraButton, 0);}
\DoxyCodeLine{01442       QHBoxLayout* subCamLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{01443       subCamLay-\/>setMargin(0);}
\DoxyCodeLine{01444       subCamLay-\/>setSpacing(3);}
\DoxyCodeLine{01445       \{}
\DoxyCodeLine{01446         subCamLay-\/>addWidget(m\_subWidthFld, 0);}
\DoxyCodeLine{01447         subCamLay-\/>addWidget(\textcolor{keyword}{new} QLabel(\textcolor{stringliteral}{"{}x"{}}, \textcolor{keyword}{this}), 0);}
\DoxyCodeLine{01448         subCamLay-\/>addWidget(m\_subHeightFld, 0);}
\DoxyCodeLine{01449         subCamLay-\/>addStretch(0);}
\DoxyCodeLine{01450       \}}
\DoxyCodeLine{01451       subCamWidget-\/>setLayout(subCamLay);}
\DoxyCodeLine{01452       camLay-\/>addWidget(subCamWidget, 0);}
\DoxyCodeLine{01453 }
\DoxyCodeLine{01454       camLay-\/>addStretch(0);}
\DoxyCodeLine{01455       camLay-\/>addSpacing(15);}
\DoxyCodeLine{01456       camLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Save In:"{}}), \textcolor{keyword}{this}), 0);}
\DoxyCodeLine{01457       camLay-\/>addWidget(m\_saveInFileFld, 1);}
\DoxyCodeLine{01458 }
\DoxyCodeLine{01459       camLay-\/>addSpacing(10);}
\DoxyCodeLine{01460       camLay-\/>addWidget(subfolderButton, 0);}
\DoxyCodeLine{01461     \}}
\DoxyCodeLine{01462     m\_topLayout-\/>addLayout(camLay, 0);}
\DoxyCodeLine{01463 }
\DoxyCodeLine{01464     QHBoxLayout* bottomLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{01465     bottomLay-\/>setMargin(0);}
\DoxyCodeLine{01466     bottomLay-\/>setSpacing(10);}
\DoxyCodeLine{01467     \{}
\DoxyCodeLine{01468       bottomLay-\/>addWidget(m\_videoWidget, 1);}
\DoxyCodeLine{01469 }
\DoxyCodeLine{01470       QVBoxLayout* rightLay = \textcolor{keyword}{new} QVBoxLayout();}
\DoxyCodeLine{01471       rightLay-\/>setMargin(0);}
\DoxyCodeLine{01472       rightLay-\/>setSpacing(5);}
\DoxyCodeLine{01473       \{}
\DoxyCodeLine{01474         QVBoxLayout* fileLay = \textcolor{keyword}{new} QVBoxLayout();}
\DoxyCodeLine{01475         fileLay-\/>setMargin(8);}
\DoxyCodeLine{01476         fileLay-\/>setSpacing(5);}
\DoxyCodeLine{01477         \{}
\DoxyCodeLine{01478           QGridLayout* levelLay = \textcolor{keyword}{new} QGridLayout();}
\DoxyCodeLine{01479           levelLay-\/>setMargin(0);}
\DoxyCodeLine{01480           levelLay-\/>setHorizontalSpacing(3);}
\DoxyCodeLine{01481           levelLay-\/>setVerticalSpacing(5);}
\DoxyCodeLine{01482           \{}
\DoxyCodeLine{01483             levelLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Name:"{}}), \textcolor{keyword}{this}), 0, 0,}
\DoxyCodeLine{01484                                 Qt::AlignRight);}
\DoxyCodeLine{01485             QHBoxLayout* nameLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{01486             nameLay-\/>setMargin(0);}
\DoxyCodeLine{01487             nameLay-\/>setSpacing(2);}
\DoxyCodeLine{01488             \{}
\DoxyCodeLine{01489               nameLay-\/>addWidget(m\_previousLevelButton, 0);}
\DoxyCodeLine{01490               nameLay-\/>addWidget(m\_levelNameEdit, 1);}
\DoxyCodeLine{01491               nameLay-\/>addWidget(nextLevelButton, 0);}
\DoxyCodeLine{01492             \}}
\DoxyCodeLine{01493             levelLay-\/>addLayout(nameLay, 0, 1);}
\DoxyCodeLine{01494 }
\DoxyCodeLine{01495             levelLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Frame:"{}}), \textcolor{keyword}{this}), 1, 0,}
\DoxyCodeLine{01496                                 Qt::AlignRight);}
\DoxyCodeLine{01497 }
\DoxyCodeLine{01498             QHBoxLayout* frameLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{01499             frameLay-\/>setMargin(0);}
\DoxyCodeLine{01500             frameLay-\/>setSpacing(2);}
\DoxyCodeLine{01501             \{}
\DoxyCodeLine{01502               frameLay-\/>addWidget(m\_frameNumberEdit, 1);}
\DoxyCodeLine{01503               frameLay-\/>addWidget(m\_frameInfoLabel, 1, Qt::AlignVCenter);}
\DoxyCodeLine{01504             \}}
\DoxyCodeLine{01505             levelLay-\/>addLayout(frameLay, 1, 1);}
\DoxyCodeLine{01506           \}}
\DoxyCodeLine{01507           levelLay-\/>setColumnStretch(0, 0);}
\DoxyCodeLine{01508           levelLay-\/>setColumnStretch(1, 1);}
\DoxyCodeLine{01509           fileLay-\/>addLayout(levelLay, 0);}
\DoxyCodeLine{01510 }
\DoxyCodeLine{01511           QHBoxLayout* fileTypeLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{01512           fileTypeLay-\/>setMargin(0);}
\DoxyCodeLine{01513           fileTypeLay-\/>setSpacing(3);}
\DoxyCodeLine{01514           \{}
\DoxyCodeLine{01515             fileTypeLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}File Type:"{}}), \textcolor{keyword}{this}), 0);}
\DoxyCodeLine{01516             fileTypeLay-\/>addWidget(m\_fileTypeCombo, 1);}
\DoxyCodeLine{01517             fileTypeLay-\/>addSpacing(10);}
\DoxyCodeLine{01518             fileTypeLay-\/>addWidget(m\_fileFormatOptionButton);}
\DoxyCodeLine{01519           \}}
\DoxyCodeLine{01520           fileLay-\/>addLayout(fileTypeLay, 0);}
\DoxyCodeLine{01521 }
\DoxyCodeLine{01522           fileLay-\/>addWidget(m\_saveOnCaptureCB, 0);}
\DoxyCodeLine{01523         \}}
\DoxyCodeLine{01524         fileFrame-\/>setLayout(fileLay);}
\DoxyCodeLine{01525         rightLay-\/>addWidget(fileFrame, 0);}
\DoxyCodeLine{01526 }
\DoxyCodeLine{01527         QGridLayout* imageLay = \textcolor{keyword}{new} QGridLayout();}
\DoxyCodeLine{01528         imageLay-\/>setMargin(8);}
\DoxyCodeLine{01529         imageLay-\/>setHorizontalSpacing(3);}
\DoxyCodeLine{01530         imageLay-\/>setVerticalSpacing(5);}
\DoxyCodeLine{01531         \{}
\DoxyCodeLine{01532           imageLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Color type:"{}}), \textcolor{keyword}{this}), 0, 0,}
\DoxyCodeLine{01533                               Qt::AlignRight);}
\DoxyCodeLine{01534           imageLay-\/>addWidget(m\_colorTypeCombo, 0, 1);}
\DoxyCodeLine{01535 }
\DoxyCodeLine{01536           imageLay-\/>addWidget(m\_camCapLevelControl, 1, 0, 1, 3);}
\DoxyCodeLine{01537 }
\DoxyCodeLine{01538           imageLay-\/>addWidget(m\_upsideDownCB, 2, 0, 1, 3, Qt::AlignLeft);}
\DoxyCodeLine{01539 }
\DoxyCodeLine{01540           imageLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}BG reduction:"{}}), \textcolor{keyword}{this}), 3, 0,}
\DoxyCodeLine{01541                               Qt::AlignRight);}
\DoxyCodeLine{01542           imageLay-\/>addWidget(m\_bgReductionFld, 3, 1, 1, 2);}
\DoxyCodeLine{01543 }
\DoxyCodeLine{01544           imageLay-\/>addWidget(m\_captureWhiteBGButton, 4, 0, 1, 3);}
\DoxyCodeLine{01545         \}}
\DoxyCodeLine{01546         imageLay-\/>setColumnStretch(0, 0);}
\DoxyCodeLine{01547         imageLay-\/>setColumnStretch(1, 0);}
\DoxyCodeLine{01548         imageLay-\/>setColumnStretch(2, 1);}
\DoxyCodeLine{01549         imageFrame-\/>setLayout(imageLay);}
\DoxyCodeLine{01550         rightLay-\/>addWidget(imageFrame, 0);}
\DoxyCodeLine{01551 }
\DoxyCodeLine{01552         QGridLayout* displayLay = \textcolor{keyword}{new} QGridLayout();}
\DoxyCodeLine{01553         displayLay-\/>setMargin(8);}
\DoxyCodeLine{01554         displayLay-\/>setHorizontalSpacing(3);}
\DoxyCodeLine{01555         displayLay-\/>setVerticalSpacing(5);}
\DoxyCodeLine{01556         \{}
\DoxyCodeLine{01557           displayLay-\/>addWidget(m\_onionSkinCB, 0, 0, 1, 2);}
\DoxyCodeLine{01558 }
\DoxyCodeLine{01559           displayLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Opacity(\%):"{}}), \textcolor{keyword}{this}), 1, 0,}
\DoxyCodeLine{01560                                 Qt::AlignRight);}
\DoxyCodeLine{01561           displayLay-\/>addWidget(m\_onionOpacityFld, 1, 1);}
\DoxyCodeLine{01562           displayLay-\/>addWidget(m\_loadImageButton, 2, 0, 1, 2);}
\DoxyCodeLine{01563         \}}
\DoxyCodeLine{01564         displayLay-\/>setColumnStretch(0, 0);}
\DoxyCodeLine{01565         displayLay-\/>setColumnStretch(1, 1);}
\DoxyCodeLine{01566         displayFrame-\/>setLayout(displayLay);}
\DoxyCodeLine{01567         rightLay-\/>addWidget(displayFrame);}
\DoxyCodeLine{01568 }
\DoxyCodeLine{01569         QGridLayout* timerLay = \textcolor{keyword}{new} QGridLayout();}
\DoxyCodeLine{01570         timerLay-\/>setMargin(8);}
\DoxyCodeLine{01571         timerLay-\/>setHorizontalSpacing(3);}
\DoxyCodeLine{01572         timerLay-\/>setVerticalSpacing(5);}
\DoxyCodeLine{01573         \{}
\DoxyCodeLine{01574           timerLay-\/>addWidget(m\_timerCB, 0, 0, 1, 2);}
\DoxyCodeLine{01575 }
\DoxyCodeLine{01576           timerLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Interval(sec):"{}}), \textcolor{keyword}{this}), 1, 0,}
\DoxyCodeLine{01577                               Qt::AlignRight);}
\DoxyCodeLine{01578           timerLay-\/>addWidget(m\_timerIntervalFld, 1, 1);}
\DoxyCodeLine{01579         \}}
\DoxyCodeLine{01580         timerLay-\/>setColumnStretch(0, 0);}
\DoxyCodeLine{01581         timerLay-\/>setColumnStretch(1, 1);}
\DoxyCodeLine{01582         timerFrame-\/>setLayout(timerLay);}
\DoxyCodeLine{01583         rightLay-\/>addWidget(timerFrame);}
\DoxyCodeLine{01584 }
\DoxyCodeLine{01585         rightLay-\/>addStretch(1);}
\DoxyCodeLine{01586 }
\DoxyCodeLine{01587         rightLay-\/>addWidget(m\_captureButton, 0);}
\DoxyCodeLine{01588         rightLay-\/>addSpacing(10);}
\DoxyCodeLine{01589         rightLay-\/>addWidget(closeButton, 0);}
\DoxyCodeLine{01590         rightLay-\/>addSpacing(5);}
\DoxyCodeLine{01591       \}}
\DoxyCodeLine{01592       bottomLay-\/>addLayout(rightLay, 0);}
\DoxyCodeLine{01593     \}}
\DoxyCodeLine{01594     m\_topLayout-\/>addLayout(bottomLay, 1);}
\DoxyCodeLine{01595   \}}
\DoxyCodeLine{01596 }
\DoxyCodeLine{01597   \textcolor{comment}{//-\/-\/-\/-\/ signal-\/slot connections -\/-\/-\/-\/}}
\DoxyCodeLine{01598   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{true};}
\DoxyCodeLine{01599   ret      = ret \&\& connect(refreshCamListButton, SIGNAL(pressed()), \textcolor{keyword}{this},}
\DoxyCodeLine{01600                        SLOT(refreshCameraList()));}
\DoxyCodeLine{01601   ret      = ret \&\& connect(m\_cameraListCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{01602                        SLOT(onCameraListComboActivated(\textcolor{keywordtype}{int})));}
\DoxyCodeLine{01603   ret      = ret \&\& connect(m\_resolutionCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{01604                        SLOT(onResolutionComboActivated()));}
\DoxyCodeLine{01605   ret      = ret \&\& connect(m\_fileFormatOptionButton, SIGNAL(pressed()), \textcolor{keyword}{this},}
\DoxyCodeLine{01606                        SLOT(onFileFormatOptionButtonPressed()));}
\DoxyCodeLine{01607   ret      = ret \&\& connect(m\_levelNameEdit, SIGNAL(levelNameEdited()), \textcolor{keyword}{this},}
\DoxyCodeLine{01608                        SLOT(onLevelNameEdited()));}
\DoxyCodeLine{01609   ret      = ret \&\&}
\DoxyCodeLine{01610         connect(nextLevelButton, SIGNAL(pressed()), \textcolor{keyword}{this}, SLOT(onNextName()));}
\DoxyCodeLine{01611   ret = ret \&\& connect(m\_previousLevelButton, SIGNAL(pressed()), \textcolor{keyword}{this},}
\DoxyCodeLine{01612                        SLOT(onPreviousName()));}
\DoxyCodeLine{01613   ret = ret \&\& connect(m\_colorTypeCombo, SIGNAL(currentIndexChanged(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{01614                        SLOT(onColorTypeComboChanged(\textcolor{keywordtype}{int})));}
\DoxyCodeLine{01615   ret = ret \&\& connect(m\_captureWhiteBGButton, SIGNAL(pressed()), \textcolor{keyword}{this},}
\DoxyCodeLine{01616                        SLOT(onCaptureWhiteBGButtonPressed()));}
\DoxyCodeLine{01617   ret = ret \&\& connect(m\_onionSkinCB, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01618                        SLOT(onOnionCBToggled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01619   ret = ret \&\& connect(m\_loadImageButton, SIGNAL(pressed()), \textcolor{keyword}{this},}
\DoxyCodeLine{01620                        SLOT(onLoadImageButtonPressed()));}
\DoxyCodeLine{01621   ret = ret \&\& connect(m\_onionOpacityFld, SIGNAL(valueEditedByHand()), \textcolor{keyword}{this},}
\DoxyCodeLine{01622                        SLOT(onOnionOpacityFldEdited()));}
\DoxyCodeLine{01623   ret = ret \&\& connect(m\_upsideDownCB, SIGNAL(toggled(\textcolor{keywordtype}{bool})), m\_videoWidget,}
\DoxyCodeLine{01624                        SLOT(onUpsideDownChecked(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01625   ret = ret \&\& connect(m\_timerCB, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01626                        SLOT(onTimerCBToggled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01627   ret = ret \&\& connect(m\_captureTimer, SIGNAL(timeout()), \textcolor{keyword}{this},}
\DoxyCodeLine{01628                        SLOT(onCaptureTimerTimeout()));}
\DoxyCodeLine{01629   ret = ret \&\&}
\DoxyCodeLine{01630         connect(m\_countdownTimer, SIGNAL(timeout()), \textcolor{keyword}{this}, SLOT(onCountDown()));}
\DoxyCodeLine{01631 }
\DoxyCodeLine{01632   ret = ret \&\& connect(closeButton, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(reject()));}
\DoxyCodeLine{01633   ret = ret \&\& connect(m\_captureButton, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01634                        SLOT(onCaptureButtonClicked(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01635   ret = ret \&\& connect(subfolderButton, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01636                        SLOT(openSaveInFolderPopup()));}
\DoxyCodeLine{01637   ret = ret \&\& connect(m\_saveInFileFld, SIGNAL(pathChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{01638                        SLOT(onSaveInPathEdited()));}
\DoxyCodeLine{01639   ret = ret \&\& connect(m\_fileTypeCombo, SIGNAL(activated(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{01640                        SLOT(refreshFrameInfo()));}
\DoxyCodeLine{01641   ret = ret \&\& connect(m\_frameNumberEdit, SIGNAL(editingFinished()), \textcolor{keyword}{this},}
\DoxyCodeLine{01642                        SLOT(refreshFrameInfo()));}
\DoxyCodeLine{01643 }
\DoxyCodeLine{01644   \textcolor{comment}{// sub camera}}
\DoxyCodeLine{01645   ret = ret \&\& connect(m\_subcameraButton, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01646                        SLOT(onSubCameraToggled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01647   ret = ret \&\& connect(m\_subcameraButton, SIGNAL(toggled(\textcolor{keywordtype}{bool})), subCamWidget,}
\DoxyCodeLine{01648                        SLOT(setVisible(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01649   ret = ret \&\& connect(m\_subWidthFld, SIGNAL(editingFinished()), \textcolor{keyword}{this},}
\DoxyCodeLine{01650                        SLOT(onSubCameraSizeEdited()));}
\DoxyCodeLine{01651   ret = ret \&\& connect(m\_subHeightFld, SIGNAL(editingFinished()), \textcolor{keyword}{this},}
\DoxyCodeLine{01652                        SLOT(onSubCameraSizeEdited()));}
\DoxyCodeLine{01653   ret = ret \&\& connect(m\_videoWidget, SIGNAL(subCameraResized(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01654                        SLOT(onSubCameraResized(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01655 }
\DoxyCodeLine{01656   ret = ret \&\& connect(m\_timer, SIGNAL(timeout()), \textcolor{keyword}{this}, SLOT(onTimeout()));}
\DoxyCodeLine{01657   assert(ret);}
\DoxyCodeLine{01658 }
\DoxyCodeLine{01659   refreshCameraList();}
\DoxyCodeLine{01660 }
\DoxyCodeLine{01661   \textcolor{keywordtype}{int} startupCamIndex = m\_cameraListCombo-\/>findText(}
\DoxyCodeLine{01662       QString::fromStdString(CamCapCameraName.getValue()));}
\DoxyCodeLine{01663   \textcolor{comment}{// if previous camera is not found, then try to activate the connected default}}
\DoxyCodeLine{01664   \textcolor{comment}{// camera}}
\DoxyCodeLine{01665   \textcolor{keywordflow}{if} (startupCamIndex <= 0 \&\& !QCameraInfo::defaultCamera().isNull()) \{}
\DoxyCodeLine{01666     startupCamIndex =}
\DoxyCodeLine{01667         m\_cameraListCombo-\/>findText(QCameraInfo::defaultCamera().description());}
\DoxyCodeLine{01668   \}}
\DoxyCodeLine{01669   \textcolor{keywordflow}{if} (startupCamIndex > 0) \{}
\DoxyCodeLine{01670     m\_cameraListCombo-\/>setCurrentIndex(startupCamIndex);}
\DoxyCodeLine{01671     onCameraListComboActivated(startupCamIndex);}
\DoxyCodeLine{01672   \}}
\DoxyCodeLine{01673   \textcolor{comment}{// just in case, try to activate any connected camera}}
\DoxyCodeLine{01674   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_cameraListCombo-\/>count() >= 2) \{}
\DoxyCodeLine{01675     m\_cameraListCombo-\/>setCurrentIndex(1);}
\DoxyCodeLine{01676     onCameraListComboActivated(1);}
\DoxyCodeLine{01677   \}}
\DoxyCodeLine{01678 }
\DoxyCodeLine{01679   QString resStr = QString::fromStdString(CamCapCameraResolution.getValue());}
\DoxyCodeLine{01680   \textcolor{keywordflow}{if} (m\_currentCamera \&\& !resStr.isEmpty()) \{}
\DoxyCodeLine{01681     \textcolor{keywordtype}{int} startupResolutionIndex = m\_resolutionCombo-\/>findText(resStr);}
\DoxyCodeLine{01682     \textcolor{keywordflow}{if} (startupResolutionIndex >= 0) \{}
\DoxyCodeLine{01683       m\_resolutionCombo-\/>setCurrentIndex(startupResolutionIndex);}
\DoxyCodeLine{01684       onResolutionComboActivated();}
\DoxyCodeLine{01685     \}}
\DoxyCodeLine{01686   \}}
\DoxyCodeLine{01687 }
\DoxyCodeLine{01688   setToNextNewLevel();}
\DoxyCodeLine{01689 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a3f3c75db4de41bd93d5c25fec199631b}\label{class_pencil_test_popup_a3f3c75db4de41bd93d5c25fec199631b}} 
\index{PencilTestPopup@{PencilTestPopup}!````~PencilTestPopup@{$\sim$PencilTestPopup}}
\index{````~PencilTestPopup@{$\sim$PencilTestPopup}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{$\sim$PencilTestPopup()}{~PencilTestPopup()}}
{\footnotesize\ttfamily Pencil\+Test\+Popup\+::$\sim$\+Pencil\+Test\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01693 \{ m\_cvWebcam.release(); \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_pencil_test_popup_a481bd73f49e2243a1d404011bff1fa35}\label{class_pencil_test_popup_a481bd73f49e2243a1d404011bff1fa35}} 
\index{PencilTestPopup@{PencilTestPopup}!event@{event}}
\index{event@{event}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{event()}{event()}}
{\footnotesize\ttfamily bool Pencil\+Test\+Popup\+::event (\begin{DoxyParamCaption}\item[{QEvent $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02256                                          \{}
\DoxyCodeLine{02257   \textcolor{keywordflow}{if} (event-\/>type() == QEvent::ShortcutOverride) \{}
\DoxyCodeLine{02258     QKeyEvent* ke = \textcolor{keyword}{static\_cast<}QKeyEvent*\textcolor{keyword}{>}(event);}
\DoxyCodeLine{02259     \textcolor{keywordtype}{int} key       = ke-\/>key();}
\DoxyCodeLine{02260     \textcolor{keywordflow}{if} (key >= Qt::Key\_0 \&\& key <= Qt::Key\_9) \{}
\DoxyCodeLine{02261       \textcolor{keywordflow}{if} (!m\_frameNumberEdit-\/>hasFocus()) \{}
\DoxyCodeLine{02262         m\_frameNumberEdit-\/>setFocus();}
\DoxyCodeLine{02263         m\_frameNumberEdit-\/>clear();}
\DoxyCodeLine{02264       \}}
\DoxyCodeLine{02265       \textcolor{keyword}{event}-\/>accept();}
\DoxyCodeLine{02266       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{02267     \}}
\DoxyCodeLine{02268   \}}
\DoxyCodeLine{02269   \textcolor{keywordflow}{return} DVGui::Dialog::event(event);}
\DoxyCodeLine{02270 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_ac257adf2d916c8f30a819fb323dc2634}\label{class_pencil_test_popup_ac257adf2d916c8f30a819fb323dc2634}} 
\index{PencilTestPopup@{PencilTestPopup}!hideEvent@{hideEvent}}
\index{hideEvent@{hideEvent}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{hideEvent()}{hideEvent()}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::hide\+Event (\begin{DoxyParamCaption}\item[{QHide\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02217                                                  \{}
\DoxyCodeLine{02218   \textcolor{comment}{// set back the "{}return"{} short cut key}}
\DoxyCodeLine{02219   QAction* action = CommandManager::instance()-\/>getActionFromShortcut(\textcolor{stringliteral}{"{}Return"{}});}
\DoxyCodeLine{02220   \textcolor{keywordflow}{if} (action) action-\/>setShortcut(QKeySequence(\textcolor{stringliteral}{"{}Return"{}}));}
\DoxyCodeLine{02221 }
\DoxyCodeLine{02222   \textcolor{comment}{// stop interval timer if it is active}}
\DoxyCodeLine{02223   \textcolor{keywordflow}{if} (m\_timerCB-\/>isChecked() \&\& m\_captureButton-\/>isChecked()) \{}
\DoxyCodeLine{02224     m\_captureButton-\/>setChecked(\textcolor{keyword}{false});}
\DoxyCodeLine{02225     onCaptureButtonClicked(\textcolor{keyword}{false});}
\DoxyCodeLine{02226   \}}
\DoxyCodeLine{02227 }
\DoxyCodeLine{02228   m\_cvWebcam.release();}
\DoxyCodeLine{02229   \textcolor{keywordflow}{if} (m\_timer-\/>isActive()) m\_timer-\/>stop();}
\DoxyCodeLine{02230 }
\DoxyCodeLine{02231   Dialog::hideEvent(event);}
\DoxyCodeLine{02232 }
\DoxyCodeLine{02233   \mbox{\hyperlink{class_t_scene_handle}{TSceneHandle}}* sceneHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}();}
\DoxyCodeLine{02234   disconnect(sceneHandle, SIGNAL(sceneSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{02235              SLOT(refreshFrameInfo()));}
\DoxyCodeLine{02236   disconnect(sceneHandle, SIGNAL(castChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{02237              SLOT(refreshFrameInfo()));}
\DoxyCodeLine{02238 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_ac3f09f7b084cc898352699cace552959}\label{class_pencil_test_popup_ac3f09f7b084cc898352699cace552959}} 
\index{PencilTestPopup@{PencilTestPopup}!keyPressEvent@{keyPressEvent}}
\index{keyPressEvent@{keyPressEvent}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{keyPressEvent()}{keyPressEvent()}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::key\+Press\+Event (\begin{DoxyParamCaption}\item[{QKey\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02242                                                     \{}
\DoxyCodeLine{02243   \textcolor{comment}{// override return (or enter) key as shortcut key for capturing}}
\DoxyCodeLine{02244   \textcolor{keywordtype}{int} key = \textcolor{keyword}{event}-\/>key();}
\DoxyCodeLine{02245   \textcolor{keywordflow}{if} (key == Qt::Key\_Return || key == Qt::Key\_Enter) \{}
\DoxyCodeLine{02246     \textcolor{comment}{// show button-\/clicking animation followed by calling}}
\DoxyCodeLine{02247     \textcolor{comment}{// onCaptureButtonClicked()}}
\DoxyCodeLine{02248     m\_captureButton-\/>animateClick();}
\DoxyCodeLine{02249     \textcolor{keyword}{event}-\/>accept();}
\DoxyCodeLine{02250   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{02251     \textcolor{keyword}{event}-\/>ignore();}
\DoxyCodeLine{02252 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a060892143693a4d8a4cb7684b155fd0f}\label{class_pencil_test_popup_a060892143693a4d8a4cb7684b155fd0f}} 
\index{PencilTestPopup@{PencilTestPopup}!onCameraListComboActivated@{onCameraListComboActivated}}
\index{onCameraListComboActivated@{onCameraListComboActivated}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onCameraListComboActivated}{onCameraListComboActivated}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Camera\+List\+Combo\+Activated (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01761                                                                \{}
\DoxyCodeLine{01762   QList<QCameraInfo> cameras = QCameraInfo::availableCameras();}
\DoxyCodeLine{01763   \textcolor{keywordflow}{if} (cameras.size() != m\_cameraListCombo-\/>count() -\/ 1) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01764 }
\DoxyCodeLine{01765   m\_cvWebcam.release();}
\DoxyCodeLine{01766   \textcolor{keywordflow}{if} (m\_timer-\/>isActive()) m\_timer-\/>stop();}
\DoxyCodeLine{01767 }
\DoxyCodeLine{01768   \textcolor{comment}{// if selected the non-\/connected state, then disconnect the current camera}}
\DoxyCodeLine{01769   \textcolor{keywordflow}{if} (comboIndex == 0) \{}
\DoxyCodeLine{01770     m\_deviceName = QString();}
\DoxyCodeLine{01771     m\_videoWidget-\/>setImage(QImage());}
\DoxyCodeLine{01772     \textcolor{comment}{// update env}}
\DoxyCodeLine{01773     CamCapCameraName = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01774     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01775   \}}
\DoxyCodeLine{01776 }
\DoxyCodeLine{01777   \textcolor{keywordtype}{int} index = comboIndex -\/ 1;}
\DoxyCodeLine{01778   \textcolor{comment}{// in case the camera is not changed (just click the combobox)}}
\DoxyCodeLine{01779   \textcolor{keywordflow}{if} (cameras.at(index).deviceName() == m\_deviceName) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01780 }
\DoxyCodeLine{01781   m\_currentCamera = \textcolor{keyword}{new} QCamera(cameras.at(index), \textcolor{keyword}{this});}
\DoxyCodeLine{01782   m\_deviceName    = cameras.at(index).deviceName();}
\DoxyCodeLine{01783 }
\DoxyCodeLine{01784   \textcolor{comment}{// loading new camera}}
\DoxyCodeLine{01785   m\_currentCamera-\/>load();}
\DoxyCodeLine{01786 }
\DoxyCodeLine{01787   \textcolor{comment}{// refresh resolution}}
\DoxyCodeLine{01788   m\_resolutionCombo-\/>clear();}
\DoxyCodeLine{01789   QList<QSize> sizes = m\_currentCamera-\/>supportedViewfinderResolutions();}
\DoxyCodeLine{01790 }
\DoxyCodeLine{01791   m\_currentCamera-\/>unload();}
\DoxyCodeLine{01792   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} QSize size : sizes) \{}
\DoxyCodeLine{01793     m\_resolutionCombo-\/>addItem(}
\DoxyCodeLine{01794         QString(\textcolor{stringliteral}{"{}\%1 x \%2"{}}).arg(size.width()).arg(size.height()), size);}
\DoxyCodeLine{01795   \}}
\DoxyCodeLine{01796   \textcolor{keywordflow}{if} (!sizes.isEmpty()) \{}
\DoxyCodeLine{01797     \textcolor{comment}{// select the largest available resolution}}
\DoxyCodeLine{01798     m\_resolutionCombo-\/>setCurrentIndex(m\_resolutionCombo-\/>count() -\/ 1);}
\DoxyCodeLine{01799   \}}
\DoxyCodeLine{01800 }
\DoxyCodeLine{01801   m\_videoWidget-\/>setImage(QImage());}
\DoxyCodeLine{01802   m\_timer-\/>start(40);}
\DoxyCodeLine{01803   \textcolor{comment}{// update env}}
\DoxyCodeLine{01804   CamCapCameraName = m\_cameraListCombo-\/>itemText(comboIndex).toStdString();}
\DoxyCodeLine{01805 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a86230069cb9f17b6d6eb91f6f4f7b3df}\label{class_pencil_test_popup_a86230069cb9f17b6d6eb91f6f4f7b3df}} 
\index{PencilTestPopup@{PencilTestPopup}!onCaptureButtonClicked@{onCaptureButtonClicked}}
\index{onCaptureButtonClicked@{onCaptureButtonClicked}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onCaptureButtonClicked}{onCaptureButtonClicked}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Capture\+Button\+Clicked (\begin{DoxyParamCaption}\item[{bool}]{on }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02393                                                     \{}
\DoxyCodeLine{02394   \textcolor{keywordflow}{if} (m\_timerCB-\/>isChecked()) \{}
\DoxyCodeLine{02395     m\_timerCB-\/>setDisabled(on);}
\DoxyCodeLine{02396     m\_timerIntervalFld-\/>setDisabled(on);}
\DoxyCodeLine{02397     \textcolor{comment}{// start interval capturing}}
\DoxyCodeLine{02398     \textcolor{keywordflow}{if} (on) \{}
\DoxyCodeLine{02399       m\_captureButton-\/>setText(tr(\textcolor{stringliteral}{"{}Stop Capturing\(\backslash\)n[Return key]"{}}));}
\DoxyCodeLine{02400       m\_captureTimer-\/>start(m\_timerIntervalFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}() * 1000);}
\DoxyCodeLine{02401       \textcolor{keywordflow}{if} (m\_timerIntervalFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}() != 0) m\_countdownTimer-\/>start(100);}
\DoxyCodeLine{02402     \}}
\DoxyCodeLine{02403     \textcolor{comment}{// stop interval capturing}}
\DoxyCodeLine{02404     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02405       m\_captureButton-\/>setText(tr(\textcolor{stringliteral}{"{}Start Capturing\(\backslash\)n[Return key]"{}}));}
\DoxyCodeLine{02406       m\_captureTimer-\/>stop();}
\DoxyCodeLine{02407       m\_countdownTimer-\/>stop();}
\DoxyCodeLine{02408       \textcolor{comment}{// hide the count down text}}
\DoxyCodeLine{02409       m\_videoWidget-\/>showCountDownTime(0);}
\DoxyCodeLine{02410     \}}
\DoxyCodeLine{02411   \}}
\DoxyCodeLine{02412   \textcolor{comment}{// capture immediately}}
\DoxyCodeLine{02413   \textcolor{keywordflow}{else}}
\DoxyCodeLine{02414     m\_captureCue = \textcolor{keyword}{true};}
\DoxyCodeLine{02415 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_adda93a363396643f652e6bc07a09b983}\label{class_pencil_test_popup_adda93a363396643f652e6bc07a09b983}} 
\index{PencilTestPopup@{PencilTestPopup}!onCaptureFilterSettingsBtnPressed@{onCaptureFilterSettingsBtnPressed}}
\index{onCaptureFilterSettingsBtnPressed@{onCaptureFilterSettingsBtnPressed}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onCaptureFilterSettingsBtnPressed}{onCaptureFilterSettingsBtnPressed}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Capture\+Filter\+Settings\+Btn\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02666                                                         \{}
\DoxyCodeLine{02667   \textcolor{keywordflow}{if} (!m\_currentCamera || m\_deviceName.isNull()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02668 }
\DoxyCodeLine{02669   QList<QCameraInfo> cameras = QCameraInfo::availableCameras();}
\DoxyCodeLine{02670   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < cameras.size(); c++) \{}
\DoxyCodeLine{02671     \textcolor{keywordflow}{if} (cameras.at(c).deviceName() == m\_deviceName) \{}
\DoxyCodeLine{02672 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{02673       openCaptureFilterSettings(\textcolor{keyword}{this}, cameras.at(c).description());}
\DoxyCodeLine{02674 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02675       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02676     \}}
\DoxyCodeLine{02677   \}}
\DoxyCodeLine{02678 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a7c81d1523ec5215e9e648c3fa3090529}\label{class_pencil_test_popup_a7c81d1523ec5215e9e648c3fa3090529}} 
\index{PencilTestPopup@{PencilTestPopup}!onCaptureTimerTimeout@{onCaptureTimerTimeout}}
\index{onCaptureTimerTimeout@{onCaptureTimerTimeout}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onCaptureTimerTimeout}{onCaptureTimerTimeout}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Capture\+Timer\+Timeout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02419 \{ m\_captureCue = \textcolor{keyword}{true}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a6bda8f5e204cb63d5572e329f0b63980}\label{class_pencil_test_popup_a6bda8f5e204cb63d5572e329f0b63980}} 
\index{PencilTestPopup@{PencilTestPopup}!onCaptureWhiteBGButtonPressed@{onCaptureWhiteBGButtonPressed}}
\index{onCaptureWhiteBGButtonPressed@{onCaptureWhiteBGButtonPressed}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onCaptureWhiteBGButtonPressed}{onCaptureWhiteBGButtonPressed}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Capture\+White\+BGButton\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02297                                                     \{}
\DoxyCodeLine{02298   m\_captureWhiteBGCue = \textcolor{keyword}{true};}
\DoxyCodeLine{02299 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a225798b5ef51f933c2bfc482b0127126}\label{class_pencil_test_popup_a225798b5ef51f933c2bfc482b0127126}} 
\index{PencilTestPopup@{PencilTestPopup}!onColorTypeComboChanged@{onColorTypeComboChanged}}
\index{onColorTypeComboChanged@{onColorTypeComboChanged}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onColorTypeComboChanged}{onColorTypeComboChanged}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Color\+Type\+Combo\+Changed (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01986                                                        \{}
\DoxyCodeLine{01987   m\_camCapLevelControl-\/>setMode(index != 2);}
\DoxyCodeLine{01988 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a843b5c725d253ad3ec3c4a51a05cbbc5}\label{class_pencil_test_popup_a843b5c725d253ad3ec3c4a51a05cbbc5}} 
\index{PencilTestPopup@{PencilTestPopup}!onCountDown@{onCountDown}}
\index{onCountDown@{onCountDown}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onCountDown}{onCountDown}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Count\+Down (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02423                                   \{}
\DoxyCodeLine{02424   m\_videoWidget-\/>showCountDownTime(}
\DoxyCodeLine{02425       m\_captureTimer-\/>isActive() ? m\_captureTimer-\/>remainingTime() : 0);}
\DoxyCodeLine{02426 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a8ce9448f2afbd4b984bffe721627cd0f}\label{class_pencil_test_popup_a8ce9448f2afbd4b984bffe721627cd0f}} 
\index{PencilTestPopup@{PencilTestPopup}!onFileFormatOptionButtonPressed@{onFileFormatOptionButtonPressed}}
\index{onFileFormatOptionButtonPressed@{onFileFormatOptionButtonPressed}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onFileFormatOptionButtonPressed}{onFileFormatOptionButtonPressed}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+File\+Format\+Option\+Button\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01861                                                       \{}
\DoxyCodeLine{01862   \textcolor{keywordflow}{if} (m\_fileTypeCombo-\/>currentIndex() == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01863   \textcolor{comment}{// Tentatively use the preview output settings}}
\DoxyCodeLine{01864   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}}* scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{01865   \textcolor{keywordflow}{if} (!scene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01866   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}}* prop = scene-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()-\/>\mbox{\hyperlink{class_t_scene_properties_a0b905e0ea16e27aa5e67da31e469026e}{getPreviewProperties}}();}
\DoxyCodeLine{01867   std::string ext         = m\_fileTypeCombo-\/>currentText().toStdString();}
\DoxyCodeLine{01868   openFormatSettingsPopup(\textcolor{keyword}{this}, ext, prop-\/>\mbox{\hyperlink{class_t_output_properties_a9ef174e6f6239219fa563b037246c8d4}{getFileFormatProperties}}(ext));}
\DoxyCodeLine{01869 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a3020833eae0fd5b8699ba942fb636ef6}\label{class_pencil_test_popup_a3020833eae0fd5b8699ba942fb636ef6}} 
\index{PencilTestPopup@{PencilTestPopup}!onFrameCaptured@{onFrameCaptured}}
\index{onFrameCaptured@{onFrameCaptured}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onFrameCaptured}{onFrameCaptured}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Frame\+Captured (\begin{DoxyParamCaption}\item[{cv\+::\+Mat \&}]{image }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02128                                                   \{}
\DoxyCodeLine{02129   \textcolor{keywordflow}{if} (!m\_videoWidget) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02130   \textcolor{comment}{// capture the white BG}}
\DoxyCodeLine{02131   \textcolor{keywordflow}{if} (m\_captureWhiteBGCue) \{}
\DoxyCodeLine{02132     ;}
\DoxyCodeLine{02133     m\_whiteBGImg        = image.clone();}
\DoxyCodeLine{02134     m\_captureWhiteBGCue = \textcolor{keyword}{false};}
\DoxyCodeLine{02135     m\_bgReductionFld-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{02136   \}}
\DoxyCodeLine{02137 }
\DoxyCodeLine{02138   processImage(image);}
\DoxyCodeLine{02139 }
\DoxyCodeLine{02140   QImage::Format format = (m\_colorTypeCombo-\/>currentIndex() == 0)}
\DoxyCodeLine{02141                               ? QImage::Format\_RGB888}
\DoxyCodeLine{02142                               : QImage::Format\_Grayscale8;}
\DoxyCodeLine{02143   QImage qimg(image.data, image.cols, image.rows, format);}
\DoxyCodeLine{02144   m\_videoWidget-\/>setImage(qimg.copy());}
\DoxyCodeLine{02145 }
\DoxyCodeLine{02146   \textcolor{keywordflow}{if} (m\_captureCue) \{}
\DoxyCodeLine{02147     m\_captureCue = \textcolor{keyword}{false};}
\DoxyCodeLine{02148 }
\DoxyCodeLine{02149     \textcolor{keywordflow}{if} (importImage(qimg)) \{}
\DoxyCodeLine{02150       m\_videoWidget-\/>setPreviousImage(qimg.copy());}
\DoxyCodeLine{02151       \textcolor{keywordflow}{if} (Preferences::instance()-\/>isShowFrameNumberWithLettersEnabled()) \{}
\DoxyCodeLine{02152         \mbox{\hyperlink{class_t_frame_id}{TFrameId}} fId = m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a7aa60456a4c4e8d6436fae4249671974}{getValue}}();}
\DoxyCodeLine{02153         \textcolor{keywordtype}{int} f        = fId.getNumber();}
\DoxyCodeLine{02154         \textcolor{keywordflow}{if} (f \% 10 == 0)  \textcolor{comment}{// next number}}
\DoxyCodeLine{02155           m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a273b6fc79080e2e47a73e317f4a5cef5}{setValue}}(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(((\textcolor{keywordtype}{int})(f / 10) + 1) * 10));}
\DoxyCodeLine{02156         \textcolor{keywordflow}{else}  \textcolor{comment}{// next alphabet}}
\DoxyCodeLine{02157           m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a273b6fc79080e2e47a73e317f4a5cef5}{setValue}}(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(f + 1));}
\DoxyCodeLine{02158       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02159         \mbox{\hyperlink{class_t_frame_id}{TFrameId}} fId = m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a7aa60456a4c4e8d6436fae4249671974}{getValue}}();}
\DoxyCodeLine{02160 }
\DoxyCodeLine{02161         \textcolor{keywordflow}{if} (fId.getLetter().isEmpty() || fId.getLetter() == \textcolor{stringliteral}{"{}Z"{}} ||}
\DoxyCodeLine{02162             fId.getLetter() == \textcolor{stringliteral}{"{}z"{}})  \textcolor{comment}{// next number}}
\DoxyCodeLine{02163           m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a273b6fc79080e2e47a73e317f4a5cef5}{setValue}}(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(fId.getNumber() + 1));}
\DoxyCodeLine{02164         \textcolor{keywordflow}{else} \{  \textcolor{comment}{// next alphabet}}
\DoxyCodeLine{02165           QByteArray byteArray = fId.getLetter().toUtf8();}
\DoxyCodeLine{02166           \textcolor{comment}{// return incrementing the last letter}}
\DoxyCodeLine{02167           byteArray.data()[byteArray.size() -\/ 1]++;}
\DoxyCodeLine{02168           m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a273b6fc79080e2e47a73e317f4a5cef5}{setValue}}(}
\DoxyCodeLine{02169               \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(fId.getNumber(), QString::fromUtf8(byteArray)));}
\DoxyCodeLine{02170         \}}
\DoxyCodeLine{02171       \}}
\DoxyCodeLine{02172 }
\DoxyCodeLine{02173       \textcolor{comment}{/* notify */}}
\DoxyCodeLine{02174       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifySceneChanged();}
\DoxyCodeLine{02175       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifyCastChange();}
\DoxyCodeLine{02176       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{02177 }
\DoxyCodeLine{02178       \textcolor{comment}{// restart interval timer for capturing next frame (it is single shot)}}
\DoxyCodeLine{02179       \textcolor{keywordflow}{if} (m\_timerCB-\/>isChecked() \&\& m\_captureButton-\/>isChecked()) \{}
\DoxyCodeLine{02180         m\_captureTimer-\/>start(m\_timerIntervalFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}() * 1000);}
\DoxyCodeLine{02181         \textcolor{comment}{// restart the count down as well (for aligning the timing. It is not}}
\DoxyCodeLine{02182         \textcolor{comment}{// single shot)}}
\DoxyCodeLine{02183         \textcolor{keywordflow}{if} (m\_timerIntervalFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}() != 0) m\_countdownTimer-\/>start(100);}
\DoxyCodeLine{02184       \}}
\DoxyCodeLine{02185     \}}
\DoxyCodeLine{02186     \textcolor{comment}{// if capture was failed, stop interval capturing}}
\DoxyCodeLine{02187     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_timerCB-\/>isChecked()) \{}
\DoxyCodeLine{02188       m\_captureButton-\/>setChecked(\textcolor{keyword}{false});}
\DoxyCodeLine{02189       onCaptureButtonClicked(\textcolor{keyword}{false});}
\DoxyCodeLine{02190     \}}
\DoxyCodeLine{02191   \}}
\DoxyCodeLine{02192 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a455d8a11174ece5857617611c7724bdb}\label{class_pencil_test_popup_a455d8a11174ece5857617611c7724bdb}} 
\index{PencilTestPopup@{PencilTestPopup}!onFrameCaptured@{onFrameCaptured}}
\index{onFrameCaptured@{onFrameCaptured}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onFrameCaptured}{onFrameCaptured}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Frame\+Captured (\begin{DoxyParamCaption}\item[{QImage \&}]{image }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02175                                                    \{}
\DoxyCodeLine{02176   \textcolor{keywordflow}{if} (!m\_videoWidget || image.isNull()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02177   \textcolor{comment}{// capture the white BG}}
\DoxyCodeLine{02178   \textcolor{keywordflow}{if} (m\_captureWhiteBGCue) \{}
\DoxyCodeLine{02179     m\_whiteBGImg        = image.copy();}
\DoxyCodeLine{02180     m\_captureWhiteBGCue = \textcolor{keyword}{false};}
\DoxyCodeLine{02181     m\_bgReductionFld-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{02182   \}}
\DoxyCodeLine{02183 }
\DoxyCodeLine{02184   processImage(image);}
\DoxyCodeLine{02185   m\_videoWidget-\/>setImage(image.copy());}
\DoxyCodeLine{02186 }
\DoxyCodeLine{02187   \textcolor{keywordflow}{if} (m\_captureCue) \{}
\DoxyCodeLine{02188 \textcolor{preprocessor}{\#ifndef MACOSX}}
\DoxyCodeLine{02189     m\_currentCamera-\/>stop();}
\DoxyCodeLine{02190 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02191     m\_captureCue = \textcolor{keyword}{false};}
\DoxyCodeLine{02192 }
\DoxyCodeLine{02193     \textcolor{keywordtype}{bool} scanBtoT =}
\DoxyCodeLine{02194         m\_videoWidget-\/>videoSurface()-\/>surfaceFormat().scanLineDirection() ==}
\DoxyCodeLine{02195         QVideoSurfaceFormat::BottomToTop;}
\DoxyCodeLine{02196     \textcolor{keywordtype}{bool} upsideDown = m\_upsideDownCB-\/>isChecked();}
\DoxyCodeLine{02197 }
\DoxyCodeLine{02198     image = image.mirrored(upsideDown, upsideDown != scanBtoT);}
\DoxyCodeLine{02199 }
\DoxyCodeLine{02200     \textcolor{keywordflow}{if} (importImage(image)) \{}
\DoxyCodeLine{02201       m\_videoWidget-\/>setPreviousImage(image.copy());}
\DoxyCodeLine{02202       \textcolor{keywordflow}{if} (Preferences::instance()-\/>isShowFrameNumberWithLettersEnabled()) \{}
\DoxyCodeLine{02203         \mbox{\hyperlink{class_t_frame_id}{TFrameId}} fId = m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a7aa60456a4c4e8d6436fae4249671974}{getValue}}();}
\DoxyCodeLine{02204         \textcolor{keywordtype}{int} f        = fId.getNumber();}
\DoxyCodeLine{02205         \textcolor{keywordflow}{if} (f \% 10 == 0)  \textcolor{comment}{// next number}}
\DoxyCodeLine{02206           m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a273b6fc79080e2e47a73e317f4a5cef5}{setValue}}(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(((\textcolor{keywordtype}{int})(f / 10) + 1) * 10));}
\DoxyCodeLine{02207         \textcolor{keywordflow}{else}  \textcolor{comment}{// next alphabet}}
\DoxyCodeLine{02208           m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a273b6fc79080e2e47a73e317f4a5cef5}{setValue}}(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(f + 1));}
\DoxyCodeLine{02209       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02210         \mbox{\hyperlink{class_t_frame_id}{TFrameId}} fId = m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a7aa60456a4c4e8d6436fae4249671974}{getValue}}();}
\DoxyCodeLine{02211 }
\DoxyCodeLine{02212         \textcolor{keywordflow}{if} (fId.getLetter() == \textcolor{charliteral}{'\(\backslash\)0'} || fId.getLetter() == \textcolor{charliteral}{'Z'} ||}
\DoxyCodeLine{02213             fId.getLetter() == \textcolor{charliteral}{'z'})  \textcolor{comment}{// next number}}
\DoxyCodeLine{02214           m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a273b6fc79080e2e47a73e317f4a5cef5}{setValue}}(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(fId.getNumber() + 1));}
\DoxyCodeLine{02215         \textcolor{keywordflow}{else} \{  \textcolor{comment}{// next alphabet}}
\DoxyCodeLine{02216           QByteArray byteArray = fId.getLetter().toUtf8();}
\DoxyCodeLine{02217           \textcolor{comment}{// return incrementing the last letter}}
\DoxyCodeLine{02218           byteArray.data()[byteArray.size() -\/ 1]++;}
\DoxyCodeLine{02219           m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a273b6fc79080e2e47a73e317f4a5cef5}{setValue}}(}
\DoxyCodeLine{02220               \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(fId.getNumber(), QString::fromUtf8(byteArray)));}
\DoxyCodeLine{02221         \}}
\DoxyCodeLine{02222       \}}
\DoxyCodeLine{02223 }
\DoxyCodeLine{02224       \textcolor{comment}{/* notify */}}
\DoxyCodeLine{02225       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifySceneChanged();}
\DoxyCodeLine{02226       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifyCastChange();}
\DoxyCodeLine{02227       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{02228 }
\DoxyCodeLine{02229       \textcolor{comment}{// restart interval timer for capturing next frame (it is single shot)}}
\DoxyCodeLine{02230       \textcolor{keywordflow}{if} (m\_timerCB-\/>isChecked() \&\& m\_captureButton-\/>isChecked()) \{}
\DoxyCodeLine{02231         m\_captureTimer-\/>start(m\_timerIntervalFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}() * 1000);}
\DoxyCodeLine{02232         \textcolor{comment}{// restart the count down as well (for aligning the timing. It is not}}
\DoxyCodeLine{02233         \textcolor{comment}{// single shot)}}
\DoxyCodeLine{02234         \textcolor{keywordflow}{if} (m\_timerIntervalFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}() != 0) m\_countdownTimer-\/>start(100);}
\DoxyCodeLine{02235       \}}
\DoxyCodeLine{02236     \}}
\DoxyCodeLine{02237     \textcolor{comment}{// if capture was failed, stop interval capturing}}
\DoxyCodeLine{02238     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_timerCB-\/>isChecked()) \{}
\DoxyCodeLine{02239       m\_captureButton-\/>setChecked(\textcolor{keyword}{false});}
\DoxyCodeLine{02240       onCaptureButtonClicked(\textcolor{keyword}{false});}
\DoxyCodeLine{02241     \}}
\DoxyCodeLine{02242 \textcolor{preprocessor}{\#ifndef MACOSX}}
\DoxyCodeLine{02243     m\_currentCamera-\/>start();}
\DoxyCodeLine{02244 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02245   \}}
\DoxyCodeLine{02246 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a5483f37522917e0f41b8b4ad7cc33ea1}\label{class_pencil_test_popup_a5483f37522917e0f41b8b4ad7cc33ea1}} 
\index{PencilTestPopup@{PencilTestPopup}!onLevelNameEdited@{onLevelNameEdited}}
\index{onLevelNameEdited@{onLevelNameEdited}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onLevelNameEdited}{onLevelNameEdited}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Level\+Name\+Edited (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01873                                         \{}
\DoxyCodeLine{01874   updateLevelNameAndFrame(m\_levelNameEdit-\/>text().toStdWString());}
\DoxyCodeLine{01875 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a967d245f0bf4f529040cd9d45a11b324}\label{class_pencil_test_popup_a967d245f0bf4f529040cd9d45a11b324}} 
\index{PencilTestPopup@{PencilTestPopup}!onLoadImageButtonPressed@{onLoadImageButtonPressed}}
\index{onLoadImageButtonPressed@{onLoadImageButtonPressed}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onLoadImageButtonPressed}{onLoadImageButtonPressed}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Load\+Image\+Button\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02310                                                \{}
\DoxyCodeLine{02311   \mbox{\hyperlink{class_t_cell_selection}{TCellSelection}}* cellSelection = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_cell_selection}{TCellSelection}}*\textcolor{keyword}{>}(}
\DoxyCodeLine{02312       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a6e0ee1978807a89009571ed5ce44323b}{getCurrentSelection}}()-\/>getSelection());}
\DoxyCodeLine{02313   \textcolor{keywordflow}{if} (cellSelection) \{}
\DoxyCodeLine{02314     \textcolor{keywordtype}{int} c0;}
\DoxyCodeLine{02315     \textcolor{keywordtype}{int} r0;}
\DoxyCodeLine{02316     \mbox{\hyperlink{class_t_cell_selection_1_1_range}{TCellSelection::Range}} range = cellSelection-\/>getSelectedCells();}
\DoxyCodeLine{02317     \textcolor{keywordflow}{if} (range.isEmpty()) \{}
\DoxyCodeLine{02318       error(tr(\textcolor{stringliteral}{"{}No image selected.  Please select an image in the Xsheet."{}}));}
\DoxyCodeLine{02319       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02320     \}}
\DoxyCodeLine{02321     c0 = range.m\_c0;}
\DoxyCodeLine{02322     r0 = range.m\_r0;}
\DoxyCodeLine{02323     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell =}
\DoxyCodeLine{02324         \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(r0, c0);}
\DoxyCodeLine{02325     \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}() == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{02326       error(tr(\textcolor{stringliteral}{"{}No image selected.  Please select an image in the Xsheet."{}}));}
\DoxyCodeLine{02327       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02328     \}}
\DoxyCodeLine{02329     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}}* level = cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{02330     \textcolor{keywordtype}{int} type               = level-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}();}
\DoxyCodeLine{02331     \textcolor{keywordflow}{if} (type != TXshLevelType::OVL\_XSHLEVEL) \{}
\DoxyCodeLine{02332       error(tr(\textcolor{stringliteral}{"{}The selected image is not in a raster level."{}}));}
\DoxyCodeLine{02333       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02334     \}}
\DoxyCodeLine{02335     \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} origImage = cell.\mbox{\hyperlink{class_t_xsh_cell_a20b623d308bc09b820ec6b116516f564}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{02336     \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} tempImage(origImage);}
\DoxyCodeLine{02337     \mbox{\hyperlink{class_t_raster_image}{TRasterImage}}* image = (\mbox{\hyperlink{class_t_raster_image}{TRasterImage}}*)tempImage-\/>\mbox{\hyperlink{class_t_raster_image_ac7401337b862f2b9d7a29eef86bace7e}{cloneImage}}();}
\DoxyCodeLine{02338 }
\DoxyCodeLine{02339     \textcolor{keywordtype}{int} m\_lx          = image-\/>\mbox{\hyperlink{class_t_raster_image_a1ebe3badeaf79a61ef63c89aacf03980}{getRaster}}()-\/>getLx();}
\DoxyCodeLine{02340     \textcolor{keywordtype}{int} m\_ly          = image-\/>\mbox{\hyperlink{class_t_raster_image_a1ebe3badeaf79a61ef63c89aacf03980}{getRaster}}()-\/>getLy();}
\DoxyCodeLine{02341     QString res       = m\_resolutionCombo-\/>currentText();}
\DoxyCodeLine{02342     QStringList texts = res.split(\textcolor{charliteral}{' '});}
\DoxyCodeLine{02343     \textcolor{keywordflow}{if} (m\_lx != texts[0].toInt() || m\_ly != texts[2].toInt()) \{}
\DoxyCodeLine{02344       error(}
\DoxyCodeLine{02345           tr(\textcolor{stringliteral}{"{}The selected image size does not match the current camera "{}}}
\DoxyCodeLine{02346              \textcolor{stringliteral}{"{}settings."{}}));}
\DoxyCodeLine{02347       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02348     \}}
\DoxyCodeLine{02349     \textcolor{keywordtype}{int} m\_bpp      = image-\/>\mbox{\hyperlink{class_t_raster_image_a1ebe3badeaf79a61ef63c89aacf03980}{getRaster}}()-\/>getPixelSize();}
\DoxyCodeLine{02350     \textcolor{keywordtype}{int} totalBytes = m\_lx * m\_ly * m\_bpp;}
\DoxyCodeLine{02351     image-\/>\mbox{\hyperlink{class_t_raster_image_a1ebe3badeaf79a61ef63c89aacf03980}{getRaster}}()-\/>yMirror();}
\DoxyCodeLine{02352 }
\DoxyCodeLine{02353     \textcolor{comment}{// lock raster to get data}}
\DoxyCodeLine{02354     image-\/>\mbox{\hyperlink{class_t_raster_image_a1ebe3badeaf79a61ef63c89aacf03980}{getRaster}}()-\/>lock();}
\DoxyCodeLine{02355     \textcolor{keywordtype}{void}* buffin = image-\/>\mbox{\hyperlink{class_t_raster_image_a1ebe3badeaf79a61ef63c89aacf03980}{getRaster}}()-\/>\mbox{\hyperlink{class_t_raster_a5ce02b7e8a5b8b594863aa272d8dcdbc}{getRawData}}();}
\DoxyCodeLine{02356     assert(buffin);}
\DoxyCodeLine{02357     \textcolor{keywordtype}{void}* buffer = malloc(totalBytes);}
\DoxyCodeLine{02358     memcpy(buffer, buffin, totalBytes);}
\DoxyCodeLine{02359 }
\DoxyCodeLine{02360     image-\/>\mbox{\hyperlink{class_t_raster_image_a1ebe3badeaf79a61ef63c89aacf03980}{getRaster}}()-\/>unlock();}
\DoxyCodeLine{02361 }
\DoxyCodeLine{02362     QImage qi = QImage((uint8\_t*)buffer, m\_lx, m\_ly, QImage::Format\_ARGB32);}
\DoxyCodeLine{02363     QImage qi2(qi.size(), QImage::Format\_ARGB32);}
\DoxyCodeLine{02364     qi2.fill(QColor(Qt::white).rgb());}
\DoxyCodeLine{02365     QPainter painter(\&qi2);}
\DoxyCodeLine{02366     painter.drawImage(0, 0, qi);}
\DoxyCodeLine{02367     m\_videoWidget-\/>setPreviousImage(qi2);}
\DoxyCodeLine{02368     m\_onionSkinCB-\/>setChecked(\textcolor{keyword}{true});}
\DoxyCodeLine{02369     free(buffer);}
\DoxyCodeLine{02370   \}}
\DoxyCodeLine{02371 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a3a6bde88cbcc7036417bb1153137a729}\label{class_pencil_test_popup_a3a6bde88cbcc7036417bb1153137a729}} 
\index{PencilTestPopup@{PencilTestPopup}!onNextName@{onNextName}}
\index{onNextName@{onNextName}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onNextName}{onNextName}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Next\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01878                                  \{}
\DoxyCodeLine{01879   std::unique\_ptr<FlexibleNameCreator> nameCreator(\textcolor{keyword}{new} \mbox{\hyperlink{class_flexible_name_creator}{FlexibleNameCreator}}());}
\DoxyCodeLine{01880   \textcolor{keywordflow}{if} (!nameCreator-\/>setCurrent(m\_levelNameEdit-\/>text().toStdWString())) \{}
\DoxyCodeLine{01881     setToNextNewLevel();}
\DoxyCodeLine{01882     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01883   \}}
\DoxyCodeLine{01884 }
\DoxyCodeLine{01885   std::wstring levelName = nameCreator-\/>getNext();}
\DoxyCodeLine{01886   updateLevelNameAndFrame(levelName);}
\DoxyCodeLine{01887 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a1a855418427c5f496552434529a79c4e}\label{class_pencil_test_popup_a1a855418427c5f496552434529a79c4e}} 
\index{PencilTestPopup@{PencilTestPopup}!onOnionCBToggled@{onOnionCBToggled}}
\index{onOnionCBToggled@{onOnionCBToggled}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onOnionCBToggled}{onOnionCBToggled}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Onion\+CBToggled (\begin{DoxyParamCaption}\item[{bool}]{on }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02303                                               \{}
\DoxyCodeLine{02304   m\_videoWidget-\/>setShowOnionSkin(on);}
\DoxyCodeLine{02305   m\_onionOpacityFld-\/>setEnabled(on);}
\DoxyCodeLine{02306 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a8931c192f9c05edfcbe177f97cc897db}\label{class_pencil_test_popup_a8931c192f9c05edfcbe177f97cc897db}} 
\index{PencilTestPopup@{PencilTestPopup}!onOnionOpacityFldEdited@{onOnionOpacityFldEdited}}
\index{onOnionOpacityFldEdited@{onOnionOpacityFldEdited}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onOnionOpacityFldEdited}{onOnionOpacityFldEdited}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Onion\+Opacity\+Fld\+Edited (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02375                                               \{}
\DoxyCodeLine{02376   \textcolor{keywordtype}{int} value = (int)(255.0f * (\textcolor{keywordtype}{float})m\_onionOpacityFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_field_a5657b3a478f9e4993c7d48a5338dbb75}{getValue}}() / 100.0f);}
\DoxyCodeLine{02377   m\_videoWidget-\/>setOnionOpacity(value);}
\DoxyCodeLine{02378 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a2ace6abd5f1c29fa577d1a80bc9b74b0}\label{class_pencil_test_popup_a2ace6abd5f1c29fa577d1a80bc9b74b0}} 
\index{PencilTestPopup@{PencilTestPopup}!onPreviousName@{onPreviousName}}
\index{onPreviousName@{onPreviousName}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onPreviousName}{onPreviousName}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Previous\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01891                                      \{}
\DoxyCodeLine{01892   std::unique\_ptr<FlexibleNameCreator> nameCreator(\textcolor{keyword}{new} \mbox{\hyperlink{class_flexible_name_creator}{FlexibleNameCreator}}());}
\DoxyCodeLine{01893 }
\DoxyCodeLine{01894   std::wstring levelName;}
\DoxyCodeLine{01895 }
\DoxyCodeLine{01896   \textcolor{comment}{// if the current level name is non-\/sequential, then try to switch the last}}
\DoxyCodeLine{01897   \textcolor{comment}{// sequential level in the scene.}}
\DoxyCodeLine{01898   \textcolor{keywordflow}{if} (!nameCreator-\/>setCurrent(m\_levelNameEdit-\/>text().toStdWString())) \{}
\DoxyCodeLine{01899     \mbox{\hyperlink{class_t_level_set}{TLevelSet}}* levelSet =}
\DoxyCodeLine{01900         \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene()-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}();}
\DoxyCodeLine{01901     nameCreator-\/>setCurrent(L\textcolor{stringliteral}{"{}ZZ"{}});}
\DoxyCodeLine{01902     \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{01903       levelName = nameCreator-\/>getPrevious();}
\DoxyCodeLine{01904       \textcolor{keywordflow}{if} (levelSet-\/>getLevel(levelName) != 0) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01905       \textcolor{keywordflow}{if} (levelName == L\textcolor{stringliteral}{"{}A"{}}) \{}
\DoxyCodeLine{01906         setToNextNewLevel();}
\DoxyCodeLine{01907         \textcolor{keywordflow}{return};}
\DoxyCodeLine{01908       \}}
\DoxyCodeLine{01909     \}}
\DoxyCodeLine{01910   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01911     levelName = nameCreator-\/>getPrevious();}
\DoxyCodeLine{01912 }
\DoxyCodeLine{01913   updateLevelNameAndFrame(levelName);}
\DoxyCodeLine{01914 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a78aef11cdf4136e3d08029cf9022b973}\label{class_pencil_test_popup_a78aef11cdf4136e3d08029cf9022b973}} 
\index{PencilTestPopup@{PencilTestPopup}!onResolutionComboActivated@{onResolutionComboActivated}}
\index{onResolutionComboActivated@{onResolutionComboActivated}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onResolutionComboActivated}{onResolutionComboActivated}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Resolution\+Combo\+Activated (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01809                                                  \{}
\DoxyCodeLine{01810   m\_cvWebcam.release();}
\DoxyCodeLine{01811   \textcolor{keywordflow}{if} (m\_timer-\/>isActive()) m\_timer-\/>stop();}
\DoxyCodeLine{01812 }
\DoxyCodeLine{01813   QSize newResolution = m\_resolutionCombo-\/>currentData().toSize();}
\DoxyCodeLine{01814 }
\DoxyCodeLine{01815   \textcolor{keywordflow}{if} (!newResolution.isValid()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01816   \textcolor{keywordflow}{if} (newResolution == m\_resolution) \{}
\DoxyCodeLine{01817     m\_timer-\/>start(40);}
\DoxyCodeLine{01818     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01819   \}}
\DoxyCodeLine{01820 }
\DoxyCodeLine{01821   m\_resolution = newResolution;}
\DoxyCodeLine{01822 }
\DoxyCodeLine{01823   \textcolor{comment}{// reset white bg}}
\DoxyCodeLine{01824   m\_whiteBGImg = cv::Mat();}
\DoxyCodeLine{01825   m\_bgReductionFld-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{01826   m\_videoWidget-\/>setImage(QImage());}
\DoxyCodeLine{01827   m\_videoWidget-\/>computeTransform(m\_resolution);}
\DoxyCodeLine{01828 }
\DoxyCodeLine{01829   \textcolor{comment}{// update env}}
\DoxyCodeLine{01830   CamCapCameraResolution = m\_resolutionCombo-\/>currentText().toStdString();}
\DoxyCodeLine{01831 }
\DoxyCodeLine{01832   refreshFrameInfo();}
\DoxyCodeLine{01833 }
\DoxyCodeLine{01834   \textcolor{comment}{// reset subcamera info}}
\DoxyCodeLine{01835   m\_subcameraButton-\/>setChecked(\textcolor{keyword}{false});  \textcolor{comment}{// this will hide the size fields}}
\DoxyCodeLine{01836   m\_subWidthFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_abe941ff2167eeb86676001a8e855041e}{setRange}}(10, newResolution.width());}
\DoxyCodeLine{01837   m\_subHeightFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_abe941ff2167eeb86676001a8e855041e}{setRange}}(10, newResolution.height());}
\DoxyCodeLine{01838   \textcolor{comment}{// if there is no existing level or its size is larger than the current camera}}
\DoxyCodeLine{01839   \textcolor{keywordflow}{if} (!m\_allowedCameraSize.isValid() ||}
\DoxyCodeLine{01840       m\_allowedCameraSize.width() > newResolution.width() ||}
\DoxyCodeLine{01841       m\_allowedCameraSize.height() > newResolution.height()) \{}
\DoxyCodeLine{01842     \textcolor{comment}{// make the initial subcamera size to be with the same aspect ratio as the}}
\DoxyCodeLine{01843     \textcolor{comment}{// current camera}}
\DoxyCodeLine{01844     \mbox{\hyperlink{class_t_camera}{TCamera}}* camera =}
\DoxyCodeLine{01845         \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene()-\/>\mbox{\hyperlink{class_toonz_scene_a750b5ab623ccec744013b0c83bf20abc}{getCurrentCamera}}();}
\DoxyCodeLine{01846     \mbox{\hyperlink{class_t_dimension_t}{TDimension}} camres = camera-\/>\mbox{\hyperlink{class_t_camera_a9a7c573e7a2c397ffae4b747809ea2a5}{getRes}}();}
\DoxyCodeLine{01847     newResolution =}
\DoxyCodeLine{01848         QSize(camres.lx, camres.ly).scaled(newResolution, Qt::KeepAspectRatio);}
\DoxyCodeLine{01849     m\_subWidthFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(newResolution.width());}
\DoxyCodeLine{01850     m\_subHeightFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(newResolution.height());}
\DoxyCodeLine{01851   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01852     m\_subWidthFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(m\_allowedCameraSize.width());}
\DoxyCodeLine{01853     m\_subHeightFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(m\_allowedCameraSize.height());}
\DoxyCodeLine{01854   \}}
\DoxyCodeLine{01855 }
\DoxyCodeLine{01856   m\_timer-\/>start(40);}
\DoxyCodeLine{01857 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_af2df5656f7d6fb48428c50e6357f1327}\label{class_pencil_test_popup_af2df5656f7d6fb48428c50e6357f1327}} 
\index{PencilTestPopup@{PencilTestPopup}!onResolutionComboActivated@{onResolutionComboActivated}}
\index{onResolutionComboActivated@{onResolutionComboActivated}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onResolutionComboActivated}{onResolutionComboActivated}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Resolution\+Combo\+Activated (\begin{DoxyParamCaption}\item[{const QString \&}]{item\+Text }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01987                                                                         \{}
\DoxyCodeLine{01988   \textcolor{comment}{// resolution is written in the itemText with the format "{}<width> x <height>"{}}}
\DoxyCodeLine{01989   \textcolor{comment}{// (e.g. "{}800 x 600"{})}}
\DoxyCodeLine{01990   QStringList texts = itemText.split(\textcolor{charliteral}{' '});}
\DoxyCodeLine{01991   \textcolor{comment}{// the splited text must be "{}<width>"{} "{}x"{} and "{}<height>"{}}}
\DoxyCodeLine{01992   \textcolor{keywordflow}{if} (texts.size() != 3) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01993 }
\DoxyCodeLine{01994 \textcolor{preprocessor}{\#ifndef MACOSX}}
\DoxyCodeLine{01995   m\_currentCamera-\/>stop();}
\DoxyCodeLine{01996   m\_currentCamera-\/>unload();}
\DoxyCodeLine{01997 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01998 }
\DoxyCodeLine{01999   QCameraViewfinderSettings settings = m\_currentCamera-\/>viewfinderSettings();}
\DoxyCodeLine{02000   QSize newResolution(texts[0].toInt(), texts[2].toInt());}
\DoxyCodeLine{02001   settings.setResolution(newResolution);}
\DoxyCodeLine{02002   m\_currentCamera-\/>setViewfinderSettings(settings);}
\DoxyCodeLine{02003 }
\DoxyCodeLine{02004   \textcolor{comment}{// reset white bg}}
\DoxyCodeLine{02005   m\_whiteBGImg = QImage();}
\DoxyCodeLine{02006   m\_bgReductionFld-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{02007 \textcolor{preprocessor}{\#ifndef MACOSX}}
\DoxyCodeLine{02008   m\_currentCamera-\/>start();}
\DoxyCodeLine{02009 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02010   m\_videoWidget-\/>setImage(QImage());}
\DoxyCodeLine{02011 }
\DoxyCodeLine{02012   \textcolor{comment}{// update env}}
\DoxyCodeLine{02013   CamCapCameraResolution = itemText.toStdString();}
\DoxyCodeLine{02014 }
\DoxyCodeLine{02015   refreshFrameInfo();}
\DoxyCodeLine{02016 }
\DoxyCodeLine{02017   \textcolor{comment}{// reset subcamera info}}
\DoxyCodeLine{02018   m\_subcameraButton-\/>setChecked(\textcolor{keyword}{false});  \textcolor{comment}{// this will hide the size fields}}
\DoxyCodeLine{02019   m\_subWidthFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_abe941ff2167eeb86676001a8e855041e}{setRange}}(10, newResolution.width());}
\DoxyCodeLine{02020   m\_subHeightFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_abe941ff2167eeb86676001a8e855041e}{setRange}}(10, newResolution.height());}
\DoxyCodeLine{02021   \textcolor{comment}{// if there is no existing level or its size is larger than the current camera}}
\DoxyCodeLine{02022   \textcolor{keywordflow}{if} (!m\_allowedCameraSize.isValid() ||}
\DoxyCodeLine{02023       m\_allowedCameraSize.width() > newResolution.width() ||}
\DoxyCodeLine{02024       m\_allowedCameraSize.height() > newResolution.height()) \{}
\DoxyCodeLine{02025     \textcolor{comment}{// make the initial subcamera size to be with the same aspect ratio as the}}
\DoxyCodeLine{02026     \textcolor{comment}{// current camera}}
\DoxyCodeLine{02027     \mbox{\hyperlink{class_t_camera}{TCamera}}* camera =}
\DoxyCodeLine{02028         \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene()-\/>\mbox{\hyperlink{class_toonz_scene_a750b5ab623ccec744013b0c83bf20abc}{getCurrentCamera}}();}
\DoxyCodeLine{02029     \mbox{\hyperlink{class_t_dimension_t}{TDimension}} camres = camera-\/>\mbox{\hyperlink{class_t_camera_a9a7c573e7a2c397ffae4b747809ea2a5}{getRes}}();}
\DoxyCodeLine{02030     newResolution =}
\DoxyCodeLine{02031         QSize(camres.lx, camres.ly).scaled(newResolution, Qt::KeepAspectRatio);}
\DoxyCodeLine{02032     \textcolor{comment}{// newResolution.scale(QSize(res.lx, res.ly), Qt::KeepAspectRatio);}}
\DoxyCodeLine{02033     m\_subWidthFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(newResolution.width());}
\DoxyCodeLine{02034     m\_subHeightFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(newResolution.height());}
\DoxyCodeLine{02035   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02036     m\_subWidthFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(m\_allowedCameraSize.width());}
\DoxyCodeLine{02037     m\_subHeightFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(m\_allowedCameraSize.height());}
\DoxyCodeLine{02038   \}}
\DoxyCodeLine{02039 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_ac4a52f078d0998fb3deb115d090ac1af}\label{class_pencil_test_popup_ac4a52f078d0998fb3deb115d090ac1af}} 
\index{PencilTestPopup@{PencilTestPopup}!onSaveInPathEdited@{onSaveInPathEdited}}
\index{onSaveInPathEdited@{onSaveInPathEdited}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onSaveInPathEdited}{onSaveInPathEdited}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Save\+In\+Path\+Edited (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02957                                          \{}
\DoxyCodeLine{02958   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}}* scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{02959   \mbox{\hyperlink{class_t_file_path}{TFilePath}} saveInPath(m\_saveInFileFld-\/>getPath().toStdWString());}
\DoxyCodeLine{02960   scene-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()-\/>setCameraCaptureSaveInPath(saveInPath);}
\DoxyCodeLine{02961   refreshFrameInfo();}
\DoxyCodeLine{02962 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a96ec3ad4d3e3b2eb2e16332fabad097f}\label{class_pencil_test_popup_a96ec3ad4d3e3b2eb2e16332fabad097f}} 
\index{PencilTestPopup@{PencilTestPopup}!onSceneSwitched@{onSceneSwitched}}
\index{onSceneSwitched@{onSceneSwitched}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onSceneSwitched}{onSceneSwitched}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Scene\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02966                                       \{}
\DoxyCodeLine{02967   m\_saveInFolderPopup-\/>updateParentFolder();}
\DoxyCodeLine{02968   m\_saveInFileFld-\/>setPath(m\_saveInFolderPopup-\/>getParentPath());}
\DoxyCodeLine{02969   refreshFrameInfo();}
\DoxyCodeLine{02970   m\_alwaysOverwrite = \textcolor{keyword}{false};}
\DoxyCodeLine{02971 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_aa73df376f9d3afd84ff169d4e32aa635}\label{class_pencil_test_popup_aa73df376f9d3afd84ff169d4e32aa635}} 
\index{PencilTestPopup@{PencilTestPopup}!onSubCameraResized@{onSubCameraResized}}
\index{onSubCameraResized@{onSubCameraResized}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onSubCameraResized}{onSubCameraResized}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Sub\+Camera\+Resized (\begin{DoxyParamCaption}\item[{bool}]{is\+Dragging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02984                                                         \{}
\DoxyCodeLine{02985   QSize subSize = m\_videoWidget-\/>subCameraRect().size();}
\DoxyCodeLine{02986   assert(subSize.isValid());}
\DoxyCodeLine{02987   m\_subWidthFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(subSize.width());}
\DoxyCodeLine{02988   m\_subHeightFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(subSize.height());}
\DoxyCodeLine{02989   \textcolor{keywordflow}{if} (!isDragging) refreshFrameInfo();}
\DoxyCodeLine{02990 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_aca299d158212a7f5fb4e727fbdc04472}\label{class_pencil_test_popup_aca299d158212a7f5fb4e727fbdc04472}} 
\index{PencilTestPopup@{PencilTestPopup}!onSubCameraSizeEdited@{onSubCameraSizeEdited}}
\index{onSubCameraSizeEdited@{onSubCameraSizeEdited}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onSubCameraSizeEdited}{onSubCameraSizeEdited}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Sub\+Camera\+Size\+Edited (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02994                                             \{}
\DoxyCodeLine{02995   m\_videoWidget-\/>setSubCameraSize(}
\DoxyCodeLine{02996       QSize(m\_subWidthFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}(), m\_subHeightFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}()));}
\DoxyCodeLine{02997   refreshFrameInfo();}
\DoxyCodeLine{02998 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a7995fd0a0a96a3d1c5965fc8bdf3f075}\label{class_pencil_test_popup_a7995fd0a0a96a3d1c5965fc8bdf3f075}} 
\index{PencilTestPopup@{PencilTestPopup}!onSubCameraToggled@{onSubCameraToggled}}
\index{onSubCameraToggled@{onSubCameraToggled}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onSubCameraToggled}{onSubCameraToggled}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Sub\+Camera\+Toggled (\begin{DoxyParamCaption}\item[{bool}]{on }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02975                                                 \{}
\DoxyCodeLine{02976   m\_videoWidget-\/>setSubCameraSize(}
\DoxyCodeLine{02977       on ? QSize(m\_subWidthFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}(), m\_subHeightFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}())}
\DoxyCodeLine{02978          : QSize());}
\DoxyCodeLine{02979   refreshFrameInfo();}
\DoxyCodeLine{02980 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a34ba3ff382d12cbf6909c07aaaedafcb}\label{class_pencil_test_popup_a34ba3ff382d12cbf6909c07aaaedafcb}} 
\index{PencilTestPopup@{PencilTestPopup}!onTimeout@{onTimeout}}
\index{onTimeout@{onTimeout}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onTimeout}{onTimeout}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Timeout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01992 \{ getWebcamImage(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a9f3eee0378fba25413fb3a4333bca883}\label{class_pencil_test_popup_a9f3eee0378fba25413fb3a4333bca883}} 
\index{PencilTestPopup@{PencilTestPopup}!onTimerCBToggled@{onTimerCBToggled}}
\index{onTimerCBToggled@{onTimerCBToggled}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{onTimerCBToggled}{onTimerCBToggled}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::on\+Timer\+CBToggled (\begin{DoxyParamCaption}\item[{bool}]{on }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02382                                               \{}
\DoxyCodeLine{02383   m\_timerIntervalFld-\/>setEnabled(on);}
\DoxyCodeLine{02384   m\_captureButton-\/>setCheckable(on);}
\DoxyCodeLine{02385   \textcolor{keywordflow}{if} (on)}
\DoxyCodeLine{02386     m\_captureButton-\/>setText(tr(\textcolor{stringliteral}{"{}Start Capturing\(\backslash\)n[Return key]"{}}));}
\DoxyCodeLine{02387   \textcolor{keywordflow}{else}}
\DoxyCodeLine{02388     m\_captureButton-\/>setText(tr(\textcolor{stringliteral}{"{}Capture\(\backslash\)n[Return key]"{}}));}
\DoxyCodeLine{02389 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_aef46a62e593cedc2d7f2ba9635a99f1f}\label{class_pencil_test_popup_aef46a62e593cedc2d7f2ba9635a99f1f}} 
\index{PencilTestPopup@{PencilTestPopup}!openSaveInFolderPopup@{openSaveInFolderPopup}}
\index{openSaveInFolderPopup@{openSaveInFolderPopup}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{openSaveInFolderPopup}{openSaveInFolderPopup}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::open\+Save\+In\+Folder\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02682                                             \{}
\DoxyCodeLine{02683   \textcolor{keywordflow}{if} (m\_saveInFolderPopup-\/>exec()) \{}
\DoxyCodeLine{02684     QString oldPath = m\_saveInFileFld-\/>getPath();}
\DoxyCodeLine{02685     m\_saveInFileFld-\/>setPath(m\_saveInFolderPopup-\/>getPath());}
\DoxyCodeLine{02686     \textcolor{keywordflow}{if} (oldPath == m\_saveInFileFld-\/>getPath())}
\DoxyCodeLine{02687       setToNextNewLevel();}
\DoxyCodeLine{02688     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02689       onSaveInPathEdited();}
\DoxyCodeLine{02690     \}}
\DoxyCodeLine{02691   \}}
\DoxyCodeLine{02692 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_adf8d1416b15193ce59aa6af5302e605f}\label{class_pencil_test_popup_adf8d1416b15193ce59aa6af5302e605f}} 
\index{PencilTestPopup@{PencilTestPopup}!refreshCameraList@{refreshCameraList}}
\index{refreshCameraList@{refreshCameraList}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{refreshCameraList}{refreshCameraList}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::refresh\+Camera\+List (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01736                                         \{}
\DoxyCodeLine{01737   m\_cameraListCombo-\/>clear();}
\DoxyCodeLine{01738 }
\DoxyCodeLine{01739   QList<QCameraInfo> cameras = QCameraInfo::availableCameras();}
\DoxyCodeLine{01740   \textcolor{keywordflow}{if} (cameras.empty()) \{}
\DoxyCodeLine{01741     m\_cameraListCombo-\/>addItem(tr(\textcolor{stringliteral}{"{}No camera found"{}}));}
\DoxyCodeLine{01742     m\_cameraListCombo-\/>setMaximumWidth(250);}
\DoxyCodeLine{01743     m\_cameraListCombo-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{01744   \}}
\DoxyCodeLine{01745 }
\DoxyCodeLine{01746   \textcolor{keywordtype}{int} maxTextLength = 0;}
\DoxyCodeLine{01747   \textcolor{comment}{// add non-\/connected state as default}}
\DoxyCodeLine{01748   m\_cameraListCombo-\/>addItem(tr(\textcolor{stringliteral}{"{}-\/ Select camera -\/"{}}));}
\DoxyCodeLine{01749   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < cameras.size(); c++) \{}
\DoxyCodeLine{01750     QString camDesc = cameras.at(c).description();}
\DoxyCodeLine{01751     m\_cameraListCombo-\/>addItem(camDesc);}
\DoxyCodeLine{01752     maxTextLength = std::max(maxTextLength, fontMetrics().width(camDesc));}
\DoxyCodeLine{01753   \}}
\DoxyCodeLine{01754   m\_cameraListCombo-\/>setMaximumWidth(maxTextLength + 25);}
\DoxyCodeLine{01755   m\_cameraListCombo-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{01756   m\_cameraListCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01757 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a8f31684f71c8491ae17680e893771cb4}\label{class_pencil_test_popup_a8f31684f71c8491ae17680e893771cb4}} 
\index{PencilTestPopup@{PencilTestPopup}!refreshFrameInfo@{refreshFrameInfo}}
\index{refreshFrameInfo@{refreshFrameInfo}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{refreshFrameInfo}{refreshFrameInfo}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::refresh\+Frame\+Info (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02698                                        \{}
\DoxyCodeLine{02699   \textcolor{keywordflow}{if} (!m\_currentCamera || m\_deviceName.isNull()) \{}
\DoxyCodeLine{02700     m\_frameInfoLabel-\/>setText(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02701     \textcolor{keywordflow}{return};}
\DoxyCodeLine{02702   \}}
\DoxyCodeLine{02703 }
\DoxyCodeLine{02704   QString tooltipStr, labelStr;}
\DoxyCodeLine{02705   \textcolor{keyword}{enum} InfoType \{ NEW = 0, ADD, OVERWRITE, WARNING \} infoType(WARNING);}
\DoxyCodeLine{02706 }
\DoxyCodeLine{02707   \textcolor{keyword}{static} QColor infoColors[4] = \{Qt::cyan, Qt::green, Qt::yellow, Qt::red\};}
\DoxyCodeLine{02708 }
\DoxyCodeLine{02709   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}}* currentScene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{02710   \mbox{\hyperlink{class_t_level_set}{TLevelSet}}* levelSet      = currentScene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}();}
\DoxyCodeLine{02711 }
\DoxyCodeLine{02712   std::wstring levelName = m\_levelNameEdit-\/>text().toStdWString();}
\DoxyCodeLine{02713   \mbox{\hyperlink{class_t_frame_id}{TFrameId}} fId           = m\_frameNumberEdit-\/>\mbox{\hyperlink{class_frame_number_line_edit_a7aa60456a4c4e8d6436fae4249671974}{getValue}}();}
\DoxyCodeLine{02714 }
\DoxyCodeLine{02715   \mbox{\hyperlink{class_t_dimension_t}{TDimension}} camRes;}
\DoxyCodeLine{02716   \textcolor{keywordflow}{if} (m\_subcameraButton-\/>isChecked())}
\DoxyCodeLine{02717     camRes = \mbox{\hyperlink{class_t_dimension_t}{TDimension}}(m\_subWidthFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}(), m\_subHeightFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}());}
\DoxyCodeLine{02718   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02719     QStringList texts = m\_resolutionCombo-\/>currentText().split(\textcolor{charliteral}{' '});}
\DoxyCodeLine{02720     \textcolor{keywordflow}{if} (texts.size() != 3) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02721     camRes = \mbox{\hyperlink{class_t_dimension_t}{TDimension}}(texts[0].toInt(), texts[2].toInt());}
\DoxyCodeLine{02722   \}}
\DoxyCodeLine{02723 }
\DoxyCodeLine{02724   \textcolor{keywordtype}{bool} letterOptionEnabled =}
\DoxyCodeLine{02725       Preferences::instance()-\/>isShowFrameNumberWithLettersEnabled();}
\DoxyCodeLine{02726 }
\DoxyCodeLine{02727   \textcolor{comment}{// level with the same name}}
\DoxyCodeLine{02728   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}}* level\_sameName = levelSet-\/>getLevel(levelName);}
\DoxyCodeLine{02729 }
\DoxyCodeLine{02730   \mbox{\hyperlink{class_t_file_path}{TFilePath}} levelFp = \mbox{\hyperlink{class_t_file_path}{TFilePath}}(m\_saveInFileFld-\/>getPath()) +}
\DoxyCodeLine{02731                       \mbox{\hyperlink{class_t_file_path}{TFilePath}}(levelName + L\textcolor{stringliteral}{"{}.."{}} +}
\DoxyCodeLine{02732                                 m\_fileTypeCombo-\/>currentText().toStdWString());}
\DoxyCodeLine{02733 }
\DoxyCodeLine{02734   \textcolor{comment}{// level with the same path}}
\DoxyCodeLine{02735   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}}* level\_samePath = levelSet-\/>getLevel(*(currentScene), levelFp);}
\DoxyCodeLine{02736 }
\DoxyCodeLine{02737   \mbox{\hyperlink{class_t_file_path}{TFilePath}} actualLevelFp = currentScene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(levelFp);}
\DoxyCodeLine{02738 }
\DoxyCodeLine{02739   \textcolor{comment}{// level existence}}
\DoxyCodeLine{02740   \textcolor{keywordtype}{bool} levelExist = TSystem::doesExistFileOrLevel(actualLevelFp);}
\DoxyCodeLine{02741 }
\DoxyCodeLine{02742   \textcolor{comment}{// frame existence}}
\DoxyCodeLine{02743   \mbox{\hyperlink{class_t_file_path}{TFilePath}} frameFp(actualLevelFp.\mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{withFrame}}(fId));}
\DoxyCodeLine{02744   \textcolor{keywordtype}{bool} frameExist = \textcolor{keyword}{false};}
\DoxyCodeLine{02745   \textcolor{keywordflow}{if} (levelExist) frameExist = \mbox{\hyperlink{class_t_file_status}{TFileStatus}}(frameFp).doesExist();}
\DoxyCodeLine{02746 }
\DoxyCodeLine{02747   \textcolor{comment}{// reset acceptable camera size}}
\DoxyCodeLine{02748   m\_allowedCameraSize = QSize();}
\DoxyCodeLine{02749 }
\DoxyCodeLine{02750   \textcolor{comment}{// \#\#\# CASE 1 \#\#\#}}
\DoxyCodeLine{02751   \textcolor{comment}{// If there is no same level registered in the scene cast}}
\DoxyCodeLine{02752   \textcolor{keywordflow}{if} (!level\_sameName \&\& !level\_samePath) \{}
\DoxyCodeLine{02753     \textcolor{comment}{// If there is a level in the file system}}
\DoxyCodeLine{02754     \textcolor{keywordflow}{if} (levelExist) \{}
\DoxyCodeLine{02755       \mbox{\hyperlink{class_t_level_reader_p}{TLevelReaderP}} lr;}
\DoxyCodeLine{02756       \mbox{\hyperlink{class_t_level_p}{TLevelP}} level\_p;}
\DoxyCodeLine{02757       \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{02758         lr = \mbox{\hyperlink{class_t_level_reader_p}{TLevelReaderP}}(actualLevelFp);}
\DoxyCodeLine{02759       \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{02760         \textcolor{comment}{// TODO: output something}}
\DoxyCodeLine{02761         m\_frameInfoLabel-\/>setText(tr(\textcolor{stringliteral}{"{}UNDEFINED WARNING"{}}));}
\DoxyCodeLine{02762         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02763       \}}
\DoxyCodeLine{02764       \textcolor{keywordflow}{if} (!lr) \{}
\DoxyCodeLine{02765         \textcolor{comment}{// TODO: output something}}
\DoxyCodeLine{02766         m\_frameInfoLabel-\/>setText(tr(\textcolor{stringliteral}{"{}UNDEFINED WARNING"{}}));}
\DoxyCodeLine{02767         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02768       \}}
\DoxyCodeLine{02769       \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{02770         level\_p = lr-\/>loadInfo();}
\DoxyCodeLine{02771       \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{02772         \textcolor{comment}{// TODO: output something}}
\DoxyCodeLine{02773         m\_frameInfoLabel-\/>setText(tr(\textcolor{stringliteral}{"{}UNDEFINED WARNING"{}}));}
\DoxyCodeLine{02774         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02775       \}}
\DoxyCodeLine{02776       \textcolor{keywordflow}{if} (!level\_p) \{}
\DoxyCodeLine{02777         \textcolor{comment}{// TODO: output something}}
\DoxyCodeLine{02778         m\_frameInfoLabel-\/>setText(tr(\textcolor{stringliteral}{"{}UNDEFINED WARNING"{}}));}
\DoxyCodeLine{02779         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02780       \}}
\DoxyCodeLine{02781       \textcolor{keywordtype}{int} frameCount      = level\_p-\/>getFrameCount();}
\DoxyCodeLine{02782       TLevel::Iterator it = level\_p-\/>begin();}
\DoxyCodeLine{02783       std::vector<TFrameId> fids;}
\DoxyCodeLine{02784       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; it != level\_p-\/>end(); ++it, ++i)}
\DoxyCodeLine{02785         fids.push\_back(it-\/>first);}
\DoxyCodeLine{02786 }
\DoxyCodeLine{02787       tooltipStr +=}
\DoxyCodeLine{02788           tr(\textcolor{stringliteral}{"{}The level is not registered in the scene, but exists in the file "{}}}
\DoxyCodeLine{02789              \textcolor{stringliteral}{"{}system."{}});}
\DoxyCodeLine{02790 }
\DoxyCodeLine{02791       \textcolor{comment}{// check resolution}}
\DoxyCodeLine{02792       \textcolor{keyword}{const} \mbox{\hyperlink{class_t_image_info}{TImageInfo}}* ii;}
\DoxyCodeLine{02793       \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{02794         ii = lr-\/>getImageInfo(fids[0]);}
\DoxyCodeLine{02795       \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{02796         \textcolor{comment}{// TODO: output something}}
\DoxyCodeLine{02797         m\_frameInfoLabel-\/>setText(tr(\textcolor{stringliteral}{"{}UNDEFINED WARNING"{}}));}
\DoxyCodeLine{02798         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02799       \}}
\DoxyCodeLine{02800       \mbox{\hyperlink{class_t_dimension_t}{TDimension}} dim(ii-\/>\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}, ii-\/>\mbox{\hyperlink{class_t_image_info_affef879628cc3843968c932e706541b6}{m\_ly}});}
\DoxyCodeLine{02801       \textcolor{comment}{// if the saved images has not the same resolution as the current camera}}
\DoxyCodeLine{02802       \textcolor{comment}{// resolution}}
\DoxyCodeLine{02803       \textcolor{keywordflow}{if} (camRes != dim) \{}
\DoxyCodeLine{02804         tooltipStr += tr(\textcolor{stringliteral}{"{}\(\backslash\)nWARNING : Image size mismatch. The saved image "{}}}
\DoxyCodeLine{02805                          \textcolor{stringliteral}{"{}size is \%1 x \%2."{}})}
\DoxyCodeLine{02806                           .arg(dim.lx)}
\DoxyCodeLine{02807                           .arg(dim.ly);}
\DoxyCodeLine{02808         labelStr += tr(\textcolor{stringliteral}{"{}WARNING"{}});}
\DoxyCodeLine{02809         infoType = WARNING;}
\DoxyCodeLine{02810       \}}
\DoxyCodeLine{02811       \textcolor{comment}{// if the resolutions are matched}}
\DoxyCodeLine{02812       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02813         \textcolor{keywordflow}{if} (frameCount == 1)}
\DoxyCodeLine{02814           tooltipStr += tr(\textcolor{stringliteral}{"{}\(\backslash\)nFrame \%1 exists."{}})}
\DoxyCodeLine{02815                             .arg(fidsToString(fids, letterOptionEnabled));}
\DoxyCodeLine{02816         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02817           tooltipStr += tr(\textcolor{stringliteral}{"{}\(\backslash\)nFrames \%1 exist."{}})}
\DoxyCodeLine{02818                             .arg(fidsToString(fids, letterOptionEnabled));}
\DoxyCodeLine{02819         \textcolor{comment}{// if the frame exists, then it will be overwritten}}
\DoxyCodeLine{02820         \textcolor{keywordflow}{if} (frameExist) \{}
\DoxyCodeLine{02821           labelStr += tr(\textcolor{stringliteral}{"{}OVERWRITE 1 of"{}});}
\DoxyCodeLine{02822           infoType = OVERWRITE;}
\DoxyCodeLine{02823         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02824           labelStr += tr(\textcolor{stringliteral}{"{}ADD to"{}});}
\DoxyCodeLine{02825           infoType = ADD;}
\DoxyCodeLine{02826         \}}
\DoxyCodeLine{02827         \textcolor{keywordflow}{if} (frameCount == 1)}
\DoxyCodeLine{02828           labelStr += tr(\textcolor{stringliteral}{"{} \%1 frame"{}}).arg(frameCount);}
\DoxyCodeLine{02829         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02830           labelStr += tr(\textcolor{stringliteral}{"{} \%1 frames"{}}).arg(frameCount);}
\DoxyCodeLine{02831       \}}
\DoxyCodeLine{02832       m\_allowedCameraSize = QSize(dim.lx, dim.ly);}
\DoxyCodeLine{02833     \}}
\DoxyCodeLine{02834     \textcolor{comment}{// If no level exists in the file system, then it will be a new level}}
\DoxyCodeLine{02835     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02836       tooltipStr += tr(\textcolor{stringliteral}{"{}The level will be newly created."{}});}
\DoxyCodeLine{02837       labelStr += tr(\textcolor{stringliteral}{"{}NEW"{}});}
\DoxyCodeLine{02838       infoType = NEW;}
\DoxyCodeLine{02839     \}}
\DoxyCodeLine{02840   \}}
\DoxyCodeLine{02841   \textcolor{comment}{// \#\#\# CASE 2 \#\#\#}}
\DoxyCodeLine{02842   \textcolor{comment}{// If there is already the level registered in the scene cast}}
\DoxyCodeLine{02843   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (level\_sameName \&\& level\_samePath \&\&}
\DoxyCodeLine{02844            level\_sameName == level\_samePath) \{}
\DoxyCodeLine{02845     tooltipStr += tr(\textcolor{stringliteral}{"{}The level is already registered in the scene."{}});}
\DoxyCodeLine{02846     \textcolor{keywordflow}{if} (!levelExist) tooltipStr += tr(\textcolor{stringliteral}{"{}\(\backslash\)nNOTE : The level is not saved."{}});}
\DoxyCodeLine{02847 }
\DoxyCodeLine{02848     std::vector<TFrameId> fids;}
\DoxyCodeLine{02849     level\_sameName-\/>getFids(fids);}
\DoxyCodeLine{02850 }
\DoxyCodeLine{02851     \textcolor{comment}{// check resolution}}
\DoxyCodeLine{02852     \mbox{\hyperlink{class_t_dimension_t}{TDimension}} dim;}
\DoxyCodeLine{02853     \textcolor{keywordtype}{bool} ret = getRasterLevelSize(level\_sameName, dim);}
\DoxyCodeLine{02854     \textcolor{keywordflow}{if} (!ret) \{}
\DoxyCodeLine{02855       tooltipStr +=}
\DoxyCodeLine{02856           tr(\textcolor{stringliteral}{"{}\(\backslash\)nWARNING : Failed to get image size of the existing level \%1."{}})}
\DoxyCodeLine{02857               .arg(QString::fromStdWString(levelName));}
\DoxyCodeLine{02858       labelStr += tr(\textcolor{stringliteral}{"{}WARNING"{}});}
\DoxyCodeLine{02859       infoType = WARNING;}
\DoxyCodeLine{02860     \}}
\DoxyCodeLine{02861     \textcolor{comment}{// if the saved images has not the same resolution as the current camera}}
\DoxyCodeLine{02862     \textcolor{comment}{// resolution}}
\DoxyCodeLine{02863     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (camRes != dim) \{}
\DoxyCodeLine{02864       tooltipStr += tr(\textcolor{stringliteral}{"{}\(\backslash\)nWARNING : Image size mismatch. The existing level "{}}}
\DoxyCodeLine{02865                        \textcolor{stringliteral}{"{}size is \%1 x \%2."{}})}
\DoxyCodeLine{02866                         .arg(dim.lx)}
\DoxyCodeLine{02867                         .arg(dim.ly);}
\DoxyCodeLine{02868       labelStr += tr(\textcolor{stringliteral}{"{}WARNING"{}});}
\DoxyCodeLine{02869       infoType = WARNING;}
\DoxyCodeLine{02870     \}}
\DoxyCodeLine{02871     \textcolor{comment}{// if the resolutions are matched}}
\DoxyCodeLine{02872     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02873       \textcolor{keywordtype}{int} frameCount = fids.size();}
\DoxyCodeLine{02874       \textcolor{keywordflow}{if} (fids.size() == 1)}
\DoxyCodeLine{02875         tooltipStr += tr(\textcolor{stringliteral}{"{}\(\backslash\)nFrame \%1 exists."{}})}
\DoxyCodeLine{02876                           .arg(fidsToString(fids, letterOptionEnabled));}
\DoxyCodeLine{02877       \textcolor{keywordflow}{else}}
\DoxyCodeLine{02878         tooltipStr += tr(\textcolor{stringliteral}{"{}\(\backslash\)nFrames \%1 exist."{}})}
\DoxyCodeLine{02879                           .arg(fidsToString(fids, letterOptionEnabled));}
\DoxyCodeLine{02880       \textcolor{comment}{// Check if the target frame already exist in the level}}
\DoxyCodeLine{02881       \textcolor{keywordtype}{bool} hasFrame = \textcolor{keyword}{false};}
\DoxyCodeLine{02882       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} f = 0; f < frameCount; f++) \{}
\DoxyCodeLine{02883         \textcolor{keywordflow}{if} (fids.at(f) == fId) \{}
\DoxyCodeLine{02884           hasFrame = \textcolor{keyword}{true};}
\DoxyCodeLine{02885           \textcolor{keywordflow}{break};}
\DoxyCodeLine{02886         \}}
\DoxyCodeLine{02887       \}}
\DoxyCodeLine{02888       \textcolor{comment}{// If there is already the frame then it will be overwritten}}
\DoxyCodeLine{02889       \textcolor{keywordflow}{if} (hasFrame) \{}
\DoxyCodeLine{02890         labelStr += tr(\textcolor{stringliteral}{"{}OVERWRITE 1 of"{}});}
\DoxyCodeLine{02891         infoType = OVERWRITE;}
\DoxyCodeLine{02892       \}}
\DoxyCodeLine{02893       \textcolor{comment}{// Or, the frame will be added to the level}}
\DoxyCodeLine{02894       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02895         labelStr += tr(\textcolor{stringliteral}{"{}ADD to"{}});}
\DoxyCodeLine{02896         infoType = ADD;}
\DoxyCodeLine{02897       \}}
\DoxyCodeLine{02898       \textcolor{keywordflow}{if} (frameCount == 1)}
\DoxyCodeLine{02899         labelStr += tr(\textcolor{stringliteral}{"{} \%1 frame"{}}).arg(frameCount);}
\DoxyCodeLine{02900       \textcolor{keywordflow}{else}}
\DoxyCodeLine{02901         labelStr += tr(\textcolor{stringliteral}{"{} \%1 frames"{}}).arg(frameCount);}
\DoxyCodeLine{02902     \}}
\DoxyCodeLine{02903     m\_allowedCameraSize = QSize(dim.lx, dim.ly);}
\DoxyCodeLine{02904   \}}
\DoxyCodeLine{02905   \textcolor{comment}{// \#\#\# CASE 3 \#\#\#}}
\DoxyCodeLine{02906   \textcolor{comment}{// If there are some conflicts with the existing level.}}
\DoxyCodeLine{02907   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02908     \textcolor{keywordflow}{if} (level\_sameName) \{}
\DoxyCodeLine{02909       \mbox{\hyperlink{class_t_file_path}{TFilePath}} anotherPath = level\_sameName-\/>\mbox{\hyperlink{class_t_xsh_level_ab8ffcf067cadf0e1c4081b54ffde249d}{getPath}}();}
\DoxyCodeLine{02910       tooltipStr +=}
\DoxyCodeLine{02911           tr(\textcolor{stringliteral}{"{}WARNING : Level name conflicts. There already is a level \%1 in the scene with the path\(\backslash\)}}
\DoxyCodeLine{02912 \textcolor{stringliteral}{                        \(\backslash\)n          \%2."{}})}
\DoxyCodeLine{02913               .arg(QString::fromStdWString(levelName))}
\DoxyCodeLine{02914               .arg(toQString(anotherPath));}
\DoxyCodeLine{02915       \textcolor{comment}{// check resolution}}
\DoxyCodeLine{02916       \mbox{\hyperlink{class_t_dimension_t}{TDimension}} dim;}
\DoxyCodeLine{02917       \textcolor{keywordtype}{bool} ret = getRasterLevelSize(level\_sameName, dim);}
\DoxyCodeLine{02918       \textcolor{keywordflow}{if} (ret \&\& camRes != dim)}
\DoxyCodeLine{02919         tooltipStr += tr(\textcolor{stringliteral}{"{}\(\backslash\)nWARNING : Image size mismatch. The size of level "{}}}
\DoxyCodeLine{02920                          \textcolor{stringliteral}{"{}with the same name is is \%1 x \%2."{}})}
\DoxyCodeLine{02921                           .arg(dim.lx)}
\DoxyCodeLine{02922                           .arg(dim.ly);}
\DoxyCodeLine{02923       m\_allowedCameraSize = QSize(dim.lx, dim.ly);}
\DoxyCodeLine{02924     \}}
\DoxyCodeLine{02925     \textcolor{keywordflow}{if} (level\_samePath) \{}
\DoxyCodeLine{02926       std::wstring anotherName = level\_samePath-\/>\mbox{\hyperlink{class_t_xsh_level_a3a59fb1bd3261baee4e889a9edbf0ae8}{getName}}();}
\DoxyCodeLine{02927       \textcolor{keywordflow}{if} (!tooltipStr.isEmpty()) tooltipStr += QString(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{02928       tooltipStr +=}
\DoxyCodeLine{02929           tr(\textcolor{stringliteral}{"{}WARNING : Level path conflicts. There already is a level with the path \%1\(\backslash\)}}
\DoxyCodeLine{02930 \textcolor{stringliteral}{                        \(\backslash\)n          in the scene with the name \%2."{}})}
\DoxyCodeLine{02931               .arg(toQString(levelFp))}
\DoxyCodeLine{02932               .arg(QString::fromStdWString(anotherName));}
\DoxyCodeLine{02933       \textcolor{comment}{// check resolution}}
\DoxyCodeLine{02934       \mbox{\hyperlink{class_t_dimension_t}{TDimension}} dim;}
\DoxyCodeLine{02935       \textcolor{keywordtype}{bool} ret = getRasterLevelSize(level\_samePath, dim);}
\DoxyCodeLine{02936       \textcolor{keywordflow}{if} (ret \&\& camRes != dim)}
\DoxyCodeLine{02937         tooltipStr += tr(\textcolor{stringliteral}{"{}\(\backslash\)nWARNING : Image size mismatch. The size of level "{}}}
\DoxyCodeLine{02938                          \textcolor{stringliteral}{"{}with the same path is \%1 x \%2."{}})}
\DoxyCodeLine{02939                           .arg(dim.lx)}
\DoxyCodeLine{02940                           .arg(dim.ly);}
\DoxyCodeLine{02941       m\_allowedCameraSize = QSize(dim.lx, dim.ly);}
\DoxyCodeLine{02942     \}}
\DoxyCodeLine{02943     labelStr += tr(\textcolor{stringliteral}{"{}WARNING"{}});}
\DoxyCodeLine{02944     infoType = WARNING;}
\DoxyCodeLine{02945   \}}
\DoxyCodeLine{02946 }
\DoxyCodeLine{02947   QColor infoColor = infoColors[(int)infoType];}
\DoxyCodeLine{02948   m\_frameInfoLabel-\/>setStyleSheet(QString(\textcolor{stringliteral}{"{}QLabel\{color: \%1;\}\(\backslash\)}}
\DoxyCodeLine{02949 \textcolor{stringliteral}{                                          QLabel QWidget\{ color: black;\}"{}})}
\DoxyCodeLine{02950                                       .arg(infoColor.name()));}
\DoxyCodeLine{02951   m\_frameInfoLabel-\/>setText(labelStr);}
\DoxyCodeLine{02952   m\_frameInfoLabel-\/>setToolTip(tooltipStr);}
\DoxyCodeLine{02953 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pencil_test_popup_a463f58f01b514482c80835d84f29d8d7}\label{class_pencil_test_popup_a463f58f01b514482c80835d84f29d8d7}} 
\index{PencilTestPopup@{PencilTestPopup}!showEvent@{showEvent}}
\index{showEvent@{showEvent}!PencilTestPopup@{PencilTestPopup}}
\doxysubsubsection{\texorpdfstring{showEvent()}{showEvent()}}
{\footnotesize\ttfamily void Pencil\+Test\+Popup\+::show\+Event (\begin{DoxyParamCaption}\item[{QShow\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02196                                                  \{}
\DoxyCodeLine{02197   \textcolor{comment}{// if there is another action of which "{}return"{} key is assigned as short cut}}
\DoxyCodeLine{02198   \textcolor{comment}{// key,}}
\DoxyCodeLine{02199   \textcolor{comment}{// then release the shortcut key temporary while the popup opens}}
\DoxyCodeLine{02200   QAction* action = CommandManager::instance()-\/>getActionFromShortcut(\textcolor{stringliteral}{"{}Return"{}});}
\DoxyCodeLine{02201   \textcolor{keywordflow}{if} (action) action-\/>setShortcut(QKeySequence(\textcolor{stringliteral}{"{}"{}}));}
\DoxyCodeLine{02202 }
\DoxyCodeLine{02203   \mbox{\hyperlink{class_t_scene_handle}{TSceneHandle}}* sceneHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}();}
\DoxyCodeLine{02204   connect(sceneHandle, SIGNAL(sceneSwitched()), \textcolor{keyword}{this}, SLOT(onSceneSwitched()));}
\DoxyCodeLine{02205   connect(sceneHandle, SIGNAL(castChanged()), \textcolor{keyword}{this}, SLOT(refreshFrameInfo()));}
\DoxyCodeLine{02206 }
\DoxyCodeLine{02207   \textcolor{keywordtype}{bool} tmp\_alwaysOverwrite = m\_alwaysOverwrite;}
\DoxyCodeLine{02208   onSceneSwitched();}
\DoxyCodeLine{02209   m\_alwaysOverwrite = tmp\_alwaysOverwrite;}
\DoxyCodeLine{02210 }
\DoxyCodeLine{02211   onResolutionComboActivated();}
\DoxyCodeLine{02212   m\_videoWidget-\/>computeTransform(m\_resolution);}
\DoxyCodeLine{02213 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/penciltestpopup.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/penciltestpopup\+\_\+qt.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/penciltestpopup.\+cpp\item 
E\+:/opentoonz/toonz/sources/toonz/penciltestpopup\+\_\+qt.\+cpp\end{DoxyCompactItemize}
