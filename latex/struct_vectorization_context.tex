\hypertarget{struct_vectorization_context}{}\doxysection{Vectorization\+Context Struct Reference}
\label{struct_vectorization_context}\index{VectorizationContext@{VectorizationContext}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_vectorization_context_af1e83facfaf399769da1325f940f31e6}{Vectorization\+Context}} (\mbox{\hyperlink{class_vectorizer_core_globals}{Vectorizer\+Core\+Globals}} $\ast$globals)
\item 
\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$ \mbox{\hyperlink{struct_vectorization_context_a4c6687d47eccbef37a947aeb388a6e91}{get\+Node}} ()
\item 
\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$ \mbox{\hyperlink{struct_vectorization_context_a840e072b2cbbd36473cb4d704fddaf98}{get\+Linear\+Node}} ()
\item 
\mbox{\hyperlink{class_contour_edge}{Contour\+Edge}} $\ast$ \mbox{\hyperlink{struct_vectorization_context_a8fc2e0c8b24024c9a1ed9c50d216e663}{get\+Linear\+Edge}} ()
\item 
void \mbox{\hyperlink{struct_vectorization_context_a1c02f3fe5a157b83cf0219bc93acda9b}{add\+Linear\+Node\+Before}} (\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$node)
\item 
void \mbox{\hyperlink{struct_vectorization_context_a1e899c30597ef51fb67e207202c8c1bd}{repair\+Degenerations}} (const std\+::vector$<$ \mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$ $>$ \&degenerates)
\item 
void \mbox{\hyperlink{struct_vectorization_context_a38d614b4ec7e9b7363d7483483de6e8e}{prepare\+Globals}} ()
\item 
void \mbox{\hyperlink{struct_vectorization_context_ad08ce6eefbbe054ef39aa2c6d8617b03}{prepare\+Contours}} (Contour\+Family \&family)
\item 
void \mbox{\hyperlink{struct_vectorization_context_a437a4d35099be66c02b3f7ac4e0793e0}{new\+Skeleton\+Link}} (unsigned int cur, \mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$node)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_vectorizer_core_globals}{Vectorizer\+Core\+Globals}} $\ast$ \mbox{\hyperlink{struct_vectorization_context_a5b3f57f5211034fa2c222ee569a03168}{m\+\_\+globals}}
\item 
unsigned int \mbox{\hyperlink{struct_vectorization_context_a34fed74695e5a3556a0d8d05b30a6f5d}{m\+\_\+total\+Nodes}}
\item 
unsigned int \mbox{\hyperlink{struct_vectorization_context_a91e8cbb66450ca777f73ff00ff01d995}{m\+\_\+contours\+Count}}
\item 
\mbox{\hyperlink{class_index_table}{Index\+Table}} \mbox{\hyperlink{struct_vectorization_context_a7e3a3c8579f31f406e68f82b7af94765}{m\+\_\+active\+Table}}
\item 
Skeleton\+Graph $\ast$ \mbox{\hyperlink{struct_vectorization_context_a4da5ef977247710b223da19121530ebe}{m\+\_\+output}}
\item 
double \mbox{\hyperlink{struct_vectorization_context_aea29b241f18912d8b083bff797f59e13}{m\+\_\+current\+Height}}
\item 
\mbox{\hyperlink{class_timeline}{Timeline}} \mbox{\hyperlink{struct_vectorization_context_a17114f517d3b6301eb846a7f57fb2f28}{m\+\_\+timeline}}
\item 
unsigned int \mbox{\hyperlink{struct_vectorization_context_adfc0911c37d68ca43d62bc90e2668825}{m\+\_\+algoritmic\+Time}}
\item 
std\+::vector$<$ \mbox{\hyperlink{class_contour_edge}{Contour\+Edge}} $>$ \mbox{\hyperlink{struct_vectorization_context_a535bd0163994d83ee8148144300cb95a}{m\+\_\+edges\+Heap}}
\item 
std\+::vector$<$ \mbox{\hyperlink{class_contour_node}{Contour\+Node}} $>$ \mbox{\hyperlink{struct_vectorization_context_aa276d1674148a1e03919c84180c40ddf}{m\+\_\+nodes\+Heap}}
\item 
unsigned int \mbox{\hyperlink{struct_vectorization_context_ac607d6f4f2acf96138ffbc98509e29c3}{m\+\_\+nodes\+Heap\+Count}}
\item 
std\+::vector$<$ \mbox{\hyperlink{class_contour_node}{Contour\+Node}} $>$ \mbox{\hyperlink{struct_vectorization_context_a59e497d451e441b50db32be305c29ade}{m\+\_\+linear\+Nodes\+Heap}}
\item 
std\+::vector$<$ \mbox{\hyperlink{class_contour_edge}{Contour\+Edge}} $>$ \mbox{\hyperlink{struct_vectorization_context_a6b261ef7f125363008e251f94440e428}{m\+\_\+linear\+Edges\+Heap}}
\item 
unsigned int \mbox{\hyperlink{struct_vectorization_context_a0799e5b5c8891060a84be5a530357e72}{m\+\_\+linear\+Nodes\+Heap\+Count}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{struct_vectorization_context_af1e83facfaf399769da1325f940f31e6}\label{struct_vectorization_context_af1e83facfaf399769da1325f940f31e6}} 
\index{VectorizationContext@{VectorizationContext}!VectorizationContext@{VectorizationContext}}
\index{VectorizationContext@{VectorizationContext}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{VectorizationContext()}{VectorizationContext()}}
{\footnotesize\ttfamily Vectorization\+Context\+::\+Vectorization\+Context (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_vectorizer_core_globals}{Vectorizer\+Core\+Globals}} $\ast$}]{globals }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00324 : m\_globals(globals) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{struct_vectorization_context_a1c02f3fe5a157b83cf0219bc93acda9b}\label{struct_vectorization_context_a1c02f3fe5a157b83cf0219bc93acda9b}} 
\index{VectorizationContext@{VectorizationContext}!addLinearNodeBefore@{addLinearNodeBefore}}
\index{addLinearNodeBefore@{addLinearNodeBefore}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{addLinearNodeBefore()}{addLinearNodeBefore()}}
{\footnotesize\ttfamily void Vectorization\+Context\+::add\+Linear\+Node\+Before (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00416                                                                        \{}
\DoxyCodeLine{00417   \mbox{\hyperlink{class_contour_node}{ContourNode}} *newNode = getLinearNode();}
\DoxyCodeLine{00418   \mbox{\hyperlink{class_contour_edge}{ContourEdge}} *newEdge = getLinearEdge();}
\DoxyCodeLine{00419 }
\DoxyCodeLine{00420   newNode-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} = node-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}};}
\DoxyCodeLine{00421 }
\DoxyCodeLine{00422   \textcolor{comment}{// Build new edge}}
\DoxyCodeLine{00423   \textcolor{keywordflow}{if} (node-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.z < 0.1)}
\DoxyCodeLine{00424     newEdge-\/>m\_direction = rotate270(node-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}}-\/>m\_direction);}
\DoxyCodeLine{00425   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00426     newEdge-\/>m\_direction = normalize(node-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}}-\/>m\_direction +}
\DoxyCodeLine{00427                                      node-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}}-\/>m\_direction);}
\DoxyCodeLine{00428 }
\DoxyCodeLine{00429   newNode-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}} = newEdge;}
\DoxyCodeLine{00430 }
\DoxyCodeLine{00431   \textcolor{comment}{// Link newNode}}
\DoxyCodeLine{00432   newNode-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}      = node-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}};}
\DoxyCodeLine{00433   newNode-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}      = node;}
\DoxyCodeLine{00434   node-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}} = newNode;}
\DoxyCodeLine{00435   node-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}         = newNode;}
\DoxyCodeLine{00436 }
\DoxyCodeLine{00437   \textcolor{comment}{// Build remaining infos}}
\DoxyCodeLine{00438   node-\/>buildNodeInfos();  \textcolor{comment}{// Rebuild}}
\DoxyCodeLine{00439   newNode-\/>buildNodeInfos();}
\DoxyCodeLine{00440 }
\DoxyCodeLine{00441   newNode-\/>\mbox{\hyperlink{class_contour_node_a6e2399be686ff186ce6e2aa1f001f8c4}{m\_updateTime}}      = 0;}
\DoxyCodeLine{00442   newNode-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}}        = node-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}};}
\DoxyCodeLine{00443   newNode-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}} = node-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}};}
\DoxyCodeLine{00444 }
\DoxyCodeLine{00445   \textcolor{comment}{// Set node and newNode's edges not to be recognized as possible}}
\DoxyCodeLine{00446   \textcolor{comment}{// opposites by the other (could happen in *future* instants)}}
\DoxyCodeLine{00447   \textcolor{comment}{//                *DO NOT REMOVE!*}}
\DoxyCodeLine{00448   node-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}.push\_back(newNode-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}});}
\DoxyCodeLine{00449   node-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}.push\_back(newNode-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}});}
\DoxyCodeLine{00450   newNode-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}.push\_back(node-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}});}
\DoxyCodeLine{00451 }
\DoxyCodeLine{00452   \textcolor{comment}{// Further sign newly added node}}
\DoxyCodeLine{00453   newNode-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea40a56a52ee57ba216e3ae71cc8d36b49}{ContourNode::LINEAR\_ADDED}});}
\DoxyCodeLine{00454 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_vectorization_context_a8fc2e0c8b24024c9a1ed9c50d216e663}\label{struct_vectorization_context_a8fc2e0c8b24024c9a1ed9c50d216e663}} 
\index{VectorizationContext@{VectorizationContext}!getLinearEdge@{getLinearEdge}}
\index{getLinearEdge@{getLinearEdge}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{getLinearEdge()}{getLinearEdge()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_contour_edge}{Contour\+Edge}} $\ast$ Vectorization\+Context\+::get\+Linear\+Edge (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00330                                \{}
\DoxyCodeLine{00331     \textcolor{keywordflow}{return} \&m\_linearEdgesHeap[m\_linearNodesHeapCount++];}
\DoxyCodeLine{00332   \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_vectorization_context_a840e072b2cbbd36473cb4d704fddaf98}\label{struct_vectorization_context_a840e072b2cbbd36473cb4d704fddaf98}} 
\index{VectorizationContext@{VectorizationContext}!getLinearNode@{getLinearNode}}
\index{getLinearNode@{getLinearNode}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{getLinearNode()}{getLinearNode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$ Vectorization\+Context\+::get\+Linear\+Node (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00327                                \{}
\DoxyCodeLine{00328     \textcolor{keywordflow}{return} \&m\_linearNodesHeap[m\_linearNodesHeapCount];}
\DoxyCodeLine{00329   \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_vectorization_context_a4c6687d47eccbef37a947aeb388a6e91}\label{struct_vectorization_context_a4c6687d47eccbef37a947aeb388a6e91}} 
\index{VectorizationContext@{VectorizationContext}!getNode@{getNode}}
\index{getNode@{getNode}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{getNode()}{getNode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$ Vectorization\+Context\+::get\+Node (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00326 \{ \textcolor{keywordflow}{return} \&m\_nodesHeap[m\_nodesHeapCount++]; \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_vectorization_context_a437a4d35099be66c02b3f7ac4e0793e0}\label{struct_vectorization_context_a437a4d35099be66c02b3f7ac4e0793e0}} 
\index{VectorizationContext@{VectorizationContext}!newSkeletonLink@{newSkeletonLink}}
\index{newSkeletonLink@{newSkeletonLink}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{newSkeletonLink()}{newSkeletonLink()}}
{\footnotesize\ttfamily void Vectorization\+Context\+::new\+Skeleton\+Link (\begin{DoxyParamCaption}\item[{unsigned int}]{cur,  }\item[{\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00387                                                                      \{}
\DoxyCodeLine{00388   \textcolor{keywordflow}{if} (node-\/>hasAttribute(ContourNode::SK\_NODE\_DROPPED)) \{}
\DoxyCodeLine{00389     \mbox{\hyperlink{class_skeleton_arc}{SkeletonArc}} arcCopy(node);}
\DoxyCodeLine{00390     m\_output-\/>newLink(node-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}, cur, arcCopy);}
\DoxyCodeLine{00391 }
\DoxyCodeLine{00392     arcCopy.turn();}
\DoxyCodeLine{00393     m\_output-\/>newLink(cur, node-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}, arcCopy);}
\DoxyCodeLine{00394   \}}
\DoxyCodeLine{00395 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_vectorization_context_ad08ce6eefbbe054ef39aa2c6d8617b03}\label{struct_vectorization_context_ad08ce6eefbbe054ef39aa2c6d8617b03}} 
\index{VectorizationContext@{VectorizationContext}!prepareContours@{prepareContours}}
\index{prepareContours@{prepareContours}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{prepareContours()}{prepareContours()}}
{\footnotesize\ttfamily void Vectorization\+Context\+::prepare\+Contours (\begin{DoxyParamCaption}\item[{Contour\+Family \&}]{family }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00480                                                                        \{}
\DoxyCodeLine{00481   std::vector<ContourNode *> degenerateNodes;}
\DoxyCodeLine{00482 }
\DoxyCodeLine{00483   \textcolor{comment}{// Build circular links}}
\DoxyCodeLine{00484   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i, j, k;}
\DoxyCodeLine{00485   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} current;}
\DoxyCodeLine{00486 }
\DoxyCodeLine{00487   m\_contoursCount = family.size();}
\DoxyCodeLine{00488   m\_totalNodes    = 0;}
\DoxyCodeLine{00489   \textcolor{keywordflow}{for} (i = 0; i < family.size(); ++i) \{}
\DoxyCodeLine{00490     \textcolor{keywordflow}{for} (j = 0, k = family[i].size() -\/ 1; j < family[i].size(); k = j, ++j) \{}
\DoxyCodeLine{00491       family[i][k].m\_next = \&family[i][j];}
\DoxyCodeLine{00492       family[i][j].m\_prev = \&family[i][k];}
\DoxyCodeLine{00493     \}}
\DoxyCodeLine{00494     m\_totalNodes += family[i].size();}
\DoxyCodeLine{00495   \}}
\DoxyCodeLine{00496 }
\DoxyCodeLine{00497   \textcolor{comment}{// Build node edges}}
\DoxyCodeLine{00498   m\_edgesHeap.resize(m\_totalNodes);}
\DoxyCodeLine{00499   current = 0;}
\DoxyCodeLine{00500   \textcolor{keywordflow}{for} (i = 0; i < family.size(); ++i) \{}
\DoxyCodeLine{00501     \textcolor{keywordflow}{for} (j = 0, k = family[i].size() -\/ 1; j < family[i].size(); k = j, ++j) \{}
\DoxyCodeLine{00502       m\_edgesHeap[current].m\_direction = normalize(}
\DoxyCodeLine{00503           planeProjection(family[i][j].m\_position -\/ family[i][k].m\_position));}
\DoxyCodeLine{00504       family[i][k].m\_edge = \&m\_edgesHeap[current];}
\DoxyCodeLine{00505       current++;}
\DoxyCodeLine{00506     \}}
\DoxyCodeLine{00507   \}}
\DoxyCodeLine{00508 }
\DoxyCodeLine{00509   \textcolor{keywordtype}{bool} maxThicknessNotZero = m\_globals-\/>currConfig-\/>\mbox{\hyperlink{class_centerline_configuration_ab02bbd16f5956301c755a15f4e6557e2}{m\_maxThickness}} > 0.0;}
\DoxyCodeLine{00510 }
\DoxyCodeLine{00511   \textcolor{comment}{// Now build remaining infos}}
\DoxyCodeLine{00512   \textcolor{keywordflow}{for} (i = 0; i < family.size(); ++i) \{}
\DoxyCodeLine{00513     \textcolor{keywordflow}{for} (j = 0; j < family[i].size(); ++j) \{}
\DoxyCodeLine{00514       family[i][j].buildNodeInfos();}
\DoxyCodeLine{00515 }
\DoxyCodeLine{00516       family[i][j].m\_updateTime = 0;}
\DoxyCodeLine{00517 }
\DoxyCodeLine{00518       family[i][j].m\_ancestor        = j;}
\DoxyCodeLine{00519       family[i][j].m\_ancestorContour = i;}
\DoxyCodeLine{00520 }
\DoxyCodeLine{00521       \textcolor{comment}{// Check the following degeneration}}
\DoxyCodeLine{00522       \textcolor{keywordflow}{if} (family[i][j].m\_concave \&\& family[i][j].m\_direction.z < 0.3) \{}
\DoxyCodeLine{00523         \textcolor{comment}{// Push this node among degenerate ones}}
\DoxyCodeLine{00524         degenerateNodes.push\_back(\&family[i][j]);}
\DoxyCodeLine{00525       \}}
\DoxyCodeLine{00526 }
\DoxyCodeLine{00527       \textcolor{comment}{// Insert output node in sharp angles}}
\DoxyCodeLine{00528       \textcolor{keywordflow}{if} (!family[i][j].m\_concave \&\& family[i][j].m\_direction.z < 0.6 \&\&}
\DoxyCodeLine{00529           maxThicknessNotZero) \{}
\DoxyCodeLine{00530         family[i][j].setAttribute(ContourNode::SK\_NODE\_DROPPED);}
\DoxyCodeLine{00531         family[i][j].m\_outputNode = m\_output-\/>newNode(family[i][j].m\_position);}
\DoxyCodeLine{00532       \}}
\DoxyCodeLine{00533 }
\DoxyCodeLine{00534       \textcolor{comment}{// Push on nodes having AMBIGUOUS\_RIGHT attribute}}
\DoxyCodeLine{00535       \textcolor{keywordflow}{if} (family[i][j].hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea63ccbd7893d165017dfe87c5e9ddcbc5}{ContourNode::AMBIGUOUS\_RIGHT}}))}
\DoxyCodeLine{00536         family[i][j].m\_position += 0.02 * family[i][j].m\_direction;}
\DoxyCodeLine{00537     \}}
\DoxyCodeLine{00538   \}}
\DoxyCodeLine{00539 }
\DoxyCodeLine{00540   \textcolor{comment}{// Finally, ensure polygon degenerations found are solved}}
\DoxyCodeLine{00541   \textcolor{keywordflow}{if} (maxThicknessNotZero) repairDegenerations(degenerateNodes);}
\DoxyCodeLine{00542 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_vectorization_context_a38d614b4ec7e9b7363d7483483de6e8e}\label{struct_vectorization_context_a38d614b4ec7e9b7363d7483483de6e8e}} 
\index{VectorizationContext@{VectorizationContext}!prepareGlobals@{prepareGlobals}}
\index{prepareGlobals@{prepareGlobals}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{prepareGlobals()}{prepareGlobals()}}
{\footnotesize\ttfamily void Vectorization\+Context\+::prepare\+Globals (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00348                                                  \{}
\DoxyCodeLine{00349   \textcolor{comment}{// NOTE: Let n be the total number of nodes in the family, k the number of}}
\DoxyCodeLine{00350   \textcolor{comment}{// split events}}
\DoxyCodeLine{00351   \textcolor{comment}{//      effectively happening in the process, m the number of original}}
\DoxyCodeLine{00352   \textcolor{comment}{//      contours of the family.}}
\DoxyCodeLine{00353   \textcolor{comment}{//      Now:}}
\DoxyCodeLine{00354   \textcolor{comment}{//        * Each split event eliminates its generating reflex node and}}
\DoxyCodeLine{00355   \textcolor{comment}{//        introduces}}
\DoxyCodeLine{00356   \textcolor{comment}{//          two convex nodes}}
\DoxyCodeLine{00357   \textcolor{comment}{//        * Each edge event eliminates its couple of generating nodes and}}
\DoxyCodeLine{00358   \textcolor{comment}{//          introduces one new convex node}}
\DoxyCodeLine{00359   \textcolor{comment}{//        * Each max event eliminates 3 generating nodes without introducing}}
\DoxyCodeLine{00360   \textcolor{comment}{//        new ones}}
\DoxyCodeLine{00361 }
\DoxyCodeLine{00362   \textcolor{comment}{// So, split events introduce 2k non-\/original nodes, and (k-\/m+2) is the number}}
\DoxyCodeLine{00363   \textcolor{comment}{// of max events}}
\DoxyCodeLine{00364   \textcolor{comment}{// necessarily happening, since (m-\/1) are the *merging* split events.}}
\DoxyCodeLine{00365   \textcolor{comment}{// On the n+k-\/3(k-\/m+2) nodes remaining for pure edge events, as many}}
\DoxyCodeLine{00366   \textcolor{comment}{// non-\/original nodes are inserted.}}
\DoxyCodeLine{00367   \textcolor{comment}{//=> This yields 2k + n-\/2k+3m-\/6= n+3m-\/6 non-\/original nodes. Contemporaneous}}
\DoxyCodeLine{00368   \textcolor{comment}{// events such as}}
\DoxyCodeLine{00369   \textcolor{comment}{// vertex and special events can only decrease the number of non-\/original}}
\DoxyCodeLine{00370   \textcolor{comment}{// nodes requested.}}
\DoxyCodeLine{00371 }
\DoxyCodeLine{00372   \textcolor{comment}{// Initialize non-\/original nodes container}}
\DoxyCodeLine{00373   m\_nodesHeap.resize(m\_totalNodes + 3 * m\_contoursCount -\/ 6);}
\DoxyCodeLine{00374   m\_nodesHeapCount = 0;}
\DoxyCodeLine{00375 }
\DoxyCodeLine{00376   \textcolor{comment}{// Reset time/height variables}}
\DoxyCodeLine{00377   m\_currentHeight  = 0;}
\DoxyCodeLine{00378   m\_algoritmicTime = 0;}
\DoxyCodeLine{00379 }
\DoxyCodeLine{00380   \textcolor{comment}{// Clean IndexTable}}
\DoxyCodeLine{00381   m\_activeTable.clear();}
\DoxyCodeLine{00382 \}}

\end{DoxyCode}
\mbox{\Hypertarget{struct_vectorization_context_a1e899c30597ef51fb67e207202c8c1bd}\label{struct_vectorization_context_a1e899c30597ef51fb67e207202c8c1bd}} 
\index{VectorizationContext@{VectorizationContext}!repairDegenerations@{repairDegenerations}}
\index{repairDegenerations@{repairDegenerations}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{repairDegenerations()}{repairDegenerations()}}
{\footnotesize\ttfamily void Vectorization\+Context\+::repair\+Degenerations (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$ $>$ \&}]{degenerates }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00459                                                  \{}
\DoxyCodeLine{00460   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00461 }
\DoxyCodeLine{00462   m\_linearNodesHeap.resize(degenerates.size());}
\DoxyCodeLine{00463   m\_linearEdgesHeap.resize(degenerates.size());}
\DoxyCodeLine{00464   m\_linearNodesHeapCount = 0;}
\DoxyCodeLine{00465 }
\DoxyCodeLine{00466   \textcolor{keywordflow}{for} (i = 0; i < degenerates.size(); ++i) \{}
\DoxyCodeLine{00467     \textcolor{keywordflow}{if} (!degenerates[i]-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea5a2f9c1e7c3d696e6b6cce2f3290c0a8}{ContourNode::AMBIGUOUS\_LEFT}})) \{}
\DoxyCodeLine{00468       addLinearNodeBefore(degenerates[i]);}
\DoxyCodeLine{00469       m\_totalNodes++;}
\DoxyCodeLine{00470     \}}
\DoxyCodeLine{00471   \}}
\DoxyCodeLine{00472 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{struct_vectorization_context_a7e3a3c8579f31f406e68f82b7af94765}\label{struct_vectorization_context_a7e3a3c8579f31f406e68f82b7af94765}} 
\index{VectorizationContext@{VectorizationContext}!m\_activeTable@{m\_activeTable}}
\index{m\_activeTable@{m\_activeTable}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_activeTable}{m\_activeTable}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_index_table}{Index\+Table}} Vectorization\+Context\+::m\+\_\+active\+Table}

\mbox{\Hypertarget{struct_vectorization_context_adfc0911c37d68ca43d62bc90e2668825}\label{struct_vectorization_context_adfc0911c37d68ca43d62bc90e2668825}} 
\index{VectorizationContext@{VectorizationContext}!m\_algoritmicTime@{m\_algoritmicTime}}
\index{m\_algoritmicTime@{m\_algoritmicTime}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_algoritmicTime}{m\_algoritmicTime}}
{\footnotesize\ttfamily unsigned int Vectorization\+Context\+::m\+\_\+algoritmic\+Time}

\mbox{\Hypertarget{struct_vectorization_context_a91e8cbb66450ca777f73ff00ff01d995}\label{struct_vectorization_context_a91e8cbb66450ca777f73ff00ff01d995}} 
\index{VectorizationContext@{VectorizationContext}!m\_contoursCount@{m\_contoursCount}}
\index{m\_contoursCount@{m\_contoursCount}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_contoursCount}{m\_contoursCount}}
{\footnotesize\ttfamily unsigned int Vectorization\+Context\+::m\+\_\+contours\+Count}

\mbox{\Hypertarget{struct_vectorization_context_aea29b241f18912d8b083bff797f59e13}\label{struct_vectorization_context_aea29b241f18912d8b083bff797f59e13}} 
\index{VectorizationContext@{VectorizationContext}!m\_currentHeight@{m\_currentHeight}}
\index{m\_currentHeight@{m\_currentHeight}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_currentHeight}{m\_currentHeight}}
{\footnotesize\ttfamily double Vectorization\+Context\+::m\+\_\+current\+Height}

\mbox{\Hypertarget{struct_vectorization_context_a535bd0163994d83ee8148144300cb95a}\label{struct_vectorization_context_a535bd0163994d83ee8148144300cb95a}} 
\index{VectorizationContext@{VectorizationContext}!m\_edgesHeap@{m\_edgesHeap}}
\index{m\_edgesHeap@{m\_edgesHeap}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_edgesHeap}{m\_edgesHeap}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{class_contour_edge}{Contour\+Edge}}$>$ Vectorization\+Context\+::m\+\_\+edges\+Heap}

\mbox{\Hypertarget{struct_vectorization_context_a5b3f57f5211034fa2c222ee569a03168}\label{struct_vectorization_context_a5b3f57f5211034fa2c222ee569a03168}} 
\index{VectorizationContext@{VectorizationContext}!m\_globals@{m\_globals}}
\index{m\_globals@{m\_globals}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_globals}{m\_globals}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_vectorizer_core_globals}{Vectorizer\+Core\+Globals}}$\ast$ Vectorization\+Context\+::m\+\_\+globals}

\mbox{\Hypertarget{struct_vectorization_context_a6b261ef7f125363008e251f94440e428}\label{struct_vectorization_context_a6b261ef7f125363008e251f94440e428}} 
\index{VectorizationContext@{VectorizationContext}!m\_linearEdgesHeap@{m\_linearEdgesHeap}}
\index{m\_linearEdgesHeap@{m\_linearEdgesHeap}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_linearEdgesHeap}{m\_linearEdgesHeap}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{class_contour_edge}{Contour\+Edge}}$>$ Vectorization\+Context\+::m\+\_\+linear\+Edges\+Heap}

\mbox{\Hypertarget{struct_vectorization_context_a59e497d451e441b50db32be305c29ade}\label{struct_vectorization_context_a59e497d451e441b50db32be305c29ade}} 
\index{VectorizationContext@{VectorizationContext}!m\_linearNodesHeap@{m\_linearNodesHeap}}
\index{m\_linearNodesHeap@{m\_linearNodesHeap}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_linearNodesHeap}{m\_linearNodesHeap}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{class_contour_node}{Contour\+Node}}$>$ Vectorization\+Context\+::m\+\_\+linear\+Nodes\+Heap}

\mbox{\Hypertarget{struct_vectorization_context_a0799e5b5c8891060a84be5a530357e72}\label{struct_vectorization_context_a0799e5b5c8891060a84be5a530357e72}} 
\index{VectorizationContext@{VectorizationContext}!m\_linearNodesHeapCount@{m\_linearNodesHeapCount}}
\index{m\_linearNodesHeapCount@{m\_linearNodesHeapCount}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_linearNodesHeapCount}{m\_linearNodesHeapCount}}
{\footnotesize\ttfamily unsigned int Vectorization\+Context\+::m\+\_\+linear\+Nodes\+Heap\+Count}

\mbox{\Hypertarget{struct_vectorization_context_aa276d1674148a1e03919c84180c40ddf}\label{struct_vectorization_context_aa276d1674148a1e03919c84180c40ddf}} 
\index{VectorizationContext@{VectorizationContext}!m\_nodesHeap@{m\_nodesHeap}}
\index{m\_nodesHeap@{m\_nodesHeap}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_nodesHeap}{m\_nodesHeap}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{class_contour_node}{Contour\+Node}}$>$ Vectorization\+Context\+::m\+\_\+nodes\+Heap}

\mbox{\Hypertarget{struct_vectorization_context_ac607d6f4f2acf96138ffbc98509e29c3}\label{struct_vectorization_context_ac607d6f4f2acf96138ffbc98509e29c3}} 
\index{VectorizationContext@{VectorizationContext}!m\_nodesHeapCount@{m\_nodesHeapCount}}
\index{m\_nodesHeapCount@{m\_nodesHeapCount}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_nodesHeapCount}{m\_nodesHeapCount}}
{\footnotesize\ttfamily unsigned int Vectorization\+Context\+::m\+\_\+nodes\+Heap\+Count}

\mbox{\Hypertarget{struct_vectorization_context_a4da5ef977247710b223da19121530ebe}\label{struct_vectorization_context_a4da5ef977247710b223da19121530ebe}} 
\index{VectorizationContext@{VectorizationContext}!m\_output@{m\_output}}
\index{m\_output@{m\_output}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_output}{m\_output}}
{\footnotesize\ttfamily Skeleton\+Graph$\ast$ Vectorization\+Context\+::m\+\_\+output}

\mbox{\Hypertarget{struct_vectorization_context_a17114f517d3b6301eb846a7f57fb2f28}\label{struct_vectorization_context_a17114f517d3b6301eb846a7f57fb2f28}} 
\index{VectorizationContext@{VectorizationContext}!m\_timeline@{m\_timeline}}
\index{m\_timeline@{m\_timeline}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_timeline}{m\_timeline}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_timeline}{Timeline}} Vectorization\+Context\+::m\+\_\+timeline}

\mbox{\Hypertarget{struct_vectorization_context_a34fed74695e5a3556a0d8d05b30a6f5d}\label{struct_vectorization_context_a34fed74695e5a3556a0d8d05b30a6f5d}} 
\index{VectorizationContext@{VectorizationContext}!m\_totalNodes@{m\_totalNodes}}
\index{m\_totalNodes@{m\_totalNodes}!VectorizationContext@{VectorizationContext}}
\doxysubsubsection{\texorpdfstring{m\_totalNodes}{m\_totalNodes}}
{\footnotesize\ttfamily unsigned int Vectorization\+Context\+::m\+\_\+total\+Nodes}



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzlib/tcenterlineskeletonizer.\+cpp\end{DoxyCompactItemize}
