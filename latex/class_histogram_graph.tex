\hypertarget{class_histogram_graph}{}\doxysection{Histogram\+Graph Class Reference}
\label{class_histogram_graph}\index{HistogramGraph@{HistogramGraph}}
Inheritance diagram for Histogram\+Graph\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_histogram_graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_histogram_graph_a95e1265056800da3e31bf7540efb79e2}{Histogram\+Graph}} (QWidget $\ast$parent=0, QColor m\+\_\+color=QColor())
\item 
void \mbox{\hyperlink{class_histogram_graph_aa5ce07e8369137fdfdfb5cd9933fa2b8}{set\+Alpha\+Mask}} (int value)
\item 
void \mbox{\hyperlink{class_histogram_graph_a3d3370609bfc0a8a6d7bc57c8919c1d6}{set\+Height}} (int height)
\item 
int \mbox{\hyperlink{class_histogram_graph_a29b8d1aedcc7de1510ccceee1dfcac21}{get\+Height}} ()
\item 
void \mbox{\hyperlink{class_histogram_graph_abf18ede62ab519ede2d29b544e7bbd0e}{set\+Values}} (const int values\mbox{[}$\,$\mbox{]})
\item 
const QVector$<$ int $>$ \& \mbox{\hyperlink{class_histogram_graph_ae679e969da258ccca12173453a2e517e}{values}} () const
\item 
void \mbox{\hyperlink{class_histogram_graph_a4058e441a88da090f2f0c3b661f92c62}{set\+Log\+Scale}} (bool on\+Off)
\item 
bool \mbox{\hyperlink{class_histogram_graph_af6edb083724b884be0add41baf8bfe5c}{log\+Scale}} () const
\item 
void \mbox{\hyperlink{class_histogram_graph_a63145e79a585083afcee39be88717af2}{draw}} (QPainter $\ast$painter, QPoint translation=QPoint(0, 0), int size=-\/1)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const int \mbox{\hyperlink{class_histogram_graph_ac2f21a15876b211b12eb151be2528a56}{draw\+Margin}} = 10
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_histogram_graph_a93c4132a10f516a3c5fab8dbafd96c6d}{paint\+Event}} (QPaint\+Event $\ast$pe) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_histogram_graph_a95e1265056800da3e31bf7540efb79e2}\label{class_histogram_graph_a95e1265056800da3e31bf7540efb79e2}} 
\index{HistogramGraph@{HistogramGraph}!HistogramGraph@{HistogramGraph}}
\index{HistogramGraph@{HistogramGraph}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{HistogramGraph()}{HistogramGraph()}}
{\footnotesize\ttfamily Histogram\+Graph\+::\+Histogram\+Graph (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0},  }\item[{QColor}]{m\+\_\+color = {\ttfamily QColor()} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00135     : QWidget(parent)}
\DoxyCodeLine{00136     , m\_color(color)}
\DoxyCodeLine{00137     , m\_height(120)}
\DoxyCodeLine{00138     , m\_values(0)}
\DoxyCodeLine{00139     , m\_logScale(\textcolor{keyword}{false}) \{}
\DoxyCodeLine{00140   \textcolor{keywordflow}{if} (m\_color.alpha() == 0) m\_color = Qt::black;}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142   setMinimumWidth(256 + drawMargin * 2 + 2);}
\DoxyCodeLine{00143   setMinimumHeight(m\_height + drawMargin);}
\DoxyCodeLine{00144 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_histogram_graph_ad89df5fc3bb7560dea4f56a7fd61ed5f}\label{class_histogram_graph_ad89df5fc3bb7560dea4f56a7fd61ed5f}} 
\index{HistogramGraph@{HistogramGraph}!````~HistogramGraph@{$\sim$HistogramGraph}}
\index{````~HistogramGraph@{$\sim$HistogramGraph}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{$\sim$HistogramGraph()}{~HistogramGraph()}}
{\footnotesize\ttfamily Histogram\+Graph\+::$\sim$\+Histogram\+Graph (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00148 \{ m\_values.clear(); \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_histogram_graph_a63145e79a585083afcee39be88717af2}\label{class_histogram_graph_a63145e79a585083afcee39be88717af2}} 
\index{HistogramGraph@{HistogramGraph}!draw@{draw}}
\index{draw@{draw}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{draw()}{draw()}}
{\footnotesize\ttfamily void Histogram\+Graph\+::draw (\begin{DoxyParamCaption}\item[{QPainter $\ast$}]{painter,  }\item[{QPoint}]{translation = {\ttfamily QPoint(0,~0)},  }\item[{int}]{size = {\ttfamily -\/1} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00184                                                                 \{}
\DoxyCodeLine{00185   \textcolor{keywordtype}{int} x0 = translation.x() + drawMargin;}
\DoxyCodeLine{00186   \textcolor{keywordtype}{int} y0 = translation.y() + drawMargin -\/ 2;}
\DoxyCodeLine{00187   \textcolor{comment}{// in case that the size is not externally specified (i.e. the widget is in}}
\DoxyCodeLine{00188   \textcolor{comment}{// some layout)}}
\DoxyCodeLine{00189   \textcolor{keywordflow}{if} (w <= 0) w = width() -\/ 2 * drawMargin;}
\DoxyCodeLine{00190   \textcolor{keywordtype}{int} h = m\_height + 1;}
\DoxyCodeLine{00191 }
\DoxyCodeLine{00192   p-\/>setPen(Qt::NoPen);}
\DoxyCodeLine{00193   p-\/>setBrush(Qt::white);}
\DoxyCodeLine{00194   p-\/>drawRect(x0, y0, w -\/ 1, h);}
\DoxyCodeLine{00195   p-\/>setBrush(Qt::NoBrush);}
\DoxyCodeLine{00196 }
\DoxyCodeLine{00197   p-\/>setPen(Qt::gray);}
\DoxyCodeLine{00198   \textcolor{keywordtype}{int} step   = w * 0.25;}
\DoxyCodeLine{00199   \textcolor{keywordtype}{int} deltaX = x0 + 1 + step;}
\DoxyCodeLine{00200   \textcolor{keywordtype}{int} y1     = y0 + h;}
\DoxyCodeLine{00201   p-\/>drawLine(deltaX, y0 + 1, deltaX, y1);}
\DoxyCodeLine{00202   deltaX += step;}
\DoxyCodeLine{00203   p-\/>drawLine(deltaX, y0 + 1, deltaX, y1);}
\DoxyCodeLine{00204   deltaX += step;}
\DoxyCodeLine{00205   p-\/>drawLine(deltaX, y0 + 1, deltaX, y1);}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207   p-\/>drawRect(x0, y0, w -\/ 1, h);}
\DoxyCodeLine{00208 }
\DoxyCodeLine{00209   \textcolor{keywordflow}{if} (m\_values.size() == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00210 }
\DoxyCodeLine{00211   \textcolor{keyword}{const} QVector<int> \&viewValues = m\_logScale ? m\_logViewValues : m\_viewValues;}
\DoxyCodeLine{00212 }
\DoxyCodeLine{00213   p-\/>setPen(m\_color);}
\DoxyCodeLine{00214   w  = w -\/ 2;}
\DoxyCodeLine{00215   x0 = x0 + 1;}
\DoxyCodeLine{00216   y1 = y1 -\/ 1;}
\DoxyCodeLine{00217   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00218   \textcolor{keywordtype}{double} gap = double(viewValues.size()) /}
\DoxyCodeLine{00219                double(w); \textcolor{comment}{/*-\/-\/ 1チャンネル値あたりのグラフの横幅 -\/-\/*/}}
\DoxyCodeLine{00220   \textcolor{keywordflow}{for} (i = 0; i < w; i++) \{}
\DoxyCodeLine{00221     \textcolor{keywordtype}{int} j = i * gap;}
\DoxyCodeLine{00222     assert(j >= 0 \&\& j < viewValues.size());}
\DoxyCodeLine{00223     \textcolor{keywordtype}{int} v = viewValues[j];}
\DoxyCodeLine{00224     \textcolor{keywordflow}{if} (v <= 0) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00225     \textcolor{keywordtype}{int} x = x0 + i;}
\DoxyCodeLine{00226     p-\/>drawLine(x, y1 -\/ v + 1, x, y1);}
\DoxyCodeLine{00227   \}}
\DoxyCodeLine{00228 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_histogram_graph_a29b8d1aedcc7de1510ccceee1dfcac21}\label{class_histogram_graph_a29b8d1aedcc7de1510ccceee1dfcac21}} 
\index{HistogramGraph@{HistogramGraph}!getHeight@{getHeight}}
\index{getHeight@{getHeight}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{getHeight()}{getHeight()}}
{\footnotesize\ttfamily int Histogram\+Graph\+::get\+Height (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00057 \{ \textcolor{keywordflow}{return} m\_height; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_histogram_graph_af6edb083724b884be0add41baf8bfe5c}\label{class_histogram_graph_af6edb083724b884be0add41baf8bfe5c}} 
\index{HistogramGraph@{HistogramGraph}!logScale@{logScale}}
\index{logScale@{logScale}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{logScale()}{logScale()}}
{\footnotesize\ttfamily bool Histogram\+Graph\+::log\+Scale (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00063 \{ \textcolor{keywordflow}{return} m\_logScale; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_histogram_graph_a93c4132a10f516a3c5fab8dbafd96c6d}\label{class_histogram_graph_a93c4132a10f516a3c5fab8dbafd96c6d}} 
\index{HistogramGraph@{HistogramGraph}!paintEvent@{paintEvent}}
\index{paintEvent@{paintEvent}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{paintEvent()}{paintEvent()}}
{\footnotesize\ttfamily void Histogram\+Graph\+::paint\+Event (\begin{DoxyParamCaption}\item[{QPaint\+Event $\ast$}]{pe }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00232                                                   \{}
\DoxyCodeLine{00233   QPainter p(\textcolor{keyword}{this});}
\DoxyCodeLine{00234   draw(\&p);}
\DoxyCodeLine{00235 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_histogram_graph_aa5ce07e8369137fdfdfb5cd9933fa2b8}\label{class_histogram_graph_aa5ce07e8369137fdfdfb5cd9933fa2b8}} 
\index{HistogramGraph@{HistogramGraph}!setAlphaMask@{setAlphaMask}}
\index{setAlphaMask@{setAlphaMask}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{setAlphaMask()}{setAlphaMask()}}
{\footnotesize\ttfamily void Histogram\+Graph\+::set\+Alpha\+Mask (\begin{DoxyParamCaption}\item[{int}]{value }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00152 \{ m\_color.setAlpha(value); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_histogram_graph_a3d3370609bfc0a8a6d7bc57c8919c1d6}\label{class_histogram_graph_a3d3370609bfc0a8a6d7bc57c8919c1d6}} 
\index{HistogramGraph@{HistogramGraph}!setHeight@{setHeight}}
\index{setHeight@{setHeight}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{setHeight()}{setHeight()}}
{\footnotesize\ttfamily void Histogram\+Graph\+::set\+Height (\begin{DoxyParamCaption}\item[{int}]{height }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00056 \{ m\_height = height; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_histogram_graph_a4058e441a88da090f2f0c3b661f92c62}\label{class_histogram_graph_a4058e441a88da090f2f0c3b661f92c62}} 
\index{HistogramGraph@{HistogramGraph}!setLogScale@{setLogScale}}
\index{setLogScale@{setLogScale}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{setLogScale()}{setLogScale()}}
{\footnotesize\ttfamily void Histogram\+Graph\+::set\+Log\+Scale (\begin{DoxyParamCaption}\item[{bool}]{on\+Off }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00062 \{ m\_logScale = onOff; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_histogram_graph_abf18ede62ab519ede2d29b544e7bbd0e}\label{class_histogram_graph_abf18ede62ab519ede2d29b544e7bbd0e}} 
\index{HistogramGraph@{HistogramGraph}!setValues@{setValues}}
\index{setValues@{setValues}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{setValues()}{setValues()}}
{\footnotesize\ttfamily void Histogram\+Graph\+::set\+Values (\begin{DoxyParamCaption}\item[{const int}]{values\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00156                                                  \{}
\DoxyCodeLine{00157   m\_values.clear();}
\DoxyCodeLine{00158   m\_values.resize(256);}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00161 }
\DoxyCodeLine{00162   \textcolor{keywordtype}{double} maxValue = 0;}
\DoxyCodeLine{00163   \textcolor{keywordflow}{for} (i = 0; i < 256; i++) \{}
\DoxyCodeLine{00164     \textcolor{keywordtype}{int} count = m\_values[i] = values[i];}
\DoxyCodeLine{00165     \textcolor{keywordflow}{if} (maxValue < count) maxValue = count;}
\DoxyCodeLine{00166   \}}
\DoxyCodeLine{00167 }
\DoxyCodeLine{00168   m\_viewValues.clear();}
\DoxyCodeLine{00169   m\_logViewValues.clear();}
\DoxyCodeLine{00170   m\_viewValues.resize(256);}
\DoxyCodeLine{00171   m\_logViewValues.resize(256);}
\DoxyCodeLine{00172 }
\DoxyCodeLine{00173   \textcolor{keywordtype}{double} logMaxValue = log(1.0 + maxValue);}
\DoxyCodeLine{00174 }
\DoxyCodeLine{00175   \textcolor{keywordflow}{for} (i = 0; i < 256; i++) \{}
\DoxyCodeLine{00176     m\_viewValues[i] = double(values[i]) * double(m\_height) / maxValue;}
\DoxyCodeLine{00177     m\_logViewValues[i] =}
\DoxyCodeLine{00178         double(log(1.0 + values[i])) * double(m\_height) / logMaxValue;}
\DoxyCodeLine{00179   \}}
\DoxyCodeLine{00180 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_histogram_graph_ae679e969da258ccca12173453a2e517e}\label{class_histogram_graph_ae679e969da258ccca12173453a2e517e}} 
\index{HistogramGraph@{HistogramGraph}!values@{values}}
\index{values@{values}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{values()}{values()}}
{\footnotesize\ttfamily const QVector$<$ int $>$ \& Histogram\+Graph\+::values (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00060 \{ \textcolor{keywordflow}{return} m\_values; \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_histogram_graph_ac2f21a15876b211b12eb151be2528a56}\label{class_histogram_graph_ac2f21a15876b211b12eb151be2528a56}} 
\index{HistogramGraph@{HistogramGraph}!drawMargin@{drawMargin}}
\index{drawMargin@{drawMargin}!HistogramGraph@{HistogramGraph}}
\doxysubsubsection{\texorpdfstring{drawMargin}{drawMargin}}
{\footnotesize\ttfamily const int Histogram\+Graph\+::draw\+Margin = 10\hspace{0.3cm}{\ttfamily [static]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/histogram.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/histogram.\+cpp\end{DoxyCompactItemize}
