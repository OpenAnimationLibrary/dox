\hypertarget{class_t_xsheet}{}\doxysection{TXsheet Class Reference}
\label{class_t_xsheet}\index{TXsheet@{TXsheet}}


{\ttfamily \#include $<$txsheet.\+h$>$}

Inheritance diagram for TXsheet\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_t_xsheet}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_t_xsheet_1_1_sound_properties}{Sound\+Properties}}
\item 
struct \mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
unsigned long \mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}} () const
\begin{DoxyCompactList}\small\item\em Returns a unique identifier associated with the xsheet instance. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_t_xsheet_a12a62da7dc04395088112e492d73374f}{get\+Frame\+Count}} () const
\item 
bool \mbox{\hyperlink{class_t_xsheet_a5f295ab0d739ace0e7755748a5dcea69}{is\+Rect\+Empty}} (const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&pos0, const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&pos1) const
\item 
const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \& \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{get\+Cell}} (int row, int col) const
\item 
const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \& \mbox{\hyperlink{class_t_xsheet_a54e4e1297234d455e277538538817b45}{get\+Cell}} (const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&pos) const
\item 
bool \mbox{\hyperlink{class_t_xsheet_a6ea80239b0a0423cd6d053f83409d327}{set\+Cell}} (int row, int col, const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&cell)
\item 
void \mbox{\hyperlink{class_t_xsheet_a24ef8c4d08fb6a3f2f469a91ca184b23}{get\+Cells}} (int row, int col, int row\+Count, \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} cells\mbox{[}$\,$\mbox{]}) const
\item 
bool \mbox{\hyperlink{class_t_xsheet_af252e427c43789deaef482e2bd913274}{set\+Cells}} (int row, int col, int row\+Count, const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} cells\mbox{[}$\,$\mbox{]})
\item 
void \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insert\+Cells}} (int row, int col, int row\+Count=1)
\item 
void \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{remove\+Cells}} (int row, int col, int row\+Count=1)
\item 
void \mbox{\hyperlink{class_t_xsheet_a28381fbf27f33822b68cf66f689266da}{clear\+Cells}} (int row, int col, int row\+Count=1)
\item 
void \mbox{\hyperlink{class_t_xsheet_a5c453d16606875c8f1d5fc718df2a71d}{clear\+All}} ()
\item 
int \mbox{\hyperlink{class_t_xsheet_a26850469fb0f2886b717479050c32be2}{get\+Cell\+Range}} (int col, int \&r0, int \&r1) const
\item 
int \mbox{\hyperlink{class_t_xsheet_a255fd3bc544cfb5f9c7cacad894971f4}{get\+Max\+Frame}} (int col) const
\item 
bool \mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{is\+Column\+Empty}} (int col) const
\item 
void \mbox{\hyperlink{class_t_xsheet_aa0e609bf07ee363201a184c3c7220348}{get\+Used\+Levels}} (std\+::set$<$ \mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$ $>$ \&levels) const
\item 
bool \mbox{\hyperlink{class_t_xsheet_a2fbaf0d4ff704a20a333f605609c64a1}{is\+Level\+Used}} (\mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$) const
\item 
\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} $\ast$ \mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{get\+Stage\+Object}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&\mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}}) const
\item 
\mbox{\hyperlink{class_t_stage_object_tree}{TStage\+Object\+Tree}} $\ast$ \mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{get\+Stage\+Object\+Tree}} () const
\item 
\mbox{\hyperlink{class_t_affine}{TAffine}} \mbox{\hyperlink{class_t_xsheet_abd766f516cac9898a2a952463618a9fe}{get\+Placement}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&\mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}}, int frame) const
\item 
double \mbox{\hyperlink{class_t_xsheet_ac3cff0937663af24b324430b134ed8b2}{getZ}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&\mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}}, int frame) const
\item 
double \mbox{\hyperlink{class_t_xsheet_a8ca2c02bb38c37d3ace3216612074d07}{get\+No\+ScaleZ}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&\mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}}) const
\item 
\mbox{\hyperlink{class_t_affine}{TAffine}} \mbox{\hyperlink{class_t_xsheet_a491a29d5ec8795c1445db08a5e83a612}{get\+Parent\+Placement}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&\mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}}, int frame) const
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_t_xsheet_ad762600c9d9d3b5173fcc1e79a802793}{get\+Center}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&\mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}}, int frame) const
\item 
void \mbox{\hyperlink{class_t_xsheet_a5518e9cd4b6bb85707ea4dda3808862b}{set\+Center}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&\mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}}, int frame, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&center)
\item 
\mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \mbox{\hyperlink{class_t_xsheet_a0a27744ce52cae25ec261a853a554cd1}{get\+Stage\+Object\+Parent}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&\mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}})
\item 
void \mbox{\hyperlink{class_t_xsheet_a33f98b4e9811dbe8f1b6f2f44b09a662}{set\+Stage\+Object\+Parent}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&\mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}}, const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&parent\+Id)
\item 
bool \mbox{\hyperlink{class_t_xsheet_a0f368ebea354d284ba2f524ac4b2ad35}{has\+Children}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&\mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}}) const
\item 
\mbox{\hyperlink{class_t_affine}{TAffine}} \mbox{\hyperlink{class_t_xsheet_ac08197d98e00154a4a974d5b6a5e04d7}{get\+Camera\+Aff}} (int frame) const
\item 
void \mbox{\hyperlink{class_t_xsheet_a0f701e6621320cf560efe469f32841b8}{reverse\+Cells}} (int r0, int c0, int r1, int c1)
\item 
void \mbox{\hyperlink{class_t_xsheet_a132c82d4821e384b979c6cf9188fd0d6}{swing\+Cells}} (int r0, int c0, int r1, int c1)
\item 
bool \mbox{\hyperlink{class_t_xsheet_ac9e072dbf7ed39ec178c2afc766d0732}{increment\+Cells}} (int r0, int c0, int r1, int c1, std\+::vector$<$ std\+::pair$<$ \mbox{\hyperlink{class_t_rect_t}{TRect}}, \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} $>$ $>$ \&for\+Undo)
\item 
void \mbox{\hyperlink{class_t_xsheet_a8be007d48d0e987aa3985fe800507b54}{duplicate\+Cells}} (int r0, int c0, int r1, int c1, int up\+To)
\item 
void \mbox{\hyperlink{class_t_xsheet_a3afe72bea3fb48a40855b47ec9ac4c29}{step\+Cells}} (int r0, int c0, int r1, int c1, int type)
\item 
void \mbox{\hyperlink{class_t_xsheet_a02791d6b1e4479bbfe35392d85dc02fb}{increase\+Step\+Cells}} (int r0, int c0, int \&r1, int c1)
\item 
void \mbox{\hyperlink{class_t_xsheet_a980350c67eb3b69640d1c267cebea590}{decrease\+Step\+Cells}} (int r0, int c0, int \&r1, int c1)
\item 
void \mbox{\hyperlink{class_t_xsheet_a8b724df7d8f786d4c5d83d7937b4c865}{reset\+Step\+Cells}} (int r0, int c0, int r1, int c1)
\item 
void \mbox{\hyperlink{class_t_xsheet_a8c23bfae25ffdf2bc64147db3889d7fe}{each\+Cells}} (int r0, int c0, int r1, int c1, int type)
\item 
void \mbox{\hyperlink{class_t_xsheet_aabcf4abbc794868b7bd147b045e53b43}{rollup\+Cells}} (int r0, int c0, int r1, int c1)
\item 
void \mbox{\hyperlink{class_t_xsheet_a2adb88b23083059b4601ca9e1b527587}{rolldown\+Cells}} (int r0, int c0, int r1, int c1)
\item 
void \mbox{\hyperlink{class_t_xsheet_ae862d337a3d237d713602c594abbf08e}{time\+Stretch}} (int r0, int c0, int r1, int c1, int nr)
\item 
int \mbox{\hyperlink{class_t_xsheet_afc32335f3b385c6ca339c7f18c7c33ab}{reframe\+Cells}} (int r0, int r1, int col, int type, int with\+Blank=-\/1)
\item 
int \mbox{\hyperlink{class_t_xsheet_ad2812514a3f36e1a61cbf71aa7f21cd5}{expose\+Level}} (int row, int col, \mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$xl, bool overwrite=false)
\item 
int \mbox{\hyperlink{class_t_xsheet_a18884e6f5693a727077e27b00317beef}{expose\+Level}} (int row, int col, \mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$xl, std\+::vector$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} $>$ \&f\+Ids\+\_\+, \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} x\+From=\mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}(), \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} x\+To=\mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}(), int step=-\/1, int inc=-\/1, int frame\+Count=-\/1, bool does\+File\+Actually\+Exist=true)
\item 
void \mbox{\hyperlink{class_t_xsheet_a9e3e14bbbbdded5408bdc7dbf01619a9}{expose\+Level}} (int row, int col, \mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$xl, std\+::vector$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} $>$ fids, bool overwrite)
\item 
void \mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{update\+Frame\+Count}} ()
\item 
void \mbox{\hyperlink{class_t_xsheet_a3235a1e0e76da11b52f9853b6bff6c57}{load\+Data}} (\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&is) override
\item 
void \mbox{\hyperlink{class_t_xsheet_ad4c70081d889ebc226d50249a0d7cef9}{save\+Data}} (\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&os) override
\item 
void \mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insert\+Column}} (int index, TXsh\+Column\+::\+Column\+Type type=TXsh\+Column\+::e\+Level\+Type)
\item 
void \mbox{\hyperlink{class_t_xsheet_ae99d1e1370806213b843d43473e0c585}{insert\+Column}} (int index, \mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$column)
\item 
void \mbox{\hyperlink{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}{remove\+Column}} (int index)
\item 
void \mbox{\hyperlink{class_t_xsheet_ae4747e9158bae147c7964f049e51d541}{move\+Column}} (int src\+Index, int dst\+Index)
\item 
\mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$ \mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{get\+Column}} (int index) const
\item 
int \mbox{\hyperlink{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}{get\+Column\+Count}} () const
\item 
int \mbox{\hyperlink{class_t_xsheet_ac00c621f54bf2c4f4a51a8b7d6f27253}{get\+First\+Free\+Column\+Index}} () const
\item 
\mbox{\hyperlink{class_t_sound_track}{TSound\+Track}} $\ast$ \mbox{\hyperlink{class_t_xsheet_a1694ef771e75ddca086d649822ad3c44}{make\+Sound}} (\mbox{\hyperlink{class_t_xsheet_1_1_sound_properties}{Sound\+Properties}} $\ast$properties)
\item 
void \mbox{\hyperlink{class_t_xsheet_af1e942b39ff13cd186cd8aff58ccf9a4}{scrub}} (int frame, bool is\+Preview=false)
\item 
void \mbox{\hyperlink{class_t_xsheet_a44a89062bbb7ff8999620f90430aae49}{stop\+Scrub}} ()
\item 
void \mbox{\hyperlink{class_t_xsheet_a5849153764af3d7ca48a837ddb949ecc}{play}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} soundtrack, int s0, int s1, bool loop)
\item 
\mbox{\hyperlink{class_fx_dag}{Fx\+Dag}} $\ast$ \mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{get\+Fx\+Dag}} () const
\item 
\mbox{\hyperlink{class_column_fan}{Column\+Fan}} $\ast$ \mbox{\hyperlink{class_t_xsheet_a3c7f0358ee5d555df82ae864af8584d0}{get\+Column\+Fan}} (const \mbox{\hyperlink{class_orientation}{Orientation}} $\ast$o) const
\item 
\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$ \mbox{\hyperlink{class_t_xsheet_a35d49d436513243d059eee3a25ffa2ef}{get\+Scene}} () const
\item 
void \mbox{\hyperlink{class_t_xsheet_acb634f75579e77275e6dd5fad3ead2b6}{set\+Scene}} (\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$scene)
\item 
\mbox{\hyperlink{class_t_xsh_note_set}{TXsh\+Note\+Set}} $\ast$ \mbox{\hyperlink{class_t_xsheet_ad53a59c6991e4bf57995c3f285194522}{get\+Notes}} () const
\item 
bool \mbox{\hyperlink{class_t_xsheet_a2643b21089ce82cc7d1337958a0b344e}{check\+Circular\+References}} (const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&cell\+Candidate)
\item 
bool \mbox{\hyperlink{class_t_xsheet_a7567de9db93db77da9a2ce3ad6370d14}{check\+Circular\+References}} (\mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$column\+Candidate)
\item 
void \mbox{\hyperlink{class_t_xsheet_a40ec545df342e4a223869cf0ed42acd2}{invalidate\+Sound}} ()
\item 
\mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{class_t_xsheet_a44549894be18821ec4da539203e68819}{get\+BBox}} (int row) const
\begin{DoxyCompactList}\small\item\em Returns the xsheet content\textquotesingle{}s {\itshape camstand} bbox at the specified row. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_xsheet_a39d5a927d8442d8809e0afe77ff32463}{auto\+Input\+Cell\+Numbers}} (int increment, int interval, int step, int repeat, int from, int to, int r0, int r1, bool is\+Overwrite, std\+::vector$<$ int $>$ column\+Indices, std\+::vector$<$ \mbox{\hyperlink{class_t_smart_pointer_t}{TXsh\+LevelP}} $>$ levels, int rows\+Count)
\item 
void \mbox{\hyperlink{class_t_xsheet_a66dcef7c2d33894fef69accb7252dcb3}{set\+Camera\+Column\+Index}} (int index)
\item 
int \mbox{\hyperlink{class_t_xsheet_a40d918dd4ea21547af05387418272bb9}{get\+Camera\+Column\+Index}} ()
\item 
void \mbox{\hyperlink{class_t_xsheet_ad98d52e70042c50c2a094e03607f2cc2}{set\+Camera\+Column\+Locked}} (bool locked)
\item 
bool \mbox{\hyperlink{class_t_xsheet_aa427f8968caced615f1312588ca66e10}{is\+Camera\+Column\+Locked}} ()
\item 
\mbox{\hyperlink{class_expression_reference_monitor}{Expression\+Reference\+Monitor}} $\ast$ \mbox{\hyperlink{class_t_xsheet_aae89839276ec09431be91c97e6f4695b}{get\+Exp\+Ref\+Monitor}} () const
\item 
void \mbox{\hyperlink{class_t_xsheet_ae460f9814584adea04db6fb2fa9050ee}{set\+Observer}} (\mbox{\hyperlink{class_t_xsheet_column_change_observer}{TXsheet\+Column\+Change\+Observer}} $\ast$observer)
\item 
void \mbox{\hyperlink{class_t_xsheet_a07910b5c882b9a548eb437c439373bb8}{notify}} (const \mbox{\hyperlink{class_t_xsheet_column_change}{TXsheet\+Column\+Change}} \&change)
\item 
void \mbox{\hyperlink{class_t_xsheet_ad62637630176d6c29d1194d5fab8577f}{notify\+Fx\+Added}} (const std\+::vector$<$ \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ $>$ \&fxs)
\item 
void \mbox{\hyperlink{class_t_xsheet_ab653b873fc78e32cc8335dcaac0f7ad3}{notify\+Stage\+Object\+Added}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}})
\item 
bool \mbox{\hyperlink{class_t_xsheet_a1a5bfb2eb73129b96afbd88907e48867}{is\+Reference\+Management\+Ignored}} (\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_t_xsheet_a7cb0c19ec7ad894e9521d45f06f68a03}{check\+Circular\+References}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$child\+Candidate)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
This is the base class for an xsheet. An Xsheet is composed of columns of frames.

Inherits {\bfseries{\mbox{\hyperlink{class_t_smart_object}{TSmart\+Object}}}} and {\bfseries{\mbox{\hyperlink{class_t_persist}{TPersist}}}}. \begin{DoxyVerb}    The class provides a collection of functions that returns xsheet
\end{DoxyVerb}
 elements, defined in struct {\bfseries{\mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}}}, and enables manipulation of these. Most important xsheet elements are\+: a {\bfseries{column}} {\bfseries{set}} {\bfseries{\mbox{\hyperlink{class_t_column_set_t}{TColumn\+SetT}}}}, a {\bfseries{pegbar}} {\bfseries{tree}} {\bfseries{\mbox{\hyperlink{class_t_stage_object_tree}{TStage\+Object\+Tree}}}}, a {\bfseries{fx}} {\bfseries{dag}} {\bfseries{\mbox{\hyperlink{class_fx_dag}{Fx\+Dag}}}}, a {\bfseries{sound}} {\bfseries{track}} {\bfseries{\mbox{\hyperlink{class_t_sound_track}{TSound\+Track}}}} and a {\bfseries{scene}} {\bfseries{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}}}}. \begin{DoxyVerb}            For purposes of this class, a Column is a graphics layer, and a
\end{DoxyVerb}
 row is a frame number. (Whether horizontal or vertical is a matter of displaying).

A {\bfseries{column}} {\bfseries{set}} contains all xsheet columns. A collection of functions, concerning column set, allows to manage xsheet column. It\textquotesingle{}s possible to know xsheet column count, \mbox{\hyperlink{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}{get\+Column\+Count()}}, know first non empty column index, \mbox{\hyperlink{class_t_xsheet_ac00c621f54bf2c4f4a51a8b7d6f27253}{get\+First\+Free\+Column\+Index()}}, or know if column in datum index is empty, \mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{is\+Column\+Empty()}}. You can work on single xsheet column, \mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{get\+Column()}}, using its indexes\+: insert and remove a column with \mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insert\+Column()}} and \mbox{\hyperlink{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}{remove\+Column()}} or move column from an index to another using \mbox{\hyperlink{class_t_xsheet_ae4747e9158bae147c7964f049e51d541}{move\+Column()}}. \begin{DoxyVerb}    You can manage also column visualization in xsheet, using the xsheet
\end{DoxyVerb}
 object {\bfseries{\mbox{\hyperlink{class_column_fan}{Column\+Fan}}}} \mbox{\hyperlink{class_t_xsheet_a3c7f0358ee5d555df82ae864af8584d0}{get\+Column\+Fan()}}, and find column icon get\+Column\+Icon(). \begin{DoxyVerb}    cell positions will be identified by a pair of row+column index,
\end{DoxyVerb}
 which is a separate class. \begin{DoxyVerb}    It's possible work on xsheet cells directly, getCell() and setCell() or
\end{DoxyVerb}
 \mbox{\hyperlink{class_t_xsheet_a24ef8c4d08fb6a3f2f469a91ca184b23}{get\+Cells()}} and \mbox{\hyperlink{class_t_xsheet_af252e427c43789deaef482e2bd913274}{set\+Cells()}}; cells are identified in xsheet by two index one for row and one for column. You can insert, remove or clear cells using \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insert\+Cells()}}, \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{remove\+Cells()}} or \mbox{\hyperlink{class_t_xsheet_a28381fbf27f33822b68cf66f689266da}{clear\+Cells()}}; the difference between the remove and the clear function is the shift of remains cells. Also there are functions to manipulate cells reverse\+Cells(), \mbox{\hyperlink{class_t_xsheet_a132c82d4821e384b979c6cf9188fd0d6}{swing\+Cells()}}, \mbox{\hyperlink{class_t_xsheet_ac9e072dbf7ed39ec178c2afc766d0732}{increment\+Cells()}}, \mbox{\hyperlink{class_t_xsheet_a8be007d48d0e987aa3985fe800507b54}{duplicate\+Cells()}}, int up\+To, \mbox{\hyperlink{class_t_xsheet_a3afe72bea3fb48a40855b47ec9ac4c29}{step\+Cells()}}, \mbox{\hyperlink{class_t_xsheet_a8c23bfae25ffdf2bc64147db3889d7fe}{each\+Cells()}}.

About {\bfseries{pegbar}} {\bfseries{tree}} {\bfseries{\mbox{\hyperlink{class_t_stage_object_tree}{TStage\+Object\+Tree}}}}, it\textquotesingle{}s possible to manage it through the stage object\textquotesingle{}s related functions.

The {\bfseries{fx}} {\bfseries{dag}} {\bfseries{\mbox{\hyperlink{class_fx_dag}{Fx\+Dag}}}} \mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{get\+Fx\+Dag()}} is not managed with direct functions but is always up to date; in fact same functions update it. For example \mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insert\+Column()}}, if necessary, insert column index in fx dag, the same happen in \mbox{\hyperlink{class_t_xsheet_af252e427c43789deaef482e2bd913274}{set\+Cells()}}.

The {\bfseries{sound}} {\bfseries{track}} {\bfseries{\mbox{\hyperlink{class_t_sound_track}{TSound\+Track}}}} contain a mixed sound, computed using make\+Sound(), of all {\bfseries{\mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}}}} present in xsheet.

It\textquotesingle{}s possible take and know the {\bfseries{scene}} {\bfseries{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}}}} to which the xsheet refers using \mbox{\hyperlink{class_t_xsheet_a35d49d436513243d059eee3a25ffa2ef}{get\+Scene()}} and \mbox{\hyperlink{class_t_xsheet_acb634f75579e77275e6dd5fad3ead2b6}{set\+Scene()}}. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_xsheet_a04cfa3f897c227b75e38d1d0b08626a8}\label{class_t_xsheet_a04cfa3f897c227b75e38d1d0b08626a8}} 
\index{TXsheet@{TXsheet}!TXsheet@{TXsheet}}
\index{TXsheet@{TXsheet}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{TXsheet()}{TXsheet()}}
{\footnotesize\ttfamily TXsheet\+::\+TXsheet (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00195     : \mbox{\hyperlink{class_t_smart_object}{TSmartObject}}(m\_classCode)}
\DoxyCodeLine{00196     , m\_player(0)}
\DoxyCodeLine{00197     , m\_imp(\textcolor{keyword}{new} \mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet::TXsheetImp}})}
\DoxyCodeLine{00198     , m\_notes(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_note_set}{TXshNoteSet}}())}
\DoxyCodeLine{00199     , m\_cameraColumnIndex(0)}
\DoxyCodeLine{00200     , m\_observer(\textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{00201   \textcolor{comment}{// extern TSyntax::Grammar *createXsheetGrammar(TXsheet*);}}
\DoxyCodeLine{00202   m\_soundProperties      = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsheet_1_1_sound_properties}{TXsheet::SoundProperties}}();}
\DoxyCodeLine{00203   m\_imp-\/>m\_handleManager = \textcolor{keyword}{new} \mbox{\hyperlink{class_xsh_handle_manager}{XshHandleManager}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00204   m\_imp-\/>m\_pegTree-\/>setHandleManager(m\_imp-\/>m\_handleManager);}
\DoxyCodeLine{00205   m\_imp-\/>m\_pegTree-\/>createGrammar(\textcolor{keyword}{this});}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207   \textcolor{comment}{// Dummy camera column}}
\DoxyCodeLine{00208   m\_cameraColumn          = \mbox{\hyperlink{class_t_xsh_column_aee2af1e0385299fbf26869f2f633a1d7}{TXshColumn::createEmpty}}(0);}
\DoxyCodeLine{00209   m\_cameraColumn-\/>m\_index = -\/1;}
\DoxyCodeLine{00210   m\_cameraColumn-\/>\mbox{\hyperlink{class_t_xsh_column_ad4badbad6279671e8a42037873647de9}{setXsheet}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00211 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_ae8c70056a5aeacc0395e82524f4c8229}\label{class_t_xsheet_ae8c70056a5aeacc0395e82524f4c8229}} 
\index{TXsheet@{TXsheet}!````~TXsheet@{$\sim$TXsheet}}
\index{````~TXsheet@{$\sim$TXsheet}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{$\sim$TXsheet()}{~TXsheet()}}
{\footnotesize\ttfamily TXsheet\+::$\sim$\+TXsheet (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00215                   \{}
\DoxyCodeLine{00216   \mbox{\hyperlink{textureutils_8h_a3d1dd32354c3751c4e34e7aede3d046f}{texture\_utils::invalidateTextures}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00217 }
\DoxyCodeLine{00218   assert(m\_imp);}
\DoxyCodeLine{00219   \textcolor{keywordflow}{if} (m\_notes) \textcolor{keyword}{delete} m\_notes;}
\DoxyCodeLine{00220   \textcolor{keywordflow}{if} (m\_soundProperties) \textcolor{keyword}{delete} m\_soundProperties;}
\DoxyCodeLine{00221 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_xsheet_a39d5a927d8442d8809e0afe77ff32463}\label{class_t_xsheet_a39d5a927d8442d8809e0afe77ff32463}} 
\index{TXsheet@{TXsheet}!autoInputCellNumbers@{autoInputCellNumbers}}
\index{autoInputCellNumbers@{autoInputCellNumbers}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{autoInputCellNumbers()}{autoInputCellNumbers()}}
{\footnotesize\ttfamily void TXsheet\+::auto\+Input\+Cell\+Numbers (\begin{DoxyParamCaption}\item[{int}]{increment,  }\item[{int}]{interval,  }\item[{int}]{step,  }\item[{int}]{repeat,  }\item[{int}]{from,  }\item[{int}]{to,  }\item[{int}]{r0,  }\item[{int}]{r1,  }\item[{bool}]{is\+Overwrite,  }\item[{std\+::vector$<$ int $>$}]{column\+Indices,  }\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_smart_pointer_t}{TXsh\+LevelP}} $>$}]{levels,  }\item[{int}]{rows\+Count }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01739                                                   \{}
\DoxyCodeLine{01740   \textcolor{keywordtype}{int} rowUpTo = (r1 == -\/1) ? rowsCount -\/ 1}
\DoxyCodeLine{01741                            : ((isOverwrite) ? std::min(r1, r0 + rowsCount -\/ 1)}
\DoxyCodeLine{01742                                             : r0 + rowsCount -\/ 1);}
\DoxyCodeLine{01743   \textcolor{comment}{// for each column}}
\DoxyCodeLine{01744   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < columnIndices.size(); c++) \{}
\DoxyCodeLine{01745     \textcolor{keywordtype}{int} columnIndex  = columnIndices.at(c);}
\DoxyCodeLine{01746     \mbox{\hyperlink{class_t_smart_pointer_t}{TXshLevelP}} level = levels.at(c);}
\DoxyCodeLine{01747 }
\DoxyCodeLine{01748     \textcolor{comment}{// on insertion, insert empty cells first}}
\DoxyCodeLine{01749     \textcolor{keywordflow}{if} (!isOverwrite) \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(r0, columnIndex, rowsCount);}
\DoxyCodeLine{01750 }
\DoxyCodeLine{01751     \textcolor{comment}{// obtain fids to be input}}
\DoxyCodeLine{01752     std::vector<TFrameId> fids;}
\DoxyCodeLine{01753     \textcolor{keywordflow}{if} (increment == 0) \{}
\DoxyCodeLine{01754       std::vector<TFrameId> wholeFids;}
\DoxyCodeLine{01755       level-\/>getFids(wholeFids);}
\DoxyCodeLine{01756       \textcolor{keywordflow}{if} (from <= to) \{}
\DoxyCodeLine{01757         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} itr = wholeFids.begin(); itr != wholeFids.end(); ++itr) \{}
\DoxyCodeLine{01758           \textcolor{keywordflow}{if} ((*itr).getNumber() >= from \&\& (*itr).getNumber() <= to)}
\DoxyCodeLine{01759             fids.push\_back(*itr);}
\DoxyCodeLine{01760           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((*itr).getNumber() > to)}
\DoxyCodeLine{01761             \textcolor{keywordflow}{break};}
\DoxyCodeLine{01762         \}}
\DoxyCodeLine{01763       \} \textcolor{keywordflow}{else} \{  \textcolor{comment}{// from > to}}
\DoxyCodeLine{01764         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} itr = wholeFids.rbegin(); itr != wholeFids.rend(); ++itr) \{}
\DoxyCodeLine{01765           \textcolor{keywordflow}{if} ((*itr).getNumber() <= from \&\& (*itr).getNumber() >= to)}
\DoxyCodeLine{01766             fids.push\_back(*itr);}
\DoxyCodeLine{01767           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((*itr).getNumber() < to)}
\DoxyCodeLine{01768             \textcolor{keywordflow}{break};}
\DoxyCodeLine{01769         \}}
\DoxyCodeLine{01770       \}}
\DoxyCodeLine{01771     \} \textcolor{keywordflow}{else} \{  \textcolor{comment}{// increment != 0}}
\DoxyCodeLine{01772       \textcolor{keywordtype}{int} f = from;}
\DoxyCodeLine{01773       \textcolor{keywordflow}{if} (from <= to) \{}
\DoxyCodeLine{01774         \textcolor{keywordflow}{while} (f <= to) \{}
\DoxyCodeLine{01775           fids.push\_back(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(f));}
\DoxyCodeLine{01776           f += increment;}
\DoxyCodeLine{01777         \}}
\DoxyCodeLine{01778       \} \textcolor{keywordflow}{else} \{  \textcolor{comment}{// from > to}}
\DoxyCodeLine{01779         \textcolor{keywordflow}{while} (f >= to) \{}
\DoxyCodeLine{01780           fids.push\_back(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(f));}
\DoxyCodeLine{01781           f -\/= increment;}
\DoxyCodeLine{01782         \}}
\DoxyCodeLine{01783       \}}
\DoxyCodeLine{01784     \}}
\DoxyCodeLine{01785 }
\DoxyCodeLine{01786     \textcolor{comment}{// input cells}}
\DoxyCodeLine{01787     \textcolor{keywordtype}{int} row             = r0;}
\DoxyCodeLine{01788     \textcolor{keywordtype}{int} repeat\_itr      = 0;}
\DoxyCodeLine{01789     \textcolor{keywordtype}{int} fid\_itr         = 0;}
\DoxyCodeLine{01790     \textcolor{keywordtype}{int} step\_interv\_itr = 0;}
\DoxyCodeLine{01791     \textcolor{keywordflow}{while} (row <= rowUpTo) \{}
\DoxyCodeLine{01792       \textcolor{comment}{// input cell}}
\DoxyCodeLine{01793       \textcolor{keywordflow}{if} (step\_interv\_itr < step)}
\DoxyCodeLine{01794         setCell(row, columnIndex, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}(level, fids.at(fid\_itr)));}
\DoxyCodeLine{01795       \textcolor{comment}{// .. or set empty cell as interval}}
\DoxyCodeLine{01796       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01797         setCell(row, columnIndex, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}());}
\DoxyCodeLine{01798 }
\DoxyCodeLine{01799       \textcolor{comment}{// increment}}
\DoxyCodeLine{01800       step\_interv\_itr++;}
\DoxyCodeLine{01801       \textcolor{comment}{// next frame}}
\DoxyCodeLine{01802       \textcolor{keywordflow}{if} (step\_interv\_itr == step + interval) \{}
\DoxyCodeLine{01803         fid\_itr++;}
\DoxyCodeLine{01804         step\_interv\_itr = 0;}
\DoxyCodeLine{01805       \}}
\DoxyCodeLine{01806       \textcolor{comment}{// next repeat cycle}}
\DoxyCodeLine{01807       \textcolor{keywordflow}{if} (fid\_itr == fids.size()) \{}
\DoxyCodeLine{01808         repeat\_itr++;}
\DoxyCodeLine{01809         fid\_itr = 0;}
\DoxyCodeLine{01810       \}}
\DoxyCodeLine{01811       \textcolor{keywordflow}{if} (repeat\_itr == repeat) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01812 }
\DoxyCodeLine{01813       row++;}
\DoxyCodeLine{01814     \}}
\DoxyCodeLine{01815   \}}
\DoxyCodeLine{01816 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a2643b21089ce82cc7d1337958a0b344e}\label{class_t_xsheet_a2643b21089ce82cc7d1337958a0b344e}} 
\index{TXsheet@{TXsheet}!checkCircularReferences@{checkCircularReferences}}
\index{checkCircularReferences@{checkCircularReferences}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{checkCircularReferences()}{checkCircularReferences()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily bool TXsheet\+::check\+Circular\+References (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&}]{cell\+Candidate }\end{DoxyParamCaption})}

Returns true if the {\bfseries{cell\+Candidate}} creates a circular reference. A circular reference is obtained when {\bfseries{cell\+Candidate}} is a sub\+Xsheet cell and contains or matches with this XSheet. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01583                                                                    \{}
\DoxyCodeLine{01584   \textcolor{keywordflow}{if} (cellCandidate.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}() || !cellCandidate.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a6ef7d48e41f4f214b414e959512e6377}{getChildLevel}}())}
\DoxyCodeLine{01585     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01586   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *childCandidate = cellCandidate.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a6ef7d48e41f4f214b414e959512e6377}{getChildLevel}}()-\/>\mbox{\hyperlink{class_t_xsh_child_level_ad2676276ae1db83a898a3eef10e0ace8}{getXsheet}}();}
\DoxyCodeLine{01587   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_xsheet_a2643b21089ce82cc7d1337958a0b344e}{checkCircularReferences}}(childCandidate);}
\DoxyCodeLine{01588 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01583}{check\+Circular\+References()}}, \mbox{\hyperlink{l00098}{TXsh\+Level\+::get\+Child\+Level()}}, \mbox{\hyperlink{l00065}{TXsh\+Child\+Level\+::get\+Xsheet()}}, and \mbox{\hyperlink{l00078}{TXsh\+Cell\+::is\+Empty()}}.



Referenced by \mbox{\hyperlink{l01583}{check\+Circular\+References()}}, and \mbox{\hyperlink{l00557}{Stage\+Objects\+Data\+::check\+Circular\+References()}}.

\mbox{\Hypertarget{class_t_xsheet_a7567de9db93db77da9a2ce3ad6370d14}\label{class_t_xsheet_a7567de9db93db77da9a2ce3ad6370d14}} 
\index{TXsheet@{TXsheet}!checkCircularReferences@{checkCircularReferences}}
\index{checkCircularReferences@{checkCircularReferences}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{checkCircularReferences()}{checkCircularReferences()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily bool TXsheet\+::check\+Circular\+References (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$}]{column\+Candidate }\end{DoxyParamCaption})}

Returns true if the {\bfseries{column\+Candidate}} creates a circular reference. A circular reference is obtained when {\bfseries{column\+Candidate}} is a sub\+Xsheet column and contains or matches with this XSheet. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01592                                                                  \{}
\DoxyCodeLine{01593   \textcolor{keywordflow}{if} (!columnCandidate || !columnCandidate-\/>getLevelColumn()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01594   \mbox{\hyperlink{class_t_xsh_level_column}{TXshLevelColumn}} *lc = columnCandidate-\/>getLevelColumn();}
\DoxyCodeLine{01595   \textcolor{keywordtype}{int} r0 = 0, r1 = -\/1;}
\DoxyCodeLine{01596   \textcolor{keywordflow}{if} (lc-\/>\mbox{\hyperlink{class_t_xsh_cell_column_ab684089dcfd22454e7cbad249a04e29c}{getRange}}(r0, r1) <= 0) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01597   \textcolor{keywordtype}{int} r;}
\DoxyCodeLine{01598   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} oldCell;}
\DoxyCodeLine{01599   \textcolor{keywordflow}{for} (r = r0; r <= r1; r++) \{}
\DoxyCodeLine{01600     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = lc-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(r);}
\DoxyCodeLine{01601     \textcolor{comment}{// to speed up:}}
\DoxyCodeLine{01602     \textcolor{keywordflow}{if} (cell.m\_level.getPointer() == oldCell.m\_level.getPointer()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01603     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_xsheet_a2643b21089ce82cc7d1337958a0b344e}{checkCircularReferences}}(cell)) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01604     oldCell = cell;}
\DoxyCodeLine{01605   \}}
\DoxyCodeLine{01606   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01607 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01583}{check\+Circular\+References()}}, \mbox{\hyperlink{l00085}{TXsh\+Cell\+Column\+::get\+Cell()}}, and \mbox{\hyperlink{l00039}{TXsh\+Cell\+Column\+::get\+Range()}}.

\mbox{\Hypertarget{class_t_xsheet_a7cb0c19ec7ad894e9521d45f06f68a03}\label{class_t_xsheet_a7cb0c19ec7ad894e9521d45f06f68a03}} 
\index{TXsheet@{TXsheet}!checkCircularReferences@{checkCircularReferences}}
\index{checkCircularReferences@{checkCircularReferences}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{checkCircularReferences()}{checkCircularReferences()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily bool TXsheet\+::check\+Circular\+References (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{child\+Candidate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01615                                                              \{}
\DoxyCodeLine{01616   \textcolor{keywordflow}{if} (\textcolor{keyword}{this} == childCandidate) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01617   \textcolor{keywordflow}{if} (childCandidate == 0) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01618   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01619   \textcolor{keywordflow}{for} (i = 0; i < childCandidate-\/>\mbox{\hyperlink{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}{getColumnCount}}(); i++)}
\DoxyCodeLine{01620     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_xsheet_a2643b21089ce82cc7d1337958a0b344e}{checkCircularReferences}}(childCandidate-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(i))) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01621   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01622 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a5c453d16606875c8f1d5fc718df2a71d}\label{class_t_xsheet_a5c453d16606875c8f1d5fc718df2a71d}} 
\index{TXsheet@{TXsheet}!clearAll@{clearAll}}
\index{clearAll@{clearAll}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{clearAll()}{clearAll()}}
{\footnotesize\ttfamily void TXsheet\+::clear\+All (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Clears xsheet. It sets to default values all xsheet elements contained in struct {\bfseries{\mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}}}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00439                        \{}
\DoxyCodeLine{00440   \textcolor{keywordtype}{int} c0 = 0, c1 = m\_imp-\/>m\_columnSet.getColumnCount() -\/ 1;}
\DoxyCodeLine{00441   \textcolor{keywordtype}{int} r0 = 0, r1 = \mbox{\hyperlink{class_t_xsheet_a12a62da7dc04395088112e492d73374f}{getFrameCount}}() -\/ 1;}
\DoxyCodeLine{00442   m\_imp-\/>m\_columnSet.clear();}
\DoxyCodeLine{00443 }
\DoxyCodeLine{00444   \textcolor{keywordflow}{if} (m\_imp-\/>m\_pegTree) \{}
\DoxyCodeLine{00445     \textcolor{keyword}{delete} m\_imp-\/>m\_pegTree;}
\DoxyCodeLine{00446     m\_imp-\/>m\_pegTree = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stage_object_tree}{TStageObjectTree}}();}
\DoxyCodeLine{00447     m\_imp-\/>m\_pegTree-\/>setHandleManager(m\_imp-\/>m\_handleManager);}
\DoxyCodeLine{00448     m\_imp-\/>m\_pegTree-\/>createGrammar(\textcolor{keyword}{this});}
\DoxyCodeLine{00449   \}}
\DoxyCodeLine{00450 }
\DoxyCodeLine{00451   \textcolor{keywordflow}{if} (m\_imp-\/>m\_fxDag) \{}
\DoxyCodeLine{00452     \textcolor{keyword}{delete} m\_imp-\/>m\_fxDag;}
\DoxyCodeLine{00453     m\_imp-\/>m\_fxDag = \textcolor{keyword}{new} \mbox{\hyperlink{class_fx_dag}{FxDag}}();}
\DoxyCodeLine{00454   \}}
\DoxyCodeLine{00455 }
\DoxyCodeLine{00456   m\_imp-\/>m\_frameCount = 0;}
\DoxyCodeLine{00457   m\_imp-\/>m\_mixedSound = 0;}
\DoxyCodeLine{00458 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00229}{get\+Frame\+Count()}}.



Referenced by \mbox{\hyperlink{l00049}{Child\+Stack\+::clear()}}, and \mbox{\hyperlink{l01178}{load\+Data()}}.

\mbox{\Hypertarget{class_t_xsheet_a28381fbf27f33822b68cf66f689266da}\label{class_t_xsheet_a28381fbf27f33822b68cf66f689266da}} 
\index{TXsheet@{TXsheet}!clearCells@{clearCells}}
\index{clearCells@{clearCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{clearCells()}{clearCells()}}
{\footnotesize\ttfamily void TXsheet\+::clear\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{int}]{row\+Count = {\ttfamily 1} }\end{DoxyParamCaption})}

If column identified by index {\bfseries{{\itshape col} is}} not empty, is a {\bfseries{\mbox{\hyperlink{class_t_xsh_cell_column}{TXsh\+Cell\+Column}}}} and is not locked, clear {\bfseries{{\itshape row\+Count} cells}} starting from {\bfseries{{\itshape row} and}} it recalls \mbox{\hyperlink{class_t_xsh_cell_column_a2e143e05d7c869fb49b3c7535984b2c2}{TXsh\+Cell\+Column\+::clear\+Cells()}}. Clears cells and it shifts remaining cells. Xsheet\textquotesingle{}s frame count is updated. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{remove\+Cells()}}, \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insert\+Cells()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00423                                                        \{}
\DoxyCodeLine{00424   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} \&column = m\_imp-\/>m\_columnSet.getColumn(col);}
\DoxyCodeLine{00425   \textcolor{keywordflow}{if} (!column || column-\/>isLocked()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00426 }
\DoxyCodeLine{00427   \mbox{\hyperlink{class_t_xsh_cell_column}{TXshCellColumn}} *xshCellColumn = column-\/>getCellColumn();}
\DoxyCodeLine{00428   \textcolor{keywordflow}{if} (!xshCellColumn) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00429 }
\DoxyCodeLine{00430   \textcolor{keywordtype}{int} oldColRowCount = xshCellColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_abb9061ec897fb594f9a8a580b6e36d9e}{getMaxFrame}}() + 1;}
\DoxyCodeLine{00431   xshCellColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_a2e143e05d7c869fb49b3c7535984b2c2}{clearCells}}(row, rowCount);}
\DoxyCodeLine{00432 }
\DoxyCodeLine{00433   \textcolor{comment}{// aggiornamento framecount}}
\DoxyCodeLine{00434   \textcolor{keywordflow}{if} (oldColRowCount == m\_imp-\/>m\_frameCount) \mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{00435 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00301}{TXsh\+Cell\+Column\+::clear\+Cells()}}, \mbox{\hyperlink{l00073}{TXsh\+Cell\+Column\+::get\+Max\+Frame()}}, and \mbox{\hyperlink{l01166}{update\+Frame\+Count()}}.



Referenced by \mbox{\hyperlink{l00833}{each\+Cells()}}, \mbox{\hyperlink{l00870}{reframe\+Cells()}}, and \mbox{\hyperlink{l00736}{step\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_a980350c67eb3b69640d1c267cebea590}\label{class_t_xsheet_a980350c67eb3b69640d1c267cebea590}} 
\index{TXsheet@{TXsheet}!decreaseStepCells@{decreaseStepCells}}
\index{decreaseStepCells@{decreaseStepCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{decreaseStepCells()}{decreaseStepCells()}}
{\footnotesize\ttfamily void TXsheet\+::decrease\+Step\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int \&}]{r1,  }\item[{int}]{c1 }\end{DoxyParamCaption})}

For each sequence of frame with same number, contained in rect delimited by first row {\bfseries{{\itshape r0},}} last row {\bfseries{{\itshape r1} and}} first column {\bfseries{{\itshape c0},}} a frame with same number is removed. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00799                                                                \{}
\DoxyCodeLine{00800   \textcolor{keywordtype}{int} c, size = r1 -\/ r0 + 1;}
\DoxyCodeLine{00801   QList<int> ends;}
\DoxyCodeLine{00802   \textcolor{keywordflow}{for} (c = c0; c <= c1; c++) \{}
\DoxyCodeLine{00803     \textcolor{keywordtype}{int} r = r0, i = 0, rEnd = r1;}
\DoxyCodeLine{00804     \textcolor{keywordflow}{while} (r <= rEnd) \{}
\DoxyCodeLine{00805       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r, c));}
\DoxyCodeLine{00806       \textcolor{keywordflow}{if} (!cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \{}
\DoxyCodeLine{00807         r++;}
\DoxyCodeLine{00808         \textcolor{keywordtype}{bool} removed = \textcolor{keyword}{false};}
\DoxyCodeLine{00809         \textcolor{keywordflow}{while} (cell == \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r, c)) \&\& r <= rEnd) \{}
\DoxyCodeLine{00810           \textcolor{keywordflow}{if} (!removed) \{}
\DoxyCodeLine{00811             removed = \textcolor{keyword}{true};}
\DoxyCodeLine{00812             \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{removeCells}}(r, c);}
\DoxyCodeLine{00813             rEnd-\/-\/;}
\DoxyCodeLine{00814           \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00815             r++;}
\DoxyCodeLine{00816         \}}
\DoxyCodeLine{00817       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00818         r++;}
\DoxyCodeLine{00819       i++;}
\DoxyCodeLine{00820     \}}
\DoxyCodeLine{00821     ends.append(rEnd);}
\DoxyCodeLine{00822   \}}
\DoxyCodeLine{00823   \textcolor{keywordflow}{if} (ends.isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00824   \textcolor{comment}{// controllo se devo cambiare la selezione}}
\DoxyCodeLine{00825   \textcolor{keywordtype}{bool} allDecreaseIsEqual = \textcolor{keyword}{true};}
\DoxyCodeLine{00826   \textcolor{keywordflow}{for} (c = 0; c < ends.size() -\/ 1 \&\& allDecreaseIsEqual; c++)}
\DoxyCodeLine{00827     allDecreaseIsEqual = allDecreaseIsEqual \&\& ends[c] == ends[c + 1];}
\DoxyCodeLine{00828   \textcolor{keywordflow}{if} (allDecreaseIsEqual) r1 = ends[0];}
\DoxyCodeLine{00829 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{get\+Cell()}}, \mbox{\hyperlink{l00078}{TXsh\+Cell\+::is\+Empty()}}, and \mbox{\hyperlink{l00405}{remove\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_a8be007d48d0e987aa3985fe800507b54}\label{class_t_xsheet_a8be007d48d0e987aa3985fe800507b54}} 
\index{TXsheet@{TXsheet}!duplicateCells@{duplicateCells}}
\index{duplicateCells@{duplicateCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{duplicateCells()}{duplicateCells()}}
{\footnotesize\ttfamily void TXsheet\+::duplicate\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1,  }\item[{int}]{up\+To }\end{DoxyParamCaption})}

A copy of cells, contained in rect delimited by first row {\bfseries{{\itshape r0},}} last row {\bfseries{{\itshape r1} and}} first column {\bfseries{{\itshape c0},}} is made in row cells from {\bfseries{r1+1}} to {\bfseries{{\itshape up\+To}.}} The duplicated cells will be inserted by shifting the other down. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00723                                                                      \{}
\DoxyCodeLine{00724   assert(upTo >= r1 + 1);}
\DoxyCodeLine{00725   \textcolor{keywordtype}{int} chunk = r1 -\/ r0 + 1;}
\DoxyCodeLine{00726 }
\DoxyCodeLine{00727   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = c0; j <= c1; j++) \{}
\DoxyCodeLine{00728     \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(r1 + 1, j, upTo -\/ (r1 + 1) + 1);}
\DoxyCodeLine{00729     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = r1 + 1; i <= upTo; i++)}
\DoxyCodeLine{00730       setCell(i, j, \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r0 + ((i -\/ (r1 + 1)) \% chunk), j)));}
\DoxyCodeLine{00731   \}}
\DoxyCodeLine{00732 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{get\+Cell()}}, and \mbox{\hyperlink{l00392}{insert\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_a8c23bfae25ffdf2bc64147db3889d7fe}\label{class_t_xsheet_a8c23bfae25ffdf2bc64147db3889d7fe}} 
\index{TXsheet@{TXsheet}!eachCells@{eachCells}}
\index{eachCells@{eachCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{eachCells()}{eachCells()}}
{\footnotesize\ttfamily void TXsheet\+::each\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1,  }\item[{int}]{type }\end{DoxyParamCaption})}

Only one cell each step {\bfseries{{\itshape type},}} of the cells, contained in rect delimited by first row {\bfseries{{\itshape r0},}} last row {\bfseries{{\itshape r1} and}} first column {\bfseries{{\itshape c0},}} are preserved, the others are deleted. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00833                                                                 \{}
\DoxyCodeLine{00834   \textcolor{keywordtype}{int} nr = r1 -\/ r0 + 1;}
\DoxyCodeLine{00835   \textcolor{keywordtype}{int} nc = c1 -\/ c0 + 1;}
\DoxyCodeLine{00836   \textcolor{keywordflow}{if} (nr < type || nc <= 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00837 }
\DoxyCodeLine{00838   \textcolor{keywordtype}{int} newRows = nr \% type ? nr / type + 1 : nr / type;}
\DoxyCodeLine{00839 }
\DoxyCodeLine{00840   \textcolor{keywordtype}{int} size = newRows * nc;}
\DoxyCodeLine{00841   assert(size > 0);}
\DoxyCodeLine{00842   std::unique\_ptr<TXshCell[]> cells(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}[size]);}
\DoxyCodeLine{00843   assert(cells);}
\DoxyCodeLine{00844 }
\DoxyCodeLine{00845   \textcolor{keywordtype}{int} i, j, k;}
\DoxyCodeLine{00846   \textcolor{keywordflow}{for} (j = r0, i = 0; i < size;}
\DoxyCodeLine{00847        j += type)  \textcolor{comment}{// in cells copio il contenuto delle celle che mi interessano}}
\DoxyCodeLine{00848   \{}
\DoxyCodeLine{00849     \textcolor{keywordflow}{for} (k = c0; k <= c1; k++, i++) cells[i] = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(j, k));}
\DoxyCodeLine{00850   \}}
\DoxyCodeLine{00851 }
\DoxyCodeLine{00852   \textcolor{keywordtype}{int} c;}
\DoxyCodeLine{00853   \textcolor{keywordflow}{for} (c = c0; c <= c1; ++c) \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{removeCells}}(r0 + newRows, c, nr -\/ newRows);}
\DoxyCodeLine{00854 }
\DoxyCodeLine{00855   \textcolor{keywordflow}{for} (i = r0, k = 0; i < r0 + newRows \&\& k < size; i++)}
\DoxyCodeLine{00856     \textcolor{keywordflow}{for} (j = c0; j <= c1; j++) \{}
\DoxyCodeLine{00857       \textcolor{comment}{//-\/-\/-\/-\/110523 iwasawa}}
\DoxyCodeLine{00858       \textcolor{comment}{// Eachでできた空きセルに、操作前のセルの中身が残ってしまう不具合を修正}}
\DoxyCodeLine{00859       \textcolor{keywordflow}{if} (cells[k].isEmpty())}
\DoxyCodeLine{00860         \mbox{\hyperlink{class_t_xsheet_a28381fbf27f33822b68cf66f689266da}{clearCells}}(i, j);}
\DoxyCodeLine{00861       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00862         setCell(i, j, cells[k]);}
\DoxyCodeLine{00863       k++;}
\DoxyCodeLine{00864     \}}
\DoxyCodeLine{00865 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00423}{clear\+Cells()}}, \mbox{\hyperlink{l00233}{get\+Cell()}}, and \mbox{\hyperlink{l00405}{remove\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_ad2812514a3f36e1a61cbf71aa7f21cd5}\label{class_t_xsheet_ad2812514a3f36e1a61cbf71aa7f21cd5}} 
\index{TXsheet@{TXsheet}!exposeLevel@{exposeLevel}}
\index{exposeLevel@{exposeLevel}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{exposeLevel()}{exposeLevel()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily int TXsheet\+::expose\+Level (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{\mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$}]{xl,  }\item[{bool}]{overwrite = {\ttfamily false} }\end{DoxyParamCaption})}

Exposes level {\bfseries{{\itshape xl} in}} xsheet starting from cell identified by {\bfseries{{\itshape row} and}} {\bfseries{{\itshape col}.}} Returns the number of the inserted cells. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01045                                                                         \{}
\DoxyCodeLine{01046   \textcolor{keywordflow}{if} (!xl) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01047   std::vector<TFrameId> fids;}
\DoxyCodeLine{01048   xl-\/>getFids(fids);}
\DoxyCodeLine{01049   \textcolor{keywordtype}{int} frameCount = 1;}
\DoxyCodeLine{01050   \textcolor{keywordflow}{if} (fids.empty()) \{}
\DoxyCodeLine{01051     setCell(row, col, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}(xl, \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(1)));}
\DoxyCodeLine{01052     \mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{01053     \textcolor{keywordflow}{return} frameCount;}
\DoxyCodeLine{01054   \}}
\DoxyCodeLine{01055   \mbox{\hyperlink{class_t_xsheet_ad2812514a3f36e1a61cbf71aa7f21cd5}{exposeLevel}}(row, col, xl, fids, overwrite);}
\DoxyCodeLine{01056   \textcolor{keywordflow}{return} (\textcolor{keywordtype}{int})fids.size();}
\DoxyCodeLine{01057 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01045}{expose\+Level()}}, and \mbox{\hyperlink{l01166}{update\+Frame\+Count()}}.



Referenced by \mbox{\hyperlink{l00914}{Vectorizer\+Popup\+::apply()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, and \mbox{\hyperlink{l01045}{expose\+Level()}}.

\mbox{\Hypertarget{class_t_xsheet_a18884e6f5693a727077e27b00317beef}\label{class_t_xsheet_a18884e6f5693a727077e27b00317beef}} 
\index{TXsheet@{TXsheet}!exposeLevel@{exposeLevel}}
\index{exposeLevel@{exposeLevel}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{exposeLevel()}{exposeLevel()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily int TXsheet\+::expose\+Level (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{\mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$}]{xl,  }\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} $>$ \&}]{f\+Ids\+\_\+,  }\item[{\mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}}]{x\+From = {\ttfamily \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}()},  }\item[{\mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}}]{x\+To = {\ttfamily \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}()},  }\item[{int}]{step = {\ttfamily -\/1},  }\item[{int}]{inc = {\ttfamily -\/1},  }\item[{int}]{frame\+Count = {\ttfamily -\/1},  }\item[{bool}]{does\+File\+Actually\+Exist = {\ttfamily true} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01064                                                      \{}
\DoxyCodeLine{01065   \textcolor{keywordflow}{if} (!xl) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01066   std::vector<TFrameId> fids;}
\DoxyCodeLine{01067 }
\DoxyCodeLine{01068   \textcolor{keywordflow}{if} (doesFileActuallyExist)}
\DoxyCodeLine{01069     xl-\/>getFids(fids);}
\DoxyCodeLine{01070   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01071     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)fIds\_.size(); i++) \{}
\DoxyCodeLine{01072       fids.push\_back(fIds\_[i]);}
\DoxyCodeLine{01073     \}}
\DoxyCodeLine{01074   \}}
\DoxyCodeLine{01075 }
\DoxyCodeLine{01076   \textcolor{comment}{// multiple exposing}}
\DoxyCodeLine{01077   \textcolor{keywordflow}{if} (frameCount < 0 || xFrom < 0 || xTo < 0 || step < 0 || inc < 0) \{}
\DoxyCodeLine{01078     \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(row, col, xl-\/>getFrameCount());}
\DoxyCodeLine{01079 }
\DoxyCodeLine{01080     frameCount = 1;}
\DoxyCodeLine{01081     \textcolor{keywordflow}{if} (fids.empty())}
\DoxyCodeLine{01082       setCell(row, col, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}(xl, \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(1)));}
\DoxyCodeLine{01083     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01084       frameCount = (int)fids.size();}
\DoxyCodeLine{01085       \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(row, col, frameCount);}
\DoxyCodeLine{01086       std::vector<TFrameId>::iterator it;}
\DoxyCodeLine{01087       \textcolor{keywordflow}{for} (it = fids.begin(); it != fids.end(); ++it)}
\DoxyCodeLine{01088         setCell(row++, col, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}(xl, *it));}
\DoxyCodeLine{01089     \}}
\DoxyCodeLine{01090     \mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{01091     \textcolor{keywordflow}{return} frameCount;}
\DoxyCodeLine{01092   \}}
\DoxyCodeLine{01093 }
\DoxyCodeLine{01094   \textcolor{comment}{// single exposing}}
\DoxyCodeLine{01095 }
\DoxyCodeLine{01096   \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(row, col, frameCount);}
\DoxyCodeLine{01097 }
\DoxyCodeLine{01098   \textcolor{keywordflow}{if} (fids.empty()) \{}
\DoxyCodeLine{01099     setCell(row, col, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}(xl, \mbox{\hyperlink{class_t_frame_id}{TFrameId}}(1)));}
\DoxyCodeLine{01100   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01101     \textcolor{keywordflow}{if} (inc == 0)  \textcolor{comment}{// inc = Auto}}
\DoxyCodeLine{01102     \{}
\DoxyCodeLine{01103       std::vector<TFrameId>::iterator it;}
\DoxyCodeLine{01104       it = fids.begin();}
\DoxyCodeLine{01105       \textcolor{keywordflow}{while} (*it < xFrom) it++;}
\DoxyCodeLine{01106 }
\DoxyCodeLine{01107       \textcolor{keywordflow}{if} (step == 0)  \textcolor{comment}{// Step = Auto}}
\DoxyCodeLine{01108       \{}
\DoxyCodeLine{01109         std::vector<TFrameId>::iterator next\_it;}
\DoxyCodeLine{01110         next\_it = it;}
\DoxyCodeLine{01111         next\_it++;}
\DoxyCodeLine{01112         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} f = 0; f < frameCount; f++) \{}
\DoxyCodeLine{01113           setCell(row++, col, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}(xl, *it));}
\DoxyCodeLine{01114           \textcolor{keywordflow}{if} (next\_it != fids.end()) \{}
\DoxyCodeLine{01115             it++;}
\DoxyCodeLine{01116             next\_it++;}
\DoxyCodeLine{01117           \}}
\DoxyCodeLine{01118         \}}
\DoxyCodeLine{01119       \}}
\DoxyCodeLine{01120 }
\DoxyCodeLine{01121       \textcolor{keywordflow}{else}  \textcolor{comment}{// Step != Auto}}
\DoxyCodeLine{01122       \{}
\DoxyCodeLine{01123         \textcolor{keywordtype}{int} loopCount = frameCount / step;}
\DoxyCodeLine{01124         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} loop = 0; loop < loopCount; loop++) \{}
\DoxyCodeLine{01125           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} s = 0; s < step; s++) \{}
\DoxyCodeLine{01126             setCell(row++, col, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}(xl, *it));}
\DoxyCodeLine{01127           \}}
\DoxyCodeLine{01128           it++;}
\DoxyCodeLine{01129         \}}
\DoxyCodeLine{01130       \}}
\DoxyCodeLine{01131 }
\DoxyCodeLine{01132     \} \textcolor{keywordflow}{else}  \textcolor{comment}{// inc != Auto}}
\DoxyCodeLine{01133     \{}
\DoxyCodeLine{01134       \textcolor{keywordtype}{int} loopCount;}
\DoxyCodeLine{01135       \textcolor{keywordflow}{if} (step == 0)  \textcolor{comment}{// Step = Auto}}
\DoxyCodeLine{01136         step = inc;}
\DoxyCodeLine{01137 }
\DoxyCodeLine{01138       loopCount = frameCount / step;}
\DoxyCodeLine{01139 }
\DoxyCodeLine{01140       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} loop = 0; loop < loopCount; loop++) \{}
\DoxyCodeLine{01141         \mbox{\hyperlink{class_t_frame_id}{TFrameId}} \mbox{\hyperlink{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}{id}}(xFrom.getNumber() + loop * inc, xFrom.getLetter());}
\DoxyCodeLine{01142         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} s = 0; s < step; s++) \{}
\DoxyCodeLine{01143           setCell(row++, col, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}(xl, \textcolor{keywordtype}{id}));}
\DoxyCodeLine{01144         \}}
\DoxyCodeLine{01145       \}}
\DoxyCodeLine{01146     \}}
\DoxyCodeLine{01147   \}}
\DoxyCodeLine{01148   \mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{01149   \textcolor{keywordflow}{return} frameCount;}
\DoxyCodeLine{01150 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a9e3e14bbbbdded5408bdc7dbf01619a9}\label{class_t_xsheet_a9e3e14bbbbdded5408bdc7dbf01619a9}} 
\index{TXsheet@{TXsheet}!exposeLevel@{exposeLevel}}
\index{exposeLevel@{exposeLevel}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{exposeLevel()}{exposeLevel()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void TXsheet\+::expose\+Level (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{\mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$}]{xl,  }\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} $>$}]{fids,  }\item[{bool}]{overwrite }\end{DoxyParamCaption})}

Exposes level {\bfseries{{\itshape xl} {\bfseries{{\itshape fids} in}} xsheet}} starting from cell identified by {\bfseries{{\itshape row} and}} {\bfseries{{\itshape col}.}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{01155                                                                     \{}
\DoxyCodeLine{01156   \textcolor{keywordtype}{int} frameCount = (int)fids.size();}
\DoxyCodeLine{01157   \textcolor{keywordflow}{if} (!overwrite) \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(row, col, frameCount);}
\DoxyCodeLine{01158   std::vector<TFrameId>::iterator it;}
\DoxyCodeLine{01159   \textcolor{keywordflow}{for} (it = fids.begin(); it != fids.end(); ++it)}
\DoxyCodeLine{01160     setCell(row++, col, \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}(xl, *it));}
\DoxyCodeLine{01161   \mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{01162 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00392}{insert\+Cells()}}, and \mbox{\hyperlink{l01166}{update\+Frame\+Count()}}.

\mbox{\Hypertarget{class_t_xsheet_a44549894be18821ec4da539203e68819}\label{class_t_xsheet_a44549894be18821ec4da539203e68819}} 
\index{TXsheet@{TXsheet}!getBBox@{getBBox}}
\index{getBBox@{getBBox}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getBBox()}{getBBox()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRectD}} TXsheet\+::get\+BBox (\begin{DoxyParamCaption}\item[{int}]{row }\end{DoxyParamCaption}) const}



Returns the xsheet content\textquotesingle{}s {\itshape camstand} bbox at the specified row. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01627                                    \{}
\DoxyCodeLine{01628   \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{double} maxDouble = (std::numeric\_limits<double>::max)();}
\DoxyCodeLine{01629   \textcolor{keyword}{static} \textcolor{keyword}{const} \mbox{\hyperlink{class_t_rect_t}{TRectD}} voidRect(maxDouble, maxDouble, -\/maxDouble, -\/maxDouble);}
\DoxyCodeLine{01630 }
\DoxyCodeLine{01631   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01632 }
\DoxyCodeLine{01633   \textcolor{keyword}{struct }locals \{}
\DoxyCodeLine{01634     \textcolor{keyword}{static} \mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{class_t_xsheet_a44549894be18821ec4da539203e68819}{getBBox}}(\textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh, \textcolor{keywordtype}{int} r, \textcolor{keywordtype}{int} c) \{}
\DoxyCodeLine{01635       \textcolor{comment}{// Discriminate cell content}}
\DoxyCodeLine{01636       \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} \&cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r, c));}
\DoxyCodeLine{01637       \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \textcolor{keywordflow}{return} voidRect;}
\DoxyCodeLine{01638 }
\DoxyCodeLine{01639       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_xsh_child_level}{TXshChildLevel}} *cl = cell.\mbox{\hyperlink{class_t_xsh_cell_a7454c1d1c1875bd237ecad8704614cbd}{getChildLevel}}())}
\DoxyCodeLine{01640         \textcolor{keywordflow}{return} cl-\/>getXsheet()-\/>getBBox(cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}().getNumber() -\/ 1);}
\DoxyCodeLine{01641 }
\DoxyCodeLine{01642       \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{01643       \textcolor{keywordflow}{if} (!sl ||}
\DoxyCodeLine{01644           !(sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() \&}
\DoxyCodeLine{01645             LEVELCOLUMN\_XSHLEVEL))  \textcolor{comment}{// Avoid other mesh levels -\/ which could}}
\DoxyCodeLine{01646         \textcolor{keywordflow}{return} voidRect;            \textcolor{comment}{// be deformed too...}}
\DoxyCodeLine{01647 }
\DoxyCodeLine{01648       \textcolor{comment}{// Retrieve column affine}}
\DoxyCodeLine{01649       \mbox{\hyperlink{class_t_affine}{TAffine}} columnZaff;}
\DoxyCodeLine{01650       \{}
\DoxyCodeLine{01651         \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *colObj = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(TStageObjectId::ColumnId(c));}
\DoxyCodeLine{01652 }
\DoxyCodeLine{01653         \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&columnAff = colObj-\/>getPlacement(r);  \textcolor{comment}{// ...}}
\DoxyCodeLine{01654         \textcolor{keywordtype}{double} columnZ           = colObj-\/>\mbox{\hyperlink{class_t_stage_object_a52b1a3ec50ed35fbc07c9a3b64ecc21c}{getZ}}(r);          \textcolor{comment}{// ...}}
\DoxyCodeLine{01655         \textcolor{keywordtype}{double} columnNoScaleZ    = colObj-\/>\mbox{\hyperlink{class_t_stage_object_a5d01b3f25af51c058e46982ca047312d}{getGlobalNoScaleZ}}();}
\DoxyCodeLine{01656 }
\DoxyCodeLine{01657         \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} cameraId =}
\DoxyCodeLine{01658             xsh-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>\mbox{\hyperlink{class_t_stage_object_tree_a7d63ae5d60c3a3aacf5da58c108ac167}{getCurrentCameraId}}();}
\DoxyCodeLine{01659         \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *camera = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(cameraId);}
\DoxyCodeLine{01660 }
\DoxyCodeLine{01661         \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&cameraAff = camera-\/>getPlacement(r);  \textcolor{comment}{// ...}}
\DoxyCodeLine{01662         \textcolor{keywordtype}{double} cameraZ           = camera-\/>\mbox{\hyperlink{class_t_stage_object_a52b1a3ec50ed35fbc07c9a3b64ecc21c}{getZ}}(r);          \textcolor{comment}{// ...}}
\DoxyCodeLine{01663 }
\DoxyCodeLine{01664         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_stage_object_a0f219cbc4e42269c0fbd073a62253218}{TStageObject::perspective}}(columnZaff, cameraAff, cameraZ,}
\DoxyCodeLine{01665                                        columnAff, columnZ, columnNoScaleZ))}
\DoxyCodeLine{01666           \textcolor{keywordflow}{return} voidRect;}
\DoxyCodeLine{01667       \}}
\DoxyCodeLine{01668 }
\DoxyCodeLine{01669       \textcolor{keyword}{const} \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&bbox = sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a1629d7fbc5e0c41ebc1a40f9f70d40d5}{getBBox}}(cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}());}
\DoxyCodeLine{01670       \textcolor{keywordflow}{if} (bbox.getLx() <= 0.0 || bbox.getLy() <= 0.0) \textcolor{keywordflow}{return} voidRect;}
\DoxyCodeLine{01671 }
\DoxyCodeLine{01672       \textcolor{keywordflow}{return} columnZaff * \mbox{\hyperlink{class_t_scale}{TScale}}(\mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}}, \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}}) * bbox;}
\DoxyCodeLine{01673     \}}
\DoxyCodeLine{01674   \};}
\DoxyCodeLine{01675 }
\DoxyCodeLine{01676   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01677 }
\DoxyCodeLine{01678   \textcolor{comment}{// Initialize a union-\/neutral rect}}
\DoxyCodeLine{01679   \mbox{\hyperlink{class_t_rect_t}{TRectD}} bbox(voidRect);}
\DoxyCodeLine{01680 }
\DoxyCodeLine{01681   \textcolor{comment}{// Traverse the xsheet's columns, adding the bbox of each}}
\DoxyCodeLine{01682   \textcolor{keywordtype}{int} c, cCount = \mbox{\hyperlink{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}{getColumnCount}}();}
\DoxyCodeLine{01683   \textcolor{keywordflow}{for} (c = 0; c != cCount; ++c) \{}
\DoxyCodeLine{01684     \textcolor{comment}{// Skip empty or invisible columns}}
\DoxyCodeLine{01685     \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = \mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(c);}
\DoxyCodeLine{01686     \textcolor{keywordflow}{if} (column-\/>isEmpty() || !column-\/>isCamstandVisible()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01687 }
\DoxyCodeLine{01688     \textcolor{keyword}{const} \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&colBBox = locals::getBBox(\textcolor{keyword}{this}, r, c);}
\DoxyCodeLine{01689 }
\DoxyCodeLine{01690     \textcolor{comment}{// Make the union}}
\DoxyCodeLine{01691     bbox.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} = std::min(bbox.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}, colBBox.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}});}
\DoxyCodeLine{01692     bbox.y0 = std::min(bbox.y0, colBBox.y0);}
\DoxyCodeLine{01693     bbox.x1 = std::max(bbox.x1, colBBox.x1);}
\DoxyCodeLine{01694     bbox.y1 = std::max(bbox.y1, colBBox.y1);}
\DoxyCodeLine{01695   \}}
\DoxyCodeLine{01696 }
\DoxyCodeLine{01697   \textcolor{keywordflow}{return} bbox;}
\DoxyCodeLine{01698 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l02360}{TXsh\+Simple\+Level\+::get\+BBox()}}, \mbox{\hyperlink{l01627}{get\+BBox()}}, \mbox{\hyperlink{l00233}{get\+Cell()}}, \mbox{\hyperlink{l00049}{TXsh\+Cell\+::get\+Child\+Level()}}, \mbox{\hyperlink{l01418}{get\+Column()}}, \mbox{\hyperlink{l01425}{get\+Column\+Count()}}, \mbox{\hyperlink{l00508}{TStage\+Object\+Tree\+::get\+Current\+Camera\+Id()}}, \mbox{\hyperlink{l00120}{TXsh\+Cell\+::get\+Frame\+Id()}}, \mbox{\hyperlink{l01443}{TStage\+Object\+::get\+Global\+No\+Scale\+Z()}}, \mbox{\hyperlink{l00019}{TXsh\+Cell\+::get\+Simple\+Level()}}, \mbox{\hyperlink{l00542}{get\+Stage\+Object()}}, \mbox{\hyperlink{l00549}{get\+Stage\+Object\+Tree()}}, \mbox{\hyperlink{l00081}{TXsh\+Level\+::get\+Type()}}, \mbox{\hyperlink{l01423}{TStage\+Object\+::get\+Z()}}, \mbox{\hyperlink{l00037}{Stage\+::inch}}, \mbox{\hyperlink{l00078}{TXsh\+Cell\+::is\+Empty()}}, \mbox{\hyperlink{l01945}{TStage\+Object\+::perspective()}}, and \mbox{\hyperlink{l00557}{TRect\+T$<$ T $>$\+::x0}}.



Referenced by \mbox{\hyperlink{l01627}{get\+BBox()}}, and \mbox{\hyperlink{l00170}{texture\+\_\+utils\+::get\+Texture\+Data()}}.

\mbox{\Hypertarget{class_t_xsheet_ac08197d98e00154a4a974d5b6a5e04d7}\label{class_t_xsheet_ac08197d98e00154a4a974d5b6a5e04d7}} 
\index{TXsheet@{TXsheet}!getCameraAff@{getCameraAff}}
\index{getCameraAff@{getCameraAff}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getCameraAff()}{getCameraAff()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_affine}{TAffine}} TXsheet\+::get\+Camera\+Aff (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption}) const}

Returns current camera\textquotesingle{}s transformation matrix {\bfseries{\mbox{\hyperlink{class_t_affine}{TAffine}}}} related to frame {\bfseries{{\itshape frame},}} inclusive of zdepth. It Doesn\textquotesingle{}t take care of transformation matrix related to pegbar linked to camera. \begin{DoxyNote}{Note}
Used only in tab code, \char`\"{}the Tab\char`\"{} has just one camera while \char`\"{}\+Toonz 5.\+2 Harlequin\char`\"{} manages several camera. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{00620                                              \{}
\DoxyCodeLine{00621   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} cameraId = \mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>\mbox{\hyperlink{class_t_stage_object_tree_a7d63ae5d60c3a3aacf5da58c108ac167}{getCurrentCameraId}}();}
\DoxyCodeLine{00622   \mbox{\hyperlink{class_t_affine}{TAffine}} cameraAff       = \mbox{\hyperlink{class_t_xsheet_abd766f516cac9898a2a952463618a9fe}{getPlacement}}(cameraId, frame);}
\DoxyCodeLine{00623   \textcolor{keywordtype}{double} cameraZ          = \mbox{\hyperlink{class_t_xsheet_ac3cff0937663af24b324430b134ed8b2}{getZ}}(cameraId, frame);}
\DoxyCodeLine{00624   \mbox{\hyperlink{class_t_affine}{TAffine}} aff             = cameraAff * \mbox{\hyperlink{class_t_scale}{TScale}}((1000 + cameraZ) / 1000);}
\DoxyCodeLine{00625   \textcolor{keywordflow}{return} aff;}
\DoxyCodeLine{00626 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00508}{TStage\+Object\+Tree\+::get\+Current\+Camera\+Id()}}, \mbox{\hyperlink{l00555}{get\+Placement()}}, \mbox{\hyperlink{l00549}{get\+Stage\+Object\+Tree()}}, and \mbox{\hyperlink{l00562}{get\+Z()}}.



Referenced by \mbox{\hyperlink{l02211}{Scene\+Viewer\+::get\+View\+Matrix()}}.

\mbox{\Hypertarget{class_t_xsheet_a40d918dd4ea21547af05387418272bb9}\label{class_t_xsheet_a40d918dd4ea21547af05387418272bb9}} 
\index{TXsheet@{TXsheet}!getCameraColumnIndex@{getCameraColumnIndex}}
\index{getCameraColumnIndex@{getCameraColumnIndex}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getCameraColumnIndex()}{getCameraColumnIndex()}}
{\footnotesize\ttfamily int TXsheet\+::get\+Camera\+Column\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00570 \{ \textcolor{keywordflow}{return} m\_cameraColumnIndex; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a54e4e1297234d455e277538538817b45}\label{class_t_xsheet_a54e4e1297234d455e277538538817b45}} 
\index{TXsheet@{TXsheet}!getCell@{getCell}}
\index{getCell@{getCell}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getCell()}{getCell()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \& TXsheet\+::get\+Cell (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&}]{pos }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00237                                                               \{}
\DoxyCodeLine{00238   \textcolor{keyword}{static} \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} emptyCell;}
\DoxyCodeLine{00239 }
\DoxyCodeLine{00240   \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} column = m\_imp-\/>m\_columnSet.getColumn(pos.layer());}
\DoxyCodeLine{00241   \textcolor{keywordflow}{if} (!column) \textcolor{keywordflow}{return} emptyCell;}
\DoxyCodeLine{00242   \mbox{\hyperlink{class_t_xsh_cell_column}{TXshCellColumn}} *xshColumn = column-\/>getCellColumn();}
\DoxyCodeLine{00243   \textcolor{keywordflow}{if} (!xshColumn) \textcolor{keywordflow}{return} emptyCell;}
\DoxyCodeLine{00244   \textcolor{keywordflow}{return} xshColumn-\/>getCell(pos.frame());}
\DoxyCodeLine{00245 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}\label{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}} 
\index{TXsheet@{TXsheet}!getCell@{getCell}}
\index{getCell@{getCell}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getCell()}{getCell()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \& TXsheet\+::get\+Cell (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col }\end{DoxyParamCaption}) const}

Returns the {\bfseries{\mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}}}} cell in row identified by index {\bfseries{{\itshape row} and}} column identified by index {\bfseries{{\itshape col}.}} If column {\bfseries{TXsh\+ColumnP}} in {\bfseries{{\itshape col} is}} empty return an empty cell. \begin{DoxySeeAlso}{See also}
set\+Cell(), \mbox{\hyperlink{class_t_xsheet_a24ef8c4d08fb6a3f2f469a91ca184b23}{get\+Cells()}}, \mbox{\hyperlink{class_t_xsheet_af252e427c43789deaef482e2bd913274}{set\+Cells()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00233                                                        \{}
\DoxyCodeLine{00234   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(row, col));}
\DoxyCodeLine{00235 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{get\+Cell()}}.



Referenced by \mbox{\hyperlink{l00330}{Stage\+Builder\+::add\+Cell()}}, \mbox{\hyperlink{l00560}{Stage\+Builder\+::add\+Cell\+With\+Onion\+Skin()}}, \mbox{\hyperlink{l00914}{Vectorizer\+Popup\+::apply()}}, \mbox{\hyperlink{l00944}{Xsheet\+Viewer\+::are\+Sound\+Cells\+Selected()}}, \mbox{\hyperlink{l00090}{Child\+Stack\+::close\+Child()}}, \mbox{\hyperlink{l00128}{Child\+Stack\+::create\+Child()}}, \mbox{\hyperlink{l00799}{decrease\+Step\+Cells()}}, \mbox{\hyperlink{l00454}{Plastic\+Deformer\+Fx\+::do\+Dry\+Compute()}}, \mbox{\hyperlink{l00259}{Hook\+Tool\+::draw()}}, \mbox{\hyperlink{l01428}{Skeleton\+Tool\+::draw()}}, \mbox{\hyperlink{l00723}{duplicate\+Cells()}}, \mbox{\hyperlink{l00833}{each\+Cells()}}, \mbox{\hyperlink{l00610}{Export\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01783}{Replace\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l02076}{Replace\+Parent\+Directory\+Popup\+::execute()}}, \mbox{\hyperlink{l01627}{get\+BBox()}}, \mbox{\hyperlink{l00233}{get\+Cell()}}, \mbox{\hyperlink{l00688}{TTool\+::get\+Current\+Fid()}}, \mbox{\hyperlink{l00278}{TApp\+::get\+Current\+Image\+Type()}}, \mbox{\hyperlink{l00770}{increase\+Step\+Cells()}}, \mbox{\hyperlink{l00663}{increment\+Cells()}}, \mbox{\hyperlink{l01702}{is\+Rect\+Empty()}}, \mbox{\hyperlink{l00609}{TTool\+::notify\+Image\+Changed()}}, \mbox{\hyperlink{l04004}{Xsheet\+GUI\+::\+Cell\+Area\+::on\+Replace\+By\+Casted\+Level()}}, \mbox{\hyperlink{l00058}{Child\+Stack\+::open\+Child()}}, \mbox{\hyperlink{l00870}{reframe\+Cells()}}, \mbox{\hyperlink{l00936}{reset\+Step\+Cells()}}, \mbox{\hyperlink{l00985}{rolldown\+Cells()}}, \mbox{\hyperlink{l00962}{rollup\+Cells()}}, \mbox{\hyperlink{l00736}{step\+Cells()}}, \mbox{\hyperlink{l00647}{swing\+Cells()}}, \mbox{\hyperlink{l00294}{TTool\+::touch\+Image()}}, \mbox{\hyperlink{l00764}{Level\+Settings\+Popup\+::update\+Level\+Settings()}}, and \mbox{\hyperlink{l00092}{Toolbar\+::update\+Toolbar()}}.

\mbox{\Hypertarget{class_t_xsheet_a26850469fb0f2886b717479050c32be2}\label{class_t_xsheet_a26850469fb0f2886b717479050c32be2}} 
\index{TXsheet@{TXsheet}!getCellRange@{getCellRange}}
\index{getCellRange@{getCellRange}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getCellRange()}{getCellRange()}}
{\footnotesize\ttfamily int TXsheet\+::get\+Cell\+Range (\begin{DoxyParamCaption}\item[{int}]{col,  }\item[{int \&}]{r0,  }\item[{int \&}]{r1 }\end{DoxyParamCaption}) const}

Returns cell range of column identified by index {\bfseries{{\itshape col} and}} set {\bfseries{{\itshape r0} and}} {\bfseries{{\itshape r1} respectively}} to first and last not empty cell, it then recalls {\bfseries{\mbox{\hyperlink{class_t_xsh_cell_column_ab684089dcfd22454e7cbad249a04e29c}{TXsh\+Cell\+Column\+::get\+Range()}}}}. If column is empty or is not a {\bfseries{\mbox{\hyperlink{class_t_xsh_cell_column}{TXsh\+Cell\+Column}}}} this method returns zero and sets {\bfseries{{\itshape r0} to}} 0 and {\bfseries{{\itshape r1} to}} -\/1. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00462                                                          \{}
\DoxyCodeLine{00463   r0                 = 0;}
\DoxyCodeLine{00464   r1                 = -\/1;}
\DoxyCodeLine{00465   \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} column = m\_imp-\/>m\_columnSet.getColumn(col);}
\DoxyCodeLine{00466   \textcolor{keywordflow}{if} (!column) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00467   \mbox{\hyperlink{class_t_xsh_cell_column}{TXshCellColumn}} *cellColumn = column-\/>getCellColumn();}
\DoxyCodeLine{00468   \textcolor{keywordflow}{if} (!cellColumn) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00469   \textcolor{keywordflow}{return} cellColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_ab684089dcfd22454e7cbad249a04e29c}{getRange}}(r0, r1);}
\DoxyCodeLine{00470 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00039}{TXsh\+Cell\+Column\+::get\+Range()}}.



Referenced by \mbox{\hyperlink{l00610}{Export\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l00278}{TApp\+::get\+Current\+Image\+Type()}}, \mbox{\hyperlink{l00058}{Child\+Stack\+::open\+Child()}}, \mbox{\hyperlink{l00294}{TTool\+::touch\+Image()}}, \mbox{\hyperlink{l00764}{Level\+Settings\+Popup\+::update\+Level\+Settings()}}, and \mbox{\hyperlink{l00092}{Toolbar\+::update\+Toolbar()}}.

\mbox{\Hypertarget{class_t_xsheet_a24ef8c4d08fb6a3f2f469a91ca184b23}\label{class_t_xsheet_a24ef8c4d08fb6a3f2f469a91ca184b23}} 
\index{TXsheet@{TXsheet}!getCells@{getCells}}
\index{getCells@{getCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getCells()}{getCells()}}
{\footnotesize\ttfamily void TXsheet\+::get\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{int}]{row\+Count,  }\item[{\mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}}}]{cells\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption}) const}

Set {\bfseries{{\itshape cells}\mbox{[}}}\mbox{]} to {\bfseries{{\itshape row\+Count} cells}} of column identified by index {\bfseries{{\itshape col} starting}} from row identified by index {\bfseries{{\itshape row}.}} If column is empty or is not a {\bfseries{\mbox{\hyperlink{class_t_xsh_cell_column}{TXsh\+Cell\+Column}}}} set {\bfseries{{\itshape cells}\mbox{[}}}\mbox{]} to {\bfseries{{\itshape row\+Count} empty}} cells. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a24ef8c4d08fb6a3f2f469a91ca184b23}{get\+Cells()}}, \mbox{\hyperlink{class_t_xsheet_af252e427c43789deaef482e2bd913274}{set\+Cells()}}, \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{get\+Cell()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00309                                                                              \{}
\DoxyCodeLine{00310   \textcolor{keyword}{static} \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} emptyCell;}
\DoxyCodeLine{00311   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00312   \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} column = m\_imp-\/>m\_columnSet.getColumn(col);}
\DoxyCodeLine{00313   \textcolor{keywordflow}{if} (!column) \{}
\DoxyCodeLine{00314     \textcolor{keywordflow}{for} (i = 0; i < rowCount; i++) cells[i] = emptyCell;}
\DoxyCodeLine{00315     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00316   \}}
\DoxyCodeLine{00317   \mbox{\hyperlink{class_t_xsh_cell_column}{TXshCellColumn}} *xshColumn = column-\/>getCellColumn();}
\DoxyCodeLine{00318   \textcolor{keywordflow}{if} (!xshColumn) \{}
\DoxyCodeLine{00319     \textcolor{keywordflow}{for} (i = 0; i < rowCount; i++) cells[i] = emptyCell;}
\DoxyCodeLine{00320     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00321   \}}
\DoxyCodeLine{00322   xshColumn-\/>getCells(row, rowCount, cells);}
\DoxyCodeLine{00323 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01007}{time\+Stretch()}}.

\mbox{\Hypertarget{class_t_xsheet_ad762600c9d9d3b5173fcc1e79a802793}\label{class_t_xsheet_ad762600c9d9d3b5173fcc1e79a802793}} 
\index{TXsheet@{TXsheet}!getCenter@{getCenter}}
\index{getCenter@{getCenter}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getCenter()}{getCenter()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} TXsheet\+::get\+Center (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id,  }\item[{int}]{frame }\end{DoxyParamCaption}) const}

Returns the center related to pegbar {\bfseries{\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}}}} with {\bfseries{{\itshape id} \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}}} specialization in frame {\bfseries{{\itshape frame};}} it calls {\bfseries{\mbox{\hyperlink{class_t_stage_object_a4b41d0e35b6da11930675c36c07ae885}{TStage\+Object\+::get\+Center()}}}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a5518e9cd4b6bb85707ea4dda3808862b}{set\+Center()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00583                                                                     \{}
\DoxyCodeLine{00584   assert(\textcolor{keywordtype}{id} != TStageObjectId::NoneId);}
\DoxyCodeLine{00585   \textcolor{keywordflow}{return} m\_imp-\/>m\_pegTree-\/>getStageObject(\textcolor{keywordtype}{id})-\/>getCenter(frame);}
\DoxyCodeLine{00586 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00054}{Skeleton\+::build()}}, and \mbox{\hyperlink{l01416}{Edit\+Tool\+::draw()}}.

\mbox{\Hypertarget{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}\label{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}} 
\index{TXsheet@{TXsheet}!getColumn@{getColumn}}
\index{getColumn@{getColumn}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getColumn()}{getColumn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$ TXsheet\+::get\+Column (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const}

Returns a pointer to the {\bfseries{\mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}}}} identified in xsheet by index {\bfseries{{\itshape index}.}} 
\begin{DoxyCode}{0}
\DoxyCodeLine{01418                                             \{}
\DoxyCodeLine{01419   \textcolor{keywordflow}{if} (col < 0) \textcolor{keywordflow}{return} m\_cameraColumn;}
\DoxyCodeLine{01420   \textcolor{keywordflow}{return} m\_imp-\/>m\_columnSet.getColumn(col).getPointer();}
\DoxyCodeLine{01421 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00330}{Stage\+Builder\+::add\+Cell()}}, \mbox{\hyperlink{l00662}{Stage\+Builder\+::add\+Frame()}}, \mbox{\hyperlink{l00142}{TCell\+Data\+::can\+Change()}}, \mbox{\hyperlink{l01627}{get\+BBox()}}, \mbox{\hyperlink{l00064}{TCell\+Data\+::get\+Cells()}}, \mbox{\hyperlink{l00278}{TApp\+::get\+Current\+Image\+Type()}}, \mbox{\hyperlink{l01492}{Toonz\+Scene\+::get\+Sound\+Columns()}}, \mbox{\hyperlink{l00489}{get\+Used\+Levels()}}, \mbox{\hyperlink{l00504}{Color\+Model\+Viewer\+::load\+Current\+Frame()}}, \mbox{\hyperlink{l01377}{move\+Column()}}, \mbox{\hyperlink{l01352}{remove\+Column()}}, \mbox{\hyperlink{l00327}{TColumn\+Data\+Element\+::restore\+Column()}}, \mbox{\hyperlink{l00082}{Fxs\+Data\+::set\+Fxs()}}, \mbox{\hyperlink{l00074}{TXsh\+Child\+Level\+::set\+Scene()}}, \mbox{\hyperlink{l00298}{TColumn\+Data\+Element\+::store\+Column()}}, \mbox{\hyperlink{l00635}{Stage\+Objects\+Data\+::store\+Objects()}}, and \mbox{\hyperlink{l00294}{TTool\+::touch\+Image()}}.

\mbox{\Hypertarget{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}\label{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}} 
\index{TXsheet@{TXsheet}!getColumnCount@{getColumnCount}}
\index{getColumnCount@{getColumnCount}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getColumnCount()}{getColumnCount()}}
{\footnotesize\ttfamily int TXsheet\+::get\+Column\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns xsheet column count, i.\+e the number of xsheet column used, it calls {\bfseries{TColumn\+Set\+T\+::get\+Column\+Count()}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{get\+Column()}} and \mbox{\hyperlink{class_t_xsheet_a255fd3bc544cfb5f9c7cacad894971f4}{get\+Max\+Frame()}}. 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01425                                   \{}
\DoxyCodeLine{01426   \textcolor{keywordflow}{return} m\_imp-\/>m\_columnSet.getColumnCount();}
\DoxyCodeLine{01427 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00330}{Stage\+Builder\+::add\+Cell()}}, \mbox{\hyperlink{l00662}{Stage\+Builder\+::add\+Frame()}}, \mbox{\hyperlink{l00054}{Skeleton\+::build()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01627}{get\+BBox()}}, \mbox{\hyperlink{l01431}{get\+First\+Free\+Column\+Index()}}, \mbox{\hyperlink{l01492}{Toonz\+Scene\+::get\+Sound\+Columns()}}, \mbox{\hyperlink{l00489}{get\+Used\+Levels()}}, and \mbox{\hyperlink{l00074}{TXsh\+Child\+Level\+::set\+Scene()}}.

\mbox{\Hypertarget{class_t_xsheet_a3c7f0358ee5d555df82ae864af8584d0}\label{class_t_xsheet_a3c7f0358ee5d555df82ae864af8584d0}} 
\index{TXsheet@{TXsheet}!getColumnFan@{getColumnFan}}
\index{getColumnFan@{getColumnFan}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getColumnFan()}{getColumnFan()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_column_fan}{Column\+Fan}} $\ast$ TXsheet\+::get\+Column\+Fan (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_orientation}{Orientation}} $\ast$}]{o }\end{DoxyParamCaption}) const}

Returns a pointer to object {\bfseries{\mbox{\hyperlink{class_column_fan}{Column\+Fan}}}} contained in {\bfseries{\mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}}}, this object allows the user to manage columns visualization in xsheet. \mbox{\hyperlink{class_t_xsheet}{TXsheet}} maintains one column fan per each orientation. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01568                                                            \{}
\DoxyCodeLine{01569   \textcolor{keywordtype}{int} index = o-\/>dimension(PredefinedDimension::INDEX);}
\DoxyCodeLine{01570   \textcolor{keywordflow}{return} \&m\_imp-\/>m\_columnFans[index];}
\DoxyCodeLine{01571 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00377}{TStage\+Object\+Tree\+::load\+Data()}}, \mbox{\hyperlink{l01277}{save\+Data()}}, and \mbox{\hyperlink{l00433}{TStage\+Object\+Tree\+::save\+Data()}}.

\mbox{\Hypertarget{class_t_xsheet_aae89839276ec09431be91c97e6f4695b}\label{class_t_xsheet_aae89839276ec09431be91c97e6f4695b}} 
\index{TXsheet@{TXsheet}!getExpRefMonitor@{getExpRefMonitor}}
\index{getExpRefMonitor@{getExpRefMonitor}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getExpRefMonitor()}{getExpRefMonitor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_expression_reference_monitor}{Expression\+Reference\+Monitor}} $\ast$ TXsheet\+::get\+Exp\+Ref\+Monitor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01839                                                             \{}
\DoxyCodeLine{01840   \textcolor{keywordflow}{return} m\_imp-\/>m\_expRefMonitor;}
\DoxyCodeLine{01841 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_ac00c621f54bf2c4f4a51a8b7d6f27253}\label{class_t_xsheet_ac00c621f54bf2c4f4a51a8b7d6f27253}} 
\index{TXsheet@{TXsheet}!getFirstFreeColumnIndex@{getFirstFreeColumnIndex}}
\index{getFirstFreeColumnIndex@{getFirstFreeColumnIndex}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getFirstFreeColumnIndex()}{getFirstFreeColumnIndex()}}
{\footnotesize\ttfamily int TXsheet\+::get\+First\+Free\+Column\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns first not empty column index in xsheet. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01431                                            \{}
\DoxyCodeLine{01432   \textcolor{keywordtype}{int} i = \mbox{\hyperlink{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}{getColumnCount}}();}
\DoxyCodeLine{01433   \textcolor{keywordflow}{while} (i > 0 \&\& \mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(i -\/ 1)) -\/-\/i;}
\DoxyCodeLine{01434   \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{01435 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01425}{get\+Column\+Count()}}, and \mbox{\hyperlink{l00482}{is\+Column\+Empty()}}.



Referenced by \mbox{\hyperlink{l00914}{Vectorizer\+Popup\+::apply()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, and \mbox{\hyperlink{l01277}{save\+Data()}}.

\mbox{\Hypertarget{class_t_xsheet_a12a62da7dc04395088112e492d73374f}\label{class_t_xsheet_a12a62da7dc04395088112e492d73374f}} 
\index{TXsheet@{TXsheet}!getFrameCount@{getFrameCount}}
\index{getFrameCount@{getFrameCount}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getFrameCount()}{getFrameCount()}}
{\footnotesize\ttfamily int TXsheet\+::get\+Frame\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns max frame number used in xsheet. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a255fd3bc544cfb5f9c7cacad894971f4}{get\+Max\+Frame()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00229 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_frameCount; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00439}{clear\+All()}}, \mbox{\hyperlink{l00090}{Child\+Stack\+::close\+Child()}}, \mbox{\hyperlink{l01783}{Replace\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l02076}{Replace\+Parent\+Directory\+Popup\+::execute()}}, \mbox{\hyperlink{l00704}{Toonz\+Scene\+::get\+Frame\+Count()}}, \mbox{\hyperlink{l00086}{TXsh\+Child\+Level\+::get\+Frame\+Count()}}, \mbox{\hyperlink{l00222}{texture\+\_\+utils\+::invalidate\+Textures()}}, \mbox{\hyperlink{l00590}{Toonz\+Scene\+::save()}}, and \mbox{\hyperlink{l00764}{Level\+Settings\+Popup\+::update\+Level\+Settings()}}.

\mbox{\Hypertarget{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}\label{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}} 
\index{TXsheet@{TXsheet}!getFxDag@{getFxDag}}
\index{getFxDag@{getFxDag}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getFxDag()}{getFxDag()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_fx_dag}{Fx\+Dag}} $\ast$ TXsheet\+::get\+Fx\+Dag (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns a pointer to object {\bfseries{\mbox{\hyperlink{class_fx_dag}{Fx\+Dag}}}} contained in {\bfseries{\mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}}}, this object allows the user to manage all fx dag, i.\+e. all element of fx schematic. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01564 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_fxDag; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01330}{insert\+Column()}}, \mbox{\hyperlink{l00536}{Fx\+Selection\+::is\+Connected()}}, \mbox{\hyperlink{l00565}{TXsh\+Column\+::is\+Control()}}, \mbox{\hyperlink{l00544}{TXsh\+Column\+::is\+Rendered()}}, \mbox{\hyperlink{l01362}{Fx\+Schematic\+Port\+::link\+To()}}, \mbox{\hyperlink{l01352}{remove\+Column()}}, \mbox{\hyperlink{l01277}{save\+Data()}}, \mbox{\hyperlink{l00139}{Multimedia\+Renderer\+::\+Imp\+::scan\+Scene\+For\+Columns()}}, \mbox{\hyperlink{l00179}{Multimedia\+Renderer\+::\+Imp\+::scan\+Scene\+For\+Layers()}}, \mbox{\hyperlink{l00327}{set\+Cells()}}, \mbox{\hyperlink{l00807}{Stage\+Objects\+Data\+::store\+Column\+Fxs()}}, \mbox{\hyperlink{l00720}{Stage\+Objects\+Data\+::store\+Fxs()}}, and \mbox{\hyperlink{l00635}{Stage\+Objects\+Data\+::store\+Objects()}}.

\mbox{\Hypertarget{class_t_xsheet_a255fd3bc544cfb5f9c7cacad894971f4}\label{class_t_xsheet_a255fd3bc544cfb5f9c7cacad894971f4}} 
\index{TXsheet@{TXsheet}!getMaxFrame@{getMaxFrame}}
\index{getMaxFrame@{getMaxFrame}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getMaxFrame()}{getMaxFrame()}}
{\footnotesize\ttfamily int TXsheet\+::get\+Max\+Frame (\begin{DoxyParamCaption}\item[{int}]{col }\end{DoxyParamCaption}) const}

Returns the max frame number of xsheet column identified by {\bfseries{{\itshape col} and}} calls {\bfseries{TXsh\+Column\+::get\+Max\+Frame()}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a12a62da7dc04395088112e492d73374f}{get\+Frame\+Count()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00474                                       \{}
\DoxyCodeLine{00475   \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} column = m\_imp-\/>m\_columnSet.getColumn(col);}
\DoxyCodeLine{00476   \textcolor{keywordflow}{if} (!column) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00477   \textcolor{keywordflow}{return} column-\/>getMaxFrame();}
\DoxyCodeLine{00478 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a8ca2c02bb38c37d3ace3216612074d07}\label{class_t_xsheet_a8ca2c02bb38c37d3ace3216612074d07}} 
\index{TXsheet@{TXsheet}!getNoScaleZ@{getNoScaleZ}}
\index{getNoScaleZ@{getNoScaleZ}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getNoScaleZ()}{getNoScaleZ()}}
{\footnotesize\ttfamily double TXsheet\+::get\+No\+ScaleZ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00569                                                           \{}
\DoxyCodeLine{00570   assert(\textcolor{keywordtype}{id} != TStageObjectId::NoneId);}
\DoxyCodeLine{00571   \textcolor{keywordflow}{return} m\_imp-\/>m\_pegTree-\/>getStageObject(\textcolor{keywordtype}{id})-\/>getNoScaleZ();}
\DoxyCodeLine{00572 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_ad53a59c6991e4bf57995c3f285194522}\label{class_t_xsheet_ad53a59c6991e4bf57995c3f285194522}} 
\index{TXsheet@{TXsheet}!getNotes@{getNotes}}
\index{getNotes@{getNotes}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getNotes()}{getNotes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_note_set}{TXsh\+Note\+Set}} $\ast$ TXsheet\+::get\+Notes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00545 \{ \textcolor{keywordflow}{return} m\_notes; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a491a29d5ec8795c1445db08a5e83a612}\label{class_t_xsheet_a491a29d5ec8795c1445db08a5e83a612}} 
\index{TXsheet@{TXsheet}!getParentPlacement@{getParentPlacement}}
\index{getParentPlacement@{getParentPlacement}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getParentPlacement()}{getParentPlacement()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_affine}{TAffine}} TXsheet\+::get\+Parent\+Placement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id,  }\item[{int}]{frame }\end{DoxyParamCaption}) const}

Returns transformation matrix {\bfseries{\mbox{\hyperlink{class_t_affine}{TAffine}}}} related to parent of pegbar {\bfseries{\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}}}} with {\bfseries{{\itshape id} {\bfseries{\mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}}} specialization}} in frame {\bfseries{{\itshape frame},}} it calls {\bfseries{TStage\+Object\+::get\+Parent\+Placement()}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_abd766f516cac9898a2a952463618a9fe}{get\+Placement()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00576                                                                              \{}
\DoxyCodeLine{00577   assert(\textcolor{keywordtype}{id} != TStageObjectId::NoneId);}
\DoxyCodeLine{00578   \textcolor{keywordflow}{return} m\_imp-\/>m\_pegTree-\/>getStageObject(\textcolor{keywordtype}{id})-\/>getParentPlacement(frame);}
\DoxyCodeLine{00579 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01416}{Edit\+Tool\+::draw()}}.

\mbox{\Hypertarget{class_t_xsheet_abd766f516cac9898a2a952463618a9fe}\label{class_t_xsheet_abd766f516cac9898a2a952463618a9fe}} 
\index{TXsheet@{TXsheet}!getPlacement@{getPlacement}}
\index{getPlacement@{getPlacement}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getPlacement()}{getPlacement()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_affine}{TAffine}} TXsheet\+::get\+Placement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id,  }\item[{int}]{frame }\end{DoxyParamCaption}) const}

Returns transformation matrix {\bfseries{\mbox{\hyperlink{class_t_affine}{TAffine}}}} related to pegbar {\bfseries{\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}}}} with {\bfseries{{\itshape id} {\bfseries{\mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}}} specialization}} in frame {\bfseries{{\itshape frame},}} it calls {\bfseries{TStage\+Object\+::get\+Placement()}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a491a29d5ec8795c1445db08a5e83a612}{get\+Parent\+Placement()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00555                                                                        \{}
\DoxyCodeLine{00556   assert(\textcolor{keywordtype}{id} != TStageObjectId::NoneId);}
\DoxyCodeLine{00557   \textcolor{keywordflow}{return} m\_imp-\/>m\_pegTree-\/>getStageObject(\textcolor{keywordtype}{id})-\/>getPlacement(frame);}
\DoxyCodeLine{00558 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00054}{Skeleton\+::build()}}, \mbox{\hyperlink{l01416}{Edit\+Tool\+::draw()}}, \mbox{\hyperlink{l00620}{get\+Camera\+Aff()}}, \mbox{\hyperlink{l00745}{TTool\+::get\+Column\+Matrix()}}, \mbox{\hyperlink{l00713}{TTool\+::get\+Current\+Column\+Parent\+Matrix()}}, \mbox{\hyperlink{l00170}{texture\+\_\+utils\+::get\+Texture\+Data()}}, and \mbox{\hyperlink{l00711}{Toonz\+Scene\+::render\+Frame()}}.

\mbox{\Hypertarget{class_t_xsheet_a35d49d436513243d059eee3a25ffa2ef}\label{class_t_xsheet_a35d49d436513243d059eee3a25ffa2ef}} 
\index{TXsheet@{TXsheet}!getScene@{getScene}}
\index{getScene@{getScene}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getScene()}{getScene()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$ TXsheet\+::get\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns a pointer to {\bfseries{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}}}} contained in {\bfseries{\mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}}}, that is the scene to which the xsheet refers. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_acb634f75579e77275e6dd5fad3ead2b6}{set\+Scene()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01575 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_scene; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00170}{texture\+\_\+utils\+::get\+Texture\+Data()}}, \mbox{\hyperlink{l01185}{Raster\+Selection\+::paste\+Selection()}}, and \mbox{\hyperlink{l00705}{TXsh\+Sound\+Column\+::set\+Xsheet()}}.

\mbox{\Hypertarget{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}\label{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}} 
\index{TXsheet@{TXsheet}!getStageObject@{getStageObject}}
\index{getStageObject@{getStageObject}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getStageObject()}{getStageObject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stage_object}{TStage\+Object}} $\ast$ TXsheet\+::get\+Stage\+Object (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id }\end{DoxyParamCaption}) const}

The method retrieves a pegbar {\bfseries{\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}}}} with the passed {\bfseries{{\itshape id} {\bfseries{\mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}}} specialization}}, calling \mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{TStage\+Object\+Tree\+::get\+Stage\+Object()}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{get\+Stage\+Object\+Tree()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00542                                                                     \{}
\DoxyCodeLine{00543   assert(\textcolor{keywordtype}{id} != TStageObjectId::NoneId);}
\DoxyCodeLine{00544   \textcolor{keywordflow}{return} m\_imp-\/>m\_pegTree-\/>getStageObject(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00545 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00330}{Stage\+Builder\+::add\+Cell()}}, \mbox{\hyperlink{l00560}{Stage\+Builder\+::add\+Cell\+With\+Onion\+Skin()}}, \mbox{\hyperlink{l00662}{Stage\+Builder\+::add\+Frame()}}, \mbox{\hyperlink{l00054}{Skeleton\+::build()}}, \mbox{\hyperlink{l00454}{Plastic\+Deformer\+Fx\+::do\+Dry\+Compute()}}, \mbox{\hyperlink{l01416}{Edit\+Tool\+::draw()}}, \mbox{\hyperlink{l01428}{Skeleton\+Tool\+::draw()}}, \mbox{\hyperlink{l02646}{Io\+Cmd\+::expose\+Comment()}}, \mbox{\hyperlink{l01627}{get\+BBox()}}, \mbox{\hyperlink{l00745}{TTool\+::get\+Column\+Matrix()}}, \mbox{\hyperlink{l01178}{load\+Data()}}, \mbox{\hyperlink{l00609}{TTool\+::notify\+Image\+Changed()}}, \mbox{\hyperlink{l01357}{Output\+Settings\+Popup\+::on\+Add\+Preset\+Button\+Pressed()}}, \mbox{\hyperlink{l00327}{TColumn\+Data\+Element\+::restore\+Column()}}, \mbox{\hyperlink{l00113}{TCell\+Keyframe\+Selection\+::select\+Cells\+Keyframes()}}, \mbox{\hyperlink{l00298}{TColumn\+Data\+Element\+::store\+Column()}}, \mbox{\hyperlink{l00948}{Arrow\+Tool\+Options\+Box\+::sync\+Current\+Stage\+Object\+Combo\+Item()}}, \mbox{\hyperlink{l00919}{Arrow\+Tool\+Options\+Box\+::update\+Stage\+Object\+Combo\+Items()}}, and \mbox{\hyperlink{l00911}{Stage\+::visit()}}.

\mbox{\Hypertarget{class_t_xsheet_a0a27744ce52cae25ec261a853a554cd1}\label{class_t_xsheet_a0a27744ce52cae25ec261a853a554cd1}} 
\index{TXsheet@{TXsheet}!getStageObjectParent@{getStageObjectParent}}
\index{getStageObjectParent@{getStageObjectParent}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getStageObjectParent()}{getStageObjectParent()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} TXsheet\+::get\+Stage\+Object\+Parent (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id }\end{DoxyParamCaption})}

Returns parent related to pegbar {\bfseries{\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}}}} with {\bfseries{{\itshape id} \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}}} specialization; it calls {\bfseries{\mbox{\hyperlink{class_t_stage_object_afb4724a8cc2ef7eb2c6c7585834210f2}{TStage\+Object\+::get\+Parent()}}}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a33f98b4e9811dbe8f1b6f2f44b09a662}{set\+Stage\+Object\+Parent()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00598                                                                      \{}
\DoxyCodeLine{00599   assert(\textcolor{keywordtype}{id} != TStageObjectId::NoneId);}
\DoxyCodeLine{00600   \textcolor{keywordflow}{return} m\_imp-\/>m\_pegTree-\/>getStageObject(\textcolor{keywordtype}{id})-\/>getParent();}
\DoxyCodeLine{00601 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00054}{Skeleton\+::build()}}, \mbox{\hyperlink{l01428}{Skeleton\+Tool\+::draw()}}, and \mbox{\hyperlink{l00713}{TTool\+::get\+Current\+Column\+Parent\+Matrix()}}.

\mbox{\Hypertarget{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}\label{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}} 
\index{TXsheet@{TXsheet}!getStageObjectTree@{getStageObjectTree}}
\index{getStageObjectTree@{getStageObjectTree}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getStageObjectTree()}{getStageObjectTree()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stage_object_tree}{TStage\+Object\+Tree}} $\ast$ TXsheet\+::get\+Stage\+Object\+Tree (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

The method retrieves the pegbar tree {\bfseries{\mbox{\hyperlink{class_t_stage_object_tree}{TStage\+Object\+Tree}}}} contained in struct {\bfseries{\mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{get\+Stage\+Object()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00549                                                     \{}
\DoxyCodeLine{00550   \textcolor{keywordflow}{return} m\_imp-\/>m\_pegTree;}
\DoxyCodeLine{00551 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00330}{Stage\+Builder\+::add\+Cell()}}, \mbox{\hyperlink{l00864}{Toonz\+Scene\+::create\+New\+Level()}}, \mbox{\hyperlink{l01416}{Edit\+Tool\+::draw()}}, \mbox{\hyperlink{l01627}{get\+BBox()}}, \mbox{\hyperlink{l00620}{get\+Camera\+Aff()}}, \mbox{\hyperlink{l00745}{TTool\+::get\+Column\+Matrix()}}, \mbox{\hyperlink{l01472}{Toonz\+Scene\+::get\+Current\+Camera()}}, \mbox{\hyperlink{l00170}{texture\+\_\+utils\+::get\+Texture\+Data()}}, \mbox{\hyperlink{l01106}{TProject\+Manager\+::initialize\+Scene()}}, \mbox{\hyperlink{l01178}{load\+Data()}}, \mbox{\hyperlink{l01122}{Toonz\+Scene\+::load\+Level()}}, \mbox{\hyperlink{l01357}{Output\+Settings\+Popup\+::on\+Add\+Preset\+Button\+Pressed()}}, \mbox{\hyperlink{l01102}{Output\+Settings\+Popup\+::on\+Camera\+Changed()}}, \mbox{\hyperlink{l00711}{Toonz\+Scene\+::render\+Frame()}}, \mbox{\hyperlink{l00441}{TCamera\+Data\+Element\+::restore\+Camera()}}, \mbox{\hyperlink{l00327}{TColumn\+Data\+Element\+::restore\+Column()}}, \mbox{\hyperlink{l00201}{TStage\+Object\+Data\+Element\+::restore\+Object()}}, \mbox{\hyperlink{l01126}{TProject\+Manager\+::save\+Template()}}, \mbox{\hyperlink{l00428}{TCamera\+Data\+Element\+::store\+Camera()}}, \mbox{\hyperlink{l00189}{TStage\+Object\+Data\+Element\+::store\+Object()}}, \mbox{\hyperlink{l00895}{Stage\+Objects\+Data\+::store\+Splines()}}, \mbox{\hyperlink{l00802}{Output\+Settings\+Popup\+::update\+Field()}}, \mbox{\hyperlink{l00198}{Stage\+Schematic\+Scene\+::update\+Scene()}}, \mbox{\hyperlink{l00919}{Arrow\+Tool\+Options\+Box\+::update\+Stage\+Object\+Combo\+Items()}}, and \mbox{\hyperlink{l00911}{Stage\+::visit()}}.

\mbox{\Hypertarget{class_t_xsheet_aa0e609bf07ee363201a184c3c7220348}\label{class_t_xsheet_aa0e609bf07ee363201a184c3c7220348}} 
\index{TXsheet@{TXsheet}!getUsedLevels@{getUsedLevels}}
\index{getUsedLevels@{getUsedLevels}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getUsedLevels()}{getUsedLevels()}}
{\footnotesize\ttfamily void TXsheet\+::get\+Used\+Levels (\begin{DoxyParamCaption}\item[{std\+::set$<$ \mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$ $>$ \&}]{levels }\end{DoxyParamCaption}) const}

Sets the level set {\bfseries{{\itshape levels} with}} all current xsheet levels used, it includes in {\bfseries{{\itshape levels} sub-\/xsheet}} levels too. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a2fbaf0d4ff704a20a333f605609c64a1}{is\+Level\+Used()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00489                                                           \{}
\DoxyCodeLine{00490   set<const TXsheet *> visitedXshs;}
\DoxyCodeLine{00491   vector<const TXsheet *> todoXshs;}
\DoxyCodeLine{00492 }
\DoxyCodeLine{00493   visitedXshs.insert(\textcolor{keyword}{this});}
\DoxyCodeLine{00494   todoXshs.push\_back(\textcolor{keyword}{this});}
\DoxyCodeLine{00495 }
\DoxyCodeLine{00496   \textcolor{keywordflow}{while} (!todoXshs.empty()) \{}
\DoxyCodeLine{00497     \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = todoXshs.back();}
\DoxyCodeLine{00498     todoXshs.pop\_back();}
\DoxyCodeLine{00499 }
\DoxyCodeLine{00500     \textcolor{keywordtype}{int} c0 = 0, c1 = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}{getColumnCount}}() -\/ 1;}
\DoxyCodeLine{00501     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = c0; c <= c1; ++c) \{}
\DoxyCodeLine{00502       \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} column = \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{class_t_xsheet}{TXsheet}} *\textcolor{keyword}{>}(xsh)-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(c);}
\DoxyCodeLine{00503       \textcolor{keywordflow}{if} (!column) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00504 }
\DoxyCodeLine{00505       \mbox{\hyperlink{class_t_xsh_cell_column}{TXshCellColumn}} *cellColumn = column-\/>getCellColumn();}
\DoxyCodeLine{00506       \textcolor{keywordflow}{if} (!cellColumn) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00507 }
\DoxyCodeLine{00508       \textcolor{keywordtype}{int} r0, r1;}
\DoxyCodeLine{00509       \textcolor{keywordflow}{if} (!cellColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_ab684089dcfd22454e7cbad249a04e29c}{getRange}}(r0, r1)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00510 }
\DoxyCodeLine{00511       \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *level = 0;}
\DoxyCodeLine{00512       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r = r0; r <= r1; r++) \{}
\DoxyCodeLine{00513         \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = cellColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_aa747a68efe54d336d5d07dd8af451908}{getCell}}(r);}
\DoxyCodeLine{00514         \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}() || !cell.m\_level) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00515 }
\DoxyCodeLine{00516         \textcolor{keywordflow}{if} (level != cell.m\_level.getPointer()) \{}
\DoxyCodeLine{00517           level = cell.m\_level.getPointer();}
\DoxyCodeLine{00518           levels.insert(level);}
\DoxyCodeLine{00519           \textcolor{keywordflow}{if} (level-\/>\mbox{\hyperlink{class_t_xsh_level_a6ef7d48e41f4f214b414e959512e6377}{getChildLevel}}()) \{}
\DoxyCodeLine{00520             \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *childXsh = level-\/>\mbox{\hyperlink{class_t_xsh_level_a6ef7d48e41f4f214b414e959512e6377}{getChildLevel}}()-\/>\mbox{\hyperlink{class_t_xsh_child_level_ad2676276ae1db83a898a3eef10e0ace8}{getXsheet}}();}
\DoxyCodeLine{00521             \textcolor{keywordflow}{if} (visitedXshs.count(childXsh) == 0) \{}
\DoxyCodeLine{00522               visitedXshs.insert(childXsh);}
\DoxyCodeLine{00523               todoXshs.push\_back(childXsh);}
\DoxyCodeLine{00524             \}}
\DoxyCodeLine{00525           \}}
\DoxyCodeLine{00526         \}}
\DoxyCodeLine{00527       \}}
\DoxyCodeLine{00528     \}}
\DoxyCodeLine{00529   \}}
\DoxyCodeLine{00530 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00085}{TXsh\+Cell\+Column\+::get\+Cell()}}, \mbox{\hyperlink{l00098}{TXsh\+Level\+::get\+Child\+Level()}}, \mbox{\hyperlink{l01418}{get\+Column()}}, \mbox{\hyperlink{l01425}{get\+Column\+Count()}}, \mbox{\hyperlink{l00039}{TXsh\+Cell\+Column\+::get\+Range()}}, \mbox{\hyperlink{l00065}{TXsh\+Child\+Level\+::get\+Xsheet()}}, and \mbox{\hyperlink{l00078}{TXsh\+Cell\+::is\+Empty()}}.



Referenced by \mbox{\hyperlink{l00534}{is\+Level\+Used()}}, and \mbox{\hyperlink{l00590}{Toonz\+Scene\+::save()}}.

\mbox{\Hypertarget{class_t_xsheet_ac3cff0937663af24b324430b134ed8b2}\label{class_t_xsheet_ac3cff0937663af24b324430b134ed8b2}} 
\index{TXsheet@{TXsheet}!getZ@{getZ}}
\index{getZ@{getZ}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{getZ()}{getZ()}}
{\footnotesize\ttfamily double TXsheet\+::getZ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id,  }\item[{int}]{frame }\end{DoxyParamCaption}) const}

Returns z value related to pegbar {\bfseries{\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}}}} with {\bfseries{{\itshape id} specialization}} {\bfseries{\mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}}} in frame {\bfseries{{\itshape frame},}} it calls {\bfseries{\mbox{\hyperlink{class_t_stage_object_a52b1a3ec50ed35fbc07c9a3b64ecc21c}{TStage\+Object\+::get\+Z()}}}}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00562                                                               \{}
\DoxyCodeLine{00563   assert(\textcolor{keywordtype}{id} != TStageObjectId::NoneId);}
\DoxyCodeLine{00564   \textcolor{keywordflow}{return} m\_imp-\/>m\_pegTree-\/>getStageObject(\textcolor{keywordtype}{id})-\/>getZ(frame);}
\DoxyCodeLine{00565 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01416}{Edit\+Tool\+::draw()}}, \mbox{\hyperlink{l00620}{get\+Camera\+Aff()}}, and \mbox{\hyperlink{l00745}{TTool\+::get\+Column\+Matrix()}}.

\mbox{\Hypertarget{class_t_xsheet_a0f368ebea354d284ba2f524ac4b2ad35}\label{class_t_xsheet_a0f368ebea354d284ba2f524ac4b2ad35}} 
\index{TXsheet@{TXsheet}!hasChildren@{hasChildren}}
\index{hasChildren@{hasChildren}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{hasChildren()}{hasChildren()}}
{\footnotesize\ttfamily bool TXsheet\+::has\+Children (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id }\end{DoxyParamCaption}) const}

Returns true if pegbar {\bfseries{\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}}}} with {\bfseries{{\itshape id} \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}}} specialization has children, that is if pegbar is a parent of another pegbar; it calls {\bfseries{\mbox{\hyperlink{class_t_stage_object_a249eed3c29d4fede31daeffb7a404f28}{TStage\+Object\+::has\+Children()}}}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a0a27744ce52cae25ec261a853a554cd1}{get\+Stage\+Object\+Parent()}} and \mbox{\hyperlink{class_t_xsheet_a33f98b4e9811dbe8f1b6f2f44b09a662}{set\+Stage\+Object\+Parent()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00613                                                         \{}
\DoxyCodeLine{00614   assert(\textcolor{keywordtype}{id} != TStageObjectId::NoneId);}
\DoxyCodeLine{00615   \textcolor{keywordflow}{return} m\_imp-\/>m\_pegTree-\/>getStageObject(\textcolor{keywordtype}{id})-\/>hasChildren();}
\DoxyCodeLine{00616 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}\label{class_t_xsheet_ab3bcbe7fc44663c1c36a47e94067d373}} 
\index{TXsheet@{TXsheet}!id@{id}}
\index{id@{id}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{id()}{id()}}
{\footnotesize\ttfamily unsigned long TXsheet\+::id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns a unique identifier associated with the xsheet instance. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00225 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_id; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a02791d6b1e4479bbfe35392d85dc02fb}\label{class_t_xsheet_a02791d6b1e4479bbfe35392d85dc02fb}} 
\index{TXsheet@{TXsheet}!increaseStepCells@{increaseStepCells}}
\index{increaseStepCells@{increaseStepCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{increaseStepCells()}{increaseStepCells()}}
{\footnotesize\ttfamily void TXsheet\+::increase\+Step\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int \&}]{r1,  }\item[{int}]{c1 }\end{DoxyParamCaption})}

For each sequence of frame with same number, contained in rect delimited by first row {\bfseries{{\itshape r0},}} last row {\bfseries{{\itshape r1} and}} first column {\bfseries{{\itshape c0},}} a frame with same number is inserted. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00770                                                                \{}
\DoxyCodeLine{00771   \textcolor{keywordtype}{int} c, size = r1 -\/ r0 + 1;}
\DoxyCodeLine{00772   QList<int> ends;}
\DoxyCodeLine{00773   \textcolor{keywordflow}{for} (c = c0; c <= c1; c++) \{}
\DoxyCodeLine{00774     \textcolor{keywordtype}{int} r = r0, i = 0, rEnd = r1;}
\DoxyCodeLine{00775     \textcolor{keywordflow}{while} (r <= rEnd) \{}
\DoxyCodeLine{00776       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r, c));}
\DoxyCodeLine{00777       \textcolor{keywordflow}{if} (!cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \{}
\DoxyCodeLine{00778         \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(r, c);}
\DoxyCodeLine{00779         setCell(r, c, cell);}
\DoxyCodeLine{00780         rEnd++;}
\DoxyCodeLine{00781         r++;}
\DoxyCodeLine{00782         \textcolor{keywordflow}{while} (cell == \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r, c)) \&\& r <= rEnd) r++;}
\DoxyCodeLine{00783       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00784         r++;}
\DoxyCodeLine{00785       i++;}
\DoxyCodeLine{00786     \}}
\DoxyCodeLine{00787     ends.append(rEnd);}
\DoxyCodeLine{00788   \}}
\DoxyCodeLine{00789   \textcolor{keywordflow}{if} (ends.isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00790   \textcolor{comment}{// controllo se devo cambiare la selezione}}
\DoxyCodeLine{00791   \textcolor{keywordtype}{bool} allIncreaseIsEqual = \textcolor{keyword}{true};}
\DoxyCodeLine{00792   \textcolor{keywordflow}{for} (c = 0; c < ends.size() -\/ 1 \&\& allIncreaseIsEqual; c++)}
\DoxyCodeLine{00793     allIncreaseIsEqual = allIncreaseIsEqual \&\& ends[c] == ends[c + 1];}
\DoxyCodeLine{00794   \textcolor{keywordflow}{if} (allIncreaseIsEqual) r1 = ends[0];}
\DoxyCodeLine{00795 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{get\+Cell()}}, \mbox{\hyperlink{l00392}{insert\+Cells()}}, and \mbox{\hyperlink{l00078}{TXsh\+Cell\+::is\+Empty()}}.

\mbox{\Hypertarget{class_t_xsheet_ac9e072dbf7ed39ec178c2afc766d0732}\label{class_t_xsheet_ac9e072dbf7ed39ec178c2afc766d0732}} 
\index{TXsheet@{TXsheet}!incrementCells@{incrementCells}}
\index{incrementCells@{incrementCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{incrementCells()}{incrementCells()}}
{\footnotesize\ttfamily bool TXsheet\+::increment\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1,  }\item[{std\+::vector$<$ std\+::pair$<$ \mbox{\hyperlink{class_t_rect_t}{TRect}}, \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} $>$ $>$ \&}]{for\+Undo }\end{DoxyParamCaption})}

If cells is increasingly numbered and belong from same level return true; otherwise return false. ~\newline
 If returns true, the cells, contained in rect delimited by first row {\bfseries{{\itshape r0},}} last row {\bfseries{{\itshape r1} and}} first column {\bfseries{{\itshape c0},}} are repeated as if filling the numbering gap between two subsequence cell. For example if the command is applied to two cell with {\bfseries{\mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}}} number equal to 2 and 5, the result will be four cells\+: a cell with {\bfseries{\mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}}} number equal to 2 repeated three times and one cell with {\bfseries{\mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}}}} number equal to 5. ~\newline
 This method inserts in {\bfseries{{\itshape for\+Undo} vector}} all the inserted cells, it is useful for the undo process. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00664                                                                         \{}
\DoxyCodeLine{00665   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = c0; j <= c1; j++) \{}
\DoxyCodeLine{00666     \textcolor{keywordtype}{int} i = r0;}
\DoxyCodeLine{00667     \textcolor{keywordflow}{while} (\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i, j)).isEmpty() \&\& i <= r1 -\/ 1) i++;}
\DoxyCodeLine{00668 }
\DoxyCodeLine{00669     \textcolor{keywordflow}{for} (; i <= r1 -\/ 1; i++) \{}
\DoxyCodeLine{00670       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i + 1, j)).isEmpty()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00671       \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} \&ce1 = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i, j)),}
\DoxyCodeLine{00672                      \&ce2 = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i + 1, j));}
\DoxyCodeLine{00673       \textcolor{keywordflow}{if} (ce2.getSimpleLevel() != ce1.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}() ||}
\DoxyCodeLine{00674           ce2.\mbox{\hyperlink{class_t_xsh_simple_level_abb72e2ab0c1baeda0a8af3146003181d}{getFrameId}}().getNumber() < ce1.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}().getNumber())}
\DoxyCodeLine{00675         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00676     \}}
\DoxyCodeLine{00677     i = r0;}
\DoxyCodeLine{00678     \textcolor{keywordflow}{while} (\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i, j)).isEmpty() \&\& i <= r1 -\/ 1) i++;}
\DoxyCodeLine{00679     \textcolor{keywordtype}{int} count;}
\DoxyCodeLine{00680     \textcolor{keywordflow}{for} (; i <= r1 -\/ 1; i++) \{}
\DoxyCodeLine{00681       count = 1;}
\DoxyCodeLine{00682       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i + 1, j)).isEmpty()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00683 }
\DoxyCodeLine{00684       \textcolor{keywordtype}{int} frame1 = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i, j)).\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}().getNumber();}
\DoxyCodeLine{00685       \textcolor{keywordflow}{if} (frame1 == -\/1) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00686       \textcolor{keywordflow}{while} (!\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i + 1, j)).isEmpty() \&\&}
\DoxyCodeLine{00687              \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i + 1, j)).getFrameId().getNumber() ==}
\DoxyCodeLine{00688                  \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i, j)).getFrameId().getNumber())}
\DoxyCodeLine{00689         i++, count++;}
\DoxyCodeLine{00690 }
\DoxyCodeLine{00691       \textcolor{keywordtype}{int} frame2 = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i + 1, j)).\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}().getNumber();}
\DoxyCodeLine{00692       \textcolor{keywordflow}{if} (frame2 == -\/1) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00693 }
\DoxyCodeLine{00694       \textcolor{keywordflow}{if} (frame1 + count == frame2)}
\DoxyCodeLine{00695         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00696       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (frame1 + count < frame2)  \textcolor{comment}{// add}}
\DoxyCodeLine{00697       \{}
\DoxyCodeLine{00698         \textcolor{keywordtype}{int} numCells = frame2 -\/ frame1 -\/ count;}
\DoxyCodeLine{00699         \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(i + 1, j, numCells);}
\DoxyCodeLine{00700         forUndo.push\_back(std::pair<TRect, TXshCell>(}
\DoxyCodeLine{00701             \mbox{\hyperlink{class_t_rect_t}{TRect}}(i + 1, j, i + 1 + numCells -\/ 1, j), \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}()));}
\DoxyCodeLine{00702         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 1; k <= numCells; k++)}
\DoxyCodeLine{00703           setCell(i + k, j, \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i, j)));}
\DoxyCodeLine{00704         i += numCells;}
\DoxyCodeLine{00705         r1 += numCells;}
\DoxyCodeLine{00706       \} \textcolor{keywordflow}{else}  \textcolor{comment}{// remove}}
\DoxyCodeLine{00707       \{}
\DoxyCodeLine{00708         \textcolor{keywordtype}{int} numCells = count -\/ frame2 + frame1;}
\DoxyCodeLine{00709         i            = i -\/ numCells;}
\DoxyCodeLine{00710         forUndo.push\_back(}
\DoxyCodeLine{00711             std::pair<TRect, TXshCell>(\mbox{\hyperlink{class_t_rect_t}{TRect}}(i + 1, j, i + 1 + numCells -\/ 1, j),}
\DoxyCodeLine{00712                                        \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i + 1, j))));}
\DoxyCodeLine{00713         \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{removeCells}}(i + 1, j, numCells);}
\DoxyCodeLine{00714         r1 -\/= numCells;}
\DoxyCodeLine{00715       \}}
\DoxyCodeLine{00716     \}}
\DoxyCodeLine{00717   \}}
\DoxyCodeLine{00718   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00719 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{get\+Cell()}}, \mbox{\hyperlink{l00120}{TXsh\+Cell\+::get\+Frame\+Id()}}, \mbox{\hyperlink{l00460}{TXsh\+Simple\+Level\+::get\+Frame\+Id()}}, \mbox{\hyperlink{l00019}{TXsh\+Cell\+::get\+Simple\+Level()}}, \mbox{\hyperlink{l00392}{insert\+Cells()}}, and \mbox{\hyperlink{l00405}{remove\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}\label{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}} 
\index{TXsheet@{TXsheet}!insertCells@{insertCells}}
\index{insertCells@{insertCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{insertCells()}{insertCells()}}
{\footnotesize\ttfamily void TXsheet\+::insert\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{int}]{row\+Count = {\ttfamily 1} }\end{DoxyParamCaption})}

If column identified by index {\bfseries{{\itshape col} is}} not empty, is a {\bfseries{{\itshape \mbox{\hyperlink{class_t_xsh_cell_column}{TXsh\+Cell\+Column}}} and}} is not locked this method inserts in row identified by index {\bfseries{{\itshape row} {\bfseries{{\itshape row\+Count} empty}} cells}}, it calls \mbox{\hyperlink{class_t_xsh_cell_column_ac256660fc32543ab27d3e56149ca328d}{TXsh\+Cell\+Column\+::insert\+Empty\+Cells()}}. An update of xsheet\textquotesingle{}s frame count is performed. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_af252e427c43789deaef482e2bd913274}{set\+Cells()}}, \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{remove\+Cells()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00392                                                         \{}
\DoxyCodeLine{00393   \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} column = m\_imp-\/>m\_columnSet.getColumn(col);}
\DoxyCodeLine{00394   \textcolor{keywordflow}{if} (!column || column-\/>isLocked()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00395   \mbox{\hyperlink{class_t_xsh_cell_column}{TXshCellColumn}} *xshColumn = column-\/>getCellColumn();}
\DoxyCodeLine{00396   \textcolor{keywordflow}{if} (!xshColumn) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00397   xshColumn-\/>insertEmptyCells(row, rowCount);}
\DoxyCodeLine{00398   \textcolor{comment}{// aggiorno il frame count}}
\DoxyCodeLine{00399   \textcolor{keywordtype}{int} fc = xshColumn-\/>getMaxFrame() + 1;}
\DoxyCodeLine{00400   \textcolor{keywordflow}{if} (fc > m\_imp-\/>m\_frameCount) m\_imp-\/>m\_frameCount = fc;}
\DoxyCodeLine{00401 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00090}{Child\+Stack\+::close\+Child()}}, \mbox{\hyperlink{l00723}{duplicate\+Cells()}}, \mbox{\hyperlink{l01154}{expose\+Level()}}, \mbox{\hyperlink{l00064}{TCell\+Data\+::get\+Cells()}}, \mbox{\hyperlink{l00770}{increase\+Step\+Cells()}}, \mbox{\hyperlink{l00663}{increment\+Cells()}}, \mbox{\hyperlink{l00870}{reframe\+Cells()}}, \mbox{\hyperlink{l00936}{reset\+Step\+Cells()}}, \mbox{\hyperlink{l00985}{rolldown\+Cells()}}, \mbox{\hyperlink{l00962}{rollup\+Cells()}}, \mbox{\hyperlink{l00736}{step\+Cells()}}, \mbox{\hyperlink{l00647}{swing\+Cells()}}, and \mbox{\hyperlink{l01007}{time\+Stretch()}}.

\mbox{\Hypertarget{class_t_xsheet_ae99d1e1370806213b843d43473e0c585}\label{class_t_xsheet_ae99d1e1370806213b843d43473e0c585}} 
\index{TXsheet@{TXsheet}!insertColumn@{insertColumn}}
\index{insertColumn@{insertColumn}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{insertColumn()}{insertColumn()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void TXsheet\+::insert\+Column (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{\mbox{\hyperlink{class_t_xsh_column}{TXsh\+Column}} $\ast$}]{column }\end{DoxyParamCaption})}

Insert {\bfseries{{\itshape column} in}} column {\bfseries{{\itshape index}.}} Insert column in the column set, in the pegbar\+Tree {\bfseries{\mbox{\hyperlink{class_t_stage_object_tree}{TStage\+Object\+Tree}}}} contained in \mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}} and if column fx {\bfseries{\mbox{\hyperlink{class_t_fx}{TFx}}}} is not empty in fx dag, calling Fx\+Dag\+::add\+To\+Xsheet(). \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}{remove\+Column()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01330                                                       \{}
\DoxyCodeLine{01331   \textcolor{keywordflow}{if} (col < 0) col = 0;}
\DoxyCodeLine{01332   column-\/>setXsheet(\textcolor{keyword}{this});}
\DoxyCodeLine{01333   m\_imp-\/>m\_columnSet.insertColumn(col, column);}
\DoxyCodeLine{01334   m\_imp-\/>m\_pegTree-\/>insertColumn(col);}
\DoxyCodeLine{01335   \textcolor{keywordflow}{if} (column-\/>getPaletteColumn() ==}
\DoxyCodeLine{01336       0)  \textcolor{comment}{// palette column are not connected to the xsheet fx node}}
\DoxyCodeLine{01337   \{}
\DoxyCodeLine{01338     \mbox{\hyperlink{class_t_fx}{TFx}} *fx = column-\/>getFx();}
\DoxyCodeLine{01339     \textcolor{keywordflow}{if} (fx) \mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}()-\/>addToXsheet(fx);}
\DoxyCodeLine{01340   \}}
\DoxyCodeLine{01341 }
\DoxyCodeLine{01342   \textcolor{keywordflow}{for} (\mbox{\hyperlink{class_column_fan}{ColumnFan}} \&columnFan : m\_imp-\/>m\_columnFans) \{}
\DoxyCodeLine{01343     columnFan.rollRightFoldedState(col,}
\DoxyCodeLine{01344                                    m\_imp-\/>m\_columnSet.getColumnCount() -\/ col);}
\DoxyCodeLine{01345   \}}
\DoxyCodeLine{01346 }
\DoxyCodeLine{01347   notify(\mbox{\hyperlink{class_t_xsheet_column_change}{TXsheetColumnChange}}(TXsheetColumnChange::Insert, col));}
\DoxyCodeLine{01348 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01564}{get\+Fx\+Dag()}}.

\mbox{\Hypertarget{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}\label{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}} 
\index{TXsheet@{TXsheet}!insertColumn@{insertColumn}}
\index{insertColumn@{insertColumn}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{insertColumn()}{insertColumn()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void TXsheet\+::insert\+Column (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{TXsh\+Column\+::\+Column\+Type}]{type = {\ttfamily TXshColumn\+:\+:eLevelType} }\end{DoxyParamCaption})}

Inserts an empty column in {\bfseries{{\itshape index} calling}} {\bfseries{\mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insert\+Column()}}}}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01324                                                              \{}
\DoxyCodeLine{01325   \mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insertColumn}}(col, \mbox{\hyperlink{class_t_xsh_column_aee2af1e0385299fbf26869f2f633a1d7}{TXshColumn::createEmpty}}(type));}
\DoxyCodeLine{01326 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00502}{TXsh\+Column\+::create\+Empty()}}, and \mbox{\hyperlink{l01324}{insert\+Column()}}.



Referenced by \mbox{\hyperlink{l00914}{Vectorizer\+Popup\+::apply()}}, \mbox{\hyperlink{l02646}{Io\+Cmd\+::expose\+Comment()}}, \mbox{\hyperlink{l01324}{insert\+Column()}}, \mbox{\hyperlink{l00327}{TColumn\+Data\+Element\+::restore\+Column()}}, and \mbox{\hyperlink{l00327}{set\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_a40ec545df342e4a223869cf0ed42acd2}\label{class_t_xsheet_a40ec545df342e4a223869cf0ed42acd2}} 
\index{TXsheet@{TXsheet}!invalidateSound@{invalidateSound}}
\index{invalidateSound@{invalidateSound}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{invalidateSound()}{invalidateSound()}}
{\footnotesize\ttfamily void TXsheet\+::invalidate\+Sound (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01611 \{ m\_imp-\/>m\_mixedSound = \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}}(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_aa427f8968caced615f1312588ca66e10}\label{class_t_xsheet_aa427f8968caced615f1312588ca66e10}} 
\index{TXsheet@{TXsheet}!isCameraColumnLocked@{isCameraColumnLocked}}
\index{isCameraColumnLocked@{isCameraColumnLocked}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{isCameraColumnLocked()}{isCameraColumnLocked()}}
{\footnotesize\ttfamily bool TXsheet\+::is\+Camera\+Column\+Locked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00573 \{ \textcolor{keywordflow}{return} m\_cameraColumn-\/>\mbox{\hyperlink{class_t_xsh_column_a04953896aae8860ace46010956a28db9}{isLocked}}(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}\label{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}} 
\index{TXsheet@{TXsheet}!isColumnEmpty@{isColumnEmpty}}
\index{isColumnEmpty@{isColumnEmpty}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{isColumnEmpty()}{isColumnEmpty()}}
{\footnotesize\ttfamily bool TXsheet\+::is\+Column\+Empty (\begin{DoxyParamCaption}\item[{int}]{col }\end{DoxyParamCaption}) const}

Returns true if xsheet column identified by {\bfseries{{\itshape col} is}} empty, it calls {\bfseries{TXsh\+Column\+::is\+Empty()}}, otherwise returns false. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00482                                          \{}
\DoxyCodeLine{00483   \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} column = m\_imp-\/>m\_columnSet.getColumn(col);}
\DoxyCodeLine{00484   \textcolor{keywordflow}{return} column ? column-\/>isEmpty() : \textcolor{keyword}{true};}
\DoxyCodeLine{00485 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01431}{get\+First\+Free\+Column\+Index()}}, \mbox{\hyperlink{l00327}{set\+Cells()}}, \mbox{\hyperlink{l00919}{Arrow\+Tool\+Options\+Box\+::update\+Stage\+Object\+Combo\+Items()}}, and \mbox{\hyperlink{l00092}{Toolbar\+::update\+Toolbar()}}.

\mbox{\Hypertarget{class_t_xsheet_a2fbaf0d4ff704a20a333f605609c64a1}\label{class_t_xsheet_a2fbaf0d4ff704a20a333f605609c64a1}} 
\index{TXsheet@{TXsheet}!isLevelUsed@{isLevelUsed}}
\index{isLevelUsed@{isLevelUsed}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{isLevelUsed()}{isLevelUsed()}}
{\footnotesize\ttfamily bool TXsheet\+::is\+Level\+Used (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$}]{level }\end{DoxyParamCaption}) const}

Returns true if {\bfseries{{\itshape level} is}} used in current xsheet or in sub-\/xsheet, otherwise returns false. It verifies if {\bfseries{{\itshape level} is}} contained in level set {\bfseries{\mbox{\hyperlink{class_t_xsheet_aa0e609bf07ee363201a184c3c7220348}{get\+Used\+Levels()}}}}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00534                                                 \{}
\DoxyCodeLine{00535   set<TXshLevel *> levels;}
\DoxyCodeLine{00536   \mbox{\hyperlink{class_t_xsheet_aa0e609bf07ee363201a184c3c7220348}{getUsedLevels}}(levels);}
\DoxyCodeLine{00537   \textcolor{keywordflow}{return} levels.count(level) > 0;}
\DoxyCodeLine{00538 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00489}{get\+Used\+Levels()}}.



Referenced by \mbox{\hyperlink{l01610}{Filmstrip\+::update\+Choose\+Level\+Combo\+Items()}}.

\mbox{\Hypertarget{class_t_xsheet_a5f295ab0d739ace0e7755748a5dcea69}\label{class_t_xsheet_a5f295ab0d739ace0e7755748a5dcea69}} 
\index{TXsheet@{TXsheet}!isRectEmpty@{isRectEmpty}}
\index{isRectEmpty@{isRectEmpty}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{isRectEmpty()}{isRectEmpty()}}
{\footnotesize\ttfamily bool TXsheet\+::is\+Rect\+Empty (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&}]{pos0,  }\item[{const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&}]{pos1 }\end{DoxyParamCaption}) const}

Returns true if all cells in rect delimited by first frame {\bfseries{{\itshape pos0.\+frame},}} last frame {\bfseries{{\itshape pos1.\+frame} and}} first layer {\bfseries{{\itshape pos0.\+layer},}} last layer {\bfseries{{\itshape pos1.\+layer} are}} empty; otherwise, false. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01703                                                           \{}
\DoxyCodeLine{01704   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} frame = pos0.frame(); frame <= pos1.frame(); frame++)}
\DoxyCodeLine{01705     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} layer = pos0.layer(); layer <= pos1.layer(); layer++)}
\DoxyCodeLine{01706       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(frame, layer)).isEmpty()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01707   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01708 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{get\+Cell()}}.

\mbox{\Hypertarget{class_t_xsheet_a1a5bfb2eb73129b96afbd88907e48867}\label{class_t_xsheet_a1a5bfb2eb73129b96afbd88907e48867}} 
\index{TXsheet@{TXsheet}!isReferenceManagementIgnored@{isReferenceManagementIgnored}}
\index{isReferenceManagementIgnored@{isReferenceManagementIgnored}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{isReferenceManagementIgnored()}{isReferenceManagementIgnored()}}
{\footnotesize\ttfamily bool TXsheet\+::is\+Reference\+Management\+Ignored (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$}]{param }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01835                                                               \{}
\DoxyCodeLine{01836   \textcolor{keywordflow}{if} (m\_observer) \textcolor{keywordflow}{return} m\_observer-\/>isIgnored(param);}
\DoxyCodeLine{01837   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01838 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a3235a1e0e76da11b52f9853b6bff6c57}\label{class_t_xsheet_a3235a1e0e76da11b52f9853b6bff6c57}} 
\index{TXsheet@{TXsheet}!loadData@{loadData}}
\index{loadData@{loadData}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{loadData()}{loadData()}}
{\footnotesize\ttfamily void TXsheet\+::load\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&}]{is }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Clears xsheet calling {\bfseries{\mbox{\hyperlink{class_t_xsheet_a5c453d16606875c8f1d5fc718df2a71d}{clear\+All()}}}} and sets all xsheet elements, contained in {\bfseries{\mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}}}, to information contained in {\bfseries{\mbox{\hyperlink{class_t_i_stream}{TIStream}}}} {\bfseries{{\itshape is}.}} \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_ad4c70081d889ebc226d50249a0d7cef9}{save\+Data()}} 
\end{DoxySeeAlso}


Implements \mbox{\hyperlink{class_t_persist_a9e9d78431e843edb9299095af867a136}{TPersist}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01178                                    \{}
\DoxyCodeLine{01179   \mbox{\hyperlink{class_t_xsheet_a5c453d16606875c8f1d5fc718df2a71d}{clearAll}}();}
\DoxyCodeLine{01180   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} cameraId   = TStageObjectId::CameraId(0);}
\DoxyCodeLine{01181   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *firstCamera = \mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(cameraId);}
\DoxyCodeLine{01182   m\_imp-\/>m\_pegTree-\/>removeStageObject(cameraId);}
\DoxyCodeLine{01183 }
\DoxyCodeLine{01184   \textcolor{keywordtype}{int} col = 0;}
\DoxyCodeLine{01185   \textcolor{keywordtype}{string} tagName;}
\DoxyCodeLine{01186   \textcolor{keywordflow}{while} (is.\mbox{\hyperlink{class_t_i_stream_a735640240402316f00c595134bfe6b4b}{openChild}}(tagName)) \{}
\DoxyCodeLine{01187     \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}columns"{}}) \{}
\DoxyCodeLine{01188       \textcolor{keywordflow}{while} (!is.\mbox{\hyperlink{class_t_i_stream_af8ad0a31e14e94179bd5688f13340528}{eos}}()) \{}
\DoxyCodeLine{01189         \mbox{\hyperlink{class_t_persist}{TPersist}} *p = 0;}
\DoxyCodeLine{01190         is >> p;}
\DoxyCodeLine{01191         \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *\textcolor{keyword}{>}(p);}
\DoxyCodeLine{01192         \textcolor{keywordflow}{if} (!column) \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}expected xsheet column"{}});}
\DoxyCodeLine{01193         m\_imp-\/>m\_columnSet.insertColumn(col++, column);}
\DoxyCodeLine{01194         column-\/>setXsheet(\textcolor{keyword}{this});}
\DoxyCodeLine{01195         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *zc =}
\DoxyCodeLine{01196                 \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *\textcolor{keyword}{>}(column)) \{}
\DoxyCodeLine{01197           \mbox{\hyperlink{class_t_fx}{TFx}} *fx         = zc-\/>getZeraryColumnFx()-\/>getZeraryFx();}
\DoxyCodeLine{01198           \textcolor{keywordtype}{int} fxTypeCount = m\_imp-\/>m\_fxDag-\/>getFxTypeCount(fx);}
\DoxyCodeLine{01199           \textcolor{keywordtype}{int} maxFxTypeId = std::max(fxTypeCount, fx-\/>getAttributes()-\/>getId());}
\DoxyCodeLine{01200           m\_imp-\/>m\_fxDag-\/>updateFxTypeTable(fx, maxFxTypeId);}
\DoxyCodeLine{01201           m\_imp-\/>m\_fxDag-\/>updateFxIdTable(fx);}
\DoxyCodeLine{01202           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < fx-\/>getParams()-\/>getParamCount(); j++) \{}
\DoxyCodeLine{01203             \mbox{\hyperlink{class_t_param}{TParam}} *param = fx-\/>getParams()-\/>getParam(j);}
\DoxyCodeLine{01204             \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *dp = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *\textcolor{keyword}{>}(param))}
\DoxyCodeLine{01205               \mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>setGrammar(dp);}
\DoxyCodeLine{01206             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_point_param}{TPointParam}} *\textcolor{keyword}{>}(param) ||}
\DoxyCodeLine{01207                      \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_range_param}{TRangeParam}} *\textcolor{keyword}{>}(param) ||}
\DoxyCodeLine{01208                      \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_pixel_param}{TPixelParam}} *\textcolor{keyword}{>}(param)) \{}
\DoxyCodeLine{01209               \mbox{\hyperlink{class_t_param_set}{TParamSet}} *paramSet = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_param_set}{TParamSet}} *\textcolor{keyword}{>}(param);}
\DoxyCodeLine{01210               assert(paramSet);}
\DoxyCodeLine{01211               \textcolor{keywordtype}{int} f;}
\DoxyCodeLine{01212               \textcolor{keywordflow}{for} (f = 0; f < paramSet-\/>getParamCount(); f++) \{}
\DoxyCodeLine{01213                 \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *dp = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *\textcolor{keyword}{>}(}
\DoxyCodeLine{01214                     paramSet-\/>getParam(f).getPointer());}
\DoxyCodeLine{01215                 \textcolor{keywordflow}{if} (!dp) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01216                 \mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>setGrammar(dp);}
\DoxyCodeLine{01217               \}}
\DoxyCodeLine{01218             \}}
\DoxyCodeLine{01219           \}}
\DoxyCodeLine{01220         \}}
\DoxyCodeLine{01221       \}}
\DoxyCodeLine{01222     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}cameraColumn"{}}) \{}
\DoxyCodeLine{01223       \textcolor{keywordflow}{while} (is.\mbox{\hyperlink{class_t_i_stream_a735640240402316f00c595134bfe6b4b}{openChild}}(tagName)) \{}
\DoxyCodeLine{01224         \textcolor{keywordflow}{if} (!m\_cameraColumn-\/>getCellColumn()-\/>loadCellMarks(tagName, is))}
\DoxyCodeLine{01225           \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}Camera Column, unknown tag: "{}} + tagName);}
\DoxyCodeLine{01226         is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{01227       \}}
\DoxyCodeLine{01228     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}pegbars"{}}) \{}
\DoxyCodeLine{01229       \mbox{\hyperlink{class_t_persist}{TPersist}} *p = m\_imp-\/>m\_pegTree;}
\DoxyCodeLine{01230       m\_imp-\/>m\_pegTree-\/>loadData(is, \textcolor{keyword}{this});}
\DoxyCodeLine{01231     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}fxnodes"{}}) \{}
\DoxyCodeLine{01232       m\_imp-\/>m\_fxDag-\/>loadData(is);}
\DoxyCodeLine{01233       std::vector<TFx *> fxs;}
\DoxyCodeLine{01234       m\_imp-\/>m\_fxDag-\/>getFxs(fxs);}
\DoxyCodeLine{01235       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)fxs.size(); i++) \{}
\DoxyCodeLine{01236         \mbox{\hyperlink{class_t_fx}{TFx}} *fx = fxs[i];}
\DoxyCodeLine{01237         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < fx-\/>getParams()-\/>getParamCount(); j++) \{}
\DoxyCodeLine{01238           \mbox{\hyperlink{class_t_param}{TParam}} *param = fx-\/>getParams()-\/>getParam(j);}
\DoxyCodeLine{01239           \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *dp = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *\textcolor{keyword}{>}(param))}
\DoxyCodeLine{01240             \mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>setGrammar(dp);}
\DoxyCodeLine{01241           \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_point_param}{TPointParam}} *\textcolor{keyword}{>}(param) ||}
\DoxyCodeLine{01242                    \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_range_param}{TRangeParam}} *\textcolor{keyword}{>}(param) ||}
\DoxyCodeLine{01243                    \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_pixel_param}{TPixelParam}} *\textcolor{keyword}{>}(param)) \{}
\DoxyCodeLine{01244             \mbox{\hyperlink{class_t_param_set}{TParamSet}} *paramSet = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_param_set}{TParamSet}} *\textcolor{keyword}{>}(param);}
\DoxyCodeLine{01245             assert(paramSet);}
\DoxyCodeLine{01246             \textcolor{keywordtype}{int} f;}
\DoxyCodeLine{01247             \textcolor{keywordflow}{for} (f = 0; f < paramSet-\/>getParamCount(); f++) \{}
\DoxyCodeLine{01248               \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *dp = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *\textcolor{keyword}{>}(}
\DoxyCodeLine{01249                   paramSet-\/>getParam(f).getPointer());}
\DoxyCodeLine{01250               \textcolor{keywordflow}{if} (!dp) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01251               \mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>setGrammar(dp);}
\DoxyCodeLine{01252             \}}
\DoxyCodeLine{01253           \}}
\DoxyCodeLine{01254         \}}
\DoxyCodeLine{01255       \}}
\DoxyCodeLine{01256 }
\DoxyCodeLine{01257       \textcolor{keywordflow}{if} (is.\mbox{\hyperlink{class_t_i_stream_a84110f30d5adcc50d6000e9c99cd4708}{matchEndTag}}()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01258 }
\DoxyCodeLine{01259       \textcolor{comment}{// was ist dass?}}
\DoxyCodeLine{01260       \mbox{\hyperlink{class_t_fx_set}{TFxSet}} fxSet;}
\DoxyCodeLine{01261       fxSet.loadData(is);}
\DoxyCodeLine{01262     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}columnFan"{}}) \{}
\DoxyCodeLine{01263       m\_imp-\/>m\_columnFans[0].loadData(is);}
\DoxyCodeLine{01264       m\_imp-\/>copyFoldedState();}
\DoxyCodeLine{01265     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}noteSet"{}}) \{}
\DoxyCodeLine{01266       m\_notes-\/>loadData(is);}
\DoxyCodeLine{01267     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01268       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}xsheet, unknown tag: "{}} + tagName);}
\DoxyCodeLine{01269     \}}
\DoxyCodeLine{01270     is.\mbox{\hyperlink{class_t_i_stream_a57d85a02799eb0e904c8b22788dc671b}{closeChild}}();}
\DoxyCodeLine{01271   \}}
\DoxyCodeLine{01272   \mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{01273 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00439}{clear\+All()}}, \mbox{\hyperlink{l01242}{TIStream\+::close\+Child()}}, \mbox{\hyperlink{l01169}{TIStream\+::eos()}}, \mbox{\hyperlink{l00542}{get\+Stage\+Object()}}, \mbox{\hyperlink{l00549}{get\+Stage\+Object\+Tree()}}, \mbox{\hyperlink{l01156}{TIStream\+::match\+End\+Tag()}}, \mbox{\hyperlink{l01231}{TIStream\+::open\+Child()}}, and \mbox{\hyperlink{l01166}{update\+Frame\+Count()}}.

\mbox{\Hypertarget{class_t_xsheet_a1694ef771e75ddca086d649822ad3c44}\label{class_t_xsheet_a1694ef771e75ddca086d649822ad3c44}} 
\index{TXsheet@{TXsheet}!makeSound@{makeSound}}
\index{makeSound@{makeSound}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{makeSound()}{makeSound()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_sound_track}{TSound\+Track}} $\ast$ TXsheet\+::make\+Sound (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet_1_1_sound_properties}{Sound\+Properties}} $\ast$}]{properties }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01484                                                            \{}
\DoxyCodeLine{01485   std::vector<TXshSoundColumn *> sounds;}
\DoxyCodeLine{01486   searchAudioColumn(\textcolor{keyword}{this}, sounds, properties-\/>m\_isPreview);}
\DoxyCodeLine{01487   \textcolor{keywordflow}{if} (!m\_imp-\/>m\_mixedSound || *properties != *m\_soundProperties) \{}
\DoxyCodeLine{01488     \textcolor{keywordflow}{if} (!sounds.empty() \&\& properties-\/>m\_fromFrame <= properties-\/>m\_toFrame)}
\DoxyCodeLine{01489       m\_imp-\/>m\_mixedSound = sounds[0]-\/>mixingTogether(}
\DoxyCodeLine{01490           sounds, properties-\/>m\_fromFrame, properties-\/>m\_toFrame,}
\DoxyCodeLine{01491           properties-\/>m\_frameRate);}
\DoxyCodeLine{01492     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01493       m\_imp-\/>m\_mixedSound = 0;}
\DoxyCodeLine{01494     \textcolor{keyword}{delete} m\_soundProperties;}
\DoxyCodeLine{01495     m\_soundProperties = properties;}
\DoxyCodeLine{01496   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01497     \textcolor{keyword}{delete} properties;}
\DoxyCodeLine{01498   \textcolor{keywordflow}{return} m\_imp-\/>m\_mixedSound.getPointer();}
\DoxyCodeLine{01499 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_ae4747e9158bae147c7964f049e51d541}\label{class_t_xsheet_ae4747e9158bae147c7964f049e51d541}} 
\index{TXsheet@{TXsheet}!moveColumn@{moveColumn}}
\index{moveColumn@{moveColumn}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{moveColumn()}{moveColumn()}}
{\footnotesize\ttfamily void TXsheet\+::move\+Column (\begin{DoxyParamCaption}\item[{int}]{src\+Index,  }\item[{int}]{dst\+Index }\end{DoxyParamCaption})}

Moves column from xsheet column index {\bfseries{{\itshape src\+Index} to}} {\bfseries{{\itshape dst\+Index},}} columns between {\bfseries{{\itshape src\+Index+1} and}} {\bfseries{{\itshape dst\+Index} }}(included) are shifted of -\/1. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insert\+Column()}} and \mbox{\hyperlink{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}{remove\+Column()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01377                                                    \{}
\DoxyCodeLine{01378   \textcolor{keywordflow}{if} (srcIndex == dstIndex) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01379   assert(srcIndex >= 0);}
\DoxyCodeLine{01380   assert(dstIndex >= 0);}
\DoxyCodeLine{01381   \textcolor{keywordtype}{int} col = std::max(srcIndex, dstIndex);}
\DoxyCodeLine{01382   \textcolor{keywordflow}{if} (col >= m\_imp-\/>m\_columnSet.getColumnCount()) \{}
\DoxyCodeLine{01383     \textcolor{keywordtype}{int} n = m\_imp-\/>m\_columnSet.getColumnCount();}
\DoxyCodeLine{01384     touchColumn(col, TXshColumn::eLevelType);}
\DoxyCodeLine{01385     \textcolor{keywordflow}{while} (n <= col) \{}
\DoxyCodeLine{01386       \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = \mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(n);}
\DoxyCodeLine{01387       assert(column);}
\DoxyCodeLine{01388       column-\/>setXsheet(\textcolor{keyword}{this});}
\DoxyCodeLine{01389       n++;}
\DoxyCodeLine{01390     \}}
\DoxyCodeLine{01391   \}}
\DoxyCodeLine{01392   assert(m\_imp-\/>m\_columnSet.getColumnCount() > srcIndex);}
\DoxyCodeLine{01393   assert(m\_imp-\/>m\_columnSet.getColumnCount() > dstIndex);}
\DoxyCodeLine{01394 }
\DoxyCodeLine{01395   \textcolor{keywordflow}{if} (srcIndex < dstIndex) \{}
\DoxyCodeLine{01396     \textcolor{keywordtype}{int} c0 = srcIndex;}
\DoxyCodeLine{01397     \textcolor{keywordtype}{int} c1 = dstIndex;}
\DoxyCodeLine{01398     assert(c0 < c1);}
\DoxyCodeLine{01399     m\_imp-\/>m\_columnSet.rollLeft(c0, c1 -\/ c0 + 1);}
\DoxyCodeLine{01400     \textcolor{keywordflow}{for} (\mbox{\hyperlink{class_column_fan}{ColumnFan}} \&columnFan : m\_imp-\/>m\_columnFans)}
\DoxyCodeLine{01401       columnFan.rollLeftFoldedState(c0, c1 -\/ c0 + 1);}
\DoxyCodeLine{01402     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = c0; c < c1; ++c) m\_imp-\/>m\_pegTree-\/>swapColumns(c, c + 1);}
\DoxyCodeLine{01403   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01404     \textcolor{keywordtype}{int} c0 = dstIndex;}
\DoxyCodeLine{01405     \textcolor{keywordtype}{int} c1 = srcIndex;}
\DoxyCodeLine{01406     assert(c0 < c1);}
\DoxyCodeLine{01407     m\_imp-\/>m\_columnSet.rollRight(c0, c1 -\/ c0 + 1);}
\DoxyCodeLine{01408     \textcolor{keywordflow}{for} (\mbox{\hyperlink{class_column_fan}{ColumnFan}} \&columnFan : m\_imp-\/>m\_columnFans)}
\DoxyCodeLine{01409       columnFan.rollRightFoldedState(c0, c1 -\/ c0 + 1);}
\DoxyCodeLine{01410     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = c1 -\/ 1; c >= c0; -\/-\/c) m\_imp-\/>m\_pegTree-\/>swapColumns(c, c + 1);}
\DoxyCodeLine{01411   \}}
\DoxyCodeLine{01412 }
\DoxyCodeLine{01413   notify(\mbox{\hyperlink{class_t_xsheet_column_change}{TXsheetColumnChange}}(TXsheetColumnChange::Move, srcIndex, dstIndex));}
\DoxyCodeLine{01414 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01418}{get\+Column()}}.

\mbox{\Hypertarget{class_t_xsheet_a07910b5c882b9a548eb437c439373bb8}\label{class_t_xsheet_a07910b5c882b9a548eb437c439373bb8}} 
\index{TXsheet@{TXsheet}!notify@{notify}}
\index{notify@{notify}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{notify()}{notify()}}
{\footnotesize\ttfamily void TXsheet\+::notify (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_xsheet_column_change}{TXsheet\+Column\+Change}} \&}]{change }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01826                                                       \{}
\DoxyCodeLine{01827   \textcolor{keywordflow}{if} (m\_observer) m\_observer-\/>onChange(change);}
\DoxyCodeLine{01828 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_ad62637630176d6c29d1194d5fab8577f}\label{class_t_xsheet_ad62637630176d6c29d1194d5fab8577f}} 
\index{TXsheet@{TXsheet}!notifyFxAdded@{notifyFxAdded}}
\index{notifyFxAdded@{notifyFxAdded}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{notifyFxAdded()}{notifyFxAdded()}}
{\footnotesize\ttfamily void TXsheet\+::notify\+Fx\+Added (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ $>$ \&}]{fxs }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01829                                                        \{}
\DoxyCodeLine{01830   \textcolor{keywordflow}{if} (m\_observer) m\_observer-\/>onFxAdded(fxs);}
\DoxyCodeLine{01831 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_ab653b873fc78e32cc8335dcaac0f7ad3}\label{class_t_xsheet_ab653b873fc78e32cc8335dcaac0f7ad3}} 
\index{TXsheet@{TXsheet}!notifyStageObjectAdded@{notifyStageObjectAdded}}
\index{notifyStageObjectAdded@{notifyStageObjectAdded}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{notifyStageObjectAdded()}{notifyStageObjectAdded()}}
{\footnotesize\ttfamily void TXsheet\+::notify\+Stage\+Object\+Added (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}}]{id }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01832                                                             \{}
\DoxyCodeLine{01833   \textcolor{keywordflow}{if} (m\_observer) m\_observer-\/>onStageObjectAdded(\textcolor{keywordtype}{id});}
\DoxyCodeLine{01834 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a5849153764af3d7ca48a837ddb949ecc}\label{class_t_xsheet_a5849153764af3d7ca48a837ddb949ecc}} 
\index{TXsheet@{TXsheet}!play@{play}}
\index{play@{play}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{play()}{play()}}
{\footnotesize\ttfamily void TXsheet\+::play (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}}}]{soundtrack,  }\item[{int}]{s0,  }\item[{int}]{s1,  }\item[{bool}]{loop }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01549                                                                      \{}
\DoxyCodeLine{01550   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_sound_output_device_ae1fae3438b95a99b9ec5c208d3101498}{TSoundOutputDevice::installed}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01551 }
\DoxyCodeLine{01552   \textcolor{keywordflow}{if} (!m\_player) m\_player = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_sound_output_device}{TSoundOutputDevice}}();}
\DoxyCodeLine{01553 }
\DoxyCodeLine{01554   \textcolor{keywordflow}{if} (m\_player) \{}
\DoxyCodeLine{01555     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01556       m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a00c8269bf8377f52876b9ee32bc75276}{play}}(soundtrack, s0, s1, loop);}
\DoxyCodeLine{01557     \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&) \{}
\DoxyCodeLine{01558     \}}
\DoxyCodeLine{01559   \}}
\DoxyCodeLine{01560 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_afc32335f3b385c6ca339c7f18c7c33ab}\label{class_t_xsheet_afc32335f3b385c6ca339c7f18c7c33ab}} 
\index{TXsheet@{TXsheet}!reframeCells@{reframeCells}}
\index{reframeCells@{reframeCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{reframeCells()}{reframeCells()}}
{\footnotesize\ttfamily int TXsheet\+::reframe\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{r1,  }\item[{int}]{col,  }\item[{int}]{type,  }\item[{int}]{with\+Blank = {\ttfamily -\/1} }\end{DoxyParamCaption})}

force cells order in n-\/steps. returns the row amount after process 
\begin{DoxyCode}{0}
\DoxyCodeLine{00870                                                                           \{}
\DoxyCodeLine{00871   \textcolor{comment}{// Row amount in the selection}}
\DoxyCodeLine{00872   \textcolor{keywordtype}{int} nr = r1 -\/ r0 + 1;}
\DoxyCodeLine{00873 }
\DoxyCodeLine{00874   \textcolor{keywordflow}{if} (nr < 1) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00875 }
\DoxyCodeLine{00876   QVector<TXshCell> cells;}
\DoxyCodeLine{00877 }
\DoxyCodeLine{00878   cells.clear();}
\DoxyCodeLine{00879 }
\DoxyCodeLine{00880   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r = r0; r <= r1; r++) \{}
\DoxyCodeLine{00881     \textcolor{keywordflow}{if} (cells.size() == 0 || cells.last() != \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r, col)))}
\DoxyCodeLine{00882       cells.push\_back(\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r, col)));}
\DoxyCodeLine{00883   \}}
\DoxyCodeLine{00884 }
\DoxyCodeLine{00885   \textcolor{comment}{// if withBlank is greater than -\/1, remove empty cells from cell order}}
\DoxyCodeLine{00886   \textcolor{keywordflow}{if} (withBlank >= 0) \{}
\DoxyCodeLine{00887     \textcolor{keyword}{auto} itr = cells.begin();}
\DoxyCodeLine{00888     \textcolor{keywordflow}{while} (itr != cells.end()) \{}
\DoxyCodeLine{00889       \textcolor{keywordflow}{if} ((*itr).isEmpty())}
\DoxyCodeLine{00890         itr = cells.erase(itr);}
\DoxyCodeLine{00891       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00892         itr++;}
\DoxyCodeLine{00893     \}}
\DoxyCodeLine{00894   \}}
\DoxyCodeLine{00895 }
\DoxyCodeLine{00896   \textcolor{keywordflow}{if} (cells.empty()) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00897 }
\DoxyCodeLine{00898   \textcolor{comment}{// row amount after n-\/step}}
\DoxyCodeLine{00899   \textcolor{keywordtype}{int} nrows = cells.size() * type;}
\DoxyCodeLine{00900 }
\DoxyCodeLine{00901   \textcolor{keywordflow}{if} (withBlank > 0) \{}
\DoxyCodeLine{00902     nrows += cells.size() * withBlank * type;}
\DoxyCodeLine{00903   \}}
\DoxyCodeLine{00904 }
\DoxyCodeLine{00905   \textcolor{comment}{// if needed, insert cells}}
\DoxyCodeLine{00906   \textcolor{keywordflow}{if} (nr < nrows) \{}
\DoxyCodeLine{00907     \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(r1 + 1, col, nrows -\/ nr);}
\DoxyCodeLine{00908   \}}
\DoxyCodeLine{00909   \textcolor{comment}{// if needed, remove cells}}
\DoxyCodeLine{00910   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (nr > nrows) \{}
\DoxyCodeLine{00911     \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{removeCells}}(r0 + nrows, col, nr -\/ nrows);}
\DoxyCodeLine{00912   \}}
\DoxyCodeLine{00913 }
\DoxyCodeLine{00914   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = r0, k = 0; i < r0 + nrows; k++) \{}
\DoxyCodeLine{00915     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i1 = 0; i1 < type; i1++) \{}
\DoxyCodeLine{00916       \textcolor{keywordflow}{if} (cells[k].isEmpty())}
\DoxyCodeLine{00917         \mbox{\hyperlink{class_t_xsheet_a28381fbf27f33822b68cf66f689266da}{clearCells}}(i + i1, col);}
\DoxyCodeLine{00918       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00919         setCell(i + i1, col, cells[k]);}
\DoxyCodeLine{00920     \}}
\DoxyCodeLine{00921     i += type;  \textcolor{comment}{// dipende dal tipo di step (2 o 3 per ora)}}
\DoxyCodeLine{00922 }
\DoxyCodeLine{00923     \textcolor{keywordflow}{if} (withBlank > 0) \{}
\DoxyCodeLine{00924       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i1 = 0; i1 < withBlank * type; i1++) \{}
\DoxyCodeLine{00925         \mbox{\hyperlink{class_t_xsheet_a28381fbf27f33822b68cf66f689266da}{clearCells}}(i + i1, col);}
\DoxyCodeLine{00926       \}}
\DoxyCodeLine{00927       i += withBlank * type;}
\DoxyCodeLine{00928     \}}
\DoxyCodeLine{00929   \}}
\DoxyCodeLine{00930 }
\DoxyCodeLine{00931   \textcolor{keywordflow}{return} nrows;  \textcolor{comment}{// return row amount after process}}
\DoxyCodeLine{00932 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00423}{clear\+Cells()}}, \mbox{\hyperlink{l00233}{get\+Cell()}}, \mbox{\hyperlink{l00392}{insert\+Cells()}}, and \mbox{\hyperlink{l00405}{remove\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}\label{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}} 
\index{TXsheet@{TXsheet}!removeCells@{removeCells}}
\index{removeCells@{removeCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{removeCells()}{removeCells()}}
{\footnotesize\ttfamily void TXsheet\+::remove\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{int}]{row\+Count = {\ttfamily 1} }\end{DoxyParamCaption})}

If column identified by index {\bfseries{{\itshape col} is}} not empty, is a {\bfseries{\mbox{\hyperlink{class_t_xsh_cell_column}{TXsh\+Cell\+Column}}}} and is not locked, this method removes {\bfseries{{\itshape row\+Count} cells}} starting from {\bfseries{{\itshape row},}} it calls \mbox{\hyperlink{class_t_xsh_cell_column_a9dd9284327bd2bab258ce40f47a7b751}{TXsh\+Cell\+Column\+::remove\+Cells()}}. It removes cells without shift remaining cells. An update of xsheet\textquotesingle{}s frame count is performed. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a28381fbf27f33822b68cf66f689266da}{clear\+Cells()}}, \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insert\+Cells()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00405                                                         \{}
\DoxyCodeLine{00406   \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} column = m\_imp-\/>m\_columnSet.getColumn(col);}
\DoxyCodeLine{00407   \textcolor{keywordflow}{if} (!column || column-\/>isLocked()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00408 }
\DoxyCodeLine{00409   \mbox{\hyperlink{class_t_xsh_cell_column}{TXshCellColumn}} *xshCellColumn = column-\/>getCellColumn();}
\DoxyCodeLine{00410   \textcolor{keywordflow}{if} (!xshCellColumn) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00411 }
\DoxyCodeLine{00412   \textcolor{keywordtype}{int} oldColRowCount = xshCellColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_abb9061ec897fb594f9a8a580b6e36d9e}{getMaxFrame}}() + 1;}
\DoxyCodeLine{00413   xshCellColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_a9dd9284327bd2bab258ce40f47a7b751}{removeCells}}(row, rowCount);}
\DoxyCodeLine{00414 }
\DoxyCodeLine{00415   \textcolor{comment}{// aggiornamento framecount}}
\DoxyCodeLine{00416   \textcolor{keywordflow}{if} (oldColRowCount == m\_imp-\/>m\_frameCount) \mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{00417 }
\DoxyCodeLine{00418   TNotifier::instance()-\/>notify(\mbox{\hyperlink{class_t_xsheet_change}{TXsheetChange}}());}
\DoxyCodeLine{00419 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00073}{TXsh\+Cell\+Column\+::get\+Max\+Frame()}}, \mbox{\hyperlink{l00360}{TXsh\+Cell\+Column\+::remove\+Cells()}}, and \mbox{\hyperlink{l01166}{update\+Frame\+Count()}}.



Referenced by \mbox{\hyperlink{l00799}{decrease\+Step\+Cells()}}, \mbox{\hyperlink{l00833}{each\+Cells()}}, \mbox{\hyperlink{l00663}{increment\+Cells()}}, \mbox{\hyperlink{l00870}{reframe\+Cells()}}, \mbox{\hyperlink{l00936}{reset\+Step\+Cells()}}, \mbox{\hyperlink{l00985}{rolldown\+Cells()}}, \mbox{\hyperlink{l00962}{rollup\+Cells()}}, and \mbox{\hyperlink{l01007}{time\+Stretch()}}.

\mbox{\Hypertarget{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}\label{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}} 
\index{TXsheet@{TXsheet}!removeColumn@{removeColumn}}
\index{removeColumn@{removeColumn}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{removeColumn()}{removeColumn()}}
{\footnotesize\ttfamily void TXsheet\+::remove\+Column (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})}

Removes column identified by {\bfseries{{\itshape index} from}} xsheet column. If column in {\bfseries{{\itshape index} is}} not empty and it has a {\bfseries{\mbox{\hyperlink{class_t_fx}{TFx}}}} fx, removes column from fx dag, calls Fx\+Dag\+::remove\+From\+Xsheet() and disconnects fx column from all output fx {\bfseries{\mbox{\hyperlink{class_t_fx}{TFx}}}}, than removes column from column set and from pegbar\+Tree {\bfseries{\mbox{\hyperlink{class_t_stage_object_tree}{TStage\+Object\+Tree}}}} contained in \mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insert\+Column()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01352                                   \{}
\DoxyCodeLine{01353   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = \mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col);}
\DoxyCodeLine{01354   \textcolor{keywordflow}{if} (column) \{}
\DoxyCodeLine{01355     \mbox{\hyperlink{class_t_fx}{TFx}} *fx = column-\/>getFx();}
\DoxyCodeLine{01356     \textcolor{keywordflow}{if} (fx) \{}
\DoxyCodeLine{01357       \mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}()-\/>removeFromXsheet(fx);}
\DoxyCodeLine{01358 }
\DoxyCodeLine{01359       \textcolor{comment}{// disconnetto dal columnFx tutti gli effetti connessi in uscita}}
\DoxyCodeLine{01360       \mbox{\hyperlink{class_t_fx_port}{TFxPort}} *outPort = 0;}
\DoxyCodeLine{01361       \textcolor{keywordflow}{while} ((outPort = fx-\/>getOutputConnection(0))) outPort-\/>setFx(0);}
\DoxyCodeLine{01362     \}}
\DoxyCodeLine{01363   \}}
\DoxyCodeLine{01364   m\_imp-\/>m\_columnSet.removeColumn(col);}
\DoxyCodeLine{01365   m\_imp-\/>m\_pegTree-\/>removeColumn(col);}
\DoxyCodeLine{01366 }
\DoxyCodeLine{01367   \textcolor{keywordflow}{for} (\mbox{\hyperlink{class_column_fan}{ColumnFan}} \&columnFan : m\_imp-\/>m\_columnFans) \{}
\DoxyCodeLine{01368     columnFan.rollLeftFoldedState(col,}
\DoxyCodeLine{01369                                   m\_imp-\/>m\_columnSet.getColumnCount() -\/ col);}
\DoxyCodeLine{01370   \}}
\DoxyCodeLine{01371 }
\DoxyCodeLine{01372   notify(\mbox{\hyperlink{class_t_xsheet_column_change}{TXsheetColumnChange}}(TXsheetColumnChange::Remove, col));}
\DoxyCodeLine{01373 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01418}{get\+Column()}}, and \mbox{\hyperlink{l01564}{get\+Fx\+Dag()}}.



Referenced by \mbox{\hyperlink{l00327}{set\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_a8b724df7d8f786d4c5d83d7937b4c865}\label{class_t_xsheet_a8b724df7d8f786d4c5d83d7937b4c865}} 
\index{TXsheet@{TXsheet}!resetStepCells@{resetStepCells}}
\index{resetStepCells@{resetStepCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{resetStepCells()}{resetStepCells()}}
{\footnotesize\ttfamily void TXsheet\+::reset\+Step\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1 }\end{DoxyParamCaption})}

The cells, contained in rect delimited by first row {\bfseries{{\itshape r0},}} last row {\bfseries{{\itshape r1} and}} first column {\bfseries{{\itshape c0},}} are reset in order to have no sequential frame duplication. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00936                                                            \{}
\DoxyCodeLine{00937   \textcolor{keywordtype}{int} c, size = r1 -\/ r0 + 1;}
\DoxyCodeLine{00938   \textcolor{keywordflow}{for} (c = c0; c <= c1; c++) \{}
\DoxyCodeLine{00939     \textcolor{keywordtype}{int} r = r0, i = 0;}
\DoxyCodeLine{00940     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} *cells = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}[size];}
\DoxyCodeLine{00941     \textcolor{keywordflow}{while} (r <= r1) \{}
\DoxyCodeLine{00942       \textcolor{comment}{// mi prendo le celle che mi servono}}
\DoxyCodeLine{00943       cells[i] = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r, c));}
\DoxyCodeLine{00944       r++;}
\DoxyCodeLine{00945       \textcolor{keywordflow}{while} (cells[i] == \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r, c)) \&\& r <= r1) r++;}
\DoxyCodeLine{00946       i++;}
\DoxyCodeLine{00947     \}}
\DoxyCodeLine{00948 }
\DoxyCodeLine{00949     size = i;}
\DoxyCodeLine{00950     \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{removeCells}}(r0, c, r1 -\/ r0 + 1);}
\DoxyCodeLine{00951     \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(r0, c, i);}
\DoxyCodeLine{00952     i = 0;}
\DoxyCodeLine{00953     r = r0;}
\DoxyCodeLine{00954     \textcolor{keywordflow}{for} (i = 0; i < size; i++, r++) setCell(r, c, cells[i]);}
\DoxyCodeLine{00955   \}}
\DoxyCodeLine{00956 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{get\+Cell()}}, \mbox{\hyperlink{l00392}{insert\+Cells()}}, and \mbox{\hyperlink{l00405}{remove\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_a0f701e6621320cf560efe469f32841b8}\label{class_t_xsheet_a0f701e6621320cf560efe469f32841b8}} 
\index{TXsheet@{TXsheet}!reverseCells@{reverseCells}}
\index{reverseCells@{reverseCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{reverseCells()}{reverseCells()}}
{\footnotesize\ttfamily void TXsheet\+::reverse\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1 }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00630                                                          \{}
\DoxyCodeLine{00631   \textcolor{keywordtype}{int} rowCount = r1 -\/ r0;}
\DoxyCodeLine{00632   \textcolor{keywordflow}{if} (rowCount < 0 || c1 -\/ c0 < 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00633 }
\DoxyCodeLine{00634   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = c0; j <= c1; j++) \{}
\DoxyCodeLine{00635     \textcolor{keywordtype}{int} i1, i2;}
\DoxyCodeLine{00636     \textcolor{keywordflow}{for} (i1 = r0, i2 = r1; i1 < i2; i1++, i2-\/-\/) \{}
\DoxyCodeLine{00637       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} app1 = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i1, j));}
\DoxyCodeLine{00638       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} app2 = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i2, j));}
\DoxyCodeLine{00639       setCell(i1, j, app2);}
\DoxyCodeLine{00640       setCell(i2, j, app1);}
\DoxyCodeLine{00641     \}}
\DoxyCodeLine{00642   \}}
\DoxyCodeLine{00643 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a2adb88b23083059b4601ca9e1b527587}\label{class_t_xsheet_a2adb88b23083059b4601ca9e1b527587}} 
\index{TXsheet@{TXsheet}!rolldownCells@{rolldownCells}}
\index{rolldownCells@{rolldownCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{rolldownCells()}{rolldownCells()}}
{\footnotesize\ttfamily void TXsheet\+::rolldown\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1 }\end{DoxyParamCaption})}

Roll last cells of rect r0,c0,r1,c1. Move cells contained in last row to first row. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00985                                                           \{}
\DoxyCodeLine{00986   \textcolor{keywordtype}{int} nc   = c1 -\/ c0 + 1;}
\DoxyCodeLine{00987   \textcolor{keywordtype}{int} size = 1 * nc;}
\DoxyCodeLine{00988   assert(size > 0);}
\DoxyCodeLine{00989   std::unique\_ptr<TXshCell[]> cells(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}[size]);}
\DoxyCodeLine{00990   assert(cells);}
\DoxyCodeLine{00991 }
\DoxyCodeLine{00992   \textcolor{comment}{// in cells copio il contenuto delle celle che mi interessano}}
\DoxyCodeLine{00993   \textcolor{keywordtype}{int} k;}
\DoxyCodeLine{00994   \textcolor{keywordflow}{for} (k = c0; k <= c1; k++) cells[k -\/ c0] = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r1, k));}
\DoxyCodeLine{00995 }
\DoxyCodeLine{00996   \textcolor{keywordflow}{for} (k = c0; k <= c1; k++) \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{removeCells}}(r1, k, 1);}
\DoxyCodeLine{00997 }
\DoxyCodeLine{00998   \textcolor{keywordflow}{for} (k = c0; k <= c1; k++) \{}
\DoxyCodeLine{00999     \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(r0, k, 1);}
\DoxyCodeLine{01000     setCell(r0, k, cells[k -\/ c0]);  \textcolor{comment}{// setto le celle}}
\DoxyCodeLine{01001   \}}
\DoxyCodeLine{01002 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{get\+Cell()}}, \mbox{\hyperlink{l00392}{insert\+Cells()}}, and \mbox{\hyperlink{l00405}{remove\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_aabcf4abbc794868b7bd147b045e53b43}\label{class_t_xsheet_aabcf4abbc794868b7bd147b045e53b43}} 
\index{TXsheet@{TXsheet}!rollupCells@{rollupCells}}
\index{rollupCells@{rollupCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{rollupCells()}{rollupCells()}}
{\footnotesize\ttfamily void TXsheet\+::rollup\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1 }\end{DoxyParamCaption})}

Roll first cells of rect r0,c0,r1,c1. Move cells contained in first row to last row. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00962                                                         \{}
\DoxyCodeLine{00963   \textcolor{keywordtype}{int} nc   = c1 -\/ c0 + 1;}
\DoxyCodeLine{00964   \textcolor{keywordtype}{int} size = 1 * nc;}
\DoxyCodeLine{00965   assert(size > 0);}
\DoxyCodeLine{00966   std::unique\_ptr<TXshCell[]> cells(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}[size]);}
\DoxyCodeLine{00967   assert(cells);}
\DoxyCodeLine{00968 }
\DoxyCodeLine{00969   \textcolor{comment}{// in cells copio il contenuto delle celle che mi interessano}}
\DoxyCodeLine{00970   \textcolor{keywordtype}{int} k;}
\DoxyCodeLine{00971   \textcolor{keywordflow}{for} (k = c0; k <= c1; k++) cells[k -\/ c0] = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r0, k));}
\DoxyCodeLine{00972 }
\DoxyCodeLine{00973   \textcolor{keywordflow}{for} (k = c0; k <= c1; k++) \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{removeCells}}(r0, k, 1);}
\DoxyCodeLine{00974 }
\DoxyCodeLine{00975   \textcolor{keywordflow}{for} (k = c0; k <= c1; k++) \{}
\DoxyCodeLine{00976     \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(r1, k, 1);}
\DoxyCodeLine{00977     setCell(r1, k, cells[k -\/ c0]);  \textcolor{comment}{// setto le celle}}
\DoxyCodeLine{00978   \}}
\DoxyCodeLine{00979 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{get\+Cell()}}, \mbox{\hyperlink{l00392}{insert\+Cells()}}, and \mbox{\hyperlink{l00405}{remove\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_ad4c70081d889ebc226d50249a0d7cef9}\label{class_t_xsheet_ad4c70081d889ebc226d50249a0d7cef9}} 
\index{TXsheet@{TXsheet}!saveData@{saveData}}
\index{saveData@{saveData}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{saveData()}{saveData()}}
{\footnotesize\ttfamily void TXsheet\+::save\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&}]{os }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Save all xsheet elements information, contained in {\bfseries{\mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}}}, in {\bfseries{\mbox{\hyperlink{class_t_o_stream}{TOStream}}}} {\bfseries{{\itshape os}.}} \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a3235a1e0e76da11b52f9853b6bff6c57}{load\+Data()}} 
\end{DoxySeeAlso}


Implements \mbox{\hyperlink{class_t_persist_afb991f7b26f14dbee1740ef036ff4e85}{TPersist}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01277                                    \{}
\DoxyCodeLine{01278   os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}columns"{}});}
\DoxyCodeLine{01279   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < m\_imp-\/>m\_columnSet.getColumnCount(); ++c) \{}
\DoxyCodeLine{01280     \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} column = m\_imp-\/>m\_columnSet.getColumn(c);}
\DoxyCodeLine{01281     \textcolor{keywordflow}{if} (column \&\& c < \mbox{\hyperlink{class_t_xsheet_ac00c621f54bf2c4f4a51a8b7d6f27253}{getFirstFreeColumnIndex}}()) os << column.getPointer();}
\DoxyCodeLine{01282   \}}
\DoxyCodeLine{01283   os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{01284 }
\DoxyCodeLine{01285   \textcolor{comment}{// save cell marks in the camera column}}
\DoxyCodeLine{01286   \textcolor{keywordflow}{if} (!m\_cameraColumn-\/>getCellColumn()-\/>getCellMarks().isEmpty()) \{}
\DoxyCodeLine{01287     os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}cameraColumn"{}});}
\DoxyCodeLine{01288     m\_cameraColumn-\/>getCellColumn()-\/>saveCellMarks(os);}
\DoxyCodeLine{01289     os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{01290   \}}
\DoxyCodeLine{01291 }
\DoxyCodeLine{01292   os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}pegbars"{}});}
\DoxyCodeLine{01293   m\_imp-\/>m\_pegTree-\/>saveData(os, \mbox{\hyperlink{class_t_xsheet_ac00c621f54bf2c4f4a51a8b7d6f27253}{getFirstFreeColumnIndex}}(), \textcolor{keyword}{this});}
\DoxyCodeLine{01294   \textcolor{comment}{// os << *(m\_imp-\/>m\_pegTree);}}
\DoxyCodeLine{01295   os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{01296 }
\DoxyCodeLine{01297   \mbox{\hyperlink{class_fx_dag}{FxDag}} *fxDag = \mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}();}
\DoxyCodeLine{01298   os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}fxnodes"{}});}
\DoxyCodeLine{01299   fxDag-\/>saveData(os, \mbox{\hyperlink{class_t_xsheet_ac00c621f54bf2c4f4a51a8b7d6f27253}{getFirstFreeColumnIndex}}());}
\DoxyCodeLine{01300   os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{01301 }
\DoxyCodeLine{01302   \textcolor{comment}{// does not matter which Orientation to take, as all fans share folded data}}
\DoxyCodeLine{01303   \mbox{\hyperlink{class_column_fan}{ColumnFan}} *columnFan = \mbox{\hyperlink{class_t_xsheet_a3c7f0358ee5d555df82ae864af8584d0}{getColumnFan}}(Orientations::topToBottom());}
\DoxyCodeLine{01304   \textcolor{keywordflow}{if} (!columnFan-\/>isEmpty()) \{}
\DoxyCodeLine{01305     os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}columnFan"{}});}
\DoxyCodeLine{01306     columnFan-\/>saveData(os);}
\DoxyCodeLine{01307     os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{01308   \}}
\DoxyCodeLine{01309 }
\DoxyCodeLine{01310   \mbox{\hyperlink{class_t_xsh_note_set}{TXshNoteSet}} *notes = getNotes();}
\DoxyCodeLine{01311   \textcolor{keywordflow}{if} (notes-\/>getCount() > 0) \{}
\DoxyCodeLine{01312     os.\mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{openChild}}(\textcolor{stringliteral}{"{}noteSet"{}});}
\DoxyCodeLine{01313     notes-\/>saveData(os);}
\DoxyCodeLine{01314     os.\mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{closeChild}}();}
\DoxyCodeLine{01315   \}}
\DoxyCodeLine{01316 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00520}{TOStream\+::close\+Child()}}, \mbox{\hyperlink{l01568}{get\+Column\+Fan()}}, \mbox{\hyperlink{l01431}{get\+First\+Free\+Column\+Index()}}, \mbox{\hyperlink{l01564}{get\+Fx\+Dag()}}, and \mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{TOStream\+::open\+Child()}}.

\mbox{\Hypertarget{class_t_xsheet_af1e942b39ff13cd186cd8aff58ccf9a4}\label{class_t_xsheet_af1e942b39ff13cd186cd8aff58ccf9a4}} 
\index{TXsheet@{TXsheet}!scrub@{scrub}}
\index{scrub@{scrub}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{scrub()}{scrub()}}
{\footnotesize\ttfamily void TXsheet\+::scrub (\begin{DoxyParamCaption}\item[{int}]{frame,  }\item[{bool}]{is\+Preview = {\ttfamily false} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01503                                              \{}
\DoxyCodeLine{01504   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01505     \textcolor{keywordtype}{double} fps =}
\DoxyCodeLine{01506         \mbox{\hyperlink{class_t_xsheet_a35d49d436513243d059eee3a25ffa2ef}{getScene}}()-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()-\/>\mbox{\hyperlink{class_t_scene_properties_abea7b4b8e4f0cedbf753b26ec30b5331}{getOutputProperties}}()-\/>\mbox{\hyperlink{class_t_output_properties_a0d9662971bc33097aa1b55111965b967}{getFrameRate}}();}
\DoxyCodeLine{01507 }
\DoxyCodeLine{01508     \mbox{\hyperlink{class_t_xsheet_1_1_sound_properties}{TXsheet::SoundProperties}} *prop = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsheet_1_1_sound_properties}{TXsheet::SoundProperties}}();}
\DoxyCodeLine{01509     prop-\/>m\_isPreview              = isPreview;}
\DoxyCodeLine{01510 }
\DoxyCodeLine{01511     \mbox{\hyperlink{class_t_sound_track}{TSoundTrack}} *st = makeSound(prop);  \textcolor{comment}{// Absorbs prop's ownership}}
\DoxyCodeLine{01512     \textcolor{keywordflow}{if} (!st) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01513 }
\DoxyCodeLine{01514     \textcolor{keywordtype}{double} samplePerFrame = st-\/>getSampleRate() / fps;}
\DoxyCodeLine{01515 }
\DoxyCodeLine{01516     \textcolor{keywordtype}{double} s0 = frame * samplePerFrame, s1 = s0 + samplePerFrame;}
\DoxyCodeLine{01517     \textcolor{comment}{// if (m\_player \&\& m\_player-\/>isPlaying()) \{}}
\DoxyCodeLine{01518     \textcolor{comment}{//    try \{}}
\DoxyCodeLine{01519     \textcolor{comment}{//        m\_player-\/>stop();}}
\DoxyCodeLine{01520     \textcolor{comment}{//    \}}}
\DoxyCodeLine{01521     \textcolor{comment}{//    catch (const std::runtime\_error\& e) \{}}
\DoxyCodeLine{01522     \textcolor{comment}{//        int i = 0;}}
\DoxyCodeLine{01523     \textcolor{comment}{//    \}}}
\DoxyCodeLine{01524     \textcolor{comment}{//    catch (const std::exception\& e) \{}}
\DoxyCodeLine{01525     \textcolor{comment}{//        int i = 0;}}
\DoxyCodeLine{01526     \textcolor{comment}{//    \}}}
\DoxyCodeLine{01527     \textcolor{comment}{//    catch (...) \{}}
\DoxyCodeLine{01528     \textcolor{comment}{//        int i = 0;}}
\DoxyCodeLine{01529     \textcolor{comment}{//    \}}}
\DoxyCodeLine{01530     \textcolor{comment}{//\}}}
\DoxyCodeLine{01531     play(st, s0, s1, \textcolor{keyword}{false});}
\DoxyCodeLine{01532   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&e) \{}
\DoxyCodeLine{01533     \textcolor{keywordflow}{if} (e.getType() == TSoundDeviceException::NoDevice) \{}
\DoxyCodeLine{01534       std::cout << ::to\_string(e.getMessage()) << std::endl;}
\DoxyCodeLine{01535     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01536       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}}(e.getType(), e.getMessage());}
\DoxyCodeLine{01537     \}}
\DoxyCodeLine{01538   \}}
\DoxyCodeLine{01539 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a66dcef7c2d33894fef69accb7252dcb3}\label{class_t_xsheet_a66dcef7c2d33894fef69accb7252dcb3}} 
\index{TXsheet@{TXsheet}!setCameraColumnIndex@{setCameraColumnIndex}}
\index{setCameraColumnIndex@{setCameraColumnIndex}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{setCameraColumnIndex()}{setCameraColumnIndex()}}
{\footnotesize\ttfamily void TXsheet\+::set\+Camera\+Column\+Index (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00569 \{ m\_cameraColumnIndex = index; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_ad98d52e70042c50c2a094e03607f2cc2}\label{class_t_xsheet_ad98d52e70042c50c2a094e03607f2cc2}} 
\index{TXsheet@{TXsheet}!setCameraColumnLocked@{setCameraColumnLocked}}
\index{setCameraColumnLocked@{setCameraColumnLocked}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{setCameraColumnLocked()}{setCameraColumnLocked()}}
{\footnotesize\ttfamily void TXsheet\+::set\+Camera\+Column\+Locked (\begin{DoxyParamCaption}\item[{bool}]{locked }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00572 \{ m\_cameraColumn-\/>\mbox{\hyperlink{class_t_xsh_column_aa4fdf492c76dd277452ab9ec23cea6dc}{lock}}(locked); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a6ea80239b0a0423cd6d053f83409d327}\label{class_t_xsheet_a6ea80239b0a0423cd6d053f83409d327}} 
\index{TXsheet@{TXsheet}!setCell@{setCell}}
\index{setCell@{setCell}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{setCell()}{setCell()}}
{\footnotesize\ttfamily bool TXsheet\+::set\+Cell (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}} \&}]{cell }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00249                                                             \{}
\DoxyCodeLine{00250   \textcolor{keywordflow}{if} (row < 0 || col < 0) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00251 }
\DoxyCodeLine{00252   \textcolor{keywordtype}{bool} wasColumnEmpty = \mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col);}
\DoxyCodeLine{00253   \mbox{\hyperlink{class_t_xsh_cell_column}{TXshCellColumn}} *cellColumn;}
\DoxyCodeLine{00254 }
\DoxyCodeLine{00255   \textcolor{keywordflow}{if} (!cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \{}
\DoxyCodeLine{00256     \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *level = cell.m\_level.getPointer();}
\DoxyCodeLine{00257     assert(level);}
\DoxyCodeLine{00258 }
\DoxyCodeLine{00259     \textcolor{keywordtype}{int} levelType               = level-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}();}
\DoxyCodeLine{00260     TXshColumn::ColumnType type = TXshColumn::eLevelType;}
\DoxyCodeLine{00261 }
\DoxyCodeLine{00262     \textcolor{keywordflow}{if} (levelType == SND\_XSHLEVEL)}
\DoxyCodeLine{00263       type = TXshColumn::eSoundType;}
\DoxyCodeLine{00264     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (levelType == SND\_TXT\_XSHLEVEL)}
\DoxyCodeLine{00265       type = TXshColumn::eSoundTextType;}
\DoxyCodeLine{00266     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (levelType == PLT\_XSHLEVEL)}
\DoxyCodeLine{00267       type = TXshColumn::ePaletteType;}
\DoxyCodeLine{00268     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (levelType == ZERARYFX\_XSHLEVEL)}
\DoxyCodeLine{00269       type = TXshColumn::eZeraryFxType;}
\DoxyCodeLine{00270     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (levelType == MESH\_XSHLEVEL)}
\DoxyCodeLine{00271       type = TXshColumn::eMeshType;}
\DoxyCodeLine{00272 }
\DoxyCodeLine{00273     cellColumn = touchColumn(col, type)-\/>getCellColumn();}
\DoxyCodeLine{00274   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00275     \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = \mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col);}
\DoxyCodeLine{00276     cellColumn         = column ? column-\/>getCellColumn() : 0;}
\DoxyCodeLine{00277   \}}
\DoxyCodeLine{00278 }
\DoxyCodeLine{00279   \textcolor{keywordflow}{if} (!cellColumn || cellColumn-\/>\mbox{\hyperlink{class_t_xsh_column_a04953896aae8860ace46010956a28db9}{isLocked}}()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00280 }
\DoxyCodeLine{00281   cellColumn-\/>\mbox{\hyperlink{class_t_xsh_column_ad4badbad6279671e8a42037873647de9}{setXsheet}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00282 }
\DoxyCodeLine{00283   \textcolor{keywordflow}{if} (!cellColumn-\/>\mbox{\hyperlink{class_t_xsh_cell_column_a7dc6cd2fa2a50088c4168a02dca582c1}{setCell}}(row, cell)) \{}
\DoxyCodeLine{00284     \textcolor{keywordflow}{if} (wasColumnEmpty) \{}
\DoxyCodeLine{00285       \mbox{\hyperlink{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}{removeColumn}}(col);}
\DoxyCodeLine{00286       \mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insertColumn}}(col);}
\DoxyCodeLine{00287     \}}
\DoxyCodeLine{00288 }
\DoxyCodeLine{00289     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00290   \}}
\DoxyCodeLine{00291 }
\DoxyCodeLine{00292   \mbox{\hyperlink{class_t_fx}{TFx}} *fx = cellColumn-\/>getFx();}
\DoxyCodeLine{00293   \textcolor{keywordflow}{if} (wasColumnEmpty \&\& fx \&\& fx-\/>getOutputConnectionCount() == 0 \&\&}
\DoxyCodeLine{00294       cellColumn-\/>getPaletteColumn() == 0)}
\DoxyCodeLine{00295     \mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}()-\/>addToXsheet(fx);}
\DoxyCodeLine{00296 }
\DoxyCodeLine{00297   \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}())}
\DoxyCodeLine{00298     \mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{00299   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (row >= m\_imp-\/>m\_frameCount)}
\DoxyCodeLine{00300     m\_imp-\/>m\_frameCount = row + 1;}
\DoxyCodeLine{00301 }
\DoxyCodeLine{00302   TNotifier::instance()-\/>notify(\mbox{\hyperlink{class_t_xsheet_change}{TXsheetChange}}());}
\DoxyCodeLine{00303 }
\DoxyCodeLine{00304   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00305 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_af252e427c43789deaef482e2bd913274}\label{class_t_xsheet_af252e427c43789deaef482e2bd913274}} 
\index{TXsheet@{TXsheet}!setCells@{setCells}}
\index{setCells@{setCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{setCells()}{setCells()}}
{\footnotesize\ttfamily bool TXsheet\+::set\+Cells (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{col,  }\item[{int}]{row\+Count,  }\item[{const \mbox{\hyperlink{class_t_xsh_cell}{TXsh\+Cell}}}]{cells\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}

If column identified by index {\bfseries{{\itshape col} is}} a {\bfseries{\mbox{\hyperlink{class_t_xsh_cell_column}{TXsh\+Cell\+Column}}}} or is empty and is not locked, this method sets to {\bfseries{{\itshape cells}\mbox{[}}}\mbox{]} the given {\bfseries{{\itshape row\+Count} cells}} of column {\bfseries{{\itshape col} starting}} from row {\bfseries{{\itshape row}.}} If column in {\bfseries{{\itshape col} is}} empty it creates a new column recalling {\bfseries{TColumn\+Set\+T\+::touch\+Column()}} and sets the new cells to {\bfseries{{\itshape cells}\mbox{[}}}\mbox{]}, and on creating a new column it adds it to fx dag {\bfseries{\mbox{\hyperlink{class_fx_dag}{Fx\+Dag}}}}. If cells in {\bfseries{{\itshape row} and}} {\bfseries{{\itshape col} are}} not empty recalls {\bfseries{\mbox{\hyperlink{class_t_xsh_cell_column_a91611c268308aa7d1dc8c4ebdcba43aa}{TXsh\+Cell\+Column\+::set\+Cells()}}}}, insert the new cells {\bfseries{{\itshape cells}\mbox{[}}}\mbox{]} in {\bfseries{{\itshape row} {\bfseries{{\itshape col} and}} shift}} old cells. If xsheet change it updates xsheet\textquotesingle{}s frame count. Return false if cannot set cells. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a24ef8c4d08fb6a3f2f469a91ca184b23}{get\+Cells()}}, set\+Cell(), \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{get\+Cell()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00327                                                                              \{}
\DoxyCodeLine{00328   \textcolor{keyword}{static} \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} emptyCell;}
\DoxyCodeLine{00329   \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{00330   \textcolor{keywordflow}{while} (i < rowCount \&\& cells[i].isEmpty()) i++;}
\DoxyCodeLine{00331 }
\DoxyCodeLine{00332   \textcolor{comment}{// inserito da Elisa verso novembre 2009.}}
\DoxyCodeLine{00333   \textcolor{comment}{// cosi' ha il difetto che se assegno celle vuote non fa nulla}}
\DoxyCodeLine{00334   \textcolor{comment}{// per ora lo commento. bisogna indagare se questo rompe qualcosa}}
\DoxyCodeLine{00335 }
\DoxyCodeLine{00336   \textcolor{comment}{// ho modificato il seguito per gestire il caso in cui i>=rowCount}}
\DoxyCodeLine{00337   \textcolor{comment}{// => niente livelli dentro cells}}
\DoxyCodeLine{00338 }
\DoxyCodeLine{00339   \textcolor{comment}{// if(i>=rowCount)}}
\DoxyCodeLine{00340   \textcolor{comment}{//  return false;}}
\DoxyCodeLine{00341 }
\DoxyCodeLine{00342   TXshColumn::ColumnType type = TXshColumn::eLevelType;}
\DoxyCodeLine{00343   \textcolor{keywordflow}{if} (i < rowCount) \{}
\DoxyCodeLine{00344     \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *level = cells[i].m\_level.getPointer();}
\DoxyCodeLine{00345     \textcolor{keywordtype}{int} levelType    = level-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}();}
\DoxyCodeLine{00346 }
\DoxyCodeLine{00347     \textcolor{keywordflow}{if} (levelType == SND\_XSHLEVEL)}
\DoxyCodeLine{00348       type = TXshColumn::eSoundType;}
\DoxyCodeLine{00349     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (levelType == SND\_TXT\_XSHLEVEL)}
\DoxyCodeLine{00350       type = TXshColumn::eSoundTextType;}
\DoxyCodeLine{00351     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (levelType == PLT\_XSHLEVEL)}
\DoxyCodeLine{00352       type = TXshColumn::ePaletteType;}
\DoxyCodeLine{00353     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (levelType == ZERARYFX\_XSHLEVEL)}
\DoxyCodeLine{00354       type = TXshColumn::eZeraryFxType;}
\DoxyCodeLine{00355     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (levelType == MESH\_XSHLEVEL)}
\DoxyCodeLine{00356       type = TXshColumn::eMeshType;}
\DoxyCodeLine{00357   \}}
\DoxyCodeLine{00358   \textcolor{keywordtype}{bool} wasColumnEmpty = \mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col);}
\DoxyCodeLine{00359   \textcolor{keywordflow}{if} (col < 0) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00360   \mbox{\hyperlink{class_t_xsh_cell_column}{TXshCellColumn}} *column = touchColumn(col, type)-\/>getCellColumn();}
\DoxyCodeLine{00361   \textcolor{keywordflow}{if} (!column) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00362 }
\DoxyCodeLine{00363   \textcolor{keywordtype}{int} oldColRowCount = column-\/>getMaxFrame() + 1;}
\DoxyCodeLine{00364   \textcolor{keywordtype}{bool} ret           = column-\/>setCells(row, rowCount, cells);}
\DoxyCodeLine{00365   \textcolor{keywordflow}{if} (!ret || column-\/>isLocked()) \{}
\DoxyCodeLine{00366     \textcolor{keywordflow}{if} (wasColumnEmpty) \{}
\DoxyCodeLine{00367       \mbox{\hyperlink{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}{removeColumn}}(col);}
\DoxyCodeLine{00368       \mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insertColumn}}(col);}
\DoxyCodeLine{00369     \}}
\DoxyCodeLine{00370     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00371   \}}
\DoxyCodeLine{00372   \textcolor{keywordtype}{int} newColRowCount = column-\/>getMaxFrame() + 1;}
\DoxyCodeLine{00373 }
\DoxyCodeLine{00374   \mbox{\hyperlink{class_t_fx}{TFx}} *fx = column-\/>getFx();}
\DoxyCodeLine{00375   \textcolor{keywordflow}{if} (wasColumnEmpty \&\& fx \&\& fx-\/>getOutputConnectionCount() == 0)}
\DoxyCodeLine{00376     \mbox{\hyperlink{class_t_xsheet_adc7c74cce346abf3699bb250eb17a9c2}{getFxDag}}()-\/>addToXsheet(fx);}
\DoxyCodeLine{00377   column-\/>setXsheet(\textcolor{keyword}{this});}
\DoxyCodeLine{00378 }
\DoxyCodeLine{00379   \textcolor{keywordflow}{if} (newColRowCount > m\_imp-\/>m\_frameCount)}
\DoxyCodeLine{00380     m\_imp-\/>m\_frameCount = newColRowCount;}
\DoxyCodeLine{00381   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00382     \textcolor{keywordflow}{if} (oldColRowCount == m\_imp-\/>m\_frameCount \&\&}
\DoxyCodeLine{00383         newColRowCount < m\_imp-\/>m\_frameCount)}
\DoxyCodeLine{00384       \mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{00385   \}}
\DoxyCodeLine{00386 }
\DoxyCodeLine{00387   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00388 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01564}{get\+Fx\+Dag()}}, \mbox{\hyperlink{l00081}{TXsh\+Level\+::get\+Type()}}, \mbox{\hyperlink{l01324}{insert\+Column()}}, \mbox{\hyperlink{l00482}{is\+Column\+Empty()}}, \mbox{\hyperlink{l01352}{remove\+Column()}}, and \mbox{\hyperlink{l01166}{update\+Frame\+Count()}}.



Referenced by \mbox{\hyperlink{l00064}{TCell\+Data\+::get\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_a5518e9cd4b6bb85707ea4dda3808862b}\label{class_t_xsheet_a5518e9cd4b6bb85707ea4dda3808862b}} 
\index{TXsheet@{TXsheet}!setCenter@{setCenter}}
\index{setCenter@{setCenter}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{setCenter()}{setCenter()}}
{\footnotesize\ttfamily void TXsheet\+::set\+Center (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id,  }\item[{int}]{frame,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{center }\end{DoxyParamCaption})}

Sets the center of pegbar {\bfseries{\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}}}} with {\bfseries{{\itshape id} \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}}} specialization in frame {\bfseries{{\itshape frame},}} to {\bfseries{{\itshape center};}} it calls {\bfseries{\mbox{\hyperlink{class_t_stage_object_abae725e82b94f1ae3bd7acca26077560}{TStage\+Object\+::set\+Center()}}}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_ad762600c9d9d3b5173fcc1e79a802793}{get\+Center()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00591                                                \{}
\DoxyCodeLine{00592   assert(\textcolor{keywordtype}{id} != TStageObjectId::NoneId);}
\DoxyCodeLine{00593   m\_imp-\/>m\_pegTree-\/>getStageObject(\textcolor{keywordtype}{id})-\/>setCenter(frame, center);}
\DoxyCodeLine{00594 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_ae460f9814584adea04db6fb2fa9050ee}\label{class_t_xsheet_ae460f9814584adea04db6fb2fa9050ee}} 
\index{TXsheet@{TXsheet}!setObserver@{setObserver}}
\index{setObserver@{setObserver}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{setObserver()}{setObserver()}}
{\footnotesize\ttfamily void TXsheet\+::set\+Observer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet_column_change_observer}{TXsheet\+Column\+Change\+Observer}} $\ast$}]{observer }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01820                                                                \{}
\DoxyCodeLine{01821   m\_observer = observer;}
\DoxyCodeLine{01822 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_acb634f75579e77275e6dd5fad3ead2b6}\label{class_t_xsheet_acb634f75579e77275e6dd5fad3ead2b6}} 
\index{TXsheet@{TXsheet}!setScene@{setScene}}
\index{setScene@{setScene}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{setScene()}{setScene()}}
{\footnotesize\ttfamily void TXsheet\+::set\+Scene (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$}]{scene }\end{DoxyParamCaption})}

Set scene {\bfseries{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}}}} contained in {\bfseries{\mbox{\hyperlink{struct_t_xsheet_1_1_t_xsheet_imp}{TXsheet\+Imp}}}} to {\bfseries{scene}}, change the scene to which the xsheet refers. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_acb634f75579e77275e6dd5fad3ead2b6}{set\+Scene()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{01579 \{ m\_imp-\/>m\_scene = scene; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00034}{Child\+Stack\+::\+Child\+Stack()}}, \mbox{\hyperlink{l00049}{Child\+Stack\+::clear()}}, \mbox{\hyperlink{l00864}{Toonz\+Scene\+::create\+New\+Level()}}, and \mbox{\hyperlink{l00074}{TXsh\+Child\+Level\+::set\+Scene()}}.

\mbox{\Hypertarget{class_t_xsheet_a33f98b4e9811dbe8f1b6f2f44b09a662}\label{class_t_xsheet_a33f98b4e9811dbe8f1b6f2f44b09a662}} 
\index{TXsheet@{TXsheet}!setStageObjectParent@{setStageObjectParent}}
\index{setStageObjectParent@{setStageObjectParent}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{setStageObjectParent()}{setStageObjectParent()}}
{\footnotesize\ttfamily void TXsheet\+::set\+Stage\+Object\+Parent (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{id,  }\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{parent\+Id }\end{DoxyParamCaption})}

Sets parent of pegbar {\bfseries{\mbox{\hyperlink{class_t_stage_object}{TStage\+Object}}}} with {\bfseries{{\itshape id} \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}}} specialization to {\bfseries{{\itshape parent\+Id};}} it calls {\bfseries{\mbox{\hyperlink{class_t_stage_object_a473d8c3eac2e00ae359a7bb3a4b2dbed}{TStage\+Object\+::set\+Parent()}}}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_xsheet_a0a27744ce52cae25ec261a853a554cd1}{get\+Stage\+Object\+Parent()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00606                                                                    \{}
\DoxyCodeLine{00607   assert(\textcolor{keywordtype}{id} != TStageObjectId::NoneId);}
\DoxyCodeLine{00608   m\_imp-\/>m\_pegTree-\/>getStageObject(\textcolor{keywordtype}{id})-\/>setParent(parentId);}
\DoxyCodeLine{00609 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a3afe72bea3fb48a40855b47ec9ac4c29}\label{class_t_xsheet_a3afe72bea3fb48a40855b47ec9ac4c29}} 
\index{TXsheet@{TXsheet}!stepCells@{stepCells}}
\index{stepCells@{stepCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{stepCells()}{stepCells()}}
{\footnotesize\ttfamily void TXsheet\+::step\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1,  }\item[{int}]{type }\end{DoxyParamCaption})}

The cells, contained in rect delimited by first row {\bfseries{{\itshape r0},}} last row {\bfseries{{\itshape r1} and}} first column {\bfseries{{\itshape c0},}} are repeated in order to have a step {\bfseries{{\itshape type}.}} The duplicated cells will be inserted by shifting the other down. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00736                                                                 \{}
\DoxyCodeLine{00737   \textcolor{keywordtype}{int} nr = r1 -\/ r0 + 1;}
\DoxyCodeLine{00738   \textcolor{keywordtype}{int} nc = c1 -\/ c0 + 1;}
\DoxyCodeLine{00739   \textcolor{keywordflow}{if} (nr < 1 || nc <= 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00740   \textcolor{keywordtype}{int} size = nr * nc;}
\DoxyCodeLine{00741   std::unique\_ptr<TXshCell[]> cells(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}[size]);}
\DoxyCodeLine{00742   \textcolor{keywordflow}{if} (!cells) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00743   \textcolor{comment}{// salvo il contenuto delle celle in cells}}
\DoxyCodeLine{00744   \textcolor{keywordtype}{int} k = 0;}
\DoxyCodeLine{00745   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r = r0; r <= r1; r++)}
\DoxyCodeLine{00746     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = c0; c <= c1; c++) \{}
\DoxyCodeLine{00747       cells[k++] = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(r, c));}
\DoxyCodeLine{00748     \}}
\DoxyCodeLine{00749 }
\DoxyCodeLine{00750   \textcolor{keywordtype}{int} nrows = nr * (type -\/ 1);}
\DoxyCodeLine{00751 }
\DoxyCodeLine{00752   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = c0; c <= c1; ++c) \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(r1 + 1, c, nrows);}
\DoxyCodeLine{00753 }
\DoxyCodeLine{00754   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = c0; j <= c1; j++) \{}
\DoxyCodeLine{00755     \textcolor{keywordtype}{int} i, k;}
\DoxyCodeLine{00756     \textcolor{keywordflow}{for} (i = r0, k = j -\/ c0; k < size; k += nc) \{}
\DoxyCodeLine{00757       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i1 = 0; i1 < type; i1++) \{}
\DoxyCodeLine{00758         \textcolor{keywordflow}{if} (cells[k].isEmpty())}
\DoxyCodeLine{00759           \mbox{\hyperlink{class_t_xsheet_a28381fbf27f33822b68cf66f689266da}{clearCells}}(i + i1, j);}
\DoxyCodeLine{00760         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00761           setCell(i + i1, j, cells[k]);}
\DoxyCodeLine{00762       \}}
\DoxyCodeLine{00763       i += type;  \textcolor{comment}{// dipende dal tipo di step (2 o 3 per ora)}}
\DoxyCodeLine{00764     \}}
\DoxyCodeLine{00765   \}}
\DoxyCodeLine{00766 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00423}{clear\+Cells()}}, \mbox{\hyperlink{l00233}{get\+Cell()}}, and \mbox{\hyperlink{l00392}{insert\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_a44a89062bbb7ff8999620f90430aae49}\label{class_t_xsheet_a44a89062bbb7ff8999620f90430aae49}} 
\index{TXsheet@{TXsheet}!stopScrub@{stopScrub}}
\index{stopScrub@{stopScrub}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{stopScrub()}{stopScrub()}}
{\footnotesize\ttfamily void TXsheet\+::stop\+Scrub (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01543                         \{}
\DoxyCodeLine{01544   \textcolor{keywordflow}{if} (m\_player) m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a7c556dc08b5ffb0b18a9ac87636a5c38}{stop}}();}
\DoxyCodeLine{01545 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_xsheet_a132c82d4821e384b979c6cf9188fd0d6}\label{class_t_xsheet_a132c82d4821e384b979c6cf9188fd0d6}} 
\index{TXsheet@{TXsheet}!swingCells@{swingCells}}
\index{swingCells@{swingCells}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{swingCells()}{swingCells()}}
{\footnotesize\ttfamily void TXsheet\+::swing\+Cells (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1 }\end{DoxyParamCaption})}

The cells, contained in rect delimited by first row {\bfseries{{\itshape r0},}} last row {\bfseries{{\itshape r1} and}} first column {\bfseries{{\itshape c0},}} are appended at the end of the rect in a reversed order. The last cell of rect will not be repeated. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00647                                                        \{}
\DoxyCodeLine{00648   \textcolor{keywordtype}{int} rowCount = r1 -\/ r0;}
\DoxyCodeLine{00649   \textcolor{keywordflow}{if} (rowCount < 0 || c1 -\/ c0 < 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00650   \textcolor{keywordtype}{int} r0Mod = r1 + 1;}
\DoxyCodeLine{00651   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = c0; c <= c1; ++c) \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(r0Mod, c, rowCount);}
\DoxyCodeLine{00652 }
\DoxyCodeLine{00653   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = c0; j <= c1; j++) \{}
\DoxyCodeLine{00654     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i1 = r0Mod, i2 = r1 -\/ 1; i2 >= r0; i1++, i2-\/-\/) \{}
\DoxyCodeLine{00655       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = \mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(\mbox{\hyperlink{class_cell_position}{CellPosition}}(i2, j));}
\DoxyCodeLine{00656       setCell(i1, j, cell);}
\DoxyCodeLine{00657     \}}
\DoxyCodeLine{00658   \}}
\DoxyCodeLine{00659 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{get\+Cell()}}, and \mbox{\hyperlink{l00392}{insert\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_ae862d337a3d237d713602c594abbf08e}\label{class_t_xsheet_ae862d337a3d237d713602c594abbf08e}} 
\index{TXsheet@{TXsheet}!timeStretch@{timeStretch}}
\index{timeStretch@{timeStretch}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{timeStretch()}{timeStretch()}}
{\footnotesize\ttfamily void TXsheet\+::time\+Stretch (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{c0,  }\item[{int}]{r1,  }\item[{int}]{c1,  }\item[{int}]{nr }\end{DoxyParamCaption})}

Stretch cells contained in rect r0,c0,r1,c1, from r1-\/r0+1 to nr. If nr\texorpdfstring{$>$}{>}r1-\/r0+1 add cells, otherwise remove cells. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01007                                                                 \{}
\DoxyCodeLine{01008   \textcolor{keywordtype}{int} oldNr = r1 -\/ r0 + 1;}
\DoxyCodeLine{01009   \textcolor{keywordflow}{if} (nr > oldNr) \textcolor{comment}{/* ingrandisce */}}
\DoxyCodeLine{01010   \{}
\DoxyCodeLine{01011     \textcolor{keywordtype}{int} c;}
\DoxyCodeLine{01012     \textcolor{keywordflow}{for} (c = c0; c <= c1; c++) \{}
\DoxyCodeLine{01013       \textcolor{keywordtype}{int} dn = nr -\/ oldNr;}
\DoxyCodeLine{01014       assert(oldNr > 0);}
\DoxyCodeLine{01015       std::unique\_ptr<TXshCell[]> cells(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}[oldNr]);}
\DoxyCodeLine{01016       assert(cells);}
\DoxyCodeLine{01017       \mbox{\hyperlink{class_t_xsheet_a24ef8c4d08fb6a3f2f469a91ca184b23}{getCells}}(r0, c, oldNr, cells.get());}
\DoxyCodeLine{01018       \mbox{\hyperlink{class_t_xsheet_abd28bd6d7b54d51bc066279ae4d1d94e}{insertCells}}(r0 + 1, c, dn);}
\DoxyCodeLine{01019       \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01020       \textcolor{keywordflow}{for} (i = nr -\/ 1; i >= 0; i-\/-\/) \{}
\DoxyCodeLine{01021         \textcolor{keywordtype}{int} j = i * double(oldNr) / double(nr);}
\DoxyCodeLine{01022         \textcolor{keywordflow}{if} (j < i) setCell(i + r0, c, cells[j]);}
\DoxyCodeLine{01023       \}}
\DoxyCodeLine{01024     \}}
\DoxyCodeLine{01025   \} \textcolor{keywordflow}{else} \textcolor{comment}{/* rimpicciolisce */}}
\DoxyCodeLine{01026   \{}
\DoxyCodeLine{01027     \textcolor{keywordtype}{int} c;}
\DoxyCodeLine{01028     \textcolor{keywordflow}{for} (c = c0; c <= c1; c++) \{}
\DoxyCodeLine{01029       \textcolor{keywordtype}{int} dn = oldNr -\/ nr;}
\DoxyCodeLine{01030       std::unique\_ptr<TXshCell[]> cells(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}}[oldNr]);}
\DoxyCodeLine{01031       assert(cells);}
\DoxyCodeLine{01032       \mbox{\hyperlink{class_t_xsheet_a24ef8c4d08fb6a3f2f469a91ca184b23}{getCells}}(r0, c, oldNr, cells.get());}
\DoxyCodeLine{01033       \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01034       \textcolor{keywordflow}{for} (i = 0; i < nr; i++) \{}
\DoxyCodeLine{01035         \textcolor{keywordtype}{int} j = i * double(oldNr) / double(nr);}
\DoxyCodeLine{01036         \textcolor{keywordflow}{if} (j > i) setCell(i + r0, c, cells[j]);}
\DoxyCodeLine{01037       \}}
\DoxyCodeLine{01038       \mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{removeCells}}(r1 -\/ dn + 1, c, dn);}
\DoxyCodeLine{01039     \}}
\DoxyCodeLine{01040   \}}
\DoxyCodeLine{01041 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00309}{get\+Cells()}}, \mbox{\hyperlink{l00392}{insert\+Cells()}}, and \mbox{\hyperlink{l00405}{remove\+Cells()}}.

\mbox{\Hypertarget{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}\label{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}} 
\index{TXsheet@{TXsheet}!updateFrameCount@{updateFrameCount}}
\index{updateFrameCount@{updateFrameCount}!TXsheet@{TXsheet}}
\doxysubsubsection{\texorpdfstring{updateFrameCount()}{updateFrameCount()}}
{\footnotesize\ttfamily void TXsheet\+::update\+Frame\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Updates xsheet frame count, find max frame count between all xsheet column, using \mbox{\hyperlink{class_t_xsheet_a255fd3bc544cfb5f9c7cacad894971f4}{get\+Max\+Frame()}}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01166                                \{}
\DoxyCodeLine{01167   m\_imp-\/>m\_frameCount = 0;}
\DoxyCodeLine{01168   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_imp-\/>m\_columnSet.getColumnCount(); ++i) \{}
\DoxyCodeLine{01169     \mbox{\hyperlink{class_t_smart_pointer_t}{TXshColumnP}} cc = m\_imp-\/>m\_columnSet.getColumn(i);}
\DoxyCodeLine{01170     \textcolor{keywordflow}{if} (cc \&\& !cc-\/>isEmpty())}
\DoxyCodeLine{01171       m\_imp-\/>m\_frameCount =}
\DoxyCodeLine{01172           std::max(m\_imp-\/>m\_frameCount, cc-\/>getMaxFrame() + 1);}
\DoxyCodeLine{01173   \}}
\DoxyCodeLine{01174 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00423}{clear\+Cells()}}, \mbox{\hyperlink{l00090}{Child\+Stack\+::close\+Child()}}, \mbox{\hyperlink{l01045}{expose\+Level()}}, \mbox{\hyperlink{l01178}{load\+Data()}}, \mbox{\hyperlink{l00394}{Toonz\+Scene\+::load\+No\+Resources()}}, \mbox{\hyperlink{l00411}{Toonz\+Scene\+::load\+Resources()}}, \mbox{\hyperlink{l00623}{TXsh\+Sound\+Column\+::modify\+Cell\+Range()}}, \mbox{\hyperlink{l00405}{remove\+Cells()}}, \mbox{\hyperlink{l00327}{TColumn\+Data\+Element\+::restore\+Column()}}, and \mbox{\hyperlink{l00327}{set\+Cells()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/txsheet.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/txsheet.\+cpp\end{DoxyCompactItemize}
