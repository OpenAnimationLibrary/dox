\hypertarget{class_s_v_n_commit_dialog}{}\doxysection{SVNCommit\+Dialog Class Reference}
\label{class_s_v_n_commit_dialog}\index{SVNCommitDialog@{SVNCommitDialog}}
Inheritance diagram for SVNCommit\+Dialog\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_s_v_n_commit_dialog}
\end{center}
\end{figure}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_s_v_n_commit_dialog_a0b4b4bbd217a38502c168f52742e4933}\label{class_s_v_n_commit_dialog_a0b4b4bbd217a38502c168f52742e4933}} 
void {\bfseries done} (const QString\+List \&)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_s_v_n_commit_dialog_a4b1451d38398c347a6e8a9320c0573b7}{SVNCommit\+Dialog}} (QWidget $\ast$parent, const QString \&working\+Dir, const QString\+List \&files, bool folder\+Only=false, int m\+\_\+scene\+Icon\+Added=0)
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_ac8616b3d6ed85d0bfa8d444523ff84b0}{check\+Files}} (bool is\+External\+Files=false)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_a29c3aa3c772e5edef1ee44b2079e4c98}{on\+Commit\+Button\+Clicked}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_a7f7ed4b7112f5db2232085d16d4059d7}{on\+Add\+Done}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_a260ef399e5df9c401b11f0a96875d17d}{on\+Set\+Property\+Done}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_a4908a6e2065fe7677120aedef6a21964}{on\+Commit\+Done}} ()
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_aad5cd2bc7197721cb295f941f13129ee}{on\+Item\+Changed}} (QTree\+Widget\+Item $\ast$)
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_a11b905123cf98eb61db45521af48d117}{on\+Selection\+Check\+Box\+Clicked}} (bool checked)
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_a1c5909db8db224f0a3816c204270027b}{on\+Error}} (const QString \&)
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_ab22fe9f80776972cbf0b35acbb14de9b}{on\+Status\+Retrieved}} (const QString \&)
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_abc5e584266de8cf1feef552268863f8f}{on\+Status\+Retrieved\+After\+Add}} (const QString \&)
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_a153c5e9870d1ecc22c7a137e13aa2152}{on\+Resources\+Status\+Retrieved}} (const QString \&)
\item 
void \mbox{\hyperlink{class_s_v_n_commit_dialog_a196428713d5d058acbdf50481f886c9d}{on\+Commi\+Scene\+Contents\+Toggled}} (bool)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_a4b1451d38398c347a6e8a9320c0573b7}\label{class_s_v_n_commit_dialog_a4b1451d38398c347a6e8a9320c0573b7}} 
\index{SVNCommitDialog@{SVNCommitDialog}!SVNCommitDialog@{SVNCommitDialog}}
\index{SVNCommitDialog@{SVNCommitDialog}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{SVNCommitDialog()}{SVNCommitDialog()}}
{\footnotesize\ttfamily SVNCommit\+Dialog\+::\+SVNCommit\+Dialog (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent,  }\item[{const QString \&}]{working\+Dir,  }\item[{const QString\+List \&}]{files,  }\item[{bool}]{folder\+Only = {\ttfamily false},  }\item[{int}]{m\+\_\+scene\+Icon\+Added = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00043     : Dialog(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getMainWindow(), \textcolor{keyword}{true}, \textcolor{keyword}{false})}
\DoxyCodeLine{00044     , m\_commitSceneContentsCheckBox(0)}
\DoxyCodeLine{00045     , m\_workingDir(workingDir)}
\DoxyCodeLine{00046     , m\_files(files)}
\DoxyCodeLine{00047     , m\_folderOnly(folderOnly)}
\DoxyCodeLine{00048     , m\_targetTempFile(0)}
\DoxyCodeLine{00049     , m\_selectionCheckBox(0)}
\DoxyCodeLine{00050     , m\_selectionLabel(0)}
\DoxyCodeLine{00051     , m\_sceneIconAdded(sceneIconAdded)}
\DoxyCodeLine{00052     , m\_folderAdded(0) \{}
\DoxyCodeLine{00053   setModal(\textcolor{keyword}{false});}
\DoxyCodeLine{00054   setAttribute(Qt::WA\_DeleteOnClose, \textcolor{keyword}{true});}
\DoxyCodeLine{00055   setWindowTitle(tr(\textcolor{stringliteral}{"{}Version Control: Put changes"{}}));}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057   \textcolor{keywordflow}{if} (m\_folderOnly)}
\DoxyCodeLine{00058     setMinimumSize(320, 320);}
\DoxyCodeLine{00059   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00060     setMinimumSize(300, 180);}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062   QWidget *container = \textcolor{keyword}{new} QWidget;}
\DoxyCodeLine{00063 }
\DoxyCodeLine{00064   QVBoxLayout *mainLayout = \textcolor{keyword}{new} QVBoxLayout;}
\DoxyCodeLine{00065   mainLayout-\/>setAlignment(Qt::AlignHCenter);}
\DoxyCodeLine{00066   mainLayout-\/>setMargin(0);}
\DoxyCodeLine{00067 }
\DoxyCodeLine{00068   m\_treeWidget = \textcolor{keyword}{new} QTreeWidget;}
\DoxyCodeLine{00069   m\_treeWidget-\/>header()-\/>hide();}
\DoxyCodeLine{00070   m\_treeWidget-\/>hide();}
\DoxyCodeLine{00071 }
\DoxyCodeLine{00072   \textcolor{keywordflow}{if} (m\_folderOnly) \{}
\DoxyCodeLine{00073     m\_treeWidget-\/>setSelectionMode(QAbstractItemView::ExtendedSelection);}
\DoxyCodeLine{00074     m\_treeWidget-\/>setIconSize(QSize(21, 18));}
\DoxyCodeLine{00075   \}}
\DoxyCodeLine{00076   m\_treeWidget-\/>setStyleSheet(\textcolor{stringliteral}{"{}QTreeWidget \{ border: 1px solid gray; \}"{}});}
\DoxyCodeLine{00077 }
\DoxyCodeLine{00078   \textcolor{keywordflow}{if} (m\_folderOnly) \{}
\DoxyCodeLine{00079     mainLayout-\/>addWidget(m\_treeWidget);}
\DoxyCodeLine{00080 }
\DoxyCodeLine{00081     QHBoxLayout *belowTreeLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00082     belowTreeLayout-\/>setMargin(0);}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084     m\_selectionCheckBox = \textcolor{keyword}{new} QCheckBox(tr(\textcolor{stringliteral}{"{}Select / Deselect All"{}}), 0);}
\DoxyCodeLine{00085     connect(m\_selectionCheckBox, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{00086             SLOT(onSelectionCheckBoxClicked(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088     m\_selectionLabel = \textcolor{keyword}{new} QLabel;}
\DoxyCodeLine{00089     m\_selectionLabel-\/>setText(tr(\textcolor{stringliteral}{"{}0 Selected / 0 Total"{}}));}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091     m\_selectionCheckBox-\/>hide();}
\DoxyCodeLine{00092     m\_selectionLabel-\/>hide();}
\DoxyCodeLine{00093 }
\DoxyCodeLine{00094     belowTreeLayout-\/>addWidget(m\_selectionCheckBox);}
\DoxyCodeLine{00095     belowTreeLayout-\/>addStretch();}
\DoxyCodeLine{00096     belowTreeLayout-\/>addWidget(m\_selectionLabel);}
\DoxyCodeLine{00097 }
\DoxyCodeLine{00098     mainLayout-\/>addLayout(belowTreeLayout);}
\DoxyCodeLine{00099   \}}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101   QHBoxLayout *hLayout = \textcolor{keyword}{new} QHBoxLayout;}
\DoxyCodeLine{00102 }
\DoxyCodeLine{00103   m\_waitingLabel      = \textcolor{keyword}{new} QLabel;}
\DoxyCodeLine{00104   QMovie *waitingMove = \textcolor{keyword}{new} QMovie(\textcolor{stringliteral}{"{}:Resources/waiting.gif"{}});}
\DoxyCodeLine{00105   waitingMove-\/>setParent(\textcolor{keyword}{this});}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107   m\_waitingLabel-\/>setMovie(waitingMove);}
\DoxyCodeLine{00108   waitingMove-\/>setCacheMode(QMovie::CacheAll);}
\DoxyCodeLine{00109   waitingMove-\/>start();}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111   m\_textLabel = \textcolor{keyword}{new} QLabel;}
\DoxyCodeLine{00112   m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}Getting repository status..."{}}));}
\DoxyCodeLine{00113 }
\DoxyCodeLine{00114   hLayout-\/>addStretch();}
\DoxyCodeLine{00115   hLayout-\/>addWidget(m\_waitingLabel);}
\DoxyCodeLine{00116   hLayout-\/>addWidget(m\_textLabel);}
\DoxyCodeLine{00117   hLayout-\/>addStretch();}
\DoxyCodeLine{00118 }
\DoxyCodeLine{00119   mainLayout-\/>addLayout(hLayout);}
\DoxyCodeLine{00120 }
\DoxyCodeLine{00121   \textcolor{keywordflow}{if} (!m\_folderOnly)}
\DoxyCodeLine{00122     mainLayout-\/>addWidget(m\_treeWidget);}
\DoxyCodeLine{00123   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00124     mainLayout-\/>addSpacing(10);}
\DoxyCodeLine{00125 }
\DoxyCodeLine{00126   QFormLayout *formLayout = \textcolor{keyword}{new} QFormLayout;}
\DoxyCodeLine{00127   formLayout-\/>setLabelAlignment(Qt::AlignRight);}
\DoxyCodeLine{00128   formLayout-\/>setFormAlignment(Qt::AlignHCenter | Qt::AlignTop);}
\DoxyCodeLine{00129   formLayout-\/>setSpacing(10);}
\DoxyCodeLine{00130   formLayout-\/>setMargin(0);}
\DoxyCodeLine{00131 }
\DoxyCodeLine{00132   m\_commentTextEdit = \textcolor{keyword}{new} QPlainTextEdit;}
\DoxyCodeLine{00133   m\_commentTextEdit-\/>setMaximumHeight(50);}
\DoxyCodeLine{00134   m\_commentTextEdit-\/>hide();}
\DoxyCodeLine{00135 }
\DoxyCodeLine{00136   m\_commentLabel = \textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Comment:"{}}));}
\DoxyCodeLine{00137   m\_commentLabel-\/>setFixedWidth(55);}
\DoxyCodeLine{00138   m\_commentLabel-\/>hide();}
\DoxyCodeLine{00139 }
\DoxyCodeLine{00140   formLayout-\/>addRow(m\_commentLabel, m\_commentTextEdit);}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142   \textcolor{keywordflow}{if} (!m\_folderOnly) \{}
\DoxyCodeLine{00143     m\_commitSceneContentsCheckBox = \textcolor{keyword}{new} QCheckBox(\textcolor{keyword}{this});}
\DoxyCodeLine{00144     connect(m\_commitSceneContentsCheckBox, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{00145             SLOT(onCommiSceneContentsToggled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00146     m\_commitSceneContentsCheckBox-\/>setChecked(\textcolor{keyword}{false});}
\DoxyCodeLine{00147     m\_commitSceneContentsCheckBox-\/>hide();}
\DoxyCodeLine{00148     m\_commitSceneContentsCheckBox-\/>setText(tr(\textcolor{stringliteral}{"{}Put Scene Contents"{}}));}
\DoxyCodeLine{00149     formLayout-\/>addRow(\textcolor{stringliteral}{"{}"{}}, m\_commitSceneContentsCheckBox);}
\DoxyCodeLine{00150   \}}
\DoxyCodeLine{00151 }
\DoxyCodeLine{00152   mainLayout-\/>addLayout(formLayout);}
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154   container-\/>setLayout(mainLayout);}
\DoxyCodeLine{00155 }
\DoxyCodeLine{00156   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_a21628a44d453352094b61b62b4407c6b}{beginHLayout}}();}
\DoxyCodeLine{00157   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(container, \textcolor{keyword}{false});}
\DoxyCodeLine{00158   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_abe29ee90829fe5e0351fbdee41089252}{endHLayout}}();}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160   m\_commitButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Put"{}}));}
\DoxyCodeLine{00161   m\_commitButton-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00162   connect(m\_commitButton, SIGNAL(clicked()), \textcolor{keyword}{this},}
\DoxyCodeLine{00163           SLOT(onCommitButtonClicked()));}
\DoxyCodeLine{00164 }
\DoxyCodeLine{00165   m\_cancelButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Cancel"{}}));}
\DoxyCodeLine{00166   connect(m\_cancelButton, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(reject()));}
\DoxyCodeLine{00167 }
\DoxyCodeLine{00168   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_aff324b24a1ad0c06fdc178024c1f0cf0}{addButtonBarWidget}}(m\_commitButton, m\_cancelButton);}
\DoxyCodeLine{00169 }
\DoxyCodeLine{00170   \textcolor{comment}{// 0. Connect for svn errors (that may occur every time)}}
\DoxyCodeLine{00171   connect(\&m\_thread, SIGNAL(error(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00172           SLOT(onError(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00173 }
\DoxyCodeLine{00174   \textcolor{comment}{// 1. Getting status (with show-\/updates enabled...)}}
\DoxyCodeLine{00175   connect(\&m\_thread, SIGNAL(statusRetrieved(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00176           SLOT(onStatusRetrieved(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00177   m\_thread.getSVNStatus(m\_workingDir, m\_files, \textcolor{keyword}{true});}
\DoxyCodeLine{00178 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_ac8616b3d6ed85d0bfa8d444523ff84b0}\label{class_s_v_n_commit_dialog_ac8616b3d6ed85d0bfa8d444523ff84b0}} 
\index{SVNCommitDialog@{SVNCommitDialog}!checkFiles@{checkFiles}}
\index{checkFiles@{checkFiles}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{checkFiles()}{checkFiles()}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::check\+Files (\begin{DoxyParamCaption}\item[{bool}]{is\+External\+Files = {\ttfamily false} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00589                                                      \{}
\DoxyCodeLine{00590   \textcolor{keywordtype}{int} statusCount = m\_status.size();}
\DoxyCodeLine{00591   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < statusCount; i++) \{}
\DoxyCodeLine{00592     \mbox{\hyperlink{struct_s_v_n_status}{SVNStatus}} s = m\_status.at(i);}
\DoxyCodeLine{00593     \textcolor{keywordflow}{if} (s.m\_path == \textcolor{stringliteral}{"{}."{}} || s.m\_path == \textcolor{stringliteral}{"{}.."{}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00594     \textcolor{keywordflow}{if} (s.m\_item == \textcolor{stringliteral}{"{}unversioned"{}}) \{}
\DoxyCodeLine{00595       \textcolor{keywordflow}{if} (isExternalFiles || m\_files.contains(s.m\_path)) \{}
\DoxyCodeLine{00596         \textcolor{keywordflow}{if} (m\_folderOnly)}
\DoxyCodeLine{00597           addUnversionedItem(s.m\_path);}
\DoxyCodeLine{00598         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00599           m\_filesToAdd.append(s.m\_path);}
\DoxyCodeLine{00600       \}}
\DoxyCodeLine{00601     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (s.m\_item != \textcolor{stringliteral}{"{}normal"{}} \&\& s.m\_item != \textcolor{stringliteral}{"{}incomplete"{}} \&\&}
\DoxyCodeLine{00602                s.m\_item != \textcolor{stringliteral}{"{}missing"{}}) \{}
\DoxyCodeLine{00603       \textcolor{keywordflow}{if} (isExternalFiles || m\_files.contains(s.m\_path)) \{}
\DoxyCodeLine{00604         \textcolor{keywordflow}{if} (m\_folderOnly)}
\DoxyCodeLine{00605           addModifiedItem(s.m\_path);}
\DoxyCodeLine{00606         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00607           m\_filesToCommit.append(s.m\_path);}
\DoxyCodeLine{00608       \}}
\DoxyCodeLine{00609     \}}
\DoxyCodeLine{00610   \}}
\DoxyCodeLine{00611 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_a7f7ed4b7112f5db2232085d16d4059d7}\label{class_s_v_n_commit_dialog_a7f7ed4b7112f5db2232085d16d4059d7}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onAddDone@{onAddDone}}
\index{onAddDone@{onAddDone}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onAddDone}{onAddDone}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Add\+Done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00350                                 \{}
\DoxyCodeLine{00351   \textcolor{keywordflow}{if} (m\_targetTempFile) \{}
\DoxyCodeLine{00352     QFile::remove(m\_targetTempFile-\/>fileName());}
\DoxyCodeLine{00353     \textcolor{keyword}{delete} m\_targetTempFile;}
\DoxyCodeLine{00354     m\_targetTempFile = 0;}
\DoxyCodeLine{00355   \}}
\DoxyCodeLine{00356 }
\DoxyCodeLine{00357   \textcolor{keywordtype}{int} fileToAddCount = m\_filesToAdd.size();}
\DoxyCodeLine{00358   \textcolor{keywordflow}{if} (fileToAddCount + m\_sceneResourcesToCommit.size() > 0) \{}
\DoxyCodeLine{00359     m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}Getting repository status..."{}}));}
\DoxyCodeLine{00360 }
\DoxyCodeLine{00361     m\_thread.disconnect(SIGNAL(statusRetrieved(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00362     connect(\&m\_thread, SIGNAL(statusRetrieved(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00363             SLOT(onStatusRetrievedAfterAdd(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00364 }
\DoxyCodeLine{00365     QStringList oldFilesAndResources;}
\DoxyCodeLine{00366     oldFilesAndResources.append(m\_files);}
\DoxyCodeLine{00367     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_filesToAdd.size(); i++) \{}
\DoxyCodeLine{00368       QString fileToAdd = m\_filesToAdd.at(i);}
\DoxyCodeLine{00369       \textcolor{keywordflow}{if} (!oldFilesAndResources.contains(fileToAdd))}
\DoxyCodeLine{00370         oldFilesAndResources.append(fileToAdd);}
\DoxyCodeLine{00371     \}}
\DoxyCodeLine{00372 }
\DoxyCodeLine{00373     \textcolor{keywordtype}{int} resCount = m\_sceneResourcesToCommit.size();}
\DoxyCodeLine{00374     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r = 0; r < resCount; r++) \{}
\DoxyCodeLine{00375       QString path  = m\_sceneResourcesToCommit.at(r);}
\DoxyCodeLine{00376       \textcolor{keywordtype}{int} lastIndex = path.lastIndexOf(QRegExp(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)|/"{}}));}
\DoxyCodeLine{00377 }
\DoxyCodeLine{00378       \textcolor{keywordflow}{while} (lastIndex != -\/1) \{}
\DoxyCodeLine{00379         path = path.left(lastIndex);}
\DoxyCodeLine{00380         \textcolor{keywordflow}{if} (!oldFilesAndResources.contains(path) \&\& path != \textcolor{stringliteral}{"{}.."{}})}
\DoxyCodeLine{00381           oldFilesAndResources.append(path);}
\DoxyCodeLine{00382         lastIndex = path.lastIndexOf(QRegExp(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)|/"{}}));}
\DoxyCodeLine{00383       \}}
\DoxyCodeLine{00384     \}}
\DoxyCodeLine{00385 }
\DoxyCodeLine{00386     \textcolor{comment}{// Add also sceneIcons folder}}
\DoxyCodeLine{00387     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < m\_filesToAdd.size(); x++) \{}
\DoxyCodeLine{00388       QString s = m\_filesToAdd.at(x);}
\DoxyCodeLine{00389       \textcolor{keywordflow}{if} (s.contains(\textcolor{stringliteral}{"{}sceneIcons"{}}) \&\& s.endsWith(\textcolor{stringliteral}{"{}.png"{}})) \{}
\DoxyCodeLine{00390         \textcolor{keywordtype}{int} lastIndex = s.lastIndexOf(QRegExp(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)|/"{}}));}
\DoxyCodeLine{00391         \textcolor{keywordflow}{while} (lastIndex != -\/1) \{}
\DoxyCodeLine{00392           s = s.left(lastIndex);}
\DoxyCodeLine{00393           \textcolor{keywordflow}{if} (!oldFilesAndResources.contains(s) \&\& s != \textcolor{stringliteral}{"{}.."{}})}
\DoxyCodeLine{00394             oldFilesAndResources.append(s);}
\DoxyCodeLine{00395           lastIndex = s.lastIndexOf(QRegExp(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)|/"{}}));}
\DoxyCodeLine{00396         \}}
\DoxyCodeLine{00397       \}}
\DoxyCodeLine{00398     \}}
\DoxyCodeLine{00399 }
\DoxyCodeLine{00400     m\_thread.getSVNStatus(m\_workingDir, oldFilesAndResources, \textcolor{keyword}{true});}
\DoxyCodeLine{00401   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00402     \textcolor{keywordtype}{int} fileToCommitCount = m\_filesToCommit.size();}
\DoxyCodeLine{00403     \textcolor{keywordflow}{if} (fileToCommitCount > 0)}
\DoxyCodeLine{00404       m\_textLabel-\/>setText(}
\DoxyCodeLine{00405           tr(\textcolor{stringliteral}{"{}Committing \%1 items..."{}})}
\DoxyCodeLine{00406               .arg(QString::number(fileToCommitCount -\/ m\_sceneIconAdded)));}
\DoxyCodeLine{00407     \textcolor{comment}{// Then we commits changes (add, remove, modified files)}}
\DoxyCodeLine{00408     commitFiles();}
\DoxyCodeLine{00409   \}}
\DoxyCodeLine{00410 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_a196428713d5d058acbdf50481f886c9d}\label{class_s_v_n_commit_dialog_a196428713d5d058acbdf50481f886c9d}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onCommiSceneContentsToggled@{onCommiSceneContentsToggled}}
\index{onCommiSceneContentsToggled@{onCommiSceneContentsToggled}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onCommiSceneContentsToggled}{onCommiSceneContentsToggled}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Commi\+Scene\+Contents\+Toggled (\begin{DoxyParamCaption}\item[{bool}]{checked }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00882                                                               \{}
\DoxyCodeLine{00883   \textcolor{keywordflow}{if} (!checked) \{}
\DoxyCodeLine{00884     m\_sceneResourcesToCommit.clear();}
\DoxyCodeLine{00885   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00886     \mbox{\hyperlink{class_version_control}{VersionControl}} *vc = VersionControl::instance();}
\DoxyCodeLine{00887 }
\DoxyCodeLine{00888     \textcolor{keywordtype}{int} fileSize = m\_filesToPut.count();}
\DoxyCodeLine{00889     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < fileSize; i++) \{}
\DoxyCodeLine{00890       QString fileName = m\_filesToPut.at(i);}
\DoxyCodeLine{00891       \textcolor{keywordflow}{if} (fileName.endsWith(\textcolor{stringliteral}{"{}.tnz"{}})) \{}
\DoxyCodeLine{00892         QStringList sceneContents =}
\DoxyCodeLine{00893             vc-\/>getSceneContents(m\_workingDir, fileName);}
\DoxyCodeLine{00894         QDir workingDir(m\_workingDir);}
\DoxyCodeLine{00895         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} s = 0; s < sceneContents.size(); s++) \{}
\DoxyCodeLine{00896           QString resource     = sceneContents.at(s);}
\DoxyCodeLine{00897           QString relativePath = workingDir.relativeFilePath(resource);}
\DoxyCodeLine{00898           m\_sceneResourcesToCommit.append(relativePath);}
\DoxyCodeLine{00899         \}}
\DoxyCodeLine{00900       \}}
\DoxyCodeLine{00901     \}}
\DoxyCodeLine{00902   \}}
\DoxyCodeLine{00903   m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}\%1 items to put."{}})}
\DoxyCodeLine{00904                            .arg(m\_filesToPut.size() +}
\DoxyCodeLine{00905                                 m\_sceneResourcesToCommit.size() -\/}
\DoxyCodeLine{00906                                 m\_sceneIconAdded));}
\DoxyCodeLine{00907 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_a29c3aa3c772e5edef1ee44b2079e4c98}\label{class_s_v_n_commit_dialog_a29c3aa3c772e5edef1ee44b2079e4c98}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onCommitButtonClicked@{onCommitButtonClicked}}
\index{onCommitButtonClicked@{onCommitButtonClicked}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onCommitButtonClicked}{onCommitButtonClicked}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Commit\+Button\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00182                                             \{}
\DoxyCodeLine{00183   \textcolor{keywordflow}{if} (m\_folderOnly) \{}
\DoxyCodeLine{00184     QMapIterator<QString, QTreeWidgetItem *> i(m\_items);}
\DoxyCodeLine{00185     \textcolor{keywordflow}{while} (i.hasNext()) \{}
\DoxyCodeLine{00186       i.next();}
\DoxyCodeLine{00187       QTreeWidgetItem *item = i.value();}
\DoxyCodeLine{00188       \textcolor{keywordflow}{if} (item \&\& item-\/>checkState(0) == Qt::Checked) \{}
\DoxyCodeLine{00189         \textcolor{keywordflow}{if} (item-\/>data(0, Qt::UserRole + 1).toBool())}
\DoxyCodeLine{00190           m\_filesToAdd.append(item-\/>data(0, Qt::UserRole).toString());}
\DoxyCodeLine{00191         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00192           m\_filesToCommit.append(item-\/>data(0, Qt::UserRole).toString());}
\DoxyCodeLine{00193       \}}
\DoxyCodeLine{00194     \}}
\DoxyCodeLine{00195   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00196     m\_commitSceneContentsCheckBox-\/>hide();}
\DoxyCodeLine{00197 }
\DoxyCodeLine{00198   m\_commitButton-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00199 }
\DoxyCodeLine{00200   \textcolor{comment}{// Check the status of the scene resource in order to see if some items has}}
\DoxyCodeLine{00201   \textcolor{comment}{// to be added or can be directly committed}}
\DoxyCodeLine{00202   \textcolor{keywordflow}{if} (!m\_folderOnly \&\& !m\_sceneResourcesToCommit.empty()) \{}
\DoxyCodeLine{00203     m\_thread.disconnect(SIGNAL(statusRetrieved(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00204     connect(\&m\_thread, SIGNAL(statusRetrieved(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00205             SLOT(onResourcesStatusRetrieved(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00206     m\_thread.getSVNStatus(m\_workingDir, m\_sceneResourcesToCommit, \textcolor{keyword}{true});}
\DoxyCodeLine{00207     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00208   \}}
\DoxyCodeLine{00209 }
\DoxyCodeLine{00210   \textcolor{comment}{// addFiles > getStatus > setProperties > commitFiles}}
\DoxyCodeLine{00211   addFiles();}
\DoxyCodeLine{00212 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_a4908a6e2065fe7677120aedef6a21964}\label{class_s_v_n_commit_dialog_a4908a6e2065fe7677120aedef6a21964}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onCommitDone@{onCommitDone}}
\index{onCommitDone@{onCommitDone}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onCommitDone}{onCommitDone}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Commit\+Done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00414                                    \{}
\DoxyCodeLine{00415   m\_waitingLabel-\/>hide();}
\DoxyCodeLine{00416   m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}Put done successfully."{}}));}
\DoxyCodeLine{00417 }
\DoxyCodeLine{00418   \textcolor{keywordflow}{if} (m\_targetTempFile) \{}
\DoxyCodeLine{00419     QFile::remove(m\_targetTempFile-\/>fileName());}
\DoxyCodeLine{00420     \textcolor{keyword}{delete} m\_targetTempFile;}
\DoxyCodeLine{00421     m\_targetTempFile = 0;}
\DoxyCodeLine{00422   \}}
\DoxyCodeLine{00423 }
\DoxyCodeLine{00424   QStringList files;}
\DoxyCodeLine{00425   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_filesToCommit.size(); i++)}
\DoxyCodeLine{00426     files.append(m\_filesToCommit.at(i));}
\DoxyCodeLine{00427 }
\DoxyCodeLine{00428   emit done(files);}
\DoxyCodeLine{00429   switchToCloseButton();}
\DoxyCodeLine{00430 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_a1c5909db8db224f0a3816c204270027b}\label{class_s_v_n_commit_dialog_a1c5909db8db224f0a3816c204270027b}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onError@{onError}}
\index{onError@{onError}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onError}{onError}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Error (\begin{DoxyParamCaption}\item[{const QString \&}]{error\+String }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00826                                                         \{}
\DoxyCodeLine{00827   \textcolor{keywordflow}{if} (m\_targetTempFile) \{}
\DoxyCodeLine{00828     QFile::remove(m\_targetTempFile-\/>fileName());}
\DoxyCodeLine{00829     \textcolor{keyword}{delete} m\_targetTempFile;}
\DoxyCodeLine{00830     m\_targetTempFile = 0;}
\DoxyCodeLine{00831   \}}
\DoxyCodeLine{00832 }
\DoxyCodeLine{00833   m\_textLabel-\/>show();}
\DoxyCodeLine{00834   m\_textLabel-\/>setText(errorString);}
\DoxyCodeLine{00835   switchToCloseButton();}
\DoxyCodeLine{00836   update();}
\DoxyCodeLine{00837 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_aad5cd2bc7197721cb295f941f13129ee}\label{class_s_v_n_commit_dialog_aad5cd2bc7197721cb295f941f13129ee}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onItemChanged@{onItemChanged}}
\index{onItemChanged@{onItemChanged}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onItemChanged}{onItemChanged}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Item\+Changed (\begin{DoxyParamCaption}\item[{QTree\+Widget\+Item $\ast$}]{item }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00765                                                          \{}
\DoxyCodeLine{00766   disconnect(m\_treeWidget, SIGNAL(itemChanged(QTreeWidgetItem *, \textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{00767              SLOT(onItemChanged(QTreeWidgetItem *)));}
\DoxyCodeLine{00768 }
\DoxyCodeLine{00769   Qt::CheckState state = item-\/>checkState(0);}
\DoxyCodeLine{00770 }
\DoxyCodeLine{00771   QList<QTreeWidgetItem *> list = m\_treeWidget-\/>selectedItems();}
\DoxyCodeLine{00772   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < list.count(); i++) \{}
\DoxyCodeLine{00773     QTreeWidgetItem *selItem = list.at(i);}
\DoxyCodeLine{00774     \textcolor{keywordflow}{if} (selItem != item \&\& !selItem-\/>data(0, Qt::CheckStateRole).isNull())}
\DoxyCodeLine{00775       selItem-\/>setCheckState(0, state);}
\DoxyCodeLine{00776   \}}
\DoxyCodeLine{00777 }
\DoxyCodeLine{00778   connect(m\_treeWidget, SIGNAL(itemChanged(QTreeWidgetItem *, \textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{00779           SLOT(onItemChanged(QTreeWidgetItem *)));}
\DoxyCodeLine{00780 }
\DoxyCodeLine{00781   updateTreeSelectionLabel();}
\DoxyCodeLine{00782 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_a153c5e9870d1ecc22c7a137e13aa2152}\label{class_s_v_n_commit_dialog_a153c5e9870d1ecc22c7a137e13aa2152}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onResourcesStatusRetrieved@{onResourcesStatusRetrieved}}
\index{onResourcesStatusRetrieved@{onResourcesStatusRetrieved}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onResourcesStatusRetrieved}{onResourcesStatusRetrieved}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Resources\+Status\+Retrieved (\begin{DoxyParamCaption}\item[{const QString \&}]{xml\+Response }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00456                                                                            \{}
\DoxyCodeLine{00457   \mbox{\hyperlink{class_s_v_n_status_reader}{SVNStatusReader}} sr(xmlResponse);}
\DoxyCodeLine{00458   m\_status = sr.getStatus();}
\DoxyCodeLine{00459 }
\DoxyCodeLine{00460   m\_thread.disconnect(SIGNAL(statusRetrieved(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00461 }
\DoxyCodeLine{00462   checkFiles(\textcolor{keyword}{true});}
\DoxyCodeLine{00463 }
\DoxyCodeLine{00464   \textcolor{comment}{// addFiles > getStatus > setProperties > commitFiles}}
\DoxyCodeLine{00465   addFiles();}
\DoxyCodeLine{00466 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_a11b905123cf98eb61db45521af48d117}\label{class_s_v_n_commit_dialog_a11b905123cf98eb61db45521af48d117}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onSelectionCheckBoxClicked@{onSelectionCheckBoxClicked}}
\index{onSelectionCheckBoxClicked@{onSelectionCheckBoxClicked}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onSelectionCheckBoxClicked}{onSelectionCheckBoxClicked}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Selection\+Check\+Box\+Clicked (\begin{DoxyParamCaption}\item[{bool}]{checked }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00786                                                              \{}
\DoxyCodeLine{00787   QMapIterator<QString, QTreeWidgetItem *> i(m\_items);}
\DoxyCodeLine{00788 }
\DoxyCodeLine{00789   \textcolor{keywordtype}{int} totalCount = 0;}
\DoxyCodeLine{00790 }
\DoxyCodeLine{00791   \textcolor{keywordflow}{while} (i.hasNext()) \{}
\DoxyCodeLine{00792     i.next();}
\DoxyCodeLine{00793     QTreeWidgetItem *item = i.value();}
\DoxyCodeLine{00794     \textcolor{keywordflow}{if} (item \&\& !item-\/>data(0, Qt::CheckStateRole).isNull()) \{}
\DoxyCodeLine{00795       totalCount++;}
\DoxyCodeLine{00796       item-\/>setCheckState(0, checked ? Qt::Checked : Qt::Unchecked);}
\DoxyCodeLine{00797     \}}
\DoxyCodeLine{00798   \}}
\DoxyCodeLine{00799 }
\DoxyCodeLine{00800   m\_selectionLabel-\/>setText(tr(\textcolor{stringliteral}{"{}\%1 Selected / \%2 Total"{}})}
\DoxyCodeLine{00801                                 .arg(checked ? totalCount : 0)}
\DoxyCodeLine{00802                                 .arg(totalCount));}
\DoxyCodeLine{00803 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_a260ef399e5df9c401b11f0a96875d17d}\label{class_s_v_n_commit_dialog_a260ef399e5df9c401b11f0a96875d17d}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onSetPropertyDone@{onSetPropertyDone}}
\index{onSetPropertyDone@{onSetPropertyDone}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onSetPropertyDone}{onSetPropertyDone}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Set\+Property\+Done (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00434                                         \{}
\DoxyCodeLine{00435   \textcolor{keywordflow}{if} (m\_targetTempFile) \{}
\DoxyCodeLine{00436     QFile::remove(m\_targetTempFile-\/>fileName());}
\DoxyCodeLine{00437     \textcolor{keyword}{delete} m\_targetTempFile;}
\DoxyCodeLine{00438     m\_targetTempFile = 0;}
\DoxyCodeLine{00439   \}}
\DoxyCodeLine{00440 }
\DoxyCodeLine{00441   \textcolor{keywordflow}{if} (m\_filesToCommit.size() + m\_sceneResourcesToCommit.size() > 0) \{}
\DoxyCodeLine{00442     \textcolor{keywordtype}{int} putCount = m\_filesToCommit.size() -\/ m\_sceneIconAdded -\/ m\_folderAdded;}
\DoxyCodeLine{00443     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_sceneResourcesToCommit.size(); i++) \{}
\DoxyCodeLine{00444       \textcolor{keywordflow}{if} (m\_filesToCommit.contains(m\_sceneResourcesToCommit.at(i))) putCount-\/-\/;}
\DoxyCodeLine{00445     \}}
\DoxyCodeLine{00446     m\_textLabel-\/>setText(}
\DoxyCodeLine{00447         tr(\textcolor{stringliteral}{"{}Putting \%1 items..."{}}).arg(QString::number(putCount)));}
\DoxyCodeLine{00448   \}}
\DoxyCodeLine{00449 }
\DoxyCodeLine{00450   \textcolor{comment}{// Then we commits changes (add, remove, modified files)}}
\DoxyCodeLine{00451   commitFiles();}
\DoxyCodeLine{00452 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_ab22fe9f80776972cbf0b35acbb14de9b}\label{class_s_v_n_commit_dialog_ab22fe9f80776972cbf0b35acbb14de9b}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onStatusRetrieved@{onStatusRetrieved}}
\index{onStatusRetrieved@{onStatusRetrieved}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onStatusRetrieved}{onStatusRetrieved}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Status\+Retrieved (\begin{DoxyParamCaption}\item[{const QString \&}]{xml\+Response }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00470                                                                   \{}
\DoxyCodeLine{00471   \mbox{\hyperlink{class_s_v_n_status_reader}{SVNStatusReader}} sr(xmlResponse);}
\DoxyCodeLine{00472   m\_status   = sr.getStatus();}
\DoxyCodeLine{00473   \textcolor{keywordtype}{int} height = 160;}
\DoxyCodeLine{00474 }
\DoxyCodeLine{00475   m\_thread.disconnect(SIGNAL(statusRetrieved(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00476 }
\DoxyCodeLine{00477   checkFiles(m\_folderOnly);}
\DoxyCodeLine{00478 }
\DoxyCodeLine{00479   \textcolor{keywordflow}{if} (!m\_folderOnly) \{}
\DoxyCodeLine{00480     \textcolor{comment}{// Add, if necessary the scene icons: only when the folder "{}sceneIcons"{} is}}
\DoxyCodeLine{00481     \textcolor{comment}{// unversioned the status}}
\DoxyCodeLine{00482     \textcolor{comment}{// doesn't contains the scene icon information, so I added here manually...}}
\DoxyCodeLine{00483     \textcolor{keywordflow}{if} (m\_sceneIconAdded != 0) \{}
\DoxyCodeLine{00484       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_files.size(); i++) \{}
\DoxyCodeLine{00485         QString s = m\_files.at(i);}
\DoxyCodeLine{00486         \textcolor{keywordflow}{if} (s.contains(\textcolor{stringliteral}{"{}sceneIcons"{}}) \&\& s.endsWith(\textcolor{stringliteral}{"{}.png"{}}) \&\&}
\DoxyCodeLine{00487             !m\_filesToAdd.contains(s))}
\DoxyCodeLine{00488           m\_filesToAdd.append(s);}
\DoxyCodeLine{00489       \}}
\DoxyCodeLine{00490     \}}
\DoxyCodeLine{00491 }
\DoxyCodeLine{00492     m\_filesToPut.append(m\_filesToAdd);}
\DoxyCodeLine{00493     m\_filesToPut.append(m\_filesToCommit);}
\DoxyCodeLine{00494 }
\DoxyCodeLine{00495     \textcolor{keywordtype}{int} filesToPutCount = m\_filesToPut.size();}
\DoxyCodeLine{00496     \textcolor{keywordflow}{if} (filesToPutCount == 0) \{}
\DoxyCodeLine{00497       m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}No items to put."{}}));}
\DoxyCodeLine{00498       switchToCloseButton();}
\DoxyCodeLine{00499     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00500       m\_textLabel-\/>setText(}
\DoxyCodeLine{00501           tr(\textcolor{stringliteral}{"{}\%1 items to put."{}}).arg(filesToPutCount -\/ m\_sceneIconAdded));}
\DoxyCodeLine{00502 }
\DoxyCodeLine{00503       initTreeWidget();}
\DoxyCodeLine{00504 }
\DoxyCodeLine{00505       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < filesToPutCount; i++) \{}
\DoxyCodeLine{00506         \textcolor{keywordflow}{if} (m\_filesToPut.at(i).endsWith(\textcolor{stringliteral}{"{}.tnz"{}})) \{}
\DoxyCodeLine{00507           m\_commitSceneContentsCheckBox-\/>show();}
\DoxyCodeLine{00508           \textcolor{keywordflow}{break};}
\DoxyCodeLine{00509         \}}
\DoxyCodeLine{00510       \}}
\DoxyCodeLine{00511 }
\DoxyCodeLine{00512       \textcolor{keywordflow}{if} (m\_treeWidget-\/>isVisible()) height += (filesToPutCount * 25);}
\DoxyCodeLine{00513 }
\DoxyCodeLine{00514       setMinimumSize(350, std::min(height, 350));}
\DoxyCodeLine{00515 }
\DoxyCodeLine{00516       m\_waitingLabel-\/>hide();}
\DoxyCodeLine{00517       m\_commentLabel-\/>show();}
\DoxyCodeLine{00518       m\_commentTextEdit-\/>show();}
\DoxyCodeLine{00519 }
\DoxyCodeLine{00520       m\_commitButton-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00521     \}}
\DoxyCodeLine{00522     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00523   \}}
\DoxyCodeLine{00524 }
\DoxyCodeLine{00525   \textcolor{keywordflow}{if} (m\_items.size() == 0) \{}
\DoxyCodeLine{00526     m\_textLabel-\/>setText(tr(\textcolor{stringliteral}{"{}No items to put."{}}));}
\DoxyCodeLine{00527 }
\DoxyCodeLine{00528     switchToCloseButton();}
\DoxyCodeLine{00529   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00530     \textcolor{keywordflow}{if} (m\_folderOnly) \{}
\DoxyCodeLine{00531       updateTreeSelectionLabel();}
\DoxyCodeLine{00532       connect(m\_treeWidget, SIGNAL(itemChanged(QTreeWidgetItem *, \textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{00533               SLOT(onItemChanged(QTreeWidgetItem *)));}
\DoxyCodeLine{00534       m\_treeWidget-\/>show();}
\DoxyCodeLine{00535       m\_selectionCheckBox-\/>show();}
\DoxyCodeLine{00536       m\_selectionLabel-\/>show();}
\DoxyCodeLine{00537     \}}
\DoxyCodeLine{00538 }
\DoxyCodeLine{00539     \textcolor{keywordflow}{if} (m\_treeWidget-\/>isVisible()) height += (m\_items.size() * 25);}
\DoxyCodeLine{00540 }
\DoxyCodeLine{00541     setMinimumSize(350, std::min(height, 350));}
\DoxyCodeLine{00542 }
\DoxyCodeLine{00543     m\_waitingLabel-\/>hide();}
\DoxyCodeLine{00544     m\_textLabel-\/>hide();}
\DoxyCodeLine{00545     m\_commentLabel-\/>show();}
\DoxyCodeLine{00546     m\_commentTextEdit-\/>show();}
\DoxyCodeLine{00547 }
\DoxyCodeLine{00548     \textcolor{keywordflow}{if} (!m\_folderOnly) m\_commitButton-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00549   \}}
\DoxyCodeLine{00550 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_s_v_n_commit_dialog_abc5e584266de8cf1feef552268863f8f}\label{class_s_v_n_commit_dialog_abc5e584266de8cf1feef552268863f8f}} 
\index{SVNCommitDialog@{SVNCommitDialog}!onStatusRetrievedAfterAdd@{onStatusRetrievedAfterAdd}}
\index{onStatusRetrievedAfterAdd@{onStatusRetrievedAfterAdd}!SVNCommitDialog@{SVNCommitDialog}}
\doxysubsubsection{\texorpdfstring{onStatusRetrievedAfterAdd}{onStatusRetrievedAfterAdd}}
{\footnotesize\ttfamily void SVNCommit\+Dialog\+::on\+Status\+Retrieved\+After\+Add (\begin{DoxyParamCaption}\item[{const QString \&}]{xml\+Response }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00554                                                                           \{}
\DoxyCodeLine{00555   \mbox{\hyperlink{class_s_v_n_status_reader}{SVNStatusReader}} sr(xmlResponse);}
\DoxyCodeLine{00556   QList<SVNStatus> status = sr.getStatus();}
\DoxyCodeLine{00557 }
\DoxyCodeLine{00558   m\_thread.disconnect(SIGNAL(statusRetrieved(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00559 }
\DoxyCodeLine{00560   \textcolor{keywordtype}{int} statusCount = status.size();}
\DoxyCodeLine{00561   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < statusCount; i++) \{}
\DoxyCodeLine{00562     \mbox{\hyperlink{struct_s_v_n_status}{SVNStatus}} s = status.at(i);}
\DoxyCodeLine{00563     \textcolor{keywordflow}{if} (s.m\_item == \textcolor{stringliteral}{"{}added"{}}) \{}
\DoxyCodeLine{00564       \textcolor{comment}{// Pay attention: the svn:needs-\/lock property (or any property) cannot be}}
\DoxyCodeLine{00565       \textcolor{comment}{// set on folders}}
\DoxyCodeLine{00566       \textcolor{comment}{// Remove folder from files to Add}}
\DoxyCodeLine{00567       QFileInfo fi(s.m\_path);}
\DoxyCodeLine{00568       \textcolor{keywordflow}{if} (fi.isAbsolute()) \{}
\DoxyCodeLine{00569         \textcolor{keywordflow}{if} (fi.isFile()) m\_filesAdded.append(s.m\_path);}
\DoxyCodeLine{00570       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00571         fi = QFileInfo(m\_workingDir + \textcolor{stringliteral}{"{}/"{}} + s.m\_path);}
\DoxyCodeLine{00572         \textcolor{keywordflow}{if} (fi.isFile()) \{}
\DoxyCodeLine{00573           \textcolor{keywordflow}{if} (!m\_filesAdded.contains(s.m\_path)) m\_filesAdded.append(s.m\_path);}
\DoxyCodeLine{00574         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00575           \textcolor{keywordflow}{if} (!m\_filesToCommit.contains(s.m\_path)) \{}
\DoxyCodeLine{00576             m\_filesToCommit.append(s.m\_path);}
\DoxyCodeLine{00577             m\_folderAdded++;}
\DoxyCodeLine{00578           \}}
\DoxyCodeLine{00579         \}}
\DoxyCodeLine{00580       \}}
\DoxyCodeLine{00581     \}}
\DoxyCodeLine{00582   \}}
\DoxyCodeLine{00583 }
\DoxyCodeLine{00584   setPropertyFiles();}
\DoxyCodeLine{00585 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/svncommitdialog.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/svncommitdialog.\+cpp\end{DoxyCompactItemize}
