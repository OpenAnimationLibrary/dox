\hypertarget{class_shift_trace_tool_option_box}{}\doxysection{Shift\+Trace\+Tool\+Option\+Box Class Reference}
\label{class_shift_trace_tool_option_box}\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
Inheritance diagram for Shift\+Trace\+Tool\+Option\+Box\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_shift_trace_tool_option_box}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_shift_trace_tool_option_box_a57868beabb2475efeb0f7b9dfcb2524b}{Shift\+Trace\+Tool\+Option\+Box}} (QWidget $\ast$parent=0, \mbox{\hyperlink{class_t_tool}{TTool}} $\ast$tool=0)
\item 
void \mbox{\hyperlink{class_shift_trace_tool_option_box_a5c3cdb9d2c81a7774c1a5b551c3b0cd6}{update\+Status}} () override
\begin{DoxyCompactList}\small\item\em Invokes \mbox{\hyperlink{class_shift_trace_tool_option_box_a5c3cdb9d2c81a7774c1a5b551c3b0cd6}{update\+Status()}} on all registered controls. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_shift_trace_tool_option_box_afde2d4110932ffcc850ee78560d6b21a}{on\+Reset\+Prev\+Ghost\+Btn\+Pressed}} ()
\item 
void \mbox{\hyperlink{class_shift_trace_tool_option_box_a3596389e14521f2f5dd00f0d55459b32}{on\+Reset\+After\+Ghost\+Btn\+Pressed}} ()
\item 
void \mbox{\hyperlink{class_shift_trace_tool_option_box_a77959b827a82c09153fc6ef5325af9e6}{on\+Prev\+Radio\+Btn\+Clicked}} ()
\item 
void \mbox{\hyperlink{class_shift_trace_tool_option_box_ac5f65944f1908b13f3b1ee6546624794}{on\+After\+Radio\+Btn\+Clicked}} ()
\item 
void \mbox{\hyperlink{class_shift_trace_tool_option_box_abff42bdf3542ab12f9ce27695f074c13}{update\+Colors}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_shift_trace_tool_option_box_a6fa2a4ec4a7bb3fd763db3c6e33a525c}{show\+Event}} (QShow\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_shift_trace_tool_option_box_a43f769e1273f83d7d3f46b82369e7f5c}{hide\+Event}} (QShow\+Event $\ast$)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_shift_trace_tool_option_box_a57868beabb2475efeb0f7b9dfcb2524b}\label{class_shift_trace_tool_option_box_a57868beabb2475efeb0f7b9dfcb2524b}} 
\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}!ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}!ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
\doxysubsubsection{\texorpdfstring{ShiftTraceToolOptionBox()}{ShiftTraceToolOptionBox()}}
{\footnotesize\ttfamily Shift\+Trace\+Tool\+Option\+Box\+::\+Shift\+Trace\+Tool\+Option\+Box (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0},  }\item[{\mbox{\hyperlink{class_t_tool}{TTool}} $\ast$}]{tool = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02426     : \mbox{\hyperlink{class_tool_options_box}{ToolOptionsBox}}(parent), m\_tool(tool) \{}
\DoxyCodeLine{02427   setFrameStyle(QFrame::StyledPanel);}
\DoxyCodeLine{02428   setFixedHeight(26);}
\DoxyCodeLine{02429 }
\DoxyCodeLine{02430   m\_prevFrame  = \textcolor{keyword}{new} QFrame(\textcolor{keyword}{this});}
\DoxyCodeLine{02431   m\_afterFrame = \textcolor{keyword}{new} QFrame(\textcolor{keyword}{this});}
\DoxyCodeLine{02432 }
\DoxyCodeLine{02433   m\_resetPrevGhostBtn  = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Reset Previous"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{02434   m\_resetAfterGhostBtn = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Reset Following"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{02435 }
\DoxyCodeLine{02436   m\_prevRadioBtn  = \textcolor{keyword}{new} QRadioButton(tr(\textcolor{stringliteral}{"{}Previous Drawing"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{02437   m\_afterRadioBtn = \textcolor{keyword}{new} QRadioButton(tr(\textcolor{stringliteral}{"{}Following Drawing"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{02438 }
\DoxyCodeLine{02439   m\_prevFrame-\/>setFixedSize(10, 21);}
\DoxyCodeLine{02440   m\_afterFrame-\/>setFixedSize(10, 21);}
\DoxyCodeLine{02441   \textcolor{keywordtype}{int} buttonWidth = fontMetrics().width(m\_resetPrevGhostBtn-\/>text()) + 10;}
\DoxyCodeLine{02442   m\_resetPrevGhostBtn-\/>setFixedWidth(buttonWidth);}
\DoxyCodeLine{02443   buttonWidth = fontMetrics().width(m\_resetAfterGhostBtn-\/>text()) + 10;}
\DoxyCodeLine{02444   m\_resetAfterGhostBtn-\/>setFixedWidth(buttonWidth);}
\DoxyCodeLine{02445 }
\DoxyCodeLine{02446   m\_layout-\/>addWidget(m\_prevFrame, 0);}
\DoxyCodeLine{02447   m\_layout-\/>addWidget(m\_prevRadioBtn, 0);}
\DoxyCodeLine{02448   m\_layout-\/>addWidget(m\_resetPrevGhostBtn, 0);}
\DoxyCodeLine{02449 }
\DoxyCodeLine{02450   m\_layout-\/>addWidget(\textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_separator}{DVGui::Separator}}(\textcolor{stringliteral}{"{}"{}}, \textcolor{keyword}{this}, \textcolor{keyword}{false}));}
\DoxyCodeLine{02451 }
\DoxyCodeLine{02452   m\_layout-\/>addWidget(m\_afterFrame, 0);}
\DoxyCodeLine{02453   m\_layout-\/>addWidget(m\_afterRadioBtn, 0);}
\DoxyCodeLine{02454   m\_layout-\/>addWidget(m\_resetAfterGhostBtn, 0);}
\DoxyCodeLine{02455 }
\DoxyCodeLine{02456   m\_layout-\/>addStretch(1);}
\DoxyCodeLine{02457 }
\DoxyCodeLine{02458   connect(m\_resetPrevGhostBtn, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{02459           SLOT(onResetPrevGhostBtnPressed()));}
\DoxyCodeLine{02460   connect(m\_resetAfterGhostBtn, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{02461           SLOT(onResetAfterGhostBtnPressed()));}
\DoxyCodeLine{02462   connect(m\_prevRadioBtn, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{02463           SLOT(onPrevRadioBtnClicked()));}
\DoxyCodeLine{02464   connect(m\_afterRadioBtn, SIGNAL(clicked(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{02465           SLOT(onAfterRadioBtnClicked()));}
\DoxyCodeLine{02466 }
\DoxyCodeLine{02467   \mbox{\hyperlink{class_shift_trace_tool_option_box_a5c3cdb9d2c81a7774c1a5b551c3b0cd6}{updateStatus}}();}
\DoxyCodeLine{02468 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_shift_trace_tool_option_box_a43f769e1273f83d7d3f46b82369e7f5c}\label{class_shift_trace_tool_option_box_a43f769e1273f83d7d3f46b82369e7f5c}} 
\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}!hideEvent@{hideEvent}}
\index{hideEvent@{hideEvent}!ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
\doxysubsubsection{\texorpdfstring{hideEvent()}{hideEvent()}}
{\footnotesize\ttfamily void Shift\+Trace\+Tool\+Option\+Box\+::hide\+Event (\begin{DoxyParamCaption}\item[{QShow\+Event $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02477                                                     \{}
\DoxyCodeLine{02478   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{02479   disconnect(app-\/>getCurrentOnionSkin(), SIGNAL(onionSkinMaskChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{02480              SLOT(updateColors()));}
\DoxyCodeLine{02481 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shift_trace_tool_option_box_ac5f65944f1908b13f3b1ee6546624794}\label{class_shift_trace_tool_option_box_ac5f65944f1908b13f3b1ee6546624794}} 
\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}!onAfterRadioBtnClicked@{onAfterRadioBtnClicked}}
\index{onAfterRadioBtnClicked@{onAfterRadioBtnClicked}!ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
\doxysubsubsection{\texorpdfstring{onAfterRadioBtnClicked}{onAfterRadioBtnClicked}}
{\footnotesize\ttfamily void Shift\+Trace\+Tool\+Option\+Box\+::on\+After\+Radio\+Btn\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02548                                                      \{}
\DoxyCodeLine{02549   \mbox{\hyperlink{class_shift_trace_tool}{ShiftTraceTool}} *stTool = (\mbox{\hyperlink{class_shift_trace_tool}{ShiftTraceTool}} *)m\_tool;}
\DoxyCodeLine{02550   \textcolor{keywordflow}{if} (!stTool) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02551   stTool-\/>setCurrentGhostIndex(1);}
\DoxyCodeLine{02552 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shift_trace_tool_option_box_a77959b827a82c09153fc6ef5325af9e6}\label{class_shift_trace_tool_option_box_a77959b827a82c09153fc6ef5325af9e6}} 
\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}!onPrevRadioBtnClicked@{onPrevRadioBtnClicked}}
\index{onPrevRadioBtnClicked@{onPrevRadioBtnClicked}!ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
\doxysubsubsection{\texorpdfstring{onPrevRadioBtnClicked}{onPrevRadioBtnClicked}}
{\footnotesize\ttfamily void Shift\+Trace\+Tool\+Option\+Box\+::on\+Prev\+Radio\+Btn\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02542                                                     \{}
\DoxyCodeLine{02543   \mbox{\hyperlink{class_shift_trace_tool}{ShiftTraceTool}} *stTool = (\mbox{\hyperlink{class_shift_trace_tool}{ShiftTraceTool}} *)m\_tool;}
\DoxyCodeLine{02544   \textcolor{keywordflow}{if} (!stTool) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02545   stTool-\/>setCurrentGhostIndex(0);}
\DoxyCodeLine{02546 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shift_trace_tool_option_box_a3596389e14521f2f5dd00f0d55459b32}\label{class_shift_trace_tool_option_box_a3596389e14521f2f5dd00f0d55459b32}} 
\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}!onResetAfterGhostBtnPressed@{onResetAfterGhostBtnPressed}}
\index{onResetAfterGhostBtnPressed@{onResetAfterGhostBtnPressed}!ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
\doxysubsubsection{\texorpdfstring{onResetAfterGhostBtnPressed}{onResetAfterGhostBtnPressed}}
{\footnotesize\ttfamily void Shift\+Trace\+Tool\+Option\+Box\+::on\+Reset\+After\+Ghost\+Btn\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02501 \{ resetGhost(1); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shift_trace_tool_option_box_afde2d4110932ffcc850ee78560d6b21a}\label{class_shift_trace_tool_option_box_afde2d4110932ffcc850ee78560d6b21a}} 
\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}!onResetPrevGhostBtnPressed@{onResetPrevGhostBtnPressed}}
\index{onResetPrevGhostBtnPressed@{onResetPrevGhostBtnPressed}!ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
\doxysubsubsection{\texorpdfstring{onResetPrevGhostBtnPressed}{onResetPrevGhostBtnPressed}}
{\footnotesize\ttfamily void Shift\+Trace\+Tool\+Option\+Box\+::on\+Reset\+Prev\+Ghost\+Btn\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02499 \{ resetGhost(0); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shift_trace_tool_option_box_a6fa2a4ec4a7bb3fd763db3c6e33a525c}\label{class_shift_trace_tool_option_box_a6fa2a4ec4a7bb3fd763db3c6e33a525c}} 
\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}!showEvent@{showEvent}}
\index{showEvent@{showEvent}!ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
\doxysubsubsection{\texorpdfstring{showEvent()}{showEvent()}}
{\footnotesize\ttfamily void Shift\+Trace\+Tool\+Option\+Box\+::show\+Event (\begin{DoxyParamCaption}\item[{QShow\+Event $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02470                                                     \{}
\DoxyCodeLine{02471   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{02472   connect(app-\/>getCurrentOnionSkin(), SIGNAL(onionSkinMaskChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{02473           SLOT(updateColors()));}
\DoxyCodeLine{02474   updateColors();}
\DoxyCodeLine{02475 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shift_trace_tool_option_box_abff42bdf3542ab12f9ce27695f074c13}\label{class_shift_trace_tool_option_box_abff42bdf3542ab12f9ce27695f074c13}} 
\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}!updateColors@{updateColors}}
\index{updateColors@{updateColors}!ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
\doxysubsubsection{\texorpdfstring{updateColors}{updateColors}}
{\footnotesize\ttfamily void Shift\+Trace\+Tool\+Option\+Box\+::update\+Colors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02503                                            \{}
\DoxyCodeLine{02504   TPixel front, back;}
\DoxyCodeLine{02505   \textcolor{keywordtype}{bool} ink;}
\DoxyCodeLine{02506   Preferences::instance()-\/>getOnionData(front, back, ink);}
\DoxyCodeLine{02507 }
\DoxyCodeLine{02508   m\_prevFrame-\/>setStyleSheet(QString(\textcolor{stringliteral}{"{}background:rgb(\%1,\%2,\%3,255);"{}})}
\DoxyCodeLine{02509                                  .arg((\textcolor{keywordtype}{int})back.r)}
\DoxyCodeLine{02510                                  .arg((\textcolor{keywordtype}{int})back.g)}
\DoxyCodeLine{02511                                  .arg((\textcolor{keywordtype}{int})back.b));}
\DoxyCodeLine{02512   m\_afterFrame-\/>setStyleSheet(QString(\textcolor{stringliteral}{"{}background:rgb(\%1,\%2,\%3,255);"{}})}
\DoxyCodeLine{02513                                   .arg((\textcolor{keywordtype}{int})front.r)}
\DoxyCodeLine{02514                                   .arg((\textcolor{keywordtype}{int})front.g)}
\DoxyCodeLine{02515                                   .arg((\textcolor{keywordtype}{int})front.b));}
\DoxyCodeLine{02516 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shift_trace_tool_option_box_a5c3cdb9d2c81a7774c1a5b551c3b0cd6}\label{class_shift_trace_tool_option_box_a5c3cdb9d2c81a7774c1a5b551c3b0cd6}} 
\index{ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}!updateStatus@{updateStatus}}
\index{updateStatus@{updateStatus}!ShiftTraceToolOptionBox@{ShiftTraceToolOptionBox}}
\doxysubsubsection{\texorpdfstring{updateStatus()}{updateStatus()}}
{\footnotesize\ttfamily void Shift\+Trace\+Tool\+Option\+Box\+::update\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Invokes \mbox{\hyperlink{class_shift_trace_tool_option_box_a5c3cdb9d2c81a7774c1a5b551c3b0cd6}{update\+Status()}} on all registered controls. 



Reimplemented from \mbox{\hyperlink{class_tool_options_box_a475daf4252f0d89d4968d25bb57783ab}{Tool\+Options\+Box}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02518                                            \{}
\DoxyCodeLine{02519   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{02520   \mbox{\hyperlink{class_onion_skin_mask}{OnionSkinMask}} osm       = app-\/>getCurrentOnionSkin()-\/>getOnionSkinMask();}
\DoxyCodeLine{02521   \textcolor{keywordflow}{if} (osm.getShiftTraceGhostAff(0).\mbox{\hyperlink{class_t_affine_a5671bcda5ebc9262ec1681bb96cf8633}{isIdentity}}() \&\&}
\DoxyCodeLine{02522       osm.getShiftTraceGhostCenter(0) == \mbox{\hyperlink{class_t_point_t}{TPointD}}())}
\DoxyCodeLine{02523     m\_resetPrevGhostBtn-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{02524   \textcolor{keywordflow}{else}}
\DoxyCodeLine{02525     m\_resetPrevGhostBtn-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{02526 }
\DoxyCodeLine{02527   \textcolor{keywordflow}{if} (osm.getShiftTraceGhostAff(1).\mbox{\hyperlink{class_t_affine_a5671bcda5ebc9262ec1681bb96cf8633}{isIdentity}}() \&\&}
\DoxyCodeLine{02528       osm.getShiftTraceGhostCenter(1) == \mbox{\hyperlink{class_t_point_t}{TPointD}}())}
\DoxyCodeLine{02529     m\_resetAfterGhostBtn-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{02530   \textcolor{keywordflow}{else}}
\DoxyCodeLine{02531     m\_resetAfterGhostBtn-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{02532 }
\DoxyCodeLine{02533   \textcolor{comment}{// Check the ghost index}}
\DoxyCodeLine{02534   \mbox{\hyperlink{class_shift_trace_tool}{ShiftTraceTool}} *stTool = (\mbox{\hyperlink{class_shift_trace_tool}{ShiftTraceTool}} *)m\_tool;}
\DoxyCodeLine{02535   \textcolor{keywordflow}{if} (!stTool) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02536   \textcolor{keywordflow}{if} (stTool-\/>getCurrentGhostIndex() == 0)}
\DoxyCodeLine{02537     m\_prevRadioBtn-\/>setChecked(\textcolor{keyword}{true});}
\DoxyCodeLine{02538   \textcolor{keywordflow}{else}  \textcolor{comment}{// ghostIndex == 1}}
\DoxyCodeLine{02539     m\_afterRadioBtn-\/>setChecked(\textcolor{keyword}{true});}
\DoxyCodeLine{02540 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00096}{TAffine\+::is\+Identity()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tools/tooloptions.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/tooloptions.\+cpp\end{DoxyCompactItemize}
