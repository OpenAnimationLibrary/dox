\hypertarget{class_tracker_popup}{}\doxysection{Tracker\+Popup Class Reference}
\label{class_tracker_popup}\index{TrackerPopup@{TrackerPopup}}


La classe si occupa di visualizzare il popup \char`\"{}convert-\/\+To-\/\+Vector Settings\char`\"{}.  




{\ttfamily \#include $<$trackerpopup.\+h$>$}

Inheritance diagram for Tracker\+Popup\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_tracker_popup}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_tracker_popup_a94a2e3ed5829c5c28665e29ea89aa096}{on\+Track}} ()
\begin{DoxyCompactList}\small\item\em Se la vettorializzazione e\textquotesingle{} andata a buon fine chiude il popup. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_tracker_popup_ac3450689ae3bdd24529ef3108f75ba83}{start\+New\+Thread}} ()
\begin{DoxyCompactList}\small\item\em Inizia il tracking in un nuovo thread. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_tracker_popup_ae05daa6b713c4ff29dbe559d2c4685d8}{stop\+Processing}} ()
\begin{DoxyCompactList}\small\item\em Ferma il processo di tracking dopo il frame corrente. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_tracker_popup_a8a24619cb9b5bfd8c83c4a898cab4c79}{Tracker\+Popup}} (QWidget $\ast$parent=0, Qt\+::\+WFlags flags=Qt\+::\+Tool)
\item 
bool \mbox{\hyperlink{class_tracker_popup_adb5475e5f2a186584adbce6fe1b199b0}{apply}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
La classe si occupa di visualizzare il popup \char`\"{}convert-\/\+To-\/\+Vector Settings\char`\"{}. 

Consente di cambiare modalita\textquotesingle{} di vettorizzazione e quindi in funzione di questa di cambiare i parametri da settare. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_tracker_popup_a8a24619cb9b5bfd8c83c4a898cab4c79}\label{class_tracker_popup_a8a24619cb9b5bfd8c83c4a898cab4c79}} 
\index{TrackerPopup@{TrackerPopup}!TrackerPopup@{TrackerPopup}}
\index{TrackerPopup@{TrackerPopup}!TrackerPopup@{TrackerPopup}}
\doxysubsubsection{\texorpdfstring{TrackerPopup()}{TrackerPopup()}}
{\footnotesize\ttfamily Tracker\+Popup\+::\+Tracker\+Popup (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0},  }\item[{Qt\+::\+WFlags}]{flags = {\ttfamily Qt\+:\+:Tool} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00155     : \mbox{\hyperlink{class_d_v_gui_1_1_dialog}{Dialog}}(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getMainWindow(), \textcolor{keyword}{true}, \textcolor{keyword}{true}, \textcolor{stringliteral}{"{}Tracker"{}}) \{}
\DoxyCodeLine{00156   \textcolor{comment}{// Su MAC i dialog modali non hanno bottoni di chiusura nella titleBar}}
\DoxyCodeLine{00157   setModal(\textcolor{keyword}{false});}
\DoxyCodeLine{00158   setWindowTitle(tr(\textcolor{stringliteral}{"{}Tracking Settings"{}}));}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ae7de609b3b23233656bc68852a2d10cb}{beginVLayout}}();}
\DoxyCodeLine{00161 }
\DoxyCodeLine{00162   \textcolor{comment}{// IntField per i parametri threshold, accuracy, smoothness}}
\DoxyCodeLine{00163   m\_threshold = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_double_field}{DoubleField}}();  \textcolor{comment}{// W\_Threshold}}
\DoxyCodeLine{00164   m\_threshold-\/>setFixedHeight(WidgetHeight);}
\DoxyCodeLine{00165   m\_threshold-\/>setRange(0, 1);}
\DoxyCodeLine{00166   m\_threshold-\/>setValue(0.2);}
\DoxyCodeLine{00167   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(tr(\textcolor{stringliteral}{"{}Threshold:"{}}), m\_threshold);}
\DoxyCodeLine{00168 }
\DoxyCodeLine{00169   m\_sensitivity = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_double_field}{DoubleField}}();  \textcolor{comment}{// W\_Accuracy}}
\DoxyCodeLine{00170   m\_sensitivity-\/>setFixedHeight(WidgetHeight);}
\DoxyCodeLine{00171   m\_sensitivity-\/>setRange(0, 1000);}
\DoxyCodeLine{00172   m\_sensitivity-\/>setValue(10);}
\DoxyCodeLine{00173   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(tr(\textcolor{stringliteral}{"{}Sensitivity:"{}}), m\_sensitivity);}
\DoxyCodeLine{00174 }
\DoxyCodeLine{00175   m\_variationWindow = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_check_box}{CheckBox}}(tr(\textcolor{stringliteral}{"{}Variable Region Size"{}}));}
\DoxyCodeLine{00176   m\_variationWindow-\/>setFixedHeight(WidgetHeight);}
\DoxyCodeLine{00177   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(m\_variationWindow);}
\DoxyCodeLine{00178 }
\DoxyCodeLine{00179   m\_activeBackground = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_check_box}{CheckBox}}(tr(\textcolor{stringliteral}{"{}Include Background"{}}));}
\DoxyCodeLine{00180   m\_activeBackground-\/>setFixedHeight(WidgetHeight);}
\DoxyCodeLine{00181   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ada55b78010dbe97d4f2692cc6f2e933f}{addWidget}}(m\_activeBackground);}
\DoxyCodeLine{00182 }
\DoxyCodeLine{00183   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ab88d88334402845e544da6ca1f207c79}{endVLayout}}();}
\DoxyCodeLine{00184 }
\DoxyCodeLine{00185   \textcolor{comment}{// Bottone Convert}}
\DoxyCodeLine{00186   m\_trackBtn = \textcolor{keyword}{new} QPushButton(QString(tr(\textcolor{stringliteral}{"{}Track"{}})), \textcolor{keyword}{this});  \textcolor{comment}{// W\_Vectorize}}
\DoxyCodeLine{00187   connect(m\_trackBtn, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(\mbox{\hyperlink{class_tracker_popup_a94a2e3ed5829c5c28665e29ea89aa096}{onTrack}}()));}
\DoxyCodeLine{00188 }
\DoxyCodeLine{00189   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_aff324b24a1ad0c06fdc178024c1f0cf0}{addButtonBarWidget}}(m\_trackBtn);}
\DoxyCodeLine{00190 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_tracker_popup_adb5475e5f2a186584adbce6fe1b199b0}\label{class_tracker_popup_adb5475e5f2a186584adbce6fe1b199b0}} 
\index{TrackerPopup@{TrackerPopup}!apply@{apply}}
\index{apply@{apply}!TrackerPopup@{TrackerPopup}}
\doxysubsubsection{\texorpdfstring{apply()}{apply()}}
{\footnotesize\ttfamily bool Tracker\+Popup\+::apply (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00194                          \{}
\DoxyCodeLine{00195   \textcolor{keywordtype}{float} threshold      = m\_threshold-\/>getValue();}
\DoxyCodeLine{00196   \textcolor{keywordtype}{float} sensitivity    = m\_sensitivity-\/>getValue() / 1000;}
\DoxyCodeLine{00197   \textcolor{keywordtype}{int} activeBackground = m\_activeBackground-\/>isChecked();}
\DoxyCodeLine{00198   \textcolor{keywordtype}{int} manageOcclusion  = 0;}
\DoxyCodeLine{00199   \textcolor{keywordtype}{int} variationWindow  = m\_variationWindow-\/>isChecked();}
\DoxyCodeLine{00200 }
\DoxyCodeLine{00201   \mbox{\hyperlink{class_t_selection}{TSelection}} *selection =}
\DoxyCodeLine{00202       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a6e0ee1978807a89009571ed5ce44323b}{getCurrentSelection}}()-\/>getSelection();}
\DoxyCodeLine{00203   \mbox{\hyperlink{class_t_cell_selection}{TCellSelection}} *cellSelection = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_cell_selection}{TCellSelection}} *\textcolor{keyword}{>}(selection);}
\DoxyCodeLine{00204   \mbox{\hyperlink{class_t_filmstrip_selection}{TFilmstripSelection}} *filmstripSelection =}
\DoxyCodeLine{00205       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_filmstrip_selection}{TFilmstripSelection}} *\textcolor{keyword}{>}(selection);}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207   \textcolor{keywordtype}{int} frameStart   = 0;}
\DoxyCodeLine{00208   \textcolor{keywordtype}{int} framesNumber = 0;}
\DoxyCodeLine{00209 }
\DoxyCodeLine{00210   \textcolor{keywordflow}{if} (cellSelection) \{}
\DoxyCodeLine{00211     \mbox{\hyperlink{class_t_cell_selection_1_1_range}{TCellSelection::Range}} range = cellSelection-\/>getSelectedCells();}
\DoxyCodeLine{00212     \textcolor{keywordflow}{if} (range.getColCount() == 1) \{}
\DoxyCodeLine{00213       frameStart   = range.m\_r0 + 1;}
\DoxyCodeLine{00214       framesNumber = range.m\_r1 -\/ range.m\_r0 + 1;}
\DoxyCodeLine{00215     \}}
\DoxyCodeLine{00216   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (filmstripSelection) \{}
\DoxyCodeLine{00217     set<TFrameId> frameIds = filmstripSelection-\/>getSelectedFids();}
\DoxyCodeLine{00218     \textcolor{keywordflow}{if} (!frameIds.empty()) \{}
\DoxyCodeLine{00219       frameStart   = frameIds.begin()-\/>getNumber();}
\DoxyCodeLine{00220       framesNumber = frameIds.size();}
\DoxyCodeLine{00221     \}}
\DoxyCodeLine{00222   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00223     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00224 }
\DoxyCodeLine{00225   \textcolor{keywordflow}{if} (framesNumber <= 0) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00226 }
\DoxyCodeLine{00227   m\_tracker =}
\DoxyCodeLine{00228       \textcolor{keyword}{new} \mbox{\hyperlink{class_tracker}{Tracker}}(threshold, sensitivity, activeBackground, manageOcclusion,}
\DoxyCodeLine{00229                   variationWindow, frameStart, framesNumber);}
\DoxyCodeLine{00230   \textcolor{keywordflow}{if} (m\_tracker-\/>getLastError() != 0) \{}
\DoxyCodeLine{00231     DVGui::warning(m\_tracker-\/>getLastError());}
\DoxyCodeLine{00232     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00233   \}}
\DoxyCodeLine{00234 }
\DoxyCodeLine{00235   m\_myThread = \textcolor{keyword}{new} \mbox{\hyperlink{class_my_thread}{MyThread}}(m\_tracker);}
\DoxyCodeLine{00236   connect(m\_myThread, SIGNAL(finished()), \textcolor{keyword}{this}, SLOT(\mbox{\hyperlink{class_tracker_popup_ac3450689ae3bdd24529ef3108f75ba83}{startNewThread}}()));}
\DoxyCodeLine{00237   m\_progressBarIndex = 0;}
\DoxyCodeLine{00238   m\_stoppedProcess   = \textcolor{keyword}{false};}
\DoxyCodeLine{00239   m\_progress =}
\DoxyCodeLine{00240       \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_progress_dialog}{ProgressDialog}}(tr(\textcolor{stringliteral}{"{}Processing..."{}}), tr(\textcolor{stringliteral}{"{}Cancel"{}}), m\_progressBarIndex,}
\DoxyCodeLine{00241                          m\_tracker-\/>getFramesNumber() -\/ 1);}
\DoxyCodeLine{00242   \textcolor{comment}{//    QPushButton* cancelButton = new QPushButton(QString("{}Cancel"{}),this);}}
\DoxyCodeLine{00243   \textcolor{comment}{//  m\_progress-\/>setCancelButton(cancelButton);}}
\DoxyCodeLine{00244   \textcolor{keywordtype}{bool} ret =}
\DoxyCodeLine{00245       connect(m\_progress, SIGNAL(canceled()), \textcolor{keyword}{this}, SLOT(\mbox{\hyperlink{class_tracker_popup_ae05daa6b713c4ff29dbe559d2c4685d8}{stopProcessing}}()));}
\DoxyCodeLine{00246   assert(ret);}
\DoxyCodeLine{00247   \textcolor{comment}{//    m\_progress-\/>setWindowModality(Qt::WindowModal);}}
\DoxyCodeLine{00248   m\_progress-\/>show();}
\DoxyCodeLine{00249   m\_myThread-\/>start();}
\DoxyCodeLine{00250 }
\DoxyCodeLine{00251   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00252 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tracker_popup_a94a2e3ed5829c5c28665e29ea89aa096}\label{class_tracker_popup_a94a2e3ed5829c5c28665e29ea89aa096}} 
\index{TrackerPopup@{TrackerPopup}!onTrack@{onTrack}}
\index{onTrack@{onTrack}!TrackerPopup@{TrackerPopup}}
\doxysubsubsection{\texorpdfstring{onTrack}{onTrack}}
{\footnotesize\ttfamily void Tracker\+Popup\+::on\+Track (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



Se la vettorializzazione e\textquotesingle{} andata a buon fine chiude il popup. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00279 \{ apply(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tracker_popup_ac3450689ae3bdd24529ef3108f75ba83}\label{class_tracker_popup_ac3450689ae3bdd24529ef3108f75ba83}} 
\index{TrackerPopup@{TrackerPopup}!startNewThread@{startNewThread}}
\index{startNewThread@{startNewThread}!TrackerPopup@{TrackerPopup}}
\doxysubsubsection{\texorpdfstring{startNewThread}{startNewThread}}
{\footnotesize\ttfamily void Tracker\+Popup\+::start\+New\+Thread (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



Inizia il tracking in un nuovo thread. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00253                                   \{}
\DoxyCodeLine{00254   \textcolor{comment}{// Interruzione del processing da parte dell'utente}}
\DoxyCodeLine{00255   \textcolor{keywordflow}{if} (m\_stoppedProcess) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00256   QString lastError = m\_tracker-\/>getLastError();}
\DoxyCodeLine{00257   \textcolor{keywordflow}{if} (lastError != \textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{00258     QMessageBox::critical(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}Tracking Error"{}}, lastError);}
\DoxyCodeLine{00259     m\_progress-\/>close();}
\DoxyCodeLine{00260     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00261   \}}
\DoxyCodeLine{00262   \textcolor{keywordtype}{int} progressBarMaxValue = m\_tracker-\/>getFramesNumber() -\/ 1;}
\DoxyCodeLine{00263   m\_progressBarIndex++;}
\DoxyCodeLine{00264   m\_progress-\/>setValue(m\_progressBarIndex);}
\DoxyCodeLine{00265   \textcolor{keywordflow}{if} (m\_progressBarIndex < progressBarMaxValue) \{}
\DoxyCodeLine{00266     m\_myThread-\/>start();}
\DoxyCodeLine{00267   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00268     m\_progress-\/>close();}
\DoxyCodeLine{00269     close();}
\DoxyCodeLine{00270   \}}
\DoxyCodeLine{00271 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tracker_popup_ae05daa6b713c4ff29dbe559d2c4685d8}\label{class_tracker_popup_ae05daa6b713c4ff29dbe559d2c4685d8}} 
\index{TrackerPopup@{TrackerPopup}!stopProcessing@{stopProcessing}}
\index{stopProcessing@{stopProcessing}!TrackerPopup@{TrackerPopup}}
\doxysubsubsection{\texorpdfstring{stopProcessing}{stopProcessing}}
{\footnotesize\ttfamily void Tracker\+Popup\+::stop\+Processing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}



Ferma il processo di tracking dopo il frame corrente. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00272                                   \{}
\DoxyCodeLine{00273   m\_myThread-\/>quit();}
\DoxyCodeLine{00274   m\_stoppedProcess = \textcolor{keyword}{true};}
\DoxyCodeLine{00275   m\_myThread-\/>wait();}
\DoxyCodeLine{00276 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/trackerpopup.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/trackerpopup.\+cpp\end{DoxyCompactItemize}
