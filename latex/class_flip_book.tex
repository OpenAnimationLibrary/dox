\hypertarget{class_flip_book}{}\doxysection{Flip\+Book Class Reference}
\label{class_flip_book}\index{FlipBook@{FlipBook}}


The \mbox{\hyperlink{class_flip_book}{Flip\+Book}} class provides to view level images.  


Inheritance diagram for Flip\+Book\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_flip_book}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_flip_book_1_1_level}{Level}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries Flags} \{ {\bfseries e\+Dont\+Keep\+Files\+Opened} = 0x1
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_flip_book_a83adc514805f99b6fe375067dd29e3ee}{save\+Images}} ()
\item 
void \mbox{\hyperlink{class_flip_book_a90fcf1c83c73a43195288069c07e9d0d}{load\+Images}} ()
\item 
void \mbox{\hyperlink{class_flip_book_a65534b22d26762f3dab6d058649538b7}{perform\+Fx\+Update}} ()
\item 
void \mbox{\hyperlink{class_flip_book_a7043089a9807a56ac5751a6aa19703a2}{regenerate}} ()
\item 
void \mbox{\hyperlink{class_flip_book_a35acc8ffc82bbf6dd121f6fcccb32644}{regenerate\+Frame}} ()
\item 
void \mbox{\hyperlink{class_flip_book_a60c63bd1069917d4fdc8f870a24cc57a}{clone\+Preview}} ()
\item 
void \mbox{\hyperlink{class_flip_book_af6525b4f0f7d1bd6669e4e6fe776cadc}{freeze\+Preview}} ()
\item 
void \mbox{\hyperlink{class_flip_book_abd1422ffdcec2d95b48dd37528c78479}{unfreeze\+Preview}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_flip_book_a5c9a6cf0608054036560d90074472833}\label{class_flip_book_a5c9a6cf0608054036560d90074472833}} 
void {\bfseries close\+Flip\+Book} (\mbox{\hyperlink{class_flip_book}{Flip\+Book}} $\ast$)
\item 
\mbox{\Hypertarget{class_flip_book_a78a8bb9c8ac6ae43fbb545f653c8e64b}\label{class_flip_book_a78a8bb9c8ac6ae43fbb545f653c8e64b}} 
void {\bfseries unfreezed} (\mbox{\hyperlink{class_flip_book}{Flip\+Book}} $\ast$)
\item 
\mbox{\Hypertarget{class_flip_book_acf9470a32568b78ebf309f48a6e77755}\label{class_flip_book_acf9470a32568b78ebf309f48a6e77755}} 
void {\bfseries image\+Loaded} (QString \&)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_flip_book_a12ac524c17f33b4217b0d95a3dc7345c}{Flip\+Book}} (QWidget $\ast$parent=0, QString viewer\+Title=QString(), std\+::vector$<$ int $>$ flip\+Console\+Button\+Mask=\{Flip\+Console\+::e\+Filled\+Raster, Flip\+Console\+::e\+Define\+Sub\+Camera, Flip\+Console\+::e\+Locator, Flip\+Console\+::e\+Zoom\+In, Flip\+Console\+::e\+Zoom\+Out, Flip\+Console\+::e\+Flip\+Horizontal, Flip\+Console\+::e\+Flip\+Vertical, Flip\+Console\+::e\+Reset\+View\}, UCHAR flags=0, bool is\+Color\+Model=false)
\item 
void \mbox{\hyperlink{class_flip_book_ac70c72b88200e2821ea83f4273cb34e4}{set\+Level}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&path, \mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$palette=0, int from=-\/1, int to=-\/1, int step=1, int shrink=1, \mbox{\hyperlink{class_t_sound_track}{TSound\+Track}} $\ast$snd=0, bool append=false, bool is\+Toonz\+Output=false)
\item 
void \mbox{\hyperlink{class_flip_book_a6568b85c08cde71dc64d440ecce457f1}{set\+Level}} (\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$previewed\+Fx, \mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, \mbox{\hyperlink{class_t_level}{TLevel}} $\ast$level, \mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$palette=0, int from=-\/1, int to=-\/1, int step=1, int current\+Frame=1, \mbox{\hyperlink{class_t_sound_track}{TSound\+Track}} $\ast$snd=0)
\item 
void \mbox{\hyperlink{class_flip_book_a497a7395d97d5613c2dca7a5da3ae761}{set\+Level}} (\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$xl)
\item 
void \mbox{\hyperlink{class_flip_book_a8593bf6cda702e4f306e0d0e73d30db1}{on\+Play\+Completed}} () override
\item 
bool \mbox{\hyperlink{class_flip_book_a171a64f14063208051047da05ef47535}{do\+Save\+Images}} (\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} fp)
\item 
int \mbox{\hyperlink{class_flip_book_a92ac841b8d423a8cbfa1aebca1165cc5}{get\+Current\+Frame}} ()
\item 
QString \mbox{\hyperlink{class_flip_book_a2daf55316bad871494119d698da11d9e}{get\+Level\+Zoom\+Title}} () const
\item 
void \mbox{\hyperlink{class_flip_book_a42edc89bbd9ccedb6a65aae0cdc78e11}{set\+Title}} (const QString \&title)
\item 
QString \mbox{\hyperlink{class_flip_book_a71c431e5c888b652379d414f597d7663}{get\+Title}} () const
\item 
void \mbox{\hyperlink{class_flip_book_ac512e07e7af341fcb8f20f608e5e3e2c}{show\+Frame}} (int frame)
\item 
\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ \mbox{\hyperlink{class_flip_book_acb70fa960a8455002116fb499e1c1237}{get\+Previewed\+Fx}} () const
\item 
\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$ \mbox{\hyperlink{class_flip_book_afbfa6951598afc2b1241e1ca03b20eb0}{get\+Preview\+Xsheet}} () const
\item 
bool \mbox{\hyperlink{class_flip_book_adf5b366de2e6862bf9ab975924509d1a}{is\+Freezed}} () const
\item 
\mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{class_flip_book_a34a3d0a320c7edcc496929904ac4052a}{get\+Previewed\+Image\+Geometry}} () const
\item 
void \mbox{\hyperlink{class_flip_book_a0726e1da3fe2317ef60f46ec33c5f18a}{schedule\+Previewed\+Fx\+Update}} ()
\item 
bool \mbox{\hyperlink{class_flip_book_a61ee5fc44aad419cf5035db9e61ffae1}{can\+Append}} ()
\item 
bool \mbox{\hyperlink{class_flip_book_a80dd71e458ec64ad3b5a3dc890f7f0ee}{is\+Savable}} () const
\item 
void \mbox{\hyperlink{class_flip_book_a2fe3b4eaf89e30420793b33c4b85c801}{set\+Pool\+Index}} (int pool\+Index)
\item 
int \mbox{\hyperlink{class_flip_book_a1a640f7e23ebedd78ad5dca268cabcec}{get\+Pool\+Index}} () const
\item 
void \mbox{\hyperlink{class_flip_book_aa0b83c0cbc69eae9f68fbbb6be355185}{set\+Is\+Remaking\+Preview\+Fx}} (bool on)
\item 
void \mbox{\hyperlink{class_flip_book_ad87f98266b74bb91a7bf6588924abba5}{add\+Freeze\+Button\+To\+Title\+Bar}} ()
\item 
void \mbox{\hyperlink{class_flip_book_a8695fde844fcbb4c76aaf5e47c93346b}{set\+Progress\+Bar\+Status}} (const std\+::vector$<$ UCHAR $>$ $\ast$pb\+Status)
\item 
const std\+::vector$<$ UCHAR $>$ $\ast$ \mbox{\hyperlink{class_flip_book_a205ad9dfc937f9985ab226fde8901a1a}{get\+Progress\+Bar\+Status}} () const
\item 
void \mbox{\hyperlink{class_flip_book_a1a21cd376fe06ad37a1bb15af09960b4}{adapt\+Geometry}} (const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&interesting\+Img\+Rect, const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&img\+Rect)
\item 
void \mbox{\hyperlink{class_flip_book_a009b29e9a9947b1defecafb59ff7ad90}{adapt\+Geometry\+For\+Full\+Preview}} (const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&img\+Rect)
\item 
void \mbox{\hyperlink{class_flip_book_adea5309d19064d3628790f81aae6f65f}{adapt\+Geometry\+To\+Current\+Size}} ()
\item 
void \mbox{\hyperlink{class_flip_book_a5171e2d237f98f21c9d3cf5123a7971e}{zoom\+And\+Adapt\+Geometry}} (bool forward)
\item 
void \mbox{\hyperlink{class_flip_book_ae7b11cd5fdf2a6f202d9473e28712083}{reset}} ()
\item 
void \mbox{\hyperlink{class_flip_book_abd108d2992fcff3e15539f0fde2847cd}{on\+Draw\+Frame}} (int frame, const \mbox{\hyperlink{class_image_painter_1_1_visual_settings}{Image\+Painter\+::\+Visual\+Settings}} \&vs, QElapsed\+Timer $\ast$timer, qint64 target\+Instant) override
\item 
void \mbox{\hyperlink{class_flip_book_a6585d9a8bd96233d45080d56ce617216}{minimize}} (bool do\+Minimize)
\item 
\mbox{\hyperlink{class_image_viewer}{Image\+Viewer}} $\ast$ \mbox{\hyperlink{class_flip_book_a7f7bc6d92fa8b6d6a39b6f35df995471}{get\+Image\+Viewer}} ()
\item 
\mbox{\hyperlink{class_t_rect_t}{TRect}} \mbox{\hyperlink{class_flip_book_a6777f88c172df4420a266ddf911786db}{get\+Loadbox}} () const
\item 
void \mbox{\hyperlink{class_flip_book_a6009b10e192267fa554e12bf35e0aeca}{set\+Loadbox}} (const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&box)
\item 
\mbox{\hyperlink{class_t_dimension_t}{TDimension}} \mbox{\hyperlink{class_flip_book_a64ad076f052489f7668216ed37cb49d1}{get\+Image\+Size}} () const
\item 
void \mbox{\hyperlink{class_flip_book_ac1778aba70ca173c93b8bcff803ec941}{swap\+Buffers}} () override
\item 
void \mbox{\hyperlink{class_flip_book_acfda4c18bb4c876569167d91f3407ba4}{change\+Swap\+Behavior}} (bool enable) override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_flip_book_a5e6f43b0303e15d65fbf933b61f30817}{on\+Double\+Click}} (QMouse\+Event $\ast$me)
\item 
void \mbox{\hyperlink{class_flip_book_aaace26573333d4f22e5e28326eefbb6b}{on\+Button\+Pressed}} (Flip\+Console\+::\+EGadget button)
\item 
void \mbox{\hyperlink{class_flip_book_adaca926524071675ee8c672f1b92fe4c}{on\+Close\+Button\+Pressed}} ()
\item 
void \mbox{\hyperlink{class_flip_book_a71b0a7bddc0f6413131166f4543dc2fd}{save\+Image}} ()
\item 
void \mbox{\hyperlink{class_flip_book_afe922b8358480703ef15c2e4362f9b9d}{freeze}} (bool on)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_flip_book_a063c1b2d2fab01441e896165352a1d1f}{clear\+Cache}} ()
\item 
void \mbox{\hyperlink{class_flip_book_a62dcb8b14ea33a624015562fc9f986a3}{adapt\+Wid\+Geometry}} (const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&interest\+Wid\+Rect, const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&img\+Wid\+Rect, bool keep\+Position)
\begin{DoxyCompactList}\small\item\em Adapts panel geometry to that of passed rect. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_flip_book_a63e2a73a78a910768037a7d4de2b81d3}{drag\+Enter\+Event}} (QDrag\+Enter\+Event $\ast$e) override
\item 
void \mbox{\hyperlink{class_flip_book_a409dfd01d3ca0a1c7c8f192cbb27f550}{drop\+Event}} (QDrop\+Event $\ast$e) override
\item 
void \mbox{\hyperlink{class_flip_book_a90410b040fd61326e3bd9799185c93d3}{play\+Audio\+Frame}} (int frame)
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} \mbox{\hyperlink{class_flip_book_a001477c64bf145faa09af54e46613475}{get\+Current\+Image}} (int frame)
\item 
void \mbox{\hyperlink{class_flip_book_ac27f6e60c360b2e8747b55b167d7b8b0}{show\+Event}} (QShow\+Event $\ast$e) override
\item 
void \mbox{\hyperlink{class_flip_book_ade73840167645b02a25f1db1621b6e81}{hide\+Event}} (QHide\+Event $\ast$e) override
\item 
void \mbox{\hyperlink{class_flip_book_a7702bb79990661a86feb3f4c49ee46c3}{focus\+In\+Event}} (QFocus\+Event $\ast$e) override
\item 
void \mbox{\hyperlink{class_flip_book_ae91d7c8cd14fb349371ea2eb46998d5b}{resize\+Event}} (QResize\+Event $\ast$e) override
\item 
void \mbox{\hyperlink{class_flip_book_a0e61952e3a635c1dc18129daa09e44f0}{enter\+Event}} (QEvent $\ast$e) override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{class_flip_book_a5fdc18838f5c2296825cb127dfb4f507}{m\+\_\+pool\+Index}}
\item 
QString \mbox{\hyperlink{class_flip_book_a9eea993af098892a144716973d1434a2}{m\+\_\+viewer\+Title}}
\item 
QString \mbox{\hyperlink{class_flip_book_a0eb0ffa02ce1935496dbc77a2f22bb02}{m\+\_\+title}}
\item 
QString \mbox{\hyperlink{class_flip_book_ad7865c7088d5927619a91615e333dd4a}{m\+\_\+title1}}
\item 
\mbox{\hyperlink{class_image_viewer}{Image\+Viewer}} $\ast$ \mbox{\hyperlink{class_flip_book_adae9077d5c1d04064ba102b4a5fab867}{m\+\_\+image\+Viewer}}
\item 
\mbox{\hyperlink{class_flip_console}{Flip\+Console}} $\ast$ \mbox{\hyperlink{class_flip_book_aab33f379fc677431b00a5d5ff0259d7a}{m\+\_\+flip\+Console}}
\item 
int \mbox{\hyperlink{class_flip_book_aed0fece61dcf6e2dfcfd254209a3443b}{m\+\_\+shrink}}
\item 
int \mbox{\hyperlink{class_flip_book_a57fca132ee02749ef686f7002ff08991}{m\+\_\+frames\+Count}}
\item 
\mbox{\hyperlink{class_t_rect_t}{TRect}} \mbox{\hyperlink{class_flip_book_a2b31ada33046db7badeec87aa6609f55}{m\+\_\+loadbox}}
\item 
\mbox{\hyperlink{class_t_dimension_t}{TDimension}} \mbox{\hyperlink{class_flip_book_abaa44bf3c3337fe82b900ab890d1fea7}{m\+\_\+dim}}
\item 
std\+::map$<$ std\+::string, \mbox{\hyperlink{class_t_rect_t}{TRect}} $>$ \mbox{\hyperlink{class_flip_book_a6b03abdd0045018972e52a174ea32ee9}{m\+\_\+loadboxes}}
\item 
std\+::vector$<$ \mbox{\hyperlink{class_flip_book_1_1_level}{Level}} $>$ \mbox{\hyperlink{class_flip_book_aa5ce306dfccb4511698ea7e8aa65a190}{m\+\_\+levels}}
\item 
std\+::vector$<$ QString $>$ \mbox{\hyperlink{class_flip_book_a82c6aa8041f5c3822d49ba7c998e473a}{m\+\_\+level\+Names}}
\item 
\mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$ \mbox{\hyperlink{class_flip_book_aa622f80a1becb2bedfa6bce96fe9355f}{m\+\_\+palette}}
\item 
bool \mbox{\hyperlink{class_flip_book_ae8c1777979d49e3e0c240fa0f909b533}{m\+\_\+play\+Sound}}
\item 
std\+::vector$<$ std\+::string $>$ \mbox{\hyperlink{class_flip_book_a57e8395be4bd13328ebdf3c77df0547e}{m\+\_\+added\+In\+Cache}}
\item 
\mbox{\hyperlink{class_t_sound_output_device}{TSound\+Output\+Device}} $\ast$ \mbox{\hyperlink{class_flip_book_a467253204c6bfb20c9886e29799ba31f}{m\+\_\+player}}
\item 
\mbox{\hyperlink{class_t_sound_track}{TSound\+Track}} $\ast$ \mbox{\hyperlink{class_flip_book_a0b34b012ab767e470ec40f87a51be50c}{m\+\_\+snd}}
\item 
\mbox{\hyperlink{class_t_level_writer_p}{TLevel\+WriterP}} \mbox{\hyperlink{class_flip_book_acaec76916b0ea1418b187ff19fd6fdbd}{m\+\_\+lw}}
\item 
\mbox{\hyperlink{class_t_level_reader_p}{TLevel\+ReaderP}} \mbox{\hyperlink{class_flip_book_a20998f3327f1eec824ba2b8663e5d81e}{m\+\_\+lr}}
\item 
\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$ \mbox{\hyperlink{class_flip_book_a24b70bc9ab90c5ebef11940ba7b65ef9}{m\+\_\+xl}}
\item 
int \mbox{\hyperlink{class_flip_book_ad8f2427038be69cb9abacf627b75fc76}{m\+\_\+current\+Frame\+To\+Save}}
\item 
\mbox{\hyperlink{class_save_images_popup}{Save\+Images\+Popup}} $\ast$ \mbox{\hyperlink{class_flip_book_ae7b29c5ddef824f400595a951567286e}{m\+\_\+save\+Popup}}
\item 
\mbox{\hyperlink{class_load_images_popup}{Load\+Images\+Popup}} $\ast$ \mbox{\hyperlink{class_flip_book_a83a93cec5ea9b605228062cf3b1306ef}{m\+\_\+load\+Popup}}
\item 
bool \mbox{\hyperlink{class_flip_book_a88a99f91a9b0e9b243f047fbd5a2c94d}{m\+\_\+is\+Preview\+Fx}}
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} \mbox{\hyperlink{class_flip_book_a27e06e8445e01936bc31bcdd48b94438}{m\+\_\+previewed\+Fx}}
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TXsheetP}} \mbox{\hyperlink{class_flip_book_a2b06862e94ecf419d495e3e2869c8cfc}{m\+\_\+preview\+Xsh}}
\item 
QTimer \mbox{\hyperlink{class_flip_book_a8582beb7f3c5c5b020b2bd3f1c047f31}{m\+\_\+preview\+Update\+Timer}}
\item 
bool \mbox{\hyperlink{class_flip_book_a4873f9f3cd2ff1333d05e4920a229839}{m\+\_\+freezed}}
\item 
UCHAR \mbox{\hyperlink{class_flip_book_ae736af8d9a45471adcf5d447693f31ec}{m\+\_\+flags}}
\item 
\mbox{\hyperlink{class_t_panel_title_bar_button}{TPanel\+Title\+Bar\+Button}} $\ast$ \mbox{\hyperlink{class_flip_book_ad065b90fcc80b1aec616ecf12d53b776}{m\+\_\+freeze\+Button}}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_flip_book_ae29d41c79a4d7fe8943403ddba4f9bd4}{Preview\+Fx\+Manager}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{class_flip_book}{Flip\+Book}} class provides to view level images. 

Inherits {\bfseries{QWidget}}.

The object is composed of grid layout {\bfseries{QGrid\+Layout}} which contains an image viewer {\bfseries{\mbox{\hyperlink{class_image_viewer}{Image\+Viewer}}}} and a double button bar. It is possible decide widget title and which button bar show by setting QString and bool in constructor. \begin{DoxyVerb}         You can set level to show in FlipBook using \b setLevel(); and
\end{DoxyVerb}
 call \mbox{\hyperlink{class_flip_book_abd108d2992fcff3e15539f0fde2847cd}{on\+Draw\+Frame()}} to show \mbox{\hyperlink{class_flip_book}{Flip\+Book}} current frame. The current frame can be set directly using set\+Current\+Frame(int index) or using slot methods connected to button bar.

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_flip_book_pool}{Flip\+Book\+Pool}} class. 
\end{DoxySeeAlso}


\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_flip_book_aa0f9e52a378cdf998f5c21dfd4bfbf1b}\label{class_flip_book_aa0f9e52a378cdf998f5c21dfd4bfbf1b}} 
\index{FlipBook@{FlipBook}!Flags@{Flags}}
\index{Flags@{Flags}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{Flags}{Flags}}
{\footnotesize\ttfamily enum Flip\+Book\+::\+Flags}


\begin{DoxyCode}{0}
\DoxyCodeLine{00186 \{ eDontKeepFilesOpened = 0x1 \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_flip_book_a12ac524c17f33b4217b0d95a3dc7345c}\label{class_flip_book_a12ac524c17f33b4217b0d95a3dc7345c}} 
\index{FlipBook@{FlipBook}!FlipBook@{FlipBook}}
\index{FlipBook@{FlipBook}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{FlipBook()}{FlipBook()}}
{\footnotesize\ttfamily Flip\+Book\+::\+Flip\+Book (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0},  }\item[{QString}]{viewer\+Title = {\ttfamily QString()},  }\item[{std\+::vector$<$ int $>$}]{flip\+Console\+Button\+Mask = {\ttfamily \{FlipConsole\+:\+:eFilledRaster,~FlipConsole\+:\+:eDefineSubCamera,~FlipConsole\+:\+:eLocator,~FlipConsole\+:\+:eZoomIn,~FlipConsole\+:\+:eZoomOut,~FlipConsole\+:\+:eFlipHorizontal,~FlipConsole\+:\+:eFlipVertical,~FlipConsole\+:\+:eResetView\}},  }\item[{UCHAR}]{flags = {\ttfamily 0},  }\item[{bool}]{is\+Color\+Model = {\ttfamily false} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00166     : QWidget(parent)}
\DoxyCodeLine{00167     , m\_viewerTitle(viewerTitle)}
\DoxyCodeLine{00168     , m\_levelNames()}
\DoxyCodeLine{00169     , m\_levels()}
\DoxyCodeLine{00170     , m\_playSound(\textcolor{keyword}{false})}
\DoxyCodeLine{00171     , m\_snd(0)}
\DoxyCodeLine{00172     , m\_player(0)}
\DoxyCodeLine{00173     \textcolor{comment}{//, m\_doCompare(false)}}
\DoxyCodeLine{00174     , m\_currentFrameToSave(0)}
\DoxyCodeLine{00175     , m\_lw()}
\DoxyCodeLine{00176     , m\_lr()}
\DoxyCodeLine{00177     , m\_loadPopup(0)}
\DoxyCodeLine{00178     , m\_savePopup(0)}
\DoxyCodeLine{00179     , m\_shrink(1)}
\DoxyCodeLine{00180     , m\_isPreviewFx(\textcolor{keyword}{false})}
\DoxyCodeLine{00181     , m\_previewedFx(0)}
\DoxyCodeLine{00182     , m\_previewXsh(0)}
\DoxyCodeLine{00183     , m\_previewUpdateTimer(\textcolor{keyword}{this})}
\DoxyCodeLine{00184     , m\_xl(0)}
\DoxyCodeLine{00185     , m\_title1()}
\DoxyCodeLine{00186     , m\_poolIndex(-\/1)}
\DoxyCodeLine{00187     , m\_freezed(\textcolor{keyword}{false})}
\DoxyCodeLine{00188     , m\_loadbox()}
\DoxyCodeLine{00189     , m\_dim()}
\DoxyCodeLine{00190     , m\_loadboxes()}
\DoxyCodeLine{00191     , m\_freezeButton(0)}
\DoxyCodeLine{00192     , m\_flags(flags) \{}
\DoxyCodeLine{00193   setAcceptDrops(\textcolor{keyword}{true});}
\DoxyCodeLine{00194   setFocusPolicy(Qt::StrongFocus);}
\DoxyCodeLine{00195 }
\DoxyCodeLine{00196   \textcolor{comment}{// flipConsoleButtonMask = flipConsoleButtonMask \& \string~FlipConsole::eSubCamera;}}
\DoxyCodeLine{00197 }
\DoxyCodeLine{00198   \mbox{\hyperlink{class_image_utils_1_1_full_screen_widget}{ImageUtils::FullScreenWidget}} *fsWidget =}
\DoxyCodeLine{00199       \textcolor{keyword}{new} \mbox{\hyperlink{class_image_utils_1_1_full_screen_widget}{ImageUtils::FullScreenWidget}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00200 }
\DoxyCodeLine{00201   m\_imageViewer = \textcolor{keyword}{new} \mbox{\hyperlink{class_image_viewer}{ImageViewer}}(}
\DoxyCodeLine{00202       fsWidget, \textcolor{keyword}{this},}
\DoxyCodeLine{00203       std::find(flipConsoleButtonMask.begin(), flipConsoleButtonMask.end(),}
\DoxyCodeLine{00204                 FlipConsole::eHisto) == flipConsoleButtonMask.end());}
\DoxyCodeLine{00205   fsWidget-\/>\mbox{\hyperlink{class_image_utils_1_1_full_screen_widget_a539dd1466691037c4d7136065496e13b}{setWidget}}(m\_imageViewer);}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207   setFocusProxy(m\_imageViewer);}
\DoxyCodeLine{00208   m\_title = m\_viewerTitle;}
\DoxyCodeLine{00209   m\_imageViewer-\/>setIsColorModel(isColorModel);}
\DoxyCodeLine{00210 }
\DoxyCodeLine{00211   \textcolor{comment}{// layout}}
\DoxyCodeLine{00212   QVBoxLayout *mainLayout = \textcolor{keyword}{new} QVBoxLayout(\textcolor{keyword}{this});}
\DoxyCodeLine{00213   mainLayout-\/>setMargin(0);}
\DoxyCodeLine{00214   mainLayout-\/>setSpacing(0);}
\DoxyCodeLine{00215   \{}
\DoxyCodeLine{00216     mainLayout-\/>addWidget(fsWidget, 1);}
\DoxyCodeLine{00217     m\_flipConsole = \textcolor{keyword}{new} \mbox{\hyperlink{class_flip_console}{FlipConsole}}(}
\DoxyCodeLine{00218         mainLayout, flipConsoleButtonMask, \textcolor{keyword}{true}, 0,}
\DoxyCodeLine{00219         (viewerTitle == \textcolor{stringliteral}{"{}"{}}) ? \textcolor{stringliteral}{"{}FlipConsole"{}} : viewerTitle, \textcolor{keyword}{this}, !isColorModel);}
\DoxyCodeLine{00220     mainLayout-\/>addWidget(m\_flipConsole);}
\DoxyCodeLine{00221   \}}
\DoxyCodeLine{00222   setLayout(mainLayout);}
\DoxyCodeLine{00223 }
\DoxyCodeLine{00224   \textcolor{comment}{// signal-\/slot connection}}
\DoxyCodeLine{00225   \textcolor{keywordtype}{bool} ret = connect(m\_flipConsole, SIGNAL(buttonPressed(FlipConsole::EGadget)),}
\DoxyCodeLine{00226                      \textcolor{keyword}{this}, SLOT(onButtonPressed(FlipConsole::EGadget)));}
\DoxyCodeLine{00227 }
\DoxyCodeLine{00228   m\_flipConsole-\/>setFrameRate(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()}
\DoxyCodeLine{00229                                   -\/>getCurrentScene()}
\DoxyCodeLine{00230                                   -\/>getScene()}
\DoxyCodeLine{00231                                   -\/>getProperties()}
\DoxyCodeLine{00232                                   -\/>getOutputProperties()}
\DoxyCodeLine{00233                                   -\/>getFrameRate());}
\DoxyCodeLine{00234 }
\DoxyCodeLine{00235   mainLayout-\/>addWidget(m\_flipConsole);}
\DoxyCodeLine{00236 }
\DoxyCodeLine{00237   m\_previewUpdateTimer.setSingleShot(\textcolor{keyword}{true});}
\DoxyCodeLine{00238 }
\DoxyCodeLine{00239   ret = ret \&\& connect(parentWidget(), SIGNAL(closeButtonPressed()), \textcolor{keyword}{this},}
\DoxyCodeLine{00240                        SLOT(onCloseButtonPressed()));}
\DoxyCodeLine{00241   ret = ret \&\& connect(parentWidget(), SIGNAL(doubleClick(QMouseEvent *)), \textcolor{keyword}{this},}
\DoxyCodeLine{00242                        SLOT(onDoubleClick(QMouseEvent *)));}
\DoxyCodeLine{00243   ret = ret \&\& connect(\&m\_previewUpdateTimer, SIGNAL(timeout()), \textcolor{keyword}{this},}
\DoxyCodeLine{00244                        SLOT(performFxUpdate()));}
\DoxyCodeLine{00245 }
\DoxyCodeLine{00246   assert(ret);}
\DoxyCodeLine{00247 }
\DoxyCodeLine{00248   m\_viewerTitle = (m\_viewerTitle.isEmpty()) ? tr(\textcolor{stringliteral}{"{}Flipbook"{}}) : m\_viewerTitle;}
\DoxyCodeLine{00249   parentWidget()-\/>setWindowTitle(m\_viewerTitle);}
\DoxyCodeLine{00250 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a1904681e4b67f9dce6e0ec9b0552eb88}\label{class_flip_book_a1904681e4b67f9dce6e0ec9b0552eb88}} 
\index{FlipBook@{FlipBook}!````~FlipBook@{$\sim$FlipBook}}
\index{````~FlipBook@{$\sim$FlipBook}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{$\sim$FlipBook()}{~FlipBook()}}
{\footnotesize\ttfamily Flip\+Book\+::$\sim$\+Flip\+Book (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00590                     \{}
\DoxyCodeLine{00591   \textcolor{keywordflow}{if} (m\_loadPopup) \textcolor{keyword}{delete} m\_loadPopup;}
\DoxyCodeLine{00592   \textcolor{keywordflow}{if} (m\_savePopup) \textcolor{keyword}{delete} m\_savePopup;}
\DoxyCodeLine{00593 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_flip_book_a1a21cd376fe06ad37a1bb15af09960b4}\label{class_flip_book_a1a21cd376fe06ad37a1bb15af09960b4}} 
\index{FlipBook@{FlipBook}!adaptGeometry@{adaptGeometry}}
\index{adaptGeometry@{adaptGeometry}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{adaptGeometry()}{adaptGeometry()}}
{\footnotesize\ttfamily void Flip\+Book\+::adapt\+Geometry (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&}]{interesting\+Img\+Rect,  }\item[{const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&}]{img\+Rect }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01947                                                    \{}
\DoxyCodeLine{01948   \mbox{\hyperlink{class_t_rect_t}{TRectD}} imgRectD(imgRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}, imgRect.y0, imgRect.x1 + 1, imgRect.y1 + 1);}
\DoxyCodeLine{01949   \mbox{\hyperlink{class_t_rect_t}{TRectD}} interestingImgRectD(interestingImgRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}, interestingImgRect.y0,}
\DoxyCodeLine{01950                              interestingImgRect.x1 + 1,}
\DoxyCodeLine{01951                              interestingImgRect.y1 + 1);}
\DoxyCodeLine{01952 }
\DoxyCodeLine{01953   \mbox{\hyperlink{class_t_affine}{TAffine}} toWidgetRef(m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_a5f412d451a497d7c346c04c89d3c8865}{getImgToWidgetAffine}}(imgRectD));}
\DoxyCodeLine{01954   \mbox{\hyperlink{class_t_rect_t}{TRectD}} interestGeomD(toWidgetRef * interestingImgRectD);}
\DoxyCodeLine{01955   \mbox{\hyperlink{class_t_rect_t}{TRectD}} imageGeomD(toWidgetRef * imgRectD);}
\DoxyCodeLine{01956   \mbox{\hyperlink{class_flip_book_a62dcb8b14ea33a624015562fc9f986a3}{adaptWidGeometry}}(}
\DoxyCodeLine{01957       \mbox{\hyperlink{class_t_rect_t}{TRect}}(tceil(interestGeomD.x0), tceil(interestGeomD.y0),}
\DoxyCodeLine{01958             tfloor(interestGeomD.x1) -\/ 1, tfloor(interestGeomD.y1) -\/ 1),}
\DoxyCodeLine{01959       \mbox{\hyperlink{class_t_rect_t}{TRect}}(tceil(imageGeomD.x0), tceil(imageGeomD.y0),}
\DoxyCodeLine{01960             tfloor(imageGeomD.x1) -\/ 1, tfloor(imageGeomD.y1) -\/ 1),}
\DoxyCodeLine{01961       \textcolor{keyword}{true});}
\DoxyCodeLine{01962 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a009b29e9a9947b1defecafb59ff7ad90}\label{class_flip_book_a009b29e9a9947b1defecafb59ff7ad90}} 
\index{FlipBook@{FlipBook}!adaptGeometryForFullPreview@{adaptGeometryForFullPreview}}
\index{adaptGeometryForFullPreview@{adaptGeometryForFullPreview}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{adaptGeometryForFullPreview()}{adaptGeometryForFullPreview()}}
{\footnotesize\ttfamily void Flip\+Book\+::adapt\+Geometry\+For\+Full\+Preview (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&}]{img\+Rect }\end{DoxyParamCaption})}

When Fx preview is called without the subcamera, render the full region of camera by resize flipbook and zoom-\/out the rendered image. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01968                                                                \{}
\DoxyCodeLine{01969   \mbox{\hyperlink{class_t_rect_t}{TRectD}} imgRectD(imgRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}, imgRect.y0, imgRect.x1 + 1, imgRect.y1 + 1);}
\DoxyCodeLine{01970 }
\DoxyCodeLine{01971   \textcolor{comment}{// Get screen geometry}}
\DoxyCodeLine{01972   \mbox{\hyperlink{class_t_panel}{TPanel}} *panel = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_t_panel}{TPanel}} *\textcolor{keyword}{>}(parentWidget());}
\DoxyCodeLine{01973   \textcolor{keywordflow}{if} (!panel-\/>isFloating()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01974   QDesktopWidget *desk =}
\DoxyCodeLine{01975       \textcolor{keyword}{static\_cast<}QApplication *\textcolor{keyword}{>}(QApplication::instance())-\/>desktop();}
\DoxyCodeLine{01976   QRect screenGeom = desk-\/>availableGeometry(panel);}
\DoxyCodeLine{01977 }
\DoxyCodeLine{01978   \textcolor{keywordflow}{while} (1) \{}
\DoxyCodeLine{01979     \mbox{\hyperlink{class_t_affine}{TAffine}} toWidgetRef(m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_a5f412d451a497d7c346c04c89d3c8865}{getImgToWidgetAffine}}(imgRectD));}
\DoxyCodeLine{01980     \mbox{\hyperlink{class_t_rect_t}{TRectD}} imageGeomD(toWidgetRef * imgRectD);}
\DoxyCodeLine{01981     \mbox{\hyperlink{class_t_rect_t}{TRect}} imageGeom(tceil(imageGeomD.x0) -\/ 1, tceil(imageGeomD.y0) -\/ 1,}
\DoxyCodeLine{01982                     tfloor(imageGeomD.x1) + 1, tfloor(imageGeomD.y1) + 1);}
\DoxyCodeLine{01983 }
\DoxyCodeLine{01984     \textcolor{keywordflow}{if} (imageGeom.getLx() <= screenGeom.width() \&\&}
\DoxyCodeLine{01985         imageGeom.getLy() <= screenGeom.height()) \{}
\DoxyCodeLine{01986       \mbox{\hyperlink{class_flip_book_a62dcb8b14ea33a624015562fc9f986a3}{adaptWidGeometry}}(imageGeom, imageGeom, \textcolor{keyword}{false});}
\DoxyCodeLine{01987       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01988     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01989       m\_imageViewer-\/>zoomQt(\textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{01990   \}}
\DoxyCodeLine{01991 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01996}{adapt\+Wid\+Geometry()}}, \mbox{\hyperlink{l01345}{Image\+Viewer\+::get\+Img\+To\+Widget\+Affine()}}, and \mbox{\hyperlink{l00557}{TRect\+T$<$ T $>$\+::x0}}.

\mbox{\Hypertarget{class_flip_book_adea5309d19064d3628790f81aae6f65f}\label{class_flip_book_adea5309d19064d3628790f81aae6f65f}} 
\index{FlipBook@{FlipBook}!adaptGeometryToCurrentSize@{adaptGeometryToCurrentSize}}
\index{adaptGeometryToCurrentSize@{adaptGeometryToCurrentSize}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{adaptGeometryToCurrentSize()}{adaptGeometryToCurrentSize()}}
{\footnotesize\ttfamily void Flip\+Book\+::adapt\+Geometry\+To\+Current\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02120                                           \{}
\DoxyCodeLine{02121   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} img(m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_af80b9641df537a1bf3b0c98f2c431420}{getImage}}());}
\DoxyCodeLine{02122   \textcolor{keywordflow}{if} (!img) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02123 }
\DoxyCodeLine{02124   \mbox{\hyperlink{class_t_affine}{TAffine}} toWidgetRef(m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_a5f412d451a497d7c346c04c89d3c8865}{getImgToWidgetAffine}}());}
\DoxyCodeLine{02125   \mbox{\hyperlink{class_t_rect_t}{TRectD}} pixGeomD(\mbox{\hyperlink{class_t_scale}{TScale}}(1.0 / (\textcolor{keywordtype}{double})getDevPixRatio()) * toWidgetRef *}
\DoxyCodeLine{02126                   getImageBoundsD(img));}
\DoxyCodeLine{02127   \textcolor{comment}{// TRectD pixGeomD(toWidgetRef  * getImageBoundsD(img));}}
\DoxyCodeLine{02128   \mbox{\hyperlink{class_t_rect_t}{TRect}} pixGeom(tceil(pixGeomD.x0), tceil(pixGeomD.y0), tfloor(pixGeomD.x1) -\/ 1,}
\DoxyCodeLine{02129                 tfloor(pixGeomD.y1) -\/ 1);}
\DoxyCodeLine{02130 }
\DoxyCodeLine{02131   \textcolor{comment}{// NOTE: The previous line has ceils and floor inverted on purpose. The reason}}
\DoxyCodeLine{02132   \textcolor{comment}{// is the following:}}
\DoxyCodeLine{02133   \textcolor{comment}{// As the viewer's zoom level is arbitrary, the image is likely to have a not}}
\DoxyCodeLine{02134   \textcolor{comment}{// integer geometry}}
\DoxyCodeLine{02135   \textcolor{comment}{// with respect to the widget -\/ the problem is, we cannot take the closest}}
\DoxyCodeLine{02136   \textcolor{comment}{// integer rect ENCLOSING ours,}}
\DoxyCodeLine{02137   \textcolor{comment}{// or the ImageViewer class adds blank lines on image rendering.}}
\DoxyCodeLine{02138   \textcolor{comment}{// So, we do the converse -\/ take the closest ENCLOSED one -\/ eventually to be}}
\DoxyCodeLine{02139   \textcolor{comment}{// compensated when}}
\DoxyCodeLine{02140   \textcolor{comment}{// performing the inverse.}}
\DoxyCodeLine{02141 }
\DoxyCodeLine{02142   \mbox{\hyperlink{class_flip_book_a62dcb8b14ea33a624015562fc9f986a3}{adaptWidGeometry}}(pixGeom, pixGeom, \textcolor{keyword}{false});}
\DoxyCodeLine{02143 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a62dcb8b14ea33a624015562fc9f986a3}\label{class_flip_book_a62dcb8b14ea33a624015562fc9f986a3}} 
\index{FlipBook@{FlipBook}!adaptWidGeometry@{adaptWidGeometry}}
\index{adaptWidGeometry@{adaptWidGeometry}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{adaptWidGeometry()}{adaptWidGeometry()}}
{\footnotesize\ttfamily void Flip\+Book\+::adapt\+Wid\+Geometry (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&}]{interest\+Wid\+Rect,  }\item[{const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&}]{img\+Wid\+Rect,  }\item[{bool}]{keep\+Position }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Adapts panel geometry to that of passed rect. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01997                                                                             \{}
\DoxyCodeLine{01998   \mbox{\hyperlink{class_t_panel}{TPanel}} *panel = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_t_panel}{TPanel}} *\textcolor{keyword}{>}(parentWidget());}
\DoxyCodeLine{01999   \textcolor{keywordflow}{if} (!panel-\/>isFloating()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02000 }
\DoxyCodeLine{02001   \textcolor{comment}{// Extract image position in screen coordinates}}
\DoxyCodeLine{02002   QRect qgeom(interestWidGeom.x0, interestWidGeom.y0, interestWidGeom.getLx(),}
\DoxyCodeLine{02003               interestWidGeom.getLy());}
\DoxyCodeLine{02004   QRect interestGeom(m\_imageViewer-\/>mapToGlobal(qgeom.topLeft()),}
\DoxyCodeLine{02005                      m\_imageViewer-\/>mapToGlobal(qgeom.bottomRight()));}
\DoxyCodeLine{02006   qgeom = QRect(imgWidGeom.x0, imgWidGeom.y0, imgWidGeom.getLx(),}
\DoxyCodeLine{02007                 imgWidGeom.getLy());}
\DoxyCodeLine{02008   QRect imageGeom(m\_imageViewer-\/>mapToGlobal(qgeom.topLeft()),}
\DoxyCodeLine{02009                   m\_imageViewer-\/>mapToGlobal(qgeom.bottomRight()));}
\DoxyCodeLine{02010 }
\DoxyCodeLine{02011   \textcolor{comment}{// qDebug("{}tgeom= [\%d, \%d] x [\%d, \%d]"{}, tgeom.x0, tgeom.x1, tgeom.y0,}}
\DoxyCodeLine{02012   \textcolor{comment}{// tgeom.y1);}}
\DoxyCodeLine{02013   \textcolor{comment}{// qDebug("{}imagegeom= [\%d, \%d] x [\%d, \%d]"{}, imageGeom.left(),}}
\DoxyCodeLine{02014   \textcolor{comment}{// imageGeom.right(),}}
\DoxyCodeLine{02015   \textcolor{comment}{//  imageGeom.top(), imageGeom.bottom());}}
\DoxyCodeLine{02016 }
\DoxyCodeLine{02017   \textcolor{comment}{// Get screen geometry}}
\DoxyCodeLine{02018   QDesktopWidget *desk =}
\DoxyCodeLine{02019       \textcolor{keyword}{static\_cast<}QApplication *\textcolor{keyword}{>}(QApplication::instance())-\/>desktop();}
\DoxyCodeLine{02020   QRect screenGeom = desk-\/>availableGeometry(panel);}
\DoxyCodeLine{02021 }
\DoxyCodeLine{02022   \textcolor{comment}{// Get panel margin measures}}
\DoxyCodeLine{02023   QRect margins;}
\DoxyCodeLine{02024   QRect currView(m\_imageViewer-\/>geometry());}
\DoxyCodeLine{02025   currView.moveTo(m\_imageViewer-\/>mapToGlobal(currView.topLeft()));}
\DoxyCodeLine{02026   QRect panelGeom(panel-\/>geometry());}
\DoxyCodeLine{02027 }
\DoxyCodeLine{02028   margins.setLeft(panelGeom.left() -\/ currView.left());}
\DoxyCodeLine{02029   margins.setRight(panelGeom.right() -\/ currView.right());}
\DoxyCodeLine{02030   margins.setTop(panelGeom.top() -\/ currView.top());}
\DoxyCodeLine{02031   margins.setBottom(panelGeom.bottom() -\/ currView.bottom());}
\DoxyCodeLine{02032 }
\DoxyCodeLine{02033   \textcolor{comment}{// Build the minimum flipbook geometry. Adjust the interesting geometry}}
\DoxyCodeLine{02034   \textcolor{comment}{// according to it.}}
\DoxyCodeLine{02035   QSize flipMinimumSize(panel-\/>minimumSize());}
\DoxyCodeLine{02036   flipMinimumSize -\/=}
\DoxyCodeLine{02037       QSize(margins.right() -\/ margins.left(), margins.bottom() -\/ margins.top());}
\DoxyCodeLine{02038   QSize minAddition(}
\DoxyCodeLine{02039       tceil(std::max(0, flipMinimumSize.width() -\/ interestGeom.width()) * 0.5),}
\DoxyCodeLine{02040       tceil(std::max(0, flipMinimumSize.height() -\/ interestGeom.height()) *}
\DoxyCodeLine{02041             0.5));}
\DoxyCodeLine{02042   interestGeom.adjust(-\/minAddition.width(), -\/minAddition.height(),}
\DoxyCodeLine{02043                       minAddition.width(), minAddition.height());}
\DoxyCodeLine{02044 }
\DoxyCodeLine{02045   \textcolor{comment}{// Translate to keep the current view top-\/left corner, if required}}
\DoxyCodeLine{02046   \textcolor{keywordflow}{if} (keepPosition) \{}
\DoxyCodeLine{02047     QPoint shift(currView.topLeft() -\/ interestGeom.topLeft());}
\DoxyCodeLine{02048     interestGeom.translate(shift);}
\DoxyCodeLine{02049     imageGeom.translate(shift);}
\DoxyCodeLine{02050   \}}
\DoxyCodeLine{02051 }
\DoxyCodeLine{02052   \textcolor{comment}{// Intersect with the screen geometry}}
\DoxyCodeLine{02053   QRect newViewerGeom(screenGeom);}
\DoxyCodeLine{02054   newViewerGeom.adjust(-\/margins.left(), -\/margins.top(), -\/margins.right(),}
\DoxyCodeLine{02055                        -\/margins.bottom());}
\DoxyCodeLine{02056 }
\DoxyCodeLine{02057   \textcolor{comment}{// when fx previewing in full size (i.e. keepPosition is false ),}}
\DoxyCodeLine{02058   \textcolor{comment}{// try to translate geometry and keep the image inside the viewer as much as}}
\DoxyCodeLine{02059   \textcolor{comment}{// posiible}}
\DoxyCodeLine{02060   \textcolor{keywordflow}{if} (keepPosition)}
\DoxyCodeLine{02061     newViewerGeom \&= interestGeom;}
\DoxyCodeLine{02062   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (newViewerGeom.intersects(interestGeom)) \{}
\DoxyCodeLine{02063     \textcolor{keywordtype}{int} d\_ns = 0;}
\DoxyCodeLine{02064     \textcolor{keywordtype}{int} d\_ew = 0;}
\DoxyCodeLine{02065     \textcolor{keywordflow}{if} (interestGeom.top() < newViewerGeom.top())}
\DoxyCodeLine{02066       d\_ns = newViewerGeom.top() -\/ interestGeom.top();}
\DoxyCodeLine{02067     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (interestGeom.bottom() > newViewerGeom.bottom())}
\DoxyCodeLine{02068       d\_ns = newViewerGeom.bottom() -\/ interestGeom.bottom();}
\DoxyCodeLine{02069     \textcolor{keywordflow}{if} (interestGeom.left() < newViewerGeom.left())}
\DoxyCodeLine{02070       d\_ew = newViewerGeom.left() -\/ interestGeom.left();}
\DoxyCodeLine{02071     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (interestGeom.right() > newViewerGeom.right())}
\DoxyCodeLine{02072       d\_ew = newViewerGeom.right() -\/ interestGeom.right();}
\DoxyCodeLine{02073     \textcolor{keywordflow}{if} (d\_ns || d\_ew) \{}
\DoxyCodeLine{02074       interestGeom.translate(d\_ew, d\_ns);}
\DoxyCodeLine{02075       imageGeom.translate(d\_ew, d\_ns);}
\DoxyCodeLine{02076     \}}
\DoxyCodeLine{02077     newViewerGeom \&= interestGeom;}
\DoxyCodeLine{02078   \}}
\DoxyCodeLine{02079 }
\DoxyCodeLine{02080   \textcolor{comment}{// qDebug("{}new Viewer= [\%d, \%d] x [\%d, \%d]"{}, newViewerGeom.left(),}}
\DoxyCodeLine{02081   \textcolor{comment}{// newViewerGeom.right(),}}
\DoxyCodeLine{02082   \textcolor{comment}{//  newViewerGeom.top(), newViewerGeom.bottom());}}
\DoxyCodeLine{02083 }
\DoxyCodeLine{02084   \textcolor{comment}{// Calculate the pan of content image in order to compensate for our geometry}}
\DoxyCodeLine{02085   \textcolor{comment}{// change}}
\DoxyCodeLine{02086   QPointF imageGeomCenter((imageGeom.left() + imageGeom.right() + 1) * 0.5,}
\DoxyCodeLine{02087                           (imageGeom.top() + imageGeom.bottom() + 1) * 0.5);}
\DoxyCodeLine{02088   QPointF newViewerGeomCenter(}
\DoxyCodeLine{02089       (newViewerGeom.left() + newViewerGeom.right() + 1) * 0.5,}
\DoxyCodeLine{02090       (newViewerGeom.top() + newViewerGeom.bottom() + 1) * 0.5);}
\DoxyCodeLine{02091 }
\DoxyCodeLine{02092   \textcolor{comment}{/*QPointF imageGeomCenter(}}
\DoxyCodeLine{02093 \textcolor{comment}{(imageGeom.width()) * 0.5,}}
\DoxyCodeLine{02094 \textcolor{comment}{(imageGeom.height()) * 0.5}}
\DoxyCodeLine{02095 \textcolor{comment}{);}}
\DoxyCodeLine{02096 \textcolor{comment}{QPointF newViewerGeomCenter(}}
\DoxyCodeLine{02097 \textcolor{comment}{(newViewerGeom.width()) * 0.5,}}
\DoxyCodeLine{02098 \textcolor{comment}{(newViewerGeom.height()) * 0.5}}
\DoxyCodeLine{02099 \textcolor{comment}{);*/}}
\DoxyCodeLine{02100 }
\DoxyCodeLine{02101   \textcolor{comment}{// NOTE: If delta == (0,0) the image is at center. Typically happens when}}
\DoxyCodeLine{02102   \textcolor{comment}{// imageGeom doesn't intersect}}
\DoxyCodeLine{02103   \textcolor{comment}{// the screen geometry.}}
\DoxyCodeLine{02104   QPointF delta(imageGeomCenter -\/ newViewerGeomCenter);}
\DoxyCodeLine{02105   \mbox{\hyperlink{class_t_affine}{TAffine}} aff(m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_ad3ae5a695b9e5ec53364d657d6f51e07}{getViewAff}}());}
\DoxyCodeLine{02106   aff.a13 = delta.x();}
\DoxyCodeLine{02107   aff.a23 = -\/delta.y();}
\DoxyCodeLine{02108 }
\DoxyCodeLine{02109   \textcolor{comment}{// Calculate new panel geometry}}
\DoxyCodeLine{02110   newViewerGeom.adjust(margins.left(), margins.top(), margins.right(),}
\DoxyCodeLine{02111                        margins.bottom());}
\DoxyCodeLine{02112 }
\DoxyCodeLine{02113   \textcolor{comment}{// Apply changes}}
\DoxyCodeLine{02114   m\_imageViewer-\/>setViewAff(aff);}
\DoxyCodeLine{02115   panel-\/>setGeometry(newViewerGeom);}
\DoxyCodeLine{02116 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00110}{Image\+Viewer\+::get\+View\+Aff()}}, and \mbox{\hyperlink{l00557}{TRect\+T$<$ T $>$\+::x0}}.



Referenced by \mbox{\hyperlink{l01968}{adapt\+Geometry\+For\+Full\+Preview()}}.

\mbox{\Hypertarget{class_flip_book_ad87f98266b74bb91a7bf6588924abba5}\label{class_flip_book_ad87f98266b74bb91a7bf6588924abba5}} 
\index{FlipBook@{FlipBook}!addFreezeButtonToTitleBar@{addFreezeButtonToTitleBar}}
\index{addFreezeButtonToTitleBar@{addFreezeButtonToTitleBar}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{addFreezeButtonToTitleBar()}{addFreezeButtonToTitleBar()}}
{\footnotesize\ttfamily void Flip\+Book\+::add\+Freeze\+Button\+To\+Title\+Bar (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

add freeze button to the flipbook. called from the function Preview\+Fx\+Manager\+::open\+Flip\+Book. this button will hide for re-\/use, at on\+Close\+Button\+Pressed 
\begin{DoxyCode}{0}
\DoxyCodeLine{00257                                          \{}
\DoxyCodeLine{00258   \textcolor{comment}{// If there is the button already, then reuse it.}}
\DoxyCodeLine{00259   \textcolor{keywordflow}{if} (m\_freezeButton) \{}
\DoxyCodeLine{00260     m\_freezeButton-\/>show();}
\DoxyCodeLine{00261     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00262   \}}
\DoxyCodeLine{00263 }
\DoxyCodeLine{00264   \textcolor{comment}{// If there is not, then newly make it}}
\DoxyCodeLine{00265   \mbox{\hyperlink{class_t_panel}{TPanel}} *panel = qobject\_cast<TPanel *>(parentWidget());}
\DoxyCodeLine{00266   \textcolor{keywordflow}{if} (panel) \{}
\DoxyCodeLine{00267     \mbox{\hyperlink{class_t_panel_title_bar}{TPanelTitleBar}} *titleBar = panel-\/>getTitleBar();}
\DoxyCodeLine{00268     m\_freezeButton           = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_panel_title_bar_button}{TPanelTitleBarButton}}(}
\DoxyCodeLine{00269         titleBar, getIconThemePath(\textcolor{stringliteral}{"{}actions/20/pane\_freeze.svg"{}}));}
\DoxyCodeLine{00270     m\_freezeButton-\/>setToolTip(\textcolor{stringliteral}{"{}Freeze"{}});}
\DoxyCodeLine{00271     titleBar-\/>add(QPoint(-\/64, 0), m\_freezeButton);}
\DoxyCodeLine{00272     connect(m\_freezeButton, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this}, SLOT(freeze(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00273     QPoint p(titleBar-\/>width() -\/ 64, 0);}
\DoxyCodeLine{00274     m\_freezeButton-\/>move(p);}
\DoxyCodeLine{00275     m\_freezeButton-\/>show();}
\DoxyCodeLine{00276   \}}
\DoxyCodeLine{00277 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a61ee5fc44aad419cf5035db9e61ffae1}\label{class_flip_book_a61ee5fc44aad419cf5035db9e61ffae1}} 
\index{FlipBook@{FlipBook}!canAppend@{canAppend}}
\index{canAppend@{canAppend}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{canAppend()}{canAppend()}}
{\footnotesize\ttfamily bool Flip\+Book\+::can\+Append (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00555                          \{}
\DoxyCodeLine{00556   \textcolor{comment}{// Images can be appended if:}}
\DoxyCodeLine{00557   \textcolor{comment}{//  a) There is a name (in particular, an extension) representing currently}}
\DoxyCodeLine{00558   \textcolor{comment}{//  held ones.}}
\DoxyCodeLine{00559   \textcolor{comment}{//  b) This flipbook is not holding a preview (inappropriate and problematic).}}
\DoxyCodeLine{00560   \textcolor{comment}{//  c) The level has no palette. Otherwise, appended images may have a}}
\DoxyCodeLine{00561   \textcolor{comment}{//  different palette.}}
\DoxyCodeLine{00562   \textcolor{keywordflow}{return} !m\_levels.empty() \&\& !m\_previewedFx \&\& !m\_palette;}
\DoxyCodeLine{00563 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_acfda4c18bb4c876569167d91f3407ba4}\label{class_flip_book_acfda4c18bb4c876569167d91f3407ba4}} 
\index{FlipBook@{FlipBook}!changeSwapBehavior@{changeSwapBehavior}}
\index{changeSwapBehavior@{changeSwapBehavior}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{changeSwapBehavior()}{changeSwapBehavior()}}
{\footnotesize\ttfamily void Flip\+Book\+::change\+Swap\+Behavior (\begin{DoxyParamCaption}\item[{bool}]{enable }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_flip_console_owner}{Flip\+Console\+Owner}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01695                                              \{}
\DoxyCodeLine{01696   m\_imageViewer-\/>changeSwapBehavior(enable);}
\DoxyCodeLine{01697 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a063c1b2d2fab01441e896165352a1d1f}\label{class_flip_book_a063c1b2d2fab01441e896165352a1d1f}} 
\index{FlipBook@{FlipBook}!clearCache@{clearCache}}
\index{clearCache@{clearCache}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{clearCache()}{clearCache()}}
{\footnotesize\ttfamily void Flip\+Book\+::clear\+Cache (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01708                           \{}
\DoxyCodeLine{01709   TLevel::Iterator it;}
\DoxyCodeLine{01710 }
\DoxyCodeLine{01711   \textcolor{keywordflow}{if} (m\_levelNames.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01712   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01713 }
\DoxyCodeLine{01714   \textcolor{keywordflow}{if} (!m\_levels.empty())  \textcolor{comment}{// is a viewfile}}
\DoxyCodeLine{01715     \textcolor{keywordflow}{for} (i = 0; i < m\_levels.size(); i++)}
\DoxyCodeLine{01716       \textcolor{keywordflow}{for} (it = m\_levels[i].m\_level-\/>begin(); it != m\_levels[i].m\_level-\/>end();}
\DoxyCodeLine{01717            ++it)}
\DoxyCodeLine{01718         TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a57d63227dfe2532b0aed22c47113be66}{remove}}(}
\DoxyCodeLine{01719             m\_levelNames[i].toStdString() +}
\DoxyCodeLine{01720             std::to\_string(it-\/>first.getNumber()) +}
\DoxyCodeLine{01721             ((m\_isPreviewFx) ? \textcolor{stringliteral}{"{}"{}} : ::to\_string(\textcolor{keyword}{this})));}
\DoxyCodeLine{01722   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01723     \textcolor{keywordtype}{int} from, to, step;}
\DoxyCodeLine{01724     m\_flipConsole-\/>getFrameRange(from, to, step);}
\DoxyCodeLine{01725     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = from; i <= to; i += step)  \textcolor{comment}{// is a render}}
\DoxyCodeLine{01726       \textcolor{comment}{// color model may loading a part of frames in the level}}
\DoxyCodeLine{01727       \textcolor{keywordflow}{if} (m\_imageViewer-\/>isColorModel() \&\& m\_palette) \{}
\DoxyCodeLine{01728         \textcolor{comment}{// get the actually-\/loaded frame list}}
\DoxyCodeLine{01729         std::vector<TFrameId> fids(m\_palette-\/>\mbox{\hyperlink{class_t_palette_aeda302f41529ee532096ecef117bdf7d}{getRefLevelFids}}());}
\DoxyCodeLine{01730         \textcolor{keywordflow}{if} (!fids.empty() \&\& (\textcolor{keywordtype}{int})fids.size() >= i) \{}
\DoxyCodeLine{01731           \textcolor{keywordtype}{int} frame = fids[i -\/ 1].getNumber();}
\DoxyCodeLine{01732           TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a57d63227dfe2532b0aed22c47113be66}{remove}}(m\_levelNames[0].toStdString() +}
\DoxyCodeLine{01733                                           std::to\_string(frame));}
\DoxyCodeLine{01734         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01735           TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a57d63227dfe2532b0aed22c47113be66}{remove}}(m\_levelNames[0].toStdString() +}
\DoxyCodeLine{01736                                           std::to\_string(i));}
\DoxyCodeLine{01737         \}}
\DoxyCodeLine{01738       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01739         TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a57d63227dfe2532b0aed22c47113be66}{remove}}(m\_levelNames[0].toStdString() +}
\DoxyCodeLine{01740                                         std::to\_string(i));}
\DoxyCodeLine{01741   \}}
\DoxyCodeLine{01742 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a60c63bd1069917d4fdc8f870a24cc57a}\label{class_flip_book_a60c63bd1069917d4fdc8f870a24cc57a}} 
\index{FlipBook@{FlipBook}!clonePreview@{clonePreview}}
\index{clonePreview@{clonePreview}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{clonePreview}{clonePreview}}
{\footnotesize\ttfamily void Flip\+Book\+::clone\+Preview (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01402                             \{}
\DoxyCodeLine{01403   \textcolor{keywordflow}{if} (!m\_previewedFx) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01404 }
\DoxyCodeLine{01405   \mbox{\hyperlink{class_flip_book}{FlipBook}} *newFlip =}
\DoxyCodeLine{01406       \mbox{\hyperlink{class_preview_fx_manager_a540923ef1e799396ddf8bba11bb3c8c6}{PreviewFxManager::instance}}()-\/>\mbox{\hyperlink{class_preview_fx_manager_a5a633f9f858d2ea0e6ccee709d495b74}{showNewPreview}}(m\_previewedFx, \textcolor{keyword}{true});}
\DoxyCodeLine{01407   newFlip-\/>m\_imageViewer-\/>setViewAff(m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_ad3ae5a695b9e5ec53364d657d6f51e07}{getViewAff}}());}
\DoxyCodeLine{01408   \mbox{\hyperlink{class_preview_fx_manager_a540923ef1e799396ddf8bba11bb3c8c6}{PreviewFxManager::instance}}()-\/>\mbox{\hyperlink{class_preview_fx_manager_a20c15e33d5294fb7644af987745d395b}{refreshView}}(m\_previewedFx);}
\DoxyCodeLine{01409 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a171a64f14063208051047da05ef47535}\label{class_flip_book_a171a64f14063208051047da05ef47535}} 
\index{FlipBook@{FlipBook}!doSaveImages@{doSaveImages}}
\index{doSaveImages@{doSaveImages}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{doSaveImages()}{doSaveImages()}}
{\footnotesize\ttfamily bool Flip\+Book\+::do\+Save\+Images (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_file_path}{TFile\+Path}}}]{fp }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00597                                         \{}
\DoxyCodeLine{00598   QStringList formats;}
\DoxyCodeLine{00599   TLevelWriter::getSupportedFormats(formats, \textcolor{keyword}{true});}
\DoxyCodeLine{00600   Tiio::Writer::getSupportedFormats(formats, \textcolor{keyword}{true});}
\DoxyCodeLine{00601 }
\DoxyCodeLine{00602   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{00603   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *outputSettings =}
\DoxyCodeLine{00604       scene-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()-\/>\mbox{\hyperlink{class_t_scene_properties_abea7b4b8e4f0cedbf753b26ec30b5331}{getOutputProperties}}();}
\DoxyCodeLine{00605 }
\DoxyCodeLine{00606   std::string ext = fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}();}
\DoxyCodeLine{00607 }
\DoxyCodeLine{00608   \textcolor{comment}{// Open a notice that the previewFx is rendered in 8bpc regardless of the}}
\DoxyCodeLine{00609   \textcolor{comment}{// output settings.}}
\DoxyCodeLine{00610   \textcolor{keywordflow}{if} (m\_isPreviewFx \&\& outputSettings-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}().\mbox{\hyperlink{class_t_render_settings_a9489ed9d21a047b29cc5dd285f1f6f19}{m\_bpp}} == 64) \{}
\DoxyCodeLine{00611     QString question =}
\DoxyCodeLine{00612         \textcolor{stringliteral}{"{}Save previewed images :\(\backslash\)nImages will be saved in 8 bit per channel "{}}}
\DoxyCodeLine{00613         \textcolor{stringliteral}{"{}with this command.\(\backslash\)nDo you want to save images?"{}};}
\DoxyCodeLine{00614     \textcolor{keywordtype}{int} ret =}
\DoxyCodeLine{00615         DVGui::MsgBox(question, QObject::tr(\textcolor{stringliteral}{"{}Save"{}}), QObject::tr(\textcolor{stringliteral}{"{}Cancel"{}}), 0);}
\DoxyCodeLine{00616     \textcolor{keywordflow}{if} (ret == 2 || ret == 0) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00617   \}}
\DoxyCodeLine{00618 }
\DoxyCodeLine{00619 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00620   \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}avi"{}}) \{}
\DoxyCodeLine{00621     \mbox{\hyperlink{class_t_property_group}{TPropertyGroup}} *props = outputSettings-\/>\mbox{\hyperlink{class_t_output_properties_a9ef174e6f6239219fa563b037246c8d4}{getFileFormatProperties}}(ext);}
\DoxyCodeLine{00622     std::string codecName = props-\/>\mbox{\hyperlink{class_t_property_group_afb08f3145e5f77da6f163cdc9decad2f}{getProperty}}(0)-\/>getValueAsString();}
\DoxyCodeLine{00623     \mbox{\hyperlink{class_t_dimension_t}{TDimension}} res        = scene-\/>\mbox{\hyperlink{class_toonz_scene_a750b5ab623ccec744013b0c83bf20abc}{getCurrentCamera}}()-\/>\mbox{\hyperlink{class_t_camera_a9a7c573e7a2c397ffae4b747809ea2a5}{getRes}}();}
\DoxyCodeLine{00624     \textcolor{keywordflow}{if} (!AviCodecRestrictions::canWriteMovie(::to\_wstring(codecName), res)) \{}
\DoxyCodeLine{00625       QString msg(}
\DoxyCodeLine{00626           QObject::tr(\textcolor{stringliteral}{"{}The resolution of the output camera does not fit with "{}}}
\DoxyCodeLine{00627                       \textcolor{stringliteral}{"{}the options chosen for the output file format."{}}));}
\DoxyCodeLine{00628       DVGui::warning(msg);}
\DoxyCodeLine{00629       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00630     \}}
\DoxyCodeLine{00631   \}}
\DoxyCodeLine{00632 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00633 }
\DoxyCodeLine{00634   \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{00635     ext = outputSettings-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}().\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}();}
\DoxyCodeLine{00636     fp  = fp.\mbox{\hyperlink{class_t_file_path_a1437b0e0720e9258b622f68b6858e95d}{withType}}(ext);}
\DoxyCodeLine{00637   \}}
\DoxyCodeLine{00638   \textcolor{keywordflow}{if} (fp.\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}() == \textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{00639     DVGui::warning(}
\DoxyCodeLine{00640         tr(\textcolor{stringliteral}{"{}The file name cannot be empty or contain any of the following "{}}}
\DoxyCodeLine{00641            \textcolor{stringliteral}{"{}characters:(new line)  \(\backslash\)\(\backslash\) / : * ? \(\backslash\)"{}  |"{}}));}
\DoxyCodeLine{00642     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00643   \}}
\DoxyCodeLine{00644 }
\DoxyCodeLine{00645   \textcolor{keywordflow}{if} (!formats.contains(QString::fromStdString(ext))) \{}
\DoxyCodeLine{00646     DVGui::warning(}
\DoxyCodeLine{00647         tr(\textcolor{stringliteral}{"{}It is not possible to save because the selected file format is not "{}}}
\DoxyCodeLine{00648            \textcolor{stringliteral}{"{}supported."{}}));}
\DoxyCodeLine{00649     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00650   \}}
\DoxyCodeLine{00651 }
\DoxyCodeLine{00652   \textcolor{keywordtype}{int} from, to, step;}
\DoxyCodeLine{00653   m\_flipConsole-\/>getFrameRange(from, to, step);}
\DoxyCodeLine{00654 }
\DoxyCodeLine{00655   \textcolor{keywordflow}{if} (m\_currentFrameToSave != 0) \{}
\DoxyCodeLine{00656     DVGui::info(\textcolor{stringliteral}{"{}Already saving!"{}});}
\DoxyCodeLine{00657     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00658   \}}
\DoxyCodeLine{00659 }
\DoxyCodeLine{00660   \textcolor{keywordflow}{if} (TFileType::getInfo(fp) == TFileType::RASTER\_IMAGE || ext == \textcolor{stringliteral}{"{}pct"{}} ||}
\DoxyCodeLine{00661       ext == \textcolor{stringliteral}{"{}pic"{}} || ext == \textcolor{stringliteral}{"{}pict"{}})  \textcolor{comment}{// pct e' un formato"{}livello"{} (ha i}}
\DoxyCodeLine{00662                                       \textcolor{comment}{// settings di quicktime) ma fatto di}}
\DoxyCodeLine{00663                                       \textcolor{comment}{// diversi frames}}
\DoxyCodeLine{00664     fp = fp.\mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{withFrame}}(TFrameId::EMPTY\_FRAME);}
\DoxyCodeLine{00665 }
\DoxyCodeLine{00666   fp          = scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(fp);}
\DoxyCodeLine{00667   \textcolor{keywordtype}{bool} exists = \mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}()).doesExist();}
\DoxyCodeLine{00668   \textcolor{keywordflow}{if} (!exists) \{}
\DoxyCodeLine{00669     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00670       \mbox{\hyperlink{class_t_file_path}{TFilePath}} parent = fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}();}
\DoxyCodeLine{00671       TSystem::mkDir(parent);}
\DoxyCodeLine{00672       DvDirModel::instance()-\/>refreshFolder(parent.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}());}
\DoxyCodeLine{00673     \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_exception}{TException}} \&e) \{}
\DoxyCodeLine{00674       DVGui::error(\textcolor{stringliteral}{"{}Cannot create "{}} + toQString(fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}()) + \textcolor{stringliteral}{"{} : "{}} +}
\DoxyCodeLine{00675                    QString(::to\_string(e.getMessage()).c\_str()));}
\DoxyCodeLine{00676       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00677     \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00678       DVGui::error(\textcolor{stringliteral}{"{}Cannot create "{}} + toQString(fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}()));}
\DoxyCodeLine{00679       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00680     \}}
\DoxyCodeLine{00681   \}}
\DoxyCodeLine{00682 }
\DoxyCodeLine{00683   \textcolor{keywordflow}{if} (TSystem::doesExistFileOrLevel(fp)) \{}
\DoxyCodeLine{00684     QString question(tr(\textcolor{stringliteral}{"{}File \%1 already exists.\(\backslash\)nDo you want to overwrite it?"{}})}
\DoxyCodeLine{00685                          .arg(toQString(fp)));}
\DoxyCodeLine{00686     \textcolor{keywordtype}{int} ret = DVGui::MsgBox(question, QObject::tr(\textcolor{stringliteral}{"{}Overwrite"{}}),}
\DoxyCodeLine{00687                             QObject::tr(\textcolor{stringliteral}{"{}Cancel"{}}));}
\DoxyCodeLine{00688     \textcolor{keywordflow}{if} (ret == 2) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00689   \}}
\DoxyCodeLine{00690 }
\DoxyCodeLine{00691   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00692     m\_lw = \mbox{\hyperlink{class_t_level_writer_p}{TLevelWriterP}}(fp,}
\DoxyCodeLine{00693                          outputSettings-\/>\mbox{\hyperlink{class_t_output_properties_a9ef174e6f6239219fa563b037246c8d4}{getFileFormatProperties}}(fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}()));}
\DoxyCodeLine{00694   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00695     DVGui::error(\textcolor{stringliteral}{"{}It is not possible to save Flipbook content."{}});}
\DoxyCodeLine{00696     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00697   \}}
\DoxyCodeLine{00698 }
\DoxyCodeLine{00699   m\_lw-\/>setFrameRate(outputSettings-\/>\mbox{\hyperlink{class_t_output_properties_a0d9662971bc33097aa1b55111965b967}{getFrameRate}}());}
\DoxyCodeLine{00700 }
\DoxyCodeLine{00701   m\_currentFrameToSave = 1;}
\DoxyCodeLine{00702 }
\DoxyCodeLine{00703   ProgressBarMessager(eBegin, m\_framesCount).sendBlocking();}
\DoxyCodeLine{00704 }
\DoxyCodeLine{00705   QTimer::singleShot(50, \textcolor{keyword}{this}, SLOT(saveImage()));}
\DoxyCodeLine{00706   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00707 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a63e2a73a78a910768037a7d4de2b81d3}\label{class_flip_book_a63e2a73a78a910768037a7d4de2b81d3}} 
\index{FlipBook@{FlipBook}!dragEnterEvent@{dragEnterEvent}}
\index{dragEnterEvent@{dragEnterEvent}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{dragEnterEvent()}{dragEnterEvent()}}
{\footnotesize\ttfamily void Flip\+Book\+::drag\+Enter\+Event (\begin{DoxyParamCaption}\item[{QDrag\+Enter\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01776                                                 \{}
\DoxyCodeLine{01777   \textcolor{keyword}{const} QMimeData *mimeData = e-\/>mimeData();}
\DoxyCodeLine{01778   \textcolor{keywordtype}{bool} isResourceDrop       = acceptResourceDrop(mimeData-\/>urls());}
\DoxyCodeLine{01779   \textcolor{keywordflow}{if} (!isResourceDrop \&\&}
\DoxyCodeLine{01780       !mimeData-\/>hasFormat(\textcolor{stringliteral}{"{}application/vnd.toonz.drawings"{}}) \&\&}
\DoxyCodeLine{01781       !mimeData-\/>hasFormat(CastItems::getMimeFormat()))}
\DoxyCodeLine{01782     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01783 }
\DoxyCodeLine{01784   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} QUrl \&url : mimeData-\/>urls()) \{}
\DoxyCodeLine{01785     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(url.toLocalFile().toStdWString());}
\DoxyCodeLine{01786     std::string type = fp.getType();}
\DoxyCodeLine{01787     \textcolor{keywordflow}{if} (type == \textcolor{stringliteral}{"{}tzp"{}} || type == \textcolor{stringliteral}{"{}tzu"{}} || type == \textcolor{stringliteral}{"{}tnz"{}} || type == \textcolor{stringliteral}{"{}scr"{}} ||}
\DoxyCodeLine{01788         type == \textcolor{stringliteral}{"{}mesh"{}})}
\DoxyCodeLine{01789       \textcolor{keywordflow}{return};}
\DoxyCodeLine{01790   \}}
\DoxyCodeLine{01791   \textcolor{keywordflow}{if} (mimeData-\/>hasFormat(CastItems::getMimeFormat())) \{}
\DoxyCodeLine{01792     \textcolor{keyword}{const} \mbox{\hyperlink{class_cast_items}{CastItems}} *items = \textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{class_cast_items}{CastItems}} *\textcolor{keyword}{>}(mimeData);}
\DoxyCodeLine{01793     \textcolor{keywordflow}{if} (!items) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01794 }
\DoxyCodeLine{01795     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01796     \textcolor{keywordflow}{for} (i = 0; i < items-\/>getItemCount(); i++) \{}
\DoxyCodeLine{01797       \mbox{\hyperlink{class_cast_item}{CastItem}} *item      = items-\/>getItem(i);}
\DoxyCodeLine{01798       \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = item-\/>getSimpleLevel();}
\DoxyCodeLine{01799       \textcolor{keywordflow}{if} (!sl) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01800     \}}
\DoxyCodeLine{01801   \}}
\DoxyCodeLine{01802 }
\DoxyCodeLine{01803   \textcolor{keywordflow}{if} (isResourceDrop) \{}
\DoxyCodeLine{01804     \textcolor{comment}{// Force CopyAction}}
\DoxyCodeLine{01805     e-\/>setDropAction(Qt::CopyAction);}
\DoxyCodeLine{01806     \textcolor{comment}{// For files, don't accept original proposed action in case it's a move}}
\DoxyCodeLine{01807     e-\/>accept();}
\DoxyCodeLine{01808   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01809     e-\/>acceptProposedAction();}
\DoxyCodeLine{01810 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a409dfd01d3ca0a1c7c8f192cbb27f550}\label{class_flip_book_a409dfd01d3ca0a1c7c8f192cbb27f550}} 
\index{FlipBook@{FlipBook}!dropEvent@{dropEvent}}
\index{dropEvent@{dropEvent}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{dropEvent()}{dropEvent()}}
{\footnotesize\ttfamily void Flip\+Book\+::drop\+Event (\begin{DoxyParamCaption}\item[{QDrop\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01814                                       \{}
\DoxyCodeLine{01815   \textcolor{keyword}{const} QMimeData *mimeData = e-\/>mimeData();}
\DoxyCodeLine{01816   \textcolor{keywordtype}{bool} isResourceDrop       = acceptResourceDrop(mimeData-\/>urls());}
\DoxyCodeLine{01817   \textcolor{keywordflow}{if} (mimeData-\/>hasUrls()) \{}
\DoxyCodeLine{01818     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} QUrl \&url : mimeData-\/>urls()) \{}
\DoxyCodeLine{01819       \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(url.toLocalFile().toStdWString());}
\DoxyCodeLine{01820       \textcolor{keywordflow}{if} (TFileType::getInfo(fp) != TFileType::UNKNOW\_FILE) \mbox{\hyperlink{class_flip_book_ac70c72b88200e2821ea83f4273cb34e4}{setLevel}}(fp);}
\DoxyCodeLine{01821       \textcolor{keywordflow}{if} (isResourceDrop) \{}
\DoxyCodeLine{01822         \textcolor{comment}{// Force CopyAction}}
\DoxyCodeLine{01823         e-\/>setDropAction(Qt::CopyAction);}
\DoxyCodeLine{01824         \textcolor{comment}{// For files, don't accept original proposed action in case it's a move}}
\DoxyCodeLine{01825         e-\/>accept();}
\DoxyCodeLine{01826       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01827         e-\/>acceptProposedAction();}
\DoxyCodeLine{01828       \textcolor{keywordflow}{return};}
\DoxyCodeLine{01829     \}}
\DoxyCodeLine{01830   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mimeData-\/>hasFormat(}
\DoxyCodeLine{01831                  \textcolor{stringliteral}{"{}application/vnd.toonz.drawings"{}}))  \textcolor{comment}{// drag-\/drop from film}}
\DoxyCodeLine{01832                                                      \textcolor{comment}{// strip}}
\DoxyCodeLine{01833   \{}
\DoxyCodeLine{01834     \mbox{\hyperlink{class_t_filmstrip_selection}{TFilmstripSelection}} *s =}
\DoxyCodeLine{01835         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_filmstrip_selection}{TFilmstripSelection}} *\textcolor{keyword}{>}(TSelection::getCurrent());}
\DoxyCodeLine{01836     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}{getCurrentLevel}}()-\/>getSimpleLevel();}
\DoxyCodeLine{01837     \textcolor{keywordflow}{if} (!s || !sl) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01838     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *newSl = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}}();}
\DoxyCodeLine{01839     newSl-\/>\mbox{\hyperlink{class_t_xsh_level_a3c0052e5b6496d5bd9c697f678761e5c}{setScene}}(sl-\/>\mbox{\hyperlink{class_t_xsh_level_a06176566e80858dbb206112db08a92b9}{getScene}}());}
\DoxyCodeLine{01840     newSl-\/>\mbox{\hyperlink{class_t_xsh_level_ad2cb5812d9f36e9f5d570874dad8d3bd}{setType}}(sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}());}
\DoxyCodeLine{01841     newSl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_ab5634198656dc2ade669fae235bb19c0}{setPalette}}(sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a9aea4f8e34caef293d5e5c7694047564}{getPalette}}());}
\DoxyCodeLine{01842     newSl-\/>clonePropertiesFrom(sl);}
\DoxyCodeLine{01843     \textcolor{keyword}{const} std::set<TFrameId> \&fids = s-\/>getSelectedFids();}
\DoxyCodeLine{01844     std::set<TFrameId>::const\_iterator it;}
\DoxyCodeLine{01845     \textcolor{keywordflow}{for} (it = fids.begin(); it != fids.end(); ++it)}
\DoxyCodeLine{01846       newSl-\/>setFrame(*it, sl-\/>getFrame(*it, \textcolor{keyword}{false})-\/>\mbox{\hyperlink{class_t_image_a3632b96b398057030a4adfe6917d2e28}{cloneImage}}());}
\DoxyCodeLine{01847     \mbox{\hyperlink{class_flip_book_ac70c72b88200e2821ea83f4273cb34e4}{setLevel}}(newSl);}
\DoxyCodeLine{01848   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mimeData-\/>hasFormat(}
\DoxyCodeLine{01849                  CastItems::getMimeFormat()))  \textcolor{comment}{// Drag-\/Drop from castviewer}}
\DoxyCodeLine{01850   \{}
\DoxyCodeLine{01851     \textcolor{keyword}{const} \mbox{\hyperlink{class_cast_items}{CastItems}} *items = \textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{class_cast_items}{CastItems}} *\textcolor{keyword}{>}(mimeData);}
\DoxyCodeLine{01852     \textcolor{keywordflow}{if} (!items) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01853 }
\DoxyCodeLine{01854     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01855     \textcolor{keywordflow}{for} (i = 0; i < items-\/>getItemCount(); i++) \{}
\DoxyCodeLine{01856       \mbox{\hyperlink{class_cast_item}{CastItem}} *item = items-\/>getItem(i);}
\DoxyCodeLine{01857       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = item-\/>getSimpleLevel()) \mbox{\hyperlink{class_flip_book_ac70c72b88200e2821ea83f4273cb34e4}{setLevel}}(sl);}
\DoxyCodeLine{01858     \}}
\DoxyCodeLine{01859   \}}
\DoxyCodeLine{01860   m\_flipConsole-\/>makeCurrent();}
\DoxyCodeLine{01861 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a0e61952e3a635c1dc18129daa09e44f0}\label{class_flip_book_a0e61952e3a635c1dc18129daa09e44f0}} 
\index{FlipBook@{FlipBook}!enterEvent@{enterEvent}}
\index{enterEvent@{enterEvent}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{enterEvent()}{enterEvent()}}
{\footnotesize\ttfamily void Flip\+Book\+::enter\+Event (\begin{DoxyParamCaption}\item[{QEvent $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00280 \{ m\_flipConsole-\/>makeCurrent(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a7702bb79990661a86feb3f4c49ee46c3}\label{class_flip_book_a7702bb79990661a86feb3f4c49ee46c3}} 
\index{FlipBook@{FlipBook}!focusInEvent@{focusInEvent}}
\index{focusInEvent@{focusInEvent}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{focusInEvent()}{focusInEvent()}}
{\footnotesize\ttfamily void Flip\+Book\+::focus\+In\+Event (\begin{DoxyParamCaption}\item[{QFocus\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00290                                           \{}
\DoxyCodeLine{00291   m\_flipConsole-\/>makeCurrent();}
\DoxyCodeLine{00292   QWidget::focusInEvent(e);}
\DoxyCodeLine{00293 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_afe922b8358480703ef15c2e4362f9b9d}\label{class_flip_book_afe922b8358480703ef15c2e4362f9b9d}} 
\index{FlipBook@{FlipBook}!freeze@{freeze}}
\index{freeze@{freeze}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{freeze}{freeze}}
{\footnotesize\ttfamily void Flip\+Book\+::freeze (\begin{DoxyParamCaption}\item[{bool}]{on }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00281                              \{}
\DoxyCodeLine{00282   \textcolor{keywordflow}{if} (on)}
\DoxyCodeLine{00283     freezePreview();}
\DoxyCodeLine{00284   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00285     unfreezePreview();}
\DoxyCodeLine{00286 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_af6525b4f0f7d1bd6669e4e6fe776cadc}\label{class_flip_book_af6525b4f0f7d1bd6669e4e6fe776cadc}} 
\index{FlipBook@{FlipBook}!freezePreview@{freezePreview}}
\index{freezePreview@{freezePreview}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{freezePreview}{freezePreview}}
{\footnotesize\ttfamily void Flip\+Book\+::freeze\+Preview (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01413                              \{}
\DoxyCodeLine{01414   \textcolor{keywordflow}{if} (!m\_previewedFx) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01415 }
\DoxyCodeLine{01416   \mbox{\hyperlink{class_preview_fx_manager_a540923ef1e799396ddf8bba11bb3c8c6}{PreviewFxManager::instance}}()-\/>\mbox{\hyperlink{class_preview_fx_manager_ad87d57fda744ab77992cd27d16b938d9}{freeze}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01417 }
\DoxyCodeLine{01418   m\_freezed = \textcolor{keyword}{true};}
\DoxyCodeLine{01419 }
\DoxyCodeLine{01420   \textcolor{comment}{// sync the button state when triggered by shortcut}}
\DoxyCodeLine{01421   \textcolor{keywordflow}{if} (m\_freezeButton) m\_freezeButton-\/>setPressed(\textcolor{keyword}{true});}
\DoxyCodeLine{01422 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a92ac841b8d423a8cbfa1aebca1165cc5}\label{class_flip_book_a92ac841b8d423a8cbfa1aebca1165cc5}} 
\index{FlipBook@{FlipBook}!getCurrentFrame@{getCurrentFrame}}
\index{getCurrentFrame@{getCurrentFrame}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getCurrentFrame()}{getCurrentFrame()}}
{\footnotesize\ttfamily int Flip\+Book\+::get\+Current\+Frame (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00205 \{ \textcolor{keywordflow}{return} m\_flipConsole-\/>getCurrentFrame(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a001477c64bf145faa09af54e46613475}\label{class_flip_book_a001477c64bf145faa09af54e46613475}} 
\index{FlipBook@{FlipBook}!getCurrentImage@{getCurrentImage}}
\index{getCurrentImage@{getCurrentImage}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getCurrentImage()}{getCurrentImage()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} Flip\+Book\+::get\+Current\+Image (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01510                                            \{}
\DoxyCodeLine{01511   std::string \textcolor{keywordtype}{id} = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01512   \mbox{\hyperlink{class_t_frame_id}{TFrameId}} fid;}
\DoxyCodeLine{01513   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp;}
\DoxyCodeLine{01514 }
\DoxyCodeLine{01515   \textcolor{keywordtype}{bool} randomAccessRead    = \textcolor{keyword}{false};}
\DoxyCodeLine{01516   \textcolor{keywordtype}{bool} incrementalIndexing = \textcolor{keyword}{false};}
\DoxyCodeLine{01517   \textcolor{keywordtype}{bool} premultiply         = \textcolor{keyword}{false};}
\DoxyCodeLine{01518   \textcolor{keywordflow}{if} (m\_xl)  \textcolor{comment}{// is an xsheet level}}
\DoxyCodeLine{01519   \{}
\DoxyCodeLine{01520     \textcolor{keywordflow}{if} (m\_xl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a3fe127306d6669a3eb9e9d8802660d7b}{getFrameCount}}() <= 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01521     \textcolor{keywordflow}{return} m\_xl-\/>getFrame(m\_xl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a07279a40ffad2c6ccc597c0a418f78fb}{index2fid}}(frame -\/ 1), \textcolor{keyword}{false});}
\DoxyCodeLine{01522   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!m\_levels.empty())  \textcolor{comment}{// is a viewfile or a previewFx}}
\DoxyCodeLine{01523   \{}
\DoxyCodeLine{01524     \mbox{\hyperlink{class_t_level_p}{TLevelP}} level;}
\DoxyCodeLine{01525     QString levelName;}
\DoxyCodeLine{01526     \textcolor{keywordtype}{int} from, to, step;}
\DoxyCodeLine{01527     m\_flipConsole-\/>getFrameRange(from, to, step);}
\DoxyCodeLine{01528 }
\DoxyCodeLine{01529     \textcolor{keywordtype}{int} frameIndex = m\_previewedFx ? ((frame -\/ from) / step) + 1 : frame;}
\DoxyCodeLine{01530 }
\DoxyCodeLine{01531     \textcolor{keywordtype}{int} i = 0;}
\DoxyCodeLine{01532     \textcolor{comment}{// Search all subsequent levels on the flipbook and retrieve the one}}
\DoxyCodeLine{01533     \textcolor{comment}{// containing the required frame}}
\DoxyCodeLine{01534     \textcolor{keywordflow}{for} (i = 0; i < m\_levels.size(); i++) \{}
\DoxyCodeLine{01535       \textcolor{keywordtype}{int} frameIndexesCount = m\_levels[i].getIndexesCount();}
\DoxyCodeLine{01536       \textcolor{keywordflow}{if} (frameIndex > 0 \&\& frameIndex <= frameIndexesCount) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01537       frameIndex -\/= frameIndexesCount;}
\DoxyCodeLine{01538     \}}
\DoxyCodeLine{01539 }
\DoxyCodeLine{01540     \textcolor{keywordflow}{if} (i == m\_levels.size() || frame < 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01541 }
\DoxyCodeLine{01542     frame-\/-\/;}
\DoxyCodeLine{01543 }
\DoxyCodeLine{01544     \textcolor{comment}{// Now, get the right frame from the level}}
\DoxyCodeLine{01545 }
\DoxyCodeLine{01546     level               = m\_levels[i].m\_level;}
\DoxyCodeLine{01547     fp                  = m\_levels[i].m\_fp;  \textcolor{comment}{// fp=empty when previewing fx}}
\DoxyCodeLine{01548     randomAccessRead    = m\_levels[i].m\_randomAccessRead;}
\DoxyCodeLine{01549     incrementalIndexing = m\_levels[i].m\_incrementalIndexing;}
\DoxyCodeLine{01550     levelName           = m\_levelNames[i];}
\DoxyCodeLine{01551     fid                 = m\_levels[i].flipbookIndexToLevelFrame(frameIndex);}
\DoxyCodeLine{01552     premultiply         = m\_levels[i].m\_premultiply;}
\DoxyCodeLine{01553     \textcolor{keywordflow}{if} (fid == \mbox{\hyperlink{class_t_frame_id}{TFrameId}}()) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01554     \textcolor{keywordtype}{id} = levelName.toStdString() + fid.expand(TFrameId::NO\_PAD) +}
\DoxyCodeLine{01555          ((m\_isPreviewFx) ? \textcolor{stringliteral}{"{}"{}} : ::to\_string(\textcolor{keyword}{this}));}
\DoxyCodeLine{01556 }
\DoxyCodeLine{01557     \textcolor{keywordflow}{if} (!m\_isPreviewFx)}
\DoxyCodeLine{01558       m\_title1 = m\_viewerTitle + \textcolor{stringliteral}{"{} :: "{}} + fp.\mbox{\hyperlink{class_t_file_path_ac17d65d827432f0fae28fed699bf4afa}{withoutParentDir}}().\mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{withFrame}}(fid);}
\DoxyCodeLine{01559     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01560       m\_title1 = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01561   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_levelNames.empty())}
\DoxyCodeLine{01562     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01563   \textcolor{keywordflow}{else}  \textcolor{comment}{// is a render}}
\DoxyCodeLine{01564     \textcolor{keywordtype}{id} = m\_levelNames[0].toStdString() + std::to\_string(frame);}
\DoxyCodeLine{01565 }
\DoxyCodeLine{01566   \textcolor{keywordtype}{bool} showSub = m\_flipConsole-\/>isChecked(FlipConsole::eUseLoadBox);}
\DoxyCodeLine{01567 }
\DoxyCodeLine{01568   \textcolor{keywordflow}{if} (TImageCache::instance()-\/>isCached(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{01569     \mbox{\hyperlink{class_t_rect_t}{TRect}} loadbox;}
\DoxyCodeLine{01570     std::map<std::string, TRect>::const\_iterator it = m\_loadboxes.find(\textcolor{keywordtype}{id});}
\DoxyCodeLine{01571     \textcolor{keywordflow}{if} (it != m\_loadboxes.end()) loadbox = it-\/>second;}
\DoxyCodeLine{01572 }
\DoxyCodeLine{01573     \textcolor{comment}{// Resubmit the image to the cache as the 'last one' seen by the flipbook.}}
\DoxyCodeLine{01574     \textcolor{comment}{// TImageCache::instance()-\/>add(toString(m\_poolIndex) + "{}lastFlipFrame"{},}}
\DoxyCodeLine{01575     \textcolor{comment}{// img);}}
\DoxyCodeLine{01576     \textcolor{comment}{// m\_lastViewedFrame = frame+1;}}
\DoxyCodeLine{01577     \textcolor{keywordflow}{if} ((showSub \&\& m\_loadbox == loadbox) || (!showSub \&\& loadbox == \mbox{\hyperlink{class_t_rect_t}{TRect}}()))}
\DoxyCodeLine{01578       \textcolor{keywordflow}{return} TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_aea3ac2752efd6fa9689f5a7c1e895e41}{get}}(\textcolor{keywordtype}{id}, \textcolor{keyword}{false});}
\DoxyCodeLine{01579     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01580       TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a57d63227dfe2532b0aed22c47113be66}{remove}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{01581   \}}
\DoxyCodeLine{01582   \textcolor{keywordflow}{if} (fp != \mbox{\hyperlink{class_t_file_path}{TFilePath}}() \&\& !m\_isPreviewFx) \{}
\DoxyCodeLine{01583     \textcolor{keywordtype}{int} lx = 0, oriLx = 0;}
\DoxyCodeLine{01584     \textcolor{comment}{// TLevelReaderP lr(fp);}}
\DoxyCodeLine{01585     \textcolor{keywordflow}{if} (!m\_lr || (fp != m\_lr-\/>getFilePath())) \{}
\DoxyCodeLine{01586       m\_lr = \mbox{\hyperlink{class_t_level_reader_p}{TLevelReaderP}}(fp);}
\DoxyCodeLine{01587       m\_lr-\/>enableRandomAccessRead(randomAccessRead);}
\DoxyCodeLine{01588     \}}
\DoxyCodeLine{01589     \textcolor{keywordflow}{if} (!m\_lr) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01590     \textcolor{comment}{// try to get image info only when loading tlv or pli as it is quite time}}
\DoxyCodeLine{01591     \textcolor{comment}{// consuming}}
\DoxyCodeLine{01592     \textcolor{keywordflow}{if} (fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}() == \textcolor{stringliteral}{"{}tlv"{}} || fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}() == \textcolor{stringliteral}{"{}pli"{}}) \{}
\DoxyCodeLine{01593       \textcolor{keywordflow}{if} (m\_lr-\/>getImageInfo()) lx = oriLx = m\_lr-\/>getImageInfo()-\/>m\_lx;}
\DoxyCodeLine{01594     \}}
\DoxyCodeLine{01595     \mbox{\hyperlink{class_t_image_reader_p}{TImageReaderP}} ir = m\_lr-\/>getFrameReader(fid);}
\DoxyCodeLine{01596     ir-\/>setShrink(m\_shrink);}
\DoxyCodeLine{01597     \textcolor{keywordflow}{if} (m\_loadbox != \mbox{\hyperlink{class_t_rect_t}{TRect}}() \&\& showSub) \{}
\DoxyCodeLine{01598       ir-\/>setRegion(m\_loadbox);}
\DoxyCodeLine{01599       lx = m\_loadbox.getLx();}
\DoxyCodeLine{01600     \}}
\DoxyCodeLine{01601 }
\DoxyCodeLine{01602     \textcolor{keywordflow}{if} (Preferences::instance()-\/>is30bitDisplayEnabled())}
\DoxyCodeLine{01603       ir-\/>enable16BitRead(\textcolor{keyword}{true});}
\DoxyCodeLine{01604 }
\DoxyCodeLine{01605     \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} img = ir-\/>load();}
\DoxyCodeLine{01606 }
\DoxyCodeLine{01607     \textcolor{keywordflow}{if} (img) \{}
\DoxyCodeLine{01608       \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = ((\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}})img);}
\DoxyCodeLine{01609       \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti  = ((\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}})img);}
\DoxyCodeLine{01610       \textcolor{keywordflow}{if} (premultiply) \{}
\DoxyCodeLine{01611         \textcolor{keywordflow}{if} (ri)}
\DoxyCodeLine{01612           \mbox{\hyperlink{namespace_t_rop_aa8671761db1d55d696b4b8bb71f8b2e4}{TRop::premultiply}}(ri-\/>getRaster());}
\DoxyCodeLine{01613         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ti)}
\DoxyCodeLine{01614           \mbox{\hyperlink{namespace_t_rop_aa8671761db1d55d696b4b8bb71f8b2e4}{TRop::premultiply}}(ti-\/>getRaster());}
\DoxyCodeLine{01615       \}}
\DoxyCodeLine{01616 }
\DoxyCodeLine{01617       \textcolor{comment}{// se e' stata caricata una sottoimmagine alcuni formati in realta'}}
\DoxyCodeLine{01618       \textcolor{comment}{// caricano tutto il raster e fanno extract, non si ha quindi alcun}}
\DoxyCodeLine{01619       \textcolor{comment}{// risparmio di occupazione di memoria; alloco un raster grande}}
\DoxyCodeLine{01620       \textcolor{comment}{// giusto copio la region e butto quello originale.}}
\DoxyCodeLine{01621       \textcolor{keywordflow}{if} (ri \&\& showSub \&\& m\_loadbox != \mbox{\hyperlink{class_t_rect_t}{TRect}}() \&\&}
\DoxyCodeLine{01622           ri-\/>getRaster()-\/>getLx() == oriLx)  \textcolor{comment}{// questo serve perche' per avi e}}
\DoxyCodeLine{01623                                               \textcolor{comment}{// mov la setRegion e'}}
\DoxyCodeLine{01624                                               \textcolor{comment}{// completamente ignorata...}}
\DoxyCodeLine{01625         ri-\/>setRaster(ri-\/>getRaster()-\/>extract(m\_loadbox)-\/>clone());}
\DoxyCodeLine{01626       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ri \&\& ri-\/>getRaster()-\/>getWrap() > ri-\/>getRaster()-\/>getLx())}
\DoxyCodeLine{01627         ri-\/>setRaster(ri-\/>getRaster()-\/>clone());}
\DoxyCodeLine{01628       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ti \&\& ti-\/>getCMapped()-\/>getWrap() > ti-\/>getCMapped()-\/>getLx())}
\DoxyCodeLine{01629         ti-\/>setCMapped(ti-\/>getCMapped()-\/>clone());}
\DoxyCodeLine{01630 }
\DoxyCodeLine{01631       \textcolor{keywordflow}{if} ((fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}() == \textcolor{stringliteral}{"{}tlv"{}} || fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}() == \textcolor{stringliteral}{"{}pli"{}}) \&\& m\_shrink > 1 \&\&}
\DoxyCodeLine{01632           (lx == 0 || (ri \&\& ri-\/>getRaster()-\/>getLx() == lx) ||}
\DoxyCodeLine{01633            (ti \&\& ti-\/>getRaster()-\/>getLx() == lx))) \{}
\DoxyCodeLine{01634         \textcolor{keywordflow}{if} (ri)}
\DoxyCodeLine{01635           ri-\/>setRaster(TRop::shrink(ri-\/>getRaster(), m\_shrink));}
\DoxyCodeLine{01636         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ti)}
\DoxyCodeLine{01637           ti-\/>setCMapped(TRop::shrink(ti-\/>getRaster(), m\_shrink));}
\DoxyCodeLine{01638       \}}
\DoxyCodeLine{01639 }
\DoxyCodeLine{01640       \mbox{\hyperlink{class_t_palette}{TPalette}} *palette = img-\/>getPalette();}
\DoxyCodeLine{01641       \textcolor{keywordflow}{if} (m\_palette \&\& (!palette || palette != m\_palette))}
\DoxyCodeLine{01642         img-\/>\mbox{\hyperlink{class_t_image_a3377c18a849addff5c2cb238176ad04f}{setPalette}}(m\_palette);}
\DoxyCodeLine{01643       TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a124eae4cf370288f42c22b3477cb5163}{add}}(\textcolor{keywordtype}{id}, img);}
\DoxyCodeLine{01644       m\_loadboxes[id] = showSub ? m\_loadbox : \mbox{\hyperlink{class_t_rect_t}{TRect}}();}
\DoxyCodeLine{01645     \}}
\DoxyCodeLine{01646 }
\DoxyCodeLine{01647     \textcolor{comment}{// An old archived bug says that simultaneous open for read of the same tlv}}
\DoxyCodeLine{01648     \textcolor{comment}{// are not allowed...}}
\DoxyCodeLine{01649     \textcolor{comment}{// if(fp.getType()=="{}tlv"{})}}
\DoxyCodeLine{01650     \textcolor{comment}{//  m\_lr = TLevelReaderP();}}
\DoxyCodeLine{01651     \textcolor{keywordflow}{if} (m\_flags \& eDontKeepFilesOpened) m\_lr = \mbox{\hyperlink{class_t_level_reader_p}{TLevelReaderP}}();}
\DoxyCodeLine{01652     \textcolor{keywordflow}{return} img;}
\DoxyCodeLine{01653   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (fp == \mbox{\hyperlink{class_t_file_path}{TFilePath}}() \&\& m\_isPreviewFx) \{}
\DoxyCodeLine{01654     \textcolor{keywordflow}{if} (!TImageCache::instance()-\/>isCached(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{01655       \textcolor{comment}{/*string lastFrameCacheId(toString(m\_poolIndex) + "{}lastFlipFrame"{});}}
\DoxyCodeLine{01656 \textcolor{comment}{if(TImageCache::instance()-\/>isCached(lastFrameCacheId))}}
\DoxyCodeLine{01657 \textcolor{comment}{return TImageCache::instance()-\/>get(lastFrameCacheId, false);}}
\DoxyCodeLine{01658 \textcolor{comment}{else*/}}
\DoxyCodeLine{01659       \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01660       \textcolor{comment}{// showFrame(m\_lastViewedFrame);}}
\DoxyCodeLine{01661     \}}
\DoxyCodeLine{01662   \}}
\DoxyCodeLine{01663 }
\DoxyCodeLine{01664   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01665 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a64ad076f052489f7668216ed37cb49d1}\label{class_flip_book_a64ad076f052489f7668216ed37cb49d1}} 
\index{FlipBook@{FlipBook}!getImageSize@{getImageSize}}
\index{getImageSize@{getImageSize}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getImageSize()}{getImageSize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_dimension_t}{TDimension}} Flip\+Book\+::get\+Image\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00252 \{ \textcolor{keywordflow}{return} m\_dim; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a7f7bc6d92fa8b6d6a39b6f35df995471}\label{class_flip_book_a7f7bc6d92fa8b6d6a39b6f35df995471}} 
\index{FlipBook@{FlipBook}!getImageViewer@{getImageViewer}}
\index{getImageViewer@{getImageViewer}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getImageViewer()}{getImageViewer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_image_viewer}{Image\+Viewer}} $\ast$ Flip\+Book\+::get\+Image\+Viewer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00249 \{ \textcolor{keywordflow}{return} m\_imageViewer; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a2daf55316bad871494119d698da11d9e}\label{class_flip_book_a2daf55316bad871494119d698da11d9e}} 
\index{FlipBook@{FlipBook}!getLevelZoomTitle@{getLevelZoomTitle}}
\index{getLevelZoomTitle@{getLevelZoomTitle}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getLevelZoomTitle()}{getLevelZoomTitle()}}
{\footnotesize\ttfamily QString Flip\+Book\+::get\+Level\+Zoom\+Title (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00206 \{ \textcolor{keywordflow}{return} m\_title1 + m\_title; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a6777f88c172df4420a266ddf911786db}\label{class_flip_book_a6777f88c172df4420a266ddf911786db}} 
\index{FlipBook@{FlipBook}!getLoadbox@{getLoadbox}}
\index{getLoadbox@{getLoadbox}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getLoadbox()}{getLoadbox()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRect}} Flip\+Book\+::get\+Loadbox (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00250 \{ \textcolor{keywordflow}{return} m\_loadbox; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a1a640f7e23ebedd78ad5dca268cabcec}\label{class_flip_book_a1a640f7e23ebedd78ad5dca268cabcec}} 
\index{FlipBook@{FlipBook}!getPoolIndex@{getPoolIndex}}
\index{getPoolIndex@{getPoolIndex}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getPoolIndex()}{getPoolIndex()}}
{\footnotesize\ttfamily int Flip\+Book\+::get\+Pool\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00221 \{ \textcolor{keywordflow}{return} m\_poolIndex; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_acb70fa960a8455002116fb499e1c1237}\label{class_flip_book_acb70fa960a8455002116fb499e1c1237}} 
\index{FlipBook@{FlipBook}!getPreviewedFx@{getPreviewedFx}}
\index{getPreviewedFx@{getPreviewedFx}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getPreviewedFx()}{getPreviewedFx()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ Flip\+Book\+::get\+Previewed\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01338                                     \{}
\DoxyCodeLine{01339   \textcolor{keywordflow}{return} m\_isPreviewFx ? m\_previewedFx.getPointer() : 0;}
\DoxyCodeLine{01340 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a34a3d0a320c7edcc496929904ac4052a}\label{class_flip_book_a34a3d0a320c7edcc496929904ac4052a}} 
\index{FlipBook@{FlipBook}!getPreviewedImageGeometry@{getPreviewedImageGeometry}}
\index{getPreviewedImageGeometry@{getPreviewedImageGeometry}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getPreviewedImageGeometry()}{getPreviewedImageGeometry()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRectD}} Flip\+Book\+::get\+Previewed\+Image\+Geometry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01350                                                  \{}
\DoxyCodeLine{01351   \textcolor{keywordflow}{if} (!m\_isPreviewFx) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{01352 }
\DoxyCodeLine{01353   \textcolor{comment}{// Build viewer's geometry}}
\DoxyCodeLine{01354   QRect viewerGeom(m\_imageViewer-\/>geometry());}
\DoxyCodeLine{01355   viewerGeom.adjust(-\/1, -\/1, 1, 1);}
\DoxyCodeLine{01356   \mbox{\hyperlink{class_t_rect_t}{TRectD}} viewerGeomD(viewerGeom.left(), viewerGeom.top(),}
\DoxyCodeLine{01357                      viewerGeom.right() + 1, viewerGeom.bottom() + 1);}
\DoxyCodeLine{01358   \mbox{\hyperlink{class_t_point_t}{TPointD}} viewerCenter((viewerGeomD.x0 + viewerGeomD.x1) * 0.5,}
\DoxyCodeLine{01359                        (viewerGeomD.y0 + viewerGeomD.y1) * 0.5);}
\DoxyCodeLine{01360 }
\DoxyCodeLine{01361   \textcolor{comment}{// NOTE: The above adjust() is imposed to counter the geometry removal}}
\DoxyCodeLine{01362   \textcolor{comment}{// specified in function}}
\DoxyCodeLine{01363   \textcolor{comment}{// FlipBook::onDoubleClick.}}
\DoxyCodeLine{01364 }
\DoxyCodeLine{01365   \textcolor{comment}{// Build viewer-\/to-\/camera affine}}
\DoxyCodeLine{01366   \mbox{\hyperlink{class_t_affine}{TAffine}} viewToCam(m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_ad3ae5a695b9e5ec53364d657d6f51e07}{getViewAff}}().\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}() *}
\DoxyCodeLine{01367                     \mbox{\hyperlink{class_t_translation}{TTranslation}}(-\/viewerCenter));}
\DoxyCodeLine{01368 }
\DoxyCodeLine{01369   \textcolor{keywordflow}{return} viewToCam * viewerGeomD;}
\DoxyCodeLine{01370 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_afbfa6951598afc2b1241e1ca03b20eb0}\label{class_flip_book_afbfa6951598afc2b1241e1ca03b20eb0}} 
\index{FlipBook@{FlipBook}!getPreviewXsheet@{getPreviewXsheet}}
\index{getPreviewXsheet@{getPreviewXsheet}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getPreviewXsheet()}{getPreviewXsheet()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$ Flip\+Book\+::get\+Preview\+Xsheet (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01344                                           \{}
\DoxyCodeLine{01345   \textcolor{keywordflow}{return} m\_isPreviewFx ? m\_previewXsh.getPointer() : 0;}
\DoxyCodeLine{01346 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a205ad9dfc937f9985ab226fde8901a1a}\label{class_flip_book_a205ad9dfc937f9985ab226fde8901a1a}} 
\index{FlipBook@{FlipBook}!getProgressBarStatus@{getProgressBarStatus}}
\index{getProgressBarStatus@{getProgressBarStatus}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getProgressBarStatus()}{getProgressBarStatus()}}
{\footnotesize\ttfamily const std\+::vector$<$ UCHAR $>$ $\ast$ Flip\+Book\+::get\+Progress\+Bar\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01445                                                              \{}
\DoxyCodeLine{01446   \textcolor{keywordflow}{return} m\_flipConsole-\/>getProgressBarStatus();}
\DoxyCodeLine{01447 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a71c431e5c888b652379d414f597d7663}\label{class_flip_book_a71c431e5c888b652379d414f597d7663}} 
\index{FlipBook@{FlipBook}!getTitle@{getTitle}}
\index{getTitle@{getTitle}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{getTitle()}{getTitle()}}
{\footnotesize\ttfamily QString Flip\+Book\+::get\+Title (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00208 \{ \textcolor{keywordflow}{return} m\_viewerTitle; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_ade73840167645b02a25f1db1621b6e81}\label{class_flip_book_ade73840167645b02a25f1db1621b6e81}} 
\index{FlipBook@{FlipBook}!hideEvent@{hideEvent}}
\index{hideEvent@{hideEvent}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{hideEvent()}{hideEvent()}}
{\footnotesize\ttfamily void Flip\+Book\+::hide\+Event (\begin{DoxyParamCaption}\item[{QHide\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01929                                       \{}
\DoxyCodeLine{01930   \mbox{\hyperlink{class_t_scene_handle}{TSceneHandle}} *sceneHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}();}
\DoxyCodeLine{01931   disconnect(sceneHandle, SIGNAL(sceneChanged()), m\_imageViewer,}
\DoxyCodeLine{01932              SLOT(update()));}
\DoxyCodeLine{01933   \textcolor{keywordflow}{if} (!m\_imageViewer-\/>isColorModel()) \{}
\DoxyCodeLine{01934     disconnect(sceneHandle, SIGNAL(preferenceChanged(\textcolor{keyword}{const} QString \&)),}
\DoxyCodeLine{01935                m\_flipConsole, SLOT(onPreferenceChanged(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{01936   \}}
\DoxyCodeLine{01937   m\_flipConsole-\/>setActive(\textcolor{keyword}{false});}
\DoxyCodeLine{01938 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_adf5b366de2e6862bf9ab975924509d1a}\label{class_flip_book_adf5b366de2e6862bf9ab975924509d1a}} 
\index{FlipBook@{FlipBook}!isFreezed@{isFreezed}}
\index{isFreezed@{isFreezed}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{isFreezed()}{isFreezed()}}
{\footnotesize\ttfamily bool Flip\+Book\+::is\+Freezed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00213 \{ \textcolor{keywordflow}{return} m\_freezed; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a80dd71e458ec64ad3b5a3dc890f7f0ee}\label{class_flip_book_a80dd71e458ec64ad3b5a3dc890f7f0ee}} 
\index{FlipBook@{FlipBook}!isSavable@{isSavable}}
\index{isSavable@{isSavable}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{isSavable()}{isSavable()}}
{\footnotesize\ttfamily bool Flip\+Book\+::is\+Savable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01004                                \{}
\DoxyCodeLine{01005   \textcolor{keywordflow}{if} (m\_levels.empty()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01006 }
\DoxyCodeLine{01007   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_levels.size(); i++)}
\DoxyCodeLine{01008     \textcolor{keywordflow}{if} (m\_levels[i].m\_fp != \mbox{\hyperlink{class_t_file_path}{TFilePath}}() \&\&}
\DoxyCodeLine{01009         (m\_levels[i].m\_fp.getType() == \textcolor{stringliteral}{"{}tlv"{}} ||}
\DoxyCodeLine{01010          m\_levels[i].m\_fp.getType() == \textcolor{stringliteral}{"{}pli"{}}))}
\DoxyCodeLine{01011       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01012 }
\DoxyCodeLine{01013   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01014 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a90fcf1c83c73a43195288069c07e9d0d}\label{class_flip_book_a90fcf1c83c73a43195288069c07e9d0d}} 
\index{FlipBook@{FlipBook}!loadImages@{loadImages}}
\index{loadImages@{loadImages}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{loadImages}{loadImages}}
{\footnotesize\ttfamily void Flip\+Book\+::load\+Images (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00540                           \{}
\DoxyCodeLine{00541   \textcolor{keywordflow}{if} (!m\_loadPopup) \{}
\DoxyCodeLine{00542     m\_loadPopup = \textcolor{keyword}{new} \mbox{\hyperlink{class_load_images_popup}{LoadImagesPopup}}(\textcolor{keyword}{this});  \textcolor{comment}{//, frameRangeFrame);}}
\DoxyCodeLine{00543     \textcolor{comment}{// move the initial folder to the project root}}
\DoxyCodeLine{00544     m\_loadPopup-\/>setFolder(}
\DoxyCodeLine{00545         \mbox{\hyperlink{class_t_project_manager_a150ca0d6e2eb171b8117b0c5f03dbfad}{TProjectManager::instance}}()-\/>getCurrentProjectPath().getParentDir());}
\DoxyCodeLine{00546   \}}
\DoxyCodeLine{00547 }
\DoxyCodeLine{00548   m\_loadPopup-\/>show();}
\DoxyCodeLine{00549   m\_loadPopup-\/>raise();}
\DoxyCodeLine{00550   m\_loadPopup-\/>activateWindow();}
\DoxyCodeLine{00551 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a6585d9a8bd96233d45080d56ce617216}\label{class_flip_book_a6585d9a8bd96233d45080d56ce617216}} 
\index{FlipBook@{FlipBook}!minimize@{minimize}}
\index{minimize@{minimize}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{minimize()}{minimize()}}
{\footnotesize\ttfamily void Flip\+Book\+::minimize (\begin{DoxyParamCaption}\item[{bool}]{do\+Minimize }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02158                                        \{}
\DoxyCodeLine{02159   m\_imageViewer-\/>setVisible(!doMinimize);}
\DoxyCodeLine{02160   m\_flipConsole-\/>showHideAllParts(!doMinimize);}
\DoxyCodeLine{02161 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_aaace26573333d4f22e5e28326eefbb6b}\label{class_flip_book_aaace26573333d4f22e5e28326eefbb6b}} 
\index{FlipBook@{FlipBook}!onButtonPressed@{onButtonPressed}}
\index{onButtonPressed@{onButtonPressed}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{onButtonPressed}{onButtonPressed}}
{\footnotesize\ttfamily void Flip\+Book\+::on\+Button\+Pressed (\begin{DoxyParamCaption}\item[{Flip\+Console\+::\+EGadget}]{button }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00765                                                         \{}
\DoxyCodeLine{00766   \textcolor{keywordflow}{switch} (button) \{}
\DoxyCodeLine{00767   \textcolor{keywordflow}{case} FlipConsole::eSound:}
\DoxyCodeLine{00768     m\_playSound = !m\_playSound;}
\DoxyCodeLine{00769     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00770 }
\DoxyCodeLine{00771   \textcolor{keywordflow}{case} FlipConsole::eHisto:}
\DoxyCodeLine{00772     m\_imageViewer-\/>showHistogram();}
\DoxyCodeLine{00773     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00774 }
\DoxyCodeLine{00775   \textcolor{keywordflow}{case} FlipConsole::eSaveImg: \{}
\DoxyCodeLine{00776     \mbox{\hyperlink{class_t_rect_t}{TRect}} loadbox = m\_loadbox;}
\DoxyCodeLine{00777     m\_loadbox     = \mbox{\hyperlink{class_t_rect_t}{TRect}}();}
\DoxyCodeLine{00778     \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} img   = getCurrentImage(m\_flipConsole-\/>getCurrentFrame());}
\DoxyCodeLine{00779     m\_loadbox     = loadbox;}
\DoxyCodeLine{00780     \textcolor{keywordflow}{if} (!img) \{}
\DoxyCodeLine{00781       DVGui::warning(tr(\textcolor{stringliteral}{"{}There are no rendered images to save."{}}));}
\DoxyCodeLine{00782       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00783     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((\mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}})img) \{}
\DoxyCodeLine{00784       DVGui::warning(}
\DoxyCodeLine{00785           tr(\textcolor{stringliteral}{"{}It is not possible to take or compare snapshots for Toonz vector "{}}}
\DoxyCodeLine{00786              \textcolor{stringliteral}{"{}levels."{}}));}
\DoxyCodeLine{00787       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00788     \}}
\DoxyCodeLine{00789     \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri(img);}
\DoxyCodeLine{00790     \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti(img);}
\DoxyCodeLine{00791     \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} clonedImg;}
\DoxyCodeLine{00792     \textcolor{keywordflow}{if} (ri)}
\DoxyCodeLine{00793       clonedImg = \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}}(ri-\/>getRaster()-\/>clone());}
\DoxyCodeLine{00794     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00795       clonedImg = \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}}(ti-\/>getRaster()-\/>clone(), ti-\/>getSavebox());}
\DoxyCodeLine{00796       clonedImg-\/>\mbox{\hyperlink{class_t_image_a3377c18a849addff5c2cb238176ad04f}{setPalette}}(ti-\/>getPalette());}
\DoxyCodeLine{00797     \}}
\DoxyCodeLine{00798     TImageCache::instance()-\/>\mbox{\hyperlink{class_t_image_cache_a124eae4cf370288f42c22b3477cb5163}{add}}(QString(\textcolor{stringliteral}{"{}TnzCompareImg"{}}), clonedImg);}
\DoxyCodeLine{00799     \textcolor{comment}{// to update the histogram of compare snapshot image}}
\DoxyCodeLine{00800     m\_imageViewer-\/>invalidateCompHisto();}
\DoxyCodeLine{00801     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00802   \}}
\DoxyCodeLine{00803 }
\DoxyCodeLine{00804   \textcolor{keywordflow}{case} FlipConsole::eCompare:}
\DoxyCodeLine{00805     \textcolor{keywordflow}{if} (m\_flipConsole-\/>isChecked(FlipConsole::eCompare) \&\&}
\DoxyCodeLine{00806         (\mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}})getCurrentImage(m\_flipConsole-\/>getCurrentFrame())) \{}
\DoxyCodeLine{00807       DVGui::warning(}
\DoxyCodeLine{00808           tr(\textcolor{stringliteral}{"{}It is not possible to take or compare snapshots for Toonz vector "{}}}
\DoxyCodeLine{00809              \textcolor{stringliteral}{"{}levels."{}}));}
\DoxyCodeLine{00810       \textcolor{comment}{// cancel the button pressing}}
\DoxyCodeLine{00811       m\_flipConsole-\/>pressButton(FlipConsole::eCompare);}
\DoxyCodeLine{00812       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00813     \}}
\DoxyCodeLine{00814     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00815 }
\DoxyCodeLine{00816   \textcolor{keywordflow}{case} FlipConsole::eSave:}
\DoxyCodeLine{00817     saveImages();}
\DoxyCodeLine{00818     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00819   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00820     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00821   \}}
\DoxyCodeLine{00822 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_adaca926524071675ee8c672f1b92fe4c}\label{class_flip_book_adaca926524071675ee8c672f1b92fe4c}} 
\index{FlipBook@{FlipBook}!onCloseButtonPressed@{onCloseButtonPressed}}
\index{onCloseButtonPressed@{onCloseButtonPressed}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{onCloseButtonPressed}{onCloseButtonPressed}}
{\footnotesize\ttfamily void Flip\+Book\+::on\+Close\+Button\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01746                                     \{}
\DoxyCodeLine{01747   m\_flipConsole-\/>setActive(\textcolor{keyword}{false});}
\DoxyCodeLine{01748   closeFlipBook(\textcolor{keyword}{this});}
\DoxyCodeLine{01749 }
\DoxyCodeLine{01750   reset();}
\DoxyCodeLine{01751 }
\DoxyCodeLine{01752   \textcolor{comment}{// hide freeze button in preview fx window}}
\DoxyCodeLine{01753   \textcolor{keywordflow}{if} (m\_freezeButton) \{}
\DoxyCodeLine{01754     m\_freezeButton-\/>hide();}
\DoxyCodeLine{01755     m\_imageViewer-\/>setIsRemakingPreviewFx(\textcolor{keyword}{false});}
\DoxyCodeLine{01756   \}}
\DoxyCodeLine{01757 }
\DoxyCodeLine{01758   \textcolor{comment}{// Return the flipbook to the pool in case it was popped from it.}}
\DoxyCodeLine{01759   \textcolor{keywordflow}{if} (m\_poolIndex >= 0) FlipBookPool::instance()-\/>push(\textcolor{keyword}{this});}
\DoxyCodeLine{01760 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a5e6f43b0303e15d65fbf933b61f30817}\label{class_flip_book_a5e6f43b0303e15d65fbf933b61f30817}} 
\index{FlipBook@{FlipBook}!onDoubleClick@{onDoubleClick}}
\index{onDoubleClick@{onDoubleClick}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{onDoubleClick}{onDoubleClick}}
{\footnotesize\ttfamily void Flip\+Book\+::on\+Double\+Click (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{me }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02147 \{ adaptGeometryToCurrentSize(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_abd108d2992fcff3e15539f0fde2847cd}\label{class_flip_book_abd108d2992fcff3e15539f0fde2847cd}} 
\index{FlipBook@{FlipBook}!onDrawFrame@{onDrawFrame}}
\index{onDrawFrame@{onDrawFrame}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{onDrawFrame()}{onDrawFrame()}}
{\footnotesize\ttfamily void Flip\+Book\+::on\+Draw\+Frame (\begin{DoxyParamCaption}\item[{int}]{frame,  }\item[{const \mbox{\hyperlink{class_image_painter_1_1_visual_settings}{Image\+Painter\+::\+Visual\+Settings}} \&}]{vs,  }\item[{QElapsed\+Timer $\ast$}]{timer,  }\item[{qint64}]{target\+Instant }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Set current level frame to image viewer. Add the view image in cache. 

Implements \mbox{\hyperlink{class_flip_console_owner}{Flip\+Console\+Owner}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01672                                                                        \{}
\DoxyCodeLine{01673   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01674     m\_imageViewer-\/>setVisual(vs);}
\DoxyCodeLine{01675     m\_imageViewer-\/>setTimerAndTargetInstant(timer, targetInstant);}
\DoxyCodeLine{01676 }
\DoxyCodeLine{01677     \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} img = getCurrentImage(frame);}
\DoxyCodeLine{01678 }
\DoxyCodeLine{01679     \textcolor{keywordflow}{if} (!img) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01680 }
\DoxyCodeLine{01681     m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_af514a3d90ce0f99a9217874bb3ef95dc}{setImage}}(img);}
\DoxyCodeLine{01682   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{01683     m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_af514a3d90ce0f99a9217874bb3ef95dc}{setImage}}(\mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}}());}
\DoxyCodeLine{01684   \}}
\DoxyCodeLine{01685 }
\DoxyCodeLine{01686   \textcolor{keywordflow}{if} (m\_playSound \&\& !vs.m\_drawBlankFrame) playAudioFrame(frame);}
\DoxyCodeLine{01687 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00405}{Image\+Viewer\+::set\+Image()}}.

\mbox{\Hypertarget{class_flip_book_a8593bf6cda702e4f306e0d0e73d30db1}\label{class_flip_book_a8593bf6cda702e4f306e0d0e73d30db1}} 
\index{FlipBook@{FlipBook}!onPlayCompleted@{onPlayCompleted}}
\index{onPlayCompleted@{onPlayCompleted}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{onPlayCompleted()}{onPlayCompleted()}}
{\footnotesize\ttfamily void Flip\+Book\+::on\+Play\+Completed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_sound_output_device_listener}{TSound\+Output\+Device\+Listener}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00203 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a65534b22d26762f3dab6d058649538b7}\label{class_flip_book_a65534b22d26762f3dab6d058649538b7}} 
\index{FlipBook@{FlipBook}!performFxUpdate@{performFxUpdate}}
\index{performFxUpdate@{performFxUpdate}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{performFxUpdate}{performFxUpdate}}
{\footnotesize\ttfamily void Flip\+Book\+::perform\+Fx\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01382                                \{}
\DoxyCodeLine{01383   \textcolor{comment}{// refresh only when the subcamera is active}}
\DoxyCodeLine{01384   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_preview_fx_manager_a540923ef1e799396ddf8bba11bb3c8c6}{PreviewFxManager::instance}}()-\/>isSubCameraActive(m\_previewedFx))}
\DoxyCodeLine{01385     \mbox{\hyperlink{class_preview_fx_manager_a540923ef1e799396ddf8bba11bb3c8c6}{PreviewFxManager::instance}}()-\/>\mbox{\hyperlink{class_preview_fx_manager_a20c15e33d5294fb7644af987745d395b}{refreshView}}(m\_previewedFx);}
\DoxyCodeLine{01386 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a90410b040fd61326e3bd9799185c93d3}\label{class_flip_book_a90410b040fd61326e3bd9799185c93d3}} 
\index{FlipBook@{FlipBook}!playAudioFrame@{playAudioFrame}}
\index{playAudioFrame@{playAudioFrame}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{playAudioFrame()}{playAudioFrame()}}
{\footnotesize\ttfamily void Flip\+Book\+::play\+Audio\+Frame (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01459                                        \{}
\DoxyCodeLine{01460   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} first = \textcolor{keyword}{true};}
\DoxyCodeLine{01461   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} audioCardInstalled;}
\DoxyCodeLine{01462   \textcolor{keywordflow}{if} (!m\_snd || !m\_playSound) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01463 }
\DoxyCodeLine{01464   \textcolor{keywordflow}{if} (first) \{}
\DoxyCodeLine{01465     audioCardInstalled = \mbox{\hyperlink{class_t_sound_output_device_ae1fae3438b95a99b9ec5c208d3101498}{TSoundOutputDevice::installed}}();}
\DoxyCodeLine{01466     first              = \textcolor{keyword}{false};}
\DoxyCodeLine{01467   \}}
\DoxyCodeLine{01468 }
\DoxyCodeLine{01469   \textcolor{keywordflow}{if} (!audioCardInstalled) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01470 }
\DoxyCodeLine{01471   \textcolor{keywordflow}{if} (!m\_player) \{}
\DoxyCodeLine{01472     m\_player = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_sound_output_device}{TSoundOutputDevice}}();}
\DoxyCodeLine{01473     m\_player-\/>attach(\textcolor{keyword}{this});}
\DoxyCodeLine{01474   \}}
\DoxyCodeLine{01475   \textcolor{keywordflow}{if} (m\_player) \{}
\DoxyCodeLine{01476     \textcolor{comment}{// Flipbook does not currently support double fps -\/ thus, casting to int in}}
\DoxyCodeLine{01477     \textcolor{comment}{// soundtrack playback, too}}
\DoxyCodeLine{01478     \textcolor{keywordtype}{int} fps = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()}
\DoxyCodeLine{01479                   -\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()}
\DoxyCodeLine{01480                   -\/>getScene()}
\DoxyCodeLine{01481                   -\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()}
\DoxyCodeLine{01482                   -\/>\mbox{\hyperlink{class_t_scene_properties_abea7b4b8e4f0cedbf753b26ec30b5331}{getOutputProperties}}()}
\DoxyCodeLine{01483                   -\/>\mbox{\hyperlink{class_t_output_properties_a0d9662971bc33097aa1b55111965b967}{getFrameRate}}();}
\DoxyCodeLine{01484 }
\DoxyCodeLine{01485     \textcolor{keywordtype}{int} samplePerFrame = int(m\_snd-\/>getSampleRate()) / fps;}
\DoxyCodeLine{01486     TINT32 firstSample = (frame -\/ 1) * samplePerFrame;}
\DoxyCodeLine{01487     TINT32 lastSample  = firstSample + samplePerFrame;}
\DoxyCodeLine{01488 }
\DoxyCodeLine{01489     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01490       m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a00c8269bf8377f52876b9ee32bc75276}{play}}(m\_snd, firstSample, lastSample, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{01491     \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&e) \{}
\DoxyCodeLine{01492       std::string msg;}
\DoxyCodeLine{01493       \textcolor{keywordflow}{if} (e.getType() == TSoundDeviceException::UnsupportedFormat) \{}
\DoxyCodeLine{01494         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01495           \mbox{\hyperlink{class_t_sound_track_format}{TSoundTrackFormat}} fmt =}
\DoxyCodeLine{01496               m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a8d5c29ea8e95e2e3aa90c054ec5c8795}{getPreferredFormat}}(m\_snd-\/>\mbox{\hyperlink{class_t_sound_track_aa58db0cee313f7174bc023e295b701a9}{getFormat}}());}
\DoxyCodeLine{01497           m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a00c8269bf8377f52876b9ee32bc75276}{play}}(\mbox{\hyperlink{namespace_t_sop_a7b9eba10396f90035ab0b2b9ad127e96}{TSop::convert}}(m\_snd, fmt), firstSample, lastSample,}
\DoxyCodeLine{01498                          \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{01499         \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&ex) \{}
\DoxyCodeLine{01500           \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(ex.getMessage());}
\DoxyCodeLine{01501           \textcolor{keywordflow}{return};}
\DoxyCodeLine{01502         \}}
\DoxyCodeLine{01503       \}}
\DoxyCodeLine{01504     \}}
\DoxyCodeLine{01505   \}}
\DoxyCodeLine{01506 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a7043089a9807a56ac5751a6aa19703a2}\label{class_flip_book_a7043089a9807a56ac5751a6aa19703a2}} 
\index{FlipBook@{FlipBook}!regenerate@{regenerate}}
\index{regenerate@{regenerate}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{regenerate}{regenerate}}
{\footnotesize\ttfamily void Flip\+Book\+::regenerate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01390                           \{}
\DoxyCodeLine{01391   \mbox{\hyperlink{class_preview_fx_manager_a540923ef1e799396ddf8bba11bb3c8c6}{PreviewFxManager::instance}}()-\/>\mbox{\hyperlink{class_preview_fx_manager_a3cf458cfc0955a610007cb537638d592}{reset}}(\mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}}(m\_previewedFx));}
\DoxyCodeLine{01392 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a35acc8ffc82bbf6dd121f6fcccb32644}\label{class_flip_book_a35acc8ffc82bbf6dd121f6fcccb32644}} 
\index{FlipBook@{FlipBook}!regenerateFrame@{regenerateFrame}}
\index{regenerateFrame@{regenerateFrame}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{regenerateFrame}{regenerateFrame}}
{\footnotesize\ttfamily void Flip\+Book\+::regenerate\+Frame (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01396                                \{}
\DoxyCodeLine{01397   \mbox{\hyperlink{class_preview_fx_manager_a540923ef1e799396ddf8bba11bb3c8c6}{PreviewFxManager::instance}}()-\/>\mbox{\hyperlink{class_preview_fx_manager_a3cf458cfc0955a610007cb537638d592}{reset}}(m\_previewedFx, getCurrentFrame() -\/ 1);}
\DoxyCodeLine{01398 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_ae7b11cd5fdf2a6f202d9473e28712083}\label{class_flip_book_ae7b11cd5fdf2a6f202d9473e28712083}} 
\index{FlipBook@{FlipBook}!reset@{reset}}
\index{reset@{reset}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily void Flip\+Book\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01865                      \{}
\DoxyCodeLine{01866   \textcolor{keywordflow}{if} (!m\_isPreviewFx)  \textcolor{comment}{// The cache is owned by the PreviewFxManager otherwise}}
\DoxyCodeLine{01867     clearCache();}
\DoxyCodeLine{01868   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01869     \mbox{\hyperlink{class_preview_fx_manager_a540923ef1e799396ddf8bba11bb3c8c6}{PreviewFxManager::instance}}()-\/>\mbox{\hyperlink{class_preview_fx_manager_a6878f95e1fe7332a1b8654d9fe75e2a0}{detach}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01870 }
\DoxyCodeLine{01871   m\_levelNames.clear();}
\DoxyCodeLine{01872   m\_levels.clear();}
\DoxyCodeLine{01873   m\_framesCount = 0;}
\DoxyCodeLine{01874   m\_palette     = 0;}
\DoxyCodeLine{01875   m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_af514a3d90ce0f99a9217874bb3ef95dc}{setImage}}(\mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}}());}
\DoxyCodeLine{01876   m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_a5510dd98281795f946aa0f9a0ec9a060}{hideHistogram}}();}
\DoxyCodeLine{01877   m\_isPreviewFx = \textcolor{keyword}{false};}
\DoxyCodeLine{01878   m\_previewedFx = 0;}
\DoxyCodeLine{01879   m\_previewXsh  = 0;}
\DoxyCodeLine{01880   m\_freezed     = \textcolor{keyword}{false};}
\DoxyCodeLine{01881   \textcolor{comment}{// sync the freeze button}}
\DoxyCodeLine{01882   \textcolor{keywordflow}{if} (m\_freezeButton) m\_freezeButton-\/>setPressed(\textcolor{keyword}{false});}
\DoxyCodeLine{01883   m\_flipConsole-\/>pressButton(FlipConsole::ePause);}
\DoxyCodeLine{01884   \textcolor{keywordflow}{if} (m\_playSound) m\_flipConsole-\/>pressButton(FlipConsole::eSound);}
\DoxyCodeLine{01885   \textcolor{keywordflow}{if} (m\_player) m\_player-\/>\mbox{\hyperlink{class_t_sound_output_device_a7c556dc08b5ffb0b18a9ac87636a5c38}{stop}}();}
\DoxyCodeLine{01886   \textcolor{keywordflow}{if} (m\_flipConsole-\/>isChecked(FlipConsole::eDefineLoadBox))}
\DoxyCodeLine{01887     m\_flipConsole-\/>pressButton(FlipConsole::eDefineLoadBox);}
\DoxyCodeLine{01888   \textcolor{keywordflow}{if} (m\_flipConsole-\/>isChecked(FlipConsole::eUseLoadBox))}
\DoxyCodeLine{01889     m\_flipConsole-\/>pressButton(FlipConsole::eUseLoadBox);}
\DoxyCodeLine{01890 }
\DoxyCodeLine{01891   m\_flipConsole-\/>enableButton(FlipConsole::eDefineLoadBox, \textcolor{keyword}{true});}
\DoxyCodeLine{01892   m\_flipConsole-\/>enableButton(FlipConsole::eUseLoadBox, \textcolor{keyword}{true});}
\DoxyCodeLine{01893 }
\DoxyCodeLine{01894   m\_lr = \mbox{\hyperlink{class_t_level_reader_p}{TLevelReaderP}}();}
\DoxyCodeLine{01895 }
\DoxyCodeLine{01896   m\_dim     = \mbox{\hyperlink{class_t_dimension_t}{TDimension}}();}
\DoxyCodeLine{01897   m\_loadbox = \mbox{\hyperlink{class_t_rect_t}{TRect}}();}
\DoxyCodeLine{01898   m\_loadboxes.clear();}
\DoxyCodeLine{01899   \textcolor{comment}{// m\_lastViewedFrame = -\/1;}}
\DoxyCodeLine{01900   \textcolor{comment}{// TImageCache::instance()-\/>remove(toString(m\_poolIndex) + "{}lastFlipFrame"{});}}
\DoxyCodeLine{01901 }
\DoxyCodeLine{01902   m\_flipConsole-\/>enableProgressBar(\textcolor{keyword}{false});}
\DoxyCodeLine{01903   m\_flipConsole-\/>setProgressBarStatus(0);}
\DoxyCodeLine{01904   m\_flipConsole-\/>setFrameRange(1, 1, 1);}
\DoxyCodeLine{01905 }
\DoxyCodeLine{01906   setTitle(tr(\textcolor{stringliteral}{"{}Flipbook"{}}));}
\DoxyCodeLine{01907   parentWidget()-\/>setWindowTitle(m\_title);}
\DoxyCodeLine{01908 }
\DoxyCodeLine{01909   update();}
\DoxyCodeLine{01910 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_ae91d7c8cd14fb349371ea2eb46998d5b}\label{class_flip_book_ae91d7c8cd14fb349371ea2eb46998d5b}} 
\index{FlipBook@{FlipBook}!resizeEvent@{resizeEvent}}
\index{resizeEvent@{resizeEvent}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{resizeEvent()}{resizeEvent()}}
{\footnotesize\ttfamily void Flip\+Book\+::resize\+Event (\begin{DoxyParamCaption}\item[{QResize\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01942 \{ schedulePreviewedFxUpdate(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a71b0a7bddc0f6413131166f4543dc2fd}\label{class_flip_book_a71b0a7bddc0f6413131166f4543dc2fd}} 
\index{FlipBook@{FlipBook}!saveImage@{saveImage}}
\index{saveImage@{saveImage}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{saveImage}{saveImage}}
{\footnotesize\ttfamily void Flip\+Book\+::save\+Image (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00711                          \{}
\DoxyCodeLine{00712   \textcolor{keyword}{static} \textcolor{keywordtype}{int} savedFrames = 0;}
\DoxyCodeLine{00713 }
\DoxyCodeLine{00714   assert(Pd);}
\DoxyCodeLine{00715   \textcolor{keywordtype}{int} from, to, step;}
\DoxyCodeLine{00716 }
\DoxyCodeLine{00717   m\_flipConsole-\/>getFrameRange(from, to, step);}
\DoxyCodeLine{00718 }
\DoxyCodeLine{00719   \textcolor{keywordflow}{for} (; m\_currentFrameToSave <= m\_framesCount; m\_currentFrameToSave++) \{}
\DoxyCodeLine{00720     ProgressBarMessager(eIncrement, m\_currentFrameToSave).sendBlocking();}
\DoxyCodeLine{00721     \textcolor{keywordflow}{if} (!Pd) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00722 }
\DoxyCodeLine{00723     \textcolor{keywordtype}{int} actualFrame = from + (m\_currentFrameToSave -\/ 1) * step;}
\DoxyCodeLine{00724     \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} img     = getCurrentImage(actualFrame);}
\DoxyCodeLine{00725     \textcolor{keywordflow}{if} (!img) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00726     \mbox{\hyperlink{class_t_image_writer_p}{TImageWriterP}} writer = m\_lw-\/>getFrameWriter(\mbox{\hyperlink{class_t_frame_id}{TFrameId}}(actualFrame));}
\DoxyCodeLine{00727     \textcolor{keywordtype}{bool} failureOnSaving = \textcolor{keyword}{false};}
\DoxyCodeLine{00728     \textcolor{keywordflow}{if} (!writer) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00729     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00730       writer-\/>save(img);}
\DoxyCodeLine{00731     \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00732       QString str(tr(\textcolor{stringliteral}{"{}It is not possible to save Flipbook content."{}}));}
\DoxyCodeLine{00733       ProgressBarMessager(eEnd, 0, str).send();}
\DoxyCodeLine{00734       m\_currentFrameToSave = 0;}
\DoxyCodeLine{00735       m\_lw                 = \mbox{\hyperlink{class_t_level_writer_p}{TLevelWriterP}}();}
\DoxyCodeLine{00736       savedFrames          = 0;}
\DoxyCodeLine{00737       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00738     \}}
\DoxyCodeLine{00739     savedFrames++;}
\DoxyCodeLine{00740     \textcolor{comment}{//      if (!m\_pb-\/>changeFraction(m\_currentFrameToSave,}}
\DoxyCodeLine{00741     \textcolor{comment}{// TApp::instance()-\/>getCurrentXsheet()-\/>getXsheet()-\/>getFrameCount()))}}
\DoxyCodeLine{00742     \textcolor{comment}{//          break;}}
\DoxyCodeLine{00743     m\_currentFrameToSave++;}
\DoxyCodeLine{00744 }
\DoxyCodeLine{00745     QTimer::singleShot(50, \textcolor{keyword}{this}, SLOT(saveImage()));}
\DoxyCodeLine{00746     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00747   \}}
\DoxyCodeLine{00748 }
\DoxyCodeLine{00749   QString str = tr(\textcolor{stringliteral}{"{}Saved \%1 frames out of \%2 in \%3"{}})}
\DoxyCodeLine{00750                     .arg(std::to\_string(savedFrames).c\_str())}
\DoxyCodeLine{00751                     .arg(std::to\_string(m\_framesCount).c\_str())}
\DoxyCodeLine{00752                     .arg(::to\_string(m\_lw-\/>getFilePath()).c\_str());}
\DoxyCodeLine{00753 }
\DoxyCodeLine{00754   \textcolor{keywordflow}{if} (!Pd) str = \textcolor{stringliteral}{"{}Canceled! "{}} + str;}
\DoxyCodeLine{00755 }
\DoxyCodeLine{00756   ProgressBarMessager(eEnd, 0, str).send();}
\DoxyCodeLine{00757 }
\DoxyCodeLine{00758   m\_currentFrameToSave = 0;}
\DoxyCodeLine{00759   m\_lw                 = \mbox{\hyperlink{class_t_level_writer_p}{TLevelWriterP}}();}
\DoxyCodeLine{00760   savedFrames          = 0;}
\DoxyCodeLine{00761 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a83adc514805f99b6fe375067dd29e3ee}\label{class_flip_book_a83adc514805f99b6fe375067dd29e3ee}} 
\index{FlipBook@{FlipBook}!saveImages@{saveImages}}
\index{saveImages@{saveImages}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{saveImages}{saveImages}}
{\footnotesize\ttfamily void Flip\+Book\+::save\+Images (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00567                           \{}
\DoxyCodeLine{00568   \textcolor{keywordflow}{if} (!m\_savePopup) m\_savePopup = \textcolor{keyword}{new} \mbox{\hyperlink{class_save_images_popup}{SaveImagesPopup}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00569 }
\DoxyCodeLine{00570   \textcolor{comment}{// initialize the default path every time}}
\DoxyCodeLine{00571   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *op = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()}
\DoxyCodeLine{00572                               -\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()}
\DoxyCodeLine{00573                               -\/>getScene()}
\DoxyCodeLine{00574                               -\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()}
\DoxyCodeLine{00575                               -\/>\mbox{\hyperlink{class_t_scene_properties_abea7b4b8e4f0cedbf753b26ec30b5331}{getOutputProperties}}();}
\DoxyCodeLine{00576   m\_savePopup-\/>setFolder(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()}
\DoxyCodeLine{00577                              -\/>getCurrentScene()}
\DoxyCodeLine{00578                              -\/>getScene()}
\DoxyCodeLine{00579                              -\/>decodeFilePath(op-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}())}
\DoxyCodeLine{00580                              .getParentDir());}
\DoxyCodeLine{00581   m\_savePopup-\/>setFilename(op-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}().\mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{withFrame}}().\mbox{\hyperlink{class_t_file_path_ac17d65d827432f0fae28fed699bf4afa}{withoutParentDir}}());}
\DoxyCodeLine{00582 }
\DoxyCodeLine{00583   m\_savePopup-\/>show();}
\DoxyCodeLine{00584   m\_savePopup-\/>raise();}
\DoxyCodeLine{00585   m\_savePopup-\/>activateWindow();}
\DoxyCodeLine{00586 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a0726e1da3fe2317ef60f46ec33c5f18a}\label{class_flip_book_a0726e1da3fe2317ef60f46ec33c5f18a}} 
\index{FlipBook@{FlipBook}!schedulePreviewedFxUpdate@{schedulePreviewedFxUpdate}}
\index{schedulePreviewedFxUpdate@{schedulePreviewedFxUpdate}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{schedulePreviewedFxUpdate()}{schedulePreviewedFxUpdate()}}
{\footnotesize\ttfamily void Flip\+Book\+::schedule\+Previewed\+Fx\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01374                                          \{}
\DoxyCodeLine{01375   \textcolor{keywordflow}{if} (m\_previewedFx)}
\DoxyCodeLine{01376     m\_previewUpdateTimer.start(}
\DoxyCodeLine{01377         1000);  \textcolor{comment}{// The effective fx update will happen in 1 msec.}}
\DoxyCodeLine{01378 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_aa0b83c0cbc69eae9f68fbbb6be355185}\label{class_flip_book_aa0b83c0cbc69eae9f68fbbb6be355185}} 
\index{FlipBook@{FlipBook}!setIsRemakingPreviewFx@{setIsRemakingPreviewFx}}
\index{setIsRemakingPreviewFx@{setIsRemakingPreviewFx}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{setIsRemakingPreviewFx()}{setIsRemakingPreviewFx()}}
{\footnotesize\ttfamily void Flip\+Book\+::set\+Is\+Remaking\+Preview\+Fx (\begin{DoxyParamCaption}\item[{bool}]{on }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00224                                        \{}
\DoxyCodeLine{00225     m\_imageViewer-\/>setIsRemakingPreviewFx(on);}
\DoxyCodeLine{00226   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_ac70c72b88200e2821ea83f4273cb34e4}\label{class_flip_book_ac70c72b88200e2821ea83f4273cb34e4}} 
\index{FlipBook@{FlipBook}!setLevel@{setLevel}}
\index{setLevel@{setLevel}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{setLevel()}{setLevel()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily void Flip\+Book\+::set\+Level (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp,  }\item[{\mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$}]{palette = {\ttfamily 0},  }\item[{int}]{from = {\ttfamily -\/1},  }\item[{int}]{to = {\ttfamily -\/1},  }\item[{int}]{step = {\ttfamily 1},  }\item[{int}]{shrink = {\ttfamily 1},  }\item[{\mbox{\hyperlink{class_t_sound_track}{TSound\+Track}} $\ast$}]{snd = {\ttfamily 0},  }\item[{bool}]{append = {\ttfamily false},  }\item[{bool}]{is\+Toonz\+Output = {\ttfamily false} }\end{DoxyParamCaption})}

Set the level contained in {\bfseries{fp}} to \mbox{\hyperlink{class_flip_book}{Flip\+Book}}; if level exist show in image viewer its first frame, set current frame to 1. It\textquotesingle{}s possible to change level palette, in fact if {\bfseries{palette}} is different from 0 set level palette to {\bfseries{palette}}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01026                                                          \{}
\DoxyCodeLine{01027   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01028     \textcolor{keywordflow}{if} (!append) \{}
\DoxyCodeLine{01029       clearCache();}
\DoxyCodeLine{01030       m\_levelNames.clear();}
\DoxyCodeLine{01031       m\_levels.clear();}
\DoxyCodeLine{01032     \}}
\DoxyCodeLine{01033     m\_snd = 0;}
\DoxyCodeLine{01034     m\_xl  = 0;}
\DoxyCodeLine{01035 }
\DoxyCodeLine{01036     m\_flipConsole-\/>enableProgressBar(\textcolor{keyword}{false});}
\DoxyCodeLine{01037     m\_flipConsole-\/>setProgressBarStatus(0);}
\DoxyCodeLine{01038     m\_flipConsole-\/>enableButton(FlipConsole::eSound, snd != 0);}
\DoxyCodeLine{01039     m\_flipConsole-\/>enableButton(FlipConsole::eDefineLoadBox, \textcolor{keyword}{true});}
\DoxyCodeLine{01040     m\_flipConsole-\/>enableButton(FlipConsole::eUseLoadBox, \textcolor{keyword}{true});}
\DoxyCodeLine{01041     \textcolor{keywordflow}{if} (fp == \mbox{\hyperlink{class_t_file_path}{TFilePath}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01042 }
\DoxyCodeLine{01043     m\_shrink = shrink;}
\DoxyCodeLine{01044 }
\DoxyCodeLine{01045     \textcolor{keywordflow}{if} (fp.\mbox{\hyperlink{class_t_file_path_a698bbf714436eb6923359044900cde2b}{getDots}}() == \textcolor{stringliteral}{"{}.."{}} \&\& fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}() != \textcolor{stringliteral}{"{}noext"{}})}
\DoxyCodeLine{01046       m\_levelNames.push\_back(toQString(fp.\mbox{\hyperlink{class_t_file_path_ac17d65d827432f0fae28fed699bf4afa}{withoutParentDir}}().\mbox{\hyperlink{class_t_file_path_a12f35b225e1882372ad7e02ad7fce543}{withFrame}}()));}
\DoxyCodeLine{01047     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01048       m\_levelNames.push\_back(toQString(fp.\mbox{\hyperlink{class_t_file_path_ac17d65d827432f0fae28fed699bf4afa}{withoutParentDir}}()));}
\DoxyCodeLine{01049 }
\DoxyCodeLine{01050     m\_snd = snd;}
\DoxyCodeLine{01051 }
\DoxyCodeLine{01052     \textcolor{keywordflow}{if} (TSystem::doesExistFileOrLevel(fp))  \textcolor{comment}{// is a  viewfile}}
\DoxyCodeLine{01053     \{}
\DoxyCodeLine{01054       \textcolor{comment}{// m\_flipConsole-\/>enableButton(FlipConsole::eCheckBg,}}
\DoxyCodeLine{01055       \textcolor{comment}{// true);//fp.getType()!="{}pli"{});}}
\DoxyCodeLine{01056 }
\DoxyCodeLine{01057       m\_lr = \mbox{\hyperlink{class_t_level_reader_p}{TLevelReaderP}}(fp);}
\DoxyCodeLine{01058 }
\DoxyCodeLine{01059       \textcolor{keywordtype}{bool} supportsRandomAccess = doesSupportRandomAccess(fp, isToonzOutput);}
\DoxyCodeLine{01060       \textcolor{keywordflow}{if} (supportsRandomAccess) m\_lr-\/>enableRandomAccessRead(isToonzOutput);}
\DoxyCodeLine{01061 }
\DoxyCodeLine{01062       \textcolor{keywordtype}{bool} randomAccessRead    = supportsRandomAccess \&\& isToonzOutput;}
\DoxyCodeLine{01063       \textcolor{keywordtype}{bool} incrementalIndexing = m\_isPreviewFx ? true : \textcolor{keyword}{false};}
\DoxyCodeLine{01064 }
\DoxyCodeLine{01065       \mbox{\hyperlink{class_t_level_p}{TLevelP}} level = m\_lr-\/>loadInfo();}
\DoxyCodeLine{01066 }
\DoxyCodeLine{01067       \textcolor{keywordflow}{if} (!level || level-\/>getFrameCount() == 0) \{}
\DoxyCodeLine{01068         \textcolor{keywordflow}{if} (m\_flags \& eDontKeepFilesOpened) m\_lr = \mbox{\hyperlink{class_t_level_reader_p}{TLevelReaderP}}();}
\DoxyCodeLine{01069         \textcolor{keywordflow}{return};}
\DoxyCodeLine{01070       \}}
\DoxyCodeLine{01071 }
\DoxyCodeLine{01072       \textcolor{comment}{// For the color model, get the reference fids from palette and delete}}
\DoxyCodeLine{01073       \textcolor{comment}{// unneeded from the table}}
\DoxyCodeLine{01074       \textcolor{keywordflow}{if} (m\_imageViewer-\/>isColorModel() \&\& palette) \{}
\DoxyCodeLine{01075         std::vector<TFrameId> fids = palette-\/>getRefLevelFids();}
\DoxyCodeLine{01076 }
\DoxyCodeLine{01077         \textcolor{comment}{// when loading a single-\/frame, standard raster image into the}}
\DoxyCodeLine{01078         \textcolor{comment}{// ColorModel, skip here.}}
\DoxyCodeLine{01079         \textcolor{comment}{// If the fid == NO\_FRAME(=-\/2), fids stores 0.}}
\DoxyCodeLine{01080         \textcolor{keywordflow}{if} (!fids.empty() \&\& !(fids.size() == 1 \&\& fids[0].getNumber() == 0)) \{}
\DoxyCodeLine{01081           \textcolor{comment}{// make the fid list to be deleted}}
\DoxyCodeLine{01082           std::vector<TFrameId> deleteList;}
\DoxyCodeLine{01083           TLevel::Iterator it;}
\DoxyCodeLine{01084           \textcolor{keywordflow}{for} (it = level-\/>begin(); it != level-\/>end(); it++) \{}
\DoxyCodeLine{01085             \textcolor{comment}{// If the fid is not included in the reference list, then delete it}}
\DoxyCodeLine{01086             \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01087             \textcolor{keywordflow}{for} (i = 0; i < (int)fids.size(); i++) \{}
\DoxyCodeLine{01088               \textcolor{keywordflow}{if} (fids[i].getNumber() == it-\/>first.getNumber()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01089             \}}
\DoxyCodeLine{01090             \textcolor{keywordflow}{if} (i == fids.size()) \{}
\DoxyCodeLine{01091               deleteList.push\_back(it-\/>first);}
\DoxyCodeLine{01092             \}}
\DoxyCodeLine{01093           \}}
\DoxyCodeLine{01094           \textcolor{comment}{// delete list items here}}
\DoxyCodeLine{01095           \textcolor{keywordflow}{if} (!deleteList.empty())}
\DoxyCodeLine{01096             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)deleteList.size(); i++)}
\DoxyCodeLine{01097               level-\/>getTable()-\/>erase(deleteList[i]);}
\DoxyCodeLine{01098         \}}
\DoxyCodeLine{01099       \}}
\DoxyCodeLine{01100 }
\DoxyCodeLine{01101       \textcolor{keywordtype}{int} fromIndex, toIndex;}
\DoxyCodeLine{01102 }
\DoxyCodeLine{01103       \textcolor{comment}{// in order to avoid that the current frame unexpectedly moves to 1 on the}}
\DoxyCodeLine{01104       \textcolor{comment}{// Color Model once editing the style}}
\DoxyCodeLine{01105       \textcolor{keywordtype}{int} current = -\/1;}
\DoxyCodeLine{01106 }
\DoxyCodeLine{01107       \textcolor{keywordflow}{if} (from == -\/1 \&\& to == -\/1) \{}
\DoxyCodeLine{01108         fromIndex = level-\/>begin()-\/>first.getNumber();}
\DoxyCodeLine{01109         toIndex   = (-\/-\/level-\/>end())-\/>first.getNumber();}
\DoxyCodeLine{01110         \textcolor{keywordflow}{if} (m\_imageViewer-\/>isColorModel())}
\DoxyCodeLine{01111           current = m\_flipConsole-\/>getCurrentFrame();}
\DoxyCodeLine{01112         incrementalIndexing = \textcolor{keyword}{true};}
\DoxyCodeLine{01113       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01114         TLevel::Iterator it = level-\/>begin();}
\DoxyCodeLine{01115 }
\DoxyCodeLine{01116         \textcolor{comment}{// Adjust the frame interval to read. There is one special case:}}
\DoxyCodeLine{01117         \textcolor{comment}{//  If the level read did not support random access, *AND* the level to}}
\DoxyCodeLine{01118         \textcolor{comment}{//  show was just rendered,}}
\DoxyCodeLine{01119         \textcolor{comment}{//  we have to assume that no level update happened, and the}}
\DoxyCodeLine{01120         \textcolor{comment}{//  from-\/to-\/step infos are lost.}}
\DoxyCodeLine{01121         \textcolor{comment}{//  So, shift the requested interval from 1 and place step to 1.}}
\DoxyCodeLine{01122         fromIndex = from;}
\DoxyCodeLine{01123         toIndex   = to;}
\DoxyCodeLine{01124         \textcolor{keywordflow}{if} (isToonzOutput \&\& !supportsRandomAccess) \{}
\DoxyCodeLine{01125           fromIndex = 1;}
\DoxyCodeLine{01126           toIndex   = level-\/>getFrameCount();}
\DoxyCodeLine{01127           step      = 1;}
\DoxyCodeLine{01128         \}}
\DoxyCodeLine{01129 }
\DoxyCodeLine{01130         \textcolor{keywordflow}{if} (level-\/>begin()-\/>first.getNumber() != TFrameId::NO\_FRAME) \{}
\DoxyCodeLine{01131           fromIndex = std::max(fromIndex, level-\/>begin()-\/>first.getNumber());}
\DoxyCodeLine{01132           toIndex   = std::min(toIndex, (-\/-\/level-\/>end())-\/>first.getNumber());}
\DoxyCodeLine{01133         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01134           fromIndex           = level-\/>begin()-\/>first.getNumber();}
\DoxyCodeLine{01135           toIndex             = (-\/-\/level-\/>end())-\/>first.getNumber();}
\DoxyCodeLine{01136           incrementalIndexing = \textcolor{keyword}{true};}
\DoxyCodeLine{01137         \}}
\DoxyCodeLine{01138 }
\DoxyCodeLine{01139         \textcolor{comment}{// Workaround to display simple background images when loading from}}
\DoxyCodeLine{01140         \textcolor{comment}{// the right-\/click menu context}}
\DoxyCodeLine{01141         fromIndex = std::min(fromIndex, toIndex);}
\DoxyCodeLine{01142       \}}
\DoxyCodeLine{01143 }
\DoxyCodeLine{01144       Level levelToPush(level, fp, fromIndex, toIndex, step);}
\DoxyCodeLine{01145       levelToPush.m\_randomAccessRead    = randomAccessRead;}
\DoxyCodeLine{01146       levelToPush.m\_incrementalIndexing = incrementalIndexing;}
\DoxyCodeLine{01147 }
\DoxyCodeLine{01148       \textcolor{keywordtype}{int} formatIdx = Preferences::instance()-\/>\mbox{\hyperlink{class_preferences_ae9bb42f98e4a2e746a7400b133c5d6e8}{matchLevelFormat}}(fp);}
\DoxyCodeLine{01149       \textcolor{keywordflow}{if} (formatIdx >= 0 \&\& Preferences::instance()}
\DoxyCodeLine{01150                                 -\/>levelFormat(formatIdx)}
\DoxyCodeLine{01151                                 .m\_options.m\_premultiply) \{}
\DoxyCodeLine{01152         levelToPush.m\_premultiply = \textcolor{keyword}{true};}
\DoxyCodeLine{01153       \}}
\DoxyCodeLine{01154 }
\DoxyCodeLine{01155       m\_levels.push\_back(levelToPush);}
\DoxyCodeLine{01156 }
\DoxyCodeLine{01157       \textcolor{comment}{// Get the frames count to be shown in this flipbook level}}
\DoxyCodeLine{01158       m\_framesCount = levelToPush.getIndexesCount();}
\DoxyCodeLine{01159 }
\DoxyCodeLine{01160       assert(m\_framesCount <= level-\/>getFrameCount());}
\DoxyCodeLine{01161 }
\DoxyCodeLine{01162       \textcolor{comment}{// this value will be used in loadAndCacheAllTlvImages later}}
\DoxyCodeLine{01163       \textcolor{keywordtype}{int} addingFrameAmount = m\_framesCount;}
\DoxyCodeLine{01164 }
\DoxyCodeLine{01165       \textcolor{keywordflow}{if} (append \&\& !m\_levels.empty()) \{}
\DoxyCodeLine{01166         \textcolor{keywordtype}{int} oldFrom, oldTo, oldStep;}
\DoxyCodeLine{01167         m\_flipConsole-\/>getFrameRange(oldFrom, oldTo, oldStep);}
\DoxyCodeLine{01168         assert(oldFrom == 1);}
\DoxyCodeLine{01169         assert(oldStep == 1);}
\DoxyCodeLine{01170         m\_framesCount += oldTo;}
\DoxyCodeLine{01171       \}}
\DoxyCodeLine{01172 }
\DoxyCodeLine{01173       m\_flipConsole-\/>setFrameRange(1, m\_framesCount, 1, current);}
\DoxyCodeLine{01174 }
\DoxyCodeLine{01175       \textcolor{keywordflow}{if} (palette \&\& level-\/>getPalette() != palette) level-\/>setPalette(palette);}
\DoxyCodeLine{01176 }
\DoxyCodeLine{01177       m\_palette = level-\/>getPalette();}
\DoxyCodeLine{01178 }
\DoxyCodeLine{01179       \textcolor{keyword}{const} \mbox{\hyperlink{class_t_image_info}{TImageInfo}} *ii = m\_lr-\/>getImageInfo();}
\DoxyCodeLine{01180 }
\DoxyCodeLine{01181       \textcolor{keywordflow}{if} (ii) m\_dim = \mbox{\hyperlink{class_t_dimension_t}{TDimension}}(ii-\/>\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}} / m\_shrink, ii-\/>\mbox{\hyperlink{class_t_image_info_affef879628cc3843968c932e706541b6}{m\_ly}} / m\_shrink);}
\DoxyCodeLine{01182 }
\DoxyCodeLine{01183       \textcolor{keywordtype}{int} levelFrameCount = 0;}
\DoxyCodeLine{01184       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} lev = 0; lev < m\_levels.size(); lev++)}
\DoxyCodeLine{01185         levelFrameCount += m\_levels[lev].m\_level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a3fe127306d6669a3eb9e9d8802660d7b}{getFrameCount}}();}
\DoxyCodeLine{01186 }
\DoxyCodeLine{01187       \textcolor{keywordflow}{if} (levelFrameCount == 1)}
\DoxyCodeLine{01188         m\_title = \textcolor{stringliteral}{"{}  ::  1 Frame"{}};}
\DoxyCodeLine{01189       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01190         m\_title = \textcolor{stringliteral}{"{}  ::  "{}} + QString::number(levelFrameCount) + \textcolor{stringliteral}{"{} Frames"{}};}
\DoxyCodeLine{01191 }
\DoxyCodeLine{01192       \textcolor{comment}{// color model does not concern about the pixel size}}
\DoxyCodeLine{01193       \textcolor{keywordflow}{if} (ii \&\& !m\_imageViewer-\/>isColorModel())}
\DoxyCodeLine{01194         m\_title = m\_title + \textcolor{stringliteral}{"{}  ::  "{}} + QString::number(ii-\/>\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}) + \textcolor{stringliteral}{"{}x"{}} +}
\DoxyCodeLine{01195                   QString::number(ii-\/>\mbox{\hyperlink{class_t_image_info_affef879628cc3843968c932e706541b6}{m\_ly}}) + \textcolor{stringliteral}{"{} Pixels"{}};}
\DoxyCodeLine{01196 }
\DoxyCodeLine{01197       \textcolor{keywordflow}{if} (shrink > 1)}
\DoxyCodeLine{01198         m\_title = m\_title + \textcolor{stringliteral}{"{}  ::  "{}} + \textcolor{stringliteral}{"{}Shrink: "{}} + QString::number(shrink);}
\DoxyCodeLine{01199 }
\DoxyCodeLine{01200       \textcolor{comment}{// when using the flip module, this signal is to show the loaded level}}
\DoxyCodeLine{01201       \textcolor{comment}{// names in application's title bar}}
\DoxyCodeLine{01202       QString arg = QString(\textcolor{stringliteral}{"{}Flip : \%1"{}}).arg(m\_levelNames[0]);}
\DoxyCodeLine{01203       emit imageLoaded(arg);}
\DoxyCodeLine{01204 }
\DoxyCodeLine{01205       \textcolor{comment}{// When viewing the tlv, try to cache all frames at the beginning.}}
\DoxyCodeLine{01206       \textcolor{keywordflow}{if} (!m\_imageViewer-\/>isColorModel() \&\& fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}() == \textcolor{stringliteral}{"{}tlv"{}} \&\&}
\DoxyCodeLine{01207           !(m\_flags \& eDontKeepFilesOpened) \&\& !m\_isPreviewFx) \{}
\DoxyCodeLine{01208         loadAndCacheAllTlvImages(levelToPush,}
\DoxyCodeLine{01209                                  m\_framesCount -\/ addingFrameAmount + 1,  \textcolor{comment}{// from}}
\DoxyCodeLine{01210                                  m\_framesCount);                         \textcolor{comment}{// to}}
\DoxyCodeLine{01211       \}}
\DoxyCodeLine{01212 }
\DoxyCodeLine{01213       \textcolor{comment}{// An old archived bug says that simultaneous open for read of the same}}
\DoxyCodeLine{01214       \textcolor{comment}{// tlv are not allowed...}}
\DoxyCodeLine{01215       \textcolor{comment}{// if(m\_lr \&\& m\_lr-\/>getFilePath().getType()=="{}tlv"{})}}
\DoxyCodeLine{01216       \textcolor{comment}{//  m\_lr = TLevelReaderP();}}
\DoxyCodeLine{01217     \} \textcolor{keywordflow}{else}  \textcolor{comment}{// is a render}}
\DoxyCodeLine{01218     \{}
\DoxyCodeLine{01219       m\_flipConsole-\/>enableButton(FlipConsole::eCheckBg, \textcolor{keyword}{true});}
\DoxyCodeLine{01220       m\_previewedFx = 0;}
\DoxyCodeLine{01221       m\_previewXsh  = 0;}
\DoxyCodeLine{01222       m\_levels.clear();}
\DoxyCodeLine{01223       m\_flipConsole-\/>setFrameRange(from, to, step);}
\DoxyCodeLine{01224 }
\DoxyCodeLine{01225       m\_framesCount = (to -\/ from) / step + 1;}
\DoxyCodeLine{01226       m\_title       = tr(\textcolor{stringliteral}{"{}Rendered Frames  ::  From \%1 To \%2  ::  Step \%3"{}})}
\DoxyCodeLine{01227                     .arg(QString::number(from))}
\DoxyCodeLine{01228                     .arg(QString::number(to))}
\DoxyCodeLine{01229                     .arg(QString::number(step));}
\DoxyCodeLine{01230       \textcolor{keywordflow}{if} (shrink > 1)}
\DoxyCodeLine{01231         m\_title = m\_title + tr(\textcolor{stringliteral}{"{}  ::  Shrink "{}}) + QString::number(shrink);}
\DoxyCodeLine{01232     \}}
\DoxyCodeLine{01233 }
\DoxyCodeLine{01234     \textcolor{comment}{// parentWidget()-\/>setWindowTitle(m\_title);}}
\DoxyCodeLine{01235     m\_imageViewer-\/>setHistogramEnable(\textcolor{keyword}{true});}
\DoxyCodeLine{01236     m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_ad85948c9cf34353112cb7d4b2e117a81}{setHistogramTitle}}(m\_levelNames[0]);}
\DoxyCodeLine{01237     m\_flipConsole-\/>enableButton(FlipConsole::eSave, isSavable());}
\DoxyCodeLine{01238     m\_flipConsole-\/>\mbox{\hyperlink{class_flip_console_a1dfe8d0ed47146c356696f16e7beb9c8}{showCurrentFrame}}();}
\DoxyCodeLine{01239     \textcolor{keywordflow}{if} (m\_flags \& eDontKeepFilesOpened) m\_lr = \mbox{\hyperlink{class_t_level_reader_p}{TLevelReaderP}}();}
\DoxyCodeLine{01240   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{01241     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01242   \}}
\DoxyCodeLine{01243 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00539}{TFile\+Path\+::get\+Dots()}}, \mbox{\hyperlink{l00158}{TXsh\+Simple\+Level\+::get\+Frame\+Count()}}, \mbox{\hyperlink{l00997}{Flip\+Book\+::\+Level\+::get\+Indexes\+Count()}}, \mbox{\hyperlink{l00225}{TFile\+Path\+::get\+Type()}}, \mbox{\hyperlink{l00046}{TImage\+Info\+::m\+\_\+lx}}, \mbox{\hyperlink{l00047}{TImage\+Info\+::m\+\_\+ly}}, \mbox{\hyperlink{l01063}{Preferences\+::match\+Level\+Format()}}, \mbox{\hyperlink{l00428}{Image\+Viewer\+::set\+Histogram\+Title()}}, \mbox{\hyperlink{l01361}{Flip\+Console\+::show\+Current\+Frame()}}, \mbox{\hyperlink{l00860}{TFile\+Path\+::with\+Frame()}}, and \mbox{\hyperlink{l00264}{TFile\+Path\+::without\+Parent\+Dir()}}.



Referenced by \mbox{\hyperlink{l00141}{Color\+Model\+Viewer\+::drop\+Event()}}, and \mbox{\hyperlink{l01360}{Preview\+Fx\+Manager\+::freeze()}}.

\mbox{\Hypertarget{class_flip_book_a6568b85c08cde71dc64d440ecce457f1}\label{class_flip_book_a6568b85c08cde71dc64d440ecce457f1}} 
\index{FlipBook@{FlipBook}!setLevel@{setLevel}}
\index{setLevel@{setLevel}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{setLevel()}{setLevel()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily void Flip\+Book\+::set\+Level (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$}]{previewed\+Fx,  }\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{\mbox{\hyperlink{class_t_level}{TLevel}} $\ast$}]{level,  }\item[{\mbox{\hyperlink{class_t_palette}{TPalette}} $\ast$}]{palette = {\ttfamily 0},  }\item[{int}]{from = {\ttfamily -\/1},  }\item[{int}]{to = {\ttfamily -\/1},  }\item[{int}]{step = {\ttfamily 1},  }\item[{int}]{current\+Frame = {\ttfamily 1},  }\item[{\mbox{\hyperlink{class_t_sound_track}{TSound\+Track}} $\ast$}]{snd = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01312                                                             \{}
\DoxyCodeLine{01313   m\_xl          = 0;}
\DoxyCodeLine{01314   m\_previewedFx = previewedFx;}
\DoxyCodeLine{01315   m\_previewXsh  = xsh;}
\DoxyCodeLine{01316   m\_isPreviewFx = \textcolor{keyword}{true};}
\DoxyCodeLine{01317   m\_levels.clear();}
\DoxyCodeLine{01318   m\_levels.push\_back(Level(level, \mbox{\hyperlink{class_t_file_path}{TFilePath}}(), from -\/ 1, to -\/ 1, step));}
\DoxyCodeLine{01319   m\_levelNames.clear();}
\DoxyCodeLine{01320   m\_levelNames.push\_back(QString::fromStdString(level-\/>getName()));}
\DoxyCodeLine{01321   m\_title = m\_viewerTitle;}
\DoxyCodeLine{01322   m\_flipConsole-\/>setFrameRange(from, to, step, currentFrame);}
\DoxyCodeLine{01323   m\_flipConsole-\/>enableProgressBar(\textcolor{keyword}{true});}
\DoxyCodeLine{01324 }
\DoxyCodeLine{01325   m\_flipConsole-\/>enableButton(FlipConsole::eDefineLoadBox, \textcolor{keyword}{false});}
\DoxyCodeLine{01326   m\_flipConsole-\/>enableButton(FlipConsole::eUseLoadBox, \textcolor{keyword}{false});}
\DoxyCodeLine{01327   m\_flipConsole-\/>enableButton(FlipConsole::eSound, snd != 0);}
\DoxyCodeLine{01328   m\_snd         = snd;}
\DoxyCodeLine{01329   m\_framesCount = (to -\/ from) / step + 1;}
\DoxyCodeLine{01330 }
\DoxyCodeLine{01331   m\_imageViewer-\/>setHistogramEnable(\textcolor{keyword}{true});}
\DoxyCodeLine{01332   m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_ad85948c9cf34353112cb7d4b2e117a81}{setHistogramTitle}}(m\_levelNames[0]);}
\DoxyCodeLine{01333   m\_flipConsole-\/>\mbox{\hyperlink{class_flip_console_a1dfe8d0ed47146c356696f16e7beb9c8}{showCurrentFrame}}();}
\DoxyCodeLine{01334 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a497a7395d97d5613c2dca7a5da3ae761}\label{class_flip_book_a497a7395d97d5613c2dca7a5da3ae761}} 
\index{FlipBook@{FlipBook}!setLevel@{setLevel}}
\index{setLevel@{setLevel}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{setLevel()}{setLevel()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily void Flip\+Book\+::set\+Level (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$}]{xl }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01257                                            \{}
\DoxyCodeLine{01258   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01259     clearCache();}
\DoxyCodeLine{01260 }
\DoxyCodeLine{01261     m\_xl = xl;}
\DoxyCodeLine{01262 }
\DoxyCodeLine{01263     m\_levelNames.push\_back(QString::fromStdWString(xl-\/>\mbox{\hyperlink{class_t_xsh_level_a3a59fb1bd3261baee4e889a9edbf0ae8}{getName}}()));}
\DoxyCodeLine{01264     m\_snd         = 0;}
\DoxyCodeLine{01265     m\_previewedFx = 0;}
\DoxyCodeLine{01266     m\_previewXsh  = 0;}
\DoxyCodeLine{01267     m\_levels.clear();}
\DoxyCodeLine{01268 }
\DoxyCodeLine{01269     m\_flipConsole-\/>enableButton(FlipConsole::eSound, \textcolor{keyword}{false});}
\DoxyCodeLine{01270 }
\DoxyCodeLine{01271     m\_shrink = 1;}
\DoxyCodeLine{01272     \textcolor{keywordtype}{int} step = 1;}
\DoxyCodeLine{01273 }
\DoxyCodeLine{01274     m\_framesCount = (m\_xl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a3fe127306d6669a3eb9e9d8802660d7b}{getFrameCount}}() -\/ 1) / step + 1;}
\DoxyCodeLine{01275     m\_flipConsole-\/>setFrameRange(1, m\_framesCount, step);}
\DoxyCodeLine{01276     m\_flipConsole-\/>enableProgressBar(\textcolor{keyword}{false});}
\DoxyCodeLine{01277     m\_flipConsole-\/>setProgressBarStatus(0);}
\DoxyCodeLine{01278     m\_palette = m\_xl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a9aea4f8e34caef293d5e5c7694047564}{getPalette}}();}
\DoxyCodeLine{01279 }
\DoxyCodeLine{01280     \textcolor{keyword}{const} \mbox{\hyperlink{class_level_properties}{LevelProperties}} *p = m\_xl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_ad412dd5c3a6ae3ff20a480dc728b26d2}{getProperties}}();}
\DoxyCodeLine{01281 }
\DoxyCodeLine{01282     m\_title = m\_viewerTitle + \textcolor{stringliteral}{"{}  ::  "{}} + m\_levelNames[0];}
\DoxyCodeLine{01283 }
\DoxyCodeLine{01284     \textcolor{keywordflow}{if} (m\_framesCount == 1)}
\DoxyCodeLine{01285       m\_title = m\_title + \textcolor{stringliteral}{"{}  ::  1 Frame"{}};}
\DoxyCodeLine{01286     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01287       m\_title = m\_title + \textcolor{stringliteral}{"{}  ::  "{}} + QString::number(m\_framesCount) + \textcolor{stringliteral}{"{} Frames"{}};}
\DoxyCodeLine{01288 }
\DoxyCodeLine{01289     \textcolor{keywordflow}{if} (p) m\_dim = p-\/>\mbox{\hyperlink{class_level_properties_adac2b8c3ed147184fc78799cd65ca8f9}{getImageRes}}();}
\DoxyCodeLine{01290 }
\DoxyCodeLine{01291     \textcolor{keywordflow}{if} (p)}
\DoxyCodeLine{01292       m\_title = m\_title + \textcolor{stringliteral}{"{}  ::  "{}} + QString::number(p-\/>\mbox{\hyperlink{class_level_properties_adac2b8c3ed147184fc78799cd65ca8f9}{getImageRes}}().lx) +}
\DoxyCodeLine{01293                 \textcolor{stringliteral}{"{}x"{}} + QString::number(p-\/>\mbox{\hyperlink{class_level_properties_adac2b8c3ed147184fc78799cd65ca8f9}{getImageRes}}().ly) + \textcolor{stringliteral}{"{} Pixels"{}};}
\DoxyCodeLine{01294 }
\DoxyCodeLine{01295     \textcolor{keywordflow}{if} (m\_shrink > 1)}
\DoxyCodeLine{01296       m\_title = m\_title + \textcolor{stringliteral}{"{}  ::  "{}} + \textcolor{stringliteral}{"{}Shrink: "{}} + QString::number(m\_shrink);}
\DoxyCodeLine{01297 }
\DoxyCodeLine{01298     m\_imageViewer-\/>setHistogramEnable(\textcolor{keyword}{true});}
\DoxyCodeLine{01299     m\_imageViewer-\/>\mbox{\hyperlink{class_image_viewer_ad85948c9cf34353112cb7d4b2e117a81}{setHistogramTitle}}(m\_levelNames[0]);}
\DoxyCodeLine{01300 }
\DoxyCodeLine{01301     m\_flipConsole-\/>\mbox{\hyperlink{class_flip_console_a1dfe8d0ed47146c356696f16e7beb9c8}{showCurrentFrame}}();}
\DoxyCodeLine{01302 }
\DoxyCodeLine{01303   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{01304     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01305   \}}
\DoxyCodeLine{01306 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a6009b10e192267fa554e12bf35e0aeca}\label{class_flip_book_a6009b10e192267fa554e12bf35e0aeca}} 
\index{FlipBook@{FlipBook}!setLoadbox@{setLoadbox}}
\index{setLoadbox@{setLoadbox}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{setLoadbox()}{setLoadbox()}}
{\footnotesize\ttfamily void Flip\+Book\+::set\+Loadbox (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&}]{box }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01701                                           \{}
\DoxyCodeLine{01702   m\_loadbox =}
\DoxyCodeLine{01703       (m\_dim.lx > 0) ? box * \mbox{\hyperlink{class_t_rect_t}{TRect}}(0, 0, m\_dim.lx -\/ 1, m\_dim.ly -\/ 1) : box;}
\DoxyCodeLine{01704 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a2fe3b4eaf89e30420793b33c4b85c801}\label{class_flip_book_a2fe3b4eaf89e30420793b33c4b85c801}} 
\index{FlipBook@{FlipBook}!setPoolIndex@{setPoolIndex}}
\index{setPoolIndex@{setPoolIndex}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{setPoolIndex()}{setPoolIndex()}}
{\footnotesize\ttfamily void Flip\+Book\+::set\+Pool\+Index (\begin{DoxyParamCaption}\item[{int}]{pool\+Index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00220 \{ m\_poolIndex = poolIndex; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a8695fde844fcbb4c76aaf5e47c93346b}\label{class_flip_book_a8695fde844fcbb4c76aaf5e47c93346b}} 
\index{FlipBook@{FlipBook}!setProgressBarStatus@{setProgressBarStatus}}
\index{setProgressBarStatus@{setProgressBarStatus}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{setProgressBarStatus()}{setProgressBarStatus()}}
{\footnotesize\ttfamily void Flip\+Book\+::set\+Progress\+Bar\+Status (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ UCHAR $>$ $\ast$}]{pb\+Status }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01439                                                                     \{}
\DoxyCodeLine{01440   m\_flipConsole-\/>setProgressBarStatus(pbStatus);}
\DoxyCodeLine{01441 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a42edc89bbd9ccedb6a65aae0cdc78e11}\label{class_flip_book_a42edc89bbd9ccedb6a65aae0cdc78e11}} 
\index{FlipBook@{FlipBook}!setTitle@{setTitle}}
\index{setTitle@{setTitle}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{setTitle()}{setTitle()}}
{\footnotesize\ttfamily void Flip\+Book\+::set\+Title (\begin{DoxyParamCaption}\item[{const QString \&}]{title }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01247                                             \{}
\DoxyCodeLine{01248   m\_viewerTitle = title;}
\DoxyCodeLine{01249   \textcolor{keywordflow}{if} (!m\_previewedFx \&\& !m\_levelNames.empty())}
\DoxyCodeLine{01250     m\_title = m\_viewerTitle + \textcolor{stringliteral}{"{}  ::  "{}} + m\_levelNames[0];}
\DoxyCodeLine{01251   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01252     m\_title = m\_viewerTitle;}
\DoxyCodeLine{01253 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_ac27f6e60c360b2e8747b55b167d7b8b0}\label{class_flip_book_ac27f6e60c360b2e8747b55b167d7b8b0}} 
\index{FlipBook@{FlipBook}!showEvent@{showEvent}}
\index{showEvent@{showEvent}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{showEvent()}{showEvent()}}
{\footnotesize\ttfamily void Flip\+Book\+::show\+Event (\begin{DoxyParamCaption}\item[{QShow\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01914                                       \{}
\DoxyCodeLine{01915   \mbox{\hyperlink{class_t_scene_handle}{TSceneHandle}} *sceneHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}();}
\DoxyCodeLine{01916   connect(sceneHandle, SIGNAL(sceneChanged()), m\_imageViewer, SLOT(update()));}
\DoxyCodeLine{01917   \textcolor{comment}{// for updating the blank frame button}}
\DoxyCodeLine{01918   \textcolor{keywordflow}{if} (!m\_imageViewer-\/>isColorModel()) \{}
\DoxyCodeLine{01919     connect(sceneHandle, SIGNAL(preferenceChanged(\textcolor{keyword}{const} QString \&)),}
\DoxyCodeLine{01920             m\_flipConsole, SLOT(onPreferenceChanged(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{01921     m\_flipConsole-\/>onPreferenceChanged(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01922   \}}
\DoxyCodeLine{01923   m\_flipConsole-\/>setActive(\textcolor{keyword}{true});}
\DoxyCodeLine{01924   m\_imageViewer-\/>update();}
\DoxyCodeLine{01925 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_ac512e07e7af341fcb8f20f608e5e3e2c}\label{class_flip_book_ac512e07e7af341fcb8f20f608e5e3e2c}} 
\index{FlipBook@{FlipBook}!showFrame@{showFrame}}
\index{showFrame@{showFrame}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{showFrame()}{showFrame()}}
{\footnotesize\ttfamily void Flip\+Book\+::show\+Frame (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01451                                   \{}
\DoxyCodeLine{01452   \textcolor{keywordflow}{if} (frame < 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01453   m\_flipConsole-\/>setCurrentFrame(frame);}
\DoxyCodeLine{01454   m\_flipConsole-\/>\mbox{\hyperlink{class_flip_console_a1dfe8d0ed47146c356696f16e7beb9c8}{showCurrentFrame}}();}
\DoxyCodeLine{01455 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_ac1778aba70ca173c93b8bcff803ec941}\label{class_flip_book_ac1778aba70ca173c93b8bcff803ec941}} 
\index{FlipBook@{FlipBook}!swapBuffers@{swapBuffers}}
\index{swapBuffers@{swapBuffers}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{swapBuffers()}{swapBuffers()}}
{\footnotesize\ttfamily void Flip\+Book\+::swap\+Buffers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_flip_console_owner}{Flip\+Console\+Owner}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01691 \{ m\_imageViewer-\/>doSwapBuffers(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_abd1422ffdcec2d95b48dd37528c78479}\label{class_flip_book_abd1422ffdcec2d95b48dd37528c78479}} 
\index{FlipBook@{FlipBook}!unfreezePreview@{unfreezePreview}}
\index{unfreezePreview@{unfreezePreview}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{unfreezePreview}{unfreezePreview}}
{\footnotesize\ttfamily void Flip\+Book\+::unfreeze\+Preview (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01426                                \{}
\DoxyCodeLine{01427   \textcolor{keywordflow}{if} (!m\_previewedFx) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01428 }
\DoxyCodeLine{01429   \mbox{\hyperlink{class_preview_fx_manager_a540923ef1e799396ddf8bba11bb3c8c6}{PreviewFxManager::instance}}()-\/>unfreeze(\textcolor{keyword}{this});}
\DoxyCodeLine{01430 }
\DoxyCodeLine{01431   m\_freezed = \textcolor{keyword}{false};}
\DoxyCodeLine{01432 }
\DoxyCodeLine{01433   \textcolor{comment}{// sync the button state when triggered by shortcut}}
\DoxyCodeLine{01434   \textcolor{keywordflow}{if} (m\_freezeButton) m\_freezeButton-\/>setPressed(\textcolor{keyword}{false});}
\DoxyCodeLine{01435 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_flip_book_a5171e2d237f98f21c9d3cf5123a7971e}\label{class_flip_book_a5171e2d237f98f21c9d3cf5123a7971e}} 
\index{FlipBook@{FlipBook}!zoomAndAdaptGeometry@{zoomAndAdaptGeometry}}
\index{zoomAndAdaptGeometry@{zoomAndAdaptGeometry}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{zoomAndAdaptGeometry()}{zoomAndAdaptGeometry()}}
{\footnotesize\ttfamily void Flip\+Book\+::zoom\+And\+Adapt\+Geometry (\begin{DoxyParamCaption}\item[{bool}]{forward }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02151                                                 \{}
\DoxyCodeLine{02152   m\_imageViewer-\/>zoomQt(forward, \textcolor{keyword}{false});}
\DoxyCodeLine{02153   adaptGeometryToCurrentSize();}
\DoxyCodeLine{02154 \}}

\end{DoxyCode}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{class_flip_book_ae29d41c79a4d7fe8943403ddba4f9bd4}\label{class_flip_book_ae29d41c79a4d7fe8943403ddba4f9bd4}} 
\index{FlipBook@{FlipBook}!PreviewFxManager@{PreviewFxManager}}
\index{PreviewFxManager@{PreviewFxManager}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{PreviewFxManager}{PreviewFxManager}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{class_preview_fx_manager}{Preview\+Fx\+Manager}}\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_flip_book_a57e8395be4bd13328ebdf3c77df0547e}\label{class_flip_book_a57e8395be4bd13328ebdf3c77df0547e}} 
\index{FlipBook@{FlipBook}!m\_addedInCache@{m\_addedInCache}}
\index{m\_addedInCache@{m\_addedInCache}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_addedInCache}{m\_addedInCache}}
{\footnotesize\ttfamily std\+::vector$<$std\+::string$>$ Flip\+Book\+::m\+\_\+added\+In\+Cache\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_ad8f2427038be69cb9abacf627b75fc76}\label{class_flip_book_ad8f2427038be69cb9abacf627b75fc76}} 
\index{FlipBook@{FlipBook}!m\_currentFrameToSave@{m\_currentFrameToSave}}
\index{m\_currentFrameToSave@{m\_currentFrameToSave}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_currentFrameToSave}{m\_currentFrameToSave}}
{\footnotesize\ttfamily int Flip\+Book\+::m\+\_\+current\+Frame\+To\+Save\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_abaa44bf3c3337fe82b900ab890d1fea7}\label{class_flip_book_abaa44bf3c3337fe82b900ab890d1fea7}} 
\index{FlipBook@{FlipBook}!m\_dim@{m\_dim}}
\index{m\_dim@{m\_dim}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_dim}{m\_dim}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_dimension_t}{TDimension}} Flip\+Book\+::m\+\_\+dim\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_ae736af8d9a45471adcf5d447693f31ec}\label{class_flip_book_ae736af8d9a45471adcf5d447693f31ec}} 
\index{FlipBook@{FlipBook}!m\_flags@{m\_flags}}
\index{m\_flags@{m\_flags}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_flags}{m\_flags}}
{\footnotesize\ttfamily UCHAR Flip\+Book\+::m\+\_\+flags\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_aab33f379fc677431b00a5d5ff0259d7a}\label{class_flip_book_aab33f379fc677431b00a5d5ff0259d7a}} 
\index{FlipBook@{FlipBook}!m\_flipConsole@{m\_flipConsole}}
\index{m\_flipConsole@{m\_flipConsole}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_flipConsole}{m\_flipConsole}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_flip_console}{Flip\+Console}}$\ast$ Flip\+Book\+::m\+\_\+flip\+Console\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a57fca132ee02749ef686f7002ff08991}\label{class_flip_book_a57fca132ee02749ef686f7002ff08991}} 
\index{FlipBook@{FlipBook}!m\_framesCount@{m\_framesCount}}
\index{m\_framesCount@{m\_framesCount}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_framesCount}{m\_framesCount}}
{\footnotesize\ttfamily int Flip\+Book\+::m\+\_\+frames\+Count\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_ad065b90fcc80b1aec616ecf12d53b776}\label{class_flip_book_ad065b90fcc80b1aec616ecf12d53b776}} 
\index{FlipBook@{FlipBook}!m\_freezeButton@{m\_freezeButton}}
\index{m\_freezeButton@{m\_freezeButton}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_freezeButton}{m\_freezeButton}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_panel_title_bar_button}{TPanel\+Title\+Bar\+Button}}$\ast$ Flip\+Book\+::m\+\_\+freeze\+Button\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a4873f9f3cd2ff1333d05e4920a229839}\label{class_flip_book_a4873f9f3cd2ff1333d05e4920a229839}} 
\index{FlipBook@{FlipBook}!m\_freezed@{m\_freezed}}
\index{m\_freezed@{m\_freezed}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_freezed}{m\_freezed}}
{\footnotesize\ttfamily bool Flip\+Book\+::m\+\_\+freezed\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_adae9077d5c1d04064ba102b4a5fab867}\label{class_flip_book_adae9077d5c1d04064ba102b4a5fab867}} 
\index{FlipBook@{FlipBook}!m\_imageViewer@{m\_imageViewer}}
\index{m\_imageViewer@{m\_imageViewer}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_imageViewer}{m\_imageViewer}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_image_viewer}{Image\+Viewer}}$\ast$ Flip\+Book\+::m\+\_\+image\+Viewer\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a88a99f91a9b0e9b243f047fbd5a2c94d}\label{class_flip_book_a88a99f91a9b0e9b243f047fbd5a2c94d}} 
\index{FlipBook@{FlipBook}!m\_isPreviewFx@{m\_isPreviewFx}}
\index{m\_isPreviewFx@{m\_isPreviewFx}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_isPreviewFx}{m\_isPreviewFx}}
{\footnotesize\ttfamily bool Flip\+Book\+::m\+\_\+is\+Preview\+Fx\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a82c6aa8041f5c3822d49ba7c998e473a}\label{class_flip_book_a82c6aa8041f5c3822d49ba7c998e473a}} 
\index{FlipBook@{FlipBook}!m\_levelNames@{m\_levelNames}}
\index{m\_levelNames@{m\_levelNames}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_levelNames}{m\_levelNames}}
{\footnotesize\ttfamily std\+::vector$<$QString$>$ Flip\+Book\+::m\+\_\+level\+Names\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_aa5ce306dfccb4511698ea7e8aa65a190}\label{class_flip_book_aa5ce306dfccb4511698ea7e8aa65a190}} 
\index{FlipBook@{FlipBook}!m\_levels@{m\_levels}}
\index{m\_levels@{m\_levels}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_levels}{m\_levels}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{class_flip_book_1_1_level}{Level}}$>$ Flip\+Book\+::m\+\_\+levels\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a2b31ada33046db7badeec87aa6609f55}\label{class_flip_book_a2b31ada33046db7badeec87aa6609f55}} 
\index{FlipBook@{FlipBook}!m\_loadbox@{m\_loadbox}}
\index{m\_loadbox@{m\_loadbox}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_loadbox}{m\_loadbox}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRect}} Flip\+Book\+::m\+\_\+loadbox\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a6b03abdd0045018972e52a174ea32ee9}\label{class_flip_book_a6b03abdd0045018972e52a174ea32ee9}} 
\index{FlipBook@{FlipBook}!m\_loadboxes@{m\_loadboxes}}
\index{m\_loadboxes@{m\_loadboxes}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_loadboxes}{m\_loadboxes}}
{\footnotesize\ttfamily std\+::map$<$std\+::string, \mbox{\hyperlink{class_t_rect_t}{TRect}}$>$ Flip\+Book\+::m\+\_\+loadboxes\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a83a93cec5ea9b605228062cf3b1306ef}\label{class_flip_book_a83a93cec5ea9b605228062cf3b1306ef}} 
\index{FlipBook@{FlipBook}!m\_loadPopup@{m\_loadPopup}}
\index{m\_loadPopup@{m\_loadPopup}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_loadPopup}{m\_loadPopup}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_load_images_popup}{Load\+Images\+Popup}}$\ast$ Flip\+Book\+::m\+\_\+load\+Popup\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a20998f3327f1eec824ba2b8663e5d81e}\label{class_flip_book_a20998f3327f1eec824ba2b8663e5d81e}} 
\index{FlipBook@{FlipBook}!m\_lr@{m\_lr}}
\index{m\_lr@{m\_lr}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_lr}{m\_lr}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_level_reader_p}{TLevel\+ReaderP}} Flip\+Book\+::m\+\_\+lr\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_acaec76916b0ea1418b187ff19fd6fdbd}\label{class_flip_book_acaec76916b0ea1418b187ff19fd6fdbd}} 
\index{FlipBook@{FlipBook}!m\_lw@{m\_lw}}
\index{m\_lw@{m\_lw}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_lw}{m\_lw}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_level_writer_p}{TLevel\+WriterP}} Flip\+Book\+::m\+\_\+lw\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_aa622f80a1becb2bedfa6bce96fe9355f}\label{class_flip_book_aa622f80a1becb2bedfa6bce96fe9355f}} 
\index{FlipBook@{FlipBook}!m\_palette@{m\_palette}}
\index{m\_palette@{m\_palette}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_palette}{m\_palette}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_palette}{TPalette}}$\ast$ Flip\+Book\+::m\+\_\+palette\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a467253204c6bfb20c9886e29799ba31f}\label{class_flip_book_a467253204c6bfb20c9886e29799ba31f}} 
\index{FlipBook@{FlipBook}!m\_player@{m\_player}}
\index{m\_player@{m\_player}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_player}{m\_player}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_sound_output_device}{TSound\+Output\+Device}}$\ast$ Flip\+Book\+::m\+\_\+player\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_ae8c1777979d49e3e0c240fa0f909b533}\label{class_flip_book_ae8c1777979d49e3e0c240fa0f909b533}} 
\index{FlipBook@{FlipBook}!m\_playSound@{m\_playSound}}
\index{m\_playSound@{m\_playSound}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_playSound}{m\_playSound}}
{\footnotesize\ttfamily bool Flip\+Book\+::m\+\_\+play\+Sound\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a5fdc18838f5c2296825cb127dfb4f507}\label{class_flip_book_a5fdc18838f5c2296825cb127dfb4f507}} 
\index{FlipBook@{FlipBook}!m\_poolIndex@{m\_poolIndex}}
\index{m\_poolIndex@{m\_poolIndex}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_poolIndex}{m\_poolIndex}}
{\footnotesize\ttfamily int Flip\+Book\+::m\+\_\+pool\+Index\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a27e06e8445e01936bc31bcdd48b94438}\label{class_flip_book_a27e06e8445e01936bc31bcdd48b94438}} 
\index{FlipBook@{FlipBook}!m\_previewedFx@{m\_previewedFx}}
\index{m\_previewedFx@{m\_previewedFx}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_previewedFx}{m\_previewedFx}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TFxP}} Flip\+Book\+::m\+\_\+previewed\+Fx\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a8582beb7f3c5c5b020b2bd3f1c047f31}\label{class_flip_book_a8582beb7f3c5c5b020b2bd3f1c047f31}} 
\index{FlipBook@{FlipBook}!m\_previewUpdateTimer@{m\_previewUpdateTimer}}
\index{m\_previewUpdateTimer@{m\_previewUpdateTimer}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_previewUpdateTimer}{m\_previewUpdateTimer}}
{\footnotesize\ttfamily QTimer Flip\+Book\+::m\+\_\+preview\+Update\+Timer\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a2b06862e94ecf419d495e3e2869c8cfc}\label{class_flip_book_a2b06862e94ecf419d495e3e2869c8cfc}} 
\index{FlipBook@{FlipBook}!m\_previewXsh@{m\_previewXsh}}
\index{m\_previewXsh@{m\_previewXsh}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_previewXsh}{m\_previewXsh}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TXsheetP}} Flip\+Book\+::m\+\_\+preview\+Xsh\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_ae7b29c5ddef824f400595a951567286e}\label{class_flip_book_ae7b29c5ddef824f400595a951567286e}} 
\index{FlipBook@{FlipBook}!m\_savePopup@{m\_savePopup}}
\index{m\_savePopup@{m\_savePopup}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_savePopup}{m\_savePopup}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_save_images_popup}{Save\+Images\+Popup}}$\ast$ Flip\+Book\+::m\+\_\+save\+Popup\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_aed0fece61dcf6e2dfcfd254209a3443b}\label{class_flip_book_aed0fece61dcf6e2dfcfd254209a3443b}} 
\index{FlipBook@{FlipBook}!m\_shrink@{m\_shrink}}
\index{m\_shrink@{m\_shrink}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_shrink}{m\_shrink}}
{\footnotesize\ttfamily int Flip\+Book\+::m\+\_\+shrink\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a0b34b012ab767e470ec40f87a51be50c}\label{class_flip_book_a0b34b012ab767e470ec40f87a51be50c}} 
\index{FlipBook@{FlipBook}!m\_snd@{m\_snd}}
\index{m\_snd@{m\_snd}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_snd}{m\_snd}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_sound_track}{TSound\+Track}}$\ast$ Flip\+Book\+::m\+\_\+snd\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a0eb0ffa02ce1935496dbc77a2f22bb02}\label{class_flip_book_a0eb0ffa02ce1935496dbc77a2f22bb02}} 
\index{FlipBook@{FlipBook}!m\_title@{m\_title}}
\index{m\_title@{m\_title}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_title}{m\_title}}
{\footnotesize\ttfamily QString Flip\+Book\+::m\+\_\+title\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_ad7865c7088d5927619a91615e333dd4a}\label{class_flip_book_ad7865c7088d5927619a91615e333dd4a}} 
\index{FlipBook@{FlipBook}!m\_title1@{m\_title1}}
\index{m\_title1@{m\_title1}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_title1}{m\_title1}}
{\footnotesize\ttfamily QString Flip\+Book\+::m\+\_\+title1\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a9eea993af098892a144716973d1434a2}\label{class_flip_book_a9eea993af098892a144716973d1434a2}} 
\index{FlipBook@{FlipBook}!m\_viewerTitle@{m\_viewerTitle}}
\index{m\_viewerTitle@{m\_viewerTitle}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_viewerTitle}{m\_viewerTitle}}
{\footnotesize\ttfamily QString Flip\+Book\+::m\+\_\+viewer\+Title\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_flip_book_a24b70bc9ab90c5ebef11940ba7b65ef9}\label{class_flip_book_a24b70bc9ab90c5ebef11940ba7b65ef9}} 
\index{FlipBook@{FlipBook}!m\_xl@{m\_xl}}
\index{m\_xl@{m\_xl}!FlipBook@{FlipBook}}
\doxysubsubsection{\texorpdfstring{m\_xl}{m\_xl}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}}$\ast$ Flip\+Book\+::m\+\_\+xl\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/flipbook.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/flipbook.\+cpp\end{DoxyCompactItemize}
