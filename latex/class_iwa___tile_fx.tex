\hypertarget{class_iwa___tile_fx}{}\doxysection{Iwa\+\_\+\+Tile\+Fx Class Reference}
\label{class_iwa___tile_fx}\index{Iwa\_TileFx@{Iwa\_TileFx}}
Inheritance diagram for Iwa\+\_\+\+Tile\+Fx\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{class_iwa___tile_fx}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_iwa___tile_fx_a7ba30d07c113bb9038dd9341f2f18458}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
bool \mbox{\hyperlink{class_iwa___tile_fx_a73cbff1547e7adca7d834f8e761ed9ed}{can\+Handle}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info, double frame) override
\item 
\mbox{\hyperlink{class_t_rect_t}{TRect}} \mbox{\hyperlink{class_iwa___tile_fx_a92a41f2289a8e27313e0646d8889bf22}{get\+Invalid\+Rect}} (const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&max)
\item 
void \mbox{\hyperlink{class_iwa___tile_fx_afd0ac0c81bf921e080162fb024f30bff}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&ri) override
\item 
int \mbox{\hyperlink{class_iwa___tile_fx_a87b38a301bb74db280e6bca6e161a7d8}{get\+Memory\+Requirement}} (const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
void \mbox{\hyperlink{class_iwa___tile_fx_a5acbadc79dc579dbb75b2cf546d47a0d}{transform}} (double frame, int port, const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Output, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Output, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Input, \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Input) override
\item 
bool \mbox{\hyperlink{class_iwa___tile_fx_a09dbb25bd7079f33739de8b13d3ff006}{check\+If\+This\+Tile\+Should\+Be\+Compted\+Or\+Not}} (int horiz\+Index, int vert\+Index)
\item 
bool \mbox{\hyperlink{class_iwa___tile_fx_a561610c5b4a8c856f1d966bbc39173ca}{is\+In\+Range}} (int quantity\+Mode, int index)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_iwa___tile_fx_a878cd813cf2bbaa195610aa9e0df6f62}\label{class_iwa___tile_fx_a878cd813cf2bbaa195610aa9e0df6f62}} 
\index{Iwa\_TileFx@{Iwa\_TileFx}!Iwa\_TileFx@{Iwa\_TileFx}}
\index{Iwa\_TileFx@{Iwa\_TileFx}!Iwa\_TileFx@{Iwa\_TileFx}}
\doxysubsubsection{\texorpdfstring{Iwa\_TileFx()}{Iwa\_TileFx()}}
{\footnotesize\ttfamily Iwa\+\_\+\+Tile\+Fx\+::\+Iwa\+\_\+\+Tile\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00058     : m\_inputSizeMode(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(eBoundingBox, \textcolor{stringliteral}{"{}Bounding Box"{}}))}
\DoxyCodeLine{00059     , m\_leftQuantity(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(eNoTile, \textcolor{stringliteral}{"{}No Tile"{}}))}
\DoxyCodeLine{00060     , m\_rightQuantity(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(eNoTile, \textcolor{stringliteral}{"{}No Tile"{}}))}
\DoxyCodeLine{00061     , m\_topQuantity(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(eNoTile, \textcolor{stringliteral}{"{}No Tile"{}}))}
\DoxyCodeLine{00062     , m\_bottomQuantity(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(eNoTile, \textcolor{stringliteral}{"{}No Tile"{}}))}
\DoxyCodeLine{00063     , m\_xMirror(\textcolor{keyword}{false})}
\DoxyCodeLine{00064     , m\_yMirror(\textcolor{keyword}{false})}
\DoxyCodeLine{00065     , m\_hmargin(}
\DoxyCodeLine{00066           5.24934) \textcolor{comment}{/*-\/ スタンダードサイズのカメラとLevelのマージン（2.5mm）-\/*/}}
\DoxyCodeLine{00067     , m\_vmargin(12.4934) \textcolor{comment}{/*-\/ 5.95mm -\/*/}}
\DoxyCodeLine{00068 \{}
\DoxyCodeLine{00069   \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}Source"{}}, m\_input);}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}inputSize"{}}, m\_inputSizeMode);}
\DoxyCodeLine{00072   m\_inputSizeMode-\/>addItem(eCameraBox, \textcolor{stringliteral}{"{}Camera Box"{}});}
\DoxyCodeLine{00073   m\_inputSizeMode-\/>addItem(eImageSize, \textcolor{stringliteral}{"{}Image Size"{}});}
\DoxyCodeLine{00074 }
\DoxyCodeLine{00075   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}leftQuantity"{}}, m\_leftQuantity);}
\DoxyCodeLine{00076   m\_leftQuantity-\/>addItem(eOneTile, \textcolor{stringliteral}{"{}1 Tile"{}});}
\DoxyCodeLine{00077   m\_leftQuantity-\/>addItem(eMultipleTiles, \textcolor{stringliteral}{"{}Multiple Tiles"{}});}
\DoxyCodeLine{00078 }
\DoxyCodeLine{00079   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}rightQuantity"{}}, m\_rightQuantity);}
\DoxyCodeLine{00080   m\_rightQuantity-\/>addItem(eOneTile, \textcolor{stringliteral}{"{}1 Tile"{}});}
\DoxyCodeLine{00081   m\_rightQuantity-\/>addItem(eMultipleTiles, \textcolor{stringliteral}{"{}Multiple Tiles"{}});}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}xMirror"{}}, m\_xMirror);}
\DoxyCodeLine{00084 }
\DoxyCodeLine{00085   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}hMargin"{}}, m\_hmargin);}
\DoxyCodeLine{00086   m\_hmargin-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}topQuantity"{}}, m\_topQuantity);}
\DoxyCodeLine{00089   m\_topQuantity-\/>addItem(eOneTile, \textcolor{stringliteral}{"{}1 Tile"{}});}
\DoxyCodeLine{00090   m\_topQuantity-\/>addItem(eMultipleTiles, \textcolor{stringliteral}{"{}Multiple Tiles"{}});}
\DoxyCodeLine{00091 }
\DoxyCodeLine{00092   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}bottomQuantity"{}}, m\_bottomQuantity);}
\DoxyCodeLine{00093   m\_bottomQuantity-\/>addItem(eOneTile, \textcolor{stringliteral}{"{}1 Tile"{}});}
\DoxyCodeLine{00094   m\_bottomQuantity-\/>addItem(eMultipleTiles, \textcolor{stringliteral}{"{}Multiple Tiles"{}});}
\DoxyCodeLine{00095 }
\DoxyCodeLine{00096   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}yMirror"{}}, m\_yMirror);}
\DoxyCodeLine{00097 }
\DoxyCodeLine{00098   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}vMargin"{}}, m\_vmargin);}
\DoxyCodeLine{00099   m\_vmargin-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00100 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___tile_fx_ab3192522dab1ccbb2ed9c921f56bdc57}\label{class_iwa___tile_fx_ab3192522dab1ccbb2ed9c921f56bdc57}} 
\index{Iwa\_TileFx@{Iwa\_TileFx}!````~Iwa\_TileFx@{$\sim$Iwa\_TileFx}}
\index{````~Iwa\_TileFx@{$\sim$Iwa\_TileFx}!Iwa\_TileFx@{Iwa\_TileFx}}
\doxysubsubsection{\texorpdfstring{$\sim$Iwa\_TileFx()}{~Iwa\_TileFx()}}
{\footnotesize\ttfamily Iwa\+\_\+\+Tile\+Fx\+::$\sim$\+Iwa\+\_\+\+Tile\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00104 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_iwa___tile_fx_a73cbff1547e7adca7d834f8e761ed9ed}\label{class_iwa___tile_fx_a73cbff1547e7adca7d834f8e761ed9ed}} 
\index{Iwa\_TileFx@{Iwa\_TileFx}!canHandle@{canHandle}}
\index{canHandle@{canHandle}!Iwa\_TileFx@{Iwa\_TileFx}}
\doxysubsubsection{\texorpdfstring{canHandle()}{canHandle()}}
{\footnotesize\ttfamily bool Iwa\+\_\+\+Tile\+Fx\+::can\+Handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00108                                                                     \{}
\DoxyCodeLine{00109   \textcolor{comment}{// Currently, only affines which transform the X and Y axis into themselves}}
\DoxyCodeLine{00110   \textcolor{comment}{// may}}
\DoxyCodeLine{00111   \textcolor{comment}{// be handled by this fx...}}
\DoxyCodeLine{00112   \textcolor{keywordflow}{return} (fabs(info.m\_affine.a12) < 0.0001 \&\&}
\DoxyCodeLine{00113           fabs(info.m\_affine.a21) < 0.0001) ||}
\DoxyCodeLine{00114          (fabs(info.m\_affine.a11) < 0.0001 \&\& fabs(info.m\_affine.a22) < 0.0001);}
\DoxyCodeLine{00115 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___tile_fx_a09dbb25bd7079f33739de8b13d3ff006}\label{class_iwa___tile_fx_a09dbb25bd7079f33739de8b13d3ff006}} 
\index{Iwa\_TileFx@{Iwa\_TileFx}!checkIfThisTileShouldBeComptedOrNot@{checkIfThisTileShouldBeComptedOrNot}}
\index{checkIfThisTileShouldBeComptedOrNot@{checkIfThisTileShouldBeComptedOrNot}!Iwa\_TileFx@{Iwa\_TileFx}}
\doxysubsubsection{\texorpdfstring{checkIfThisTileShouldBeComptedOrNot()}{checkIfThisTileShouldBeComptedOrNot()}}
{\footnotesize\ttfamily bool Iwa\+\_\+\+Tile\+Fx\+::check\+If\+This\+Tile\+Should\+Be\+Compted\+Or\+Not (\begin{DoxyParamCaption}\item[{int}]{horiz\+Index,  }\item[{int}]{vert\+Index }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00249                                                                     \{}
\DoxyCodeLine{00250   \textcolor{keywordtype}{int} leftQuantity   = m\_leftQuantity-\/>getValue();}
\DoxyCodeLine{00251   \textcolor{keywordtype}{int} rightQuantity  = m\_rightQuantity-\/>getValue();}
\DoxyCodeLine{00252   \textcolor{keywordtype}{int} topQuantity    = m\_topQuantity-\/>getValue();}
\DoxyCodeLine{00253   \textcolor{keywordtype}{int} bottomQuantity = m\_bottomQuantity-\/>getValue();}
\DoxyCodeLine{00254 }
\DoxyCodeLine{00255   \textcolor{keywordtype}{bool} horizInRange, vertInRange;}
\DoxyCodeLine{00256 }
\DoxyCodeLine{00257   \textcolor{keywordflow}{if} (horizIndex == 0)}
\DoxyCodeLine{00258     horizInRange = \textcolor{keyword}{true};}
\DoxyCodeLine{00259   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (horizIndex < 0)}
\DoxyCodeLine{00260     horizInRange = isInRange(leftQuantity, horizIndex);}
\DoxyCodeLine{00261   \textcolor{keywordflow}{else}  \textcolor{comment}{// horizIndex > 0}}
\DoxyCodeLine{00262     horizInRange = isInRange(rightQuantity, horizIndex);}
\DoxyCodeLine{00263 }
\DoxyCodeLine{00264   \textcolor{keywordflow}{if} (vertIndex == 0)}
\DoxyCodeLine{00265     vertInRange = \textcolor{keyword}{true};}
\DoxyCodeLine{00266   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (vertIndex < 0)}
\DoxyCodeLine{00267     vertInRange = isInRange(bottomQuantity, vertIndex);}
\DoxyCodeLine{00268   \textcolor{keywordflow}{else}  \textcolor{comment}{// horizIndex > 0}}
\DoxyCodeLine{00269     vertInRange = isInRange(topQuantity, vertIndex);}
\DoxyCodeLine{00270 }
\DoxyCodeLine{00271   \textcolor{keywordflow}{return} horizInRange \& vertInRange;}
\DoxyCodeLine{00272 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___tile_fx_afd0ac0c81bf921e080162fb024f30bff}\label{class_iwa___tile_fx_afd0ac0c81bf921e080162fb024f30bff}} 
\index{Iwa\_TileFx@{Iwa\_TileFx}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!Iwa\_TileFx@{Iwa\_TileFx}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void Iwa\+\_\+\+Tile\+Fx\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{ri }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00178                                                       \{}
\DoxyCodeLine{00179   \textcolor{keywordflow}{if} (!m\_input.isConnected()) \{}
\DoxyCodeLine{00180     tile.getRaster()-\/>clear();}
\DoxyCodeLine{00181     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00182   \}}
\DoxyCodeLine{00183   \mbox{\hyperlink{class_t_rect_t}{TRectD}} inputBox;}
\DoxyCodeLine{00184 }
\DoxyCodeLine{00185   \textcolor{keywordtype}{int} inputSizeMode =}
\DoxyCodeLine{00186       m\_inputSizeMode}
\DoxyCodeLine{00187           -\/>getValue();  \textcolor{comment}{// eBoundingBox = 1, eCameraBox = 2, eImageSize = 3}}
\DoxyCodeLine{00188   \textcolor{keywordflow}{if} (inputSizeMode == eBoundingBox)}
\DoxyCodeLine{00189     m\_input-\/>getBBox(frame, inputBox, ri);}
\DoxyCodeLine{00190   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inputSizeMode == eCameraBox) \{}
\DoxyCodeLine{00191     \mbox{\hyperlink{class_t_point_t}{TPointD}} offset = tile.m\_pos + tile.getRaster()-\/>getCenterD();}
\DoxyCodeLine{00192 }
\DoxyCodeLine{00193     inputBox = \mbox{\hyperlink{class_t_rect_t}{TRectD}}(}
\DoxyCodeLine{00194         \mbox{\hyperlink{class_t_point_t}{TPointD}}(ri.m\_cameraBox.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} + offset.x, ri.m\_cameraBox.y0 + offset.y),}
\DoxyCodeLine{00195         \mbox{\hyperlink{class_t_dimension_t}{TDimensionD}}(ri.m\_cameraBox.getLx(), ri.m\_cameraBox.getLy()));}
\DoxyCodeLine{00196   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (inputSizeMode == eImageSize) \{}
\DoxyCodeLine{00197     \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} riAux(ri);}
\DoxyCodeLine{00198     \textcolor{comment}{// set a tentative flag to obtain full image size. (see}}
\DoxyCodeLine{00199     \textcolor{comment}{// TLevelColumnFx::doGetBBox)}}
\DoxyCodeLine{00200     riAux.m\_getFullSizeBBox = \textcolor{keyword}{true};}
\DoxyCodeLine{00201     m\_input-\/>getBBox(frame, inputBox, riAux);}
\DoxyCodeLine{00202   \}}
\DoxyCodeLine{00203 }
\DoxyCodeLine{00204   \textcolor{keywordtype}{double} scale = sqrt(fabs(ri.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}}.det()));}
\DoxyCodeLine{00205   \textcolor{keywordtype}{int} hmargin  = m\_hmargin-\/>getValue(frame) * scale;}
\DoxyCodeLine{00206   \textcolor{keywordtype}{int} vmargin  = m\_vmargin-\/>getValue(frame) * scale;}
\DoxyCodeLine{00207   inputBox     = inputBox.enlarge(hmargin, vmargin);}
\DoxyCodeLine{00208 }
\DoxyCodeLine{00209   \textcolor{keywordflow}{if} (inputBox.\mbox{\hyperlink{class_t_rect_t_a53ce09c6112f8a019b43ad82d721a93b}{isEmpty}}()) \{}
\DoxyCodeLine{00210     tile.getRaster()-\/>clear();}
\DoxyCodeLine{00211     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00212   \}}
\DoxyCodeLine{00213   \textcolor{keywordflow}{if} (inputBox == TConsts::infiniteRectD) \{}
\DoxyCodeLine{00214     m\_input-\/>compute(tile, frame, ri);}
\DoxyCodeLine{00215     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00216   \}}
\DoxyCodeLine{00217 }
\DoxyCodeLine{00218   \mbox{\hyperlink{class_t_dimension_t}{TDimension}} size(0, 0);}
\DoxyCodeLine{00219   size.lx = tceil(inputBox.getLx());}
\DoxyCodeLine{00220   size.ly = tceil(inputBox.getLy());}
\DoxyCodeLine{00221   \mbox{\hyperlink{class_t_tile}{TTile}} inputTile;}
\DoxyCodeLine{00222   m\_input-\/>allocateAndCompute(inputTile, inputBox.getP00(), size,}
\DoxyCodeLine{00223                               tile.getRaster(), frame, ri);}
\DoxyCodeLine{00224   makeTile(inputTile, tile);}
\DoxyCodeLine{00225 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___tile_fx_a7ba30d07c113bb9038dd9341f2f18458}\label{class_iwa___tile_fx_a7ba30d07c113bb9038dd9341f2f18458}} 
\index{Iwa\_TileFx@{Iwa\_TileFx}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!Iwa\_TileFx@{Iwa\_TileFx}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool Iwa\+\_\+\+Tile\+Fx\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00120                                                         \{}
\DoxyCodeLine{00121   \textcolor{keywordflow}{if} (m\_input.isConnected()) \{}
\DoxyCodeLine{00122     bBox = TConsts::infiniteRectD;}
\DoxyCodeLine{00123     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00124   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00125     bBox = \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{00126     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00127   \}}
\DoxyCodeLine{00128 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___tile_fx_a92a41f2289a8e27313e0646d8889bf22}\label{class_iwa___tile_fx_a92a41f2289a8e27313e0646d8889bf22}} 
\index{Iwa\_TileFx@{Iwa\_TileFx}!getInvalidRect@{getInvalidRect}}
\index{getInvalidRect@{getInvalidRect}!Iwa\_TileFx@{Iwa\_TileFx}}
\doxysubsubsection{\texorpdfstring{getInvalidRect()}{getInvalidRect()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRect}} Iwa\+\_\+\+Tile\+Fx\+::get\+Invalid\+Rect (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRect}} \&}]{max }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00039 \{ \textcolor{keywordflow}{return} max; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___tile_fx_a87b38a301bb74db280e6bca6e161a7d8}\label{class_iwa___tile_fx_a87b38a301bb74db280e6bca6e161a7d8}} 
\index{Iwa\_TileFx@{Iwa\_TileFx}!getMemoryRequirement@{getMemoryRequirement}}
\index{getMemoryRequirement@{getMemoryRequirement}!Iwa\_TileFx@{Iwa\_TileFx}}
\doxysubsubsection{\texorpdfstring{getMemoryRequirement()}{getMemoryRequirement()}}
{\footnotesize\ttfamily int Iwa\+\_\+\+Tile\+Fx\+::get\+Memory\+Requirement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Specifies the approximate size (in Mega\+Bytes) of the maximum allocation instance that this fx will need to perform in order to render the passed input. This method should be reimplemented in order to make the Toonz rendering process aware of the use of big raster memory chunks, at least. Observe that the passed tile geometry is implicitly {\itshape  already allocated \texorpdfstring{$<$}{<}\textbackslash{}i\texorpdfstring{$>$}{>} for the fx output. ~\newline
The default implementation returns 0, assuming that the passed implicit memory size is passed below in node computation without further allocation of resources. Fxs can reimplement this to -\/1 to explicitly disable the Toonz\textquotesingle{}s smart memory handling. ~\newline
 ~\newline
\begin{DoxyNote}{Note}
The rendering process ensures that the passed render settings are {\itshape handled} by the fx before this function is invoked -\/ do not waste code for it. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRaster\+Fx\+::memory\+Size}} and TRaster\+Fx\+::can\+Handle methods. 
\end{DoxySeeAlso}
}

Reimplemented from \mbox{\hyperlink{class_t_raster_fx_af8eb991c9756f4fb2e48d9f96cbacfba}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00163                                                                   \{}
\DoxyCodeLine{00164   \mbox{\hyperlink{class_t_rect_t}{TRectD}} inputBox;}
\DoxyCodeLine{00165   m\_input-\/>getBBox(frame, inputBox, info);}
\DoxyCodeLine{00166 }
\DoxyCodeLine{00167   \textcolor{keywordtype}{double} scale = sqrt(fabs(info.m\_affine.det()));}
\DoxyCodeLine{00168   \textcolor{keywordtype}{int} hmargin  = m\_hmargin-\/>getValue(frame) * scale;}
\DoxyCodeLine{00169   \textcolor{keywordtype}{int} vmargin  = m\_vmargin-\/>getValue(frame) * scale;}
\DoxyCodeLine{00170   inputBox     = inputBox.enlarge(hmargin, vmargin);}
\DoxyCodeLine{00171 }
\DoxyCodeLine{00172   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRasterFx::memorySize}}(inputBox, info.m\_bpp);}
\DoxyCodeLine{00173 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00560}{TRaster\+Fx\+::memory\+Size()}}.

\mbox{\Hypertarget{class_iwa___tile_fx_a561610c5b4a8c856f1d966bbc39173ca}\label{class_iwa___tile_fx_a561610c5b4a8c856f1d966bbc39173ca}} 
\index{Iwa\_TileFx@{Iwa\_TileFx}!isInRange@{isInRange}}
\index{isInRange@{isInRange}!Iwa\_TileFx@{Iwa\_TileFx}}
\doxysubsubsection{\texorpdfstring{isInRange()}{isInRange()}}
{\footnotesize\ttfamily bool Iwa\+\_\+\+Tile\+Fx\+::is\+In\+Range (\begin{DoxyParamCaption}\item[{int}]{quantity\+Mode,  }\item[{int}]{index }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00229                                                       \{}
\DoxyCodeLine{00230   \textcolor{keywordflow}{switch} (quantityMode) \{}
\DoxyCodeLine{00231   \textcolor{keywordflow}{case} eNoTile:}
\DoxyCodeLine{00232     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00233     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00234   \textcolor{keywordflow}{case} eOneTile:}
\DoxyCodeLine{00235     \textcolor{keywordflow}{return} (abs(index) < 2);}
\DoxyCodeLine{00236     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00237   \textcolor{keywordflow}{case} eMultipleTiles:}
\DoxyCodeLine{00238     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00239     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00240   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00241     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00242     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00243   \}}
\DoxyCodeLine{00244 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___tile_fx_a5acbadc79dc579dbb75b2cf546d47a0d}\label{class_iwa___tile_fx_a5acbadc79dc579dbb75b2cf546d47a0d}} 
\index{Iwa\_TileFx@{Iwa\_TileFx}!transform@{transform}}
\index{transform@{transform}!Iwa\_TileFx@{Iwa\_TileFx}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}}
{\footnotesize\ttfamily void Iwa\+\_\+\+Tile\+Fx\+::transform (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{int}]{port,  }\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Output,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Output,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Input,  }\item[{\mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00134                                                                               \{}
\DoxyCodeLine{00135   infoOnInput = infoOnOutput;}
\DoxyCodeLine{00136 }
\DoxyCodeLine{00137   \mbox{\hyperlink{class_t_rect_t}{TRectD}} inputBox;}
\DoxyCodeLine{00138   m\_input-\/>getBBox(frame, inputBox, infoOnOutput);}
\DoxyCodeLine{00139 }
\DoxyCodeLine{00140   \textcolor{keywordtype}{double} scale = sqrt(fabs(infoOnOutput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}}.det()));}
\DoxyCodeLine{00141   \textcolor{keywordtype}{int} hmargin  = m\_hmargin-\/>getValue(frame) * scale;}
\DoxyCodeLine{00142   \textcolor{keywordtype}{int} vmargin  = m\_vmargin-\/>getValue(frame) * scale;}
\DoxyCodeLine{00143   inputBox     = inputBox.enlarge(hmargin, vmargin);}
\DoxyCodeLine{00144 }
\DoxyCodeLine{00145   \textcolor{keywordflow}{if} (inputBox.\mbox{\hyperlink{class_t_rect_t_a53ce09c6112f8a019b43ad82d721a93b}{isEmpty}}()) \{}
\DoxyCodeLine{00146     rectOnInput.empty();}
\DoxyCodeLine{00147     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00148   \}}
\DoxyCodeLine{00149   \textcolor{keywordflow}{if} (inputBox == TConsts::infiniteRectD) \{}
\DoxyCodeLine{00150     infoOnInput = infoOnOutput;}
\DoxyCodeLine{00151     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00152   \}}
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154   \mbox{\hyperlink{class_t_dimension_t}{TDimensionD}} size(0, 0);}
\DoxyCodeLine{00155   size.lx     = tceil(inputBox.getLx());}
\DoxyCodeLine{00156   size.ly     = tceil(inputBox.getLy());}
\DoxyCodeLine{00157   rectOnInput = \mbox{\hyperlink{class_t_rect_t}{TRectD}}(inputBox.getP00(), size);}
\DoxyCodeLine{00158 \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/stdfx/iwa\+\_\+tilefx.\+cpp\end{DoxyCompactItemize}
