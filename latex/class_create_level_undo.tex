\hypertarget{class_create_level_undo}{}\doxysection{Create\+Level\+Undo Class Reference}
\label{class_create_level_undo}\index{CreateLevelUndo@{CreateLevelUndo}}
Inheritance diagram for Create\+Level\+Undo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_create_level_undo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_create_level_undo_a085b8add818a6a6a3fae73f23224a541}{Create\+Level\+Undo}} (int row, int column, int frame\+Count, int step, bool are\+Columns\+Shifted, bool keep\+Level=false)
\item 
void \mbox{\hyperlink{class_create_level_undo_adce04ca995faca5ac9ede7eef786e47d}{on\+Add}} (\mbox{\hyperlink{class_t_smart_pointer_t}{TXsh\+Simple\+LevelP}} sl)
\item 
void \mbox{\hyperlink{class_create_level_undo_a47c0a9b7a6a8e4154bdcef32ea7031f3}{undo}} () const override
\item 
void \mbox{\hyperlink{class_create_level_undo_ae9580d20ae50664c7b33071198b60243}{redo}} () const override
\item 
int \mbox{\hyperlink{class_create_level_undo_af3597710a3392791b6b3da0431692669}{get\+Size}} () const override
\item 
QString \mbox{\hyperlink{class_create_level_undo_a90f2b3052bfeff5810d387bcf977f408}{get\+History\+String}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_create_level_undo_a085b8add818a6a6a3fae73f23224a541}\label{class_create_level_undo_a085b8add818a6a6a3fae73f23224a541}} 
\index{CreateLevelUndo@{CreateLevelUndo}!CreateLevelUndo@{CreateLevelUndo}}
\index{CreateLevelUndo@{CreateLevelUndo}!CreateLevelUndo@{CreateLevelUndo}}
\doxysubsubsection{\texorpdfstring{CreateLevelUndo()}{CreateLevelUndo()}}
{\footnotesize\ttfamily Create\+Level\+Undo\+::\+Create\+Level\+Undo (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{int}]{column,  }\item[{int}]{frame\+Count,  }\item[{int}]{step,  }\item[{bool}]{are\+Columns\+Shifted,  }\item[{bool}]{keep\+Level = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{03231       : m\_rowIndex(row)}
\DoxyCodeLine{03232       , m\_columnIndex(column)}
\DoxyCodeLine{03233       , m\_frameCount(frameCount)}
\DoxyCodeLine{03234       , m\_step(step)}
\DoxyCodeLine{03235       , m\_sl(0)}
\DoxyCodeLine{03236       , m\_keepLevel(keepLevel)}
\DoxyCodeLine{03237       , m\_areColumnsShifted(areColumnsShifted) \{}
\DoxyCodeLine{03238     \mbox{\hyperlink{class_t_app}{TApp}} *app         = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{03239     \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{03240     m\_oldLevelCount   = scene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}()-\/>getLevelCount();}
\DoxyCodeLine{03241   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_create_level_undo_a544ae3ee171079e8409a38c1e370cd4a}\label{class_create_level_undo_a544ae3ee171079e8409a38c1e370cd4a}} 
\index{CreateLevelUndo@{CreateLevelUndo}!````~CreateLevelUndo@{$\sim$CreateLevelUndo}}
\index{````~CreateLevelUndo@{$\sim$CreateLevelUndo}!CreateLevelUndo@{CreateLevelUndo}}
\doxysubsubsection{\texorpdfstring{$\sim$CreateLevelUndo()}{~CreateLevelUndo()}}
{\footnotesize\ttfamily Create\+Level\+Undo\+::$\sim$\+Create\+Level\+Undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{03242 \{ m\_sl = 0; \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_create_level_undo_a90f2b3052bfeff5810d387bcf977f408}\label{class_create_level_undo_a90f2b3052bfeff5810d387bcf977f408}} 
\index{CreateLevelUndo@{CreateLevelUndo}!getHistoryString@{getHistoryString}}
\index{getHistoryString@{getHistoryString}!CreateLevelUndo@{CreateLevelUndo}}
\doxysubsubsection{\texorpdfstring{getHistoryString()}{getHistoryString()}}
{\footnotesize\ttfamily QString Create\+Level\+Undo\+::get\+History\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{03295                                       \{}
\DoxyCodeLine{03296     \textcolor{keywordflow}{return} QObject::tr(\textcolor{stringliteral}{"{}Create Level \%1  at Column \%2"{}})}
\DoxyCodeLine{03297         .arg(QString::fromStdWString(m\_sl-\/>\mbox{\hyperlink{class_t_xsh_level_a3a59fb1bd3261baee4e889a9edbf0ae8}{getName}}()))}
\DoxyCodeLine{03298         .arg(QString::number(m\_columnIndex + 1));}
\DoxyCodeLine{03299   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_create_level_undo_af3597710a3392791b6b3da0431692669}\label{class_create_level_undo_af3597710a3392791b6b3da0431692669}} 
\index{CreateLevelUndo@{CreateLevelUndo}!getSize@{getSize}}
\index{getSize@{getSize}!CreateLevelUndo@{CreateLevelUndo}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Create\+Level\+Undo\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{03294 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof} *\textcolor{keyword}{this}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_create_level_undo_adce04ca995faca5ac9ede7eef786e47d}\label{class_create_level_undo_adce04ca995faca5ac9ede7eef786e47d}} 
\index{CreateLevelUndo@{CreateLevelUndo}!onAdd@{onAdd}}
\index{onAdd@{onAdd}!CreateLevelUndo@{CreateLevelUndo}}
\doxysubsubsection{\texorpdfstring{onAdd()}{onAdd()}}
{\footnotesize\ttfamily void Create\+Level\+Undo\+::on\+Add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TXsh\+Simple\+LevelP}}}]{sl }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{03244 \{ m\_sl = sl; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_create_level_undo_ae9580d20ae50664c7b33071198b60243}\label{class_create_level_undo_ae9580d20ae50664c7b33071198b60243}} 
\index{CreateLevelUndo@{CreateLevelUndo}!redo@{redo}}
\index{redo@{redo}!CreateLevelUndo@{CreateLevelUndo}}
\doxysubsubsection{\texorpdfstring{redo()}{redo()}}
{\footnotesize\ttfamily void Create\+Level\+Undo\+::redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{03270                              \{}
\DoxyCodeLine{03271     \textcolor{keywordflow}{if} (!m\_sl.getPointer()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{03272     \mbox{\hyperlink{class_t_app}{TApp}} *app         = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{03273     \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{03274     scene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}()-\/>insertLevel(m\_sl.getPointer());}
\DoxyCodeLine{03275     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}();}
\DoxyCodeLine{03276     \textcolor{keywordflow}{if} (m\_areColumnsShifted) xsh-\/>\mbox{\hyperlink{class_t_xsheet_a5ea42662e27e52ef36ce77b4a5d8e06c}{insertColumn}}(m\_columnIndex);}
\DoxyCodeLine{03277     std::vector<TFrameId> fids;}
\DoxyCodeLine{03278     m\_sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a567daee4ca12a0e92445bcf98a6541f1}{getFids}}(fids);}
\DoxyCodeLine{03279     \textcolor{keywordtype}{int} i = m\_rowIndex;}
\DoxyCodeLine{03280     \textcolor{keywordtype}{int} f = 0;}
\DoxyCodeLine{03281     \textcolor{keywordflow}{while} (i < m\_frameCount + m\_rowIndex) \{}
\DoxyCodeLine{03282       \mbox{\hyperlink{class_t_frame_id}{TFrameId}} fid = (fids.size() != 0) ? fids[f] : i;}
\DoxyCodeLine{03283       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell(m\_sl.getPointer(), fid);}
\DoxyCodeLine{03284       f++;}
\DoxyCodeLine{03285       xsh-\/>setCell(i, m\_columnIndex, cell);}
\DoxyCodeLine{03286       \textcolor{keywordtype}{int} appo = i++;}
\DoxyCodeLine{03287       \textcolor{keywordflow}{while} (i < m\_step + appo) xsh-\/>setCell(i++, m\_columnIndex, cell);}
\DoxyCodeLine{03288     \}}
\DoxyCodeLine{03289     app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifySceneChanged();}
\DoxyCodeLine{03290     app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifyCastChange();}
\DoxyCodeLine{03291     app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{03292   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_create_level_undo_a47c0a9b7a6a8e4154bdcef32ea7031f3}\label{class_create_level_undo_a47c0a9b7a6a8e4154bdcef32ea7031f3}} 
\index{CreateLevelUndo@{CreateLevelUndo}!undo@{undo}}
\index{undo@{undo}!CreateLevelUndo@{CreateLevelUndo}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Create\+Level\+Undo\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{03246                              \{}
\DoxyCodeLine{03247     \mbox{\hyperlink{class_t_app}{TApp}} *app         = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{03248     \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{03249     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh      = scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}();}
\DoxyCodeLine{03250     \textcolor{keywordflow}{if} (m\_areColumnsShifted)}
\DoxyCodeLine{03251       xsh-\/>\mbox{\hyperlink{class_t_xsheet_ace0d4e8b8eb7646b60caf69747b66c0e}{removeColumn}}(m\_columnIndex);}
\DoxyCodeLine{03252     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_frameCount > 0)}
\DoxyCodeLine{03253       xsh-\/>\mbox{\hyperlink{class_t_xsheet_a5eb63e3947f59d2c57c0b0f4b9cad519}{removeCells}}(m\_rowIndex, m\_columnIndex, m\_frameCount);}
\DoxyCodeLine{03254     \textcolor{keywordflow}{if} (!m\_keepLevel) \{}
\DoxyCodeLine{03255       \mbox{\hyperlink{class_t_level_set}{TLevelSet}} *levelSet = scene-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}();}
\DoxyCodeLine{03256       \textcolor{keywordflow}{if} (levelSet) \{}
\DoxyCodeLine{03257         \textcolor{keywordtype}{int} m = levelSet-\/>getLevelCount();}
\DoxyCodeLine{03258         \textcolor{keywordflow}{while} (m > 0 \&\& m > m\_oldLevelCount) \{}
\DoxyCodeLine{03259           -\/-\/m;}
\DoxyCodeLine{03260           \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *level = levelSet-\/>getLevel(m);}
\DoxyCodeLine{03261           \textcolor{keywordflow}{if} (level) levelSet-\/>removeLevel(level);}
\DoxyCodeLine{03262         \}}
\DoxyCodeLine{03263       \}}
\DoxyCodeLine{03264     \}}
\DoxyCodeLine{03265     app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifySceneChanged();}
\DoxyCodeLine{03266     app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifyCastChange();}
\DoxyCodeLine{03267     app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{03268   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/cellselection.\+cpp\end{DoxyCompactItemize}
