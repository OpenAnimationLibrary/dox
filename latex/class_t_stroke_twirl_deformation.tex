\hypertarget{class_t_stroke_twirl_deformation}{}\doxysection{TStroke\+Twirl\+Deformation Class Reference}
\label{class_t_stroke_twirl_deformation}\index{TStrokeTwirlDeformation@{TStrokeTwirlDeformation}}


{\ttfamily \#include $<$tstrokedeformations.\+h$>$}

Inheritance diagram for TStroke\+Twirl\+Deformation\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_t_stroke_twirl_deformation}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_stroke_twirl_deformation_a14a661e655b2abe27cd758f8428c8212}{TStroke\+Twirl\+Deformation}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&center, double radius)
\item 
\mbox{\hyperlink{class_t_stroke_twirl_deformation_a009e68b87b11e6c88076e76fee49f491}{TStroke\+Twirl\+Deformation}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&center, double radius, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&v)
\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_t_stroke_twirl_deformation_a6e368744c99084fdd2e98565cf81e712}{get\+Displacement}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&, double s) const override
\item 
double \mbox{\hyperlink{class_t_stroke_twirl_deformation_a99b7bb01eaa155dde7870854ff646d4e}{get\+Delta}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&, double) const override
\item 
double \mbox{\hyperlink{class_t_stroke_twirl_deformation_ab8b987d75a9a4df5f3ecab248ddd7401}{get\+Max\+Diff}} () const override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manage wirling of a stroke. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_stroke_twirl_deformation_a14a661e655b2abe27cd758f8428c8212}\label{class_t_stroke_twirl_deformation_a14a661e655b2abe27cd758f8428c8212}} 
\index{TStrokeTwirlDeformation@{TStrokeTwirlDeformation}!TStrokeTwirlDeformation@{TStrokeTwirlDeformation}}
\index{TStrokeTwirlDeformation@{TStrokeTwirlDeformation}!TStrokeTwirlDeformation@{TStrokeTwirlDeformation}}
\doxysubsubsection{\texorpdfstring{TStrokeTwirlDeformation()}{TStrokeTwirlDeformation()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily TStroke\+Twirl\+Deformation\+::\+TStroke\+Twirl\+Deformation (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{center,  }\item[{double}]{radius }\end{DoxyParamCaption})}

Use this constructor with increase\+Points. seg is the segment used to compute intersection . 
\begin{DoxyCode}{0}
\DoxyCodeLine{00525     : m\_center(center)}
\DoxyCodeLine{00526     , m\_innerRadius2(sq(radius))}
\DoxyCodeLine{00527     , m\_vectorOfMovement(\mbox{\hyperlink{class_t_point_t}{TPointD}}()) \{}
\DoxyCodeLine{00528   m\_outerRadius = 1.25 * radius;}
\DoxyCodeLine{00529 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_twirl_deformation_a009e68b87b11e6c88076e76fee49f491}\label{class_t_stroke_twirl_deformation_a009e68b87b11e6c88076e76fee49f491}} 
\index{TStrokeTwirlDeformation@{TStrokeTwirlDeformation}!TStrokeTwirlDeformation@{TStrokeTwirlDeformation}}
\index{TStrokeTwirlDeformation@{TStrokeTwirlDeformation}!TStrokeTwirlDeformation@{TStrokeTwirlDeformation}}
\doxysubsubsection{\texorpdfstring{TStrokeTwirlDeformation()}{TStrokeTwirlDeformation()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily TStroke\+Twirl\+Deformation\+::\+TStroke\+Twirl\+Deformation (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{center,  }\item[{double}]{radius,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{v }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00536     : m\_center(center), m\_innerRadius2(sq(radius)), m\_vectorOfMovement(v) \{}
\DoxyCodeLine{00537   m\_outerRadius = 1.25 * radius;}
\DoxyCodeLine{00538 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_twirl_deformation_a14c8bfa0669570007f087d4eed30019c}\label{class_t_stroke_twirl_deformation_a14c8bfa0669570007f087d4eed30019c}} 
\index{TStrokeTwirlDeformation@{TStrokeTwirlDeformation}!````~TStrokeTwirlDeformation@{$\sim$TStrokeTwirlDeformation}}
\index{````~TStrokeTwirlDeformation@{$\sim$TStrokeTwirlDeformation}!TStrokeTwirlDeformation@{TStrokeTwirlDeformation}}
\doxysubsubsection{\texorpdfstring{$\sim$TStrokeTwirlDeformation()}{~TStrokeTwirlDeformation()}}
{\footnotesize\ttfamily TStroke\+Twirl\+Deformation\+::$\sim$\+TStroke\+Twirl\+Deformation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00542 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_stroke_twirl_deformation_a99b7bb01eaa155dde7870854ff646d4e}\label{class_t_stroke_twirl_deformation_a99b7bb01eaa155dde7870854ff646d4e}} 
\index{TStrokeTwirlDeformation@{TStrokeTwirlDeformation}!getDelta@{getDelta}}
\index{getDelta@{getDelta}!TStrokeTwirlDeformation@{TStrokeTwirlDeformation}}
\doxysubsubsection{\texorpdfstring{getDelta()}{getDelta()}}
{\footnotesize\ttfamily double TStroke\+Twirl\+Deformation\+::get\+Delta (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke,  }\item[{double}]{w }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

$\vert$ d \mbox{\hyperlink{class_t_stroke_twirl_deformation_a6e368744c99084fdd2e98565cf81e712}{get\+Displacement()}} / dw $\vert$ \begin{DoxyParagraph}{stroke to test}

\end{DoxyParagraph}
\begin{DoxyParagraph}{w stroke parameter}
\textbackslash{}ret $\vert$ d \mbox{\hyperlink{class_t_stroke_twirl_deformation_a6e368744c99084fdd2e98565cf81e712}{get\+Displacement()}} / dw $\vert$ 
\end{DoxyParagraph}


Implements \mbox{\hyperlink{class_t_stroke_deformation_a7b9fd2eadfddc3e599222d8cdd21533d}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00562                                                          \{}
\DoxyCodeLine{00563   \textcolor{comment}{/*}}
\DoxyCodeLine{00564 \textcolor{comment}{vector<DoublePair>  vres;}}
\DoxyCodeLine{00565 \textcolor{comment}{}}
\DoxyCodeLine{00566 \textcolor{comment}{if(intersect( stroke, m\_center, m\_outerRadius, vres))}}
\DoxyCodeLine{00567 \textcolor{comment}{\{}}
\DoxyCodeLine{00568 \textcolor{comment}{double totalLength = stroke.getLength();}}
\DoxyCodeLine{00569 \textcolor{comment}{}}
\DoxyCodeLine{00570 \textcolor{comment}{if(totalLength != 0)}}
\DoxyCodeLine{00571 \textcolor{comment}{\{}}
\DoxyCodeLine{00572 \textcolor{comment}{double val =  stroke.getLength(s)/totalLength * (M\_PI * 11.0);}}
\DoxyCodeLine{00573 \textcolor{comment}{}}
\DoxyCodeLine{00574 \textcolor{comment}{return sin(val);}}
\DoxyCodeLine{00575 \textcolor{comment}{\}}}
\DoxyCodeLine{00576 \textcolor{comment}{\}}}
\DoxyCodeLine{00577 \textcolor{comment}{*/}}
\DoxyCodeLine{00578   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00579 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_twirl_deformation_a6e368744c99084fdd2e98565cf81e712}\label{class_t_stroke_twirl_deformation_a6e368744c99084fdd2e98565cf81e712}} 
\index{TStrokeTwirlDeformation@{TStrokeTwirlDeformation}!getDisplacement@{getDisplacement}}
\index{getDisplacement@{getDisplacement}!TStrokeTwirlDeformation@{TStrokeTwirlDeformation}}
\doxysubsubsection{\texorpdfstring{getDisplacement()}{getDisplacement()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} TStroke\+Twirl\+Deformation\+::get\+Displacement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke,  }\item[{double}]{w }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

return displacement to use with function increase\+Control\+Points \begin{DoxyParagraph}{stroke to test}

\end{DoxyParagraph}
\begin{DoxyParagraph}{w stroke parameter}
\textbackslash{}ret displacement to apply to obtain deformation 
\end{DoxyParagraph}
\begin{DoxySeeAlso}{See also}
increase\+Control\+Points 
\end{DoxySeeAlso}


Implements \mbox{\hyperlink{class_t_stroke_deformation_a14016df3f46a20f16313dd725a514d63}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00547                                                                      \{}
\DoxyCodeLine{00548   \textcolor{keywordtype}{double} outVal = 0;}
\DoxyCodeLine{00549 }
\DoxyCodeLine{00550   \textcolor{keywordtype}{double} distance2 =}
\DoxyCodeLine{00551       tdistance2(convert(stroke.\mbox{\hyperlink{class_t_stroke_a03789f25de41b0395e14cc91dc944c38}{getControlPointAtParameter}}(s)), m\_center);}
\DoxyCodeLine{00552 }
\DoxyCodeLine{00553   \textcolor{keywordflow}{if} (distance2 <= m\_innerRadius2)}
\DoxyCodeLine{00554     outVal = wyvillPotential(distance2, m\_innerRadius2);}
\DoxyCodeLine{00555 }
\DoxyCodeLine{00556   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(m\_vectorOfMovement * outVal, 0);}
\DoxyCodeLine{00557 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01384}{TStroke\+::get\+Control\+Point\+At\+Parameter()}}.

\mbox{\Hypertarget{class_t_stroke_twirl_deformation_ab8b987d75a9a4df5f3ecab248ddd7401}\label{class_t_stroke_twirl_deformation_ab8b987d75a9a4df5f3ecab248ddd7401}} 
\index{TStrokeTwirlDeformation@{TStrokeTwirlDeformation}!getMaxDiff@{getMaxDiff}}
\index{getMaxDiff@{getMaxDiff}!TStrokeTwirlDeformation@{TStrokeTwirlDeformation}}
\doxysubsubsection{\texorpdfstring{getMaxDiff()}{getMaxDiff()}}
{\footnotesize\ttfamily double TStroke\+Twirl\+Deformation\+::get\+Max\+Diff (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Max diff of delta (This value indicates when it\textquotesingle{}s necessary to insert control point) \textbackslash{}ret max displacement permitted 

Implements \mbox{\hyperlink{class_t_stroke_deformation_a45f44de3e2a465e262b7a3a8a71a02e6}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00583 \{ \textcolor{keywordflow}{return} 0.4; \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tstrokedeformations.\+h\item 
E\+:/opentoonz/toonz/sources/common/tvrender/tstrokedeformations.\+cpp\end{DoxyCompactItemize}
