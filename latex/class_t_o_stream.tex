\hypertarget{class_t_o_stream}{}\doxysection{TOStream Class Reference}
\label{class_t_o_stream}\index{TOStream@{TOStream}}


Toonz\textquotesingle{}s XML-\/like {\itshape output} file parser.  




{\ttfamily \#include $<$tstream.\+h$>$}

\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_t_o_stream_1_1_imp}{Imp}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_o_stream_a1e170022036d4aef075de69b7e425bf7}{TOStream}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp, bool compressed=false)
\begin{DoxyCompactList}\small\item\em Opens the specified file for write. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream_a7f8e855f951ed264671fe348725cdf94}{$\sim$\+TOStream}} ()
\begin{DoxyCompactList}\small\item\em Closes the file and destroys the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream_a480000ee11a69864e751fb1414db6bc6}{operator bool}} () const
\begin{DoxyCompactList}\small\item\em Returns whether the stream has a valid status. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \& \mbox{\hyperlink{class_t_o_stream_a388ab8b5961fb83169c6f360a77975fd}{operator$<$$<$}} (int v)
\begin{DoxyCompactList}\small\item\em Writes an int to the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \& \mbox{\hyperlink{class_t_o_stream_ac02377227f365f732e7890bf1435ea77}{operator$<$$<$}} (double v)
\begin{DoxyCompactList}\small\item\em Writes a double to the stream. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_o_stream_a4e3f77ce17d97ff92f594476c767d43f}\label{class_t_o_stream_a4e3f77ce17d97ff92f594476c767d43f}} 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \& {\bfseries operator$<$$<$} (std\+::string v)
\begin{DoxyCompactList}\small\item\em Writes a string to the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \& \mbox{\hyperlink{class_t_o_stream_aa0848ffe8561fa7accf991857b92cba8}{operator$<$$<$}} (std\+::wstring v)
\begin{DoxyCompactList}\small\item\em Writes a wstring to the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \& \mbox{\hyperlink{class_t_o_stream_a67ed2e9091ce16c0070aa97045752667}{operator$<$$<$}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&v)
\begin{DoxyCompactList}\small\item\em Writes a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} to the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \& \mbox{\hyperlink{class_t_o_stream_a4b2b0fcdb78e8f8135cd25b63dac1634}{operator$<$$<$}} (const TPixel32 \&v)
\begin{DoxyCompactList}\small\item\em Writes a TPixel32 to the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \& \mbox{\hyperlink{class_t_o_stream_a60d2ca9292455410365a94b2511cbe68}{operator$<$$<$}} (const TPixel64 \&v)
\begin{DoxyCompactList}\small\item\em Writes a TPixel64 to the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \& \mbox{\hyperlink{class_t_o_stream_a254fbb5878695c50281967bee81dc29e}{operator$<$$<$}} (QString v)
\begin{DoxyCompactList}\small\item\em Writes a QString to the stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \& \mbox{\hyperlink{class_t_o_stream_a479043e1d76944895fe8c40507058185}{operator$<$$<$}} (\mbox{\hyperlink{class_t_persist}{TPersist}} $\ast$v)
\begin{DoxyCompactList}\small\item\em deprecated Use \mbox{\hyperlink{class_t_o_stream_a87d13b892a2ecd7f5b6355364e4f0738}{operator$<$$<$(\+TPersist\&)}} instead. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \& \mbox{\hyperlink{class_t_o_stream_a87d13b892a2ecd7f5b6355364e4f0738}{operator$<$$<$}} (\mbox{\hyperlink{class_t_persist}{TPersist}} \&v)
\item 
\mbox{\hyperlink{class_t_o_stream}{TOStream}} \mbox{\hyperlink{class_t_o_stream_a9cd1359e6b21d85786708c7e680756d1}{child}} (std\+::string tag\+Name)
\begin{DoxyCompactList}\small\item\em to the reimplemented \mbox{\hyperlink{class_t_persist_afb991f7b26f14dbee1740ef036ff4e85}{TPersist\+::save\+Data}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{open\+Child}} (std\+::string tag\+Name)
\item 
\mbox{\Hypertarget{class_t_o_stream_a1f4b52b435b6148af8944e361c310e10}\label{class_t_o_stream_a1f4b52b435b6148af8944e361c310e10}} 
void {\bfseries open\+Child} (std\+::string tag\+Name, const std\+::map$<$ std\+::string, std\+::string $>$ \&attributes)
\begin{DoxyCompactList}\small\item\em Writes a \texorpdfstring{$<$}{<}tag\+Name attribute1=\char`\"{}value1\char`\"{} ..\texorpdfstring{$>$}{>} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_o_stream_a4568ce0cc2ace90c334f96eddcd11f17}{open\+Close\+Child}} (std\+::string tag\+Name, const std\+::map$<$ std\+::string, std\+::string $>$ \&attributes)
\begin{DoxyCompactList}\small\item\em to the stream, opening a tag with embedded attributes. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}{close\+Child}} ()
\item 
void \mbox{\hyperlink{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}{cr}} ()
\begin{DoxyCompactList}\small\item\em Writes carriage return to the stream. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_o_stream_a34ce5e80b619f96f233953cef4c129b5}{tab}} (int dt)
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_o_stream_a362cf5d050afa8629b1feedc267d6404}{get\+File\+Path}} ()
\item 
\mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \mbox{\hyperlink{class_t_o_stream_a95da4246a0ecd4b91ed3fd3bbd8ac513}{get\+Repository\+Path}} ()
\item 
bool \mbox{\hyperlink{class_t_o_stream_a45fabe179794459a63187b44ca6f79d3}{check\+Status}} () const
\begin{DoxyCompactList}\small\item\em {\bfseries{Flushes}} the stream and checks its validity. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{class_t_o_stream_a78e22f2430fbb277c5b3f825a45c7291}{get\+Current\+Tag\+Name}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Toonz\textquotesingle{}s XML-\/like {\itshape output} file parser. 

This class is Toonz\textquotesingle{}s standard {\itshape output} parser for simple XML files. It is specifically designed to interact with object types derived from the \mbox{\hyperlink{class_t_persist}{TPersist}} base class. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_o_stream_a1e170022036d4aef075de69b7e425bf7}\label{class_t_o_stream_a1e170022036d4aef075de69b7e425bf7}} 
\index{TOStream@{TOStream}!TOStream@{TOStream}}
\index{TOStream@{TOStream}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{TOStream()}{TOStream()}}
{\footnotesize\ttfamily TOStream\+::\+TOStream (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp,  }\item[{bool}]{compressed = {\ttfamily false} }\end{DoxyParamCaption})}



Opens the specified file for write. 


\begin{DoxyParams}{Parameters}
{\em fp} & Output file path \\
\hline
{\em compressed} & Enables compression of the whole file\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Stream construction {\itshape  does not throw }. However, the stream status could be invalid. Remember to check the stream validity using operator bool().
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
Stream compression has been verified to be unsafe. Please consider it {\itshape deprecated}. 
\end{DoxyWarning}

\begin{DoxyCode}{0}
\DoxyCodeLine{00225                                                        : m\_imp(\textcolor{keyword}{new} Imp) \{}
\DoxyCodeLine{00226   m\_imp-\/>m\_filepath = fp;}
\DoxyCodeLine{00227 }
\DoxyCodeLine{00228   \textcolor{keywordflow}{if} (compressed) \{}
\DoxyCodeLine{00229     m\_imp-\/>m\_os         = \&m\_imp-\/>m\_ostringstream;}
\DoxyCodeLine{00230     m\_imp-\/>m\_compressed = \textcolor{keyword}{true};}
\DoxyCodeLine{00231     m\_imp-\/>m\_chanOwner  = \textcolor{keyword}{false};}
\DoxyCodeLine{00232   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00233     std::unique\_ptr<Tofstream> os(\textcolor{keyword}{new} \mbox{\hyperlink{class_tofstream}{Tofstream}}(fp));}
\DoxyCodeLine{00234     m\_imp-\/>m\_os        = os-\/>isOpen() ? os.release() : 0;}
\DoxyCodeLine{00235     m\_imp-\/>m\_chanOwner = \textcolor{keyword}{true};}
\DoxyCodeLine{00236   \}}
\DoxyCodeLine{00237 }
\DoxyCodeLine{00238   m\_imp-\/>m\_justStarted = \textcolor{keyword}{true};}
\DoxyCodeLine{00239 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_o_stream_a7f8e855f951ed264671fe348725cdf94}\label{class_t_o_stream_a7f8e855f951ed264671fe348725cdf94}} 
\index{TOStream@{TOStream}!````~TOStream@{$\sim$TOStream}}
\index{````~TOStream@{$\sim$TOStream}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{$\sim$TOStream()}{~TOStream()}}
{\footnotesize\ttfamily TOStream\+::$\sim$\+TOStream (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Closes the file and destroys the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00264                     \{}
\DoxyCodeLine{00265   \textcolor{keywordflow}{if} (!m\_imp) \{}
\DoxyCodeLine{00266     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00267   \}}
\DoxyCodeLine{00268   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00269     \textcolor{keywordflow}{if} (!m\_imp-\/>m\_tagStack.empty()) \{}
\DoxyCodeLine{00270       \textcolor{keywordtype}{string} tagName = m\_imp-\/>m\_tagStack.back();}
\DoxyCodeLine{00271       m\_imp-\/>m\_tagStack.pop\_back();}
\DoxyCodeLine{00272       assert(tagName != \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00273       ostream \&os = *m\_imp-\/>m\_os;}
\DoxyCodeLine{00274       m\_imp-\/>m\_tab-\/-\/;}
\DoxyCodeLine{00275       \textcolor{keywordflow}{if} (!m\_imp-\/>m\_justStarted) \mbox{\hyperlink{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}{cr}}();}
\DoxyCodeLine{00276       os << \textcolor{stringliteral}{"{}</"{}} << tagName << \textcolor{stringliteral}{"{}>"{}};}
\DoxyCodeLine{00277       \mbox{\hyperlink{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}{cr}}();}
\DoxyCodeLine{00278       m\_imp-\/>m\_justStarted = \textcolor{keyword}{true};}
\DoxyCodeLine{00279     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00280       \textcolor{keywordflow}{if} (m\_imp-\/>m\_compressed) \{}
\DoxyCodeLine{00281         std::string tmp = m\_imp-\/>m\_ostringstream.str();}
\DoxyCodeLine{00282         \textcolor{keyword}{const} \textcolor{keywordtype}{void} *in  = (\textcolor{keyword}{const} \textcolor{keywordtype}{void} *)tmp.c\_str();}
\DoxyCodeLine{00283 }
\DoxyCodeLine{00284         \textcolor{keywordtype}{size\_t} in\_len = strlen((\textcolor{keywordtype}{char} *)in);}
\DoxyCodeLine{00285 }
\DoxyCodeLine{00286         \textcolor{keywordtype}{size\_t} out\_len = LZ4F\_compressFrameBound(in\_len, NULL);}
\DoxyCodeLine{00287         \textcolor{keywordtype}{void} *out      = malloc(out\_len);}
\DoxyCodeLine{00288 }
\DoxyCodeLine{00289         out\_len = LZ4F\_compressFrame(out, out\_len, in, in\_len, NULL);}
\DoxyCodeLine{00290         \textcolor{keywordflow}{if} (!LZ4F\_isError(out\_len)) \{}
\DoxyCodeLine{00291           \mbox{\hyperlink{class_tofstream}{Tofstream}} os(m\_imp-\/>m\_filepath);}
\DoxyCodeLine{00292           \textcolor{comment}{// TNZC <lunghezza dati decompress> <lunghezza dati compresso> <dati}}
\DoxyCodeLine{00293           \textcolor{comment}{// compressi>}}
\DoxyCodeLine{00294           os.write(\textcolor{stringliteral}{"{}TABc"{}}, 4);}
\DoxyCodeLine{00295           TINT32 v;}
\DoxyCodeLine{00296           v = 0x0A0B0C0D;}
\DoxyCodeLine{00297           os.write((\textcolor{keywordtype}{char} *)\&v, \textcolor{keyword}{sizeof} v);}
\DoxyCodeLine{00298           v = in\_len;}
\DoxyCodeLine{00299           os.write((\textcolor{keywordtype}{char} *)\&v, \textcolor{keyword}{sizeof} v);}
\DoxyCodeLine{00300           v = out\_len;}
\DoxyCodeLine{00301           os.write((\textcolor{keywordtype}{char} *)\&v, \textcolor{keyword}{sizeof} v);}
\DoxyCodeLine{00302           os.write((\textcolor{keywordtype}{char} *)out, out\_len);}
\DoxyCodeLine{00303         \}}
\DoxyCodeLine{00304 }
\DoxyCodeLine{00305         free(out);}
\DoxyCodeLine{00306       \}}
\DoxyCodeLine{00307       \textcolor{keywordflow}{if} (m\_imp-\/>m\_chanOwner) \textcolor{keyword}{delete} m\_imp-\/>m\_os;}
\DoxyCodeLine{00308     \}}
\DoxyCodeLine{00309   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00310   \}}
\DoxyCodeLine{00311 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00471}{cr()}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_o_stream_a45fabe179794459a63187b44ca6f79d3}\label{class_t_o_stream_a45fabe179794459a63187b44ca6f79d3}} 
\index{TOStream@{TOStream}!checkStatus@{checkStatus}}
\index{checkStatus@{checkStatus}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{checkStatus()}{checkStatus()}}
{\footnotesize\ttfamily bool TOStream\+::check\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



{\bfseries{Flushes}} the stream and checks its validity. 

\textbackslash{}detail This function is similar to operator bool(), but {\bfseries{flushes}} the stream before checking the status.

\begin{DoxyReturn}{Returns}
Whether the stream is in a good state (no fails in writing to). 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00583                                  \{}
\DoxyCodeLine{00584   \textcolor{keywordflow}{if} (!m\_imp-\/>m\_os) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00585 }
\DoxyCodeLine{00586   m\_imp-\/>m\_os-\/>flush();}
\DoxyCodeLine{00587   \textcolor{keywordflow}{return} m\_imp-\/>m\_os-\/>rdstate() == ios\_base::goodbit;}
\DoxyCodeLine{00588 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01357}{Output\+Settings\+Popup\+::on\+Add\+Preset\+Button\+Pressed()}}, and \mbox{\hyperlink{l00590}{Toonz\+Scene\+::save()}}.

\mbox{\Hypertarget{class_t_o_stream_a9cd1359e6b21d85786708c7e680756d1}\label{class_t_o_stream_a9cd1359e6b21d85786708c7e680756d1}} 
\index{TOStream@{TOStream}!child@{child}}
\index{child@{child}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{child()}{child()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_o_stream}{TOStream}} TOStream\+::child (\begin{DoxyParamCaption}\item[{std\+::string}]{tag\+Name }\end{DoxyParamCaption})}



to the reimplemented \mbox{\hyperlink{class_t_persist_afb991f7b26f14dbee1740ef036ff4e85}{TPersist\+::save\+Data}}. 

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000028}{Deprecated}}]Use open\+Child(string) instead \end{DoxyRefDesc}

\begin{DoxyCode}{0}
\DoxyCodeLine{00482                                        \{}
\DoxyCodeLine{00483   assert(tagName != \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00484   m\_imp-\/>m\_tagStack.push\_back(tagName);}
\DoxyCodeLine{00485   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_o_stream}{TOStream}}(m\_imp);}
\DoxyCodeLine{00486 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01357}{Output\+Settings\+Popup\+::on\+Add\+Preset\+Button\+Pressed()}}, \mbox{\hyperlink{l00590}{Toonz\+Scene\+::save()}}, \mbox{\hyperlink{l00068}{TXsh\+Mesh\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00084}{TXsh\+Palette\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00055}{Plastic\+Skeleton\+Vertex\+::save\+Data()}}, \mbox{\hyperlink{l00432}{Plastic\+Skeleton\+::save\+Data()}}, \mbox{\hyperlink{l00189}{Plastic\+Skeleton\+Vertex\+Deformation\+::save\+Data()}}, \mbox{\hyperlink{l01065}{Plastic\+Skeleton\+Deformation\+::save\+Data()}}, \mbox{\hyperlink{l01190}{TDouble\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00395}{TExternal\+Program\+Fx\+::save\+Data()}}, \mbox{\hyperlink{l00335}{TFarm\+Task\+::save\+Data()}}, \mbox{\hyperlink{l00845}{TFx\+::save\+Data()}}, \mbox{\hyperlink{l00215}{TStage\+Object\+Spline\+::save\+Data()}}, \mbox{\hyperlink{l00059}{TXsh\+Child\+Level\+::save\+Data()}}, \mbox{\hyperlink{l00164}{TXsh\+Level\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00067}{TXsh\+Palette\+Level\+::save\+Data()}}, \mbox{\hyperlink{l01364}{TXsh\+Simple\+Level\+::save\+Data()}}, \mbox{\hyperlink{l00138}{TXsh\+Sound\+Level\+::save\+Data()}}, \mbox{\hyperlink{l00101}{TXsh\+Sound\+Text\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00071}{TXsh\+Sound\+Text\+Level\+::save\+Data()}}, \mbox{\hyperlink{l00175}{TXsh\+Zerary\+Fx\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00271}{Vectorizer\+Parameters\+::save\+Data()}}, \mbox{\hyperlink{l00633}{TPalette\+::save\+Data()}}, and \mbox{\hyperlink{l00433}{TStage\+Object\+Tree\+::save\+Data()}}.

\mbox{\Hypertarget{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}\label{class_t_o_stream_ae80752da32b21a502953e151e7c4b2ee}} 
\index{TOStream@{TOStream}!closeChild@{closeChild}}
\index{closeChild@{closeChild}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{closeChild()}{closeChild()}}
{\footnotesize\ttfamily void TOStream\+::close\+Child (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

to the stream, opening a tag with embedded attributes which is immediately closed. Closes current tag, writing $<$/current\+Tag\+Name$>$ to the stream. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00520                           \{}
\DoxyCodeLine{00521   assert(!m\_imp-\/>m\_tagStack.empty());}
\DoxyCodeLine{00522   \textcolor{keywordtype}{string} tagName = m\_imp-\/>m\_tagStack.back();}
\DoxyCodeLine{00523   m\_imp-\/>m\_tagStack.pop\_back();}
\DoxyCodeLine{00524   assert(tagName != \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00525   \textcolor{comment}{// ostream \&os = *m\_imp-\/>m\_os; //os non e' usato}}
\DoxyCodeLine{00526   m\_imp-\/>m\_tab-\/-\/;}
\DoxyCodeLine{00527   \textcolor{keywordflow}{if} (!m\_imp-\/>m\_justStarted) \mbox{\hyperlink{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}{cr}}();}
\DoxyCodeLine{00528   *(m\_imp-\/>m\_os) << \textcolor{stringliteral}{"{}</"{}} << tagName << \textcolor{stringliteral}{"{}>"{}};}
\DoxyCodeLine{00529   \mbox{\hyperlink{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}{cr}}();}
\DoxyCodeLine{00530   m\_imp-\/>m\_justStarted = \textcolor{keyword}{true};}
\DoxyCodeLine{00531 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00471}{cr()}}.



Referenced by \mbox{\hyperlink{l01357}{Output\+Settings\+Popup\+::on\+Add\+Preset\+Button\+Pressed()}}, \mbox{\hyperlink{l00590}{Toonz\+Scene\+::save()}}, \mbox{\hyperlink{l00524}{TProject\+::save()}}, \mbox{\hyperlink{l00488}{TParam\+Set\+::save\+Data()}}, \mbox{\hyperlink{l00068}{TXsh\+Mesh\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00084}{TXsh\+Palette\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00432}{Plastic\+Skeleton\+::save\+Data()}}, \mbox{\hyperlink{l01065}{Plastic\+Skeleton\+Deformation\+::save\+Data()}}, \mbox{\hyperlink{l00408}{Shader\+Interface\+::\+Parameter\+Concept\+::save\+Data()}}, \mbox{\hyperlink{l00465}{Shader\+Interface\+::\+Parameter\+::save\+Data()}}, \mbox{\hyperlink{l00355}{Shader\+Interface\+::\+Shader\+Data\+::save\+Data()}}, \mbox{\hyperlink{l00193}{Shader\+Interface\+::save\+Data()}}, \mbox{\hyperlink{l01190}{TDouble\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00395}{TExternal\+Program\+Fx\+::save\+Data()}}, \mbox{\hyperlink{l00335}{TFarm\+Task\+::save\+Data()}}, \mbox{\hyperlink{l00749}{TFarm\+Task\+Group\+::save\+Data()}}, \mbox{\hyperlink{l00845}{TFx\+::save\+Data()}}, \mbox{\hyperlink{l00553}{TMacro\+Fx\+::save\+Data()}}, \mbox{\hyperlink{l00123}{TTexture\+Mesh\+::save\+Data()}}, \mbox{\hyperlink{l00215}{TStage\+Object\+Spline\+::save\+Data()}}, \mbox{\hyperlink{l01277}{TXsheet\+::save\+Data()}}, \mbox{\hyperlink{l00164}{TXsh\+Level\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00101}{TXsh\+Sound\+Text\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00071}{TXsh\+Sound\+Text\+Level\+::save\+Data()}}, \mbox{\hyperlink{l00175}{TXsh\+Zerary\+Fx\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00271}{Vectorizer\+Parameters\+::save\+Data()}}, \mbox{\hyperlink{l00633}{TPalette\+::save\+Data()}}, \mbox{\hyperlink{l00102}{TPoint\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00170}{TPixel\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00101}{TRange\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00381}{TSpectrum\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00430}{TTone\+Curve\+Param\+::save\+Data()}}, \mbox{\hyperlink{l02285}{Brush\+Data\+::save\+Data()}}, \mbox{\hyperlink{l01853}{Vector\+Brush\+Data\+::save\+Data()}}, \mbox{\hyperlink{l00316}{Ctrl\+Farm\+Task\+::save\+Data()}}, \mbox{\hyperlink{l00433}{TStage\+Object\+Tree\+::save\+Data()}}, and \mbox{\hyperlink{l00600}{Cleanup\+Settings\+Model\+::save\+Settings()}}.

\mbox{\Hypertarget{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}\label{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}} 
\index{TOStream@{TOStream}!cr@{cr}}
\index{cr@{cr}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{cr()}{cr()}}
{\footnotesize\ttfamily void TOStream\+::cr (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Writes carriage return to the stream. 

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000029}{Deprecated}}]\end{DoxyRefDesc}

\begin{DoxyCode}{0}
\DoxyCodeLine{00471                   \{}
\DoxyCodeLine{00472   *(m\_imp-\/>m\_os) << endl;}
\DoxyCodeLine{00473   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_imp-\/>m\_tab; i++) *(m\_imp-\/>m\_os) << \textcolor{stringliteral}{"{}  "{}};}
\DoxyCodeLine{00474   m\_imp-\/>m\_justStarted = \textcolor{keyword}{false};}
\DoxyCodeLine{00475 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00520}{close\+Child()}}, \mbox{\hyperlink{l00535}{open\+Close\+Child()}}, \mbox{\hyperlink{l00560}{operator$<$$<$()}}, \mbox{\hyperlink{l00590}{Toonz\+Scene\+::save()}}, and \mbox{\hyperlink{l00264}{$\sim$\+TOStream()}}.

\mbox{\Hypertarget{class_t_o_stream_a78e22f2430fbb277c5b3f825a45c7291}\label{class_t_o_stream_a78e22f2430fbb277c5b3f825a45c7291}} 
\index{TOStream@{TOStream}!getCurrentTagName@{getCurrentTagName}}
\index{getCurrentTagName@{getCurrentTagName}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{getCurrentTagName()}{getCurrentTagName()}}
{\footnotesize\ttfamily std\+::string TOStream\+::get\+Current\+Tag\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00590                                       \{}
\DoxyCodeLine{00591   \textcolor{keywordflow}{return} (m\_imp-\/>m\_tagStack.empty()) ? \textcolor{stringliteral}{"{}"{}} : m\_imp-\/>m\_tagStack.back();}
\DoxyCodeLine{00592 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_o_stream_a362cf5d050afa8629b1feedc267d6404}\label{class_t_o_stream_a362cf5d050afa8629b1feedc267d6404}} 
\index{TOStream@{TOStream}!getFilePath@{getFilePath}}
\index{getFilePath@{getFilePath}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{getFilePath()}{getFilePath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TOStream\+::get\+File\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns the file path of the file associated to this output stream. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00315 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_filepath; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00355}{Shader\+Interface\+::\+Shader\+Data\+::save\+Data()}}.

\mbox{\Hypertarget{class_t_o_stream_a95da4246a0ecd4b91ed3fd3bbd8ac513}\label{class_t_o_stream_a95da4246a0ecd4b91ed3fd3bbd8ac513}} 
\index{TOStream@{TOStream}!getRepositoryPath@{getRepositoryPath}}
\index{getRepositoryPath@{getRepositoryPath}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{getRepositoryPath()}{getRepositoryPath()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} TOStream\+::get\+Repository\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000031}{Deprecated}}]\end{DoxyRefDesc}

\begin{DoxyCode}{0}
\DoxyCodeLine{00319                                       \{}
\DoxyCodeLine{00320   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = m\_imp-\/>m\_filepath;}
\DoxyCodeLine{00321   \textcolor{keywordflow}{return} fp.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}() + (fp.\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}() + \textcolor{stringliteral}{"{}\_files"{}});}
\DoxyCodeLine{00322 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00636}{TFile\+Path\+::get\+Name()}}, and \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}.

\mbox{\Hypertarget{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}\label{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}} 
\index{TOStream@{TOStream}!openChild@{openChild}}
\index{openChild@{openChild}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{openChild()}{openChild()}}
{\footnotesize\ttfamily void TOStream\+::open\+Child (\begin{DoxyParamCaption}\item[{std\+::string}]{tag\+Name }\end{DoxyParamCaption})}

Writes a $<$tag\+Name$>$ to the stream, opening a tag. 

Referenced by \mbox{\hyperlink{l01357}{Output\+Settings\+Popup\+::on\+Add\+Preset\+Button\+Pressed()}}, \mbox{\hyperlink{l00590}{Toonz\+Scene\+::save()}}, \mbox{\hyperlink{l00524}{TProject\+::save()}}, \mbox{\hyperlink{l00488}{TParam\+Set\+::save\+Data()}}, \mbox{\hyperlink{l00068}{TXsh\+Mesh\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00084}{TXsh\+Palette\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00432}{Plastic\+Skeleton\+::save\+Data()}}, \mbox{\hyperlink{l01065}{Plastic\+Skeleton\+Deformation\+::save\+Data()}}, \mbox{\hyperlink{l00408}{Shader\+Interface\+::\+Parameter\+Concept\+::save\+Data()}}, \mbox{\hyperlink{l00465}{Shader\+Interface\+::\+Parameter\+::save\+Data()}}, \mbox{\hyperlink{l00355}{Shader\+Interface\+::\+Shader\+Data\+::save\+Data()}}, \mbox{\hyperlink{l00193}{Shader\+Interface\+::save\+Data()}}, \mbox{\hyperlink{l01190}{TDouble\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00395}{TExternal\+Program\+Fx\+::save\+Data()}}, \mbox{\hyperlink{l00335}{TFarm\+Task\+::save\+Data()}}, \mbox{\hyperlink{l00749}{TFarm\+Task\+Group\+::save\+Data()}}, \mbox{\hyperlink{l00845}{TFx\+::save\+Data()}}, \mbox{\hyperlink{l00553}{TMacro\+Fx\+::save\+Data()}}, \mbox{\hyperlink{l00123}{TTexture\+Mesh\+::save\+Data()}}, \mbox{\hyperlink{l00215}{TStage\+Object\+Spline\+::save\+Data()}}, \mbox{\hyperlink{l01277}{TXsheet\+::save\+Data()}}, \mbox{\hyperlink{l00164}{TXsh\+Level\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00101}{TXsh\+Sound\+Text\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00071}{TXsh\+Sound\+Text\+Level\+::save\+Data()}}, \mbox{\hyperlink{l00175}{TXsh\+Zerary\+Fx\+Column\+::save\+Data()}}, \mbox{\hyperlink{l00271}{Vectorizer\+Parameters\+::save\+Data()}}, \mbox{\hyperlink{l00633}{TPalette\+::save\+Data()}}, \mbox{\hyperlink{l00102}{TPoint\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00170}{TPixel\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00101}{TRange\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00381}{TSpectrum\+Param\+::save\+Data()}}, \mbox{\hyperlink{l00430}{TTone\+Curve\+Param\+::save\+Data()}}, \mbox{\hyperlink{l02285}{Brush\+Data\+::save\+Data()}}, \mbox{\hyperlink{l01853}{Vector\+Brush\+Data\+::save\+Data()}}, \mbox{\hyperlink{l00316}{Ctrl\+Farm\+Task\+::save\+Data()}}, \mbox{\hyperlink{l00433}{TStage\+Object\+Tree\+::save\+Data()}}, and \mbox{\hyperlink{l00600}{Cleanup\+Settings\+Model\+::save\+Settings()}}.

\mbox{\Hypertarget{class_t_o_stream_a4568ce0cc2ace90c334f96eddcd11f17}\label{class_t_o_stream_a4568ce0cc2ace90c334f96eddcd11f17}} 
\index{TOStream@{TOStream}!openCloseChild@{openCloseChild}}
\index{openCloseChild@{openCloseChild}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{openCloseChild()}{openCloseChild()}}
{\footnotesize\ttfamily void TOStream\+::open\+Close\+Child (\begin{DoxyParamCaption}\item[{std\+::string}]{tag\+Name,  }\item[{const std\+::map$<$ std\+::string, std\+::string $>$ \&}]{attributes }\end{DoxyParamCaption})}



to the stream, opening a tag with embedded attributes. 

Writes a tag \texorpdfstring{$<$}{<}tag\+Name attribute1=\char`\"{}value1\char`\"{} ../\texorpdfstring{$>$}{>} 
\begin{DoxyCode}{0}
\DoxyCodeLine{00536                                                                         \{}
\DoxyCodeLine{00537   assert(tagName != \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00538   \textcolor{comment}{// m\_imp-\/>m\_tagStack.push\_back(tagName);}}
\DoxyCodeLine{00539   \textcolor{keywordflow}{if} (m\_imp-\/>m\_justStarted == \textcolor{keyword}{false}) \mbox{\hyperlink{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}{cr}}();}
\DoxyCodeLine{00540   *(m\_imp-\/>m\_os) << \textcolor{stringliteral}{"{}<"{}} << tagName;}
\DoxyCodeLine{00541   \textcolor{keywordflow}{for} (std::map<std::string, string>::const\_iterator it = attributes.begin();}
\DoxyCodeLine{00542        it != attributes.end(); ++it) \{}
\DoxyCodeLine{00543     *(m\_imp-\/>m\_os) << \textcolor{stringliteral}{"{} "{}} << it-\/>first << \textcolor{stringliteral}{"{}=\(\backslash\)"{}"{}} << escape(it-\/>second) << \textcolor{stringliteral}{"{}\(\backslash\)"{}"{}};}
\DoxyCodeLine{00544   \}}
\DoxyCodeLine{00545   *(m\_imp-\/>m\_os) << \textcolor{stringliteral}{"{}/>"{}};}
\DoxyCodeLine{00546   \textcolor{comment}{// m\_imp-\/>m\_tab++;}}
\DoxyCodeLine{00547   \mbox{\hyperlink{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}{cr}}();}
\DoxyCodeLine{00548   m\_imp-\/>m\_justStarted = \textcolor{keyword}{true};}
\DoxyCodeLine{00549 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00471}{cr()}}.



Referenced by \mbox{\hyperlink{l00524}{TProject\+::save()}}, \mbox{\hyperlink{l00395}{TExternal\+Program\+Fx\+::save\+Data()}}, \mbox{\hyperlink{l00553}{TMacro\+Fx\+::save\+Data()}}, and \mbox{\hyperlink{l01364}{TXsh\+Simple\+Level\+::save\+Data()}}.

\mbox{\Hypertarget{class_t_o_stream_a480000ee11a69864e751fb1414db6bc6}\label{class_t_o_stream_a480000ee11a69864e751fb1414db6bc6}} 
\index{TOStream@{TOStream}!operator bool@{operator bool}}
\index{operator bool@{operator bool}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{operator bool()}{operator bool()}}
{\footnotesize\ttfamily TOStream\+::operator bool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns whether the stream has a valid status. 

\begin{DoxySeeAlso}{See also}
std\+::basic\+\_\+ostream\+::operator void$\ast$(). 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00479 \{ \textcolor{keywordflow}{return} (m\_imp-\/>m\_os \&\& *m\_imp-\/>m\_os); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_o_stream_a67ed2e9091ce16c0070aa97045752667}\label{class_t_o_stream_a67ed2e9091ce16c0070aa97045752667}} 
\index{TOStream@{TOStream}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}\hspace{0.1cm}{\footnotesize\ttfamily [1/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_o_stream}{TOStream}} \& TOStream\+::operator$<$$<$ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{v }\end{DoxyParamCaption})}



Writes a \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} to the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00445                                                  \{}
\DoxyCodeLine{00446   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_o_stream_a388ab8b5961fb83169c6f360a77975fd}{operator<<}}(v.getWideString());}
\DoxyCodeLine{00447 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00326}{operator$<$$<$()}}.

\mbox{\Hypertarget{class_t_o_stream_a4b2b0fcdb78e8f8135cd25b63dac1634}\label{class_t_o_stream_a4b2b0fcdb78e8f8135cd25b63dac1634}} 
\index{TOStream@{TOStream}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}\hspace{0.1cm}{\footnotesize\ttfamily [2/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_o_stream}{TOStream}} \& TOStream\+::operator$<$$<$ (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{v }\end{DoxyParamCaption})}



Writes a TPixel32 to the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00451                                                 \{}
\DoxyCodeLine{00452   ostream \&os = *(m\_imp-\/>m\_os);}
\DoxyCodeLine{00453   os << (int)v.r << \textcolor{stringliteral}{"{} "{}} << (\textcolor{keywordtype}{int})v.g << \textcolor{stringliteral}{"{} "{}} << (int)v.b << \textcolor{stringliteral}{"{} "{}} << (\textcolor{keywordtype}{int})v.m}
\DoxyCodeLine{00454      << \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{00455   m\_imp-\/>m\_justStarted = \textcolor{keyword}{false};}
\DoxyCodeLine{00456   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00457 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_o_stream_a60d2ca9292455410365a94b2511cbe68}\label{class_t_o_stream_a60d2ca9292455410365a94b2511cbe68}} 
\index{TOStream@{TOStream}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}\hspace{0.1cm}{\footnotesize\ttfamily [3/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_o_stream}{TOStream}} \& TOStream\+::operator$<$$<$ (\begin{DoxyParamCaption}\item[{const TPixel64 \&}]{v }\end{DoxyParamCaption})}



Writes a TPixel64 to the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00461                                                 \{}
\DoxyCodeLine{00462   ostream \&os = *(m\_imp-\/>m\_os);}
\DoxyCodeLine{00463   os << (int)v.r << \textcolor{stringliteral}{"{} "{}} << (\textcolor{keywordtype}{int})v.g << \textcolor{stringliteral}{"{} "{}} << (int)v.b << \textcolor{stringliteral}{"{} "{}} << (\textcolor{keywordtype}{int})v.m}
\DoxyCodeLine{00464      << \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{00465   m\_imp-\/>m\_justStarted = \textcolor{keyword}{false};}
\DoxyCodeLine{00466   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00467 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_o_stream_ac02377227f365f732e7890bf1435ea77}\label{class_t_o_stream_ac02377227f365f732e7890bf1435ea77}} 
\index{TOStream@{TOStream}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}\hspace{0.1cm}{\footnotesize\ttfamily [4/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_o_stream}{TOStream}} \& TOStream\+::operator$<$$<$ (\begin{DoxyParamCaption}\item[{double}]{v }\end{DoxyParamCaption})}



Writes a double to the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00334                                        \{}
\DoxyCodeLine{00335   \textcolor{keywordflow}{if} (areAlmostEqual(v, 0))  \textcolor{comment}{// con valori molto piccoli (es. 1.4e-\/310) non}}
\DoxyCodeLine{00336                              \textcolor{comment}{// riesce a rileggerli!}}
\DoxyCodeLine{00337     v = 0;}
\DoxyCodeLine{00338 }
\DoxyCodeLine{00339   *(m\_imp-\/>m\_os) << v << \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{00340   m\_imp-\/>m\_justStarted = \textcolor{keyword}{false};}
\DoxyCodeLine{00341   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00342 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_o_stream_a388ab8b5961fb83169c6f360a77975fd}\label{class_t_o_stream_a388ab8b5961fb83169c6f360a77975fd}} 
\index{TOStream@{TOStream}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}\hspace{0.1cm}{\footnotesize\ttfamily [5/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_o_stream}{TOStream}} \& TOStream\+::operator$<$$<$ (\begin{DoxyParamCaption}\item[{int}]{v }\end{DoxyParamCaption})}



Writes an int to the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00326                                     \{}
\DoxyCodeLine{00327   *(m\_imp-\/>m\_os) << v << \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{00328   m\_imp-\/>m\_justStarted = \textcolor{keyword}{false};}
\DoxyCodeLine{00329   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00330 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00402}{operator$<$$<$()}}.

\mbox{\Hypertarget{class_t_o_stream_a254fbb5878695c50281967bee81dc29e}\label{class_t_o_stream_a254fbb5878695c50281967bee81dc29e}} 
\index{TOStream@{TOStream}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}\hspace{0.1cm}{\footnotesize\ttfamily [6/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_o_stream}{TOStream}} \& TOStream\+::operator$<$$<$ (\begin{DoxyParamCaption}\item[{QString}]{v }\end{DoxyParamCaption})}



Writes a QString to the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00373                                          \{}
\DoxyCodeLine{00374   \textcolor{keywordtype}{string} v = \_v.toStdString();}
\DoxyCodeLine{00375 }
\DoxyCodeLine{00376   ostream \&os = *(m\_imp-\/>m\_os);}
\DoxyCodeLine{00377   \textcolor{keywordtype}{int} len     = v.length();}
\DoxyCodeLine{00378   \textcolor{keywordflow}{if} (len == 0) \{}
\DoxyCodeLine{00379     os << \textcolor{stringliteral}{"{}\(\backslash\)"{}\(\backslash\)"{}"{}}}
\DoxyCodeLine{00380        << \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{00381     m\_imp-\/>m\_justStarted = \textcolor{keyword}{false};}
\DoxyCodeLine{00382     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00383   \}}
\DoxyCodeLine{00384   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00385   \textcolor{keywordflow}{for} (i = 0; i < len; i++)}
\DoxyCodeLine{00386     \textcolor{keywordflow}{if} ((!iswalnum(v[i]) \&\& v[i] != \textcolor{charliteral}{'\_'} \&\& v[i] != \textcolor{charliteral}{'\%'}) ||}
\DoxyCodeLine{00387         v[i] < 32      \textcolor{comment}{// Less than ASCII for SPACE}}
\DoxyCodeLine{00388         || v[i] > 126  \textcolor{comment}{// Greater than ASCII for \string~}}
\DoxyCodeLine{00389         )}
\DoxyCodeLine{00390       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00391   \textcolor{keywordflow}{if} (i == len)}
\DoxyCodeLine{00392     os << v << \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{00393   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00394     os << \textcolor{charliteral}{'"{}'} << escape(v) << \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{00395   \}}
\DoxyCodeLine{00396   m\_imp-\/>m\_justStarted = \textcolor{keyword}{false};}
\DoxyCodeLine{00397   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00398 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_o_stream_aa0848ffe8561fa7accf991857b92cba8}\label{class_t_o_stream_aa0848ffe8561fa7accf991857b92cba8}} 
\index{TOStream@{TOStream}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}\hspace{0.1cm}{\footnotesize\ttfamily [7/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_o_stream}{TOStream}} \& TOStream\+::operator$<$$<$ (\begin{DoxyParamCaption}\item[{std\+::wstring}]{v }\end{DoxyParamCaption})}



Writes a wstring to the stream. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00402                                            \{}
\DoxyCodeLine{00403   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_o_stream_a388ab8b5961fb83169c6f360a77975fd}{operator<<}}(::to\_string(v));}
\DoxyCodeLine{00404   \textcolor{comment}{/*}}
\DoxyCodeLine{00405 \textcolor{comment}{ostream \&os = *(m\_imp-\/>m\_os);}}
\DoxyCodeLine{00406 \textcolor{comment}{int len = v.length();}}
\DoxyCodeLine{00407 \textcolor{comment}{if(len==0)}}
\DoxyCodeLine{00408 \textcolor{comment}{\{}}
\DoxyCodeLine{00409 \textcolor{comment}{os << "{}\(\backslash\)"{}"{} << "{}\(\backslash\)"{}"{} << "{} "{};}}
\DoxyCodeLine{00410 \textcolor{comment}{m\_imp-\/>m\_justStarted = false;}}
\DoxyCodeLine{00411 \textcolor{comment}{return *this;}}
\DoxyCodeLine{00412 \textcolor{comment}{\}}}
\DoxyCodeLine{00413 \textcolor{comment}{int i;}}
\DoxyCodeLine{00414 \textcolor{comment}{for(i=0;i<len;i++)}}
\DoxyCodeLine{00415 \textcolor{comment}{if(!iswalnum(v[i]) \&\& v[i]!=L'\_')}}
\DoxyCodeLine{00416 \textcolor{comment}{break;}}
\DoxyCodeLine{00417 \textcolor{comment}{if(i==len)}}
\DoxyCodeLine{00418 \textcolor{comment}{\{}}
\DoxyCodeLine{00419 \textcolor{comment}{os << v;}}
\DoxyCodeLine{00420 \textcolor{comment}{os << "{} "{};}}
\DoxyCodeLine{00421 \textcolor{comment}{\}}}
\DoxyCodeLine{00422 \textcolor{comment}{else}}
\DoxyCodeLine{00423 \textcolor{comment}{\{}}
\DoxyCodeLine{00424 \textcolor{comment}{os.put('"{}');}}
\DoxyCodeLine{00425 \textcolor{comment}{for(i=0;i<len;i++)}}
\DoxyCodeLine{00426 \textcolor{comment}{ if(iswalnum(v[i]))}}
\DoxyCodeLine{00427 \textcolor{comment}{   os.put((char)v[i]);}}
\DoxyCodeLine{00428 \textcolor{comment}{ else if(v[i]=='"{}')}}
\DoxyCodeLine{00429 \textcolor{comment}{   os << "{}\(\backslash\)\(\backslash\)\(\backslash\)"{}"{};}}
\DoxyCodeLine{00430 \textcolor{comment}{ else if(v[i]=='\(\backslash\)n')}}
\DoxyCodeLine{00431 \textcolor{comment}{   os << "{}\(\backslash\)\(\backslash\)n"{};}}
\DoxyCodeLine{00432 \textcolor{comment}{ else if(iswprint(v[i]))}}
\DoxyCodeLine{00433 \textcolor{comment}{   os << v[i];}}
\DoxyCodeLine{00434 \textcolor{comment}{ else}}
\DoxyCodeLine{00435 \textcolor{comment}{   \{os.put('\(\backslash\)\(\backslash\)'); os << (int)v[i];\}}}
\DoxyCodeLine{00436 \textcolor{comment}{os << "{}\(\backslash\)"{} "{};}}
\DoxyCodeLine{00437 \textcolor{comment}{\}}}
\DoxyCodeLine{00438 \textcolor{comment}{m\_imp-\/>m\_justStarted = false;}}
\DoxyCodeLine{00439 \textcolor{comment}{return *this;}}
\DoxyCodeLine{00440 \textcolor{comment}{*/}}
\DoxyCodeLine{00441 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00326}{operator$<$$<$()}}.

\mbox{\Hypertarget{class_t_o_stream_a87d13b892a2ecd7f5b6355364e4f0738}\label{class_t_o_stream_a87d13b892a2ecd7f5b6355364e4f0738}} 
\index{TOStream@{TOStream}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}\hspace{0.1cm}{\footnotesize\ttfamily [8/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_o_stream}{TOStream}} \& TOStream\+::operator$<$$<$ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_persist}{TPersist}} \&}]{v }\end{DoxyParamCaption})}

Saves data to the stream according 
\begin{DoxyCode}{0}
\DoxyCodeLine{00553                                           \{}
\DoxyCodeLine{00554   v.\mbox{\hyperlink{class_t_persist_afb991f7b26f14dbee1740ef036ff4e85}{saveData}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{00555   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00556 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_t_persist_afb991f7b26f14dbee1740ef036ff4e85}{TPersist\+::save\+Data()}}.

\mbox{\Hypertarget{class_t_o_stream_a479043e1d76944895fe8c40507058185}\label{class_t_o_stream_a479043e1d76944895fe8c40507058185}} 
\index{TOStream@{TOStream}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{operator$<$$<$()}{operator<<()}\hspace{0.1cm}{\footnotesize\ttfamily [9/9]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_o_stream}{TOStream}} \& TOStream\+::operator$<$$<$ (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_persist}{TPersist}} $\ast$}]{v }\end{DoxyParamCaption})}



deprecated Use \mbox{\hyperlink{class_t_o_stream_a87d13b892a2ecd7f5b6355364e4f0738}{operator$<$$<$(\+TPersist\&)}} instead. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00560                                           \{}
\DoxyCodeLine{00561   Imp::PersistTable::iterator it = m\_imp-\/>m\_table.find(v);}
\DoxyCodeLine{00562   \textcolor{keywordflow}{if} (it != m\_imp-\/>m\_table.end()) \{}
\DoxyCodeLine{00563     *(m\_imp-\/>m\_os) << \textcolor{stringliteral}{"{}<"{}} << v-\/>\mbox{\hyperlink{class_t_persist_a6d77f3ae5ec651390538e6219a421aa5}{getStreamTag}}() << \textcolor{stringliteral}{"{} id='"{}} << it-\/>second}
\DoxyCodeLine{00564                    << \textcolor{stringliteral}{"{}'/>"{}};}
\DoxyCodeLine{00565     m\_imp-\/>m\_justStarted = \textcolor{keyword}{false};}
\DoxyCodeLine{00566   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00567     \textcolor{keywordtype}{int} \textcolor{keywordtype}{id}            = ++m\_imp-\/>m\_maxId;}
\DoxyCodeLine{00568     m\_imp-\/>m\_table[v] = id;}
\DoxyCodeLine{00569     *(m\_imp-\/>m\_os) << \textcolor{stringliteral}{"{}<"{}} << v-\/>\mbox{\hyperlink{class_t_persist_a6d77f3ae5ec651390538e6219a421aa5}{getStreamTag}}() << \textcolor{stringliteral}{"{} id='"{}} << \textcolor{keywordtype}{id} << \textcolor{stringliteral}{"{}'>"{}};}
\DoxyCodeLine{00570     m\_imp-\/>m\_tab++;}
\DoxyCodeLine{00571     \mbox{\hyperlink{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}{cr}}();}
\DoxyCodeLine{00572     v-\/>\mbox{\hyperlink{class_t_persist_afb991f7b26f14dbee1740ef036ff4e85}{saveData}}(*\textcolor{keyword}{this});}
\DoxyCodeLine{00573     m\_imp-\/>m\_tab-\/-\/;}
\DoxyCodeLine{00574     \mbox{\hyperlink{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}{cr}}();}
\DoxyCodeLine{00575     *(m\_imp-\/>m\_os) << \textcolor{stringliteral}{"{}</"{}} << v-\/>\mbox{\hyperlink{class_t_persist_a6d77f3ae5ec651390538e6219a421aa5}{getStreamTag}}() << \textcolor{stringliteral}{"{}>"{}};}
\DoxyCodeLine{00576     \mbox{\hyperlink{class_t_o_stream_a61a4a0d43fae58f003e4891ff146919e}{cr}}();}
\DoxyCodeLine{00577   \}}
\DoxyCodeLine{00578   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{00579 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00471}{cr()}}, \mbox{\hyperlink{l00109}{TPersist\+::get\+Stream\+Tag()}}, and \mbox{\hyperlink{class_t_persist_afb991f7b26f14dbee1740ef036ff4e85}{TPersist\+::save\+Data()}}.

\mbox{\Hypertarget{class_t_o_stream_a34ce5e80b619f96f233953cef4c129b5}\label{class_t_o_stream_a34ce5e80b619f96f233953cef4c129b5}} 
\index{TOStream@{TOStream}!tab@{tab}}
\index{tab@{tab}!TOStream@{TOStream}}
\doxysubsubsection{\texorpdfstring{tab()}{tab()}}
{\footnotesize\ttfamily void TOStream\+::tab (\begin{DoxyParamCaption}\item[{int}]{dt }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000030}{Deprecated}}]\end{DoxyRefDesc}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tstream.\+h\item 
E\+:/opentoonz/toonz/sources/common/tstream/tstream.\+cpp\end{DoxyCompactItemize}
