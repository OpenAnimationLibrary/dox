\hypertarget{class_thumbnail_viewer}{}\doxysection{Thumbnail\+Viewer Class Reference}
\label{class_thumbnail_viewer}\index{ThumbnailViewer@{ThumbnailViewer}}
Inheritance diagram for Thumbnail\+Viewer\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_thumbnail_viewer}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_thumbnail_viewer_1_1_name_field}{Name\+Field}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_thumbnail_viewer_a5f9f567e51bf7213add65a3261989659}{Thumbnail\+Viewer}} (\mbox{\hyperlink{class_t_widget}{TWidget}} $\ast$parent, string name=\char`\"{}thumbnail\+Viewer\char`\"{})
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a91a675c6419e847f7f6dd97371742c0d}{add\+Item}} (\mbox{\hyperlink{class_thumbnail}{Thumbnail}} $\ast$item)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_af55be5670ec0178c634c78919f10cb9a}{remove\+Item}} (\mbox{\hyperlink{class_thumbnail}{Thumbnail}} $\ast$item)
\begin{DoxyCompactList}\small\item\em removes the item from the \mbox{\hyperlink{class_thumbnail_viewer}{Thumbnail\+Viewer}}. It doesn\textquotesingle{}t destroy the item \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_dimension_t}{TDimension}} \mbox{\hyperlink{class_thumbnail_viewer_a748b24bcd05bf74b8a06fb974a614f10}{get\+Icon\+Size}} () const
\item 
int \mbox{\hyperlink{class_thumbnail_viewer_ab30619464c90c4742322bc238de5b2e6}{get\+Item\+Count}} () const
\item 
\mbox{\hyperlink{class_thumbnail}{Thumbnail}} $\ast$ \mbox{\hyperlink{class_thumbnail_viewer_a737371daafb8c12ae44119a613088915}{get\+Item}} (int index) const
\item 
int \mbox{\hyperlink{class_thumbnail_viewer_a8510051c2140696038e4e2d4c2507da3}{get\+Column\+Count}} () const
\begin{DoxyCompactList}\small\item\em find the max number of thumbnails which fit the current widget width \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_point_t}{TPoint}} \mbox{\hyperlink{class_thumbnail_viewer_a94861df29ce458c1d62b161424eeaf6e}{get\+Item\+Pos}} (int index)
\item 
\mbox{\hyperlink{class_t_rect_t}{TRect}} \mbox{\hyperlink{class_thumbnail_viewer_a09c1d4061d6494666836046eeee06c01}{get\+Item\+Bounds}} (int index)
\item 
int \mbox{\hyperlink{class_thumbnail_viewer_a6912b2a52f678dff0836f6f4bcc2e1b2}{find\+Item}} (const \mbox{\hyperlink{class_t_point_t}{TPoint}} \&pos)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a497f7c9cb70172e5cdd320bde6736d59}{configure\+Notify}} (const \mbox{\hyperlink{class_t_dimension_t}{TDimension}} \&d)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_ad0d92f3fc75b8fe6c92a6b9dd861ea6e}{draw\+Frame}} (int index)
\begin{DoxyCompactList}\small\item\em draw the index-\/th thumbnail current frame \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_thumbnail_viewer_ac8598b80a5072af3b3f44181ccd70d27}{draw\+Item}} (int index)
\begin{DoxyCompactList}\small\item\em draw the index-\/th thumbnail \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a6120ee590778565c35d88d048db06929}{draw\+Background}} ()
\begin{DoxyCompactList}\small\item\em draw the empty space around and between thumbnails \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a69cbc6b3d43cf4b31815cdf83c793d09}{repaint}} ()
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a1534d33449f68f1591eec9527bb997b2}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_aadf0b01849a4e9fa6327681a2090c612}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a5a871796817653ac1d4af234860d6591}{left\+Button\+Up}} (const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a0f63baef4c4183d5b5d0bdfa9d41f62b}{left\+Button\+Double\+Click}} (const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_ad6fdcefa89bf1ba15deaed0520c6e313}{on\+Timer}} (int)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a407f147cc0178144a8eba7c2f903a380}{start\+Playing}} ()
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a4c03dbbdd18a603488b15def2834a6eb}{stop\+Playing}} ()
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a0ef08950a31a97b7f95e4ea541ad44f1}{select}} (int)
\item 
int \mbox{\hyperlink{class_thumbnail_viewer_a127d064c25ac09f9772d0d97f9c0e29e}{get\+Selected\+Item\+Index}} ()
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a29f8450152602dd1a5fe2ee0d540ce49}{clear\+Items}} ()
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a0072515dfd956a35f8f5613194c85418}{load\+Directory}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&dir\+Path, const \mbox{\hyperlink{classvector}{vector}}$<$ string $>$ \&file\+Types)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_ad0b015c83501f89a1b1990884febc841}{update\+Content\+Size}} ()
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a2f7aafb4aa96832a29017b1fab38976e}{middle\+Button\+Down}} (const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a1b4ee959197d0c211cd9b41d35c09d88}{middle\+Button\+Drag}} (const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_a75a2e168e5c75817580b0f44656076f3}{middle\+Button\+Up}} (const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e)
\item 
void \mbox{\hyperlink{class_thumbnail_viewer_af10226cfc66518318ca2fb069a8adf6e}{scroll\+Page}} (int y)
\item 
virtual void \mbox{\hyperlink{class_thumbnail_viewer_a26f57f802effb98122915b809e295e4e}{on\+Double\+Click}} (int index)
\item 
virtual void \mbox{\hyperlink{class_thumbnail_viewer_ae0131422663ad0d61acbec15495a905b}{on\+Select}} (int index)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_thumbnail_viewer_a5f9f567e51bf7213add65a3261989659}\label{class_thumbnail_viewer_a5f9f567e51bf7213add65a3261989659}} 
\index{ThumbnailViewer@{ThumbnailViewer}!ThumbnailViewer@{ThumbnailViewer}}
\index{ThumbnailViewer@{ThumbnailViewer}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{ThumbnailViewer()}{ThumbnailViewer()}}
{\footnotesize\ttfamily Thumbnail\+Viewer\+::\+Thumbnail\+Viewer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_widget}{TWidget}} $\ast$}]{parent,  }\item[{string}]{name = {\ttfamily \char`\"{}thumbnailViewer\char`\"{}} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00058     : \mbox{\hyperlink{class_t_scroll_view}{TScrollView}}(parent, name)}
\DoxyCodeLine{00059     , m\_selectedItemIndex(-\/1)}
\DoxyCodeLine{00060     , m\_itemSize(94, 100)}
\DoxyCodeLine{00061     , m\_itemSpace(10, 10)}
\DoxyCodeLine{00062     , m\_margins(10, 10)}
\DoxyCodeLine{00063     , m\_playButtonBox(\mbox{\hyperlink{class_t_point_t}{TPoint}}(85, 2), \mbox{\hyperlink{class_t_dimension_t}{TDimension}}(10, 10))}
\DoxyCodeLine{00064     , m\_iconBox(\mbox{\hyperlink{class_t_point_t}{TPoint}}(2 + 4 -\/ 3, 20 + 4), \mbox{\hyperlink{class_t_dimension_t}{TDimension}}(96 -\/ 8, 78 -\/ 8))}
\DoxyCodeLine{00065     , m\_textBox(\mbox{\hyperlink{class_t_point_t}{TPoint}}(2 + 4 + 2 + 10, 2 + 2), \mbox{\hyperlink{class_t_dimension_t}{TDimension}}(65, 18))}
\DoxyCodeLine{00066     , m\_flag(\textcolor{keyword}{false})}
\DoxyCodeLine{00067     , m\_playing(\textcolor{keyword}{false})}
\DoxyCodeLine{00068     , m\_loading(\textcolor{keyword}{false})}
\DoxyCodeLine{00069     , m\_timerActive(\textcolor{keyword}{false})}
\DoxyCodeLine{00070     , m\_dragDropArmed(\textcolor{keyword}{false})}
\DoxyCodeLine{00071     , m\_oldPos(0, 0) \{}
\DoxyCodeLine{00072   setBackgroundColor(White);}
\DoxyCodeLine{00073   m\_nameField = \textcolor{keyword}{new} NameField(\textcolor{keyword}{this});}
\DoxyCodeLine{00074   m\_nameField-\/>hide();}
\DoxyCodeLine{00075 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a6b8585e606f6e95afac8968fc7498da1}\label{class_thumbnail_viewer_a6b8585e606f6e95afac8968fc7498da1}} 
\index{ThumbnailViewer@{ThumbnailViewer}!````~ThumbnailViewer@{$\sim$ThumbnailViewer}}
\index{````~ThumbnailViewer@{$\sim$ThumbnailViewer}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{$\sim$ThumbnailViewer()}{~ThumbnailViewer()}}
{\footnotesize\ttfamily Thumbnail\+Viewer\+::$\sim$\+Thumbnail\+Viewer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00079 \{ clearPointerContainer(m\_items); \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_thumbnail_viewer_a91a675c6419e847f7f6dd97371742c0d}\label{class_thumbnail_viewer_a91a675c6419e847f7f6dd97371742c0d}} 
\index{ThumbnailViewer@{ThumbnailViewer}!addItem@{addItem}}
\index{addItem@{addItem}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{addItem()}{addItem()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::add\+Item (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_thumbnail}{Thumbnail}} $\ast$}]{item }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00495 \{ m\_items.push\_back(item); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a29f8450152602dd1a5fe2ee0d540ce49}\label{class_thumbnail_viewer_a29f8450152602dd1a5fe2ee0d540ce49}} 
\index{ThumbnailViewer@{ThumbnailViewer}!clearItems@{clearItems}}
\index{clearItems@{clearItems}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{clearItems()}{clearItems()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::clear\+Items (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00509                                  \{}
\DoxyCodeLine{00510   clearPointerContainer(m\_items);}
\DoxyCodeLine{00511   m\_selectedItemIndex = -\/1;}
\DoxyCodeLine{00512   m\_playing           = \textcolor{keyword}{false};}
\DoxyCodeLine{00513   m\_loading           = \textcolor{keyword}{false};}
\DoxyCodeLine{00514   \textcolor{keywordflow}{if} (m\_timerActive) \{}
\DoxyCodeLine{00515     stopTimer();}
\DoxyCodeLine{00516     m\_timerActive = \textcolor{keyword}{false};}
\DoxyCodeLine{00517   \}}
\DoxyCodeLine{00518 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a497f7c9cb70172e5cdd320bde6736d59}\label{class_thumbnail_viewer_a497f7c9cb70172e5cdd320bde6736d59}} 
\index{ThumbnailViewer@{ThumbnailViewer}!configureNotify@{configureNotify}}
\index{configureNotify@{configureNotify}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{configureNotify()}{configureNotify()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::configure\+Notify (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_dimension_t}{TDimension}} \&}]{d }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_scroll_view}{TScroll\+View}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00135                                                          \{}
\DoxyCodeLine{00136   TScrollView::configureNotify(d);}
\DoxyCodeLine{00137   \textcolor{comment}{// m\_nameField-\/>setGeometry(TPoint(10,10), TDimension(100,30));}}
\DoxyCodeLine{00138   updateContentSize();}
\DoxyCodeLine{00139   invalidate();}
\DoxyCodeLine{00140 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a6120ee590778565c35d88d048db06929}\label{class_thumbnail_viewer_a6120ee590778565c35d88d048db06929}} 
\index{ThumbnailViewer@{ThumbnailViewer}!drawBackground@{drawBackground}}
\index{drawBackground@{drawBackground}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{drawBackground()}{drawBackground()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::draw\+Background (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



draw the empty space around and between thumbnails 


\begin{DoxyCode}{0}
\DoxyCodeLine{00250                                      \{}
\DoxyCodeLine{00251   \textcolor{keywordtype}{int} itemCount   = m\_items.size();}
\DoxyCodeLine{00252   \textcolor{keywordtype}{int} columnCount = \mbox{\hyperlink{class_thumbnail_viewer_a8510051c2140696038e4e2d4c2507da3}{getColumnCount}}();}
\DoxyCodeLine{00253   \textcolor{keywordtype}{int} rowCount    = (itemCount + columnCount -\/ 1) / columnCount;}
\DoxyCodeLine{00254 }
\DoxyCodeLine{00255   \mbox{\hyperlink{class_t_rect_t}{TRect}} clipRect;}
\DoxyCodeLine{00256   getClipRect(clipRect);  \textcolor{comment}{// coordinate window}}
\DoxyCodeLine{00257   clipRect -\/= \mbox{\hyperlink{class_t_point_t}{TPoint}}(m\_xoff, m\_yoff);}
\DoxyCodeLine{00258   \mbox{\hyperlink{class_t_rect_t}{TRect}} rect;}
\DoxyCodeLine{00259   rect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} = m\_margins.lx;}
\DoxyCodeLine{00260   rect.x1 = m\_margins.lx + (m\_itemSize.lx + m\_itemSpace.lx) * columnCount -\/}
\DoxyCodeLine{00261             m\_itemSpace.lx -\/ 1;}
\DoxyCodeLine{00262   rect.y1 = getLy() -\/ m\_margins.ly -\/ 1;}
\DoxyCodeLine{00263   rect.y0 = rect.y1 -\/ (m\_itemSize.ly + m\_itemSpace.ly) * rowCount +}
\DoxyCodeLine{00264             m\_itemSpace.ly + 1;}
\DoxyCodeLine{00265 }
\DoxyCodeLine{00266   setColor(getBackgroundColor());}
\DoxyCodeLine{00267 }
\DoxyCodeLine{00268   \textcolor{comment}{// alto}}
\DoxyCodeLine{00269   \textcolor{keywordflow}{if} (rect.y1 + 1 <= clipRect.y1)}
\DoxyCodeLine{00270     fillRect(clipRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}, rect.y1 + 1, clipRect.x1, clipRect.y1);}
\DoxyCodeLine{00271 }
\DoxyCodeLine{00272   \textcolor{comment}{// basso}}
\DoxyCodeLine{00273   \textcolor{keywordflow}{if} (clipRect.y0 <= rect.y0 -\/ 1)}
\DoxyCodeLine{00274     fillRect(clipRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}, clipRect.y0, clipRect.x1, rect.y0 -\/ 1);}
\DoxyCodeLine{00275 }
\DoxyCodeLine{00276   \textcolor{keywordtype}{int} y0 = tmax(clipRect.y0, rect.y0);}
\DoxyCodeLine{00277   \textcolor{keywordtype}{int} y1 = tmin(clipRect.y1, rect.y1);}
\DoxyCodeLine{00278   \textcolor{keywordflow}{if} (y0 <= y1) \{}
\DoxyCodeLine{00279     \textcolor{comment}{// sinistra}}
\DoxyCodeLine{00280     \textcolor{keywordflow}{if} (clipRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} <= rect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} -\/ 1) fillRect(clipRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}, y0, rect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} -\/ 1, y1);}
\DoxyCodeLine{00281 }
\DoxyCodeLine{00282     \textcolor{comment}{// destra}}
\DoxyCodeLine{00283     \textcolor{keywordflow}{if} (rect.x1 + 1 <= clipRect.x1) fillRect(rect.x1 + 1, y0, clipRect.x1, y1);}
\DoxyCodeLine{00284   \}}
\DoxyCodeLine{00285 }
\DoxyCodeLine{00286   \textcolor{comment}{// interlinee verticali}}
\DoxyCodeLine{00287   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} r = 0; r < rowCount; r++) \{}
\DoxyCodeLine{00288     \textcolor{keywordtype}{int} y1 = rect.y1 -\/ (m\_itemSize.ly + m\_itemSpace.ly) * r + m\_itemSpace.ly;}
\DoxyCodeLine{00289     \textcolor{keywordtype}{int} y0 = y1 -\/ m\_itemSpace.ly + 1;}
\DoxyCodeLine{00290     fillRect(clipRect.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}, y0, clipRect.x1, y1);}
\DoxyCodeLine{00291   \}}
\DoxyCodeLine{00292   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < columnCount -\/ 1; c++) \{}
\DoxyCodeLine{00293     \textcolor{keywordtype}{int} x0 =}
\DoxyCodeLine{00294         m\_margins.lx + (m\_itemSize.lx + m\_itemSpace.lx) * c + m\_itemSize.lx;}
\DoxyCodeLine{00295     \textcolor{keywordtype}{int} x1 = x0 + m\_itemSpace.lx -\/ 1;}
\DoxyCodeLine{00296     fillRect(x0, clipRect.y0, x1, clipRect.y1);}
\DoxyCodeLine{00297   \}}
\DoxyCodeLine{00298 }
\DoxyCodeLine{00299   \textcolor{comment}{// ultima riga}}
\DoxyCodeLine{00300   c = itemCount \% columnCount;}
\DoxyCodeLine{00301   \textcolor{keywordflow}{if} (c != 0) \{}
\DoxyCodeLine{00302     \mbox{\hyperlink{class_t_rect_t}{TRect}} box = getItemBounds(itemCount -\/ 1);}
\DoxyCodeLine{00303     \textcolor{keywordflow}{if} (box.y0 <= clipRect.y1 \&\& box.y1 >= clipRect.y0 \&\&}
\DoxyCodeLine{00304         box.x1 + 1 <= clipRect.x1)}
\DoxyCodeLine{00305       fillRect(box.x1 + 1, box.y0, clipRect.x1, box.y1);}
\DoxyCodeLine{00306   \}}
\DoxyCodeLine{00307 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00083}{get\+Column\+Count()}}, and \mbox{\hyperlink{l00557}{TRect\+T$<$ T $>$\+::x0}}.

\mbox{\Hypertarget{class_thumbnail_viewer_ad0d92f3fc75b8fe6c92a6b9dd861ea6e}\label{class_thumbnail_viewer_ad0d92f3fc75b8fe6c92a6b9dd861ea6e}} 
\index{ThumbnailViewer@{ThumbnailViewer}!drawFrame@{drawFrame}}
\index{drawFrame@{drawFrame}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{drawFrame()}{drawFrame()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::draw\+Frame (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})}



draw the index-\/th thumbnail current frame 


\begin{DoxyCode}{0}
\DoxyCodeLine{00144                                          \{}
\DoxyCodeLine{00145   \mbox{\hyperlink{class_t_point_t}{TPoint}} base = \mbox{\hyperlink{class_thumbnail_viewer_a94861df29ce458c1d62b161424eeaf6e}{getItemPos}}(index);}
\DoxyCodeLine{00146   assert(0 <= index \&\& index < (\textcolor{keywordtype}{int})m\_items.size());}
\DoxyCodeLine{00147   assert(m\_items[index]-\/>getRaster());}
\DoxyCodeLine{00148   assert(m\_iconBox.getSize() == m\_items[index]-\/>getRaster()-\/>getSize());}
\DoxyCodeLine{00149   rectwrite(m\_items[index]-\/>getRaster(), base + m\_iconBox.getP00());}
\DoxyCodeLine{00150 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00091}{get\+Item\+Pos()}}.

\mbox{\Hypertarget{class_thumbnail_viewer_ac8598b80a5072af3b3f44181ccd70d27}\label{class_thumbnail_viewer_ac8598b80a5072af3b3f44181ccd70d27}} 
\index{ThumbnailViewer@{ThumbnailViewer}!drawItem@{drawItem}}
\index{drawItem@{drawItem}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{drawItem()}{drawItem()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::draw\+Item (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})}



draw the index-\/th thumbnail 


\begin{DoxyCode}{0}
\DoxyCodeLine{00154                                         \{}
\DoxyCodeLine{00155   \mbox{\hyperlink{class_t_point_t}{TPoint}} base = \mbox{\hyperlink{class_thumbnail_viewer_a94861df29ce458c1d62b161424eeaf6e}{getItemPos}}(index);}
\DoxyCodeLine{00156   \textcolor{keywordflow}{if} (index < 0 || index >= (\textcolor{keywordtype}{int})m\_items.size()) \{}
\DoxyCodeLine{00157     setColor(getBackgroundColor());}
\DoxyCodeLine{00158     fillRect(\mbox{\hyperlink{class_t_rect_t}{TRect}}(base, m\_itemSize));}
\DoxyCodeLine{00159     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00160   \}}
\DoxyCodeLine{00161 }
\DoxyCodeLine{00162   \textcolor{comment}{// setColor(Black);}}
\DoxyCodeLine{00163   \textcolor{comment}{// fillRect(TRect(base, m\_itemSize));}}
\DoxyCodeLine{00164 }
\DoxyCodeLine{00165   \mbox{\hyperlink{class_thumbnail}{Thumbnail}} *item = m\_items[index];}
\DoxyCodeLine{00166   \textcolor{keywordtype}{bool} selected   = item != 0 \&\& index == m\_selectedItemIndex;}
\DoxyCodeLine{00167 }
\DoxyCodeLine{00168   \mbox{\hyperlink{class_t_rect_t}{TRect}} r0(base, m\_itemSize);}
\DoxyCodeLine{00169   \mbox{\hyperlink{class_t_rect_t}{TRect}} r1 = m\_iconBox + base;}
\DoxyCodeLine{00170   \mbox{\hyperlink{class_t_rect_t}{TRect}} r2 = m\_textBox + base;}
\DoxyCodeLine{00171 }
\DoxyCodeLine{00172   setColor(selected ? Cyan : getBackgroundColor());}
\DoxyCodeLine{00173   fillRect(r0.x0, r1.y0, r1.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} -\/ 1, r1.y1);  \textcolor{comment}{// sinistra}}
\DoxyCodeLine{00174   fillRect(r1.x1 + 1, r1.y0, r0.x1, r1.y1);  \textcolor{comment}{// destra}}
\DoxyCodeLine{00175   fillRect(r0.x0, r0.y0, r0.x1, r1.y0 -\/ 1);  \textcolor{comment}{// sotto}}
\DoxyCodeLine{00176   \textcolor{comment}{// fillRect(r1.x0,r1.y1+1,r1.x1,r0.y1); // sopra}}
\DoxyCodeLine{00177   \mbox{\hyperlink{class_t_rect_t}{TRect}} topLine(r0.x0, r1.y1 + 1, r0.x1, r0.y1);}
\DoxyCodeLine{00178   \mbox{\hyperlink{class_t_rect_t}{TRect}} sceneLine = topLine;}
\DoxyCodeLine{00179   sceneLine.y0    = sceneLine.y1 -\/ 3;}
\DoxyCodeLine{00180   topLine.y1      = sceneLine.y0 -\/ 1;}
\DoxyCodeLine{00181   fillRect(topLine);}
\DoxyCodeLine{00182 }
\DoxyCodeLine{00183   \textcolor{keywordflow}{if} (item-\/>getType() == Thumbnail::SCENE) \{}
\DoxyCodeLine{00184     setColor(Black);}
\DoxyCodeLine{00185     drawRect(sceneLine);}
\DoxyCodeLine{00186     setColor(White);}
\DoxyCodeLine{00187     fillRect(sceneLine.enlarge(-\/1));}
\DoxyCodeLine{00188     \textcolor{keywordtype}{int} x;}
\DoxyCodeLine{00189     setColor(Black);}
\DoxyCodeLine{00190     \textcolor{keywordflow}{for} (x = sceneLine.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} + 5; x + 5 < sceneLine.x1; x += 10) \{}
\DoxyCodeLine{00191       \textcolor{keywordtype}{int} y = sceneLine.y0 + 1;}
\DoxyCodeLine{00192       drawLine(x, y, x + 4, y);}
\DoxyCodeLine{00193       y++;}
\DoxyCodeLine{00194       x++;}
\DoxyCodeLine{00195       drawLine(x, y, x + 4, y);}
\DoxyCodeLine{00196     \}}
\DoxyCodeLine{00197   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00198     setColor(White);}
\DoxyCodeLine{00199     fillRect(sceneLine);}
\DoxyCodeLine{00200   \}}
\DoxyCodeLine{00201 }
\DoxyCodeLine{00202   \textcolor{keywordtype}{string} name   = item-\/>getName();}
\DoxyCodeLine{00203   \textcolor{keywordtype}{int} maxWidth  = r2.getLx() -\/ 4;}
\DoxyCodeLine{00204   \mbox{\hyperlink{class_t_dimension_t}{TDimension}} ts = getTextSize(name);}
\DoxyCodeLine{00205   \textcolor{keywordflow}{if} (ts.lx > maxWidth) \{}
\DoxyCodeLine{00206     \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{00207       name.pop\_back();}
\DoxyCodeLine{00208       ts = getTextSize(name);}
\DoxyCodeLine{00209     \} \textcolor{keywordflow}{while} (name.size() > 1 \&\& ts.lx > maxWidth);}
\DoxyCodeLine{00210   \}}
\DoxyCodeLine{00211 }
\DoxyCodeLine{00212   \mbox{\hyperlink{class_t_point_t}{TPoint}} textOrigin = r2.getP00() + \mbox{\hyperlink{class_t_point_t}{TPoint}}(2 -\/ 10, (r2.getLy() -\/ ts.ly) / 2);}
\DoxyCodeLine{00213 }
\DoxyCodeLine{00214   setColor(Black);}
\DoxyCodeLine{00215   \textcolor{keywordtype}{string} fname          = name;}
\DoxyCodeLine{00216   \textcolor{keywordtype}{string} type           = item-\/>getPath().\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}();}
\DoxyCodeLine{00217   \textcolor{keywordflow}{if} (type != \textcolor{stringliteral}{"{}"{}}) fname = fname + \textcolor{stringliteral}{"{}."{}} + type;}
\DoxyCodeLine{00218 }
\DoxyCodeLine{00219   fname = item-\/>getPath().\mbox{\hyperlink{class_t_file_path_a9b256108e6e5ff99f3ba828d4cdbd7ee}{getLevelName}}();}
\DoxyCodeLine{00220   drawText(textOrigin, fname);}
\DoxyCodeLine{00221 }
\DoxyCodeLine{00222   \textcolor{keywordflow}{if} (selected) \{}
\DoxyCodeLine{00223     \mbox{\hyperlink{class_t_rect_t}{TRect}} r = m\_playButtonBox + base;}
\DoxyCodeLine{00224     setColor(Blue);}
\DoxyCodeLine{00225     \textcolor{keywordflow}{if} (m\_playing) \{}
\DoxyCodeLine{00226       \textcolor{keywordtype}{int} x0 = r.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}}, x3 = r.x1;}
\DoxyCodeLine{00227       \textcolor{keywordtype}{int} x1 = (x0 + x3) / 2 -\/ 1;}
\DoxyCodeLine{00228       \textcolor{keywordtype}{int} x2 = x3 -\/ (x1 -\/ x0);}
\DoxyCodeLine{00229       drawRect(x0, r.y0, x1, r.y1);}
\DoxyCodeLine{00230       drawRect(x2, r.y0, x3, r.y1);}
\DoxyCodeLine{00231     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00232       \mbox{\hyperlink{classvector}{vector<TPoint>}} pts;}
\DoxyCodeLine{00233       \textcolor{keywordtype}{int} d = (r.y1 -\/ r.y0 + 1) / 2;}
\DoxyCodeLine{00234       \textcolor{keywordtype}{int} x = r.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}};}
\DoxyCodeLine{00235       \textcolor{keywordtype}{int} y = r.y0;}
\DoxyCodeLine{00236       pts.push\_back(\mbox{\hyperlink{class_t_point_t}{TPoint}}(x, y));}
\DoxyCodeLine{00237       pts.push\_back(\mbox{\hyperlink{class_t_point_t}{TPoint}}(x + d, y + d));}
\DoxyCodeLine{00238       pts.push\_back(\mbox{\hyperlink{class_t_point_t}{TPoint}}(x, y + d * 2));}
\DoxyCodeLine{00239       fillPolygon(Cyan, Blue, \&pts[0], 3);}
\DoxyCodeLine{00240     \}}
\DoxyCodeLine{00241   \}}
\DoxyCodeLine{00242   assert(0 <= index \&\& index < (\textcolor{keywordtype}{int})m\_items.size());}
\DoxyCodeLine{00243   assert(m\_items[index]-\/>getRaster());}
\DoxyCodeLine{00244   assert(m\_iconBox.getSize() == m\_items[index]-\/>getRaster()-\/>getSize());}
\DoxyCodeLine{00245   rectwrite(m\_items[index]-\/>getRaster(), base + m\_iconBox.getP00());}
\DoxyCodeLine{00246 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00091}{get\+Item\+Pos()}}, \mbox{\hyperlink{l00643}{TFile\+Path\+::get\+Level\+Name()}}, \mbox{\hyperlink{l00225}{TFile\+Path\+::get\+Type()}}, and \mbox{\hyperlink{l00557}{TRect\+T$<$ T $>$\+::x0}}.

\mbox{\Hypertarget{class_thumbnail_viewer_a6912b2a52f678dff0836f6f4bcc2e1b2}\label{class_thumbnail_viewer_a6912b2a52f678dff0836f6f4bcc2e1b2}} 
\index{ThumbnailViewer@{ThumbnailViewer}!findItem@{findItem}}
\index{findItem@{findItem}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{findItem()}{findItem()}}
{\footnotesize\ttfamily int Thumbnail\+Viewer\+::find\+Item (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPoint}} \&}]{pos }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00109                                                \{}
\DoxyCodeLine{00110   \textcolor{keywordtype}{int} columnCount = \mbox{\hyperlink{class_thumbnail_viewer_a8510051c2140696038e4e2d4c2507da3}{getColumnCount}}();}
\DoxyCodeLine{00111   \textcolor{keywordtype}{int} col         = (pos.x -\/ m\_margins.lx) / (m\_itemSize.lx + m\_itemSpace.lx);}
\DoxyCodeLine{00112   \textcolor{keywordtype}{int} row         = (getLy() -\/ m\_margins.ly -\/ m\_itemSpace.ly -\/ pos.y) /}
\DoxyCodeLine{00113             (m\_itemSize.ly + m\_itemSpace.ly);}
\DoxyCodeLine{00114   \textcolor{keywordtype}{int} index = row * columnCount + col;}
\DoxyCodeLine{00115   \textcolor{keywordflow}{if} (0 <= index \&\& index < (\textcolor{keywordtype}{int})m\_items.size() \&\&}
\DoxyCodeLine{00116       getItemBounds(index).contains(pos))}
\DoxyCodeLine{00117     \textcolor{keywordflow}{return} index;}
\DoxyCodeLine{00118   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00119     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00120 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a8510051c2140696038e4e2d4c2507da3}\label{class_thumbnail_viewer_a8510051c2140696038e4e2d4c2507da3}} 
\index{ThumbnailViewer@{ThumbnailViewer}!getColumnCount@{getColumnCount}}
\index{getColumnCount@{getColumnCount}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{getColumnCount()}{getColumnCount()}}
{\footnotesize\ttfamily int Thumbnail\+Viewer\+::get\+Column\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



find the max number of thumbnails which fit the current widget width 


\begin{DoxyCode}{0}
\DoxyCodeLine{00083                                           \{}
\DoxyCodeLine{00084   \textcolor{keywordtype}{int} columnWidth    = m\_itemSize.lx + m\_itemSpace.lx;}
\DoxyCodeLine{00085   \textcolor{keywordtype}{int} availableWidth = getLx() -\/ m\_margins.lx * 2 + m\_itemSpace.lx;}
\DoxyCodeLine{00086   \textcolor{keywordflow}{return} tmax(1, (availableWidth) / columnWidth);}
\DoxyCodeLine{00087 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00250}{draw\+Background()}}, and \mbox{\hyperlink{l00091}{get\+Item\+Pos()}}.

\mbox{\Hypertarget{class_thumbnail_viewer_a748b24bcd05bf74b8a06fb974a614f10}\label{class_thumbnail_viewer_a748b24bcd05bf74b8a06fb974a614f10}} 
\index{ThumbnailViewer@{ThumbnailViewer}!getIconSize@{getIconSize}}
\index{getIconSize@{getIconSize}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{getIconSize()}{getIconSize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_dimension_t}{TDimension}} Thumbnail\+Viewer\+::get\+Icon\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00045 \{ \textcolor{keywordflow}{return} m\_iconBox.getSize(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a737371daafb8c12ae44119a613088915}\label{class_thumbnail_viewer_a737371daafb8c12ae44119a613088915}} 
\index{ThumbnailViewer@{ThumbnailViewer}!getItem@{getItem}}
\index{getItem@{getItem}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{getItem()}{getItem()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_thumbnail}{Thumbnail}} $\ast$ Thumbnail\+Viewer\+::get\+Item (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00128                                                    \{}
\DoxyCodeLine{00129   assert(0 <= index \&\& index < (\textcolor{keywordtype}{int})m\_items.size());}
\DoxyCodeLine{00130   \textcolor{keywordflow}{return} m\_items[index];}
\DoxyCodeLine{00131 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a09c1d4061d6494666836046eeee06c01}\label{class_thumbnail_viewer_a09c1d4061d6494666836046eeee06c01}} 
\index{ThumbnailViewer@{ThumbnailViewer}!getItemBounds@{getItemBounds}}
\index{getItemBounds@{getItemBounds}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{getItemBounds()}{getItemBounds()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRect}} Thumbnail\+Viewer\+::get\+Item\+Bounds (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00103                                               \{}
\DoxyCodeLine{00104   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_rect_t}{TRect}}(\mbox{\hyperlink{class_thumbnail_viewer_a94861df29ce458c1d62b161424eeaf6e}{getItemPos}}(index), m\_itemSize);}
\DoxyCodeLine{00105 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_ab30619464c90c4742322bc238de5b2e6}\label{class_thumbnail_viewer_ab30619464c90c4742322bc238de5b2e6}} 
\index{ThumbnailViewer@{ThumbnailViewer}!getItemCount@{getItemCount}}
\index{getItemCount@{getItemCount}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{getItemCount()}{getItemCount()}}
{\footnotesize\ttfamily int Thumbnail\+Viewer\+::get\+Item\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00124 \{ \textcolor{keywordflow}{return} m\_items.size(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a94861df29ce458c1d62b161424eeaf6e}\label{class_thumbnail_viewer_a94861df29ce458c1d62b161424eeaf6e}} 
\index{ThumbnailViewer@{ThumbnailViewer}!getItemPos@{getItemPos}}
\index{getItemPos@{getItemPos}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{getItemPos()}{getItemPos()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPoint}} Thumbnail\+Viewer\+::get\+Item\+Pos (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})}

find the bottom-\/left corner coordinate of the index-\/th thumbnail (icon+controls) 
\begin{DoxyCode}{0}
\DoxyCodeLine{00091                                             \{}
\DoxyCodeLine{00092   \textcolor{keywordtype}{int} columnCount = \mbox{\hyperlink{class_thumbnail_viewer_a8510051c2140696038e4e2d4c2507da3}{getColumnCount}}();}
\DoxyCodeLine{00093   \textcolor{keywordtype}{int} row         = index / columnCount;}
\DoxyCodeLine{00094   \textcolor{keywordtype}{int} col         = index \% columnCount;}
\DoxyCodeLine{00095   \textcolor{keywordtype}{int} x           = m\_margins.lx + col * (m\_itemSize.lx + m\_itemSpace.lx);}
\DoxyCodeLine{00096   \textcolor{keywordtype}{int} y           = getLy() -\/ m\_margins.ly -\/ m\_itemSize.ly -\/}
\DoxyCodeLine{00097           row * (m\_itemSize.ly + m\_itemSpace.ly);}
\DoxyCodeLine{00098   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_point_t}{TPoint}}(x, y);}
\DoxyCodeLine{00099 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00083}{get\+Column\+Count()}}.



Referenced by \mbox{\hyperlink{l00144}{draw\+Frame()}}, and \mbox{\hyperlink{l00154}{draw\+Item()}}.

\mbox{\Hypertarget{class_thumbnail_viewer_a127d064c25ac09f9772d0d97f9c0e29e}\label{class_thumbnail_viewer_a127d064c25ac09f9772d0d97f9c0e29e}} 
\index{ThumbnailViewer@{ThumbnailViewer}!getSelectedItemIndex@{getSelectedItemIndex}}
\index{getSelectedItemIndex@{getSelectedItemIndex}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{getSelectedItemIndex()}{getSelectedItemIndex()}}
{\footnotesize\ttfamily int Thumbnail\+Viewer\+::get\+Selected\+Item\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00087 \{ \textcolor{keywordflow}{return} m\_selectedItemIndex; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a0f63baef4c4183d5b5d0bdfa9d41f62b}\label{class_thumbnail_viewer_a0f63baef4c4183d5b5d0bdfa9d41f62b}} 
\index{ThumbnailViewer@{ThumbnailViewer}!leftButtonDoubleClick@{leftButtonDoubleClick}}
\index{leftButtonDoubleClick@{leftButtonDoubleClick}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{leftButtonDoubleClick()}{leftButtonDoubleClick()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::left\+Button\+Double\+Click (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_widget}{TWidget}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00459                                                                 \{}
\DoxyCodeLine{00460   \mbox{\hyperlink{class_t_point_t}{TPoint}} pos = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}} -\/ \mbox{\hyperlink{class_t_point_t}{TPoint}}(m\_xoff, m\_yoff);}
\DoxyCodeLine{00461   m\_nameField-\/>hide();}
\DoxyCodeLine{00462   \textcolor{keywordtype}{int} index = findItem(pos);}
\DoxyCodeLine{00463   \textcolor{keywordflow}{if} (index >= 0) onDoubleClick(index);}
\DoxyCodeLine{00464 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a1534d33449f68f1591eec9527bb997b2}\label{class_thumbnail_viewer_a1534d33449f68f1591eec9527bb997b2}} 
\index{ThumbnailViewer@{ThumbnailViewer}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_widget}{TWidget}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00394                                                          \{}
\DoxyCodeLine{00395   \mbox{\hyperlink{class_t_point_t}{TPoint}} pos      = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}} -\/ \mbox{\hyperlink{class_t_point_t}{TPoint}}(m\_xoff, m\_yoff);}
\DoxyCodeLine{00396   m\_oldPos        = e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}};}
\DoxyCodeLine{00397   m\_dragDropArmed = \textcolor{keyword}{false};}
\DoxyCodeLine{00398 }
\DoxyCodeLine{00399   m\_nameField-\/>hide();}
\DoxyCodeLine{00400   \textcolor{comment}{//  if(setGeometry(m\_textBox + bounds.getP00());}}
\DoxyCodeLine{00401   \textcolor{comment}{//           m\_nameField-\/>setText(m\_items[index]-\/>getName());}}
\DoxyCodeLine{00402   \textcolor{comment}{//           m\_nameField-\/>show();}}
\DoxyCodeLine{00403 }
\DoxyCodeLine{00404   \textcolor{keywordtype}{int} index = findItem(pos);}
\DoxyCodeLine{00405   \textcolor{keywordflow}{if} (index >= 0) \{}
\DoxyCodeLine{00406     \textcolor{keywordflow}{if} (m\_selectedItemIndex == index) \{}
\DoxyCodeLine{00407       \mbox{\hyperlink{class_t_rect_t}{TRect}} bounds = getItemBounds(index);}
\DoxyCodeLine{00408       pos -\/= bounds.getP00();}
\DoxyCodeLine{00409       \textcolor{keywordflow}{if} (m\_playButtonBox.contains(pos)) \{}
\DoxyCodeLine{00410         \textcolor{keywordflow}{if} (!m\_playing)}
\DoxyCodeLine{00411           startPlaying();}
\DoxyCodeLine{00412         \textcolor{keywordflow}{else}}
\DoxyCodeLine{00413           stopPlaying();}
\DoxyCodeLine{00414         invalidate();}
\DoxyCodeLine{00415       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_textBox.contains(pos)) \{}
\DoxyCodeLine{00416         stopPlaying();}
\DoxyCodeLine{00417         m\_nameField-\/>setGeometry(m\_textBox + bounds.getP00() + \mbox{\hyperlink{class_t_point_t}{TPoint}}(-\/10, 0));}
\DoxyCodeLine{00418         m\_nameField-\/>setThumbnail(m\_items[index]);}
\DoxyCodeLine{00419         m\_nameField-\/>show();}
\DoxyCodeLine{00420         setFocusOwner(m\_nameField);}
\DoxyCodeLine{00421       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00422         m\_dragDropArmed = \textcolor{keyword}{true};}
\DoxyCodeLine{00423       \}}
\DoxyCodeLine{00424     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00425       select(index);}
\DoxyCodeLine{00426       m\_dragDropArmed = \textcolor{keyword}{true};}
\DoxyCodeLine{00427     \}}
\DoxyCodeLine{00428   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00429     select(-\/1);}
\DoxyCodeLine{00430   invalidate();}
\DoxyCodeLine{00431 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_aadf0b01849a4e9fa6327681a2090c612}\label{class_thumbnail_viewer_aadf0b01849a4e9fa6327681a2090c612}} 
\index{ThumbnailViewer@{ThumbnailViewer}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_widget}{TWidget}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00435                                                          \{}
\DoxyCodeLine{00436   \textcolor{keywordflow}{if} (!m\_dragDropArmed || m\_selectedItemIndex < 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00437   \textcolor{keywordflow}{if} (norm2(e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}} -\/ m\_oldPos) < 100) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00438   m\_dragDropArmed = \textcolor{keyword}{false};}
\DoxyCodeLine{00439 }
\DoxyCodeLine{00440   \mbox{\hyperlink{class_thumbnail}{Thumbnail}} *item = m\_items[m\_selectedItemIndex];}
\DoxyCodeLine{00441   \mbox{\hyperlink{class_t_file_path}{TFilePath}} path  = item-\/>getPath();}
\DoxyCodeLine{00442   \textcolor{keywordflow}{if} (path.getWideString() != toWideString(\textcolor{stringliteral}{"{}"{}})) \{}
\DoxyCodeLine{00443     \mbox{\hyperlink{class_t_drop_source}{TDropSource}} dropSource;}
\DoxyCodeLine{00444     std::vector<std::string> v;}
\DoxyCodeLine{00445     v.push\_back(toString(path.getWideString()));}
\DoxyCodeLine{00446     \mbox{\hyperlink{class_t_data_object}{TDataObject}} data(v);}
\DoxyCodeLine{00447     dropSource.doDragDrop(data);}
\DoxyCodeLine{00448   \}}
\DoxyCodeLine{00449 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a5a871796817653ac1d4af234860d6591}\label{class_thumbnail_viewer_a5a871796817653ac1d4af234860d6591}} 
\index{ThumbnailViewer@{ThumbnailViewer}!leftButtonUp@{leftButtonUp}}
\index{leftButtonUp@{leftButtonUp}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{leftButtonUp()}{leftButtonUp()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::left\+Button\+Up (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_widget}{TWidget}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00453                                                        \{}
\DoxyCodeLine{00454   m\_dragDropArmed = \textcolor{keyword}{false};}
\DoxyCodeLine{00455 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a0072515dfd956a35f8f5613194c85418}\label{class_thumbnail_viewer_a0072515dfd956a35f8f5613194c85418}} 
\index{ThumbnailViewer@{ThumbnailViewer}!loadDirectory@{loadDirectory}}
\index{loadDirectory@{loadDirectory}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{loadDirectory()}{loadDirectory()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::load\+Directory (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{dir\+Path,  }\item[{const \mbox{\hyperlink{classvector}{vector}}$<$ string $>$ \&}]{file\+Types }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00523                                                                      \{}
\DoxyCodeLine{00524   clearItems();}
\DoxyCodeLine{00525   TFilePathSet fps;}
\DoxyCodeLine{00526 }
\DoxyCodeLine{00527   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00528     fps = TSystem::readDirectory(dirPath);}
\DoxyCodeLine{00529   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00530     TMessage::error(toString(dirPath.getWideString()) +}
\DoxyCodeLine{00531                     \textcolor{stringliteral}{"{}: can't read directory"{}});}
\DoxyCodeLine{00532     updateContentSize();}
\DoxyCodeLine{00533     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00534   \}}
\DoxyCodeLine{00535 }
\DoxyCodeLine{00536   fps = TSystem::packLevelNames(fps);}
\DoxyCodeLine{00537   fps.sort();}
\DoxyCodeLine{00538 }
\DoxyCodeLine{00539   \textcolor{keywordflow}{for} (TFilePathSet::iterator it = fps.begin(); it != fps.end(); it++) \{}
\DoxyCodeLine{00540     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00541       \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = *it;}
\DoxyCodeLine{00542       \textcolor{keywordflow}{if} (fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}() == \textcolor{stringliteral}{"{}bmp"{}} \&\& fp.\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}().find(\textcolor{stringliteral}{"{}\_icon"{}}) != string::npos)}
\DoxyCodeLine{00543         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00544       \textcolor{keywordflow}{if} (std::find(fileTypes.begin(), fileTypes.end(), fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}()) ==}
\DoxyCodeLine{00545           fileTypes.end())}
\DoxyCodeLine{00546         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00547       \mbox{\hyperlink{class_thumbnail}{Thumbnail}} *item = FileThumbnail::create(m\_iconBox.getSize(), fp);}
\DoxyCodeLine{00548       \textcolor{keywordflow}{if} (item) m\_items.push\_back(item);}
\DoxyCodeLine{00549     \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00550       TMessage::error(toString(it-\/>getWideString()) + \textcolor{stringliteral}{"{}: can't read thumbnail"{}});}
\DoxyCodeLine{00551     \}}
\DoxyCodeLine{00552   \}}
\DoxyCodeLine{00553   updateContentSize();}
\DoxyCodeLine{00554 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a2f7aafb4aa96832a29017b1fab38976e}\label{class_thumbnail_viewer_a2f7aafb4aa96832a29017b1fab38976e}} 
\index{ThumbnailViewer@{ThumbnailViewer}!middleButtonDown@{middleButtonDown}}
\index{middleButtonDown@{middleButtonDown}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{middleButtonDown()}{middleButtonDown()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::middle\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_scroll_view}{TScroll\+View}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00094 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a1b4ee959197d0c211cd9b41d35c09d88}\label{class_thumbnail_viewer_a1b4ee959197d0c211cd9b41d35c09d88}} 
\index{ThumbnailViewer@{ThumbnailViewer}!middleButtonDrag@{middleButtonDrag}}
\index{middleButtonDrag@{middleButtonDrag}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{middleButtonDrag()}{middleButtonDrag()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::middle\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_scroll_view}{TScroll\+View}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00095 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a75a2e168e5c75817580b0f44656076f3}\label{class_thumbnail_viewer_a75a2e168e5c75817580b0f44656076f3}} 
\index{ThumbnailViewer@{ThumbnailViewer}!middleButtonUp@{middleButtonUp}}
\index{middleButtonUp@{middleButtonUp}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{middleButtonUp()}{middleButtonUp()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::middle\+Button\+Up (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_scroll_view}{TScroll\+View}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00096 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a26f57f802effb98122915b809e295e4e}\label{class_thumbnail_viewer_a26f57f802effb98122915b809e295e4e}} 
\index{ThumbnailViewer@{ThumbnailViewer}!onDoubleClick@{onDoubleClick}}
\index{onDoubleClick@{onDoubleClick}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{onDoubleClick()}{onDoubleClick()}}
{\footnotesize\ttfamily virtual void Thumbnail\+Viewer\+::on\+Double\+Click (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00100 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_ae0131422663ad0d61acbec15495a905b}\label{class_thumbnail_viewer_ae0131422663ad0d61acbec15495a905b}} 
\index{ThumbnailViewer@{ThumbnailViewer}!onSelect@{onSelect}}
\index{onSelect@{onSelect}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{onSelect()}{onSelect()}}
{\footnotesize\ttfamily virtual void Thumbnail\+Viewer\+::on\+Select (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00101 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_ad6fdcefa89bf1ba15deaed0520c6e313}\label{class_thumbnail_viewer_ad6fdcefa89bf1ba15deaed0520c6e313}} 
\index{ThumbnailViewer@{ThumbnailViewer}!onTimer@{onTimer}}
\index{onTimer@{onTimer}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{onTimer()}{onTimer()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::on\+Timer (\begin{DoxyParamCaption}\item[{int}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_scroll_view}{TScroll\+View}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00468                                  \{}
\DoxyCodeLine{00469   stopTimer();}
\DoxyCodeLine{00470   m\_timerActive = \textcolor{keyword}{false};}
\DoxyCodeLine{00471   \textcolor{keywordflow}{if} (m\_playing \&\& m\_selectedItemIndex >= 0) \{}
\DoxyCodeLine{00472     \mbox{\hyperlink{class_thumbnail}{Thumbnail}} *thumbnail = m\_items[m\_selectedItemIndex];}
\DoxyCodeLine{00473     \textcolor{keywordtype}{bool} ret             = thumbnail-\/>nextFrame();}
\DoxyCodeLine{00474     \textcolor{keywordflow}{if} (ret) \{}
\DoxyCodeLine{00475       m\_timerActive = \textcolor{keyword}{true};}
\DoxyCodeLine{00476       startTimer(100);}
\DoxyCodeLine{00477     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00478       thumbnail-\/>gotoFrame(0);}
\DoxyCodeLine{00479       thumbnail-\/>setPlaying(\textcolor{keyword}{false});}
\DoxyCodeLine{00480       m\_playing = \textcolor{keyword}{false};}
\DoxyCodeLine{00481     \}}
\DoxyCodeLine{00482     invalidate();}
\DoxyCodeLine{00483   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_loading) \{}
\DoxyCodeLine{00484     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_items.size(); i++)}
\DoxyCodeLine{00485       \textcolor{keywordflow}{if} (!m\_items[i]-\/>isIconLoaded()) \{}
\DoxyCodeLine{00486         m\_items[i]-\/>loadIcon();}
\DoxyCodeLine{00487         invalidate();}
\DoxyCodeLine{00488         \textcolor{keywordflow}{return};}
\DoxyCodeLine{00489       \}}
\DoxyCodeLine{00490   \}}
\DoxyCodeLine{00491 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_af55be5670ec0178c634c78919f10cb9a}\label{class_thumbnail_viewer_af55be5670ec0178c634c78919f10cb9a}} 
\index{ThumbnailViewer@{ThumbnailViewer}!removeItem@{removeItem}}
\index{removeItem@{removeItem}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{removeItem()}{removeItem()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::remove\+Item (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_thumbnail}{Thumbnail}} $\ast$}]{item }\end{DoxyParamCaption})}



removes the item from the \mbox{\hyperlink{class_thumbnail_viewer}{Thumbnail\+Viewer}}. It doesn\textquotesingle{}t destroy the item 


\begin{DoxyCode}{0}
\DoxyCodeLine{00499                                                 \{}
\DoxyCodeLine{00500   std::vector<Thumbnail *>::iterator it =}
\DoxyCodeLine{00501       std::find(m\_items.begin(), m\_items.end(), item);}
\DoxyCodeLine{00502   \textcolor{keywordflow}{if} (it != m\_items.end()) m\_items.erase(it);}
\DoxyCodeLine{00503 }
\DoxyCodeLine{00504   m\_selectedItemIndex = -\/1;}
\DoxyCodeLine{00505 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a69cbc6b3d43cf4b31815cdf83c793d09}\label{class_thumbnail_viewer_a69cbc6b3d43cf4b31815cdf83c793d09}} 
\index{ThumbnailViewer@{ThumbnailViewer}!repaint@{repaint}}
\index{repaint@{repaint}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{repaint()}{repaint()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::repaint (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_widget}{TWidget}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00311                               \{}
\DoxyCodeLine{00312   \textcolor{keywordflow}{if} (m\_flag) \{}
\DoxyCodeLine{00313     \textcolor{keywordflow}{if} (m\_selectedItemIndex) \mbox{\hyperlink{class_thumbnail_viewer_ad0d92f3fc75b8fe6c92a6b9dd861ea6e}{drawFrame}}(m\_selectedItemIndex);}
\DoxyCodeLine{00314   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00315     \textcolor{comment}{// m\_loadingDirectory = false;}}
\DoxyCodeLine{00316     \textcolor{comment}{// setColor(Black);}}
\DoxyCodeLine{00317     \textcolor{comment}{// fillRect(getBounds());}}
\DoxyCodeLine{00318 }
\DoxyCodeLine{00319     \mbox{\hyperlink{class_thumbnail_viewer_a6120ee590778565c35d88d048db06929}{drawBackground}}();}
\DoxyCodeLine{00320 }
\DoxyCodeLine{00321     \mbox{\hyperlink{class_t_rect_t}{TRect}} clipRect;}
\DoxyCodeLine{00322     getClipRect(clipRect);  \textcolor{comment}{// coordinate window}}
\DoxyCodeLine{00323     clipRect -\/= \mbox{\hyperlink{class_t_point_t}{TPoint}}(m\_xoff, m\_yoff);}
\DoxyCodeLine{00324 }
\DoxyCodeLine{00325     \textcolor{keywordtype}{bool} loading = \textcolor{keyword}{false};}
\DoxyCodeLine{00326     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_items.size(); i++) \{}
\DoxyCodeLine{00327       \mbox{\hyperlink{class_t_rect_t}{TRect}} bounds = getItemBounds(i);}
\DoxyCodeLine{00328       \textcolor{keywordflow}{if} (bounds.overlaps(clipRect)) \{}
\DoxyCodeLine{00329         \mbox{\hyperlink{class_thumbnail_viewer_ac8598b80a5072af3b3f44181ccd70d27}{drawItem}}(i);}
\DoxyCodeLine{00330         \textcolor{keywordflow}{if} (m\_items[i]-\/>isIconLoaded() == \textcolor{keyword}{false}) loading = \textcolor{keyword}{true};}
\DoxyCodeLine{00331       \}}
\DoxyCodeLine{00332     \}}
\DoxyCodeLine{00333     \textcolor{keywordflow}{if} (loading) \{}
\DoxyCodeLine{00334       m\_loading = \textcolor{keyword}{true};}
\DoxyCodeLine{00335       \textcolor{keywordflow}{if} (!m\_timerActive) \{}
\DoxyCodeLine{00336         m\_timerActive = \textcolor{keyword}{true};}
\DoxyCodeLine{00337         startTimer(200);}
\DoxyCodeLine{00338       \}}
\DoxyCodeLine{00339     \}}
\DoxyCodeLine{00340   \}}
\DoxyCodeLine{00341 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_af10226cfc66518318ca2fb069a8adf6e}\label{class_thumbnail_viewer_af10226cfc66518318ca2fb069a8adf6e}} 
\index{ThumbnailViewer@{ThumbnailViewer}!scrollPage@{scrollPage}}
\index{scrollPage@{scrollPage}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{scrollPage()}{scrollPage()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::scroll\+Page (\begin{DoxyParamCaption}\item[{int}]{y }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00571 \{ doScrollTo\_y(tmax(y, 0)); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a0ef08950a31a97b7f95e4ea541ad44f1}\label{class_thumbnail_viewer_a0ef08950a31a97b7f95e4ea541ad44f1}} 
\index{ThumbnailViewer@{ThumbnailViewer}!select@{select}}
\index{select@{select}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{select()}{select()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::select (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00345                                       \{}
\DoxyCodeLine{00346   assert(index == -\/1 || 0 <= index \&\& index < (\textcolor{keywordtype}{int})m\_items.size());}
\DoxyCodeLine{00347   m\_playing = \textcolor{keyword}{false};}
\DoxyCodeLine{00348   \textcolor{keywordflow}{if} (m\_timerActive) \{}
\DoxyCodeLine{00349     m\_timerActive = \textcolor{keyword}{false};}
\DoxyCodeLine{00350     stopTimer();}
\DoxyCodeLine{00351   \}}
\DoxyCodeLine{00352   \mbox{\hyperlink{class_thumbnail}{Thumbnail}} *thumbnail;}
\DoxyCodeLine{00353   \textcolor{keywordflow}{if} (m\_selectedItemIndex >= 0) \{}
\DoxyCodeLine{00354     thumbnail = m\_items[m\_selectedItemIndex];}
\DoxyCodeLine{00355     thumbnail-\/>setPlaying(\textcolor{keyword}{false});}
\DoxyCodeLine{00356   \}}
\DoxyCodeLine{00357   m\_selectedItemIndex = index;}
\DoxyCodeLine{00358   onSelect(m\_selectedItemIndex);}
\DoxyCodeLine{00359 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a407f147cc0178144a8eba7c2f903a380}\label{class_thumbnail_viewer_a407f147cc0178144a8eba7c2f903a380}} 
\index{ThumbnailViewer@{ThumbnailViewer}!startPlaying@{startPlaying}}
\index{startPlaying@{startPlaying}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{startPlaying()}{startPlaying()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::start\+Playing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00363                                    \{}
\DoxyCodeLine{00364   \textcolor{keywordflow}{if} (m\_playing) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00365   \textcolor{keywordflow}{if} (m\_selectedItemIndex < 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00366   m\_playing = \textcolor{keyword}{true};}
\DoxyCodeLine{00367   assert(0 <= m\_selectedItemIndex \&\& m\_selectedItemIndex < (\textcolor{keywordtype}{int})m\_items.size());}
\DoxyCodeLine{00368   m\_items[m\_selectedItemIndex]-\/>setPlaying(\textcolor{keyword}{true});}
\DoxyCodeLine{00369   \textcolor{keywordflow}{if} (!m\_timerActive) \{}
\DoxyCodeLine{00370     m\_timerActive = \textcolor{keyword}{true};}
\DoxyCodeLine{00371     startTimer(200);}
\DoxyCodeLine{00372   \}}
\DoxyCodeLine{00373 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_a4c03dbbdd18a603488b15def2834a6eb}\label{class_thumbnail_viewer_a4c03dbbdd18a603488b15def2834a6eb}} 
\index{ThumbnailViewer@{ThumbnailViewer}!stopPlaying@{stopPlaying}}
\index{stopPlaying@{stopPlaying}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{stopPlaying()}{stopPlaying()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::stop\+Playing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00377                                   \{}
\DoxyCodeLine{00378   \textcolor{keywordflow}{if} (!m\_playing) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00379   m\_playing = \textcolor{keyword}{false};}
\DoxyCodeLine{00380   \textcolor{keywordflow}{if} (m\_selectedItemIndex >= 0) \{}
\DoxyCodeLine{00381     assert(0 <= m\_selectedItemIndex \&\&}
\DoxyCodeLine{00382            m\_selectedItemIndex < (\textcolor{keywordtype}{int})m\_items.size());}
\DoxyCodeLine{00383     m\_items[m\_selectedItemIndex]-\/>gotoFrame(0);}
\DoxyCodeLine{00384     m\_items[m\_selectedItemIndex]-\/>setPlaying(\textcolor{keyword}{false});}
\DoxyCodeLine{00385   \}}
\DoxyCodeLine{00386   \textcolor{keywordflow}{if} (m\_timerActive) \{}
\DoxyCodeLine{00387     m\_timerActive = \textcolor{keyword}{false};}
\DoxyCodeLine{00388     stopTimer();}
\DoxyCodeLine{00389   \}}
\DoxyCodeLine{00390 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_thumbnail_viewer_ad0b015c83501f89a1b1990884febc841}\label{class_thumbnail_viewer_ad0b015c83501f89a1b1990884febc841}} 
\index{ThumbnailViewer@{ThumbnailViewer}!updateContentSize@{updateContentSize}}
\index{updateContentSize@{updateContentSize}!ThumbnailViewer@{ThumbnailViewer}}
\doxysubsubsection{\texorpdfstring{updateContentSize()}{updateContentSize()}}
{\footnotesize\ttfamily void Thumbnail\+Viewer\+::update\+Content\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00558                                         \{}
\DoxyCodeLine{00559   \textcolor{keywordtype}{int} itemCount   = m\_items.size();}
\DoxyCodeLine{00560   \textcolor{keywordtype}{int} columnCount = \mbox{\hyperlink{class_thumbnail_viewer_a8510051c2140696038e4e2d4c2507da3}{getColumnCount}}();}
\DoxyCodeLine{00561   \textcolor{keywordtype}{int} rowCount    = (itemCount + columnCount -\/ 1) / columnCount;}
\DoxyCodeLine{00562 }
\DoxyCodeLine{00563   \mbox{\hyperlink{class_t_rect_t}{TRect}} rect;}
\DoxyCodeLine{00564   \textcolor{keywordtype}{int} yrange = rowCount * (m\_itemSize.ly + m\_itemSpace.ly) -\/ m\_itemSpace.ly +}
\DoxyCodeLine{00565                m\_margins.ly * 2;}
\DoxyCodeLine{00566   setContentSize(\mbox{\hyperlink{class_t_dimension_t}{TDimension}}(getLx(), yrange));}
\DoxyCodeLine{00567 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzfarm/tfarmclient/thumbnailviewer.\+h\item 
E\+:/opentoonz/toonz/sources/toonzfarm/tfarmclient/thumbnailviewer.\+cpp\end{DoxyCompactItemize}
