\hypertarget{class_function_selection}{}\doxysection{Function\+Selection Class Reference}
\label{class_function_selection}\index{FunctionSelection@{FunctionSelection}}
Inheritance diagram for Function\+Selection\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_function_selection}
\end{center}
\end{figure}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_function_selection_ac9f98130be67582d5e63f471137a901a}\label{class_function_selection_ac9f98130be67582d5e63f471137a901a}} 
void {\bfseries selection\+Changed} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_function_selection_a3b578fdda63e3cf52a6f21837ed14f47}{set\+Frame\+Handle}} (\mbox{\hyperlink{class_t_frame_handle}{TFrame\+Handle}} $\ast$frame\+Handle)
\item 
void \mbox{\hyperlink{class_function_selection_afef61fa002d57cfe17ecb136213b63f7}{select\+Curve}} (\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$curve)
\item 
void \mbox{\hyperlink{class_function_selection_a619f356c8987924307376f1267e80b54}{deselect\+All\+Keyframes}} ()
\item 
QRect \mbox{\hyperlink{class_function_selection_accd98468bd93994e41d06bfba2ba8185}{get\+Selected\+Cells}} () const
\item 
void \mbox{\hyperlink{class_function_selection_a18f26f2fd899cd38a9f107e101667564}{select\+Cells}} (const QRect \&selected\+Cells, const QList$<$ \mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$ $>$ \&curves)
\item 
void \mbox{\hyperlink{class_function_selection_ac7897ee581c1698b403a914fdbb3f60c}{select\+Cells}} (const QRect \&selected\+Cells)
\item 
\mbox{\Hypertarget{class_function_selection_a9d10afd6e07e8609f4e0bc7b8d12f54f}\label{class_function_selection_a9d10afd6e07e8609f4e0bc7b8d12f54f}} 
void {\bfseries deselect\+All\+Cells} ()
\item 
bool \mbox{\hyperlink{class_function_selection_abc0080c708e370378a64b9f81919b0a4}{is\+Empty}} () const override
\item 
void \mbox{\hyperlink{class_function_selection_aa34b7b23f83b7bc23d04abcad810b757}{select\+None}} () override
\item 
void \mbox{\hyperlink{class_function_selection_adfb0f9efd070111499ad5e5e8a9acec1}{select}} (\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$curve, int k)
\item 
bool \mbox{\hyperlink{class_function_selection_a0e72c00a26dc4d0063ec7e09bd814275}{is\+Selected}} (\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$curve, int k) const
\item 
void \mbox{\hyperlink{class_function_selection_a1479b26a3191e58113a355b54fadb95e}{select\+Segment}} (\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$, int k, QRect selected\+Cells=QRect())
\item 
int \mbox{\hyperlink{class_function_selection_a30c0b286a4279cdce3a56965306a1296}{get\+Selected\+Keyframe\+Count}} () const
\item 
QPair$<$ \mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$, int $>$ \mbox{\hyperlink{class_function_selection_a77efc3e67db916908cb17276529ebf23}{get\+Selected\+Keyframe}} (int index) const
\item 
QPair$<$ \mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$, int $>$ \mbox{\hyperlink{class_function_selection_ae0cfc3d72b7e55b8d9f1168ef1c00b7d}{get\+Selected\+Segment}} () const
\item 
bool \mbox{\hyperlink{class_function_selection_ad8239a55924ab1fb21502028898b397e}{is\+Segment\+Selected}} (\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$, int k) const
\item 
void \mbox{\hyperlink{class_function_selection_ae76bc1ff8d6c89c7328391e1a2ecb157}{set\+Column\+To\+Curve\+Mapper}} (\mbox{\hyperlink{class_column_to_curve_mapper}{Column\+To\+Curve\+Mapper}} $\ast$mapper)
\item 
\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$ \mbox{\hyperlink{class_function_selection_ae27233e0e4fb5743e2051b1b99abdd5a}{get\+Curve\+From\+Column}} (int column\+Index) const
\item 
void \mbox{\hyperlink{class_function_selection_ac201c5f804b120709ab9f98de7ea687d}{enable\+Commands}} () override
\item 
void \mbox{\hyperlink{class_function_selection_adfef5507cf2c2872ccf31048a0f6d435}{do\+Copy}} ()
\item 
void \mbox{\hyperlink{class_function_selection_a4d5c74bf80b3b8bb6a5329c6dc0ae293}{do\+Paste}} ()
\item 
void \mbox{\hyperlink{class_function_selection_afb7db030b823fc2a2e725bcdcad0a938}{do\+Cut}} ()
\item 
void \mbox{\hyperlink{class_function_selection_a31d7de41af06ebcaf714744a348eaf6b}{do\+Delete}} ()
\item 
void \mbox{\hyperlink{class_function_selection_a1439362139fde60ce59c38cc47322ec1}{insert\+Cells}} ()
\item 
void \mbox{\hyperlink{class_function_selection_a3326c353f9d7d0bf37d9f9fefb14000a}{set\+Step}} (int, bool inclusive=true)
\item 
void \mbox{\hyperlink{class_function_selection_acb85a98c62f8cd781dae2ee9708bd20a}{set\+Step1}} ()
\item 
void \mbox{\hyperlink{class_function_selection_afcbef98c404c38d3c2a8add90cc9a25c}{set\+Step2}} ()
\item 
void \mbox{\hyperlink{class_function_selection_a8032cf8e752f41648427342cdc344375}{set\+Step3}} ()
\item 
void \mbox{\hyperlink{class_function_selection_a9b07bb5dc05b308eac1303a8d2287db2}{set\+Step4}} ()
\item 
int \mbox{\hyperlink{class_function_selection_a91bec108edb3aece68f78edfe82d2b99}{get\+Common\+Step}} (bool inclusive=true)
\item 
void \mbox{\hyperlink{class_function_selection_a4b4cde5f0d9e9c620a8f85c7f37abf07}{set\+Segment\+Type}} (TDouble\+Keyframe\+::\+Type type, bool inclusive=true)
\item 
int \mbox{\hyperlink{class_function_selection_ab4c2b32af22ede3bd4d3f708cf64e91f}{get\+Common\+Segment\+Type}} (bool inclusive=true)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_function_selection_a0d9b096ae2ecc0aa0fee360adb09e28c}\label{class_function_selection_a0d9b096ae2ecc0aa0fee360adb09e28c}} 
\index{FunctionSelection@{FunctionSelection}!FunctionSelection@{FunctionSelection}}
\index{FunctionSelection@{FunctionSelection}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{FunctionSelection()}{FunctionSelection()}}
{\footnotesize\ttfamily Function\+Selection\+::\+Function\+Selection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00232     : m\_selectedCells()}
\DoxyCodeLine{00233     , m\_selectedKeyframes()}
\DoxyCodeLine{00234     , m\_selectedSegment(-\/1)}
\DoxyCodeLine{00235     , m\_frameHandle(0)}
\DoxyCodeLine{00236     , m\_columnToCurveMapper(0) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_ab30d285f45a388a3bd235be5c6e180f6}\label{class_function_selection_ab30d285f45a388a3bd235be5c6e180f6}} 
\index{FunctionSelection@{FunctionSelection}!````~FunctionSelection@{$\sim$FunctionSelection}}
\index{````~FunctionSelection@{$\sim$FunctionSelection}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{$\sim$FunctionSelection()}{~FunctionSelection()}}
{\footnotesize\ttfamily Function\+Selection\+::$\sim$\+Function\+Selection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00238                                       \{}
\DoxyCodeLine{00239   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_selectedKeyframes.size(); i++)}
\DoxyCodeLine{00240     \textcolor{keywordflow}{if} (m\_selectedKeyframes[i].first) m\_selectedKeyframes[i].first-\/>release();}
\DoxyCodeLine{00241   m\_selectedKeyframes.clear();}
\DoxyCodeLine{00242   \textcolor{keyword}{delete} m\_columnToCurveMapper;}
\DoxyCodeLine{00243 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_function_selection_a619f356c8987924307376f1267e80b54}\label{class_function_selection_a619f356c8987924307376f1267e80b54}} 
\index{FunctionSelection@{FunctionSelection}!deselectAllKeyframes@{deselectAllKeyframes}}
\index{deselectAllKeyframes@{deselectAllKeyframes}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{deselectAllKeyframes()}{deselectAllKeyframes()}}
{\footnotesize\ttfamily void Function\+Selection\+::deselect\+All\+Keyframes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00261                                              \{}
\DoxyCodeLine{00262   \textcolor{keywordflow}{if} (getSelectedKeyframeCount() == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00263   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_selectedKeyframes.size(); i++)}
\DoxyCodeLine{00264     m\_selectedKeyframes[i].second.clear();}
\DoxyCodeLine{00265   emit selectionChanged();}
\DoxyCodeLine{00266 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_adfef5507cf2c2872ccf31048a0f6d435}\label{class_function_selection_adfef5507cf2c2872ccf31048a0f6d435}} 
\index{FunctionSelection@{FunctionSelection}!doCopy@{doCopy}}
\index{doCopy@{doCopy}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{doCopy()}{doCopy()}}
{\footnotesize\ttfamily void Function\+Selection\+::do\+Copy (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00453                                \{}
\DoxyCodeLine{00454   \textcolor{keywordflow}{if} (isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00455   \mbox{\hyperlink{class_function_keyframes_data}{FunctionKeyframesData}} *data = \textcolor{keyword}{new} \mbox{\hyperlink{class_function_keyframes_data}{FunctionKeyframesData}}();}
\DoxyCodeLine{00456   \textcolor{keywordtype}{int} columnCount             = m\_selectedKeyframes.size();}
\DoxyCodeLine{00457   data-\/>setColumnCount(columnCount);}
\DoxyCodeLine{00458   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} col = 0; col < columnCount; col++)}
\DoxyCodeLine{00459     data-\/>getData(col, m\_selectedKeyframes[col].first, m\_selectedCells.top(),}
\DoxyCodeLine{00460                   m\_selectedKeyframes[col].second);}
\DoxyCodeLine{00461   \textcolor{keyword}{const} QMimeData *oldData = QApplication::clipboard()-\/>mimeData();}
\DoxyCodeLine{00462   TUndoManager::manager()-\/>add(\textcolor{keyword}{new} \mbox{\hyperlink{class_keyframes_copy_undo}{KeyframesCopyUndo}}(oldData, data));}
\DoxyCodeLine{00463   QApplication::clipboard()-\/>setMimeData(data);}
\DoxyCodeLine{00464 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_afb7db030b823fc2a2e725bcdcad0a938}\label{class_function_selection_afb7db030b823fc2a2e725bcdcad0a938}} 
\index{FunctionSelection@{FunctionSelection}!doCut@{doCut}}
\index{doCut@{doCut}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{doCut()}{doCut()}}
{\footnotesize\ttfamily void Function\+Selection\+::do\+Cut (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00515                               \{}
\DoxyCodeLine{00516   TUndoManager::manager()-\/>beginBlock();}
\DoxyCodeLine{00517   doCopy();}
\DoxyCodeLine{00518 }
\DoxyCodeLine{00519   \textcolor{keywordtype}{bool} cellsSelection = !m\_selectedCells.isEmpty();}
\DoxyCodeLine{00520   \textcolor{keywordtype}{int} bottomRow       = m\_selectedCells.bottom();}
\DoxyCodeLine{00521 }
\DoxyCodeLine{00522   \mbox{\hyperlink{class_keyframes_move_undo}{KeyframesMoveUndo}} *moveUndo = \textcolor{keyword}{new} \mbox{\hyperlink{class_keyframes_move_undo}{KeyframesMoveUndo}}();}
\DoxyCodeLine{00523   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_selectedKeyframes.size(); i++) \{}
\DoxyCodeLine{00524     \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *curve = m\_selectedKeyframes[i].first;}
\DoxyCodeLine{00525     QSet<int> \&kk       = m\_selectedKeyframes[i].second;}
\DoxyCodeLine{00526     \textcolor{keywordtype}{double} delta        = 0;}
\DoxyCodeLine{00527     \textcolor{keywordflow}{if} (cellsSelection) delta = -\/m\_selectedCells.height();}
\DoxyCodeLine{00528     \textcolor{keywordtype}{int} n = curve ? curve-\/>getKeyframeCount() : 0;}
\DoxyCodeLine{00529     \textcolor{keywordtype}{int} j = 0;}
\DoxyCodeLine{00530     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < n; i++) \{}
\DoxyCodeLine{00531       \textcolor{keywordflow}{if} (kk.contains(i)) \{}
\DoxyCodeLine{00532         \textcolor{keywordflow}{if} (i + 1 < n \&\& kk.contains(i + 1) \&\& !cellsSelection)}
\DoxyCodeLine{00533           delta += curve-\/>\mbox{\hyperlink{class_t_double_param_af08442b9fd968fddada028a6f07983d5}{keyframeIndexToFrame}}(i) -\/}
\DoxyCodeLine{00534                    curve-\/>\mbox{\hyperlink{class_t_double_param_af08442b9fd968fddada028a6f07983d5}{keyframeIndexToFrame}}(i + 1);}
\DoxyCodeLine{00535       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00536         \textcolor{keywordflow}{if} ((cellsSelection \&\& bottomRow <= curve-\/>keyframeIndexToFrame(i)) ||}
\DoxyCodeLine{00537             (!cellsSelection \&\& delta != 0))}
\DoxyCodeLine{00538           moveUndo-\/>addMovement(curve, j, delta);}
\DoxyCodeLine{00539         j++;}
\DoxyCodeLine{00540       \}}
\DoxyCodeLine{00541     \}}
\DoxyCodeLine{00542   \}}
\DoxyCodeLine{00543 }
\DoxyCodeLine{00544   doDelete();}
\DoxyCodeLine{00545   \textcolor{keywordflow}{if} (moveUndo-\/>getCount()) \{}
\DoxyCodeLine{00546     TUndoManager::manager()-\/>add(moveUndo);}
\DoxyCodeLine{00547     moveUndo-\/>redo();}
\DoxyCodeLine{00548   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00549     \textcolor{keyword}{delete} moveUndo;}
\DoxyCodeLine{00550 }
\DoxyCodeLine{00551   TUndoManager::manager()-\/>endBlock();}
\DoxyCodeLine{00552   selectNone();}
\DoxyCodeLine{00553 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a31d7de41af06ebcaf714744a348eaf6b}\label{class_function_selection_a31d7de41af06ebcaf714744a348eaf6b}} 
\index{FunctionSelection@{FunctionSelection}!doDelete@{doDelete}}
\index{doDelete@{doDelete}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{doDelete()}{doDelete()}}
{\footnotesize\ttfamily void Function\+Selection\+::do\+Delete (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00555                                  \{}
\DoxyCodeLine{00556   \textcolor{keywordflow}{if} (isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00557   std::vector<KeyframesDeleteUndo::Column> columns;}
\DoxyCodeLine{00558   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} col = 0; col < (int)m\_selectedKeyframes.size(); col++) \{}
\DoxyCodeLine{00559     \mbox{\hyperlink{struct_keyframes_delete_undo_1_1_column}{KeyframesDeleteUndo::Column}} column;}
\DoxyCodeLine{00560     \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *param = m\_selectedKeyframes[col].first;}
\DoxyCodeLine{00561     \textcolor{keywordflow}{if} (!param || !param-\/>\mbox{\hyperlink{class_t_double_param_a9bce434b7560642e90b1a87aa2b03bc9}{hasKeyframes}}()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00562     column.m\_param     = param;}
\DoxyCodeLine{00563     column.m\_keyframes = m\_selectedKeyframes[col].second;}
\DoxyCodeLine{00564     columns.push\_back(column);}
\DoxyCodeLine{00565   \}}
\DoxyCodeLine{00566   \textcolor{keywordflow}{if} (columns.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00567   \mbox{\hyperlink{class_keyframes_delete_undo}{KeyframesDeleteUndo}} *undo = \textcolor{keyword}{new} \mbox{\hyperlink{class_keyframes_delete_undo}{KeyframesDeleteUndo}}(columns);}
\DoxyCodeLine{00568   undo-\/>redo();}
\DoxyCodeLine{00569   TUndoManager::manager()-\/>add(undo);}
\DoxyCodeLine{00570   selectNone();}
\DoxyCodeLine{00571 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a4d5c74bf80b3b8bb6a5329c6dc0ae293}\label{class_function_selection_a4d5c74bf80b3b8bb6a5329c6dc0ae293}} 
\index{FunctionSelection@{FunctionSelection}!doPaste@{doPaste}}
\index{doPaste@{doPaste}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{doPaste()}{doPaste()}}
{\footnotesize\ttfamily void Function\+Selection\+::do\+Paste (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00466                                 \{}
\DoxyCodeLine{00467   \textcolor{keyword}{const} \mbox{\hyperlink{class_function_keyframes_data}{FunctionKeyframesData}} *data =}
\DoxyCodeLine{00468       \textcolor{keyword}{dynamic\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{class_function_keyframes_data}{FunctionKeyframesData}} *\textcolor{keyword}{>}(}
\DoxyCodeLine{00469           QApplication::clipboard()-\/>mimeData());}
\DoxyCodeLine{00470   \textcolor{keywordflow}{if} (!data) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00471   \textcolor{keywordtype}{int} rowCount = data-\/>getRowCount();}
\DoxyCodeLine{00472   \textcolor{keywordflow}{if} (rowCount <= 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00473   \textcolor{keywordtype}{int} columnCount = data-\/>getColumnCount();}
\DoxyCodeLine{00474   \textcolor{keywordtype}{double} frame    = 0;}
\DoxyCodeLine{00475   \textcolor{keywordtype}{int} col         = 0;}
\DoxyCodeLine{00476   std::vector<TDoubleParam *> params;}
\DoxyCodeLine{00477   \textcolor{keywordflow}{if} (!m\_selectedCells.isEmpty()) \{}
\DoxyCodeLine{00478     col = m\_selectedCells.left();}
\DoxyCodeLine{00479     \textcolor{comment}{// numeric columns}}
\DoxyCodeLine{00480     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < columnCount; c++) \{}
\DoxyCodeLine{00481       \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *curve = getCurveFromColumn(col + c);}
\DoxyCodeLine{00482       \textcolor{keywordflow}{if} (curve) params.push\_back(curve);}
\DoxyCodeLine{00483     \}}
\DoxyCodeLine{00484     columnCount = (int)params.size();}
\DoxyCodeLine{00485     \textcolor{keywordflow}{if} (columnCount <= 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00486     frame = m\_selectedCells.top();}
\DoxyCodeLine{00487     col   = m\_selectedCells.left();}
\DoxyCodeLine{00488     selectCells(QRect(col, frame, columnCount, rowCount));}
\DoxyCodeLine{00489   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00490     \textcolor{comment}{// curves}}
\DoxyCodeLine{00491     \textcolor{comment}{// only single curve selection supported}}
\DoxyCodeLine{00492     columnCount = 1;}
\DoxyCodeLine{00493     \textcolor{keywordflow}{if} (m\_selectedKeyframes.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00494     \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *curve = m\_selectedKeyframes[0].first;}
\DoxyCodeLine{00495     \textcolor{keywordflow}{if} (curve == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00496     \textcolor{keywordtype}{int} kIndex = *(m\_selectedKeyframes[0].second.begin());}
\DoxyCodeLine{00497     frame      = curve-\/>\mbox{\hyperlink{class_t_double_param_af08442b9fd968fddada028a6f07983d5}{keyframeIndexToFrame}}(kIndex);}
\DoxyCodeLine{00498     params.push\_back(curve);}
\DoxyCodeLine{00499   \}}
\DoxyCodeLine{00500 }
\DoxyCodeLine{00501   \textcolor{comment}{/*-\/-\/-\/ カーブの貼り付け時に循環参照をチェックして、駄目ならアラートを返す -\/-\/-\/*/}}
\DoxyCodeLine{00502   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < columnCount; c++) \{}
\DoxyCodeLine{00503     \textcolor{keywordflow}{if} (!data-\/>isCircularReferenceFree(c, params[c])) \{}
\DoxyCodeLine{00504       DVGui::warning(}
\DoxyCodeLine{00505           tr(\textcolor{stringliteral}{"{}There is a circular reference in the definition of the "{}}}
\DoxyCodeLine{00506              \textcolor{stringliteral}{"{}interpolation."{}}));}
\DoxyCodeLine{00507       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00508     \}}
\DoxyCodeLine{00509   \}}
\DoxyCodeLine{00510 }
\DoxyCodeLine{00511   TUndoManager::manager()-\/>add(\textcolor{keyword}{new} \mbox{\hyperlink{class_keyframes_paste_undo}{KeyframesPasteUndo}}(params, data, frame));}
\DoxyCodeLine{00512   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = 0; c < columnCount; c++) data-\/>setData(c, params[c], frame);}
\DoxyCodeLine{00513 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_ac201c5f804b120709ab9f98de7ea687d}\label{class_function_selection_ac201c5f804b120709ab9f98de7ea687d}} 
\index{FunctionSelection@{FunctionSelection}!enableCommands@{enableCommands}}
\index{enableCommands@{enableCommands}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{enableCommands()}{enableCommands()}}
{\footnotesize\ttfamily void Function\+Selection\+::enable\+Commands (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_selection}{TSelection}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00441                                        \{}
\DoxyCodeLine{00442   enableCommand(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}MI\_Copy"{}}, \&FunctionSelection::doCopy);}
\DoxyCodeLine{00443   enableCommand(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}MI\_Paste"{}}, \&FunctionSelection::doPaste);}
\DoxyCodeLine{00444   enableCommand(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}MI\_Cut"{}}, \&FunctionSelection::doCut);}
\DoxyCodeLine{00445   enableCommand(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}MI\_Clear"{}}, \&FunctionSelection::doDelete);}
\DoxyCodeLine{00446   enableCommand(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}MI\_Insert"{}}, \&FunctionSelection::insertCells);}
\DoxyCodeLine{00447 }
\DoxyCodeLine{00448   enableCommand(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}MI\_ResetStep"{}}, \&FunctionSelection::setStep1);}
\DoxyCodeLine{00449   enableCommand(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}MI\_Step2"{}}, \&FunctionSelection::setStep2);}
\DoxyCodeLine{00450   enableCommand(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}MI\_Step3"{}}, \&FunctionSelection::setStep3);}
\DoxyCodeLine{00451   enableCommand(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}MI\_Step4"{}}, \&FunctionSelection::setStep4);}
\DoxyCodeLine{00452 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_ab4c2b32af22ede3bd4d3f708cf64e91f}\label{class_function_selection_ab4c2b32af22ede3bd4d3f708cf64e91f}} 
\index{FunctionSelection@{FunctionSelection}!getCommonSegmentType@{getCommonSegmentType}}
\index{getCommonSegmentType@{getCommonSegmentType}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{getCommonSegmentType()}{getCommonSegmentType()}}
{\footnotesize\ttfamily int Function\+Selection\+::get\+Common\+Segment\+Type (\begin{DoxyParamCaption}\item[{bool}]{inclusive = {\ttfamily true} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00681                                                           \{}
\DoxyCodeLine{00682   \textcolor{keywordflow}{if} (isEmpty()) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00683 }
\DoxyCodeLine{00684   \textcolor{keywordtype}{int} type = -\/1;}
\DoxyCodeLine{00685   \textcolor{keywordtype}{int} row  = getSelectedCells().top();}
\DoxyCodeLine{00686   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&col : m\_selectedKeyframes) \{}
\DoxyCodeLine{00687     \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *curve = col.first;}
\DoxyCodeLine{00688     \textcolor{comment}{// need to have at least one segment}}
\DoxyCodeLine{00689     \textcolor{keywordflow}{if} (!curve || curve-\/>getKeyframeCount() <= 1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00690 }
\DoxyCodeLine{00691     \textcolor{comment}{// consider the keyframe just before the top row of the selected cells}}
\DoxyCodeLine{00692     \textcolor{keywordflow}{if} (inclusive) \{}
\DoxyCodeLine{00693       \textcolor{keywordtype}{int} topIndex = curve-\/>\mbox{\hyperlink{class_t_double_param_a765abd97386a7e4e3a413255ba494e19}{getPrevKeyframe}}(row);}
\DoxyCodeLine{00694       \textcolor{keywordflow}{if} (topIndex != -\/1 \&\& topIndex != curve-\/>getKeyframeCount() -\/ 1 \&\&}
\DoxyCodeLine{00695           !col.second.contains(topIndex))}
\DoxyCodeLine{00696         type = (int)(curve-\/>getKeyframe(topIndex).m\_type);}
\DoxyCodeLine{00697     \}}
\DoxyCodeLine{00698 }
\DoxyCodeLine{00699     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{int} \&kIndex : col.second) \{}
\DoxyCodeLine{00700       \textcolor{comment}{// ignore the last key}}
\DoxyCodeLine{00701       \textcolor{keywordflow}{if} (kIndex == curve-\/>getKeyframeCount() -\/ 1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00702       \textcolor{keywordtype}{int} tmpType = (int)(curve-\/>getKeyframe(kIndex).m\_type);}
\DoxyCodeLine{00703       \textcolor{keywordflow}{if} (type == -\/1)}
\DoxyCodeLine{00704         type = tmpType;}
\DoxyCodeLine{00705       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type != tmpType)}
\DoxyCodeLine{00706         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00707     \}}
\DoxyCodeLine{00708   \}}
\DoxyCodeLine{00709   \textcolor{keywordflow}{return} type;}
\DoxyCodeLine{00710 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a91bec108edb3aece68f78edfe82d2b99}\label{class_function_selection_a91bec108edb3aece68f78edfe82d2b99}} 
\index{FunctionSelection@{FunctionSelection}!getCommonStep@{getCommonStep}}
\index{getCommonStep@{getCommonStep}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{getCommonStep()}{getCommonStep()}}
{\footnotesize\ttfamily int Function\+Selection\+::get\+Common\+Step (\begin{DoxyParamCaption}\item[{bool}]{inclusive = {\ttfamily true} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00621                                                    \{}
\DoxyCodeLine{00622   \textcolor{keywordflow}{if} (isEmpty()) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00623 }
\DoxyCodeLine{00624   \textcolor{keywordtype}{int} step = -\/1;}
\DoxyCodeLine{00625   \textcolor{keywordtype}{int} row  = getSelectedCells().top();}
\DoxyCodeLine{00626   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&col : m\_selectedKeyframes) \{}
\DoxyCodeLine{00627     \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *curve = col.first;}
\DoxyCodeLine{00628     \textcolor{comment}{// need to have at least one segment}}
\DoxyCodeLine{00629     \textcolor{keywordflow}{if} (!curve || curve-\/>getKeyframeCount() <= 1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00630 }
\DoxyCodeLine{00631     \textcolor{comment}{// consider the keyframe just before the top row of the selected cells}}
\DoxyCodeLine{00632     \textcolor{keywordflow}{if} (inclusive) \{}
\DoxyCodeLine{00633       \textcolor{keywordtype}{int} topIndex = curve-\/>\mbox{\hyperlink{class_t_double_param_a765abd97386a7e4e3a413255ba494e19}{getPrevKeyframe}}(row);}
\DoxyCodeLine{00634       \textcolor{keywordflow}{if} (topIndex != -\/1 \&\& topIndex != curve-\/>getKeyframeCount() -\/ 1 \&\&}
\DoxyCodeLine{00635           !col.second.contains(topIndex))}
\DoxyCodeLine{00636         step = curve-\/>getKeyframe(topIndex).m\_step;}
\DoxyCodeLine{00637     \}}
\DoxyCodeLine{00638 }
\DoxyCodeLine{00639     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{int} \&kIndex : col.second) \{}
\DoxyCodeLine{00640       \textcolor{comment}{// ignore the last key}}
\DoxyCodeLine{00641       \textcolor{keywordflow}{if} (kIndex == curve-\/>getKeyframeCount() -\/ 1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00642       \textcolor{keywordtype}{int} tmpStep = curve-\/>getKeyframe(kIndex).m\_step;}
\DoxyCodeLine{00643       \textcolor{keywordflow}{if} (step == -\/1)}
\DoxyCodeLine{00644         step = tmpStep;}
\DoxyCodeLine{00645       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (step != tmpStep)}
\DoxyCodeLine{00646         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00647     \}}
\DoxyCodeLine{00648   \}}
\DoxyCodeLine{00649   \textcolor{keywordflow}{return} step;}
\DoxyCodeLine{00650 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_ae27233e0e4fb5743e2051b1b99abdd5a}\label{class_function_selection_ae27233e0e4fb5743e2051b1b99abdd5a}} 
\index{FunctionSelection@{FunctionSelection}!getCurveFromColumn@{getCurveFromColumn}}
\index{getCurveFromColumn@{getCurveFromColumn}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{getCurveFromColumn()}{getCurveFromColumn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$ Function\+Selection\+::get\+Curve\+From\+Column (\begin{DoxyParamCaption}\item[{int}]{column\+Index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00099                                                           \{}
\DoxyCodeLine{00100     \textcolor{keywordflow}{return} m\_columnToCurveMapper ? m\_columnToCurveMapper-\/>getCurve(columnIndex)}
\DoxyCodeLine{00101                                  : 0;}
\DoxyCodeLine{00102   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_accd98468bd93994e41d06bfba2ba8185}\label{class_function_selection_accd98468bd93994e41d06bfba2ba8185}} 
\index{FunctionSelection@{FunctionSelection}!getSelectedCells@{getSelectedCells}}
\index{getSelectedCells@{getSelectedCells}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{getSelectedCells()}{getSelectedCells()}}
{\footnotesize\ttfamily QRect Function\+Selection\+::get\+Selected\+Cells (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00074 \{ \textcolor{keywordflow}{return} m\_selectedCells; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a77efc3e67db916908cb17276529ebf23}\label{class_function_selection_a77efc3e67db916908cb17276529ebf23}} 
\index{FunctionSelection@{FunctionSelection}!getSelectedKeyframe@{getSelectedKeyframe}}
\index{getSelectedKeyframe@{getSelectedKeyframe}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{getSelectedKeyframe()}{getSelectedKeyframe()}}
{\footnotesize\ttfamily QPair$<$ \mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$, int $>$ Function\+Selection\+::get\+Selected\+Keyframe (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00390                      \{}
\DoxyCodeLine{00391   \textcolor{keywordflow}{if} (index < 0) \textcolor{keywordflow}{return} QPair<TDoubleParam *, int>(0, -\/1);}
\DoxyCodeLine{00392   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_selectedKeyframes.size(); i++) \{}
\DoxyCodeLine{00393     \textcolor{keywordtype}{int} count = m\_selectedKeyframes[i].second.size();}
\DoxyCodeLine{00394     \textcolor{keywordflow}{if} (index < count) \{}
\DoxyCodeLine{00395       \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *curve          = m\_selectedKeyframes[i].first;}
\DoxyCodeLine{00396       QSet<int>::const\_iterator it = m\_selectedKeyframes[i].second.begin();}
\DoxyCodeLine{00397       it += index;}
\DoxyCodeLine{00398       \textcolor{keywordflow}{return} QPair<TDoubleParam *, int>(curve, *it);}
\DoxyCodeLine{00399     \}}
\DoxyCodeLine{00400     index -\/= count;}
\DoxyCodeLine{00401   \}}
\DoxyCodeLine{00402   \textcolor{keywordflow}{return} QPair<TDoubleParam *, int>(0, -\/1);}
\DoxyCodeLine{00403 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a30c0b286a4279cdce3a56965306a1296}\label{class_function_selection_a30c0b286a4279cdce3a56965306a1296}} 
\index{FunctionSelection@{FunctionSelection}!getSelectedKeyframeCount@{getSelectedKeyframeCount}}
\index{getSelectedKeyframeCount@{getSelectedKeyframeCount}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{getSelectedKeyframeCount()}{getSelectedKeyframeCount()}}
{\footnotesize\ttfamily int Function\+Selection\+::get\+Selected\+Keyframe\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00382                                                       \{}
\DoxyCodeLine{00383   \textcolor{keywordtype}{int} count = 0;}
\DoxyCodeLine{00384   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_selectedKeyframes.size(); i++)}
\DoxyCodeLine{00385     count += m\_selectedKeyframes[i].second.size();}
\DoxyCodeLine{00386   \textcolor{keywordflow}{return} count;}
\DoxyCodeLine{00387 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_ae0cfc3d72b7e55b8d9f1168ef1c00b7d}\label{class_function_selection_ae0cfc3d72b7e55b8d9f1168ef1c00b7d}} 
\index{FunctionSelection@{FunctionSelection}!getSelectedSegment@{getSelectedSegment}}
\index{getSelectedSegment@{getSelectedSegment}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{getSelectedSegment()}{getSelectedSegment()}}
{\footnotesize\ttfamily QPair$<$ \mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$, int $>$ Function\+Selection\+::get\+Selected\+Segment (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00434                                                                        \{}
\DoxyCodeLine{00435   \textcolor{keywordflow}{if} (m\_selectedKeyframes.size() == 1 \&\& m\_selectedSegment >= 0)}
\DoxyCodeLine{00436     \textcolor{keywordflow}{return} qMakePair(m\_selectedKeyframes[0].first, m\_selectedSegment);}
\DoxyCodeLine{00437   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00438     \textcolor{keywordflow}{return} qMakePair<TDoubleParam *, int>(0, -\/1);}
\DoxyCodeLine{00439 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a1439362139fde60ce59c38cc47322ec1}\label{class_function_selection_a1439362139fde60ce59c38cc47322ec1}} 
\index{FunctionSelection@{FunctionSelection}!insertCells@{insertCells}}
\index{insertCells@{insertCells}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{insertCells()}{insertCells()}}
{\footnotesize\ttfamily void Function\+Selection\+::insert\+Cells (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00573                                     \{}
\DoxyCodeLine{00574   \textcolor{keywordflow}{if} (isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00575   QRect selectedCells     = getSelectedCells();}
\DoxyCodeLine{00576   \textcolor{keywordtype}{int} frameDelta          = selectedCells.height();}
\DoxyCodeLine{00577   \textcolor{keywordtype}{int} row                 = selectedCells.top();}
\DoxyCodeLine{00578   \mbox{\hyperlink{class_keyframes_move_undo}{KeyframesMoveUndo}} *undo = \textcolor{keyword}{new} \mbox{\hyperlink{class_keyframes_move_undo}{KeyframesMoveUndo}}();}
\DoxyCodeLine{00579   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = selectedCells.left(); c <= selectedCells.right(); c++) \{}
\DoxyCodeLine{00580     \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *param = getCurveFromColumn(c);}
\DoxyCodeLine{00581     \textcolor{keywordflow}{if} (param \&\& param-\/>\mbox{\hyperlink{class_t_double_param_a9bce434b7560642e90b1a87aa2b03bc9}{hasKeyframes}}()) \{}
\DoxyCodeLine{00582       \textcolor{comment}{// Move keyframes in reverse, so their ordering remains consistent at each}}
\DoxyCodeLine{00583       \textcolor{comment}{// step}}
\DoxyCodeLine{00584       \textcolor{keywordtype}{int} k = param-\/>getKeyframeCount() -\/ 1;}
\DoxyCodeLine{00585       \textcolor{keywordflow}{for} (; k >= 0 \&\& param-\/>\mbox{\hyperlink{class_t_double_param_af08442b9fd968fddada028a6f07983d5}{keyframeIndexToFrame}}(k) >= row; -\/-\/k)}
\DoxyCodeLine{00586         undo-\/>addMovement(param, k, frameDelta);}
\DoxyCodeLine{00587     \}}
\DoxyCodeLine{00588   \}}
\DoxyCodeLine{00589   undo-\/>redo();}
\DoxyCodeLine{00590   TUndoManager::manager()-\/>add(undo);}
\DoxyCodeLine{00591 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_abc0080c708e370378a64b9f81919b0a4}\label{class_function_selection_abc0080c708e370378a64b9f81919b0a4}} 
\index{FunctionSelection@{FunctionSelection}!isEmpty@{isEmpty}}
\index{isEmpty@{isEmpty}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{isEmpty()}{isEmpty()}}
{\footnotesize\ttfamily bool Function\+Selection\+::is\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_selection}{TSelection}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00080 \{ \textcolor{keywordflow}{return} m\_selectedKeyframes.empty(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_ad8239a55924ab1fb21502028898b397e}\label{class_function_selection_ad8239a55924ab1fb21502028898b397e}} 
\index{FunctionSelection@{FunctionSelection}!isSegmentSelected@{isSegmentSelected}}
\index{isSegmentSelected@{isSegmentSelected}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{isSegmentSelected()}{isSegmentSelected()}}
{\footnotesize\ttfamily bool Function\+Selection\+::is\+Segment\+Selected (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$}]{curve,  }\item[{int}]{k }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00429                                                                           \{}
\DoxyCodeLine{00430   \textcolor{keywordflow}{return} m\_selectedKeyframes.size() == 1 \&\&}
\DoxyCodeLine{00431          m\_selectedKeyframes[0].first == curve \&\& m\_selectedSegment == k;}
\DoxyCodeLine{00432 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a0e72c00a26dc4d0063ec7e09bd814275}\label{class_function_selection_a0e72c00a26dc4d0063ec7e09bd814275}} 
\index{FunctionSelection@{FunctionSelection}!isSelected@{isSelected}}
\index{isSelected@{isSelected}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{isSelected()}{isSelected()}}
{\footnotesize\ttfamily bool Function\+Selection\+::is\+Selected (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$}]{curve,  }\item[{int}]{k }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00374                                                                    \{}
\DoxyCodeLine{00375   \textcolor{keywordtype}{int} i = getCurveIndex(curve);}
\DoxyCodeLine{00376   \textcolor{keywordflow}{if} (i < 0)}
\DoxyCodeLine{00377     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00378   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00379     \textcolor{keywordflow}{return} m\_selectedKeyframes[i].second.contains(k);}
\DoxyCodeLine{00380 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_adfb0f9efd070111499ad5e5e8a9acec1}\label{class_function_selection_adfb0f9efd070111499ad5e5e8a9acec1}} 
\index{FunctionSelection@{FunctionSelection}!select@{select}}
\index{select@{select}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{select()}{select()}}
{\footnotesize\ttfamily void Function\+Selection\+::select (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$}]{curve,  }\item[{int}]{k }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00354                                                          \{}
\DoxyCodeLine{00355   \textcolor{keywordtype}{int} i = touchCurveIndex(curve);}
\DoxyCodeLine{00356   m\_selectedKeyframes[i].second.insert(k);}
\DoxyCodeLine{00357   \textcolor{keywordtype}{double} row = curve-\/>\mbox{\hyperlink{class_t_double_param_af08442b9fd968fddada028a6f07983d5}{keyframeIndexToFrame}}(k);}
\DoxyCodeLine{00358   \textcolor{keywordflow}{if} (row < (\textcolor{keywordtype}{double})m\_selectedCells.top()) m\_selectedCells.setTop(floor(row));}
\DoxyCodeLine{00359   \textcolor{keywordflow}{if} (row > (\textcolor{keywordtype}{double})m\_selectedCells.bottom())}
\DoxyCodeLine{00360     m\_selectedCells.setBottom(ceil(row));}
\DoxyCodeLine{00361 }
\DoxyCodeLine{00362   \textcolor{keywordflow}{if} (m\_selectedSegment >= 0  \textcolor{comment}{// if a segment is selected}}
\DoxyCodeLine{00363       \&\& (m\_selectedKeyframes.size() !=}
\DoxyCodeLine{00364               1  \textcolor{comment}{// and there is not a single curve selected}}
\DoxyCodeLine{00365           || m\_selectedSegment != k ||}
\DoxyCodeLine{00366           m\_selectedSegment + 1 != k))  \textcolor{comment}{// or the new selected keyframe}}
\DoxyCodeLine{00367                                         \textcolor{comment}{// is not a selected segment end}}
\DoxyCodeLine{00368     m\_selectedSegment = -\/1;             \textcolor{comment}{// then clear the segment selection}}
\DoxyCodeLine{00369   makeCurrent();}
\DoxyCodeLine{00370   emit selectionChanged();}
\DoxyCodeLine{00371   m\_selectedCells = QRect();}
\DoxyCodeLine{00372 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_ac7897ee581c1698b403a914fdbb3f60c}\label{class_function_selection_ac7897ee581c1698b403a914fdbb3f60c}} 
\index{FunctionSelection@{FunctionSelection}!selectCells@{selectCells}}
\index{selectCells@{selectCells}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{selectCells()}{selectCells()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Function\+Selection\+::select\+Cells (\begin{DoxyParamCaption}\item[{const QRect \&}]{selected\+Cells }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00347                                                               \{}
\DoxyCodeLine{00348   QList<TDoubleParam *> curves;}
\DoxyCodeLine{00349   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} c = selectedCells.left(); c <= selectedCells.right(); c++)}
\DoxyCodeLine{00350     curves.append(getCurveFromColumn(c));}
\DoxyCodeLine{00351   selectCells(selectedCells, curves);}
\DoxyCodeLine{00352 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a18f26f2fd899cd38a9f107e101667564}\label{class_function_selection_a18f26f2fd899cd38a9f107e101667564}} 
\index{FunctionSelection@{FunctionSelection}!selectCells@{selectCells}}
\index{selectCells@{selectCells}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{selectCells()}{selectCells()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Function\+Selection\+::select\+Cells (\begin{DoxyParamCaption}\item[{const QRect \&}]{selected\+Cells,  }\item[{const QList$<$ \mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$ $>$ \&}]{curves }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00295                                                                          \{}
\DoxyCodeLine{00296   assert(selectedCells.width() == curves.size());}
\DoxyCodeLine{00297   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < curves.size(); i++)}
\DoxyCodeLine{00298     \textcolor{keywordflow}{if} (curves[i]) curves[i]-\/>addRef();}
\DoxyCodeLine{00299   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_selectedKeyframes.size(); i++)}
\DoxyCodeLine{00300     \textcolor{keywordflow}{if} (m\_selectedKeyframes[i].first) m\_selectedKeyframes[i].first-\/>release();}
\DoxyCodeLine{00301   m\_selectedKeyframes.clear();}
\DoxyCodeLine{00302   \textcolor{keywordtype}{double} r0 = selectedCells.top();}
\DoxyCodeLine{00303   \textcolor{keywordtype}{double} r1 = selectedCells.bottom();}
\DoxyCodeLine{00304 }
\DoxyCodeLine{00305   \textcolor{comment}{// Update selected keyframes}}
\DoxyCodeLine{00306   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < curves.size(); i++) \{}
\DoxyCodeLine{00307     \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *curve = curves[i];}
\DoxyCodeLine{00308     m\_selectedKeyframes.push\_back(qMakePair(curve, QSet<int>()));}
\DoxyCodeLine{00309     \textcolor{keywordflow}{if} (curve)}
\DoxyCodeLine{00310       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < curve-\/>getKeyframeCount(); j++) \{}
\DoxyCodeLine{00311         \textcolor{keywordtype}{double} f = curve-\/>\mbox{\hyperlink{class_t_double_param_af08442b9fd968fddada028a6f07983d5}{keyframeIndexToFrame}}(j);}
\DoxyCodeLine{00312         \textcolor{keywordflow}{if} (r0 <= f \&\& f <= r1) m\_selectedKeyframes[i].second.insert(j);}
\DoxyCodeLine{00313       \}}
\DoxyCodeLine{00314   \}}
\DoxyCodeLine{00315 }
\DoxyCodeLine{00316   \textcolor{comment}{// Update selected segment}}
\DoxyCodeLine{00317   \textcolor{keywordflow}{if} (curves.size() != 1)}
\DoxyCodeLine{00318     m\_selectedSegment = -\/1;}
\DoxyCodeLine{00319   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!curves[0])  \textcolor{comment}{// curves[0] may be zero}}
\DoxyCodeLine{00320     m\_selectedSegment = -\/1;}
\DoxyCodeLine{00321   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00322     \textcolor{keywordtype}{int} r0 = selectedCells.top();}
\DoxyCodeLine{00323     \textcolor{keywordtype}{int} r1 = selectedCells.bottom();}
\DoxyCodeLine{00324     \textcolor{keywordtype}{int} k0 = curves[0]-\/>getPrevKeyframe(r0);}
\DoxyCodeLine{00325     \textcolor{keywordtype}{int} k1 = curves[0]-\/>getPrevKeyframe(r1);}
\DoxyCodeLine{00326     \textcolor{comment}{// PrevKeyFrame does NOT include itself if the specified row is keyframe}}
\DoxyCodeLine{00327 }
\DoxyCodeLine{00328     \textcolor{keywordflow}{if} (k0 ==}
\DoxyCodeLine{00329         curves[0]-\/>getKeyframeCount() -\/ 1)  \textcolor{comment}{// select bottom of the segments}}
\DoxyCodeLine{00330       m\_selectedSegment = -\/1;}
\DoxyCodeLine{00331     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (k0 != k1)  \textcolor{comment}{// select over a keyframe}}
\DoxyCodeLine{00332     \{}
\DoxyCodeLine{00333       \textcolor{comment}{// then select the segment on top in the selection}}
\DoxyCodeLine{00334       \textcolor{keywordflow}{if} (curves[0]-\/>isKeyframe(r0))}
\DoxyCodeLine{00335         m\_selectedSegment = k0 + 1;}
\DoxyCodeLine{00336       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00337         m\_selectedSegment = k0;}
\DoxyCodeLine{00338     \} \textcolor{keywordflow}{else}  \textcolor{comment}{// select single segment}}
\DoxyCodeLine{00339       m\_selectedSegment = k0;}
\DoxyCodeLine{00340   \}}
\DoxyCodeLine{00341 }
\DoxyCodeLine{00342   m\_selectedCells = selectedCells;}
\DoxyCodeLine{00343   makeCurrent();}
\DoxyCodeLine{00344   emit selectionChanged();}
\DoxyCodeLine{00345 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_afef61fa002d57cfe17ecb136213b63f7}\label{class_function_selection_afef61fa002d57cfe17ecb136213b63f7}} 
\index{FunctionSelection@{FunctionSelection}!selectCurve@{selectCurve}}
\index{selectCurve@{selectCurve}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{selectCurve()}{selectCurve()}}
{\footnotesize\ttfamily void Function\+Selection\+::select\+Curve (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$}]{curve }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00252                                                        \{}
\DoxyCodeLine{00253   \textcolor{keywordflow}{if} (m\_selectedKeyframes.size() == 1 \&\& m\_selectedKeyframes[0].first == curve)}
\DoxyCodeLine{00254     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00255   curve-\/>addRef();}
\DoxyCodeLine{00256   deselectAllKeyframes();}
\DoxyCodeLine{00257   m\_selectedKeyframes.push\_back(qMakePair(curve, QSet<int>()));}
\DoxyCodeLine{00258   m\_selectedCells = QRect();}
\DoxyCodeLine{00259 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_aa34b7b23f83b7bc23d04abcad810b757}\label{class_function_selection_aa34b7b23f83b7bc23d04abcad810b757}} 
\index{FunctionSelection@{FunctionSelection}!selectNone@{selectNone}}
\index{selectNone@{selectNone}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{selectNone()}{selectNone()}}
{\footnotesize\ttfamily void Function\+Selection\+::select\+None (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_selection}{TSelection}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00284                                    \{}
\DoxyCodeLine{00285   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_selectedKeyframes.size(); i++)}
\DoxyCodeLine{00286     \textcolor{keywordflow}{if} (m\_selectedKeyframes[i].first) m\_selectedKeyframes[i].first-\/>release();}
\DoxyCodeLine{00287   m\_selectedKeyframes.clear();}
\DoxyCodeLine{00288   m\_selectedSegment = -\/1;}
\DoxyCodeLine{00289   m\_selectedCells   = QRect();}
\DoxyCodeLine{00290   emit selectionChanged();}
\DoxyCodeLine{00291 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a1479b26a3191e58113a355b54fadb95e}\label{class_function_selection_a1479b26a3191e58113a355b54fadb95e}} 
\index{FunctionSelection@{FunctionSelection}!selectSegment@{selectSegment}}
\index{selectSegment@{selectSegment}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{selectSegment()}{selectSegment()}}
{\footnotesize\ttfamily void Function\+Selection\+::select\+Segment (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_double_param}{TDouble\+Param}} $\ast$}]{curve,  }\item[{int}]{k,  }\item[{QRect}]{selected\+Cells = {\ttfamily QRect()} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00408                                                            \{}
\DoxyCodeLine{00409   \textcolor{keywordflow}{if} (curve == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00410 }
\DoxyCodeLine{00411   \textcolor{comment}{// if a different curve is selected the clear the old selection}}
\DoxyCodeLine{00412   \textcolor{keywordflow}{if} (m\_selectedKeyframes.size() != 1 ||}
\DoxyCodeLine{00413       m\_selectedKeyframes[0].first != curve) \{}
\DoxyCodeLine{00414     curve-\/>addRef();}
\DoxyCodeLine{00415     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_selectedKeyframes.size(); i++)}
\DoxyCodeLine{00416       \textcolor{keywordflow}{if} (m\_selectedKeyframes[i].first) m\_selectedKeyframes[i].first-\/>release();}
\DoxyCodeLine{00417     m\_selectedKeyframes.clear();}
\DoxyCodeLine{00418     m\_selectedKeyframes.push\_back(qMakePair(curve, QSet<int>()));}
\DoxyCodeLine{00419   \}}
\DoxyCodeLine{00420   m\_selectedKeyframes[0].second.clear();}
\DoxyCodeLine{00421   m\_selectedKeyframes[0].second.insert(k);  \textcolor{comment}{// k is keyframe id}}
\DoxyCodeLine{00422   m\_selectedKeyframes[0].second.insert(k + 1);}
\DoxyCodeLine{00423   m\_selectedSegment = k;}
\DoxyCodeLine{00424   m\_selectedCells   = selectedCells;}
\DoxyCodeLine{00425   makeCurrent();}
\DoxyCodeLine{00426   emit selectionChanged();}
\DoxyCodeLine{00427 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_ae76bc1ff8d6c89c7328391e1a2ecb157}\label{class_function_selection_ae76bc1ff8d6c89c7328391e1a2ecb157}} 
\index{FunctionSelection@{FunctionSelection}!setColumnToCurveMapper@{setColumnToCurveMapper}}
\index{setColumnToCurveMapper@{setColumnToCurveMapper}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{setColumnToCurveMapper()}{setColumnToCurveMapper()}}
{\footnotesize\ttfamily void Function\+Selection\+::set\+Column\+To\+Curve\+Mapper (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_column_to_curve_mapper}{Column\+To\+Curve\+Mapper}} $\ast$}]{mapper }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00245                                                                           \{}
\DoxyCodeLine{00246   \textcolor{keywordflow}{if} (mapper != m\_columnToCurveMapper) \{}
\DoxyCodeLine{00247     \textcolor{keyword}{delete} m\_columnToCurveMapper;}
\DoxyCodeLine{00248     m\_columnToCurveMapper = mapper;}
\DoxyCodeLine{00249   \}}
\DoxyCodeLine{00250 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a3b578fdda63e3cf52a6f21837ed14f47}\label{class_function_selection_a3b578fdda63e3cf52a6f21837ed14f47}} 
\index{FunctionSelection@{FunctionSelection}!setFrameHandle@{setFrameHandle}}
\index{setFrameHandle@{setFrameHandle}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{setFrameHandle()}{setFrameHandle()}}
{\footnotesize\ttfamily void Function\+Selection\+::set\+Frame\+Handle (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_frame_handle}{TFrame\+Handle}} $\ast$}]{frame\+Handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00065                                                  \{}
\DoxyCodeLine{00066     m\_frameHandle = frameHandle;}
\DoxyCodeLine{00067   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a4b4cde5f0d9e9c620a8f85c7f37abf07}\label{class_function_selection_a4b4cde5f0d9e9c620a8f85c7f37abf07}} 
\index{FunctionSelection@{FunctionSelection}!setSegmentType@{setSegmentType}}
\index{setSegmentType@{setSegmentType}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{setSegmentType()}{setSegmentType()}}
{\footnotesize\ttfamily void Function\+Selection\+::set\+Segment\+Type (\begin{DoxyParamCaption}\item[{TDouble\+Keyframe\+::\+Type}]{type,  }\item[{bool}]{inclusive = {\ttfamily true} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00653                                                        \{}
\DoxyCodeLine{00654   \textcolor{keywordflow}{if} (isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00655   TUndoManager::manager()-\/>beginBlock();}
\DoxyCodeLine{00656 }
\DoxyCodeLine{00657   \textcolor{keywordtype}{int} row = getSelectedCells().top();}
\DoxyCodeLine{00658   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&col : m\_selectedKeyframes) \{}
\DoxyCodeLine{00659     \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *curve = col.first;}
\DoxyCodeLine{00660     \textcolor{comment}{// need to have at least one segment}}
\DoxyCodeLine{00661     \textcolor{keywordflow}{if} (!curve || curve-\/>getKeyframeCount() <= 1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00662 }
\DoxyCodeLine{00663     \textcolor{comment}{// consider the keyframe just before the top row of the selected cells}}
\DoxyCodeLine{00664     \textcolor{keywordflow}{if} (inclusive) \{}
\DoxyCodeLine{00665       \textcolor{keywordtype}{int} topIndex = curve-\/>\mbox{\hyperlink{class_t_double_param_a765abd97386a7e4e3a413255ba494e19}{getPrevKeyframe}}(row);}
\DoxyCodeLine{00666       \textcolor{keywordflow}{if} (topIndex != -\/1 \&\& topIndex != curve-\/>getKeyframeCount() -\/ 1 \&\&}
\DoxyCodeLine{00667           !col.second.contains(topIndex))}
\DoxyCodeLine{00668         \mbox{\hyperlink{class_keyframe_setter}{KeyframeSetter}}(curve, topIndex).setType(type);}
\DoxyCodeLine{00669     \}}
\DoxyCodeLine{00670 }
\DoxyCodeLine{00671     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{int} \&kIndex : col.second) \{}
\DoxyCodeLine{00672       \textcolor{comment}{// ignore the last key}}
\DoxyCodeLine{00673       \textcolor{keywordflow}{if} (kIndex == curve-\/>getKeyframeCount() -\/ 1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00674       \mbox{\hyperlink{class_keyframe_setter}{KeyframeSetter}}(curve, kIndex).setType(type);}
\DoxyCodeLine{00675     \}}
\DoxyCodeLine{00676   \}}
\DoxyCodeLine{00677 }
\DoxyCodeLine{00678   TUndoManager::manager()-\/>endBlock();}
\DoxyCodeLine{00679 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a3326c353f9d7d0bf37d9f9fefb14000a}\label{class_function_selection_a3326c353f9d7d0bf37d9f9fefb14000a}} 
\index{FunctionSelection@{FunctionSelection}!setStep@{setStep}}
\index{setStep@{setStep}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{setStep()}{setStep()}}
{\footnotesize\ttfamily void Function\+Selection\+::set\+Step (\begin{DoxyParamCaption}\item[{int}]{step,  }\item[{bool}]{inclusive = {\ttfamily true} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00593                                                         \{}
\DoxyCodeLine{00594   \textcolor{keywordflow}{if} (isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00595   TUndoManager::manager()-\/>beginBlock();}
\DoxyCodeLine{00596 }
\DoxyCodeLine{00597   \textcolor{keywordtype}{int} row = getSelectedCells().top();}
\DoxyCodeLine{00598   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto} \&col : m\_selectedKeyframes) \{}
\DoxyCodeLine{00599     \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *curve = col.first;}
\DoxyCodeLine{00600     \textcolor{comment}{// need to have at least one segment}}
\DoxyCodeLine{00601     \textcolor{keywordflow}{if} (!curve || curve-\/>getKeyframeCount() <= 1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00602 }
\DoxyCodeLine{00603     \textcolor{comment}{// consider the keyframe just before the top row of the selected cells}}
\DoxyCodeLine{00604     \textcolor{keywordflow}{if} (inclusive) \{}
\DoxyCodeLine{00605       \textcolor{keywordtype}{int} topIndex = curve-\/>\mbox{\hyperlink{class_t_double_param_a765abd97386a7e4e3a413255ba494e19}{getPrevKeyframe}}(row);}
\DoxyCodeLine{00606       \textcolor{keywordflow}{if} (topIndex != -\/1 \&\& topIndex != curve-\/>getKeyframeCount() -\/ 1 \&\&}
\DoxyCodeLine{00607           !col.second.contains(topIndex))}
\DoxyCodeLine{00608         \mbox{\hyperlink{class_keyframe_setter}{KeyframeSetter}}(curve, topIndex).setStep(step);}
\DoxyCodeLine{00609     \}}
\DoxyCodeLine{00610 }
\DoxyCodeLine{00611     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{int} \&kIndex : col.second) \{}
\DoxyCodeLine{00612       \textcolor{comment}{// ignore the last key}}
\DoxyCodeLine{00613       \textcolor{keywordflow}{if} (kIndex == curve-\/>getKeyframeCount() -\/ 1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00614       \mbox{\hyperlink{class_keyframe_setter}{KeyframeSetter}}(curve, kIndex).setStep(step);}
\DoxyCodeLine{00615     \}}
\DoxyCodeLine{00616   \}}
\DoxyCodeLine{00617 }
\DoxyCodeLine{00618   TUndoManager::manager()-\/>endBlock();}
\DoxyCodeLine{00619 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_acb85a98c62f8cd781dae2ee9708bd20a}\label{class_function_selection_acb85a98c62f8cd781dae2ee9708bd20a}} 
\index{FunctionSelection@{FunctionSelection}!setStep1@{setStep1}}
\index{setStep1@{setStep1}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{setStep1()}{setStep1()}}
{\footnotesize\ttfamily void Function\+Selection\+::set\+Step1 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00114 \{ setStep(1); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_afcbef98c404c38d3c2a8add90cc9a25c}\label{class_function_selection_afcbef98c404c38d3c2a8add90cc9a25c}} 
\index{FunctionSelection@{FunctionSelection}!setStep2@{setStep2}}
\index{setStep2@{setStep2}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{setStep2()}{setStep2()}}
{\footnotesize\ttfamily void Function\+Selection\+::set\+Step2 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00115 \{ setStep(2); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a8032cf8e752f41648427342cdc344375}\label{class_function_selection_a8032cf8e752f41648427342cdc344375}} 
\index{FunctionSelection@{FunctionSelection}!setStep3@{setStep3}}
\index{setStep3@{setStep3}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{setStep3()}{setStep3()}}
{\footnotesize\ttfamily void Function\+Selection\+::set\+Step3 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00116 \{ setStep(3); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_function_selection_a9b07bb5dc05b308eac1303a8d2287db2}\label{class_function_selection_a9b07bb5dc05b308eac1303a8d2287db2}} 
\index{FunctionSelection@{FunctionSelection}!setStep4@{setStep4}}
\index{setStep4@{setStep4}!FunctionSelection@{FunctionSelection}}
\doxysubsubsection{\texorpdfstring{setStep4()}{setStep4()}}
{\footnotesize\ttfamily void Function\+Selection\+::set\+Step4 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00117 \{ setStep(4); \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/functionselection.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/functionselection.\+cpp\end{DoxyCompactItemize}
