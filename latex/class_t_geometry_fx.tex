\hypertarget{class_t_geometry_fx}{}\doxysection{TGeometry\+Fx Class Reference}
\label{class_t_geometry_fx}\index{TGeometryFx@{TGeometryFx}}
Inheritance diagram for TGeometry\+Fx\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{class_t_geometry_fx}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_t_geometry_fx_ab269063fa86719a4669817e29ec4d1ce}\label{class_t_geometry_fx_ab269063fa86719a4669817e29ec4d1ce}} 
virtual \mbox{\hyperlink{class_t_affine}{TAffine}} {\bfseries get\+Placement} (double frame)=0
\item 
\mbox{\Hypertarget{class_t_geometry_fx_a8996d7aa7756f30182304f0d3e58d9dd}\label{class_t_geometry_fx_a8996d7aa7756f30182304f0d3e58d9dd}} 
virtual \mbox{\hyperlink{class_t_affine}{TAffine}} {\bfseries get\+Parent\+Placement} (double frame)=0
\item 
void \mbox{\hyperlink{class_t_geometry_fx_aae2957ec10b725353dcda195bc08d692}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
bool \mbox{\hyperlink{class_t_geometry_fx_abe9f1414585fd734bdf64f003be424d9}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&bbox, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
virtual bool \mbox{\hyperlink{class_t_geometry_fx_afaa82616f8b51c343cac7000956eec5c}{check\+Time\+Region}} () const
\item 
std\+::string \mbox{\hyperlink{class_t_geometry_fx_a2418ee054dd90a700c54a72b13cefd9a}{get\+Alias}} (double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) const override
\item 
void \mbox{\hyperlink{class_t_geometry_fx_abea3f355af467c8d9a66c03eba1b2c05}{transform}} (double frame, int port, const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Output, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Output, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect\+On\+Input, \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info\+On\+Input) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_geometry_fx_a3c6b87777d4df4c4a254ded8cd4a950f}\label{class_t_geometry_fx_a3c6b87777d4df4c4a254ded8cd4a950f}} 
\index{TGeometryFx@{TGeometryFx}!TGeometryFx@{TGeometryFx}}
\index{TGeometryFx@{TGeometryFx}!TGeometryFx@{TGeometryFx}}
\doxysubsubsection{\texorpdfstring{TGeometryFx()}{TGeometryFx()}}
{\footnotesize\ttfamily TGeometry\+Fx\+::\+TGeometry\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00015 \{ setName(L\textcolor{stringliteral}{"{}Geometry"{}}); \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_geometry_fx_afaa82616f8b51c343cac7000956eec5c}\label{class_t_geometry_fx_afaa82616f8b51c343cac7000956eec5c}} 
\index{TGeometryFx@{TGeometryFx}!checkTimeRegion@{checkTimeRegion}}
\index{checkTimeRegion@{checkTimeRegion}!TGeometryFx@{TGeometryFx}}
\doxysubsubsection{\texorpdfstring{checkTimeRegion()}{checkTimeRegion()}}
{\footnotesize\ttfamily virtual bool TGeometry\+Fx\+::check\+Time\+Region (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00350 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_geometry_fx_aae2957ec10b725353dcda195bc08d692}\label{class_t_geometry_fx_aae2957ec10b725353dcda195bc08d692}} 
\index{TGeometryFx@{TGeometryFx}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!TGeometryFx@{TGeometryFx}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void TGeometry\+Fx\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00020                                                        \{}
\DoxyCodeLine{00021   \mbox{\hyperlink{class_t_raster_fx_port}{TRasterFxPort}} *input = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_raster_fx_port}{TRasterFxPort}} *\textcolor{keyword}{>}(getInputPort(0));}
\DoxyCodeLine{00022   assert(input);}
\DoxyCodeLine{00023 }
\DoxyCodeLine{00024   \textcolor{keywordflow}{if} (!input-\/>isConnected()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00025 }
\DoxyCodeLine{00026   \textcolor{keywordflow}{if} (!getActiveTimeRegion().contains(frame)) \{}
\DoxyCodeLine{00027     \mbox{\hyperlink{class_t_raster_fx_p}{TRasterFxP}}(input-\/>getFx())-\/>compute(tile, frame, ri);}
\DoxyCodeLine{00028     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00029   \}}
\DoxyCodeLine{00030 }
\DoxyCodeLine{00031   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}}(tile.getRaster()) \&\& !\mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}}(tile.getRaster()))}
\DoxyCodeLine{00032     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}AffineFx unsupported pixel type"{}});}
\DoxyCodeLine{00033 }
\DoxyCodeLine{00034   \mbox{\hyperlink{class_t_affine}{TAffine}} aff1 = getPlacement(frame);}
\DoxyCodeLine{00035   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} ri2(ri);}
\DoxyCodeLine{00036   ri2.m\_affine = ri2.m\_affine * aff1;}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00038   \mbox{\hyperlink{class_t_raster_fx_p}{TRasterFxP}} src = getInputPort(\textcolor{stringliteral}{"{}source"{}})-\/>getFx();}
\DoxyCodeLine{00039   src-\/>compute(tile, frame, ri2);}
\DoxyCodeLine{00040   \textcolor{keywordflow}{return};}
\DoxyCodeLine{00041 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_geometry_fx_abe9f1414585fd734bdf64f003be424d9}\label{class_t_geometry_fx_abe9f1414585fd734bdf64f003be424d9}} 
\index{TGeometryFx@{TGeometryFx}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!TGeometryFx@{TGeometryFx}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool TGeometry\+Fx\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{bbox,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00046                                                          \{}
\DoxyCodeLine{00047   \mbox{\hyperlink{class_t_raster_fx_port}{TRasterFxPort}} *input = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_raster_fx_port}{TRasterFxPort}} *\textcolor{keyword}{>}(getInputPort(0));}
\DoxyCodeLine{00048   assert(input);}
\DoxyCodeLine{00049 }
\DoxyCodeLine{00050   \textcolor{keywordflow}{if} (input-\/>isConnected()) \{}
\DoxyCodeLine{00051     \mbox{\hyperlink{class_t_raster_fx_p}{TRasterFxP}} fx = input-\/>getFx();}
\DoxyCodeLine{00052     assert(fx);}
\DoxyCodeLine{00053     \textcolor{keywordtype}{bool} ret = fx-\/>doGetBBox(frame, bBox, info);}
\DoxyCodeLine{00054     \textcolor{keywordflow}{if} (getActiveTimeRegion().contains(frame))}
\DoxyCodeLine{00055       bBox = getPlacement(frame) * bBox;}
\DoxyCodeLine{00056     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{00057   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00058     bBox = \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{00059     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00060   \}}
\DoxyCodeLine{00061   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00062 \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_geometry_fx_a2418ee054dd90a700c54a72b13cefd9a}\label{class_t_geometry_fx_a2418ee054dd90a700c54a72b13cefd9a}} 
\index{TGeometryFx@{TGeometryFx}!getAlias@{getAlias}}
\index{getAlias@{getAlias}!TGeometryFx@{TGeometryFx}}
\doxysubsubsection{\texorpdfstring{getAlias()}{getAlias()}}
{\footnotesize\ttfamily std\+::string TGeometry\+Fx\+::get\+Alias (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00067                                                                      \{}
\DoxyCodeLine{00068   \mbox{\hyperlink{class_t_geometry_fx}{TGeometryFx}} *tthis = \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{class_t_geometry_fx}{TGeometryFx}} *\textcolor{keyword}{>}(\textcolor{keyword}{this});}
\DoxyCodeLine{00069   \mbox{\hyperlink{class_t_affine}{TAffine}} affine     = tthis-\/>getPlacement(frame);}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071   std::string alias = getFxType();}
\DoxyCodeLine{00072   alias += \textcolor{stringliteral}{"{}["{}};}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074   \textcolor{comment}{// alias degli effetti connessi alle porte di input separati da virgole}}
\DoxyCodeLine{00075   \textcolor{comment}{// una porta non connessa da luogo a un alias vuoto (stringa vuota)}}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < getInputPortCount(); ++i) \{}
\DoxyCodeLine{00078     \mbox{\hyperlink{class_t_fx_port}{TFxPort}} *port = getInputPort(i);}
\DoxyCodeLine{00079     \textcolor{keywordflow}{if} (port-\/>isConnected()) \{}
\DoxyCodeLine{00080       \mbox{\hyperlink{class_t_raster_fx_p}{TRasterFxP}} ifx = port-\/>getFx();}
\DoxyCodeLine{00081       assert(ifx);}
\DoxyCodeLine{00082       alias += ifx-\/>getAlias(frame, info);}
\DoxyCodeLine{00083     \}}
\DoxyCodeLine{00084     alias += \textcolor{stringliteral}{"{},"{}};}
\DoxyCodeLine{00085   \}}
\DoxyCodeLine{00086 }
\DoxyCodeLine{00087   \textcolor{keywordflow}{return} alias +}
\DoxyCodeLine{00088          (areAlmostEqual(affine.a11, 0) ? \textcolor{stringliteral}{"{}0"{}} : ::to\_string(affine.a11, 5)) +}
\DoxyCodeLine{00089          \textcolor{stringliteral}{"{},"{}} +}
\DoxyCodeLine{00090          (areAlmostEqual(affine.a12, 0) ? \textcolor{stringliteral}{"{}0"{}} : ::to\_string(affine.a12, 5)) +}
\DoxyCodeLine{00091          \textcolor{stringliteral}{"{},"{}} +}
\DoxyCodeLine{00092          (areAlmostEqual(affine.a13, 0) ? \textcolor{stringliteral}{"{}0"{}} : ::to\_string(affine.a13, 5)) +}
\DoxyCodeLine{00093          \textcolor{stringliteral}{"{},"{}} +}
\DoxyCodeLine{00094          (areAlmostEqual(affine.a21, 0) ? \textcolor{stringliteral}{"{}0"{}} : ::to\_string(affine.a21, 5)) +}
\DoxyCodeLine{00095          \textcolor{stringliteral}{"{},"{}} +}
\DoxyCodeLine{00096          (areAlmostEqual(affine.a22, 0) ? \textcolor{stringliteral}{"{}0"{}} : ::to\_string(affine.a22, 5)) +}
\DoxyCodeLine{00097          \textcolor{stringliteral}{"{},"{}} +}
\DoxyCodeLine{00098          (areAlmostEqual(affine.a23, 0) ? \textcolor{stringliteral}{"{}0"{}} : ::to\_string(affine.a23, 5)) +}
\DoxyCodeLine{00099          \textcolor{stringliteral}{"{}]"{}};}
\DoxyCodeLine{00100 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_geometry_fx_abea3f355af467c8d9a66c03eba1b2c05}\label{class_t_geometry_fx_abea3f355af467c8d9a66c03eba1b2c05}} 
\index{TGeometryFx@{TGeometryFx}!transform@{transform}}
\index{transform@{transform}!TGeometryFx@{TGeometryFx}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}}
{\footnotesize\ttfamily void TGeometry\+Fx\+::transform (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{int}]{port,  }\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Output,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Output,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect\+On\+Input,  }\item[{\mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info\+On\+Input }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00106                                                                                \{}
\DoxyCodeLine{00107   rectOnInput = rectOnOutput;}
\DoxyCodeLine{00108   \mbox{\hyperlink{class_t_affine}{TAffine}} aff = getPlacement(frame);}
\DoxyCodeLine{00109 }
\DoxyCodeLine{00110   infoOnInput          = infoOnOutput;}
\DoxyCodeLine{00111   infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} = infoOnInput.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}} * aff;}
\DoxyCodeLine{00112 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/trasterfx.\+h\item 
E\+:/opentoonz/toonz/sources/common/tfx/unary\+Fx.\+cpp\end{DoxyCompactItemize}
