\hypertarget{class_pegbar_center_field}{}\doxysection{Pegbar\+Center\+Field Class Reference}
\label{class_pegbar_center_field}\index{PegbarCenterField@{PegbarCenterField}}
Inheritance diagram for Pegbar\+Center\+Field\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_pegbar_center_field}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_pegbar_center_field_a70d3a37d50da0db3d9e37b21d54d9b0d}{Pegbar\+Center\+Field}} (\mbox{\hyperlink{class_t_tool}{TTool}} $\ast$tool, int index, QString name, \mbox{\hyperlink{class_t_object_handle}{TObject\+Handle}} $\ast$obj\+Handle, \mbox{\hyperlink{class_t_xsheet_handle}{TXsheet\+Handle}} $\ast$xsh\+Handle, QWidget $\ast$parent=0)
\item 
void \mbox{\hyperlink{class_pegbar_center_field_a7737bd1aef1201e740b304f1a23baf01}{update\+Status}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_pegbar_center_field_a0b5ed01677e8328233c4754520c5ee4e}{on\+Change}} (\mbox{\hyperlink{class_t_measured_value}{TMeasured\+Value}} $\ast$fld, bool add\+To\+Undo=true)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_pegbar_center_field_a70d3a37d50da0db3d9e37b21d54d9b0d}\label{class_pegbar_center_field_a70d3a37d50da0db3d9e37b21d54d9b0d}} 
\index{PegbarCenterField@{PegbarCenterField}!PegbarCenterField@{PegbarCenterField}}
\index{PegbarCenterField@{PegbarCenterField}!PegbarCenterField@{PegbarCenterField}}
\doxysubsubsection{\texorpdfstring{PegbarCenterField()}{PegbarCenterField()}}
{\footnotesize\ttfamily Pegbar\+Center\+Field\+::\+Pegbar\+Center\+Field (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tool}{TTool}} $\ast$}]{tool,  }\item[{int}]{index,  }\item[{QString}]{name,  }\item[{\mbox{\hyperlink{class_t_object_handle}{TObject\+Handle}} $\ast$}]{obj\+Handle,  }\item[{\mbox{\hyperlink{class_t_xsheet_handle}{TXsheet\+Handle}} $\ast$}]{xsh\+Handle,  }\item[{QWidget $\ast$}]{parent = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01059     : \mbox{\hyperlink{class_measured_value_field}{MeasuredValueField}}(parent, name)}
\DoxyCodeLine{01060     , \mbox{\hyperlink{class_tool_option_control}{ToolOptionControl}}(tool, \textcolor{stringliteral}{"{}"{}})}
\DoxyCodeLine{01061     , m\_index(index)}
\DoxyCodeLine{01062     , m\_objHandle(objHandle)}
\DoxyCodeLine{01063     , m\_xshHandle(xshHandle) \{}
\DoxyCodeLine{01064   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} objId = m\_tool-\/>\mbox{\hyperlink{class_t_tool_a25b57b82dfac131d9d6405e07fbd98b4}{getObjectId}}();}
\DoxyCodeLine{01065   setMeasure(m\_index == 0 ? \textcolor{stringliteral}{"{}length.x"{}} : \textcolor{stringliteral}{"{}length.y"{}});}
\DoxyCodeLine{01066   connect(\textcolor{keyword}{this}, SIGNAL(measuredValueChanged(\mbox{\hyperlink{class_t_measured_value}{TMeasuredValue}} *, \textcolor{keywordtype}{bool})),}
\DoxyCodeLine{01067           SLOT(onChange(\mbox{\hyperlink{class_t_measured_value}{TMeasuredValue}} *, \textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01068   updateStatus();}
\DoxyCodeLine{01069   setMaximumWidth(getMaximumWidthForEditToolField(\textcolor{keyword}{this}));}
\DoxyCodeLine{01070 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pegbar_center_field_ac7bdb5969ba57af283a86c52b1658486}\label{class_pegbar_center_field_ac7bdb5969ba57af283a86c52b1658486}} 
\index{PegbarCenterField@{PegbarCenterField}!````~PegbarCenterField@{$\sim$PegbarCenterField}}
\index{````~PegbarCenterField@{$\sim$PegbarCenterField}!PegbarCenterField@{PegbarCenterField}}
\doxysubsubsection{\texorpdfstring{$\sim$PegbarCenterField()}{~PegbarCenterField()}}
{\footnotesize\ttfamily Pegbar\+Center\+Field\+::$\sim$\+Pegbar\+Center\+Field (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00431 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_pegbar_center_field_a0b5ed01677e8328233c4754520c5ee4e}\label{class_pegbar_center_field_a0b5ed01677e8328233c4754520c5ee4e}} 
\index{PegbarCenterField@{PegbarCenterField}!onChange@{onChange}}
\index{onChange@{onChange}!PegbarCenterField@{PegbarCenterField}}
\doxysubsubsection{\texorpdfstring{onChange}{onChange}}
{\footnotesize\ttfamily void Pegbar\+Center\+Field\+::on\+Change (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_measured_value}{TMeasured\+Value}} $\ast$}]{fld,  }\item[{bool}]{add\+To\+Undo = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01074                                                                     \{}
\DoxyCodeLine{01075   \textcolor{keywordflow}{if} (!m\_tool-\/>isEnabled()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01076   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh         = m\_tool-\/>\mbox{\hyperlink{class_t_tool_a8716e1462da359f4902c044a79f2d40d}{getXsheet}}();}
\DoxyCodeLine{01077   \textcolor{keywordtype}{int} frame            = m\_tool-\/>\mbox{\hyperlink{class_t_tool_a85025fe6544609814a1672ded5847874}{getFrame}}();}
\DoxyCodeLine{01078   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} objId = m\_tool-\/>\mbox{\hyperlink{class_t_tool_a25b57b82dfac131d9d6405e07fbd98b4}{getObjectId}}();}
\DoxyCodeLine{01079 }
\DoxyCodeLine{01080   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *obj = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(objId);}
\DoxyCodeLine{01081 }
\DoxyCodeLine{01082   \textcolor{keywordtype}{double} v       = fld-\/>getValue(TMeasuredValue::MainUnit);}
\DoxyCodeLine{01083   \mbox{\hyperlink{class_t_point_t}{TPointD}} center = obj-\/>\mbox{\hyperlink{class_t_stage_object_a4b41d0e35b6da11930675c36c07ae885}{getCenter}}(frame);}
\DoxyCodeLine{01084   \textcolor{keywordflow}{if} (!m\_firstMouseDrag) m\_oldCenter = center;}
\DoxyCodeLine{01085   \textcolor{keywordflow}{if} (m\_index == 0)}
\DoxyCodeLine{01086     center.x = v;}
\DoxyCodeLine{01087   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01088     center.y = v;}
\DoxyCodeLine{01089   obj-\/>\mbox{\hyperlink{class_t_stage_object_abae725e82b94f1ae3bd7acca26077560}{setCenter}}(frame, center);}
\DoxyCodeLine{01090   m\_tool-\/>\mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01091 }
\DoxyCodeLine{01092   \textcolor{keywordflow}{if} (addToUndo) \{}
\DoxyCodeLine{01093     \mbox{\hyperlink{class_undo_stage_object_center_move}{UndoStageObjectCenterMove}} *undo =}
\DoxyCodeLine{01094         \textcolor{keyword}{new} \mbox{\hyperlink{class_undo_stage_object_center_move}{UndoStageObjectCenterMove}}(objId, frame, m\_oldCenter, center);}
\DoxyCodeLine{01095     undo-\/>setObjectHandle(m\_objHandle);}
\DoxyCodeLine{01096     undo-\/>setXsheetHandle(m\_xshHandle);}
\DoxyCodeLine{01097     TUndoManager::manager()-\/>add(undo);}
\DoxyCodeLine{01098     m\_firstMouseDrag = \textcolor{keyword}{false};}
\DoxyCodeLine{01099   \}}
\DoxyCodeLine{01100   \textcolor{keywordflow}{if} (!addToUndo \&\& !m\_firstMouseDrag) m\_firstMouseDrag = \textcolor{keyword}{true};}
\DoxyCodeLine{01101   m\_objHandle-\/>notifyObjectIdChanged(\textcolor{keyword}{false});}
\DoxyCodeLine{01102 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_pegbar_center_field_a7737bd1aef1201e740b304f1a23baf01}\label{class_pegbar_center_field_a7737bd1aef1201e740b304f1a23baf01}} 
\index{PegbarCenterField@{PegbarCenterField}!updateStatus@{updateStatus}}
\index{updateStatus@{updateStatus}!PegbarCenterField@{PegbarCenterField}}
\doxysubsubsection{\texorpdfstring{updateStatus()}{updateStatus()}}
{\footnotesize\ttfamily void Pegbar\+Center\+Field\+::update\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_tool_option_control}{Tool\+Option\+Control}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01106                                      \{}
\DoxyCodeLine{01107   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh         = m\_tool-\/>\mbox{\hyperlink{class_t_tool_a8716e1462da359f4902c044a79f2d40d}{getXsheet}}();}
\DoxyCodeLine{01108   \textcolor{keywordtype}{int} frame            = m\_tool-\/>\mbox{\hyperlink{class_t_tool_a85025fe6544609814a1672ded5847874}{getFrame}}();}
\DoxyCodeLine{01109   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} objId = m\_tool-\/>\mbox{\hyperlink{class_t_tool_a25b57b82dfac131d9d6405e07fbd98b4}{getObjectId}}();}
\DoxyCodeLine{01110   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *obj    = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(objId);}
\DoxyCodeLine{01111   \mbox{\hyperlink{class_t_point_t}{TPointD}} center       = obj-\/>\mbox{\hyperlink{class_t_stage_object_a4b41d0e35b6da11930675c36c07ae885}{getCenter}}(frame);}
\DoxyCodeLine{01112 }
\DoxyCodeLine{01113   \textcolor{keywordtype}{double} v = m\_index == 0 ? center.x : center.y;}
\DoxyCodeLine{01114   \textcolor{keywordflow}{if} (getValue() == v) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01115   setValue(v);}
\DoxyCodeLine{01116 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/tooloptionscontrols.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/tooloptionscontrols.\+cpp\end{DoxyCompactItemize}
