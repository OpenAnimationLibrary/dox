\hypertarget{class_edit_tool}{}\doxysection{Edit\+Tool Class Reference}
\label{class_edit_tool}\index{EditTool@{EditTool}}
Inheritance diagram for Edit\+Tool\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_edit_tool}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296c}{Tool\+Type}} \mbox{\hyperlink{class_edit_tool_ae271d1fcf8bb4aa77114c5bce7fb62e4}{get\+Tool\+Type}} () const override
\item 
bool \mbox{\hyperlink{class_edit_tool_a1ed817de17a68467c869f61ff542f2d0}{does\+Apply}} () const
\item 
\mbox{\Hypertarget{class_edit_tool_a325d6149eaeefc41d500d0088217077f}\label{class_edit_tool_a325d6149eaeefc41d500d0088217077f}} 
void {\bfseries save\+Old\+Values} ()
\item 
bool \mbox{\hyperlink{class_edit_tool_a7f225278f090ef9e16441b8e783e0314}{transform\+Enabled}} () const
\item 
const \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ \mbox{\hyperlink{class_edit_tool_a24e7d0e7c4ee5e1b8ad663694e6d7c92}{get\+Spline}} () const
\item 
\mbox{\Hypertarget{class_edit_tool_a2a05cc780b9926d6a489d3084665ccb6}\label{class_edit_tool_a2a05cc780b9926d6a489d3084665ccb6}} 
void {\bfseries rotate} ()
\item 
\mbox{\Hypertarget{class_edit_tool_ae9c09c463c3199fa25f7d37066932ccb}\label{class_edit_tool_ae9c09c463c3199fa25f7d37066932ccb}} 
void {\bfseries move} ()
\item 
\mbox{\Hypertarget{class_edit_tool_a49357b94750260071eb2baa90c0404aa}\label{class_edit_tool_a49357b94750260071eb2baa90c0404aa}} 
void {\bfseries move\+Center} ()
\item 
\mbox{\Hypertarget{class_edit_tool_a35eda8136c95bc4a8b3022da8194c187}\label{class_edit_tool_a35eda8136c95bc4a8b3022da8194c187}} 
void {\bfseries scale} ()
\item 
\mbox{\Hypertarget{class_edit_tool_a1296253c9dd218513692293e90f2277b}\label{class_edit_tool_a1296253c9dd218513692293e90f2277b}} 
void {\bfseries iso\+Scale} ()
\item 
\mbox{\Hypertarget{class_edit_tool_aad627a44ee74ed73d21858ddc0ffd9a9}\label{class_edit_tool_aad627a44ee74ed73d21858ddc0ffd9a9}} 
void {\bfseries squeeze} ()
\item 
\mbox{\Hypertarget{class_edit_tool_ab93b66e90bc1d0d1ea62d2aff3f2f7d5}\label{class_edit_tool_ab93b66e90bc1d0d1ea62d2aff3f2f7d5}} 
void {\bfseries shear} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, bool single)
\item 
void \mbox{\hyperlink{class_edit_tool_addef8de11b39f4f3388bcbf6edd51eda}{update\+Translation}} () override
\item 
void \mbox{\hyperlink{class_edit_tool_aeeb9c34800bca86230adf65e13d80f2d}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_edit_tool_a334db3a4fd76b4d764b4beea46059915}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_edit_tool_a139d9b11f6acb01690333b7b0717122b}{left\+Button\+Up}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_edit_tool_a2f2f8322a24955d2d60e6ad68938154d}{mouse\+Move}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_edit_tool_a8ba2e2f68e01b0635a84982ccce2a4a1}{draw}} () override
\begin{DoxyCompactList}\small\item\em Draws the tool on the viewer. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_edit_tool_a6e6090085ff2d862651fe7b6209cc3ca}\label{class_edit_tool_a6e6090085ff2d862651fe7b6209cc3ca}} 
void {\bfseries transform} (const \mbox{\hyperlink{class_t_affine}{TAffine}} \&aff)
\item 
void \mbox{\hyperlink{class_edit_tool_a757fb5f5182d8d8513efbd83ec02ff6e}{on\+Activate}} () override
\begin{DoxyCompactList}\small\item\em Callback invoked whenever the tool activates. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_edit_tool_a6a646ea80af4cb9165778e73a82d8d11}{on\+Deactivate}} () override
\begin{DoxyCompactList}\small\item\em Callback for tool deactivation, includes tool switch. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_edit_tool_a95f4147a7d6c342c6a4c766df8d6d38a}{on\+Property\+Changed}} (std\+::string property\+Name) override
\item 
\mbox{\Hypertarget{class_edit_tool_ac15fc3311407faace27ddb76a8a0af50}\label{class_edit_tool_ac15fc3311407faace27ddb76a8a0af50}} 
void {\bfseries compute\+BBox} ()
\item 
int \mbox{\hyperlink{class_edit_tool_ac8768cdb1941d89c22ce6f19571681bf}{get\+Cursor\+Id}} () const override
\begin{DoxyCompactList}\small\item\em Returns the type of cursor used by the tool. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ \mbox{\hyperlink{class_edit_tool_af0c1f00c5ea7284b65fe02f8da19e778}{get\+Properties}} (int target\+Type) override
\item 
void \mbox{\hyperlink{class_edit_tool_afd852a706783ccf324c899f613764cd0}{update\+Matrix}} () override
\item 
void \mbox{\hyperlink{class_edit_tool_a7619d916bb9526ecc8e7942137916817}{draw\+Text}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, double unit, std\+::string text)
\item 
QString \mbox{\hyperlink{class_edit_tool_a473d455c54f38d1e9d813ac7d7424710}{update\+Enabled}} (int row\+Index, int column\+Index) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_edit_tool_a3590f9d1ce7468c97435bf0fad3d7670}\label{class_edit_tool_a3590f9d1ce7468c97435bf0fad3d7670}} 
\index{EditTool@{EditTool}!EditTool@{EditTool}}
\index{EditTool@{EditTool}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{EditTool()}{EditTool()}}
{\footnotesize\ttfamily Edit\+Tool\+::\+Edit\+Tool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00768     : \mbox{\hyperlink{class_t_tool_a9c63ec35f606e755d0d036bf4fed62ab}{TTool}}(\textcolor{stringliteral}{"{}T\_Edit"{}})}
\DoxyCodeLine{00769     , m\_active(\textcolor{keyword}{false})}
\DoxyCodeLine{00770     , m\_what(Translation)}
\DoxyCodeLine{00771     , m\_highlightedDevice(None)}
\DoxyCodeLine{00772     , m\_currentScaleFactor(1)}
\DoxyCodeLine{00773     , m\_fxGadgetController(0)}
\DoxyCodeLine{00774     , m\_keyFrameAdded(\textcolor{keyword}{false})}
\DoxyCodeLine{00775     , m\_scaleConstraint(\textcolor{stringliteral}{"{}Scale Constraint:"{}})  \textcolor{comment}{// W\_ToolOptions\_ScaleConstraint}}
\DoxyCodeLine{00776     , m\_autoSelect(\textcolor{stringliteral}{"{}Auto Select Column"{}})      \textcolor{comment}{// W\_ToolOptions\_AutoSelect}}
\DoxyCodeLine{00777     , m\_globalKeyframes(\textcolor{stringliteral}{"{}Global Key"{}}, \textcolor{keyword}{false})  \textcolor{comment}{// W\_ToolsOptions\_GlobalKeyframes}}
\DoxyCodeLine{00778     , m\_lockCenterX(\textcolor{stringliteral}{"{}Lock Center X"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00779     , m\_lockCenterY(\textcolor{stringliteral}{"{}Lock Center Y"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00780     , m\_lockPositionX(\textcolor{stringliteral}{"{}Lock Position X"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00781     , m\_lockPositionY(\textcolor{stringliteral}{"{}Lock Position Y"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00782     , m\_lockRotation(\textcolor{stringliteral}{"{}Lock Rotation"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00783     , m\_lockShearH(\textcolor{stringliteral}{"{}Lock Shear H"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00784     , m\_lockShearV(\textcolor{stringliteral}{"{}Lock Shear V"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00785     , m\_lockScaleH(\textcolor{stringliteral}{"{}Lock Scale H"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00786     , m\_lockScaleV(\textcolor{stringliteral}{"{}Lock Scale V"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00787     , m\_lockGlobalScale(\textcolor{stringliteral}{"{}Lock Global Scale"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{00788     , m\_showEWNSposition(\textcolor{stringliteral}{"{}X and Y Positions"{}}, \textcolor{keyword}{true})}
\DoxyCodeLine{00789     , m\_showZposition(\textcolor{stringliteral}{"{}Z Position"{}}, \textcolor{keyword}{true})}
\DoxyCodeLine{00790     , m\_showSOposition(\textcolor{stringliteral}{"{}SO"{}}, \textcolor{keyword}{true})}
\DoxyCodeLine{00791     , m\_showRotation(\textcolor{stringliteral}{"{}Rotation"{}}, \textcolor{keyword}{true})}
\DoxyCodeLine{00792     , m\_showGlobalScale(\textcolor{stringliteral}{"{}Global Scale"{}}, \textcolor{keyword}{true})}
\DoxyCodeLine{00793     , m\_showHVscale(\textcolor{stringliteral}{"{}Horizontal and Vertical Scale"{}}, \textcolor{keyword}{true})}
\DoxyCodeLine{00794     , m\_showShear(\textcolor{stringliteral}{"{}Shear"{}}, \textcolor{keyword}{true})}
\DoxyCodeLine{00795     , m\_showCenterPosition(\textcolor{stringliteral}{"{}Center Position"{}}, \textcolor{keyword}{true})}
\DoxyCodeLine{00796     , m\_dragTool(0)}
\DoxyCodeLine{00797     , m\_firstTime(\textcolor{keyword}{true})}
\DoxyCodeLine{00798     , m\_activeAxis(\textcolor{stringliteral}{"{}Active Axis"{}})}
\DoxyCodeLine{00799     , m\_isAltPressed(\textcolor{keyword}{false}) \{}
\DoxyCodeLine{00800   bind(TTool::AllTargets);}
\DoxyCodeLine{00801   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_scaleConstraint);}
\DoxyCodeLine{00802   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_autoSelect);}
\DoxyCodeLine{00803   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_globalKeyframes);}
\DoxyCodeLine{00804 }
\DoxyCodeLine{00805   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_lockCenterX);}
\DoxyCodeLine{00806   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_lockCenterY);}
\DoxyCodeLine{00807   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_lockPositionX);}
\DoxyCodeLine{00808   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_lockPositionY);}
\DoxyCodeLine{00809   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_lockRotation);}
\DoxyCodeLine{00810   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_lockShearH);}
\DoxyCodeLine{00811   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_lockShearV);}
\DoxyCodeLine{00812   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_lockScaleH);}
\DoxyCodeLine{00813   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_lockScaleV);}
\DoxyCodeLine{00814   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_lockGlobalScale);}
\DoxyCodeLine{00815 }
\DoxyCodeLine{00816   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_showEWNSposition);}
\DoxyCodeLine{00817   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_showZposition);}
\DoxyCodeLine{00818   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_showSOposition);}
\DoxyCodeLine{00819   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_showRotation);}
\DoxyCodeLine{00820   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_showGlobalScale);}
\DoxyCodeLine{00821   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_showHVscale);}
\DoxyCodeLine{00822   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_showShear);}
\DoxyCodeLine{00823   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_showCenterPosition);}
\DoxyCodeLine{00824 }
\DoxyCodeLine{00825   m\_scaleConstraint.addValue(L\textcolor{stringliteral}{"{}None"{}});}
\DoxyCodeLine{00826   m\_scaleConstraint.addValue(L\textcolor{stringliteral}{"{}A/R"{}});}
\DoxyCodeLine{00827   m\_scaleConstraint.addValue(L\textcolor{stringliteral}{"{}Mass"{}});}
\DoxyCodeLine{00828   m\_scaleConstraint.setValue(L\textcolor{stringliteral}{"{}None"{}});}
\DoxyCodeLine{00829 }
\DoxyCodeLine{00830   m\_autoSelect.addValue(L\textcolor{stringliteral}{"{}None"{}});}
\DoxyCodeLine{00831   m\_autoSelect.addValue(L\textcolor{stringliteral}{"{}Column"{}});}
\DoxyCodeLine{00832   m\_autoSelect.addValue(L\textcolor{stringliteral}{"{}Pegbar"{}});}
\DoxyCodeLine{00833   m\_autoSelect.setValue(L\textcolor{stringliteral}{"{}None"{}});}
\DoxyCodeLine{00834 }
\DoxyCodeLine{00835   m\_globalKeyframes.setId(\textcolor{stringliteral}{"{}GlobalKey"{}});}
\DoxyCodeLine{00836   m\_autoSelect.setId(\textcolor{stringliteral}{"{}AutoSelect"{}});}
\DoxyCodeLine{00837 }
\DoxyCodeLine{00838   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_activeAxis);}
\DoxyCodeLine{00839   m\_activeAxis.addValue(L\textcolor{stringliteral}{"{}Position"{}}, \textcolor{stringliteral}{"{}edit\_position"{}});}
\DoxyCodeLine{00840   m\_activeAxis.addValue(L\textcolor{stringliteral}{"{}Rotation"{}}, \textcolor{stringliteral}{"{}edit\_rotation"{}});}
\DoxyCodeLine{00841   m\_activeAxis.addValue(L\textcolor{stringliteral}{"{}Scale"{}}, \textcolor{stringliteral}{"{}edit\_scale"{}});}
\DoxyCodeLine{00842   m\_activeAxis.addValue(L\textcolor{stringliteral}{"{}Shear"{}}, \textcolor{stringliteral}{"{}edit\_shear"{}});}
\DoxyCodeLine{00843   m\_activeAxis.addValue(L\textcolor{stringliteral}{"{}Center"{}}, \textcolor{stringliteral}{"{}edit\_center"{}});}
\DoxyCodeLine{00844   m\_activeAxis.addValue(L\textcolor{stringliteral}{"{}All"{}}, \textcolor{stringliteral}{"{}edit\_all"{}});}
\DoxyCodeLine{00845   m\_activeAxis.setValue(L\textcolor{stringliteral}{"{}Position"{}});}
\DoxyCodeLine{00846 }
\DoxyCodeLine{00847   m\_activeAxis.setId(\textcolor{stringliteral}{"{}EditToolActiveAxis"{}});}
\DoxyCodeLine{00848 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_a1535d8ebaf22a259a936b42dc01bd439}\label{class_edit_tool_a1535d8ebaf22a259a936b42dc01bd439}} 
\index{EditTool@{EditTool}!````~EditTool@{$\sim$EditTool}}
\index{````~EditTool@{$\sim$EditTool}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{$\sim$EditTool()}{~EditTool()}}
{\footnotesize\ttfamily Edit\+Tool\+::$\sim$\+Edit\+Tool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00852                     \{}
\DoxyCodeLine{00853   \textcolor{keyword}{delete} m\_dragTool;}
\DoxyCodeLine{00854   \textcolor{keyword}{delete} m\_fxGadgetController;}
\DoxyCodeLine{00855 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_edit_tool_a1ed817de17a68467c869f61ff542f2d0}\label{class_edit_tool_a1ed817de17a68467c869f61ff542f2d0}} 
\index{EditTool@{EditTool}!doesApply@{doesApply}}
\index{doesApply@{doesApply}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{doesApply()}{doesApply()}}
{\footnotesize\ttfamily bool Edit\+Tool\+::does\+Apply (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00901                                \{}
\DoxyCodeLine{00902   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = TTool::getApplication()-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{00903   assert(xsh);}
\DoxyCodeLine{00904   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} objId =}
\DoxyCodeLine{00905       TTool::getApplication()-\/>getCurrentObject()-\/>getObjectId();}
\DoxyCodeLine{00906   \textcolor{keywordflow}{if} (objId.\mbox{\hyperlink{class_t_stage_object_id_af6d13fcf31e7e10eef28f085855f469c}{isColumn}}()) \{}
\DoxyCodeLine{00907     \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(objId.getIndex());}
\DoxyCodeLine{00908     \textcolor{keywordflow}{if} (column \&\& column-\/>getSoundColumn()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00909   \}}
\DoxyCodeLine{00910   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00911 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_a8ba2e2f68e01b0635a84982ccce2a4a1}\label{class_edit_tool_a8ba2e2f68e01b0635a84982ccce2a4a1}} 
\index{EditTool@{EditTool}!draw@{draw}}
\index{draw@{draw}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{draw()}{draw()}}
{\footnotesize\ttfamily void Edit\+Tool\+::draw (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Draws the tool on the viewer. 



Reimplemented from \mbox{\hyperlink{class_t_tool_a058bf656d73bf3cd63b9826cbaaf48e0}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01416                     \{}
\DoxyCodeLine{01417   \textcolor{comment}{// the tool is using the coordinate system of the parent object}}
\DoxyCodeLine{01418   \textcolor{comment}{// glColor3d(1,0,1);}}
\DoxyCodeLine{01419   \textcolor{comment}{// tglDrawCircle(crossHair,50);}}
\DoxyCodeLine{01420 }
\DoxyCodeLine{01421   \textcolor{comment}{/*-\/-\/ Show nothing on Level Editing mode -\/-\/*/}}
\DoxyCodeLine{01422   \textcolor{keywordflow}{if} (TTool::getApplication()-\/>getCurrentFrame()-\/>isEditingLevel()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01423 }
\DoxyCodeLine{01424   \textcolor{comment}{// if the column and its children are all hidden, only draw fx gadgets}}
\DoxyCodeLine{01425   \textcolor{keywordflow}{if} (!transformEnabled()) \{}
\DoxyCodeLine{01426     m\_fxGadgetController-\/>draw(isPicking());}
\DoxyCodeLine{01427     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01428   \}}
\DoxyCodeLine{01429   \textcolor{keyword}{const} TPixel32 normalColor(250, 127, 240);}
\DoxyCodeLine{01430   \textcolor{keyword}{const} TPixel32 highlightedColor(150, 255, 140);}
\DoxyCodeLine{01431 }
\DoxyCodeLine{01432   \textcolor{comment}{// collect information}}
\DoxyCodeLine{01433   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = \mbox{\hyperlink{class_t_tool_a8716e1462da359f4902c044a79f2d40d}{getXsheet}}();}
\DoxyCodeLine{01434   \textcolor{comment}{/*-\/-\/ Obtain ID of the current editing stage object -\/-\/*/}}
\DoxyCodeLine{01435   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} objId = \mbox{\hyperlink{class_t_tool_a25b57b82dfac131d9d6405e07fbd98b4}{getObjectId}}();}
\DoxyCodeLine{01436 }
\DoxyCodeLine{01437   \textcolor{keywordtype}{int} frame         = \mbox{\hyperlink{class_t_tool_a85025fe6544609814a1672ded5847874}{getFrame}}();}
\DoxyCodeLine{01438   \mbox{\hyperlink{class_t_affine}{TAffine}} parentAff = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a491a29d5ec8795c1445db08a5e83a612}{getParentPlacement}}(objId, frame);}
\DoxyCodeLine{01439   \mbox{\hyperlink{class_t_affine}{TAffine}} aff       = xsh-\/>\mbox{\hyperlink{class_t_xsheet_abd766f516cac9898a2a952463618a9fe}{getPlacement}}(objId, frame);}
\DoxyCodeLine{01440   \mbox{\hyperlink{class_t_point_t}{TPointD}} center    = \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}} * xsh-\/>\mbox{\hyperlink{class_t_xsheet_ad762600c9d9d3b5173fcc1e79a802793}{getCenter}}(objId, frame);}
\DoxyCodeLine{01441 }
\DoxyCodeLine{01442   \textcolor{comment}{/*-\/-\/ Enable Z translation on 3D view -\/-\/*/}}
\DoxyCodeLine{01443   \textcolor{keywordflow}{if} (getViewer()-\/>is3DView()) \{}
\DoxyCodeLine{01444     glPushMatrix();}
\DoxyCodeLine{01445     glPushName(ZTranslation);}
\DoxyCodeLine{01446 }
\DoxyCodeLine{01447     tglColor(m\_highlightedDevice == ZTranslation ? highlightedColor}
\DoxyCodeLine{01448                                                  : normalColor);}
\DoxyCodeLine{01449 }
\DoxyCodeLine{01450     glPushMatrix();}
\DoxyCodeLine{01451     \textcolor{keywordtype}{double} z = xsh-\/>\mbox{\hyperlink{class_t_xsheet_ac3cff0937663af24b324430b134ed8b2}{getZ}}(objId, frame);}
\DoxyCodeLine{01452     glTranslated(0, -\/1, z);}
\DoxyCodeLine{01453     drawArrow(50, isPicking());}
\DoxyCodeLine{01454     glPopName();}
\DoxyCodeLine{01455     glPopMatrix();}
\DoxyCodeLine{01456 }
\DoxyCodeLine{01457     glPopMatrix();}
\DoxyCodeLine{01458     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01459   \}}
\DoxyCodeLine{01460 }
\DoxyCodeLine{01461   \textcolor{comment}{// Edit-\/all}}
\DoxyCodeLine{01462   \textcolor{keywordflow}{if} (m\_activeAxis.getValue() == L\textcolor{stringliteral}{"{}All"{}}) \{}
\DoxyCodeLine{01463     \textcolor{keywordflow}{if} (!m\_fxGadgetController-\/>isEditingNonZeraryFx()) drawMainHandle();}
\DoxyCodeLine{01464     m\_fxGadgetController-\/>draw(isPicking());}
\DoxyCodeLine{01465     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01466   \}}
\DoxyCodeLine{01467 }
\DoxyCodeLine{01468   \textcolor{keywordtype}{double} unit = getPixelSize();}
\DoxyCodeLine{01469 }
\DoxyCodeLine{01470   \textcolor{comment}{/*-\/-\/ Obtain object's center position -\/-\/*/}}
\DoxyCodeLine{01471   glPushMatrix();}
\DoxyCodeLine{01472   tglMultMatrix(parentAff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}() * \mbox{\hyperlink{class_t_translation}{TTranslation}}(aff * \mbox{\hyperlink{class_t_point_t}{TPointD}}(0.0, 0.0)));}
\DoxyCodeLine{01473   tglColor(normalColor);}
\DoxyCodeLine{01474   tglDrawDisk(\mbox{\hyperlink{class_t_point_t}{TPointD}}(0.0, 0.0), unit * 4);}
\DoxyCodeLine{01475   glPopMatrix();}
\DoxyCodeLine{01476 }
\DoxyCodeLine{01477   \textcolor{comment}{/*-\/-\/ Z translation : Draw arrow mark (placed at the camera center) -\/-\/*/}}
\DoxyCodeLine{01478   \textcolor{keywordflow}{if} (m\_activeAxis.getValue() == L\textcolor{stringliteral}{"{}Position"{}} \&\&}
\DoxyCodeLine{01479       m\_highlightedDevice == ZTranslation) \{}
\DoxyCodeLine{01480     tglColor(normalColor);}
\DoxyCodeLine{01481     glPushMatrix();}
\DoxyCodeLine{01482     \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} currentCamId =}
\DoxyCodeLine{01483         TStageObjectId::CameraId(xsh-\/>getCameraColumnIndex());}
\DoxyCodeLine{01484     \mbox{\hyperlink{class_t_affine}{TAffine}} camParentAff = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a491a29d5ec8795c1445db08a5e83a612}{getParentPlacement}}(currentCamId, frame);}
\DoxyCodeLine{01485     \mbox{\hyperlink{class_t_affine}{TAffine}} camAff       = xsh-\/>\mbox{\hyperlink{class_t_xsheet_abd766f516cac9898a2a952463618a9fe}{getPlacement}}(currentCamId, frame);}
\DoxyCodeLine{01486     tglMultMatrix(camParentAff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}() *}
\DoxyCodeLine{01487                   \mbox{\hyperlink{class_t_translation}{TTranslation}}(camAff * \mbox{\hyperlink{class_t_point_t}{TPointD}}(0.0, 0.0)));}
\DoxyCodeLine{01488     glScaled(unit * 8, unit * 8, 1);}
\DoxyCodeLine{01489     drawZArrow();}
\DoxyCodeLine{01490     glPopMatrix();}
\DoxyCodeLine{01491   \}}
\DoxyCodeLine{01492   \textcolor{comment}{/*-\/-\/ Rotation, Position : Draw vertical and horizontal lines -\/-\/*/}}
\DoxyCodeLine{01493   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_activeAxis.getValue() == L\textcolor{stringliteral}{"{}Rotation"{}} ||}
\DoxyCodeLine{01494            m\_activeAxis.getValue() == L\textcolor{stringliteral}{"{}Position"{}}) \{}
\DoxyCodeLine{01495     glPushMatrix();}
\DoxyCodeLine{01496     tglMultMatrix(parentAff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}() * aff * \mbox{\hyperlink{class_t_translation}{TTranslation}}(center));}
\DoxyCodeLine{01497     glScaled(unit, unit, 1);}
\DoxyCodeLine{01498     tglColor(normalColor);}
\DoxyCodeLine{01499     glBegin(GL\_LINE\_STRIP);}
\DoxyCodeLine{01500     glVertex2i(-\/800, 0);}
\DoxyCodeLine{01501     glVertex2i(800, 0);}
\DoxyCodeLine{01502     glEnd();}
\DoxyCodeLine{01503     glBegin(GL\_LINE\_STRIP);}
\DoxyCodeLine{01504     glVertex2i(0, -\/100);}
\DoxyCodeLine{01505     glVertex2i(0, 100);}
\DoxyCodeLine{01506     glEnd();}
\DoxyCodeLine{01507     glPopMatrix();}
\DoxyCodeLine{01508   \}}
\DoxyCodeLine{01509   glPushMatrix();}
\DoxyCodeLine{01510 }
\DoxyCodeLine{01511   tglMultMatrix(parentAff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}() * \mbox{\hyperlink{class_t_translation}{TTranslation}}(aff * center));}
\DoxyCodeLine{01512   center = \mbox{\hyperlink{class_t_point_t}{TPointD}}();}
\DoxyCodeLine{01513 }
\DoxyCodeLine{01514   \textcolor{keywordtype}{bool} dragging = m\_dragTool != 0;}
\DoxyCodeLine{01515 }
\DoxyCodeLine{01516   \textcolor{comment}{// draw center}}
\DoxyCodeLine{01517   tglColor(normalColor);}
\DoxyCodeLine{01518   glPushName(Center);}
\DoxyCodeLine{01519   \{}
\DoxyCodeLine{01520     tglDrawCircle(center, unit * 10);}
\DoxyCodeLine{01521     tglDrawCircle(center, unit * 8);}
\DoxyCodeLine{01522 }
\DoxyCodeLine{01523     \textcolor{comment}{/*-\/-\/ Draw crossed lines in the circle. It's already translated to the center}}
\DoxyCodeLine{01524 \textcolor{comment}{     * position. -\/-\/*/}}
\DoxyCodeLine{01525     glBegin(GL\_LINE\_STRIP);}
\DoxyCodeLine{01526     glVertex2d(-\/unit * 8, 0.0);}
\DoxyCodeLine{01527     glVertex2d(unit * 8, 0.0);}
\DoxyCodeLine{01528     glEnd();}
\DoxyCodeLine{01529     glBegin(GL\_LINE\_STRIP);}
\DoxyCodeLine{01530     glVertex2d(0.0, -\/unit * 8);}
\DoxyCodeLine{01531     glVertex2d(0.0, unit * 8);}
\DoxyCodeLine{01532     glEnd();}
\DoxyCodeLine{01533   \}}
\DoxyCodeLine{01534   glPopName();}
\DoxyCodeLine{01535 }
\DoxyCodeLine{01536   \textcolor{comment}{// draw label (column/pegbar name; possibly camera icon)}}
\DoxyCodeLine{01537   tglColor(normalColor);}
\DoxyCodeLine{01538   glPushMatrix();}
\DoxyCodeLine{01539   glTranslated(center.x + unit * 10, center.y -\/ unit * 20, 0);}
\DoxyCodeLine{01540 }
\DoxyCodeLine{01541   \textcolor{comment}{/*-\/-\/ Object name -\/-\/*/}}
\DoxyCodeLine{01542   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *pegbar = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(objId);}
\DoxyCodeLine{01543   std::string name     = pegbar-\/>\mbox{\hyperlink{class_t_stage_object_a238bbfd2de41e5bf8d9130bdf9af3bd2}{getFullName}}();}
\DoxyCodeLine{01544   \textcolor{keywordflow}{if} (objId.\mbox{\hyperlink{class_t_stage_object_id_af6d13fcf31e7e10eef28f085855f469c}{isColumn}}() || objId.\mbox{\hyperlink{class_t_stage_object_id_a87a62052c05b8bfb6cb28c05f555a718}{isPegbar}}() || objId.\mbox{\hyperlink{class_t_stage_object_id_a2ab00aa1e5039ac19b1bf7ab0dead466}{isTable}}()) \{}
\DoxyCodeLine{01545     glScaled(unit * 2, unit * 1.5, 1);}
\DoxyCodeLine{01546     tglDrawText(\mbox{\hyperlink{class_t_point_t}{TPointD}}(0, 0), name);}
\DoxyCodeLine{01547   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (objId.\mbox{\hyperlink{class_t_stage_object_id_ab597e1e86fc3b5e64d552bec77f86b4d}{isCamera}}()) \{}
\DoxyCodeLine{01548     glPushMatrix();}
\DoxyCodeLine{01549     glScaled(unit * 2, unit * 1.5, 1);}
\DoxyCodeLine{01550     tglDrawText(\mbox{\hyperlink{class_t_point_t}{TPointD}}(12, 0), name);}
\DoxyCodeLine{01551     glPopMatrix();}
\DoxyCodeLine{01552     glScaled(unit, unit, 1);}
\DoxyCodeLine{01553     drawCameraIcon();}
\DoxyCodeLine{01554   \}}
\DoxyCodeLine{01555   glPopMatrix();}
\DoxyCodeLine{01556 }
\DoxyCodeLine{01557   \textcolor{comment}{/*-\/-\/-\/ When editing non-\/active camera, draw its camera frame -\/-\/-\/*/}}
\DoxyCodeLine{01558   \textcolor{keywordflow}{if} (objId.\mbox{\hyperlink{class_t_stage_object_id_ab597e1e86fc3b5e64d552bec77f86b4d}{isCamera}}()) \{}
\DoxyCodeLine{01559     \textcolor{keywordflow}{if} (xsh-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>\mbox{\hyperlink{class_t_stage_object_tree_a7d63ae5d60c3a3aacf5da58c108ac167}{getCurrentCameraId}}() != objId) \{}
\DoxyCodeLine{01560       \textcolor{comment}{// TODO : glLineStipple has been deprecated in the OpenGL APIs. Need to be}}
\DoxyCodeLine{01561       \textcolor{comment}{// replaced. 2016/1/20 shun\_iwasawa}}
\DoxyCodeLine{01562       glEnable(GL\_LINE\_STIPPLE);}
\DoxyCodeLine{01563       glColor3d(1.0, 0.0, 1.0);}
\DoxyCodeLine{01564       glLineStipple(1, 0x1111);}
\DoxyCodeLine{01565       \mbox{\hyperlink{class_t_rect_t}{TRectD}} cameraRect = TTool::getApplication()}
\DoxyCodeLine{01566                               -\/>getCurrentScene()}
\DoxyCodeLine{01567                               -\/>getScene()}
\DoxyCodeLine{01568                               -\/>\mbox{\hyperlink{class_toonz_scene_a750b5ab623ccec744013b0c83bf20abc}{getCurrentCamera}}()}
\DoxyCodeLine{01569                               -\/>\mbox{\hyperlink{class_t_camera_afbdcee0cf26df414d787c11beb675140}{getStageRect}}();}
\DoxyCodeLine{01570 }
\DoxyCodeLine{01571       glPushMatrix();}
\DoxyCodeLine{01572       tglDrawRect(cameraRect);}
\DoxyCodeLine{01573       glPopMatrix();}
\DoxyCodeLine{01574       glDisable(GL\_LINE\_STIPPLE);}
\DoxyCodeLine{01575     \}}
\DoxyCodeLine{01576   \}}
\DoxyCodeLine{01577 }
\DoxyCodeLine{01578   glPopMatrix();}
\DoxyCodeLine{01579 }
\DoxyCodeLine{01580   m\_fxGadgetController-\/>draw(isPicking());}
\DoxyCodeLine{01581 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00583}{TXsheet\+::get\+Center()}}, \mbox{\hyperlink{l01472}{Toonz\+Scene\+::get\+Current\+Camera()}}, \mbox{\hyperlink{l00508}{TStage\+Object\+Tree\+::get\+Current\+Camera\+Id()}}, \mbox{\hyperlink{l00576}{TTool\+::get\+Frame()}}, \mbox{\hyperlink{l00556}{TStage\+Object\+::get\+Full\+Name()}}, \mbox{\hyperlink{l00590}{TTool\+::get\+Object\+Id()}}, \mbox{\hyperlink{l00576}{TXsheet\+::get\+Parent\+Placement()}}, \mbox{\hyperlink{l00555}{TXsheet\+::get\+Placement()}}, \mbox{\hyperlink{l00542}{TXsheet\+::get\+Stage\+Object()}}, \mbox{\hyperlink{l00549}{TXsheet\+::get\+Stage\+Object\+Tree()}}, \mbox{\hyperlink{l00100}{TCamera\+::get\+Stage\+Rect()}}, \mbox{\hyperlink{l00569}{TTool\+::get\+Xsheet()}}, \mbox{\hyperlink{l00562}{TXsheet\+::get\+Z()}}, \mbox{\hyperlink{l00037}{Stage\+::inch}}, \mbox{\hyperlink{l00055}{TAffine\+::inv()}}, \mbox{\hyperlink{l00162}{TStage\+Object\+Id\+::is\+Camera()}}, \mbox{\hyperlink{l00180}{TStage\+Object\+Id\+::is\+Column()}}, \mbox{\hyperlink{l00174}{TStage\+Object\+Id\+::is\+Pegbar()}}, and \mbox{\hyperlink{l00168}{TStage\+Object\+Id\+::is\+Table()}}.

\mbox{\Hypertarget{class_edit_tool_a7619d916bb9526ecc8e7942137916817}\label{class_edit_tool_a7619d916bb9526ecc8e7942137916817}} 
\index{EditTool@{EditTool}!drawText@{drawText}}
\index{drawText@{drawText}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{drawText()}{drawText()}}
{\footnotesize\ttfamily void Edit\+Tool\+::draw\+Text (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{double}]{unit,  }\item[{std\+::string}]{text }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01234                                                                      \{}
\DoxyCodeLine{01235   glPushMatrix();}
\DoxyCodeLine{01236   glTranslated(p.x, p.y, 0.0);}
\DoxyCodeLine{01237   \textcolor{keywordtype}{double} sc = unit * 1.6;}
\DoxyCodeLine{01238   \textcolor{comment}{/*}}
\DoxyCodeLine{01239 \textcolor{comment}{double w = sc * tglGetTextWidth(text, GLUT\_STROKE\_ROMAN);}}
\DoxyCodeLine{01240 \textcolor{comment}{double h = sc;}}
\DoxyCodeLine{01241 \textcolor{comment}{glEnable(GL\_BLEND);}}
\DoxyCodeLine{01242 \textcolor{comment}{glBlendFunc(GL\_SRC\_ALPHA, GL\_ONE\_MINUS\_SRC\_ALPHA);}}
\DoxyCodeLine{01243 \textcolor{comment}{glColor4d(0.9,0.9,0.1,0.5);}}
\DoxyCodeLine{01244 \textcolor{comment}{glRectd(0,0,w,h);}}
\DoxyCodeLine{01245 \textcolor{comment}{glDisable(GL\_BLEND);}}
\DoxyCodeLine{01246 \textcolor{comment}{glColor3d(0,0,0);}}
\DoxyCodeLine{01247 \textcolor{comment}{*/}}
\DoxyCodeLine{01248 }
\DoxyCodeLine{01249   glScaled(sc, sc, 1);}
\DoxyCodeLine{01250   tglDrawText(\mbox{\hyperlink{class_t_point_t}{TPointD}}(8, -\/3), text);}
\DoxyCodeLine{01251   glPopMatrix();}
\DoxyCodeLine{01252 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_ac8768cdb1941d89c22ce6f19571681bf}\label{class_edit_tool_ac8768cdb1941d89c22ce6f19571681bf}} 
\index{EditTool@{EditTool}!getCursorId@{getCursorId}}
\index{getCursorId@{getCursorId}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{getCursorId()}{getCursorId()}}
{\footnotesize\ttfamily int Edit\+Tool\+::get\+Cursor\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the type of cursor used by the tool. 

\begin{DoxySeeAlso}{See also}
For a list of cursor ids \mbox{\hyperlink{}{cursor.\+h}} 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_t_tool_a1768a57b8b6d1480618fd923fad15f1d}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01719                                 \{}
\DoxyCodeLine{01720   \textcolor{keywordtype}{int} ret;}
\DoxyCodeLine{01721   \textcolor{comment}{// cursor for controlling the fx gadget}}
\DoxyCodeLine{01722   \textcolor{keywordflow}{if} (m\_highlightedDevice >= 1000)}
\DoxyCodeLine{01723     ret = ToolCursor::FxGadgetCursor;}
\DoxyCodeLine{01724   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (transformEnabled()) \{}
\DoxyCodeLine{01725     \textcolor{comment}{// switch cursors depending on the active axis}}
\DoxyCodeLine{01726     std::wstring activeAxis = m\_activeAxis.getValue();}
\DoxyCodeLine{01727     \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}Position"{}}) \{}
\DoxyCodeLine{01728       \textcolor{keywordflow}{if} (m\_highlightedDevice == ZTranslation)}
\DoxyCodeLine{01729         ret = ToolCursor::MoveZCursor;}
\DoxyCodeLine{01730       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (LockPositionX \&\& LockPositionY)}
\DoxyCodeLine{01731         \textcolor{keywordflow}{return} ToolCursor::DisableCursor;}
\DoxyCodeLine{01732       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (LockPositionX)}
\DoxyCodeLine{01733         ret = ToolCursor::MoveNSCursor;}
\DoxyCodeLine{01734       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (LockPositionY)}
\DoxyCodeLine{01735         ret = ToolCursor::MoveEWCursor;}
\DoxyCodeLine{01736       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01737         ret = ToolCursor::MoveCursor;}
\DoxyCodeLine{01738     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}Rotation"{}}) \{}
\DoxyCodeLine{01739       ret = ToolCursor::RotCursor;}
\DoxyCodeLine{01740     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}Scale"{}}) \{}
\DoxyCodeLine{01741       \textcolor{keywordflow}{if} (m\_highlightedDevice == ScaleXY) \{}
\DoxyCodeLine{01742         \textcolor{keywordflow}{if} (LockScaleH \&\& LockScaleV)}
\DoxyCodeLine{01743           \textcolor{keywordflow}{return} ToolCursor::DisableCursor;}
\DoxyCodeLine{01744         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (LockScaleH)}
\DoxyCodeLine{01745           ret = ToolCursor::ScaleVCursor;}
\DoxyCodeLine{01746         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (LockScaleV)}
\DoxyCodeLine{01747           ret = ToolCursor::ScaleHCursor;}
\DoxyCodeLine{01748         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01749           ret = ToolCursor::ScaleHVCursor;}
\DoxyCodeLine{01750       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01751         ret = ToolCursor::ScaleGlobalCursor;}
\DoxyCodeLine{01752     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}Shear"{}}) \{}
\DoxyCodeLine{01753       \textcolor{keywordflow}{if} (LockShearH \&\& LockShearV)}
\DoxyCodeLine{01754         \textcolor{keywordflow}{return} ToolCursor::DisableCursor;}
\DoxyCodeLine{01755       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (LockShearH)}
\DoxyCodeLine{01756         ret = ToolCursor::ScaleVCursor;}
\DoxyCodeLine{01757       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (LockShearV)}
\DoxyCodeLine{01758         ret = ToolCursor::ScaleHCursor;}
\DoxyCodeLine{01759       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01760         ret = ToolCursor::ScaleCursor;}
\DoxyCodeLine{01761     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}Center"{}}) \{}
\DoxyCodeLine{01762       \textcolor{keywordflow}{if} (LockCenterX \&\& LockCenterY)}
\DoxyCodeLine{01763         \textcolor{keywordflow}{return} ToolCursor::DisableCursor;}
\DoxyCodeLine{01764       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (LockCenterX)}
\DoxyCodeLine{01765         ret = ToolCursor::MoveNSCursor;}
\DoxyCodeLine{01766       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (LockCenterY)}
\DoxyCodeLine{01767         ret = ToolCursor::MoveEWCursor;}
\DoxyCodeLine{01768       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01769         ret = ToolCursor::MoveCursor;}
\DoxyCodeLine{01770     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01771       ret = ToolCursor::StrokeSelectCursor;}
\DoxyCodeLine{01772   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01773     \textcolor{keywordflow}{return} ToolCursor::DisableCursor;}
\DoxyCodeLine{01774   \textcolor{comment}{// precise control with pressing Alt key}}
\DoxyCodeLine{01775   \textcolor{keywordflow}{if} (m\_isAltPressed) ret = ret | ToolCursor::Ex\_Precise;}
\DoxyCodeLine{01776   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{01777 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_af0c1f00c5ea7284b65fe02f8da19e778}\label{class_edit_tool_af0c1f00c5ea7284b65fe02f8da19e778}} 
\index{EditTool@{EditTool}!getProperties@{getProperties}}
\index{getProperties@{getProperties}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{getProperties()}{getProperties()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ Edit\+Tool\+::get\+Properties (\begin{DoxyParamCaption}\item[{int}]{target\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00753 \{ \textcolor{keywordflow}{return} \&m\_prop; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_a24e7d0e7c4ee5e1b8ad663694e6d7c92}\label{class_edit_tool_a24e7d0e7c4ee5e1b8ad663694e6d7c92}} 
\index{EditTool@{EditTool}!getSpline@{getSpline}}
\index{getSpline@{getSpline}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{getSpline()}{getSpline()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ Edit\+Tool\+::get\+Spline (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00925                                          \{}
\DoxyCodeLine{00926   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app    = TTool::getApplication();}
\DoxyCodeLine{00927   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh               = app-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{00928   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} objId       = app-\/>getCurrentObject()-\/>getObjectId();}
\DoxyCodeLine{00929   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *pegbar       = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(objId);}
\DoxyCodeLine{00930   \mbox{\hyperlink{class_t_stage_object_spline}{TStageObjectSpline}} *spline = pegbar ? pegbar-\/>\mbox{\hyperlink{class_t_stage_object_a425cb2dbcefe6ba4e288e1e8bdd16f72}{getSpline}}() : 0;}
\DoxyCodeLine{00931   \textcolor{keywordflow}{return} spline ? spline-\/>\mbox{\hyperlink{class_t_stage_object_spline_a68345d3697e0c20003d9b497d8ccacda}{getStroke}}() : 0;}
\DoxyCodeLine{00932 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_ae271d1fcf8bb4aa77114c5bce7fb62e4}\label{class_edit_tool_ae271d1fcf8bb4aa77114c5bce7fb62e4}} 
\index{EditTool@{EditTool}!getToolType@{getToolType}}
\index{getToolType@{getToolType}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{getToolType()}{getToolType()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296c}{Tool\+Type}} Edit\+Tool\+::get\+Tool\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00717 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296cab1cf4660322ca2d4e5a4848bdbc049a9}{TTool::ColumnTool}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_aeeb9c34800bca86230adf65e13d80f2d}\label{class_edit_tool_aeeb9c34800bca86230adf65e13d80f2d}} 
\index{EditTool@{EditTool}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void Edit\+Tool\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00976                                                                        \{}
\DoxyCodeLine{00977   \mbox{\hyperlink{class_t_point_t}{TPointD}} pos = ppos;}
\DoxyCodeLine{00978   \textcolor{comment}{/*-\/-\/ Soundカラムの場合は何もしない -\/-\/*/}}
\DoxyCodeLine{00979   \textcolor{keywordflow}{if} (!doesApply()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00980 }
\DoxyCodeLine{00981   \textcolor{keywordflow}{if} (m\_activeAxis.getValue() == L\textcolor{stringliteral}{"{}Position"{}})}
\DoxyCodeLine{00982     \textcolor{keywordflow}{if} (e.isCtrlPressed())}
\DoxyCodeLine{00983       m\_what = ZTranslation;}
\DoxyCodeLine{00984     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00985       m\_what = Translation;}
\DoxyCodeLine{00986   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_activeAxis.getValue() == L\textcolor{stringliteral}{"{}Scale"{}})}
\DoxyCodeLine{00987     \textcolor{keywordflow}{if} (e.isCtrlPressed())}
\DoxyCodeLine{00988       m\_what = ScaleXY;}
\DoxyCodeLine{00989     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00990       m\_what = Scale;}
\DoxyCodeLine{00991   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_activeAxis.getValue() == L\textcolor{stringliteral}{"{}All"{}})}
\DoxyCodeLine{00992     onEditAllLeftButtonDown(pos, e);}
\DoxyCodeLine{00993 }
\DoxyCodeLine{00994   \textcolor{keywordtype}{int} scaleConstraint = 0;}
\DoxyCodeLine{00995   \textcolor{keywordflow}{if} (m\_scaleConstraint.getValue() == L\textcolor{stringliteral}{"{}A/R"{}})}
\DoxyCodeLine{00996     scaleConstraint = ScaleConstraints::AspectRatio;}
\DoxyCodeLine{00997   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_scaleConstraint.getValue() == L\textcolor{stringliteral}{"{}Mass"{}})}
\DoxyCodeLine{00998     scaleConstraint = ScaleConstraints::Mass;}
\DoxyCodeLine{00999 }
\DoxyCodeLine{01000   assert(m\_dragTool == 0);}
\DoxyCodeLine{01001 }
\DoxyCodeLine{01002   \textcolor{keywordflow}{if} (m\_highlightedDevice >= 1000) \{}
\DoxyCodeLine{01003     m\_dragTool = m\_fxGadgetController-\/>createDragTool(m\_highlightedDevice);}
\DoxyCodeLine{01004   \}}
\DoxyCodeLine{01005 }
\DoxyCodeLine{01006   \textcolor{keywordflow}{if} (!m\_dragTool \&\& transformEnabled()) \{}
\DoxyCodeLine{01007     \textcolor{keywordflow}{switch} (m\_what) \{}
\DoxyCodeLine{01008     \textcolor{keywordflow}{case} Center:}
\DoxyCodeLine{01009       m\_dragTool = \textcolor{keyword}{new} DragCenterTool(m\_lockCenterX.getValue(),}
\DoxyCodeLine{01010                                       m\_lockCenterY.getValue());}
\DoxyCodeLine{01011       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01012 }
\DoxyCodeLine{01013     \textcolor{keywordflow}{case} Translation:}
\DoxyCodeLine{01014       \textcolor{keywordflow}{if} (\textcolor{keyword}{const} \mbox{\hyperlink{class_t_stroke}{TStroke}} *spline = getSpline())}
\DoxyCodeLine{01015         m\_dragTool = \textcolor{keyword}{new} DragSplinePositionTool(}
\DoxyCodeLine{01016             spline, m\_globalKeyframes.getValue(), getPixelSize());}
\DoxyCodeLine{01017       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01018         m\_dragTool = \textcolor{keyword}{new} DragPositionTool(m\_lockPositionX.getValue(),}
\DoxyCodeLine{01019                                           m\_lockPositionY.getValue(),}
\DoxyCodeLine{01020                                           m\_globalKeyframes.getValue());}
\DoxyCodeLine{01021       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01022 }
\DoxyCodeLine{01023     \textcolor{keywordflow}{case} Rotation:}
\DoxyCodeLine{01024       m\_dragTool = \textcolor{keyword}{new} DragRotationTool(m\_lockRotation.getValue(),}
\DoxyCodeLine{01025                                         m\_globalKeyframes.getValue());}
\DoxyCodeLine{01026       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01027 }
\DoxyCodeLine{01028     \textcolor{keywordflow}{case} Scale:}
\DoxyCodeLine{01029       m\_dragTool = \textcolor{keyword}{new} DragIsotropicScaleTool(m\_lockGlobalScale.getValue(),}
\DoxyCodeLine{01030                                               m\_globalKeyframes.getValue());}
\DoxyCodeLine{01031       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01032 }
\DoxyCodeLine{01033     \textcolor{keywordflow}{case} ScaleXY:}
\DoxyCodeLine{01034       m\_dragTool = \textcolor{keyword}{new} DragScaleTool(scaleConstraint, m\_lockScaleH.getValue(),}
\DoxyCodeLine{01035                                      m\_lockScaleV.getValue(),}
\DoxyCodeLine{01036                                      m\_globalKeyframes.getValue());}
\DoxyCodeLine{01037       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01038 }
\DoxyCodeLine{01039     \textcolor{keywordflow}{case} Shear:}
\DoxyCodeLine{01040       m\_dragTool =}
\DoxyCodeLine{01041           \textcolor{keyword}{new} DragShearTool(m\_lockShearH.getValue(), m\_lockShearV.getValue(),}
\DoxyCodeLine{01042                             m\_globalKeyframes.getValue());}
\DoxyCodeLine{01043       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01044     \textcolor{keywordflow}{case} ZTranslation:}
\DoxyCodeLine{01045       m\_dragTool = \textcolor{keyword}{new} DragZTool(\mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}, m\_globalKeyframes.getValue());}
\DoxyCodeLine{01046       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01047     \}}
\DoxyCodeLine{01048   \}}
\DoxyCodeLine{01049   \textcolor{keywordflow}{if} (m\_dragTool) \{}
\DoxyCodeLine{01050     m\_dragTool-\/>enableGlobalKeyframes(m\_globalKeyframes.getValue());}
\DoxyCodeLine{01051     TUndoManager::manager()-\/>beginBlock();}
\DoxyCodeLine{01052     m\_dragTool-\/>leftButtonDown(pos, e);}
\DoxyCodeLine{01053   \}}
\DoxyCodeLine{01054   \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01055 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_a334db3a4fd76b4d764b4beea46059915}\label{class_edit_tool_a334db3a4fd76b4d764b4beea46059915}} 
\index{EditTool@{EditTool}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void Edit\+Tool\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01110                                                                       \{}
\DoxyCodeLine{01111   \textcolor{keywordflow}{if} (!m\_dragTool) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01112   m\_dragTool-\/>leftButtonDrag(pos, e);}
\DoxyCodeLine{01113   TTool::getApplication()-\/>getCurrentObject()-\/>notifyObjectIdChanged(\textcolor{keyword}{true});}
\DoxyCodeLine{01114   \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01115 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_a139d9b11f6acb01690333b7b0717122b}\label{class_edit_tool_a139d9b11f6acb01690333b7b0717122b}} 
\index{EditTool@{EditTool}!leftButtonUp@{leftButtonUp}}
\index{leftButtonUp@{leftButtonUp}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{leftButtonUp()}{leftButtonUp()}}
{\footnotesize\ttfamily void Edit\+Tool\+::left\+Button\+Up (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01119                                                                     \{}
\DoxyCodeLine{01120   \textcolor{keywordflow}{if} (m\_dragTool) \{}
\DoxyCodeLine{01121     m\_dragTool-\/>leftButtonUp(pos, e);}
\DoxyCodeLine{01122     TUndoManager::manager()-\/>endBlock();}
\DoxyCodeLine{01123     \textcolor{keyword}{delete} m\_dragTool;}
\DoxyCodeLine{01124     m\_dragTool = 0;}
\DoxyCodeLine{01125     TTool::getApplication()-\/>getCurrentObject()-\/>notifyObjectIdChanged(\textcolor{keyword}{false});}
\DoxyCodeLine{01126   \}}
\DoxyCodeLine{01127   m\_keyFrameAdded = \textcolor{keyword}{false};}
\DoxyCodeLine{01128 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_a2f2f8322a24955d2d60e6ad68938154d}\label{class_edit_tool_a2f2f8322a24955d2d60e6ad68938154d}} 
\index{EditTool@{EditTool}!mouseMove@{mouseMove}}
\index{mouseMove@{mouseMove}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{mouseMove()}{mouseMove()}}
{\footnotesize\ttfamily void Edit\+Tool\+::mouse\+Move (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00936                                                               \{}
\DoxyCodeLine{00937   \textcolor{comment}{/*-\/-\/ return while left dragging -\/-\/*/}}
\DoxyCodeLine{00938   \textcolor{keywordflow}{if} (e.isLeftButtonPressed()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00939 }
\DoxyCodeLine{00940   \textcolor{comment}{/*-\/-\/ Pick screen only when the FxGadget is displayed or}}
\DoxyCodeLine{00941 \textcolor{comment}{       when the "{}All"{} axis is selected. -\/-\/*/}}
\DoxyCodeLine{00942   \textcolor{keywordtype}{int} selectedDevice = -\/1;}
\DoxyCodeLine{00943   \textcolor{keywordflow}{if} (m\_fxGadgetController-\/>hasGadget() || m\_activeAxis.getValue() == L\textcolor{stringliteral}{"{}All"{}})}
\DoxyCodeLine{00944     selectedDevice = \mbox{\hyperlink{class_t_tool_ab04ed46786cf65fe4564d26ffa5d49c8}{pick}}(e.\mbox{\hyperlink{class_t_mouse_event_a05a3f2378eb2179d121e2e46766916de}{m\_pos}});}
\DoxyCodeLine{00945 }
\DoxyCodeLine{00946   \textcolor{keywordflow}{if} (selectedDevice <= 0) \{}
\DoxyCodeLine{00947     selectedDevice = m\_what;}
\DoxyCodeLine{00948     \textcolor{keywordflow}{if} (m\_what == Translation \&\& e.isCtrlPressed())}
\DoxyCodeLine{00949       selectedDevice = ZTranslation;}
\DoxyCodeLine{00950     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (}
\DoxyCodeLine{00951         m\_what == ZTranslation \&\&}
\DoxyCodeLine{00952         !e.isCtrlPressed()) \textcolor{comment}{/*-\/-\/ここには、一度Z移動をした後に入る可能性がある-\/-\/*/}}
\DoxyCodeLine{00953       selectedDevice = Translation;}
\DoxyCodeLine{00954     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_what == Scale \&\& e.isCtrlPressed())}
\DoxyCodeLine{00955       selectedDevice = ScaleXY;}
\DoxyCodeLine{00956     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_what == ScaleXY \&\& !e.isCtrlPressed())}
\DoxyCodeLine{00957       selectedDevice = Scale;}
\DoxyCodeLine{00958   \}}
\DoxyCodeLine{00959   \textcolor{keywordflow}{if} (selectedDevice != m\_highlightedDevice) \{}
\DoxyCodeLine{00960     m\_highlightedDevice = selectedDevice;}
\DoxyCodeLine{00961     m\_fxGadgetController-\/>selectById(selectedDevice);}
\DoxyCodeLine{00962     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{00963   \}}
\DoxyCodeLine{00964 }
\DoxyCodeLine{00965   \textcolor{comment}{// for adding decoration to the cursor while pressing Alt key}}
\DoxyCodeLine{00966   m\_isAltPressed = e.isAltPressed();}
\DoxyCodeLine{00967 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_a757fb5f5182d8d8513efbd83ec02ff6e}\label{class_edit_tool_a757fb5f5182d8d8513efbd83ec02ff6e}} 
\index{EditTool@{EditTool}!onActivate@{onActivate}}
\index{onActivate@{onActivate}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{onActivate()}{onActivate()}}
{\footnotesize\ttfamily void Edit\+Tool\+::on\+Activate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Callback invoked whenever the tool activates. 



Reimplemented from \mbox{\hyperlink{class_t_tool_ac286a2681633b4db6106596b4f54e53b}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01585                           \{}
\DoxyCodeLine{01586   \textcolor{keywordflow}{if} (m\_firstTime) \{}
\DoxyCodeLine{01587     m\_lockCenterX.setValue(LockCenterX ? 1 : 0);}
\DoxyCodeLine{01588     m\_lockCenterY.setValue(LockCenterY ? 1 : 0);}
\DoxyCodeLine{01589     m\_lockPositionX.setValue(LockPositionX ? 1 : 0);}
\DoxyCodeLine{01590     m\_lockPositionY.setValue(LockPositionY ? 1 : 0);}
\DoxyCodeLine{01591     m\_lockRotation.setValue(LockRotation ? 1 : 0);}
\DoxyCodeLine{01592     m\_lockShearH.setValue(LockShearH ? 1 : 0);}
\DoxyCodeLine{01593     m\_lockShearV.setValue(LockShearV ? 1 : 0);}
\DoxyCodeLine{01594     m\_lockScaleH.setValue(LockScaleH ? 1 : 0);}
\DoxyCodeLine{01595     m\_lockScaleV.setValue(LockScaleV ? 1 : 0);}
\DoxyCodeLine{01596     m\_lockGlobalScale.setValue(LockGlobalScale ? 1 : 0);}
\DoxyCodeLine{01597 }
\DoxyCodeLine{01598     m\_showEWNSposition.setValue(ShowEWNSposition ? 1 : 0);}
\DoxyCodeLine{01599     m\_showZposition.setValue(ShowZposition ? 1 : 0);}
\DoxyCodeLine{01600     m\_showSOposition.setValue(ShowSOposition ? 1 : 0);}
\DoxyCodeLine{01601     m\_showRotation.setValue(ShowRotation ? 1 : 0);}
\DoxyCodeLine{01602     m\_showGlobalScale.setValue(ShowGlobalScale ? 1 : 0);}
\DoxyCodeLine{01603     m\_showHVscale.setValue(ShowHVscale ? 1 : 0);}
\DoxyCodeLine{01604     m\_showShear.setValue(ShowShear ? 1 : 0);}
\DoxyCodeLine{01605     m\_showCenterPosition.setValue(ShowCenterPosition ? 1 : 0);}
\DoxyCodeLine{01606 }
\DoxyCodeLine{01607     m\_fxGadgetController = \textcolor{keyword}{new} \mbox{\hyperlink{class_fx_gadget_controller}{FxGadgetController}}(\textcolor{keyword}{this});}
\DoxyCodeLine{01608 }
\DoxyCodeLine{01609     \textcolor{comment}{/*}}
\DoxyCodeLine{01610 \textcolor{comment}{m\_foo.setTool(this);}}
\DoxyCodeLine{01611 \textcolor{comment}{m\_foo.setFxHandle(getApplication()-\/>getCurrentFx());}}
\DoxyCodeLine{01612 \textcolor{comment}{*/}}
\DoxyCodeLine{01613 }
\DoxyCodeLine{01614     m\_firstTime = \textcolor{keyword}{false};}
\DoxyCodeLine{01615   \}}
\DoxyCodeLine{01616 }
\DoxyCodeLine{01617   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} objId = \mbox{\hyperlink{class_t_tool_a25b57b82dfac131d9d6405e07fbd98b4}{getObjectId}}();}
\DoxyCodeLine{01618   \textcolor{keywordflow}{if} (objId == TStageObjectId::NoneId) \{}
\DoxyCodeLine{01619     \textcolor{keywordtype}{int} index    = \mbox{\hyperlink{class_t_tool_a7214525a3ae0cdcb0a0393e4dc4d3bf5}{getColumnIndex}}();}
\DoxyCodeLine{01620     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = TTool::getApplication()-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{01621     \textcolor{keywordflow}{if} (index == -\/1)}
\DoxyCodeLine{01622       objId = TStageObjectId::CameraId(xsh-\/>getCameraColumnIndex());}
\DoxyCodeLine{01623     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01624       objId = TStageObjectId::ColumnId(index);}
\DoxyCodeLine{01625   \}}
\DoxyCodeLine{01626   TTool::getApplication()-\/>getCurrentObject()-\/>setObjectId(objId);}
\DoxyCodeLine{01627 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00583}{TTool\+::get\+Column\+Index()}}, and \mbox{\hyperlink{l00590}{TTool\+::get\+Object\+Id()}}.

\mbox{\Hypertarget{class_edit_tool_a6a646ea80af4cb9165778e73a82d8d11}\label{class_edit_tool_a6a646ea80af4cb9165778e73a82d8d11}} 
\index{EditTool@{EditTool}!onDeactivate@{onDeactivate}}
\index{onDeactivate@{onDeactivate}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{onDeactivate()}{onDeactivate()}}
{\footnotesize\ttfamily void Edit\+Tool\+::on\+Deactivate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Callback for tool deactivation, includes tool switch. 



Reimplemented from \mbox{\hyperlink{class_t_tool_a00fee58728c1e12fb50846f47d7e9f5e}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01631                             \{}
\DoxyCodeLine{01632   \textcolor{keywordflow}{if} (m\_dragTool) \{}
\DoxyCodeLine{01633     m\_dragTool-\/>leftButtonUp();}
\DoxyCodeLine{01634     TUndoManager::manager()-\/>endBlock();}
\DoxyCodeLine{01635     \textcolor{keyword}{delete} m\_dragTool;}
\DoxyCodeLine{01636     m\_dragTool = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{01637   \}}
\DoxyCodeLine{01638 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_a95f4147a7d6c342c6a4c766df8d6d38a}\label{class_edit_tool_a95f4147a7d6c342c6a4c766df8d6d38a}} 
\index{EditTool@{EditTool}!onPropertyChanged@{onPropertyChanged}}
\index{onPropertyChanged@{onPropertyChanged}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{onPropertyChanged()}{onPropertyChanged()}}
{\footnotesize\ttfamily bool Edit\+Tool\+::on\+Property\+Changed (\begin{DoxyParamCaption}\item[{std\+::string}]{property\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} Does the tasks associated to changes in \p propertyName and returns \p
\end{DoxyVerb}
 true; Does the tasks associated to changes in {\ttfamily property\+Name} and returns {\ttfamily true}. 

Reimplemented from \mbox{\hyperlink{class_t_tool_a06694e0586f807c34b18e16341aa9ee2}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01642                                                        \{}
\DoxyCodeLine{01643   \textcolor{keywordflow}{if} (propertyName == m\_lockCenterX.getName())}
\DoxyCodeLine{01644     LockCenterX = (int)m\_lockCenterX.getValue();}
\DoxyCodeLine{01645 }
\DoxyCodeLine{01646   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_lockCenterY.getName())}
\DoxyCodeLine{01647     LockCenterY = (\textcolor{keywordtype}{int})m\_lockCenterY.getValue();}
\DoxyCodeLine{01648 }
\DoxyCodeLine{01649   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_lockPositionX.getName())}
\DoxyCodeLine{01650     LockPositionX = (\textcolor{keywordtype}{int})m\_lockPositionX.getValue();}
\DoxyCodeLine{01651 }
\DoxyCodeLine{01652   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_lockPositionY.getName())}
\DoxyCodeLine{01653     LockPositionY = (\textcolor{keywordtype}{int})m\_lockPositionY.getValue();}
\DoxyCodeLine{01654 }
\DoxyCodeLine{01655   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_lockRotation.getName())}
\DoxyCodeLine{01656     LockRotation = (\textcolor{keywordtype}{int})m\_lockRotation.getValue();}
\DoxyCodeLine{01657 }
\DoxyCodeLine{01658   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_lockShearH.getName())}
\DoxyCodeLine{01659     LockShearH = (\textcolor{keywordtype}{int})m\_lockShearH.getValue();}
\DoxyCodeLine{01660 }
\DoxyCodeLine{01661   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_lockShearV.getName())}
\DoxyCodeLine{01662     LockShearV = (\textcolor{keywordtype}{int})m\_lockShearV.getValue();}
\DoxyCodeLine{01663 }
\DoxyCodeLine{01664   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_lockScaleH.getName())}
\DoxyCodeLine{01665     LockScaleH = (\textcolor{keywordtype}{int})m\_lockScaleH.getValue();}
\DoxyCodeLine{01666 }
\DoxyCodeLine{01667   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_lockScaleV.getName())}
\DoxyCodeLine{01668     LockScaleV = (\textcolor{keywordtype}{int})m\_lockScaleV.getValue();}
\DoxyCodeLine{01669 }
\DoxyCodeLine{01670   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_lockGlobalScale.getName())}
\DoxyCodeLine{01671     LockGlobalScale = (\textcolor{keywordtype}{int})m\_lockGlobalScale.getValue();}
\DoxyCodeLine{01672 }
\DoxyCodeLine{01673   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_showEWNSposition.getName())}
\DoxyCodeLine{01674     ShowEWNSposition = (\textcolor{keywordtype}{int})m\_showEWNSposition.getValue();}
\DoxyCodeLine{01675 }
\DoxyCodeLine{01676   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_showZposition.getName())}
\DoxyCodeLine{01677     ShowZposition = (\textcolor{keywordtype}{int})m\_showZposition.getValue();}
\DoxyCodeLine{01678 }
\DoxyCodeLine{01679   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_showSOposition.getName())}
\DoxyCodeLine{01680     ShowSOposition = (\textcolor{keywordtype}{int})m\_showSOposition.getValue();}
\DoxyCodeLine{01681 }
\DoxyCodeLine{01682   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_showRotation.getName())}
\DoxyCodeLine{01683     ShowRotation = (\textcolor{keywordtype}{int})m\_showRotation.getValue();}
\DoxyCodeLine{01684 }
\DoxyCodeLine{01685   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_showGlobalScale.getName())}
\DoxyCodeLine{01686     ShowGlobalScale = (\textcolor{keywordtype}{int})m\_showGlobalScale.getValue();}
\DoxyCodeLine{01687 }
\DoxyCodeLine{01688   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_showHVscale.getName())}
\DoxyCodeLine{01689     ShowHVscale = (\textcolor{keywordtype}{int})m\_showHVscale.getValue();}
\DoxyCodeLine{01690 }
\DoxyCodeLine{01691   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_showShear.getName())}
\DoxyCodeLine{01692     ShowShear = (\textcolor{keywordtype}{int})m\_showShear.getValue();}
\DoxyCodeLine{01693 }
\DoxyCodeLine{01694   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_showCenterPosition.getName())}
\DoxyCodeLine{01695     ShowCenterPosition = (\textcolor{keywordtype}{int})m\_showCenterPosition.getValue();}
\DoxyCodeLine{01696 }
\DoxyCodeLine{01697   \textcolor{comment}{/*-\/-\/ Active Axis の変更 -\/-\/*/}}
\DoxyCodeLine{01698   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_activeAxis.getName()) \{}
\DoxyCodeLine{01699     std::wstring activeAxis = m\_activeAxis.getValue();}
\DoxyCodeLine{01700     \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}Position"{}})}
\DoxyCodeLine{01701       m\_what = Translation;}
\DoxyCodeLine{01702     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}Rotation"{}})}
\DoxyCodeLine{01703       m\_what = Rotation;}
\DoxyCodeLine{01704     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}Scale"{}})}
\DoxyCodeLine{01705       m\_what = Scale;}
\DoxyCodeLine{01706     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}Shear"{}})}
\DoxyCodeLine{01707       m\_what = Shear;}
\DoxyCodeLine{01708     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}Center"{}})}
\DoxyCodeLine{01709       m\_what = Center;}
\DoxyCodeLine{01710     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (activeAxis == L\textcolor{stringliteral}{"{}All"{}})}
\DoxyCodeLine{01711       m\_what = None;}
\DoxyCodeLine{01712   \}}
\DoxyCodeLine{01713 }
\DoxyCodeLine{01714   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01715 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_a7f225278f090ef9e16441b8e783e0314}\label{class_edit_tool_a7f225278f090ef9e16441b8e783e0314}} 
\index{EditTool@{EditTool}!transformEnabled@{transformEnabled}}
\index{transformEnabled@{transformEnabled}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{transformEnabled()}{transformEnabled()}}
{\footnotesize\ttfamily bool Edit\+Tool\+::transform\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00915                                       \{}
\DoxyCodeLine{00916   \textcolor{comment}{// check if the column transformation is enabled}}
\DoxyCodeLine{00917   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = \mbox{\hyperlink{class_t_tool_a8716e1462da359f4902c044a79f2d40d}{getXsheet}}();}
\DoxyCodeLine{00918   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} objId(\mbox{\hyperlink{class_t_tool_a25b57b82dfac131d9d6405e07fbd98b4}{getObjectId}}());}
\DoxyCodeLine{00919   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *pegbar = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(objId);}
\DoxyCodeLine{00920   \textcolor{keywordflow}{return} (!objId.isColumn() || hasVisibleChildColumn(pegbar, xsh));}
\DoxyCodeLine{00921 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_a473d455c54f38d1e9d813ac7d7424710}\label{class_edit_tool_a473d455c54f38d1e9d813ac7d7424710}} 
\index{EditTool@{EditTool}!updateEnabled@{updateEnabled}}
\index{updateEnabled@{updateEnabled}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{updateEnabled()}{updateEnabled()}}
{\footnotesize\ttfamily QString Edit\+Tool\+::update\+Enabled (\begin{DoxyParamCaption}\item[{int}]{row\+Index,  }\item[{int}]{column\+Index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01781                                                              \{}
\DoxyCodeLine{01782   \textcolor{comment}{// toolType = TTool::ColumnTool}}
\DoxyCodeLine{01783   \textcolor{comment}{// targetType = TTool::AllTargets;}}
\DoxyCodeLine{01784 }
\DoxyCodeLine{01785   \textcolor{comment}{// Disable every tool during playback}}
\DoxyCodeLine{01786   \textcolor{keywordflow}{if} (m\_application-\/>getCurrentFrame()-\/>isPlaying())}
\DoxyCodeLine{01787     \textcolor{keywordflow}{return} (enable(\textcolor{keyword}{false}), QString());}
\DoxyCodeLine{01788 }
\DoxyCodeLine{01789   \textcolor{comment}{// Disable in Level Strip}}
\DoxyCodeLine{01790   \textcolor{keywordflow}{if} (m\_application-\/>getCurrentFrame()-\/>isEditingLevel())}
\DoxyCodeLine{01791     \textcolor{keywordflow}{return} (}
\DoxyCodeLine{01792         enable(\textcolor{keyword}{false}),}
\DoxyCodeLine{01793         QObject::tr(\textcolor{stringliteral}{"{}The current tool cannot be used in Level Strip mode."{}}));}
\DoxyCodeLine{01794 }
\DoxyCodeLine{01795   \textcolor{comment}{// if an object other than column is selected, then enable the tool}}
\DoxyCodeLine{01796   \textcolor{comment}{// regardless of the current column state}}
\DoxyCodeLine{01797   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} objId = m\_application-\/>getCurrentObject()-\/>getObjectId();}
\DoxyCodeLine{01798   \textcolor{keywordflow}{if} (!objId.\mbox{\hyperlink{class_t_stage_object_id_af6d13fcf31e7e10eef28f085855f469c}{isColumn}}()) \textcolor{keywordflow}{return} (enable(\textcolor{keyword}{true}), QString());}
\DoxyCodeLine{01799 }
\DoxyCodeLine{01800   \textcolor{comment}{// Retrieve vars and view modes}}
\DoxyCodeLine{01801   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_application-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{01802   \textcolor{comment}{// if a column object is selected, switch the inspected column to it}}
\DoxyCodeLine{01803   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(objId.getIndex());}
\DoxyCodeLine{01804 }
\DoxyCodeLine{01805   \textcolor{comment}{// disable if the column is empty}}
\DoxyCodeLine{01806   \textcolor{keywordflow}{if} (!column || column-\/>isEmpty()) \textcolor{keywordflow}{return} (enable(\textcolor{keyword}{false}), QString());}
\DoxyCodeLine{01807 }
\DoxyCodeLine{01808   \textcolor{keywordflow}{if} (column-\/>getSoundColumn())}
\DoxyCodeLine{01809     \textcolor{keywordflow}{return} (enable(\textcolor{keyword}{false}),}
\DoxyCodeLine{01810             QObject::tr(\textcolor{stringliteral}{"{}It is not possible to edit the audio column."{}}));}
\DoxyCodeLine{01811 }
\DoxyCodeLine{01812   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (column-\/>getSoundTextColumn())}
\DoxyCodeLine{01813     \textcolor{keywordflow}{return} (enable(\textcolor{keyword}{false}),}
\DoxyCodeLine{01814             QObject::tr(}
\DoxyCodeLine{01815                 \textcolor{stringliteral}{"{}Note columns can only be edited in the xsheet or timeline."{}}));}
\DoxyCodeLine{01816 }
\DoxyCodeLine{01817   \textcolor{comment}{// Enable to control Fx gadgets even on the locked or hidden columns}}
\DoxyCodeLine{01818   \textcolor{keywordflow}{if} (m\_fxGadgetController \&\& m\_fxGadgetController-\/>hasGadget())}
\DoxyCodeLine{01819     \textcolor{keywordflow}{return} (enable(\textcolor{keyword}{true}), QString());}
\DoxyCodeLine{01820 }
\DoxyCodeLine{01821   \textcolor{comment}{// Check against unplaced columns}}
\DoxyCodeLine{01822   \textcolor{keywordflow}{if} (column-\/>isLocked())}
\DoxyCodeLine{01823     \textcolor{keywordflow}{return} (enable(\textcolor{keyword}{false}), QObject::tr(\textcolor{stringliteral}{"{}The current column is locked."{}}));}
\DoxyCodeLine{01824 }
\DoxyCodeLine{01825   \textcolor{comment}{// check if the current column and all of its child columns are hidden}}
\DoxyCodeLine{01826   \textcolor{keywordflow}{if} (!hasVisibleChildColumn(xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(objId), xsh))}
\DoxyCodeLine{01827     \textcolor{keywordflow}{return} (enable(\textcolor{keyword}{false}), QObject::tr(\textcolor{stringliteral}{"{}The current column is hidden."{}}));}
\DoxyCodeLine{01828 }
\DoxyCodeLine{01829   \textcolor{keywordflow}{return} (enable(\textcolor{keyword}{true}), QString());}
\DoxyCodeLine{01830 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_afd852a706783ccf324c899f613764cd0}\label{class_edit_tool_afd852a706783ccf324c899f613764cd0}} 
\index{EditTool@{EditTool}!updateMatrix@{updateMatrix}}
\index{updateMatrix@{updateMatrix}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{updateMatrix()}{updateMatrix()}}
{\footnotesize\ttfamily void Edit\+Tool\+::update\+Matrix (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Updates the current matrix transformation with the actual column matrix transformation. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_tool_a73c1b7f13eaea33e1d305636f44c4a64}{get\+Current\+Column\+Matrix()}}. 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_t_tool_a1a5f380464a6b36947212e2f8d5b314c}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00755                                \{}
\DoxyCodeLine{00756     setMatrix(}
\DoxyCodeLine{00757         getCurrentObjectParentMatrix2());  \textcolor{comment}{// getCurrentObjectParentMatrix());}}
\DoxyCodeLine{00758   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_edit_tool_addef8de11b39f4f3388bcbf6edd51eda}\label{class_edit_tool_addef8de11b39f4f3388bcbf6edd51eda}} 
\index{EditTool@{EditTool}!updateTranslation@{updateTranslation}}
\index{updateTranslation@{updateTranslation}!EditTool@{EditTool}}
\doxysubsubsection{\texorpdfstring{updateTranslation()}{updateTranslation()}}
{\footnotesize\ttfamily void Edit\+Tool\+::update\+Translation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00859                                  \{}
\DoxyCodeLine{00860   m\_scaleConstraint.setQStringName(tr(\textcolor{stringliteral}{"{}Scale Constraint:"{}}));}
\DoxyCodeLine{00861   m\_scaleConstraint.setItemUIName(L\textcolor{stringliteral}{"{}None"{}}, tr(\textcolor{stringliteral}{"{}None"{}}));}
\DoxyCodeLine{00862   m\_scaleConstraint.setItemUIName(L\textcolor{stringliteral}{"{}A/R"{}}, tr(\textcolor{stringliteral}{"{}A/R"{}}));}
\DoxyCodeLine{00863   m\_scaleConstraint.setItemUIName(L\textcolor{stringliteral}{"{}Mass"{}}, tr(\textcolor{stringliteral}{"{}Mass"{}}));}
\DoxyCodeLine{00864 }
\DoxyCodeLine{00865   m\_autoSelect.setQStringName(tr(\textcolor{stringliteral}{"{}Auto Select Column"{}}));}
\DoxyCodeLine{00866   m\_autoSelect.setItemUIName(L\textcolor{stringliteral}{"{}None"{}}, tr(\textcolor{stringliteral}{"{}None"{}}));}
\DoxyCodeLine{00867   m\_autoSelect.setItemUIName(L\textcolor{stringliteral}{"{}Column"{}}, tr(\textcolor{stringliteral}{"{}Column"{}}));}
\DoxyCodeLine{00868   m\_autoSelect.setItemUIName(L\textcolor{stringliteral}{"{}Pegbar"{}}, tr(\textcolor{stringliteral}{"{}Pegbar"{}}));}
\DoxyCodeLine{00869 }
\DoxyCodeLine{00870   m\_globalKeyframes.setQStringName(tr(\textcolor{stringliteral}{"{}Global Key"{}}));}
\DoxyCodeLine{00871   m\_lockCenterX.setQStringName(tr(\textcolor{stringliteral}{"{}Lock Center X"{}}));}
\DoxyCodeLine{00872   m\_lockCenterY.setQStringName(tr(\textcolor{stringliteral}{"{}Lock Center Y"{}}));}
\DoxyCodeLine{00873   m\_lockPositionX.setQStringName(tr(\textcolor{stringliteral}{"{}Lock Position X"{}}));}
\DoxyCodeLine{00874   m\_lockPositionY.setQStringName(tr(\textcolor{stringliteral}{"{}Lock Position Y"{}}));}
\DoxyCodeLine{00875   m\_lockRotation.setQStringName(tr(\textcolor{stringliteral}{"{}Lock Rotation"{}}));}
\DoxyCodeLine{00876   m\_lockShearH.setQStringName(tr(\textcolor{stringliteral}{"{}Lock Shear H"{}}));}
\DoxyCodeLine{00877   m\_lockShearV.setQStringName(tr(\textcolor{stringliteral}{"{}Lock Shear V"{}}));}
\DoxyCodeLine{00878   m\_lockScaleH.setQStringName(tr(\textcolor{stringliteral}{"{}Lock Scale H"{}}));}
\DoxyCodeLine{00879   m\_lockScaleV.setQStringName(tr(\textcolor{stringliteral}{"{}Lock Scale V"{}}));}
\DoxyCodeLine{00880   m\_lockGlobalScale.setQStringName(tr(\textcolor{stringliteral}{"{}Lock Global Scale"{}}));}
\DoxyCodeLine{00881   m\_showEWNSposition.setQStringName(tr(\textcolor{stringliteral}{"{}X and Y Positions"{}}));}
\DoxyCodeLine{00882   m\_showZposition.setQStringName(tr(\textcolor{stringliteral}{"{}Z Position"{}}));}
\DoxyCodeLine{00883   m\_showSOposition.setQStringName(tr(\textcolor{stringliteral}{"{}SO"{}}));}
\DoxyCodeLine{00884   m\_showRotation.setQStringName(tr(\textcolor{stringliteral}{"{}Rotation"{}}));}
\DoxyCodeLine{00885   m\_showGlobalScale.setQStringName(tr(\textcolor{stringliteral}{"{}Global Scale"{}}));}
\DoxyCodeLine{00886   m\_showHVscale.setQStringName(tr(\textcolor{stringliteral}{"{}Horizontal and Vertical Scale"{}}));}
\DoxyCodeLine{00887   m\_showShear.setQStringName(tr(\textcolor{stringliteral}{"{}Shear"{}}));}
\DoxyCodeLine{00888   m\_showCenterPosition.setQStringName(tr(\textcolor{stringliteral}{"{}Center Position"{}}));}
\DoxyCodeLine{00889 }
\DoxyCodeLine{00890   m\_activeAxis.setQStringName(tr(\textcolor{stringliteral}{"{}Active Axis"{}}));}
\DoxyCodeLine{00891   m\_activeAxis.setItemUIName(L\textcolor{stringliteral}{"{}Position"{}}, tr(\textcolor{stringliteral}{"{}Position"{}}));}
\DoxyCodeLine{00892   m\_activeAxis.setItemUIName(L\textcolor{stringliteral}{"{}Rotation"{}}, tr(\textcolor{stringliteral}{"{}Rotation"{}}));}
\DoxyCodeLine{00893   m\_activeAxis.setItemUIName(L\textcolor{stringliteral}{"{}Scale"{}}, tr(\textcolor{stringliteral}{"{}Scale"{}}));}
\DoxyCodeLine{00894   m\_activeAxis.setItemUIName(L\textcolor{stringliteral}{"{}Shear"{}}, tr(\textcolor{stringliteral}{"{}Shear"{}}));}
\DoxyCodeLine{00895   m\_activeAxis.setItemUIName(L\textcolor{stringliteral}{"{}Center"{}}, tr(\textcolor{stringliteral}{"{}Center"{}}));}
\DoxyCodeLine{00896   m\_activeAxis.setItemUIName(L\textcolor{stringliteral}{"{}All"{}}, tr(\textcolor{stringliteral}{"{}All"{}}));}
\DoxyCodeLine{00897 \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/edittool.\+cpp\end{DoxyCompactItemize}
