\hypertarget{class_xsheet_g_u_i_1_1_column_area}{}\doxysection{Xsheet\+GUI\+::Column\+Area Class Reference}
\label{class_xsheet_g_u_i_1_1_column_area}\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}


The class in charge of the region showing layer headers.  




{\ttfamily \#include $<$xshcolumnviewer.\+h$>$}

Inheritance diagram for Xsheet\+GUI\+::Column\+Area\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_xsheet_g_u_i_1_1_column_area}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_1_1_pixmaps}{Pixmaps}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a327276a42edf5c35cca5029e5e73c67d}{Column\+Area}} (\mbox{\hyperlink{class_xsheet_viewer}{Xsheet\+Viewer}} $\ast$parent, Qt\+::\+WFlags flags=0)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a3891ccf29f7c3fade5204adcccce1e76}{on\+Control\+Pressed}} (bool pressed)
\item 
const bool \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a2a611401f8f499d1886c3ef85818f808}{is\+Control\+Pressed}} ()
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a8d74cf2353cc28923fd2a97b531d67c6}{draw\+Folded\+Column\+Head}} (QPainter \&p, int col)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a2d1f49c5f62d9353109a6586e73100a7}{draw\+Level\+Column\+Head}} (QPainter \&p, int col)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_aa20ecc29263b92479262145a91cf5f49}{draw\+Sound\+Column\+Head}} (QPainter \&p, int col)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a2c784be22b3e23ced598151b049c4669}{draw\+Palette\+Column\+Head}} (QPainter \&p, int col)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a5353a98debd85a69ce9ac9cd58bebbca}{draw\+Sound\+Text\+Column\+Head}} (QPainter \&p, int col)
\item 
QPixmap \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_aa0b85d09946c9be9fc2f53aa96234db9}{get\+Column\+Icon}} (int column\+Index)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a8ac70d5e66c4ce9d894eec503d6ba09f}{on\+Sub\+Sampling}} (QAction $\ast$)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a57064945a0868b0bc75763739a467ae1}{open\+Transparency\+Popup}} ()
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_af4dfeec9c9c4befb8bab92efbdaaf8b3}{open\+Sound\+Column\+Popup}} ()
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_abba9fc22ec41649aced955a3e75185d3}{open\+Camera\+Column\+Popup}} (QPoint pos)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a7c89454a7b3cc02be2d2a596b9d992de}{on\+Camera\+Column\+Changed\+Triggered}} ()
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_ab2c0cfbd256c463dd62ad72518cab3de}{on\+Camera\+Column\+Lock\+Toggled}} (bool)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a96000ee0c150e35c905b667b558a6787}{on\+Xsheet\+Camera\+Change}} (int)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a0aa17e37d10d93798ddc4f5e66266054}{on\+Set\+Mask}} (int)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a69a74f656b34411c628c63592ced6672}\label{class_xsheet_g_u_i_1_1_column_area_a69a74f656b34411c628c63592ced6672}} 
void {\bfseries select} (int column\+Index, QMouse\+Event $\ast$event)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_afc8e5a67fbb402e40f44f12573895bd7}{paint\+Event}} (QPaint\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a26a7b52dbce0d85949faf680fbd02282}{mouse\+Press\+Event}} (QMouse\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a1f6162b09b0288cd21548327fcd9b6cb}{mouse\+Move\+Event}} (QMouse\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_abe0e997a70328a9ce5526e130e4e1810}{mouse\+Release\+Event}} (QMouse\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a71050c40a68a9a92ee2c213e1f691223}{mouse\+Double\+Click\+Event}} (QMouse\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_a381a17cf486e7b3228d05c6a541f3bfa}{context\+Menu\+Event}} (QContext\+Menu\+Event $\ast$event) override
\item 
bool \mbox{\hyperlink{class_xsheet_g_u_i_1_1_column_area_aa9be0b908bffee72a1ad3922c37aecd3}{event}} (QEvent $\ast$event) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The class in charge of the region showing layer headers. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a327276a42edf5c35cca5029e5e73c67d}\label{class_xsheet_g_u_i_1_1_column_area_a327276a42edf5c35cca5029e5e73c67d}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!ColumnArea@{ColumnArea}}
\index{ColumnArea@{ColumnArea}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{ColumnArea()}{ColumnArea()}}
{\footnotesize\ttfamily Xsheet\+GUI\+::\+Column\+Area\+::\+Column\+Area (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_xsheet_viewer}{Xsheet\+Viewer}} $\ast$}]{parent,  }\item[{Qt\+::\+WFlags}]{flags = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01338     : QWidget(parent, flags)}
\DoxyCodeLine{01339     , m\_viewer(parent)}
\DoxyCodeLine{01340     , m\_pos(-\/1, -\/1)}
\DoxyCodeLine{01341     , m\_tooltip(tr(\textcolor{stringliteral}{"{}"{}}))}
\DoxyCodeLine{01342     , m\_col(-\/1)}
\DoxyCodeLine{01343     , m\_columnTransparencyPopup(0)}
\DoxyCodeLine{01344     , m\_transparencyPopupTimer(0)}
\DoxyCodeLine{01345     , m\_isPanning(\textcolor{keyword}{false})}
\DoxyCodeLine{01346     , m\_soundColumnPopup(0) \{}
\DoxyCodeLine{01347   \mbox{\hyperlink{class_t_xsheet_handle}{TXsheetHandle}} *xsheetHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}();}
\DoxyCodeLine{01348   \mbox{\hyperlink{class_t_object_handle}{TObjectHandle}} *objectHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{getCurrentObject}}();}
\DoxyCodeLine{01349   m\_changeObjectParent        = \textcolor{keyword}{new} ChangeObjectParent(m\_viewer);}
\DoxyCodeLine{01350   m\_changeObjectParent-\/>setObjectHandle(objectHandle);}
\DoxyCodeLine{01351   m\_changeObjectParent-\/>setXsheetHandle(xsheetHandle);}
\DoxyCodeLine{01352   m\_changeObjectParent-\/>hide();}
\DoxyCodeLine{01353 }
\DoxyCodeLine{01354   m\_changeObjectHandle = \textcolor{keyword}{new} ChangeObjectHandle(m\_viewer);}
\DoxyCodeLine{01355   m\_changeObjectHandle-\/>setObjectHandle(objectHandle);}
\DoxyCodeLine{01356   m\_changeObjectHandle-\/>setXsheetHandle(xsheetHandle);}
\DoxyCodeLine{01357   m\_changeObjectHandle-\/>hide();}
\DoxyCodeLine{01358 }
\DoxyCodeLine{01359 \textcolor{preprocessor}{\#ifdef LINETEST}}
\DoxyCodeLine{01360   \textcolor{comment}{// linetest had options around a motion path}}
\DoxyCodeLine{01361   \textcolor{comment}{// you could configure from the column header}}
\DoxyCodeLine{01362   m\_motionPathMenu = \textcolor{keyword}{new} MotionPathMenu(0);}
\DoxyCodeLine{01363 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01364 }
\DoxyCodeLine{01365   m\_renameColumnField = \textcolor{keyword}{new} RenameColumnField(\textcolor{keyword}{this}, m\_viewer);}
\DoxyCodeLine{01366   m\_renameColumnField-\/>setXsheetHandle(xsheetHandle);}
\DoxyCodeLine{01367   m\_renameColumnField-\/>hide();}
\DoxyCodeLine{01368 }
\DoxyCodeLine{01369   QActionGroup *actionGroup = \textcolor{keyword}{new} QActionGroup(\textcolor{keyword}{this});}
\DoxyCodeLine{01370   m\_subsampling1            = \textcolor{keyword}{new} QAction(tr(\textcolor{stringliteral}{"{}\&Subsampling 1"{}}), actionGroup);}
\DoxyCodeLine{01371   m\_subsampling2            = \textcolor{keyword}{new} QAction(tr(\textcolor{stringliteral}{"{}\&Subsampling 2"{}}), actionGroup);}
\DoxyCodeLine{01372   m\_subsampling3            = \textcolor{keyword}{new} QAction(tr(\textcolor{stringliteral}{"{}\&Subsampling 3"{}}), actionGroup);}
\DoxyCodeLine{01373   m\_subsampling4            = \textcolor{keyword}{new} QAction(tr(\textcolor{stringliteral}{"{}\&Subsampling 4"{}}), actionGroup);}
\DoxyCodeLine{01374   actionGroup-\/>addAction(m\_subsampling1);}
\DoxyCodeLine{01375   actionGroup-\/>addAction(m\_subsampling2);}
\DoxyCodeLine{01376   actionGroup-\/>addAction(m\_subsampling3);}
\DoxyCodeLine{01377   actionGroup-\/>addAction(m\_subsampling4);}
\DoxyCodeLine{01378 }
\DoxyCodeLine{01379   connect(actionGroup, SIGNAL(triggered(QAction *)), \textcolor{keyword}{this},}
\DoxyCodeLine{01380           SLOT(onSubSampling(QAction *)));}
\DoxyCodeLine{01381   connect(xsheetHandle, SIGNAL(xsheetCameraChange(\textcolor{keywordtype}{int})), \textcolor{keyword}{this},}
\DoxyCodeLine{01382           SLOT(onXsheetCameraChange(\textcolor{keywordtype}{int})));}
\DoxyCodeLine{01383   setMouseTracking(\textcolor{keyword}{true});}
\DoxyCodeLine{01384 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a12e501174687f5fe89854c034f14801b}\label{class_xsheet_g_u_i_1_1_column_area_a12e501174687f5fe89854c034f14801b}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!````~ColumnArea@{$\sim$ColumnArea}}
\index{````~ColumnArea@{$\sim$ColumnArea}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{$\sim$ColumnArea()}{~ColumnArea()}}
{\footnotesize\ttfamily Xsheet\+GUI\+::\+Column\+Area\+::$\sim$\+Column\+Area (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01388 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a381a17cf486e7b3228d05c6a541f3bfa}\label{class_xsheet_g_u_i_1_1_column_area_a381a17cf486e7b3228d05c6a541f3bfa}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!contextMenuEvent@{contextMenuEvent}}
\index{contextMenuEvent@{contextMenuEvent}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{contextMenuEvent()}{contextMenuEvent()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::context\+Menu\+Event (\begin{DoxyParamCaption}\item[{QContext\+Menu\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02717                                                           \{}
\DoxyCodeLine{02718 \textcolor{preprocessor}{\#ifndef \_WIN32}}
\DoxyCodeLine{02719   \textcolor{comment}{/* On windows the widget receive the release event before the menu}}
\DoxyCodeLine{02720 \textcolor{comment}{     is shown, on linux and osx the release event is lost, never}}
\DoxyCodeLine{02721 \textcolor{comment}{     received by the widget */}}
\DoxyCodeLine{02722   QMouseEvent fakeRelease(QEvent::MouseButtonRelease, event-\/>pos(),}
\DoxyCodeLine{02723                           Qt::RightButton, Qt::NoButton, Qt::NoModifier);}
\DoxyCodeLine{02724 }
\DoxyCodeLine{02725   QApplication::instance()-\/>sendEvent(\textcolor{keyword}{this}, \&fakeRelease);}
\DoxyCodeLine{02726 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02727   \textcolor{keyword}{const} \mbox{\hyperlink{class_orientation}{Orientation}} *o = m\_viewer-\/>orientation();}
\DoxyCodeLine{02728 }
\DoxyCodeLine{02729   \textcolor{keywordtype}{int} col = m\_viewer-\/>xyToPosition(event-\/>pos()).layer();}
\DoxyCodeLine{02730 }
\DoxyCodeLine{02731   \textcolor{keywordtype}{bool} isCamera = col < 0;}
\DoxyCodeLine{02732 }
\DoxyCodeLine{02733   m\_viewer-\/>setCurrentColumn(col);}
\DoxyCodeLine{02734   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh       = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{02735   QPoint topLeft     = m\_viewer-\/>positionToXY(\mbox{\hyperlink{class_cell_position}{CellPosition}}(0, col));}
\DoxyCodeLine{02736   QPoint mouseInCell = \textcolor{keyword}{event}-\/>pos() -\/ topLeft;}
\DoxyCodeLine{02737 }
\DoxyCodeLine{02738   QMenu menu(\textcolor{keyword}{this});}
\DoxyCodeLine{02739   \mbox{\hyperlink{class_command_manager}{CommandManager}} *cmdManager = CommandManager::instance();}
\DoxyCodeLine{02740 }
\DoxyCodeLine{02741   \textcolor{comment}{//-\/-\/-\/-\/ Preview}}
\DoxyCodeLine{02742   \textcolor{keywordflow}{if} (((isCamera \&\& !o-\/>isVerticalTimeline()) || !xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col)) \&\&}
\DoxyCodeLine{02743       o-\/>rect(PredefinedRect::EYE\_AREA).contains(mouseInCell)) \{}
\DoxyCodeLine{02744     menu.setObjectName(\textcolor{stringliteral}{"{}xsheetColumnAreaMenu\_Preview"{}});}
\DoxyCodeLine{02745 }
\DoxyCodeLine{02746     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_EnableThisColumnOnly"{}}));}
\DoxyCodeLine{02747     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_EnableSelectedColumns"{}}));}
\DoxyCodeLine{02748     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_EnableAllColumns"{}}));}
\DoxyCodeLine{02749     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_DisableAllColumns"{}}));}
\DoxyCodeLine{02750     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_DisableSelectedColumns"{}}));}
\DoxyCodeLine{02751     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_SwapEnabledColumns"{}}));}
\DoxyCodeLine{02752   \}}
\DoxyCodeLine{02753   \textcolor{comment}{//-\/-\/-\/-\/ Lock}}
\DoxyCodeLine{02754   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((isCamera || !xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col)) \&\&}
\DoxyCodeLine{02755            o-\/>rect((isCamera) ? PredefinedRect::CAMERA\_LOCK\_AREA}
\DoxyCodeLine{02756                               : PredefinedRect::LOCK\_AREA)}
\DoxyCodeLine{02757                .contains(mouseInCell)) \{}
\DoxyCodeLine{02758     menu.setObjectName(\textcolor{stringliteral}{"{}xsheetColumnAreaMenu\_Lock"{}});}
\DoxyCodeLine{02759 }
\DoxyCodeLine{02760     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_LockThisColumnOnly"{}}));}
\DoxyCodeLine{02761     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_LockSelectedColumns"{}}));}
\DoxyCodeLine{02762     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_LockAllColumns"{}}));}
\DoxyCodeLine{02763     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_UnlockSelectedColumns"{}}));}
\DoxyCodeLine{02764     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_UnlockAllColumns"{}}));}
\DoxyCodeLine{02765     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_ToggleColumnLocks"{}}));}
\DoxyCodeLine{02766   \}}
\DoxyCodeLine{02767   \textcolor{comment}{//-\/-\/-\/-\/ Camstand}}
\DoxyCodeLine{02768   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (((isCamera \&\& !o-\/>isVerticalTimeline()) ||}
\DoxyCodeLine{02769             !xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col)) \&\&}
\DoxyCodeLine{02770            o-\/>rect(PredefinedRect::PREVIEW\_LAYER\_AREA).contains(mouseInCell)) \{}
\DoxyCodeLine{02771     menu.setObjectName(\textcolor{stringliteral}{"{}xsheetColumnAreaMenu\_Camstand"{}});}
\DoxyCodeLine{02772 }
\DoxyCodeLine{02773     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_ActivateThisColumnOnly"{}}));}
\DoxyCodeLine{02774     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_ActivateSelectedColumns"{}}));}
\DoxyCodeLine{02775     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_ActivateAllColumns"{}}));}
\DoxyCodeLine{02776     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_DeactivateAllColumns"{}}));}
\DoxyCodeLine{02777     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_DeactivateSelectedColumns"{}}));}
\DoxyCodeLine{02778     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_ToggleColumnsActivation"{}}));}
\DoxyCodeLine{02779     \textcolor{comment}{// hide all columns placed on the left}}
\DoxyCodeLine{02780     menu.addAction(cmdManager-\/>getAction(\textcolor{stringliteral}{"{}MI\_DeactivateUpperColumns"{}}));}
\DoxyCodeLine{02781   \}}
\DoxyCodeLine{02782   \textcolor{comment}{// right clicking another area / right clicking empty column head}}
\DoxyCodeLine{02783   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02784     \textcolor{keywordflow}{if} (!isCamera) \{}
\DoxyCodeLine{02785       \textcolor{keywordtype}{int} r0, r1;}
\DoxyCodeLine{02786       xsh-\/>\mbox{\hyperlink{class_t_xsheet_a26850469fb0f2886b717479050c32be2}{getCellRange}}(col, r0, r1);}
\DoxyCodeLine{02787       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(r0, col);}
\DoxyCodeLine{02788       menu.addAction(cmdManager-\/>getAction(MI\_Cut));}
\DoxyCodeLine{02789       menu.addAction(cmdManager-\/>getAction(MI\_Copy));}
\DoxyCodeLine{02790       menu.addAction(cmdManager-\/>getAction(MI\_Paste));}
\DoxyCodeLine{02791       menu.addAction(cmdManager-\/>getAction(MI\_PasteAbove));}
\DoxyCodeLine{02792       menu.addAction(cmdManager-\/>getAction(MI\_Clear));}
\DoxyCodeLine{02793       menu.addAction(cmdManager-\/>getAction(MI\_Insert));}
\DoxyCodeLine{02794       menu.addAction(cmdManager-\/>getAction(MI\_InsertAbove));}
\DoxyCodeLine{02795       menu.addSeparator();}
\DoxyCodeLine{02796       menu.addAction(cmdManager-\/>getAction(MI\_InsertFx));}
\DoxyCodeLine{02797       menu.addAction(cmdManager-\/>getAction(MI\_NewNoteLevel));}
\DoxyCodeLine{02798       menu.addAction(cmdManager-\/>getAction(MI\_RemoveEmptyColumns));}
\DoxyCodeLine{02799       menu.addSeparator();}
\DoxyCodeLine{02800       \textcolor{keywordflow}{if} (m\_viewer-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col) ||}
\DoxyCodeLine{02801           (cell.m\_level \&\& cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a6ef7d48e41f4f214b414e959512e6377}{getChildLevel}}()))}
\DoxyCodeLine{02802         menu.addAction(cmdManager-\/>getAction(MI\_OpenChild));}
\DoxyCodeLine{02803 }
\DoxyCodeLine{02804       \textcolor{comment}{// Close sub xsheet and move to parent sheet}}
\DoxyCodeLine{02805       \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene      = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{02806       \mbox{\hyperlink{class_child_stack}{ChildStack}} *childStack = scene-\/>\mbox{\hyperlink{class_toonz_scene_ae2cbc582144c92adc5076cd5f556c95a}{getChildStack}}();}
\DoxyCodeLine{02807       \textcolor{keywordflow}{if} (childStack \&\& childStack-\/>\mbox{\hyperlink{class_child_stack_adf32015ee9da2ea3255ba9bd2597f899}{getAncestorCount}}() > 0) \{}
\DoxyCodeLine{02808         menu.addAction(cmdManager-\/>getAction(MI\_CloseChild));}
\DoxyCodeLine{02809       \}}
\DoxyCodeLine{02810 }
\DoxyCodeLine{02811       menu.addAction(cmdManager-\/>getAction(MI\_Collapse));}
\DoxyCodeLine{02812       \textcolor{keywordflow}{if} (cell.m\_level \&\& cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a6ef7d48e41f4f214b414e959512e6377}{getChildLevel}}()) \{}
\DoxyCodeLine{02813         menu.addAction(cmdManager-\/>getAction(MI\_Resequence));}
\DoxyCodeLine{02814         menu.addAction(cmdManager-\/>getAction(MI\_CloneChild));}
\DoxyCodeLine{02815         menu.addAction(cmdManager-\/>getAction(MI\_ExplodeChild));}
\DoxyCodeLine{02816       \}}
\DoxyCodeLine{02817       menu.addSeparator();}
\DoxyCodeLine{02818     \}}
\DoxyCodeLine{02819     menu.addAction(cmdManager-\/>getAction(MI\_FoldColumns));}
\DoxyCodeLine{02820     \textcolor{keywordflow}{if} (Preferences::instance()-\/>isShowKeyframesOnXsheetCellAreaEnabled()) \{}
\DoxyCodeLine{02821       QAction *cameraToggle =}
\DoxyCodeLine{02822           cmdManager-\/>getAction(MI\_ToggleXsheetCameraColumn);}
\DoxyCodeLine{02823       \textcolor{keywordtype}{bool} cameraVisible =}
\DoxyCodeLine{02824           Preferences::instance()-\/>isXsheetCameraColumnVisible();}
\DoxyCodeLine{02825       \textcolor{keywordflow}{if} (cameraVisible)}
\DoxyCodeLine{02826         cameraToggle-\/>setText(tr(\textcolor{stringliteral}{"{}Hide Camera Column"{}}));}
\DoxyCodeLine{02827       \textcolor{keywordflow}{else}}
\DoxyCodeLine{02828         cameraToggle-\/>setText(tr(\textcolor{stringliteral}{"{}Show Camera Column"{}}));}
\DoxyCodeLine{02829       menu.addAction(cameraToggle);}
\DoxyCodeLine{02830     \}}
\DoxyCodeLine{02831     menu.addSeparator();}
\DoxyCodeLine{02832     menu.addAction(cmdManager-\/>getAction(MI\_ToggleXSheetToolbar));}
\DoxyCodeLine{02833 }
\DoxyCodeLine{02834     \textcolor{keywordflow}{if} (isCamera) \{}
\DoxyCodeLine{02835       menu.exec(event-\/>globalPos());}
\DoxyCodeLine{02836       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02837     \}}
\DoxyCodeLine{02838 }
\DoxyCodeLine{02839     \textcolor{comment}{// force the selected cells placed in n-\/steps}}
\DoxyCodeLine{02840     \textcolor{keywordflow}{if} (!xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col)) \{}
\DoxyCodeLine{02841       menu.addSeparator();}
\DoxyCodeLine{02842       QMenu *reframeSubMenu = \textcolor{keyword}{new} QMenu(tr(\textcolor{stringliteral}{"{}Reframe"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{02843       \{}
\DoxyCodeLine{02844         reframeSubMenu-\/>addAction(cmdManager-\/>getAction(MI\_Reframe1));}
\DoxyCodeLine{02845         reframeSubMenu-\/>addAction(cmdManager-\/>getAction(MI\_Reframe2));}
\DoxyCodeLine{02846         reframeSubMenu-\/>addAction(cmdManager-\/>getAction(MI\_Reframe3));}
\DoxyCodeLine{02847         reframeSubMenu-\/>addAction(cmdManager-\/>getAction(MI\_Reframe4));}
\DoxyCodeLine{02848         reframeSubMenu-\/>addAction(}
\DoxyCodeLine{02849             cmdManager-\/>getAction(MI\_ReframeWithEmptyInbetweens));}
\DoxyCodeLine{02850       \}}
\DoxyCodeLine{02851       menu.addMenu(reframeSubMenu);}
\DoxyCodeLine{02852       menu.addAction(cmdManager-\/>getAction(MI\_AutoInputCellNumber));}
\DoxyCodeLine{02853     \}}
\DoxyCodeLine{02854 }
\DoxyCodeLine{02855     \textcolor{keywordflow}{if} (containsRasterLevel(m\_viewer-\/>getColumnSelection())) \{}
\DoxyCodeLine{02856       QMenu *subsampleSubMenu = \textcolor{keyword}{new} QMenu(tr(\textcolor{stringliteral}{"{}Subsampling"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{02857       \{}
\DoxyCodeLine{02858         subsampleSubMenu-\/>addAction(m\_subsampling1);}
\DoxyCodeLine{02859         subsampleSubMenu-\/>addAction(m\_subsampling2);}
\DoxyCodeLine{02860         subsampleSubMenu-\/>addAction(m\_subsampling3);}
\DoxyCodeLine{02861         subsampleSubMenu-\/>addAction(m\_subsampling4);}
\DoxyCodeLine{02862       \}}
\DoxyCodeLine{02863       menu.addMenu(subsampleSubMenu);}
\DoxyCodeLine{02864     \}}
\DoxyCodeLine{02865 }
\DoxyCodeLine{02866     \textcolor{keywordflow}{if} (!xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col)) \{}
\DoxyCodeLine{02867       menu.addAction(cmdManager-\/>getAction(MI\_ReplaceLevel));}
\DoxyCodeLine{02868       menu.addAction(cmdManager-\/>getAction(MI\_ReplaceParentDirectory));}
\DoxyCodeLine{02869 }
\DoxyCodeLine{02870       \textcolor{comment}{// if (containsVectorLevel(col)) \{}}
\DoxyCodeLine{02871       \textcolor{comment}{//  menu.addSeparator();}}
\DoxyCodeLine{02872       \textcolor{comment}{//  QAction *setMask =}}
\DoxyCodeLine{02873       \textcolor{comment}{//      new QAction(tr("{}Temporary Mask (Not in final render)"{}), this);}}
\DoxyCodeLine{02874       \textcolor{comment}{//  setMask-\/>setCheckable(true);}}
\DoxyCodeLine{02875       \textcolor{comment}{//  setMask-\/>setChecked(xsh-\/>getColumn(col)-\/>isMask());}}
\DoxyCodeLine{02876       \textcolor{comment}{//  setMask-\/>setToolTip(}}
\DoxyCodeLine{02877       \textcolor{comment}{//      tr("{}Only Toonz Vector levels can be used as masks. \(\backslash\)n Masks don't}}
\DoxyCodeLine{02878       \textcolor{comment}{//      "{}}}
\DoxyCodeLine{02879       \textcolor{comment}{//         "{}show up in final renders."{}));}}
\DoxyCodeLine{02880       \textcolor{comment}{//  bool ret = true;}}
\DoxyCodeLine{02881       \textcolor{comment}{//  ret      = ret \&\&}}
\DoxyCodeLine{02882       \textcolor{comment}{//        connect(setMask, \&QAction::toggled, [=]() \{ onSetMask(col); \});}}
\DoxyCodeLine{02883       \textcolor{comment}{//  assert(ret);}}
\DoxyCodeLine{02884       \textcolor{comment}{//  menu.addAction(setMask);}}
\DoxyCodeLine{02885       \textcolor{comment}{//\}}}
\DoxyCodeLine{02886     \}}
\DoxyCodeLine{02887   \}}
\DoxyCodeLine{02888 }
\DoxyCodeLine{02889   QAction *act  = cmdManager-\/>getAction(MI\_Insert),}
\DoxyCodeLine{02890           *act2 = cmdManager-\/>getAction(MI\_InsertAbove),}
\DoxyCodeLine{02891           *act3 = cmdManager-\/>getAction(MI\_Paste),}
\DoxyCodeLine{02892           *act4 = cmdManager-\/>getAction(MI\_PasteAbove);}
\DoxyCodeLine{02893 }
\DoxyCodeLine{02894   QString actText = act-\/>text(), act2Text = act2-\/>text(),}
\DoxyCodeLine{02895           act3Text = act3-\/>text(), act4Text = act4-\/>text();}
\DoxyCodeLine{02896 }
\DoxyCodeLine{02897   \textcolor{keywordflow}{if} (o-\/>isVerticalTimeline()) \{}
\DoxyCodeLine{02898     act-\/>setText(tr(\textcolor{stringliteral}{"{}\&Insert Before"{}}));}
\DoxyCodeLine{02899     act2-\/>setText(tr(\textcolor{stringliteral}{"{}\&Insert After"{}}));}
\DoxyCodeLine{02900     act3-\/>setText(tr(\textcolor{stringliteral}{"{}\&Paste Insert Before"{}}));}
\DoxyCodeLine{02901     act4-\/>setText(tr(\textcolor{stringliteral}{"{}\&Paste Insert After"{}}));}
\DoxyCodeLine{02902   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02903     act-\/>setText(tr(\textcolor{stringliteral}{"{}\&Insert Below"{}}));}
\DoxyCodeLine{02904     act2-\/>setText(tr(\textcolor{stringliteral}{"{}\&Insert Above"{}}));}
\DoxyCodeLine{02905     act3-\/>setText(tr(\textcolor{stringliteral}{"{}\&Paste Insert Below"{}}));}
\DoxyCodeLine{02906     act4-\/>setText(tr(\textcolor{stringliteral}{"{}\&Paste Insert Above"{}}));}
\DoxyCodeLine{02907   \}}
\DoxyCodeLine{02908 }
\DoxyCodeLine{02909   menu.exec(event-\/>globalPos());}
\DoxyCodeLine{02910 }
\DoxyCodeLine{02911   act-\/>setText(actText);}
\DoxyCodeLine{02912   act2-\/>setText(act2Text);}
\DoxyCodeLine{02913   act3-\/>setText(act3Text);}
\DoxyCodeLine{02914   act4-\/>setText(act4Text);}
\DoxyCodeLine{02915 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a8d74cf2353cc28923fd2a97b531d67c6}\label{class_xsheet_g_u_i_1_1_column_area_a8d74cf2353cc28923fd2a97b531d67c6}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!drawFoldedColumnHead@{drawFoldedColumnHead}}
\index{drawFoldedColumnHead@{drawFoldedColumnHead}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{drawFoldedColumnHead()}{drawFoldedColumnHead()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::draw\+Folded\+Column\+Head (\begin{DoxyParamCaption}\item[{QPainter \&}]{p,  }\item[{int}]{col }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01398                                                           \{}
\DoxyCodeLine{01399   \textcolor{keyword}{const} \mbox{\hyperlink{class_orientation}{Orientation}} *o = m\_viewer-\/>orientation();}
\DoxyCodeLine{01400 }
\DoxyCodeLine{01401   QPoint orig = m\_viewer-\/>positionToXY(\mbox{\hyperlink{class_cell_position}{CellPosition}}(0, col));}
\DoxyCodeLine{01402   QRect rect  = o-\/>rect(PredefinedRect::FOLDED\_LAYER\_HEADER).translated(orig);}
\DoxyCodeLine{01403 }
\DoxyCodeLine{01404   \textcolor{keywordtype}{int} x0, y0, x, y;}
\DoxyCodeLine{01405 }
\DoxyCodeLine{01406   \textcolor{keywordflow}{if} (o-\/>isVerticalTimeline()) \{}
\DoxyCodeLine{01407     x0 = rect.topLeft().x() + 1;}
\DoxyCodeLine{01408     y0 = 0;}
\DoxyCodeLine{01409 }
\DoxyCodeLine{01410     p.setPen(m\_viewer-\/>getDarkLineColor());}
\DoxyCodeLine{01411     p.fillRect(x0, y0 + 1, rect.width(), 18,}
\DoxyCodeLine{01412                QBrush(m\_viewer-\/>getFoldedColumnBGColor()));}
\DoxyCodeLine{01413     p.fillRect(x0, y0 + 17, 2, rect.height() -\/ 34,}
\DoxyCodeLine{01414                QBrush(m\_viewer-\/>getFoldedColumnBGColor()));}
\DoxyCodeLine{01415     p.fillRect(x0 + 3, y0 + 20, 2, rect.height() -\/ 36,}
\DoxyCodeLine{01416                QBrush(m\_viewer-\/>getFoldedColumnBGColor()));}
\DoxyCodeLine{01417     p.fillRect(x0 + 6, y0 + 17, 2, rect.height() -\/ 34,}
\DoxyCodeLine{01418                QBrush(m\_viewer-\/>getFoldedColumnBGColor()));}
\DoxyCodeLine{01419 }
\DoxyCodeLine{01420     p.setPen(m\_viewer-\/>getFoldedColumnLineColor());}
\DoxyCodeLine{01421     p.drawLine(x0 -\/ 1, y0 + 17, x0 -\/ 1, rect.height());}
\DoxyCodeLine{01422     p.setPen(m\_viewer-\/>getFoldedColumnLineColor());}
\DoxyCodeLine{01423     p.drawLine(x0 + 2, y0 + 17, x0 + 2, rect.height());}
\DoxyCodeLine{01424     p.drawLine(x0 + 5, y0 + 17, x0 + 5, rect.height());}
\DoxyCodeLine{01425     p.drawLine(x0, y0 + 17, x0 + 1, 17);}
\DoxyCodeLine{01426     p.drawLine(x0 + 3, y0 + 20, x0 + 4, 20);}
\DoxyCodeLine{01427     p.drawLine(x0 + 6, y0 + 17, x0 + 7, 17);}
\DoxyCodeLine{01428 }
\DoxyCodeLine{01429     \textcolor{comment}{// triangolini}}
\DoxyCodeLine{01430     p.setPen(Qt::black);}
\DoxyCodeLine{01431     x = x0;}
\DoxyCodeLine{01432     y = 12;}
\DoxyCodeLine{01433     p.drawPoint(QPointF(x, y));}
\DoxyCodeLine{01434     x++;}
\DoxyCodeLine{01435     p.drawLine(x, y -\/ 1, x, y + 1);}
\DoxyCodeLine{01436     x++;}
\DoxyCodeLine{01437     p.drawLine(x, y -\/ 2, x, y + 2);}
\DoxyCodeLine{01438     x += 3;}
\DoxyCodeLine{01439     p.drawLine(x, y -\/ 2, x, y + 2);}
\DoxyCodeLine{01440     x++;}
\DoxyCodeLine{01441     p.drawLine(x, y -\/ 1, x, y + 1);}
\DoxyCodeLine{01442     x++;}
\DoxyCodeLine{01443     p.drawPoint(x, y);}
\DoxyCodeLine{01444   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01445     x0 = 0;}
\DoxyCodeLine{01446     y0 = rect.topLeft().y() + 1;}
\DoxyCodeLine{01447 }
\DoxyCodeLine{01448     p.setPen(m\_viewer-\/>getFoldedColumnLineColor());}
\DoxyCodeLine{01449     p.fillRect(x0 + 1, y0, 18, rect.height(),}
\DoxyCodeLine{01450                QBrush(m\_viewer-\/>getFoldedColumnBGColor()));}
\DoxyCodeLine{01451     p.fillRect(x0 + 17, y0, rect.width() -\/ 34, 2,}
\DoxyCodeLine{01452                QBrush(m\_viewer-\/>getFoldedColumnBGColor()));}
\DoxyCodeLine{01453     p.fillRect(x0 + 20, y0 + 3, rect.width() -\/ 36, 2,}
\DoxyCodeLine{01454                QBrush(m\_viewer-\/>getFoldedColumnBGColor()));}
\DoxyCodeLine{01455     p.fillRect(x0 + 17, y0 + 6, rect.width() -\/ 34, 2,}
\DoxyCodeLine{01456                QBrush(m\_viewer-\/>getFoldedColumnBGColor()));}
\DoxyCodeLine{01457 }
\DoxyCodeLine{01458     p.setPen(m\_viewer-\/>getFoldedColumnLineColor());}
\DoxyCodeLine{01459     p.drawLine(x0 + 17, y0 -\/ 1, rect.width(), y0 -\/ 1);}
\DoxyCodeLine{01460     p.setPen(m\_viewer-\/>getFoldedColumnLineColor());}
\DoxyCodeLine{01461     p.drawLine(x0 + 17, y0 + 2, rect.width(), y0 + 2);}
\DoxyCodeLine{01462     p.drawLine(x0 + 17, y0 + 5, rect.width(), y0 + 5);}
\DoxyCodeLine{01463     p.drawLine(x0 + 17, y0, 17, y0 + 1);}
\DoxyCodeLine{01464     p.drawLine(x0 + 20, y0 + 3, 20, y0 + 4);}
\DoxyCodeLine{01465     p.drawLine(x0 + 17, y0 + 6, 17, y0 + 7);}
\DoxyCodeLine{01466 }
\DoxyCodeLine{01467     \textcolor{comment}{// triangolini}}
\DoxyCodeLine{01468     p.setPen(Qt::black);}
\DoxyCodeLine{01469     x = 12;}
\DoxyCodeLine{01470     y = y0;}
\DoxyCodeLine{01471     p.drawPoint(QPointF(x, y));}
\DoxyCodeLine{01472     y++;}
\DoxyCodeLine{01473     p.drawLine(x -\/ 1, y, x + 1, y);}
\DoxyCodeLine{01474     y++;}
\DoxyCodeLine{01475     p.drawLine(x -\/ 2, y, x + 2, y);}
\DoxyCodeLine{01476     y += 3;}
\DoxyCodeLine{01477     p.drawLine(x -\/ 2, y, x + 2, y);}
\DoxyCodeLine{01478     y++;}
\DoxyCodeLine{01479     p.drawLine(x -\/ 1, y, x + 1, y);}
\DoxyCodeLine{01480     y++;}
\DoxyCodeLine{01481     p.drawPoint(x, y);}
\DoxyCodeLine{01482   \}}
\DoxyCodeLine{01483 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a2d1f49c5f62d9353109a6586e73100a7}\label{class_xsheet_g_u_i_1_1_column_area_a2d1f49c5f62d9353109a6586e73100a7}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!drawLevelColumnHead@{drawLevelColumnHead}}
\index{drawLevelColumnHead@{drawLevelColumnHead}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{drawLevelColumnHead()}{drawLevelColumnHead()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::draw\+Level\+Column\+Head (\begin{DoxyParamCaption}\item[{QPainter \&}]{p,  }\item[{int}]{col }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01485                                                          \{}
\DoxyCodeLine{01486   \mbox{\hyperlink{class_t_column_selection}{TColumnSelection}} *selection = m\_viewer-\/>getColumnSelection();}
\DoxyCodeLine{01487   \textcolor{keyword}{const} \mbox{\hyperlink{class_orientation}{Orientation}} *o        = m\_viewer-\/>orientation();}
\DoxyCodeLine{01488 }
\DoxyCodeLine{01489   \textcolor{comment}{// Preparing painter}}
\DoxyCodeLine{01490   QString fontName = Preferences::instance()-\/>getInterfaceFont();}
\DoxyCodeLine{01491   \textcolor{keywordflow}{if} (fontName == \textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{01492 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{01493     fontName = \textcolor{stringliteral}{"{}Arial"{}};}
\DoxyCodeLine{01494 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01495     fontName = \textcolor{stringliteral}{"{}Helvetica"{}};}
\DoxyCodeLine{01496 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01497   \}}
\DoxyCodeLine{01498   \textcolor{keyword}{static} QFont font(fontName, -\/1, QFont::Normal);}
\DoxyCodeLine{01499   font.setPixelSize(XSHEET\_FONT\_PX\_SIZE);}
\DoxyCodeLine{01500 }
\DoxyCodeLine{01501   p.setFont(font);}
\DoxyCodeLine{01502   p.setRenderHint(QPainter::SmoothPixmapTransform, \textcolor{keyword}{true});}
\DoxyCodeLine{01503 }
\DoxyCodeLine{01504   \textcolor{comment}{// Retrieve reference coordinates}}
\DoxyCodeLine{01505   \textcolor{keywordtype}{int} currentColumnIndex = m\_viewer-\/>getCurrentColumn();}
\DoxyCodeLine{01506   \textcolor{keywordtype}{int} layerAxis          = m\_viewer-\/>columnToLayerAxis(col);}
\DoxyCodeLine{01507 }
\DoxyCodeLine{01508   QPoint orig = m\_viewer-\/>positionToXY(\mbox{\hyperlink{class_cell_position}{CellPosition}}(0, col));}
\DoxyCodeLine{01509   QRect rect  = o-\/>rect(PredefinedRect::LAYER\_HEADER).translated(orig);}
\DoxyCodeLine{01510 }
\DoxyCodeLine{01511   \mbox{\hyperlink{class_t_app}{TApp}} *app    = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{01512   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{01513 }
\DoxyCodeLine{01514   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} columnId        = m\_viewer-\/>\mbox{\hyperlink{class_xsheet_viewer_acef259f8c33344981f8c218590bca5d9}{getObjectId}}(col);}
\DoxyCodeLine{01515   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} currentColumnId = app-\/>\mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{getCurrentObject}}()-\/>getObjectId();}
\DoxyCodeLine{01516   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} parentId        = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a0a27744ce52cae25ec261a853a554cd1}{getStageObjectParent}}(columnId);}
\DoxyCodeLine{01517 }
\DoxyCodeLine{01518   \textcolor{comment}{// Retrieve column properties}}
\DoxyCodeLine{01519   \textcolor{comment}{// Check if the column is empty}}
\DoxyCodeLine{01520   \textcolor{keywordtype}{bool} isEmpty       = col >= 0 \&\& xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col);}
\DoxyCodeLine{01521   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = col >= 0 ? xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col) : 0;}
\DoxyCodeLine{01522 }
\DoxyCodeLine{01523   \textcolor{keywordtype}{bool} isEditingSpline = app-\/>\mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{getCurrentObject}}()-\/>isSpline();}
\DoxyCodeLine{01524 }
\DoxyCodeLine{01525   \textcolor{comment}{// check if the column is current}}
\DoxyCodeLine{01526   \textcolor{keywordtype}{bool} isCurrent = \textcolor{keyword}{false};}
\DoxyCodeLine{01527   \textcolor{keywordflow}{if} (currentColumnId ==}
\DoxyCodeLine{01528       TStageObjectId::CameraId(xsh-\/>getCameraColumnIndex()))  \textcolor{comment}{// CAMERA}}
\DoxyCodeLine{01529     isCurrent = col == -\/1;}
\DoxyCodeLine{01530   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01531     isCurrent = m\_viewer-\/>getCurrentColumn() == col;}
\DoxyCodeLine{01532 }
\DoxyCodeLine{01533   \textcolor{keywordtype}{bool} isSelected =}
\DoxyCodeLine{01534       m\_viewer-\/>getColumnSelection()-\/>isColumnSelected(col) \&\& !isEditingSpline;}
\DoxyCodeLine{01535   \textcolor{comment}{// bool isCameraSelected = col == -\/1 \&\& isCurrent \&\& !isEditingSpline;}}
\DoxyCodeLine{01536 }
\DoxyCodeLine{01537   \textcolor{comment}{// Draw column}}
\DoxyCodeLine{01538   DrawHeader drawHeader(\textcolor{keyword}{this}, p, col);}
\DoxyCodeLine{01539   drawHeader.prepare();}
\DoxyCodeLine{01540   QColor columnColor, dragColor;}
\DoxyCodeLine{01541   drawHeader.levelColors(columnColor, dragColor);}
\DoxyCodeLine{01542   drawHeader.drawBaseFill(columnColor, dragColor);}
\DoxyCodeLine{01543   drawHeader.drawEye();}
\DoxyCodeLine{01544   drawHeader.drawPreviewToggle(column ? column-\/>getOpacity() : 0);}
\DoxyCodeLine{01545   drawHeader.drawLock();}
\DoxyCodeLine{01546   drawHeader.drawColumnName();}
\DoxyCodeLine{01547   drawHeader.drawColumnNumber();}
\DoxyCodeLine{01548   QPixmap iconPixmap = getColumnIcon(col);}
\DoxyCodeLine{01549   drawHeader.drawThumbnail(iconPixmap);}
\DoxyCodeLine{01550   drawHeader.drawFilterColor();}
\DoxyCodeLine{01551   drawHeader.drawConfig();}
\DoxyCodeLine{01552   drawHeader.drawPegbarName();}
\DoxyCodeLine{01553   drawHeader.drawParentHandleName();}
\DoxyCodeLine{01554 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a2c784be22b3e23ced598151b049c4669}\label{class_xsheet_g_u_i_1_1_column_area_a2c784be22b3e23ced598151b049c4669}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!drawPaletteColumnHead@{drawPaletteColumnHead}}
\index{drawPaletteColumnHead@{drawPaletteColumnHead}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{drawPaletteColumnHead()}{drawPaletteColumnHead()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::draw\+Palette\+Column\+Head (\begin{DoxyParamCaption}\item[{QPainter \&}]{p,  }\item[{int}]{col }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01613                                                            \{  \textcolor{comment}{// AREA}}
\DoxyCodeLine{01614   \mbox{\hyperlink{class_t_column_selection}{TColumnSelection}} *selection = m\_viewer-\/>getColumnSelection();}
\DoxyCodeLine{01615   \textcolor{keyword}{const} \mbox{\hyperlink{class_orientation}{Orientation}} *o        = m\_viewer-\/>orientation();}
\DoxyCodeLine{01616 }
\DoxyCodeLine{01617   QPoint orig = m\_viewer-\/>positionToXY(\mbox{\hyperlink{class_cell_position}{CellPosition}}(0, std::max(col, -\/1)));}
\DoxyCodeLine{01618 }
\DoxyCodeLine{01619   QString fontName = Preferences::instance()-\/>getInterfaceFont();}
\DoxyCodeLine{01620   \textcolor{keywordflow}{if} (fontName == \textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{01621 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{01622     fontName = \textcolor{stringliteral}{"{}Arial"{}};}
\DoxyCodeLine{01623 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01624     fontName = \textcolor{stringliteral}{"{}Helvetica"{}};}
\DoxyCodeLine{01625 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01626   \}}
\DoxyCodeLine{01627   \textcolor{keyword}{static} QFont font(fontName, -\/1, QFont::Normal);}
\DoxyCodeLine{01628   font.setPixelSize(XSHEET\_FONT\_PX\_SIZE);}
\DoxyCodeLine{01629 }
\DoxyCodeLine{01630   p.setFont(font);}
\DoxyCodeLine{01631   p.setRenderHint(QPainter::SmoothPixmapTransform, \textcolor{keyword}{true});}
\DoxyCodeLine{01632 }
\DoxyCodeLine{01633   \textcolor{keywordtype}{int} currentColumnIndex = m\_viewer-\/>getCurrentColumn();}
\DoxyCodeLine{01634   \textcolor{keywordtype}{int} x                  = m\_viewer-\/>columnToLayerAxis(col);}
\DoxyCodeLine{01635 }
\DoxyCodeLine{01636   QRect rect(x, 0, o-\/>cellWidth(), height());}
\DoxyCodeLine{01637 }
\DoxyCodeLine{01638   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{01639 }
\DoxyCodeLine{01640   \textcolor{keywordtype}{bool} isEmpty = \textcolor{keyword}{false};}
\DoxyCodeLine{01641   \textcolor{keywordflow}{if} (col >= 0)  \textcolor{comment}{// Verifico se la colonna e' vuota}}
\DoxyCodeLine{01642     isEmpty = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col);}
\DoxyCodeLine{01643 }
\DoxyCodeLine{01644   DrawHeader drawHeader(\textcolor{keyword}{this}, p, col);}
\DoxyCodeLine{01645   drawHeader.prepare();}
\DoxyCodeLine{01646   QColor columnColor, dragColor;}
\DoxyCodeLine{01647   drawHeader.paletteColors(columnColor, dragColor);}
\DoxyCodeLine{01648   drawHeader.drawBaseFill(columnColor, dragColor);}
\DoxyCodeLine{01649   drawHeader.drawEye();}
\DoxyCodeLine{01650   drawHeader.drawPreviewToggle(0);}
\DoxyCodeLine{01651   drawHeader.drawLock();}
\DoxyCodeLine{01652   drawHeader.drawConfig();}
\DoxyCodeLine{01653   drawHeader.drawColumnName();}
\DoxyCodeLine{01654   drawHeader.drawColumnNumber();}
\DoxyCodeLine{01655   \textcolor{keyword}{static} QPixmap iconPixmap(svgToPixmap(\textcolor{stringliteral}{"{}:Resources/palette\_header.svg"{}}));}
\DoxyCodeLine{01656   drawHeader.drawThumbnail(iconPixmap);}
\DoxyCodeLine{01657   drawHeader.drawPegbarName();}
\DoxyCodeLine{01658   drawHeader.drawParentHandleName();}
\DoxyCodeLine{01659   \textcolor{comment}{// drawHeader.drawFilterColor();}}
\DoxyCodeLine{01660 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_aa20ecc29263b92479262145a91cf5f49}\label{class_xsheet_g_u_i_1_1_column_area_aa20ecc29263b92479262145a91cf5f49}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!drawSoundColumnHead@{drawSoundColumnHead}}
\index{drawSoundColumnHead@{drawSoundColumnHead}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{drawSoundColumnHead()}{drawSoundColumnHead()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::draw\+Sound\+Column\+Head (\begin{DoxyParamCaption}\item[{QPainter \&}]{p,  }\item[{int}]{col }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01558                                                          \{  \textcolor{comment}{// AREA}}
\DoxyCodeLine{01559   \mbox{\hyperlink{class_t_column_selection}{TColumnSelection}} *selection = m\_viewer-\/>getColumnSelection();}
\DoxyCodeLine{01560   \textcolor{keyword}{const} \mbox{\hyperlink{class_orientation}{Orientation}} *o        = m\_viewer-\/>orientation();}
\DoxyCodeLine{01561 }
\DoxyCodeLine{01562   \textcolor{keywordtype}{int} x = m\_viewer-\/>columnToLayerAxis(col);}
\DoxyCodeLine{01563 }
\DoxyCodeLine{01564   p.setRenderHint(QPainter::SmoothPixmapTransform, \textcolor{keyword}{true});}
\DoxyCodeLine{01565   QString fontName = Preferences::instance()-\/>getInterfaceFont();}
\DoxyCodeLine{01566   \textcolor{keywordflow}{if} (fontName == \textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{01567 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{01568     fontName = \textcolor{stringliteral}{"{}Arial"{}};}
\DoxyCodeLine{01569 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01570     fontName = \textcolor{stringliteral}{"{}Helvetica"{}};}
\DoxyCodeLine{01571 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01572   \}}
\DoxyCodeLine{01573   \textcolor{keyword}{static} QFont font(fontName, -\/1, QFont::Normal);}
\DoxyCodeLine{01574   font.setPixelSize(XSHEET\_FONT\_PX\_SIZE);}
\DoxyCodeLine{01575   p.setFont(font);}
\DoxyCodeLine{01576 }
\DoxyCodeLine{01577   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{01578   \mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}} *sc =}
\DoxyCodeLine{01579       xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col) ? xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col)-\/>getSoundColumn() : 0;}
\DoxyCodeLine{01580 }
\DoxyCodeLine{01581   QPoint orig = m\_viewer-\/>positionToXY(\mbox{\hyperlink{class_cell_position}{CellPosition}}(0, col));}
\DoxyCodeLine{01582   QRect rect  = m\_viewer-\/>orientation()}
\DoxyCodeLine{01583                    -\/>rect(PredefinedRect::LAYER\_HEADER)}
\DoxyCodeLine{01584                    .translated(orig);}
\DoxyCodeLine{01585 }
\DoxyCodeLine{01586   QPoint columnNamePos = orig + QPoint(12, o-\/>cellHeight());}
\DoxyCodeLine{01587 }
\DoxyCodeLine{01588   \textcolor{keywordtype}{bool} isCurrent = m\_viewer-\/>getCurrentColumn() == col;}
\DoxyCodeLine{01589 }
\DoxyCodeLine{01590   DrawHeader drawHeader(\textcolor{keyword}{this}, p, col);}
\DoxyCodeLine{01591   drawHeader.prepare();}
\DoxyCodeLine{01592   QColor columnColor, dragColor;}
\DoxyCodeLine{01593   \textcolor{comment}{//  drawHeader.soundColors(columnColor, dragColor);}}
\DoxyCodeLine{01594   drawHeader.levelColors(columnColor, dragColor);}
\DoxyCodeLine{01595   drawHeader.drawBaseFill(columnColor, dragColor);}
\DoxyCodeLine{01596   drawHeader.drawEye();}
\DoxyCodeLine{01597   drawHeader.drawPreviewToggle(sc ? (troundp(255.0 * sc-\/>getVolume())) : 0);}
\DoxyCodeLine{01598   drawHeader.drawLock();}
\DoxyCodeLine{01599   drawHeader.drawConfig();}
\DoxyCodeLine{01600   drawHeader.drawColumnName();}
\DoxyCodeLine{01601   drawHeader.drawColumnNumber();}
\DoxyCodeLine{01602   \textcolor{comment}{// Sound columns don't have an image. Passing in an image}}
\DoxyCodeLine{01603   \textcolor{comment}{// for argument, but it will be ignored.}}
\DoxyCodeLine{01604   \textcolor{keyword}{static} QPixmap iconignored;}
\DoxyCodeLine{01605   drawHeader.drawThumbnail(iconignored);}
\DoxyCodeLine{01606   drawHeader.drawPegbarName();}
\DoxyCodeLine{01607   drawHeader.drawParentHandleName();}
\DoxyCodeLine{01608   \textcolor{comment}{// drawHeader.drawFilterColor();}}
\DoxyCodeLine{01609 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a5353a98debd85a69ce9ac9cd58bebbca}\label{class_xsheet_g_u_i_1_1_column_area_a5353a98debd85a69ce9ac9cd58bebbca}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!drawSoundTextColumnHead@{drawSoundTextColumnHead}}
\index{drawSoundTextColumnHead@{drawSoundTextColumnHead}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{drawSoundTextColumnHead()}{drawSoundTextColumnHead()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::draw\+Sound\+Text\+Column\+Head (\begin{DoxyParamCaption}\item[{QPainter \&}]{p,  }\item[{int}]{col }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01664                                                              \{  \textcolor{comment}{// AREA}}
\DoxyCodeLine{01665   \mbox{\hyperlink{class_t_column_selection}{TColumnSelection}} *selection = m\_viewer-\/>getColumnSelection();}
\DoxyCodeLine{01666   \textcolor{keyword}{const} \mbox{\hyperlink{class_orientation}{Orientation}} *o        = m\_viewer-\/>orientation();}
\DoxyCodeLine{01667 }
\DoxyCodeLine{01668   \textcolor{keywordtype}{int} x = m\_viewer-\/>columnToLayerAxis(col);}
\DoxyCodeLine{01669 }
\DoxyCodeLine{01670   p.setRenderHint(QPainter::SmoothPixmapTransform, \textcolor{keyword}{true});}
\DoxyCodeLine{01671   QString fontName = Preferences::instance()-\/>getInterfaceFont();}
\DoxyCodeLine{01672   \textcolor{keywordflow}{if} (fontName == \textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{01673 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{01674     fontName = \textcolor{stringliteral}{"{}Arial"{}};}
\DoxyCodeLine{01675 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01676     fontName = \textcolor{stringliteral}{"{}Helvetica"{}};}
\DoxyCodeLine{01677 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01678   \}}
\DoxyCodeLine{01679   \textcolor{keyword}{static} QFont font(fontName, -\/1, QFont::Normal);}
\DoxyCodeLine{01680   font.setPixelSize(XSHEET\_FONT\_PX\_SIZE);}
\DoxyCodeLine{01681   p.setFont(font);}
\DoxyCodeLine{01682 }
\DoxyCodeLine{01683   QRect rect(x, 0, o-\/>cellWidth(), height());}
\DoxyCodeLine{01684 }
\DoxyCodeLine{01685   \mbox{\hyperlink{class_t_app}{TApp}} *app    = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{01686   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{01687 }
\DoxyCodeLine{01688   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} columnId = m\_viewer-\/>\mbox{\hyperlink{class_xsheet_viewer_acef259f8c33344981f8c218590bca5d9}{getObjectId}}(col);}
\DoxyCodeLine{01689   std::string name        = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(columnId)-\/>getName();}
\DoxyCodeLine{01690 }
\DoxyCodeLine{01691   \textcolor{keywordtype}{bool} isEditingSpline = app-\/>\mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{getCurrentObject}}()-\/>isSpline();}
\DoxyCodeLine{01692 }
\DoxyCodeLine{01693   \textcolor{comment}{// Check if column is locked and selected}}
\DoxyCodeLine{01694   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = col >= 0 ? xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col) : 0;}
\DoxyCodeLine{01695   \textcolor{keywordtype}{bool} isLocked      = column != 0 \&\& column-\/>isLocked();}
\DoxyCodeLine{01696   \textcolor{keywordtype}{bool} isCurrent     = m\_viewer-\/>getCurrentColumn() == col;}
\DoxyCodeLine{01697   \textcolor{keywordtype}{bool} isSelected =}
\DoxyCodeLine{01698       m\_viewer-\/>getColumnSelection()-\/>isColumnSelected(col) \&\& !isEditingSpline;}
\DoxyCodeLine{01699 }
\DoxyCodeLine{01700   DrawHeader drawHeader(\textcolor{keyword}{this}, p, col);}
\DoxyCodeLine{01701   drawHeader.prepare();}
\DoxyCodeLine{01702   QColor columnColor, dragColor;}
\DoxyCodeLine{01703   drawHeader.paletteColors(columnColor, dragColor);}
\DoxyCodeLine{01704   drawHeader.drawBaseFill(columnColor, dragColor);}
\DoxyCodeLine{01705   drawHeader.drawEye();}
\DoxyCodeLine{01706   drawHeader.drawPreviewToggle(255);}
\DoxyCodeLine{01707   drawHeader.drawLock();}
\DoxyCodeLine{01708   drawHeader.drawConfig();}
\DoxyCodeLine{01709   drawHeader.drawColumnName();}
\DoxyCodeLine{01710   drawHeader.drawColumnNumber();}
\DoxyCodeLine{01711   \textcolor{keyword}{static} QPixmap iconPixmap(}
\DoxyCodeLine{01712       recolorPixmap(svgToPixmap(getIconThemePath(\textcolor{stringliteral}{"{}actions/74/notelevel.svg"{}}))));}
\DoxyCodeLine{01713   drawHeader.drawThumbnail(iconPixmap);}
\DoxyCodeLine{01714   drawHeader.drawPegbarName();}
\DoxyCodeLine{01715   drawHeader.drawParentHandleName();}
\DoxyCodeLine{01716   \textcolor{comment}{// drawHeader.drawFilterColor();}}
\DoxyCodeLine{01717 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_aa9be0b908bffee72a1ad3922c37aecd3}\label{class_xsheet_g_u_i_1_1_column_area_aa9be0b908bffee72a1ad3922c37aecd3}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!event@{event}}
\index{event@{event}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{event()}{event()}}
{\footnotesize\ttfamily bool Xsheet\+GUI\+::\+Column\+Area\+::event (\begin{DoxyParamCaption}\item[{QEvent $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02551                                     \{}
\DoxyCodeLine{02552   \textcolor{keywordflow}{if} (event-\/>type() == QEvent::ToolTip) \{}
\DoxyCodeLine{02553     \textcolor{keywordflow}{if} (!m\_tooltip.isEmpty())}
\DoxyCodeLine{02554       QToolTip::showText(mapToGlobal(m\_pos), m\_tooltip);}
\DoxyCodeLine{02555     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02556       QToolTip::hideText();}
\DoxyCodeLine{02557   \}}
\DoxyCodeLine{02558   \textcolor{keywordflow}{return} QWidget::event(event);}
\DoxyCodeLine{02559 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_aa0b85d09946c9be9fc2f53aa96234db9}\label{class_xsheet_g_u_i_1_1_column_area_aa0b85d09946c9be9fc2f53aa96234db9}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!getColumnIcon@{getColumnIcon}}
\index{getColumnIcon@{getColumnIcon}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{getColumnIcon()}{getColumnIcon()}}
{\footnotesize\ttfamily QPixmap Xsheet\+GUI\+::\+Column\+Area\+::get\+Column\+Icon (\begin{DoxyParamCaption}\item[{int}]{column\+Index }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01721                                                  \{}
\DoxyCodeLine{01722   \textcolor{keyword}{const} \mbox{\hyperlink{class_orientation}{Orientation}} *o = m\_viewer-\/>orientation();}
\DoxyCodeLine{01723 }
\DoxyCodeLine{01724   \textcolor{keywordflow}{if} (columnIndex == -\/1) \{  \textcolor{comment}{// Indice colonna = -\/1 -\/> CAMERA}}
\DoxyCodeLine{01725     \textcolor{keywordflow}{if} (o-\/>isVerticalTimeline()) \{}
\DoxyCodeLine{01726       \textcolor{keyword}{static} QPixmap camera = svgToPixmap(\textcolor{stringliteral}{"{}:Resources/camera\_small.svg"{}});}
\DoxyCodeLine{01727       \textcolor{keywordflow}{return} camera;}
\DoxyCodeLine{01728     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01729       \textcolor{keyword}{static} QPixmap camera = svgToPixmap(\textcolor{stringliteral}{"{}:Resources/camera.svg"{}});}
\DoxyCodeLine{01730       \textcolor{keywordflow}{return} camera;}
\DoxyCodeLine{01731     \}}
\DoxyCodeLine{01732   \}}
\DoxyCodeLine{01733   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{01734   \textcolor{keywordflow}{if} (!xsh) \textcolor{keywordflow}{return} QPixmap();}
\DoxyCodeLine{01735   \textcolor{keywordflow}{if} (xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(columnIndex)) \textcolor{keywordflow}{return} QPixmap();}
\DoxyCodeLine{01736   \textcolor{keywordtype}{int} r0, r1;}
\DoxyCodeLine{01737   xsh-\/>\mbox{\hyperlink{class_t_xsheet_a26850469fb0f2886b717479050c32be2}{getCellRange}}(columnIndex, r0, r1);}
\DoxyCodeLine{01738   \textcolor{keywordflow}{if} (r0 > r1) \textcolor{keywordflow}{return} QPixmap();}
\DoxyCodeLine{01739   \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(r0, columnIndex);}
\DoxyCodeLine{01740   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *xl = cell.m\_level.getPointer();}
\DoxyCodeLine{01741   \textcolor{keywordflow}{if} (!xl)}
\DoxyCodeLine{01742     \textcolor{keywordflow}{return} QPixmap();}
\DoxyCodeLine{01743   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01744     \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column          = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(columnIndex);}
\DoxyCodeLine{01745     \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *zColumn = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *\textcolor{keyword}{>}(column);}
\DoxyCodeLine{01746     \textcolor{keywordtype}{bool} onDemand               = \textcolor{keyword}{false};}
\DoxyCodeLine{01747     \textcolor{keywordflow}{if} (Preferences::instance()-\/>getColumnIconLoadingPolicy() ==}
\DoxyCodeLine{01748         \mbox{\hyperlink{class_preferences_a2d5feb8ad93cc1336224f65f4bc0ff30ad4f8e44727dff0fd890c28a36b29f9a9}{Preferences::LoadOnDemand}}) \{}
\DoxyCodeLine{01749       onDemand = m\_viewer-\/>getCurrentColumn() != columnIndex;}
\DoxyCodeLine{01750       \textcolor{keywordflow}{if} (!onDemand) \{}
\DoxyCodeLine{01751         \mbox{\hyperlink{class_t_xsh_level_column}{TXshLevelColumn}} *levelColumn = column-\/>getLevelColumn();}
\DoxyCodeLine{01752         \mbox{\hyperlink{class_t_xsh_mesh_column}{TXshMeshColumn}} *meshColumn   = column-\/>getMeshColumn();}
\DoxyCodeLine{01753         \textcolor{keywordflow}{if} ((levelColumn \&\& !levelColumn-\/>isIconVisible()) ||}
\DoxyCodeLine{01754             (meshColumn \&\& !meshColumn-\/>isIconVisible()) ||}
\DoxyCodeLine{01755             (zColumn \&\& !zColumn-\/>isIconVisible()))}
\DoxyCodeLine{01756           \textcolor{keywordflow}{return} QPixmap();}
\DoxyCodeLine{01757       \}}
\DoxyCodeLine{01758     \}}
\DoxyCodeLine{01759     QPixmap icon =}
\DoxyCodeLine{01760         zColumn ? FxIconPixmapManager::instance()-\/>getFxIconPm(}
\DoxyCodeLine{01761                       zColumn-\/>\mbox{\hyperlink{class_t_xsh_zerary_fx_column_ae19c0ca3303499293ebd643749b1fcc6}{getZeraryColumnFx}}()-\/>getZeraryFx()-\/>getFxType())}
\DoxyCodeLine{01762                 : IconGenerator::instance()-\/>getIcon(xl, cell.m\_frameId, \textcolor{keyword}{false},}
\DoxyCodeLine{01763                                                      onDemand);}
\DoxyCodeLine{01764     QRect thumbnailImageRect = o-\/>rect(PredefinedRect::THUMBNAIL);}
\DoxyCodeLine{01765     \textcolor{keywordflow}{if} (thumbnailImageRect.isEmpty()) \textcolor{keywordflow}{return} QPixmap();}
\DoxyCodeLine{01766     \textcolor{keywordflow}{return} scalePixmapKeepingAspectRatio(icon, thumbnailImageRect.size());}
\DoxyCodeLine{01767   \}}
\DoxyCodeLine{01768 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a2a611401f8f499d1886c3ef85818f808}\label{class_xsheet_g_u_i_1_1_column_area_a2a611401f8f499d1886c3ef85818f808}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!isControlPressed@{isControlPressed}}
\index{isControlPressed@{isControlPressed}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{isControlPressed()}{isControlPressed()}}
{\footnotesize\ttfamily const bool Xsheet\+GUI\+::\+Column\+Area\+::is\+Control\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00680 \{ \textcolor{keywordflow}{return} isCtrlPressed; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a71050c40a68a9a92ee2c213e1f691223}\label{class_xsheet_g_u_i_1_1_column_area_a71050c40a68a9a92ee2c213e1f691223}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!mouseDoubleClickEvent@{mouseDoubleClickEvent}}
\index{mouseDoubleClickEvent@{mouseDoubleClickEvent}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{mouseDoubleClickEvent()}{mouseDoubleClickEvent()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::mouse\+Double\+Click\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02692                                                          \{}
\DoxyCodeLine{02693   \textcolor{keyword}{const} \mbox{\hyperlink{class_orientation}{Orientation}} *o = m\_viewer-\/>orientation();}
\DoxyCodeLine{02694 }
\DoxyCodeLine{02695   QPoint pos = \textcolor{keyword}{event}-\/>pos();}
\DoxyCodeLine{02696   \textcolor{keywordtype}{int} col    = m\_viewer-\/>xyToPosition(pos).layer();}
\DoxyCodeLine{02697   \mbox{\hyperlink{class_cell_position}{CellPosition}} cellPosition(0, col);}
\DoxyCodeLine{02698   QPoint topLeft     = m\_viewer-\/>positionToXY(cellPosition);}
\DoxyCodeLine{02699   QPoint mouseInCell = pos -\/ topLeft;}
\DoxyCodeLine{02700 }
\DoxyCodeLine{02701   QRect nameRect = o-\/>rect((col < 0) ? PredefinedRect::CAMERA\_LAYER\_NAME}
\DoxyCodeLine{02702                                      : PredefinedRect::LAYER\_NAME);}
\DoxyCodeLine{02703   \textcolor{keywordflow}{if} (!nameRect.contains(mouseInCell)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02704 }
\DoxyCodeLine{02705   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{02706   \textcolor{keywordflow}{if} (col >= 0 \&\& xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02707 }
\DoxyCodeLine{02708   QPoint fieldPos =}
\DoxyCodeLine{02709       (col < 0 \&\& o-\/>isVerticalTimeline()) ? nameRect.topLeft() : topLeft;}
\DoxyCodeLine{02710   QRect renameRect =}
\DoxyCodeLine{02711       o-\/>rect(PredefinedRect::RENAME\_COLUMN).translated(fieldPos);}
\DoxyCodeLine{02712   m\_renameColumnField-\/>show(renameRect, col);}
\DoxyCodeLine{02713 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a1f6162b09b0288cd21548327fcd9b6cb}\label{class_xsheet_g_u_i_1_1_column_area_a1f6162b09b0288cd21548327fcd9b6cb}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!mouseMoveEvent@{mouseMoveEvent}}
\index{mouseMoveEvent@{mouseMoveEvent}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{mouseMoveEvent()}{mouseMoveEvent()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::mouse\+Move\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02444                                                   \{}
\DoxyCodeLine{02445   \textcolor{keyword}{const} \mbox{\hyperlink{class_orientation}{Orientation}} *o = m\_viewer-\/>orientation();}
\DoxyCodeLine{02446 }
\DoxyCodeLine{02447   m\_viewer-\/>setQtModifiers(event-\/>modifiers());}
\DoxyCodeLine{02448   QPoint pos = \textcolor{keyword}{event}-\/>pos();}
\DoxyCodeLine{02449 }
\DoxyCodeLine{02450   \textcolor{keywordflow}{if} (m\_isPanning) \{  \textcolor{comment}{// Pan tasto centrale}}
\DoxyCodeLine{02451     QPoint delta = m\_pos -\/ pos;}
\DoxyCodeLine{02452     \textcolor{keywordflow}{if} (o-\/>isVerticalTimeline())}
\DoxyCodeLine{02453       delta.setY(0);}
\DoxyCodeLine{02454     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02455       delta.setX(0);}
\DoxyCodeLine{02456     m\_viewer-\/>scroll(delta);}
\DoxyCodeLine{02457     \textcolor{keywordflow}{return};}
\DoxyCodeLine{02458   \}}
\DoxyCodeLine{02459 }
\DoxyCodeLine{02460   \textcolor{keywordtype}{int} col = m\_viewer-\/>xyToPosition(pos).layer();}
\DoxyCodeLine{02461   \textcolor{keywordflow}{if} (col < -\/1) col = 0;}
\DoxyCodeLine{02462   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh       = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{02463   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col);}
\DoxyCodeLine{02464   QPoint mouseInCell = pos -\/ m\_viewer-\/>positionToXY(\mbox{\hyperlink{class_cell_position}{CellPosition}}(0, col));}
\DoxyCodeLine{02465   \textcolor{keywordtype}{int} x = mouseInCell.x(), y = mouseInCell.y();}
\DoxyCodeLine{02466 }
\DoxyCodeLine{02467 \textcolor{preprocessor}{\#ifdef LINETEST}}
\DoxyCodeLine{02468   \textcolor{comment}{// Ensure that the menu of the motion path is hidden}}
\DoxyCodeLine{02469   \textcolor{keywordflow}{if} ((x -\/ m\_mtypeBox.left() > 20 || y < m\_mtypeBox.y() ||}
\DoxyCodeLine{02470        y > m\_mtypeBox.bottom()) \&\&}
\DoxyCodeLine{02471       !m\_motionPathMenu-\/>isHidden())}
\DoxyCodeLine{02472     m\_motionPathMenu-\/>hide();}
\DoxyCodeLine{02473 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02474   \textcolor{keywordflow}{if} ((event-\/>buttons() \& Qt::LeftButton) != 0 \&\&}
\DoxyCodeLine{02475       !visibleRegion().contains(pos)) \{}
\DoxyCodeLine{02476     QRect bounds = visibleRegion().boundingRect();}
\DoxyCodeLine{02477     \textcolor{keywordflow}{if} (o-\/>isVerticalTimeline())}
\DoxyCodeLine{02478       m\_viewer-\/>setAutoPanSpeed(bounds, QPoint(pos.x(), bounds.top()));}
\DoxyCodeLine{02479     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02480       m\_viewer-\/>setAutoPanSpeed(bounds, QPoint(bounds.left(), pos.y()));}
\DoxyCodeLine{02481   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{02482     m\_viewer-\/>stopAutoPan();}
\DoxyCodeLine{02483 }
\DoxyCodeLine{02484   m\_pos = pos;}
\DoxyCodeLine{02485 }
\DoxyCodeLine{02486   \textcolor{keywordflow}{if} (event-\/>buttons() \&\& getDragTool()) \{}
\DoxyCodeLine{02487     m\_viewer-\/>dragToolDrag(event);}
\DoxyCodeLine{02488     update();}
\DoxyCodeLine{02489     \textcolor{keywordflow}{return};}
\DoxyCodeLine{02490   \}}
\DoxyCodeLine{02491 }
\DoxyCodeLine{02492   \textcolor{comment}{// Setto i toolTip}}
\DoxyCodeLine{02493   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} columnId = m\_viewer-\/>\mbox{\hyperlink{class_xsheet_viewer_acef259f8c33344981f8c218590bca5d9}{getObjectId}}(col);}
\DoxyCodeLine{02494   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} parentId = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a0a27744ce52cae25ec261a853a554cd1}{getStageObjectParent}}(columnId);}
\DoxyCodeLine{02495 }
\DoxyCodeLine{02496   \textcolor{keywordflow}{if} (col < 0)}
\DoxyCodeLine{02497     m\_tooltip = tr(\textcolor{stringliteral}{"{}Click to select camera"{}});}
\DoxyCodeLine{02498   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::DRAG\_LAYER).contains(mouseInCell)) \{}
\DoxyCodeLine{02499     m\_tooltip = tr(\textcolor{stringliteral}{"{}Click to select column, drag to move it"{}});}
\DoxyCodeLine{02500   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::LAYER\_NUMBER).contains(mouseInCell)) \{}
\DoxyCodeLine{02501     \textcolor{keywordflow}{if} (o-\/>isVerticalTimeline())}
\DoxyCodeLine{02502       m\_tooltip = tr(\textcolor{stringliteral}{"{}Click to select column, drag to move it"{}});}
\DoxyCodeLine{02503     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02504       m\_tooltip = tr(\textcolor{stringliteral}{"{}Click to select column"{}});}
\DoxyCodeLine{02505   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::LAYER\_NAME).contains(mouseInCell)) \{}
\DoxyCodeLine{02506     \textcolor{keywordflow}{if} (o-\/>isVerticalTimeline())}
\DoxyCodeLine{02507       m\_tooltip =}
\DoxyCodeLine{02508           tr(\textcolor{stringliteral}{"{}Click to select column, drag to move it, double-\/click to edit"{}});}
\DoxyCodeLine{02509     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (column \&\& column-\/>getSoundColumn()) \{}
\DoxyCodeLine{02510       \textcolor{comment}{// sound column}}
\DoxyCodeLine{02511       \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::SOUND\_ICON).contains(mouseInCell))}
\DoxyCodeLine{02512         m\_tooltip = tr(\textcolor{stringliteral}{"{}Click to play the soundtrack back"{}});}
\DoxyCodeLine{02513       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!o-\/>flag(PredefinedFlag::CONFIG\_AREA\_VISIBLE) \&\&}
\DoxyCodeLine{02514                o-\/>rect(PredefinedRect::VOLUME\_AREA).contains(mouseInCell))}
\DoxyCodeLine{02515         m\_tooltip = tr(\textcolor{stringliteral}{"{}Set the volume of the soundtrack"{}});}
\DoxyCodeLine{02516     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{02517       m\_tooltip = tr(\textcolor{stringliteral}{"{}Click to select column, double-\/click to edit"{}});}
\DoxyCodeLine{02518   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::LOCK\_AREA).contains(mouseInCell)) \{}
\DoxyCodeLine{02519     m\_tooltip = tr(\textcolor{stringliteral}{"{}Lock Toggle"{}});}
\DoxyCodeLine{02520   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::CONFIG\_AREA).contains(mouseInCell)) \{}
\DoxyCodeLine{02521     m\_tooltip = tr(\textcolor{stringliteral}{"{}Additional column settings"{}});}
\DoxyCodeLine{02522   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::EYE\_AREA).contains(mouseInCell)) \{}
\DoxyCodeLine{02523     m\_tooltip = tr(\textcolor{stringliteral}{"{}Preview Visibility Toggle"{}});}
\DoxyCodeLine{02524   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::PREVIEW\_LAYER\_AREA)}
\DoxyCodeLine{02525                  .contains(mouseInCell)) \{}
\DoxyCodeLine{02526     m\_tooltip = tr(\textcolor{stringliteral}{"{}Camera Stand Visibility Toggle"{}});}
\DoxyCodeLine{02527   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::PARENT\_HANDLE\_NAME)}
\DoxyCodeLine{02528                  .contains(mouseInCell)) \{}
\DoxyCodeLine{02529     m\_tooltip = tr(\textcolor{stringliteral}{"{}Click to select parent handle"{}});}
\DoxyCodeLine{02530   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::PEGBAR\_NAME).contains(mouseInCell)) \{}
\DoxyCodeLine{02531     m\_tooltip = tr(\textcolor{stringliteral}{"{}Click to select parent object"{}});}
\DoxyCodeLine{02532   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02533     \textcolor{keywordflow}{if} (column \&\& column-\/>getSoundColumn()) \{}
\DoxyCodeLine{02534       \textcolor{comment}{// sound column}}
\DoxyCodeLine{02535       \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::SOUND\_ICON).contains(mouseInCell))}
\DoxyCodeLine{02536         m\_tooltip = tr(\textcolor{stringliteral}{"{}Click to play the soundtrack back"{}});}
\DoxyCodeLine{02537       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!o-\/>flag(PredefinedFlag::CONFIG\_AREA\_VISIBLE) \&\&}
\DoxyCodeLine{02538                o-\/>rect(PredefinedRect::VOLUME\_AREA).contains(mouseInCell))}
\DoxyCodeLine{02539         m\_tooltip = tr(\textcolor{stringliteral}{"{}Set the volume of the soundtrack"{}});}
\DoxyCodeLine{02540     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Preferences::instance()-\/>getColumnIconLoadingPolicy() ==}
\DoxyCodeLine{02541                \mbox{\hyperlink{class_preferences_a2d5feb8ad93cc1336224f65f4bc0ff30ad4f8e44727dff0fd890c28a36b29f9a9}{Preferences::LoadOnDemand}})}
\DoxyCodeLine{02542       m\_tooltip = tr(\textcolor{stringliteral}{"{}Alt + Click to Toggle Thumbnail"{}});}
\DoxyCodeLine{02543     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02544       m\_tooltip = tr(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{02545   \}}
\DoxyCodeLine{02546   update();}
\DoxyCodeLine{02547 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a26a7b52dbce0d85949faf680fbd02282}\label{class_xsheet_g_u_i_1_1_column_area_a26a7b52dbce0d85949faf680fbd02282}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!mousePressEvent@{mousePressEvent}}
\index{mousePressEvent@{mousePressEvent}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{mousePressEvent()}{mousePressEvent()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::mouse\+Press\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02229                                                    \{}
\DoxyCodeLine{02230   \textcolor{keyword}{const} \mbox{\hyperlink{class_orientation}{Orientation}} *o = m\_viewer-\/>orientation();}
\DoxyCodeLine{02231 }
\DoxyCodeLine{02232   m\_doOnRelease = 0;}
\DoxyCodeLine{02233   m\_viewer-\/>setQtModifiers(event-\/>modifiers());}
\DoxyCodeLine{02234   assert(getDragTool() == 0);}
\DoxyCodeLine{02235 }
\DoxyCodeLine{02236   m\_col = -\/1;  \textcolor{comment}{// new in 6.4}}
\DoxyCodeLine{02237 }
\DoxyCodeLine{02238   \textcolor{comment}{// both left and right click can change the selection}}
\DoxyCodeLine{02239   \textcolor{keywordflow}{if} (event-\/>button() == Qt::LeftButton || event-\/>button() == Qt::RightButton) \{}
\DoxyCodeLine{02240     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh   = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{02241     \mbox{\hyperlink{class_column_fan}{ColumnFan}} *fan = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3c7f0358ee5d555df82ae864af8584d0}{getColumnFan}}(o);}
\DoxyCodeLine{02242     m\_col          = m\_viewer-\/>xyToPosition(event-\/>pos()).layer();}
\DoxyCodeLine{02243     \textcolor{comment}{// when clicking the column fan}}
\DoxyCodeLine{02244     \textcolor{keywordflow}{if} (!fan-\/>\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(m\_col))  \textcolor{comment}{// column Fan}}
\DoxyCodeLine{02245     \{}
\DoxyCodeLine{02246       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} o : Orientations::all()) \{}
\DoxyCodeLine{02247         fan = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3c7f0358ee5d555df82ae864af8584d0}{getColumnFan}}(o);}
\DoxyCodeLine{02248         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = m\_col; !fan-\/>\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(i); i-\/-\/) fan-\/>\mbox{\hyperlink{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}{activate}}(i);}
\DoxyCodeLine{02249       \}}
\DoxyCodeLine{02250 }
\DoxyCodeLine{02251       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{02252       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{02253       \textcolor{keywordflow}{return};}
\DoxyCodeLine{02254     \}}
\DoxyCodeLine{02255     \textcolor{comment}{// set the clicked column to current}}
\DoxyCodeLine{02256     \textcolor{keywordflow}{else}}
\DoxyCodeLine{02257       m\_viewer-\/>setCurrentColumn(m\_col);}
\DoxyCodeLine{02258 }
\DoxyCodeLine{02259     \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(m\_col);}
\DoxyCodeLine{02260     \textcolor{keywordtype}{bool} isEmpty       = !column || column-\/>isEmpty();}
\DoxyCodeLine{02261     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{getCurrentObject}}()-\/>setIsSpline(\textcolor{keyword}{false});}
\DoxyCodeLine{02262 }
\DoxyCodeLine{02263     \textcolor{comment}{// get mouse position}}
\DoxyCodeLine{02264     QPoint mouseInCell =}
\DoxyCodeLine{02265         \textcolor{keyword}{event}-\/>pos() -\/ m\_viewer-\/>positionToXY(\mbox{\hyperlink{class_cell_position}{CellPosition}}(0, m\_col));}
\DoxyCodeLine{02266     \textcolor{comment}{// int x = event-\/>pos().x() -\/ m\_viewer-\/>columnToX(m\_col);}}
\DoxyCodeLine{02267     \textcolor{comment}{// int y = event-\/>pos().y();}}
\DoxyCodeLine{02268     \textcolor{comment}{// QPoint mouseInCell(x, y);}}
\DoxyCodeLine{02269     \textcolor{keywordtype}{int} x = mouseInCell.x(), y = mouseInCell.y();}
\DoxyCodeLine{02270 }
\DoxyCodeLine{02271     \textcolor{comment}{// clicking on the camera column}}
\DoxyCodeLine{02272     \textcolor{keywordflow}{if} (m\_col < 0) \{}
\DoxyCodeLine{02273       \textcolor{comment}{// lock button}}
\DoxyCodeLine{02274       \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::CAMERA\_LOCK\_AREA).contains(mouseInCell) \&\&}
\DoxyCodeLine{02275           event-\/>button() == Qt::LeftButton)}
\DoxyCodeLine{02276         m\_doOnRelease = isCtrlPressed ? ToggleAllLock : ToggleLock;}
\DoxyCodeLine{02277       \textcolor{comment}{// config button}}
\DoxyCodeLine{02278       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::CAMERA\_CONFIG\_AREA)}
\DoxyCodeLine{02279                    .contains(mouseInCell) \&\&}
\DoxyCodeLine{02280                event-\/>button() == Qt::LeftButton)}
\DoxyCodeLine{02281         m\_doOnRelease = OpenSettings;}
\DoxyCodeLine{02282       \textcolor{comment}{// clicking another area means column selection}}
\DoxyCodeLine{02283       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02284         \textcolor{keywordflow}{if} (m\_viewer-\/>getColumnSelection()-\/>isColumnSelected(m\_col) \&\&}
\DoxyCodeLine{02285             event-\/>button() == Qt::RightButton)}
\DoxyCodeLine{02286           \textcolor{keywordflow}{return};}
\DoxyCodeLine{02287         setDragTool(XsheetGUI::DragTool::makeColumnSelectionTool(m\_viewer));}
\DoxyCodeLine{02288       \}}
\DoxyCodeLine{02289     \}}
\DoxyCodeLine{02290     \textcolor{comment}{// clicking on the normal columns}}
\DoxyCodeLine{02291     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!isEmpty) \{}
\DoxyCodeLine{02292       \textcolor{comment}{// grabbing the left side of the column enables column move}}
\DoxyCodeLine{02293       \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::DRAG\_LAYER).contains(mouseInCell) ||}
\DoxyCodeLine{02294           (!o-\/>flag(PredefinedFlag::DRAG\_LAYER\_VISIBLE)  \textcolor{comment}{// If dragbar hidden,}}
\DoxyCodeLine{02295                                                          \textcolor{comment}{// layer name/number}}
\DoxyCodeLine{02296                                                          \textcolor{comment}{// becomes dragbar}}
\DoxyCodeLine{02297            \&\& (o-\/>rect(PredefinedRect::LAYER\_NUMBER).contains(mouseInCell) ||}
\DoxyCodeLine{02298                o-\/>rect(PredefinedRect::LAYER\_NAME).contains(mouseInCell)))) \{}
\DoxyCodeLine{02299         setDragTool(XsheetGUI::DragTool::makeColumnMoveTool(m\_viewer));}
\DoxyCodeLine{02300       \}}
\DoxyCodeLine{02301       \textcolor{comment}{// lock button}}
\DoxyCodeLine{02302       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::LOCK\_AREA).contains(mouseInCell) \&\&}
\DoxyCodeLine{02303                event-\/>button() == Qt::LeftButton) \{}
\DoxyCodeLine{02304         m\_doOnRelease = isCtrlPressed ? ToggleAllLock : ToggleLock;}
\DoxyCodeLine{02305       \}}
\DoxyCodeLine{02306       \textcolor{comment}{// preview button}}
\DoxyCodeLine{02307       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::EYE\_AREA).contains(mouseInCell) \&\&}
\DoxyCodeLine{02308                event-\/>button() == Qt::LeftButton) \{}
\DoxyCodeLine{02309         \textcolor{keywordflow}{if} (column-\/>getSoundTextColumn()) \{}
\DoxyCodeLine{02310           \textcolor{comment}{// do nothing}}
\DoxyCodeLine{02311         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02312           m\_doOnRelease =}
\DoxyCodeLine{02313               isCtrlPressed ? ToggleAllPreviewVisible : TogglePreviewVisible;}
\DoxyCodeLine{02314           \textcolor{keywordflow}{if} (column-\/>getSoundColumn())}
\DoxyCodeLine{02315             \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetSoundChanged();}
\DoxyCodeLine{02316         \}}
\DoxyCodeLine{02317       \}}
\DoxyCodeLine{02318       \textcolor{comment}{// camstand button}}
\DoxyCodeLine{02319       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::PREVIEW\_LAYER\_AREA)}
\DoxyCodeLine{02320                    .contains(mouseInCell) \&\&}
\DoxyCodeLine{02321                event-\/>button() == Qt::LeftButton) \{}
\DoxyCodeLine{02322         \textcolor{keywordflow}{if} (column-\/>getPaletteColumn() || column-\/>getSoundTextColumn()) \{}
\DoxyCodeLine{02323           \textcolor{comment}{// do nothing}}
\DoxyCodeLine{02324         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02325           m\_doOnRelease =}
\DoxyCodeLine{02326               isCtrlPressed ? ToggleAllTransparency : ToggleTransparency;}
\DoxyCodeLine{02327           \textcolor{keywordflow}{if} (!o-\/>flag(PredefinedFlag::CONFIG\_AREA\_VISIBLE) \&\&}
\DoxyCodeLine{02328               !column-\/>getSoundColumn())}
\DoxyCodeLine{02329             startTransparencyPopupTimer(event);}
\DoxyCodeLine{02330         \}}
\DoxyCodeLine{02331       \}}
\DoxyCodeLine{02332       \textcolor{comment}{// config button}}
\DoxyCodeLine{02333       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::CONFIG\_AREA).contains(mouseInCell) \&\&}
\DoxyCodeLine{02334                event-\/>button() == Qt::LeftButton) \{}
\DoxyCodeLine{02335         \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *zColumn =}
\DoxyCodeLine{02336             \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *\textcolor{keyword}{>}(column);}
\DoxyCodeLine{02337 }
\DoxyCodeLine{02338         \textcolor{keywordflow}{if} (column \&\& (zColumn || column-\/>getPaletteColumn() ||}
\DoxyCodeLine{02339                        column-\/>getSoundTextColumn())) \{}
\DoxyCodeLine{02340           \textcolor{comment}{// do nothing}}
\DoxyCodeLine{02341         \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{02342           m\_doOnRelease = OpenSettings;}
\DoxyCodeLine{02343       \}}
\DoxyCodeLine{02344       \textcolor{comment}{// sound column}}
\DoxyCodeLine{02345       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (column \&\& column-\/>getSoundColumn()) \{}
\DoxyCodeLine{02346         \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::SOUND\_ICON).contains(mouseInCell)) \{}
\DoxyCodeLine{02347           \mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}} *s = column-\/>getSoundColumn();}
\DoxyCodeLine{02348           \textcolor{keywordflow}{if} (s) \{}
\DoxyCodeLine{02349             \textcolor{keywordflow}{if} (s-\/>isPlaying())}
\DoxyCodeLine{02350               s-\/>stop();}
\DoxyCodeLine{02351             \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02352               s-\/>\mbox{\hyperlink{class_t_xsh_sound_column_acc1552030b74e782b389ec41c66b4d3c}{play}}();}
\DoxyCodeLine{02353               \textcolor{keywordflow}{if} (!s-\/>isPlaying())}
\DoxyCodeLine{02354                 s-\/>stop();  \textcolor{comment}{// Serve per vista, quando le casse non sono}}
\DoxyCodeLine{02355                             \textcolor{comment}{// attaccate}}
\DoxyCodeLine{02356             \}}
\DoxyCodeLine{02357             \textcolor{keywordtype}{int} interval = 0;}
\DoxyCodeLine{02358             \textcolor{keywordflow}{if} (s-\/>isPlaying()) \{}
\DoxyCodeLine{02359               \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} sTrack = s-\/>getCurrentPlaySoundTruck();}
\DoxyCodeLine{02360               interval            = sTrack-\/>\mbox{\hyperlink{class_t_sound_track_a7a09c7776f30d818264d38b0eb48bdcd}{getDuration}}() * 1000 + 300;}
\DoxyCodeLine{02361             \}}
\DoxyCodeLine{02362             \textcolor{keywordflow}{if} (s-\/>isPlaying() \&\& interval > 0) \{}
\DoxyCodeLine{02363               QTimer::singleShot(interval, \textcolor{keyword}{this}, [\textcolor{keyword}{this}, s] \{}
\DoxyCodeLine{02364                 \textcolor{keywordflow}{if} (s \&\& s-\/>isPlaying()) s-\/>stop();}
\DoxyCodeLine{02365                 update();}
\DoxyCodeLine{02366               \});}
\DoxyCodeLine{02367             \}}
\DoxyCodeLine{02368           \}}
\DoxyCodeLine{02369           update();}
\DoxyCodeLine{02370         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!o-\/>flag(PredefinedFlag::CONFIG\_AREA\_VISIBLE) \&\&}
\DoxyCodeLine{02371                    o-\/>rect(PredefinedRect::VOLUME\_AREA).contains(mouseInCell))}
\DoxyCodeLine{02372           setDragTool(XsheetGUI::DragTool::makeVolumeDragTool(m\_viewer));}
\DoxyCodeLine{02373         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02374           setDragTool(XsheetGUI::DragTool::makeColumnSelectionTool(m\_viewer));}
\DoxyCodeLine{02375       \}}
\DoxyCodeLine{02376       \textcolor{comment}{// clicking another area means column selection}}
\DoxyCodeLine{02377       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02378         \textcolor{keywordflow}{if} (m\_viewer-\/>getColumnSelection()-\/>isColumnSelected(m\_col) \&\&}
\DoxyCodeLine{02379             event-\/>button() == Qt::RightButton)}
\DoxyCodeLine{02380           \textcolor{keywordflow}{return};}
\DoxyCodeLine{02381 }
\DoxyCodeLine{02382         \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::PEGBAR\_NAME)}
\DoxyCodeLine{02383                 .adjusted(0, 0, -\/20, 0)}
\DoxyCodeLine{02384                 .contains(mouseInCell)) \{}
\DoxyCodeLine{02385           m\_changeObjectParent-\/>refresh();}
\DoxyCodeLine{02386           m\_changeObjectParent-\/>show(}
\DoxyCodeLine{02387               QPoint(o-\/>rect(PredefinedRect::PARENT\_HANDLE\_NAME).bottomLeft() +}
\DoxyCodeLine{02388                      m\_viewer-\/>positionToXY(\mbox{\hyperlink{class_cell_position}{CellPosition}}(0, m\_col)) +}
\DoxyCodeLine{02389                      QPoint(o-\/>rect(PredefinedRect::CAMERA\_CELL).width(), 4)));}
\DoxyCodeLine{02390           \textcolor{keywordflow}{return};}
\DoxyCodeLine{02391         \}}
\DoxyCodeLine{02392         \textcolor{keywordflow}{if} (o-\/>rect(PredefinedRect::PARENT\_HANDLE\_NAME).contains(mouseInCell)) \{}
\DoxyCodeLine{02393           m\_changeObjectHandle-\/>refresh();}
\DoxyCodeLine{02394           m\_changeObjectHandle-\/>show(}
\DoxyCodeLine{02395               QPoint(o-\/>rect(PredefinedRect::PARENT\_HANDLE\_NAME).bottomLeft() +}
\DoxyCodeLine{02396                      m\_viewer-\/>positionToXY(\mbox{\hyperlink{class_cell_position}{CellPosition}}(0, m\_col + 1)) +}
\DoxyCodeLine{02397                      QPoint(2, 0)));}
\DoxyCodeLine{02398           \textcolor{keywordflow}{return};}
\DoxyCodeLine{02399         \}}
\DoxyCodeLine{02400 }
\DoxyCodeLine{02401         setDragTool(XsheetGUI::DragTool::makeColumnSelectionTool(m\_viewer));}
\DoxyCodeLine{02402 }
\DoxyCodeLine{02403         \textcolor{keywordflow}{if} (column) \{}
\DoxyCodeLine{02404           \textcolor{comment}{// toggle columnIcon visibility with alt+click}}
\DoxyCodeLine{02405           \mbox{\hyperlink{class_t_xsh_level_column}{TXshLevelColumn}} *levelColumn = column-\/>getLevelColumn();}
\DoxyCodeLine{02406           \mbox{\hyperlink{class_t_xsh_mesh_column}{TXshMeshColumn}} *meshColumn   = column-\/>getMeshColumn();}
\DoxyCodeLine{02407           \mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *zColumn =}
\DoxyCodeLine{02408               \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsh_zerary_fx_column}{TXshZeraryFxColumn}} *\textcolor{keyword}{>}(column);}
\DoxyCodeLine{02409           \textcolor{keywordflow}{if} (Preferences::instance()-\/>getColumnIconLoadingPolicy() ==}
\DoxyCodeLine{02410                   \mbox{\hyperlink{class_preferences_a2d5feb8ad93cc1336224f65f4bc0ff30ad4f8e44727dff0fd890c28a36b29f9a9}{Preferences::LoadOnDemand}} \&\&}
\DoxyCodeLine{02411               (\textcolor{keyword}{event}-\/>modifiers() \& Qt::AltModifier)) \{}
\DoxyCodeLine{02412             \textcolor{keywordflow}{if} (levelColumn)}
\DoxyCodeLine{02413               levelColumn-\/>setIconVisible(!levelColumn-\/>isIconVisible());}
\DoxyCodeLine{02414             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (meshColumn)}
\DoxyCodeLine{02415               meshColumn-\/>setIconVisible(!meshColumn-\/>isIconVisible());}
\DoxyCodeLine{02416             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (zColumn)}
\DoxyCodeLine{02417               zColumn-\/>setIconVisible(!zColumn-\/>isIconVisible());}
\DoxyCodeLine{02418           \}}
\DoxyCodeLine{02419         \}}
\DoxyCodeLine{02420       \}}
\DoxyCodeLine{02421       \textcolor{comment}{// update the current fx when zerary fx column is clicked}}
\DoxyCodeLine{02422       \textcolor{keywordflow}{if} (column \&\& column-\/>getZeraryFxColumn()) \{}
\DoxyCodeLine{02423         \mbox{\hyperlink{class_t_fx}{TFx}} *fx = column-\/>getZeraryFxColumn()-\/>getZeraryColumnFx();}
\DoxyCodeLine{02424         \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a1d1d4b484617e7a938040554beca6282}{getCurrentFx}}()-\/>setFx(fx);}
\DoxyCodeLine{02425       \}}
\DoxyCodeLine{02426     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02427       \textcolor{keywordflow}{if} (m\_viewer-\/>getColumnSelection()-\/>isColumnSelected(m\_col) \&\&}
\DoxyCodeLine{02428           event-\/>button() == Qt::RightButton)}
\DoxyCodeLine{02429         \textcolor{keywordflow}{return};}
\DoxyCodeLine{02430       setDragTool(XsheetGUI::DragTool::makeColumnSelectionTool(m\_viewer));}
\DoxyCodeLine{02431     \}}
\DoxyCodeLine{02432 }
\DoxyCodeLine{02433     m\_viewer-\/>dragToolClick(event);}
\DoxyCodeLine{02434     update();}
\DoxyCodeLine{02435 }
\DoxyCodeLine{02436   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (event-\/>button() == Qt::MidButton) \{}
\DoxyCodeLine{02437     m\_pos       = \textcolor{keyword}{event}-\/>pos();}
\DoxyCodeLine{02438     m\_isPanning = \textcolor{keyword}{true};}
\DoxyCodeLine{02439   \}}
\DoxyCodeLine{02440 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_abe0e997a70328a9ce5526e130e4e1810}\label{class_xsheet_g_u_i_1_1_column_area_abe0e997a70328a9ce5526e130e4e1810}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!mouseReleaseEvent@{mouseReleaseEvent}}
\index{mouseReleaseEvent@{mouseReleaseEvent}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{mouseReleaseEvent()}{mouseReleaseEvent()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::mouse\+Release\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02563                                                      \{}
\DoxyCodeLine{02564   \mbox{\hyperlink{class_t_app}{TApp}} *app    = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{02565   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{02566   \textcolor{keywordtype}{int} col, totcols = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}{getColumnCount}}();}
\DoxyCodeLine{02567   \textcolor{keywordflow}{if} (m\_doOnRelease != 0) \{}
\DoxyCodeLine{02568     \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(m\_col);}
\DoxyCodeLine{02569     \textcolor{keywordflow}{if} (m\_doOnRelease == ToggleTransparency) \{}
\DoxyCodeLine{02570       column-\/>setCamstandVisible(!column-\/>isCamstandVisible());}
\DoxyCodeLine{02571       \textcolor{keywordflow}{if} (column-\/>getSoundColumn())}
\DoxyCodeLine{02572         app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetSoundChanged();}
\DoxyCodeLine{02573     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_doOnRelease == TogglePreviewVisible)}
\DoxyCodeLine{02574       column-\/>setPreviewVisible(!column-\/>isPreviewVisible());}
\DoxyCodeLine{02575     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_doOnRelease == ToggleLock)}
\DoxyCodeLine{02576       column-\/>lock(!column-\/>isLocked());}
\DoxyCodeLine{02577     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_doOnRelease == OpenSettings) \{}
\DoxyCodeLine{02578       QPoint pos = \textcolor{keyword}{event}-\/>pos();}
\DoxyCodeLine{02579       \textcolor{keywordtype}{int} col    = m\_viewer-\/>xyToPosition(pos).layer();}
\DoxyCodeLine{02580       \textcolor{comment}{// Align popup to be below to CONFIG button}}
\DoxyCodeLine{02581       QRect configRect = m\_viewer-\/>orientation()-\/>rect(}
\DoxyCodeLine{02582           (col < 0) ? PredefinedRect::CAMERA\_CONFIG\_AREA}
\DoxyCodeLine{02583                     : PredefinedRect::CONFIG\_AREA);}
\DoxyCodeLine{02584       \mbox{\hyperlink{class_cell_position}{CellPosition}} cellPosition(0, col);}
\DoxyCodeLine{02585       QPoint topLeft     = m\_viewer-\/>positionToXY(cellPosition);}
\DoxyCodeLine{02586       QPoint mouseInCell = pos -\/ topLeft;}
\DoxyCodeLine{02587       \textcolor{keywordtype}{int} x              = configRect.left() -\/ mouseInCell.x() +}
\DoxyCodeLine{02588               1;  \textcolor{comment}{// distance from right edge of CONFIG button}}
\DoxyCodeLine{02589       \textcolor{keywordtype}{int} y =}
\DoxyCodeLine{02590           mouseInCell.y() -\/}
\DoxyCodeLine{02591           configRect.bottom();  \textcolor{comment}{// distance from bottum edge of CONFIG button}}
\DoxyCodeLine{02592 }
\DoxyCodeLine{02593       \textcolor{keywordflow}{if} (col < 0) \{}
\DoxyCodeLine{02594         openCameraColumnPopup(}
\DoxyCodeLine{02595             QPoint(event-\/>globalPos().x() + x, event-\/>globalPos().y() -\/ y));}
\DoxyCodeLine{02596       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (column-\/>getSoundColumn()) \{}
\DoxyCodeLine{02597         \textcolor{keywordflow}{if} (!m\_soundColumnPopup)}
\DoxyCodeLine{02598           m\_soundColumnPopup = \textcolor{keyword}{new} SoundColumnPopup(\textcolor{keyword}{this});}
\DoxyCodeLine{02599 }
\DoxyCodeLine{02600         m\_soundColumnPopup-\/>move(event-\/>globalPos().x() + x,}
\DoxyCodeLine{02601                                  event-\/>globalPos().y() -\/ y);}
\DoxyCodeLine{02602 }
\DoxyCodeLine{02603         openSoundColumnPopup();}
\DoxyCodeLine{02604       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{02605         \textcolor{keywordflow}{if} (!m\_columnTransparencyPopup)}
\DoxyCodeLine{02606           m\_columnTransparencyPopup =}
\DoxyCodeLine{02607               \textcolor{keyword}{new} ColumnTransparencyPopup(m\_viewer, \textcolor{keyword}{this});}
\DoxyCodeLine{02608 }
\DoxyCodeLine{02609         m\_columnTransparencyPopup-\/>move(event-\/>globalPos().x() + x,}
\DoxyCodeLine{02610                                         event-\/>globalPos().y() -\/ y);}
\DoxyCodeLine{02611 }
\DoxyCodeLine{02612         \textcolor{comment}{// make sure the popup doesn't go off the screen to the right}}
\DoxyCodeLine{02613         QDesktopWidget *desktop = qApp-\/>desktop();}
\DoxyCodeLine{02614         QRect screenRect        = desktop-\/>screenGeometry(app-\/>\mbox{\hyperlink{class_t_app_aa229713538a33215a03db85064ef4012}{getMainWindow}}());}
\DoxyCodeLine{02615 }
\DoxyCodeLine{02616         \textcolor{keywordtype}{int} popupLeft  = \textcolor{keyword}{event}-\/>globalPos().x() + x;}
\DoxyCodeLine{02617         \textcolor{keywordtype}{int} popupRight = popupLeft + m\_columnTransparencyPopup-\/>width();}
\DoxyCodeLine{02618 }
\DoxyCodeLine{02619         \textcolor{comment}{// first condition checks if popup is on same monitor as main app;}}
\DoxyCodeLine{02620         \textcolor{comment}{// if popup is on different monitor, leave as is}}
\DoxyCodeLine{02621         \textcolor{keywordflow}{if} (popupLeft < screenRect.right() \&\& popupRight > screenRect.right()) \{}
\DoxyCodeLine{02622           \textcolor{keywordtype}{int} distance = popupRight -\/ screenRect.right();}
\DoxyCodeLine{02623           m\_columnTransparencyPopup-\/>move(}
\DoxyCodeLine{02624               m\_columnTransparencyPopup-\/>x() -\/ distance,}
\DoxyCodeLine{02625               m\_columnTransparencyPopup-\/>y());}
\DoxyCodeLine{02626         \}}
\DoxyCodeLine{02627 }
\DoxyCodeLine{02628         openTransparencyPopup();}
\DoxyCodeLine{02629       \}}
\DoxyCodeLine{02630     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_doOnRelease == ToggleAllPreviewVisible) \{}
\DoxyCodeLine{02631       \textcolor{keywordflow}{for} (col = 0; col < totcols; col++) \{}
\DoxyCodeLine{02632         \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col);}
\DoxyCodeLine{02633         \textcolor{keywordflow}{if} (!xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col) \&\& !column-\/>getPaletteColumn() \&\&}
\DoxyCodeLine{02634             !column-\/>getSoundTextColumn()) \{}
\DoxyCodeLine{02635           column-\/>setPreviewVisible(!column-\/>isPreviewVisible());}
\DoxyCodeLine{02636         \}}
\DoxyCodeLine{02637       \}}
\DoxyCodeLine{02638     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_doOnRelease == ToggleAllTransparency) \{}
\DoxyCodeLine{02639       \textcolor{keywordtype}{bool} sound\_changed = \textcolor{keyword}{false};}
\DoxyCodeLine{02640       \textcolor{keywordflow}{for} (col = 0; col < totcols; col++) \{}
\DoxyCodeLine{02641         \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col);}
\DoxyCodeLine{02642         \textcolor{keywordflow}{if} (!xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col) \&\& !column-\/>getPaletteColumn() \&\&}
\DoxyCodeLine{02643             !column-\/>getSoundTextColumn()) \{}
\DoxyCodeLine{02644           column-\/>setCamstandVisible(!column-\/>isCamstandVisible());}
\DoxyCodeLine{02645           \textcolor{keywordflow}{if} (column-\/>getSoundColumn()) sound\_changed = \textcolor{keyword}{true};}
\DoxyCodeLine{02646         \}}
\DoxyCodeLine{02647       \}}
\DoxyCodeLine{02648 }
\DoxyCodeLine{02649       \textcolor{keywordflow}{if} (sound\_changed) \{}
\DoxyCodeLine{02650         app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetSoundChanged();}
\DoxyCodeLine{02651       \}}
\DoxyCodeLine{02652     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_doOnRelease == ToggleAllLock) \{}
\DoxyCodeLine{02653       \textcolor{keywordtype}{int} startCol =}
\DoxyCodeLine{02654           Preferences::instance()-\/>isXsheetCameraColumnVisible() ? -\/1 : 0;}
\DoxyCodeLine{02655       \textcolor{keywordflow}{for} (col = startCol; col < totcols; col++) \{}
\DoxyCodeLine{02656         \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col);}
\DoxyCodeLine{02657         \textcolor{keywordflow}{if} (!xsh-\/>\mbox{\hyperlink{class_t_xsheet_a83aecebd1b7714017a64e2b786e91a4e}{isColumnEmpty}}(col)) \{}
\DoxyCodeLine{02658           column-\/>lock(!column-\/>isLocked());}
\DoxyCodeLine{02659         \}}
\DoxyCodeLine{02660       \}}
\DoxyCodeLine{02661     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{02662       assert(\textcolor{keyword}{false});}
\DoxyCodeLine{02663 }
\DoxyCodeLine{02664     app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifySceneChanged();}
\DoxyCodeLine{02665     \textcolor{comment}{// signal XsheetChanged will invoke PreviewFxManager to all rendered frames,}}
\DoxyCodeLine{02666     \textcolor{comment}{// if necessary. it causes slowness when opening preview flipbook of large}}
\DoxyCodeLine{02667     \textcolor{comment}{// scene.}}
\DoxyCodeLine{02668     \textcolor{keywordtype}{bool} isTransparencyRendered = app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()}
\DoxyCodeLine{02669                                       -\/>getScene()}
\DoxyCodeLine{02670                                       -\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()}
\DoxyCodeLine{02671                                       -\/>isColumnColorFilterOnRenderEnabled();}
\DoxyCodeLine{02672     \textcolor{keywordflow}{if} ((isTransparencyRendered \&\& (m\_doOnRelease == ToggleTransparency ||}
\DoxyCodeLine{02673                                     m\_doOnRelease == ToggleAllTransparency ||}
\DoxyCodeLine{02674                                     m\_doOnRelease == OpenSettings)) ||}
\DoxyCodeLine{02675         m\_doOnRelease == TogglePreviewVisible ||}
\DoxyCodeLine{02676         m\_doOnRelease == ToggleAllPreviewVisible)}
\DoxyCodeLine{02677       app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{02678     update();}
\DoxyCodeLine{02679     m\_doOnRelease = 0;}
\DoxyCodeLine{02680   \}}
\DoxyCodeLine{02681 }
\DoxyCodeLine{02682   \textcolor{keywordflow}{if} (m\_transparencyPopupTimer) m\_transparencyPopupTimer-\/>stop();}
\DoxyCodeLine{02683 }
\DoxyCodeLine{02684   m\_viewer-\/>setQtModifiers(0);}
\DoxyCodeLine{02685   m\_viewer-\/>dragToolRelease(event);}
\DoxyCodeLine{02686   m\_isPanning = \textcolor{keyword}{false};}
\DoxyCodeLine{02687   m\_viewer-\/>stopAutoPan();}
\DoxyCodeLine{02688 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a7c89454a7b3cc02be2d2a596b9d992de}\label{class_xsheet_g_u_i_1_1_column_area_a7c89454a7b3cc02be2d2a596b9d992de}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!onCameraColumnChangedTriggered@{onCameraColumnChangedTriggered}}
\index{onCameraColumnChangedTriggered@{onCameraColumnChangedTriggered}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{onCameraColumnChangedTriggered}{onCameraColumnChangedTriggered}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::on\+Camera\+Column\+Changed\+Triggered (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02185                                                 \{}
\DoxyCodeLine{02186   \textcolor{keywordtype}{int} newIndex = qobject\_cast<QAction *>(sender())-\/>data().toInt();}
\DoxyCodeLine{02187   onXsheetCameraChange(newIndex);}
\DoxyCodeLine{02188 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_ab2c0cfbd256c463dd62ad72518cab3de}\label{class_xsheet_g_u_i_1_1_column_area_ab2c0cfbd256c463dd62ad72518cab3de}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!onCameraColumnLockToggled@{onCameraColumnLockToggled}}
\index{onCameraColumnLockToggled@{onCameraColumnLockToggled}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{onCameraColumnLockToggled}{onCameraColumnLockToggled}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::on\+Camera\+Column\+Lock\+Toggled (\begin{DoxyParamCaption}\item[{bool}]{lock }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02190                                                     \{}
\DoxyCodeLine{02191   m\_viewer-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(-\/1)-\/>\mbox{\hyperlink{class_t_xsh_column_aa4fdf492c76dd277452ab9ec23cea6dc}{lock}}(lock);}
\DoxyCodeLine{02192 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a3891ccf29f7c3fade5204adcccce1e76}\label{class_xsheet_g_u_i_1_1_column_area_a3891ccf29f7c3fade5204adcccce1e76}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!onControlPressed@{onControlPressed}}
\index{onControlPressed@{onControlPressed}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{onControlPressed()}{onControlPressed()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::on\+Control\+Pressed (\begin{DoxyParamCaption}\item[{bool}]{pressed }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00675                                               \{}
\DoxyCodeLine{00676   isCtrlPressed = pressed;}
\DoxyCodeLine{00677   update();}
\DoxyCodeLine{00678 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a0aa17e37d10d93798ddc4f5e66266054}\label{class_xsheet_g_u_i_1_1_column_area_a0aa17e37d10d93798ddc4f5e66266054}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!onSetMask@{onSetMask}}
\index{onSetMask@{onSetMask}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{onSetMask}{onSetMask}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::on\+Set\+Mask (\begin{DoxyParamCaption}\item[{int}]{col }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02919                                   \{}
\DoxyCodeLine{02920   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = m\_viewer-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(m\_col);}
\DoxyCodeLine{02921 }
\DoxyCodeLine{02922   std::string name = m\_viewer-\/>getXsheet()}
\DoxyCodeLine{02923                          -\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(TStageObjectId::ColumnId(col))}
\DoxyCodeLine{02924                          -\/>getName();}
\DoxyCodeLine{02925   \mbox{\hyperlink{class_column_mask_undo}{ColumnMaskUndo}} *undo = \textcolor{keyword}{new} \mbox{\hyperlink{class_column_mask_undo}{ColumnMaskUndo}}(col, column-\/>isMask(), name);}
\DoxyCodeLine{02926   undo-\/>redo();}
\DoxyCodeLine{02927   TUndoManager::manager()-\/>add(undo);}
\DoxyCodeLine{02928   update();}
\DoxyCodeLine{02929 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a8ac70d5e66c4ce9d894eec503d6ba09f}\label{class_xsheet_g_u_i_1_1_column_area_a8ac70d5e66c4ce9d894eec503d6ba09f}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!onSubSampling@{onSubSampling}}
\index{onSubSampling@{onSubSampling}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{onSubSampling}{onSubSampling}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::on\+Sub\+Sampling (\begin{DoxyParamCaption}\item[{QAction $\ast$}]{action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02933                                               \{}
\DoxyCodeLine{02934   \textcolor{keywordtype}{int} subsampling;}
\DoxyCodeLine{02935   \textcolor{keywordflow}{if} (action == m\_subsampling1)}
\DoxyCodeLine{02936     subsampling = 1;}
\DoxyCodeLine{02937   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (action == m\_subsampling2)}
\DoxyCodeLine{02938     subsampling = 2;}
\DoxyCodeLine{02939   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (action == m\_subsampling3)}
\DoxyCodeLine{02940     subsampling = 3;}
\DoxyCodeLine{02941   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (action == m\_subsampling4)}
\DoxyCodeLine{02942     subsampling = 4;}
\DoxyCodeLine{02943 }
\DoxyCodeLine{02944   \mbox{\hyperlink{class_t_column_selection}{TColumnSelection}} *selection = m\_viewer-\/>getColumnSelection();}
\DoxyCodeLine{02945   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh                = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{02946   assert(selection \&\& xsh);}
\DoxyCodeLine{02947   \textcolor{keyword}{const} std::set<int> indexes = selection-\/>getIndices();}
\DoxyCodeLine{02948   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \textcolor{keyword}{const} \&e : indexes) \{}
\DoxyCodeLine{02949     \textcolor{keywordflow}{if} (e < 0) \textcolor{keywordflow}{continue};  \textcolor{comment}{// Ignore camera column}}
\DoxyCodeLine{02950     \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column          = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(e);}
\DoxyCodeLine{02951     TXshColumn::ColumnType type = column-\/>getColumnType();}
\DoxyCodeLine{02952     \textcolor{keywordflow}{if} (type != TXshColumn::eLevelType) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{02953     \textcolor{keyword}{const} QSet<TXshLevel *> levels = getLevels(column);}
\DoxyCodeLine{02954     QSet<TXshLevel *>::const\_iterator it2;}
\DoxyCodeLine{02955     \textcolor{keywordflow}{for} (it2 = levels.begin(); it2 != levels.end(); it2++) \{}
\DoxyCodeLine{02956       \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = (*it2)-\/>\mbox{\hyperlink{class_t_xsh_simple_level_aac1fd1d3ecf0778b8ee139c9119fcdef}{getSimpleLevel}}();}
\DoxyCodeLine{02957       \textcolor{keywordflow}{if} (!sl || sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_ad412dd5c3a6ae3ff20a480dc728b26d2}{getProperties}}()-\/>\mbox{\hyperlink{class_level_properties_a19cc395b0312bc880b1d765c93720967}{getDirtyFlag}}()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{02958       \textcolor{keywordtype}{int} type = sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}();}
\DoxyCodeLine{02959       \textcolor{keywordflow}{if} (type == TZI\_XSHLEVEL || type == TZP\_XSHLEVEL ||}
\DoxyCodeLine{02960           type == OVL\_XSHLEVEL) \{}
\DoxyCodeLine{02961         sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_ad412dd5c3a6ae3ff20a480dc728b26d2}{getProperties}}()-\/>\mbox{\hyperlink{class_level_properties_a2591ae6df7e874a982e1539395462174}{setSubsampling}}(subsampling);}
\DoxyCodeLine{02962         sl-\/>invalidateFrames();}
\DoxyCodeLine{02963       \}}
\DoxyCodeLine{02964     \}}
\DoxyCodeLine{02965   \}}
\DoxyCodeLine{02966   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()}
\DoxyCodeLine{02967       -\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()}
\DoxyCodeLine{02968       -\/>getXsheet()}
\DoxyCodeLine{02969       -\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()}
\DoxyCodeLine{02970       -\/>\mbox{\hyperlink{class_t_stage_object_tree_aa88239ff5581af5d748d822d1f01cd9d}{invalidateAll}}();}
\DoxyCodeLine{02971   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifySceneChanged();}
\DoxyCodeLine{02972 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a96000ee0c150e35c905b667b558a6787}\label{class_xsheet_g_u_i_1_1_column_area_a96000ee0c150e35c905b667b558a6787}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!onXsheetCameraChange@{onXsheetCameraChange}}
\index{onXsheetCameraChange@{onXsheetCameraChange}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{onXsheetCameraChange}{onXsheetCameraChange}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::on\+Xsheet\+Camera\+Change (\begin{DoxyParamCaption}\item[{int}]{new\+Index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02196                                                   \{}
\DoxyCodeLine{02197   \textcolor{keywordtype}{int} oldIndex = m\_viewer-\/>getXsheet()-\/>getCameraColumnIndex();}
\DoxyCodeLine{02198   \textcolor{keywordflow}{if} (newIndex == oldIndex) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02199 }
\DoxyCodeLine{02200   \mbox{\hyperlink{class_t_xsheet_handle}{TXsheetHandle}} *xsheetHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}();}
\DoxyCodeLine{02201 }
\DoxyCodeLine{02202   CameraColumnSwitchUndo *undo =}
\DoxyCodeLine{02203       \textcolor{keyword}{new} CameraColumnSwitchUndo(oldIndex, newIndex, xsheetHandle);}
\DoxyCodeLine{02204   undo-\/>redo();}
\DoxyCodeLine{02205   TUndoManager::manager()-\/>add(undo);}
\DoxyCodeLine{02206 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_abba9fc22ec41649aced955a3e75185d3}\label{class_xsheet_g_u_i_1_1_column_area_abba9fc22ec41649aced955a3e75185d3}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!openCameraColumnPopup@{openCameraColumnPopup}}
\index{openCameraColumnPopup@{openCameraColumnPopup}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{openCameraColumnPopup}{openCameraColumnPopup}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::open\+Camera\+Column\+Popup (\begin{DoxyParamCaption}\item[{QPoint}]{pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02151                                                  \{}
\DoxyCodeLine{02152   QMenu menu(\textcolor{keyword}{this});}
\DoxyCodeLine{02153 }
\DoxyCodeLine{02154   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh           = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{02155   \mbox{\hyperlink{class_t_stage_object_tree}{TStageObjectTree}} *tree = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}();}
\DoxyCodeLine{02156   \textcolor{keywordtype}{int} i, objCount = tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_ad0f2bb7d9ffc580ba20305d40566d2a8}{getStageObjectCount}}();}
\DoxyCodeLine{02157   \textcolor{keywordflow}{for} (i = 0; i < objCount; i++) \{}
\DoxyCodeLine{02158     \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *obj = tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(i);}
\DoxyCodeLine{02159     \textcolor{keywordflow}{if} (!obj || !obj-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}().\mbox{\hyperlink{class_t_stage_object_id_ab597e1e86fc3b5e64d552bec77f86b4d}{isCamera}}()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{02160     \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} objId = obj-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}();}
\DoxyCodeLine{02161     std::string objName  = obj-\/>getName();}
\DoxyCodeLine{02162     QAction *action      = \textcolor{keyword}{new} QAction(QString::fromStdString(objName), \textcolor{keyword}{this});}
\DoxyCodeLine{02163     action-\/>setData(objId.getIndex());}
\DoxyCodeLine{02164     connect(action, SIGNAL(triggered()), \textcolor{keyword}{this},}
\DoxyCodeLine{02165             SLOT(onCameraColumnChangedTriggered()));}
\DoxyCodeLine{02166     menu.addAction(action);}
\DoxyCodeLine{02167   \}}
\DoxyCodeLine{02168   \textcolor{comment}{// Lock button is moved in this menu for Minimum layout}}
\DoxyCodeLine{02169   \textcolor{keywordflow}{if} (m\_viewer-\/>getXsheetLayout() == \textcolor{stringliteral}{"{}Minimum"{}}) \{}
\DoxyCodeLine{02170     menu.addSeparator();}
\DoxyCodeLine{02171     \textcolor{keywordtype}{bool} isLocked = m\_viewer-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(-\/1)-\/>\mbox{\hyperlink{class_t_xsh_column_a04953896aae8860ace46010956a28db9}{isLocked}}();}
\DoxyCodeLine{02172     QAction *lockAction =}
\DoxyCodeLine{02173         \textcolor{keyword}{new} QAction((isLocked) ? tr(\textcolor{stringliteral}{"{}Unlock"{}}) : tr(\textcolor{stringliteral}{"{}Lock"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{02174     lockAction-\/>setCheckable(\textcolor{keyword}{true});}
\DoxyCodeLine{02175     lockAction-\/>setChecked(isLocked);}
\DoxyCodeLine{02176     lockAction-\/>setIcon(createLockIcon(m\_viewer));}
\DoxyCodeLine{02177     menu.addAction(lockAction);}
\DoxyCodeLine{02178     connect(lockAction, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{02179             SLOT(onCameraColumnLockToggled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{02180   \}}
\DoxyCodeLine{02181 }
\DoxyCodeLine{02182   menu.exec(pos);}
\DoxyCodeLine{02183 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_af4dfeec9c9c4befb8bab92efbdaaf8b3}\label{class_xsheet_g_u_i_1_1_column_area_af4dfeec9c9c4befb8bab92efbdaaf8b3}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!openSoundColumnPopup@{openSoundColumnPopup}}
\index{openSoundColumnPopup@{openSoundColumnPopup}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{openSoundColumnPopup}{openSoundColumnPopup}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::open\+Sound\+Column\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02134                                       \{}
\DoxyCodeLine{02135   \textcolor{keywordflow}{if} (m\_col < 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02136   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = m\_viewer-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(m\_col);}
\DoxyCodeLine{02137   \textcolor{keywordflow}{if} (!column || column-\/>isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02138 }
\DoxyCodeLine{02139   \textcolor{keywordflow}{if} (!column-\/>isCamstandVisible()) \{}
\DoxyCodeLine{02140     column-\/>setCamstandVisible(\textcolor{keyword}{true});}
\DoxyCodeLine{02141     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetSoundChanged();}
\DoxyCodeLine{02142     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifySceneChanged();}
\DoxyCodeLine{02143     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{02144     update();}
\DoxyCodeLine{02145   \}}
\DoxyCodeLine{02146 }
\DoxyCodeLine{02147   m\_soundColumnPopup-\/>setColumn(column);}
\DoxyCodeLine{02148   m\_soundColumnPopup-\/>show();}
\DoxyCodeLine{02149 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_a57064945a0868b0bc75763739a467ae1}\label{class_xsheet_g_u_i_1_1_column_area_a57064945a0868b0bc75763739a467ae1}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!openTransparencyPopup@{openTransparencyPopup}}
\index{openTransparencyPopup@{openTransparencyPopup}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{openTransparencyPopup}{openTransparencyPopup}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::open\+Transparency\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{02117                                        \{}
\DoxyCodeLine{02118   \textcolor{keywordflow}{if} (m\_transparencyPopupTimer) m\_transparencyPopupTimer-\/>stop();}
\DoxyCodeLine{02119   \textcolor{keywordflow}{if} (m\_col < 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02120   \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = m\_viewer-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(m\_col);}
\DoxyCodeLine{02121   \textcolor{keywordflow}{if} (!column || column-\/>isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02122 }
\DoxyCodeLine{02123   \textcolor{keywordflow}{if} (!column-\/>isCamstandVisible()) \{}
\DoxyCodeLine{02124     column-\/>setCamstandVisible(\textcolor{keyword}{true});}
\DoxyCodeLine{02125     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifySceneChanged();}
\DoxyCodeLine{02126     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{02127     update();}
\DoxyCodeLine{02128   \}}
\DoxyCodeLine{02129 }
\DoxyCodeLine{02130   m\_columnTransparencyPopup-\/>setColumn(column);}
\DoxyCodeLine{02131   m\_columnTransparencyPopup-\/>show();}
\DoxyCodeLine{02132 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_column_area_afc8e5a67fbb402e40f44f12573895bd7}\label{class_xsheet_g_u_i_1_1_column_area_afc8e5a67fbb402e40f44f12573895bd7}} 
\index{XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}!paintEvent@{paintEvent}}
\index{paintEvent@{paintEvent}!XsheetGUI::ColumnArea@{XsheetGUI::ColumnArea}}
\doxysubsubsection{\texorpdfstring{paintEvent()}{paintEvent()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Column\+Area\+::paint\+Event (\begin{DoxyParamCaption}\item[{QPaint\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01772                                               \{  \textcolor{comment}{// AREA}}
\DoxyCodeLine{01773   QRect toBeUpdated = \textcolor{keyword}{event}-\/>rect();}
\DoxyCodeLine{01774 }
\DoxyCodeLine{01775   QPainter p(\textcolor{keyword}{this});}
\DoxyCodeLine{01776   p.setClipRect(toBeUpdated);}
\DoxyCodeLine{01777 }
\DoxyCodeLine{01778   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh        = m\_viewer-\/>getXsheet();}
\DoxyCodeLine{01779   \mbox{\hyperlink{class_cell_range}{CellRange}} cellRange = m\_viewer-\/>xyRectToRange(toBeUpdated);}
\DoxyCodeLine{01780   \textcolor{keywordtype}{int} c0, c1;  \textcolor{comment}{// range of visible columns}}
\DoxyCodeLine{01781   c0 = cellRange.from().layer();}
\DoxyCodeLine{01782   c1 = cellRange.to().layer();}
\DoxyCodeLine{01783   \textcolor{keywordflow}{if} (!m\_viewer-\/>orientation()-\/>isVerticalTimeline()) \{}
\DoxyCodeLine{01784     \textcolor{keywordtype}{int} colCount = std::max(1, xsh-\/>\mbox{\hyperlink{class_t_xsheet_a17464dc5617cf87a46f03e1a52d36cc1}{getColumnCount}}());}
\DoxyCodeLine{01785     c1           = std::min(c1, colCount -\/ 1);}
\DoxyCodeLine{01786   \}}
\DoxyCodeLine{01787 }
\DoxyCodeLine{01788   \mbox{\hyperlink{class_column_fan}{ColumnFan}} *columnFan = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3c7f0358ee5d555df82ae864af8584d0}{getColumnFan}}(m\_viewer-\/>orientation());}
\DoxyCodeLine{01789   \textcolor{keywordtype}{int} col;}
\DoxyCodeLine{01790   \textcolor{keywordflow}{for} (col = c0; col <= c1; col++) \{}
\DoxyCodeLine{01791     \textcolor{comment}{// draw column fan (collapsed columns)}}
\DoxyCodeLine{01792     \textcolor{keywordflow}{if} (!columnFan-\/>\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(col)) \{}
\DoxyCodeLine{01793       drawFoldedColumnHead(p, col);}
\DoxyCodeLine{01794     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01795       \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = m\_viewer-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col);}
\DoxyCodeLine{01796 }
\DoxyCodeLine{01797       \textcolor{keywordtype}{int} colType = (column \&\& !column-\/>isEmpty()) ? column-\/>getColumnType()}
\DoxyCodeLine{01798                                                    : TXshColumn::eLevelType;}
\DoxyCodeLine{01799 }
\DoxyCodeLine{01800       \textcolor{keywordflow}{switch} (colType) \{}
\DoxyCodeLine{01801       \textcolor{keywordflow}{case} TXshColumn::ePaletteType:}
\DoxyCodeLine{01802         drawPaletteColumnHead(p, col);}
\DoxyCodeLine{01803         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01804       \textcolor{keywordflow}{case} TXshColumn::eSoundType:}
\DoxyCodeLine{01805         drawSoundColumnHead(p, col);}
\DoxyCodeLine{01806         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01807       \textcolor{keywordflow}{case} TXshColumn::eSoundTextType:}
\DoxyCodeLine{01808         drawSoundTextColumnHead(p, col);}
\DoxyCodeLine{01809         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01810       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01811         drawLevelColumnHead(p, col);  \textcolor{comment}{// camera column is also painted here}}
\DoxyCodeLine{01812         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01813       \}}
\DoxyCodeLine{01814     \}}
\DoxyCodeLine{01815   \}}
\DoxyCodeLine{01816 }
\DoxyCodeLine{01817   p.setPen(m\_viewer-\/>getVerticalLineHeadColor());}
\DoxyCodeLine{01818   p.setBrush(Qt::NoBrush);}
\DoxyCodeLine{01819   \textcolor{keywordflow}{if} (m\_viewer-\/>orientation()-\/>isVerticalTimeline())}
\DoxyCodeLine{01820     p.drawRect(toBeUpdated.adjusted(-\/1, 0, -\/1, -\/3));}
\DoxyCodeLine{01821   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01822     p.drawRect(toBeUpdated.adjusted(0, 0, -\/2, -\/1));}
\DoxyCodeLine{01823 }
\DoxyCodeLine{01824   \textcolor{keywordflow}{if} (getDragTool()) getDragTool()-\/>drawColumnsArea(p);}
\DoxyCodeLine{01825 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/xshcolumnviewer.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/xshcolumnviewer.\+cpp\end{DoxyCompactItemize}
