\hypertarget{class_raster_movie_generator}{}\doxysection{Raster\+Movie\+Generator Class Reference}
\label{class_raster_movie_generator}\index{RasterMovieGenerator@{RasterMovieGenerator}}
Inheritance diagram for Raster\+Movie\+Generator\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_raster_movie_generator}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_raster_movie_generator_a6e823e64e18b67efc9faee604e308171}{Raster\+Movie\+Generator}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp, const \mbox{\hyperlink{class_t_dimension_t}{TDimension}} camera\+Size, \mbox{\hyperlink{class_t_output_properties}{TOutput\+Properties}} \&properties)
\item 
void \mbox{\hyperlink{class_raster_movie_generator_a18987018daa45a6cc5ef1680bc10c5d6}{start}} (const \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} \&scene)
\item 
bool \mbox{\hyperlink{class_raster_movie_generator_a60a8cc13da152b65ced39ecb0d5bc361}{add\+Frame}} (\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} \&scene, int row, bool is\+Last) override
\item 
void \mbox{\hyperlink{class_raster_movie_generator_a60c52dcb7234897167bb1ccbfacec1eb}{add\+Soundtrack}} (const \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} \&scene, int frame\+Offset, int scene\+Frame\+Count) override
\item 
void \mbox{\hyperlink{class_raster_movie_generator_aaa7418ea80080280d42d31b1a1a83e0b}{start\+Scene}} (const \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} \&scene, int r) override
\item 
void \mbox{\hyperlink{class_raster_movie_generator_ac5ab8553d643ed8fad04afc5419caf08}{close}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_raster_movie_generator_a7d718cd2ce2d80f049ee62724bd166bb}{m\+\_\+is\+Frames}}
\item 
\mbox{\hyperlink{class_t_level_writer_p}{TLevel\+WriterP}} \mbox{\hyperlink{class_raster_movie_generator_afadbbc1229fdc64a266e94db09512a1e}{m\+\_\+lw}}
\item 
bool \mbox{\hyperlink{class_raster_movie_generator_a117c614724dd36503916dcb61404af14}{m\+\_\+alpha\+Enabled}}
\item 
bool \mbox{\hyperlink{class_raster_movie_generator_a4b49ced1a0a877794971e4c3490f4cd7}{m\+\_\+alpha\+Needed}}
\begin{DoxyCompactList}\small\item\em alpha channel is generated (to disk) \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_affine}{TAffine}} \mbox{\hyperlink{class_raster_movie_generator_a06bcff0fd4e8301148e138325dd839b2}{m\+\_\+view\+Aff}}
\item 
\mbox{\hyperlink{class_t_offline_g_l}{TOffline\+GL}} \& \mbox{\hyperlink{class_raster_movie_generator_a99782f4f2ea3c84fbc5f00a77664d190}{m\+\_\+offline\+Gl\+Context}}
\item 
int \mbox{\hyperlink{class_raster_movie_generator_ada9cc5f3f5be9a868414d9ab6d567584}{m\+\_\+frame\+Index}}
\item 
bool \mbox{\hyperlink{class_raster_movie_generator_aeedeba92abdcdc7614b3b5ac8993255a}{m\+\_\+started}}
\item 
\mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \mbox{\hyperlink{class_raster_movie_generator_a676c534486ef5ff84a347fc7993b2d2f}{m\+\_\+st}}
\item 
long \mbox{\hyperlink{class_raster_movie_generator_a7e7872673237280f75826bab0182dd0c}{m\+\_\+white\+Sample}}
\item 
\mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ \mbox{\hyperlink{class_raster_movie_generator_a7ef99495ed8c3f8e4a4a4ed988a86adf}{m\+\_\+file\+Options}}
\begin{DoxyCompactList}\small\item\em ?? something audio related \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_raster_movie_generator_a0e3ef5781573f999ff1d8dfd53796a3c}{m\+\_\+status}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_raster_movie_generator_a6e823e64e18b67efc9faee604e308171}\label{class_raster_movie_generator_a6e823e64e18b67efc9faee604e308171}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!RasterMovieGenerator@{RasterMovieGenerator}}
\index{RasterMovieGenerator@{RasterMovieGenerator}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{RasterMovieGenerator()}{RasterMovieGenerator()}}
{\footnotesize\ttfamily Raster\+Movie\+Generator\+::\+Raster\+Movie\+Generator (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp,  }\item[{const \mbox{\hyperlink{class_t_dimension_t}{TDimension}}}]{camera\+Size,  }\item[{\mbox{\hyperlink{class_t_output_properties}{TOutput\+Properties}} \&}]{properties }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00148       : Imp(fp, cameraSize, properties.\mbox{\hyperlink{class_t_output_properties_a0d9662971bc33097aa1b55111965b967}{getFrameRate}}())}
\DoxyCodeLine{00149       , m\_frameIndex(1)}
\DoxyCodeLine{00150       , m\_started(\textcolor{keyword}{false})}
\DoxyCodeLine{00151       , m\_offlineGlContext(*TOfflineGL::getStock(cameraSize))}
\DoxyCodeLine{00152       , m\_st(0)}
\DoxyCodeLine{00153       , m\_whiteSample(0)}
\DoxyCodeLine{00154       , \mbox{\hyperlink{class_raster_movie_generator_a7ef99495ed8c3f8e4a4a4ed988a86adf}{m\_fileOptions}}(0)}
\DoxyCodeLine{00155       , m\_alphaEnabled(\textcolor{keyword}{false})}
\DoxyCodeLine{00156       , \mbox{\hyperlink{class_raster_movie_generator_a4b49ced1a0a877794971e4c3490f4cd7}{m\_alphaNeeded}}(\textcolor{keyword}{false})}
\DoxyCodeLine{00157       , m\_status(0) \{}
\DoxyCodeLine{00158     m\_bgColor = TPixel32(255, 255, 255, 0);}
\DoxyCodeLine{00159     \mbox{\hyperlink{class_t_point_t}{TPointD}} center(0.5 * cameraSize.lx, 0.5 * cameraSize.ly);}
\DoxyCodeLine{00160     \mbox{\hyperlink{class_raster_movie_generator_a06bcff0fd4e8301148e138325dd839b2}{m\_viewAff}}       = \mbox{\hyperlink{class_t_translation}{TTranslation}}(center);}
\DoxyCodeLine{00161     std::string ext = fp.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}();}
\DoxyCodeLine{00162     m\_isFrames      = ext != \textcolor{stringliteral}{"{}avi"{}} \&\& ext != \textcolor{stringliteral}{"{}mov"{}} \&\& ext != \textcolor{stringliteral}{"{}3gp"{}};}
\DoxyCodeLine{00163     \mbox{\hyperlink{class_raster_movie_generator_a7ef99495ed8c3f8e4a4a4ed988a86adf}{m\_fileOptions}}   = properties.\mbox{\hyperlink{class_t_output_properties_a9ef174e6f6239219fa563b037246c8d4}{getFileFormatProperties}}(ext);}
\DoxyCodeLine{00164   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_raster_movie_generator_a60a8cc13da152b65ced39ecb0d5bc361}\label{class_raster_movie_generator_a60a8cc13da152b65ced39ecb0d5bc361}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!addFrame@{addFrame}}
\index{addFrame@{addFrame}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{addFrame()}{addFrame()}}
{\footnotesize\ttfamily bool Raster\+Movie\+Generator\+::add\+Frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} \&}]{scene,  }\item[{int}]{row,  }\item[{bool}]{is\+Last }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_movie_generator_1_1_imp}{Movie\+Generator\+::\+Imp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00182                                                                   \{}
\DoxyCodeLine{00183     assert(m\_status == 3);}
\DoxyCodeLine{00184     \textcolor{keywordflow}{if} (!m\_started) start(scene);}
\DoxyCodeLine{00185 }
\DoxyCodeLine{00186     \mbox{\hyperlink{class_t_dimension_t}{TDimension}} cameraRes   = scene.\mbox{\hyperlink{class_toonz_scene_a750b5ab623ccec744013b0c83bf20abc}{getCurrentCamera}}()-\/>\mbox{\hyperlink{class_t_camera_a9a7c573e7a2c397ffae4b747809ea2a5}{getRes}}();}
\DoxyCodeLine{00187     \mbox{\hyperlink{class_t_dimension_t}{TDimensionD}} cameraSize = scene.\mbox{\hyperlink{class_toonz_scene_a750b5ab623ccec744013b0c83bf20abc}{getCurrentCamera}}()-\/>\mbox{\hyperlink{class_t_camera_a6f561eca912177c2150b3e57816f02f6}{getSize}}();}
\DoxyCodeLine{00188 }
\DoxyCodeLine{00189     \mbox{\hyperlink{class_t_point_t}{TPointD}} center(0.5 * cameraSize.lx, 0.5 * cameraSize.ly);}
\DoxyCodeLine{00190 }
\DoxyCodeLine{00191     \textcolor{keywordtype}{double} sx = (double)m\_offlineGlContext.getLx() / (double)cameraRes.lx;}
\DoxyCodeLine{00192     \textcolor{keywordtype}{double} sy = (\textcolor{keywordtype}{double})m\_offlineGlContext.getLy() / (double)cameraRes.ly;}
\DoxyCodeLine{00193     \textcolor{keywordtype}{double} sc = std::min(sx, sy);}
\DoxyCodeLine{00194 }
\DoxyCodeLine{00195     \textcolor{comment}{// TAffine cameraAff =}}
\DoxyCodeLine{00196     \textcolor{comment}{// scene.getXsheet()-\/>getPlacement(TStageObjectId::CameraId(0), row);}}
\DoxyCodeLine{00197     \mbox{\hyperlink{class_t_affine}{TAffine}} cameraAff = scene.\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_ac08197d98e00154a4a974d5b6a5e04d7}{getCameraAff}}(row);}
\DoxyCodeLine{00198 }
\DoxyCodeLine{00199     \textcolor{keywordtype}{double} dpiScale =}
\DoxyCodeLine{00200         (1.0 / \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}}) * (\textcolor{keywordtype}{double})cameraRes.lx / cameraSize.lx;}
\DoxyCodeLine{00201 }
\DoxyCodeLine{00202     \textcolor{comment}{// TAffine viewAff = TScale(dpiScale*sc) * TTranslation(center)*}}
\DoxyCodeLine{00203     \textcolor{comment}{// cameraAff.inv();}}
\DoxyCodeLine{00204     \mbox{\hyperlink{class_t_affine}{TAffine}} viewAff = \mbox{\hyperlink{class_t_translation}{TTranslation}}(0.5 * cameraRes.lx, 0.5 * cameraRes.ly) *}
\DoxyCodeLine{00205                       \mbox{\hyperlink{class_t_scale}{TScale}}(dpiScale * sc) * cameraAff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}();}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207     \mbox{\hyperlink{class_t_rect_t}{TRect}} clipRect(m\_offlineGlContext.getBounds());}
\DoxyCodeLine{00208     TPixel32 bgColor = scene.\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()-\/>\mbox{\hyperlink{class_t_scene_properties_a64ab8a16be2294c8fc135286c45cc2cf}{getBgColor}}();}
\DoxyCodeLine{00209 }
\DoxyCodeLine{00210     m\_offlineGlContext.makeCurrent();}
\DoxyCodeLine{00211     TPixel32 bgClearColor = m\_bgColor;}
\DoxyCodeLine{00212 }
\DoxyCodeLine{00213     \textcolor{keywordflow}{if} (m\_alphaEnabled \&\& \mbox{\hyperlink{class_raster_movie_generator_a4b49ced1a0a877794971e4c3490f4cd7}{m\_alphaNeeded}}) \{}
\DoxyCodeLine{00214       \textcolor{keyword}{const} \textcolor{keywordtype}{double} maxValue = 255.0;}
\DoxyCodeLine{00215       \textcolor{keywordtype}{double} alpha          = (double)bgClearColor.m / maxValue;}
\DoxyCodeLine{00216       bgClearColor.r *= alpha;}
\DoxyCodeLine{00217       bgClearColor.g *= alpha;}
\DoxyCodeLine{00218       bgClearColor.b *= alpha;}
\DoxyCodeLine{00219     \}}
\DoxyCodeLine{00220     m\_offlineGlContext.clear(bgClearColor);}
\DoxyCodeLine{00221 }
\DoxyCodeLine{00222     \mbox{\hyperlink{struct_stage_1_1_visit_args}{Stage::VisitArgs}} args;}
\DoxyCodeLine{00223     args.m\_scene = \&scene;}
\DoxyCodeLine{00224     args.m\_xsh   = scene.\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}();}
\DoxyCodeLine{00225     args.m\_row   = row;}
\DoxyCodeLine{00226     args.m\_col   = m\_columnIndex;}
\DoxyCodeLine{00227     args.m\_osm   = \&m\_osMask;}
\DoxyCodeLine{00228 }
\DoxyCodeLine{00229     \mbox{\hyperlink{class_image_painter_1_1_visual_settings}{ImagePainter::VisualSettings}} vs;}
\DoxyCodeLine{00230     \mbox{\hyperlink{class_stage_1_1_open_gl_painter}{Stage::OpenGlPainter}} painter(viewAff, clipRect, vs, \textcolor{keyword}{false}, \textcolor{keyword}{true});}
\DoxyCodeLine{00231 }
\DoxyCodeLine{00232     \mbox{\hyperlink{namespace_stage_a28ab15860508cccd59a31483a9b8afa1}{Stage::visit}}(painter, args);}
\DoxyCodeLine{00233     \textcolor{comment}{/*}}
\DoxyCodeLine{00234 \textcolor{comment}{painter,}}
\DoxyCodeLine{00235 \textcolor{comment}{\&scene,}}
\DoxyCodeLine{00236 \textcolor{comment}{scene.getXsheet(), row,}}
\DoxyCodeLine{00237 \textcolor{comment}{m\_columnIndex, m\_osMask,}}
\DoxyCodeLine{00238 \textcolor{comment}{false,0);}}
\DoxyCodeLine{00239 \textcolor{comment}{*/}}
\DoxyCodeLine{00240     \mbox{\hyperlink{class_t_image_writer_p}{TImageWriterP}} writer = m\_lw-\/>getFrameWriter(m\_frameIndex++);}
\DoxyCodeLine{00241     \textcolor{keywordflow}{if} (!writer) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00242 }
\DoxyCodeLine{00243 \textcolor{preprocessor}{\#ifdef MACOSX}}
\DoxyCodeLine{00244     glFinish();  \textcolor{comment}{// per fissare il bieco baco su Mac/G3}}
\DoxyCodeLine{00245 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00246 }
\DoxyCodeLine{00247     \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} raster = m\_offlineGlContext.getRaster();}
\DoxyCodeLine{00248 }
\DoxyCodeLine{00249 \textcolor{preprocessor}{\#ifdef MACOSX}}
\DoxyCodeLine{00250     \textcolor{keywordflow}{if} (m\_alphaEnabled \&\& \mbox{\hyperlink{class_raster_movie_generator_a4b49ced1a0a877794971e4c3490f4cd7}{m\_alphaNeeded}})}
\DoxyCodeLine{00251       checkAndCorrectPremultipliedImage(raster);}
\DoxyCodeLine{00252 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00253 }
\DoxyCodeLine{00254     \textcolor{keywordflow}{if} (Preferences::instance()-\/>isSceneNumberingEnabled())}
\DoxyCodeLine{00255       TRasterImageUtils::addSceneNumbering(\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}}(raster),}
\DoxyCodeLine{00256                                            m\_frameIndex -\/ 1,}
\DoxyCodeLine{00257                                            scene.\mbox{\hyperlink{class_toonz_scene_a1fa0a1cbf9eb6360d980392acc99924b}{getSceneName}}(), row + 1);}
\DoxyCodeLine{00258     \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} img(raster);}
\DoxyCodeLine{00259     writer-\/>save(img);}
\DoxyCodeLine{00260 }
\DoxyCodeLine{00261     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00262   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_movie_generator_a60c52dcb7234897167bb1ccbfacec1eb}\label{class_raster_movie_generator_a60c52dcb7234897167bb1ccbfacec1eb}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!addSoundtrack@{addSoundtrack}}
\index{addSoundtrack@{addSoundtrack}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{addSoundtrack()}{addSoundtrack()}}
{\footnotesize\ttfamily void Raster\+Movie\+Generator\+::add\+Soundtrack (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} \&}]{scene,  }\item[{int}]{frame\+Offset,  }\item[{int}]{scene\+Frame\+Count }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_movie_generator_1_1_imp}{Movie\+Generator\+::\+Imp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00265                                                    \{}
\DoxyCodeLine{00266     assert(m\_status <= 2);}
\DoxyCodeLine{00267     m\_status                       = 2;}
\DoxyCodeLine{00268     \mbox{\hyperlink{class_t_xsheet_1_1_sound_properties}{TXsheet::SoundProperties}} *prop = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsheet_1_1_sound_properties}{TXsheet::SoundProperties}}();}
\DoxyCodeLine{00269     prop-\/>m\_frameRate              = m\_fps;}
\DoxyCodeLine{00270     \mbox{\hyperlink{class_t_sound_track}{TSoundTrack}} *snd               = scene.\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>makeSound(prop);}
\DoxyCodeLine{00271     \textcolor{keywordflow}{if} (!snd || m\_filepath.\mbox{\hyperlink{class_t_file_path_a698bbf714436eb6923359044900cde2b}{getDots}}() == \textcolor{stringliteral}{"{}.."{}}) \{}
\DoxyCodeLine{00272       m\_whiteSample += sceneFrameCount * 918;}
\DoxyCodeLine{00273       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00274     \}}
\DoxyCodeLine{00275     \textcolor{keywordtype}{long} samplePerFrame = snd-\/>getSampleRate() / m\_fps;}
\DoxyCodeLine{00276     \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} snd1   = snd-\/>\mbox{\hyperlink{class_t_sound_track_a6efbb9d14bb633cff1257095eba11096}{extract}}(}
\DoxyCodeLine{00277         frameOffset * samplePerFrame,}
\DoxyCodeLine{00278         (TINT32)((frameOffset + sceneFrameCount -\/ 1) * samplePerFrame));}
\DoxyCodeLine{00279     \textcolor{keywordflow}{if} (!m\_st) \{}
\DoxyCodeLine{00280       m\_st          = \mbox{\hyperlink{class_t_sound_track_a9a83177a9a5b9a7470f32b87e7f21f3d}{TSoundTrack::create}}(snd1-\/>\mbox{\hyperlink{class_t_sound_track_aa58db0cee313f7174bc023e295b701a9}{getFormat}}(), m\_whiteSample);}
\DoxyCodeLine{00281       m\_whiteSample = 0;}
\DoxyCodeLine{00282     \}}
\DoxyCodeLine{00283     TINT32 fromSample = m\_st-\/>getSampleCount();}
\DoxyCodeLine{00284     TINT32 numSample  = std::max(TINT32(sceneFrameCount * samplePerFrame),}
\DoxyCodeLine{00285                                 snd1-\/>getSampleCount());}
\DoxyCodeLine{00286     m\_st = \mbox{\hyperlink{namespace_t_sop_a0fefdd72dbc5cf869c88ffef4e0adb7e}{TSop::insertBlank}}(m\_st, fromSample, numSample + m\_whiteSample);}
\DoxyCodeLine{00287     m\_st-\/>\mbox{\hyperlink{class_t_sound_track_a77370b67b41927689f5490bbe15a907d}{copy}}(snd1, TINT32(fromSample + m\_whiteSample));}
\DoxyCodeLine{00288     m\_whiteSample = 0;}
\DoxyCodeLine{00289   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_movie_generator_ac5ab8553d643ed8fad04afc5419caf08}\label{class_raster_movie_generator_ac5ab8553d643ed8fad04afc5419caf08}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!close@{close}}
\index{close@{close}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily void Raster\+Movie\+Generator\+::close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_movie_generator_1_1_imp}{Movie\+Generator\+::\+Imp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00295                         \{}
\DoxyCodeLine{00296     m\_lw = \mbox{\hyperlink{class_t_level_writer_p}{TLevelWriterP}}();}
\DoxyCodeLine{00297     m\_st = \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}}();}
\DoxyCodeLine{00298   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_movie_generator_a18987018daa45a6cc5ef1680bc10c5d6}\label{class_raster_movie_generator_a18987018daa45a6cc5ef1680bc10c5d6}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!start@{start}}
\index{start@{start}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{start()}{start()}}
{\footnotesize\ttfamily void Raster\+Movie\+Generator\+::start (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} \&}]{scene }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00166                                       \{}
\DoxyCodeLine{00167     m\_status      = 3;}
\DoxyCodeLine{00168     \mbox{\hyperlink{class_raster_movie_generator_a4b49ced1a0a877794971e4c3490f4cd7}{m\_alphaNeeded}} = scene.\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()-\/>\mbox{\hyperlink{class_t_scene_properties_a64ab8a16be2294c8fc135286c45cc2cf}{getBgColor}}().m < 255;}
\DoxyCodeLine{00169     assert(m\_started == \textcolor{keyword}{false});}
\DoxyCodeLine{00170     m\_started = \textcolor{keyword}{true};}
\DoxyCodeLine{00171     \textcolor{keywordflow}{if} (TSystem::doesExistFileOrLevel(m\_filepath))}
\DoxyCodeLine{00172       TSystem::removeFileOrLevel(m\_filepath);}
\DoxyCodeLine{00173 }
\DoxyCodeLine{00174     m\_lw = \mbox{\hyperlink{class_t_level_writer_p}{TLevelWriterP}}(m\_filepath);}
\DoxyCodeLine{00175     m\_lw-\/>setFrameRate(m\_fps);}
\DoxyCodeLine{00176     \textcolor{keywordflow}{if} (m\_lw-\/>getProperties() \&\& \mbox{\hyperlink{class_raster_movie_generator_a7ef99495ed8c3f8e4a4a4ed988a86adf}{m\_fileOptions}})}
\DoxyCodeLine{00177       m\_lw-\/>getProperties()-\/>setProperties(\mbox{\hyperlink{class_raster_movie_generator_a7ef99495ed8c3f8e4a4a4ed988a86adf}{m\_fileOptions}});}
\DoxyCodeLine{00178 }
\DoxyCodeLine{00179     \textcolor{keywordflow}{if} (m\_st) m\_lw-\/>saveSoundTrack(m\_st.getPointer());}
\DoxyCodeLine{00180   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_raster_movie_generator_aaa7418ea80080280d42d31b1a1a83e0b}\label{class_raster_movie_generator_aaa7418ea80080280d42d31b1a1a83e0b}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!startScene@{startScene}}
\index{startScene@{startScene}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{startScene()}{startScene()}}
{\footnotesize\ttfamily void Raster\+Movie\+Generator\+::start\+Scene (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} \&}]{scene,  }\item[{int}]{r }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_movie_generator_1_1_imp}{Movie\+Generator\+::\+Imp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00291                                                            \{}
\DoxyCodeLine{00292     \textcolor{keywordflow}{if} (!m\_started) start(scene);}
\DoxyCodeLine{00293   \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_raster_movie_generator_a117c614724dd36503916dcb61404af14}\label{class_raster_movie_generator_a117c614724dd36503916dcb61404af14}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_alphaEnabled@{m\_alphaEnabled}}
\index{m\_alphaEnabled@{m\_alphaEnabled}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_alphaEnabled}{m\_alphaEnabled}}
{\footnotesize\ttfamily bool Raster\+Movie\+Generator\+::m\+\_\+alpha\+Enabled}

\mbox{\Hypertarget{class_raster_movie_generator_a4b49ced1a0a877794971e4c3490f4cd7}\label{class_raster_movie_generator_a4b49ced1a0a877794971e4c3490f4cd7}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_alphaNeeded@{m\_alphaNeeded}}
\index{m\_alphaNeeded@{m\_alphaNeeded}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_alphaNeeded}{m\_alphaNeeded}}
{\footnotesize\ttfamily bool Raster\+Movie\+Generator\+::m\+\_\+alpha\+Needed}



alpha channel is generated (to disk) 

\mbox{\Hypertarget{class_raster_movie_generator_a7ef99495ed8c3f8e4a4a4ed988a86adf}\label{class_raster_movie_generator_a7ef99495ed8c3f8e4a4a4ed988a86adf}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_fileOptions@{m\_fileOptions}}
\index{m\_fileOptions@{m\_fileOptions}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_fileOptions}{m\_fileOptions}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_property_group}{TProperty\+Group}}$\ast$ Raster\+Movie\+Generator\+::m\+\_\+file\+Options}



?? something audio related 

\mbox{\Hypertarget{class_raster_movie_generator_ada9cc5f3f5be9a868414d9ab6d567584}\label{class_raster_movie_generator_ada9cc5f3f5be9a868414d9ab6d567584}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_frameIndex@{m\_frameIndex}}
\index{m\_frameIndex@{m\_frameIndex}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_frameIndex}{m\_frameIndex}}
{\footnotesize\ttfamily int Raster\+Movie\+Generator\+::m\+\_\+frame\+Index}

\mbox{\Hypertarget{class_raster_movie_generator_a7d718cd2ce2d80f049ee62724bd166bb}\label{class_raster_movie_generator_a7d718cd2ce2d80f049ee62724bd166bb}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_isFrames@{m\_isFrames}}
\index{m\_isFrames@{m\_isFrames}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_isFrames}{m\_isFrames}}
{\footnotesize\ttfamily bool Raster\+Movie\+Generator\+::m\+\_\+is\+Frames}

\mbox{\Hypertarget{class_raster_movie_generator_afadbbc1229fdc64a266e94db09512a1e}\label{class_raster_movie_generator_afadbbc1229fdc64a266e94db09512a1e}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_lw@{m\_lw}}
\index{m\_lw@{m\_lw}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_lw}{m\_lw}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_level_writer_p}{TLevel\+WriterP}} Raster\+Movie\+Generator\+::m\+\_\+lw}

\mbox{\Hypertarget{class_raster_movie_generator_a99782f4f2ea3c84fbc5f00a77664d190}\label{class_raster_movie_generator_a99782f4f2ea3c84fbc5f00a77664d190}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_offlineGlContext@{m\_offlineGlContext}}
\index{m\_offlineGlContext@{m\_offlineGlContext}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_offlineGlContext}{m\_offlineGlContext}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_offline_g_l}{TOffline\+GL}}\& Raster\+Movie\+Generator\+::m\+\_\+offline\+Gl\+Context}

\mbox{\Hypertarget{class_raster_movie_generator_a676c534486ef5ff84a347fc7993b2d2f}\label{class_raster_movie_generator_a676c534486ef5ff84a347fc7993b2d2f}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_st@{m\_st}}
\index{m\_st@{m\_st}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_st}{m\_st}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} Raster\+Movie\+Generator\+::m\+\_\+st}

\mbox{\Hypertarget{class_raster_movie_generator_aeedeba92abdcdc7614b3b5ac8993255a}\label{class_raster_movie_generator_aeedeba92abdcdc7614b3b5ac8993255a}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_started@{m\_started}}
\index{m\_started@{m\_started}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_started}{m\_started}}
{\footnotesize\ttfamily bool Raster\+Movie\+Generator\+::m\+\_\+started}

\mbox{\Hypertarget{class_raster_movie_generator_a0e3ef5781573f999ff1d8dfd53796a3c}\label{class_raster_movie_generator_a0e3ef5781573f999ff1d8dfd53796a3c}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_status@{m\_status}}
\index{m\_status@{m\_status}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_status}{m\_status}}
{\footnotesize\ttfamily int Raster\+Movie\+Generator\+::m\+\_\+status}

\mbox{\Hypertarget{class_raster_movie_generator_a06bcff0fd4e8301148e138325dd839b2}\label{class_raster_movie_generator_a06bcff0fd4e8301148e138325dd839b2}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_viewAff@{m\_viewAff}}
\index{m\_viewAff@{m\_viewAff}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_viewAff}{m\_viewAff}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_affine}{TAffine}} Raster\+Movie\+Generator\+::m\+\_\+view\+Aff}

alpha channel will be visible (i.\+e. transparent background) \mbox{\Hypertarget{class_raster_movie_generator_a7e7872673237280f75826bab0182dd0c}\label{class_raster_movie_generator_a7e7872673237280f75826bab0182dd0c}} 
\index{RasterMovieGenerator@{RasterMovieGenerator}!m\_whiteSample@{m\_whiteSample}}
\index{m\_whiteSample@{m\_whiteSample}!RasterMovieGenerator@{RasterMovieGenerator}}
\doxysubsubsection{\texorpdfstring{m\_whiteSample}{m\_whiteSample}}
{\footnotesize\ttfamily long Raster\+Movie\+Generator\+::m\+\_\+white\+Sample}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/moviegenerator.\+cpp\end{DoxyCompactItemize}
