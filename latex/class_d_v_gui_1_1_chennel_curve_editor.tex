\hypertarget{class_d_v_gui_1_1_chennel_curve_editor}{}\doxysection{DVGui\+::Chennel\+Curve\+Editor Class Reference}
\label{class_d_v_gui_1_1_chennel_curve_editor}\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
Inheritance diagram for DVGui\+::Chennel\+Curve\+Editor\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_d_v_gui_1_1_chennel_curve_editor}
\end{center}
\end{figure}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a3f35236ced1c1cf2e835ab385a84f2f6}\label{class_d_v_gui_1_1_chennel_curve_editor_a3f35236ced1c1cf2e835ab385a84f2f6}} 
void {\bfseries focus\+Out} ()
\item 
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_aaabcee5348af20621b21fe35c385bd9e}\label{class_d_v_gui_1_1_chennel_curve_editor_aaabcee5348af20621b21fe35c385bd9e}} 
void {\bfseries control\+Point\+Changed} (bool is\+Dragging)
\item 
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a59a9fd95d46150b43529084667e13ea8}\label{class_d_v_gui_1_1_chennel_curve_editor_a59a9fd95d46150b43529084667e13ea8}} 
void {\bfseries control\+Point\+Added} (int index)
\item 
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_aaaa77e651a87095b87467bc793db0eee}\label{class_d_v_gui_1_1_chennel_curve_editor_aaaa77e651a87095b87467bc793db0eee}} 
void {\bfseries control\+Point\+Removed} (int index)
\item 
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_aebe54d074958c248541da1e7bb365603}\label{class_d_v_gui_1_1_chennel_curve_editor_aebe54d074958c248541da1e7bb365603}} 
void {\bfseries first\+Last\+XPostion\+Changed} (double, double)
\item 
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ade1b940e385df4bbacdd8ee063f38c93}\label{class_d_v_gui_1_1_chennel_curve_editor_ade1b940e385df4bbacdd8ee063f38c93}} 
void {\bfseries update\+Current\+Position} (int, QPointF)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a23ba66791d3ae86698d8cec17bd84c8f}{Chennel\+Curve\+Editor}} (QWidget $\ast$parent=0, \mbox{\hyperlink{class_histogram_view}{Histogram\+View}} $\ast$histogram\+View=0)
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_ace61a94cba978669e69e11333f6ec085}{set\+Points}} (QList$<$ \mbox{\hyperlink{class_t_point_t}{TPointD}} $>$ points)
\item 
QList$<$ \mbox{\hyperlink{class_t_point_t}{TPointD}} $>$ \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a68c031e46f64fb52ce3abbc6e620bd61}{get\+Points}} ()
\item 
int \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a2769c9b3c1b295f99eea32850d4ee7e5}{get\+Current\+Control\+Point\+Index}} ()
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a52b3d5813e993baf83096f75e09be3df}{set\+Current\+Control\+Point\+Index}} (int index)
\item 
bool \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a5580aaa6946c9ce245a00ad435b950f9}{event\+Filter}} (QObject $\ast$object, QEvent $\ast$event) override
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a182e03a0de2e48f536a615c1cadabd02}{set\+First\+Last\+XPosition}} (std\+::pair$<$ double, double $>$ values, bool is\+Dragging)
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_ab61e8f41edcda992236079373bf9646e}{set\+Linear}} (bool is\+Linear)
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a3e57ab01ca65a30b74af7dc9cab6b6ee}{move\+Current\+Control\+Point}} (QPointF delta)
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a9a41c3bb469c032b5568845cc93185b7}{set\+Enlarged}} (bool is\+Enlarged)
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a272e3198a8f8a9d03beeb3ed0ae0af38}{set\+Label\+Range}} (Channel\+Bar\+::\+Range range)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
QPointF \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_aaa0c995799e3a6bfe0ce30dee11bf0ac}{view\+To\+Stroke\+Point}} (const QPointF \&p)
\item 
int \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_ac04f6bc307057995936276c5e24e4831}{get\+Closest\+Point\+Index}} (const QPointF \&pos, double \&min\+Distance2) const
\item 
bool \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_ac9997afb9d885f8f88fc10e48d00fdfa}{is\+Central\+Control\+Point}} (const int index) const
\item 
bool \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_ae0134a3872830d319ba597327773b8f3}{is\+Left\+Control\+Point}} (const int index) const
\item 
bool \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_acaa64f2d6172bc5954519225c64490cf}{is\+Right\+Control\+Point}} (const int index) const
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a13a88cc2f07930ad1260f40b5945dccd}{set\+Point}} (int index, const QPointF point)
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_aaf9a987d443e5609dc8b61e9ba494cbb}{move\+Point}} (int index, const QPointF delta)
\item 
QPointF \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a6dc1204f54ff5cd215445115f5e7954a}{check\+Point}} (const QPointF p)
\item 
QPointF \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a0e71ae1bdebeabdfd43e44d64ded69d0}{get\+Visible\+Handle\+Pos}} (int index) const
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a08e3628b92455b048f1be1b8793884e5}{move\+Central\+Control\+Point}} (int index, QPointF delta)
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a0e2fd4009fcad8b22046a0bffb7822d0}{add\+Control\+Point}} (double percent)
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_ac898c9299b105c9865c3e98f6be6509f}{remove\+Control\+Point}} (int index)
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a762ae2599ce5646e19c493900162f5d1}{remove\+Current\+Control\+Point}} ()
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a16b39e38c7439835a21e69141c4e1dca}{select\+Next\+Control\+Point}} ()
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a3404758b412e6cf0694f5680780f3c6f}{select\+Previous\+Control\+Point}} ()
\item 
QPainter\+Path \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a15ad27c6f4920bef6cf492daa15419f2}{get\+Painter\+Path}} ()
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_ad775b6b4d91bbe61ce20132cf1ee56be}{paint\+Event}} (QPaint\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a6bf21eb21ba27acf1e9e2854265ca764}{mouse\+Move\+Event}} (QMouse\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a7555a7faea8511337b7b48b43928836e}{mouse\+Press\+Event}} (QMouse\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_ac8f33cc75e51ecd54c0c7723bf8d5ce7}{mouse\+Release\+Event}} (QMouse\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_ac295fb68aeb9946ab63bc22e878dde8f}{key\+Press\+Event}} (QKey\+Event $\ast$e) override
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_ac78dc6ff0232551322250e02a8da765d}{focus\+In\+Event}} (QFocus\+Event $\ast$fe) override
\item 
void \mbox{\hyperlink{class_d_v_gui_1_1_chennel_curve_editor_a078d03cdf02736135e8d88e1038c5cf7}{focus\+Out\+Event}} (QFocus\+Event $\ast$fe) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a23ba66791d3ae86698d8cec17bd84c8f}\label{class_d_v_gui_1_1_chennel_curve_editor_a23ba66791d3ae86698d8cec17bd84c8f}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!ChennelCurveEditor@{ChennelCurveEditor}}
\index{ChennelCurveEditor@{ChennelCurveEditor}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{ChennelCurveEditor()}{ChennelCurveEditor()}}
{\footnotesize\ttfamily Chennel\+Curve\+Editor\+::\+Chennel\+Curve\+Editor (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0},  }\item[{\mbox{\hyperlink{class_histogram_view}{Histogram\+View}} $\ast$}]{histogram\+View = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00107     : QWidget(parent)}
\DoxyCodeLine{00108     , m\_histogramView(histogramView)}
\DoxyCodeLine{00109     , m\_currentControlPointIndex(-\/1)}
\DoxyCodeLine{00110     , m\_mouseButton(Qt::NoButton)}
\DoxyCodeLine{00111     , m\_curveHeight(256)}
\DoxyCodeLine{00112     , m\_LeftRightMargin(42)}
\DoxyCodeLine{00113     , m\_TopMargin(9)}
\DoxyCodeLine{00114     , m\_BottomMargin(48)}
\DoxyCodeLine{00115     , m\_isLinear(\textcolor{keyword}{false})}
\DoxyCodeLine{00116     , m\_isEnlarged(\textcolor{keyword}{false}) \{}
\DoxyCodeLine{00117   setFixedSize(m\_curveHeight + 2 * m\_LeftRightMargin + 2,}
\DoxyCodeLine{00118                m\_curveHeight + m\_TopMargin + m\_BottomMargin);}
\DoxyCodeLine{00119   setAttribute(Qt::WA\_KeyCompression);}
\DoxyCodeLine{00120   setFocusPolicy(Qt::StrongFocus);}
\DoxyCodeLine{00121   setMouseTracking(\textcolor{keyword}{true});}
\DoxyCodeLine{00122 }
\DoxyCodeLine{00123   m\_histogramView-\/>setDrawnWidget(\textcolor{keyword}{this});}
\DoxyCodeLine{00124   m\_histogramView-\/>setGraphHeight(m\_curveHeight);}
\DoxyCodeLine{00125   m\_histogramView-\/>setGraphAlphaMask(120);}
\DoxyCodeLine{00126   m\_verticalChannelBar =}
\DoxyCodeLine{00127       \textcolor{keyword}{new} \mbox{\hyperlink{class_channel_bar}{ChannelBar}}(0, m\_histogramView-\/>getChannelBarColor(), \textcolor{keyword}{false});}
\DoxyCodeLine{00128 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a0e2fd4009fcad8b22046a0bffb7822d0}\label{class_d_v_gui_1_1_chennel_curve_editor_a0e2fd4009fcad8b22046a0bffb7822d0}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!addControlPoint@{addControlPoint}}
\index{addControlPoint@{addControlPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{addControlPoint()}{addControlPoint()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::add\+Control\+Point (\begin{DoxyParamCaption}\item[{double}]{percent }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00441                                                        \{}
\DoxyCodeLine{00442   QPainterPath path = getPainterPath();}
\DoxyCodeLine{00443   QPointF p         = path.pointAtPercent(percent);}
\DoxyCodeLine{00444 }
\DoxyCodeLine{00445   \textcolor{comment}{// Cerco il punto di controllo precedente}}
\DoxyCodeLine{00446   \textcolor{keywordtype}{int} pointCount = m\_points.size();}
\DoxyCodeLine{00447   \textcolor{keywordtype}{int} beforeControlPointIndex;}
\DoxyCodeLine{00448   \textcolor{keywordflow}{for} (beforeControlPointIndex = pointCount -\/ 1; beforeControlPointIndex >= 0;}
\DoxyCodeLine{00449        beforeControlPointIndex-\/-\/) \{}
\DoxyCodeLine{00450     QPointF point = m\_points.at(beforeControlPointIndex);}
\DoxyCodeLine{00451     \textcolor{keywordflow}{if} (isCentralControlPoint(beforeControlPointIndex) \&\& point.x() < p.x())}
\DoxyCodeLine{00452       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00453   \}}
\DoxyCodeLine{00454 }
\DoxyCodeLine{00455   \textcolor{keywordflow}{if} (beforeControlPointIndex == 0 || beforeControlPointIndex == pointCount -\/ 4)}
\DoxyCodeLine{00456     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00457 }
\DoxyCodeLine{00458   QPointF p0 = checkPoint(m\_points.at(beforeControlPointIndex));}
\DoxyCodeLine{00459   \textcolor{comment}{// Se sono troppo vicino al punto di controllo precedente ritorno}}
\DoxyCodeLine{00460   \textcolor{keywordflow}{if} (std::abs(p.x() -\/ p0.x()) <= cpMargin) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00461   \textcolor{keywordtype}{double} beforeControlPointPercent = getPercentAtPoint(p0, path);}
\DoxyCodeLine{00462   QPointF p1 = checkPoint(m\_points.at(beforeControlPointIndex + 1));}
\DoxyCodeLine{00463   QPointF p2 = checkPoint(m\_points.at(beforeControlPointIndex + 2));}
\DoxyCodeLine{00464   QPointF p3 = checkPoint(m\_points.at(beforeControlPointIndex + 3));}
\DoxyCodeLine{00465   \textcolor{comment}{// Se sono troppo vicino al punto di controllo successivo ritorno}}
\DoxyCodeLine{00466   \textcolor{keywordflow}{if} (std::abs(p3.x() -\/ p.x()) <= cpMargin) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00467   \textcolor{keywordtype}{double} nextControlPointPercent = getPercentAtPoint(p3, path);}
\DoxyCodeLine{00468 }
\DoxyCodeLine{00469   \textcolor{comment}{// Calcolo la velocita' e quindi il coiffciente angolare.}}
\DoxyCodeLine{00470   \textcolor{keywordtype}{double} t =}
\DoxyCodeLine{00471       percent * 100 / (nextControlPointPercent -\/ beforeControlPointPercent);}
\DoxyCodeLine{00472   \textcolor{keywordtype}{double} s = t -\/ 1;}
\DoxyCodeLine{00473   QPointF speed =}
\DoxyCodeLine{00474       3.0 * ((p1 -\/ p0) * s * s + 2 * (p2 -\/ p0) * s * t + (p3 -\/ p2) * t * t);}
\DoxyCodeLine{00475   \textcolor{keywordtype}{double} m = speed.y() / speed.x();}
\DoxyCodeLine{00476 }
\DoxyCodeLine{00477   \textcolor{keywordtype}{int} newControlPointIndex = beforeControlPointIndex + 3;}
\DoxyCodeLine{00478   m\_points.insert(newControlPointIndex -\/ 1,}
\DoxyCodeLine{00479                   QPointF(p.x() -\/ 16, p.y() -\/ 16 * m));}
\DoxyCodeLine{00480   m\_points.insert(newControlPointIndex, p);}
\DoxyCodeLine{00481   m\_points.insert(newControlPointIndex + 1,}
\DoxyCodeLine{00482                   QPointF(p.x() + 16, p.y() + 16 * m));}
\DoxyCodeLine{00483 }
\DoxyCodeLine{00484   m\_currentControlPointIndex = newControlPointIndex;}
\DoxyCodeLine{00485   m\_preMousePos              = p;}
\DoxyCodeLine{00486   emit controlPointAdded(newControlPointIndex);}
\DoxyCodeLine{00487   update();}
\DoxyCodeLine{00488 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a6dc1204f54ff5cd215445115f5e7954a}\label{class_d_v_gui_1_1_chennel_curve_editor_a6dc1204f54ff5cd215445115f5e7954a}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!checkPoint@{checkPoint}}
\index{checkPoint@{checkPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{checkPoint()}{checkPoint()}}
{\footnotesize\ttfamily QPointF Chennel\+Curve\+Editor\+::check\+Point (\begin{DoxyParamCaption}\item[{const QPointF}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00210                                                       \{}
\DoxyCodeLine{00211   QPointF checkedP = p;}
\DoxyCodeLine{00212   \textcolor{keywordflow}{if} (p.x() < 0)}
\DoxyCodeLine{00213     checkedP.setX(0);}
\DoxyCodeLine{00214   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (p.x() > m\_curveHeight)}
\DoxyCodeLine{00215     checkedP.setX(m\_curveHeight);}
\DoxyCodeLine{00216   \textcolor{keywordflow}{if} (p.y() < 0)}
\DoxyCodeLine{00217     checkedP.setY(0);}
\DoxyCodeLine{00218   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (p.y() > m\_curveHeight)}
\DoxyCodeLine{00219     checkedP.setY(m\_curveHeight);}
\DoxyCodeLine{00220   \textcolor{keywordflow}{return} checkedP;}
\DoxyCodeLine{00221 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a5580aaa6946c9ce245a00ad435b950f9}\label{class_d_v_gui_1_1_chennel_curve_editor_a5580aaa6946c9ce245a00ad435b950f9}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!eventFilter@{eventFilter}}
\index{eventFilter@{eventFilter}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{eventFilter()}{eventFilter()}}
{\footnotesize\ttfamily bool Chennel\+Curve\+Editor\+::event\+Filter (\begin{DoxyParamCaption}\item[{QObject $\ast$}]{object,  }\item[{QEvent $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00792                                                                    \{}
\DoxyCodeLine{00793   \textcolor{keywordflow}{if} (event-\/>type() == QEvent::Shortcut ||}
\DoxyCodeLine{00794       event-\/>type() == QEvent::ShortcutOverride) \{}
\DoxyCodeLine{00795     \textcolor{keywordflow}{if} (!object-\/>inherits(\textcolor{stringliteral}{"{}FxSettings"{}})) \{}
\DoxyCodeLine{00796       \textcolor{keyword}{event}-\/>accept();}
\DoxyCodeLine{00797       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00798     \}}
\DoxyCodeLine{00799   \}}
\DoxyCodeLine{00800   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00801 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ac78dc6ff0232551322250e02a8da765d}\label{class_d_v_gui_1_1_chennel_curve_editor_ac78dc6ff0232551322250e02a8da765d}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!focusInEvent@{focusInEvent}}
\index{focusInEvent@{focusInEvent}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{focusInEvent()}{focusInEvent()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::focus\+In\+Event (\begin{DoxyParamCaption}\item[{QFocus\+Event $\ast$}]{fe }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00805                                                      \{}
\DoxyCodeLine{00806   QWidget::focusInEvent(fe);}
\DoxyCodeLine{00807   qApp-\/>installEventFilter(\textcolor{keyword}{this});}
\DoxyCodeLine{00808 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a078d03cdf02736135e8d88e1038c5cf7}\label{class_d_v_gui_1_1_chennel_curve_editor_a078d03cdf02736135e8d88e1038c5cf7}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!focusOutEvent@{focusOutEvent}}
\index{focusOutEvent@{focusOutEvent}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{focusOutEvent()}{focusOutEvent()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::focus\+Out\+Event (\begin{DoxyParamCaption}\item[{QFocus\+Event $\ast$}]{fe }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00812                                                       \{}
\DoxyCodeLine{00813   emit focusOut();}
\DoxyCodeLine{00814   QWidget::focusOutEvent(fe);}
\DoxyCodeLine{00815   qApp-\/>removeEventFilter(\textcolor{keyword}{this});}
\DoxyCodeLine{00816   update();}
\DoxyCodeLine{00817 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ac04f6bc307057995936276c5e24e4831}\label{class_d_v_gui_1_1_chennel_curve_editor_ac04f6bc307057995936276c5e24e4831}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!getClosestPointIndex@{getClosestPointIndex}}
\index{getClosestPointIndex@{getClosestPointIndex}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{getClosestPointIndex()}{getClosestPointIndex()}}
{\footnotesize\ttfamily int Chennel\+Curve\+Editor\+::get\+Closest\+Point\+Index (\begin{DoxyParamCaption}\item[{const QPointF \&}]{pos,  }\item[{double \&}]{min\+Distance2 }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00278                                                                          \{}
\DoxyCodeLine{00279   \textcolor{keywordtype}{int} closestPointIndex = -\/1;}
\DoxyCodeLine{00280   minDistance2          = 0;}
\DoxyCodeLine{00281   \textcolor{keyword}{enum} pointType \{ Handle = 0, \mbox{\hyperlink{struct_control_point}{ControlPoint}}, PseudoHandle \} closestPointType;}
\DoxyCodeLine{00282   QRectF rect(0, 0, m\_curveHeight, m\_curveHeight);}
\DoxyCodeLine{00283   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00284   \textcolor{keywordflow}{for} (i = 3; i < (int)m\_points.size() -\/ 3; i++) \{}
\DoxyCodeLine{00285     \textcolor{keywordflow}{if} (m\_isLinear \&\& !isCentralControlPoint(i)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00286     QPointF visiblePoint = getVisibleHandlePos(i);}
\DoxyCodeLine{00287 }
\DoxyCodeLine{00288     pointType type =}
\DoxyCodeLine{00289         (isCentralControlPoint(i))}
\DoxyCodeLine{00290             ? \mbox{\hyperlink{struct_control_point}{ControlPoint}}}
\DoxyCodeLine{00291             : (visiblePoint == m\_points.at(i)) ? Handle : PseudoHandle;}
\DoxyCodeLine{00292 }
\DoxyCodeLine{00293     \textcolor{keywordtype}{double} distance2 = qtDistance2(pos, visiblePoint);}
\DoxyCodeLine{00294     \textcolor{keywordflow}{if} (closestPointIndex < 0 || distance2 < minDistance2 ||}
\DoxyCodeLine{00295         (distance2 == minDistance2 \&\& type < closestPointType)) \{}
\DoxyCodeLine{00296       minDistance2      = distance2;}
\DoxyCodeLine{00297       closestPointIndex = i;}
\DoxyCodeLine{00298       closestPointType  = type;}
\DoxyCodeLine{00299     \}}
\DoxyCodeLine{00300   \}}
\DoxyCodeLine{00301   \textcolor{keywordflow}{return} closestPointIndex;}
\DoxyCodeLine{00302 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a2769c9b3c1b295f99eea32850d4ee7e5}\label{class_d_v_gui_1_1_chennel_curve_editor_a2769c9b3c1b295f99eea32850d4ee7e5}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!getCurrentControlPointIndex@{getCurrentControlPointIndex}}
\index{getCurrentControlPointIndex@{getCurrentControlPointIndex}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{getCurrentControlPointIndex()}{getCurrentControlPointIndex()}}
{\footnotesize\ttfamily int DVGui\+::\+Chennel\+Curve\+Editor\+::get\+Current\+Control\+Point\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00068 \{ \textcolor{keywordflow}{return} m\_currentControlPointIndex; \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a15ad27c6f4920bef6cf492daa15419f2}\label{class_d_v_gui_1_1_chennel_curve_editor_a15ad27c6f4920bef6cf492daa15419f2}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!getPainterPath@{getPainterPath}}
\index{getPainterPath@{getPainterPath}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{getPainterPath()}{getPainterPath()}}
{\footnotesize\ttfamily QPainter\+Path Chennel\+Curve\+Editor\+::get\+Painter\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00588                                                 \{}
\DoxyCodeLine{00589   \textcolor{keywordtype}{int} pointCount = m\_points.size();}
\DoxyCodeLine{00590   \textcolor{keywordflow}{if} (pointCount == 0) \textcolor{keywordflow}{return} QPainterPath();}
\DoxyCodeLine{00591 }
\DoxyCodeLine{00592   QPointF p0 = m\_points.at(0);}
\DoxyCodeLine{00593   QPainterPath path(p0);}
\DoxyCodeLine{00594   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00595   \textcolor{keywordflow}{for} (i = 1; i < pointCount; i++) \{}
\DoxyCodeLine{00596     QPointF p1 = m\_points.at(i);}
\DoxyCodeLine{00597     QPointF p2 = m\_points.at(++i);}
\DoxyCodeLine{00598     QPointF p3 = m\_points.at(++i);}
\DoxyCodeLine{00599     path.moveTo(p0);}
\DoxyCodeLine{00600     \textcolor{keywordflow}{if} (!m\_isLinear) \{}
\DoxyCodeLine{00601       \textcolor{comment}{// truncate speed}}
\DoxyCodeLine{00602       QVector2D aSpeed(p1 -\/ p0);}
\DoxyCodeLine{00603       QVector2D bSpeed(p2 -\/ p3);}
\DoxyCodeLine{00604       truncateSpeeds(p0.x(), p3.x(), aSpeed, bSpeed);}
\DoxyCodeLine{00605       path.cubicTo(p0 + aSpeed.toPointF(), p3 + bSpeed.toPointF(), p3);}
\DoxyCodeLine{00606     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00607       path.lineTo(p3);}
\DoxyCodeLine{00608     p0 = p3;}
\DoxyCodeLine{00609   \}}
\DoxyCodeLine{00610 }
\DoxyCodeLine{00611   \textcolor{comment}{// Cerco le eventuali intersezioni con il bordo.}}
\DoxyCodeLine{00612   QRectF rect(0, 0, m\_curveHeight, m\_curveHeight);}
\DoxyCodeLine{00613   \textcolor{comment}{// QRectF rect(m\_LeftRightMargin, m\_TopMargin, m\_curveHeight, m\_curveHeight);}}
\DoxyCodeLine{00614   QRectF r = path.boundingRect();}
\DoxyCodeLine{00615   \textcolor{keywordflow}{if} (!rect.contains(QRect(rect.left(), r.top(), rect.width(), r.height()))) \{}
\DoxyCodeLine{00616     QList<QPointF> points = getIntersectedPoint(rect, path);}
\DoxyCodeLine{00617     \textcolor{comment}{// Se trovo punti di intersezione (per come e' definita la curva devono}}
\DoxyCodeLine{00618     \textcolor{comment}{// essere pari)}}
\DoxyCodeLine{00619     \textcolor{comment}{// faccio l'unione del path calcolato e di nuovi path lineari.}}
\DoxyCodeLine{00620     \textcolor{keywordtype}{int} j = 0;}
\DoxyCodeLine{00621     \textcolor{keywordflow}{for} (j = 0; j < points.size(); j++) \{}
\DoxyCodeLine{00622       QPointF p0 = points.at(j);}
\DoxyCodeLine{00623       QPointF p1 = points.at(++j);}
\DoxyCodeLine{00624       QPainterPath line(p0);}
\DoxyCodeLine{00625       line.lineTo(p1);}
\DoxyCodeLine{00626       path.addPath(line);}
\DoxyCodeLine{00627     \}}
\DoxyCodeLine{00628   \}}
\DoxyCodeLine{00629 }
\DoxyCodeLine{00630   \textcolor{keywordflow}{return} path;}
\DoxyCodeLine{00631 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a68c031e46f64fb52ce3abbc6e620bd61}\label{class_d_v_gui_1_1_chennel_curve_editor_a68c031e46f64fb52ce3abbc6e620bd61}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!getPoints@{getPoints}}
\index{getPoints@{getPoints}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{getPoints()}{getPoints()}}
{\footnotesize\ttfamily QList$<$ \mbox{\hyperlink{class_t_point_t}{TPointD}} $>$ Chennel\+Curve\+Editor\+::get\+Points (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00146                                              \{}
\DoxyCodeLine{00147   QList<TPointD> points;}
\DoxyCodeLine{00148   \textcolor{keywordflow}{if} (m\_points.isEmpty()) \textcolor{keywordflow}{return} points;}
\DoxyCodeLine{00149   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} QPointF \&point : m\_points)}
\DoxyCodeLine{00150     points.push\_back(\mbox{\hyperlink{class_t_point_t}{TPointD}}(point.x(), point.y()));}
\DoxyCodeLine{00151   \textcolor{keywordflow}{return} points;}
\DoxyCodeLine{00152 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a0e71ae1bdebeabdfd43e44d64ded69d0}\label{class_d_v_gui_1_1_chennel_curve_editor_a0e71ae1bdebeabdfd43e44d64ded69d0}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!getVisibleHandlePos@{getVisibleHandlePos}}
\index{getVisibleHandlePos@{getVisibleHandlePos}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{getVisibleHandlePos()}{getVisibleHandlePos()}}
{\footnotesize\ttfamily QPointF Chennel\+Curve\+Editor\+::get\+Visible\+Handle\+Pos (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00225                                                                \{}
\DoxyCodeLine{00226   QRectF rect(0.0, 0.0, m\_curveHeight, m\_curveHeight);}
\DoxyCodeLine{00227   QPointF handlePos(m\_points.at(index));}
\DoxyCodeLine{00228   \textcolor{keywordflow}{if} (isCentralControlPoint(index) || rect.contains(handlePos))}
\DoxyCodeLine{00229     \textcolor{keywordflow}{return} handlePos;}
\DoxyCodeLine{00230 }
\DoxyCodeLine{00231   \textcolor{keywordflow}{if} (isLeftControlPoint(index)) \{}
\DoxyCodeLine{00232     QPointF cp = m\_points.at(index + 1);}
\DoxyCodeLine{00233     QVector2D lHandle(handlePos -\/ cp);}
\DoxyCodeLine{00234     \textcolor{keywordflow}{if} (handlePos.x() < 0) \{}
\DoxyCodeLine{00235       \textcolor{keywordtype}{float} ratio = -\/cp.x() / lHandle.x();}
\DoxyCodeLine{00236       handlePos   = cp + lHandle.toPointF() * ratio;}
\DoxyCodeLine{00237     \}}
\DoxyCodeLine{00238     \textcolor{keywordflow}{if} (handlePos.y() < 0) \{}
\DoxyCodeLine{00239       \textcolor{keywordtype}{float} ratio = -\/cp.y() / lHandle.y();}
\DoxyCodeLine{00240       handlePos   = cp + lHandle.toPointF() * ratio;}
\DoxyCodeLine{00241     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (handlePos.y() > 256) \{}
\DoxyCodeLine{00242       \textcolor{keywordtype}{float} ratio = (256 -\/ cp.y()) / lHandle.y();}
\DoxyCodeLine{00243       handlePos   = cp + lHandle.toPointF() * ratio;}
\DoxyCodeLine{00244     \}}
\DoxyCodeLine{00245   \} \textcolor{keywordflow}{else} \{  \textcolor{comment}{// isRightControlPoint}}
\DoxyCodeLine{00246     QPointF cp = m\_points.at(index -\/ 1);}
\DoxyCodeLine{00247     QVector2D rHandle(handlePos -\/ cp);}
\DoxyCodeLine{00248     \textcolor{keywordflow}{if} (handlePos.x() > 256) \{}
\DoxyCodeLine{00249       \textcolor{keywordtype}{float} ratio = (256 -\/ cp.x()) / rHandle.x();}
\DoxyCodeLine{00250       handlePos   = cp + rHandle.toPointF() * ratio;}
\DoxyCodeLine{00251     \}}
\DoxyCodeLine{00252     \textcolor{keywordflow}{if} (handlePos.y() < 0) \{}
\DoxyCodeLine{00253       \textcolor{keywordtype}{float} ratio = -\/cp.y() / rHandle.y();}
\DoxyCodeLine{00254       handlePos   = cp + rHandle.toPointF() * ratio;}
\DoxyCodeLine{00255     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (handlePos.y() > 256) \{}
\DoxyCodeLine{00256       \textcolor{keywordtype}{float} ratio = (256 -\/ cp.y()) / rHandle.y();}
\DoxyCodeLine{00257       handlePos   = cp + rHandle.toPointF() * ratio;}
\DoxyCodeLine{00258     \}}
\DoxyCodeLine{00259   \}}
\DoxyCodeLine{00260   \textcolor{keywordflow}{return} handlePos;}
\DoxyCodeLine{00261 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ac9997afb9d885f8f88fc10e48d00fdfa}\label{class_d_v_gui_1_1_chennel_curve_editor_ac9997afb9d885f8f88fc10e48d00fdfa}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!isCentralControlPoint@{isCentralControlPoint}}
\index{isCentralControlPoint@{isCentralControlPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{isCentralControlPoint()}{isCentralControlPoint()}}
{\footnotesize\ttfamily bool DVGui\+::\+Chennel\+Curve\+Editor\+::is\+Central\+Control\+Point (\begin{DoxyParamCaption}\item[{const int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00087 \{ \textcolor{keywordflow}{return} index \% 3 == 0; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ae0134a3872830d319ba597327773b8f3}\label{class_d_v_gui_1_1_chennel_curve_editor_ae0134a3872830d319ba597327773b8f3}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!isLeftControlPoint@{isLeftControlPoint}}
\index{isLeftControlPoint@{isLeftControlPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{isLeftControlPoint()}{isLeftControlPoint()}}
{\footnotesize\ttfamily bool DVGui\+::\+Chennel\+Curve\+Editor\+::is\+Left\+Control\+Point (\begin{DoxyParamCaption}\item[{const int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00088 \{ \textcolor{keywordflow}{return} index \% 3 == 2; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_acaa64f2d6172bc5954519225c64490cf}\label{class_d_v_gui_1_1_chennel_curve_editor_acaa64f2d6172bc5954519225c64490cf}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!isRightControlPoint@{isRightControlPoint}}
\index{isRightControlPoint@{isRightControlPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{isRightControlPoint()}{isRightControlPoint()}}
{\footnotesize\ttfamily bool DVGui\+::\+Chennel\+Curve\+Editor\+::is\+Right\+Control\+Point (\begin{DoxyParamCaption}\item[{const int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00089 \{ \textcolor{keywordflow}{return} index \% 3 == 1; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ac295fb68aeb9946ab63bc22e878dde8f}\label{class_d_v_gui_1_1_chennel_curve_editor_ac295fb68aeb9946ab63bc22e878dde8f}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!keyPressEvent@{keyPressEvent}}
\index{keyPressEvent@{keyPressEvent}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{keyPressEvent()}{keyPressEvent()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::key\+Press\+Event (\begin{DoxyParamCaption}\item[{QKey\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00762                                                    \{}
\DoxyCodeLine{00763   \textcolor{keywordflow}{if} (m\_currentControlPointIndex == -\/1) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00764 }
\DoxyCodeLine{00765   \textcolor{keywordflow}{if} (e-\/>key() == Qt::Key\_Delete) \{}
\DoxyCodeLine{00766     removeCurrentControlPoint();}
\DoxyCodeLine{00767     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00768   \}}
\DoxyCodeLine{00769 }
\DoxyCodeLine{00770   \textcolor{keywordtype}{bool} controlPressed = e-\/>modifiers() \& Qt::ControlModifier;}
\DoxyCodeLine{00771   \textcolor{keywordtype}{bool} shiftPressed   = e-\/>modifiers() \& Qt::ShiftModifier;}
\DoxyCodeLine{00772   \textcolor{keywordtype}{float} delta         = (shiftPressed) ? 10.0 : 1.0;}
\DoxyCodeLine{00773 }
\DoxyCodeLine{00774   \textcolor{keywordflow}{if} (e-\/>key() == Qt::Key\_Right) \{}
\DoxyCodeLine{00775     \textcolor{keywordflow}{if} (controlPressed)}
\DoxyCodeLine{00776       selectNextControlPoint();}
\DoxyCodeLine{00777     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00778       moveCurrentControlPoint(QPointF(delta, 0.0));}
\DoxyCodeLine{00779   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (e-\/>key() == Qt::Key\_Left) \{}
\DoxyCodeLine{00780     \textcolor{keywordflow}{if} (controlPressed)}
\DoxyCodeLine{00781       selectPreviousControlPoint();}
\DoxyCodeLine{00782     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00783       moveCurrentControlPoint(QPointF(-\/delta, 0.0));}
\DoxyCodeLine{00784   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (e-\/>key() == Qt::Key\_Up)}
\DoxyCodeLine{00785     moveCurrentControlPoint(QPointF(0.0, delta));}
\DoxyCodeLine{00786   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (e-\/>key() == Qt::Key\_Down)}
\DoxyCodeLine{00787     moveCurrentControlPoint(QPointF(0.0, -\/delta));}
\DoxyCodeLine{00788 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a6bf21eb21ba27acf1e9e2854265ca764}\label{class_d_v_gui_1_1_chennel_curve_editor_a6bf21eb21ba27acf1e9e2854265ca764}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!mouseMoveEvent@{mouseMoveEvent}}
\index{mouseMoveEvent@{mouseMoveEvent}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{mouseMoveEvent()}{mouseMoveEvent()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::mouse\+Move\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00710                                                       \{}
\DoxyCodeLine{00711   QPointF posF = viewToStrokePoint(QPointF(e-\/>pos()));}
\DoxyCodeLine{00712   \textcolor{keywordflow}{if} (m\_mouseButton == Qt::LeftButton \&\& m\_currentControlPointIndex != -\/1) \{}
\DoxyCodeLine{00713     moveCurrentControlPoint(posF -\/ m\_preMousePos);}
\DoxyCodeLine{00714     m\_preMousePos = posF;}
\DoxyCodeLine{00715   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_currentControlPointIndex == -\/1)}
\DoxyCodeLine{00716     emit updateCurrentPosition(-\/1, posF);}
\DoxyCodeLine{00717 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a7555a7faea8511337b7b48b43928836e}\label{class_d_v_gui_1_1_chennel_curve_editor_a7555a7faea8511337b7b48b43928836e}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!mousePressEvent@{mousePressEvent}}
\index{mousePressEvent@{mousePressEvent}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{mousePressEvent()}{mousePressEvent()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::mouse\+Press\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00721                                                        \{}
\DoxyCodeLine{00722   m\_mouseButton = e-\/>button();}
\DoxyCodeLine{00723   setFocus();}
\DoxyCodeLine{00724   \textcolor{keywordflow}{if} (m\_mouseButton == Qt::LeftButton) \{}
\DoxyCodeLine{00725     QPointF posF = viewToStrokePoint(QPointF(e-\/>pos()));}
\DoxyCodeLine{00726     \textcolor{keywordtype}{double} minDistance;}
\DoxyCodeLine{00727     \textcolor{keywordtype}{int} controlPointIndex = getClosestPointIndex(posF, minDistance);}
\DoxyCodeLine{00728 }
\DoxyCodeLine{00729     \textcolor{comment}{// Se la distanza e' piccola seleziono il control point corrente}}
\DoxyCodeLine{00730     \textcolor{keywordflow}{if} (minDistance < 20) \{}
\DoxyCodeLine{00731       m\_currentControlPointIndex = controlPointIndex;}
\DoxyCodeLine{00732       m\_preMousePos              = posF;}
\DoxyCodeLine{00733     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00734       m\_currentControlPointIndex = -\/1;}
\DoxyCodeLine{00735       \textcolor{comment}{// Se sono sufficentemente lontano da un punto di controllo, ma abbastanza}}
\DoxyCodeLine{00736       \textcolor{comment}{// vicino alla curva}}
\DoxyCodeLine{00737       \textcolor{comment}{// aggiungo un punto di controllo}}
\DoxyCodeLine{00738       \textcolor{keywordtype}{double} percent = getPercentAtPoint(posF, getPainterPath());}
\DoxyCodeLine{00739       \textcolor{keywordflow}{if} (percent != 0 \&\& minDistance > 20) addControlPoint(percent);}
\DoxyCodeLine{00740     \}}
\DoxyCodeLine{00741     QPointF currentPointPos = (m\_currentControlPointIndex == -\/1)}
\DoxyCodeLine{00742                                   ? posF}
\DoxyCodeLine{00743                                   : m\_points.at(m\_currentControlPointIndex);}
\DoxyCodeLine{00744 }
\DoxyCodeLine{00745     emit updateCurrentPosition(m\_currentControlPointIndex, currentPointPos);}
\DoxyCodeLine{00746     update();}
\DoxyCodeLine{00747   \}}
\DoxyCodeLine{00748 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ac8f33cc75e51ecd54c0c7723bf8d5ce7}\label{class_d_v_gui_1_1_chennel_curve_editor_ac8f33cc75e51ecd54c0c7723bf8d5ce7}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!mouseReleaseEvent@{mouseReleaseEvent}}
\index{mouseReleaseEvent@{mouseReleaseEvent}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{mouseReleaseEvent()}{mouseReleaseEvent()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::mouse\+Release\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00752                                                          \{}
\DoxyCodeLine{00753   \textcolor{comment}{// fx preview updates here ( it does not update while mouse dragging )}}
\DoxyCodeLine{00754   \textcolor{keywordflow}{if} (m\_mouseButton == Qt::LeftButton \&\& m\_currentControlPointIndex != -\/1 \&\&}
\DoxyCodeLine{00755       e-\/>button() == Qt::LeftButton)}
\DoxyCodeLine{00756     emit controlPointChanged(\textcolor{keyword}{false});}
\DoxyCodeLine{00757   m\_mouseButton = Qt::NoButton;}
\DoxyCodeLine{00758 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a08e3628b92455b048f1be1b8793884e5}\label{class_d_v_gui_1_1_chennel_curve_editor_a08e3628b92455b048f1be1b8793884e5}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!moveCentralControlPoint@{moveCentralControlPoint}}
\index{moveCentralControlPoint@{moveCentralControlPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{moveCentralControlPoint()}{moveCentralControlPoint()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::move\+Central\+Control\+Point (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{QPointF}]{delta }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00395                                                                          \{}
\DoxyCodeLine{00396   \textcolor{keywordtype}{int} pointCount = m\_points.size();}
\DoxyCodeLine{00397 }
\DoxyCodeLine{00398   assert(index < pointCount -\/ 3 \&\& index > 2);}
\DoxyCodeLine{00399 }
\DoxyCodeLine{00400   QPointF p = m\_points.at(index);}
\DoxyCodeLine{00401   QPointF d = delta;}
\DoxyCodeLine{00402   \textcolor{comment}{// Trovo il valore di delta im modo tale che il punto di controllo non sia}}
\DoxyCodeLine{00403   \textcolor{comment}{// trascinato fuori dal range consentito}}
\DoxyCodeLine{00404   QPointF newPoint = checkPoint(p + delta);}
\DoxyCodeLine{00405   d                = newPoint -\/ p;}
\DoxyCodeLine{00406 }
\DoxyCodeLine{00407   QPointF nextP       = m\_points.at(index + 3);}
\DoxyCodeLine{00408   QPointF precP       = m\_points.at(index -\/ 3);}
\DoxyCodeLine{00409   \textcolor{keywordtype}{double} nextDistance = nextP.x() -\/ (p.x() + d.x());}
\DoxyCodeLine{00410   \textcolor{keywordtype}{double} precDistance = (p.x() + d.x()) -\/ precP.x();}
\DoxyCodeLine{00411 }
\DoxyCodeLine{00412   \textcolor{keywordflow}{if} (nextDistance < cpMargin)}
\DoxyCodeLine{00413     d = QPointF(nextP.x() -\/ p.x() -\/ cpMargin, d.y());}
\DoxyCodeLine{00414   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (precDistance < cpMargin)}
\DoxyCodeLine{00415     d = QPointF(precP.x() -\/ p.x() + cpMargin, d.y());}
\DoxyCodeLine{00416 }
\DoxyCodeLine{00417   \textcolor{keywordflow}{if} (d.isNull()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00418 }
\DoxyCodeLine{00419   \textcolor{comment}{// Punto di controllo speciale: il primo visualizzato.}}
\DoxyCodeLine{00420   \textcolor{keywordflow}{if} (index == 3) \{}
\DoxyCodeLine{00421     QPointF dY = QPointF(0, d.y());}
\DoxyCodeLine{00422     movePoint(index -\/ 1, dY);}
\DoxyCodeLine{00423     movePoint(index -\/ 2, dY);}
\DoxyCodeLine{00424     movePoint(index -\/ 3, dY);}
\DoxyCodeLine{00425   \}}
\DoxyCodeLine{00426   \textcolor{comment}{// Punto di controllo speciale: l'ultimo visualizzato.}}
\DoxyCodeLine{00427   \textcolor{keywordflow}{if} (index == pointCount -\/ 4) \{}
\DoxyCodeLine{00428     QPointF dY = QPointF(0, d.y());}
\DoxyCodeLine{00429     movePoint(index + 1, dY);}
\DoxyCodeLine{00430     movePoint(index + 2, dY);}
\DoxyCodeLine{00431     movePoint(index + 3, dY);}
\DoxyCodeLine{00432   \}}
\DoxyCodeLine{00433   \textcolor{keywordflow}{if} (index > 3) movePoint(index -\/ 1, d);}
\DoxyCodeLine{00434   \textcolor{keywordflow}{if} (index < pointCount -\/ 4) movePoint(index + 1, d);}
\DoxyCodeLine{00435   movePoint(index, d);}
\DoxyCodeLine{00436   emit controlPointChanged(\textcolor{keyword}{true});}
\DoxyCodeLine{00437 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a3e57ab01ca65a30b74af7dc9cab6b6ee}\label{class_d_v_gui_1_1_chennel_curve_editor_a3e57ab01ca65a30b74af7dc9cab6b6ee}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!moveCurrentControlPoint@{moveCurrentControlPoint}}
\index{moveCurrentControlPoint@{moveCurrentControlPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{moveCurrentControlPoint()}{moveCurrentControlPoint()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::move\+Current\+Control\+Point (\begin{DoxyParamCaption}\item[{QPointF}]{delta }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00335                                                               \{}
\DoxyCodeLine{00336   assert(m\_currentControlPointIndex != -\/1);}
\DoxyCodeLine{00337   \textcolor{keywordtype}{int} pointCount = m\_points.size();}
\DoxyCodeLine{00338   \textcolor{comment}{// in case moving the control point}}
\DoxyCodeLine{00339   \textcolor{keywordflow}{if} (isCentralControlPoint(m\_currentControlPointIndex))}
\DoxyCodeLine{00340     moveCentralControlPoint(m\_currentControlPointIndex, delta);}
\DoxyCodeLine{00341   \textcolor{comment}{// in case moving the left handle}}
\DoxyCodeLine{00342   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (isLeftControlPoint(m\_currentControlPointIndex)) \{}
\DoxyCodeLine{00343     QPointF cp   = m\_points.at(m\_currentControlPointIndex + 1);}
\DoxyCodeLine{00344     QPointF left = m\_points.at(m\_currentControlPointIndex);}
\DoxyCodeLine{00345 }
\DoxyCodeLine{00346     \textcolor{comment}{// handle should not move across the control point}}
\DoxyCodeLine{00347     \textcolor{keywordflow}{if} (left.x() + delta.x() > cp.x()) delta.setX(cp.x() -\/ left.x());}
\DoxyCodeLine{00348 }
\DoxyCodeLine{00349     left += delta;}
\DoxyCodeLine{00350     setPoint(m\_currentControlPointIndex, left);}
\DoxyCodeLine{00351 }
\DoxyCodeLine{00352     \textcolor{comment}{// rotate the opposite handle keeping the handle length unchanged}}
\DoxyCodeLine{00353     \textcolor{keywordflow}{if} (m\_currentControlPointIndex < pointCount -\/ 5) \{}
\DoxyCodeLine{00354       QVector2D lHandle(cp -\/ left);}
\DoxyCodeLine{00355       \textcolor{keywordflow}{if} (!lHandle.isNull()) \{}
\DoxyCodeLine{00356         QPointF right = m\_points.at(m\_currentControlPointIndex + 2);}
\DoxyCodeLine{00357         QVector2D rHandle(right -\/ cp);}
\DoxyCodeLine{00358         QVector2D newRHandle = lHandle.normalized() * rHandle.length();}
\DoxyCodeLine{00359         setPoint(m\_currentControlPointIndex + 2, cp + newRHandle.toPointF());}
\DoxyCodeLine{00360       \}}
\DoxyCodeLine{00361     \}}
\DoxyCodeLine{00362     emit controlPointChanged(\textcolor{keyword}{true});}
\DoxyCodeLine{00363   \}}
\DoxyCodeLine{00364   \textcolor{comment}{// in case moving the right handle}}
\DoxyCodeLine{00365   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00366     assert(isRightControlPoint(m\_currentControlPointIndex));}
\DoxyCodeLine{00367     QPointF cp    = m\_points.at(m\_currentControlPointIndex -\/ 1);}
\DoxyCodeLine{00368     QPointF right = m\_points.at(m\_currentControlPointIndex);}
\DoxyCodeLine{00369 }
\DoxyCodeLine{00370     \textcolor{comment}{// handle should not move across the control point}}
\DoxyCodeLine{00371     \textcolor{keywordflow}{if} (right.x() + delta.x() < cp.x()) delta.setX(cp.x() -\/ right.x());}
\DoxyCodeLine{00372 }
\DoxyCodeLine{00373     right += delta;}
\DoxyCodeLine{00374     setPoint(m\_currentControlPointIndex, right);}
\DoxyCodeLine{00375 }
\DoxyCodeLine{00376     \textcolor{comment}{// rotate the opposite handle keeping the handle length unchanged}}
\DoxyCodeLine{00377     \textcolor{keywordflow}{if} (m\_currentControlPointIndex > 4) \{}
\DoxyCodeLine{00378       QVector2D rHandle(cp -\/ right);}
\DoxyCodeLine{00379       \textcolor{keywordflow}{if} (!rHandle.isNull()) \{}
\DoxyCodeLine{00380         QPointF left = m\_points.at(m\_currentControlPointIndex -\/ 2);}
\DoxyCodeLine{00381         QVector2D lHandle(left -\/ cp);}
\DoxyCodeLine{00382         QVector2D newLHandle = rHandle.normalized() * lHandle.length();}
\DoxyCodeLine{00383         setPoint(m\_currentControlPointIndex -\/ 2, cp + newLHandle.toPointF());}
\DoxyCodeLine{00384       \}}
\DoxyCodeLine{00385     \}}
\DoxyCodeLine{00386     emit controlPointChanged(\textcolor{keyword}{true});}
\DoxyCodeLine{00387   \}}
\DoxyCodeLine{00388   update();}
\DoxyCodeLine{00389   emit updateCurrentPosition(m\_currentControlPointIndex,}
\DoxyCodeLine{00390                              m\_points.at(m\_currentControlPointIndex));}
\DoxyCodeLine{00391 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_aaf9a987d443e5609dc8b61e9ba494cbb}\label{class_d_v_gui_1_1_chennel_curve_editor_aaf9a987d443e5609dc8b61e9ba494cbb}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!movePoint@{movePoint}}
\index{movePoint@{movePoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{movePoint()}{movePoint()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::move\+Point (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{const QPointF}]{delta }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00306                                                                  \{}
\DoxyCodeLine{00307   QPointF p = m\_points.at(index);}
\DoxyCodeLine{00308   p += delta;}
\DoxyCodeLine{00309   setPoint(index, p);}
\DoxyCodeLine{00310 }
\DoxyCodeLine{00311   \textcolor{keywordtype}{int} firstIndex = 3;}
\DoxyCodeLine{00312   \textcolor{keywordtype}{int} lastIndex  = m\_points.size() -\/ 4;}
\DoxyCodeLine{00313   \textcolor{keywordflow}{if} (index == firstIndex)}
\DoxyCodeLine{00314     emit firstLastXPostionChanged(p.x(), m\_points.at(lastIndex).x());}
\DoxyCodeLine{00315   \textcolor{keywordflow}{if} (index == lastIndex)}
\DoxyCodeLine{00316     emit firstLastXPostionChanged(m\_points.at(firstIndex).x(), p.x());}
\DoxyCodeLine{00317 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ad775b6b4d91bbe61ce20132cf1ee56be}\label{class_d_v_gui_1_1_chennel_curve_editor_ad775b6b4d91bbe61ce20132cf1ee56be}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!paintEvent@{paintEvent}}
\index{paintEvent@{paintEvent}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{paintEvent()}{paintEvent()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::paint\+Event (\begin{DoxyParamCaption}\item[{QPaint\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00635                                                   \{}
\DoxyCodeLine{00636   QPainter painter(\textcolor{keyword}{this});}
\DoxyCodeLine{00637 }
\DoxyCodeLine{00638   \textcolor{keywordtype}{double} scale = (m\_isEnlarged) ? 2.0 : 1.0;}
\DoxyCodeLine{00639   \textcolor{comment}{// Disegno il reticolato}}
\DoxyCodeLine{00640   painter.setRenderHint(QPainter::Antialiasing, \textcolor{keyword}{false});}
\DoxyCodeLine{00641   painter.setPen(QColor(250, 250, 250));}
\DoxyCodeLine{00642 }
\DoxyCodeLine{00643   \textcolor{comment}{// Disegno l'histogram.}}
\DoxyCodeLine{00644   m\_histogramView-\/>draw(\&painter, QPoint(m\_LeftRightMargin -\/ 10, 0),}
\DoxyCodeLine{00645                         m\_curveHeight * scale);}
\DoxyCodeLine{00646 }
\DoxyCodeLine{00647   \textcolor{comment}{// Disegno la barra verticale a sinistra.}}
\DoxyCodeLine{00648   m\_verticalChannelBar-\/>draw(}
\DoxyCodeLine{00649       \&painter,}
\DoxyCodeLine{00650       QPoint(0, -\/2));  \textcolor{comment}{//-\/1 == m\_topMargin-\/ il margine della barra(=10+1).}}
\DoxyCodeLine{00651 }
\DoxyCodeLine{00652   QRectF r = rect().adjusted(m\_LeftRightMargin, m\_TopMargin, -\/m\_LeftRightMargin,}
\DoxyCodeLine{00653                              -\/m\_BottomMargin);}
\DoxyCodeLine{00654   \textcolor{comment}{// Disegno la curva entro i limiti del grafo}}
\DoxyCodeLine{00655   painter.setClipRect(r, Qt::IntersectClip);}
\DoxyCodeLine{00656 }
\DoxyCodeLine{00657   painter.translate(m\_LeftRightMargin + 1, height() -\/ m\_BottomMargin);}
\DoxyCodeLine{00658   painter.scale(scale, -\/scale);}
\DoxyCodeLine{00659 }
\DoxyCodeLine{00660   QPainterPath path = getPainterPath();}
\DoxyCodeLine{00661   \textcolor{keywordflow}{if} (path.isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00662   painter.setRenderHint(QPainter::Antialiasing, \textcolor{keyword}{true});}
\DoxyCodeLine{00663   QPen blackPen(Qt::black);}
\DoxyCodeLine{00664   QPen bluePen(Qt::blue);}
\DoxyCodeLine{00665   blackPen.setWidthF(1.0 / scale);}
\DoxyCodeLine{00666   bluePen.setWidthF(1.0 / scale);}
\DoxyCodeLine{00667 }
\DoxyCodeLine{00668   painter.setPen(blackPen);}
\DoxyCodeLine{00669   painter.setBrush(Qt::NoBrush);}
\DoxyCodeLine{00670   painter.drawPath(path);}
\DoxyCodeLine{00671 }
\DoxyCodeLine{00672   \textcolor{keywordtype}{int} n     = m\_points.size();}
\DoxyCodeLine{00673   QPointF p = m\_points.at(3);}
\DoxyCodeLine{00674   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 3; i < n -\/ 3; i++) \{}
\DoxyCodeLine{00675     QBrush brush(Qt::white);}
\DoxyCodeLine{00676     \textcolor{keywordtype}{int} rad       = (m\_isEnlarged) ? 1 : 2;}
\DoxyCodeLine{00677     QPointF nextP = m\_points.at(i + 1);}
\DoxyCodeLine{00678     \textcolor{keywordflow}{if} (isCentralControlPoint(i))}
\DoxyCodeLine{00679       rad = (m\_isEnlarged) ? 2 : 3;}
\DoxyCodeLine{00680     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_isLinear) \{}
\DoxyCodeLine{00681       p = nextP;}
\DoxyCodeLine{00682       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00683     \}}
\DoxyCodeLine{00684     painter.setPen(blackPen);}
\DoxyCodeLine{00685 }
\DoxyCodeLine{00686     QPointF handlePos = p;}
\DoxyCodeLine{00687     \textcolor{keywordflow}{if} (!m\_isLinear) \{}
\DoxyCodeLine{00688       \textcolor{keywordflow}{if} (isLeftControlPoint(i)) \{}
\DoxyCodeLine{00689         painter.drawLine(p, nextP);}
\DoxyCodeLine{00690       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (isCentralControlPoint(i) \&\& i < n -\/ 4)}
\DoxyCodeLine{00691         painter.drawLine(p, nextP);}
\DoxyCodeLine{00692 }
\DoxyCodeLine{00693       handlePos = getVisibleHandlePos(i);}
\DoxyCodeLine{00694     \}}
\DoxyCodeLine{00695 }
\DoxyCodeLine{00696     painter.setBrush((m\_currentControlPointIndex != i)}
\DoxyCodeLine{00697                          ? Qt::white}
\DoxyCodeLine{00698                          : (p == handlePos) ? Qt::black : Qt::blue);}
\DoxyCodeLine{00699     painter.setPen((p == handlePos) ? blackPen : bluePen);}
\DoxyCodeLine{00700 }
\DoxyCodeLine{00701     QRectF pointRect(handlePos.x() -\/ rad, handlePos.y() -\/ rad, 2 * rad,}
\DoxyCodeLine{00702                      2 * rad);}
\DoxyCodeLine{00703     painter.drawEllipse(pointRect);}
\DoxyCodeLine{00704     p = nextP;}
\DoxyCodeLine{00705   \}}
\DoxyCodeLine{00706 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ac898c9299b105c9865c3e98f6be6509f}\label{class_d_v_gui_1_1_chennel_curve_editor_ac898c9299b105c9865c3e98f6be6509f}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!removeControlPoint@{removeControlPoint}}
\index{removeControlPoint@{removeControlPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{removeControlPoint()}{removeControlPoint()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::remove\+Control\+Point (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00538                                                      \{}
\DoxyCodeLine{00539   \textcolor{comment}{// Non posso eliminare il primo punto di controllo visibile quindi lo rimetto}}
\DoxyCodeLine{00540   \textcolor{comment}{// in condizione iniziale}}
\DoxyCodeLine{00541   \textcolor{keywordflow}{if} (index <= 4) \{}
\DoxyCodeLine{00542     setPoint(0, QPointF(-\/40, 0));}
\DoxyCodeLine{00543     setPoint(1, QPointF(-\/20, 0));}
\DoxyCodeLine{00544     setPoint(2, QPointF(-\/20, 0));}
\DoxyCodeLine{00545     setPoint(3, QPointF(0, 0));}
\DoxyCodeLine{00546     setPoint(4, QPointF(16, 16));}
\DoxyCodeLine{00547     update();}
\DoxyCodeLine{00548     emit controlPointChanged(\textcolor{keyword}{false});}
\DoxyCodeLine{00549     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00550   \}}
\DoxyCodeLine{00551   \textcolor{comment}{// Non posso eliminare il l'ultimo punto di controllo visibile quindi lo}}
\DoxyCodeLine{00552   \textcolor{comment}{// rimetto in condizione iniziale}}
\DoxyCodeLine{00553   \textcolor{keywordflow}{if} (index >= m\_points.size() -\/ 5) \{}
\DoxyCodeLine{00554     \textcolor{keywordtype}{int} i = m\_points.size() -\/ 5;}
\DoxyCodeLine{00555     setPoint(i, QPointF(239, 239));}
\DoxyCodeLine{00556     setPoint(i + 1, QPointF(255, 255));}
\DoxyCodeLine{00557     setPoint(i + 2, QPointF(275, 255));}
\DoxyCodeLine{00558     setPoint(i + 3, QPointF(275, 255));}
\DoxyCodeLine{00559     setPoint(i + 4, QPointF(295, 255));}
\DoxyCodeLine{00560     update();}
\DoxyCodeLine{00561     emit controlPointChanged(\textcolor{keyword}{false});}
\DoxyCodeLine{00562     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00563   \}}
\DoxyCodeLine{00564 }
\DoxyCodeLine{00565   \textcolor{keywordtype}{int} firstIndex = 0;}
\DoxyCodeLine{00566   \textcolor{keywordflow}{if} (isCentralControlPoint(index))}
\DoxyCodeLine{00567     firstIndex = index -\/ 1;}
\DoxyCodeLine{00568   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (isLeftControlPoint(index))}
\DoxyCodeLine{00569     firstIndex = index;}
\DoxyCodeLine{00570   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00571     firstIndex = index -\/ 2;}
\DoxyCodeLine{00572 }
\DoxyCodeLine{00573   m\_points.removeAt(firstIndex);}
\DoxyCodeLine{00574   m\_points.removeAt(firstIndex);}
\DoxyCodeLine{00575   m\_points.removeAt(firstIndex);}
\DoxyCodeLine{00576 }
\DoxyCodeLine{00577   emit controlPointRemoved(firstIndex + 1);}
\DoxyCodeLine{00578   m\_currentControlPointIndex = firstIndex -\/ 2;}
\DoxyCodeLine{00579 }
\DoxyCodeLine{00580   emit updateCurrentPosition(m\_currentControlPointIndex,}
\DoxyCodeLine{00581                              m\_points.at(m\_currentControlPointIndex));}
\DoxyCodeLine{00582 }
\DoxyCodeLine{00583   update();}
\DoxyCodeLine{00584 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a762ae2599ce5646e19c493900162f5d1}\label{class_d_v_gui_1_1_chennel_curve_editor_a762ae2599ce5646e19c493900162f5d1}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!removeCurrentControlPoint@{removeCurrentControlPoint}}
\index{removeCurrentControlPoint@{removeCurrentControlPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{removeCurrentControlPoint()}{removeCurrentControlPoint()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::remove\+Current\+Control\+Point (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00492                                                    \{}
\DoxyCodeLine{00493   removeControlPoint(m\_currentControlPointIndex);}
\DoxyCodeLine{00494 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a16b39e38c7439835a21e69141c4e1dca}\label{class_d_v_gui_1_1_chennel_curve_editor_a16b39e38c7439835a21e69141c4e1dca}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!selectNextControlPoint@{selectNextControlPoint}}
\index{selectNextControlPoint@{selectNextControlPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{selectNextControlPoint()}{selectNextControlPoint()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::select\+Next\+Control\+Point (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00498                                                 \{}
\DoxyCodeLine{00499   \textcolor{keywordtype}{int} controlPointCount = (int)m\_points.size();}
\DoxyCodeLine{00500 }
\DoxyCodeLine{00501   \textcolor{keywordflow}{if} (controlPointCount == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00502 }
\DoxyCodeLine{00503   \textcolor{keywordtype}{int} firstVisibleControlPoint = 3;}
\DoxyCodeLine{00504   \textcolor{keywordtype}{int} lastVisibleControlPoint  = m\_points.size() -\/ 4;}
\DoxyCodeLine{00505 }
\DoxyCodeLine{00506   m\_currentControlPointIndex++;}
\DoxyCodeLine{00507   \textcolor{keywordflow}{if} (m\_currentControlPointIndex < firstVisibleControlPoint ||}
\DoxyCodeLine{00508       m\_currentControlPointIndex > lastVisibleControlPoint)}
\DoxyCodeLine{00509     m\_currentControlPointIndex = firstVisibleControlPoint;}
\DoxyCodeLine{00510 }
\DoxyCodeLine{00511   emit updateCurrentPosition(m\_currentControlPointIndex,}
\DoxyCodeLine{00512                              m\_points.at(m\_currentControlPointIndex));}
\DoxyCodeLine{00513   update();}
\DoxyCodeLine{00514 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a3404758b412e6cf0694f5680780f3c6f}\label{class_d_v_gui_1_1_chennel_curve_editor_a3404758b412e6cf0694f5680780f3c6f}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!selectPreviousControlPoint@{selectPreviousControlPoint}}
\index{selectPreviousControlPoint@{selectPreviousControlPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{selectPreviousControlPoint()}{selectPreviousControlPoint()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::select\+Previous\+Control\+Point (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00518                                                     \{}
\DoxyCodeLine{00519   \textcolor{keywordtype}{int} controlPointCount = (int)m\_points.size();}
\DoxyCodeLine{00520 }
\DoxyCodeLine{00521   \textcolor{keywordflow}{if} (controlPointCount == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00522 }
\DoxyCodeLine{00523   \textcolor{keywordtype}{int} firstVisibleControlPoint = 3;}
\DoxyCodeLine{00524   \textcolor{keywordtype}{int} lastVisibleControlPoint  = m\_points.size() -\/ 4;}
\DoxyCodeLine{00525 }
\DoxyCodeLine{00526   m\_currentControlPointIndex-\/-\/;}
\DoxyCodeLine{00527   \textcolor{keywordflow}{if} (m\_currentControlPointIndex < firstVisibleControlPoint ||}
\DoxyCodeLine{00528       m\_currentControlPointIndex > lastVisibleControlPoint)}
\DoxyCodeLine{00529     m\_currentControlPointIndex = lastVisibleControlPoint;}
\DoxyCodeLine{00530 }
\DoxyCodeLine{00531   emit updateCurrentPosition(m\_currentControlPointIndex,}
\DoxyCodeLine{00532                              m\_points.at(m\_currentControlPointIndex));}
\DoxyCodeLine{00533   update();}
\DoxyCodeLine{00534 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a52b3d5813e993baf83096f75e09be3df}\label{class_d_v_gui_1_1_chennel_curve_editor_a52b3d5813e993baf83096f75e09be3df}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!setCurrentControlPointIndex@{setCurrentControlPointIndex}}
\index{setCurrentControlPointIndex@{setCurrentControlPointIndex}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{setCurrentControlPointIndex()}{setCurrentControlPointIndex()}}
{\footnotesize\ttfamily void DVGui\+::\+Chennel\+Curve\+Editor\+::set\+Current\+Control\+Point\+Index (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00069                                               \{}
\DoxyCodeLine{00070     m\_currentControlPointIndex = index;}
\DoxyCodeLine{00071   \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a9a41c3bb469c032b5568845cc93185b7}\label{class_d_v_gui_1_1_chennel_curve_editor_a9a41c3bb469c032b5568845cc93185b7}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!setEnlarged@{setEnlarged}}
\index{setEnlarged@{setEnlarged}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{setEnlarged()}{setEnlarged()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::set\+Enlarged (\begin{DoxyParamCaption}\item[{bool}]{is\+Enlarged }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00190                                                     \{}
\DoxyCodeLine{00191   \textcolor{keywordflow}{if} (m\_isEnlarged == isEnlarged) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00192   m\_isEnlarged     = isEnlarged;}
\DoxyCodeLine{00193   \textcolor{keywordtype}{int} widgetHeight = (m\_isEnlarged) ? m\_curveHeight * 2 : m\_curveHeight;}
\DoxyCodeLine{00194   setFixedSize(widgetHeight + 2 * m\_LeftRightMargin + 2,}
\DoxyCodeLine{00195                widgetHeight + m\_TopMargin + m\_BottomMargin);}
\DoxyCodeLine{00196   m\_histogramView-\/>setGraphHeight(widgetHeight);}
\DoxyCodeLine{00197   m\_verticalChannelBar-\/>setFixedHeight(widgetHeight + 22);}
\DoxyCodeLine{00198   update();}
\DoxyCodeLine{00199 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a182e03a0de2e48f536a615c1cadabd02}\label{class_d_v_gui_1_1_chennel_curve_editor_a182e03a0de2e48f536a615c1cadabd02}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!setFirstLastXPosition@{setFirstLastXPosition}}
\index{setFirstLastXPosition@{setFirstLastXPosition}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{setFirstLastXPosition()}{setFirstLastXPosition()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::set\+First\+Last\+XPosition (\begin{DoxyParamCaption}\item[{std\+::pair$<$ double, double $>$}]{values,  }\item[{bool}]{is\+Dragging }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00157                                                                 \{}
\DoxyCodeLine{00158   QPointF newX0(values.first, 0);}
\DoxyCodeLine{00159   QPointF newX1(values.second, 0);}
\DoxyCodeLine{00160 }
\DoxyCodeLine{00161   \textcolor{keywordtype}{int} indexX0 = 3;}
\DoxyCodeLine{00162   \textcolor{keywordtype}{int} indexX1 = m\_points.size() -\/ 4;}
\DoxyCodeLine{00163   QPointF x0  = m\_points.at(indexX0);}
\DoxyCodeLine{00164   QPointF x1  = m\_points.at(indexX1);}
\DoxyCodeLine{00165   \textcolor{keywordflow}{if} (x0.x() != newX0.x()) \{}
\DoxyCodeLine{00166     QPointF delta(newX0.x() -\/ x0.x(), 0);}
\DoxyCodeLine{00167     moveCentralControlPoint(indexX0, delta);}
\DoxyCodeLine{00168     update();}
\DoxyCodeLine{00169   \}}
\DoxyCodeLine{00170   \textcolor{keywordflow}{if} (x1.x() != newX1.x()) \{}
\DoxyCodeLine{00171     QPointF delta(newX1.x() -\/ x1.x(), 0);}
\DoxyCodeLine{00172     moveCentralControlPoint(indexX1, delta);}
\DoxyCodeLine{00173     update();}
\DoxyCodeLine{00174   \}}
\DoxyCodeLine{00175   m\_currentControlPointIndex = -\/1;}
\DoxyCodeLine{00176 }
\DoxyCodeLine{00177   \textcolor{keywordflow}{if} (!isDragging) emit controlPointChanged(\textcolor{keyword}{false});}
\DoxyCodeLine{00178 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a272e3198a8f8a9d03beeb3ed0ae0af38}\label{class_d_v_gui_1_1_chennel_curve_editor_a272e3198a8f8a9d03beeb3ed0ae0af38}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!setLabelRange@{setLabelRange}}
\index{setLabelRange@{setLabelRange}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{setLabelRange()}{setLabelRange()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::set\+Label\+Range (\begin{DoxyParamCaption}\item[{Channel\+Bar\+::\+Range}]{range }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00203                                                             \{}
\DoxyCodeLine{00204   m\_histogramView-\/>channelBar()-\/>setLabelRange(range);}
\DoxyCodeLine{00205   m\_verticalChannelBar-\/>setLabelRange(range);}
\DoxyCodeLine{00206 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ab61e8f41edcda992236079373bf9646e}\label{class_d_v_gui_1_1_chennel_curve_editor_ab61e8f41edcda992236079373bf9646e}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!setLinear@{setLinear}}
\index{setLinear@{setLinear}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{setLinear()}{setLinear()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::set\+Linear (\begin{DoxyParamCaption}\item[{bool}]{is\+Linear }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00182                                                 \{}
\DoxyCodeLine{00183   \textcolor{keywordflow}{if} (m\_isLinear == isLinear) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00184   m\_isLinear = isLinear;}
\DoxyCodeLine{00185   update();}
\DoxyCodeLine{00186 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_a13a88cc2f07930ad1260f40b5945dccd}\label{class_d_v_gui_1_1_chennel_curve_editor_a13a88cc2f07930ad1260f40b5945dccd}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!setPoint@{setPoint}}
\index{setPoint@{setPoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{setPoint()}{setPoint()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::set\+Point (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{const QPointF}]{point }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00321                                                             \{}
\DoxyCodeLine{00322   m\_points.removeAt(index);}
\DoxyCodeLine{00323   m\_points.insert(index, p);}
\DoxyCodeLine{00324 }
\DoxyCodeLine{00325   \textcolor{keywordtype}{int} firstIndex = 3;}
\DoxyCodeLine{00326   \textcolor{keywordtype}{int} lastIndex  = m\_points.size() -\/ 4;}
\DoxyCodeLine{00327   \textcolor{keywordflow}{if} (index == firstIndex)}
\DoxyCodeLine{00328     emit firstLastXPostionChanged(p.x(), m\_points.at(lastIndex).x());}
\DoxyCodeLine{00329   \textcolor{keywordflow}{if} (index == lastIndex)}
\DoxyCodeLine{00330     emit firstLastXPostionChanged(m\_points.at(firstIndex).x(), p.x());}
\DoxyCodeLine{00331 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_ace61a94cba978669e69e11333f6ec085}\label{class_d_v_gui_1_1_chennel_curve_editor_ace61a94cba978669e69e11333f6ec085}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!setPoints@{setPoints}}
\index{setPoints@{setPoints}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{setPoints()}{setPoints()}}
{\footnotesize\ttfamily void Chennel\+Curve\+Editor\+::set\+Points (\begin{DoxyParamCaption}\item[{QList$<$ \mbox{\hyperlink{class_t_point_t}{TPointD}} $>$}]{points }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00132                                                         \{}
\DoxyCodeLine{00133   \textcolor{keywordflow}{if} (!m\_points.isEmpty()) m\_points.clear();}
\DoxyCodeLine{00134   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{class_t_point_t}{TPointD}} \&point : points)}
\DoxyCodeLine{00135     m\_points.push\_back(QPointF(point.x, point.y));}
\DoxyCodeLine{00136   \textcolor{comment}{// update slider position according to the first and the last control points}}
\DoxyCodeLine{00137   \textcolor{keywordtype}{int} firstIndex = 3;}
\DoxyCodeLine{00138   \textcolor{keywordtype}{int} lastIndex  = m\_points.size() -\/ 4;}
\DoxyCodeLine{00139   emit firstLastXPostionChanged(m\_points.at(firstIndex).x(),}
\DoxyCodeLine{00140                                 m\_points.at(lastIndex).x());}
\DoxyCodeLine{00141   update();}
\DoxyCodeLine{00142 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_d_v_gui_1_1_chennel_curve_editor_aaa0c995799e3a6bfe0ce30dee11bf0ac}\label{class_d_v_gui_1_1_chennel_curve_editor_aaa0c995799e3a6bfe0ce30dee11bf0ac}} 
\index{DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}!viewToStrokePoint@{viewToStrokePoint}}
\index{viewToStrokePoint@{viewToStrokePoint}!DVGui::ChennelCurveEditor@{DVGui::ChennelCurveEditor}}
\doxysubsubsection{\texorpdfstring{viewToStrokePoint()}{viewToStrokePoint()}}
{\footnotesize\ttfamily QPointF Chennel\+Curve\+Editor\+::view\+To\+Stroke\+Point (\begin{DoxyParamCaption}\item[{const QPointF \&}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00265                                                               \{}
\DoxyCodeLine{00266   \textcolor{keywordtype}{double} x = p.x() -\/ m\_LeftRightMargin -\/ 1;}
\DoxyCodeLine{00267   \textcolor{keywordtype}{double} y = p.y() -\/ m\_TopMargin;}
\DoxyCodeLine{00268   \textcolor{keywordflow}{if} (m\_isEnlarged) \{}
\DoxyCodeLine{00269     x *= 0.5;}
\DoxyCodeLine{00270     y *= 0.5;}
\DoxyCodeLine{00271   \}}
\DoxyCodeLine{00272   \textcolor{keywordflow}{return} QPointF(x, m\_curveHeight -\/ y);}
\DoxyCodeLine{00273 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/tonecurvefield.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/tonecurvefield.\+cpp\end{DoxyCompactItemize}
