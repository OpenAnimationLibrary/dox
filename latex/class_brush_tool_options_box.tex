\hypertarget{class_brush_tool_options_box}{}\doxysection{Brush\+Tool\+Options\+Box Class Reference}
\label{class_brush_tool_options_box}\index{BrushToolOptionsBox@{BrushToolOptionsBox}}
Inheritance diagram for Brush\+Tool\+Options\+Box\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_brush_tool_options_box}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_brush_tool_options_box_1_1_preset_name_popup}{Preset\+Name\+Popup}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_brush_tool_options_box_a1ccebd3d35720f4300b4639ca8127d9a}{Brush\+Tool\+Options\+Box}} (QWidget $\ast$parent, \mbox{\hyperlink{class_t_tool}{TTool}} $\ast$tool, \mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$plt\+Handle, \mbox{\hyperlink{class_tool_handle}{Tool\+Handle}} $\ast$tool\+Handle)
\item 
void \mbox{\hyperlink{class_brush_tool_options_box_aeb32602669540d20d428b1b23782a300}{update\+Status}} ()
\begin{DoxyCompactList}\small\item\em Invokes \mbox{\hyperlink{class_brush_tool_options_box_aeb32602669540d20d428b1b23782a300}{update\+Status()}} on all registered controls. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_brush_tool_options_box_a233641d4cb10886d4ee833f2706dcb5d}{on\+Pencil\+Mode\+Toggled}} (bool)
\item 
void \mbox{\hyperlink{class_brush_tool_options_box_a21b2f6099bc0a1af21d77658821a540f}{on\+Add\+Preset}} ()
\item 
void \mbox{\hyperlink{class_brush_tool_options_box_a76529a21ae8a5feda4e177addee11375}{on\+Remove\+Preset}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_brush_tool_options_box_a1ccebd3d35720f4300b4639ca8127d9a}\label{class_brush_tool_options_box_a1ccebd3d35720f4300b4639ca8127d9a}} 
\index{BrushToolOptionsBox@{BrushToolOptionsBox}!BrushToolOptionsBox@{BrushToolOptionsBox}}
\index{BrushToolOptionsBox@{BrushToolOptionsBox}!BrushToolOptionsBox@{BrushToolOptionsBox}}
\doxysubsubsection{\texorpdfstring{BrushToolOptionsBox()}{BrushToolOptionsBox()}}
{\footnotesize\ttfamily Brush\+Tool\+Options\+Box\+::\+Brush\+Tool\+Options\+Box (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent,  }\item[{\mbox{\hyperlink{class_t_tool}{TTool}} $\ast$}]{tool,  }\item[{\mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$}]{plt\+Handle,  }\item[{\mbox{\hyperlink{class_tool_handle}{Tool\+Handle}} $\ast$}]{tool\+Handle }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01696     : \mbox{\hyperlink{class_tool_options_box}{ToolOptionsBox}}(parent)}
\DoxyCodeLine{01697     , m\_tool(tool)}
\DoxyCodeLine{01698     , m\_presetNamePopup(0)}
\DoxyCodeLine{01699     , m\_pencilMode(0)}
\DoxyCodeLine{01700     , m\_hardnessLabel(0)}
\DoxyCodeLine{01701     , m\_joinStyleCombo(0)}
\DoxyCodeLine{01702     , m\_snapCheckbox(0)}
\DoxyCodeLine{01703     , m\_snapSensitivityCombo(0)}
\DoxyCodeLine{01704     , m\_miterField(0) \{}
\DoxyCodeLine{01705   \mbox{\hyperlink{class_t_property_group}{TPropertyGroup}} *props = tool-\/>getProperties(0);}
\DoxyCodeLine{01706   assert(props-\/>getPropertyCount() > 0);}
\DoxyCodeLine{01707 }
\DoxyCodeLine{01708   \mbox{\hyperlink{class_tool_option_control_builder}{ToolOptionControlBuilder}} builder(\textcolor{keyword}{this}, tool, pltHandle, toolHandle);}
\DoxyCodeLine{01709   \textcolor{keywordflow}{if} (tool \&\& tool-\/>getProperties(0)) tool-\/>getProperties(0)-\/>accept(builder);}
\DoxyCodeLine{01710 }
\DoxyCodeLine{01711   m\_hardnessField =}
\DoxyCodeLine{01712       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_slider}{ToolOptionSlider}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Hardness:"{}}));}
\DoxyCodeLine{01713   \textcolor{keywordflow}{if} (m\_hardnessField)}
\DoxyCodeLine{01714     m\_hardnessLabel = m\_labels.value(m\_hardnessField-\/>propertyName());}
\DoxyCodeLine{01715   m\_pencilMode = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_checkbox}{ToolOptionCheckbox}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Pencil"{}}));}
\DoxyCodeLine{01716   m\_presetCombo = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_combo}{ToolOptionCombo}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Preset:"{}}));}
\DoxyCodeLine{01717 }
\DoxyCodeLine{01718   \textcolor{comment}{// Preset +/-\/ buttons}}
\DoxyCodeLine{01719   m\_addPresetButton    = \textcolor{keyword}{new} QPushButton(QString(\textcolor{stringliteral}{"{}+"{}}));}
\DoxyCodeLine{01720   m\_removePresetButton = \textcolor{keyword}{new} QPushButton(QString(\textcolor{stringliteral}{"{}-\/"{}}));}
\DoxyCodeLine{01721 }
\DoxyCodeLine{01722   m\_addPresetButton-\/>setFixedSize(QSize(20, 20));}
\DoxyCodeLine{01723   m\_removePresetButton-\/>setFixedSize(QSize(20, 20));}
\DoxyCodeLine{01724 }
\DoxyCodeLine{01725   hLayout()-\/>addWidget(m\_addPresetButton);}
\DoxyCodeLine{01726   hLayout()-\/>addWidget(m\_removePresetButton);}
\DoxyCodeLine{01727 }
\DoxyCodeLine{01728   connect(m\_addPresetButton, SIGNAL(clicked()), \textcolor{keyword}{this}, SLOT(onAddPreset()));}
\DoxyCodeLine{01729   connect(m\_removePresetButton, SIGNAL(clicked()), \textcolor{keyword}{this},}
\DoxyCodeLine{01730           SLOT(onRemovePreset()));}
\DoxyCodeLine{01731 }
\DoxyCodeLine{01732   \textcolor{keywordflow}{if} (tool-\/>getTargetType() \& \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1}{TTool::ToonzImage}}) \{}
\DoxyCodeLine{01733     assert(m\_pencilMode);}
\DoxyCodeLine{01734     \textcolor{keywordtype}{bool} ret = connect(m\_pencilMode, SIGNAL(toggled(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{01735                        SLOT(onPencilModeToggled(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{01736     assert(ret);}
\DoxyCodeLine{01737 }
\DoxyCodeLine{01738     \textcolor{keywordflow}{if} (m\_pencilMode-\/>isChecked()) \{}
\DoxyCodeLine{01739       m\_hardnessLabel-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{01740       m\_hardnessField-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{01741     \}}
\DoxyCodeLine{01742   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tool-\/>getTargetType() \& TTool::Vectors) \{}
\DoxyCodeLine{01743     \textcolor{comment}{// Further vector options}}
\DoxyCodeLine{01744     builder.setEnumWidgetType(ToolOptionControlBuilder::POPUPBUTTON);}
\DoxyCodeLine{01745     builder.setSingleValueWidgetType(ToolOptionControlBuilder::FIELD);}
\DoxyCodeLine{01746 }
\DoxyCodeLine{01747     addSeparator();}
\DoxyCodeLine{01748     m\_snapCheckbox =}
\DoxyCodeLine{01749         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_checkbox}{ToolOptionCheckbox}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Snap"{}}));}
\DoxyCodeLine{01750     m\_snapSensitivityCombo =}
\DoxyCodeLine{01751         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_combo}{ToolOptionCombo}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Sensitivity:"{}}));}
\DoxyCodeLine{01752 }
\DoxyCodeLine{01753     \textcolor{keywordflow}{if} (tool \&\& tool-\/>getProperties(1)) tool-\/>getProperties(1)-\/>accept(builder);}
\DoxyCodeLine{01754     m\_joinStyleCombo =}
\DoxyCodeLine{01755         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_popup_button}{ToolOptionPopupButton}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Join"{}}));}
\DoxyCodeLine{01756     m\_miterField =}
\DoxyCodeLine{01757         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_tool_option_int_slider}{ToolOptionIntSlider}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.value(\textcolor{stringliteral}{"{}Miter:"{}}));}
\DoxyCodeLine{01758     m\_miterField-\/>setEnabled(m\_joinStyleCombo-\/>currentIndex() ==}
\DoxyCodeLine{01759                              TStroke::OutlineOptions::MITER\_JOIN);}
\DoxyCodeLine{01760   \}}
\DoxyCodeLine{01761   hLayout()-\/>addStretch(1);}
\DoxyCodeLine{01762   filterControls();}
\DoxyCodeLine{01763 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_brush_tool_options_box_a21b2f6099bc0a1af21d77658821a540f}\label{class_brush_tool_options_box_a21b2f6099bc0a1af21d77658821a540f}} 
\index{BrushToolOptionsBox@{BrushToolOptionsBox}!onAddPreset@{onAddPreset}}
\index{onAddPreset@{onAddPreset}!BrushToolOptionsBox@{BrushToolOptionsBox}}
\doxysubsubsection{\texorpdfstring{onAddPreset}{onAddPreset}}
{\footnotesize\ttfamily void Brush\+Tool\+Options\+Box\+::on\+Add\+Preset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01829                                       \{}
\DoxyCodeLine{01830   \textcolor{comment}{// Initialize preset name popup}}
\DoxyCodeLine{01831   \textcolor{keywordflow}{if} (!m\_presetNamePopup) m\_presetNamePopup = \textcolor{keyword}{new} PresetNamePopup;}
\DoxyCodeLine{01832 }
\DoxyCodeLine{01833   \textcolor{keywordflow}{if} (!m\_presetNamePopup-\/>getName().isEmpty()) m\_presetNamePopup-\/>removeName();}
\DoxyCodeLine{01834 }
\DoxyCodeLine{01835   \textcolor{comment}{// Retrieve the preset name}}
\DoxyCodeLine{01836   \textcolor{keywordtype}{bool} ret = m\_presetNamePopup-\/>exec();}
\DoxyCodeLine{01837   \textcolor{keywordflow}{if} (!ret) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01838 }
\DoxyCodeLine{01839   QString name(m\_presetNamePopup-\/>getName());}
\DoxyCodeLine{01840   m\_presetNamePopup-\/>removeName();}
\DoxyCodeLine{01841 }
\DoxyCodeLine{01842   \textcolor{keywordflow}{switch} (m\_tool-\/>getTargetType() \& TTool::CommonImages) \{}
\DoxyCodeLine{01843   \textcolor{keywordflow}{case} \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046}{TTool::VectorImage}}: \{}
\DoxyCodeLine{01844     \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_toonz_vector_brush_tool}{ToonzVectorBrushTool}} *\textcolor{keyword}{>}(m\_tool)-\/>addPreset(name);}
\DoxyCodeLine{01845     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01846   \}}
\DoxyCodeLine{01847   \textcolor{keywordflow}{case} \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1}{TTool::ToonzImage}}: \{}
\DoxyCodeLine{01848     \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_toonz_raster_brush_tool}{ToonzRasterBrushTool}} *\textcolor{keyword}{>}(m\_tool)-\/>addPreset(name);}
\DoxyCodeLine{01849     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01850   \}}
\DoxyCodeLine{01851 }
\DoxyCodeLine{01852   \textcolor{keywordflow}{case} \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859}{TTool::RasterImage}}: \{}
\DoxyCodeLine{01853     \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_full_color_brush_tool}{FullColorBrushTool}} *\textcolor{keyword}{>}(m\_tool)-\/>addPreset(name);}
\DoxyCodeLine{01854     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01855   \}}
\DoxyCodeLine{01856   \}}
\DoxyCodeLine{01857 }
\DoxyCodeLine{01858   m\_presetCombo-\/>loadEntries();}
\DoxyCodeLine{01859 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_brush_tool_options_box_a233641d4cb10886d4ee833f2706dcb5d}\label{class_brush_tool_options_box_a233641d4cb10886d4ee833f2706dcb5d}} 
\index{BrushToolOptionsBox@{BrushToolOptionsBox}!onPencilModeToggled@{onPencilModeToggled}}
\index{onPencilModeToggled@{onPencilModeToggled}!BrushToolOptionsBox@{BrushToolOptionsBox}}
\doxysubsubsection{\texorpdfstring{onPencilModeToggled}{onPencilModeToggled}}
{\footnotesize\ttfamily void Brush\+Tool\+Options\+Box\+::on\+Pencil\+Mode\+Toggled (\begin{DoxyParamCaption}\item[{bool}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01822                                                         \{}
\DoxyCodeLine{01823   m\_hardnessLabel-\/>setEnabled(!value);}
\DoxyCodeLine{01824   m\_hardnessField-\/>setEnabled(!value);}
\DoxyCodeLine{01825 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_brush_tool_options_box_a76529a21ae8a5feda4e177addee11375}\label{class_brush_tool_options_box_a76529a21ae8a5feda4e177addee11375}} 
\index{BrushToolOptionsBox@{BrushToolOptionsBox}!onRemovePreset@{onRemovePreset}}
\index{onRemovePreset@{onRemovePreset}!BrushToolOptionsBox@{BrushToolOptionsBox}}
\doxysubsubsection{\texorpdfstring{onRemovePreset}{onRemovePreset}}
{\footnotesize\ttfamily void Brush\+Tool\+Options\+Box\+::on\+Remove\+Preset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01863                                          \{}
\DoxyCodeLine{01864   \textcolor{keywordflow}{switch} (m\_tool-\/>getTargetType() \& TTool::CommonImages) \{}
\DoxyCodeLine{01865   \textcolor{keywordflow}{case} \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046}{TTool::VectorImage}}: \{}
\DoxyCodeLine{01866     \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_toonz_vector_brush_tool}{ToonzVectorBrushTool}} *\textcolor{keyword}{>}(m\_tool)-\/>removePreset();}
\DoxyCodeLine{01867     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01868   \}}
\DoxyCodeLine{01869   \textcolor{keywordflow}{case} \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1}{TTool::ToonzImage}}: \{}
\DoxyCodeLine{01870     \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_toonz_raster_brush_tool}{ToonzRasterBrushTool}} *\textcolor{keyword}{>}(m\_tool)-\/>removePreset();}
\DoxyCodeLine{01871     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01872   \}}
\DoxyCodeLine{01873 }
\DoxyCodeLine{01874   \textcolor{keywordflow}{case} \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859}{TTool::RasterImage}}: \{}
\DoxyCodeLine{01875     \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{class_full_color_brush_tool}{FullColorBrushTool}} *\textcolor{keyword}{>}(m\_tool)-\/>removePreset();}
\DoxyCodeLine{01876     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01877   \}}
\DoxyCodeLine{01878   \}}
\DoxyCodeLine{01879 }
\DoxyCodeLine{01880   m\_presetCombo-\/>loadEntries();}
\DoxyCodeLine{01881 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_brush_tool_options_box_aeb32602669540d20d428b1b23782a300}\label{class_brush_tool_options_box_aeb32602669540d20d428b1b23782a300}} 
\index{BrushToolOptionsBox@{BrushToolOptionsBox}!updateStatus@{updateStatus}}
\index{updateStatus@{updateStatus}!BrushToolOptionsBox@{BrushToolOptionsBox}}
\doxysubsubsection{\texorpdfstring{updateStatus()}{updateStatus()}}
{\footnotesize\ttfamily void Brush\+Tool\+Options\+Box\+::update\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Invokes \mbox{\hyperlink{class_brush_tool_options_box_aeb32602669540d20d428b1b23782a300}{update\+Status()}} on all registered controls. 



Reimplemented from \mbox{\hyperlink{class_tool_options_box_a475daf4252f0d89d4968d25bb57783ab}{Tool\+Options\+Box}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01806                                        \{}
\DoxyCodeLine{01807   filterControls();}
\DoxyCodeLine{01808 }
\DoxyCodeLine{01809   QMap<std::string, ToolOptionControl *>::iterator it;}
\DoxyCodeLine{01810   \textcolor{keywordflow}{for} (it = \mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.begin(); it != \mbox{\hyperlink{class_tool_options_box_a111acd54b0b8c1ba3b1b847267b0dd7b}{m\_controls}}.end(); it++)}
\DoxyCodeLine{01811     it.value()-\/>updateStatus();}
\DoxyCodeLine{01812 }
\DoxyCodeLine{01813   \textcolor{keywordflow}{if} (m\_miterField)}
\DoxyCodeLine{01814     m\_miterField-\/>setEnabled(m\_joinStyleCombo-\/>currentIndex() ==}
\DoxyCodeLine{01815                              TStroke::OutlineOptions::MITER\_JOIN);}
\DoxyCodeLine{01816   \textcolor{keywordflow}{if} (m\_snapCheckbox)}
\DoxyCodeLine{01817     m\_snapSensitivityCombo-\/>setHidden(!m\_snapCheckbox-\/>isChecked());}
\DoxyCodeLine{01818 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00106}{Tool\+Options\+Box\+::m\+\_\+controls}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tools/tooloptions.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/tooloptions.\+cpp\end{DoxyCompactItemize}
