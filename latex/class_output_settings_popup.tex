\hypertarget{class_output_settings_popup}{}\doxysection{Output\+Settings\+Popup Class Reference}
\label{class_output_settings_popup}\index{OutputSettingsPopup@{OutputSettingsPopup}}


The \mbox{\hyperlink{class_output_settings_popup}{Output\+Settings\+Popup}} class provides a output settings dialog.  


Inheritance diagram for Output\+Settings\+Popup\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_output_settings_popup}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_output_settings_popup_aca56cbfffbdf1e39defb9099a6c90786}{Output\+Settings\+Popup}} (bool is\+Preview=false)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}{update\+Field}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_aa22a85d9aa3dd71018631eb876c915d9}{on\+Path\+Changed}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_a951cb642adab122071be8faf4cbf7c4a}{on\+Name\+Changed}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_a23a6e23dd4eb2c182041d9ae2655b79c}{on\+Format\+Changed}} (const QString \&str)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a885dcd89cfa8a1fe60c0654dbc67a09b}{open\+Settings\+Popup}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_a0235083b110ce551cd24f68c3298a904}{on\+Camera\+Changed}} (const QString \&str)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a4c4fcaf7ced114545dc816a34145ddf4}{on\+Frame\+Fld\+Edit\+Finished}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_a4713a4f5b852e7649821dec0625e1d0e}{on\+Resample\+Changed}} (int type)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a2c4ab58ea0b7f9143b8fbffa7cc82b26}{on\+Channel\+Width\+Changed}} (int type)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a47c461de35b6aeb668eddf3f447d558f}{on\+Gamma\+Fld\+Edit\+Finished}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_a5bee3cf971b714ed7356a811adf7ca71}{on\+Dominant\+Field\+Changed}} (int type)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a99d29bf426cfcdd73981c9d11a802dd6}{on\+Stretch\+Fld\+Edit\+Finished}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_aad0e5a3d64455298dc7307ea9d4c6296}{on\+Apply\+Shrink\+Checked}} (int state)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a42b74570b03098bd12eafa7a2a7801c3}{on\+Subcamera\+Checked}} (int state)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a74e441a21726538ed8df7deaf5834936}{on\+Multimedia\+Changed}} (int mode)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a8d97f462f517e3b1e85466c185840929}{on\+Threads\+Combo\+Changed}} (int type)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a508604b4e8eafa85671a79bb60e94e1e}{on\+Raster\+Granularity\+Changed}} (int type)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a055af6e6954a09969a55221642e5e049}{on\+Stereo\+Checked}} (int)
\item 
void \mbox{\hyperlink{class_output_settings_popup_aa7bb0a00e9a283e977e6a85860c8f3d2}{on\+Stereo\+Changed}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_a7d1faeeb17c9c7ee569ba7ff6f078c5b}{on\+Render\+Clicked}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_a359715b3150967fa1d32ee035fd13bba}{on\+Add\+Preset\+Button\+Pressed}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_a5fe5337b40bb4c6e244ad5c00d443301}{on\+Remove\+Preset\+Button\+Pressed}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_ad0b47d346f21dd49ca3411a44f4fa6bb}{on\+Preset\+Selected}} (const QString \&)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a65e2a3364149f21ad8b58fd3b6d9c095}{on\+Camera\+Settings\+Changed}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_af89c0763c1434bd7ad8264a9eda28d95}{on\+Frame\+Rate\+Editing\+Finished}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_a20171dc4c1c62661afa9ed8adcd31a55}{on\+Add\+Board\+Checked}} (int state)
\item 
void \mbox{\hyperlink{class_output_settings_popup_a378dbe773cbaf526374058ecd7aeceaa}{on\+Board\+Settings\+Btn\+Clicked}} ()
\item 
void \mbox{\hyperlink{class_output_settings_popup_a91d926e5ee00544d98dda4a5c58c7a5c}{on\+Category\+Activated}} (QList\+Widget\+Item $\ast$)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$ \mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{get\+Current\+Scene}} () const
\item 
\mbox{\hyperlink{class_t_output_properties}{TOutput\+Properties}} $\ast$ \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{get\+Properties}} () const
\item 
void \mbox{\hyperlink{class_output_settings_popup_a0319d74dbf8334d2c361e9d44fba3d0c}{show\+Event}} (QShow\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_output_settings_popup_a17f9cf185d8fc6516d6f7fef5e248f6f}{hide\+Event}} (QHide\+Event $\ast$) override
\item 
bool \mbox{\hyperlink{class_output_settings_popup_ac1df73a435a75b6371ba0553d668c050}{event\+Filter}} (QObject $\ast$, QEvent $\ast$) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{class_output_settings_popup}{Output\+Settings\+Popup}} class provides a output settings dialog. 

\begin{DoxyVerb}         Inherits \b Dialog.
         This class allows to set output properties of current scene.
         It's composed of a list of field to set this preperties:
         a \b DVGui::FileField to set output directory, a LineEdit for
\end{DoxyVerb}
 output name, a {\bfseries{QCombo\+Box}} to choose format, a button near QCombo\+Box that open a popup to change format chosen settings, other QCombo\+Box to choose camera, resample balance, channel width and dominant field and other number field to set values for frame and time stretch. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_output_settings_popup_aca56cbfffbdf1e39defb9099a6c90786}\label{class_output_settings_popup_aca56cbfffbdf1e39defb9099a6c90786}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!OutputSettingsPopup@{OutputSettingsPopup}}
\index{OutputSettingsPopup@{OutputSettingsPopup}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{OutputSettingsPopup()}{OutputSettingsPopup()}}
{\footnotesize\ttfamily Output\+Settings\+Popup\+::\+Output\+Settings\+Popup (\begin{DoxyParamCaption}\item[{bool}]{is\+Preview = {\ttfamily false} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00169     : Dialog(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getMainWindow(), \textcolor{keyword}{false}, isPreview,}
\DoxyCodeLine{00170              isPreview ? \textcolor{stringliteral}{"{}PreviewSettings"{}} : \textcolor{stringliteral}{"{}OutputSettings"{}})}
\DoxyCodeLine{00171     , m\_subcameraChk(\textcolor{keyword}{nullptr})}
\DoxyCodeLine{00172     , m\_applyShrinkChk(\textcolor{keyword}{nullptr})}
\DoxyCodeLine{00173     , m\_outputCameraOm(\textcolor{keyword}{nullptr})}
\DoxyCodeLine{00174     , m\_isPreviewSettings(isPreview)}
\DoxyCodeLine{00175     , m\_allowMT(Preferences::instance()-\/>getFfmpegMultiThread())}
\DoxyCodeLine{00176     , m\_presetCombo(\textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{00177   setWindowTitle(isPreview ? tr(\textcolor{stringliteral}{"{}Preview Settings"{}}) : tr(\textcolor{stringliteral}{"{}Output Settings"{}}));}
\DoxyCodeLine{00178   \textcolor{keywordflow}{if} (!isPreview) setObjectName(\textcolor{stringliteral}{"{}OutputSettingsPopup"{}});}
\DoxyCodeLine{00179   \textcolor{comment}{// create panel}}
\DoxyCodeLine{00180   QFrame *panel = createPanel(isPreview);}
\DoxyCodeLine{00181 }
\DoxyCodeLine{00182   \textcolor{comment}{// preview settings}}
\DoxyCodeLine{00183   \textcolor{keywordflow}{if} (isPreview) \{}
\DoxyCodeLine{00184     m\_topLayout-\/>setMargin(5);}
\DoxyCodeLine{00185     m\_topLayout-\/>addWidget(panel, 0);}
\DoxyCodeLine{00186     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00187   \}}
\DoxyCodeLine{00188 }
\DoxyCodeLine{00189   \textcolor{comment}{// outputsettings with category list \& scrollable panel}}
\DoxyCodeLine{00190   QPushButton *addPresetButton    = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Add"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{00191   QPushButton *removePresetButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Remove"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{00192   m\_presetCombo                   = \textcolor{keyword}{new} QComboBox(\textcolor{keyword}{this});}
\DoxyCodeLine{00193 }
\DoxyCodeLine{00194   addPresetButton-\/>setObjectName(\textcolor{stringliteral}{"{}PushButton\_NoPadding"{}});}
\DoxyCodeLine{00195   removePresetButton-\/>setObjectName(\textcolor{stringliteral}{"{}PushButton\_NoPadding"{}});}
\DoxyCodeLine{00196   QString tooltip =}
\DoxyCodeLine{00197       tr(\textcolor{stringliteral}{"{}Save current output settings.\(\backslash\)nThe parameters to be saved are:\(\backslash\)n-\/ "{}}}
\DoxyCodeLine{00198          \textcolor{stringliteral}{"{}Camera settings\(\backslash\)n-\/ Project folder to be saved in\(\backslash\)n-\/ File format\(\backslash\)n-\/ "{}}}
\DoxyCodeLine{00199          \textcolor{stringliteral}{"{}File options\(\backslash\)n-\/ Resample Balance\(\backslash\)n-\/ Channel width"{}});}
\DoxyCodeLine{00200   addPresetButton-\/>setToolTip(tooltip);}
\DoxyCodeLine{00201   \textcolor{comment}{/*-\/-\/ プリセットフォルダを調べ、コンボボックスにアイテムを格納する -\/-\/*/}}
\DoxyCodeLine{00202   updatePresetComboItems();}
\DoxyCodeLine{00203 }
\DoxyCodeLine{00204   QListWidget *categoryList = \textcolor{keyword}{new} QListWidget(\textcolor{keyword}{this});}
\DoxyCodeLine{00205   QStringList categories;}
\DoxyCodeLine{00206   categories << tr(\textcolor{stringliteral}{"{}Camera"{}}) << tr(\textcolor{stringliteral}{"{}File"{}}) << tr(\textcolor{stringliteral}{"{}More"{}});}
\DoxyCodeLine{00207   categoryList-\/>addItems(categories);}
\DoxyCodeLine{00208   categoryList-\/>setFixedWidth(100);}
\DoxyCodeLine{00209   categoryList-\/>setCurrentRow(0);}
\DoxyCodeLine{00210 }
\DoxyCodeLine{00211   m\_scrollArea = \textcolor{keyword}{new} QScrollArea(\textcolor{keyword}{this});}
\DoxyCodeLine{00212   m\_scrollArea-\/>setWidgetResizable(\textcolor{keyword}{true});}
\DoxyCodeLine{00213   m\_scrollArea-\/>setWidget(panel);}
\DoxyCodeLine{00214 }
\DoxyCodeLine{00215   QPushButton *renderButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Render"{}}), \textcolor{keyword}{this});}
\DoxyCodeLine{00216   renderButton-\/>setIcon(createQIcon(\textcolor{stringliteral}{"{}render"{}}));}
\DoxyCodeLine{00217   renderButton-\/>setIconSize(QSize(20, 20));}
\DoxyCodeLine{00218   renderButton-\/>setFixedWidth(200);}
\DoxyCodeLine{00219 }
\DoxyCodeLine{00220   m\_topLayout-\/>setMargin(5);}
\DoxyCodeLine{00221   \{}
\DoxyCodeLine{00222     QHBoxLayout *presetLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{00223     presetLay-\/>setMargin(0);}
\DoxyCodeLine{00224     presetLay-\/>setSpacing(5);}
\DoxyCodeLine{00225     \{}
\DoxyCodeLine{00226       presetLay-\/>addStretch(1);}
\DoxyCodeLine{00227       presetLay-\/>addWidget(\textcolor{keyword}{new} QLabel(tr(\textcolor{stringliteral}{"{}Presets:"{}}), \textcolor{keyword}{this}), 1,}
\DoxyCodeLine{00228                            Qt::AlignRight | Qt::AlignVCenter);}
\DoxyCodeLine{00229       presetLay-\/>addWidget(m\_presetCombo, 1);}
\DoxyCodeLine{00230       presetLay-\/>addWidget(addPresetButton, 0);}
\DoxyCodeLine{00231       presetLay-\/>addWidget(removePresetButton, 0);}
\DoxyCodeLine{00232     \}}
\DoxyCodeLine{00233     m\_topLayout-\/>addLayout(presetLay, 0);}
\DoxyCodeLine{00234 }
\DoxyCodeLine{00235     QHBoxLayout *middleLay = \textcolor{keyword}{new} QHBoxLayout();}
\DoxyCodeLine{00236     middleLay-\/>setMargin(0);}
\DoxyCodeLine{00237     middleLay-\/>setSpacing(5);}
\DoxyCodeLine{00238     \{}
\DoxyCodeLine{00239       middleLay-\/>addWidget(categoryList, 0);}
\DoxyCodeLine{00240       middleLay-\/>addWidget(m\_scrollArea, 1);}
\DoxyCodeLine{00241     \}}
\DoxyCodeLine{00242     m\_topLayout-\/>addLayout(middleLay, 1);}
\DoxyCodeLine{00243 }
\DoxyCodeLine{00244     m\_topLayout-\/>addSpacing(5);}
\DoxyCodeLine{00245     m\_topLayout-\/>addWidget(renderButton, 0, Qt::AlignCenter);}
\DoxyCodeLine{00246   \}}
\DoxyCodeLine{00247 }
\DoxyCodeLine{00248   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{true};}
\DoxyCodeLine{00249   ret      = ret \&\&}
\DoxyCodeLine{00250         connect(renderButton, SIGNAL(pressed()), \textcolor{keyword}{this}, SLOT(onRenderClicked()));}
\DoxyCodeLine{00251   ret = ret \&\& connect(addPresetButton, SIGNAL(pressed()), \textcolor{keyword}{this},}
\DoxyCodeLine{00252                        SLOT(\mbox{\hyperlink{class_output_settings_popup_a359715b3150967fa1d32ee035fd13bba}{onAddPresetButtonPressed}}()));}
\DoxyCodeLine{00253   ret = ret \&\& connect(removePresetButton, SIGNAL(pressed()), \textcolor{keyword}{this},}
\DoxyCodeLine{00254                        SLOT(\mbox{\hyperlink{class_output_settings_popup_a5fe5337b40bb4c6e244ad5c00d443301}{onRemovePresetButtonPressed}}()));}
\DoxyCodeLine{00255   ret = ret \&\& connect(m\_presetCombo, SIGNAL(activated(\textcolor{keyword}{const} QString \&)), \textcolor{keyword}{this},}
\DoxyCodeLine{00256                        SLOT(onPresetSelected(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00257   ret = ret \&\& connect(categoryList, SIGNAL(itemClicked(QListWidgetItem *)),}
\DoxyCodeLine{00258                        \textcolor{keyword}{this}, SLOT(onCategoryActivated(QListWidgetItem *)));}
\DoxyCodeLine{00259   assert(ret);}
\DoxyCodeLine{00260 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_output_settings_popup_ac1df73a435a75b6371ba0553d668c050}\label{class_output_settings_popup_ac1df73a435a75b6371ba0553d668c050}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!eventFilter@{eventFilter}}
\index{eventFilter@{eventFilter}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{eventFilter()}{eventFilter()}}
{\footnotesize\ttfamily bool Output\+Settings\+Popup\+::event\+Filter (\begin{DoxyParamCaption}\item[{QObject $\ast$}]{obj,  }\item[{QEvent $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00770                                                              \{}
\DoxyCodeLine{00771   \textcolor{keywordflow}{if} (e-\/>type() == QEvent::Wheel) \{}
\DoxyCodeLine{00772     QComboBox *combo = qobject\_cast<QComboBox *>(obj);}
\DoxyCodeLine{00773     \textcolor{keywordflow}{if} (combo \&\& !combo-\/>hasFocus()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00774   \}}
\DoxyCodeLine{00775   \textcolor{keywordflow}{return} QObject::eventFilter(obj, e);}
\DoxyCodeLine{00776 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}\label{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!getCurrentScene@{getCurrentScene}}
\index{getCurrentScene@{getCurrentScene}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{getCurrentScene()}{getCurrentScene()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$ Output\+Settings\+Popup\+::get\+Current\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}

Return current {\bfseries{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}}}} scene. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00719                                                        \{}
\DoxyCodeLine{00720   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{00721   \textcolor{keywordflow}{return} scene;}
\DoxyCodeLine{00722 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00106}{TApp\+::get\+Current\+Scene()}}, and \mbox{\hyperlink{l00215}{TApp\+::instance()}}.



Referenced by \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l01102}{on\+Camera\+Changed()}}, \mbox{\hyperlink{l01242}{on\+Channel\+Width\+Changed()}}, \mbox{\hyperlink{l01280}{on\+Dominant\+Field\+Changed()}}, \mbox{\hyperlink{l01258}{on\+Gamma\+Fld\+Edit\+Finished()}}, \mbox{\hyperlink{l00990}{on\+Name\+Changed()}}, \mbox{\hyperlink{l00968}{on\+Path\+Changed()}}, \mbox{\hyperlink{l01227}{on\+Resample\+Changed()}}, \mbox{\hyperlink{l01307}{on\+Stretch\+Fld\+Edit\+Finished()}}, and \mbox{\hyperlink{l00802}{update\+Field()}}.

\mbox{\Hypertarget{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}\label{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!getProperties@{getProperties}}
\index{getProperties@{getProperties}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{getProperties()}{getProperties()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_output_properties}{TOutput\+Properties}} $\ast$ Output\+Settings\+Popup\+::get\+Properties (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}

Return current scene output properties {\bfseries{\mbox{\hyperlink{class_t_output_properties}{TOutput\+Properties}}}}, if current scene is not empty. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00728                                                             \{}
\DoxyCodeLine{00729   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}();}
\DoxyCodeLine{00730   \textcolor{keywordflow}{if} (!scene) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00731 }
\DoxyCodeLine{00732   \textcolor{keywordflow}{return} m\_isPreviewSettings ? scene-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()-\/>\mbox{\hyperlink{class_t_scene_properties_a0b905e0ea16e27aa5e67da31e469026e}{getPreviewProperties}}()}
\DoxyCodeLine{00733                              : scene-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()-\/>\mbox{\hyperlink{class_t_scene_properties_abea7b4b8e4f0cedbf753b26ec30b5331}{getOutputProperties}}();}
\DoxyCodeLine{00734 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00719}{get\+Current\+Scene()}}, \mbox{\hyperlink{l00145}{TScene\+Properties\+::get\+Output\+Properties()}}, \mbox{\hyperlink{l00151}{TScene\+Properties\+::get\+Preview\+Properties()}}, and \mbox{\hyperlink{l00087}{Toonz\+Scene\+::get\+Properties()}}.



Referenced by \mbox{\hyperlink{l01357}{on\+Add\+Preset\+Button\+Pressed()}}, \mbox{\hyperlink{l01242}{on\+Channel\+Width\+Changed()}}, \mbox{\hyperlink{l01280}{on\+Dominant\+Field\+Changed()}}, \mbox{\hyperlink{l01054}{on\+Format\+Changed()}}, \mbox{\hyperlink{l01258}{on\+Gamma\+Fld\+Edit\+Finished()}}, \mbox{\hyperlink{l00990}{on\+Name\+Changed()}}, \mbox{\hyperlink{l00968}{on\+Path\+Changed()}}, \mbox{\hyperlink{l01227}{on\+Resample\+Changed()}}, \mbox{\hyperlink{l01307}{on\+Stretch\+Fld\+Edit\+Finished()}}, \mbox{\hyperlink{l01091}{open\+Settings\+Popup()}}, and \mbox{\hyperlink{l00802}{update\+Field()}}.

\mbox{\Hypertarget{class_output_settings_popup_a17f9cf185d8fc6516d6f7fef5e248f6f}\label{class_output_settings_popup_a17f9cf185d8fc6516d6f7fef5e248f6f}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!hideEvent@{hideEvent}}
\index{hideEvent@{hideEvent}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{hideEvent()}{hideEvent()}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::hide\+Event (\begin{DoxyParamCaption}\item[{QHide\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00754                                                  \{}
\DoxyCodeLine{00755   \mbox{\hyperlink{class_t_scene_handle}{TSceneHandle}} *sceneHandle   = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}();}
\DoxyCodeLine{00756   \mbox{\hyperlink{class_t_xsheet_handle}{TXsheetHandle}} *xsheetHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}();}
\DoxyCodeLine{00757   \textcolor{keywordtype}{bool} ret = disconnect(sceneHandle, SIGNAL(sceneChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00758                         SLOT(\mbox{\hyperlink{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}{updateField}}()));}
\DoxyCodeLine{00759   ret      = ret \&\& disconnect(sceneHandle, SIGNAL(sceneSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00760                           SLOT(\mbox{\hyperlink{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}{updateField}}()));}
\DoxyCodeLine{00761 }
\DoxyCodeLine{00762   ret = ret \&\& disconnect(xsheetHandle, SIGNAL(xsheetChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00763                           SLOT(\mbox{\hyperlink{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}{updateField}}()));}
\DoxyCodeLine{00764   assert(ret);}
\DoxyCodeLine{00765   Dialog::hideEvent(e);}
\DoxyCodeLine{00766 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a20171dc4c1c62661afa9ed8adcd31a55}\label{class_output_settings_popup_a20171dc4c1c62661afa9ed8adcd31a55}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onAddBoardChecked@{onAddBoardChecked}}
\index{onAddBoardChecked@{onAddBoardChecked}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onAddBoardChecked}{onAddBoardChecked}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Add\+Board\+Checked (\begin{DoxyParamCaption}\item[{int}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01710                                                      \{}
\DoxyCodeLine{01711   \mbox{\hyperlink{class_board_settings}{BoardSettings}} *boardSettings = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}()-\/>getBoardSettings();}
\DoxyCodeLine{01712   boardSettings-\/>setActive(state == Qt::Checked);}
\DoxyCodeLine{01713 }
\DoxyCodeLine{01714   m\_boardSettingsBtn-\/>setEnabled(state == Qt::Checked);}
\DoxyCodeLine{01715 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a359715b3150967fa1d32ee035fd13bba}\label{class_output_settings_popup_a359715b3150967fa1d32ee035fd13bba}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onAddPresetButtonPressed@{onAddPresetButtonPressed}}
\index{onAddPresetButtonPressed@{onAddPresetButtonPressed}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onAddPresetButtonPressed}{onAddPresetButtonPressed}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Add\+Preset\+Button\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Output\+Settingsの\+Preset登録 
\begin{DoxyCode}{0}
\DoxyCodeLine{01357                                                    \{}
\DoxyCodeLine{01358   \textcolor{comment}{//*-\/-\/ プリセット名を取得 -\/-\/*/}}
\DoxyCodeLine{01359   \textcolor{keywordtype}{bool} ok;}
\DoxyCodeLine{01360   QString qs = DVGui::getText(}
\DoxyCodeLine{01361       tr(\textcolor{stringliteral}{"{}Add preset"{}}), tr(\textcolor{stringliteral}{"{}Enter the name for the output settings preset."{}}),}
\DoxyCodeLine{01362       \textcolor{stringliteral}{"{}"{}}, \&ok);}
\DoxyCodeLine{01363   \textcolor{keywordflow}{if} (!ok || qs.isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01364 }
\DoxyCodeLine{01365   \textcolor{keywordflow}{if} (!qs.endsWith(\textcolor{stringliteral}{"{}.txt"{}})) qs.append(\textcolor{stringliteral}{"{}.txt"{}});}
\DoxyCodeLine{01366   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = TEnv::getConfigDir() + \textcolor{stringliteral}{"{}outputpresets"{}};}
\DoxyCodeLine{01367   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp).doesExist()) TSystem::mkDir(fp);}
\DoxyCodeLine{01368   fp = fp + qs.toStdString();}
\DoxyCodeLine{01369 }
\DoxyCodeLine{01370   \textcolor{comment}{/*-\/-\/ すでに存在する場合、上書きを確認 -\/-\/*/}}
\DoxyCodeLine{01371   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp).doesExist()) \{}
\DoxyCodeLine{01372     \textcolor{keywordtype}{int} ret = QMessageBox::question(}
\DoxyCodeLine{01373         \textcolor{keyword}{this}, tr(\textcolor{stringliteral}{"{}Add output settings preset"{}}),}
\DoxyCodeLine{01374         QString(\textcolor{stringliteral}{"{}The file \%1 does already exist.\(\backslash\)nDo you want to overwrite it?"{}})}
\DoxyCodeLine{01375             .arg(qs),}
\DoxyCodeLine{01376         QMessageBox::Save | QMessageBox::Cancel, QMessageBox::Save);}
\DoxyCodeLine{01377     \textcolor{keywordflow}{if} (ret == QMessageBox::Cancel) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01378   \}}
\DoxyCodeLine{01379   TSystem::touchFile(fp);}
\DoxyCodeLine{01380 }
\DoxyCodeLine{01381   \mbox{\hyperlink{class_t_o_stream}{TOStream}} os(fp, \textcolor{keyword}{false});}
\DoxyCodeLine{01382   \textcolor{keywordflow}{if} (!os.checkStatus()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01383 }
\DoxyCodeLine{01384   os.openChild(\textcolor{stringliteral}{"{}outputsettingspreset"{}});}
\DoxyCodeLine{01385 }
\DoxyCodeLine{01386   \textcolor{comment}{/*-\/-\/ カメラ設定 -\/-\/*/}}
\DoxyCodeLine{01387   os.openChild(\textcolor{stringliteral}{"{}camera"{}});}
\DoxyCodeLine{01388   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsheet         = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{01389   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} cameraId = xsheet-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>\mbox{\hyperlink{class_t_stage_object_tree_a7d63ae5d60c3a3aacf5da58c108ac167}{getCurrentCameraId}}();}
\DoxyCodeLine{01390   \mbox{\hyperlink{class_t_camera}{TCamera}} *camera         = xsheet-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(cameraId)-\/>\mbox{\hyperlink{class_t_stage_object_aaef1416a25568ada1d79906884225d0c}{getCamera}}();}
\DoxyCodeLine{01391   camera-\/>saveData(os);}
\DoxyCodeLine{01392   os.closeChild();}
\DoxyCodeLine{01393 }
\DoxyCodeLine{01394   \textcolor{comment}{/*-\/-\/  Saveinのプロジェクトフォルダ部分 -\/-\/*/}}
\DoxyCodeLine{01395   QString saveInPath = m\_saveInFileFld-\/>getPath();}
\DoxyCodeLine{01396   \textcolor{keywordflow}{if} (saveInPath.startsWith(\textcolor{stringliteral}{"{}+"{}})) \{}
\DoxyCodeLine{01397     QString projectFolderName = (saveInPath.contains(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}))}
\DoxyCodeLine{01398                                     ? saveInPath.left(saveInPath.indexOf(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}))}
\DoxyCodeLine{01399                                     : saveInPath;}
\DoxyCodeLine{01400     os.child(\textcolor{stringliteral}{"{}savein\_projectfolder"{}}) << projectFolderName.toStdString();}
\DoxyCodeLine{01401   \}}
\DoxyCodeLine{01402 }
\DoxyCodeLine{01403   \textcolor{comment}{/*-\/-\/ ファイル形式 -\/-\/*/}}
\DoxyCodeLine{01404   QString format = m\_fileFormat-\/>currentText();}
\DoxyCodeLine{01405   os.child(\textcolor{stringliteral}{"{}format"{}}) << format.toStdString();}
\DoxyCodeLine{01406 }
\DoxyCodeLine{01407   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01408 }
\DoxyCodeLine{01409   \textcolor{comment}{/*-\/-\/ ファイルオプション -\/-\/*/}}
\DoxyCodeLine{01410   os.openChild(\textcolor{stringliteral}{"{}formatsProperties"{}});}
\DoxyCodeLine{01411   std::vector<std::string> fileExtensions;}
\DoxyCodeLine{01412   prop-\/>\mbox{\hyperlink{class_t_output_properties_a6e0c52f546b9d98621295bd782c5ff25}{getFileFormatPropertiesExtensions}}(fileExtensions);}
\DoxyCodeLine{01413   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)fileExtensions.size(); i++) \{}
\DoxyCodeLine{01414     std::string ext    = fileExtensions[i];}
\DoxyCodeLine{01415     \mbox{\hyperlink{class_t_property_group}{TPropertyGroup}} *pg = prop-\/>\mbox{\hyperlink{class_t_output_properties_a9ef174e6f6239219fa563b037246c8d4}{getFileFormatProperties}}(ext);}
\DoxyCodeLine{01416     assert(pg);}
\DoxyCodeLine{01417     std::map<std::string, std::string> attr;}
\DoxyCodeLine{01418     attr[\textcolor{stringliteral}{"{}ext"{}}] = ext;}
\DoxyCodeLine{01419     os.openChild(\textcolor{stringliteral}{"{}formatProperties"{}}, attr);}
\DoxyCodeLine{01420     pg-\/>saveData(os);}
\DoxyCodeLine{01421     os.closeChild();}
\DoxyCodeLine{01422   \}}
\DoxyCodeLine{01423   os.closeChild();}
\DoxyCodeLine{01424 }
\DoxyCodeLine{01425   \textcolor{comment}{// Resample Balance}}
\DoxyCodeLine{01426   QString resq =}
\DoxyCodeLine{01427       resampleInfoMap[(ResampleOption)m\_resampleBalanceOm-\/>currentIndex()]}
\DoxyCodeLine{01428           .idString;}
\DoxyCodeLine{01429   os.child(\textcolor{stringliteral}{"{}resquality"{}}) << resq.toStdString();}
\DoxyCodeLine{01430 }
\DoxyCodeLine{01431   \textcolor{comment}{// Channel Width}}
\DoxyCodeLine{01432   QString chanw = m\_channelWidthOm-\/>currentData().toString();}
\DoxyCodeLine{01433   os.child(\textcolor{stringliteral}{"{}bpp"{}}) << chanw.toStdString();}
\DoxyCodeLine{01434 }
\DoxyCodeLine{01435   \textcolor{comment}{// 140503 iwasawa Frame Rate (Scene Settings)}}
\DoxyCodeLine{01436   os.child(\textcolor{stringliteral}{"{}frameRate"{}}) << m\_frameRateFld-\/>text().toStdString();}
\DoxyCodeLine{01437 }
\DoxyCodeLine{01438   \textcolor{comment}{// 140325 iwasawa stretch FPS}}
\DoxyCodeLine{01439   os.child(\textcolor{stringliteral}{"{}stretchFrom"{}}) << m\_stretchFromFld-\/>text().toStdString();}
\DoxyCodeLine{01440   os.child(\textcolor{stringliteral}{"{}stretchTo"{}}) << m\_stretchToFld-\/>text().toStdString();}
\DoxyCodeLine{01441   \textcolor{comment}{// 140325 iwasawa gamma}}
\DoxyCodeLine{01442   os.child(\textcolor{stringliteral}{"{}gamma"{}}) << m\_gammaFld-\/>text().toStdString();}
\DoxyCodeLine{01443 }
\DoxyCodeLine{01444   os.closeChild();  \textcolor{comment}{// outputsettingspreset}}
\DoxyCodeLine{01445 }
\DoxyCodeLine{01446   m\_presetCombo-\/>blockSignals(\textcolor{keyword}{true});}
\DoxyCodeLine{01447   updatePresetComboItems();}
\DoxyCodeLine{01448   m\_presetCombo-\/>setCurrentIndex(}
\DoxyCodeLine{01449       m\_presetCombo-\/>findText(QString::fromStdString(fp.\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}())));}
\DoxyCodeLine{01450   m\_presetCombo-\/>blockSignals(\textcolor{keyword}{false});}
\DoxyCodeLine{01451 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00583}{TOStream\+::check\+Status()}}, \mbox{\hyperlink{l00482}{TOStream\+::child()}}, \mbox{\hyperlink{l00520}{TOStream\+::close\+Child()}}, \mbox{\hyperlink{l00432}{TStage\+Object\+::get\+Camera()}}, \mbox{\hyperlink{l00508}{TStage\+Object\+Tree\+::get\+Current\+Camera\+Id()}}, \mbox{\hyperlink{l00110}{TApp\+::get\+Current\+Xsheet()}}, \mbox{\hyperlink{l00156}{TOutput\+Properties\+::get\+File\+Format\+Properties()}}, \mbox{\hyperlink{l00174}{TOutput\+Properties\+::get\+File\+Format\+Properties\+Extensions()}}, \mbox{\hyperlink{l00636}{TFile\+Path\+::get\+Name()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l00542}{TXsheet\+::get\+Stage\+Object()}}, \mbox{\hyperlink{l00549}{TXsheet\+::get\+Stage\+Object\+Tree()}}, \mbox{\hyperlink{l00215}{TApp\+::instance()}}, and \mbox{\hyperlink{class_t_o_stream_a38fe0f56d934f1c25e2b5d8156415673}{TOStream\+::open\+Child()}}.

\mbox{\Hypertarget{class_output_settings_popup_aad0e5a3d64455298dc7307ea9d4c6296}\label{class_output_settings_popup_aad0e5a3d64455298dc7307ea9d4c6296}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onApplyShrinkChecked@{onApplyShrinkChecked}}
\index{onApplyShrinkChecked@{onApplyShrinkChecked}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onApplyShrinkChecked}{onApplyShrinkChecked}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Apply\+Shrink\+Checked (\begin{DoxyParamCaption}\item[{int}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00780                                                         \{}
\DoxyCodeLine{00781   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} rs       = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}()-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}();}
\DoxyCodeLine{00782   rs.\mbox{\hyperlink{class_t_render_settings_a64acc2c6ba75292c0a0f9d101ddacc3b}{m\_applyShrinkToViewer}} = (state == Qt::Checked);}
\DoxyCodeLine{00783   \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}()-\/>\mbox{\hyperlink{class_t_output_properties_a33595887e47b7bb0c988420636763731}{setRenderSettings}}(rs);}
\DoxyCodeLine{00784 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a378dbe773cbaf526374058ecd7aeceaa}\label{class_output_settings_popup_a378dbe773cbaf526374058ecd7aeceaa}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onBoardSettingsBtnClicked@{onBoardSettingsBtnClicked}}
\index{onBoardSettingsBtnClicked@{onBoardSettingsBtnClicked}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onBoardSettingsBtnClicked}{onBoardSettingsBtnClicked}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Board\+Settings\+Btn\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01717                                                     \{}
\DoxyCodeLine{01718   std::cout << \textcolor{stringliteral}{"{}board settings button clicked"{}} << std::endl;}
\DoxyCodeLine{01719   \mbox{\hyperlink{class_board_settings_popup}{BoardSettingsPopup}} popup(\textcolor{keyword}{this});}
\DoxyCodeLine{01720   popup.exec();}
\DoxyCodeLine{01721 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a0235083b110ce551cd24f68c3298a904}\label{class_output_settings_popup_a0235083b110ce551cd24f68c3298a904}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onCameraChanged@{onCameraChanged}}
\index{onCameraChanged@{onCameraChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onCameraChanged}{onCameraChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Camera\+Changed (\begin{DoxyParamCaption}\item[{const QString \&}]{str }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Set current scene output camera to camera set in popup field. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01102                                                             \{}
\DoxyCodeLine{01103   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}();}
\DoxyCodeLine{01104   \textcolor{keywordflow}{if} (!scene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01105   \mbox{\hyperlink{class_t_stage_object_tree}{TStageObjectTree}} *tree = scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}();}
\DoxyCodeLine{01106   \textcolor{keywordtype}{int} cameraCount        = tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_ac45400eec33276e3bfbfbe91e7cb7439}{getCameraCount}}();}
\DoxyCodeLine{01107   \textcolor{comment}{/*-\/-\/ 注：CameraCountはDeleteされたCameraは入らないがIndexは欠番になる。}}
\DoxyCodeLine{01108 \textcolor{comment}{          ので、CameraCountとIndexの最大値は必ずしも一致しない}}
\DoxyCodeLine{01109 \textcolor{comment}{  -\/-\/*/}}
\DoxyCodeLine{01110   \textcolor{keywordtype}{int} tmpCameraId = 0;}
\DoxyCodeLine{01111   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01112   \textcolor{keywordflow}{for} (i = 0; i < cameraCount;) \{}
\DoxyCodeLine{01113     \textcolor{keywordflow}{if} (!tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(TStageObjectId::CameraId(tmpCameraId), \textcolor{keyword}{false})) \{}
\DoxyCodeLine{01114       tmpCameraId++;}
\DoxyCodeLine{01115       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01116     \}}
\DoxyCodeLine{01117     std::string name =}
\DoxyCodeLine{01118         tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(TStageObjectId::CameraId(tmpCameraId))-\/>getName();}
\DoxyCodeLine{01119     \textcolor{keywordflow}{if} (name == str.toStdString()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{01120     tmpCameraId++;}
\DoxyCodeLine{01121     i++;}
\DoxyCodeLine{01122   \}}
\DoxyCodeLine{01123   \textcolor{keywordflow}{if} (i >= cameraCount) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01124   \mbox{\hyperlink{class_t_app}{TApp}} *app                      = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{01125   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} cameraId        = TStageObjectId::CameraId(i);}
\DoxyCodeLine{01126   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} currentCameraId = m\_isPreviewSettings}
\DoxyCodeLine{01127                                        ? tree-\/>getCurrentPreviewCameraId()}
\DoxyCodeLine{01128                                        : tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a7d63ae5d60c3a3aacf5da58c108ac167}{getCurrentCameraId}}();}
\DoxyCodeLine{01129   \textcolor{keywordflow}{if} (currentCameraId != cameraId) \{}
\DoxyCodeLine{01130     \mbox{\hyperlink{class_t_xsheet_handle}{TXsheetHandle}} *xsheetHandle = app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}();}
\DoxyCodeLine{01131     disconnect(xsheetHandle, SIGNAL(xsheetChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{01132                SLOT(\mbox{\hyperlink{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}{updateField}}()));}
\DoxyCodeLine{01133 }
\DoxyCodeLine{01134     \textcolor{keywordflow}{if} (m\_isPreviewSettings)}
\DoxyCodeLine{01135       tree-\/>setCurrentPreviewCameraId(cameraId);}
\DoxyCodeLine{01136     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01137       tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a493dff1b6348d709f7387f05e7656e57}{setCurrentCameraId}}(cameraId);}
\DoxyCodeLine{01138     app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01139     xsheetHandle-\/>notifyXsheetChanged();}
\DoxyCodeLine{01140 }
\DoxyCodeLine{01141     connect(xsheetHandle, SIGNAL(xsheetChanged()), \textcolor{keyword}{this}, SLOT(\mbox{\hyperlink{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}{updateField}}()));}
\DoxyCodeLine{01142   \}}
\DoxyCodeLine{01143   \textcolor{keywordflow}{if} (m\_presetCombo) m\_presetCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01144 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00487}{TStage\+Object\+Tree\+::get\+Camera\+Count()}}, \mbox{\hyperlink{l00508}{TStage\+Object\+Tree\+::get\+Current\+Camera\+Id()}}, \mbox{\hyperlink{l00719}{get\+Current\+Scene()}}, \mbox{\hyperlink{l00106}{TApp\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l00110}{TApp\+::get\+Current\+Xsheet()}}, \mbox{\hyperlink{l00164}{TStage\+Object\+Tree\+::get\+Stage\+Object()}}, \mbox{\hyperlink{l00549}{TXsheet\+::get\+Stage\+Object\+Tree()}}, \mbox{\hyperlink{l00957}{Toonz\+Scene\+::get\+Xsheet()}}, \mbox{\hyperlink{l00215}{TApp\+::instance()}}, \mbox{\hyperlink{l00520}{TStage\+Object\+Tree\+::set\+Current\+Camera\+Id()}}, and \mbox{\hyperlink{l00802}{update\+Field()}}.

\mbox{\Hypertarget{class_output_settings_popup_a65e2a3364149f21ad8b58fd3b6d9c095}\label{class_output_settings_popup_a65e2a3364149f21ad8b58fd3b6d9c095}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onCameraSettingsChanged@{onCameraSettingsChanged}}
\index{onCameraSettingsChanged@{onCameraSettingsChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onCameraSettingsChanged}{onCameraSettingsChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Camera\+Settings\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01691                                                   \{}
\DoxyCodeLine{01692   \textcolor{keywordflow}{if} (m\_presetCombo) m\_presetCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01693 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a91d926e5ee00544d98dda4a5c58c7a5c}\label{class_output_settings_popup_a91d926e5ee00544d98dda4a5c58c7a5c}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onCategoryActivated@{onCategoryActivated}}
\index{onCategoryActivated@{onCategoryActivated}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onCategoryActivated}{onCategoryActivated}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Category\+Activated (\begin{DoxyParamCaption}\item[{QList\+Widget\+Item $\ast$}]{item }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00264                                                                    \{}
\DoxyCodeLine{00265   \mbox{\hyperlink{class_animated_label}{AnimatedLabel}} *label;}
\DoxyCodeLine{00266   QFrame *frame;}
\DoxyCodeLine{00267   \textcolor{keywordflow}{if} (item-\/>text() == tr(\textcolor{stringliteral}{"{}Camera"{}})) \{}
\DoxyCodeLine{00268     label = m\_cameraLabel;}
\DoxyCodeLine{00269     frame = m\_cameraBox;}
\DoxyCodeLine{00270   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (item-\/>text() == tr(\textcolor{stringliteral}{"{}File"{}})) \{}
\DoxyCodeLine{00271     label = m\_fileLabel;}
\DoxyCodeLine{00272     frame = m\_fileBox;}
\DoxyCodeLine{00273   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (item-\/>text() == tr(\textcolor{stringliteral}{"{}More"{}})) \{}
\DoxyCodeLine{00274     label = m\_moreLabel;}
\DoxyCodeLine{00275     frame = m\_moreBox;}
\DoxyCodeLine{00276   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00277     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00278 }
\DoxyCodeLine{00279   m\_scrollArea-\/>ensureWidgetVisible(frame);}
\DoxyCodeLine{00280   QPropertyAnimation *a = \textcolor{keyword}{new} QPropertyAnimation(label, \textcolor{stringliteral}{"{}color"{}});}
\DoxyCodeLine{00281   a-\/>setDuration(1000);}
\DoxyCodeLine{00282   a-\/>setStartValue(QColor(255, 255, 0, 128));}
\DoxyCodeLine{00283   a-\/>setEndValue(QColor(255, 255, 0, 0));}
\DoxyCodeLine{00284   a-\/>setEasingCurve(QEasingCurve::OutBack);}
\DoxyCodeLine{00285   a-\/>start(QPropertyAnimation::DeleteWhenStopped);}
\DoxyCodeLine{00286 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a2c4ab58ea0b7f9143b8fbffa7cc82b26}\label{class_output_settings_popup_a2c4ab58ea0b7f9143b8fbffa7cc82b26}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onChannelWidthChanged@{onChannelWidthChanged}}
\index{onChannelWidthChanged@{onChannelWidthChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onChannelWidthChanged}{onChannelWidthChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Channel\+Width\+Changed (\begin{DoxyParamCaption}\item[{int}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Set current scene output channel width to value identified by {\bfseries{type}} index in popup QCombo\+Box. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01242                                                         \{}
\DoxyCodeLine{01243   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01244   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01245   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} rs      = prop-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}();}
\DoxyCodeLine{01246   \textcolor{keywordflow}{if} (type == c\_8bit)}
\DoxyCodeLine{01247     rs.\mbox{\hyperlink{class_t_render_settings_a9489ed9d21a047b29cc5dd285f1f6f19}{m\_bpp}} = 32;}
\DoxyCodeLine{01248   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01249     rs.\mbox{\hyperlink{class_t_render_settings_a9489ed9d21a047b29cc5dd285f1f6f19}{m\_bpp}} = 64;}
\DoxyCodeLine{01250   prop-\/>\mbox{\hyperlink{class_t_output_properties_a33595887e47b7bb0c988420636763731}{setRenderSettings}}(rs);}
\DoxyCodeLine{01251   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01252   \textcolor{keywordflow}{if} (m\_presetCombo) m\_presetCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01253 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00719}{get\+Current\+Scene()}}, \mbox{\hyperlink{l00106}{TApp\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l00181}{TOutput\+Properties\+::get\+Render\+Settings()}}, \mbox{\hyperlink{l00215}{TApp\+::instance()}}, \mbox{\hyperlink{l00116}{TRender\+Settings\+::m\+\_\+bpp}}, and \mbox{\hyperlink{l00184}{TOutput\+Properties\+::set\+Render\+Settings()}}.

\mbox{\Hypertarget{class_output_settings_popup_a5bee3cf971b714ed7356a811adf7ca71}\label{class_output_settings_popup_a5bee3cf971b714ed7356a811adf7ca71}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onDominantFieldChanged@{onDominantFieldChanged}}
\index{onDominantFieldChanged@{onDominantFieldChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onDominantFieldChanged}{onDominantFieldChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Dominant\+Field\+Changed (\begin{DoxyParamCaption}\item[{int}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Set current scene output dominant field to value identified by {\bfseries{type}} index in popup QCombo\+Box. If time stretch velue from-\/to are different and dominant field is different from none show a message error. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01280                                                          \{}
\DoxyCodeLine{01281   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01282   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01283   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} rs      = prop-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}();}
\DoxyCodeLine{01284   \textcolor{keywordflow}{if} (type != c\_none \&\&}
\DoxyCodeLine{01285       m\_stretchFromFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a4cb043e4d9f7c7ffeed57a72bc10a26e}{getValue}}() != m\_stretchToFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a4cb043e4d9f7c7ffeed57a72bc10a26e}{getValue}}()) \{}
\DoxyCodeLine{01286     DVGui::error(\textcolor{stringliteral}{"{}Can't apply field rendering in a time stretched scene"{}});}
\DoxyCodeLine{01287     rs.\mbox{\hyperlink{class_t_render_settings_a48bbcbb6ca2cad3de97f4cabea09cd2f}{m\_fieldPrevalence}} = \mbox{\hyperlink{class_t_render_settings_aff548d2c58f7c6adea513ab32526eae8acc9a06de2f74e1ae1404282226d6a2d9}{TRenderSettings::NoField}};}
\DoxyCodeLine{01288     m\_dominantFieldOm-\/>setCurrentIndex(c\_none);}
\DoxyCodeLine{01289   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type == c\_odd)}
\DoxyCodeLine{01290     rs.\mbox{\hyperlink{class_t_render_settings_a48bbcbb6ca2cad3de97f4cabea09cd2f}{m\_fieldPrevalence}} = \mbox{\hyperlink{class_t_render_settings_aff548d2c58f7c6adea513ab32526eae8ae748ee019b804e118f9cde7b06005e07}{TRenderSettings::OddField}};}
\DoxyCodeLine{01291   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (type == c\_even)}
\DoxyCodeLine{01292     rs.\mbox{\hyperlink{class_t_render_settings_a48bbcbb6ca2cad3de97f4cabea09cd2f}{m\_fieldPrevalence}} = \mbox{\hyperlink{class_t_render_settings_aff548d2c58f7c6adea513ab32526eae8ae38d22371c97793cd13eede40d9557db}{TRenderSettings::EvenField}};}
\DoxyCodeLine{01293   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01294     rs.\mbox{\hyperlink{class_t_render_settings_a48bbcbb6ca2cad3de97f4cabea09cd2f}{m\_fieldPrevalence}} = \mbox{\hyperlink{class_t_render_settings_aff548d2c58f7c6adea513ab32526eae8acc9a06de2f74e1ae1404282226d6a2d9}{TRenderSettings::NoField}};}
\DoxyCodeLine{01295   m\_doStereoscopy-\/>setEnabled(rs.\mbox{\hyperlink{class_t_render_settings_a48bbcbb6ca2cad3de97f4cabea09cd2f}{m\_fieldPrevalence}} == \mbox{\hyperlink{class_t_render_settings_aff548d2c58f7c6adea513ab32526eae8acc9a06de2f74e1ae1404282226d6a2d9}{TRenderSettings::NoField}});}
\DoxyCodeLine{01296   m\_stereoShift-\/>setEnabled(rs.\mbox{\hyperlink{class_t_render_settings_a48bbcbb6ca2cad3de97f4cabea09cd2f}{m\_fieldPrevalence}} == \mbox{\hyperlink{class_t_render_settings_aff548d2c58f7c6adea513ab32526eae8acc9a06de2f74e1ae1404282226d6a2d9}{TRenderSettings::NoField}});}
\DoxyCodeLine{01297   prop-\/>\mbox{\hyperlink{class_t_output_properties_a33595887e47b7bb0c988420636763731}{setRenderSettings}}(rs);}
\DoxyCodeLine{01298   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01299 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00090}{TRender\+Settings\+::\+Even\+Field}}, \mbox{\hyperlink{l00719}{get\+Current\+Scene()}}, \mbox{\hyperlink{l00106}{TApp\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l00181}{TOutput\+Properties\+::get\+Render\+Settings()}}, \mbox{\hyperlink{l00355}{DVGui\+::\+Double\+Line\+Edit\+::get\+Value()}}, \mbox{\hyperlink{l00215}{TApp\+::instance()}}, \mbox{\hyperlink{l00131}{TRender\+Settings\+::m\+\_\+field\+Prevalence}}, \mbox{\hyperlink{l00089}{TRender\+Settings\+::\+No\+Field}}, \mbox{\hyperlink{l00091}{TRender\+Settings\+::\+Odd\+Field}}, and \mbox{\hyperlink{l00184}{TOutput\+Properties\+::set\+Render\+Settings()}}.

\mbox{\Hypertarget{class_output_settings_popup_a23a6e23dd4eb2c182041d9ae2655b79c}\label{class_output_settings_popup_a23a6e23dd4eb2c182041d9ae2655b79c}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onFormatChanged@{onFormatChanged}}
\index{onFormatChanged@{onFormatChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onFormatChanged}{onFormatChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Format\+Changed (\begin{DoxyParamCaption}\item[{const QString \&}]{str }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Set current scene output format to new format set in popup field. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01054                                                             \{}
\DoxyCodeLine{01055   \textcolor{keyword}{auto} isMultiRenderInvalid = [](std::string ext, \textcolor{keywordtype}{bool} allowMT) -\/> \textcolor{keywordtype}{bool} \{}
\DoxyCodeLine{01056     \textcolor{keywordflow}{return} (!allowMT \&\& (ext == \textcolor{stringliteral}{"{}mp4"{}} || ext == \textcolor{stringliteral}{"{}gif"{}} || ext == \textcolor{stringliteral}{"{}webm"{}})) ||}
\DoxyCodeLine{01057            ext == \textcolor{stringliteral}{"{}spritesheet"{}};}
\DoxyCodeLine{01058   \};}
\DoxyCodeLine{01059 }
\DoxyCodeLine{01060   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop    = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01061   \textcolor{keywordtype}{bool} wasMultiRenderInvalid =}
\DoxyCodeLine{01062       isMultiRenderInvalid(prop-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}().\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}(), m\_allowMT);}
\DoxyCodeLine{01063   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = prop-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}().\mbox{\hyperlink{class_t_file_path_a1437b0e0720e9258b622f68b6858e95d}{withType}}(str.toStdString());}
\DoxyCodeLine{01064   prop-\/>\mbox{\hyperlink{class_t_output_properties_abd2cedbcd56198c5d6e9e9ffcd51767e}{setPath}}(fp);}
\DoxyCodeLine{01065   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01066   m\_allowMT = Preferences::instance()-\/>getFfmpegMultiThread();}
\DoxyCodeLine{01067 }
\DoxyCodeLine{01068   \textcolor{keywordflow}{if} (m\_presetCombo) m\_presetCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01069   \textcolor{keywordflow}{if} (isMultiRenderInvalid(str.toStdString(), m\_allowMT)) \{}
\DoxyCodeLine{01070     m\_threadsComboOm-\/>setDisabled(\textcolor{keyword}{true});}
\DoxyCodeLine{01071     m\_threadsComboOm-\/>setCurrentIndex(0);}
\DoxyCodeLine{01072   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01073     m\_threadsComboOm-\/>setDisabled(\textcolor{keyword}{false});}
\DoxyCodeLine{01074     \textcolor{keywordflow}{if} (wasMultiRenderInvalid) m\_threadsComboOm-\/>setCurrentIndex(2);}
\DoxyCodeLine{01075   \}}
\DoxyCodeLine{01076 }
\DoxyCodeLine{01077   \textcolor{comment}{// clapperboard is only available with movie formats}}
\DoxyCodeLine{01078   \textcolor{keywordflow}{if} (isMovieType(str.toStdString())) \{}
\DoxyCodeLine{01079     m\_addBoard-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{01080     m\_boardSettingsBtn-\/>setEnabled(m\_addBoard-\/>isChecked());}
\DoxyCodeLine{01081   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01082     m\_addBoard-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{01083     m\_boardSettingsBtn-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{01084   \}}
\DoxyCodeLine{01085 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00106}{TApp\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l00116}{TOutput\+Properties\+::get\+Path()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l00225}{TFile\+Path\+::get\+Type()}}, \mbox{\hyperlink{l00215}{TApp\+::instance()}}, \mbox{\hyperlink{l00120}{TOutput\+Properties\+::set\+Path()}}, and \mbox{\hyperlink{l00774}{TFile\+Path\+::with\+Type()}}.



Referenced by \mbox{\hyperlink{l00802}{update\+Field()}}.

\mbox{\Hypertarget{class_output_settings_popup_a4c4fcaf7ced114545dc816a34145ddf4}\label{class_output_settings_popup_a4c4fcaf7ced114545dc816a34145ddf4}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onFrameFldEditFinished@{onFrameFldEditFinished}}
\index{onFrameFldEditFinished@{onFrameFldEditFinished}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onFrameFldEditFinished}{onFrameFldEditFinished}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Frame\+Fld\+Edit\+Finished (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01168                                                  \{}
\DoxyCodeLine{01169   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}();}
\DoxyCodeLine{01170   \textcolor{keywordflow}{if} (!scene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01171   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01172 }
\DoxyCodeLine{01173   \textcolor{keywordtype}{int} maxR0  = std::max(0, scene-\/>\mbox{\hyperlink{class_toonz_scene_ab5cd3ad6f894b1acc5656ca747a80627}{getFrameCount}}() -\/ 1);}
\DoxyCodeLine{01174   \textcolor{keywordtype}{int} r0     = (int)m\_startFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}() -\/ 1;}
\DoxyCodeLine{01175   \textcolor{keywordtype}{int} r1     = (int)m\_endFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}() -\/ 1;}
\DoxyCodeLine{01176   \textcolor{keywordtype}{int} step   = (int)m\_stepFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}();}
\DoxyCodeLine{01177   \textcolor{keywordtype}{int} shrink = (int)m\_shrinkFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_a77019c5d6bce534fdd1931136a6efe95}{getValue}}();}
\DoxyCodeLine{01178 }
\DoxyCodeLine{01179   \textcolor{keywordtype}{bool} error = \textcolor{keyword}{false};}
\DoxyCodeLine{01180   \textcolor{keywordflow}{if} (r0 < 0) \{}
\DoxyCodeLine{01181     error = \textcolor{keyword}{true};}
\DoxyCodeLine{01182     r0    = 0;}
\DoxyCodeLine{01183   \}}
\DoxyCodeLine{01184   \textcolor{keywordflow}{if} (r0 > maxR0) \{}
\DoxyCodeLine{01185     error = \textcolor{keyword}{true};}
\DoxyCodeLine{01186     r0    = maxR0;}
\DoxyCodeLine{01187   \}}
\DoxyCodeLine{01188   \textcolor{keywordflow}{if} (r1 < r0) \{}
\DoxyCodeLine{01189     error = \textcolor{keyword}{true};}
\DoxyCodeLine{01190     r1    = r0;}
\DoxyCodeLine{01191   \}}
\DoxyCodeLine{01192   \textcolor{keywordflow}{if} (r1 > maxR0) \{}
\DoxyCodeLine{01193     error = \textcolor{keyword}{true};}
\DoxyCodeLine{01194     r1    = maxR0;}
\DoxyCodeLine{01195   \}}
\DoxyCodeLine{01196   \textcolor{keywordflow}{if} (error) \{}
\DoxyCodeLine{01197     m\_startFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(r0 + 1);}
\DoxyCodeLine{01198     m\_endFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(r1 + 1);}
\DoxyCodeLine{01199   \}}
\DoxyCodeLine{01200   \textcolor{keywordflow}{if} (step < 1) \{}
\DoxyCodeLine{01201     step = 1;}
\DoxyCodeLine{01202     m\_stepFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(step);}
\DoxyCodeLine{01203   \}}
\DoxyCodeLine{01204   \textcolor{keywordflow}{if} (shrink < 1) \{}
\DoxyCodeLine{01205     shrink = 1;}
\DoxyCodeLine{01206     m\_shrinkFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(shrink);}
\DoxyCodeLine{01207   \}}
\DoxyCodeLine{01208   \textcolor{keywordflow}{if} (r0 == 0 \&\& r1 == maxR0) \{}
\DoxyCodeLine{01209     r0 = 0;}
\DoxyCodeLine{01210     r1 = -\/1;}
\DoxyCodeLine{01211   \}}
\DoxyCodeLine{01212   prop-\/>\mbox{\hyperlink{class_t_output_properties_a3673546179602582d1375ba6961ceea6}{setRange}}(r0, r1, step);}
\DoxyCodeLine{01213   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} rs = prop-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}();}
\DoxyCodeLine{01214   rs.\mbox{\hyperlink{class_t_render_settings_a52dd41881bbf6aaf953fe300be2e233e}{m\_shrinkX}} = rs.\mbox{\hyperlink{class_t_render_settings_ae1882f584ce9ffad12ce6bf9ff23814c}{m\_shrinkY}} = shrink;}
\DoxyCodeLine{01215   rs.\mbox{\hyperlink{class_t_render_settings_a64acc2c6ba75292c0a0f9d101ddacc3b}{m\_applyShrinkToViewer}} =}
\DoxyCodeLine{01216       m\_applyShrinkChk ? m\_applyShrinkChk-\/>checkState() == Qt::Checked : \textcolor{keyword}{false};}
\DoxyCodeLine{01217 }
\DoxyCodeLine{01218   prop-\/>\mbox{\hyperlink{class_t_output_properties_a33595887e47b7bb0c988420636763731}{setRenderSettings}}(rs);}
\DoxyCodeLine{01219 }
\DoxyCodeLine{01220   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01221 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_af89c0763c1434bd7ad8264a9eda28d95}\label{class_output_settings_popup_af89c0763c1434bd7ad8264a9eda28d95}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onFrameRateEditingFinished@{onFrameRateEditingFinished}}
\index{onFrameRateEditingFinished@{onFrameRateEditingFinished}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onFrameRateEditingFinished}{onFrameRateEditingFinished}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Frame\+Rate\+Editing\+Finished (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01697                                                      \{}
\DoxyCodeLine{01698   \textcolor{keywordtype}{double} frameRate         = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}()-\/>\mbox{\hyperlink{class_t_output_properties_a0d9662971bc33097aa1b55111965b967}{getFrameRate}}();}
\DoxyCodeLine{01699   \textcolor{keywordtype}{double} frameRateFldValue = m\_frameRateFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a4cb043e4d9f7c7ffeed57a72bc10a26e}{getValue}}();}
\DoxyCodeLine{01700   \textcolor{keywordflow}{if} (frameRate == frameRateFldValue) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01701   \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}()-\/>\mbox{\hyperlink{class_t_output_properties_ad88500532eb3bd83be26ae6ed256adcd}{setFrameRate}}(frameRateFldValue);}
\DoxyCodeLine{01702   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene()-\/>\mbox{\hyperlink{class_toonz_scene_a9304aa6099f4b83540c0261e64d17a25}{updateSoundColumnFrameRate}}();}
\DoxyCodeLine{01703   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifySceneChanged();}
\DoxyCodeLine{01704   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_ac5e05acb2ce9809c0dcadd2a8b06b393}{updateFrameCount}}();}
\DoxyCodeLine{01705   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{01706 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a47c461de35b6aeb668eddf3f447d558f}\label{class_output_settings_popup_a47c461de35b6aeb668eddf3f447d558f}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onGammaFldEditFinished@{onGammaFldEditFinished}}
\index{onGammaFldEditFinished@{onGammaFldEditFinished}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onGammaFldEditFinished}{onGammaFldEditFinished}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Gamma\+Fld\+Edit\+Finished (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Set current scene output gamma value to current value in popup gamma field. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01258                                                  \{}
\DoxyCodeLine{01259   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01260   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01261 }
\DoxyCodeLine{01262   \textcolor{keywordtype}{double} gamma = m\_gammaFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a4cb043e4d9f7c7ffeed57a72bc10a26e}{getValue}}();}
\DoxyCodeLine{01263   m\_gammaFld-\/>setCursorPosition(0);}
\DoxyCodeLine{01264   \textcolor{keywordflow}{if} (gamma <= 0) \{}
\DoxyCodeLine{01265     gamma = 0.001;}
\DoxyCodeLine{01266     m\_gammaFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a7d777640f0e092fcccc84976e72e2e5f}{setValue}}(gamma);}
\DoxyCodeLine{01267   \}}
\DoxyCodeLine{01268   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} rs = prop-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}();}
\DoxyCodeLine{01269   rs.\mbox{\hyperlink{class_t_render_settings_a50a57f97b30445a34582da914064d8ca}{m\_gamma}}         = gamma;}
\DoxyCodeLine{01270   prop-\/>\mbox{\hyperlink{class_t_output_properties_a33595887e47b7bb0c988420636763731}{setRenderSettings}}(rs);}
\DoxyCodeLine{01271   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01272 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00719}{get\+Current\+Scene()}}, \mbox{\hyperlink{l00106}{TApp\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l00181}{TOutput\+Properties\+::get\+Render\+Settings()}}, \mbox{\hyperlink{l00355}{DVGui\+::\+Double\+Line\+Edit\+::get\+Value()}}, \mbox{\hyperlink{l00215}{TApp\+::instance()}}, \mbox{\hyperlink{l00106}{TRender\+Settings\+::m\+\_\+gamma}}, \mbox{\hyperlink{l00184}{TOutput\+Properties\+::set\+Render\+Settings()}}, and \mbox{\hyperlink{l00338}{DVGui\+::\+Double\+Line\+Edit\+::set\+Value()}}.

\mbox{\Hypertarget{class_output_settings_popup_a74e441a21726538ed8df7deaf5834936}\label{class_output_settings_popup_a74e441a21726538ed8df7deaf5834936}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onMultimediaChanged@{onMultimediaChanged}}
\index{onMultimediaChanged@{onMultimediaChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onMultimediaChanged}{onMultimediaChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Multimedia\+Changed (\begin{DoxyParamCaption}\item[{int}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01326                                                        \{}
\DoxyCodeLine{01327   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01328   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01329   prop-\/>\mbox{\hyperlink{class_t_output_properties_a402db8674ffbcbaa01315b00c87bce9a}{setMultimediaRendering}}(state);}
\DoxyCodeLine{01330 }
\DoxyCodeLine{01331   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01332 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a951cb642adab122071be8faf4cbf7c4a}\label{class_output_settings_popup_a951cb642adab122071be8faf4cbf7c4a}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onNameChanged@{onNameChanged}}
\index{onNameChanged@{onNameChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onNameChanged}{onNameChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Name\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Set current scene output name to new name modified in popup field. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00990                                         \{}
\DoxyCodeLine{00991   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}();}
\DoxyCodeLine{00992   \textcolor{keywordflow}{if} (!scene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00993 }
\DoxyCodeLine{00994   QString name = m\_fileNameFld-\/>text();}
\DoxyCodeLine{00995   \textcolor{keywordflow}{if} (!isValidFileName(name)) \{}
\DoxyCodeLine{00996     DVGui::error(}
\DoxyCodeLine{00997         \textcolor{stringliteral}{"{}A filename cannot be empty or contain any of the following "{}}}
\DoxyCodeLine{00998         \textcolor{stringliteral}{"{}characters:\(\backslash\)n \(\backslash\)\(\backslash\) / : * ? \(\backslash\)"{} < > |"{}});}
\DoxyCodeLine{00999     \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01000     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp            = prop-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}();}
\DoxyCodeLine{01001     QString name            = QString::fromStdString(fp.\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}());}
\DoxyCodeLine{01002     \textcolor{keywordflow}{if} (name.isEmpty())}
\DoxyCodeLine{01003       name = QString::fromStdString(scene-\/>\mbox{\hyperlink{class_toonz_scene_ad42b52b671b094f66e003c4b7ebefd45}{getScenePath}}().\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}());}
\DoxyCodeLine{01004     m\_fileNameFld-\/>setText(name);}
\DoxyCodeLine{01005 }
\DoxyCodeLine{01006     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01007   \}}
\DoxyCodeLine{01008   \textcolor{keywordflow}{if} (isReservedFileName\_message(name)) \{}
\DoxyCodeLine{01009     \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01010     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp            = prop-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}();}
\DoxyCodeLine{01011     QString name            = QString::fromStdString(fp.\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}());}
\DoxyCodeLine{01012     \textcolor{keywordflow}{if} (name.isEmpty())}
\DoxyCodeLine{01013       name = QString::fromStdString(scene-\/>\mbox{\hyperlink{class_toonz_scene_ad42b52b671b094f66e003c4b7ebefd45}{getScenePath}}().\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}());}
\DoxyCodeLine{01014     m\_fileNameFld-\/>setText(name);}
\DoxyCodeLine{01015 }
\DoxyCodeLine{01016     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01017   \}}
\DoxyCodeLine{01018 }
\DoxyCodeLine{01019   std::wstring wname = name.toStdWString();}
\DoxyCodeLine{01020   \{}
\DoxyCodeLine{01021     \textcolor{comment}{// It could be possible that users add an extension to the level name.}}
\DoxyCodeLine{01022     \textcolor{comment}{// This is not supported, and the extension must be removed.}}
\DoxyCodeLine{01023     \textcolor{comment}{// Observe that leaving wname as is WOULD be a bug (see Bugzilla \#6578).}}
\DoxyCodeLine{01024 }
\DoxyCodeLine{01025     \textcolor{keyword}{const} std::wstring \&actualWName = \mbox{\hyperlink{class_t_file_path}{TFilePath}}(wname).getWideName();}
\DoxyCodeLine{01026     \textcolor{keywordflow}{if} (wname != actualWName) \{}
\DoxyCodeLine{01027       wname = actualWName;}
\DoxyCodeLine{01028       m\_fileNameFld-\/>setText(QString::fromStdWString(wname));}
\DoxyCodeLine{01029     \}}
\DoxyCodeLine{01030   \}}
\DoxyCodeLine{01031 }
\DoxyCodeLine{01032   \textcolor{comment}{// In case the output level name is reverted back to the scene name, we assume}}
\DoxyCodeLine{01033   \textcolor{comment}{// that}}
\DoxyCodeLine{01034   \textcolor{comment}{// a "{}Save Scene As..."{} command should move the value to the *new* scene name}}
\DoxyCodeLine{01035   \textcolor{keywordflow}{if} (wname == scene-\/>\mbox{\hyperlink{class_toonz_scene_ad42b52b671b094f66e003c4b7ebefd45}{getScenePath}}().getWideName())}
\DoxyCodeLine{01036     wname = std::wstring();  \textcolor{comment}{// An empty name is redirected to the scene name}}
\DoxyCodeLine{01037   \textcolor{comment}{// directly by the render procedure, let's use this!}}
\DoxyCodeLine{01038   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01039   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp            = prop-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}();}
\DoxyCodeLine{01040 }
\DoxyCodeLine{01041   \textcolor{keywordflow}{if} (fp.getWideName() == wname) \textcolor{keywordflow}{return};  \textcolor{comment}{// Already had the right name}}
\DoxyCodeLine{01042 }
\DoxyCodeLine{01043   fp = fp.\mbox{\hyperlink{class_t_file_path_a3ebf9ced558cfef97a60bba536b23c6f}{withName}}(wname);}
\DoxyCodeLine{01044   prop-\/>\mbox{\hyperlink{class_t_output_properties_abd2cedbcd56198c5d6e9e9ffcd51767e}{setPath}}(fp);}
\DoxyCodeLine{01045 }
\DoxyCodeLine{01046   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01047 }
\DoxyCodeLine{01048   \textcolor{keywordflow}{if} (m\_presetCombo) m\_presetCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01049 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00719}{get\+Current\+Scene()}}, \mbox{\hyperlink{l00106}{TApp\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l00636}{TFile\+Path\+::get\+Name()}}, \mbox{\hyperlink{l00116}{TOutput\+Properties\+::get\+Path()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l00059}{Toonz\+Scene\+::get\+Scene\+Path()}}, \mbox{\hyperlink{l00215}{TApp\+::instance()}}, \mbox{\hyperlink{l00120}{TOutput\+Properties\+::set\+Path()}}, and \mbox{\hyperlink{l00802}{TFile\+Path\+::with\+Name()}}.

\mbox{\Hypertarget{class_output_settings_popup_aa22a85d9aa3dd71018631eb876c915d9}\label{class_output_settings_popup_aa22a85d9aa3dd71018631eb876c915d9}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onPathChanged@{onPathChanged}}
\index{onPathChanged@{onPathChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onPathChanged}{onPathChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Path\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Set current scene output path to new path modified in popup field. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00968                                         \{}
\DoxyCodeLine{00969   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00970 }
\DoxyCodeLine{00971   QString text = m\_saveInFileFld-\/>getPath();}
\DoxyCodeLine{00972   \mbox{\hyperlink{class_t_file_path}{TFilePath}} newFp(text.toStdWString());}
\DoxyCodeLine{00973   newFp = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene()-\/>\mbox{\hyperlink{class_toonz_scene_abb12422205be4336c3dee1aa5fbdc5e5}{codeFilePath}}(newFp);}
\DoxyCodeLine{00974   m\_saveInFileFld-\/>setPath(QString::fromStdWString(newFp.getWideString()));}
\DoxyCodeLine{00975 }
\DoxyCodeLine{00976   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{00977   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp            = prop-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}();}
\DoxyCodeLine{00978 }
\DoxyCodeLine{00979   \textcolor{keywordflow}{if} (fp == newFp) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00980   fp = fp.\mbox{\hyperlink{class_t_file_path_a09d12d68c4264183e0268dde6f592b2e}{withParentDir}}(newFp);}
\DoxyCodeLine{00981   prop-\/>\mbox{\hyperlink{class_t_output_properties_abd2cedbcd56198c5d6e9e9ffcd51767e}{setPath}}(fp);}
\DoxyCodeLine{00982   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{00983 }
\DoxyCodeLine{00984   \textcolor{keywordflow}{if} (m\_presetCombo) m\_presetCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{00985 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01328}{Toonz\+Scene\+::code\+File\+Path()}}, \mbox{\hyperlink{l00719}{get\+Current\+Scene()}}, \mbox{\hyperlink{l00106}{TApp\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l00116}{TOutput\+Properties\+::get\+Path()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l00215}{TApp\+::instance()}}, \mbox{\hyperlink{l00120}{TOutput\+Properties\+::set\+Path()}}, and \mbox{\hyperlink{l00853}{TFile\+Path\+::with\+Parent\+Dir()}}.

\mbox{\Hypertarget{class_output_settings_popup_ad0b47d346f21dd49ca3411a44f4fa6bb}\label{class_output_settings_popup_ad0b47d346f21dd49ca3411a44f4fa6bb}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onPresetSelected@{onPresetSelected}}
\index{onPresetSelected@{onPresetSelected}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onPresetSelected}{onPresetSelected}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Preset\+Selected (\begin{DoxyParamCaption}\item[{const QString \&}]{str }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01521                                                              \{}
\DoxyCodeLine{01522   \textcolor{comment}{/*-\/-\/ "{}<custom>"{}を選択したら何もせずreturn -\/-\/*/}}
\DoxyCodeLine{01523   \textcolor{keywordflow}{if} (m\_presetCombo-\/>currentIndex() == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01524   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = TEnv::getConfigDir() + \textcolor{stringliteral}{"{}outputpresets"{}} +}
\DoxyCodeLine{01525                  QString(\textcolor{stringliteral}{"{}\%1.txt"{}}).arg(str).toStdString();}
\DoxyCodeLine{01526   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp).doesExist()) \{}
\DoxyCodeLine{01527     QMessageBox::warning(\textcolor{keyword}{this}, tr(\textcolor{stringliteral}{"{}Warning"{}}),}
\DoxyCodeLine{01528                          QString(\textcolor{stringliteral}{"{}The preset file \%1.txt not found"{}}).arg(str),}
\DoxyCodeLine{01529                          QMessageBox::Ok, QMessageBox::Ok);}
\DoxyCodeLine{01530     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01531   \}}
\DoxyCodeLine{01532   \mbox{\hyperlink{class_t_i_stream}{TIStream}} is(fp);}
\DoxyCodeLine{01533   \textcolor{keywordflow}{if} (!is) \{}
\DoxyCodeLine{01534     QMessageBox::warning(}
\DoxyCodeLine{01535         \textcolor{keyword}{this}, tr(\textcolor{stringliteral}{"{}Warning"{}}),}
\DoxyCodeLine{01536         QString(\textcolor{stringliteral}{"{}Failed to open the preset file \%1.txt"{}}).arg(str),}
\DoxyCodeLine{01537         QMessageBox::Ok, QMessageBox::Ok);}
\DoxyCodeLine{01538     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01539   \}}
\DoxyCodeLine{01540 }
\DoxyCodeLine{01541   std::string tagName = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{01542   \textcolor{keywordflow}{if} (!is.matchTag(tagName) || tagName != \textcolor{stringliteral}{"{}outputsettingspreset"{}}) \{}
\DoxyCodeLine{01543     QMessageBox::warning(\textcolor{keyword}{this}, tr(\textcolor{stringliteral}{"{}Warning"{}}),}
\DoxyCodeLine{01544                          QString(\textcolor{stringliteral}{"{}Bad file format: \%1.txt"{}}).arg(str),}
\DoxyCodeLine{01545                          QMessageBox::Ok, QMessageBox::Ok);}
\DoxyCodeLine{01546     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01547   \}}
\DoxyCodeLine{01548 }
\DoxyCodeLine{01549   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01550   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} rs      = prop-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}();}
\DoxyCodeLine{01551   \textcolor{keywordflow}{while} (is.matchTag(tagName)) \{}
\DoxyCodeLine{01552     \textcolor{comment}{// Camera}}
\DoxyCodeLine{01553     \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}camera"{}}) \{}
\DoxyCodeLine{01554       \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsheet = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{01555       \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} cameraId =}
\DoxyCodeLine{01556           xsheet-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>\mbox{\hyperlink{class_t_stage_object_tree_a7d63ae5d60c3a3aacf5da58c108ac167}{getCurrentCameraId}}();}
\DoxyCodeLine{01557       \mbox{\hyperlink{class_t_camera}{TCamera}} *camera = xsheet-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(cameraId)-\/>\mbox{\hyperlink{class_t_stage_object_aaef1416a25568ada1d79906884225d0c}{getCamera}}();}
\DoxyCodeLine{01558       camera-\/>loadData(is);}
\DoxyCodeLine{01559     \}  \textcolor{comment}{// if "{}camera"{}}}
\DoxyCodeLine{01560     \textcolor{comment}{/*-\/-\/ Saveinのプロジェクトフォルダ部分 -\/-\/*/}}
\DoxyCodeLine{01561     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}savein\_projectfolder"{}}) \{}
\DoxyCodeLine{01562       std::string projectFolderName;}
\DoxyCodeLine{01563       is >> projectFolderName;}
\DoxyCodeLine{01564 }
\DoxyCodeLine{01565       QString newProjectFolder = QString::fromStdString(projectFolderName);}
\DoxyCodeLine{01566       QString fp = QString::fromStdWString(prop-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}().getWideString());}
\DoxyCodeLine{01567       \textcolor{comment}{/*-\/-\/ 出力パスがプロジェクトフォルダで始まっている場合は、差し替える -\/-\/*/}}
\DoxyCodeLine{01568       \textcolor{keywordflow}{if} (!newProjectFolder.isEmpty() \&\& fp.startsWith(\textcolor{stringliteral}{"{}+"{}})) \{}
\DoxyCodeLine{01569         \textcolor{keywordflow}{if} (fp.indexOf(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}) >= 0)}
\DoxyCodeLine{01570           fp = QString(\textcolor{stringliteral}{"{}\%1\(\backslash\)\(\backslash\)\%2"{}})}
\DoxyCodeLine{01571                    .arg(newProjectFolder)}
\DoxyCodeLine{01572                    .arg(fp.right(fp.size() -\/ fp.indexOf(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)"{}}) -\/ 1));}
\DoxyCodeLine{01573         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01574           fp = newProjectFolder;}
\DoxyCodeLine{01575         prop-\/>\mbox{\hyperlink{class_t_output_properties_abd2cedbcd56198c5d6e9e9ffcd51767e}{setPath}}(\mbox{\hyperlink{class_t_file_path}{TFilePath}}(fp.toStdWString()));}
\DoxyCodeLine{01576       \}}
\DoxyCodeLine{01577     \}}
\DoxyCodeLine{01578     \textcolor{comment}{// File format}}
\DoxyCodeLine{01579     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}format"{}}) \{}
\DoxyCodeLine{01580       std::string formatName;}
\DoxyCodeLine{01581       is >> formatName;}
\DoxyCodeLine{01582       \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = prop-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}().\mbox{\hyperlink{class_t_file_path_a1437b0e0720e9258b622f68b6858e95d}{withType}}(formatName);}
\DoxyCodeLine{01583       prop-\/>\mbox{\hyperlink{class_t_output_properties_abd2cedbcd56198c5d6e9e9ffcd51767e}{setPath}}(fp);}
\DoxyCodeLine{01584     \}}
\DoxyCodeLine{01585     \textcolor{comment}{// File options}}
\DoxyCodeLine{01586     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}formatsProperties"{}}) \{}
\DoxyCodeLine{01587       \textcolor{keywordflow}{while} (is.matchTag(tagName)) \{}
\DoxyCodeLine{01588         \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}formatProperties"{}}) \{}
\DoxyCodeLine{01589           std::string ext    = is.getTagAttribute(\textcolor{stringliteral}{"{}ext"{}});}
\DoxyCodeLine{01590           \mbox{\hyperlink{class_t_property_group}{TPropertyGroup}} *pg = prop-\/>\mbox{\hyperlink{class_t_output_properties_a9ef174e6f6239219fa563b037246c8d4}{getFileFormatProperties}}(ext);}
\DoxyCodeLine{01591           \textcolor{keywordflow}{if} (ext == \textcolor{stringliteral}{"{}avi"{}}) \{}
\DoxyCodeLine{01592             \mbox{\hyperlink{class_t_property_group}{TPropertyGroup}} appProperties;}
\DoxyCodeLine{01593             appProperties.loadData(is);}
\DoxyCodeLine{01594             \textcolor{keywordflow}{if} (pg-\/>getPropertyCount() != 1 ||}
\DoxyCodeLine{01595                 appProperties.getPropertyCount() != 1) \{}
\DoxyCodeLine{01596               is.closeChild();}
\DoxyCodeLine{01597               \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01598             \}}
\DoxyCodeLine{01599             \mbox{\hyperlink{class_t_enum_property}{TEnumProperty}} *enumProp =}
\DoxyCodeLine{01600                 \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_enum_property}{TEnumProperty}} *\textcolor{keyword}{>}(pg-\/>\mbox{\hyperlink{class_t_property_group_afb08f3145e5f77da6f163cdc9decad2f}{getProperty}}(0));}
\DoxyCodeLine{01601             \mbox{\hyperlink{class_t_enum_property}{TEnumProperty}} *enumAppProp =}
\DoxyCodeLine{01602                 \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_enum_property}{TEnumProperty}} *\textcolor{keyword}{>}(appProperties.\mbox{\hyperlink{class_t_property_group_afb08f3145e5f77da6f163cdc9decad2f}{getProperty}}(0));}
\DoxyCodeLine{01603             assert(enumAppProp \&\& enumProp);}
\DoxyCodeLine{01604             \textcolor{keywordflow}{if} (enumAppProp \&\& enumProp) \{}
\DoxyCodeLine{01605               \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{01606                 enumProp-\/>setValue(enumAppProp-\/>getValue());}
\DoxyCodeLine{01607               \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_property_1_1_range_error}{TProperty::RangeError}} \&) \{}
\DoxyCodeLine{01608               \}}
\DoxyCodeLine{01609             \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01610               \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}();}
\DoxyCodeLine{01611           \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01612             pg-\/>loadData(is);}
\DoxyCodeLine{01613           is.closeChild();}
\DoxyCodeLine{01614         \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01615           \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}unexpected tag: "{}} + tagName);}
\DoxyCodeLine{01616       \}  \textcolor{comment}{// end while}}
\DoxyCodeLine{01617     \}}
\DoxyCodeLine{01618     \textcolor{comment}{// Resample Balance}}
\DoxyCodeLine{01619     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}resquality"{}}) \{}
\DoxyCodeLine{01620       std::string resq;}
\DoxyCodeLine{01621       is >> resq;}
\DoxyCodeLine{01622       \textcolor{comment}{// first, search in the combobox item data.}}
\DoxyCodeLine{01623       \textcolor{keywordtype}{int} index = m\_resampleBalanceOm-\/>findData(QString::fromStdString(resq));}
\DoxyCodeLine{01624       \textcolor{comment}{// second, search in the combobox ui text (which may be translated).}}
\DoxyCodeLine{01625       \textcolor{comment}{// the second search is kept in order to keep backward compatibility.}}
\DoxyCodeLine{01626       \textcolor{keywordflow}{if} (index < 0)}
\DoxyCodeLine{01627         index = m\_resampleBalanceOm-\/>findText(QString::fromStdString(resq));}
\DoxyCodeLine{01628       \textcolor{keywordflow}{if} (index >= 0) \{}
\DoxyCodeLine{01629         m\_resampleBalanceOm-\/>setCurrentIndex(index);}
\DoxyCodeLine{01630         rs.\mbox{\hyperlink{class_t_render_settings_a846348b5544a1df38f85788b1fc624af}{m\_quality}} = resampleInfoMap[(ResampleOption)index].quality;}
\DoxyCodeLine{01631       \}}
\DoxyCodeLine{01632     \}}
\DoxyCodeLine{01633     \textcolor{comment}{// Channel Width}}
\DoxyCodeLine{01634     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}bpp"{}}) \{}
\DoxyCodeLine{01635       std::string chanw;}
\DoxyCodeLine{01636       is >> chanw;}
\DoxyCodeLine{01637       \textcolor{comment}{// first, search in the combobox item data.}}
\DoxyCodeLine{01638       \textcolor{keywordtype}{int} index = m\_channelWidthOm-\/>findData(QString::fromStdString(chanw));}
\DoxyCodeLine{01639       \textcolor{comment}{// second, search in the combobox ui text (which may be translated).}}
\DoxyCodeLine{01640       \textcolor{comment}{// the second search is kept in order to keep backward compatibility.}}
\DoxyCodeLine{01641       \textcolor{keywordflow}{if} (index < 0)}
\DoxyCodeLine{01642         index = m\_channelWidthOm-\/>findText(QString::fromStdString(chanw));}
\DoxyCodeLine{01643       \textcolor{keywordflow}{if} (index >= 0) \{}
\DoxyCodeLine{01644         m\_channelWidthOm-\/>setCurrentIndex(index);}
\DoxyCodeLine{01645         \textcolor{keywordflow}{if} (index == c\_8bit)}
\DoxyCodeLine{01646           rs.\mbox{\hyperlink{class_t_render_settings_a9489ed9d21a047b29cc5dd285f1f6f19}{m\_bpp}} = 32;}
\DoxyCodeLine{01647         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01648           rs.\mbox{\hyperlink{class_t_render_settings_a9489ed9d21a047b29cc5dd285f1f6f19}{m\_bpp}} = 64;}
\DoxyCodeLine{01649       \}}
\DoxyCodeLine{01650     \}}
\DoxyCodeLine{01651 }
\DoxyCodeLine{01652     \textcolor{comment}{// Frame Rate (Scene Settings)}}
\DoxyCodeLine{01653     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}frameRate"{}}) \{}
\DoxyCodeLine{01654       std::string strFps;}
\DoxyCodeLine{01655       is >> strFps;}
\DoxyCodeLine{01656       prop-\/>\mbox{\hyperlink{class_t_output_properties_ad88500532eb3bd83be26ae6ed256adcd}{setFrameRate}}(QString::fromStdString(strFps).toDouble());}
\DoxyCodeLine{01657     \}}
\DoxyCodeLine{01658 }
\DoxyCodeLine{01659     \textcolor{comment}{// stretch FPS}}
\DoxyCodeLine{01660     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}stretchFrom"{}}) \{}
\DoxyCodeLine{01661       std::string strFrm;}
\DoxyCodeLine{01662       is >> strFrm;}
\DoxyCodeLine{01663       rs.\mbox{\hyperlink{class_t_render_settings_aec1a905d4eec617a546c286480f41b2a}{m\_timeStretchFrom}} = QString::fromStdString(strFrm).toDouble();}
\DoxyCodeLine{01664     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}stretchTo"{}}) \{}
\DoxyCodeLine{01665       std::string strTo;}
\DoxyCodeLine{01666       is >> strTo;}
\DoxyCodeLine{01667       rs.\mbox{\hyperlink{class_t_render_settings_a6b8313c094bdb0c2ab6902b1f895694e}{m\_timeStretchTo}} = QString::fromStdString(strTo).toDouble();}
\DoxyCodeLine{01668     \}}
\DoxyCodeLine{01669     \textcolor{comment}{// gamma}}
\DoxyCodeLine{01670     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (tagName == \textcolor{stringliteral}{"{}gamma"{}}) \{}
\DoxyCodeLine{01671       std::string gamma;}
\DoxyCodeLine{01672       is >> gamma;}
\DoxyCodeLine{01673       rs.\mbox{\hyperlink{class_t_render_settings_a50a57f97b30445a34582da914064d8ca}{m\_gamma}} = QString::fromStdString(gamma).toDouble();}
\DoxyCodeLine{01674     \}}
\DoxyCodeLine{01675 }
\DoxyCodeLine{01676     is.closeChild();}
\DoxyCodeLine{01677   \}}
\DoxyCodeLine{01678 }
\DoxyCodeLine{01679   \textcolor{comment}{/*-\/-\/ renderSettingsを戻す -\/-\/*/}}
\DoxyCodeLine{01680   prop-\/>\mbox{\hyperlink{class_t_output_properties_a33595887e47b7bb0c988420636763731}{setRenderSettings}}(rs);}
\DoxyCodeLine{01681 }
\DoxyCodeLine{01682   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>notifySceneChanged();}
\DoxyCodeLine{01683 }
\DoxyCodeLine{01684   m\_presetCombo-\/>blockSignals(\textcolor{keyword}{true});}
\DoxyCodeLine{01685   m\_presetCombo-\/>setCurrentIndex(m\_presetCombo-\/>findText(str));}
\DoxyCodeLine{01686   m\_presetCombo-\/>blockSignals(\textcolor{keyword}{false});}
\DoxyCodeLine{01687 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a508604b4e8eafa85671a79bb60e94e1e}\label{class_output_settings_popup_a508604b4e8eafa85671a79bb60e94e1e}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onRasterGranularityChanged@{onRasterGranularityChanged}}
\index{onRasterGranularityChanged@{onRasterGranularityChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onRasterGranularityChanged}{onRasterGranularityChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Raster\+Granularity\+Changed (\begin{DoxyParamCaption}\item[{int}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01346                                                              \{}
\DoxyCodeLine{01347   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01348   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01349   prop-\/>\mbox{\hyperlink{class_t_output_properties_a3d0102dbded78675881eaedb2b3fe58f}{setMaxTileSizeIndex}}(type);}
\DoxyCodeLine{01350 }
\DoxyCodeLine{01351   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01352 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a5fe5337b40bb4c6e244ad5c00d443301}\label{class_output_settings_popup_a5fe5337b40bb4c6e244ad5c00d443301}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onRemovePresetButtonPressed@{onRemovePresetButtonPressed}}
\index{onRemovePresetButtonPressed@{onRemovePresetButtonPressed}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onRemovePresetButtonPressed}{onRemovePresetButtonPressed}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Remove\+Preset\+Button\+Pressed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Output\+Settingsの\+Preset削除 
\begin{DoxyCode}{0}
\DoxyCodeLine{01498                                                       \{}
\DoxyCodeLine{01499   \textcolor{keywordtype}{int} index = m\_presetCombo-\/>currentIndex();}
\DoxyCodeLine{01500   \textcolor{keywordflow}{if} (index <= 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01501   \textcolor{keywordtype}{int} ret = QMessageBox::question(\textcolor{keyword}{this}, tr(\textcolor{stringliteral}{"{}Remove preset"{}}),}
\DoxyCodeLine{01502                                   QString(\textcolor{stringliteral}{"{}Deleting \(\backslash\)"{}\%1\(\backslash\)"{}.\(\backslash\)nAre you sure?"{}})}
\DoxyCodeLine{01503                                       .arg(m\_presetCombo-\/>currentText()),}
\DoxyCodeLine{01504                                   QMessageBox::Ok | QMessageBox::Cancel,}
\DoxyCodeLine{01505                                   QMessageBox::Ok);}
\DoxyCodeLine{01506   \textcolor{keywordflow}{if} (ret == QMessageBox::Cancel) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01507 }
\DoxyCodeLine{01508   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp =}
\DoxyCodeLine{01509       TEnv::getConfigDir() + \textcolor{stringliteral}{"{}outputpresets"{}} +}
\DoxyCodeLine{01510       QString(\textcolor{stringliteral}{"{}\%1.txt"{}}).arg(m\_presetCombo-\/>currentText()).toStdString();}
\DoxyCodeLine{01511   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_file_status}{TFileStatus}}(fp).doesExist()) TSystem::deleteFile(fp);}
\DoxyCodeLine{01512 }
\DoxyCodeLine{01513   m\_presetCombo-\/>blockSignals(\textcolor{keyword}{true});}
\DoxyCodeLine{01514   m\_presetCombo-\/>removeItem(index);}
\DoxyCodeLine{01515   m\_presetCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01516   m\_presetCombo-\/>blockSignals(\textcolor{keyword}{false});}
\DoxyCodeLine{01517 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a7d1faeeb17c9c7ee569ba7ff6f078c5b}\label{class_output_settings_popup_a7d1faeeb17c9c7ee569ba7ff6f078c5b}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onRenderClicked@{onRenderClicked}}
\index{onRenderClicked@{onRenderClicked}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onRenderClicked}{onRenderClicked}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Render\+Clicked (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00794                                           \{}
\DoxyCodeLine{00795   CommandManager::instance()-\/>execute(\textcolor{stringliteral}{"{}MI\_Render"{}});}
\DoxyCodeLine{00796 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a4713a4f5b852e7649821dec0625e1d0e}\label{class_output_settings_popup_a4713a4f5b852e7649821dec0625e1d0e}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onResampleChanged@{onResampleChanged}}
\index{onResampleChanged@{onResampleChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onResampleChanged}{onResampleChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Resample\+Changed (\begin{DoxyParamCaption}\item[{int}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Set current scene output resample balance to balance identified by {\bfseries{type}} index in popup QCombo\+Box. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01227                                                     \{}
\DoxyCodeLine{01228   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01229   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01230   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} rs      = prop-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}();}
\DoxyCodeLine{01231 }
\DoxyCodeLine{01232   rs.\mbox{\hyperlink{class_t_render_settings_a846348b5544a1df38f85788b1fc624af}{m\_quality}} = resampleInfoMap[(ResampleOption)type].quality;}
\DoxyCodeLine{01233   prop-\/>\mbox{\hyperlink{class_t_output_properties_a33595887e47b7bb0c988420636763731}{setRenderSettings}}(rs);}
\DoxyCodeLine{01234   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01235   \textcolor{keywordflow}{if} (m\_presetCombo) m\_presetCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01236 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00719}{get\+Current\+Scene()}}, \mbox{\hyperlink{l00106}{TApp\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l00181}{TOutput\+Properties\+::get\+Render\+Settings()}}, \mbox{\hyperlink{l00215}{TApp\+::instance()}}, \mbox{\hyperlink{l00129}{TRender\+Settings\+::m\+\_\+quality}}, and \mbox{\hyperlink{l00184}{TOutput\+Properties\+::set\+Render\+Settings()}}.

\mbox{\Hypertarget{class_output_settings_popup_aa7bb0a00e9a283e977e6a85860c8f3d2}\label{class_output_settings_popup_aa7bb0a00e9a283e977e6a85860c8f3d2}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onStereoChanged@{onStereoChanged}}
\index{onStereoChanged@{onStereoChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onStereoChanged}{onStereoChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Stereo\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01158                                           \{}
\DoxyCodeLine{01159   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01160   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} rs      = prop-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}();}
\DoxyCodeLine{01161   rs.\mbox{\hyperlink{class_t_render_settings_aadbd5a3a50b242b366a93023d5f7da07}{m\_stereoscopic}}       = m\_doStereoscopy-\/>isChecked();}
\DoxyCodeLine{01162   rs.\mbox{\hyperlink{class_t_render_settings_a8c9cade2391a50017b4ad623f653c82f}{m\_stereoscopicShift}}  = m\_stereoShift-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a4cb043e4d9f7c7ffeed57a72bc10a26e}{getValue}}();}
\DoxyCodeLine{01163   prop-\/>\mbox{\hyperlink{class_t_output_properties_a33595887e47b7bb0c988420636763731}{setRenderSettings}}(rs);}
\DoxyCodeLine{01164 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a055af6e6954a09969a55221642e5e049}\label{class_output_settings_popup_a055af6e6954a09969a55221642e5e049}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onStereoChecked@{onStereoChecked}}
\index{onStereoChecked@{onStereoChecked}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onStereoChecked}{onStereoChecked}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Stereo\+Checked (\begin{DoxyParamCaption}\item[{int}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Set current scene output frame values\+: start frame, end frame, step and shrink, to current field values. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01151                                              \{}
\DoxyCodeLine{01152   m\_stereoShift-\/>setEnabled(m\_doStereoscopy-\/>isChecked());}
\DoxyCodeLine{01153   \textcolor{keywordflow}{if} (m\_dominantFieldOm)}
\DoxyCodeLine{01154     m\_dominantFieldOm-\/>setEnabled(!m\_doStereoscopy-\/>isChecked());}
\DoxyCodeLine{01155   onStereoChanged();}
\DoxyCodeLine{01156 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a99d29bf426cfcdd73981c9d11a802dd6}\label{class_output_settings_popup_a99d29bf426cfcdd73981c9d11a802dd6}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onStretchFldEditFinished@{onStretchFldEditFinished}}
\index{onStretchFldEditFinished@{onStretchFldEditFinished}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onStretchFldEditFinished}{onStretchFldEditFinished}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Stretch\+Fld\+Edit\+Finished (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

If dominant field is different from none set time stretch field values to current scene output time stretch values; otherwise set current scene output time stretch values to current field values. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01307                                                    \{}
\DoxyCodeLine{01308   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01309   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01310   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} rs      = prop-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}();}
\DoxyCodeLine{01311   \textcolor{keywordflow}{if} (m\_dominantFieldOm-\/>currentIndex() != c\_none) \{}
\DoxyCodeLine{01312     DVGui::error(\textcolor{stringliteral}{"{}Can't stretch time in a field rendered scene\(\backslash\)n"{}});}
\DoxyCodeLine{01313     m\_stretchFromFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a7d777640f0e092fcccc84976e72e2e5f}{setValue}}(rs.\mbox{\hyperlink{class_t_render_settings_aec1a905d4eec617a546c286480f41b2a}{m\_timeStretchFrom}});}
\DoxyCodeLine{01314     m\_stretchToFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a7d777640f0e092fcccc84976e72e2e5f}{setValue}}(rs.\mbox{\hyperlink{class_t_render_settings_a6b8313c094bdb0c2ab6902b1f895694e}{m\_timeStretchTo}});}
\DoxyCodeLine{01315   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01316     rs.\mbox{\hyperlink{class_t_render_settings_aec1a905d4eec617a546c286480f41b2a}{m\_timeStretchFrom}} = m\_stretchFromFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a4cb043e4d9f7c7ffeed57a72bc10a26e}{getValue}}();}
\DoxyCodeLine{01317     rs.\mbox{\hyperlink{class_t_render_settings_a6b8313c094bdb0c2ab6902b1f895694e}{m\_timeStretchTo}}   = m\_stretchToFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a4cb043e4d9f7c7ffeed57a72bc10a26e}{getValue}}();}
\DoxyCodeLine{01318     prop-\/>\mbox{\hyperlink{class_t_output_properties_a33595887e47b7bb0c988420636763731}{setRenderSettings}}(rs);}
\DoxyCodeLine{01319   \}}
\DoxyCodeLine{01320 }
\DoxyCodeLine{01321   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01322 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00719}{get\+Current\+Scene()}}, \mbox{\hyperlink{l00106}{TApp\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l00181}{TOutput\+Properties\+::get\+Render\+Settings()}}, \mbox{\hyperlink{l00355}{DVGui\+::\+Double\+Line\+Edit\+::get\+Value()}}, \mbox{\hyperlink{l00215}{TApp\+::instance()}}, \mbox{\hyperlink{l00109}{TRender\+Settings\+::m\+\_\+time\+Stretch\+From}}, \mbox{\hyperlink{l00110}{TRender\+Settings\+::m\+\_\+time\+Stretch\+To}}, \mbox{\hyperlink{l00184}{TOutput\+Properties\+::set\+Render\+Settings()}}, and \mbox{\hyperlink{l00338}{DVGui\+::\+Double\+Line\+Edit\+::set\+Value()}}.

\mbox{\Hypertarget{class_output_settings_popup_a42b74570b03098bd12eafa7a2a7801c3}\label{class_output_settings_popup_a42b74570b03098bd12eafa7a2a7801c3}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onSubcameraChecked@{onSubcameraChecked}}
\index{onSubcameraChecked@{onSubcameraChecked}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onSubcameraChecked}{onSubcameraChecked}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Subcamera\+Checked (\begin{DoxyParamCaption}\item[{int}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00788                                                       \{}
\DoxyCodeLine{00789   \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}()-\/>setSubcameraPreview(state == Qt::Checked);}
\DoxyCodeLine{00790 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a8d97f462f517e3b1e85466c185840929}\label{class_output_settings_popup_a8d97f462f517e3b1e85466c185840929}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!onThreadsComboChanged@{onThreadsComboChanged}}
\index{onThreadsComboChanged@{onThreadsComboChanged}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{onThreadsComboChanged}{onThreadsComboChanged}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::on\+Threads\+Combo\+Changed (\begin{DoxyParamCaption}\item[{int}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01336                                                         \{}
\DoxyCodeLine{01337   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01338   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01339   prop-\/>\mbox{\hyperlink{class_t_output_properties_af0e837e3658dbea7e5a14400f7e68117}{setThreadIndex}}(type);}
\DoxyCodeLine{01340 }
\DoxyCodeLine{01341   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01342 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a885dcd89cfa8a1fe60c0654dbc67a09b}\label{class_output_settings_popup_a885dcd89cfa8a1fe60c0654dbc67a09b}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!openSettingsPopup@{openSettingsPopup}}
\index{openSettingsPopup@{openSettingsPopup}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{openSettingsPopup}{openSettingsPopup}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::open\+Settings\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Open a popup output format settings popup to set current output format settings. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01091                                             \{}
\DoxyCodeLine{01092   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{01093   std::string ext         = prop-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}().\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}();}
\DoxyCodeLine{01094   openFormatSettingsPopup(\textcolor{keyword}{this}, ext, prop-\/>\mbox{\hyperlink{class_t_output_properties_a9ef174e6f6239219fa563b037246c8d4}{getFileFormatProperties}}(ext));}
\DoxyCodeLine{01095 }
\DoxyCodeLine{01096   \textcolor{keywordflow}{if} (m\_presetCombo) m\_presetCombo-\/>setCurrentIndex(0);}
\DoxyCodeLine{01097 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00156}{TOutput\+Properties\+::get\+File\+Format\+Properties()}}, \mbox{\hyperlink{l00116}{TOutput\+Properties\+::get\+Path()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, and \mbox{\hyperlink{l00225}{TFile\+Path\+::get\+Type()}}.

\mbox{\Hypertarget{class_output_settings_popup_a0319d74dbf8334d2c361e9d44fba3d0c}\label{class_output_settings_popup_a0319d74dbf8334d2c361e9d44fba3d0c}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!showEvent@{showEvent}}
\index{showEvent@{showEvent}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{showEvent()}{showEvent()}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::show\+Event (\begin{DoxyParamCaption}\item[{QShow\+Event $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00738                                                 \{}
\DoxyCodeLine{00739   \mbox{\hyperlink{class_t_scene_handle}{TSceneHandle}} *sceneHandle   = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}();}
\DoxyCodeLine{00740   \mbox{\hyperlink{class_t_xsheet_handle}{TXsheetHandle}} *xsheetHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}();}
\DoxyCodeLine{00741   \textcolor{keywordtype}{bool} ret =}
\DoxyCodeLine{00742       connect(sceneHandle, SIGNAL(sceneChanged()), \textcolor{keyword}{this}, SLOT(\mbox{\hyperlink{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}{updateField}}()));}
\DoxyCodeLine{00743   ret = ret \&\& connect(sceneHandle, SIGNAL(sceneSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00744                        SLOT(\mbox{\hyperlink{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}{updateField}}()));}
\DoxyCodeLine{00745 }
\DoxyCodeLine{00746   ret = ret \&\& connect(xsheetHandle, SIGNAL(xsheetChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00747                        SLOT(\mbox{\hyperlink{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}{updateField}}()));}
\DoxyCodeLine{00748   \mbox{\hyperlink{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}{updateField}}();}
\DoxyCodeLine{00749   assert(ret);}
\DoxyCodeLine{00750 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}\label{class_output_settings_popup_a1f49c432b07a811ec0b870e4a01a85d3}} 
\index{OutputSettingsPopup@{OutputSettingsPopup}!updateField@{updateField}}
\index{updateField@{updateField}!OutputSettingsPopup@{OutputSettingsPopup}}
\doxysubsubsection{\texorpdfstring{updateField}{updateField}}
{\footnotesize\ttfamily void Output\+Settings\+Popup\+::update\+Field (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

Update all field value take care current scene output properties. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00802                                       \{}
\DoxyCodeLine{00803   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene       = \mbox{\hyperlink{class_output_settings_popup_a6395fc46b4a0b6cbf9b66cc52c739f24}{getCurrentScene}}();}
\DoxyCodeLine{00804   \mbox{\hyperlink{class_t_output_properties}{TOutputProperties}} *prop = \mbox{\hyperlink{class_output_settings_popup_ad0279016fc88f2b462f64d2256fec3bd}{getProperties}}();}
\DoxyCodeLine{00805   \textcolor{keywordflow}{if} (!prop) \{}
\DoxyCodeLine{00806     \textcolor{keywordflow}{if} (!m\_isPreviewSettings) \{}
\DoxyCodeLine{00807       m\_saveInFileFld-\/>setPath(QString());}
\DoxyCodeLine{00808       m\_fileNameFld-\/>setText(QString());}
\DoxyCodeLine{00809       m\_fileFormat-\/>setCurrentIndex(0);}
\DoxyCodeLine{00810       m\_gammaFld-\/>setText(QString());}
\DoxyCodeLine{00811       m\_dominantFieldOm-\/>setCurrentIndex(c\_none);}
\DoxyCodeLine{00812       m\_frameRateFld-\/>setText(QString());}
\DoxyCodeLine{00813       m\_stretchFromFld-\/>setText(QString());}
\DoxyCodeLine{00814       m\_stretchToFld-\/>setText(QString());}
\DoxyCodeLine{00815       m\_multimediaOm-\/>setCurrentIndex(0);}
\DoxyCodeLine{00816     \}}
\DoxyCodeLine{00817     \textcolor{keywordflow}{if} (m\_outputCameraOm) m\_outputCameraOm-\/>setCurrentIndex(0);}
\DoxyCodeLine{00818     m\_startFld-\/>setText(QString());}
\DoxyCodeLine{00819     m\_endFld-\/>setText(QString());}
\DoxyCodeLine{00820     m\_stepFld-\/>setText(QString());}
\DoxyCodeLine{00821     m\_shrinkFld-\/>setText(QString());}
\DoxyCodeLine{00822     \textcolor{keywordflow}{if} (m\_applyShrinkChk) m\_applyShrinkChk-\/>setCheckState(Qt::Unchecked);}
\DoxyCodeLine{00823     m\_resampleBalanceOm-\/>setCurrentIndex(c\_standard);}
\DoxyCodeLine{00824     m\_channelWidthOm-\/>setCurrentIndex(c\_8bit);}
\DoxyCodeLine{00825     m\_threadsComboOm-\/>setCurrentIndex(0);}
\DoxyCodeLine{00826     m\_rasterGranularityOm-\/>setCurrentIndex(0);}
\DoxyCodeLine{00827 }
\DoxyCodeLine{00828     \textcolor{keywordflow}{if} (m\_subcameraChk) m\_subcameraChk-\/>setCheckState(Qt::Unchecked);}
\DoxyCodeLine{00829     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00830   \}}
\DoxyCodeLine{00831 }
\DoxyCodeLine{00832   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} renderSettings = prop-\/>\mbox{\hyperlink{class_t_output_properties_afa7c771452b57b50047aa4afc6032cad}{getRenderSettings}}();}
\DoxyCodeLine{00833 }
\DoxyCodeLine{00834   \textcolor{keywordflow}{if} (!m\_isPreviewSettings) \{}
\DoxyCodeLine{00835     \mbox{\hyperlink{class_t_file_path}{TFilePath}} path = prop-\/>\mbox{\hyperlink{class_t_output_properties_ab082a7e84177a558484d648215e4b4f7}{getPath}}();}
\DoxyCodeLine{00836     QString name   = QString::fromStdWString(path.getWideName());}
\DoxyCodeLine{00837     \textcolor{keywordflow}{if} (name.isEmpty())}
\DoxyCodeLine{00838       name = QString::fromStdString(scene-\/>\mbox{\hyperlink{class_toonz_scene_ad42b52b671b094f66e003c4b7ebefd45}{getScenePath}}().\mbox{\hyperlink{class_t_file_path_af94f9b0aeceb6cdb980fa1789473503a}{getName}}());}
\DoxyCodeLine{00839     m\_saveInFileFld-\/>setPath(toQString(path.\mbox{\hyperlink{class_t_file_path_a1f5014e9c396bc2268820c19bc15657d}{getParentDir}}()));}
\DoxyCodeLine{00840     m\_fileNameFld-\/>setText(name);}
\DoxyCodeLine{00841     \textcolor{comment}{// RenderController::instance()-\/>setMovieExt(path.getType());}}
\DoxyCodeLine{00842     m\_fileFormat-\/>setCurrentIndex(}
\DoxyCodeLine{00843         m\_fileFormat-\/>findText(QString::fromStdString(path.\mbox{\hyperlink{class_t_file_path_aefca624df1a5468a4c78ec6d5dbfae26}{getType}}())));}
\DoxyCodeLine{00844     m\_multimediaOm-\/>setCurrentIndex(prop-\/>getMultimediaRendering());}
\DoxyCodeLine{00845   \}}
\DoxyCodeLine{00846 }
\DoxyCodeLine{00847   \textcolor{comment}{// Refresh format if allow-\/multithread was toggled}}
\DoxyCodeLine{00848   \textcolor{keywordflow}{if} (m\_allowMT != Preferences::instance()-\/>getFfmpegMultiThread()) \{}
\DoxyCodeLine{00849     \mbox{\hyperlink{class_output_settings_popup_a23a6e23dd4eb2c182041d9ae2655b79c}{onFormatChanged}}(m\_fileFormat-\/>currentText());}
\DoxyCodeLine{00850   \}}
\DoxyCodeLine{00851 }
\DoxyCodeLine{00852   \textcolor{comment}{// camera}}
\DoxyCodeLine{00853   \textcolor{keywordflow}{if} (m\_outputCameraOm) \{}
\DoxyCodeLine{00854     m\_outputCameraOm-\/>blockSignals(\textcolor{keyword}{true});}
\DoxyCodeLine{00855     m\_outputCameraOm-\/>clear();}
\DoxyCodeLine{00856   \}}
\DoxyCodeLine{00857   \mbox{\hyperlink{class_t_stage_object_tree}{TStageObjectTree}} *tree  = scene-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}()-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}();}
\DoxyCodeLine{00858   \textcolor{keywordtype}{int} cameraCount         = tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_ac45400eec33276e3bfbfbe91e7cb7439}{getCameraCount}}();}
\DoxyCodeLine{00859   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} cameraId = m\_isPreviewSettings}
\DoxyCodeLine{00860                                 ? tree-\/>getCurrentPreviewCameraId()}
\DoxyCodeLine{00861                                 : tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a7d63ae5d60c3a3aacf5da58c108ac167}{getCurrentCameraId}}();}
\DoxyCodeLine{00862   QStringList cameras;}
\DoxyCodeLine{00863   \textcolor{keywordtype}{int} tmpCameraId = 0;}
\DoxyCodeLine{00864   \textcolor{keywordtype}{int} index       = 0;}
\DoxyCodeLine{00865   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00866   \textcolor{keywordflow}{for} (i = 0; i < cameraCount;) \{}
\DoxyCodeLine{00867     \textcolor{comment}{/*-\/-\/ Deleteされたカメラの場合tmpCameraIdだけIncrementする -\/-\/*/}}
\DoxyCodeLine{00868     \textcolor{keywordflow}{if} (!tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(TStageObjectId::CameraId(tmpCameraId), \textcolor{keyword}{false})) \{}
\DoxyCodeLine{00869       tmpCameraId++;}
\DoxyCodeLine{00870       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00871     \}}
\DoxyCodeLine{00872 }
\DoxyCodeLine{00873     std::string name =}
\DoxyCodeLine{00874         tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(TStageObjectId::CameraId(tmpCameraId))-\/>getName();}
\DoxyCodeLine{00875     cameras.append(QString::fromStdString(name));}
\DoxyCodeLine{00876     \textcolor{keywordflow}{if} (name == tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(cameraId)-\/>getName()) index = i;}
\DoxyCodeLine{00877     i++;}
\DoxyCodeLine{00878     tmpCameraId++;}
\DoxyCodeLine{00879   \}}
\DoxyCodeLine{00880   \textcolor{keywordflow}{if} (m\_outputCameraOm) \{}
\DoxyCodeLine{00881     m\_outputCameraOm-\/>addItems(cameras);}
\DoxyCodeLine{00882     m\_outputCameraOm-\/>blockSignals(\textcolor{keyword}{false});}
\DoxyCodeLine{00883     m\_outputCameraOm-\/>setCurrentIndex(index);}
\DoxyCodeLine{00884   \}}
\DoxyCodeLine{00885   \textcolor{keywordflow}{if} (m\_subcameraChk)}
\DoxyCodeLine{00886     m\_subcameraChk-\/>setCheckState(prop-\/>isSubcameraPreview() ? Qt::Checked}
\DoxyCodeLine{00887                                                              : Qt::Unchecked);}
\DoxyCodeLine{00888 }
\DoxyCodeLine{00889   \textcolor{comment}{// start,end,step}}
\DoxyCodeLine{00890   \textcolor{keywordtype}{int} r0 = 0, r1 = -\/1, step;}
\DoxyCodeLine{00891   prop-\/>\mbox{\hyperlink{class_t_output_properties_aae127cbd8b19eaed0b0fbaf589349176}{getRange}}(r0, r1, step);}
\DoxyCodeLine{00892   \textcolor{keywordflow}{if} (r0 > r1) \{}
\DoxyCodeLine{00893     r0 = 0;}
\DoxyCodeLine{00894     r1 = scene-\/>\mbox{\hyperlink{class_toonz_scene_ab5cd3ad6f894b1acc5656ca747a80627}{getFrameCount}}() -\/ 1;}
\DoxyCodeLine{00895     \textcolor{keywordflow}{if} (r1 < 0) r1 = 0;}
\DoxyCodeLine{00896   \}}
\DoxyCodeLine{00897   m\_startFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(r0 + 1);}
\DoxyCodeLine{00898   m\_endFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(r1 + 1);}
\DoxyCodeLine{00899   m\_stepFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(step);}
\DoxyCodeLine{00900   m\_shrinkFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_int_line_edit_ac16f2b6d59faec8c3f73944f01e46f53}{setValue}}(renderSettings.\mbox{\hyperlink{class_t_render_settings_a52dd41881bbf6aaf953fe300be2e233e}{m\_shrinkX}});}
\DoxyCodeLine{00901   \textcolor{keywordflow}{if} (m\_applyShrinkChk)}
\DoxyCodeLine{00902     m\_applyShrinkChk-\/>setCheckState(}
\DoxyCodeLine{00903         renderSettings.\mbox{\hyperlink{class_t_render_settings_a64acc2c6ba75292c0a0f9d101ddacc3b}{m\_applyShrinkToViewer}} ? Qt::Checked : Qt::Unchecked);}
\DoxyCodeLine{00904   \textcolor{comment}{// resample}}
\DoxyCodeLine{00905   m\_resampleBalanceOm-\/>setCurrentIndex(}
\DoxyCodeLine{00906       (\textcolor{keywordtype}{int})quality2index(renderSettings.\mbox{\hyperlink{class_t_render_settings_a846348b5544a1df38f85788b1fc624af}{m\_quality}}));}
\DoxyCodeLine{00907 }
\DoxyCodeLine{00908   \textcolor{comment}{// channel width}}
\DoxyCodeLine{00909   \textcolor{keywordflow}{switch} (renderSettings.\mbox{\hyperlink{class_t_render_settings_a9489ed9d21a047b29cc5dd285f1f6f19}{m\_bpp}}) \{}
\DoxyCodeLine{00910   \textcolor{keywordflow}{case} 64:}
\DoxyCodeLine{00911     m\_channelWidthOm-\/>setCurrentIndex(c\_16bit);}
\DoxyCodeLine{00912     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00913   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00914     m\_channelWidthOm-\/>setCurrentIndex(c\_8bit);}
\DoxyCodeLine{00915     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00916   \}}
\DoxyCodeLine{00917 }
\DoxyCodeLine{00918   \textcolor{comment}{// Threads}}
\DoxyCodeLine{00919   m\_threadsComboOm-\/>setCurrentIndex(prop-\/>getThreadIndex());}
\DoxyCodeLine{00920 }
\DoxyCodeLine{00921   \textcolor{comment}{// Raster granularity}}
\DoxyCodeLine{00922   m\_rasterGranularityOm-\/>setCurrentIndex(prop-\/>getMaxTileSizeIndex());}
\DoxyCodeLine{00923 }
\DoxyCodeLine{00924   \textcolor{keywordflow}{if} (m\_isPreviewSettings) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00925 }
\DoxyCodeLine{00926   m\_doStereoscopy-\/>setChecked(renderSettings.\mbox{\hyperlink{class_t_render_settings_aadbd5a3a50b242b366a93023d5f7da07}{m\_stereoscopic}});}
\DoxyCodeLine{00927   m\_stereoShift-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a7d777640f0e092fcccc84976e72e2e5f}{setValue}}(renderSettings.\mbox{\hyperlink{class_t_render_settings_a8c9cade2391a50017b4ad623f653c82f}{m\_stereoscopicShift}});}
\DoxyCodeLine{00928   m\_stereoShift-\/>setEnabled(renderSettings.\mbox{\hyperlink{class_t_render_settings_aadbd5a3a50b242b366a93023d5f7da07}{m\_stereoscopic}});}
\DoxyCodeLine{00929 }
\DoxyCodeLine{00930   \textcolor{comment}{// gamma}}
\DoxyCodeLine{00931   m\_gammaFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a7d777640f0e092fcccc84976e72e2e5f}{setValue}}(renderSettings.\mbox{\hyperlink{class_t_render_settings_a50a57f97b30445a34582da914064d8ca}{m\_gamma}});}
\DoxyCodeLine{00932 }
\DoxyCodeLine{00933   \textcolor{comment}{// dominant field}}
\DoxyCodeLine{00934   \textcolor{keywordflow}{switch} (renderSettings.\mbox{\hyperlink{class_t_render_settings_a48bbcbb6ca2cad3de97f4cabea09cd2f}{m\_fieldPrevalence}}) \{}
\DoxyCodeLine{00935   \textcolor{keywordflow}{case} \mbox{\hyperlink{class_t_render_settings_aff548d2c58f7c6adea513ab32526eae8ae748ee019b804e118f9cde7b06005e07}{TRenderSettings::OddField}}:}
\DoxyCodeLine{00936     m\_dominantFieldOm-\/>setCurrentIndex(c\_odd);}
\DoxyCodeLine{00937     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00938   \textcolor{keywordflow}{case} \mbox{\hyperlink{class_t_render_settings_aff548d2c58f7c6adea513ab32526eae8ae38d22371c97793cd13eede40d9557db}{TRenderSettings::EvenField}}:}
\DoxyCodeLine{00939     m\_dominantFieldOm-\/>setCurrentIndex(c\_even);}
\DoxyCodeLine{00940     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00941   \textcolor{keywordflow}{case} \mbox{\hyperlink{class_t_render_settings_aff548d2c58f7c6adea513ab32526eae8acc9a06de2f74e1ae1404282226d6a2d9}{TRenderSettings::NoField}}:}
\DoxyCodeLine{00942   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00943     m\_dominantFieldOm-\/>setCurrentIndex(c\_none);}
\DoxyCodeLine{00944   \}}
\DoxyCodeLine{00945   m\_dominantFieldOm-\/>setEnabled(!renderSettings.\mbox{\hyperlink{class_t_render_settings_aadbd5a3a50b242b366a93023d5f7da07}{m\_stereoscopic}});}
\DoxyCodeLine{00946   \textcolor{comment}{// time stretch}}
\DoxyCodeLine{00947   m\_stretchFromFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a7d777640f0e092fcccc84976e72e2e5f}{setValue}}(renderSettings.\mbox{\hyperlink{class_t_render_settings_aec1a905d4eec617a546c286480f41b2a}{m\_timeStretchFrom}});}
\DoxyCodeLine{00948   m\_stretchToFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a7d777640f0e092fcccc84976e72e2e5f}{setValue}}(renderSettings.\mbox{\hyperlink{class_t_render_settings_a6b8313c094bdb0c2ab6902b1f895694e}{m\_timeStretchTo}});}
\DoxyCodeLine{00949 }
\DoxyCodeLine{00950   m\_frameRateFld-\/>\mbox{\hyperlink{class_d_v_gui_1_1_double_line_edit_a7d777640f0e092fcccc84976e72e2e5f}{setValue}}(prop-\/>\mbox{\hyperlink{class_t_output_properties_a0d9662971bc33097aa1b55111965b967}{getFrameRate}}());}
\DoxyCodeLine{00951 }
\DoxyCodeLine{00952   \textcolor{comment}{// clapperboard}}
\DoxyCodeLine{00953   \mbox{\hyperlink{class_board_settings}{BoardSettings}} *boardSettings = prop-\/>getBoardSettings();}
\DoxyCodeLine{00954   m\_addBoard-\/>setChecked(boardSettings-\/>isActive());}
\DoxyCodeLine{00955   \textcolor{comment}{// clapperboard is only available with movie formats}}
\DoxyCodeLine{00956   \textcolor{keywordflow}{if} (isMovieType(m\_fileFormat-\/>currentText().toStdString())) \{}
\DoxyCodeLine{00957     m\_addBoard-\/>setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00958     m\_boardSettingsBtn-\/>setEnabled(m\_addBoard-\/>isChecked());}
\DoxyCodeLine{00959   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00960     m\_addBoard-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00961     m\_boardSettingsBtn-\/>setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00962   \}}
\DoxyCodeLine{00963 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00090}{TRender\+Settings\+::\+Even\+Field}}, \mbox{\hyperlink{l00487}{TStage\+Object\+Tree\+::get\+Camera\+Count()}}, \mbox{\hyperlink{l00508}{TStage\+Object\+Tree\+::get\+Current\+Camera\+Id()}}, \mbox{\hyperlink{l00719}{get\+Current\+Scene()}}, \mbox{\hyperlink{l00704}{Toonz\+Scene\+::get\+Frame\+Count()}}, \mbox{\hyperlink{l00175}{TOutput\+Properties\+::get\+Frame\+Rate()}}, \mbox{\hyperlink{l00636}{TFile\+Path\+::get\+Name()}}, \mbox{\hyperlink{l00683}{TFile\+Path\+::get\+Parent\+Dir()}}, \mbox{\hyperlink{l00116}{TOutput\+Properties\+::get\+Path()}}, \mbox{\hyperlink{l00728}{get\+Properties()}}, \mbox{\hyperlink{l00128}{TOutput\+Properties\+::get\+Range()}}, \mbox{\hyperlink{l00181}{TOutput\+Properties\+::get\+Render\+Settings()}}, \mbox{\hyperlink{l00059}{Toonz\+Scene\+::get\+Scene\+Path()}}, \mbox{\hyperlink{l00164}{TStage\+Object\+Tree\+::get\+Stage\+Object()}}, \mbox{\hyperlink{l00549}{TXsheet\+::get\+Stage\+Object\+Tree()}}, \mbox{\hyperlink{l00225}{TFile\+Path\+::get\+Type()}}, \mbox{\hyperlink{l00957}{Toonz\+Scene\+::get\+Xsheet()}}, \mbox{\hyperlink{l00146}{TRender\+Settings\+::m\+\_\+apply\+Shrink\+To\+Viewer}}, \mbox{\hyperlink{l00116}{TRender\+Settings\+::m\+\_\+bpp}}, \mbox{\hyperlink{l00131}{TRender\+Settings\+::m\+\_\+field\+Prevalence}}, \mbox{\hyperlink{l00106}{TRender\+Settings\+::m\+\_\+gamma}}, \mbox{\hyperlink{l00129}{TRender\+Settings\+::m\+\_\+quality}}, \mbox{\hyperlink{l00125}{TRender\+Settings\+::m\+\_\+shrinkX}}, \mbox{\hyperlink{l00133}{TRender\+Settings\+::m\+\_\+stereoscopic}}, \mbox{\hyperlink{l00112}{TRender\+Settings\+::m\+\_\+stereoscopic\+Shift}}, \mbox{\hyperlink{l00109}{TRender\+Settings\+::m\+\_\+time\+Stretch\+From}}, \mbox{\hyperlink{l00110}{TRender\+Settings\+::m\+\_\+time\+Stretch\+To}}, \mbox{\hyperlink{l00089}{TRender\+Settings\+::\+No\+Field}}, \mbox{\hyperlink{l00091}{TRender\+Settings\+::\+Odd\+Field}}, \mbox{\hyperlink{l01054}{on\+Format\+Changed()}}, \mbox{\hyperlink{l00338}{DVGui\+::\+Double\+Line\+Edit\+::set\+Value()}}, and \mbox{\hyperlink{l00141}{DVGui\+::\+Int\+Line\+Edit\+::set\+Value()}}.



Referenced by \mbox{\hyperlink{l01102}{on\+Camera\+Changed()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/outputsettingspopup.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/outputsettingspopup.\+cpp\end{DoxyCompactItemize}
