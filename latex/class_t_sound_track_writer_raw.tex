\hypertarget{class_t_sound_track_writer_raw}{}\doxysection{TSound\+Track\+Writer\+Raw Class Reference}
\label{class_t_sound_track_writer_raw}\index{TSoundTrackWriterRaw@{TSoundTrackWriterRaw}}


{\ttfamily \#include $<$tsio\+\_\+raw.\+h$>$}

Inheritance diagram for TSound\+Track\+Writer\+Raw\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_t_sound_track_writer_raw}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_sound_track_writer_raw_a48a586bbcd5964bdf4cf4784cbc81181}{TSound\+Track\+Writer\+Raw}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\item 
bool \mbox{\hyperlink{class_t_sound_track_writer_raw_a9541fde8bdd19ee2e40ac513d67573bc}{save}} (const \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \&) override
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_t_sound_track_writer}{TSound\+Track\+Writer}} $\ast$ \mbox{\hyperlink{class_t_sound_track_writer_raw_ad4bf1f07e0fbf2b8d4f18c595b6575db}{create}} (const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&fp)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
The class \mbox{\hyperlink{class_t_sound_track_writer_raw}{TSound\+Track\+Writer\+Raw}} writes audio file having .raw extension (this kind of file contains only the sample) 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_sound_track_writer_raw_a48a586bbcd5964bdf4cf4784cbc81181}\label{class_t_sound_track_writer_raw_a48a586bbcd5964bdf4cf4784cbc81181}} 
\index{TSoundTrackWriterRaw@{TSoundTrackWriterRaw}!TSoundTrackWriterRaw@{TSoundTrackWriterRaw}}
\index{TSoundTrackWriterRaw@{TSoundTrackWriterRaw}!TSoundTrackWriterRaw@{TSoundTrackWriterRaw}}
\doxysubsubsection{\texorpdfstring{TSoundTrackWriterRaw()}{TSoundTrackWriterRaw()}}
{\footnotesize\ttfamily TSound\+Track\+Writer\+Raw\+::\+TSound\+Track\+Writer\+Raw (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00035     : \mbox{\hyperlink{class_t_sound_track_writer}{TSoundTrackWriter}}(fp) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_track_writer_raw_a4581fc401c3e92ba0266f812bf19952d}\label{class_t_sound_track_writer_raw_a4581fc401c3e92ba0266f812bf19952d}} 
\index{TSoundTrackWriterRaw@{TSoundTrackWriterRaw}!````~TSoundTrackWriterRaw@{$\sim$TSoundTrackWriterRaw}}
\index{````~TSoundTrackWriterRaw@{$\sim$TSoundTrackWriterRaw}!TSoundTrackWriterRaw@{TSoundTrackWriterRaw}}
\doxysubsubsection{\texorpdfstring{$\sim$TSoundTrackWriterRaw()}{~TSoundTrackWriterRaw()}}
{\footnotesize\ttfamily TSound\+Track\+Writer\+Raw\+::$\sim$\+TSound\+Track\+Writer\+Raw (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00042 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_sound_track_writer_raw_ad4bf1f07e0fbf2b8d4f18c595b6575db}\label{class_t_sound_track_writer_raw_ad4bf1f07e0fbf2b8d4f18c595b6575db}} 
\index{TSoundTrackWriterRaw@{TSoundTrackWriterRaw}!create@{create}}
\index{create@{create}!TSoundTrackWriterRaw@{TSoundTrackWriterRaw}}
\doxysubsubsection{\texorpdfstring{create()}{create()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{class_t_sound_track_writer}{TSound\+Track\+Writer}} $\ast$ TSound\+Track\+Writer\+Raw\+::create (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_file_path}{TFile\+Path}} \&}]{fp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}

Returns a soundtrack writer able to write .raw audio files 
\begin{DoxyCode}{0}
\DoxyCodeLine{00053                                                         \{}
\DoxyCodeLine{00054     \textcolor{keywordflow}{return} \textcolor{keyword}{new} \mbox{\hyperlink{class_t_sound_track_writer_raw}{TSoundTrackWriterRaw}}(fp);}
\DoxyCodeLine{00055   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_track_writer_raw_a9541fde8bdd19ee2e40ac513d67573bc}\label{class_t_sound_track_writer_raw_a9541fde8bdd19ee2e40ac513d67573bc}} 
\index{TSoundTrackWriterRaw@{TSoundTrackWriterRaw}!save@{save}}
\index{save@{save}!TSoundTrackWriterRaw@{TSoundTrackWriterRaw}}
\doxysubsubsection{\texorpdfstring{save()}{save()}}
{\footnotesize\ttfamily bool TSound\+Track\+Writer\+Raw\+::save (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \&}]{track }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Saves the information of the soundtrack in .raw audio file whose path has been specified in the constructor. 

Implements \mbox{\hyperlink{class_t_sound_track_writer}{TSound\+Track\+Writer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00039                                                          \{}
\DoxyCodeLine{00040   \mbox{\hyperlink{class_t_file_status}{TFileStatus}} fs(m\_path);}
\DoxyCodeLine{00041   \textcolor{keywordflow}{if} (fs.doesExist() \&\& !fs.isWritable())}
\DoxyCodeLine{00042     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(L\textcolor{stringliteral}{"{}Unable to save the soundtrack: "{}} +}
\DoxyCodeLine{00043                      m\_path.getWideString() + L\textcolor{stringliteral}{"{} is read-\/only"{}});}
\DoxyCodeLine{00044 }
\DoxyCodeLine{00045   \mbox{\hyperlink{class_tofstream}{Tofstream}} os(m\_path);}
\DoxyCodeLine{00046 }
\DoxyCodeLine{00047   \textcolor{comment}{// inserisco i dati nell'output stream}}
\DoxyCodeLine{00048 }
\DoxyCodeLine{00049   \textcolor{comment}{// os << (ULONG) (track-\/>getSampleCount()) << "{} "{};}}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051   \textcolor{keywordtype}{int} sampleCount = track-\/>getSampleCount();}
\DoxyCodeLine{00052   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00054   \textcolor{keywordflow}{switch} (track-\/>getChannelCount()) \{}
\DoxyCodeLine{00055   \textcolor{keywordflow}{case} 1:  \textcolor{comment}{// mono}}
\DoxyCodeLine{00056     \textcolor{keywordflow}{switch} (track-\/>getSampleSize()) \{}
\DoxyCodeLine{00057     \textcolor{keywordflow}{case} 1:  \textcolor{comment}{// un byte per campione}}
\DoxyCodeLine{00058     \{}
\DoxyCodeLine{00059       \textcolor{keyword}{const} \textcolor{keywordtype}{char} *srcCharSamples = (\textcolor{keywordtype}{char} *)track-\/>\mbox{\hyperlink{class_t_sound_track_ae47a8e255a18ddbc83d31b6c0c834e68}{getRawData}}();}
\DoxyCodeLine{00060       \textcolor{keywordflow}{for} (i = 0; i < sampleCount; i++) \{}
\DoxyCodeLine{00061         \textcolor{keywordtype}{short} sample = *(srcCharSamples + i);}
\DoxyCodeLine{00062         os.write((\textcolor{keywordtype}{char} *)\&sample, \textcolor{keyword}{sizeof}(short));}
\DoxyCodeLine{00063       \}}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00066     \}}
\DoxyCodeLine{00067     \textcolor{keywordflow}{case} 2:  \textcolor{comment}{// due byte per campione}}
\DoxyCodeLine{00068     \{}
\DoxyCodeLine{00069       \textcolor{keyword}{const} \textcolor{keywordtype}{short} *srcShortSamples = (\textcolor{keywordtype}{short} *)track-\/>\mbox{\hyperlink{class_t_sound_track_ae47a8e255a18ddbc83d31b6c0c834e68}{getRawData}}();}
\DoxyCodeLine{00070       \textcolor{keywordflow}{for} (i = 0; i < sampleCount; i++)}
\DoxyCodeLine{00071         os.write((\textcolor{keywordtype}{char} *)(srcShortSamples + i), \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{short}));}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00074     \}}
\DoxyCodeLine{00075     \}}
\DoxyCodeLine{00076     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00077 }
\DoxyCodeLine{00078   \textcolor{keywordflow}{case} 2:  \textcolor{comment}{// stereo}}
\DoxyCodeLine{00079     \textcolor{keywordflow}{switch} (track-\/>getSampleSize()) \{}
\DoxyCodeLine{00080     \textcolor{keywordflow}{case} 2:  \textcolor{comment}{// due byte per campione, un byte per canale}}
\DoxyCodeLine{00081     \{}
\DoxyCodeLine{00082       \textcolor{comment}{// considera solo il canale sinistro}}
\DoxyCodeLine{00083       \textcolor{keyword}{const} \textcolor{keywordtype}{char} *srcCharSamples = (\textcolor{keywordtype}{char} *)track-\/>\mbox{\hyperlink{class_t_sound_track_ae47a8e255a18ddbc83d31b6c0c834e68}{getRawData}}();}
\DoxyCodeLine{00084       \textcolor{keywordflow}{for} (i = 0; i < sampleCount; i += 2) \{}
\DoxyCodeLine{00085         \textcolor{keywordtype}{short} sample = *(srcCharSamples + i);}
\DoxyCodeLine{00086         os.write((\textcolor{keywordtype}{char} *)\&sample, \textcolor{keyword}{sizeof}(short));}
\DoxyCodeLine{00087       \}}
\DoxyCodeLine{00088 }
\DoxyCodeLine{00089       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00090     \}}
\DoxyCodeLine{00091     \textcolor{keywordflow}{case} 4:  \textcolor{comment}{// quattro byte per campione, due byte per canale}}
\DoxyCodeLine{00092     \{}
\DoxyCodeLine{00093       \textcolor{comment}{// considera solo il canale sinistro}}
\DoxyCodeLine{00094       \textcolor{keyword}{const} \textcolor{keywordtype}{short} *srcShortSamples = (\textcolor{keywordtype}{short} *)track-\/>\mbox{\hyperlink{class_t_sound_track_ae47a8e255a18ddbc83d31b6c0c834e68}{getRawData}}();}
\DoxyCodeLine{00095       \textcolor{keywordflow}{for} (i = 0; i < sampleCount; i += 2)}
\DoxyCodeLine{00096         os.write((\textcolor{keywordtype}{char} *)(srcShortSamples + i), \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{short}));}
\DoxyCodeLine{00097 }
\DoxyCodeLine{00098       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00099     \}}
\DoxyCodeLine{00100     \}}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00102     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00103   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00104     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00105   \}}
\DoxyCodeLine{00106   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00107 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00150}{TSound\+Track\+::get\+Raw\+Data()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/sound/raw/tsio\+\_\+raw.\+h\item 
E\+:/opentoonz/toonz/sources/sound/raw/tsio\+\_\+raw.\+cpp\end{DoxyCompactItemize}
