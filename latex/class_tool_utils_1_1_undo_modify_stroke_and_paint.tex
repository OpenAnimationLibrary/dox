\hypertarget{class_tool_utils_1_1_undo_modify_stroke_and_paint}{}\doxysection{Tool\+Utils\+::Undo\+Modify\+Stroke\+And\+Paint Class Reference}
\label{class_tool_utils_1_1_undo_modify_stroke_and_paint}\index{ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}}
Inheritance diagram for Tool\+Utils\+::Undo\+Modify\+Stroke\+And\+Paint\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_tool_utils_1_1_undo_modify_stroke_and_paint}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_tool_utils_1_1_undo_modify_stroke_and_paint_a907855a55ca78cf206c2fcc556c5edef}{Undo\+Modify\+Stroke\+And\+Paint}} (\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$level, const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&frame\+Id, int stroke\+Index)
\item 
void \mbox{\hyperlink{class_tool_utils_1_1_undo_modify_stroke_and_paint_af0c218517fd00a474a59bc24a7e15ec1}{on\+Add}} () override
\item 
void \mbox{\hyperlink{class_tool_utils_1_1_undo_modify_stroke_and_paint_a528b3b53475fdf80cf8c2113bcd1c458}{undo}} () const override
\item 
int \mbox{\hyperlink{class_tool_utils_1_1_undo_modify_stroke_and_paint_a658f47cc4889862ea76d9c0c486b1486}{get\+Size}} () const override
\item 
QString \mbox{\hyperlink{class_tool_utils_1_1_undo_modify_stroke_and_paint_ae26d95c7683bf0b55af671aa1e146401}{get\+Tool\+Name}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_modify_stroke_and_paint_a907855a55ca78cf206c2fcc556c5edef}\label{class_tool_utils_1_1_undo_modify_stroke_and_paint_a907855a55ca78cf206c2fcc556c5edef}} 
\index{ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}!UndoModifyStrokeAndPaint@{UndoModifyStrokeAndPaint}}
\index{UndoModifyStrokeAndPaint@{UndoModifyStrokeAndPaint}!ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}}
\doxysubsubsection{\texorpdfstring{UndoModifyStrokeAndPaint()}{UndoModifyStrokeAndPaint()}}
{\footnotesize\ttfamily Tool\+Utils\+::\+Undo\+Modify\+Stroke\+And\+Paint\+::\+Undo\+Modify\+Stroke\+And\+Paint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$}]{level,  }\item[{const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&}]{frame\+Id,  }\item[{int}]{stroke\+Index }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00851     : UndoModifyStroke(level, frameId, strokeIndex), m\_fillInformation(0) \{}
\DoxyCodeLine{00852   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} image = level-\/>getFrame(frameId, \textcolor{keyword}{true});}
\DoxyCodeLine{00853   assert(image);}
\DoxyCodeLine{00854   \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = image-\/>getStroke(strokeIndex);}
\DoxyCodeLine{00855   m\_oldBBox       = stroke-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}();}
\DoxyCodeLine{00856 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_modify_stroke_and_paint_aaf6614c0537f7dc08e2f9abd1797928e}\label{class_tool_utils_1_1_undo_modify_stroke_and_paint_aaf6614c0537f7dc08e2f9abd1797928e}} 
\index{ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}!````~UndoModifyStrokeAndPaint@{$\sim$UndoModifyStrokeAndPaint}}
\index{````~UndoModifyStrokeAndPaint@{$\sim$UndoModifyStrokeAndPaint}!ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}}
\doxysubsubsection{\texorpdfstring{$\sim$UndoModifyStrokeAndPaint()}{~UndoModifyStrokeAndPaint()}}
{\footnotesize\ttfamily Tool\+Utils\+::\+Undo\+Modify\+Stroke\+And\+Paint\+::$\sim$\+Undo\+Modify\+Stroke\+And\+Paint (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00904                                                              \{}
\DoxyCodeLine{00905   \textcolor{keyword}{delete} m\_fillInformation;}
\DoxyCodeLine{00906 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_modify_stroke_and_paint_a658f47cc4889862ea76d9c0c486b1486}\label{class_tool_utils_1_1_undo_modify_stroke_and_paint_a658f47cc4889862ea76d9c0c486b1486}} 
\index{ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}!getSize@{getSize}}
\index{getSize@{getSize}!ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Tool\+Utils\+::\+Undo\+Modify\+Stroke\+And\+Paint\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tool_utils_1_1_undo_modify_stroke}{Tool\+Utils\+::\+Undo\+Modify\+Stroke}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00910                                                      \{}
\DoxyCodeLine{00911   \textcolor{keywordtype}{int} size = m\_fillInformation}
\DoxyCodeLine{00912                  ? m\_fillInformation-\/>size() * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_t_filled_region_inf}{TFilledRegionInf}})}
\DoxyCodeLine{00913                  : 0;}
\DoxyCodeLine{00914   \textcolor{keywordflow}{return} UndoModifyStroke::getSize() + size;}
\DoxyCodeLine{00915 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_modify_stroke_and_paint_ae26d95c7683bf0b55af671aa1e146401}\label{class_tool_utils_1_1_undo_modify_stroke_and_paint_ae26d95c7683bf0b55af671aa1e146401}} 
\index{ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}!getToolName@{getToolName}}
\index{getToolName@{getToolName}!ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}}
\doxysubsubsection{\texorpdfstring{getToolName()}{getToolName()}}
{\footnotesize\ttfamily QString Tool\+Utils\+::\+Undo\+Modify\+Stroke\+And\+Paint\+::get\+Tool\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tool_utils_1_1_t_tool_undo}{Tool\+Utils\+::\+TTool\+Undo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00269 \{ \textcolor{keywordflow}{return} QObject::tr(\textcolor{stringliteral}{"{}Modify Stroke Tool"{}}); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_modify_stroke_and_paint_af0c218517fd00a474a59bc24a7e15ec1}\label{class_tool_utils_1_1_undo_modify_stroke_and_paint_af0c218517fd00a474a59bc24a7e15ec1}} 
\index{ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}!onAdd@{onAdd}}
\index{onAdd@{onAdd}!ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}}
\doxysubsubsection{\texorpdfstring{onAdd()}{onAdd()}}
{\footnotesize\ttfamily void Tool\+Utils\+::\+Undo\+Modify\+Stroke\+And\+Paint\+::on\+Add (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tool_utils_1_1_undo_modify_stroke}{Tool\+Utils\+::\+Undo\+Modify\+Stroke}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00860                                               \{}
\DoxyCodeLine{00861   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} image = m\_level-\/>getFrame(m\_frameId, \textcolor{keyword}{true});}
\DoxyCodeLine{00862   assert(!!image);}
\DoxyCodeLine{00863   \textcolor{keywordflow}{if} (!image) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00864 }
\DoxyCodeLine{00865   UndoModifyStroke::onAdd();}
\DoxyCodeLine{00866   \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke   = image-\/>getStroke(m\_strokeIndex);}
\DoxyCodeLine{00867   m\_fillInformation = \textcolor{keyword}{new} std::vector<TFilledRegionInf>;}
\DoxyCodeLine{00868   ImageUtils::getFillingInformationOverlappingArea(}
\DoxyCodeLine{00869       image, *m\_fillInformation, m\_oldBBox, stroke-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}());}
\DoxyCodeLine{00870 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_modify_stroke_and_paint_a528b3b53475fdf80cf8c2113bcd1c458}\label{class_tool_utils_1_1_undo_modify_stroke_and_paint_a528b3b53475fdf80cf8c2113bcd1c458}} 
\index{ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}!undo@{undo}}
\index{undo@{undo}!ToolUtils::UndoModifyStrokeAndPaint@{ToolUtils::UndoModifyStrokeAndPaint}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Tool\+Utils\+::\+Undo\+Modify\+Stroke\+And\+Paint\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tool_utils_1_1_undo_modify_stroke}{Tool\+Utils\+::\+Undo\+Modify\+Stroke}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00874                                                    \{}
\DoxyCodeLine{00875   \mbox{\hyperlink{class_t_application}{TTool::Application}} *application = TTool::getApplication();}
\DoxyCodeLine{00876   \textcolor{keywordflow}{if} (!application) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00877 }
\DoxyCodeLine{00878   UndoModifyStroke::undo();}
\DoxyCodeLine{00879   \mbox{\hyperlink{class_t_region}{TRegion}} *reg;}
\DoxyCodeLine{00880   UINT size = m\_fillInformation-\/>size();}
\DoxyCodeLine{00881   \textcolor{keywordflow}{if} (!size) \{}
\DoxyCodeLine{00882     application-\/>getCurrentXsheet()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00883     notifyImageChanged();}
\DoxyCodeLine{00884     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00885   \}}
\DoxyCodeLine{00886 }
\DoxyCodeLine{00887   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} image = m\_level-\/>getFrame(m\_frameId, \textcolor{keyword}{true});}
\DoxyCodeLine{00888   assert(!!image);}
\DoxyCodeLine{00889   \textcolor{keywordflow}{if} (!image) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00890 }
\DoxyCodeLine{00891   \textcolor{comment}{// image-\/>validateRegions();}}
\DoxyCodeLine{00892   image-\/>findRegions();}
\DoxyCodeLine{00893   \textcolor{keywordflow}{for} (UINT i = 0; i < size; i++) \{}
\DoxyCodeLine{00894     reg = image-\/>getRegion((*m\_fillInformation)[i].m\_regionId);}
\DoxyCodeLine{00895     assert(reg);}
\DoxyCodeLine{00896     \textcolor{keywordflow}{if} (reg) reg-\/>setStyle((*m\_fillInformation)[i].m\_styleId);}
\DoxyCodeLine{00897   \}}
\DoxyCodeLine{00898 }
\DoxyCodeLine{00899   application-\/>getCurrentXsheet()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00900   notifyImageChanged();}
\DoxyCodeLine{00901 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tools/toolutils.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/toolutils.\+cpp\end{DoxyCompactItemize}
