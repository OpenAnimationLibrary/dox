\hypertarget{class_vector_selection_tool}{}\doxysection{Vector\+Selection\+Tool Class Reference}
\label{class_vector_selection_tool}\index{VectorSelectionTool@{VectorSelectionTool}}


Selection tool for Toonz\textquotesingle{}s vector images.  




{\ttfamily \#include $<$vectorselectiontool.\+h$>$}

Inheritance diagram for Vector\+Selection\+Tool\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_vector_selection_tool}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_vector_selection_tool_ae2faeb49f053b9c88de37c6066b879c1}{Vector\+Selection\+Tool}} (int target\+Type)
\item 
void \mbox{\hyperlink{class_vector_selection_tool_a0e483afb2818d8de664491d388ec83b0}{set\+New\+Free\+Deformer}} () override
\item 
void \mbox{\hyperlink{class_vector_selection_tool_a7edf189a057bc9b96c4f5d8cdc9cd340}{set\+Can\+Enter\+Group}} (bool value)
\item 
bool \mbox{\hyperlink{class_vector_selection_tool_a4d53146a63b4eb2154b319e217cc59b6}{is\+Constant\+Thickness}} () const override
\item 
bool \mbox{\hyperlink{class_vector_selection_tool_a8d523b22ded4e8969c4061c85f587388}{is\+Level\+Type}} () const override
\item 
bool \mbox{\hyperlink{class_vector_selection_tool_a33e88c64b95c00c7b0ccc7a130bea1c7}{is\+Selected\+Frames\+Type}} () const override
\item 
bool \mbox{\hyperlink{class_vector_selection_tool_a4e397278ddb4e405e393392781e33640}{is\+Same\+Style\+Type}} () const override
\item 
bool \mbox{\hyperlink{class_vector_selection_tool_afb1e6cfe2da30ba05d0cc1414a885175}{is\+Modifiable\+Selection\+Type}} () const override
\item 
const std\+::set$<$ int $>$ \& \mbox{\hyperlink{class_vector_selection_tool_ade62f9eab3766b2cf41d92e6046bc739}{selected\+Styles}} () const
\item 
std\+::set$<$ int $>$ \& \mbox{\hyperlink{class_vector_selection_tool_a968a36022335af6b547ae7b9fc2fc865}{selected\+Styles}} ()
\item 
int \mbox{\hyperlink{class_vector_selection_tool_a48ed125dbeaa892c0b7e1b3d471248bc}{get\+Selection\+Count}} () const
\item 
void \mbox{\hyperlink{class_vector_selection_tool_a42147ebaf2c278d69f6236f6a4ab1530}{selection\+Outline\+Style}} (int \&cap\+Style, int \&join\+Style)
\item 
const \mbox{\hyperlink{class_stroke_selection}{Stroke\+Selection}} \& \mbox{\hyperlink{class_vector_selection_tool_a01a7b98e6b31a8aa455668b9658f18ac}{stroke\+Selection}} () const
\item 
const \mbox{\hyperlink{class_level_selection}{Level\+Selection}} \& \mbox{\hyperlink{class_vector_selection_tool_a34bc0f198a3d3f142dcd3f2ea2f2d2e8}{level\+Selection}} () const
\item 
\mbox{\hyperlink{class_t_selection}{TSelection}} $\ast$ \mbox{\hyperlink{class_vector_selection_tool_a8401bdd71bef9790c20e2512b7a98e0a}{get\+Selection}} () override
\begin{DoxyCompactList}\small\item\em Returns a pointer to the tool selection. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_vector_selection_tool_a8f5b58d03921683d22f124389d49049b}{is\+Selection\+Empty}} () override
\item 
void \mbox{\hyperlink{class_vector_selection_tool_a0e2e3b7d90244059a9bce7107d41d359}{compute\+BBox}} () override
\item 
\mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ \mbox{\hyperlink{class_vector_selection_tool_a57b7245ac8455b18e1be0cf8a53a3d1c}{get\+Properties}} (int target\+Type) override
\item 
void \mbox{\hyperlink{class_vector_selection_tool_acff812fa2ab3603257be35786cb6e22b}{set\+Reset\+Center}} (bool update)
\item 
bool \mbox{\hyperlink{class_vector_selection_tool_aa1f48ebe348cdaab5949a74904c84f1f}{can\+Reset\+Center}} ()
\item 
bool \mbox{\hyperlink{class_vector_selection_tool_a3c45b62b6ce0fbfb3cffed3935a6dec8}{is\+Selection\+Editable}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_vector_selection_tool_a6d39bfae678125cce4b43ec573b6c294}{m\+\_\+reset\+Center}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_vector_selection_tool_a97062074cc7f3ef879d907b267ce5806}{on\+Activate}} () override
\begin{DoxyCompactList}\small\item\em Callback invoked whenever the tool activates. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_vector_selection_tool_a0d696c91cd1c64bbd4077cb79c7b2d6b}{on\+Deactivate}} () override
\begin{DoxyCompactList}\small\item\em Callback for tool deactivation, includes tool switch. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_vector_selection_tool_a19a09f093f0209df601d09c4143f2a8f}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_vector_selection_tool_ad937a227381fe5247adc16aeb288344d}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_vector_selection_tool_a4d1c1b9ef062e5f4f01dfcc241a768c8}{left\+Button\+Up}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&) override
\item 
void \mbox{\hyperlink{class_vector_selection_tool_a2dcb6f2c99b1268e7e8effe0476d733c}{left\+Button\+Double\+Click}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_vector_selection_tool_ae3d352801662e8a24bc1e7d2e9723baa}{add\+Context\+Menu\+Items}} (QMenu $\ast$menu) override
\item 
void \mbox{\hyperlink{class_vector_selection_tool_a5c6d80a5263bad0ae7603e0d7c72f9b5}{draw}} () override
\begin{DoxyCompactList}\small\item\em Draws the tool on the viewer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_vector_selection_tool_a390415466b952dbb360d2ddc20ccb714}{update\+Action}} (\mbox{\hyperlink{class_t_point_t}{TPointD}} pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_vector_selection_tool_af1f30e830c418786023633a95a2d8dc9}{on\+Selected\+Frames\+Changed}} () override
\item 
bool \mbox{\hyperlink{class_vector_selection_tool_a4db988c389e5c8afd7ff6b7f73e32e62}{on\+Property\+Changed}} (std\+::string property\+Name) override
\item 
void \mbox{\hyperlink{class_vector_selection_tool_a021fc8aabe068a494a4cd50cd22ea86f}{on\+Image\+Changed}} () override
\begin{DoxyCompactList}\small\item\em Notifies changes in the image in use. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_vector_selection_tool_a73c068a75466c5a626cd8a85a7375733}{get\+Cursor\+Id}} () const override
\begin{DoxyCompactList}\small\item\em Returns the type of cursor used by the tool. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_vector_selection_tool_a5c248a1771b62dfa199d741cdd641d63}{is\+Dragging}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
Selection tool for Toonz\textquotesingle{}s vector images. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_vector_selection_tool_ae2faeb49f053b9c88de37c6066b879c1}\label{class_vector_selection_tool_ae2faeb49f053b9c88de37c6066b879c1}} 
\index{VectorSelectionTool@{VectorSelectionTool}!VectorSelectionTool@{VectorSelectionTool}}
\index{VectorSelectionTool@{VectorSelectionTool}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{VectorSelectionTool()}{VectorSelectionTool()}}
{\footnotesize\ttfamily Vector\+Selection\+Tool\+::\+Vector\+Selection\+Tool (\begin{DoxyParamCaption}\item[{int}]{target\+Type }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01208     : \mbox{\hyperlink{class_selection_tool}{SelectionTool}}(targetType)}
\DoxyCodeLine{01209     , m\_selectionTarget(\textcolor{stringliteral}{"{}Mode:"{}})}
\DoxyCodeLine{01210     , m\_includeIntersection(\textcolor{stringliteral}{"{}Include Intersection"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{01211     , m\_constantThickness(\textcolor{stringliteral}{"{}Preserve Thickness"{}}, \textcolor{keyword}{false})}
\DoxyCodeLine{01212     , m\_levelSelection(m\_strokeSelection)}
\DoxyCodeLine{01213     , m\_capStyle(\textcolor{stringliteral}{"{}Cap"{}})}
\DoxyCodeLine{01214     , m\_joinStyle(\textcolor{stringliteral}{"{}Join"{}})}
\DoxyCodeLine{01215     , m\_miterJoinLimit(\textcolor{stringliteral}{"{}Miter:"{}}, 0, 100, 4)}
\DoxyCodeLine{01216     , m\_selectionCount(0)}
\DoxyCodeLine{01217     , m\_canEnterGroup(\textcolor{keyword}{true})}
\DoxyCodeLine{01218     , m\_resetCenter(\textcolor{keyword}{true}) \{}
\DoxyCodeLine{01219   assert(targetType == TTool::Vectors);}
\DoxyCodeLine{01220   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_selectionTarget);}
\DoxyCodeLine{01221   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_includeIntersection);}
\DoxyCodeLine{01222   m\_prop.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_constantThickness);}
\DoxyCodeLine{01223 }
\DoxyCodeLine{01224   m\_selectionTarget.addValue(NORMAL\_TYPE);}
\DoxyCodeLine{01225   m\_selectionTarget.addValue(SELECTED\_FRAMES\_TYPE);}
\DoxyCodeLine{01226   m\_selectionTarget.addValue(ALL\_LEVEL\_TYPE);}
\DoxyCodeLine{01227   m\_selectionTarget.addValue(SAME\_STYLE\_TYPE);}
\DoxyCodeLine{01228   m\_selectionTarget.addValue(STYLE\_SELECTED\_FRAMES\_TYPE);}
\DoxyCodeLine{01229   m\_selectionTarget.addValue(STYLE\_LEVEL\_TYPE);}
\DoxyCodeLine{01230   m\_selectionTarget.addValue(BOUNDARY\_TYPE);}
\DoxyCodeLine{01231   m\_selectionTarget.addValue(BOUNDARY\_SELECTED\_FRAMES\_TYPE);}
\DoxyCodeLine{01232   m\_selectionTarget.addValue(BOUNDARY\_LEVEL\_TYPE);}
\DoxyCodeLine{01233 }
\DoxyCodeLine{01234   m\_strokeSelection.setView(\textcolor{keyword}{this});}
\DoxyCodeLine{01235 }
\DoxyCodeLine{01236   m\_includeIntersection.setId(\textcolor{stringliteral}{"{}IncludeIntersection"{}});}
\DoxyCodeLine{01237   m\_constantThickness.setId(\textcolor{stringliteral}{"{}PreserveThickness"{}});}
\DoxyCodeLine{01238   m\_selectionTarget.setId(\textcolor{stringliteral}{"{}SelectionMode"{}});}
\DoxyCodeLine{01239 }
\DoxyCodeLine{01240   m\_capStyle.addValue(BUTT\_WSTR, QString::fromStdWString(BUTT\_WSTR));}
\DoxyCodeLine{01241   m\_capStyle.addValue(ROUNDC\_WSTR, QString::fromStdWString(ROUNDC\_WSTR));}
\DoxyCodeLine{01242   m\_capStyle.addValue(PROJECTING\_WSTR,}
\DoxyCodeLine{01243                       QString::fromStdWString(PROJECTING\_WSTR));}
\DoxyCodeLine{01244   m\_capStyle.setId(\textcolor{stringliteral}{"{}Cap"{}});}
\DoxyCodeLine{01245 }
\DoxyCodeLine{01246   m\_joinStyle.addValue(MITER\_WSTR, QString::fromStdWString(MITER\_WSTR));}
\DoxyCodeLine{01247   m\_joinStyle.addValue(ROUNDJ\_WSTR, QString::fromStdWString(ROUNDJ\_WSTR));}
\DoxyCodeLine{01248   m\_joinStyle.addValue(BEVEL\_WSTR, QString::fromStdWString(BEVEL\_WSTR));}
\DoxyCodeLine{01249   m\_joinStyle.setId(\textcolor{stringliteral}{"{}Join"{}});}
\DoxyCodeLine{01250 }
\DoxyCodeLine{01251   m\_miterJoinLimit.setId(\textcolor{stringliteral}{"{}Miter"{}});}
\DoxyCodeLine{01252 }
\DoxyCodeLine{01253   m\_outlineProps.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_capStyle);}
\DoxyCodeLine{01254   m\_outlineProps.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_joinStyle);}
\DoxyCodeLine{01255   m\_outlineProps.\mbox{\hyperlink{class_t_property_group_af135c807390f3d18237f4123e9d81d3d}{bind}}(m\_miterJoinLimit);}
\DoxyCodeLine{01256 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_vector_selection_tool_ae3d352801662e8a24bc1e7d2e9723baa}\label{class_vector_selection_tool_ae3d352801662e8a24bc1e7d2e9723baa}} 
\index{VectorSelectionTool@{VectorSelectionTool}!addContextMenuItems@{addContextMenuItems}}
\index{addContextMenuItems@{addContextMenuItems}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{addContextMenuItems()}{addContextMenuItems()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::add\+Context\+Menu\+Items (\begin{DoxyParamCaption}\item[{QMenu $\ast$}]{menu }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Add a context menu to the actual tool, as for example pressing right mouse button with the stroke selection tool. 

Reimplemented from \mbox{\hyperlink{class_t_tool_ac8a81b368568245d16f7c3d4a17684a1}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01685                                                          \{}
\DoxyCodeLine{01686   menu-\/>addAction(CommandManager::instance()-\/>getAction(MI\_RemoveEndpoints));}
\DoxyCodeLine{01687   menu-\/>addSeparator();}
\DoxyCodeLine{01688 }
\DoxyCodeLine{01689   m\_strokeSelection.getGroupCommand()-\/>addMenuItems(menu);}
\DoxyCodeLine{01690 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_aa1f48ebe348cdaab5949a74904c84f1f}\label{class_vector_selection_tool_aa1f48ebe348cdaab5949a74904c84f1f}} 
\index{VectorSelectionTool@{VectorSelectionTool}!canResetCenter@{canResetCenter}}
\index{canResetCenter@{canResetCenter}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{canResetCenter()}{canResetCenter()}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::can\+Reset\+Center (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00313 \{ \textcolor{keywordflow}{return} m\_resetCenter; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a0e2e3b7d90244059a9bce7107d41d359}\label{class_vector_selection_tool_a0e2e3b7d90244059a9bce7107d41d359}} 
\index{VectorSelectionTool@{VectorSelectionTool}!computeBBox@{computeBBox}}
\index{computeBBox@{computeBBox}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{computeBBox()}{computeBBox()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::compute\+BBox (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01819                                       \{}
\DoxyCodeLine{01820   m\_bboxs.clear();}
\DoxyCodeLine{01821   \textcolor{keywordflow}{if} (canResetCenter()) m\_centers.clear();}
\DoxyCodeLine{01822 }
\DoxyCodeLine{01823   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01824   \textcolor{keywordflow}{if} (!vi) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01825 }
\DoxyCodeLine{01826   \textcolor{keywordflow}{if} (isLevelType() || isSelectedFramesType()) \{}
\DoxyCodeLine{01827     \textcolor{keywordtype}{double} maxThickness = 0;}
\DoxyCodeLine{01828 }
\DoxyCodeLine{01829     \textcolor{comment}{// Calculate current image's bbox -\/ it is always the first one (index 0)}}
\DoxyCodeLine{01830     \textcolor{keywordflow}{if} (vi \&\& (isLevelType() || m\_selectedFrames.count(\mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}()) > 0)) \{}
\DoxyCodeLine{01831       \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{FourPoints}} bbox =}
\DoxyCodeLine{01832           getFourPointsFromVectorImage(vi, selectedStyles(), maxThickness);}
\DoxyCodeLine{01833 }
\DoxyCodeLine{01834       m\_bboxs.push\_back(bbox);}
\DoxyCodeLine{01835       m\_centers.push\_back((bbox.getP00() + bbox.getP11()) * 0.5);}
\DoxyCodeLine{01836     \}}
\DoxyCodeLine{01837 }
\DoxyCodeLine{01838     \textcolor{comment}{// All subsequent SELECTED frames' bboxes come sequentially starting from 1}}
\DoxyCodeLine{01839     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *level =}
\DoxyCodeLine{01840             TTool::getApplication()-\/>getCurrentLevel()-\/>getSimpleLevel()) \{}
\DoxyCodeLine{01841       std::vector<TFrameId> fids;}
\DoxyCodeLine{01842       level-\/>getFids(fids);}
\DoxyCodeLine{01843 }
\DoxyCodeLine{01844       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)fids.size(); ++i) \{}
\DoxyCodeLine{01845         \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}() == fids[i] ||}
\DoxyCodeLine{01846             (isSelectedFramesType() \&\& m\_selectedFrames.count(fids[i]) == 0))}
\DoxyCodeLine{01847           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01848 }
\DoxyCodeLine{01849         \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = level-\/>getFrame(fids[i], \textcolor{keyword}{false});}
\DoxyCodeLine{01850         \textcolor{keywordflow}{if} (!vi) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01851 }
\DoxyCodeLine{01852         \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{FourPoints}} p =}
\DoxyCodeLine{01853             getFourPointsFromVectorImage(vi, selectedStyles(), maxThickness);}
\DoxyCodeLine{01854 }
\DoxyCodeLine{01855         m\_bboxs.push\_back(p);}
\DoxyCodeLine{01856         m\_centers.push\_back(0.5 * (p.getP00() + p.getP11()));}
\DoxyCodeLine{01857         m\_deformValues.m\_maxSelectionThickness = maxThickness;}
\DoxyCodeLine{01858       \}}
\DoxyCodeLine{01859     \}}
\DoxyCodeLine{01860   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (vi) \{}
\DoxyCodeLine{01861     \mbox{\hyperlink{class_t_rect_t}{TRectD}} newBbox;}
\DoxyCodeLine{01862     \textcolor{keywordtype}{double} maxThickness = 0;}
\DoxyCodeLine{01863 }
\DoxyCodeLine{01864     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)vi-\/>getStrokeCount(); i++) \{}
\DoxyCodeLine{01865       \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = vi-\/>getStroke(i);}
\DoxyCodeLine{01866 }
\DoxyCodeLine{01867       \textcolor{keywordflow}{if} (m\_strokeSelection.isSelected(i)) \{}
\DoxyCodeLine{01868         newBbox += stroke-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}();}
\DoxyCodeLine{01869 }
\DoxyCodeLine{01870         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < stroke-\/>\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}(); j++) \{}
\DoxyCodeLine{01871           \textcolor{keywordtype}{double} thick = stroke-\/>\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(j).thick;}
\DoxyCodeLine{01872           \textcolor{keywordflow}{if} (maxThickness < thick) maxThickness = thick;}
\DoxyCodeLine{01873         \}}
\DoxyCodeLine{01874       \}}
\DoxyCodeLine{01875     \}}
\DoxyCodeLine{01876 }
\DoxyCodeLine{01877     m\_deformValues.m\_maxSelectionThickness = maxThickness;}
\DoxyCodeLine{01878     \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{FourPoints}} bbox;}
\DoxyCodeLine{01879     bbox = newBbox;}
\DoxyCodeLine{01880     m\_bboxs.push\_back(bbox);}
\DoxyCodeLine{01881     \textcolor{keywordflow}{if} (canResetCenter())}
\DoxyCodeLine{01882       m\_centers.push\_back(0.5 * (bbox.getP11() + bbox.getP00()));}
\DoxyCodeLine{01883   \}}
\DoxyCodeLine{01884 }
\DoxyCodeLine{01885   ++m\_selectionCount;}
\DoxyCodeLine{01886 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a5c6d80a5263bad0ae7603e0d7c72f9b5}\label{class_vector_selection_tool_a5c6d80a5263bad0ae7603e0d7c72f9b5}} 
\index{VectorSelectionTool@{VectorSelectionTool}!draw@{draw}}
\index{draw@{draw}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{draw()}{draw()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::draw (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Draws the tool on the viewer. 



Implements \mbox{\hyperlink{class_selection_tool_a64457ad075be6bd4410efe8b02951dc7}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01758                                \{}
\DoxyCodeLine{01759   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01760   \textcolor{keywordflow}{if} (!vi) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01761 }
\DoxyCodeLine{01762   \textcolor{keywordflow}{if} (isLevelType() || isSelectedFramesType()) \{}
\DoxyCodeLine{01763     drawInLevelType(*vi);}
\DoxyCodeLine{01764     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01765   \}}
\DoxyCodeLine{01766 }
\DoxyCodeLine{01767   glPushMatrix();}
\DoxyCodeLine{01768 }
\DoxyCodeLine{01769   \textcolor{keywordflow}{if} (m\_strokeSelection.isEmpty())  \textcolor{comment}{// o\_o  WTF!?}}
\DoxyCodeLine{01770     m\_bboxs.clear();                \textcolor{comment}{//}}
\DoxyCodeLine{01771 }
\DoxyCodeLine{01772   \textcolor{comment}{// common draw}}
\DoxyCodeLine{01773   \textcolor{keywordflow}{if} (getBBoxsCount() > 0) drawCommandHandle(vi.getPointer());}
\DoxyCodeLine{01774 }
\DoxyCodeLine{01775   \textcolor{keywordflow}{if} (m\_selecting \&\& !m\_selectingRect.isEmpty())}
\DoxyCodeLine{01776     drawRectSelection(vi.getPointer());}
\DoxyCodeLine{01777 }
\DoxyCodeLine{01778   \mbox{\hyperlink{class_t_rect_t}{TRectD}} bbox = vi-\/>getBBox();}
\DoxyCodeLine{01779   TPixel32 frameColor(140, 140, 140);}
\DoxyCodeLine{01780   tglColor(frameColor);}
\DoxyCodeLine{01781   drawRect(bbox, frameColor, 0x5555, \textcolor{keyword}{true});}
\DoxyCodeLine{01782 }
\DoxyCodeLine{01783   drawSelectedStrokes(*vi);}
\DoxyCodeLine{01784 }
\DoxyCodeLine{01785   \textcolor{keywordflow}{if} (m\_strokeSelectionType.getIndex() == POLYLINE\_SELECTION\_IDX)}
\DoxyCodeLine{01786     drawPolylineSelection();}
\DoxyCodeLine{01787   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_strokeSelectionType.getIndex() == FREEHAND\_SELECTION\_IDX)}
\DoxyCodeLine{01788     drawFreehandSelection();}
\DoxyCodeLine{01789 }
\DoxyCodeLine{01790   \textcolor{keywordflow}{if} (m\_levelSelection.isEmpty()) drawGroup(*vi);}
\DoxyCodeLine{01791 }
\DoxyCodeLine{01792   glPopMatrix();}
\DoxyCodeLine{01793 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_t_rect_t_a53ce09c6112f8a019b43ad82d721a93b}{TRect\+T$<$ T $>$\+::is\+Empty()}}.

\mbox{\Hypertarget{class_vector_selection_tool_a73c068a75466c5a626cd8a85a7375733}\label{class_vector_selection_tool_a73c068a75466c5a626cd8a85a7375733}} 
\index{VectorSelectionTool@{VectorSelectionTool}!getCursorId@{getCursorId}}
\index{getCursorId@{getCursorId}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{getCursorId()}{getCursorId()}}
{\footnotesize\ttfamily int Vector\+Selection\+Tool\+::get\+Cursor\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Returns the type of cursor used by the tool. 

\begin{DoxySeeAlso}{See also}
For a list of cursor ids \mbox{\hyperlink{}{cursor.\+h}} 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_selection_tool_a25e63648cac6b3e64f2f7051a511c958}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00335                                    \{}
\DoxyCodeLine{00336     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}} \&\& \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>getGuidedStrokePickerMode())}
\DoxyCodeLine{00337       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>getGuidedStrokePickerCursor();}
\DoxyCodeLine{00338     \textcolor{keywordflow}{return} m\_cursorId;}
\DoxyCodeLine{00339   \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00555}{TTool\+::m\+\_\+viewer}}.

\mbox{\Hypertarget{class_vector_selection_tool_a57b7245ac8455b18e1be0cf8a53a3d1c}\label{class_vector_selection_tool_a57b7245ac8455b18e1be0cf8a53a3d1c}} 
\index{VectorSelectionTool@{VectorSelectionTool}!getProperties@{getProperties}}
\index{getProperties@{getProperties}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{getProperties()}{getProperties()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ Vector\+Selection\+Tool\+::get\+Properties (\begin{DoxyParamCaption}\item[{int}]{target\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02019                                                           \{}
\DoxyCodeLine{02020   \textcolor{keywordflow}{switch} (idx) \{}
\DoxyCodeLine{02021   \textcolor{keywordflow}{case} 0:}
\DoxyCodeLine{02022     \textcolor{keywordflow}{return} \&m\_prop;}
\DoxyCodeLine{02023   \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{02024     \textcolor{keywordflow}{return} \&m\_outlineProps;}
\DoxyCodeLine{02025   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{02026     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{02027   \};}
\DoxyCodeLine{02028 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a8401bdd71bef9790c20e2512b7a98e0a}\label{class_vector_selection_tool_a8401bdd71bef9790c20e2512b7a98e0a}} 
\index{VectorSelectionTool@{VectorSelectionTool}!getSelection@{getSelection}}
\index{getSelection@{getSelection}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{getSelection()}{getSelection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_selection}{TSelection}} $\ast$ Vector\+Selection\+Tool\+::get\+Selection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns a pointer to the tool selection. 



Implements \mbox{\hyperlink{class_selection_tool_a8041c0371ff11a50bc4165812fa64d8a}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01797                                               \{}
\DoxyCodeLine{01798   \mbox{\hyperlink{class_t_image}{TImage}} *image    = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01799   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = image;}
\DoxyCodeLine{01800   \textcolor{keywordflow}{if} (!vi) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01801 }
\DoxyCodeLine{01802   \textcolor{keywordflow}{return} \&m\_strokeSelection;}
\DoxyCodeLine{01803 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a48ed125dbeaa892c0b7e1b3d471248bc}\label{class_vector_selection_tool_a48ed125dbeaa892c0b7e1b3d471248bc}} 
\index{VectorSelectionTool@{VectorSelectionTool}!getSelectionCount@{getSelectionCount}}
\index{getSelectionCount@{getSelectionCount}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{getSelectionCount()}{getSelectionCount()}}
{\footnotesize\ttfamily int Vector\+Selection\+Tool\+::get\+Selection\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00295 \{ \textcolor{keywordflow}{return} m\_selectionCount; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a4d53146a63b4eb2154b319e217cc59b6}\label{class_vector_selection_tool_a4d53146a63b4eb2154b319e217cc59b6}} 
\index{VectorSelectionTool@{VectorSelectionTool}!isConstantThickness@{isConstantThickness}}
\index{isConstantThickness@{isConstantThickness}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{isConstantThickness()}{isConstantThickness()}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::is\+Constant\+Thickness (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00282                                             \{}
\DoxyCodeLine{00283     \textcolor{keywordflow}{return} m\_constantThickness.getValue();}
\DoxyCodeLine{00284   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a5c248a1771b62dfa199d741cdd641d63}\label{class_vector_selection_tool_a5c248a1771b62dfa199d741cdd641d63}} 
\index{VectorSelectionTool@{VectorSelectionTool}!isDragging@{isDragging}}
\index{isDragging@{isDragging}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{isDragging()}{isDragging()}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::is\+Dragging (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01999                                            \{}
\DoxyCodeLine{02000   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_tool_a3552ce52afc39fffcab0492daf72ed16}{m\_enabled}} \&\& m\_leftButtonMousePressed;}
\DoxyCodeLine{02001 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a8d523b22ded4e8969c4061c85f587388}\label{class_vector_selection_tool_a8d523b22ded4e8969c4061c85f587388}} 
\index{VectorSelectionTool@{VectorSelectionTool}!isLevelType@{isLevelType}}
\index{isLevelType@{isLevelType}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{isLevelType()}{isLevelType()}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::is\+Level\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01302                                             \{}
\DoxyCodeLine{01303   \textcolor{keywordflow}{return} m\_levelSelection.framesMode() == \mbox{\hyperlink{class_level_selection_ae408583c484353d89b3e45a28553c88aa2baa6c659f2bb185e9875a31590d9bf5}{LevelSelection::FRAMES\_ALL}};}
\DoxyCodeLine{01304 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_afb1e6cfe2da30ba05d0cc1414a885175}\label{class_vector_selection_tool_afb1e6cfe2da30ba05d0cc1414a885175}} 
\index{VectorSelectionTool@{VectorSelectionTool}!isModifiableSelectionType@{isModifiableSelectionType}}
\index{isModifiableSelectionType@{isModifiableSelectionType}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{isModifiableSelectionType()}{isModifiableSelectionType()}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::is\+Modifiable\+Selection\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01320                                                           \{}
\DoxyCodeLine{01321   \textcolor{keywordflow}{return} (m\_levelSelection.isEmpty() ||}
\DoxyCodeLine{01322           m\_levelSelection.filter() == \mbox{\hyperlink{class_level_selection_abecf5bfba7944756c2d825f3cdfbe247ae77dedd83fd9f300feac74d449cbdf94}{LevelSelection::SELECTED\_STYLES}});}
\DoxyCodeLine{01323 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a4e397278ddb4e405e393392781e33640}\label{class_vector_selection_tool_a4e397278ddb4e405e393392781e33640}} 
\index{VectorSelectionTool@{VectorSelectionTool}!isSameStyleType@{isSameStyleType}}
\index{isSameStyleType@{isSameStyleType}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{isSameStyleType()}{isSameStyleType()}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::is\+Same\+Style\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01314                                                 \{}
\DoxyCodeLine{01315   \textcolor{keywordflow}{return} m\_levelSelection.filter() == \mbox{\hyperlink{class_level_selection_abecf5bfba7944756c2d825f3cdfbe247ae77dedd83fd9f300feac74d449cbdf94}{LevelSelection::SELECTED\_STYLES}};}
\DoxyCodeLine{01316 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a33e88c64b95c00c7b0ccc7a130bea1c7}\label{class_vector_selection_tool_a33e88c64b95c00c7b0ccc7a130bea1c7}} 
\index{VectorSelectionTool@{VectorSelectionTool}!isSelectedFramesType@{isSelectedFramesType}}
\index{isSelectedFramesType@{isSelectedFramesType}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{isSelectedFramesType()}{isSelectedFramesType()}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::is\+Selected\+Frames\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01308                                                      \{}
\DoxyCodeLine{01309   \textcolor{keywordflow}{return} m\_levelSelection.framesMode() == \mbox{\hyperlink{class_level_selection_ae408583c484353d89b3e45a28553c88aabea94f5ee96be3d5c183caee276a74df}{LevelSelection::FRAMES\_SELECTED}};}
\DoxyCodeLine{01310 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a3c45b62b6ce0fbfb3cffed3935a6dec8}\label{class_vector_selection_tool_a3c45b62b6ce0fbfb3cffed3935a6dec8}} 
\index{VectorSelectionTool@{VectorSelectionTool}!isSelectionEditable@{isSelectionEditable}}
\index{isSelectionEditable@{isSelectionEditable}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{isSelectionEditable()}{isSelectionEditable()}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::is\+Selection\+Editable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00315 \{ \textcolor{keywordflow}{return} m\_strokeSelection.isEditable(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a8f5b58d03921683d22f124389d49049b}\label{class_vector_selection_tool_a8f5b58d03921683d22f124389d49049b}} 
\index{VectorSelectionTool@{VectorSelectionTool}!isSelectionEmpty@{isSelectionEmpty}}
\index{isSelectionEmpty@{isSelectionEmpty}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{isSelectionEmpty()}{isSelectionEmpty()}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::is\+Selection\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01807                                            \{}
\DoxyCodeLine{01808   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi =}
\DoxyCodeLine{01809       \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});  \textcolor{comment}{// We want at least current image to be visible.}}
\DoxyCodeLine{01810   \textcolor{keywordflow}{if} (!vi)              \textcolor{comment}{// This is somewhat in line to preventing tool actions}}
\DoxyCodeLine{01811     \textcolor{keywordflow}{return} \textcolor{keyword}{true};        \textcolor{comment}{// on non-\/visible levels.}}
\DoxyCodeLine{01812 }
\DoxyCodeLine{01813   \textcolor{keywordflow}{return} m\_strokeSelection}
\DoxyCodeLine{01814       .isEmpty();  \textcolor{comment}{// Same here, something should be visibly selected.}}
\DoxyCodeLine{01815 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a2dcb6f2c99b1268e7e8effe0476d733c}\label{class_vector_selection_tool_a2dcb6f2c99b1268e7e8effe0476d733c}} 
\index{VectorSelectionTool@{VectorSelectionTool}!leftButtonDoubleClick@{leftButtonDoubleClick}}
\index{leftButtonDoubleClick@{leftButtonDoubleClick}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDoubleClick()}{leftButtonDoubleClick()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::left\+Button\+Double\+Click (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01529                                                                       \{}
\DoxyCodeLine{01530   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01531   \textcolor{keywordflow}{if} (!vi) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01532 }
\DoxyCodeLine{01533   \textcolor{keywordflow}{if} (m\_strokeSelectionType.getIndex() == POLYLINE\_SELECTION\_IDX \&\&}
\DoxyCodeLine{01534       !m\_polyline.empty()) \{}
\DoxyCodeLine{01535     \mbox{\hyperlink{class_selection_tool_a1556a79760dc71939d18011cf223a2b0}{closePolyline}}(pos);}
\DoxyCodeLine{01536     selectRegionVectorImage(m\_includeIntersection.getValue());}
\DoxyCodeLine{01537 }
\DoxyCodeLine{01538     m\_selecting = \textcolor{keyword}{false};}
\DoxyCodeLine{01539     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01540 }
\DoxyCodeLine{01541     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01542   \}}
\DoxyCodeLine{01543 }
\DoxyCodeLine{01544   \textcolor{keywordtype}{int} strokeIndex;}
\DoxyCodeLine{01545   \textcolor{keywordflow}{if} ((strokeIndex = vi-\/>pickGroup(pos)) >= 0) \{}
\DoxyCodeLine{01546     \textcolor{keywordflow}{if} (vi-\/>canEnterGroup(strokeIndex) \&\& m\_canEnterGroup) \{}
\DoxyCodeLine{01547       \textcolor{keywordflow}{if} (vi-\/>enterGroup(strokeIndex)) \{}
\DoxyCodeLine{01548         clearSelectedStrokes();}
\DoxyCodeLine{01549         TUndoManager::manager()-\/>add(\textcolor{keyword}{new} UndoEnterGroup(vi, strokeIndex));}
\DoxyCodeLine{01550       \}}
\DoxyCodeLine{01551     \}}
\DoxyCodeLine{01552   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((strokeIndex = vi-\/>exitGroup()) >= 0)}
\DoxyCodeLine{01553     TUndoManager::manager()-\/>add(\textcolor{keyword}{new} UndoExitGroup(vi, strokeIndex));}
\DoxyCodeLine{01554 }
\DoxyCodeLine{01555   finalizeSelection();}
\DoxyCodeLine{01556   \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01557 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_ad937a227381fe5247adc16aeb288344d}\label{class_vector_selection_tool_ad937a227381fe5247adc16aeb288344d}} 
\index{VectorSelectionTool@{VectorSelectionTool}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01626                                                                \{}
\DoxyCodeLine{01627   \textcolor{keywordflow}{if} (getViewer() \&\& getViewer()-\/>getGuidedStrokePickerMode()) \{}
\DoxyCodeLine{01628     getViewer()-\/>doPickGuideStroke(pos);}
\DoxyCodeLine{01629     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01630   \}}
\DoxyCodeLine{01631 }
\DoxyCodeLine{01632   SelectionTool::leftButtonDown(pos, e);}
\DoxyCodeLine{01633 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a19a09f093f0209df601d09c4143f2a8f}\label{class_vector_selection_tool_a19a09f093f0209df601d09c4143f2a8f}} 
\index{VectorSelectionTool@{VectorSelectionTool}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01562                                                                \{}
\DoxyCodeLine{01563   \textcolor{keywordflow}{if} (m\_dragTool) \{}
\DoxyCodeLine{01564     \textcolor{keywordflow}{if} (!m\_strokeSelection.isEditable()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01565 }
\DoxyCodeLine{01566     m\_dragTool-\/>leftButtonDrag(pos, e);}
\DoxyCodeLine{01567     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01568   \}}
\DoxyCodeLine{01569 }
\DoxyCodeLine{01570   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01571   \textcolor{keywordflow}{if} (!vi) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01572 }
\DoxyCodeLine{01573   \textcolor{keywordtype}{double} pixelSize        = getPixelSize();}
\DoxyCodeLine{01574   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{01575   \textcolor{keywordflow}{if} (!app || m\_justSelected || !m\_selecting ||}
\DoxyCodeLine{01576       tdistance2(pos, m\_curPos) < 9.0 * pixelSize * pixelSize)}
\DoxyCodeLine{01577     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01578 }
\DoxyCodeLine{01579   m\_curPos = pos;}
\DoxyCodeLine{01580 }
\DoxyCodeLine{01581   \textcolor{keywordflow}{if} (m\_strokeSelectionType.getIndex() == FREEHAND\_SELECTION\_IDX) \{}
\DoxyCodeLine{01582     \mbox{\hyperlink{class_selection_tool_aa81b2073bde08fd3872ee2fa185fbe1e}{freehandDrag}}(pos);}
\DoxyCodeLine{01583     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01584   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_strokeSelectionType.getIndex() == RECT\_SELECTION\_IDX) \{}
\DoxyCodeLine{01585     \textcolor{keywordtype}{bool} selectOverlappingStroke = (m\_firstPos.x > pos.x);}
\DoxyCodeLine{01586 }
\DoxyCodeLine{01587     \mbox{\hyperlink{class_t_rect_t}{TRectD}} rect(m\_firstPos, pos);}
\DoxyCodeLine{01588     m\_selectingRect = rect;}
\DoxyCodeLine{01589 }
\DoxyCodeLine{01590     std::set<int> oldSelection;}
\DoxyCodeLine{01591     \textcolor{keywordflow}{if} (m\_shiftPressed) oldSelection = m\_strokeSelection.getSelection();}
\DoxyCodeLine{01592 }
\DoxyCodeLine{01593     clearSelectedStrokes();}
\DoxyCodeLine{01594 }
\DoxyCodeLine{01595     QMutexLocker lock(vi-\/>getMutex());}
\DoxyCodeLine{01596 }
\DoxyCodeLine{01597     m\_strokeSelection.setImage(vi);  \textcolor{comment}{// >\_<  Shouldn't be done here...?}}
\DoxyCodeLine{01598 }
\DoxyCodeLine{01599     \textcolor{keywordtype}{bool} selectionChanged = \textcolor{keyword}{false};}
\DoxyCodeLine{01600 }
\DoxyCodeLine{01601     \textcolor{keywordtype}{int} s, sCount = vi-\/>getStrokeCount();}
\DoxyCodeLine{01602     \textcolor{keywordflow}{for} (s = 0; s != sCount; ++s) \{}
\DoxyCodeLine{01603       \textcolor{keywordflow}{if} (!vi-\/>isEnteredGroupStroke(s)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01604 }
\DoxyCodeLine{01605       \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = vi-\/>getStroke(s);}
\DoxyCodeLine{01606 }
\DoxyCodeLine{01607       \textcolor{keywordflow}{if} (m\_strokeSelection.isSelected(s)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01608 }
\DoxyCodeLine{01609       \textcolor{keywordtype}{bool} inSelection = selectOverlappingStroke}
\DoxyCodeLine{01610                              ? rect.overlaps(stroke-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}())}
\DoxyCodeLine{01611                              : rect.contains(stroke-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}());}
\DoxyCodeLine{01612 }
\DoxyCodeLine{01613       \textcolor{keywordflow}{if} (inSelection || (m\_shiftPressed \&\& oldSelection.count(s)))}
\DoxyCodeLine{01614         selectionChanged = (selectStroke(s, \textcolor{keyword}{false}) || selectionChanged);}
\DoxyCodeLine{01615     \}}
\DoxyCodeLine{01616 }
\DoxyCodeLine{01617     \textcolor{keywordflow}{if} (selectionChanged) finalizeSelection();}
\DoxyCodeLine{01618 }
\DoxyCodeLine{01619     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01620   \}}
\DoxyCodeLine{01621 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a4d1c1b9ef062e5f4f01dfcc241a768c8}\label{class_vector_selection_tool_a4d1c1b9ef062e5f4f01dfcc241a768c8}} 
\index{VectorSelectionTool@{VectorSelectionTool}!leftButtonUp@{leftButtonUp}}
\index{leftButtonUp@{leftButtonUp}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{leftButtonUp()}{leftButtonUp()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::left\+Button\+Up (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01638                                                              \{}
\DoxyCodeLine{01639   m\_leftButtonMousePressed = \textcolor{keyword}{false};}
\DoxyCodeLine{01640   m\_shiftPressed           = \textcolor{keyword}{false};}
\DoxyCodeLine{01641 }
\DoxyCodeLine{01642   \textcolor{keywordflow}{if} (m\_dragTool) \{}
\DoxyCodeLine{01643     \textcolor{keywordflow}{if} (!m\_strokeSelection.isEditable()) \{}
\DoxyCodeLine{01644       \textcolor{keyword}{delete} m\_dragTool;}
\DoxyCodeLine{01645       m\_dragTool = 0;}
\DoxyCodeLine{01646       \textcolor{keywordflow}{return};}
\DoxyCodeLine{01647     \}}
\DoxyCodeLine{01648 }
\DoxyCodeLine{01649     m\_dragTool-\/>leftButtonUp(pos, e);}
\DoxyCodeLine{01650     \textcolor{keyword}{delete} m\_dragTool;}
\DoxyCodeLine{01651     m\_dragTool = 0;}
\DoxyCodeLine{01652     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01653     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01654   \}}
\DoxyCodeLine{01655 }
\DoxyCodeLine{01656   \textcolor{keywordflow}{if} (!m\_selecting) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01657 }
\DoxyCodeLine{01658   \textcolor{comment}{// Complete selection}}
\DoxyCodeLine{01659   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01660 }
\DoxyCodeLine{01661   \textcolor{keywordflow}{if} (vi) \{}
\DoxyCodeLine{01662     \textcolor{keywordflow}{if} (m\_strokeSelectionType.getIndex() == RECT\_SELECTION\_IDX)}
\DoxyCodeLine{01663       notifySelectionChanged();}
\DoxyCodeLine{01664     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_strokeSelectionType.getIndex() == FREEHAND\_SELECTION\_IDX) \{}
\DoxyCodeLine{01665       QMutexLocker lock(vi-\/>getMutex());}
\DoxyCodeLine{01666 }
\DoxyCodeLine{01667       \mbox{\hyperlink{class_selection_tool_a8bfc34fc4d618bc00a7baf8b2345eed3}{closeFreehand}}(pos);}
\DoxyCodeLine{01668 }
\DoxyCodeLine{01669       \textcolor{keywordflow}{if} (m\_stroke-\/>\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}() > 3)}
\DoxyCodeLine{01670         selectRegionVectorImage(m\_includeIntersection.getValue());}
\DoxyCodeLine{01671 }
\DoxyCodeLine{01672       \textcolor{keyword}{delete} m\_stroke;  \textcolor{comment}{// >:(}}
\DoxyCodeLine{01673       m\_stroke = 0;}
\DoxyCodeLine{01674       m\_track.\mbox{\hyperlink{class_stroke_generator_a4a78460714a37e461296d169715ba460}{clear}}();}
\DoxyCodeLine{01675     \}}
\DoxyCodeLine{01676   \}}
\DoxyCodeLine{01677 }
\DoxyCodeLine{01678   m\_selecting    = \textcolor{keyword}{false};}
\DoxyCodeLine{01679   m\_justSelected = \textcolor{keyword}{false};}
\DoxyCodeLine{01680   \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01681 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a34bc0f198a3d3f142dcd3f2ea2f2d2e8}\label{class_vector_selection_tool_a34bc0f198a3d3f142dcd3f2ea2f2d2e8}} 
\index{VectorSelectionTool@{VectorSelectionTool}!levelSelection@{levelSelection}}
\index{levelSelection@{levelSelection}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{levelSelection()}{levelSelection()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_level_selection}{Level\+Selection}} \& Vector\+Selection\+Tool\+::level\+Selection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00301 \{ \textcolor{keywordflow}{return} m\_levelSelection; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a97062074cc7f3ef879d907b267ce5806}\label{class_vector_selection_tool_a97062074cc7f3ef879d907b267ce5806}} 
\index{VectorSelectionTool@{VectorSelectionTool}!onActivate@{onActivate}}
\index{onActivate@{onActivate}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{onActivate()}{onActivate()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::on\+Activate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Callback invoked whenever the tool activates. 



Reimplemented from \mbox{\hyperlink{class_selection_tool_abee6387f8a780096576933bf18d5d4b3}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01934                                      \{}
\DoxyCodeLine{01935   \textcolor{keywordflow}{if} (m\_firstTime) \{}
\DoxyCodeLine{01936     m\_includeIntersection.setValue(l\_strokeSelectIncludeIntersection ? 1 : 0);}
\DoxyCodeLine{01937     m\_constantThickness.setValue(l\_strokeSelectConstantThickness ? 1 : 0);}
\DoxyCodeLine{01938     m\_strokeSelection.setSceneHandle(}
\DoxyCodeLine{01939         TTool::getApplication()-\/>getCurrentScene());}
\DoxyCodeLine{01940   \}}
\DoxyCodeLine{01941 }
\DoxyCodeLine{01942   \mbox{\hyperlink{class_selection_tool_abee6387f8a780096576933bf18d5d4b3}{SelectionTool::onActivate}}();}
\DoxyCodeLine{01943 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01296}{Selection\+Tool\+::on\+Activate()}}.

\mbox{\Hypertarget{class_vector_selection_tool_a0d696c91cd1c64bbd4077cb79c7b2d6b}\label{class_vector_selection_tool_a0d696c91cd1c64bbd4077cb79c7b2d6b}} 
\index{VectorSelectionTool@{VectorSelectionTool}!onDeactivate@{onDeactivate}}
\index{onDeactivate@{onDeactivate}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{onDeactivate()}{onDeactivate()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::on\+Deactivate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Callback for tool deactivation, includes tool switch. 



Reimplemented from \mbox{\hyperlink{class_selection_tool_ae346e39d04945bfb8a27fd4a530d110b}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01947                                        \{}
\DoxyCodeLine{01948   \textcolor{keywordflow}{if} (isLevelType()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01949 }
\DoxyCodeLine{01950   \mbox{\hyperlink{class_selection_tool_ae346e39d04945bfb8a27fd4a530d110b}{SelectionTool::onDeactivate}}();}
\DoxyCodeLine{01951 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01308}{Selection\+Tool\+::on\+Deactivate()}}.

\mbox{\Hypertarget{class_vector_selection_tool_a021fc8aabe068a494a4cd50cd22ea86f}\label{class_vector_selection_tool_a021fc8aabe068a494a4cd50cd22ea86f}} 
\index{VectorSelectionTool@{VectorSelectionTool}!onImageChanged@{onImageChanged}}
\index{onImageChanged@{onImageChanged}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{onImageChanged()}{onImageChanged()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::on\+Image\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Notifies changes in the image in use. 



Implements \mbox{\hyperlink{class_selection_tool_a5ea1e5cda592831a8f40e3db766de94c}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01967                                          \{}
\DoxyCodeLine{01968   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi          = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01969   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} selectedImg = m\_strokeSelection.getImage();}
\DoxyCodeLine{01970 }
\DoxyCodeLine{01971   \textcolor{keywordflow}{if} (vi != selectedImg) \{}
\DoxyCodeLine{01972     m\_strokeSelection.selectNone();}
\DoxyCodeLine{01973     m\_strokeSelection.setImage(vi);}
\DoxyCodeLine{01974 }
\DoxyCodeLine{01975     \textcolor{keywordflow}{if} (!(vi \&\& selectedImg)  \textcolor{comment}{// Retain the styles selection ONLY}}
\DoxyCodeLine{01976         || vi-\/>getPalette() !=}
\DoxyCodeLine{01977                selectedImg-\/>getPalette())  \textcolor{comment}{// if palettes still match}}
\DoxyCodeLine{01978       selectedStyles().clear();}
\DoxyCodeLine{01979   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01980     \textcolor{comment}{// Remove any eventual stroke index outside the valid range}}
\DoxyCodeLine{01981     \textcolor{keywordflow}{if} (!m\_strokeSelection.isEmpty()) \{}
\DoxyCodeLine{01982       \textcolor{keyword}{const} std::set<int> \&indexes = m\_strokeSelection.getSelection();}
\DoxyCodeLine{01983       \textcolor{keywordtype}{int} strokesCount             = selectedImg-\/>getStrokeCount();}
\DoxyCodeLine{01984 }
\DoxyCodeLine{01985       std::set<int>::const\_iterator it;}
\DoxyCodeLine{01986       \textcolor{keywordflow}{for} (it = indexes.begin(); it != indexes.end(); ++it) \{}
\DoxyCodeLine{01987         \textcolor{keywordtype}{int} index = *it;}
\DoxyCodeLine{01988 }
\DoxyCodeLine{01989         \textcolor{keywordflow}{if} (index >= strokesCount) m\_strokeSelection.select(index, \textcolor{keyword}{false});}
\DoxyCodeLine{01990       \}}
\DoxyCodeLine{01991     \}}
\DoxyCodeLine{01992   \}}
\DoxyCodeLine{01993 }
\DoxyCodeLine{01994   finalizeSelection();}
\DoxyCodeLine{01995 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a4db988c389e5c8afd7ff6b7f73e32e62}\label{class_vector_selection_tool_a4db988c389e5c8afd7ff6b7f73e32e62}} 
\index{VectorSelectionTool@{VectorSelectionTool}!onPropertyChanged@{onPropertyChanged}}
\index{onPropertyChanged@{onPropertyChanged}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{onPropertyChanged()}{onPropertyChanged()}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::on\+Property\+Changed (\begin{DoxyParamCaption}\item[{std\+::string}]{property\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} Does the tasks associated to changes in \p propertyName and returns \p
\end{DoxyVerb}
 true; Does the tasks associated to changes in {\ttfamily property\+Name} and returns {\ttfamily true}. 

Reimplemented from \mbox{\hyperlink{class_selection_tool_ab75a88cb099f2bd7f33333a203de0578}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02032                                                                   \{}
\DoxyCodeLine{02033   \textcolor{keywordflow}{if} (!m\_strokeSelection.isEditable()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{02034 }
\DoxyCodeLine{02035   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_selection_tool_ab75a88cb099f2bd7f33333a203de0578}{SelectionTool::onPropertyChanged}}(propertyName)) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{02036 }
\DoxyCodeLine{02037   \textcolor{keywordflow}{if} (propertyName == m\_includeIntersection.getName())}
\DoxyCodeLine{02038     l\_strokeSelectIncludeIntersection = (int)(m\_includeIntersection.getValue());}
\DoxyCodeLine{02039   \textcolor{keywordflow}{if} (propertyName == m\_constantThickness.getName())}
\DoxyCodeLine{02040     l\_strokeSelectConstantThickness = (\textcolor{keywordtype}{int})(m\_constantThickness.getValue());}
\DoxyCodeLine{02041   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_selectionTarget.getName())}
\DoxyCodeLine{02042     doOnActivate();}
\DoxyCodeLine{02043   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_capStyle.getName()) \{}
\DoxyCodeLine{02044     \textcolor{keywordflow}{if} (m\_strokeSelection.isEmpty()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{02045 }
\DoxyCodeLine{02046     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *level =}
\DoxyCodeLine{02047         TTool::getApplication()-\/>getCurrentLevel()-\/>getSimpleLevel();}
\DoxyCodeLine{02048     \mbox{\hyperlink{class_undo_change_outline_style}{UndoChangeOutlineStyle}} *undo =}
\DoxyCodeLine{02049         \textcolor{keyword}{new} \mbox{\hyperlink{class_undo_change_outline_style}{UndoChangeOutlineStyle}}(level, \mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}(), \textcolor{keyword}{this});}
\DoxyCodeLine{02050 }
\DoxyCodeLine{02051     \textcolor{keywordtype}{int} newCapStyle = m\_capStyle.getIndex();}
\DoxyCodeLine{02052 }
\DoxyCodeLine{02053     \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = m\_strokeSelection.getImage();}
\DoxyCodeLine{02054 }
\DoxyCodeLine{02055     \textcolor{keyword}{const} std::set<int> \&indices = m\_strokeSelection.getSelection();}
\DoxyCodeLine{02056 }
\DoxyCodeLine{02057     std::set<int>::iterator it;}
\DoxyCodeLine{02058     \textcolor{keywordflow}{for} (it = indices.begin(); it != indices.end(); ++it) \{}
\DoxyCodeLine{02059       \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = vi-\/>getStroke(*it);}
\DoxyCodeLine{02060 }
\DoxyCodeLine{02061       stroke-\/>outlineOptions().m\_capStyle =}
\DoxyCodeLine{02062           (TStroke::OutlineOptions::CapStyle)newCapStyle;}
\DoxyCodeLine{02063       stroke-\/>\mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{02064     \}}
\DoxyCodeLine{02065 }
\DoxyCodeLine{02066     computeBBox();}
\DoxyCodeLine{02067     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{02068 }
\DoxyCodeLine{02069     level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{true});}
\DoxyCodeLine{02070 }
\DoxyCodeLine{02071     undo-\/>registerStrokes();}
\DoxyCodeLine{02072     TUndoManager::manager()-\/>add(undo);}
\DoxyCodeLine{02073 }
\DoxyCodeLine{02074     \mbox{\hyperlink{class_t_tool_abd1824e9b49705c534e0a773305294c4}{notifyImageChanged}}();}
\DoxyCodeLine{02075   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_joinStyle.getName()) \{}
\DoxyCodeLine{02076     \textcolor{keywordflow}{if} (m\_strokeSelection.isEmpty()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{02077 }
\DoxyCodeLine{02078     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *level =}
\DoxyCodeLine{02079         TTool::getApplication()-\/>getCurrentLevel()-\/>getSimpleLevel();}
\DoxyCodeLine{02080     \mbox{\hyperlink{class_undo_change_outline_style}{UndoChangeOutlineStyle}} *undo =}
\DoxyCodeLine{02081         \textcolor{keyword}{new} \mbox{\hyperlink{class_undo_change_outline_style}{UndoChangeOutlineStyle}}(level, \mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}(), \textcolor{keyword}{this});}
\DoxyCodeLine{02082 }
\DoxyCodeLine{02083     \textcolor{keywordtype}{int} newJoinStyle = m\_joinStyle.getIndex();}
\DoxyCodeLine{02084 }
\DoxyCodeLine{02085     \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = m\_strokeSelection.getImage();}
\DoxyCodeLine{02086 }
\DoxyCodeLine{02087     \textcolor{keyword}{const} std::set<int> \&indices = m\_strokeSelection.getSelection();}
\DoxyCodeLine{02088 }
\DoxyCodeLine{02089     std::set<int>::iterator it;}
\DoxyCodeLine{02090     \textcolor{keywordflow}{for} (it = indices.begin(); it != indices.end(); ++it) \{}
\DoxyCodeLine{02091       \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = vi-\/>getStroke(*it);}
\DoxyCodeLine{02092 }
\DoxyCodeLine{02093       stroke-\/>outlineOptions().m\_joinStyle =}
\DoxyCodeLine{02094           (TStroke::OutlineOptions::JoinStyle)newJoinStyle;}
\DoxyCodeLine{02095       stroke-\/>\mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{02096     \}}
\DoxyCodeLine{02097 }
\DoxyCodeLine{02098     computeBBox();}
\DoxyCodeLine{02099     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{02100 }
\DoxyCodeLine{02101     level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{true});}
\DoxyCodeLine{02102 }
\DoxyCodeLine{02103     undo-\/>registerStrokes();}
\DoxyCodeLine{02104     TUndoManager::manager()-\/>add(undo);}
\DoxyCodeLine{02105 }
\DoxyCodeLine{02106     \mbox{\hyperlink{class_t_tool_abd1824e9b49705c534e0a773305294c4}{notifyImageChanged}}();}
\DoxyCodeLine{02107   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_miterJoinLimit.getName()) \{}
\DoxyCodeLine{02108     \textcolor{keywordflow}{if} (m\_strokeSelection.isEmpty()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{02109 }
\DoxyCodeLine{02110     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *level =}
\DoxyCodeLine{02111         TTool::getApplication()-\/>getCurrentLevel()-\/>getSimpleLevel();}
\DoxyCodeLine{02112     \mbox{\hyperlink{class_undo_change_outline_style}{UndoChangeOutlineStyle}} *undo =}
\DoxyCodeLine{02113         \textcolor{keyword}{new} \mbox{\hyperlink{class_undo_change_outline_style}{UndoChangeOutlineStyle}}(level, \mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}(), \textcolor{keyword}{this});}
\DoxyCodeLine{02114 }
\DoxyCodeLine{02115     \textcolor{keywordtype}{int} upper = m\_miterJoinLimit.getValue();}
\DoxyCodeLine{02116 }
\DoxyCodeLine{02117     \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = m\_strokeSelection.getImage();}
\DoxyCodeLine{02118 }
\DoxyCodeLine{02119     \textcolor{keyword}{const} std::set<int> \&indices = m\_strokeSelection.getSelection();}
\DoxyCodeLine{02120 }
\DoxyCodeLine{02121     std::set<int>::iterator it;}
\DoxyCodeLine{02122     \textcolor{keywordflow}{for} (it = indices.begin(); it != indices.end(); ++it) \{}
\DoxyCodeLine{02123       \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = vi-\/>getStroke(*it);}
\DoxyCodeLine{02124 }
\DoxyCodeLine{02125       stroke-\/>outlineOptions().m\_miterUpper = upper;}
\DoxyCodeLine{02126       stroke-\/>\mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{02127     \}}
\DoxyCodeLine{02128 }
\DoxyCodeLine{02129     computeBBox();}
\DoxyCodeLine{02130     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{02131 }
\DoxyCodeLine{02132     level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a2d43337766628739707849f8808bf300}{setDirtyFlag}}(\textcolor{keyword}{true});}
\DoxyCodeLine{02133 }
\DoxyCodeLine{02134     undo-\/>registerStrokes();}
\DoxyCodeLine{02135     TUndoManager::manager()-\/>add(undo);}
\DoxyCodeLine{02136 }
\DoxyCodeLine{02137     \mbox{\hyperlink{class_t_tool_abd1824e9b49705c534e0a773305294c4}{notifyImageChanged}}();}
\DoxyCodeLine{02138   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{02139     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{02140 }
\DoxyCodeLine{02141   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{02142 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01606}{TStroke\+::invalidate()}}, \mbox{\hyperlink{l01324}{Selection\+Tool\+::on\+Property\+Changed()}}, and \mbox{\hyperlink{l00320}{TXsh\+Simple\+Level\+::set\+Dirty\+Flag()}}.

\mbox{\Hypertarget{class_vector_selection_tool_af1f30e830c418786023633a95a2d8dc9}\label{class_vector_selection_tool_af1f30e830c418786023633a95a2d8dc9}} 
\index{VectorSelectionTool@{VectorSelectionTool}!onSelectedFramesChanged@{onSelectedFramesChanged}}
\index{onSelectedFramesChanged@{onSelectedFramesChanged}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{onSelectedFramesChanged()}{onSelectedFramesChanged()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::on\+Selected\+Frames\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02245                                                   \{}
\DoxyCodeLine{02246   \textcolor{keywordflow}{if} (isSelectedFramesType())  \textcolor{comment}{// False also in case m\_levelSelection is not}}
\DoxyCodeLine{02247                                \textcolor{comment}{// current}}
\DoxyCodeLine{02248     finalizeSelection();}
\DoxyCodeLine{02249 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a968a36022335af6b547ae7b9fc2fc865}\label{class_vector_selection_tool_a968a36022335af6b547ae7b9fc2fc865}} 
\index{VectorSelectionTool@{VectorSelectionTool}!selectedStyles@{selectedStyles}}
\index{selectedStyles@{selectedStyles}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{selectedStyles()}{selectedStyles()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily std\+::set$<$ int $>$ \& Vector\+Selection\+Tool\+::selected\+Styles (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00293 \{ \textcolor{keywordflow}{return} m\_levelSelection.styles(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_ade62f9eab3766b2cf41d92e6046bc739}\label{class_vector_selection_tool_ade62f9eab3766b2cf41d92e6046bc739}} 
\index{VectorSelectionTool@{VectorSelectionTool}!selectedStyles@{selectedStyles}}
\index{selectedStyles@{selectedStyles}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{selectedStyles()}{selectedStyles()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily const std\+::set$<$ int $>$ \& Vector\+Selection\+Tool\+::selected\+Styles (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00290                                             \{}
\DoxyCodeLine{00291     \textcolor{keywordflow}{return} m\_levelSelection.styles();}
\DoxyCodeLine{00292   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a42147ebaf2c278d69f6236f6a4ab1530}\label{class_vector_selection_tool_a42147ebaf2c278d69f6236f6a4ab1530}} 
\index{VectorSelectionTool@{VectorSelectionTool}!selectionOutlineStyle@{selectionOutlineStyle}}
\index{selectionOutlineStyle@{selectionOutlineStyle}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{selectionOutlineStyle()}{selectionOutlineStyle()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::selection\+Outline\+Style (\begin{DoxyParamCaption}\item[{int \&}]{cap\+Style,  }\item[{int \&}]{join\+Style }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02146                                                                              \{}
\DoxyCodeLine{02147   \textcolor{comment}{// Check the selection's outline style group validity}}
\DoxyCodeLine{02148   \textcolor{keyword}{const} std::set<int> \&selection = m\_strokeSelection.getSelection();}
\DoxyCodeLine{02149   \textcolor{keywordflow}{if} (selection.empty()) \{}
\DoxyCodeLine{02150     capStyle = joinStyle = -\/1;}
\DoxyCodeLine{02151     \textcolor{keywordflow}{return};}
\DoxyCodeLine{02152   \}}
\DoxyCodeLine{02153 }
\DoxyCodeLine{02154   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = m\_strokeSelection.getImage();}
\DoxyCodeLine{02155   \textcolor{keyword}{const} TStroke::OutlineOptions \&beginOptions =}
\DoxyCodeLine{02156       vi-\/>getStroke(*selection.begin())-\/>outlineOptions();}
\DoxyCodeLine{02157 }
\DoxyCodeLine{02158   capStyle  = beginOptions.m\_capStyle;}
\DoxyCodeLine{02159   joinStyle = beginOptions.m\_joinStyle;}
\DoxyCodeLine{02160 }
\DoxyCodeLine{02161   std::set<int>::const\_iterator it;}
\DoxyCodeLine{02162   \textcolor{keywordflow}{for} (it = selection.begin(); it != selection.end(); ++it) \{}
\DoxyCodeLine{02163     \textcolor{keyword}{const} TStroke::OutlineOptions \&options =}
\DoxyCodeLine{02164         vi-\/>getStroke(*it)-\/>outlineOptions();}
\DoxyCodeLine{02165 }
\DoxyCodeLine{02166     \textcolor{keywordflow}{if} (capStyle != options.m\_capStyle) capStyle = -\/1;}
\DoxyCodeLine{02167     \textcolor{keywordflow}{if} (joinStyle != options.m\_joinStyle) joinStyle = -\/1;}
\DoxyCodeLine{02168     \textcolor{keywordflow}{if} (capStyle < 0 \&\& joinStyle < 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02169   \}}
\DoxyCodeLine{02170 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a7edf189a057bc9b96c4f5d8cdc9cd340}\label{class_vector_selection_tool_a7edf189a057bc9b96c4f5d8cdc9cd340}} 
\index{VectorSelectionTool@{VectorSelectionTool}!setCanEnterGroup@{setCanEnterGroup}}
\index{setCanEnterGroup@{setCanEnterGroup}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{setCanEnterGroup()}{setCanEnterGroup()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::set\+Can\+Enter\+Group (\begin{DoxyParamCaption}\item[{bool}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00280 \{ m\_canEnterGroup = value; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a0e483afb2818d8de664491d388ec83b0}\label{class_vector_selection_tool_a0e483afb2818d8de664491d388ec83b0}} 
\index{VectorSelectionTool@{VectorSelectionTool}!setNewFreeDeformer@{setNewFreeDeformer}}
\index{setNewFreeDeformer@{setNewFreeDeformer}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{setNewFreeDeformer()}{setNewFreeDeformer()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::set\+New\+Free\+Deformer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01260                                              \{}
\DoxyCodeLine{01261   clearDeformers();}
\DoxyCodeLine{01262 }
\DoxyCodeLine{01263   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi =}
\DoxyCodeLine{01264       \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{true});  \textcolor{comment}{// BAD: Should not be done at tool creation...}}
\DoxyCodeLine{01265   \textcolor{keywordflow}{if} (!vi) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01266 }
\DoxyCodeLine{01267   \textcolor{comment}{// Current freeDeformer always at index 0}}
\DoxyCodeLine{01268   m\_freeDeformers.push\_back(}
\DoxyCodeLine{01269       \textcolor{keyword}{new} \mbox{\hyperlink{class_vector_free_deformer}{VectorFreeDeformer}}(vi, m\_strokeSelection.getSelection()));}
\DoxyCodeLine{01270 }
\DoxyCodeLine{01271   \textcolor{keywordflow}{if} (isLevelType() || isSelectedFramesType()) \{}
\DoxyCodeLine{01272     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *level =}
\DoxyCodeLine{01273         TTool::getApplication()-\/>getCurrentLevel()-\/>getSimpleLevel();}
\DoxyCodeLine{01274 }
\DoxyCodeLine{01275     \textcolor{comment}{// All SELECTED frames' subsequent freeDeformers are stored sequentially}}
\DoxyCodeLine{01276     \textcolor{comment}{// after that}}
\DoxyCodeLine{01277     std::vector<TFrameId> fids;}
\DoxyCodeLine{01278     level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a567daee4ca12a0e92445bcf98a6541f1}{getFids}}(fids);}
\DoxyCodeLine{01279 }
\DoxyCodeLine{01280     fids.erase(std::remove\_if(}
\DoxyCodeLine{01281                    fids.begin(), fids.end(),}
\DoxyCodeLine{01282                    boost::bind(::currentOrNotSelected, boost::cref(*\textcolor{keyword}{this}), \_1)),}
\DoxyCodeLine{01283                fids.end());}
\DoxyCodeLine{01284 }
\DoxyCodeLine{01285     std::vector<TFrameId>::iterator ft, fEnd = fids.end();}
\DoxyCodeLine{01286     \textcolor{keywordflow}{for} (ft = fids.begin(); ft != fEnd; ++ft) \{}
\DoxyCodeLine{01287       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} levelVi = level-\/>getFrame(*ft, \textcolor{keyword}{false})) \{}
\DoxyCodeLine{01288         \textcolor{keyword}{const} std::vector<int> \&selectedStrokeIdxs =}
\DoxyCodeLine{01289             ::getSelectedStrokes(*levelVi, m\_levelSelection);}
\DoxyCodeLine{01290         std::set<int> strokesIndices(selectedStrokeIdxs.begin(),}
\DoxyCodeLine{01291                                      selectedStrokeIdxs.end());}
\DoxyCodeLine{01292 }
\DoxyCodeLine{01293         m\_freeDeformers.push\_back(}
\DoxyCodeLine{01294             \textcolor{keyword}{new} \mbox{\hyperlink{class_vector_free_deformer}{VectorFreeDeformer}}(levelVi, strokesIndices));}
\DoxyCodeLine{01295       \}}
\DoxyCodeLine{01296     \}}
\DoxyCodeLine{01297   \}}
\DoxyCodeLine{01298 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_acff812fa2ab3603257be35786cb6e22b}\label{class_vector_selection_tool_acff812fa2ab3603257be35786cb6e22b}} 
\index{VectorSelectionTool@{VectorSelectionTool}!setResetCenter@{setResetCenter}}
\index{setResetCenter@{setResetCenter}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{setResetCenter()}{setResetCenter()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::set\+Reset\+Center (\begin{DoxyParamCaption}\item[{bool}]{update }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00312 \{ m\_resetCenter = update; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a01a7b98e6b31a8aa455668b9658f18ac}\label{class_vector_selection_tool_a01a7b98e6b31a8aa455668b9658f18ac}} 
\index{VectorSelectionTool@{VectorSelectionTool}!strokeSelection@{strokeSelection}}
\index{strokeSelection@{strokeSelection}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{strokeSelection()}{strokeSelection()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_stroke_selection}{Stroke\+Selection}} \& Vector\+Selection\+Tool\+::stroke\+Selection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00299 \{ \textcolor{keywordflow}{return} m\_strokeSelection; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_vector_selection_tool_a390415466b952dbb360d2ddc20ccb714}\label{class_vector_selection_tool_a390415466b952dbb360d2ddc20ccb714}} 
\index{VectorSelectionTool@{VectorSelectionTool}!updateAction@{updateAction}}
\index{updateAction@{updateAction}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{updateAction()}{updateAction()}}
{\footnotesize\ttfamily void Vector\+Selection\+Tool\+::update\+Action (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_point_t}{TPointD}}}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_selection_tool}{Selection\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{02219                                                                         \{}
\DoxyCodeLine{02220   \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} image    = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{02221   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi = (\mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}})image;}
\DoxyCodeLine{02222   \textcolor{keywordflow}{if} (!vi) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02223 }
\DoxyCodeLine{02224   SelectionTool::updateAction(pos, e);}
\DoxyCodeLine{02225   \textcolor{keywordflow}{if} (m\_what != Outside || m\_cursorId != ToolCursor::StrokeSelectCursor) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02226 }
\DoxyCodeLine{02227   \textcolor{keywordflow}{if} (!m\_strokeSelection.isEditable()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{02228 }
\DoxyCodeLine{02229   \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{FourPoints}} bbox = getBBox();}
\DoxyCodeLine{02230   UINT index      = 0;}
\DoxyCodeLine{02231 }
\DoxyCodeLine{02232   \textcolor{keywordflow}{if} ((isLevelType() \&\&}
\DoxyCodeLine{02233        bbox.contains(pos))  \textcolor{comment}{// What about isSelectedFramesType()??}}
\DoxyCodeLine{02234       || (getStrokeIndexFromPos(index, vi, pos, getPixelSize(),}
\DoxyCodeLine{02235                                 getViewer()-\/>getViewMatrix()) \&\&}
\DoxyCodeLine{02236           m\_strokeSelection.isSelected(index))) \{}
\DoxyCodeLine{02237     m\_what = Inside;}
\DoxyCodeLine{02238     m\_cursorId =}
\DoxyCodeLine{02239         isLevelType() ? ToolCursor::LevelSelectCursor : ToolCursor::MoveCursor;}
\DoxyCodeLine{02240   \}}
\DoxyCodeLine{02241 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_vector_selection_tool_a6d39bfae678125cce4b43ec573b6c294}\label{class_vector_selection_tool_a6d39bfae678125cce4b43ec573b6c294}} 
\index{VectorSelectionTool@{VectorSelectionTool}!m\_resetCenter@{m\_resetCenter}}
\index{m\_resetCenter@{m\_resetCenter}!VectorSelectionTool@{VectorSelectionTool}}
\doxysubsubsection{\texorpdfstring{m\_resetCenter}{m\_resetCenter}}
{\footnotesize\ttfamily bool Vector\+Selection\+Tool\+::m\+\_\+reset\+Center}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/vectorselectiontool.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/vectorselectiontool.\+cpp\end{DoxyCompactItemize}
