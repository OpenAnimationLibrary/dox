\hypertarget{class_onion_skin_mask}{}\doxysection{Onion\+Skin\+Mask Class Reference}
\label{class_onion_skin_mask}\index{OnionSkinMask@{OnionSkinMask}}


{\ttfamily \#include $<$onionskinmask.\+h$>$}

\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries Shift\+Trace\+Status} \{ {\bfseries DISABLED}
, {\bfseries EDITING\+\_\+\+GHOST}
, {\bfseries ENABLED}
, {\bfseries ENABLED\+\_\+\+WITHOUT\+\_\+\+GHOST\+\_\+\+MOVEMENTS}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_onion_skin_mask_a879a407dfeed56fad7468ae1d65517ce}{clear}} ()
\item 
void \mbox{\hyperlink{class_onion_skin_mask_a9e64f221d9750268f449668afb614c11}{get\+All}} (int current\+Row, std\+::vector$<$ int $>$ \&output) const
\begin{DoxyCompactList}\small\item\em Fills in the output vector with the absolute frames to be onion-\/skinned. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_onion_skin_mask_a08b242aaeb38bbb2e1159f56f56242ce}{get\+Mos\+Count}} () const
\begin{DoxyCompactList}\small\item\em Returns the Mobile OS frames count. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_onion_skin_mask_a23336c6bb8485bc8105b81347dca27fd}{get\+Fos\+Count}} () const
\begin{DoxyCompactList}\small\item\em Returns the Fixed OS frames count. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_onion_skin_mask_a259c51920c49aedc63e6328a421130ca}{get\+Mos}} (int index) const
\item 
int \mbox{\hyperlink{class_onion_skin_mask_ac2444c7cb8fa5045dc5a3eb5204a7c11}{get\+Fos}} (int index) const
\item 
void \mbox{\hyperlink{class_onion_skin_mask_a52cefe9a23f99c469ac6df66bf5555ab}{set\+Mos}} (int drow, bool on)
\item 
void \mbox{\hyperlink{class_onion_skin_mask_abec0776ab067027858d7c7a8c27f1b59}{set\+Fos}} (int row, bool on)
\begin{DoxyCompactList}\small\item\em Sets a Fixed OS frame to the specified xsheet row. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_onion_skin_mask_a0a842247cfb11da013de72368ac2e8de}{is\+Mos}} (int drow) const
\item 
bool \mbox{\hyperlink{class_onion_skin_mask_a2e4e76684d1498a8615693abc9d392b6}{is\+Fos}} (int row) const
\item 
bool \mbox{\hyperlink{class_onion_skin_mask_af31e2cf75dae0535485ba6d877102b4b}{get\+Mos\+Range}} (int \&drow0, int \&drow1) const
\item 
bool \mbox{\hyperlink{class_onion_skin_mask_a92856b69a98867202bea5b0f53e1c226}{is\+Empty}} () const
\item 
bool \mbox{\hyperlink{class_onion_skin_mask_a9a984836a8d00b7abfcd97b326533b76}{is\+Enabled}} () const
\item 
void \mbox{\hyperlink{class_onion_skin_mask_ade088772ded5e30e771dc3917c401feb}{enable}} (bool on)
\item 
bool \mbox{\hyperlink{class_onion_skin_mask_a581571c5b819e13ad09acdda2b26d467}{is\+Whole\+Scene}} () const
\item 
void \mbox{\hyperlink{class_onion_skin_mask_a94662aa3bb3fece27d462c6fb6f68907}{set\+Is\+Whole\+Scene}} (bool whole\+Scene)
\item 
Shift\+Trace\+Status \mbox{\hyperlink{class_onion_skin_mask_a90b40aad94c7524b07e9a5db1b6864ab}{get\+Shift\+Trace\+Status}} () const
\item 
void \mbox{\hyperlink{class_onion_skin_mask_a7e2176673b45fb090abd38560cd3514c}{set\+Shift\+Trace\+Status}} (Shift\+Trace\+Status status)
\item 
bool \mbox{\hyperlink{class_onion_skin_mask_a7a3e495a9cb71f3dc848b4e4d9f5eaad}{is\+Shift\+Trace\+Enabled}} () const
\item 
const \mbox{\hyperlink{class_t_affine}{TAffine}} \mbox{\hyperlink{class_onion_skin_mask_a511c7b9ce7547fb641250028934581f5}{get\+Shift\+Trace\+Ghost\+Aff}} (int index) const
\item 
void \mbox{\hyperlink{class_onion_skin_mask_af10b101943a75136160da481ff278c57}{set\+Shift\+Trace\+Ghost\+Aff}} (int index, const \mbox{\hyperlink{class_t_affine}{TAffine}} \&aff)
\item 
const \mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_onion_skin_mask_ac87077ae446e3669b81f187444a83131}{get\+Shift\+Trace\+Ghost\+Center}} (int index) const
\item 
void \mbox{\hyperlink{class_onion_skin_mask_a3ec9850fb8db488e5c2eeb8f019ab580}{set\+Shift\+Trace\+Ghost\+Center}} (int index, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&center)
\item 
const int \mbox{\hyperlink{class_onion_skin_mask_a2a8a5fffeea566281b08b7ff9d736b5d}{get\+Shift\+Trace\+Ghost\+Frame\+Offset}} (int index)
\item 
void \mbox{\hyperlink{class_onion_skin_mask_a57fbdd802814e4efd4f942a6ce983c4c}{set\+Shift\+Trace\+Ghost\+Frame\+Offset}} (int index, int offset)
\item 
const int \mbox{\hyperlink{class_onion_skin_mask_afbea4a2b6152a0f49c1a48ca39504ccb}{get\+Ghost\+Flip\+Key}} ()
\item 
void \mbox{\hyperlink{class_onion_skin_mask_a4de794689ac58fcbc0d1e330c9cb3c5b}{append\+Ghost\+Flip\+Key}} (int key)
\item 
void \mbox{\hyperlink{class_onion_skin_mask_aa31705c276db8b1724fb5fa75b22d29e}{remove\+Ghost\+Flip\+Key}} (int key)
\item 
void \mbox{\hyperlink{class_onion_skin_mask_a2712990c537a4860e53f2c1f59c6f059}{clear\+Ghost\+Flip\+Key}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static double \mbox{\hyperlink{class_onion_skin_mask_a6a4c72b75d213e6a3fca82092a520824}{get\+Onion\+Skin\+Fade}} (int distance)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{class_onion_skin_mask}{Onion\+Skin\+Mask}} is the class encapsulating onion skin data in Toonz. 

\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_onion_skin_mask_a489ab5d923c79400143d777af0f3019f}\label{class_onion_skin_mask_a489ab5d923c79400143d777af0f3019f}} 
\index{OnionSkinMask@{OnionSkinMask}!ShiftTraceStatus@{ShiftTraceStatus}}
\index{ShiftTraceStatus@{ShiftTraceStatus}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{ShiftTraceStatus}{ShiftTraceStatus}}
{\footnotesize\ttfamily enum Onion\+Skin\+Mask\+::\+Shift\+Trace\+Status}


\begin{DoxyCode}{0}
\DoxyCodeLine{00041                         \{}
\DoxyCodeLine{00042     DISABLED,}
\DoxyCodeLine{00043     EDITING\_GHOST,}
\DoxyCodeLine{00044     ENABLED,}
\DoxyCodeLine{00045     ENABLED\_WITHOUT\_GHOST\_MOVEMENTS}
\DoxyCodeLine{00046   \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_onion_skin_mask_a21e272351b7ed028e46ab419b72a4e3b}\label{class_onion_skin_mask_a21e272351b7ed028e46ab419b72a4e3b}} 
\index{OnionSkinMask@{OnionSkinMask}!OnionSkinMask@{OnionSkinMask}}
\index{OnionSkinMask@{OnionSkinMask}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{OnionSkinMask()}{OnionSkinMask()}}
{\footnotesize\ttfamily Onion\+Skin\+Mask\+::\+Onion\+Skin\+Mask (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00049 : m\_enabled(\textcolor{keyword}{false}), m\_wholeScene(\textcolor{keyword}{false}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_onion_skin_mask_a4de794689ac58fcbc0d1e330c9cb3c5b}\label{class_onion_skin_mask_a4de794689ac58fcbc0d1e330c9cb3c5b}} 
\index{OnionSkinMask@{OnionSkinMask}!appendGhostFlipKey@{appendGhostFlipKey}}
\index{appendGhostFlipKey@{appendGhostFlipKey}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{appendGhostFlipKey()}{appendGhostFlipKey()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::append\+Ghost\+Flip\+Key (\begin{DoxyParamCaption}\item[{int}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00129                                    \{}
\DoxyCodeLine{00130     m\_ghostFlipKeys.removeAll(key);}
\DoxyCodeLine{00131     m\_ghostFlipKeys.append(key);}
\DoxyCodeLine{00132   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a879a407dfeed56fad7468ae1d65517ce}\label{class_onion_skin_mask_a879a407dfeed56fad7468ae1d65517ce}} 
\index{OnionSkinMask@{OnionSkinMask}!clear@{clear}}
\index{clear@{clear}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00057                           \{}
\DoxyCodeLine{00058   m\_fos.clear();}
\DoxyCodeLine{00059   m\_mos.clear();}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061   m\_shiftTraceStatus = DISABLED;}
\DoxyCodeLine{00062 }
\DoxyCodeLine{00063   m\_ghostAff[0]    = \mbox{\hyperlink{class_t_affine}{TAffine}}();}
\DoxyCodeLine{00064   m\_ghostAff[1]    = \mbox{\hyperlink{class_t_affine}{TAffine}}();}
\DoxyCodeLine{00065   m\_ghostCenter[0] = \mbox{\hyperlink{class_t_point_t}{TPointD}}();}
\DoxyCodeLine{00066   m\_ghostCenter[1] = \mbox{\hyperlink{class_t_point_t}{TPointD}}();}
\DoxyCodeLine{00067   m\_ghostFrame[0]  = 0;}
\DoxyCodeLine{00068   m\_ghostFrame[1]  = 0;}
\DoxyCodeLine{00069 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a2712990c537a4860e53f2c1f59c6f059}\label{class_onion_skin_mask_a2712990c537a4860e53f2c1f59c6f059}} 
\index{OnionSkinMask@{OnionSkinMask}!clearGhostFlipKey@{clearGhostFlipKey}}
\index{clearGhostFlipKey@{clearGhostFlipKey}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{clearGhostFlipKey()}{clearGhostFlipKey()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::clear\+Ghost\+Flip\+Key (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00134 \{ m\_ghostFlipKeys.clear(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_ade088772ded5e30e771dc3917c401feb}\label{class_onion_skin_mask_ade088772ded5e30e771dc3917c401feb}} 
\index{OnionSkinMask@{OnionSkinMask}!enable@{enable}}
\index{enable@{enable}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{enable()}{enable()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::enable (\begin{DoxyParamCaption}\item[{bool}]{on }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00086 \{ m\_enabled = on; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a9e64f221d9750268f449668afb614c11}\label{class_onion_skin_mask_a9e64f221d9750268f449668afb614c11}} 
\index{OnionSkinMask@{OnionSkinMask}!getAll@{getAll}}
\index{getAll@{getAll}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getAll()}{getAll()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::get\+All (\begin{DoxyParamCaption}\item[{int}]{current\+Row,  }\item[{std\+::vector$<$ int $>$ \&}]{output }\end{DoxyParamCaption}) const}



Fills in the output vector with the absolute frames to be onion-\/skinned. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00073                                                                        \{}
\DoxyCodeLine{00074   output.clear();}
\DoxyCodeLine{00075   output.reserve(m\_fos.size() + m\_mos.size());}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077   std::vector<int>::const\_iterator fosIt, fosEnd(m\_fos.end());}
\DoxyCodeLine{00078   std::vector<int>::const\_iterator mosIt, mosEnd(m\_mos.end());}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00080   \textcolor{keywordflow}{for} (fosIt = m\_fos.begin(), mosIt = m\_mos.begin();}
\DoxyCodeLine{00081        fosIt != fosEnd \&\& mosIt != mosEnd;) \{}
\DoxyCodeLine{00082     \textcolor{keywordtype}{int} fos = *fosIt, mos = *mosIt + currentRow;}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084     \textcolor{keywordflow}{if} (fos < mos) \{}
\DoxyCodeLine{00085       \textcolor{keywordflow}{if} (fos != currentRow) output.push\_back(fos);}
\DoxyCodeLine{00086 }
\DoxyCodeLine{00087       ++fosIt;}
\DoxyCodeLine{00088     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00089       \textcolor{keywordflow}{if} (mos != currentRow) output.push\_back(mos);}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091       ++mosIt;}
\DoxyCodeLine{00092     \}}
\DoxyCodeLine{00093   \}}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095   \textcolor{keywordflow}{for} (; fosIt != fosEnd; ++fosIt)}
\DoxyCodeLine{00096     \textcolor{keywordflow}{if} (*fosIt != currentRow) output.push\_back(*fosIt);}
\DoxyCodeLine{00097 }
\DoxyCodeLine{00098   \textcolor{keywordflow}{for} (; mosIt != mosEnd; ++mosIt) \{}
\DoxyCodeLine{00099     \textcolor{keywordtype}{int} mos = *mosIt + currentRow;}
\DoxyCodeLine{00100     \textcolor{keywordflow}{if} (mos != currentRow) output.push\_back(mos);}
\DoxyCodeLine{00101   \}}
\DoxyCodeLine{00102 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00560}{Stage\+Builder\+::add\+Cell\+With\+Onion\+Skin()}}, \mbox{\hyperlink{l00719}{Stage\+Builder\+::add\+Simple\+Level\+Frame()}}, and \mbox{\hyperlink{l00259}{Hook\+Tool\+::draw()}}.

\mbox{\Hypertarget{class_onion_skin_mask_ac2444c7cb8fa5045dc5a3eb5204a7c11}\label{class_onion_skin_mask_ac2444c7cb8fa5045dc5a3eb5204a7c11}} 
\index{OnionSkinMask@{OnionSkinMask}!getFos@{getFos}}
\index{getFos@{getFos}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getFos()}{getFos()}}
{\footnotesize\ttfamily int Onion\+Skin\+Mask\+::get\+Fos (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00068                               \{}
\DoxyCodeLine{00069     assert(0 <= index \&\& index < (\textcolor{keywordtype}{int})m\_fos.size());}
\DoxyCodeLine{00070     \textcolor{keywordflow}{return} m\_fos[index];}
\DoxyCodeLine{00071   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a23336c6bb8485bc8105b81347dca27fd}\label{class_onion_skin_mask_a23336c6bb8485bc8105b81347dca27fd}} 
\index{OnionSkinMask@{OnionSkinMask}!getFosCount@{getFosCount}}
\index{getFosCount@{getFosCount}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getFosCount()}{getFosCount()}}
{\footnotesize\ttfamily int Onion\+Skin\+Mask\+::get\+Fos\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the Fixed OS frames count. 

\mbox{\Hypertarget{class_onion_skin_mask_afbea4a2b6152a0f49c1a48ca39504ccb}\label{class_onion_skin_mask_afbea4a2b6152a0f49c1a48ca39504ccb}} 
\index{OnionSkinMask@{OnionSkinMask}!getGhostFlipKey@{getGhostFlipKey}}
\index{getGhostFlipKey@{getGhostFlipKey}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getGhostFlipKey()}{getGhostFlipKey()}}
{\footnotesize\ttfamily const int Onion\+Skin\+Mask\+::get\+Ghost\+Flip\+Key (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00126                               \{}
\DoxyCodeLine{00127     \textcolor{keywordflow}{return} (m\_ghostFlipKeys.isEmpty()) ? 0 : m\_ghostFlipKeys.last();}
\DoxyCodeLine{00128   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a259c51920c49aedc63e6328a421130ca}\label{class_onion_skin_mask_a259c51920c49aedc63e6328a421130ca}} 
\index{OnionSkinMask@{OnionSkinMask}!getMos@{getMos}}
\index{getMos@{getMos}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getMos()}{getMos()}}
{\footnotesize\ttfamily int Onion\+Skin\+Mask\+::get\+Mos (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00063                               \{}
\DoxyCodeLine{00064     assert(0 <= index \&\& index < (\textcolor{keywordtype}{int})m\_mos.size());}
\DoxyCodeLine{00065     \textcolor{keywordflow}{return} m\_mos[index];}
\DoxyCodeLine{00066   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a08b242aaeb38bbb2e1159f56f56242ce}\label{class_onion_skin_mask_a08b242aaeb38bbb2e1159f56f56242ce}} 
\index{OnionSkinMask@{OnionSkinMask}!getMosCount@{getMosCount}}
\index{getMosCount@{getMosCount}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getMosCount()}{getMosCount()}}
{\footnotesize\ttfamily int Onion\+Skin\+Mask\+::get\+Mos\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Returns the Mobile OS frames count. 

\mbox{\Hypertarget{class_onion_skin_mask_af31e2cf75dae0535485ba6d877102b4b}\label{class_onion_skin_mask_af31e2cf75dae0535485ba6d877102b4b}} 
\index{OnionSkinMask@{OnionSkinMask}!getMosRange@{getMosRange}}
\index{getMosRange@{getMosRange}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getMosRange()}{getMosRange()}}
{\footnotesize\ttfamily bool Onion\+Skin\+Mask\+::get\+Mos\+Range (\begin{DoxyParamCaption}\item[{int \&}]{drow0,  }\item[{int \&}]{drow1 }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00146                                                             \{}
\DoxyCodeLine{00147   \textcolor{keywordflow}{if} (m\_mos.empty()) \{}
\DoxyCodeLine{00148     drow0 = 0, drow1 = -\/1;}
\DoxyCodeLine{00149     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00150   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00151     drow0 = m\_mos.front(), drow1 = m\_mos.back();}
\DoxyCodeLine{00152     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00153   \}}
\DoxyCodeLine{00154 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a6a4c72b75d213e6a3fca82092a520824}\label{class_onion_skin_mask_a6a4c72b75d213e6a3fca82092a520824}} 
\index{OnionSkinMask@{OnionSkinMask}!getOnionSkinFade@{getOnionSkinFade}}
\index{getOnionSkinFade@{getOnionSkinFade}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getOnionSkinFade()}{getOnionSkinFade()}}
{\footnotesize\ttfamily double Onion\+Skin\+Mask\+::get\+Onion\+Skin\+Fade (\begin{DoxyParamCaption}\item[{int}]{distance }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Returns the fade (transparency) value, in the \mbox{[}0.\+0, 1.\+0\mbox{]} range, corresponding to the specified distance from current frame. In case distance == 0, the returned value is 0.\+9, ie {\itshape almost} opaque, since underlying onion-\/skinned drawings must be visible. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00158                                                        \{}
\DoxyCodeLine{00159   \textcolor{keywordflow}{if} (rowsDistance == 0) \textcolor{keywordflow}{return} 0.9;}
\DoxyCodeLine{00160 }
\DoxyCodeLine{00161   \textcolor{keywordtype}{double} fade =}
\DoxyCodeLine{00162       MINFADE +}
\DoxyCodeLine{00163       abs(rowsDistance) *}
\DoxyCodeLine{00164           getIncrement(Preferences::instance()-\/>getOnionPaperThickness());}
\DoxyCodeLine{00165   \textcolor{keywordflow}{return} tcrop(fade, MINFADE, MAXFADE);}
\DoxyCodeLine{00166 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00993}{Stage\+::\+Raster\+Painter\+::on\+Raster\+Image()}}, \mbox{\hyperlink{l01059}{Stage\+::\+Raster\+Painter\+::on\+Toonz\+Image()}}, and \mbox{\hyperlink{l00821}{Stage\+::\+Raster\+Painter\+::on\+Vector\+Image()}}.

\mbox{\Hypertarget{class_onion_skin_mask_a511c7b9ce7547fb641250028934581f5}\label{class_onion_skin_mask_a511c7b9ce7547fb641250028934581f5}} 
\index{OnionSkinMask@{OnionSkinMask}!getShiftTraceGhostAff@{getShiftTraceGhostAff}}
\index{getShiftTraceGhostAff@{getShiftTraceGhostAff}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getShiftTraceGhostAff()}{getShiftTraceGhostAff()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_affine}{TAffine}} Onion\+Skin\+Mask\+::get\+Shift\+Trace\+Ghost\+Aff (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00109                                                        \{}
\DoxyCodeLine{00110     \textcolor{keywordflow}{return} m\_ghostAff[index];}
\DoxyCodeLine{00111   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_ac87077ae446e3669b81f187444a83131}\label{class_onion_skin_mask_ac87077ae446e3669b81f187444a83131}} 
\index{OnionSkinMask@{OnionSkinMask}!getShiftTraceGhostCenter@{getShiftTraceGhostCenter}}
\index{getShiftTraceGhostCenter@{getShiftTraceGhostCenter}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getShiftTraceGhostCenter()}{getShiftTraceGhostCenter()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_point_t}{TPointD}} Onion\+Skin\+Mask\+::get\+Shift\+Trace\+Ghost\+Center (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00114                                                           \{}
\DoxyCodeLine{00115     \textcolor{keywordflow}{return} m\_ghostCenter[index];}
\DoxyCodeLine{00116   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a2a8a5fffeea566281b08b7ff9d736b5d}\label{class_onion_skin_mask_a2a8a5fffeea566281b08b7ff9d736b5d}} 
\index{OnionSkinMask@{OnionSkinMask}!getShiftTraceGhostFrameOffset@{getShiftTraceGhostFrameOffset}}
\index{getShiftTraceGhostFrameOffset@{getShiftTraceGhostFrameOffset}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getShiftTraceGhostFrameOffset()}{getShiftTraceGhostFrameOffset()}}
{\footnotesize\ttfamily const int Onion\+Skin\+Mask\+::get\+Shift\+Trace\+Ghost\+Frame\+Offset (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00119                                                      \{}
\DoxyCodeLine{00120     \textcolor{keywordflow}{return} m\_ghostFrame[index];}
\DoxyCodeLine{00121   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a90b40aad94c7524b07e9a5db1b6864ab}\label{class_onion_skin_mask_a90b40aad94c7524b07e9a5db1b6864ab}} 
\index{OnionSkinMask@{OnionSkinMask}!getShiftTraceStatus@{getShiftTraceStatus}}
\index{getShiftTraceStatus@{getShiftTraceStatus}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{getShiftTraceStatus()}{getShiftTraceStatus()}}
{\footnotesize\ttfamily Shift\+Trace\+Status Onion\+Skin\+Mask\+::get\+Shift\+Trace\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00102 \{ \textcolor{keywordflow}{return} m\_shiftTraceStatus; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a92856b69a98867202bea5b0f53e1c226}\label{class_onion_skin_mask_a92856b69a98867202bea5b0f53e1c226}} 
\index{OnionSkinMask@{OnionSkinMask}!isEmpty@{isEmpty}}
\index{isEmpty@{isEmpty}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{isEmpty()}{isEmpty()}}
{\footnotesize\ttfamily bool Onion\+Skin\+Mask\+::is\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00083 \{ \textcolor{keywordflow}{return} m\_mos.empty() \&\& m\_fos.empty(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a9a984836a8d00b7abfcd97b326533b76}\label{class_onion_skin_mask_a9a984836a8d00b7abfcd97b326533b76}} 
\index{OnionSkinMask@{OnionSkinMask}!isEnabled@{isEnabled}}
\index{isEnabled@{isEnabled}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{isEnabled()}{isEnabled()}}
{\footnotesize\ttfamily bool Onion\+Skin\+Mask\+::is\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00085 \{ \textcolor{keywordflow}{return} m\_enabled; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a2e4e76684d1498a8615693abc9d392b6}\label{class_onion_skin_mask_a2e4e76684d1498a8615693abc9d392b6}} 
\index{OnionSkinMask@{OnionSkinMask}!isFos@{isFos}}
\index{isFos@{isFos}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{isFos()}{isFos()}}
{\footnotesize\ttfamily bool Onion\+Skin\+Mask\+::is\+Fos (\begin{DoxyParamCaption}\item[{int}]{row }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00134                                        \{}
\DoxyCodeLine{00135   \textcolor{keywordflow}{return} std::binary\_search(m\_fos.begin(), m\_fos.end(), row);}
\DoxyCodeLine{00136 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a0a842247cfb11da013de72368ac2e8de}\label{class_onion_skin_mask_a0a842247cfb11da013de72368ac2e8de}} 
\index{OnionSkinMask@{OnionSkinMask}!isMos@{isMos}}
\index{isMos@{isMos}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{isMos()}{isMos()}}
{\footnotesize\ttfamily bool Onion\+Skin\+Mask\+::is\+Mos (\begin{DoxyParamCaption}\item[{int}]{drow }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00140                                         \{}
\DoxyCodeLine{00141   \textcolor{keywordflow}{return} std::binary\_search(m\_mos.begin(), m\_mos.end(), drow);}
\DoxyCodeLine{00142 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a7a3e495a9cb71f3dc848b4e4d9f5eaad}\label{class_onion_skin_mask_a7a3e495a9cb71f3dc848b4e4d9f5eaad}} 
\index{OnionSkinMask@{OnionSkinMask}!isShiftTraceEnabled@{isShiftTraceEnabled}}
\index{isShiftTraceEnabled@{isShiftTraceEnabled}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{isShiftTraceEnabled()}{isShiftTraceEnabled()}}
{\footnotesize\ttfamily bool Onion\+Skin\+Mask\+::is\+Shift\+Trace\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00107 \{ \textcolor{keywordflow}{return} m\_shiftTraceStatus != DISABLED; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a581571c5b819e13ad09acdda2b26d467}\label{class_onion_skin_mask_a581571c5b819e13ad09acdda2b26d467}} 
\index{OnionSkinMask@{OnionSkinMask}!isWholeScene@{isWholeScene}}
\index{isWholeScene@{isWholeScene}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{isWholeScene()}{isWholeScene()}}
{\footnotesize\ttfamily bool Onion\+Skin\+Mask\+::is\+Whole\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00088 \{ \textcolor{keywordflow}{return} m\_wholeScene; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_aa31705c276db8b1724fb5fa75b22d29e}\label{class_onion_skin_mask_aa31705c276db8b1724fb5fa75b22d29e}} 
\index{OnionSkinMask@{OnionSkinMask}!removeGhostFlipKey@{removeGhostFlipKey}}
\index{removeGhostFlipKey@{removeGhostFlipKey}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{removeGhostFlipKey()}{removeGhostFlipKey()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::remove\+Ghost\+Flip\+Key (\begin{DoxyParamCaption}\item[{int}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00133 \{ m\_ghostFlipKeys.removeAll(key); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_abec0776ab067027858d7c7a8c27f1b59}\label{class_onion_skin_mask_abec0776ab067027858d7c7a8c27f1b59}} 
\index{OnionSkinMask@{OnionSkinMask}!setFos@{setFos}}
\index{setFos@{setFos}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{setFos()}{setFos()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::set\+Fos (\begin{DoxyParamCaption}\item[{int}]{row,  }\item[{bool}]{on }\end{DoxyParamCaption})}



Sets a Fixed OS frame to the specified xsheet row. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00121                                            \{}
\DoxyCodeLine{00122   \textcolor{keyword}{typedef} std::vector<int>::iterator Iter;}
\DoxyCodeLine{00123   std::pair<Iter, Iter> r = std::equal\_range(m\_fos.begin(), m\_fos.end(), row);}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125   \textcolor{keywordflow}{if} (on) \{}
\DoxyCodeLine{00126     \textcolor{keywordflow}{if} (r.first == r.second) m\_fos.insert(r.first, row);}
\DoxyCodeLine{00127   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00128     \textcolor{keywordflow}{if} (r.first != r.second) m\_fos.erase(r.first, r.second);}
\DoxyCodeLine{00129   \}}
\DoxyCodeLine{00130 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a94662aa3bb3fece27d462c6fb6f68907}\label{class_onion_skin_mask_a94662aa3bb3fece27d462c6fb6f68907}} 
\index{OnionSkinMask@{OnionSkinMask}!setIsWholeScene@{setIsWholeScene}}
\index{setIsWholeScene@{setIsWholeScene}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{setIsWholeScene()}{setIsWholeScene()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::set\+Is\+Whole\+Scene (\begin{DoxyParamCaption}\item[{bool}]{whole\+Scene }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00089 \{ m\_wholeScene = wholeScene; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a52cefe9a23f99c469ac6df66bf5555ab}\label{class_onion_skin_mask_a52cefe9a23f99c469ac6df66bf5555ab}} 
\index{OnionSkinMask@{OnionSkinMask}!setMos@{setMos}}
\index{setMos@{setMos}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{setMos()}{setMos()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::set\+Mos (\begin{DoxyParamCaption}\item[{int}]{drow,  }\item[{bool}]{on }\end{DoxyParamCaption})}

Sets a Mobile OS frame shifted by drow around current xsheet frame 
\begin{DoxyCode}{0}
\DoxyCodeLine{00106                                             \{}
\DoxyCodeLine{00107   assert(drow != 0);}
\DoxyCodeLine{00108 }
\DoxyCodeLine{00109   \textcolor{keyword}{typedef} std::vector<int>::iterator Iter;}
\DoxyCodeLine{00110   std::pair<Iter, Iter> r = std::equal\_range(m\_mos.begin(), m\_mos.end(), drow);}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112   \textcolor{keywordflow}{if} (on) \{}
\DoxyCodeLine{00113     \textcolor{keywordflow}{if} (r.first == r.second) m\_mos.insert(r.first, drow);}
\DoxyCodeLine{00114   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00115     \textcolor{keywordflow}{if} (r.first != r.second) m\_mos.erase(r.first, r.second);}
\DoxyCodeLine{00116   \}}
\DoxyCodeLine{00117 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_af10b101943a75136160da481ff278c57}\label{class_onion_skin_mask_af10b101943a75136160da481ff278c57}} 
\index{OnionSkinMask@{OnionSkinMask}!setShiftTraceGhostAff@{setShiftTraceGhostAff}}
\index{setShiftTraceGhostAff@{setShiftTraceGhostAff}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{setShiftTraceGhostAff()}{setShiftTraceGhostAff()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::set\+Shift\+Trace\+Ghost\+Aff (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}} \&}]{aff }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00170                                                                        \{}
\DoxyCodeLine{00171   assert(0 <= index \&\& index < 2);}
\DoxyCodeLine{00172   m\_ghostAff[index] = aff;}
\DoxyCodeLine{00173 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a3ec9850fb8db488e5c2eeb8f019ab580}\label{class_onion_skin_mask_a3ec9850fb8db488e5c2eeb8f019ab580}} 
\index{OnionSkinMask@{OnionSkinMask}!setShiftTraceGhostCenter@{setShiftTraceGhostCenter}}
\index{setShiftTraceGhostCenter@{setShiftTraceGhostCenter}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{setShiftTraceGhostCenter()}{setShiftTraceGhostCenter()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::set\+Shift\+Trace\+Ghost\+Center (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{center }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00177                                                                              \{}
\DoxyCodeLine{00178   assert(0 <= index \&\& index < 2);}
\DoxyCodeLine{00179   m\_ghostCenter[index] = center;}
\DoxyCodeLine{00180 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a57fbdd802814e4efd4f942a6ce983c4c}\label{class_onion_skin_mask_a57fbdd802814e4efd4f942a6ce983c4c}} 
\index{OnionSkinMask@{OnionSkinMask}!setShiftTraceGhostFrameOffset@{setShiftTraceGhostFrameOffset}}
\index{setShiftTraceGhostFrameOffset@{setShiftTraceGhostFrameOffset}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{setShiftTraceGhostFrameOffset()}{setShiftTraceGhostFrameOffset()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::set\+Shift\+Trace\+Ghost\+Frame\+Offset (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{int}]{offset }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00122                                                             \{}
\DoxyCodeLine{00123     m\_ghostFrame[index] = offset;}
\DoxyCodeLine{00124   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_onion_skin_mask_a7e2176673b45fb090abd38560cd3514c}\label{class_onion_skin_mask_a7e2176673b45fb090abd38560cd3514c}} 
\index{OnionSkinMask@{OnionSkinMask}!setShiftTraceStatus@{setShiftTraceStatus}}
\index{setShiftTraceStatus@{setShiftTraceStatus}!OnionSkinMask@{OnionSkinMask}}
\doxysubsubsection{\texorpdfstring{setShiftTraceStatus()}{setShiftTraceStatus()}}
{\footnotesize\ttfamily void Onion\+Skin\+Mask\+::set\+Shift\+Trace\+Status (\begin{DoxyParamCaption}\item[{Shift\+Trace\+Status}]{status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00103                                                     \{}
\DoxyCodeLine{00104     m\_shiftTraceStatus = status;}
\DoxyCodeLine{00105   \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/onionskinmask.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/onionskinmask.\+cpp\end{DoxyCompactItemize}
