\hypertarget{class_lip_sync_undo}{}\doxysection{Lip\+Sync\+Undo Class Reference}
\label{class_lip_sync_undo}\index{LipSyncUndo@{LipSyncUndo}}
Inheritance diagram for Lip\+Sync\+Undo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_lip_sync_undo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_lip_sync_undo_a6aaadbcb8892a4247c354b82010e5142}{Lip\+Sync\+Undo}} (int col, \mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$sl, \mbox{\hyperlink{class_t_smart_pointer_t}{TXsh\+LevelP}} cl, std\+::vector$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} $>$ active\+Frame\+Ids, QString\+List text\+Lines, int size, std\+::vector$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} $>$ previous\+Frame\+Ids, std\+::vector$<$ \mbox{\hyperlink{class_t_smart_pointer_t}{TXsh\+LevelP}} $>$ previous\+Levels, int start\+Frame)
\item 
void \mbox{\hyperlink{class_lip_sync_undo_afece585e20e0db1dbd2a771073080934}{undo}} () const override
\item 
void \mbox{\hyperlink{class_lip_sync_undo_ad570cca2b8d80a5a4df31e2e044c56f0}{redo}} () const override
\item 
int \mbox{\hyperlink{class_lip_sync_undo_a8f805b5bb97be5753d32cafc7df903bc}{get\+Size}} () const override
\item 
QString \mbox{\hyperlink{class_lip_sync_undo_ac72421ed8dfbce5ae1b30d155aae7e20}{get\+History\+String}} () override
\item 
int \mbox{\hyperlink{class_lip_sync_undo_a5189b216980b9c685574859a9f5a7dea}{get\+History\+Type}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_lip_sync_undo_a6aaadbcb8892a4247c354b82010e5142}\label{class_lip_sync_undo_a6aaadbcb8892a4247c354b82010e5142}} 
\index{LipSyncUndo@{LipSyncUndo}!LipSyncUndo@{LipSyncUndo}}
\index{LipSyncUndo@{LipSyncUndo}!LipSyncUndo@{LipSyncUndo}}
\doxysubsubsection{\texorpdfstring{LipSyncUndo()}{LipSyncUndo()}}
{\footnotesize\ttfamily Lip\+Sync\+Undo\+::\+Lip\+Sync\+Undo (\begin{DoxyParamCaption}\item[{int}]{col,  }\item[{\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$}]{sl,  }\item[{\mbox{\hyperlink{class_t_smart_pointer_t}{TXsh\+LevelP}}}]{cl,  }\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} $>$}]{active\+Frame\+Ids,  }\item[{QString\+List}]{text\+Lines,  }\item[{int}]{size,  }\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} $>$}]{previous\+Frame\+Ids,  }\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_smart_pointer_t}{TXsh\+LevelP}} $>$}]{previous\+Levels,  }\item[{int}]{start\+Frame }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00083     : m\_col(col)}
\DoxyCodeLine{00084     , m\_sl(sl)}
\DoxyCodeLine{00085     , m\_cl(cl)}
\DoxyCodeLine{00086     , m\_textLines(textLines)}
\DoxyCodeLine{00087     , m\_lastFrame(lastFrame)}
\DoxyCodeLine{00088     , m\_previousFrameIds(previousFrameIds)}
\DoxyCodeLine{00089     , m\_previousLevels(previousLevels)}
\DoxyCodeLine{00090     , m\_activeFrameIds(activeFrameIds)}
\DoxyCodeLine{00091     , m\_startFrame(startFrame) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_lip_sync_undo_ac72421ed8dfbce5ae1b30d155aae7e20}\label{class_lip_sync_undo_ac72421ed8dfbce5ae1b30d155aae7e20}} 
\index{LipSyncUndo@{LipSyncUndo}!getHistoryString@{getHistoryString}}
\index{getHistoryString@{getHistoryString}!LipSyncUndo@{LipSyncUndo}}
\doxysubsubsection{\texorpdfstring{getHistoryString()}{getHistoryString()}}
{\footnotesize\ttfamily QString Lip\+Sync\+Undo\+::get\+History\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00061                                       \{}
\DoxyCodeLine{00062     \textcolor{keywordflow}{return} QObject::tr(\textcolor{stringliteral}{"{}Apply Lip Sync Data"{}});}
\DoxyCodeLine{00063   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_lip_sync_undo_a5189b216980b9c685574859a9f5a7dea}\label{class_lip_sync_undo_a5189b216980b9c685574859a9f5a7dea}} 
\index{LipSyncUndo@{LipSyncUndo}!getHistoryType@{getHistoryType}}
\index{getHistoryType@{getHistoryType}!LipSyncUndo@{LipSyncUndo}}
\doxysubsubsection{\texorpdfstring{getHistoryType()}{getHistoryType()}}
{\footnotesize\ttfamily int Lip\+Sync\+Undo\+::get\+History\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00064 \{ \textcolor{keywordflow}{return} HistoryType::Xsheet; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_lip_sync_undo_a8f805b5bb97be5753d32cafc7df903bc}\label{class_lip_sync_undo_a8f805b5bb97be5753d32cafc7df903bc}} 
\index{LipSyncUndo@{LipSyncUndo}!getSize@{getSize}}
\index{getSize@{getSize}!LipSyncUndo@{LipSyncUndo}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Lip\+Sync\+Undo\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00060 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(*this); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_lip_sync_undo_ad570cca2b8d80a5a4df31e2e044c56f0}\label{class_lip_sync_undo_ad570cca2b8d80a5a4df31e2e044c56f0}} 
\index{LipSyncUndo@{LipSyncUndo}!redo@{redo}}
\index{redo@{redo}!LipSyncUndo@{LipSyncUndo}}
\doxysubsubsection{\texorpdfstring{redo()}{redo()}}
{\footnotesize\ttfamily void Lip\+Sync\+Undo\+::redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00108                              \{}
\DoxyCodeLine{00109   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene()-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}();}
\DoxyCodeLine{00110   \textcolor{keywordtype}{int} i        = 0;}
\DoxyCodeLine{00111   \textcolor{keywordtype}{int} currentLine = 0;}
\DoxyCodeLine{00112   \textcolor{keywordtype}{int} size        = m\_textLines.size();}
\DoxyCodeLine{00113   \textcolor{keywordflow}{while} (currentLine < m\_textLines.size()) \{}
\DoxyCodeLine{00114     \textcolor{keywordtype}{int} endAt;}
\DoxyCodeLine{00115     \textcolor{keywordflow}{if} (currentLine + 2 >= m\_textLines.size()) \{}
\DoxyCodeLine{00116       endAt = m\_lastFrame;}
\DoxyCodeLine{00117     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00118       endAt = m\_textLines.at(currentLine + 2).toInt() -\/ 1;}
\DoxyCodeLine{00119     \textcolor{keywordflow}{if} (endAt <= 0) \textcolor{keywordflow}{break};}
\DoxyCodeLine{00120     \textcolor{keywordflow}{if} (endAt <= i) \{}
\DoxyCodeLine{00121       currentLine += 2;}
\DoxyCodeLine{00122       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00123     \}}
\DoxyCodeLine{00124     QString shape        = m\_textLines.at(currentLine + 1).toLower();}
\DoxyCodeLine{00125     std::string strShape = shape.toStdString();}
\DoxyCodeLine{00126     \mbox{\hyperlink{class_t_frame_id}{TFrameId}} currentId   = \mbox{\hyperlink{class_t_frame_id}{TFrameId}}();}
\DoxyCodeLine{00127     \textcolor{keywordflow}{if} (shape == \textcolor{stringliteral}{"{}ai"{}}) \{}
\DoxyCodeLine{00128       currentId = m\_activeFrameIds[0];}
\DoxyCodeLine{00129     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (shape == \textcolor{stringliteral}{"{}e"{}}) \{}
\DoxyCodeLine{00130       currentId = m\_activeFrameIds[1];}
\DoxyCodeLine{00131     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (shape == \textcolor{stringliteral}{"{}o"{}}) \{}
\DoxyCodeLine{00132       currentId = m\_activeFrameIds[2];}
\DoxyCodeLine{00133     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (shape == \textcolor{stringliteral}{"{}u"{}}) \{}
\DoxyCodeLine{00134       currentId = m\_activeFrameIds[3];}
\DoxyCodeLine{00135     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (shape == \textcolor{stringliteral}{"{}fv"{}}) \{}
\DoxyCodeLine{00136       currentId = m\_activeFrameIds[4];}
\DoxyCodeLine{00137     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (shape == \textcolor{stringliteral}{"{}l"{}}) \{}
\DoxyCodeLine{00138       currentId = m\_activeFrameIds[5];}
\DoxyCodeLine{00139     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (shape == \textcolor{stringliteral}{"{}mbp"{}}) \{}
\DoxyCodeLine{00140       currentId = m\_activeFrameIds[6];}
\DoxyCodeLine{00141     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (shape == \textcolor{stringliteral}{"{}wq"{}}) \{}
\DoxyCodeLine{00142       currentId = m\_activeFrameIds[7];}
\DoxyCodeLine{00143     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (shape == \textcolor{stringliteral}{"{}other"{}} || shape == \textcolor{stringliteral}{"{}etc"{}}) \{}
\DoxyCodeLine{00144       currentId = m\_activeFrameIds[8];}
\DoxyCodeLine{00145     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (shape == \textcolor{stringliteral}{"{}rest"{}}) \{}
\DoxyCodeLine{00146       currentId = m\_activeFrameIds[9];}
\DoxyCodeLine{00147     \}}
\DoxyCodeLine{00148 }
\DoxyCodeLine{00149     \textcolor{keywordflow}{if} (currentId.isEmptyFrame()) \{}
\DoxyCodeLine{00150       currentLine += 2;}
\DoxyCodeLine{00151       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00152     \}}
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154     \textcolor{keywordflow}{while} (i < endAt \&\& i < m\_lastFrame -\/ m\_startFrame) \{}
\DoxyCodeLine{00155       \textcolor{keywordtype}{int} currFrame = i + m\_startFrame;}
\DoxyCodeLine{00156       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(currFrame, m\_col);}
\DoxyCodeLine{00157       \textcolor{keywordflow}{if} (m\_sl)}
\DoxyCodeLine{00158         cell.m\_level = m\_sl;}
\DoxyCodeLine{00159       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00160         cell.m\_level = m\_cl;}
\DoxyCodeLine{00161       cell.m\_frameId = currentId;}
\DoxyCodeLine{00162       xsh-\/>setCell(currFrame, m\_col, cell);}
\DoxyCodeLine{00163       i++;}
\DoxyCodeLine{00164     \}}
\DoxyCodeLine{00165     currentLine += 2;}
\DoxyCodeLine{00166   \}}
\DoxyCodeLine{00167   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00168   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{00169 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_lip_sync_undo_afece585e20e0db1dbd2a771073080934}\label{class_lip_sync_undo_afece585e20e0db1dbd2a771073080934}} 
\index{LipSyncUndo@{LipSyncUndo}!undo@{undo}}
\index{undo@{undo}!LipSyncUndo@{LipSyncUndo}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Lip\+Sync\+Undo\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00093                              \{}
\DoxyCodeLine{00094   \textcolor{keywordtype}{int} i        = 0;}
\DoxyCodeLine{00095   \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene()-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}();}
\DoxyCodeLine{00096   \textcolor{keywordflow}{while} (i < m\_previousFrameIds.size()) \{}
\DoxyCodeLine{00097     \textcolor{keywordtype}{int} currFrame  = i + m\_startFrame;}
\DoxyCodeLine{00098     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell  = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(currFrame, m\_col);}
\DoxyCodeLine{00099     cell.m\_frameId = m\_previousFrameIds.at(i);}
\DoxyCodeLine{00100     cell.m\_level   = m\_previousLevels.at(i);}
\DoxyCodeLine{00101     xsh-\/>setCell(currFrame, m\_col, cell);}
\DoxyCodeLine{00102     i++;}
\DoxyCodeLine{00103   \}}
\DoxyCodeLine{00104   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00105   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{00106 \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/lipsyncpopup.\+cpp\end{DoxyCompactItemize}
