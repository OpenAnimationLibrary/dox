\hypertarget{class_event}{}\doxysection{Event Class Reference}
\label{class_event}\index{Event@{Event}}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058}{Type}} \{ \newline
\mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a7ad1738a3a40a0d489e1b356c9a42afa}{special}}
, \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a79f281ada0933ebcb72973baa65084e0}{edge}}
, \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a7342b521191201997425f7da42bbfc63}{vertex}}
, \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a29519734363d4a5a64fdf77c4a22268a}{split\+\_\+regenerate}}
, \newline
\mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a9d37ce59e247639e42f47a451da5a428}{split}}
, {\bfseries failure}
 \}
\begin{DoxyCompactList}\small\item\em An event\textquotesingle{}s possible types. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_event_a70e67ac47f4303099fec356d7473dd45}{Event}} (\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$generator, \mbox{\hyperlink{struct_vectorization_context}{Vectorization\+Context}} $\ast$context)
\item 
void \mbox{\hyperlink{class_event_a3ee84a890732a0f0ef63db343d6ea016}{calculate\+Edge\+Event}} ()
\item 
void \mbox{\hyperlink{class_event_a4333bb342b7686bf4e2538a8592814bf}{calculate\+Split\+Event}} ()
\item 
double \mbox{\hyperlink{class_event_a2218c3412c6cef5fc0fe40a6aadfc85f}{split\+Displacement\+With}} (\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$plane)
\item 
bool \mbox{\hyperlink{class_event_a2bfd1eeb0acbc314e8d9a8afed7ae940}{try\+Ray\+Edge\+Collision\+With}} (\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$\mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a79f281ada0933ebcb72973baa65084e0}{edge}})
\item 
bool \mbox{\hyperlink{class_event_a4a3ecd1738a86cd57a74c82a0f4106fd}{process}} ()
\item 
void \mbox{\hyperlink{class_event_ac6d5d0b2d1fd642475589ea08c9ba895}{process\+Edge\+Event}} ()
\item 
void \mbox{\hyperlink{class_event_a46e9058fb54959eed3d29b690507a1f9}{process\+Max\+Event}} ()
\item 
void \mbox{\hyperlink{class_event_af4696f065e96ac3de881594c83085b87}{process\+Split\+Event}} ()
\item 
void \mbox{\hyperlink{class_event_a2358301510ae0ac99df023dcef6f7448}{process\+Vertex\+Event}} ()
\item 
void \mbox{\hyperlink{class_event_a34f51130fb0ea63029c7e0feadecfa40}{process\+Special\+Event}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{class_event_a2528d8a045ab31c5377e92f9c9b92006}{m\+\_\+height}}
\item 
double \mbox{\hyperlink{class_event_af442c2cf88f49433232c047536662119}{m\+\_\+displacement}}
\item 
\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$ \mbox{\hyperlink{class_event_a58affae3e7156b2c9543868c267585ff}{m\+\_\+generator}}
\item 
\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$ \mbox{\hyperlink{class_event_ab610811752d3a04c91db57d212ac1f25}{m\+\_\+co\+Generator}}
\item 
\mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058}{Type}} \mbox{\hyperlink{class_event_a4b6df7508772bf848466b71623666c97}{m\+\_\+type}}
\item 
unsigned int \mbox{\hyperlink{class_event_ad64e3eda5ff0f1b86c910b701953be6e}{m\+\_\+algoritmic\+Time}}
\item 
\mbox{\hyperlink{struct_vectorization_context}{Vectorization\+Context}} $\ast$ \mbox{\hyperlink{class_event_aeee3995902cd8cafb2e78b1a910b4de3}{m\+\_\+context}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_event_a2abf13b5be49315e9e362af02029f058}\label{class_event_a2abf13b5be49315e9e362af02029f058}} 
\index{Event@{Event}!Type@{Type}}
\index{Type@{Type}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{Type}{Type}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058}{Event\+::\+Type}}}



An event\textquotesingle{}s possible types. 

\begin{DoxyRemark}{Remarks}
Values are sorted by preference at simultaneous events. ~\newline
 
\end{DoxyRemark}
\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{special@{special}!Event@{Event}}\index{Event@{Event}!special@{special}}}\mbox{\Hypertarget{class_event_a2abf13b5be49315e9e362af02029f058a7ad1738a3a40a0d489e1b356c9a42afa}\label{class_event_a2abf13b5be49315e9e362af02029f058a7ad1738a3a40a0d489e1b356c9a42afa}} 
special&A vertex event that is also an edge event (V case). \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{edge@{edge}!Event@{Event}}\index{Event@{Event}!edge@{edge}}}\mbox{\Hypertarget{class_event_a2abf13b5be49315e9e362af02029f058a79f281ada0933ebcb72973baa65084e0}\label{class_event_a2abf13b5be49315e9e362af02029f058a79f281ada0933ebcb72973baa65084e0}} 
edge&An edge shrinks to 0 length. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{vertex@{vertex}!Event@{Event}}\index{Event@{Event}!vertex@{vertex}}}\mbox{\Hypertarget{class_event_a2abf13b5be49315e9e362af02029f058a7342b521191201997425f7da42bbfc63}\label{class_event_a2abf13b5be49315e9e362af02029f058a7342b521191201997425f7da42bbfc63}} 
vertex&Two contour nodes clash. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{split\_regenerate@{split\_regenerate}!Event@{Event}}\index{Event@{Event}!split\_regenerate@{split\_regenerate}}}\mbox{\Hypertarget{class_event_a2abf13b5be49315e9e362af02029f058a29519734363d4a5a64fdf77c4a22268a}\label{class_event_a2abf13b5be49315e9e362af02029f058a29519734363d4a5a64fdf77c4a22268a}} 
split\+\_\+regenerate&Placeholder type for split events that must be regenerated. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{split@{split}!Event@{Event}}\index{Event@{Event}!split@{split}}}\mbox{\Hypertarget{class_event_a2abf13b5be49315e9e362af02029f058a9d37ce59e247639e42f47a451da5a428}\label{class_event_a2abf13b5be49315e9e362af02029f058a9d37ce59e247639e42f47a451da5a428}} 
split&An edge is split by a clashing contour node. \\
\hline

\end{DoxyEnumFields}

\begin{DoxyCode}{0}
\DoxyCodeLine{00143   \{ \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a7ad1738a3a40a0d489e1b356c9a42afa}{special}},           }
\DoxyCodeLine{00144     \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a79f281ada0933ebcb72973baa65084e0}{edge}},              }
\DoxyCodeLine{00145     \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a7342b521191201997425f7da42bbfc63}{vertex}},            }
\DoxyCodeLine{00146     \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a29519734363d4a5a64fdf77c4a22268a}{split\_regenerate}},  }
\DoxyCodeLine{00148     \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a9d37ce59e247639e42f47a451da5a428}{split}},             }
\DoxyCodeLine{00149     failure \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_event_a70e67ac47f4303099fec356d7473dd45}\label{class_event_a70e67ac47f4303099fec356d7473dd45}} 
\index{Event@{Event}!Event@{Event}}
\index{Event@{Event}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{Event()}{Event()}}
{\footnotesize\ttfamily Event\+::\+Event (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$}]{generator,  }\item[{\mbox{\hyperlink{struct_vectorization_context}{Vectorization\+Context}} $\ast$}]{context }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00717     : m\_height(infinity)}
\DoxyCodeLine{00718     , m\_displacement(infinity)}
\DoxyCodeLine{00719     , m\_generator(generator)}
\DoxyCodeLine{00720     , m\_type(failure)}
\DoxyCodeLine{00721     , m\_algoritmicTime(context-\/>m\_algoritmicTime)}
\DoxyCodeLine{00722     , m\_context(context) \{}
\DoxyCodeLine{00723   \textcolor{keywordflow}{if} (generator-\/>\mbox{\hyperlink{class_contour_node_a19555660302217faf473dea41dbcfc17}{m\_concave}})}
\DoxyCodeLine{00724     calculateSplitEvent();}
\DoxyCodeLine{00725   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00726     calculateEdgeEvent();}
\DoxyCodeLine{00727 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_event_a3ee84a890732a0f0ef63db343d6ea016}\label{class_event_a3ee84a890732a0f0ef63db343d6ea016}} 
\index{Event@{Event}!calculateEdgeEvent@{calculateEdgeEvent}}
\index{calculateEdgeEvent@{calculateEdgeEvent}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{calculateEdgeEvent()}{calculateEdgeEvent()}}
{\footnotesize\ttfamily void Event\+::calculate\+Edge\+Event (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00735                                       \{}
\DoxyCodeLine{00736   \textcolor{keyword}{struct }locals \{}
\DoxyCodeLine{00737     \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} buildDisplacements(\mbox{\hyperlink{class_contour_node}{ContourNode}} *edgeFirst, \textcolor{keywordtype}{double} \&d1,}
\DoxyCodeLine{00738                                           \textcolor{keywordtype}{double} \&d2) \{}
\DoxyCodeLine{00739       \mbox{\hyperlink{class_contour_node}{ContourNode}} *edgeSecond = edgeFirst-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}};}
\DoxyCodeLine{00740 }
\DoxyCodeLine{00741       \textcolor{comment}{// If bisectors are almost opposite, avoid: there must be another bisector}}
\DoxyCodeLine{00742       \textcolor{comment}{// colliding with m\_generator *before* coGenerator -\/ allowing a positive}}
\DoxyCodeLine{00743       \textcolor{comment}{// result here may interfere with it.}}
\DoxyCodeLine{00744       \textcolor{keywordflow}{if} ((edgeFirst-\/>\mbox{\hyperlink{class_contour_node_a19555660302217faf473dea41dbcfc17}{m\_concave}} \&\& edgeSecond-\/>\mbox{\hyperlink{class_contour_node_a19555660302217faf473dea41dbcfc17}{m\_concave}}) ||}
\DoxyCodeLine{00745           edgeFirst-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}} * edgeSecond-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}} < -\/0.9) \{}
\DoxyCodeLine{00746         d1 = d2 = -\/1.0;}
\DoxyCodeLine{00747         \textcolor{keywordflow}{return};}
\DoxyCodeLine{00748       \}}
\DoxyCodeLine{00749 }
\DoxyCodeLine{00750       \textcolor{keywordtype}{double} det = edgeFirst-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.y * edgeSecond-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.x -\/}
\DoxyCodeLine{00751                    edgeFirst-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.x * edgeSecond-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.y;}
\DoxyCodeLine{00752 }
\DoxyCodeLine{00753       \textcolor{keywordtype}{double} cx = edgeSecond-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}}.x -\/ edgeFirst-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}}.x,}
\DoxyCodeLine{00754              cy = edgeSecond-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}}.y -\/ edgeFirst-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}}.y;}
\DoxyCodeLine{00755 }
\DoxyCodeLine{00756       d1 = (edgeSecond-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.x * cy -\/ edgeSecond-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.y * cx) /}
\DoxyCodeLine{00757            det;}
\DoxyCodeLine{00758       d2 =}
\DoxyCodeLine{00759           (edgeFirst-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.x * cy -\/ edgeFirst-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.y * cx) / det;}
\DoxyCodeLine{00760     \}}
\DoxyCodeLine{00761 }
\DoxyCodeLine{00762     \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{double} height(\mbox{\hyperlink{class_contour_node}{ContourNode}} *node, \textcolor{keywordtype}{double} displacement) \{}
\DoxyCodeLine{00763       \textcolor{keywordflow}{return} node-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}}.z + displacement * node-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.z;}
\DoxyCodeLine{00764     \}}
\DoxyCodeLine{00765   \};  \textcolor{comment}{// locals}}
\DoxyCodeLine{00766 }
\DoxyCodeLine{00767   \textcolor{keywordtype}{double} minHeight, minDisplacement;}
\DoxyCodeLine{00768   \textcolor{keywordtype}{bool} positiveEdgeDispl;}
\DoxyCodeLine{00769 }
\DoxyCodeLine{00770   m\_type = \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a79f281ada0933ebcb72973baa65084e0}{edge}};}
\DoxyCodeLine{00771 }
\DoxyCodeLine{00772   \textcolor{comment}{// Calculate the two possible displacement parameters}}
\DoxyCodeLine{00773   \textcolor{keywordtype}{double} firstDisplacement, prevDisplacement, nextDisplacement,}
\DoxyCodeLine{00774       lastDisplacement;}
\DoxyCodeLine{00775 }
\DoxyCodeLine{00776   \textcolor{comment}{// right == prev}}
\DoxyCodeLine{00777 }
\DoxyCodeLine{00778   locals::buildDisplacements(m\_generator, nextDisplacement, lastDisplacement);}
\DoxyCodeLine{00779   locals::buildDisplacements(m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}, firstDisplacement,}
\DoxyCodeLine{00780                              prevDisplacement);}
\DoxyCodeLine{00781 }
\DoxyCodeLine{00782   \textcolor{comment}{// Take the smallest positive between them and assign the co-\/generator}}
\DoxyCodeLine{00783   \textcolor{comment}{// NOTE: In a missed vertex event, the threshold value is to compare with the}}
\DoxyCodeLine{00784   \textcolor{comment}{// possible pushes at the end of processSplit}}
\DoxyCodeLine{00785   \textcolor{comment}{// However, admitting slightly negative displacements should be ok: due to the}}
\DoxyCodeLine{00786   \textcolor{comment}{// weak linear axis imposed for concave}}
\DoxyCodeLine{00787   \textcolor{comment}{// vertices, it is impossible to have little negative displacements apart from}}
\DoxyCodeLine{00788   \textcolor{comment}{// the above mentioned pushed case.}}
\DoxyCodeLine{00789   \textcolor{comment}{//   ..currently almost true..}}
\DoxyCodeLine{00790 }
\DoxyCodeLine{00791   \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{double} minusTol = -\/0.03;}
\DoxyCodeLine{00792 }
\DoxyCodeLine{00793   \textcolor{keywordtype}{bool} prevDispPositive = (prevDisplacement > minusTol);}
\DoxyCodeLine{00794   \textcolor{keywordtype}{bool} nextDispPositive = (nextDisplacement > minusTol);}
\DoxyCodeLine{00795 }
\DoxyCodeLine{00796   \textcolor{keywordflow}{if} (nextDispPositive) \{}
\DoxyCodeLine{00797     \textcolor{keywordflow}{if} (!prevDispPositive || nextDisplacement < prevDisplacement) \{}
\DoxyCodeLine{00798       m\_coGenerator     = m\_generator;}
\DoxyCodeLine{00799       minDisplacement   = nextDisplacement;}
\DoxyCodeLine{00800       minHeight         = locals::height(m\_coGenerator, nextDisplacement);}
\DoxyCodeLine{00801       positiveEdgeDispl = (nextDispPositive \&\& lastDisplacement > minusTol);}
\DoxyCodeLine{00802     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00803       m\_coGenerator   = m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}};}
\DoxyCodeLine{00804       minDisplacement = prevDisplacement;}
\DoxyCodeLine{00805       minHeight       = locals::height(}
\DoxyCodeLine{00806           m\_coGenerator,}
\DoxyCodeLine{00807           firstDisplacement);  \textcolor{comment}{// Height is built on the edge's first}}
\DoxyCodeLine{00808       positiveEdgeDispl =}
\DoxyCodeLine{00809           (prevDispPositive \&\&}
\DoxyCodeLine{00810            firstDisplacement >}
\DoxyCodeLine{00811                minusTol);  \textcolor{comment}{// endpoint to have the same values on adjacent}}
\DoxyCodeLine{00812     \}                      \textcolor{comment}{// generators. It's important for SPECIAL events.}}
\DoxyCodeLine{00813   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (prevDispPositive) \{}
\DoxyCodeLine{00814     m\_coGenerator   = m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}};}
\DoxyCodeLine{00815     minDisplacement = prevDisplacement;}
\DoxyCodeLine{00816     minHeight = locals::height(m\_coGenerator, firstDisplacement);  \textcolor{comment}{// Same here}}
\DoxyCodeLine{00817     positiveEdgeDispl = (prevDispPositive \&\& firstDisplacement > minusTol);}
\DoxyCodeLine{00818   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00819     m\_type = failure;}
\DoxyCodeLine{00820     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00821   \}}
\DoxyCodeLine{00822 }
\DoxyCodeLine{00823   \textcolor{comment}{// NOTA: Le const di tolleranza sono da confrontare tra:}}
\DoxyCodeLine{00824   \textcolor{comment}{// a) i push alla fine di processSplit per evitare rogne coi vertex multipli}}
\DoxyCodeLine{00825   \textcolor{comment}{// b) Le condizioni di esclusione su side1 e side2 in trySplit che evitano a)}}
\DoxyCodeLine{00826   \textcolor{comment}{// c) Le condizioni di riconoscimento di vertex e special events -\/ perche' se}}
\DoxyCodeLine{00827   \textcolor{comment}{// mancano...}}
\DoxyCodeLine{00828 }
\DoxyCodeLine{00829   \textcolor{comment}{// Special cases: (forse da raffinare le condizioni -\/ comunque ora sono}}
\DoxyCodeLine{00830   \textcolor{comment}{// efficaci)}}
\DoxyCodeLine{00831   \textcolor{keywordflow}{if} (nextDispPositive \&\& !m\_generator-\/>\mbox{\hyperlink{class_contour_node_a19555660302217faf473dea41dbcfc17}{m\_concave}}) \{}
\DoxyCodeLine{00832     \textcolor{keywordflow}{if} (m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_a19555660302217faf473dea41dbcfc17}{m\_concave}} \&\& m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a19555660302217faf473dea41dbcfc17}{m\_concave}} \&\&}
\DoxyCodeLine{00833         fabs(nextDisplacement -\/ prevDisplacement) <}
\DoxyCodeLine{00834             0.1)  \textcolor{comment}{// condizione debole per escludere subito i casi evidentemente}}
\DoxyCodeLine{00835                   \textcolor{comment}{// innocenti}}
\DoxyCodeLine{00836     \{}
\DoxyCodeLine{00837       \textcolor{comment}{// Check 'V' (special) event -\/ can generate a new concave vertex}}
\DoxyCodeLine{00838       \mbox{\hyperlink{class_contour_node}{ContourNode}} *prevRay = m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}},}
\DoxyCodeLine{00839                   *nextRay = m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}};}
\DoxyCodeLine{00840 }
\DoxyCodeLine{00841       \textcolor{keywordtype}{double} side = prevRay-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}} * nextRay-\/>m\_AngularMomentum +}
\DoxyCodeLine{00842                     nextRay-\/>m\_direction * prevRay-\/>\mbox{\hyperlink{class_contour_node_a69fa12cf76cbb0351128739bddd03d66}{m\_AngularMomentum}};}
\DoxyCodeLine{00843 }
\DoxyCodeLine{00844       \textcolor{comment}{// NOTE: fabs(side) / || prevRay-\/>dir x nextRay-\/>dir ||  is the distance}}
\DoxyCodeLine{00845       \textcolor{comment}{// between the two rays.}}
\DoxyCodeLine{00846       \textcolor{keywordflow}{if} (fabs(side) <}
\DoxyCodeLine{00847           0.03 * norm(cross(prevRay-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}, nextRay-\/>m\_direction)))}
\DoxyCodeLine{00848         m\_type = \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a7ad1738a3a40a0d489e1b356c9a42afa}{special}}, m\_coGenerator = m\_generator;}
\DoxyCodeLine{00849     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (fabs(nextDisplacement -\/ prevDisplacement) < 0.01) \{}
\DoxyCodeLine{00850       \textcolor{comment}{// Then choose to make the event with a concave vertex (to resemble the}}
\DoxyCodeLine{00851       \textcolor{comment}{// 'LL' case)}}
\DoxyCodeLine{00852       m\_coGenerator =}
\DoxyCodeLine{00853           m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a19555660302217faf473dea41dbcfc17}{m\_concave}} ? m\_generator : m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}};}
\DoxyCodeLine{00854     \}}
\DoxyCodeLine{00855   \}}
\DoxyCodeLine{00856 }
\DoxyCodeLine{00857   \textcolor{comment}{// Now, if calculated height is coherent, this Event is valid.}}
\DoxyCodeLine{00858   \textcolor{keywordflow}{if} (positiveEdgeDispl  \textcolor{comment}{// Edges shrinking to a point after a FORWARD}}
\DoxyCodeLine{00859       ||}
\DoxyCodeLine{00860       minHeight > m\_context-\/>m\_currentHeight -\/}
\DoxyCodeLine{00861                       0.01)  \textcolor{comment}{// displacement are processable -\/ this dominates}}
\DoxyCodeLine{00862     m\_height = minHeight,}
\DoxyCodeLine{00863     m\_displacement =}
\DoxyCodeLine{00864         minDisplacement;  \textcolor{comment}{// height considerations which may be affected by}}
\DoxyCodeLine{00865   \textcolor{keywordflow}{else}                    \textcolor{comment}{// numerical errors}}
\DoxyCodeLine{00866     m\_type = failure;}
\DoxyCodeLine{00867 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_event_a4333bb342b7686bf4e2538a8592814bf}\label{class_event_a4333bb342b7686bf4e2538a8592814bf}} 
\index{Event@{Event}!calculateSplitEvent@{calculateSplitEvent}}
\index{calculateSplitEvent@{calculateSplitEvent}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{calculateSplitEvent()}{calculateSplitEvent()}}
{\footnotesize\ttfamily void Event\+::calculate\+Split\+Event (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00871                                        \{}
\DoxyCodeLine{00872   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00873   \textcolor{keywordtype}{bool} forceFirst;}
\DoxyCodeLine{00874   \mbox{\hyperlink{class_contour_node}{ContourNode}} *opposite, *first, *last;}
\DoxyCodeLine{00875   std::list<ContourNode *>::iterator currentContour;}
\DoxyCodeLine{00876 }
\DoxyCodeLine{00877   \textcolor{comment}{// Sign *edges* not to be taken as possible opposites}}
\DoxyCodeLine{00878   \textcolor{keywordflow}{for} (i = 0; i < m\_generator-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}.size(); ++i)}
\DoxyCodeLine{00879     m\_generator-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}[i]-\/>setAttribute(ContourEdge::NOT\_OPPOSITE);}
\DoxyCodeLine{00880 }
\DoxyCodeLine{00881   \textcolor{comment}{// Check adjacent edge events}}
\DoxyCodeLine{00882   calculateEdgeEvent();  \textcolor{comment}{// DO NOT REMOVE -\/ adjacent convexes may have}}
\DoxyCodeLine{00883                          \textcolor{comment}{// been calculated too earlier}}
\DoxyCodeLine{00884   \textcolor{comment}{// First check opposites in the m\_generator active contour}}
\DoxyCodeLine{00885   first =}
\DoxyCodeLine{00886       m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}};     \textcolor{comment}{// Adjacent edges were already considered}}
\DoxyCodeLine{00887   last = m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}};  \textcolor{comment}{// by calculateEdgeEvents()}}
\DoxyCodeLine{00888   \textcolor{keywordflow}{for} (opposite = first; opposite != last; opposite = opposite-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}) \{}
\DoxyCodeLine{00889     \textcolor{keywordflow}{if} (!opposite-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}}-\/>hasAttribute(ContourEdge::NOT\_OPPOSITE))}
\DoxyCodeLine{00890       tryRayEdgeCollisionWith(opposite);}
\DoxyCodeLine{00891   \}}
\DoxyCodeLine{00892 }
\DoxyCodeLine{00893   \mbox{\hyperlink{class_index_table}{IndexTable}} \&activeTable = m\_context-\/>m\_activeTable;}
\DoxyCodeLine{00894 }
\DoxyCodeLine{00895   \textcolor{comment}{// Then, try in the remaining active contours whose identifier is != our}}
\DoxyCodeLine{00896   \textcolor{keywordflow}{for} (i = 0; i < activeTable.\mbox{\hyperlink{class_index_table_ae5ad9fe1aa08464501459f1739d815cc}{m\_columns}}.size(); ++i) \{}
\DoxyCodeLine{00897     \textcolor{keywordflow}{for} (currentContour = activeTable[i]-\/>begin();}
\DoxyCodeLine{00898          currentContour != activeTable[i]-\/>end(); currentContour++) \{}
\DoxyCodeLine{00899       \textcolor{comment}{// Da spostare sopra il 2o for}}
\DoxyCodeLine{00900       \textcolor{keywordflow}{if} (activeTable.\mbox{\hyperlink{class_index_table_ae787501a8b7b54425762e7e6aefdd74a}{m\_identifiers}}[(*currentContour)-\/>m\_ancestorContour] !=}
\DoxyCodeLine{00901           activeTable.\mbox{\hyperlink{class_index_table_ae787501a8b7b54425762e7e6aefdd74a}{m\_identifiers}}[m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}]) \{}
\DoxyCodeLine{00902         first = *currentContour;}
\DoxyCodeLine{00903         \textcolor{keywordflow}{for} (opposite = first, forceFirst = 1;}
\DoxyCodeLine{00904              \textcolor{comment}{// Better the first next cond. -\/ in case of thinning errors, at}}
\DoxyCodeLine{00905              \textcolor{comment}{// least it does not get loop'd.}}
\DoxyCodeLine{00906              !opposite-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}})  \textcolor{comment}{// opposite!=first}}
\DoxyCodeLine{00907              || (forceFirst ? forceFirst = 0, 1 : 0);}
\DoxyCodeLine{00908              opposite = opposite-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}) \{}
\DoxyCodeLine{00909           \textcolor{keywordflow}{if} (!opposite-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}}-\/>hasAttribute(ContourEdge::NOT\_OPPOSITE))}
\DoxyCodeLine{00910             tryRayEdgeCollisionWith(opposite);}
\DoxyCodeLine{00911         \}}
\DoxyCodeLine{00912       \}}
\DoxyCodeLine{00913     \}}
\DoxyCodeLine{00914   \}}
\DoxyCodeLine{00915 }
\DoxyCodeLine{00916   \textcolor{comment}{// Restore edge attributes}}
\DoxyCodeLine{00917   \textcolor{keywordflow}{for} (i = 0; i < m\_generator-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}.size(); ++i)}
\DoxyCodeLine{00918     m\_generator-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}[i]-\/>clearAttribute(ContourEdge::NOT\_OPPOSITE);}
\DoxyCodeLine{00919 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_event_a4a3ecd1738a86cd57a74c82a0f4106fd}\label{class_event_a4a3ecd1738a86cd57a74c82a0f4106fd}} 
\index{Event@{Event}!process@{process}}
\index{process@{process}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{process()}{process()}}
{\footnotesize\ttfamily bool Event\+::process (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01112                            \{}
\DoxyCodeLine{01113   \mbox{\hyperlink{class_timeline}{Timeline}} \&timeline           = m\_context-\/>m\_timeline;}
\DoxyCodeLine{01114   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&algoritmicTime = m\_context-\/>m\_algoritmicTime;}
\DoxyCodeLine{01115 }
\DoxyCodeLine{01116   \textcolor{keywordflow}{if} (!m\_generator-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}})) \{}
\DoxyCodeLine{01117     \textcolor{keywordflow}{switch} (m\_type) \{}
\DoxyCodeLine{01118     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a7ad1738a3a40a0d489e1b356c9a42afa}{special}}:}
\DoxyCodeLine{01119       assert(!m\_coGenerator-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}}));}
\DoxyCodeLine{01120 }
\DoxyCodeLine{01121       \textcolor{keywordflow}{if} (m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>hasAttribute(}
\DoxyCodeLine{01122               \mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}}) ||  \textcolor{comment}{// These two are most probably}}
\DoxyCodeLine{01123                                            \textcolor{comment}{// useless -\/ could}}
\DoxyCodeLine{01124           m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>hasAttribute(}
\DoxyCodeLine{01125               \mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}}) ||  \textcolor{comment}{// try to remove them once I'm in for}}
\DoxyCodeLine{01126                                            \textcolor{comment}{// some testing...}}
\DoxyCodeLine{01127           m\_algoritmicTime < m\_coGenerator-\/>m\_prev-\/>m\_updateTime ||}
\DoxyCodeLine{01128           m\_algoritmicTime < m\_coGenerator-\/>m\_next-\/>m\_updateTime) \{}
\DoxyCodeLine{01129         \textcolor{comment}{// recalculate event}}
\DoxyCodeLine{01130         \mbox{\hyperlink{class_event}{Event}} newEvent(m\_generator, m\_context);}
\DoxyCodeLine{01131         \textcolor{keywordflow}{if} (newEvent.m\_type != failure) timeline.push(newEvent);}
\DoxyCodeLine{01132         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01133       \}}
\DoxyCodeLine{01134 }
\DoxyCodeLine{01135       \textcolor{comment}{// else allow processing}}
\DoxyCodeLine{01136       algoritmicTime++;}
\DoxyCodeLine{01137       processSpecialEvent();}
\DoxyCodeLine{01138 }
\DoxyCodeLine{01139       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01140 }
\DoxyCodeLine{01141     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a79f281ada0933ebcb72973baa65084e0}{edge}}:}
\DoxyCodeLine{01142       \textcolor{keywordflow}{if} (m\_coGenerator-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}}) ||}
\DoxyCodeLine{01143           m\_algoritmicTime < m\_coGenerator-\/>m\_next-\/>m\_updateTime) \{}
\DoxyCodeLine{01144         \textcolor{comment}{// recalculate event}}
\DoxyCodeLine{01145         \mbox{\hyperlink{class_event}{Event}} newEvent(m\_generator, m\_context);}
\DoxyCodeLine{01146         \textcolor{keywordflow}{if} (newEvent.m\_type != failure) timeline.push(newEvent);}
\DoxyCodeLine{01147         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01148       \}}
\DoxyCodeLine{01149 }
\DoxyCodeLine{01150       \textcolor{comment}{// Deal with edge superposition cases *only* when m\_generator has the}}
\DoxyCodeLine{01151       \textcolor{comment}{// m\_direction.z == 0.0}}
\DoxyCodeLine{01152       \textcolor{keywordflow}{if} ((m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.z == 0.0 \&\&}
\DoxyCodeLine{01153            m\_coGenerator != m\_generator) ||}
\DoxyCodeLine{01154           (m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.z == 0.0 \&\&}
\DoxyCodeLine{01155            m\_coGenerator == m\_generator))}
\DoxyCodeLine{01156         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01157 }
\DoxyCodeLine{01158       \textcolor{comment}{// else allow processing}}
\DoxyCodeLine{01159       algoritmicTime++;  \textcolor{comment}{// global}}
\DoxyCodeLine{01160       \textcolor{keywordflow}{if} (m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}} == m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}})}
\DoxyCodeLine{01161         processMaxEvent();}
\DoxyCodeLine{01162       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01163         processEdgeEvent();}
\DoxyCodeLine{01164 }
\DoxyCodeLine{01165       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01166 }
\DoxyCodeLine{01167     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a7342b521191201997425f7da42bbfc63}{vertex}}:}
\DoxyCodeLine{01168       \textcolor{keywordflow}{if} (m\_coGenerator-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}})) \{}
\DoxyCodeLine{01169         \textcolor{comment}{// recalculate event}}
\DoxyCodeLine{01170         \mbox{\hyperlink{class_event}{Event}} newEvent(m\_generator, m\_context);}
\DoxyCodeLine{01171         \textcolor{keywordflow}{if} (newEvent.m\_type != failure) timeline.push(newEvent);}
\DoxyCodeLine{01172         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01173       \}}
\DoxyCodeLine{01174 }
\DoxyCodeLine{01175       \textcolor{comment}{// Unlike the split case, we don't need to rebuild if}}
\DoxyCodeLine{01176       \textcolor{comment}{// the event is not up to date with m\_coGenerator -\/ since}}
\DoxyCodeLine{01177       \textcolor{comment}{// the event is not about splitting an edge}}
\DoxyCodeLine{01178 }
\DoxyCodeLine{01179       \textcolor{keywordflow}{if} (m\_coGenerator ==}
\DoxyCodeLine{01180               m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}}
\DoxyCodeLine{01181                   -\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}  \textcolor{comment}{// CAN devolve to a special event -\/ which should}}
\DoxyCodeLine{01182           ||}
\DoxyCodeLine{01183           m\_coGenerator ==}
\DoxyCodeLine{01184               m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}}
\DoxyCodeLine{01185                   -\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}})  \textcolor{comment}{// already be present in the timeline}}
\DoxyCodeLine{01186         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01187 }
\DoxyCodeLine{01188       \textcolor{comment}{// then, process it}}
\DoxyCodeLine{01189       algoritmicTime++;}
\DoxyCodeLine{01190       processVertexEvent();}
\DoxyCodeLine{01191 }
\DoxyCodeLine{01192       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01193 }
\DoxyCodeLine{01194     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a29519734363d4a5a64fdf77c4a22268a}{split\_regenerate}}:}
\DoxyCodeLine{01195       \textcolor{keywordflow}{if} (m\_coGenerator-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}}) ||}
\DoxyCodeLine{01196           (m\_algoritmicTime < m\_coGenerator-\/>m\_next-\/>m\_updateTime)) \{}
\DoxyCodeLine{01197         \textcolor{comment}{// recalculate event}}
\DoxyCodeLine{01198         \mbox{\hyperlink{class_event}{Event}} newEvent(m\_generator, m\_context);}
\DoxyCodeLine{01199         \textcolor{keywordflow}{if} (newEvent.m\_type != failure) timeline.push(newEvent);}
\DoxyCodeLine{01200         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01201       \}}
\DoxyCodeLine{01202 }
\DoxyCodeLine{01203     \textcolor{comment}{// This may actually happen on current implementation, due to quirky event}}
\DoxyCodeLine{01204     \textcolor{comment}{// generation and preferential events rejection. See function tryRay..()}}
\DoxyCodeLine{01205     \textcolor{comment}{// around the end. Historically resolved to a split event, so we maintain}}
\DoxyCodeLine{01206     \textcolor{comment}{// that.}}
\DoxyCodeLine{01207 }
\DoxyCodeLine{01208     \textcolor{comment}{// assert(false);}}
\DoxyCodeLine{01209 }
\DoxyCodeLine{01210     \textcolor{comment}{/* fallthrough */}}
\DoxyCodeLine{01211 }
\DoxyCodeLine{01212     \textcolor{keywordflow}{case} \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a9d37ce59e247639e42f47a451da5a428}{split}}:  \textcolor{comment}{// No break is intended}}
\DoxyCodeLine{01213       \textcolor{keywordflow}{if} (m\_coGenerator-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}}) ||}
\DoxyCodeLine{01214           (m\_algoritmicTime < m\_coGenerator-\/>m\_next-\/>m\_updateTime)) \{}
\DoxyCodeLine{01215         \textcolor{comment}{// recalculate event}}
\DoxyCodeLine{01216         \mbox{\hyperlink{class_event}{Event}} newEvent(m\_generator, m\_context);}
\DoxyCodeLine{01217         \textcolor{keywordflow}{if} (newEvent.m\_type != failure) timeline.push(newEvent);}
\DoxyCodeLine{01218         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01219       \}}
\DoxyCodeLine{01220 }
\DoxyCodeLine{01221       \textcolor{comment}{// else allow processing (but check these conditions)}}
\DoxyCodeLine{01222       \textcolor{keywordflow}{if} (m\_coGenerator != m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}} \&\&}
\DoxyCodeLine{01223           m\_coGenerator !=}
\DoxyCodeLine{01224               m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}}
\DoxyCodeLine{01225                   -\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}})  \textcolor{comment}{// Because another edge already occurs at his place}}
\DoxyCodeLine{01226       \{}
\DoxyCodeLine{01227         algoritmicTime++;}
\DoxyCodeLine{01228         processSplitEvent();}
\DoxyCodeLine{01229       \}}
\DoxyCodeLine{01230 }
\DoxyCodeLine{01231       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01232     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{01233       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01234     \}}
\DoxyCodeLine{01235   \}}
\DoxyCodeLine{01236 }
\DoxyCodeLine{01237   \textcolor{keywordflow}{return} \textcolor{keyword}{true};  \textcolor{comment}{// Processing succeeded}}
\DoxyCodeLine{01238 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_event_ac6d5d0b2d1fd642475589ea08c9ba895}\label{class_event_ac6d5d0b2d1fd642475589ea08c9ba895}} 
\index{Event@{Event}!processEdgeEvent@{processEdgeEvent}}
\index{processEdgeEvent@{processEdgeEvent}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{processEdgeEvent()}{processEdgeEvent()}}
{\footnotesize\ttfamily void Event\+::process\+Edge\+Event (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01252                                     \{}
\DoxyCodeLine{01253   \mbox{\hyperlink{class_contour_node}{ContourNode}} *newNode;}
\DoxyCodeLine{01254   \mbox{\hyperlink{class_t3_d_point_t}{T3DPointD}} position(m\_generator-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} +}
\DoxyCodeLine{01255                      m\_displacement * m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}});}
\DoxyCodeLine{01256 }
\DoxyCodeLine{01257   \textcolor{comment}{// Eliminate and unlink extremities of m\_coGenerator's edge}}
\DoxyCodeLine{01258   m\_coGenerator-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01259   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01260 }
\DoxyCodeLine{01261   \textcolor{comment}{// Then, take a node from heap and insert it at their place.}}
\DoxyCodeLine{01262   newNode             = m\_context-\/>getNode();}
\DoxyCodeLine{01263   newNode-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} = position;}
\DoxyCodeLine{01264 }
\DoxyCodeLine{01265   newNode-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}                       = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}};}
\DoxyCodeLine{01266   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}} = newNode;}
\DoxyCodeLine{01267 }
\DoxyCodeLine{01268   newNode-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}               = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}};}
\DoxyCodeLine{01269   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}} = newNode;}
\DoxyCodeLine{01270 }
\DoxyCodeLine{01271   \textcolor{comment}{// Then, initialize new node (however, 3rd component is m\_height...)}}
\DoxyCodeLine{01272   newNode-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} =}
\DoxyCodeLine{01273       m\_generator-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} + m\_displacement * m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}};}
\DoxyCodeLine{01274   newNode-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}} = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}};}
\DoxyCodeLine{01275 }
\DoxyCodeLine{01276   newNode-\/>buildNodeInfos(1);  \textcolor{comment}{// 1 => Force convex node}}
\DoxyCodeLine{01277 }
\DoxyCodeLine{01278   newNode-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}}        = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}};}
\DoxyCodeLine{01279   newNode-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}} = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}};}
\DoxyCodeLine{01280   newNode-\/>\mbox{\hyperlink{class_contour_node_a6e2399be686ff186ce6e2aa1f001f8c4}{m\_updateTime}}      = m\_context-\/>m\_algoritmicTime;}
\DoxyCodeLine{01281 }
\DoxyCodeLine{01282   \textcolor{comment}{// We allocate an output vertex on newNode's position under these conditions}}
\DoxyCodeLine{01283   \textcolor{comment}{// NOTE: Update once graph\_old is replaced}}
\DoxyCodeLine{01284   \textcolor{keywordflow}{if} (newNode-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.z < 0.7 ||}
\DoxyCodeLine{01285       m\_coGenerator-\/>hasAttribute(ContourNode::SK\_NODE\_DROPPED) ||}
\DoxyCodeLine{01286       m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>hasAttribute(ContourNode::SK\_NODE\_DROPPED)) \{}
\DoxyCodeLine{01287     newNode-\/>setAttribute(ContourNode::SK\_NODE\_DROPPED);}
\DoxyCodeLine{01288     newNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}} = m\_context-\/>m\_output-\/>newNode(position);}
\DoxyCodeLine{01289     m\_context-\/>newSkeletonLink(newNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}, m\_coGenerator);}
\DoxyCodeLine{01290     m\_context-\/>newSkeletonLink(newNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}, m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}});}
\DoxyCodeLine{01291   \}}
\DoxyCodeLine{01292 }
\DoxyCodeLine{01293   \textcolor{comment}{// If m\_coGenerator or its m\_next is HEAD of this contour, then}}
\DoxyCodeLine{01294   \textcolor{comment}{// redefine newNode as the new head.}}
\DoxyCodeLine{01295   \textcolor{keywordflow}{if} (m\_coGenerator-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}}) ||}
\DoxyCodeLine{01296       m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}})) \{}
\DoxyCodeLine{01297     std::list<ContourNode *>::iterator it;}
\DoxyCodeLine{01298     std::list<ContourNode *> \&column =}
\DoxyCodeLine{01299         m\_context-\/>m\_activeTable.columnOfId(m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}});}
\DoxyCodeLine{01300 }
\DoxyCodeLine{01301     \textcolor{keywordflow}{for} (it = column.begin(); !(*it)-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01302          ++it)}
\DoxyCodeLine{01303       ;}
\DoxyCodeLine{01304 }
\DoxyCodeLine{01305     \textcolor{comment}{// assert(*it == m\_coGenerator || *it == m\_coGenerator-\/>m\_next);}}
\DoxyCodeLine{01306 }
\DoxyCodeLine{01307     *it = newNode, newNode-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01308   \}}
\DoxyCodeLine{01309 }
\DoxyCodeLine{01310   \textcolor{comment}{// Finally, calculate the Event raising by newNode}}
\DoxyCodeLine{01311   \mbox{\hyperlink{class_event}{Event}} newEvent(newNode, m\_context);}
\DoxyCodeLine{01312   \textcolor{keywordflow}{if} (newEvent.m\_type != Event::failure) m\_context-\/>m\_timeline.push(newEvent);}
\DoxyCodeLine{01313 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_event_a46e9058fb54959eed3d29b690507a1f9}\label{class_event_a46e9058fb54959eed3d29b690507a1f9}} 
\index{Event@{Event}!processMaxEvent@{processMaxEvent}}
\index{processMaxEvent@{processMaxEvent}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{processMaxEvent()}{processMaxEvent()}}
{\footnotesize\ttfamily void Event\+::process\+Max\+Event (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01319                                    \{}
\DoxyCodeLine{01320   \mbox{\hyperlink{class_t3_d_point_t}{T3DPointD}} position(m\_generator-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} +}
\DoxyCodeLine{01321                      m\_displacement * m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}});}
\DoxyCodeLine{01322 }
\DoxyCodeLine{01323   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} outputNode = m\_context-\/>m\_output-\/>newNode(position);}
\DoxyCodeLine{01324 }
\DoxyCodeLine{01325   m\_context-\/>newSkeletonLink(outputNode, m\_generator);}
\DoxyCodeLine{01326   m\_context-\/>newSkeletonLink(outputNode, m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}});}
\DoxyCodeLine{01327   m\_context-\/>newSkeletonLink(outputNode, m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}});}
\DoxyCodeLine{01328 }
\DoxyCodeLine{01329   \textcolor{comment}{// Then remove active contour and eliminate nodes}}
\DoxyCodeLine{01330   std::list<ContourNode *>::iterator eventVertexIndex =}
\DoxyCodeLine{01331       m\_context-\/>m\_activeTable.find(m\_generator);}
\DoxyCodeLine{01332 }
\DoxyCodeLine{01333   m\_context-\/>m\_activeTable.remove(eventVertexIndex);}
\DoxyCodeLine{01334 }
\DoxyCodeLine{01335   m\_generator-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01336   m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01337   m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01338 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_event_a34f51130fb0ea63029c7e0feadecfa40}\label{class_event_a34f51130fb0ea63029c7e0feadecfa40}} 
\index{Event@{Event}!processSpecialEvent@{processSpecialEvent}}
\index{processSpecialEvent@{processSpecialEvent}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{processSpecialEvent()}{processSpecialEvent()}}
{\footnotesize\ttfamily void Event\+::process\+Special\+Event (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01592                                        \{}
\DoxyCodeLine{01593   \mbox{\hyperlink{class_contour_node}{ContourNode}} *newNode;}
\DoxyCodeLine{01594   \mbox{\hyperlink{class_t3_d_point_t}{T3DPointD}} position(m\_generator-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} +}
\DoxyCodeLine{01595                      m\_displacement * m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}});}
\DoxyCodeLine{01596 }
\DoxyCodeLine{01597   m\_coGenerator-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01598   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01599   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01600 }
\DoxyCodeLine{01601   \textcolor{comment}{// Get and link newNode to the rest of this contour}}
\DoxyCodeLine{01602   newNode             = m\_context-\/>getNode();}
\DoxyCodeLine{01603   newNode-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} = position;}
\DoxyCodeLine{01604 }
\DoxyCodeLine{01605   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}} = newNode;}
\DoxyCodeLine{01606   newNode-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}                       = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}};}
\DoxyCodeLine{01607 }
\DoxyCodeLine{01608   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}} = newNode;}
\DoxyCodeLine{01609   newNode-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}                       = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}};}
\DoxyCodeLine{01610 }
\DoxyCodeLine{01611   \textcolor{comment}{// Then, initialize newNode infos}}
\DoxyCodeLine{01612   newNode-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}} = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}};}
\DoxyCodeLine{01613 }
\DoxyCodeLine{01614   newNode-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}}        = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}};}
\DoxyCodeLine{01615   newNode-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}} = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}};}
\DoxyCodeLine{01616 }
\DoxyCodeLine{01617   \textcolor{comment}{// Neither this case can be forced convex}}
\DoxyCodeLine{01618   newNode-\/>buildNodeInfos();}
\DoxyCodeLine{01619   newNode-\/>\mbox{\hyperlink{class_contour_node_a6e2399be686ff186ce6e2aa1f001f8c4}{m\_updateTime}} = m\_context-\/>m\_algoritmicTime;}
\DoxyCodeLine{01620 }
\DoxyCodeLine{01621   \textcolor{comment}{// Now build output}}
\DoxyCodeLine{01622   newNode-\/>setAttribute(ContourNode::SK\_NODE\_DROPPED);}
\DoxyCodeLine{01623   newNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}} = m\_context-\/>m\_output-\/>newNode(position);}
\DoxyCodeLine{01624   m\_context-\/>newSkeletonLink(newNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}, m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}});}
\DoxyCodeLine{01625   m\_context-\/>newSkeletonLink(newNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}, m\_coGenerator);}
\DoxyCodeLine{01626   m\_context-\/>newSkeletonLink(newNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}, m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}});}
\DoxyCodeLine{01627 }
\DoxyCodeLine{01628   \textcolor{comment}{// If m\_coGenerator or one of his adjacents is HEAD of this contour, then}}
\DoxyCodeLine{01629   \textcolor{comment}{// redefine newNode as the new head.}}
\DoxyCodeLine{01630   \textcolor{keywordflow}{if} (m\_coGenerator-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}}) ||}
\DoxyCodeLine{01631       m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}}) ||}
\DoxyCodeLine{01632       m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}})) \{}
\DoxyCodeLine{01633     std::list<ContourNode *>::iterator it;}
\DoxyCodeLine{01634     std::list<ContourNode *> \&column =}
\DoxyCodeLine{01635         m\_context-\/>m\_activeTable.columnOfId(m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}});}
\DoxyCodeLine{01636 }
\DoxyCodeLine{01637     \textcolor{keywordflow}{for} (it = column.begin(); !(*it)-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01638          ++it)}
\DoxyCodeLine{01639       ;}
\DoxyCodeLine{01640 }
\DoxyCodeLine{01641     \textcolor{comment}{// assert(*it == m\_coGenerator || *it == m\_coGenerator-\/>m\_next || *it ==}}
\DoxyCodeLine{01642     \textcolor{comment}{// m\_coGenerator-\/>m\_prev);}}
\DoxyCodeLine{01643 }
\DoxyCodeLine{01644     *it = newNode, newNode-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01645   \}}
\DoxyCodeLine{01646 }
\DoxyCodeLine{01647   \textcolor{comment}{// Finally, calculate the Event raising by newNode}}
\DoxyCodeLine{01648   \mbox{\hyperlink{class_event}{Event}} newEvent(newNode, m\_context);}
\DoxyCodeLine{01649   \textcolor{keywordflow}{if} (newEvent.m\_type != Event::failure) m\_context-\/>m\_timeline.push(newEvent);}
\DoxyCodeLine{01650 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_event_af4696f065e96ac3de881594c83085b87}\label{class_event_af4696f065e96ac3de881594c83085b87}} 
\index{Event@{Event}!processSplitEvent@{processSplitEvent}}
\index{processSplitEvent@{processSplitEvent}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{processSplitEvent()}{processSplitEvent()}}
{\footnotesize\ttfamily void Event\+::process\+Split\+Event (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01352                                      \{}
\DoxyCodeLine{01353   \mbox{\hyperlink{class_contour_node}{ContourNode}} *newLeftNode,}
\DoxyCodeLine{01354       *newRightNode;  \textcolor{comment}{// left-\/right in the sense of the picture}}
\DoxyCodeLine{01355   \mbox{\hyperlink{class_t3_d_point_t}{T3DPointD}} position(m\_generator-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} +}
\DoxyCodeLine{01356                      m\_displacement * m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}});}
\DoxyCodeLine{01357   \mbox{\hyperlink{class_index_table}{IndexTable}} \&activeTable      = m\_context-\/>m\_activeTable;}
\DoxyCodeLine{01358   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&algoritmicTime = m\_context-\/>m\_algoritmicTime;}
\DoxyCodeLine{01359 }
\DoxyCodeLine{01360   \textcolor{comment}{// First, we find in the Index Table the contours involved}}
\DoxyCodeLine{01361   std::list<ContourNode *>::iterator genContour, coGenContour;}
\DoxyCodeLine{01362   genContour = activeTable.find(m\_generator);}
\DoxyCodeLine{01363 }
\DoxyCodeLine{01364   \textcolor{keywordflow}{if} (activeTable.\mbox{\hyperlink{class_index_table_ae787501a8b7b54425762e7e6aefdd74a}{m\_identifiers}}[m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}] !=}
\DoxyCodeLine{01365       activeTable.\mbox{\hyperlink{class_index_table_ae787501a8b7b54425762e7e6aefdd74a}{m\_identifiers}}[m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}]) \{}
\DoxyCodeLine{01366     \textcolor{comment}{// We have two different contours, that merge in one}}
\DoxyCodeLine{01367     coGenContour = activeTable.find(m\_coGenerator);}
\DoxyCodeLine{01368   \}}
\DoxyCodeLine{01369 }
\DoxyCodeLine{01370   \textcolor{comment}{// Now, update known nodes}}
\DoxyCodeLine{01371   m\_generator-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01372 }
\DoxyCodeLine{01373   \textcolor{comment}{// Allocate 2 new nodes and link the following way:}}
\DoxyCodeLine{01374   newLeftNode             = m\_context-\/>getNode();}
\DoxyCodeLine{01375   newRightNode            = m\_context-\/>getNode();}
\DoxyCodeLine{01376   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} = newRightNode-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} = position;}
\DoxyCodeLine{01377 }
\DoxyCodeLine{01378   \textcolor{comment}{// On the right side}}
\DoxyCodeLine{01379   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}} = newRightNode;}
\DoxyCodeLine{01380   newRightNode-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}          = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}};}
\DoxyCodeLine{01381   m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}   = newRightNode;}
\DoxyCodeLine{01382   newRightNode-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}          = m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}};}
\DoxyCodeLine{01383 }
\DoxyCodeLine{01384   \textcolor{comment}{// On the left side}}
\DoxyCodeLine{01385   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}       = newLeftNode;}
\DoxyCodeLine{01386   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}         = m\_coGenerator;}
\DoxyCodeLine{01387   m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}} = newLeftNode;}
\DoxyCodeLine{01388   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}         = m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}};}
\DoxyCodeLine{01389 }
\DoxyCodeLine{01390   \textcolor{comment}{// Assign and calculate the new nodes' information}}
\DoxyCodeLine{01391   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}}  = m\_generator-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}};}
\DoxyCodeLine{01392   newRightNode-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}} = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}};}
\DoxyCodeLine{01393 }
\DoxyCodeLine{01394   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}}         = m\_generator-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}};}
\DoxyCodeLine{01395   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}  = m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}};}
\DoxyCodeLine{01396   newRightNode-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}}        = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}};}
\DoxyCodeLine{01397   newRightNode-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}} = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}};}
\DoxyCodeLine{01398 }
\DoxyCodeLine{01399   \textcolor{comment}{// We can force the new nodes to be convex}}
\DoxyCodeLine{01400   newLeftNode-\/>buildNodeInfos(1);}
\DoxyCodeLine{01401   newRightNode-\/>buildNodeInfos(1);}
\DoxyCodeLine{01402 }
\DoxyCodeLine{01403   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a6e2399be686ff186ce6e2aa1f001f8c4}{m\_updateTime}} = newRightNode-\/>\mbox{\hyperlink{class_contour_node_a6e2399be686ff186ce6e2aa1f001f8c4}{m\_updateTime}} = algoritmicTime;}
\DoxyCodeLine{01404 }
\DoxyCodeLine{01405   \textcolor{comment}{// Now, output the found interaction}}
\DoxyCodeLine{01406   newLeftNode-\/>setAttribute(ContourNode::SK\_NODE\_DROPPED);}
\DoxyCodeLine{01407   newRightNode-\/>setAttribute(ContourNode::SK\_NODE\_DROPPED);}
\DoxyCodeLine{01408   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}  = m\_context-\/>m\_output-\/>newNode(position);}
\DoxyCodeLine{01409   newRightNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}} = newLeftNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}};}
\DoxyCodeLine{01410   m\_context-\/>newSkeletonLink(newLeftNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}, m\_generator);}
\DoxyCodeLine{01411 }
\DoxyCodeLine{01412   \textcolor{comment}{// Update the active Index Table:}}
\DoxyCodeLine{01413   \textcolor{keywordflow}{if} (activeTable.\mbox{\hyperlink{class_index_table_ae787501a8b7b54425762e7e6aefdd74a}{m\_identifiers}}[m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}] !=}
\DoxyCodeLine{01414       activeTable.\mbox{\hyperlink{class_index_table_ae787501a8b7b54425762e7e6aefdd74a}{m\_identifiers}}[m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}]) \{}
\DoxyCodeLine{01415     \textcolor{comment}{// If we have two different contours, they merge in one}}
\DoxyCodeLine{01416     \textcolor{comment}{// We keep coGenContour and remove genContour}}
\DoxyCodeLine{01417     (*genContour)-\/>clearAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01418     activeTable.merge(coGenContour, genContour);}
\DoxyCodeLine{01419   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01420     \textcolor{comment}{// Else we have only one contour, which splits in two}}
\DoxyCodeLine{01421     (*genContour)-\/>clearAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01422     *genContour = newLeftNode;}
\DoxyCodeLine{01423 }
\DoxyCodeLine{01424     newLeftNode-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01425     newRightNode-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01426 }
\DoxyCodeLine{01427     activeTable.columnOfId(m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}})}
\DoxyCodeLine{01428         .push\_back(newRightNode);}
\DoxyCodeLine{01429   \}}
\DoxyCodeLine{01430 }
\DoxyCodeLine{01431   \textcolor{comment}{// (Vertex compatibility): Moving newRightNode a bit on}}
\DoxyCodeLine{01432   newRightNode-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} += 0.02 * newRightNode-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}};}
\DoxyCodeLine{01433 }
\DoxyCodeLine{01434   \textcolor{comment}{// Finally, calculate the new left and right Events}}
\DoxyCodeLine{01435   \mbox{\hyperlink{class_event}{Event}} newLeftEvent(newLeftNode, m\_context);}
\DoxyCodeLine{01436   \textcolor{keywordflow}{if} (newLeftEvent.m\_type != Event::failure)}
\DoxyCodeLine{01437     m\_context-\/>m\_timeline.push(newLeftEvent);}
\DoxyCodeLine{01438 }
\DoxyCodeLine{01439   \mbox{\hyperlink{class_event}{Event}} newRightEvent(newRightNode, m\_context);}
\DoxyCodeLine{01440   \textcolor{keywordflow}{if} (newRightEvent.m\_type != Event::failure)}
\DoxyCodeLine{01441     m\_context-\/>m\_timeline.push(newRightEvent);}
\DoxyCodeLine{01442 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_event_a2358301510ae0ac99df023dcef6f7448}\label{class_event_a2358301510ae0ac99df023dcef6f7448}} 
\index{Event@{Event}!processVertexEvent@{processVertexEvent}}
\index{processVertexEvent@{processVertexEvent}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{processVertexEvent()}{processVertexEvent()}}
{\footnotesize\ttfamily void Event\+::process\+Vertex\+Event (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01457                                       \{}
\DoxyCodeLine{01458   \mbox{\hyperlink{class_contour_node}{ContourNode}} *newLeftNode,}
\DoxyCodeLine{01459       *newRightNode;  \textcolor{comment}{// left-\/right in the sense of the picture}}
\DoxyCodeLine{01460   \mbox{\hyperlink{class_t3_d_point_t}{T3DPointD}} position(m\_generator-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} +}
\DoxyCodeLine{01461                      m\_displacement * m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}});}
\DoxyCodeLine{01462   \mbox{\hyperlink{class_index_table}{IndexTable}} \&activeTable      = m\_context-\/>m\_activeTable;}
\DoxyCodeLine{01463   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \&algoritmicTime = m\_context-\/>m\_algoritmicTime;}
\DoxyCodeLine{01464 }
\DoxyCodeLine{01465   \textcolor{comment}{// First, we find in the Index Table the contours involved}}
\DoxyCodeLine{01466   std::list<ContourNode *>::iterator genContour, coGenContour;}
\DoxyCodeLine{01467   genContour = activeTable.find(m\_generator);}
\DoxyCodeLine{01468 }
\DoxyCodeLine{01469   \textcolor{keywordflow}{if} (activeTable.\mbox{\hyperlink{class_index_table_ae787501a8b7b54425762e7e6aefdd74a}{m\_identifiers}}[m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}] !=}
\DoxyCodeLine{01470       activeTable.\mbox{\hyperlink{class_index_table_ae787501a8b7b54425762e7e6aefdd74a}{m\_identifiers}}[m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}]) \{}
\DoxyCodeLine{01471     \textcolor{comment}{// We have two different contours, that merge in one}}
\DoxyCodeLine{01472     coGenContour = activeTable.find(m\_coGenerator);}
\DoxyCodeLine{01473   \}}
\DoxyCodeLine{01474 }
\DoxyCodeLine{01475   \textcolor{comment}{// Now, update known nodes}}
\DoxyCodeLine{01476   m\_generator-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01477   m\_coGenerator-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93ea063f58d6ee7fc591e634c8de9a0f2bf9}{ContourNode::ELIMINATED}});}
\DoxyCodeLine{01478 }
\DoxyCodeLine{01479   \textcolor{comment}{// Allocate 2 new nodes and link the following way:}}
\DoxyCodeLine{01480   newLeftNode             = m\_context-\/>getNode();}
\DoxyCodeLine{01481   newRightNode            = m\_context-\/>getNode();}
\DoxyCodeLine{01482   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} = newRightNode-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} = position;}
\DoxyCodeLine{01483 }
\DoxyCodeLine{01484   \textcolor{comment}{// On the right side}}
\DoxyCodeLine{01485   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}} = newRightNode;}
\DoxyCodeLine{01486   newRightNode-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}          = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}};}
\DoxyCodeLine{01487   m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}   = newRightNode;}
\DoxyCodeLine{01488   newRightNode-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}          = m\_generator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}};}
\DoxyCodeLine{01489 }
\DoxyCodeLine{01490   \textcolor{comment}{// On the left side}}
\DoxyCodeLine{01491   m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}} = newLeftNode;}
\DoxyCodeLine{01492   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}           = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}};}
\DoxyCodeLine{01493   m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}   = newLeftNode;}
\DoxyCodeLine{01494   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}}           = m\_generator-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}};}
\DoxyCodeLine{01495 }
\DoxyCodeLine{01496   \textcolor{comment}{// Assign and calculate the new nodes' information}}
\DoxyCodeLine{01497   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}}  = m\_generator-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}};}
\DoxyCodeLine{01498   newRightNode-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}} = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}};}
\DoxyCodeLine{01499 }
\DoxyCodeLine{01500   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}}         = m\_generator-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}};}
\DoxyCodeLine{01501   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}  = m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}};}
\DoxyCodeLine{01502   newRightNode-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}}        = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a2e86dc6e196ffd3ff3fc98f09047caf5}{m\_ancestor}};}
\DoxyCodeLine{01503   newRightNode-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}} = m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}};}
\DoxyCodeLine{01504 }
\DoxyCodeLine{01505   \textcolor{comment}{// We *CAN'T* force the new nodes to be convex here}}
\DoxyCodeLine{01506   newLeftNode-\/>buildNodeInfos();}
\DoxyCodeLine{01507   newRightNode-\/>buildNodeInfos();}
\DoxyCodeLine{01508 }
\DoxyCodeLine{01509   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a6e2399be686ff186ce6e2aa1f001f8c4}{m\_updateTime}} = newRightNode-\/>\mbox{\hyperlink{class_contour_node_a6e2399be686ff186ce6e2aa1f001f8c4}{m\_updateTime}} = algoritmicTime;}
\DoxyCodeLine{01510 }
\DoxyCodeLine{01511   \textcolor{comment}{// Now, output the found interaction}}
\DoxyCodeLine{01512   newLeftNode-\/>setAttribute(ContourNode::SK\_NODE\_DROPPED);}
\DoxyCodeLine{01513   newRightNode-\/>setAttribute(ContourNode::SK\_NODE\_DROPPED);}
\DoxyCodeLine{01514   newLeftNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}  = m\_context-\/>m\_output-\/>newNode(position);}
\DoxyCodeLine{01515   newRightNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}} = newLeftNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}};}
\DoxyCodeLine{01516   m\_context-\/>newSkeletonLink(newLeftNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}, m\_generator);}
\DoxyCodeLine{01517   m\_context-\/>newSkeletonLink(newLeftNode-\/>\mbox{\hyperlink{class_contour_node_aedb2bc3a508f9abd678aa94e82139c8b}{m\_outputNode}}, m\_coGenerator);}
\DoxyCodeLine{01518 }
\DoxyCodeLine{01519   \textcolor{comment}{// Update the active Index Table}}
\DoxyCodeLine{01520   \textcolor{keywordflow}{if} (activeTable.\mbox{\hyperlink{class_index_table_ae787501a8b7b54425762e7e6aefdd74a}{m\_identifiers}}[m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}] !=}
\DoxyCodeLine{01521       activeTable.\mbox{\hyperlink{class_index_table_ae787501a8b7b54425762e7e6aefdd74a}{m\_identifiers}}[m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}}]) \{}
\DoxyCodeLine{01522     \textcolor{comment}{// If we have two different contours, they merge in one}}
\DoxyCodeLine{01523     (*coGenContour)-\/>clearAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01524     activeTable.merge(genContour, coGenContour);}
\DoxyCodeLine{01525 }
\DoxyCodeLine{01526     \textcolor{comment}{// Check if the generator is head, if so update.}}
\DoxyCodeLine{01527     \textcolor{keywordflow}{if} (m\_generator-\/>hasAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}})) \{}
\DoxyCodeLine{01528       newLeftNode-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01529       *genContour = newLeftNode;}
\DoxyCodeLine{01530     \}}
\DoxyCodeLine{01531 }
\DoxyCodeLine{01532   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01533     \textcolor{comment}{// Else we have only one contour, which splits in two}}
\DoxyCodeLine{01534     (*genContour)-\/>clearAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01535     *genContour = newLeftNode;}
\DoxyCodeLine{01536 }
\DoxyCodeLine{01537     newLeftNode-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01538     newRightNode-\/>setAttribute(\mbox{\hyperlink{class_contour_node_a7a113f0a25502174a87d6880481bd93eabc7a9d16bfe65fc23691a4ec9adf38cb}{ContourNode::HEAD}});}
\DoxyCodeLine{01539 }
\DoxyCodeLine{01540     activeTable.columnOfId(m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6c6887bbb84d6d8062fbeddde04a5882}{m\_ancestorContour}})}
\DoxyCodeLine{01541         .push\_back(newRightNode);}
\DoxyCodeLine{01542   \}}
\DoxyCodeLine{01543 }
\DoxyCodeLine{01544   \textcolor{comment}{// Before calculating the new interactions, to each new node we assign}}
\DoxyCodeLine{01545   \textcolor{comment}{// as impossible opposite edges the adjacent of the other node.}}
\DoxyCodeLine{01546   \textcolor{keywordflow}{if} (newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a19555660302217faf473dea41dbcfc17}{m\_concave}}) \{}
\DoxyCodeLine{01547     newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}} = m\_generator-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}};}
\DoxyCodeLine{01548     append<std::vector<ContourEdge *>,}
\DoxyCodeLine{01549            std::vector<ContourEdge *>::reverse\_iterator>(}
\DoxyCodeLine{01550         newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}, m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}});}
\DoxyCodeLine{01551 }
\DoxyCodeLine{01552     newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}.push\_back(newRightNode-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}});}
\DoxyCodeLine{01553     newLeftNode-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}.push\_back(newRightNode-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}});}
\DoxyCodeLine{01554   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (newRightNode-\/>\mbox{\hyperlink{class_contour_node_a19555660302217faf473dea41dbcfc17}{m\_concave}}) \{}
\DoxyCodeLine{01555     newRightNode-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}} = m\_generator-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}};}
\DoxyCodeLine{01556     append<std::vector<ContourEdge *>,}
\DoxyCodeLine{01557            std::vector<ContourEdge *>::reverse\_iterator>(}
\DoxyCodeLine{01558         newRightNode-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}, m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}});}
\DoxyCodeLine{01559 }
\DoxyCodeLine{01560     newRightNode-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}.push\_back(newLeftNode-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}});}
\DoxyCodeLine{01561     newRightNode-\/>\mbox{\hyperlink{class_contour_node_a14c308ca63e367045d7f0ff76ef9e575}{m\_notOpposites}}.push\_back(newLeftNode-\/>\mbox{\hyperlink{class_contour_node_ac4ef2b1947b66623cc66de831ebf1248}{m\_prev}}-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}});}
\DoxyCodeLine{01562   \}}
\DoxyCodeLine{01563 }
\DoxyCodeLine{01564   \textcolor{comment}{// We also forbid newRightNode to be involved in events at the same location}}
\DoxyCodeLine{01565   \textcolor{comment}{// of this one.}}
\DoxyCodeLine{01566   \textcolor{comment}{// We just push its position in the m\_direction by 0.02.}}
\DoxyCodeLine{01567   newRightNode-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}} += 0.02 * newRightNode-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}};}
\DoxyCodeLine{01568 }
\DoxyCodeLine{01569   \textcolor{comment}{// Finally, calculate the new left and right Events}}
\DoxyCodeLine{01570   \mbox{\hyperlink{class_event}{Event}} newLeftEvent(newLeftNode, m\_context);}
\DoxyCodeLine{01571   \textcolor{keywordflow}{if} (newLeftEvent.m\_type != Event::failure)}
\DoxyCodeLine{01572     m\_context-\/>m\_timeline.push(newLeftEvent);}
\DoxyCodeLine{01573 }
\DoxyCodeLine{01574   \mbox{\hyperlink{class_event}{Event}} newRightEvent(newRightNode, m\_context);}
\DoxyCodeLine{01575   \textcolor{keywordflow}{if} (newRightEvent.m\_type != Event::failure)}
\DoxyCodeLine{01576     m\_context-\/>m\_timeline.push(newRightEvent);}
\DoxyCodeLine{01577 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_event_a2218c3412c6cef5fc0fe40a6aadfc85f}\label{class_event_a2218c3412c6cef5fc0fe40a6aadfc85f}} 
\index{Event@{Event}!splitDisplacementWith@{splitDisplacementWith}}
\index{splitDisplacementWith@{splitDisplacementWith}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{splitDisplacementWith()}{splitDisplacementWith()}}
{\footnotesize\ttfamily double Event\+::split\+Displacement\+With (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$}]{plane }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01086                                                             \{}
\DoxyCodeLine{01087   \mbox{\hyperlink{class_t_point_t}{TPointD}} slabLeftOrthogonal(-\/slab-\/>m\_edge-\/>m\_direction.y,}
\DoxyCodeLine{01088                              slab-\/>m\_edge-\/>m\_direction.x);}
\DoxyCodeLine{01089   \textcolor{keywordtype}{double} denom = m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.z +}
\DoxyCodeLine{01090                  slabLeftOrthogonal * \mbox{\hyperlink{class_t_point_t}{TPointD}}(m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.x,}
\DoxyCodeLine{01091                                               m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}}.y);}
\DoxyCodeLine{01092 }
\DoxyCodeLine{01093   \textcolor{keywordflow}{if} (denom < 0.01)}
\DoxyCodeLine{01094     \textcolor{keywordflow}{return} -\/1;  \textcolor{comment}{// generator-\/emitted ray is almost parallel to slab}}
\DoxyCodeLine{01095 }
\DoxyCodeLine{01096   \mbox{\hyperlink{class_t_point_t}{TPointD}} difference =}
\DoxyCodeLine{01097       planeProjection(slab-\/>m\_position -\/ m\_generator-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}});}
\DoxyCodeLine{01098 }
\DoxyCodeLine{01099   \textcolor{keywordflow}{return} (slabLeftOrthogonal * difference + slab-\/>m\_position.z -\/}
\DoxyCodeLine{01100           m\_generator-\/>\mbox{\hyperlink{class_contour_node_a4c3d561d582e192cba5c841382df8aa7}{m\_position}}.z) /}
\DoxyCodeLine{01101          denom;}
\DoxyCodeLine{01102 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_event_a2bfd1eeb0acbc314e8d9a8afed7ae940}\label{class_event_a2bfd1eeb0acbc314e8d9a8afed7ae940}} 
\index{Event@{Event}!tryRayEdgeCollisionWith@{tryRayEdgeCollisionWith}}
\index{tryRayEdgeCollisionWith@{tryRayEdgeCollisionWith}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{tryRayEdgeCollisionWith()}{tryRayEdgeCollisionWith()}}
{\footnotesize\ttfamily bool Event\+::try\+Ray\+Edge\+Collision\+With (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_contour_node}{Contour\+Node}} $\ast$}]{edge }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01011                                                                 \{}
\DoxyCodeLine{01012   \mbox{\hyperlink{class_contour_node}{ContourNode}} *newCoGenerator;}
\DoxyCodeLine{01013   Type type;}
\DoxyCodeLine{01014 }
\DoxyCodeLine{01015   \textcolor{keywordtype}{double} displacement, height, side1, side2;}
\DoxyCodeLine{01016 }
\DoxyCodeLine{01017   \textcolor{keywordflow}{if} (testRayEdgeCollision(opposite, displacement, height, side1, side2)) \{}
\DoxyCodeLine{01018     type           = \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a29519734363d4a5a64fdf77c4a22268a}{split\_regenerate}};}
\DoxyCodeLine{01019     newCoGenerator = opposite;}
\DoxyCodeLine{01020 }
\DoxyCodeLine{01021     \textcolor{comment}{// Check against the REAL slab guards for type deduction}}
\DoxyCodeLine{01022     \textcolor{keywordtype}{double} firstSide =}
\DoxyCodeLine{01023                opposite-\/>\mbox{\hyperlink{class_contour_node_a19555660302217faf473dea41dbcfc17}{m\_concave}}}
\DoxyCodeLine{01024                    ? side1}
\DoxyCodeLine{01025                    : m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}} * opposite-\/>m\_AngularMomentum +}
\DoxyCodeLine{01026                          opposite-\/>m\_direction * m\_generator-\/>\mbox{\hyperlink{class_contour_node_a69fa12cf76cbb0351128739bddd03d66}{m\_AngularMomentum}},}
\DoxyCodeLine{01027            secondSide = opposite-\/>m\_next-\/>m\_concave}
\DoxyCodeLine{01028                             ? side2}
\DoxyCodeLine{01029                             : m\_generator-\/>\mbox{\hyperlink{class_contour_node_a6d7344a3b36514eef1995fdca6e47741}{m\_direction}} *}
\DoxyCodeLine{01030                                       opposite-\/>m\_next-\/>m\_AngularMomentum +}
\DoxyCodeLine{01031                                   opposite-\/>m\_next-\/>m\_direction *}
\DoxyCodeLine{01032                                       m\_generator-\/>\mbox{\hyperlink{class_contour_node_a69fa12cf76cbb0351128739bddd03d66}{m\_AngularMomentum}};}
\DoxyCodeLine{01033 }
\DoxyCodeLine{01034     \textcolor{keywordflow}{if} (firstSide > -\/0.01 \&\& secondSide < 0.01) \{}
\DoxyCodeLine{01035       \textcolor{keywordtype}{double} displacement\_, height\_;}
\DoxyCodeLine{01036 }
\DoxyCodeLine{01037       \textcolor{keywordflow}{if} (firstSide < 0.01) \{}
\DoxyCodeLine{01038         \textcolor{comment}{// Ray hits first extremity of edge}}
\DoxyCodeLine{01039         \textcolor{keywordflow}{if} (opposite-\/>m\_concave ||}
\DoxyCodeLine{01040             testRayEdgeCollision(opposite-\/>m\_prev, displacement\_, height\_,}
\DoxyCodeLine{01041                                  side1, side2))}
\DoxyCodeLine{01042           type = \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a7342b521191201997425f7da42bbfc63}{vertex}};}
\DoxyCodeLine{01043       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (secondSide > -\/0.01) \{}
\DoxyCodeLine{01044         \textcolor{comment}{// Ray hits second extremity of edge}}
\DoxyCodeLine{01045         \textcolor{keywordflow}{if} (opposite-\/>m\_next-\/>m\_concave ||}
\DoxyCodeLine{01046             testRayEdgeCollision(opposite-\/>m\_next, displacement\_, height\_,}
\DoxyCodeLine{01047                                  side1, side2)) \{}
\DoxyCodeLine{01048           type           = \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a7342b521191201997425f7da42bbfc63}{vertex}};}
\DoxyCodeLine{01049           newCoGenerator = opposite-\/>\mbox{\hyperlink{class_contour_node_a160411550051be248c686852654ccd36}{m\_next}};}
\DoxyCodeLine{01050         \}}
\DoxyCodeLine{01051       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01052         type = \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a9d37ce59e247639e42f47a451da5a428}{split}};}
\DoxyCodeLine{01053     \}}
\DoxyCodeLine{01054 }
\DoxyCodeLine{01055     \textcolor{keywordflow}{if} (type == \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a29519734363d4a5a64fdf77c4a22268a}{split\_regenerate}} \&\&}
\DoxyCodeLine{01056         height <=}
\DoxyCodeLine{01057             m\_context}
\DoxyCodeLine{01058                 -\/>m\_currentHeight)  \textcolor{comment}{// Split regeneration is allowed only at}}
\DoxyCodeLine{01059       \textcolor{keywordflow}{return} \textcolor{keyword}{false};                 \textcolor{comment}{// future times}}
\DoxyCodeLine{01060 }
\DoxyCodeLine{01061     \textcolor{comment}{// If competing with another event split/vertex, approve replacement only if}}
\DoxyCodeLine{01062     \textcolor{comment}{// the angle}}
\DoxyCodeLine{01063     \textcolor{comment}{// between m\_generator and newCoGenerator is < than with current}}
\DoxyCodeLine{01064     \textcolor{comment}{// m\_coGenerator.}}
\DoxyCodeLine{01065     \textcolor{keywordflow}{if} (m\_type != \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058a79f281ada0933ebcb72973baa65084e0}{edge}} \&\& fabs(displacement -\/ m\_displacement) < 0.01 \&\&}
\DoxyCodeLine{01066         angleLess(m\_coGenerator-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}}-\/>m\_direction,}
\DoxyCodeLine{01067                   newCoGenerator-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}}-\/>m\_direction,}
\DoxyCodeLine{01068                   m\_generator-\/>\mbox{\hyperlink{class_contour_node_aaa9b7bea9e4ec0064e8b740bcad37b1b}{m\_edge}}-\/>m\_direction))}
\DoxyCodeLine{01069       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01070 }
\DoxyCodeLine{01071     \textcolor{comment}{// Pero' nel caso di quasi contemporaneo con un convesso, puo' permettere di}}
\DoxyCodeLine{01072     \textcolor{comment}{// scegliere quello con Displacement > !! ...}}
\DoxyCodeLine{01073     \textcolor{comment}{// Da rivedere... (cmq succede raramente che crei grossi problemi)}}
\DoxyCodeLine{01074 }
\DoxyCodeLine{01075     m\_type = type, m\_coGenerator = newCoGenerator;}
\DoxyCodeLine{01076     m\_displacement = displacement, m\_height = height;}
\DoxyCodeLine{01077 }
\DoxyCodeLine{01078     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01079   \}}
\DoxyCodeLine{01080 }
\DoxyCodeLine{01081   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01082 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_event_ad64e3eda5ff0f1b86c910b701953be6e}\label{class_event_ad64e3eda5ff0f1b86c910b701953be6e}} 
\index{Event@{Event}!m\_algoritmicTime@{m\_algoritmicTime}}
\index{m\_algoritmicTime@{m\_algoritmicTime}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{m\_algoritmicTime}{m\_algoritmicTime}}
{\footnotesize\ttfamily unsigned int Event\+::m\+\_\+algoritmic\+Time}

\mbox{\Hypertarget{class_event_ab610811752d3a04c91db57d212ac1f25}\label{class_event_ab610811752d3a04c91db57d212ac1f25}} 
\index{Event@{Event}!m\_coGenerator@{m\_coGenerator}}
\index{m\_coGenerator@{m\_coGenerator}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{m\_coGenerator}{m\_coGenerator}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_contour_node}{Contour\+Node}}$\ast$ Event\+::m\+\_\+co\+Generator}

\mbox{\Hypertarget{class_event_aeee3995902cd8cafb2e78b1a910b4de3}\label{class_event_aeee3995902cd8cafb2e78b1a910b4de3}} 
\index{Event@{Event}!m\_context@{m\_context}}
\index{m\_context@{m\_context}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{m\_context}{m\_context}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_vectorization_context}{Vectorization\+Context}}$\ast$ Event\+::m\+\_\+context}

\mbox{\Hypertarget{class_event_af442c2cf88f49433232c047536662119}\label{class_event_af442c2cf88f49433232c047536662119}} 
\index{Event@{Event}!m\_displacement@{m\_displacement}}
\index{m\_displacement@{m\_displacement}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{m\_displacement}{m\_displacement}}
{\footnotesize\ttfamily double Event\+::m\+\_\+displacement}

\mbox{\Hypertarget{class_event_a58affae3e7156b2c9543868c267585ff}\label{class_event_a58affae3e7156b2c9543868c267585ff}} 
\index{Event@{Event}!m\_generator@{m\_generator}}
\index{m\_generator@{m\_generator}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{m\_generator}{m\_generator}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_contour_node}{Contour\+Node}}$\ast$ Event\+::m\+\_\+generator}

\mbox{\Hypertarget{class_event_a2528d8a045ab31c5377e92f9c9b92006}\label{class_event_a2528d8a045ab31c5377e92f9c9b92006}} 
\index{Event@{Event}!m\_height@{m\_height}}
\index{m\_height@{m\_height}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{m\_height}{m\_height}}
{\footnotesize\ttfamily double Event\+::m\+\_\+height}

\mbox{\Hypertarget{class_event_a4b6df7508772bf848466b71623666c97}\label{class_event_a4b6df7508772bf848466b71623666c97}} 
\index{Event@{Event}!m\_type@{m\_type}}
\index{m\_type@{m\_type}!Event@{Event}}
\doxysubsubsection{\texorpdfstring{m\_type}{m\_type}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_event_a2abf13b5be49315e9e362af02029f058}{Type}} Event\+::m\+\_\+type}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzlib/tcenterlineskeletonizer.\+cpp\end{DoxyCompactItemize}
