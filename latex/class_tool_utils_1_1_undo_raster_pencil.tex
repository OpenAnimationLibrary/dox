\hypertarget{class_tool_utils_1_1_undo_raster_pencil}{}\doxysection{Tool\+Utils\+::Undo\+Raster\+Pencil Class Reference}
\label{class_tool_utils_1_1_undo_raster_pencil}\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
Inheritance diagram for Tool\+Utils\+::Undo\+Raster\+Pencil\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{class_tool_utils_1_1_undo_raster_pencil}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil_a7095d4485055dfd0a2139c8209d6a364}{Undo\+Raster\+Pencil}} (\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$level, const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&frame\+Id, \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$stroke, bool selective, bool filled, bool do\+Antialias, bool created\+Frame, bool created\+Level, std\+::string primitive\+Name)
\item 
void \mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil_a98e0ad5908731f807679310170ee34d7}{redo}} () const override
\item 
int \mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil_a47b934ddd66bf97a5c3ef5d29c83f5ae}{get\+Size}} () const override
\item 
QString \mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil_a7e3ac1d21c9547e17aaf5d6a0ccba5d0}{get\+Tool\+Name}} () override
\item 
int \mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil_a6d9f47fb9324fae6e2d70b943bcb232f}{get\+History\+Type}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ \mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil_aa8f9d951ae0395c51635072810cb8c11}{m\+\_\+stroke}}
\item 
bool \mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil_a4c50adc92ffed983c5a59a4f9722eff0}{m\+\_\+selective}}
\item 
bool \mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil_a2485793cd8a34480522713f27959cc25}{m\+\_\+filled}}
\item 
bool \mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil_a6fb2910805661bdd0c4dc6a365250fb7}{m\+\_\+do\+Antialias}}
\item 
std\+::string \mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil_aa3fd79fce257758b3d525f15da44f8b8}{m\+\_\+primitive\+Name}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_a7095d4485055dfd0a2139c8209d6a364}\label{class_tool_utils_1_1_undo_raster_pencil_a7095d4485055dfd0a2139c8209d6a364}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!UndoRasterPencil@{UndoRasterPencil}}
\index{UndoRasterPencil@{UndoRasterPencil}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{UndoRasterPencil()}{UndoRasterPencil()}}
{\footnotesize\ttfamily Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::\+Undo\+Raster\+Pencil (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$}]{level,  }\item[{const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&}]{frame\+Id,  }\item[{\mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$}]{stroke,  }\item[{bool}]{selective,  }\item[{bool}]{filled,  }\item[{bool}]{do\+Antialias,  }\item[{bool}]{created\+Frame,  }\item[{bool}]{created\+Level,  }\item[{std\+::string}]{primitive\+Name }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01151     : TRasterUndo(0, level, frameId, createdFrame, createdLevel, 0)}
\DoxyCodeLine{01152     , m\_selective(selective)}
\DoxyCodeLine{01153     , m\_filled(filled)}
\DoxyCodeLine{01154     , m\_doAntialias(doAntialias)}
\DoxyCodeLine{01155     , m\_primitiveName(primitiveName) \{}
\DoxyCodeLine{01156   \mbox{\hyperlink{class_t_raster_p_t}{TRasterCM32P}} raster = getImage()-\/>getRaster();}
\DoxyCodeLine{01157   \mbox{\hyperlink{class_t_dimension_t}{TDimension}} d        = raster-\/>getSize();}
\DoxyCodeLine{01158   m\_tiles             = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_tile_set_c_m32}{TTileSetCM32}}(d);}
\DoxyCodeLine{01159   \mbox{\hyperlink{class_t_rect_t}{TRect}} rect =}
\DoxyCodeLine{01160       convert(stroke-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}()) + \mbox{\hyperlink{class_t_point_t}{TPoint}}((\textcolor{keywordtype}{int})(d.lx * 0.5), (\textcolor{keywordtype}{int})(d.ly * 0.5));}
\DoxyCodeLine{01161   m\_tiles-\/>add(raster, rect.enlarge(2));}
\DoxyCodeLine{01162   m\_stroke = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stroke}{TStroke}}(*stroke);}
\DoxyCodeLine{01163 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_a7bcbf0ec2b5ad37cd8068adb8447f062}\label{class_tool_utils_1_1_undo_raster_pencil_a7bcbf0ec2b5ad37cd8068adb8447f062}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!````~UndoRasterPencil@{$\sim$UndoRasterPencil}}
\index{````~UndoRasterPencil@{$\sim$UndoRasterPencil}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{$\sim$UndoRasterPencil()}{~UndoRasterPencil()}}
{\footnotesize\ttfamily Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::$\sim$\+Undo\+Raster\+Pencil (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01167 \{ \textcolor{keyword}{delete} m\_stroke; \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_a6d9f47fb9324fae6e2d70b943bcb232f}\label{class_tool_utils_1_1_undo_raster_pencil_a6d9f47fb9324fae6e2d70b943bcb232f}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!getHistoryType@{getHistoryType}}
\index{getHistoryType@{getHistoryType}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{getHistoryType()}{getHistoryType()}}
{\footnotesize\ttfamily int Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::get\+History\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00342 \{ \textcolor{keywordflow}{return} HistoryType::GeometricTool; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_a47b934ddd66bf97a5c3ef5d29c83f5ae}\label{class_tool_utils_1_1_undo_raster_pencil_a47b934ddd66bf97a5c3ef5d29c83f5ae}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!getSize@{getSize}}
\index{getSize@{getSize}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tool_utils_1_1_t_raster_undo}{Tool\+Utils\+::\+TRaster\+Undo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01186                                              \{}
\DoxyCodeLine{01187   \textcolor{keywordflow}{return} TRasterUndo::getSize() +}
\DoxyCodeLine{01188          m\_stroke-\/>\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}() * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{class_t_thick_point}{TThickPoint}}) + 100 +}
\DoxyCodeLine{01189          \textcolor{keyword}{sizeof}(\textcolor{keyword}{this});}
\DoxyCodeLine{01190 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_a7e3ac1d21c9547e17aaf5d6a0ccba5d0}\label{class_tool_utils_1_1_undo_raster_pencil_a7e3ac1d21c9547e17aaf5d6a0ccba5d0}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!getToolName@{getToolName}}
\index{getToolName@{getToolName}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{getToolName()}{getToolName()}}
{\footnotesize\ttfamily QString Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::get\+Tool\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tool_utils_1_1_t_raster_undo}{Tool\+Utils\+::\+TRaster\+Undo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00338                                  \{}
\DoxyCodeLine{00339     \textcolor{keywordflow}{return} QString(\textcolor{stringliteral}{"{}Geometric Tool : \%1"{}})}
\DoxyCodeLine{00340         .arg(QString::fromStdString(m\_primitiveName));}
\DoxyCodeLine{00341   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_a98e0ad5908731f807679310170ee34d7}\label{class_tool_utils_1_1_undo_raster_pencil_a98e0ad5908731f807679310170ee34d7}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!redo@{redo}}
\index{redo@{redo}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{redo()}{redo()}}
{\footnotesize\ttfamily void Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01171                                            \{}
\DoxyCodeLine{01172   insertLevelAndFrameIfNeeded();}
\DoxyCodeLine{01173   \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} image = getImage();}
\DoxyCodeLine{01174   \textcolor{keywordflow}{if} (!image) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01175 }
\DoxyCodeLine{01176   ToonzImageUtils::addInkStroke(image, m\_stroke, m\_stroke-\/>\mbox{\hyperlink{class_t_stroke_ab77068d7894a29cc1878e173f46ed785}{getStyle}}(),}
\DoxyCodeLine{01177                                 m\_selective, m\_filled, TConsts::infiniteRectD,}
\DoxyCodeLine{01178                                 m\_doAntialias);}
\DoxyCodeLine{01179   ToolUtils::updateSaveBox();}
\DoxyCodeLine{01180   TTool::getApplication()-\/>getCurrentXsheet()-\/>notifyXsheetChanged();}
\DoxyCodeLine{01181   notifyImageChanged();}
\DoxyCodeLine{01182 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_a6fb2910805661bdd0c4dc6a365250fb7}\label{class_tool_utils_1_1_undo_raster_pencil_a6fb2910805661bdd0c4dc6a365250fb7}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!m\_doAntialias@{m\_doAntialias}}
\index{m\_doAntialias@{m\_doAntialias}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{m\_doAntialias}{m\_doAntialias}}
{\footnotesize\ttfamily bool Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::m\+\_\+do\+Antialias\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_a2485793cd8a34480522713f27959cc25}\label{class_tool_utils_1_1_undo_raster_pencil_a2485793cd8a34480522713f27959cc25}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!m\_filled@{m\_filled}}
\index{m\_filled@{m\_filled}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{m\_filled}{m\_filled}}
{\footnotesize\ttfamily bool Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::m\+\_\+filled\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_aa3fd79fce257758b3d525f15da44f8b8}\label{class_tool_utils_1_1_undo_raster_pencil_aa3fd79fce257758b3d525f15da44f8b8}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!m\_primitiveName@{m\_primitiveName}}
\index{m\_primitiveName@{m\_primitiveName}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{m\_primitiveName}{m\_primitiveName}}
{\footnotesize\ttfamily std\+::string Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::m\+\_\+primitive\+Name\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_a4c50adc92ffed983c5a59a4f9722eff0}\label{class_tool_utils_1_1_undo_raster_pencil_a4c50adc92ffed983c5a59a4f9722eff0}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!m\_selective@{m\_selective}}
\index{m\_selective@{m\_selective}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{m\_selective}{m\_selective}}
{\footnotesize\ttfamily bool Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::m\+\_\+selective\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_tool_utils_1_1_undo_raster_pencil_aa8f9d951ae0395c51635072810cb8c11}\label{class_tool_utils_1_1_undo_raster_pencil_aa8f9d951ae0395c51635072810cb8c11}} 
\index{ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}!m\_stroke@{m\_stroke}}
\index{m\_stroke@{m\_stroke}!ToolUtils::UndoRasterPencil@{ToolUtils::UndoRasterPencil}}
\doxysubsubsection{\texorpdfstring{m\_stroke}{m\_stroke}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stroke}{TStroke}}$\ast$ Tool\+Utils\+::\+Undo\+Raster\+Pencil\+::m\+\_\+stroke\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tools/toolutils.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/toolutils.\+cpp\end{DoxyCompactItemize}
