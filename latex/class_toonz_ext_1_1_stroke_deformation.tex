\hypertarget{class_toonz_ext_1_1_stroke_deformation}{}\doxysection{Toonz\+Ext\+::Stroke\+Deformation Class Reference}
\label{class_toonz_ext_1_1_stroke_deformation}\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}


This class is the interface for manipulation algorithms.  




{\ttfamily \#include $<$Stroke\+Deformation.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_a0fd183e025afcb4cdef84d6794ee8598}{activate}} (const \mbox{\hyperlink{struct_toonz_ext_1_1_context_status}{Context\+Status}} $\ast$)
\begin{DoxyCompactList}\small\item\em Init deformation and add control points. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_a287146286f25086e4b8fcf60489ad985}{update}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&delta)
\begin{DoxyCompactList}\small\item\em Modify stroke. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_a94432911b47a495b2bd7ea0e0286087e}{deactivate}} ()
\begin{DoxyCompactList}\small\item\em Return a stroke deformed. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_a1a1f825799dd5ba677d138e84db7e236}{reset}} ()
\begin{DoxyCompactList}\small\item\em Clear inner status of \mbox{\hyperlink{class_deformation}{Deformation}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_a0a0dc15f10beeaece85b1eb891c838bb}{check}} (const \mbox{\hyperlink{struct_toonz_ext_1_1_context_status}{Context\+Status}} $\ast$)
\begin{DoxyCompactList}\small\item\em Just select correct \mbox{\hyperlink{class_deformation}{Deformation}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_ac26679091d1164712e07442bb3027d71}{draw}} (\mbox{\hyperlink{class_toonz_ext_1_1_designer}{Designer}} $\ast$)
\begin{DoxyCompactList}\small\item\em Apply a designer on current deformation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_toonz_ext_af0f90ec10aea6fde591103d3611b638b}{Toonz\+Ext\+::\+Interval}} \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_ac9c220b0cf783f8d3410c0469ca65249}{get\+Extremes}} () const
\begin{DoxyCompactList}\small\item\em Retrieve valid extremes for current manipulator/deformator. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_a4f5ae95f010eb05653c00a200bfab7d5}{get\+Stroke}} () const
\begin{DoxyCompactList}\small\item\em Return the stroke selected from user. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_a1c4808efbb341d73e9b1039b0ceed7d9}{get\+Copied\+Stroke}} () const
\begin{DoxyCompactList}\small\item\em Return the stroke selected from user. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_aa8bac3c0b3ff0b34f772a2f4d26f5281}{get\+Transformed\+Stroke}} () const
\begin{DoxyCompactList}\small\item\em Return a reference to the stroke created to be manipulated. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{struct_toonz_ext_1_1_context_status}{Context\+Status}} $\ast$ \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_ada230c8b32e0e413df8b9d3f30fb2c36}{get\+Status}} () const
\begin{DoxyCompactList}\small\item\em Return the internal status of current deformation. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_a3786879dcb75325cb15ec1562dfbe8ae}{get\+Cursor\+Id}} () const
\begin{DoxyCompactList}\small\item\em Retrieve cursor associated to current deformator. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This class is the interface for manipulation algorithms. 

\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation}{Stroke\+Deformation}} is a wrapper for for \mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl}{Stroke\+Deformation\+Impl}}, its function is to verify state and parameteres before to call the implementation methods of deformation.

There is an internal status to verify that actions\+: \begin{DoxyItemize}
\item {\ttfamily CREATED} on constructor \item {\ttfamily ACTIVE} on active \item {\ttfamily UPDATING} on updating \item {\ttfamily DEACTIVE} on deactive\end{DoxyItemize}
If some error of state occurs {\ttfamily reset} method is called. \mbox{\hyperlink{struct_toonz_ext_1_1_context_status}{Context\+Status}} contains information about deformation parameter, and it occurs to reduce the number of parameters required. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_af62d4ab1471c7e93f66d13eccd137933}\label{class_toonz_ext_1_1_stroke_deformation_af62d4ab1471c7e93f66d13eccd137933}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!StrokeDeformation@{StrokeDeformation}}
\index{StrokeDeformation@{StrokeDeformation}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{StrokeDeformation()}{StrokeDeformation()}}
{\footnotesize\ttfamily Stroke\+Deformation\+::\+Stroke\+Deformation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00045                                      \{}
\DoxyCodeLine{00046   state\_           = CREATED;}
\DoxyCodeLine{00047   deformationImpl\_ = SmoothDeformation::instance();}
\DoxyCodeLine{00048 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_abc179d321e90df64b6524c56f769a201}\label{class_toonz_ext_1_1_stroke_deformation_abc179d321e90df64b6524c56f769a201}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!````~StrokeDeformation@{$\sim$StrokeDeformation}}
\index{````~StrokeDeformation@{$\sim$StrokeDeformation}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{$\sim$StrokeDeformation()}{~StrokeDeformation()}}
{\footnotesize\ttfamily Stroke\+Deformation\+::$\sim$\+Stroke\+Deformation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00052 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_a0fd183e025afcb4cdef84d6794ee8598}\label{class_toonz_ext_1_1_stroke_deformation_a0fd183e025afcb4cdef84d6794ee8598}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!activate@{activate}}
\index{activate@{activate}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{activate()}{activate()}}
{\footnotesize\ttfamily void Stroke\+Deformation\+::activate (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_toonz_ext_1_1_context_status}{Context\+Status}} $\ast$}]{status }\end{DoxyParamCaption})}



Init deformation and add control points. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00056                                                             \{}
\DoxyCodeLine{00057   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059   assert(status \&\& \textcolor{stringliteral}{"{}Status is null!!!"{}});}
\DoxyCodeLine{00060   \textcolor{keywordflow}{if} (!status) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00061 }
\DoxyCodeLine{00062   \textcolor{keywordflow}{if} (state\_ == RESETTED) \textcolor{keyword}{delete} this-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_a94432911b47a495b2bd7ea0e0286087e}{deactivate}}();}
\DoxyCodeLine{00063 }
\DoxyCodeLine{00064   \textcolor{keywordflow}{if} (state\_ == CREATED || state\_ == DEACTIVE) \{}
\DoxyCodeLine{00065     deformationImpl\_ = this-\/>retrieveDeformator(status);}
\DoxyCodeLine{00066   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00067     \textcolor{comment}{// if it is a not valid entry state\_ recover}}
\DoxyCodeLine{00068     assert(deformationImpl\_ \&\& \textcolor{stringliteral}{"{}Can not find a valid deformator!!!"{}});}
\DoxyCodeLine{00069     \textcolor{keywordflow}{if} (!deformationImpl\_) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00070     deformationImpl\_-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl_a1c16c95fa8d78156bbff65a8583acc19}{reset}}();}
\DoxyCodeLine{00071     deformationImpl\_ = DeformationSelector::instance()-\/>getDeformation(status);}
\DoxyCodeLine{00072   \}}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00074   assert(deformationImpl\_ \&\& \textcolor{stringliteral}{"{}Deformation is null!!!"{}});}
\DoxyCodeLine{00075   \textcolor{keywordflow}{if} (!deformationImpl\_) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00076 }
\DoxyCodeLine{00077   \textcolor{keywordflow}{if} (!deformationImpl\_-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl_a5c94a88b8d99d53dd2bf93491e369886}{activate\_impl}}(status)) \{}
\DoxyCodeLine{00078     deformationImpl\_-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl_a1c16c95fa8d78156bbff65a8583acc19}{reset}}();}
\DoxyCodeLine{00079     state\_ = DEACTIVE;}
\DoxyCodeLine{00080     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00081   \}}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083   state\_ = ACTIVE;}
\DoxyCodeLine{00084 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, \mbox{\hyperlink{l00109}{deactivate()}}, and \mbox{\hyperlink{l00532}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::reset()}}.

\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_a0a0dc15f10beeaece85b1eb891c838bb}\label{class_toonz_ext_1_1_stroke_deformation_a0a0dc15f10beeaece85b1eb891c838bb}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!check@{check}}
\index{check@{check}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{check()}{check()}}
{\footnotesize\ttfamily void Stroke\+Deformation\+::check (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct_toonz_ext_1_1_context_status}{Context\+Status}} $\ast$}]{status }\end{DoxyParamCaption})}



Just select correct \mbox{\hyperlink{class_deformation}{Deformation}}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00154                                                          \{}
\DoxyCodeLine{00155   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00156   \textcolor{keywordflow}{if} (state\_ != UPDATING) deformationImpl\_ = this-\/>retrieveDeformator(status);}
\DoxyCodeLine{00157 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_a94432911b47a495b2bd7ea0e0286087e}\label{class_toonz_ext_1_1_stroke_deformation_a94432911b47a495b2bd7ea0e0286087e}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!deactivate@{deactivate}}
\index{deactivate@{deactivate}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{deactivate()}{deactivate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ Stroke\+Deformation\+::deactivate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Return a stroke deformed. 

\begin{DoxyReturn}{Returns}
A stroke deformed. 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{00109                                        \{}
\DoxyCodeLine{00110   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112   \textcolor{keywordflow}{if} (!deformationImpl\_) \{}
\DoxyCodeLine{00113     state\_ = DEACTIVE;}
\DoxyCodeLine{00114     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00115   \}}
\DoxyCodeLine{00116 }
\DoxyCodeLine{00117   \textcolor{keywordflow}{if} (state\_ != ACTIVE \&\& state\_ != UPDATING) \{}
\DoxyCodeLine{00118     state\_ = DEACTIVE;}
\DoxyCodeLine{00119     deformationImpl\_-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl_a1c16c95fa8d78156bbff65a8583acc19}{reset}}();}
\DoxyCodeLine{00120     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00121   \}}
\DoxyCodeLine{00122 }
\DoxyCodeLine{00123   state\_           = DEACTIVE;}
\DoxyCodeLine{00124   \mbox{\hyperlink{class_t_stroke}{TStroke}} *out     = deformationImpl\_-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl_aeb78b48764d4d31cc39491928a603a79}{deactivate\_impl}}();}
\DoxyCodeLine{00125   deformationImpl\_ = 0;}
\DoxyCodeLine{00126   \textcolor{keywordflow}{return} out;}
\DoxyCodeLine{00127 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00470}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::deactivate\+\_\+impl()}}, and \mbox{\hyperlink{l00532}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::reset()}}.



Referenced by \mbox{\hyperlink{l00056}{activate()}}, and \mbox{\hyperlink{l00385}{Pinch\+Tool\+::on\+Image\+Changed()}}.

\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_ac26679091d1164712e07442bb3027d71}\label{class_toonz_ext_1_1_stroke_deformation_ac26679091d1164712e07442bb3027d71}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!draw@{draw}}
\index{draw@{draw}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{draw()}{draw()}}
{\footnotesize\ttfamily void Stroke\+Deformation\+::draw (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_ext_1_1_designer}{Designer}} $\ast$}]{designer }\end{DoxyParamCaption})}



Apply a designer on current deformation. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00139                                                \{}
\DoxyCodeLine{00140   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142   assert(designer \&\& \textcolor{stringliteral}{"{}Designer is null!!!"{}});}
\DoxyCodeLine{00143   \textcolor{keywordflow}{if} (!deformationImpl\_ || !designer) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00144 }
\DoxyCodeLine{00145   \textcolor{comment}{// this is to draw the icon}}
\DoxyCodeLine{00146   deformationImpl\_-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl_af5328002d2be2c15cdee226795163436}{draw}}(designer);}
\DoxyCodeLine{00147 }
\DoxyCodeLine{00148   \textcolor{comment}{// this is to draw stroke when change something}}
\DoxyCodeLine{00149   designer-\/>draw(\textcolor{keyword}{this});}
\DoxyCodeLine{00150 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00562}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::draw()}}.

\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_a1c4808efbb341d73e9b1039b0ceed7d9}\label{class_toonz_ext_1_1_stroke_deformation_a1c4808efbb341d73e9b1039b0ceed7d9}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!getCopiedStroke@{getCopiedStroke}}
\index{getCopiedStroke@{getCopiedStroke}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{getCopiedStroke()}{getCopiedStroke()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ Stroke\+Deformation\+::get\+Copied\+Stroke (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return the stroke selected from user. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00161                                                         \{}
\DoxyCodeLine{00162   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00163   \textcolor{keywordflow}{if} (deformationImpl\_) \textcolor{keywordflow}{return} deformationImpl\_-\/>getCopiedStroke();}
\DoxyCodeLine{00164   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00165 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_a3786879dcb75325cb15ec1562dfbe8ae}\label{class_toonz_ext_1_1_stroke_deformation_a3786879dcb75325cb15ec1562dfbe8ae}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!getCursorId@{getCursorId}}
\index{getCursorId@{getCursorId}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{getCursorId()}{getCursorId()}}
{\footnotesize\ttfamily int Stroke\+Deformation\+::get\+Cursor\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieve cursor associated to current deformator. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00226                                          \{}
\DoxyCodeLine{00227   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00228   \textcolor{keywordflow}{if} (!deformationImpl\_) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00229   \textcolor{keywordflow}{return} deformationImpl\_-\/>getCursorId();}
\DoxyCodeLine{00230 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_ac9c220b0cf783f8d3410c0469ca65249}\label{class_toonz_ext_1_1_stroke_deformation_ac9c220b0cf783f8d3410c0469ca65249}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!getExtremes@{getExtremes}}
\index{getExtremes@{getExtremes}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{getExtremes()}{getExtremes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespace_toonz_ext_af0f90ec10aea6fde591103d3611b638b}{Toonz\+Ext\+::\+Interval}} Stroke\+Deformation\+::get\+Extremes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Retrieve valid extremes for current manipulator/deformator. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00210                                                       \{}
\DoxyCodeLine{00211   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00212   \textcolor{keywordflow}{if} (!deformationImpl\_) \textcolor{keywordflow}{return} \mbox{\hyperlink{namespace_toonz_ext_af0f90ec10aea6fde591103d3611b638b}{Interval}}(-\/1, -\/1);}
\DoxyCodeLine{00213   \textcolor{keywordflow}{return} deformationImpl\_-\/>getExtremes();}
\DoxyCodeLine{00214 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_ada230c8b32e0e413df8b9d3f30fb2c36}\label{class_toonz_ext_1_1_stroke_deformation_ada230c8b32e0e413df8b9d3f30fb2c36}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!getStatus@{getStatus}}
\index{getStatus@{getStatus}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{getStatus()}{getStatus()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{struct_toonz_ext_1_1_context_status}{Context\+Status}} $\ast$ Stroke\+Deformation\+::get\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return the internal status of current deformation. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{struct_toonz_ext_1_1_context_status}{Context\+Status}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00202                                                         \{}
\DoxyCodeLine{00203   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00204   \textcolor{keywordflow}{if} (deformationImpl\_) \textcolor{keywordflow}{return} deformationImpl\_-\/>getImplStatus();}
\DoxyCodeLine{00205   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00206 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_a4f5ae95f010eb05653c00a200bfab7d5}\label{class_toonz_ext_1_1_stroke_deformation_a4f5ae95f010eb05653c00a200bfab7d5}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!getStroke@{getStroke}}
\index{getStroke@{getStroke}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{getStroke()}{getStroke()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ Stroke\+Deformation\+::get\+Stroke (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return the stroke selected from user. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00169                                                   \{}
\DoxyCodeLine{00170   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00171   \textcolor{keywordflow}{if} (deformationImpl\_) \textcolor{keywordflow}{return} deformationImpl\_-\/>getStrokeSelected();}
\DoxyCodeLine{00172   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00173 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_aa8bac3c0b3ff0b34f772a2f4d26f5281}\label{class_toonz_ext_1_1_stroke_deformation_aa8bac3c0b3ff0b34f772a2f4d26f5281}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!getTransformedStroke@{getTransformedStroke}}
\index{getTransformedStroke@{getTransformedStroke}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{getTransformedStroke()}{getTransformedStroke()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ Stroke\+Deformation\+::get\+Transformed\+Stroke (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return a reference to the stroke created to be manipulated. 

\begin{DoxyNote}{Note}
This stroke is different from stroke selected by user. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_a4f5ae95f010eb05653c00a200bfab7d5}{get\+Stroke}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00177                                                              \{}
\DoxyCodeLine{00178   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00179   \textcolor{keywordflow}{if} (deformationImpl\_) \textcolor{keywordflow}{return} deformationImpl\_-\/>getTransformedStroke();}
\DoxyCodeLine{00180   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00181 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_a1a1f825799dd5ba677d138e84db7e236}\label{class_toonz_ext_1_1_stroke_deformation_a1a1f825799dd5ba677d138e84db7e236}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!reset@{reset}}
\index{reset@{reset}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily void Stroke\+Deformation\+::reset (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clear inner status of \mbox{\hyperlink{class_deformation}{Deformation}}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00131                               \{}
\DoxyCodeLine{00132   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00133 }
\DoxyCodeLine{00134   state\_ = RESETTED;}
\DoxyCodeLine{00135 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00576}{Pinch\+Tool\+::on\+Deactivate()}}, \mbox{\hyperlink{l00385}{Pinch\+Tool\+::on\+Image\+Changed()}}, and \mbox{\hyperlink{l00369}{Pinch\+Tool\+::on\+Leave()}}.

\mbox{\Hypertarget{class_toonz_ext_1_1_stroke_deformation_a287146286f25086e4b8fcf60489ad985}\label{class_toonz_ext_1_1_stroke_deformation_a287146286f25086e4b8fcf60489ad985}} 
\index{ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}!update@{update}}
\index{update@{update}!ToonzExt::StrokeDeformation@{ToonzExt::StrokeDeformation}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void Stroke\+Deformation\+::update (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{delta }\end{DoxyParamCaption})}



Modify stroke. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00088                                                    \{}
\DoxyCodeLine{00089   QMutexLocker sl(\&s\_mutex);}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091   assert(deformationImpl\_ \&\& \textcolor{stringliteral}{"{}Deformation is null!!!"{}});}
\DoxyCodeLine{00092   \textcolor{keywordflow}{if} (!deformationImpl\_) \{}
\DoxyCodeLine{00093     state\_ = DEACTIVE;}
\DoxyCodeLine{00094     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00095   \}}
\DoxyCodeLine{00096 }
\DoxyCodeLine{00097   \textcolor{keywordflow}{if} (state\_ != ACTIVE \&\& state\_ != UPDATING) \{}
\DoxyCodeLine{00098     deformationImpl\_-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl_a1c16c95fa8d78156bbff65a8583acc19}{reset}}();}
\DoxyCodeLine{00099     state\_ = ACTIVE;}
\DoxyCodeLine{00100     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00101   \}}
\DoxyCodeLine{00102 }
\DoxyCodeLine{00103   deformationImpl\_-\/>\mbox{\hyperlink{class_toonz_ext_1_1_stroke_deformation_impl_ac7d9294184d96bbb4ea6ae07ad3df897}{update\_impl}}(delta);}
\DoxyCodeLine{00104   state\_ = UPDATING;}
\DoxyCodeLine{00105 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00532}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::reset()}}, and \mbox{\hyperlink{l00456}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::update\+\_\+impl()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/ext/Stroke\+Deformation.\+h\item 
E\+:/opentoonz/toonz/sources/tnzext/Stroke\+Deformation.\+cpp\end{DoxyCompactItemize}
