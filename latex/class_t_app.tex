\hypertarget{class_t_app}{}\doxysection{TApp Class Reference}
\label{class_t_app}\index{TApp@{TApp}}


This is the instance of the main application.  




{\ttfamily \#include $<$tapp.\+h$>$}

Inheritance diagram for TApp\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_t_app}
\end{center}
\end{figure}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_t_app_a12f4100c4c84dfae124dfc8cabaf68d8}\label{class_t_app_a12f4100c4c84dfae124dfc8cabaf68d8}} 
void {\bfseries tablet\+Left} ()
\item 
\mbox{\Hypertarget{class_t_app_af664bf808f0f3677ac6ea450fe55e553}\label{class_t_app_af664bf808f0f3677ac6ea450fe55e553}} 
void {\bfseries active\+Viewer\+Changed} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_scene_handle}{TScene\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{get\+Current\+Scene}} () const override
\item 
\mbox{\hyperlink{class_t_xsheet_handle}{TXsheet\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{get\+Current\+Xsheet}} () const override
\item 
\mbox{\hyperlink{class_t_frame_handle}{TFrame\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{get\+Current\+Frame}} () const override
\item 
\mbox{\hyperlink{class_t_column_handle}{TColumn\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_a1e294e7cff300851d12a8c3d196943f6}{get\+Current\+Column}} () const override
\item 
\mbox{\hyperlink{class_t_xsh_level_handle}{TXsh\+Level\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}{get\+Current\+Level}} () const override
\item 
\mbox{\hyperlink{class_tool_handle}{Tool\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_ad70b447aff489792cfc3dbac7150a540}{get\+Current\+Tool}} () const override
\item 
\mbox{\hyperlink{class_t_object_handle}{TObject\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{get\+Current\+Object}} () const override
\item 
\mbox{\hyperlink{class_t_selection_handle}{TSelection\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_a6e0ee1978807a89009571ed5ce44323b}{get\+Current\+Selection}} () const override
\item 
\mbox{\hyperlink{class_t_onion_skin_mask_handle}{TOnion\+Skin\+Mask\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_afcdd56d9130b7c39a5227de08a0b65e4}{get\+Current\+Onion\+Skin}} () const override
\item 
\mbox{\hyperlink{class_t_fx_handle}{TFx\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_a1d1d4b484617e7a938040554beca6282}{get\+Current\+Fx}} () const override
\item 
\mbox{\hyperlink{class_palette_controller}{Palette\+Controller}} $\ast$ \mbox{\hyperlink{class_t_app_a0c684f5fd81afde810a6c706601eb4bc}{get\+Palette\+Controller}} () const override
\item 
\mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$ \mbox{\hyperlink{class_t_app_a33dbcbc578915e0b69fe6927b74cf426}{get\+Current\+Palette}} () const override
\item 
\mbox{\hyperlink{class_t_color_style}{TColor\+Style}} $\ast$ \mbox{\hyperlink{class_t_app_abb3c7af01d650df0b59291b1daadf7ad}{get\+Current\+Level\+Style}} () const override
\item 
int \mbox{\hyperlink{class_t_app_abee282626d1579319662144944e9ba46}{get\+Current\+Level\+Style\+Index}} () const override
\item 
void \mbox{\hyperlink{class_t_app_a071f5ddcc7fa4c9da69fc48b81fd87b7}{set\+Current\+Level\+Style\+Index}} (int index, bool force\+Update=false) override
\item 
void \mbox{\hyperlink{class_t_app_a17f2695120c62178000242c4fd84f1f0}{set\+Main\+Window}} (QMain\+Window $\ast$main\+Window)
\item 
QMain\+Window $\ast$ \mbox{\hyperlink{class_t_app_aa229713538a33215a03db85064ef4012}{get\+Main\+Window}} () const
\item 
\mbox{\hyperlink{class_t_main_window}{TMain\+Window}} $\ast$ \mbox{\hyperlink{class_t_app_a2e2e36211e0221b0f58694b169fc7904}{get\+Current\+Room}} () const
\item 
int \mbox{\hyperlink{class_t_app_a45713935f77f415f7bff62db71f2adbe}{get\+Current\+Image\+Type}} ()
\item 
void \mbox{\hyperlink{class_t_app_a7cd53f55c9390ac70257d81102fd4351}{init}} ()
\item 
QString \mbox{\hyperlink{class_t_app_a6e39cd5d34200d347f4bcec1bd08f2ab}{get\+Current\+Room\+Name}} () const
\item 
void \mbox{\hyperlink{class_t_app_ac8fa587e1b39bd6c5dcc8bfbe59320bb}{set\+Active\+Viewer}} (\mbox{\hyperlink{class_scene_viewer}{Scene\+Viewer}} $\ast$viewer)
\item 
\mbox{\hyperlink{class_scene_viewer}{Scene\+Viewer}} $\ast$ \mbox{\hyperlink{class_t_app_a59fca097221f9eed6f0304d4d3ccee0a}{get\+Active\+Viewer}} () const
\item 
bool \mbox{\hyperlink{class_t_app_a29abb4a8e209ae26bf5d200a6befbce1}{is\+Application\+Starting}} ()
\item 
bool \mbox{\hyperlink{class_t_app_a4daf938137ea3d62324a802482cc9ea2}{is\+Pen\+Close\+To\+Tablet}} () const
\item 
void \mbox{\hyperlink{class_t_app_a6f29630eaf9bbef5345f1bad5954b8b7}{write\+Settings}} ()
\item 
void \mbox{\hyperlink{class_t_app_a6a423217e58f4b0bf7bfa4c279d64da9}{set\+Current\+Xsheet\+Viewer}} (\mbox{\hyperlink{class_xsheet_viewer}{Xsheet\+Viewer}} $\ast$viewer)
\item 
\mbox{\hyperlink{class_xsheet_viewer}{Xsheet\+Viewer}} $\ast$ \mbox{\hyperlink{class_t_app_a554c6e70d78710fe0f9ed3d6c6e9ca16}{get\+Current\+Xsheet\+Viewer}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_t_app}{TApp}} $\ast$ \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{instance}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_t_app_a612276afb72ab402b992503c3094a8d4}{on\+Xsheet\+Changed}} ()
\item 
void \mbox{\hyperlink{class_t_app_a0bc5e8f8c8c4721fe20c0cb65d254903}{on\+Scene\+Switched}} ()
\item 
void \mbox{\hyperlink{class_t_app_adbc7f07ac48b66fb55c67d420b28d6b7}{on\+Xsheet\+Switched}} ()
\item 
void \mbox{\hyperlink{class_t_app_a9478b5eda13ebdddd2df35c934502ef0}{on\+Xsheet\+Sound\+Changed}} ()
\item 
void \mbox{\hyperlink{class_t_app_a951e47d5d76c2f9ce69671928c87f622}{on\+Frame\+Switched}} ()
\item 
void \mbox{\hyperlink{class_t_app_a7d2f66519a27ecc7e88fb8fed19faec7}{on\+Fx\+Switched}} ()
\item 
void \mbox{\hyperlink{class_t_app_a0ca0439d84c223a57633399732c9cab9}{on\+Column\+Index\+Switched}} ()
\item 
void \mbox{\hyperlink{class_t_app_ae9246d3612faa0ba3d5c71c2dc6f1ed9}{on\+Xsh\+Level\+Switched}} (\mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$)
\item 
void \mbox{\hyperlink{class_t_app_a96ddebb877258d7d27e63bd71b6d010e}{on\+Xsh\+Level\+Changed}} ()
\item 
void \mbox{\hyperlink{class_t_app_ae00e534c2dda54dbe7fb7dea298a0214}{on\+Object\+Switched}} ()
\item 
void \mbox{\hyperlink{class_t_app_ac6d9f38a84f145ecd2a017e0c69adf91}{on\+Spline\+Changed}} ()
\item 
void \mbox{\hyperlink{class_t_app_ad4338ce055aa94dfaf7497af3bcf2d44}{on\+Scene\+Changed}} ()
\item 
void \mbox{\hyperlink{class_t_app_ad8cd00b3296159b8911a992c1595bfb5}{on\+Image\+Changed}} ()
\item 
void \mbox{\hyperlink{class_t_app_a31096e8917f5f058bf99a571ce6327cf}{on\+Palette\+Changed}} ()
\item 
void \mbox{\hyperlink{class_t_app_a4e39c9f0683a004e1d64a772ecdac46a}{on\+Level\+Color\+Style\+Changed}} ()
\item 
void \mbox{\hyperlink{class_t_app_aca3acf4d13788714e98fff61a01419c8}{on\+Level\+Color\+Style\+Switched}} ()
\item 
void \mbox{\hyperlink{class_t_app_a30c071003fabb3cd814c39654d646c36}{autosave}} ()
\item 
void \mbox{\hyperlink{class_t_app_a157465a249254f6812e1f236eb0c2cf1}{on\+Tool\+Editing\+Finished}} ()
\item 
void \mbox{\hyperlink{class_t_app_ae547461817cdc782e739c48bad7753fe}{on\+Start\+Auto\+Save}} ()
\item 
void \mbox{\hyperlink{class_t_app_a2b6ba02aa261ee7a86826d75422ec437}{on\+Stop\+Auto\+Save}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_t_app_aef4e845c972a5a8857fc667349edc57b}{event\+Filter}} (QObject $\ast$obj, QEvent $\ast$event) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This is the instance of the main application. 

This class is a singleton and is used to initialize the main application window. It defines the basic signals used in the application, as the status changing of the scene and connects them to the basic handlers. ~\newline
 It is also used to retrieve a pointer to the current state of the application, as the pointer to the main window, a pointer to the current scene or a pointer to the current selection, etc... ~\newline
 For example to get the pointer to the main window in any part of the code one has to write\+: \begin{DoxyVerb}    \code
\end{DoxyVerb}
 // A pointer to the main windows is

QMain\+Window $\ast$ mainwindow = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp\+::instance()}}-\/\texorpdfstring{$>$}{>}\mbox{\hyperlink{class_t_app_aa229713538a33215a03db85064ef4012}{get\+Main\+Window()}};

// To get the current object id

\mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} current\+Object\+Id = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp\+::instance()}}-\/\texorpdfstring{$>$}{>}\mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{get\+Current\+Object()}}-\/\texorpdfstring{$>$}{>}get\+Object\+Id(); \begin{DoxyVerb}            \endcode
            This class is used to take care of changes on the state of the
\end{DoxyVerb}
 application and to notify through event handling to the rest of the code. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_app_aead31a0a5de166245c01fde48d5d7c50}\label{class_t_app_aead31a0a5de166245c01fde48d5d7c50}} 
\index{TApp@{TApp}!````~TApp@{$\sim$TApp}}
\index{````~TApp@{$\sim$TApp}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{$\sim$TApp()}{~TApp()}}
{\footnotesize\ttfamily TApp\+::$\sim$\+TApp (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00222 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_app_a30c071003fabb3cd814c39654d646c36}\label{class_t_app_a30c071003fabb3cd814c39654d646c36}} 
\index{TApp@{TApp}!autosave@{autosave}}
\index{autosave@{autosave}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{autosave}{autosave}}
{\footnotesize\ttfamily void TApp\+::autosave (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00693                     \{}
\DoxyCodeLine{00694   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = \mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{00695 }
\DoxyCodeLine{00696   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getDirtyFlag()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00697 }
\DoxyCodeLine{00698   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_app_ad70b447aff489792cfc3dbac7150a540}{getCurrentTool}}()-\/>isToolBusy()) \{}
\DoxyCodeLine{00699     m\_autosaveSuspended = \textcolor{keyword}{true};}
\DoxyCodeLine{00700     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00701   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00702     m\_autosaveSuspended = \textcolor{keyword}{false};}
\DoxyCodeLine{00703 }
\DoxyCodeLine{00704   \mbox{\hyperlink{class_d_v_gui_1_1_progress_dialog}{DVGui::ProgressDialog}} pb(}
\DoxyCodeLine{00705       \textcolor{stringliteral}{"{}Autosaving scene..."{}} + toQString(scene-\/>\mbox{\hyperlink{class_toonz_scene_ad42b52b671b094f66e003c4b7ebefd45}{getScenePath}}()), 0, 0, 1);}
\DoxyCodeLine{00706   pb.show();}
\DoxyCodeLine{00707   \mbox{\hyperlink{class_preferences}{Preferences}} *pref = Preferences::instance();}
\DoxyCodeLine{00708   \textcolor{keywordflow}{if} (pref-\/>isAutosaveSceneEnabled() \&\& pref-\/>isAutosaveOtherFilesEnabled()) \{}
\DoxyCodeLine{00709     IoCmd::saveAll(IoCmd::AUTO\_SAVE);}
\DoxyCodeLine{00710   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pref-\/>isAutosaveSceneEnabled()) \{}
\DoxyCodeLine{00711     IoCmd::saveScene(IoCmd::AUTO\_SAVE);}
\DoxyCodeLine{00712   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pref-\/>isAutosaveOtherFilesEnabled()) \{}
\DoxyCodeLine{00713     IoCmd::saveNonSceneFiles();}
\DoxyCodeLine{00714   \}}
\DoxyCodeLine{00715 }
\DoxyCodeLine{00716   pb.setValue(1);}
\DoxyCodeLine{00717 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_aef4e845c972a5a8857fc667349edc57b}\label{class_t_app_aef4e845c972a5a8857fc667349edc57b}} 
\index{TApp@{TApp}!eventFilter@{eventFilter}}
\index{eventFilter@{eventFilter}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{eventFilter()}{eventFilter()}}
{\footnotesize\ttfamily bool TApp\+::event\+Filter (\begin{DoxyParamCaption}\item[{QObject $\ast$}]{obj,  }\item[{QEvent $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00744                                                   \{}
\DoxyCodeLine{00745   \textcolor{keywordflow}{if} (e-\/>type() == QEvent::TabletEnterProximity) \{}
\DoxyCodeLine{00746     m\_isPenCloseToTablet = \textcolor{keyword}{true};}
\DoxyCodeLine{00747   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (e-\/>type() == QEvent::TabletLeaveProximity) \{}
\DoxyCodeLine{00748     \textcolor{comment}{// if the user is painting very quickly with the pen, a number of events}}
\DoxyCodeLine{00749     \textcolor{comment}{// could be still in the queue}}
\DoxyCodeLine{00750     \textcolor{comment}{// the must be processed as tabled events (not mouse events)}}
\DoxyCodeLine{00751     \textcolor{keywordflow}{if} (m\_isPenCloseToTablet) qApp-\/>processEvents();}
\DoxyCodeLine{00752 }
\DoxyCodeLine{00753     m\_isPenCloseToTablet = \textcolor{keyword}{false};}
\DoxyCodeLine{00754     emit tabletLeft();}
\DoxyCodeLine{00755   \}}
\DoxyCodeLine{00756 }
\DoxyCodeLine{00757   \textcolor{keywordflow}{return} \textcolor{keyword}{false};  \textcolor{comment}{// I want just peek at the event. It must be processed anyway.}}
\DoxyCodeLine{00758 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a59fca097221f9eed6f0304d4d3ccee0a}\label{class_t_app_a59fca097221f9eed6f0304d4d3ccee0a}} 
\index{TApp@{TApp}!getActiveViewer@{getActiveViewer}}
\index{getActiveViewer@{getActiveViewer}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getActiveViewer()}{getActiveViewer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_scene_viewer}{Scene\+Viewer}} $\ast$ TApp\+::get\+Active\+Viewer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00196 \{ \textcolor{keywordflow}{return} m\_activeViewer; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a1e294e7cff300851d12a8c3d196943f6}\label{class_t_app_a1e294e7cff300851d12a8c3d196943f6}} 
\index{TApp@{TApp}!getCurrentColumn@{getCurrentColumn}}
\index{getCurrentColumn@{getCurrentColumn}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentColumn()}{getCurrentColumn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_column_handle}{TColumn\+Handle}} $\ast$ TApp\+::get\+Current\+Column (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a pointer to the current column. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00118 \{ \textcolor{keywordflow}{return} m\_currentColumn; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l00278}{get\+Current\+Image\+Type()}}, \mbox{\hyperlink{l00504}{Color\+Model\+Viewer\+::load\+Current\+Frame()}}, \mbox{\hyperlink{l02357}{Io\+Cmd\+::load\+Resources()}}, \mbox{\hyperlink{l03064}{Scene\+Viewer\+::pos\+To\+Row()}}, and \mbox{\hyperlink{l00092}{Toolbar\+::update\+Toolbar()}}.

\mbox{\Hypertarget{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}\label{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}} 
\index{TApp@{TApp}!getCurrentFrame@{getCurrentFrame}}
\index{getCurrentFrame@{getCurrentFrame}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentFrame()}{getCurrentFrame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_frame_handle}{TFrame\+Handle}} $\ast$ TApp\+::get\+Current\+Frame (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a pointer to the current frame. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00114 \{ \textcolor{keywordflow}{return} m\_currentFrame; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01669}{Xsheet\+Viewer\+::change\+Window\+Title()}}, \mbox{\hyperlink{l01598}{Scene\+Viewer\+::draw\+Overlay()}}, \mbox{\hyperlink{l00278}{get\+Current\+Image\+Type()}}, \mbox{\hyperlink{l02227}{Scene\+Viewer\+::get\+Scene\+Matrix()}}, \mbox{\hyperlink{l02211}{Scene\+Viewer\+::get\+View\+Matrix()}}, \mbox{\hyperlink{l00504}{Color\+Model\+Viewer\+::load\+Current\+Frame()}}, \mbox{\hyperlink{l02357}{Io\+Cmd\+::load\+Resources()}}, \mbox{\hyperlink{l01568}{Filmstrip\+::on\+Choose\+Level\+Combo\+Changed()}}, \mbox{\hyperlink{l03064}{Scene\+Viewer\+::pos\+To\+Row()}}, \mbox{\hyperlink{l00342}{Combo\+Viewer\+Panel\+::show\+Event()}}, \mbox{\hyperlink{l00714}{Combo\+Viewer\+Panel\+::update\+Frame\+Range()}}, and \mbox{\hyperlink{l00092}{Toolbar\+::update\+Toolbar()}}.

\mbox{\Hypertarget{class_t_app_a1d1d4b484617e7a938040554beca6282}\label{class_t_app_a1d1d4b484617e7a938040554beca6282}} 
\index{TApp@{TApp}!getCurrentFx@{getCurrentFx}}
\index{getCurrentFx@{getCurrentFx}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentFx()}{getCurrentFx()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_fx_handle}{TFx\+Handle}} $\ast$ TApp\+::get\+Current\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a pointer to the current effect. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00146 \{ \textcolor{keywordflow}{return} m\_currentFx; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a45713935f77f415f7bff62db71f2adbe}\label{class_t_app_a45713935f77f415f7bff62db71f2adbe}} 
\index{TApp@{TApp}!getCurrentImageType@{getCurrentImageType}}
\index{getCurrentImageType@{getCurrentImageType}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentImageType()}{getCurrentImageType()}}
{\footnotesize\ttfamily int TApp\+::get\+Current\+Image\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb} Returns the current image type that can be a raster or a vector image.
\end{DoxyVerb}
 \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1}{TImage\+::\+Type}}. 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00278                               \{}
\DoxyCodeLine{00279   \textcolor{comment}{/*-\/-\/ 現在のセルの種類に関係無く、Splineを選択中はベクタを編集できるようにする}}
\DoxyCodeLine{00280 \textcolor{comment}{   * -\/-\/*/}}
\DoxyCodeLine{00281   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{getCurrentObject}}()-\/>isSpline()) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1aae0e08194ada9a9bb8271dfd21ef8b2e}{TImage::VECTOR}};}
\DoxyCodeLine{00282 }
\DoxyCodeLine{00283   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl = 0;}
\DoxyCodeLine{00284 }
\DoxyCodeLine{00285   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}()-\/>isEditingScene()) \{}
\DoxyCodeLine{00286     \textcolor{keywordtype}{int} row = \mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}()-\/>getFrame();}
\DoxyCodeLine{00287     \textcolor{keywordtype}{int} col = \mbox{\hyperlink{class_t_app_a1e294e7cff300851d12a8c3d196943f6}{getCurrentColumn}}()-\/>getColumnIndex();}
\DoxyCodeLine{00288     \textcolor{keywordflow}{if} (col < 0) \{}
\DoxyCodeLine{00289       \textcolor{keywordtype}{int} levelType = Preferences::instance()-\/>getDefLevelType();}
\DoxyCodeLine{00290       \textcolor{keywordflow}{return} (levelType == PLI\_XSHLEVEL)}
\DoxyCodeLine{00291                  ? \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1aae0e08194ada9a9bb8271dfd21ef8b2e}{TImage::VECTOR}}}
\DoxyCodeLine{00292                  :  \textcolor{comment}{// RASTER image type includes both TZI\_XSHLEVEL}}
\DoxyCodeLine{00293                  (levelType == TZP\_XSHLEVEL)}
\DoxyCodeLine{00294                      ? \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1a4628781c4add56d9e3f547515561db61}{TImage::TOONZ\_RASTER}}}
\DoxyCodeLine{00295                      : \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1ada6df9de5e7d50b9c9c823871bee09d6}{TImage::RASTER}};  \textcolor{comment}{// and OVL\_XSHLEVEL level types}}
\DoxyCodeLine{00296     \}}
\DoxyCodeLine{00297 }
\DoxyCodeLine{00298     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = \mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{00299     \textcolor{keywordflow}{if} (xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col) \&\& xsh-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(col)-\/>getSoundColumn())}
\DoxyCodeLine{00300       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1aae0e08194ada9a9bb8271dfd21ef8b2e}{TImage::VECTOR}};}
\DoxyCodeLine{00301     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(row, col);}
\DoxyCodeLine{00302     \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \{}
\DoxyCodeLine{00303       \textcolor{keywordtype}{int} r0, r1;}
\DoxyCodeLine{00304       xsh-\/>\mbox{\hyperlink{class_t_xsheet_a26850469fb0f2886b717479050c32be2}{getCellRange}}(col, r0, r1);}
\DoxyCodeLine{00305       \textcolor{keywordflow}{if} (0 <= r0 \&\& r0 <= r1) \{}
\DoxyCodeLine{00306         \textcolor{comment}{/*-\/-\/ Columnに格納されている一番上のLevelのTypeに合わせる-\/-\/*/}}
\DoxyCodeLine{00307         cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(r0, col);}
\DoxyCodeLine{00308       \} \textcolor{keywordflow}{else} \textcolor{comment}{/*-\/-\/ Columnが空の場合 -\/-\/*/}}
\DoxyCodeLine{00309       \{}
\DoxyCodeLine{00310         \textcolor{keywordtype}{int} levelType = Preferences::instance()-\/>getDefLevelType();}
\DoxyCodeLine{00311         \textcolor{keywordflow}{return} (levelType == PLI\_XSHLEVEL)}
\DoxyCodeLine{00312                    ? \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1aae0e08194ada9a9bb8271dfd21ef8b2e}{TImage::VECTOR}}}
\DoxyCodeLine{00313                    : (levelType == TZP\_XSHLEVEL) ? \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1a4628781c4add56d9e3f547515561db61}{TImage::TOONZ\_RASTER}}}
\DoxyCodeLine{00314                                                  : \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1ada6df9de5e7d50b9c9c823871bee09d6}{TImage::RASTER}};}
\DoxyCodeLine{00315       \}}
\DoxyCodeLine{00316     \}}
\DoxyCodeLine{00317 }
\DoxyCodeLine{00318     sl = cell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{00319   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}()-\/>isEditingLevel())}
\DoxyCodeLine{00320     sl = \mbox{\hyperlink{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}{getCurrentLevel}}()-\/>getSimpleLevel();}
\DoxyCodeLine{00321 }
\DoxyCodeLine{00322   \textcolor{keywordflow}{if} (sl) \{}
\DoxyCodeLine{00323     \textcolor{keywordflow}{switch} (sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}()) \{}
\DoxyCodeLine{00324     \textcolor{keywordflow}{case} TZP\_XSHLEVEL:}
\DoxyCodeLine{00325       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1a4628781c4add56d9e3f547515561db61}{TImage::TOONZ\_RASTER}};}
\DoxyCodeLine{00326     \textcolor{keywordflow}{case} OVL\_XSHLEVEL:}
\DoxyCodeLine{00327       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1ada6df9de5e7d50b9c9c823871bee09d6}{TImage::RASTER}};}
\DoxyCodeLine{00328     \textcolor{keywordflow}{case} PLI\_XSHLEVEL:}
\DoxyCodeLine{00329     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00330       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1aae0e08194ada9a9bb8271dfd21ef8b2e}{TImage::VECTOR}};}
\DoxyCodeLine{00331     \textcolor{keywordflow}{case} MESH\_XSHLEVEL:}
\DoxyCodeLine{00332       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1ae50db261ae8c116693cb68bab95e181d}{TImage::MESH}};}
\DoxyCodeLine{00333     \}}
\DoxyCodeLine{00334   \}}
\DoxyCodeLine{00335 }
\DoxyCodeLine{00336   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1aae0e08194ada9a9bb8271dfd21ef8b2e}{TImage::VECTOR}};}
\DoxyCodeLine{00337 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{TXsheet\+::get\+Cell()}}, \mbox{\hyperlink{l00462}{TXsheet\+::get\+Cell\+Range()}}, \mbox{\hyperlink{l01418}{TXsheet\+::get\+Column()}}, \mbox{\hyperlink{l00118}{get\+Current\+Column()}}, \mbox{\hyperlink{l00114}{get\+Current\+Frame()}}, \mbox{\hyperlink{l00122}{get\+Current\+Level()}}, \mbox{\hyperlink{l00130}{get\+Current\+Object()}}, \mbox{\hyperlink{l00110}{get\+Current\+Xsheet()}}, \mbox{\hyperlink{l00019}{TXsh\+Cell\+::get\+Simple\+Level()}}, \mbox{\hyperlink{l00081}{TXsh\+Level\+::get\+Type()}}, \mbox{\hyperlink{l00078}{TXsh\+Cell\+::is\+Empty()}}, \mbox{\hyperlink{l00052}{TImage\+::\+MESH}}, \mbox{\hyperlink{l00049}{TImage\+::\+RASTER}}, \mbox{\hyperlink{l00051}{TImage\+::\+TOONZ\+\_\+\+RASTER}}, and \mbox{\hyperlink{l00050}{TImage\+::\+VECTOR}}.

\mbox{\Hypertarget{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}\label{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}} 
\index{TApp@{TApp}!getCurrentLevel@{getCurrentLevel}}
\index{getCurrentLevel@{getCurrentLevel}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentLevel()}{getCurrentLevel()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_level_handle}{TXsh\+Level\+Handle}} $\ast$ TApp\+::get\+Current\+Level (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a pointer to the current level. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00122 \{ \textcolor{keywordflow}{return} m\_currentLevel; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01669}{Xsheet\+Viewer\+::change\+Window\+Title()}}, \mbox{\hyperlink{l00213}{Color\+Model\+Viewer\+::context\+Menu\+Event()}}, \mbox{\hyperlink{l01598}{Scene\+Viewer\+::draw\+Overlay()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01985}{Load\+Color\+Model\+Popup\+::execute()}}, \mbox{\hyperlink{l02076}{Replace\+Parent\+Directory\+Popup\+::execute()}}, \mbox{\hyperlink{l00413}{Io\+Cmd\+::export\+Level()}}, \mbox{\hyperlink{l00278}{get\+Current\+Image\+Type()}}, \mbox{\hyperlink{l02386}{Scene\+Viewer\+::get\+Dpi\+Factor()}}, \mbox{\hyperlink{l02451}{Scene\+Viewer\+::get\+Zoom\+Scale\+Fitting\+With\+Screen()}}, \mbox{\hyperlink{l00504}{Color\+Model\+Viewer\+::load\+Current\+Frame()}}, \mbox{\hyperlink{l00163}{Color\+Model\+Viewer\+::load\+Image()}}, \mbox{\hyperlink{l01568}{Filmstrip\+::on\+Choose\+Level\+Combo\+Changed()}}, \mbox{\hyperlink{l02858}{Scene\+Viewer\+::on\+Level\+Switched()}}, \mbox{\hyperlink{l01840}{Filmstrip\+::on\+Level\+Switched()}}, \mbox{\hyperlink{l03064}{Scene\+Viewer\+::pos\+To\+Row()}}, \mbox{\hyperlink{l00342}{Combo\+Viewer\+Panel\+::show\+Event()}}, \mbox{\hyperlink{l00764}{Level\+Settings\+Popup\+::update\+Level\+Settings()}}, and \mbox{\hyperlink{l00092}{Toolbar\+::update\+Toolbar()}}.

\mbox{\Hypertarget{class_t_app_abb3c7af01d650df0b59291b1daadf7ad}\label{class_t_app_abb3c7af01d650df0b59291b1daadf7ad}} 
\index{TApp@{TApp}!getCurrentLevelStyle@{getCurrentLevelStyle}}
\index{getCurrentLevelStyle@{getCurrentLevelStyle}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentLevelStyle()}{getCurrentLevelStyle()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_color_style}{TColor\+Style}} $\ast$ TApp\+::get\+Current\+Level\+Style (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00259                                               \{}
\DoxyCodeLine{00260   \textcolor{keywordflow}{return} m\_paletteController-\/>getCurrentLevelPalette()-\/>getStyle();}
\DoxyCodeLine{00261 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_abee282626d1579319662144944e9ba46}\label{class_t_app_abee282626d1579319662144944e9ba46}} 
\index{TApp@{TApp}!getCurrentLevelStyleIndex@{getCurrentLevelStyleIndex}}
\index{getCurrentLevelStyleIndex@{getCurrentLevelStyleIndex}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentLevelStyleIndex()}{getCurrentLevelStyleIndex()}}
{\footnotesize\ttfamily int TApp\+::get\+Current\+Level\+Style\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00265                                           \{}
\DoxyCodeLine{00266   \textcolor{keywordflow}{return} m\_paletteController-\/>getCurrentLevelPalette()-\/>getStyleIndex();}
\DoxyCodeLine{00267 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}\label{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}} 
\index{TApp@{TApp}!getCurrentObject@{getCurrentObject}}
\index{getCurrentObject@{getCurrentObject}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentObject()}{getCurrentObject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_object_handle}{TObject\+Handle}} $\ast$ TApp\+::get\+Current\+Object (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a pointer to the current object in use. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00130 \{ \textcolor{keywordflow}{return} m\_currentObject; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01598}{Scene\+Viewer\+::draw\+Overlay()}}, \mbox{\hyperlink{l00278}{get\+Current\+Image\+Type()}}, \mbox{\hyperlink{l03254}{Scene\+Viewer\+::get\+Geometry()}}, and \mbox{\hyperlink{l00342}{Combo\+Viewer\+Panel\+::show\+Event()}}.

\mbox{\Hypertarget{class_t_app_afcdd56d9130b7c39a5227de08a0b65e4}\label{class_t_app_afcdd56d9130b7c39a5227de08a0b65e4}} 
\index{TApp@{TApp}!getCurrentOnionSkin@{getCurrentOnionSkin}}
\index{getCurrentOnionSkin@{getCurrentOnionSkin}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentOnionSkin()}{getCurrentOnionSkin()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_onion_skin_mask_handle}{TOnion\+Skin\+Mask\+Handle}} $\ast$ TApp\+::get\+Current\+Onion\+Skin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a pointer to the current layer\textquotesingle{}s mask. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00140                                                              \{}
\DoxyCodeLine{00141     \textcolor{keywordflow}{return} m\_currentOnionSkinMask;}
\DoxyCodeLine{00142   \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l03064}{Scene\+Viewer\+::pos\+To\+Row()}}.

\mbox{\Hypertarget{class_t_app_a33dbcbc578915e0b69fe6927b74cf426}\label{class_t_app_a33dbcbc578915e0b69fe6927b74cf426}} 
\index{TApp@{TApp}!getCurrentPalette@{getCurrentPalette}}
\index{getCurrentPalette@{getCurrentPalette}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentPalette()}{getCurrentPalette()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_palette_handle}{TPalette\+Handle}} $\ast$ TApp\+::get\+Current\+Palette (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Sets a pointer to the main window.. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00253                                               \{}
\DoxyCodeLine{00254   \textcolor{keywordflow}{return} m\_paletteController-\/>getCurrentPalette();}
\DoxyCodeLine{00255 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a2e2e36211e0221b0f58694b169fc7904}\label{class_t_app_a2e2e36211e0221b0f58694b169fc7904}} 
\index{TApp@{TApp}!getCurrentRoom@{getCurrentRoom}}
\index{getCurrentRoom@{getCurrentRoom}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentRoom()}{getCurrentRoom()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_main_window}{TMain\+Window}} $\ast$ TApp\+::get\+Current\+Room (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\begin{DoxyVerb} Returns a pointer to the current room. The current room is the window
\end{DoxyVerb}
 environment in use, i.\+e. the drawing tab, the animation tab, the pltedit tab etc... 
\begin{DoxyCode}{0}
\DoxyCodeLine{00236                                         \{}
\DoxyCodeLine{00237   \mbox{\hyperlink{class_main_window}{MainWindow}} *mainWindow = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_main_window}{MainWindow}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_t_app_aa229713538a33215a03db85064ef4012}{getMainWindow}}());}
\DoxyCodeLine{00238   \textcolor{keywordflow}{if} (mainWindow)}
\DoxyCodeLine{00239     \textcolor{keywordflow}{return} mainWindow-\/>getCurrentRoom();}
\DoxyCodeLine{00240   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00241     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00242 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00169}{get\+Main\+Window()}}.



Referenced by \mbox{\hyperlink{l00875}{Flip\+Book\+Pool\+::pop()}}.

\mbox{\Hypertarget{class_t_app_a6e39cd5d34200d347f4bcec1bd08f2ab}\label{class_t_app_a6e39cd5d34200d347f4bcec1bd08f2ab}} 
\index{TApp@{TApp}!getCurrentRoomName@{getCurrentRoomName}}
\index{getCurrentRoomName@{getCurrentRoomName}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentRoomName()}{getCurrentRoomName()}}
{\footnotesize\ttfamily QString TApp\+::get\+Current\+Room\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00762                                        \{}
\DoxyCodeLine{00763   \mbox{\hyperlink{class_room}{Room}} *currentRoom = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_room}{Room}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_t_app_a2e2e36211e0221b0f58694b169fc7904}{getCurrentRoom}}());}
\DoxyCodeLine{00764   \textcolor{keywordflow}{if} (!currentRoom) \textcolor{keywordflow}{return} QString();}
\DoxyCodeLine{00765 }
\DoxyCodeLine{00766   \textcolor{keywordflow}{return} currentRoom-\/>getName();}
\DoxyCodeLine{00767 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_abbbf1fae564e9e510826eda4f6637d20}\label{class_t_app_abbbf1fae564e9e510826eda4f6637d20}} 
\index{TApp@{TApp}!getCurrentScene@{getCurrentScene}}
\index{getCurrentScene@{getCurrentScene}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentScene()}{getCurrentScene()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_scene_handle}{TScene\+Handle}} $\ast$ TApp\+::get\+Current\+Scene (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a pointer to the current scene. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00106 \{ \textcolor{keywordflow}{return} m\_currentScene; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00914}{Vectorizer\+Popup\+::apply()}}, \mbox{\hyperlink{l01669}{Xsheet\+Viewer\+::change\+Window\+Title()}}, \mbox{\hyperlink{l00338}{Preview\+Sub\+Camera\+Manager\+::delete\+Sub\+Camera()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01783}{Replace\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l01985}{Load\+Color\+Model\+Popup\+::execute()}}, \mbox{\hyperlink{l02076}{Replace\+Parent\+Directory\+Popup\+::execute()}}, \mbox{\hyperlink{l00413}{Io\+Cmd\+::export\+Level()}}, \mbox{\hyperlink{l00712}{Cleanup\+Settings\+Model\+::get\+Cln\+Path()}}, \mbox{\hyperlink{l00719}{Output\+Settings\+Popup\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l02386}{Scene\+Viewer\+::get\+Dpi\+Factor()}}, \mbox{\hyperlink{l00731}{Cleanup\+Settings\+Model\+::get\+Output\+Path()}}, \mbox{\hyperlink{l02451}{Scene\+Viewer\+::get\+Zoom\+Scale\+Fitting\+With\+Screen()}}, \mbox{\hyperlink{l00163}{Color\+Model\+Viewer\+::load\+Image()}}, \mbox{\hyperlink{l00521}{Io\+Cmd\+::load\+Resource\+Folders()}}, \mbox{\hyperlink{l02357}{Io\+Cmd\+::load\+Resources()}}, \mbox{\hyperlink{l00721}{Render\+Command\+::multimedia\+Render()}}, \mbox{\hyperlink{l01102}{Output\+Settings\+Popup\+::on\+Camera\+Changed()}}, \mbox{\hyperlink{l01242}{Output\+Settings\+Popup\+::on\+Channel\+Width\+Changed()}}, \mbox{\hyperlink{l00113}{On\+Render\+Completed\+::on\+Deliver()}}, \mbox{\hyperlink{l01280}{Output\+Settings\+Popup\+::on\+Dominant\+Field\+Changed()}}, \mbox{\hyperlink{l01054}{Output\+Settings\+Popup\+::on\+Format\+Changed()}}, \mbox{\hyperlink{l01258}{Output\+Settings\+Popup\+::on\+Gamma\+Fld\+Edit\+Finished()}}, \mbox{\hyperlink{l00990}{Output\+Settings\+Popup\+::on\+Name\+Changed()}}, \mbox{\hyperlink{l00968}{Output\+Settings\+Popup\+::on\+Path\+Changed()}}, \mbox{\hyperlink{l04004}{Xsheet\+GUI\+::\+Cell\+Area\+::on\+Replace\+By\+Casted\+Level()}}, \mbox{\hyperlink{l01227}{Output\+Settings\+Popup\+::on\+Resample\+Changed()}}, \mbox{\hyperlink{l01307}{Output\+Settings\+Popup\+::on\+Stretch\+Fld\+Edit\+Finished()}}, \mbox{\hyperlink{l03064}{Scene\+Viewer\+::pos\+To\+Row()}}, \mbox{\hyperlink{l00252}{Vectorization\+Swatch\+Task\+::run()}}, \mbox{\hyperlink{l00242}{Vectorizer\+::set\+Level()}}, \mbox{\hyperlink{l00342}{Combo\+Viewer\+Panel\+::show\+Event()}}, and \mbox{\hyperlink{l01610}{Filmstrip\+::update\+Choose\+Level\+Combo\+Items()}}.

\mbox{\Hypertarget{class_t_app_a6e0ee1978807a89009571ed5ce44323b}\label{class_t_app_a6e0ee1978807a89009571ed5ce44323b}} 
\index{TApp@{TApp}!getCurrentSelection@{getCurrentSelection}}
\index{getCurrentSelection@{getCurrentSelection}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentSelection()}{getCurrentSelection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_selection_handle}{TSelection\+Handle}} $\ast$ TApp\+::get\+Current\+Selection (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a pointer to the current selection. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00134                                                          \{}
\DoxyCodeLine{00135     \textcolor{keywordflow}{return} m\_currentSelection;}
\DoxyCodeLine{00136   \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01669}{Xsheet\+Viewer\+::change\+Window\+Title()}}, \mbox{\hyperlink{l00610}{Export\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l01568}{Filmstrip\+::on\+Choose\+Level\+Combo\+Changed()}}, \mbox{\hyperlink{l00287}{Color\+Model\+Viewer\+::pick()}}, and \mbox{\hyperlink{l00764}{Level\+Settings\+Popup\+::update\+Level\+Settings()}}.

\mbox{\Hypertarget{class_t_app_ad70b447aff489792cfc3dbac7150a540}\label{class_t_app_ad70b447aff489792cfc3dbac7150a540}} 
\index{TApp@{TApp}!getCurrentTool@{getCurrentTool}}
\index{getCurrentTool@{getCurrentTool}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentTool()}{getCurrentTool()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_tool_handle}{Tool\+Handle}} $\ast$ TApp\+::get\+Current\+Tool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a pointer to the current tool used. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00126 \{ \textcolor{keywordflow}{return} m\_currentTool; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01598}{Scene\+Viewer\+::draw\+Overlay()}}, \mbox{\hyperlink{l03254}{Scene\+Viewer\+::get\+Geometry()}}, \mbox{\hyperlink{l02278}{Scene\+Viewer\+::\+GLInvalidate\+Rect()}}, \mbox{\hyperlink{l03234}{Scene\+Viewer\+::invalidate\+Tool\+Status()}}, \mbox{\hyperlink{l02858}{Scene\+Viewer\+::on\+Level\+Switched()}}, \mbox{\hyperlink{l02914}{Scene\+Viewer\+::on\+Tool\+Changed()}}, \mbox{\hyperlink{l00287}{Color\+Model\+Viewer\+::pick()}}, \mbox{\hyperlink{l00342}{Combo\+Viewer\+Panel\+::show\+Event()}}, and \mbox{\hyperlink{l00092}{Toolbar\+::update\+Toolbar()}}.

\mbox{\Hypertarget{class_t_app_a13f509e753824cb0500787f68bb51a09}\label{class_t_app_a13f509e753824cb0500787f68bb51a09}} 
\index{TApp@{TApp}!getCurrentXsheet@{getCurrentXsheet}}
\index{getCurrentXsheet@{getCurrentXsheet}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentXsheet()}{getCurrentXsheet()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsheet_handle}{TXsheet\+Handle}} $\ast$ TApp\+::get\+Current\+Xsheet (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns a pointer to the current Xsheet. 

Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00110 \{ \textcolor{keywordflow}{return} m\_currentXsheet; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00914}{Vectorizer\+Popup\+::apply()}}, \mbox{\hyperlink{l00610}{Export\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01783}{Replace\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l02076}{Replace\+Parent\+Directory\+Popup\+::execute()}}, \mbox{\hyperlink{l02646}{Io\+Cmd\+::expose\+Comment()}}, \mbox{\hyperlink{l00278}{get\+Current\+Image\+Type()}}, \mbox{\hyperlink{l02211}{Scene\+Viewer\+::get\+View\+Matrix()}}, \mbox{\hyperlink{l00504}{Color\+Model\+Viewer\+::load\+Current\+Frame()}}, \mbox{\hyperlink{l02357}{Io\+Cmd\+::load\+Resources()}}, \mbox{\hyperlink{l01357}{Output\+Settings\+Popup\+::on\+Add\+Preset\+Button\+Pressed()}}, \mbox{\hyperlink{l01102}{Output\+Settings\+Popup\+::on\+Camera\+Changed()}}, \mbox{\hyperlink{l00113}{On\+Render\+Completed\+::on\+Deliver()}}, \mbox{\hyperlink{l04004}{Xsheet\+GUI\+::\+Cell\+Area\+::on\+Replace\+By\+Casted\+Level()}}, \mbox{\hyperlink{l03064}{Scene\+Viewer\+::pos\+To\+Row()}}, \mbox{\hyperlink{l00342}{Combo\+Viewer\+Panel\+::show\+Event()}}, \mbox{\hyperlink{l01226}{Preview\+Fx\+Manager\+::show\+New\+Preview()}}, \mbox{\hyperlink{l00764}{Level\+Settings\+Popup\+::update\+Level\+Settings()}}, and \mbox{\hyperlink{l00092}{Toolbar\+::update\+Toolbar()}}.

\mbox{\Hypertarget{class_t_app_a554c6e70d78710fe0f9ed3d6c6e9ca16}\label{class_t_app_a554c6e70d78710fe0f9ed3d6c6e9ca16}} 
\index{TApp@{TApp}!getCurrentXsheetViewer@{getCurrentXsheetViewer}}
\index{getCurrentXsheetViewer@{getCurrentXsheetViewer}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getCurrentXsheetViewer()}{getCurrentXsheetViewer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_xsheet_viewer}{Xsheet\+Viewer}} $\ast$ TApp\+::get\+Current\+Xsheet\+Viewer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00206 \{ \textcolor{keywordflow}{return} m\_xsheetViewer; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_aa229713538a33215a03db85064ef4012}\label{class_t_app_aa229713538a33215a03db85064ef4012}} 
\index{TApp@{TApp}!getMainWindow@{getMainWindow}}
\index{getMainWindow@{getMainWindow}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getMainWindow()}{getMainWindow()}}
{\footnotesize\ttfamily QMain\+Window $\ast$ TApp\+::get\+Main\+Window (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Returns a pointer to the main window. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00169 \{ \textcolor{keywordflow}{return} m\_mainWindow; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00236}{get\+Current\+Room()}}.

\mbox{\Hypertarget{class_t_app_a0c684f5fd81afde810a6c706601eb4bc}\label{class_t_app_a0c684f5fd81afde810a6c706601eb4bc}} 
\index{TApp@{TApp}!getPaletteController@{getPaletteController}}
\index{getPaletteController@{getPaletteController}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{getPaletteController()}{getPaletteController()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_palette_controller}{Palette\+Controller}} $\ast$ TApp\+::get\+Palette\+Controller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00148                                                            \{}
\DoxyCodeLine{00149     \textcolor{keywordflow}{return} m\_paletteController;}
\DoxyCodeLine{00150   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a7cd53f55c9390ac70257d81102fd4351}\label{class_t_app_a7cd53f55c9390ac70257d81102fd4351}} 
\index{TApp@{TApp}!init@{init}}
\index{init@{init}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily void TApp\+::init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\begin{DoxyVerb} Initializes the main window application. It is called in the main
\end{DoxyVerb}
 function after the environment initialization. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00226                 \{}
\DoxyCodeLine{00227   m\_isStarting = \textcolor{keyword}{true};}
\DoxyCodeLine{00228   IoCmd::newScene();}
\DoxyCodeLine{00229   m\_currentColumn-\/>setColumnIndex(0);}
\DoxyCodeLine{00230   m\_currentFrame-\/>setFrame(0);}
\DoxyCodeLine{00231   m\_isStarting = \textcolor{keyword}{false};}
\DoxyCodeLine{00232 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}\label{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}} 
\index{TApp@{TApp}!instance@{instance}}
\index{instance@{instance}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{instance()}{instance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_app}{TApp}} $\ast$ TApp\+::instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

A static pointer to the main application. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00215                      \{}
\DoxyCodeLine{00216   \textcolor{keyword}{static} \mbox{\hyperlink{class_t_app}{TApp}} \_instance;}
\DoxyCodeLine{00217   \textcolor{keywordflow}{return} \&\_instance;}
\DoxyCodeLine{00218 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00914}{Vectorizer\+Popup\+::apply()}}, \mbox{\hyperlink{l01669}{Xsheet\+Viewer\+::change\+Window\+Title()}}, \mbox{\hyperlink{l00213}{Color\+Model\+Viewer\+::context\+Menu\+Event()}}, \mbox{\hyperlink{l00338}{Preview\+Sub\+Camera\+Manager\+::delete\+Sub\+Camera()}}, \mbox{\hyperlink{l01598}{Scene\+Viewer\+::draw\+Overlay()}}, \mbox{\hyperlink{l00610}{Export\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l01550}{Save\+Level\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01783}{Replace\+Level\+Popup\+::execute()}}, \mbox{\hyperlink{l01871}{Save\+Palette\+As\+Popup\+::execute()}}, \mbox{\hyperlink{l01985}{Load\+Color\+Model\+Popup\+::execute()}}, \mbox{\hyperlink{l02076}{Replace\+Parent\+Directory\+Popup\+::execute()}}, \mbox{\hyperlink{l00413}{Io\+Cmd\+::export\+Level()}}, \mbox{\hyperlink{l02646}{Io\+Cmd\+::expose\+Comment()}}, \mbox{\hyperlink{l00712}{Cleanup\+Settings\+Model\+::get\+Cln\+Path()}}, \mbox{\hyperlink{l00719}{Output\+Settings\+Popup\+::get\+Current\+Scene()}}, \mbox{\hyperlink{l02386}{Scene\+Viewer\+::get\+Dpi\+Factor()}}, \mbox{\hyperlink{l03254}{Scene\+Viewer\+::get\+Geometry()}}, \mbox{\hyperlink{l00731}{Cleanup\+Settings\+Model\+::get\+Output\+Path()}}, \mbox{\hyperlink{l02227}{Scene\+Viewer\+::get\+Scene\+Matrix()}}, \mbox{\hyperlink{l02211}{Scene\+Viewer\+::get\+View\+Matrix()}}, \mbox{\hyperlink{l02451}{Scene\+Viewer\+::get\+Zoom\+Scale\+Fitting\+With\+Screen()}}, \mbox{\hyperlink{l02278}{Scene\+Viewer\+::\+GLInvalidate\+Rect()}}, \mbox{\hyperlink{l03234}{Scene\+Viewer\+::invalidate\+Tool\+Status()}}, \mbox{\hyperlink{l00504}{Color\+Model\+Viewer\+::load\+Current\+Frame()}}, \mbox{\hyperlink{l00163}{Color\+Model\+Viewer\+::load\+Image()}}, \mbox{\hyperlink{l00521}{Io\+Cmd\+::load\+Resource\+Folders()}}, \mbox{\hyperlink{l02357}{Io\+Cmd\+::load\+Resources()}}, \mbox{\hyperlink{l00721}{Render\+Command\+::multimedia\+Render()}}, \mbox{\hyperlink{l01357}{Output\+Settings\+Popup\+::on\+Add\+Preset\+Button\+Pressed()}}, \mbox{\hyperlink{l01102}{Output\+Settings\+Popup\+::on\+Camera\+Changed()}}, \mbox{\hyperlink{l01242}{Output\+Settings\+Popup\+::on\+Channel\+Width\+Changed()}}, \mbox{\hyperlink{l01568}{Filmstrip\+::on\+Choose\+Level\+Combo\+Changed()}}, \mbox{\hyperlink{l00113}{On\+Render\+Completed\+::on\+Deliver()}}, \mbox{\hyperlink{l01280}{Output\+Settings\+Popup\+::on\+Dominant\+Field\+Changed()}}, \mbox{\hyperlink{l01054}{Output\+Settings\+Popup\+::on\+Format\+Changed()}}, \mbox{\hyperlink{l00789}{Combo\+Viewer\+Panel\+::on\+Frame\+Type\+Changed()}}, \mbox{\hyperlink{l01258}{Output\+Settings\+Popup\+::on\+Gamma\+Fld\+Edit\+Finished()}}, \mbox{\hyperlink{l02858}{Scene\+Viewer\+::on\+Level\+Switched()}}, \mbox{\hyperlink{l01840}{Filmstrip\+::on\+Level\+Switched()}}, \mbox{\hyperlink{l00990}{Output\+Settings\+Popup\+::on\+Name\+Changed()}}, \mbox{\hyperlink{l00968}{Output\+Settings\+Popup\+::on\+Path\+Changed()}}, \mbox{\hyperlink{l04004}{Xsheet\+GUI\+::\+Cell\+Area\+::on\+Replace\+By\+Casted\+Level()}}, \mbox{\hyperlink{l01227}{Output\+Settings\+Popup\+::on\+Resample\+Changed()}}, \mbox{\hyperlink{l01307}{Output\+Settings\+Popup\+::on\+Stretch\+Fld\+Edit\+Finished()}}, \mbox{\hyperlink{l02914}{Scene\+Viewer\+::on\+Tool\+Changed()}}, \mbox{\hyperlink{l00287}{Color\+Model\+Viewer\+::pick()}}, \mbox{\hyperlink{l00875}{Flip\+Book\+Pool\+::pop()}}, \mbox{\hyperlink{l03064}{Scene\+Viewer\+::pos\+To\+Row()}}, \mbox{\hyperlink{l00579}{Cleanup\+Settings\+Model\+::restore\+Global\+Settings()}}, \mbox{\hyperlink{l00252}{Vectorization\+Swatch\+Task\+::run()}}, \mbox{\hyperlink{l00242}{Vectorizer\+::set\+Level()}}, \mbox{\hyperlink{l00342}{Combo\+Viewer\+Panel\+::show\+Event()}}, \mbox{\hyperlink{l01226}{Preview\+Fx\+Manager\+::show\+New\+Preview()}}, \mbox{\hyperlink{l01610}{Filmstrip\+::update\+Choose\+Level\+Combo\+Items()}}, \mbox{\hyperlink{l00714}{Combo\+Viewer\+Panel\+::update\+Frame\+Range()}}, \mbox{\hyperlink{l00764}{Level\+Settings\+Popup\+::update\+Level\+Settings()}}, and \mbox{\hyperlink{l00092}{Toolbar\+::update\+Toolbar()}}.

\mbox{\Hypertarget{class_t_app_a29abb4a8e209ae26bf5d200a6befbce1}\label{class_t_app_a29abb4a8e209ae26bf5d200a6befbce1}} 
\index{TApp@{TApp}!isApplicationStarting@{isApplicationStarting}}
\index{isApplicationStarting@{isApplicationStarting}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{isApplicationStarting()}{isApplicationStarting()}}
{\footnotesize\ttfamily bool TApp\+::is\+Application\+Starting (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00198 \{ \textcolor{keywordflow}{return} m\_isStarting; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a4daf938137ea3d62324a802482cc9ea2}\label{class_t_app_a4daf938137ea3d62324a802482cc9ea2}} 
\index{TApp@{TApp}!isPenCloseToTablet@{isPenCloseToTablet}}
\index{isPenCloseToTablet@{isPenCloseToTablet}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{isPenCloseToTablet()}{isPenCloseToTablet()}}
{\footnotesize\ttfamily bool TApp\+::is\+Pen\+Close\+To\+Tablet (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00200 \{ \textcolor{keywordflow}{return} m\_isPenCloseToTablet; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a0ca0439d84c223a57633399732c9cab9}\label{class_t_app_a0ca0439d84c223a57633399732c9cab9}} 
\index{TApp@{TApp}!onColumnIndexSwitched@{onColumnIndexSwitched}}
\index{onColumnIndexSwitched@{onColumnIndexSwitched}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onColumnIndexSwitched}{onColumnIndexSwitched}}
{\footnotesize\ttfamily void TApp\+::on\+Column\+Index\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00508                                  \{}
\DoxyCodeLine{00509   \textcolor{comment}{// update xsheetlevel}}
\DoxyCodeLine{00510   updateXshLevel();}
\DoxyCodeLine{00511 }
\DoxyCodeLine{00512   \textcolor{comment}{// update current object}}
\DoxyCodeLine{00513   \textcolor{keywordtype}{int} columnIndex = m\_currentColumn-\/>getColumnIndex();}
\DoxyCodeLine{00514   \textcolor{keywordflow}{if} (columnIndex >= 0)}
\DoxyCodeLine{00515     m\_currentObject-\/>setObjectId(TStageObjectId::ColumnId(columnIndex));}
\DoxyCodeLine{00516   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00517     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = \mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{00518     m\_currentObject-\/>setObjectId(}
\DoxyCodeLine{00519         TStageObjectId::CameraId(xsh-\/>getCameraColumnIndex()));}
\DoxyCodeLine{00520   \}}
\DoxyCodeLine{00521 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a951e47d5d76c2f9ce69671928c87f622}\label{class_t_app_a951e47d5d76c2f9ce69671928c87f622}} 
\index{TApp@{TApp}!onFrameSwitched@{onFrameSwitched}}
\index{onFrameSwitched@{onFrameSwitched}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onFrameSwitched}{onFrameSwitched}}
{\footnotesize\ttfamily void TApp\+::on\+Frame\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00487                            \{}
\DoxyCodeLine{00488   updateXshLevel();}
\DoxyCodeLine{00489   \textcolor{keywordtype}{int} row = m\_currentFrame-\/>getFrameIndex();}
\DoxyCodeLine{00490   \mbox{\hyperlink{class_t_cell_selection}{TCellSelection}} *sel =}
\DoxyCodeLine{00491       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_cell_selection}{TCellSelection}} *\textcolor{keyword}{>}(TSelection::getCurrent());}
\DoxyCodeLine{00492 }
\DoxyCodeLine{00493   \textcolor{keywordflow}{if} (sel \&\& !sel-\/>isRowSelected(row) \&\&}
\DoxyCodeLine{00494       !Preferences::instance()-\/>isUseArrowKeyToShiftCellSelectionEnabled()) \{}
\DoxyCodeLine{00495     sel-\/>selectNone();}
\DoxyCodeLine{00496   \}}
\DoxyCodeLine{00497 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a7d2f66519a27ecc7e88fb8fed19faec7}\label{class_t_app_a7d2f66519a27ecc7e88fb8fed19faec7}} 
\index{TApp@{TApp}!onFxSwitched@{onFxSwitched}}
\index{onFxSwitched@{onFxSwitched}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onFxSwitched}{onFxSwitched}}
{\footnotesize\ttfamily void TApp\+::on\+Fx\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00501                         \{}
\DoxyCodeLine{00502   \textcolor{comment}{//  if(m\_currentFx-\/>getFx() != 0)}}
\DoxyCodeLine{00503   \textcolor{comment}{//    m\_currentTool-\/>setTool(T\_Edit);}}
\DoxyCodeLine{00504 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_ad8cd00b3296159b8911a992c1595bfb5}\label{class_t_app_ad8cd00b3296159b8911a992c1595bfb5}} 
\index{TApp@{TApp}!onImageChanged@{onImageChanged}}
\index{onImageChanged@{onImageChanged}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onImageChanged}{onImageChanged}}
{\footnotesize\ttfamily void TApp\+::on\+Image\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00451                           \{}
\DoxyCodeLine{00452   m\_currentTool-\/>onImageChanged((\mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1}{TImage::Type}})\mbox{\hyperlink{class_t_app_a45713935f77f415f7bff62db71f2adbe}{getCurrentImageType}}());}
\DoxyCodeLine{00453 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a4e39c9f0683a004e1d64a772ecdac46a}\label{class_t_app_a4e39c9f0683a004e1d64a772ecdac46a}} 
\index{TApp@{TApp}!onLevelColorStyleChanged@{onLevelColorStyleChanged}}
\index{onLevelColorStyleChanged@{onLevelColorStyleChanged}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onLevelColorStyleChanged}{onLevelColorStyleChanged}}
{\footnotesize\ttfamily void TApp\+::on\+Level\+Color\+Style\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00670                                     \{}
\DoxyCodeLine{00671   onPaletteChanged();}
\DoxyCodeLine{00672   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *level = m\_currentLevel-\/>getLevel();}
\DoxyCodeLine{00673   \textcolor{keywordflow}{if} (!level) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00674   \mbox{\hyperlink{class_t_palette}{TPalette}} *palette            = \mbox{\hyperlink{class_t_app_a33dbcbc578915e0b69fe6927b74cf426}{getCurrentPalette}}()-\/>getPalette();}
\DoxyCodeLine{00675   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *simpleLevel = level-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{00676   \textcolor{keywordflow}{if} (simpleLevel \&\& simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a9aea4f8e34caef293d5e5c7694047564}{getPalette}}() == palette) \{}
\DoxyCodeLine{00677     notifyPaletteChanged(simpleLevel);}
\DoxyCodeLine{00678   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00679     \mbox{\hyperlink{class_t_level_set}{TLevelSet}} *levelSet = \mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene()-\/>\mbox{\hyperlink{class_toonz_scene_ac1a8bf0d2cec4f59c87b0001991264b5}{getLevelSet}}();}
\DoxyCodeLine{00680     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < levelSet-\/>getLevelCount(); i++) \{}
\DoxyCodeLine{00681       \textcolor{keywordflow}{if} (levelSet-\/>getLevel(i)) \{}
\DoxyCodeLine{00682         simpleLevel = levelSet-\/>getLevel(i)-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{00683         \textcolor{keywordflow}{if} (simpleLevel \&\& simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a9aea4f8e34caef293d5e5c7694047564}{getPalette}}() == palette) \{}
\DoxyCodeLine{00684           notifyPaletteChanged(simpleLevel);}
\DoxyCodeLine{00685         \}}
\DoxyCodeLine{00686       \}}
\DoxyCodeLine{00687     \}}
\DoxyCodeLine{00688   \}}
\DoxyCodeLine{00689 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_aca3acf4d13788714e98fff61a01419c8}\label{class_t_app_aca3acf4d13788714e98fff61a01419c8}} 
\index{TApp@{TApp}!onLevelColorStyleSwitched@{onLevelColorStyleSwitched}}
\index{onLevelColorStyleSwitched@{onLevelColorStyleSwitched}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onLevelColorStyleSwitched}{onLevelColorStyleSwitched}}
{\footnotesize\ttfamily void TApp\+::on\+Level\+Color\+Style\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00608                                      \{}
\DoxyCodeLine{00609   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *sl = m\_currentLevel-\/>getLevel();}
\DoxyCodeLine{00610   \textcolor{keywordflow}{if} (!sl || (sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() != TZP\_XSHLEVEL \&\& sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() != PLI\_XSHLEVEL))}
\DoxyCodeLine{00611     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00612 }
\DoxyCodeLine{00613   \mbox{\hyperlink{class_t_palette_handle}{TPaletteHandle}} *ph = m\_paletteController-\/>getCurrentLevelPalette();}
\DoxyCodeLine{00614   assert(ph);}
\DoxyCodeLine{00615 }
\DoxyCodeLine{00616   \textcolor{keywordflow}{if} (ToonzCheck::instance()-\/>setColorIndex(ph-\/>getStyleIndex())) \{}
\DoxyCodeLine{00617     \mbox{\hyperlink{class_toonz_check}{ToonzCheck}} *tc = ToonzCheck::instance();}
\DoxyCodeLine{00618     \textcolor{keywordtype}{int} mask       = tc-\/>getChecks();}
\DoxyCodeLine{00619 }
\DoxyCodeLine{00620     \textcolor{keywordflow}{if} (mask \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876a7ad1deef6a508e60252b818c61ce83e9}{ToonzCheck::eInk}} || mask \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876a5a4df203cdba2a5eb6f7eba19f9ab62e}{ToonzCheck::ePaint}}) \{}
\DoxyCodeLine{00621       \mbox{\hyperlink{class_icon_generator_1_1_settings}{IconGenerator::Settings}} s;}
\DoxyCodeLine{00622       s.m\_blackBgCheck      = mask \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff}{ToonzCheck::eBlackBg}};}
\DoxyCodeLine{00623       s.m\_transparencyCheck = mask \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876af72e27092872414c3774938597209285}{ToonzCheck::eTransparency}};}
\DoxyCodeLine{00624       s.m\_inksOnly          = mask \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876ace675a780bd6cc41302c9b566409149b}{ToonzCheck::eInksOnly}};}
\DoxyCodeLine{00625       s.m\_inkIndex   = mask \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876a7ad1deef6a508e60252b818c61ce83e9}{ToonzCheck::eInk}} ? tc-\/>\mbox{\hyperlink{class_toonz_check_a7bea28e4a4ede90c7f52a4e9e2e1c328}{getColorIndex}}() : -\/1;}
\DoxyCodeLine{00626       s.m\_paintIndex = mask \& \mbox{\hyperlink{class_toonz_check_add5b28b42f552cf90e3cfcde9e737876a5a4df203cdba2a5eb6f7eba19f9ab62e}{ToonzCheck::ePaint}} ? tc-\/>\mbox{\hyperlink{class_toonz_check_a7bea28e4a4ede90c7f52a4e9e2e1c328}{getColorIndex}}() : -\/1;}
\DoxyCodeLine{00627 }
\DoxyCodeLine{00628       IconGenerator::instance()-\/>setSettings(s);}
\DoxyCodeLine{00629 }
\DoxyCodeLine{00630       \textcolor{keywordflow}{if} (sl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() == PLI\_XSHLEVEL) \{}
\DoxyCodeLine{00631         std::vector<TFrameId> fids;}
\DoxyCodeLine{00632         sl-\/>getFids(fids);}
\DoxyCodeLine{00633         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)fids.size(); i++)}
\DoxyCodeLine{00634           IconGenerator::instance()-\/>invalidate(sl, fids[i]);}
\DoxyCodeLine{00635       \}}
\DoxyCodeLine{00636 }
\DoxyCodeLine{00637       m\_currentLevel-\/>notifyLevelViewChange();}
\DoxyCodeLine{00638     \}}
\DoxyCodeLine{00639 }
\DoxyCodeLine{00640     \textcolor{comment}{/*-\/-\/ 表示オプションが切り替わっただけなので、DirtyFlagを立てない -\/-\/*/}}
\DoxyCodeLine{00641     m\_currentScene-\/>notifySceneChanged(\textcolor{keyword}{false});}
\DoxyCodeLine{00642   \}}
\DoxyCodeLine{00643 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_ae00e534c2dda54dbe7fb7dea298a0214}\label{class_t_app_ae00e534c2dda54dbe7fb7dea298a0214}} 
\index{TApp@{TApp}!onObjectSwitched@{onObjectSwitched}}
\index{onObjectSwitched@{onObjectSwitched}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onObjectSwitched}{onObjectSwitched}}
{\footnotesize\ttfamily void TApp\+::on\+Object\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00571                             \{}
\DoxyCodeLine{00572   \textcolor{keywordflow}{if} (m\_currentObject-\/>isSpline()) \{}
\DoxyCodeLine{00573     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_currentXsheet-\/>getXsheet();}
\DoxyCodeLine{00574     \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *currentObject =}
\DoxyCodeLine{00575         xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(m\_currentObject-\/>getObjectId());}
\DoxyCodeLine{00576     \mbox{\hyperlink{class_t_stage_object_spline}{TStageObjectSpline}} *ps = currentObject-\/>\mbox{\hyperlink{class_t_stage_object_a425cb2dbcefe6ba4e288e1e8bdd16f72}{getSpline}}();}
\DoxyCodeLine{00577     m\_currentObject-\/>setSplineObject(ps);}
\DoxyCodeLine{00578   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00579     m\_currentObject-\/>setSplineObject(0);}
\DoxyCodeLine{00580   onImageChanged();}
\DoxyCodeLine{00581 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a31096e8917f5f058bf99a571ce6327cf}\label{class_t_app_a31096e8917f5f058bf99a571ce6327cf}} 
\index{TApp@{TApp}!onPaletteChanged@{onPaletteChanged}}
\index{onPaletteChanged@{onPaletteChanged}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onPaletteChanged}{onPaletteChanged}}
{\footnotesize\ttfamily void TApp\+::on\+Palette\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00604 \{ m\_currentScene-\/>setDirtyFlag(\textcolor{keyword}{true}); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_ad4338ce055aa94dfaf7497af3bcf2d44}\label{class_t_app_ad4338ce055aa94dfaf7497af3bcf2d44}} 
\index{TApp@{TApp}!onSceneChanged@{onSceneChanged}}
\index{onSceneChanged@{onSceneChanged}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onSceneChanged}{onSceneChanged}}
{\footnotesize\ttfamily void TApp\+::on\+Scene\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00597                           \{}
\DoxyCodeLine{00598   updateCurrentFrame();}
\DoxyCodeLine{00599   m\_currentTool-\/>updateMatrix();}
\DoxyCodeLine{00600 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a0bc5e8f8c8c4721fe20c0cb65d254903}\label{class_t_app_a0bc5e8f8c8c4721fe20c0cb65d254903}} 
\index{TApp@{TApp}!onSceneSwitched@{onSceneSwitched}}
\index{onSceneSwitched@{onSceneSwitched}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onSceneSwitched}{onSceneSwitched}}
{\footnotesize\ttfamily void TApp\+::on\+Scene\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00425                            \{}
\DoxyCodeLine{00426   \textcolor{comment}{// update XSheet}}
\DoxyCodeLine{00427   m\_currentXsheet-\/>setXsheet(m\_currentScene-\/>getScene()-\/>\mbox{\hyperlink{class_toonz_scene_ae3c828e3223fd809fd59189233d0576a}{getXsheet}}());}
\DoxyCodeLine{00428 }
\DoxyCodeLine{00429   \mbox{\hyperlink{class_t_palette}{TPalette}} *palette = m\_currentScene-\/>getScene()}
\DoxyCodeLine{00430                           -\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()}
\DoxyCodeLine{00431                           -\/>\mbox{\hyperlink{class_t_scene_properties_a84e6735bb0b0ea5054b9592c9612aff9}{getCleanupParameters}}()}
\DoxyCodeLine{00432                           -\/>m\_cleanupPalette.getPointer();}
\DoxyCodeLine{00433   m\_paletteController-\/>getCurrentCleanupPalette()-\/>setPalette(palette, -\/1);}
\DoxyCodeLine{00434   m\_paletteController-\/>editLevelPalette();}
\DoxyCodeLine{00435 }
\DoxyCodeLine{00436   \textcolor{comment}{// reset current frame}}
\DoxyCodeLine{00437   m\_currentFrame-\/>setFrame(0);}
\DoxyCodeLine{00438 }
\DoxyCodeLine{00439   \textcolor{comment}{// clear current onionSkinMask}}
\DoxyCodeLine{00440   m\_currentOnionSkinMask-\/>clear();}
\DoxyCodeLine{00441 }
\DoxyCodeLine{00442   \textcolor{comment}{// update currentFrames}}
\DoxyCodeLine{00443   updateCurrentFrame();}
\DoxyCodeLine{00444 }
\DoxyCodeLine{00445   \textcolor{comment}{// update current tool}}
\DoxyCodeLine{00446   m\_currentTool-\/>onImageChanged((\mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1}{TImage::Type}})\mbox{\hyperlink{class_t_app_a45713935f77f415f7bff62db71f2adbe}{getCurrentImageType}}());}
\DoxyCodeLine{00447 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_ac6d9f38a84f145ecd2a017e0c69adf91}\label{class_t_app_ac6d9f38a84f145ecd2a017e0c69adf91}} 
\index{TApp@{TApp}!onSplineChanged@{onSplineChanged}}
\index{onSplineChanged@{onSplineChanged}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onSplineChanged}{onSplineChanged}}
{\footnotesize\ttfamily void TApp\+::on\+Spline\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00585                            \{}
\DoxyCodeLine{00586   \textcolor{keywordflow}{if} (m\_currentObject-\/>isSpline()) \{}
\DoxyCodeLine{00587     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = m\_currentXsheet-\/>getXsheet();}
\DoxyCodeLine{00588     \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *currentObject =}
\DoxyCodeLine{00589         xsh-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(m\_currentObject-\/>getObjectId());}
\DoxyCodeLine{00590     currentObject-\/>\mbox{\hyperlink{class_t_stage_object_a6e3e9725839b34216225a943cbfb3f0a}{setOffset}}(}
\DoxyCodeLine{00591         currentObject-\/>\mbox{\hyperlink{class_t_stage_object_acca88f20b53a77f07ef090cc871ce43a}{getOffset}}());  \textcolor{comment}{// invalidate currentObject}}
\DoxyCodeLine{00592   \}}
\DoxyCodeLine{00593 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_ae547461817cdc782e739c48bad7753fe}\label{class_t_app_ae547461817cdc782e739c48bad7753fe}} 
\index{TApp@{TApp}!onStartAutoSave@{onStartAutoSave}}
\index{onStartAutoSave@{onStartAutoSave}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onStartAutoSave}{onStartAutoSave}}
{\footnotesize\ttfamily void TApp\+::on\+Start\+Auto\+Save (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00729                            \{}
\DoxyCodeLine{00730   assert(Preferences::instance()-\/>isAutosaveEnabled());}
\DoxyCodeLine{00731   m\_autosaveTimer-\/>start(Preferences::instance()-\/>getAutosavePeriod() * 1000 *}
\DoxyCodeLine{00732                          60);}
\DoxyCodeLine{00733 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a2b6ba02aa261ee7a86826d75422ec437}\label{class_t_app_a2b6ba02aa261ee7a86826d75422ec437}} 
\index{TApp@{TApp}!onStopAutoSave@{onStopAutoSave}}
\index{onStopAutoSave@{onStopAutoSave}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onStopAutoSave}{onStopAutoSave}}
{\footnotesize\ttfamily void TApp\+::on\+Stop\+Auto\+Save (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00737                           \{}
\DoxyCodeLine{00738   \textcolor{comment}{// assert(!Preferences::instance()-\/>isAutosaveEnabled());}}
\DoxyCodeLine{00739   m\_autosaveTimer-\/>stop();}
\DoxyCodeLine{00740 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a157465a249254f6812e1f236eb0c2cf1}\label{class_t_app_a157465a249254f6812e1f236eb0c2cf1}} 
\index{TApp@{TApp}!onToolEditingFinished@{onToolEditingFinished}}
\index{onToolEditingFinished@{onToolEditingFinished}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onToolEditingFinished}{onToolEditingFinished}}
{\footnotesize\ttfamily void TApp\+::on\+Tool\+Editing\+Finished (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00721                                  \{}
\DoxyCodeLine{00722   \textcolor{keywordflow}{if} (!Preferences::instance()-\/>isAutosaveEnabled() || !m\_autosaveSuspended)}
\DoxyCodeLine{00723     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00724   autosave();}
\DoxyCodeLine{00725 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a612276afb72ab402b992503c3094a8d4}\label{class_t_app_a612276afb72ab402b992503c3094a8d4}} 
\index{TApp@{TApp}!onXsheetChanged@{onXsheetChanged}}
\index{onXsheetChanged@{onXsheetChanged}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onXsheetChanged}{onXsheetChanged}}
{\footnotesize\ttfamily void TApp\+::on\+Xsheet\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00472                            \{}
\DoxyCodeLine{00473   updateXshLevel();}
\DoxyCodeLine{00474   updateCurrentFrame();}
\DoxyCodeLine{00475   \textcolor{comment}{// update current tool}}
\DoxyCodeLine{00476   m\_currentTool-\/>onImageChanged((\mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1}{TImage::Type}})\mbox{\hyperlink{class_t_app_a45713935f77f415f7bff62db71f2adbe}{getCurrentImageType}}());}
\DoxyCodeLine{00477 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a9478b5eda13ebdddd2df35c934502ef0}\label{class_t_app_a9478b5eda13ebdddd2df35c934502ef0}} 
\index{TApp@{TApp}!onXsheetSoundChanged@{onXsheetSoundChanged}}
\index{onXsheetSoundChanged@{onXsheetSoundChanged}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onXsheetSoundChanged}{onXsheetSoundChanged}}
{\footnotesize\ttfamily void TApp\+::on\+Xsheet\+Sound\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00481                                 \{}
\DoxyCodeLine{00482   m\_currentXsheet-\/>getXsheet()-\/>invalidateSound();}
\DoxyCodeLine{00483 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_adbc7f07ac48b66fb55c67d420b28d6b7}\label{class_t_app_adbc7f07ac48b66fb55c67d420b28d6b7}} 
\index{TApp@{TApp}!onXsheetSwitched@{onXsheetSwitched}}
\index{onXsheetSwitched@{onXsheetSwitched}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onXsheetSwitched}{onXsheetSwitched}}
{\footnotesize\ttfamily void TApp\+::on\+Xsheet\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00457                             \{}
\DoxyCodeLine{00458   \textcolor{comment}{// update current object}}
\DoxyCodeLine{00459   \textcolor{keywordtype}{int} columnIndex = m\_currentColumn-\/>getColumnIndex();}
\DoxyCodeLine{00460   \textcolor{keywordflow}{if} (columnIndex >= 0)}
\DoxyCodeLine{00461     m\_currentObject-\/>setObjectId(TStageObjectId::ColumnId(columnIndex));}
\DoxyCodeLine{00462 }
\DoxyCodeLine{00463   \textcolor{comment}{// update xsheetlevel}}
\DoxyCodeLine{00464   updateXshLevel();}
\DoxyCodeLine{00465 }
\DoxyCodeLine{00466   \textcolor{comment}{// no Fx is set to current.}}
\DoxyCodeLine{00467   m\_currentFx-\/>setFx(0);}
\DoxyCodeLine{00468 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a96ddebb877258d7d27e63bd71b6d010e}\label{class_t_app_a96ddebb877258d7d27e63bd71b6d010e}} 
\index{TApp@{TApp}!onXshLevelChanged@{onXshLevelChanged}}
\index{onXshLevelChanged@{onXshLevelChanged}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onXshLevelChanged}{onXshLevelChanged}}
{\footnotesize\ttfamily void TApp\+::on\+Xsh\+Level\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00561                              \{}
\DoxyCodeLine{00562   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *level = m\_currentLevel-\/>getLevel();}
\DoxyCodeLine{00563   std::vector<TFrameId> fids;}
\DoxyCodeLine{00564   \textcolor{keywordflow}{if} (level != 0) level-\/>getFids(fids);}
\DoxyCodeLine{00565   m\_currentFrame-\/>setFrameIds(fids);}
\DoxyCodeLine{00566   \textcolor{comment}{// update current tool}}
\DoxyCodeLine{00567   m\_currentTool-\/>onImageChanged((\mbox{\hyperlink{class_t_image_a40e9e1054d038f48639e85b1825094c1}{TImage::Type}})\mbox{\hyperlink{class_t_app_a45713935f77f415f7bff62db71f2adbe}{getCurrentImageType}}());}
\DoxyCodeLine{00568 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_ae9246d3612faa0ba3d5c71c2dc6f1ed9}\label{class_t_app_ae9246d3612faa0ba3d5c71c2dc6f1ed9}} 
\index{TApp@{TApp}!onXshLevelSwitched@{onXshLevelSwitched}}
\index{onXshLevelSwitched@{onXshLevelSwitched}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{onXshLevelSwitched}{onXshLevelSwitched}}
{\footnotesize\ttfamily void TApp\+::on\+Xsh\+Level\+Switched (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00525                                          \{}
\DoxyCodeLine{00526   \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *level = m\_currentLevel-\/>getLevel();}
\DoxyCodeLine{00527   \textcolor{keywordflow}{if} (level) \{}
\DoxyCodeLine{00528     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *simpleLevel = level-\/>\mbox{\hyperlink{class_t_xsh_level_a023065559cff76164ecb6344c586ba27}{getSimpleLevel}}();}
\DoxyCodeLine{00529 }
\DoxyCodeLine{00530     \textcolor{comment}{// Devo aggiornare la paletta corrente}}
\DoxyCodeLine{00531     \textcolor{keywordflow}{if} (simpleLevel) \{}
\DoxyCodeLine{00532       m\_paletteController-\/>getCurrentLevelPalette()-\/>setPalette(}
\DoxyCodeLine{00533           simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a9aea4f8e34caef293d5e5c7694047564}{getPalette}}());}
\DoxyCodeLine{00534 }
\DoxyCodeLine{00535       \textcolor{comment}{// Se il nuovo livello selezionato e' un ovl,}}
\DoxyCodeLine{00536       \textcolor{comment}{// la paletta corrente e' una cleanup palette}}
\DoxyCodeLine{00537       \textcolor{comment}{//  => setto come handle corrente quello della paletta di cleanup.}}
\DoxyCodeLine{00538       \mbox{\hyperlink{class_t_palette}{TPalette}} *currentPalette =}
\DoxyCodeLine{00539           m\_paletteController-\/>getCurrentPalette()-\/>getPalette();}
\DoxyCodeLine{00540 }
\DoxyCodeLine{00541       \textcolor{keywordflow}{if} (simpleLevel-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() == OVL\_XSHLEVEL \&\& currentPalette \&\&}
\DoxyCodeLine{00542           currentPalette-\/>\mbox{\hyperlink{class_t_palette_a8160207d0a98de8a562c4339aa648ed4}{isCleanupPalette}}())}
\DoxyCodeLine{00543         m\_paletteController-\/>editCleanupPalette();}
\DoxyCodeLine{00544 }
\DoxyCodeLine{00545       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00546     \}}
\DoxyCodeLine{00547 }
\DoxyCodeLine{00548     \mbox{\hyperlink{class_t_xsh_palette_level}{TXshPaletteLevel}} *paletteLevel = level-\/>\mbox{\hyperlink{class_t_xsh_level_afdbb7e1664b681225414f59317a32b74}{getPaletteLevel}}();}
\DoxyCodeLine{00549     \textcolor{keywordflow}{if} (paletteLevel) \{}
\DoxyCodeLine{00550       m\_paletteController-\/>getCurrentLevelPalette()-\/>setPalette(}
\DoxyCodeLine{00551           paletteLevel-\/>\mbox{\hyperlink{class_t_xsh_palette_level_a10f4de1fc40ba426ff7d93f548fae83d}{getPalette}}());}
\DoxyCodeLine{00552       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00553     \}}
\DoxyCodeLine{00554   \}}
\DoxyCodeLine{00555 }
\DoxyCodeLine{00556   m\_paletteController-\/>getCurrentLevelPalette()-\/>setPalette(0);}
\DoxyCodeLine{00557 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_ac8fa587e1b39bd6c5dcc8bfbe59320bb}\label{class_t_app_ac8fa587e1b39bd6c5dcc8bfbe59320bb}} 
\index{TApp@{TApp}!setActiveViewer@{setActiveViewer}}
\index{setActiveViewer@{setActiveViewer}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{setActiveViewer()}{setActiveViewer()}}
{\footnotesize\ttfamily void TApp\+::set\+Active\+Viewer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_scene_viewer}{Scene\+Viewer}} $\ast$}]{viewer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00190                                             \{}
\DoxyCodeLine{00191     \textcolor{keywordflow}{if} (m\_activeViewer == viewer) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00192     m\_activeViewer = viewer;}
\DoxyCodeLine{00193     emit activeViewerChanged();}
\DoxyCodeLine{00194   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a071f5ddcc7fa4c9da69fc48b81fd87b7}\label{class_t_app_a071f5ddcc7fa4c9da69fc48b81fd87b7}} 
\index{TApp@{TApp}!setCurrentLevelStyleIndex@{setCurrentLevelStyleIndex}}
\index{setCurrentLevelStyleIndex@{setCurrentLevelStyleIndex}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{setCurrentLevelStyleIndex()}{setCurrentLevelStyleIndex()}}
{\footnotesize\ttfamily void TApp\+::set\+Current\+Level\+Style\+Index (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{bool}]{force\+Update = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_application}{TApplication}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00271                                                                 \{}
\DoxyCodeLine{00272   m\_paletteController-\/>getCurrentLevelPalette()-\/>setStyleIndex(index,}
\DoxyCodeLine{00273                                                                forceUpdate);}
\DoxyCodeLine{00274 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a6a423217e58f4b0bf7bfa4c279d64da9}\label{class_t_app_a6a423217e58f4b0bf7bfa4c279d64da9}} 
\index{TApp@{TApp}!setCurrentXsheetViewer@{setCurrentXsheetViewer}}
\index{setCurrentXsheetViewer@{setCurrentXsheetViewer}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{setCurrentXsheetViewer()}{setCurrentXsheetViewer()}}
{\footnotesize\ttfamily void TApp\+::set\+Current\+Xsheet\+Viewer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_xsheet_viewer}{Xsheet\+Viewer}} $\ast$}]{viewer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00204 \{ m\_xsheetViewer = viewer; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a17f2695120c62178000242c4fd84f1f0}\label{class_t_app_a17f2695120c62178000242c4fd84f1f0}} 
\index{TApp@{TApp}!setMainWindow@{setMainWindow}}
\index{setMainWindow@{setMainWindow}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{setMainWindow()}{setMainWindow()}}
{\footnotesize\ttfamily void TApp\+::set\+Main\+Window (\begin{DoxyParamCaption}\item[{QMain\+Window $\ast$}]{main\+Window }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00165 \{ m\_mainWindow = mainWindow; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_app_a6f29630eaf9bbef5345f1bad5954b8b7}\label{class_t_app_a6f29630eaf9bbef5345f1bad5954b8b7}} 
\index{TApp@{TApp}!writeSettings@{writeSettings}}
\index{writeSettings@{writeSettings}!TApp@{TApp}}
\doxysubsubsection{\texorpdfstring{writeSettings()}{writeSettings()}}
{\footnotesize\ttfamily void TApp\+::write\+Settings (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00246                          \{}
\DoxyCodeLine{00247   \mbox{\hyperlink{class_main_window}{MainWindow}} *mainWindow = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_main_window}{MainWindow}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_t_app_aa229713538a33215a03db85064ef4012}{getMainWindow}}());}
\DoxyCodeLine{00248   \textcolor{keywordflow}{if} (mainWindow) mainWindow-\/>refreshWriteSettings();}
\DoxyCodeLine{00249 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/tapp.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/tapp.\+cpp\end{DoxyCompactItemize}
