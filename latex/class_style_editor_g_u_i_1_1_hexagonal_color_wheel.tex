\hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel}{}\doxysection{Style\+Editor\+GUI\+::Hexagonal\+Color\+Wheel Class Reference}
\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel}\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
Inheritance diagram for Style\+Editor\+GUI\+::Hexagonal\+Color\+Wheel\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_style_editor_g_u_i_1_1_hexagonal_color_wheel}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_aa3b4b57f72bd3c1ce0eec387e996d9f4}{on\+Context\+About\+To\+Be\+Destroyed}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_af3b6c4e79a35dafb017c5eeb7ccbf22a}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_af3b6c4e79a35dafb017c5eeb7ccbf22a}} 
void {\bfseries color\+Changed} (const \mbox{\hyperlink{class_style_editor_g_u_i_1_1_color_model}{Color\+Model}} \&color, bool is\+Dragging)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a2f7ecb3a47fc258a76f6c0e18e1657de}{Hexagonal\+Color\+Wheel}} (QWidget $\ast$parent)
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_af34b7c69c1767dbfbe0846fbdb34ab00}{set\+Color}} (const \mbox{\hyperlink{class_style_editor_g_u_i_1_1_color_model}{Color\+Model}} \&color)
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a5f4d9ec35d459fc73d2865c7b44ce6ba}{set\+BGColor}} (const QColor \&color)
\item 
QColor \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a2953c0f4664cc385a7b0ea66deab42b9}{get\+BGColor}} () const
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_ab7eb100f7fcdc067ac867ada8ca64abb}{update\+Color\+Calibration}} ()
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a970e8780a1366869d473399460b47b36}{cue\+Calibration\+Update}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a3c52bb9c18cb5c1624c6ac9274cda776}{initialize\+GL}} () override
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a98e51206a1433c32c12a6b70a1b068a8}{resize\+GL}} (int width, int height) override
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a6070892e3d03e3ff67faa37d6a5b286c}{paint\+GL}} () override
\item 
QSize \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_ab6a480d7760a1faa8c1be61455733f03}{Size\+Hint}} () const
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a4543ad58211a0138ec4116c52197c1e5}{mouse\+Press\+Event}} (QMouse\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_ad982dd985e6119a9f293fc559059dc44}{mouse\+Move\+Event}} (QMouse\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a8df213d323c649d531f03f30fe1f5c95}{mouse\+Release\+Event}} (QMouse\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a1465305da1db3a12b21741eb101fc1ec}{show\+Event}} (QShow\+Event $\ast$) override
\end{DoxyCompactItemize}
\doxysubsection*{Properties}
\begin{DoxyCompactItemize}
\item 
QColor \mbox{\hyperlink{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a44a15cd0cea09ae617cc76f5b57902f9}{BGColor}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a2f7ecb3a47fc258a76f6c0e18e1657de}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a2f7ecb3a47fc258a76f6c0e18e1657de}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!HexagonalColorWheel@{HexagonalColorWheel}}
\index{HexagonalColorWheel@{HexagonalColorWheel}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{HexagonalColorWheel()}{HexagonalColorWheel()}}
{\footnotesize\ttfamily Hexagonal\+Color\+Wheel\+::\+Hexagonal\+Color\+Wheel (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00778     : \mbox{\hyperlink{class_g_l_widget_for_high_dpi}{GLWidgetForHighDpi}}(parent)}
\DoxyCodeLine{00779     , m\_bgColor(128, 128, 128)  \textcolor{comment}{// default value in case this value does not set}}
\DoxyCodeLine{00780                                 \textcolor{comment}{// in the style sheet}}
\DoxyCodeLine{00781 \{}
\DoxyCodeLine{00782   setObjectName(\textcolor{stringliteral}{"{}HexagonalColorWheel"{}});}
\DoxyCodeLine{00783   setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Expanding);}
\DoxyCodeLine{00784   setFocusPolicy(Qt::NoFocus);}
\DoxyCodeLine{00785   m\_currentWheel = none;}
\DoxyCodeLine{00786   \textcolor{keywordflow}{if} (Preferences::instance()-\/>isColorCalibrationEnabled())}
\DoxyCodeLine{00787     m\_lutCalibrator = \textcolor{keyword}{new} \mbox{\hyperlink{class_lut_calibrator}{LutCalibrator}}();}
\DoxyCodeLine{00788 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_accac6c7629cdaf0c84c842232afea961}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_accac6c7629cdaf0c84c842232afea961}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!````~HexagonalColorWheel@{$\sim$HexagonalColorWheel}}
\index{````~HexagonalColorWheel@{$\sim$HexagonalColorWheel}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{$\sim$HexagonalColorWheel()}{~HexagonalColorWheel()}}
{\footnotesize\ttfamily Hexagonal\+Color\+Wheel\+::$\sim$\+Hexagonal\+Color\+Wheel (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00792                                           \{}
\DoxyCodeLine{00793   \textcolor{keywordflow}{if} (m\_fbo) \textcolor{keyword}{delete} m\_fbo;}
\DoxyCodeLine{00794 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a970e8780a1366869d473399460b47b36}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a970e8780a1366869d473399460b47b36}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!cueCalibrationUpdate@{cueCalibrationUpdate}}
\index{cueCalibrationUpdate@{cueCalibrationUpdate}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{cueCalibrationUpdate()}{cueCalibrationUpdate()}}
{\footnotesize\ttfamily void Style\+Editor\+GUI\+::\+Hexagonal\+Color\+Wheel\+::cue\+Calibration\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00202 \{ m\_cuedCalibrationUpdate = \textcolor{keyword}{true}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a2953c0f4664cc385a7b0ea66deab42b9}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a2953c0f4664cc385a7b0ea66deab42b9}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!getBGColor@{getBGColor}}
\index{getBGColor@{getBGColor}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{getBGColor()}{getBGColor()}}
{\footnotesize\ttfamily QColor Style\+Editor\+GUI\+::\+Hexagonal\+Color\+Wheel\+::get\+BGColor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00199 \{ \textcolor{keywordflow}{return} m\_bgColor; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a3c52bb9c18cb5c1624c6ac9274cda776}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a3c52bb9c18cb5c1624c6ac9274cda776}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!initializeGL@{initializeGL}}
\index{initializeGL@{initializeGL}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{initializeGL()}{initializeGL()}}
{\footnotesize\ttfamily void Hexagonal\+Color\+Wheel\+::initialize\+GL (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00833                                        \{}
\DoxyCodeLine{00834   initializeOpenGLFunctions();}
\DoxyCodeLine{00835 }
\DoxyCodeLine{00836   \textcolor{comment}{// to be computed once through the software}}
\DoxyCodeLine{00837   \textcolor{keywordflow}{if} (m\_lutCalibrator \&\& !m\_lutCalibrator-\/>isInitialized()) \{}
\DoxyCodeLine{00838     m\_lutCalibrator-\/>initialize();}
\DoxyCodeLine{00839     connect(context(), SIGNAL(aboutToBeDestroyed()), \textcolor{keyword}{this},}
\DoxyCodeLine{00840             SLOT(onContextAboutToBeDestroyed()));}
\DoxyCodeLine{00841   \}}
\DoxyCodeLine{00842 }
\DoxyCodeLine{00843   QColor \textcolor{keyword}{const} color = getBGColor();}
\DoxyCodeLine{00844   glClearColor(color.redF(), color.greenF(), color.blueF(), color.alphaF());}
\DoxyCodeLine{00845 }
\DoxyCodeLine{00846   \textcolor{comment}{// Without the following lines, the wheel in a floating style editor}}
\DoxyCodeLine{00847   \textcolor{comment}{// disappears on switching the room due to context switching.}}
\DoxyCodeLine{00848   \textcolor{keywordflow}{if} (m\_firstInitialized)}
\DoxyCodeLine{00849     m\_firstInitialized = \textcolor{keyword}{false};}
\DoxyCodeLine{00850   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00851     resizeGL(width(), height());}
\DoxyCodeLine{00852     update();}
\DoxyCodeLine{00853   \}}
\DoxyCodeLine{00854 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_ad982dd985e6119a9f293fc559059dc44}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_ad982dd985e6119a9f293fc559059dc44}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!mouseMoveEvent@{mouseMoveEvent}}
\index{mouseMoveEvent@{mouseMoveEvent}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{mouseMoveEvent()}{mouseMoveEvent()}}
{\footnotesize\ttfamily void Hexagonal\+Color\+Wheel\+::mouse\+Move\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01059                                                            \{}
\DoxyCodeLine{01060   \textcolor{comment}{// change the behavior according to the current touching wheel}}
\DoxyCodeLine{01061   \textcolor{keywordflow}{switch} (m\_currentWheel) \{}
\DoxyCodeLine{01062   \textcolor{keywordflow}{case} none:}
\DoxyCodeLine{01063     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01064   \textcolor{keywordflow}{case} leftWheel:}
\DoxyCodeLine{01065     clickLeftWheel(event-\/>pos() * getDevPixRatio());}
\DoxyCodeLine{01066     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01067   \textcolor{keywordflow}{case} rightTriangle:}
\DoxyCodeLine{01068     clickRightTriangle(event-\/>pos() * getDevPixRatio());}
\DoxyCodeLine{01069     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01070   \}}
\DoxyCodeLine{01071 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a4543ad58211a0138ec4116c52197c1e5}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a4543ad58211a0138ec4116c52197c1e5}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!mousePressEvent@{mousePressEvent}}
\index{mousePressEvent@{mousePressEvent}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{mousePressEvent()}{mousePressEvent()}}
{\footnotesize\ttfamily void Hexagonal\+Color\+Wheel\+::mouse\+Press\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01025                                                             \{}
\DoxyCodeLine{01026   \textcolor{keywordflow}{if} (\string~event-\/>buttons() \& Qt::LeftButton) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01027 }
\DoxyCodeLine{01028   \textcolor{comment}{// check whether the mouse cursor is in the wheel or in the triangle (or}}
\DoxyCodeLine{01029   \textcolor{comment}{// nothing).}}
\DoxyCodeLine{01030   QPoint curPos = \textcolor{keyword}{event}-\/>pos() * getDevPixRatio();}
\DoxyCodeLine{01031 }
\DoxyCodeLine{01032   QPolygonF wheelPolygon;}
\DoxyCodeLine{01033   \textcolor{comment}{// in the case of the wheel}}
\DoxyCodeLine{01034   wheelPolygon << m\_wp[1] << m\_wp[2] << m\_wp[3] << m\_wp[4] << m\_wp[5]}
\DoxyCodeLine{01035                << m\_wp[6];}
\DoxyCodeLine{01036   wheelPolygon.translate(m\_wheelPosition);}
\DoxyCodeLine{01037   \textcolor{keywordflow}{if} (wheelPolygon.toPolygon().containsPoint(curPos, Qt::OddEvenFill)) \{}
\DoxyCodeLine{01038     m\_currentWheel = leftWheel;}
\DoxyCodeLine{01039     clickLeftWheel(curPos);}
\DoxyCodeLine{01040     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01041   \}}
\DoxyCodeLine{01042 }
\DoxyCodeLine{01043   wheelPolygon.clear();}
\DoxyCodeLine{01044   \textcolor{comment}{// in the case of the triangle}}
\DoxyCodeLine{01045   wheelPolygon << m\_leftp[0] << m\_leftp[1] << m\_leftp[2];}
\DoxyCodeLine{01046   wheelPolygon.translate(m\_wheelPosition);}
\DoxyCodeLine{01047   \textcolor{keywordflow}{if} (wheelPolygon.toPolygon().containsPoint(curPos, Qt::OddEvenFill)) \{}
\DoxyCodeLine{01048     m\_currentWheel = rightTriangle;}
\DoxyCodeLine{01049     clickRightTriangle(curPos);}
\DoxyCodeLine{01050     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01051   \}}
\DoxyCodeLine{01052 }
\DoxyCodeLine{01053   \textcolor{comment}{//... or, in the case of nothing}}
\DoxyCodeLine{01054   m\_currentWheel = none;}
\DoxyCodeLine{01055 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a8df213d323c649d531f03f30fe1f5c95}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a8df213d323c649d531f03f30fe1f5c95}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!mouseReleaseEvent@{mouseReleaseEvent}}
\index{mouseReleaseEvent@{mouseReleaseEvent}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{mouseReleaseEvent()}{mouseReleaseEvent()}}
{\footnotesize\ttfamily void Hexagonal\+Color\+Wheel\+::mouse\+Release\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01075                                                               \{}
\DoxyCodeLine{01076   m\_currentWheel = none;}
\DoxyCodeLine{01077   emit colorChanged(m\_color, \textcolor{keyword}{false});}
\DoxyCodeLine{01078 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_aa3b4b57f72bd3c1ce0eec387e996d9f4}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_aa3b4b57f72bd3c1ce0eec387e996d9f4}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!onContextAboutToBeDestroyed@{onContextAboutToBeDestroyed}}
\index{onContextAboutToBeDestroyed@{onContextAboutToBeDestroyed}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{onContextAboutToBeDestroyed}{onContextAboutToBeDestroyed}}
{\footnotesize\ttfamily void Hexagonal\+Color\+Wheel\+::on\+Context\+About\+To\+Be\+Destroyed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01123                                                       \{}
\DoxyCodeLine{01124   \textcolor{keywordflow}{if} (!m\_lutCalibrator) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01125   makeCurrent();}
\DoxyCodeLine{01126   m\_lutCalibrator-\/>cleanup();}
\DoxyCodeLine{01127   doneCurrent();}
\DoxyCodeLine{01128   disconnect(context(), SIGNAL(aboutToBeDestroyed()), \textcolor{keyword}{this},}
\DoxyCodeLine{01129              SLOT(onContextAboutToBeDestroyed()));}
\DoxyCodeLine{01130 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a6070892e3d03e3ff67faa37d6a5b286c}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a6070892e3d03e3ff67faa37d6a5b286c}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!paintGL@{paintGL}}
\index{paintGL@{paintGL}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{paintGL()}{paintGL()}}
{\footnotesize\ttfamily void Hexagonal\+Color\+Wheel\+::paint\+GL (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00914                                   \{}
\DoxyCodeLine{00915   \textcolor{comment}{// call ClearColor() here in order to update bg color when the stylesheet is}}
\DoxyCodeLine{00916   \textcolor{comment}{// switched}}
\DoxyCodeLine{00917   QColor \textcolor{keyword}{const} color = getBGColor();}
\DoxyCodeLine{00918   glClearColor(color.redF(), color.greenF(), color.blueF(), color.alphaF());}
\DoxyCodeLine{00919 }
\DoxyCodeLine{00920   glMatrixMode(GL\_MODELVIEW);}
\DoxyCodeLine{00921 }
\DoxyCodeLine{00922   \textcolor{keywordflow}{if} (m\_lutCalibrator \&\& m\_lutCalibrator-\/>isValid()) m\_fbo-\/>bind();}
\DoxyCodeLine{00923 }
\DoxyCodeLine{00924   glClear(GL\_COLOR\_BUFFER\_BIT);}
\DoxyCodeLine{00925 }
\DoxyCodeLine{00926   \textcolor{keywordtype}{float} v = (float)m\_color.getValue(eValue) / 100.0f;}
\DoxyCodeLine{00927 }
\DoxyCodeLine{00928   glPushMatrix();}
\DoxyCodeLine{00929 }
\DoxyCodeLine{00930   \textcolor{comment}{// draw hexagonal color wheel}}
\DoxyCodeLine{00931   glTranslatef(m\_wheelPosition.rx(), m\_wheelPosition.ry(), 0.0f);}
\DoxyCodeLine{00932   glBegin(GL\_TRIANGLE\_FAN);}
\DoxyCodeLine{00933   glColor3f(v, v, v);}
\DoxyCodeLine{00934   glVertex2f(m\_wp[0].x(), m\_wp[0].y());}
\DoxyCodeLine{00935 }
\DoxyCodeLine{00936   glColor3f(0.0f, v, 0.0f);}
\DoxyCodeLine{00937   glVertex2f(m\_wp[1].x(), m\_wp[1].y());}
\DoxyCodeLine{00938   glColor3f(0.0f, v, v);}
\DoxyCodeLine{00939   glVertex2f(m\_wp[2].x(), m\_wp[2].y());}
\DoxyCodeLine{00940   glColor3f(0.0f, 0.0f, v);}
\DoxyCodeLine{00941   glVertex2f(m\_wp[3].x(), m\_wp[3].y());}
\DoxyCodeLine{00942   glColor3f(v, 0.0f, v);}
\DoxyCodeLine{00943   glVertex2f(m\_wp[4].x(), m\_wp[4].y());}
\DoxyCodeLine{00944   glColor3f(v, 0.0f, 0.0f);}
\DoxyCodeLine{00945   glVertex2f(m\_wp[5].x(), m\_wp[5].y());}
\DoxyCodeLine{00946   glColor3f(v, v, 0.0f);}
\DoxyCodeLine{00947   glVertex2f(m\_wp[6].x(), m\_wp[6].y());}
\DoxyCodeLine{00948   glColor3f(0.0f, v, 0.0f);}
\DoxyCodeLine{00949   glVertex2f(m\_wp[1].x(), m\_wp[1].y());}
\DoxyCodeLine{00950   glEnd();}
\DoxyCodeLine{00951 }
\DoxyCodeLine{00952   QColor leftCol = QColor().fromHsv(m\_color.getValue(eHue), 255, 255);}
\DoxyCodeLine{00953 }
\DoxyCodeLine{00954   \textcolor{comment}{// draw triangle color picker}}
\DoxyCodeLine{00955   glBegin(GL\_TRIANGLES);}
\DoxyCodeLine{00956   glColor3f(leftCol.redF(), leftCol.greenF(), leftCol.blueF());}
\DoxyCodeLine{00957   glVertex2f(m\_leftp[0].x(), m\_leftp[0].y());}
\DoxyCodeLine{00958   glColor3f(0.0f, 0.0f, 0.0f);}
\DoxyCodeLine{00959   glVertex2f(m\_leftp[1].x(), m\_leftp[1].y());}
\DoxyCodeLine{00960   glColor3f(1.0f, 1.0f, 1.0f);}
\DoxyCodeLine{00961   glVertex2f(m\_leftp[2].x(), m\_leftp[2].y());}
\DoxyCodeLine{00962   glEnd();}
\DoxyCodeLine{00963 }
\DoxyCodeLine{00964   \textcolor{comment}{// draw small quad at current color position}}
\DoxyCodeLine{00965   drawCurrentColorMark();}
\DoxyCodeLine{00966 }
\DoxyCodeLine{00967   glPopMatrix();}
\DoxyCodeLine{00968 }
\DoxyCodeLine{00969   \textcolor{keywordflow}{if} (m\_lutCalibrator \&\& m\_lutCalibrator-\/>isValid())}
\DoxyCodeLine{00970     m\_lutCalibrator-\/>onEndDraw(m\_fbo);}
\DoxyCodeLine{00971 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a98e51206a1433c32c12a6b70a1b068a8}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a98e51206a1433c32c12a6b70a1b068a8}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!resizeGL@{resizeGL}}
\index{resizeGL@{resizeGL}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{resizeGL()}{resizeGL()}}
{\footnotesize\ttfamily void Hexagonal\+Color\+Wheel\+::resize\+GL (\begin{DoxyParamCaption}\item[{int}]{width,  }\item[{int}]{height }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00858                                                \{}
\DoxyCodeLine{00859   w *= getDevPixRatio();}
\DoxyCodeLine{00860   h *= getDevPixRatio();}
\DoxyCodeLine{00861   \textcolor{keywordtype}{float} d                 = (w -\/ 5.0f) / 2.5f;}
\DoxyCodeLine{00862   \textcolor{keywordtype}{bool} isHorizontallyLong = ((d * 1.732f) < h) ? false : \textcolor{keyword}{true};}
\DoxyCodeLine{00863 }
\DoxyCodeLine{00864   \textcolor{keywordflow}{if} (isHorizontallyLong) \{}
\DoxyCodeLine{00865     m\_triEdgeLen = (float)h / 1.732f;}
\DoxyCodeLine{00866     m\_triHeight  = (float)h / 2.0f;}
\DoxyCodeLine{00867     m\_wheelPosition.setX(((\textcolor{keywordtype}{float})w -\/ (m\_triEdgeLen * 2.5f + 5.0f)) / 2.0f);}
\DoxyCodeLine{00868     m\_wheelPosition.setY(0.0f);}
\DoxyCodeLine{00869   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00870     m\_triEdgeLen = d;}
\DoxyCodeLine{00871     m\_triHeight  = m\_triEdgeLen * 0.866f;}
\DoxyCodeLine{00872     m\_wheelPosition.setX(0.0f);}
\DoxyCodeLine{00873     m\_wheelPosition.setY(((\textcolor{keywordtype}{float})h -\/ (m\_triHeight * 2.0f)) / 2.0f);}
\DoxyCodeLine{00874   \}}
\DoxyCodeLine{00875 }
\DoxyCodeLine{00876   \textcolor{comment}{// set all vertices positions}}
\DoxyCodeLine{00877   m\_wp[0].setX(m\_triEdgeLen);}
\DoxyCodeLine{00878   m\_wp[0].setY(m\_triHeight);}
\DoxyCodeLine{00879   m\_wp[1].setX(m\_triEdgeLen * 0.5f);}
\DoxyCodeLine{00880   m\_wp[1].setY(0.0f);}
\DoxyCodeLine{00881   m\_wp[2].setX(0.0f);}
\DoxyCodeLine{00882   m\_wp[2].setY(m\_triHeight);}
\DoxyCodeLine{00883   m\_wp[3].setX(m\_triEdgeLen * 0.5f);}
\DoxyCodeLine{00884   m\_wp[3].setY(m\_triHeight * 2.0f);}
\DoxyCodeLine{00885   m\_wp[4].setX(m\_triEdgeLen * 1.5f);}
\DoxyCodeLine{00886   m\_wp[4].setY(m\_triHeight * 2.0f);}
\DoxyCodeLine{00887   m\_wp[5].setX(m\_triEdgeLen * 2.0f);}
\DoxyCodeLine{00888   m\_wp[5].setY(m\_triHeight);}
\DoxyCodeLine{00889   m\_wp[6].setX(m\_triEdgeLen * 1.5f);}
\DoxyCodeLine{00890   m\_wp[6].setY(0.0f);}
\DoxyCodeLine{00891 }
\DoxyCodeLine{00892   m\_leftp[0].setX(m\_wp[6].x() + 5.0f);}
\DoxyCodeLine{00893   m\_leftp[0].setY(0.0f);}
\DoxyCodeLine{00894   m\_leftp[1].setX(m\_leftp[0].x() + m\_triEdgeLen);}
\DoxyCodeLine{00895   m\_leftp[1].setY(m\_triHeight * 2.0f);}
\DoxyCodeLine{00896   m\_leftp[2].setX(m\_leftp[1].x());}
\DoxyCodeLine{00897   m\_leftp[2].setY(0.0f);}
\DoxyCodeLine{00898 }
\DoxyCodeLine{00899   \textcolor{comment}{// GL settings}}
\DoxyCodeLine{00900   glViewport(0, 0, w, h);}
\DoxyCodeLine{00901   glMatrixMode(GL\_PROJECTION);}
\DoxyCodeLine{00902   glLoadIdentity();}
\DoxyCodeLine{00903   glOrtho(0.0, (GLdouble)w, (GLdouble)h, 0.0, 1.0, -\/1.0);}
\DoxyCodeLine{00904 }
\DoxyCodeLine{00905   \textcolor{comment}{// remake fbo with new size}}
\DoxyCodeLine{00906   \textcolor{keywordflow}{if} (m\_lutCalibrator \&\& m\_lutCalibrator-\/>isValid()) \{}
\DoxyCodeLine{00907     \textcolor{keywordflow}{if} (m\_fbo) \textcolor{keyword}{delete} m\_fbo;}
\DoxyCodeLine{00908     m\_fbo = \textcolor{keyword}{new} QOpenGLFramebufferObject(w, h);}
\DoxyCodeLine{00909   \}}
\DoxyCodeLine{00910 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a5f4d9ec35d459fc73d2865c7b44ce6ba}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a5f4d9ec35d459fc73d2865c7b44ce6ba}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!setBGColor@{setBGColor}}
\index{setBGColor@{setBGColor}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{setBGColor()}{setBGColor()}}
{\footnotesize\ttfamily void Style\+Editor\+GUI\+::\+Hexagonal\+Color\+Wheel\+::set\+BGColor (\begin{DoxyParamCaption}\item[{const QColor \&}]{color }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00198 \{ m\_bgColor = color; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_af34b7c69c1767dbfbe0846fbdb34ab00}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_af34b7c69c1767dbfbe0846fbdb34ab00}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!setColor@{setColor}}
\index{setColor@{setColor}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{setColor()}{setColor()}}
{\footnotesize\ttfamily void Style\+Editor\+GUI\+::\+Hexagonal\+Color\+Wheel\+::set\+Color (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_style_editor_g_u_i_1_1_color_model}{Color\+Model}} \&}]{color }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00194 \{ m\_color = color; \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a1465305da1db3a12b21741eb101fc1ec}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a1465305da1db3a12b21741eb101fc1ec}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!showEvent@{showEvent}}
\index{showEvent@{showEvent}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{showEvent()}{showEvent()}}
{\footnotesize\ttfamily void Hexagonal\+Color\+Wheel\+::show\+Event (\begin{DoxyParamCaption}\item[{QShow\+Event $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00824                                                 \{}
\DoxyCodeLine{00825   \textcolor{keywordflow}{if} (m\_cuedCalibrationUpdate) \{}
\DoxyCodeLine{00826     updateColorCalibration();}
\DoxyCodeLine{00827     m\_cuedCalibrationUpdate = \textcolor{keyword}{false};}
\DoxyCodeLine{00828   \}}
\DoxyCodeLine{00829 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_ab6a480d7760a1faa8c1be61455733f03}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_ab6a480d7760a1faa8c1be61455733f03}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!SizeHint@{SizeHint}}
\index{SizeHint@{SizeHint}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{SizeHint()}{SizeHint()}}
{\footnotesize\ttfamily QSize Style\+Editor\+GUI\+::\+Hexagonal\+Color\+Wheel\+::\+Size\+Hint (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00208 \{ \textcolor{keywordflow}{return} QSize(300, 200); \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_ab7eb100f7fcdc067ac867ada8ca64abb}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_ab7eb100f7fcdc067ac867ada8ca64abb}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!updateColorCalibration@{updateColorCalibration}}
\index{updateColorCalibration@{updateColorCalibration}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{updateColorCalibration()}{updateColorCalibration()}}
{\footnotesize\ttfamily void Hexagonal\+Color\+Wheel\+::update\+Color\+Calibration (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00798                                                  \{}
\DoxyCodeLine{00799   \textcolor{keywordflow}{if} (Preferences::instance()-\/>isColorCalibrationEnabled()) \{}
\DoxyCodeLine{00800     \textcolor{comment}{// prevent to initialize LutCalibrator before this instance is initialized}}
\DoxyCodeLine{00801     \textcolor{comment}{// or OT may crash due to missing OpenGL context}}
\DoxyCodeLine{00802     \textcolor{keywordflow}{if} (m\_firstInitialized) \{}
\DoxyCodeLine{00803       cueCalibrationUpdate();}
\DoxyCodeLine{00804       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00805     \}}
\DoxyCodeLine{00806 }
\DoxyCodeLine{00807     makeCurrent();}
\DoxyCodeLine{00808     \textcolor{keywordflow}{if} (!m\_lutCalibrator)}
\DoxyCodeLine{00809       m\_lutCalibrator = \textcolor{keyword}{new} \mbox{\hyperlink{class_lut_calibrator}{LutCalibrator}}();}
\DoxyCodeLine{00810     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00811       m\_lutCalibrator-\/>cleanup();}
\DoxyCodeLine{00812     m\_lutCalibrator-\/>initialize();}
\DoxyCodeLine{00813     connect(context(), SIGNAL(aboutToBeDestroyed()), \textcolor{keyword}{this},}
\DoxyCodeLine{00814             SLOT(onContextAboutToBeDestroyed()));}
\DoxyCodeLine{00815     \textcolor{keywordflow}{if} (m\_lutCalibrator-\/>isValid() \&\& !m\_fbo)}
\DoxyCodeLine{00816       m\_fbo = \textcolor{keyword}{new} QOpenGLFramebufferObject(width(), height());}
\DoxyCodeLine{00817     doneCurrent();}
\DoxyCodeLine{00818   \}}
\DoxyCodeLine{00819   update();}
\DoxyCodeLine{00820 \}}

\end{DoxyCode}


\doxysubsection{Property Documentation}
\mbox{\Hypertarget{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a44a15cd0cea09ae617cc76f5b57902f9}\label{class_style_editor_g_u_i_1_1_hexagonal_color_wheel_a44a15cd0cea09ae617cc76f5b57902f9}} 
\index{StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}!BGColor@{BGColor}}
\index{BGColor@{BGColor}!StyleEditorGUI::HexagonalColorWheel@{StyleEditorGUI::HexagonalColorWheel}}
\doxysubsubsection{\texorpdfstring{BGColor}{BGColor}}
{\footnotesize\ttfamily QColor Style\+Editor\+GUI\+::\+Hexagonal\+Color\+Wheel\+::\+BGColor\hspace{0.3cm}{\ttfamily [read]}, {\ttfamily [write]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/styleeditor.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/styleeditor.\+cpp\end{DoxyCompactItemize}
