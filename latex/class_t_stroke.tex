\hypertarget{class_t_stroke}{}\doxysection{TStroke Struct Reference}
\label{class_t_stroke}\index{TStroke@{TStroke}}


{\ttfamily \#include $<$tstroke.\+h$>$}

Inheritance diagram for TStroke\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_t_stroke}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_t_stroke_1_1_imp}{Imp}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries Cap\+Style} \{ {\bfseries BUTT\+\_\+\+CAP} = 0
, {\bfseries ROUND\+\_\+\+CAP}
, {\bfseries PROJECTING\+\_\+\+CAP}
 \}
\item 
enum {\bfseries Join\+Style} \{ {\bfseries MITER\+\_\+\+JOIN} = 0
, {\bfseries ROUND\+\_\+\+JOIN}
, {\bfseries BEVEL\+\_\+\+JOIN}
 \}
\item 
typedef BYTE \mbox{\hyperlink{class_t_stroke_ab282e08acbbf62f392bc4b87f4e39ed3}{TStroke\+Flag}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_stroke_a20f85596c1cf0c7e067b5a0316f70ef3}{TStroke}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&stroke)
\begin{DoxyCompactList}\small\item\em to be erased \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_stroke}{TStroke}} \& \mbox{\hyperlink{class_t_stroke_a2582b367adc4f902b99af03c3553de2d}{operator=}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&other)
\begin{DoxyCompactList}\small\item\em to be erased \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_stroke_a2c22dbd7a048945741211f65601e45ff}{TStroke}} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_stroke_a306a401ae8e95c10781992a0c3b30322}{TStroke}} (const std\+::vector$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ \&)
\begin{DoxyCompactList}\small\item\em Build a stroke from an array of Thick\+Point. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_stroke_af3d77468b313a28b6b0bfa9b5c96e8f6}{TStroke}} (const std\+::vector$<$ \mbox{\hyperlink{class_t_point_t}{TPointD}} $>$ \&v)
\begin{DoxyCompactList}\small\item\em Build a stroke from an array of TPointD. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}} ()
\item 
bool \mbox{\hyperlink{class_t_stroke_a8ac9fd8cf067561e4f75eb706e70bf71}{get\+Nearest\+Chunk}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, double \&outT, int \&chunk\+Index, double \&distance2, bool check\+BBox=true) const
\begin{DoxyCompactList}\small\item\em computes outlines (only if it\textquotesingle{}s needed). call it before drawing. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_stroke_afc54b18205dec2342abd55b550c02dd7}{get\+NearestW}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, double \&outW, double \&distance2, bool check\+BBox=true) const
\item 
int \mbox{\hyperlink{class_t_stroke_ad851d4e270246d1c9def410403ca1c97}{get\+Near\+Chunks}} (const \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \&p, std\+::vector$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ \&points\+On\+Stroke, bool check\+BBox=true) const
\item 
int \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{get\+Chunk\+Count}} () const
\item 
int \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{get\+Control\+Point\+Count}} () const
\begin{DoxyCompactList}\small\item\em Return number of control points in a stroke. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a0cadc8707551663399add02457d472b8}{get\+Control\+Points}} (std\+::vector$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ \&v) const
\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{get\+Control\+Point}} (int n) const
\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_t_stroke_a03789f25de41b0395e14cc91dc944c38}{get\+Control\+Point\+At\+Parameter}} (double w) const
\item 
int \mbox{\hyperlink{class_t_stroke_a834375a289d91f419a87e23e4e2fc05e}{get\+Control\+Point\+Index\+After\+Parameter}} (double w) const
\item 
void \mbox{\hyperlink{class_t_stroke_abc4f174af1e2712c400ae63e005aac18}{set\+Control\+Point}} (int n, const \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \&pos)
\item 
void \mbox{\hyperlink{class_t_stroke_aac914581f45e1211250e3d40cf6199e8}{set\+Control\+Point}} (int n, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos)
\item 
void \mbox{\hyperlink{class_t_stroke_a939e478aa10028d3e5787a8cfe6c901d}{reshape}} (const \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} pos\mbox{[}$\,$\mbox{]}, int count)
\begin{DoxyCompactList}\small\item\em Reshape stroke. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}} $\ast$ \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{get\+Chunk}} (int index) const
\item 
\mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{get\+BBox}} (double w0=0.\+0, double w1=1.\+0) const
\begin{DoxyCompactList}\small\item\em Return the bbox of the stroke. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a7bbebc8b5ecaae971557442bfbb863b5}{compute\+BBox}} ()
\item 
\mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{class_t_stroke_a1b6179109d0d0370984a2980fd3d3be4}{get\+Centerline\+BBox}} () const
\begin{DoxyCompactList}\small\item\em Return the bbox of the stroke without thickness. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}{get\+Length}} (int chunk, double t) const
\begin{DoxyCompactList}\small\item\em Returns the length of the stroke at passed chunk-\/param. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_t_stroke_a8533575940134d43db1a20a72fd232db}{get\+Length}} (double w0, double w1) const
\begin{DoxyCompactList}\small\item\em Return length of a stroke. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_t_stroke_a5fba965f2c4c99b00c2070338bf195a3}{get\+Length}} (double w1=1.\+0) const
\begin{DoxyCompactList}\small\item\em Return length of a stroke. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_t_stroke_a6079deb14aba97deb504d78a9f52b7d7}{get\+Approximate\+Length}} (double w0, double w1, double error) const
\begin{DoxyCompactList}\small\item\em Return approximate length of a stroke. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a292e97a684d8e89343680109797eb652}{insert\+Control\+Points\+At\+Length}} (double s)
\item 
void \mbox{\hyperlink{class_t_stroke_ac8dc8d662e1f0fad77ca0ffce4378f10}{insert\+Control\+Points}} (double w)
\item 
void \mbox{\hyperlink{class_t_stroke_a81a280d6be49406cf03d65530b9d9ce6}{reduce\+Control\+Points}} (double max\+Error)
\begin{DoxyCompactList}\small\item\em Reduce the number of control point according to {\bfseries{max\+Error}} parameter. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a2df612adf8c3ef9f110dcfe8fbff8210}{reduce\+Control\+Points}} (double max\+Error, std\+::vector$<$ int $>$ corners)
\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_t_stroke_ada4f6fc3fea4a7c0b949cd1d9dc6e640}{get\+Thick\+Point}} (double w) const
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_t_stroke_ace861e064b925c5d41a6d7381ae6ada5}{get\+Point}} (double w) const
\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_t_stroke_a08496981e0538356833d4c6513af38b0}{get\+Thick\+Point\+At\+Length}} (double s) const
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_t_stroke_a42c1918a6294612731c0f4a66462ab1d}{get\+Point\+At\+Length}} (double s) const
\item 
double \mbox{\hyperlink{class_t_stroke_a45226c432c0d643e9985823abccdeda2}{get\+Parameter\+At\+Length}} (double s) const
\item 
double \mbox{\hyperlink{class_t_stroke_a244eb0bf1629669b61949df20b2ee091}{get\+Parameter\+At\+Control\+Point}} (int n) const
\item 
double \mbox{\hyperlink{class_t_stroke_a18abce70ef2b2ecd88a50ac9bc8d6d7b}{get\+Length\+At\+Control\+Point}} (int) const
\begin{DoxyCompactList}\small\item\em Return the stroke leght at passed control point. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a6f250bc1c05e22775c016b3932d6f9a9}{disable\+Compute\+Of\+Caches}} ()
\begin{DoxyCompactList}\small\item\em Freeze parameter of a stroke in last valid status. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_af4569c740861ff532f6c2471eec8f4fa}{enable\+Compute\+Of\+Caches}} ()
\item 
double \mbox{\hyperlink{class_t_stroke_a38326dc317f9ff3828940996f41376a6}{getW}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&) const
\begin{DoxyCompactList}\small\item\em Return parameter w at point position. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_t_stroke_a8f4456b530696e4cf878eba79abfbbbf}{getW}} (int chunk\+Index, double t) const
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_t_stroke_aacd3df1526449eb47659de8ea4c16039}{get\+Speed}} (double w, bool out\+Speed=false) const
\begin{DoxyCompactList}\small\item\em Get speed at parameter w. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_stroke_a1b8d4404f554012cc3365d90fdcf24d1}{get\+Speed\+Two\+Values}} (double w, \mbox{\hyperlink{class_t_point_t}{TPointD}} \&speed0, \mbox{\hyperlink{class_t_point_t}{TPointD}} \&speed1) const
\begin{DoxyCompactList}\small\item\em Returns true if speed1!=speed0, so it is an edge in w. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_t_stroke_a5d9ac2619444fffe01ee958f8540ed1d}{get\+Speed\+At\+Length}} (double s) const
\begin{DoxyCompactList}\small\item\em Get speed at length s. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a3de435d73bc9063b8667b590032e9eaa}{split}} (double w, \mbox{\hyperlink{class_t_stroke}{TStroke}} \&f, \mbox{\hyperlink{class_t_stroke}{TStroke}} \&s) const
\item 
void \mbox{\hyperlink{class_t_stroke_a9c648b7727206be3cd815f8105507694}{swap}} (\mbox{\hyperlink{class_t_stroke}{TStroke}} \&ref)
\begin{DoxyCompactList}\small\item\em Swap the contents of two strokes. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a53070c603a3bff6dc01defdfd4b86701}{swap\+Geometry}} (\mbox{\hyperlink{class_t_stroke}{TStroke}} \&ref)
\begin{DoxyCompactList}\small\item\em Swapd the geometrical data of two strokes. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a919f059066dc8dcabeb57ece1775d590}{transform}} (const \mbox{\hyperlink{class_t_affine}{TAffine}} \&aff, bool do\+Change\+Thickness=false)
\begin{DoxyCompactList}\small\item\em Transform a stroke using an affine. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_t_stroke_ab77068d7894a29cc1878e173f46ed785}{get\+Style}} () const
\item 
void \mbox{\hyperlink{class_t_stroke_a33f59dfbed74b577700351eac8c2fc7b}{set\+Style}} (int style\+Id)
\item 
\mbox{\hyperlink{class_t_stroke_prop}{TStroke\+Prop}} $\ast$ \mbox{\hyperlink{class_t_stroke_a0547a0a3c9542af6c016e8da94023371}{get\+Prop}} () const
\begin{DoxyCompactList}\small\item\em Return a {\bfseries{\mbox{\hyperlink{class_t_stroke_prop}{TStroke\+Prop}}}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_aef8b4788a2f4c1a19ef0ceb2bb76f07a}{set\+Prop}} (\mbox{\hyperlink{class_t_stroke_prop}{TStroke\+Prop}} $\ast$prop)
\begin{DoxyCompactList}\small\item\em Set {\bfseries{TSroke\+Prope}} of a stroke. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a8c4a98f6502fd9255d2887e81ac5aa09}{print}} (std\+::ostream \&os=std\+::cout) const
\begin{DoxyCompactList}\small\item\em Only for debug. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_stroke}{TStroke}} \& \mbox{\hyperlink{class_t_stroke_a35b789ac866cf1baf224710862294e1c}{change\+Direction}} ()
\begin{DoxyCompactList}\small\item\em change tangent versus in the stroke \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_stroke_a900cfdc7bd9096db881dd2b18be73d8c}{set\+Flag}} (TStroke\+Flag flag, bool status)
\begin{DoxyCompactList}\small\item\em Set {\bfseries{TStroke\+Flag}} of the stroke. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_stroke_a4fb5ba0483f542c25ab11499a4e273bb}{get\+Flag}} (TStroke\+Flag flag) const
\begin{DoxyCompactList}\small\item\em Return {\bfseries{TStroke\+Flag}} of the stroke. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_stroke_aa984dd40b1109e4afeae144085d11c7e}{get\+Chunk\+AndT}} (double w, int \&chunk, double \&t) const
\item 
bool \mbox{\hyperlink{class_t_stroke_ab5df2db433065e6981f14bddc9d00cd3}{get\+Chunk\+And\+TAt\+Length}} (double s, int \&chunk, double \&t) const
\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_t_stroke_a6939da025b39300890f12b66e6d19fae}{get\+Centroid}} () const
\item 
void \mbox{\hyperlink{class_t_stroke_afa2c66ae11a70e68b3de3ce0b4cfb049}{set\+Self\+Loop}} (bool loop=true)
\begin{DoxyCompactList}\small\item\em Set a loop stroke. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_stroke_a3565d6c34d3eb02fb1a6993ca626425c}{is\+Self\+Loop}} () const
\begin{DoxyCompactList}\small\item\em Return true if the stroke is looped. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_stroke_a921ccc4e08cc6850fff80a65caccbd78}{is\+Center\+Line}} () const
\begin{DoxyCompactList}\small\item\em Return true if all control points have negative thickness. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_t_stroke_a7653a40bc17c19b9c23a67a9466e1d6f}{get\+Id}} () const
\item 
void \mbox{\hyperlink{class_t_stroke_a389b7637fdb511793b4162d92e034941}{set\+Id}} (int id)
\item 
double \mbox{\hyperlink{class_t_stroke_aaf5d138270c9dcf7d806457e49649bfa}{get\+Average\+Thickness}} () const
\begin{DoxyCompactList}\small\item\em Return the average value of stroke thickness. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{class_t_stroke_ae09388a4327cebde73526fc793b585b8}{get\+Max\+Thickness}} ()
\item 
void \mbox{\hyperlink{class_t_stroke_af4c88e9c3ec57efa8cd56942237cdaf8}{set\+Average\+Thickness}} (double thickness)
\begin{DoxyCompactList}\small\item\em Set the average value of stroke thickness to {\bfseries{thickness}}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_stroke_a0146d8df329245624999acbaa95673a6}{operator==}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&s) const
\item 
bool \mbox{\hyperlink{class_t_stroke_acdf3f898f96ee7ff712da93d2829808a}{operator!=}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&s) const
\item 
Outline\+Options \& \mbox{\hyperlink{class_t_stroke_a5f7db5d1c7dec2050d9c4dba21fe7aed}{outline\+Options}} ()
\item 
const Outline\+Options \& \mbox{\hyperlink{class_t_stroke_a68eefceb3055bad6b72b2e73139cc16d}{outline\+Options}} () const
\item 
\mbox{\Hypertarget{class_t_stroke_a88ec212ca6c43e1e83b7436855cc6ea9}\label{class_t_stroke_a88ec212ca6c43e1e83b7436855cc6ea9}} 
{\bfseries Outline\+Options} ()
\item 
\mbox{\Hypertarget{class_t_stroke_a5f541774295adf2d32ba73e13d5a50f5}\label{class_t_stroke_a5f541774295adf2d32ba73e13d5a50f5}} 
{\bfseries Outline\+Options} (UCHAR cap\+Style, UCHAR Join\+Style, double lower, double upper)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ \mbox{\hyperlink{class_t_stroke_a4d47a76de56f5a121aeae50098d6cc8f}{interpolate}} (const std\+::vector$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ \&points, double error, bool find\+Corners=true)
\begin{DoxyCompactList}\small\item\em Get a stroke from a {\bfseries{\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}}}} vector. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ \mbox{\hyperlink{class_t_stroke_a491c4097aa77f4290c1cb53e514b5820}{create}} (const std\+::vector$<$ \mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}} $\ast$ $>$ \&curves)
\begin{DoxyCompactList}\small\item\em Get a stroke from a {\bfseries{\mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}}}} vector. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
UCHAR \mbox{\hyperlink{class_t_stroke_a79e25fbd73b03f8eba6092313bd6b287}{m\+\_\+cap\+Style}}
\item 
UCHAR \mbox{\hyperlink{class_t_stroke_a25a263d4304e4e965d8df3665cc9b74b}{m\+\_\+join\+Style}}
\item 
double \mbox{\hyperlink{class_t_stroke_af5b2e2299489e40b206b9e76af9fcb04}{m\+\_\+miter\+Lower}}
\item 
double \mbox{\hyperlink{class_t_stroke_a4779b1a2e0ce88af9ee61efb14678472}{m\+\_\+miter\+Upper}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static const TStroke\+Flag \mbox{\hyperlink{class_t_stroke_a01d191135f8f21cd1f1cfdec331069ac}{c\+\_\+selected\+\_\+flag}} = 0x1
\item 
static const TStroke\+Flag \mbox{\hyperlink{class_t_stroke_ad534cb64206559dd01f73a2332b8d1c3}{c\+\_\+changed\+\_\+region\+\_\+flag}} = 0x2
\item 
static const TStroke\+Flag \mbox{\hyperlink{class_t_stroke_a4b1eca7c81a7063ba7d66e7c0650ee3b}{c\+\_\+dirty\+\_\+flag}} = 0x4
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This is the new release of \mbox{\hyperlink{class_t_stroke}{TStroke}} (Version 4). It\textquotesingle{}s possible to use style to set brush, texture, pattern, \mbox{\hyperlink{class_t_stroke}{TStroke}} now are smart pointer.

Contains complementary stroke parameters used in the process of transforming the raw (centerline) stroke data in its drawable (outline) form. 

\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{class_t_stroke_ab282e08acbbf62f392bc4b87f4e39ed3}\label{class_t_stroke_ab282e08acbbf62f392bc4b87f4e39ed3}} 
\index{TStroke@{TStroke}!TStrokeFlag@{TStrokeFlag}}
\index{TStrokeFlag@{TStrokeFlag}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{TStrokeFlag}{TStrokeFlag}}
{\footnotesize\ttfamily typedef BYTE TStroke\+::\+TStroke\+Flag}



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{class_t_stroke_a10a5349be29053323d73d7d1c7deadcc}\label{class_t_stroke_a10a5349be29053323d73d7d1c7deadcc}} 
\index{TStroke@{TStroke}!CapStyle@{CapStyle}}
\index{CapStyle@{CapStyle}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{CapStyle}{CapStyle}}
{\footnotesize\ttfamily enum TStroke\+::\+Cap\+Style}


\begin{DoxyCode}{0}
\DoxyCodeLine{00435 \{ BUTT\_CAP = 0, ROUND\_CAP, PROJECTING\_CAP \};}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a3e074d623e1fb8a849409c71ffcc0166}\label{class_t_stroke_a3e074d623e1fb8a849409c71ffcc0166}} 
\index{TStroke@{TStroke}!JoinStyle@{JoinStyle}}
\index{JoinStyle@{JoinStyle}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{JoinStyle}{JoinStyle}}
{\footnotesize\ttfamily enum TStroke\+::\+Join\+Style}


\begin{DoxyCode}{0}
\DoxyCodeLine{00436 \{ MITER\_JOIN = 0, ROUND\_JOIN, BEVEL\_JOIN \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_stroke_a20f85596c1cf0c7e067b5a0316f70ef3}\label{class_t_stroke_a20f85596c1cf0c7e067b5a0316f70ef3}} 
\index{TStroke@{TStroke}!TStroke@{TStroke}}
\index{TStroke@{TStroke}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{TStroke()}{TStroke()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily TStroke\+::\+TStroke (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke }\end{DoxyParamCaption})}



to be erased 


\begin{DoxyCode}{0}
\DoxyCodeLine{01222     : \mbox{\hyperlink{class_t_smart_object}{TSmartObject}}(m\_classCode), m\_imp(\textcolor{keyword}{new} \mbox{\hyperlink{struct_t_stroke_1_1_imp}{TStroke::Imp}}()) \{}
\DoxyCodeLine{01223   m\_imp-\/>m\_bBox           = other.getBBox();}
\DoxyCodeLine{01224   m\_imp-\/>m\_isValidLength  = other.m\_imp-\/>m\_isValidLength;}
\DoxyCodeLine{01225   m\_imp-\/>m\_isOutlineValid = other.m\_imp-\/>m\_isOutlineValid;}
\DoxyCodeLine{01226   m\_imp-\/>m\_areDisabledComputeOfCaches =}
\DoxyCodeLine{01227       other.m\_imp-\/>m\_areDisabledComputeOfCaches;}
\DoxyCodeLine{01228   m\_imp-\/>m\_flag           = other.m\_imp-\/>m\_flag;}
\DoxyCodeLine{01229   m\_imp-\/>m\_outlineOptions = other.m\_imp-\/>m\_outlineOptions;}
\DoxyCodeLine{01230 }
\DoxyCodeLine{01231   \textcolor{comment}{// Are they sure as regards exceptions ?}}
\DoxyCodeLine{01232   m\_imp-\/>m\_centerLineArray.resize(other.m\_imp-\/>m\_centerLineArray.size());}
\DoxyCodeLine{01233   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01234   \textcolor{keywordflow}{for} (i = 0; i < (int)other.m\_imp-\/>m\_centerLineArray.size(); i++)}
\DoxyCodeLine{01235     m\_imp-\/>m\_centerLineArray[i] =}
\DoxyCodeLine{01236         \textcolor{keyword}{new} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}}(*other.m\_imp-\/>m\_centerLineArray[i]);}
\DoxyCodeLine{01237 }
\DoxyCodeLine{01238   \textcolor{comment}{// copy(  other.m\_imp-\/>m\_centerLineArray.begin(),}}
\DoxyCodeLine{01239   \textcolor{comment}{//   other.m\_imp-\/>m\_centerLineArray.end(),}}
\DoxyCodeLine{01240   \textcolor{comment}{//   TThickQuadraticArrayInsertIterator(m\_imp-\/>m\_centerLineArray));}}
\DoxyCodeLine{01241 }
\DoxyCodeLine{01242   \mbox{\hyperlink{namespace_t_rop_a229eb7fd85c23c325ea4ba55478d5712}{copy}}(other.m\_imp-\/>m\_partialLengthArray.begin(),}
\DoxyCodeLine{01243        other.m\_imp-\/>m\_partialLengthArray.end(),}
\DoxyCodeLine{01244        back\_inserter<DoubleArray>(m\_imp-\/>m\_partialLengthArray));}
\DoxyCodeLine{01245   \mbox{\hyperlink{namespace_t_rop_a229eb7fd85c23c325ea4ba55478d5712}{copy}}(other.m\_imp-\/>m\_parameterValueAtControlPoint.begin(),}
\DoxyCodeLine{01246        other.m\_imp-\/>m\_parameterValueAtControlPoint.end(),}
\DoxyCodeLine{01247        back\_inserter<DoubleArray>(m\_imp-\/>m\_parameterValueAtControlPoint));}
\DoxyCodeLine{01248 }
\DoxyCodeLine{01249   m\_imp-\/>m\_styleId = other.m\_imp-\/>m\_styleId;}
\DoxyCodeLine{01250   m\_imp-\/>m\_prop =}
\DoxyCodeLine{01251       0;  \textcolor{comment}{// other.m\_imp-\/>m\_prop ? other.m\_imp-\/>m\_prop-\/>clone(this) : 0;}}
\DoxyCodeLine{01252   m\_imp-\/>m\_selfLoop                = other.m\_imp-\/>m\_selfLoop;}
\DoxyCodeLine{01253   m\_imp-\/>m\_negativeThicknessPoints = other.m\_imp-\/>m\_negativeThicknessPoints;}
\DoxyCodeLine{01254 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01861}{get\+BBox()}}.

\mbox{\Hypertarget{class_t_stroke_a2c22dbd7a048945741211f65601e45ff}\label{class_t_stroke_a2c22dbd7a048945741211f65601e45ff}} 
\index{TStroke@{TStroke}!TStroke@{TStroke}}
\index{TStroke@{TStroke}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{TStroke()}{TStroke()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily TStroke\+::\+TStroke (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Constructor. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01190                  : \mbox{\hyperlink{class_t_smart_object}{TSmartObject}}(m\_classCode) \{}
\DoxyCodeLine{01191   vector<TThickPoint> p(3);}
\DoxyCodeLine{01192   p[0] = \mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(0, 0, 0);}
\DoxyCodeLine{01193   p[1] = p[0];}
\DoxyCodeLine{01194   p[2] = p[1];}
\DoxyCodeLine{01195 }
\DoxyCodeLine{01196   m\_imp.reset(\textcolor{keyword}{new} \mbox{\hyperlink{struct_t_stroke_1_1_imp}{TStroke::Imp}}(p));}
\DoxyCodeLine{01197 }
\DoxyCodeLine{01198   \textcolor{comment}{/*}}
\DoxyCodeLine{01199 \textcolor{comment}{// da fissare deve trovarsi prima della init}}
\DoxyCodeLine{01200 \textcolor{comment}{m\_imp-\/>m\_centerLineArray.push\_back ( new TThickQuadratic );}}
\DoxyCodeLine{01201 \textcolor{comment}{*/}}
\DoxyCodeLine{01202 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l03753}{create()}}, and \mbox{\hyperlink{l02193}{split()}}.

\mbox{\Hypertarget{class_t_stroke_a306a401ae8e95c10781992a0c3b30322}\label{class_t_stroke_a306a401ae8e95c10781992a0c3b30322}} 
\index{TStroke@{TStroke}!TStroke@{TStroke}}
\index{TStroke@{TStroke}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{TStroke()}{TStroke()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily TStroke\+::\+TStroke (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ \&}]{v }\end{DoxyParamCaption})}



Build a stroke from an array of Thick\+Point. 

\mbox{\hyperlink{class_t_stroke}{TStroke}} constructor build a stroke from an array of control points. If chunks are n control points are 2$\ast$n+1. \begin{DoxyNote}{Note}
Common control points between two chunks are supposed not replicated. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01208     : \mbox{\hyperlink{class_t_smart_object}{TSmartObject}}(m\_classCode), m\_imp(\textcolor{keyword}{new} \mbox{\hyperlink{struct_t_stroke_1_1_imp}{TStroke::Imp}}(v)) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_af3d77468b313a28b6b0bfa9b5c96e8f6}\label{class_t_stroke_af3d77468b313a28b6b0bfa9b5c96e8f6}} 
\index{TStroke@{TStroke}!TStroke@{TStroke}}
\index{TStroke@{TStroke}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{TStroke()}{TStroke()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily TStroke\+::\+TStroke (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{class_t_point_t}{TPointD}} $>$ \&}]{v }\end{DoxyParamCaption})}



Build a stroke from an array of TPointD. 

\mbox{\hyperlink{class_t_stroke}{TStroke}} constructor build a stroke from an array of control points. If chunks are n control points are 2$\ast$n+1. \begin{DoxyNote}{Note}
Common control points between two chunks are supposed not replicated, and thickness is equal 0. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01213     : \mbox{\hyperlink{class_t_smart_object}{TSmartObject}}(m\_classCode), m\_imp(\textcolor{keyword}{new} \mbox{\hyperlink{struct_t_stroke_1_1_imp}{TStroke::Imp}}(v)) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a5b07523dcade9ca7301ab9a93bef60f8}\label{class_t_stroke_a5b07523dcade9ca7301ab9a93bef60f8}} 
\index{TStroke@{TStroke}!````~TStroke@{$\sim$TStroke}}
\index{````~TStroke@{$\sim$TStroke}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{$\sim$TStroke()}{~TStroke()}}
{\footnotesize\ttfamily TStroke\+::$\sim$\+TStroke (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01217 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_stroke_a35b789ac866cf1baf224710862294e1c}\label{class_t_stroke_a35b789ac866cf1baf224710862294e1c}} 
\index{TStroke@{TStroke}!changeDirection@{changeDirection}}
\index{changeDirection@{changeDirection}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{changeDirection()}{changeDirection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stroke}{TStroke}} \& TStroke\+::change\+Direction (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



change tangent versus in the stroke 

change tangent versus in a stroke \begin{DoxyNote}{Note}
Change versus of all thickquadratric and change its position in list 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{02385                                   \{}
\DoxyCodeLine{02386   UINT chunkCount = \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}();}
\DoxyCodeLine{02387   UINT to         = tfloor(chunkCount * 0.5);}
\DoxyCodeLine{02388   UINT i;}
\DoxyCodeLine{02389 }
\DoxyCodeLine{02390   \textcolor{keywordflow}{if} (chunkCount \& 1) changeTQDirection(m\_imp-\/>m\_centerLineArray[to]);}
\DoxyCodeLine{02391 }
\DoxyCodeLine{02392   -\/-\/chunkCount;}
\DoxyCodeLine{02393 }
\DoxyCodeLine{02394   \textcolor{keywordflow}{for} (i = 0; i < to; ++i) \{}
\DoxyCodeLine{02395     changeTQDirection(m\_imp-\/>m\_centerLineArray[i]);}
\DoxyCodeLine{02396     changeTQDirection(m\_imp-\/>m\_centerLineArray[chunkCount -\/ i]);}
\DoxyCodeLine{02397     \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *q1         = m\_imp-\/>m\_centerLineArray[i];}
\DoxyCodeLine{02398     m\_imp-\/>m\_centerLineArray[i] = m\_imp-\/>m\_centerLineArray[chunkCount -\/ i];}
\DoxyCodeLine{02399     m\_imp-\/>m\_centerLineArray[chunkCount -\/ i] = q1;}
\DoxyCodeLine{02400   \}}
\DoxyCodeLine{02401   \mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{02402 }
\DoxyCodeLine{02403   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{02404 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, and \mbox{\hyperlink{l01606}{invalidate()}}.

\mbox{\Hypertarget{class_t_stroke_a7bbebc8b5ecaae971557442bfbb863b5}\label{class_t_stroke_a7bbebc8b5ecaae971557442bfbb863b5}} 
\index{TStroke@{TStroke}!computeBBox@{computeBBox}}
\index{computeBBox@{computeBBox}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{computeBBox()}{computeBBox()}}
{\footnotesize\ttfamily void TStroke\+::compute\+BBox (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01873                           \{}
\DoxyCodeLine{01874   m\_imp-\/>m\_bBox = TOutlineUtil::computeBBox(*\textcolor{keyword}{this});}
\DoxyCodeLine{01875   m\_imp-\/>m\_flag \&= \string~c\_dirty\_flag;}
\DoxyCodeLine{01876 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a491c4097aa77f4290c1cb53e514b5820}\label{class_t_stroke_a491c4097aa77f4290c1cb53e514b5820}} 
\index{TStroke@{TStroke}!create@{create}}
\index{create@{create}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{create()}{create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ TStroke\+::create (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}} $\ast$ $>$ \&}]{curves }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Get a stroke from a {\bfseries{\mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}}}} vector. 

Restituisce uno stroke da un vettore di \mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}}.

Take from {\bfseries{curves}} the control points used to create the stroke

Estrae dalle curve i punti di controllo e crea con questi un nuovo stroke 
\begin{DoxyCode}{0}
\DoxyCodeLine{03753                                                                 \{}
\DoxyCodeLine{03754   \textcolor{keywordflow}{if} (curves.empty()) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{03755 }
\DoxyCodeLine{03756   \textcolor{comment}{// make a vector of control points}}
\DoxyCodeLine{03757   vector<TThickPoint> ctrlPnts;}
\DoxyCodeLine{03758 }
\DoxyCodeLine{03759   extractStrokeControlPoints(curves, ctrlPnts);}
\DoxyCodeLine{03760 }
\DoxyCodeLine{03761   \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stroke_a2c22dbd7a048945741211f65601e45ff}{TStroke}}(ctrlPnts);}
\DoxyCodeLine{03762 }
\DoxyCodeLine{03763   stroke-\/>\mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{03764 }
\DoxyCodeLine{03765   \textcolor{keywordflow}{return} stroke;}
\DoxyCodeLine{03766 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01606}{invalidate()}}, and \mbox{\hyperlink{l01190}{TStroke()}}.



Referenced by \mbox{\hyperlink{l02193}{split()}}.

\mbox{\Hypertarget{class_t_stroke_a6f250bc1c05e22775c016b3932d6f9a9}\label{class_t_stroke_a6f250bc1c05e22775c016b3932d6f9a9}} 
\index{TStroke@{TStroke}!disableComputeOfCaches@{disableComputeOfCaches}}
\index{disableComputeOfCaches@{disableComputeOfCaches}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{disableComputeOfCaches()}{disableComputeOfCaches()}}
{\footnotesize\ttfamily void TStroke\+::disable\+Compute\+Of\+Caches (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Freeze parameter of a stroke in last valid status. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01886                                      \{}
\DoxyCodeLine{01887   m\_imp-\/>m\_areDisabledComputeOfCaches = \textcolor{keyword}{true};}
\DoxyCodeLine{01888 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}.

\mbox{\Hypertarget{class_t_stroke_af4569c740861ff532f6c2471eec8f4fa}\label{class_t_stroke_af4569c740861ff532f6c2471eec8f4fa}} 
\index{TStroke@{TStroke}!enableComputeOfCaches@{enableComputeOfCaches}}
\index{enableComputeOfCaches@{enableComputeOfCaches}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{enableComputeOfCaches()}{enableComputeOfCaches()}}
{\footnotesize\ttfamily void TStroke\+::enable\+Compute\+Of\+Caches (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01892                                     \{}
\DoxyCodeLine{01893   m\_imp-\/>m\_areDisabledComputeOfCaches = \textcolor{keyword}{false};}
\DoxyCodeLine{01894 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a6079deb14aba97deb504d78a9f52b7d7}\label{class_t_stroke_a6079deb14aba97deb504d78a9f52b7d7}} 
\index{TStroke@{TStroke}!getApproximateLength@{getApproximateLength}}
\index{getApproximateLength@{getApproximateLength}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getApproximateLength()}{getApproximateLength()}}
{\footnotesize\ttfamily double TStroke\+::get\+Approximate\+Length (\begin{DoxyParamCaption}\item[{double}]{w0,  }\item[{double}]{w1,  }\item[{double}]{error }\end{DoxyParamCaption}) const}



Return approximate length of a stroke. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01504                                                                              \{}
\DoxyCodeLine{01505   m\_imp-\/>computeCacheVector();}
\DoxyCodeLine{01506 }
\DoxyCodeLine{01507   assert((\textcolor{keywordtype}{int})m\_imp-\/>m\_partialLengthArray.size() == \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}());}
\DoxyCodeLine{01508 }
\DoxyCodeLine{01509   \textcolor{keywordflow}{if} (w0 == w1) \textcolor{keywordflow}{return} 0.0;}
\DoxyCodeLine{01510 }
\DoxyCodeLine{01511   w0 = min(max(0.0, w0), 1.0);}
\DoxyCodeLine{01512   w1 = min(max(0.0, w1), 1.0);}
\DoxyCodeLine{01513 }
\DoxyCodeLine{01514   \textcolor{keywordflow}{if} (w0 > w1) std::swap(w0, w1);}
\DoxyCodeLine{01515 }
\DoxyCodeLine{01516   \textcolor{comment}{// vede se la lunghezza e' individuabile nella cache}}
\DoxyCodeLine{01517   \textcolor{keywordflow}{if} (0.0 == w0) \{}
\DoxyCodeLine{01518     vector<double>::iterator first;}
\DoxyCodeLine{01519 }
\DoxyCodeLine{01520     \textcolor{comment}{// trova l'iteratore alla prima posizione che risulta maggiore di w}}
\DoxyCodeLine{01521     first = std::upper\_bound(m\_imp-\/>m\_parameterValueAtControlPoint.begin(),}
\DoxyCodeLine{01522                              m\_imp-\/>m\_parameterValueAtControlPoint.end(),}
\DoxyCodeLine{01523                              w1 -\/ TConsts::epsilon);}
\DoxyCodeLine{01524 }
\DoxyCodeLine{01525     \textcolor{keywordflow}{if} (first != m\_imp-\/>m\_parameterValueAtControlPoint.end() \&\&}
\DoxyCodeLine{01526         *first < w1 + TConsts::epsilon) \{}
\DoxyCodeLine{01527       \textcolor{keywordtype}{int} offset =}
\DoxyCodeLine{01528           distance(m\_imp-\/>m\_parameterValueAtControlPoint.begin(), first);}
\DoxyCodeLine{01529       \textcolor{keywordflow}{return} m\_imp-\/>m\_partialLengthArray[offset];}
\DoxyCodeLine{01530     \}}
\DoxyCodeLine{01531   \}}
\DoxyCodeLine{01532 }
\DoxyCodeLine{01533   \textcolor{keywordtype}{int} firstChunk, secondChunk;}
\DoxyCodeLine{01534   \textcolor{keywordtype}{double} firstT, secondT;}
\DoxyCodeLine{01535 }
\DoxyCodeLine{01536   \textcolor{comment}{// calcolo i chunk interessati ed i valori del parametro t}}
\DoxyCodeLine{01537   \textcolor{keywordtype}{bool} val1 = m\_imp-\/>retrieveChunkAndItsParamameter(w0, firstChunk, firstT);}
\DoxyCodeLine{01538   assert(val1);}
\DoxyCodeLine{01539 }
\DoxyCodeLine{01540   \textcolor{keywordtype}{bool} val2 = m\_imp-\/>retrieveChunkAndItsParamameter(w1, secondChunk, secondT);}
\DoxyCodeLine{01541   assert(val2);}
\DoxyCodeLine{01542 }
\DoxyCodeLine{01543   \textcolor{keywordflow}{if} (firstChunk == secondChunk)}
\DoxyCodeLine{01544     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(firstChunk)-\/>getApproximateLength(firstT, secondT, error);}
\DoxyCodeLine{01545 }
\DoxyCodeLine{01546   \textcolor{keywordtype}{double} totalLength = 0;}
\DoxyCodeLine{01547 }
\DoxyCodeLine{01548   totalLength += \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(firstChunk)-\/>getApproximateLength(firstT, 1, error);}
\DoxyCodeLine{01549 }
\DoxyCodeLine{01550   \textcolor{comment}{// lunghezza dei pezzi intermedi}}
\DoxyCodeLine{01551   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = firstChunk + 1; i != secondChunk; i++)}
\DoxyCodeLine{01552     totalLength += \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(i)-\/>getApproximateLength(0.0, 1.0, error);}
\DoxyCodeLine{01553 }
\DoxyCodeLine{01554   totalLength +=}
\DoxyCodeLine{01555       \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(secondChunk)-\/>getApproximateLength(0.0, secondT, error);}
\DoxyCodeLine{01556 }
\DoxyCodeLine{01557   \textcolor{keywordflow}{return} totalLength;}
\DoxyCodeLine{01558 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{get\+Chunk()}}, and \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}.

\mbox{\Hypertarget{class_t_stroke_aaf5d138270c9dcf7d806457e49649bfa}\label{class_t_stroke_aaf5d138270c9dcf7d806457e49649bfa}} 
\index{TStroke@{TStroke}!getAverageThickness@{getAverageThickness}}
\index{getAverageThickness@{getAverageThickness}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getAverageThickness()}{getAverageThickness()}}
{\footnotesize\ttfamily double TStroke\+::get\+Average\+Thickness (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return the average value of stroke thickness. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01816                                           \{}
\DoxyCodeLine{01817   \textcolor{keywordflow}{return} m\_imp-\/>m\_averageThickness;}
\DoxyCodeLine{01818 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01117}{Toonz\+Ext\+::clone\+Stroke\+Status()}}.

\mbox{\Hypertarget{class_t_stroke_a456bedcae5e8af3a84823cb251584957}\label{class_t_stroke_a456bedcae5e8af3a84823cb251584957}} 
\index{TStroke@{TStroke}!getBBox@{getBBox}}
\index{getBBox@{getBBox}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getBBox()}{getBBox()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRectD}} TStroke\+::get\+BBox (\begin{DoxyParamCaption}\item[{double}]{w0 = {\ttfamily 0.0},  }\item[{double}]{w1 = {\ttfamily 1.0} }\end{DoxyParamCaption}) const}



Return the bbox of the stroke. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01861                                                   \{}
\DoxyCodeLine{01862   \textcolor{keywordflow}{if} (w0 > w1) std::swap(w0, w1);}
\DoxyCodeLine{01863 }
\DoxyCodeLine{01864   \textcolor{keywordflow}{if} (w0 != 0.0 || w1 != 1.0) \textcolor{keywordflow}{return} m\_imp-\/>computeSubBBox(w0, w1);}
\DoxyCodeLine{01865 }
\DoxyCodeLine{01866   \textcolor{keywordflow}{if} (m\_imp-\/>m\_flag \& c\_dirty\_flag) ((\mbox{\hyperlink{class_t_stroke}{TStroke}} *)\textcolor{keyword}{this})-\/>computeBBox();}
\DoxyCodeLine{01867 }
\DoxyCodeLine{01868   \textcolor{keywordflow}{return} m\_imp-\/>m\_bBox;}
\DoxyCodeLine{01869 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00150}{TVector\+Image\+::add\+Stroke()}}, \mbox{\hyperlink{l00680}{TInbetween\+::\+Imp\+::compute\+Transformation()}}, \mbox{\hyperlink{l00159}{Pump\+Tool\+::draw()}}, and \mbox{\hyperlink{l01221}{TStroke()}}.

\mbox{\Hypertarget{class_t_stroke_a1b6179109d0d0370984a2980fd3d3be4}\label{class_t_stroke_a1b6179109d0d0370984a2980fd3d3be4}} 
\index{TStroke@{TStroke}!getCenterlineBBox@{getCenterlineBBox}}
\index{getCenterlineBBox@{getCenterlineBBox}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getCenterlineBBox()}{getCenterlineBBox()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_rect_t}{TRectD}} TStroke\+::get\+Centerline\+BBox (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return the bbox of the stroke without thickness. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01880                                         \{}
\DoxyCodeLine{01881   \textcolor{keywordflow}{return} m\_imp-\/>computeCenterlineBBox();}
\DoxyCodeLine{01882 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a6939da025b39300890f12b66e6d19fae}\label{class_t_stroke_a6939da025b39300890f12b66e6d19fae}} 
\index{TStroke@{TStroke}!getCentroid@{getCentroid}}
\index{getCentroid@{getCentroid}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getCentroid()}{getCentroid()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} TStroke\+::get\+Centroid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{02450                                        \{}
\DoxyCodeLine{02451   \textcolor{keywordtype}{double} totalLen = \mbox{\hyperlink{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}{getLength}}();}
\DoxyCodeLine{02452 }
\DoxyCodeLine{02453   \textcolor{keywordflow}{if} (totalLen == 0) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(0);}
\DoxyCodeLine{02454 }
\DoxyCodeLine{02455   \textcolor{keywordtype}{double} step           = totalLen * 0.1;}
\DoxyCodeLine{02456   \textcolor{keywordtype}{double} len            = 0;}
\DoxyCodeLine{02457   \textcolor{keywordflow}{if} (step > 10.0) step = 10.0;}
\DoxyCodeLine{02458   \textcolor{keywordtype}{int} count             = 0;}
\DoxyCodeLine{02459   \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} point;}
\DoxyCodeLine{02460   \textcolor{keywordflow}{for} (; len <= totalLen; len += step) \{}
\DoxyCodeLine{02461     count++;}
\DoxyCodeLine{02462     point += \mbox{\hyperlink{class_t_stroke_a08496981e0538356833d4c6513af38b0}{getThickPointAtLength}}(len);}
\DoxyCodeLine{02463   \}}
\DoxyCodeLine{02464   \textcolor{keywordflow}{return} point * (1.0 / (double)count);}
\DoxyCodeLine{02465 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}\label{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}} 
\index{TStroke@{TStroke}!getChunk@{getChunk}}
\index{getChunk@{getChunk}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getChunk()}{getChunk()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_t_thick_quadratic}{TThick\+Quadratic}} $\ast$ TStroke\+::get\+Chunk (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption}) const}

Return chunk at position index If index is not valid return NULL \begin{DoxyNote}{Note}
it is used mainly for drawing 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01855                                                         \{}
\DoxyCodeLine{01856   \textcolor{keywordflow}{return} m\_imp-\/>getChunk(index);}
\DoxyCodeLine{01857 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, \mbox{\hyperlink{l00813}{TStroke\+::\+Imp\+::compute\+Cache\+Vector()}}, \mbox{\hyperlink{l00680}{TInbetween\+::\+Imp\+::compute\+Transformation()}}, \mbox{\hyperlink{l00159}{Pump\+Tool\+::draw()}}, \mbox{\hyperlink{l01504}{get\+Approximate\+Length()}}, \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01591}{get\+Length()}}, \mbox{\hyperlink{l02123}{get\+Speed()}}, \mbox{\hyperlink{l02050}{get\+Speed\+Two\+Values()}}, \mbox{\hyperlink{l01960}{get\+Thick\+Point()}}, \mbox{\hyperlink{l01934}{get\+Thick\+Point\+At\+Length()}}, \mbox{\hyperlink{l01679}{insert\+Control\+Points()}}, \mbox{\hyperlink{l01619}{insert\+Control\+Points\+At\+Length()}}, \mbox{\hyperlink{l02267}{print()}}, \mbox{\hyperlink{l00927}{TStroke\+::\+Imp\+::retrieve\+Chunk\+And\+Its\+Paramameter\+At\+Length()}}, and \mbox{\hyperlink{l00459}{Control\+Point\+Editor\+Stroke\+::set\+Stroke()}}.

\mbox{\Hypertarget{class_t_stroke_aa984dd40b1109e4afeae144085d11c7e}\label{class_t_stroke_aa984dd40b1109e4afeae144085d11c7e}} 
\index{TStroke@{TStroke}!getChunkAndT@{getChunkAndT}}
\index{getChunkAndT@{getChunkAndT}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getChunkAndT()}{getChunkAndT()}}
{\footnotesize\ttfamily bool TStroke\+::get\+Chunk\+AndT (\begin{DoxyParamCaption}\item[{double}]{w,  }\item[{int \&}]{chunk,  }\item[{double \&}]{t }\end{DoxyParamCaption}) const}

Gets the chunk and its parameter at stroke parameter {\bfseries{w}}; returns true if a chunk was found. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00994                                                                 \{}
\DoxyCodeLine{00995   \textcolor{keywordflow}{return} m\_imp-\/>retrieveChunkAndItsParamameter(w, chunk, t);}
\DoxyCodeLine{00996 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00159}{Pump\+Tool\+::draw()}}.

\mbox{\Hypertarget{class_t_stroke_ab5df2db433065e6981f14bddc9d00cd3}\label{class_t_stroke_ab5df2db433065e6981f14bddc9d00cd3}} 
\index{TStroke@{TStroke}!getChunkAndTAtLength@{getChunkAndTAtLength}}
\index{getChunkAndTAtLength@{getChunkAndTAtLength}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getChunkAndTAtLength()}{getChunkAndTAtLength()}}
{\footnotesize\ttfamily bool TStroke\+::get\+Chunk\+And\+TAt\+Length (\begin{DoxyParamCaption}\item[{double}]{s,  }\item[{int \&}]{chunk,  }\item[{double \&}]{t }\end{DoxyParamCaption}) const}

Gets the chunk and its parameter at stroke length {\bfseries{s}}; returns true if a chunk was found. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00921                                                                         \{}
\DoxyCodeLine{00922   \textcolor{keywordflow}{return} m\_imp-\/>retrieveChunkAndItsParamameterAtLength(s, chunk, t);}
\DoxyCodeLine{00923 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a81b63663a798724333d8de692fdbcac0}\label{class_t_stroke_a81b63663a798724333d8de692fdbcac0}} 
\index{TStroke@{TStroke}!getChunkCount@{getChunkCount}}
\index{getChunkCount@{getChunkCount}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getChunkCount()}{getChunkCount()}}
{\footnotesize\ttfamily int TStroke\+::get\+Chunk\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\begin{DoxyReturn}{Returns}
number of chunks in the stroke 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{01845 \{ \textcolor{keywordflow}{return} m\_imp-\/>getChunkCount(); \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, \mbox{\hyperlink{l02385}{change\+Direction()}}, \mbox{\hyperlink{l00813}{TStroke\+::\+Imp\+::compute\+Cache\+Vector()}}, \mbox{\hyperlink{l00851}{TStroke\+::\+Imp\+::compute\+Parameter\+In\+Control\+Point()}}, \mbox{\hyperlink{l00680}{TInbetween\+::\+Imp\+::compute\+Transformation()}}, \mbox{\hyperlink{l00159}{Pump\+Tool\+::draw()}}, \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01981}{get\+Parameter\+At\+Length()}}, \mbox{\hyperlink{l02123}{get\+Speed()}}, \mbox{\hyperlink{l02050}{get\+Speed\+Two\+Values()}}, \mbox{\hyperlink{l02029}{get\+W()}}, \mbox{\hyperlink{l01679}{insert\+Control\+Points()}}, \mbox{\hyperlink{l02267}{print()}}, \mbox{\hyperlink{l01806}{reduce\+Control\+Points()}}, \mbox{\hyperlink{l00927}{TStroke\+::\+Imp\+::retrieve\+Chunk\+And\+Its\+Paramameter\+At\+Length()}}, \mbox{\hyperlink{l01427}{set\+Control\+Point()}}, and \mbox{\hyperlink{l02193}{split()}}.

\mbox{\Hypertarget{class_t_stroke_a9b60f87075b703360efe4b38097d923f}\label{class_t_stroke_a9b60f87075b703360efe4b38097d923f}} 
\index{TStroke@{TStroke}!getControlPoint@{getControlPoint}}
\index{getControlPoint@{getControlPoint}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getControlPoint()}{getControlPoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} TStroke\+::get\+Control\+Point (\begin{DoxyParamCaption}\item[{int}]{n }\end{DoxyParamCaption}) const}

Return the n-\/th control point \begin{DoxyNote}{Note}
n is clamped to \mbox{[}0,Control\+Point\+Count-\/1\mbox{]} interval 
\end{DoxyNote}
\begin{DoxyParagraph}{n index of desired control point}

\end{DoxyParagraph}

\begin{DoxyCode}{0}
\DoxyCodeLine{01352                                                 \{}
\DoxyCodeLine{01353   \textcolor{keywordflow}{if} (n <= 0) \textcolor{keywordflow}{return} m\_imp-\/>m\_centerLineArray.front()-\/>getThickP0();}
\DoxyCodeLine{01354 }
\DoxyCodeLine{01355   \textcolor{keywordflow}{if} (n >= \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}())}
\DoxyCodeLine{01356     \textcolor{keywordflow}{return} m\_imp-\/>m\_centerLineArray.back()-\/>getThickP2();}
\DoxyCodeLine{01357 }
\DoxyCodeLine{01358   \textcolor{comment}{// calcolo l'offset del chunk risolvendo l'equazione}}
\DoxyCodeLine{01359   \textcolor{comment}{//  2 * chunkNumber + 1 = n}}
\DoxyCodeLine{01360   \textcolor{comment}{//  chunkNumber = tceil((n -\/ 1) / 2)}}
\DoxyCodeLine{01361   \textcolor{keywordtype}{int} chunkNumber = tceil((n -\/ 1) * 0.5);}
\DoxyCodeLine{01362   assert(chunkNumber <= \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}());}
\DoxyCodeLine{01363 }
\DoxyCodeLine{01364   \textcolor{keywordtype}{int} pointOffset = n -\/ chunkNumber * 2;}
\DoxyCodeLine{01365 }
\DoxyCodeLine{01366   \textcolor{keywordflow}{if} (chunkNumber == \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}())  \textcolor{comment}{// e' l'ultimo punto della stroke}}
\DoxyCodeLine{01367     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunkNumber -\/ 1)-\/>\mbox{\hyperlink{class_t_thick_quadratic_aa33c22ffd048565884c957888a677f83}{getThickP2}}();}
\DoxyCodeLine{01368 }
\DoxyCodeLine{01369   \textcolor{keywordflow}{switch} (pointOffset) \{}
\DoxyCodeLine{01370   \textcolor{keywordflow}{case} 0:}
\DoxyCodeLine{01371     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunkNumber)-\/>\mbox{\hyperlink{class_t_thick_quadratic_abf58f97664876561f84fa68a90f33d8b}{getThickP0}}();}
\DoxyCodeLine{01372   \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{01373     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunkNumber)-\/>\mbox{\hyperlink{class_t_thick_quadratic_a77408faf6a40d919069ca5ce7733169a}{getThickP1}}();}
\DoxyCodeLine{01374   \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{01375     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunkNumber)-\/>\mbox{\hyperlink{class_t_thick_quadratic_aa33c22ffd048565884c957888a677f83}{getThickP2}}();}
\DoxyCodeLine{01376   \}}
\DoxyCodeLine{01377 }
\DoxyCodeLine{01378   assert(\textcolor{stringliteral}{"{}Not yet finished"{}} \&\& \textcolor{keyword}{false});}
\DoxyCodeLine{01379   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(0);}
\DoxyCodeLine{01380 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{get\+Chunk()}}, \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}, \mbox{\hyperlink{l00447}{TThick\+Quadratic\+::get\+Thick\+P0()}}, \mbox{\hyperlink{l00449}{TThick\+Quadratic\+::get\+Thick\+P1()}}, and \mbox{\hyperlink{l00451}{TThick\+Quadratic\+::get\+Thick\+P2()}}.



Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, \mbox{\hyperlink{l00664}{Control\+Point\+Editor\+Stroke\+::add\+Control\+Point()}}, \mbox{\hyperlink{l00680}{TInbetween\+::\+Imp\+::compute\+Transformation()}}, \mbox{\hyperlink{l00470}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::deactivate\+\_\+impl()}}, \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01384}{get\+Control\+Point\+At\+Parameter()}}, \mbox{\hyperlink{l00430}{TStroke\+Bender\+Deformation\+::get\+Displacement\+For\+Control\+Point()}}, \mbox{\hyperlink{l00183}{TStroke\+Point\+Deformation\+::get\+Displacement\+For\+Control\+Point()}}, \mbox{\hyperlink{l00913}{Control\+Point\+Editor\+Stroke\+::get\+Point\+Type\+At()}}, \mbox{\hyperlink{l01960}{get\+Thick\+Point()}}, \mbox{\hyperlink{l01934}{get\+Thick\+Point\+At\+Length()}}, \mbox{\hyperlink{l03720}{interpolate()}}, \mbox{\hyperlink{l00851}{Control\+Point\+Editor\+Stroke\+::move\+Segment()}}, \mbox{\hyperlink{l00858}{Toonz\+Ext\+::rotate\+Control\+Point()}}, \mbox{\hyperlink{l00215}{TStage\+Object\+Spline\+::save\+Data()}}, \mbox{\hyperlink{l01427}{set\+Control\+Point()}}, \mbox{\hyperlink{l02469}{set\+Self\+Loop()}}, \mbox{\hyperlink{l02193}{split()}}, and \mbox{\hyperlink{l01612}{Vectorizer\+Core\+::vectorize()}}.

\mbox{\Hypertarget{class_t_stroke_a03789f25de41b0395e14cc91dc944c38}\label{class_t_stroke_a03789f25de41b0395e14cc91dc944c38}} 
\index{TStroke@{TStroke}!getControlPointAtParameter@{getControlPointAtParameter}}
\index{getControlPointAtParameter@{getControlPointAtParameter}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getControlPointAtParameter()}{getControlPointAtParameter()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} TStroke\+::get\+Control\+Point\+At\+Parameter (\begin{DoxyParamCaption}\item[{double}]{w }\end{DoxyParamCaption}) const}

Return control point nearest of parameter w. \begin{DoxyNote}{Note}
w is clamped to \mbox{[}0,1\mbox{]} interval 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01384                                                               \{}
\DoxyCodeLine{01385   \textcolor{keywordflow}{if} (w <= 0) \textcolor{keywordflow}{return} m\_imp-\/>m\_centerLineArray.front()-\/>getThickP0();}
\DoxyCodeLine{01386 }
\DoxyCodeLine{01387   \textcolor{keywordflow}{if} (w >= 1.0) \textcolor{keywordflow}{return} m\_imp-\/>m\_centerLineArray.back()-\/>getThickP2();}
\DoxyCodeLine{01388 }
\DoxyCodeLine{01389   vector<double>::iterator it\_begin =}
\DoxyCodeLine{01390                                m\_imp-\/>m\_parameterValueAtControlPoint.begin(),}
\DoxyCodeLine{01391                            first,}
\DoxyCodeLine{01392                            it\_end = m\_imp-\/>m\_parameterValueAtControlPoint.end();}
\DoxyCodeLine{01393 }
\DoxyCodeLine{01394   \textcolor{comment}{// find iterator at position greater or equal to w}}
\DoxyCodeLine{01395   first = std::lower\_bound(it\_begin, it\_end, w);}
\DoxyCodeLine{01396 }
\DoxyCodeLine{01397   assert(first != it\_end);}
\DoxyCodeLine{01398 }
\DoxyCodeLine{01399   \textcolor{comment}{// now is possible to get control point}}
\DoxyCodeLine{01400   \textcolor{comment}{// if( areAlmostEqual(*first, w, 0.1) )}}
\DoxyCodeLine{01401   \textcolor{comment}{//  return  getControlPoint( distance(it\_begin, first) );}}
\DoxyCodeLine{01402   \textcolor{keywordflow}{if} (first == it\_begin)}
\DoxyCodeLine{01403     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(0);}
\DoxyCodeLine{01404   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((*first -\/ w) <= w -\/ *(first -\/ 1))}
\DoxyCodeLine{01405     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(distance(it\_begin, first));}
\DoxyCodeLine{01406   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01407     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(distance(it\_begin, first -\/ 1));}
\DoxyCodeLine{01408 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01352}{get\+Control\+Point()}}.



Referenced by \mbox{\hyperlink{l00230}{TStroke\+Point\+Deformation\+::get\+Delta()}}, \mbox{\hyperlink{l00472}{TStroke\+Bender\+Deformation\+::get\+Displacement()}}, \mbox{\hyperlink{l00546}{TStroke\+Twirl\+Deformation\+::get\+Displacement()}}, \mbox{\hyperlink{l00207}{TStroke\+Point\+Deformation\+::get\+Displacement()}}, and \mbox{\hyperlink{l00858}{Toonz\+Ext\+::rotate\+Control\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}\label{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}} 
\index{TStroke@{TStroke}!getControlPointCount@{getControlPointCount}}
\index{getControlPointCount@{getControlPointCount}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getControlPointCount()}{getControlPointCount()}}
{\footnotesize\ttfamily int TStroke\+::get\+Control\+Point\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return number of control points in a stroke. 

Return number of control points in a stroke \begin{DoxyNote}{Note}
the control point in common between adjacent chunks is counted only once. e.\+g.\+: A n-\/chunk \mbox{\hyperlink{class_t_stroke}{TStroke}} has n$\ast$2+1 CP 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01849                                         \{}
\DoxyCodeLine{01850   \textcolor{keywordflow}{return} m\_imp-\/>getControlPointCount();}
\DoxyCodeLine{01851 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, \mbox{\hyperlink{l00664}{Control\+Point\+Editor\+Stroke\+::add\+Control\+Point()}}, \mbox{\hyperlink{l00813}{TStroke\+::\+Imp\+::compute\+Cache\+Vector()}}, \mbox{\hyperlink{l00851}{TStroke\+::\+Imp\+::compute\+Parameter\+In\+Control\+Point()}}, \mbox{\hyperlink{l00680}{TInbetween\+::\+Imp\+::compute\+Transformation()}}, \mbox{\hyperlink{l00470}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::deactivate\+\_\+impl()}}, \mbox{\hyperlink{l01504}{get\+Approximate\+Length()}}, \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01591}{get\+Length()}}, \mbox{\hyperlink{l02181}{get\+Length\+At\+Control\+Point()}}, \mbox{\hyperlink{l02002}{get\+Parameter\+At\+Control\+Point()}}, \mbox{\hyperlink{l01960}{get\+Thick\+Point()}}, \mbox{\hyperlink{l01934}{get\+Thick\+Point\+At\+Length()}}, \mbox{\hyperlink{l03720}{interpolate()}}, \mbox{\hyperlink{l02492}{is\+Center\+Line()}}, \mbox{\hyperlink{l00851}{Control\+Point\+Editor\+Stroke\+::move\+Segment()}}, \mbox{\hyperlink{l00858}{Toonz\+Ext\+::rotate\+Control\+Point()}}, \mbox{\hyperlink{l00215}{TStage\+Object\+Spline\+::save\+Data()}}, \mbox{\hyperlink{l00968}{Raster\+Selection\+::select()}}, \mbox{\hyperlink{l01427}{set\+Control\+Point()}}, \mbox{\hyperlink{l02469}{set\+Self\+Loop()}}, \mbox{\hyperlink{l00459}{Control\+Point\+Editor\+Stroke\+::set\+Stroke()}}, \mbox{\hyperlink{l02193}{split()}}, \mbox{\hyperlink{l02292}{transform()}}, and \mbox{\hyperlink{l01612}{Vectorizer\+Core\+::vectorize()}}.

\mbox{\Hypertarget{class_t_stroke_a834375a289d91f419a87e23e4e2fc05e}\label{class_t_stroke_a834375a289d91f419a87e23e4e2fc05e}} 
\index{TStroke@{TStroke}!getControlPointIndexAfterParameter@{getControlPointIndexAfterParameter}}
\index{getControlPointIndexAfterParameter@{getControlPointIndexAfterParameter}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getControlPointIndexAfterParameter()}{getControlPointIndexAfterParameter()}}
{\footnotesize\ttfamily int TStroke\+::get\+Control\+Point\+Index\+After\+Parameter (\begin{DoxyParamCaption}\item[{double}]{w }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01412                                                               \{}
\DoxyCodeLine{01413   \textcolor{keyword}{const} vector<double>::const\_iterator}
\DoxyCodeLine{01414       begin = m\_imp-\/>m\_parameterValueAtControlPoint.begin(),}
\DoxyCodeLine{01415       end   = m\_imp-\/>m\_parameterValueAtControlPoint.end();}
\DoxyCodeLine{01416 }
\DoxyCodeLine{01417   vector<double>::const\_iterator it = std::upper\_bound(begin, end, w);}
\DoxyCodeLine{01418 }
\DoxyCodeLine{01419   \textcolor{keywordflow}{if} (it == end)}
\DoxyCodeLine{01420     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}();}
\DoxyCodeLine{01421   \textcolor{keywordflow}{else}}
\DoxyCodeLine{01422     \textcolor{keywordflow}{return} std::distance(begin, it);}
\DoxyCodeLine{01423 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a0cadc8707551663399add02457d472b8}\label{class_t_stroke_a0cadc8707551663399add02457d472b8}} 
\index{TStroke@{TStroke}!getControlPoints@{getControlPoints}}
\index{getControlPoints@{getControlPoints}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getControlPoints()}{getControlPoints()}}
{\footnotesize\ttfamily void TStroke\+::get\+Control\+Points (\begin{DoxyParamCaption}\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ \&}]{v }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01339                                                            \{}
\DoxyCodeLine{01340   assert(v.empty());}
\DoxyCodeLine{01341   v.resize(m\_imp-\/>m\_centerLineArray.size() * 2 + 1);}
\DoxyCodeLine{01342 }
\DoxyCodeLine{01343   v[0] = m\_imp-\/>m\_centerLineArray[0]-\/>getThickP0();}
\DoxyCodeLine{01344 }
\DoxyCodeLine{01345   \textcolor{keywordflow}{for} (UINT i = 0; i < m\_imp-\/>m\_centerLineArray.size(); i++) \{}
\DoxyCodeLine{01346     \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *q = m\_imp-\/>m\_centerLineArray[i];}
\DoxyCodeLine{01347     v[2 * i + 1]       = q-\/>\mbox{\hyperlink{class_t_thick_quadratic_a77408faf6a40d919069ca5ce7733169a}{getThickP1}}();}
\DoxyCodeLine{01348     v[2 * i + 2]       = q-\/>\mbox{\hyperlink{class_t_thick_quadratic_aa33c22ffd048565884c957888a677f83}{getThickP2}}();}
\DoxyCodeLine{01349   \}}
\DoxyCodeLine{01350 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a4fb5ba0483f542c25ab11499a4e273bb}\label{class_t_stroke_a4fb5ba0483f542c25ab11499a4e273bb}} 
\index{TStroke@{TStroke}!getFlag@{getFlag}}
\index{getFlag@{getFlag}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getFlag()}{getFlag()}}
{\footnotesize\ttfamily bool TStroke\+::get\+Flag (\begin{DoxyParamCaption}\item[{TStroke\+Flag}]{flag }\end{DoxyParamCaption}) const}



Return {\bfseries{TStroke\+Flag}} of the stroke. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02417                                             \{}
\DoxyCodeLine{02418   \textcolor{keywordflow}{return} (m\_imp-\/>m\_flag \& flag) != 0;}
\DoxyCodeLine{02419 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01554}{TVector\+Image\+::split\+Selected()}}.

\mbox{\Hypertarget{class_t_stroke_a7653a40bc17c19b9c23a67a9466e1d6f}\label{class_t_stroke_a7653a40bc17c19b9c23a67a9466e1d6f}} 
\index{TStroke@{TStroke}!getId@{getId}}
\index{getId@{getId}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getId()}{getId()}}
{\footnotesize\ttfamily int TStroke\+::get\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{02441 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_id; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a8533575940134d43db1a20a72fd232db}\label{class_t_stroke_a8533575940134d43db1a20a72fd232db}} 
\index{TStroke@{TStroke}!getLength@{getLength}}
\index{getLength@{getLength}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getLength()}{getLength()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily double TStroke\+::get\+Length (\begin{DoxyParamCaption}\item[{double}]{w0,  }\item[{double}]{w1 }\end{DoxyParamCaption}) const}



Return length of a stroke. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01562                                                     \{}
\DoxyCodeLine{01563   \textcolor{keywordflow}{if} (w0 == w1) \textcolor{keywordflow}{return} 0.0;}
\DoxyCodeLine{01564 }
\DoxyCodeLine{01565   \textcolor{comment}{// If necessary, swap values}}
\DoxyCodeLine{01566   w0 = min(max(0.0, w0), 1.0);}
\DoxyCodeLine{01567   w1 = min(max(0.0, w1), 1.0);}
\DoxyCodeLine{01568 }
\DoxyCodeLine{01569   \textcolor{keywordflow}{if} (w0 > w1) std::swap(w0, w1);}
\DoxyCodeLine{01570 }
\DoxyCodeLine{01571   \textcolor{comment}{// Retrieve s1}}
\DoxyCodeLine{01572   \textcolor{keywordtype}{int} chunk;}
\DoxyCodeLine{01573   \textcolor{keywordtype}{double} t;}
\DoxyCodeLine{01574 }
\DoxyCodeLine{01575   \textcolor{keywordtype}{bool} ok = !m\_imp-\/>retrieveChunkAndItsParamameter(w1, chunk, t);}
\DoxyCodeLine{01576   assert(ok);}
\DoxyCodeLine{01577 }
\DoxyCodeLine{01578   \textcolor{keywordtype}{double} s1 = \mbox{\hyperlink{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}{getLength}}(chunk, t);}
\DoxyCodeLine{01579 }
\DoxyCodeLine{01580   \textcolor{keywordflow}{if} (w0 == 0.0) \textcolor{keywordflow}{return} s1;}
\DoxyCodeLine{01581 }
\DoxyCodeLine{01582   \textcolor{comment}{// Retrieve s0}}
\DoxyCodeLine{01583   ok = !m\_imp-\/>retrieveChunkAndItsParamameter(w0, chunk, t);}
\DoxyCodeLine{01584   assert(ok);}
\DoxyCodeLine{01585 }
\DoxyCodeLine{01586   \textcolor{keywordflow}{return} s1 -\/ \mbox{\hyperlink{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}{getLength}}(chunk, t);}
\DoxyCodeLine{01587 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01591}{get\+Length()}}.

\mbox{\Hypertarget{class_t_stroke_a5fba965f2c4c99b00c2070338bf195a3}\label{class_t_stroke_a5fba965f2c4c99b00c2070338bf195a3}} 
\index{TStroke@{TStroke}!getLength@{getLength}}
\index{getLength@{getLength}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getLength()}{getLength()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily double TStroke\+::get\+Length (\begin{DoxyParamCaption}\item[{double}]{w1 = {\ttfamily 1.0} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Return length of a stroke. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00190 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}{getLength}}(0.0, w1); \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00190}{get\+Length()}}.



Referenced by \mbox{\hyperlink{l00190}{get\+Length()}}.

\mbox{\Hypertarget{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}\label{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}} 
\index{TStroke@{TStroke}!getLength@{getLength}}
\index{getLength@{getLength}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getLength()}{getLength()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily double TStroke\+::get\+Length (\begin{DoxyParamCaption}\item[{int}]{chunk,  }\item[{double}]{t }\end{DoxyParamCaption}) const}



Returns the length of the stroke at passed chunk-\/param. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01591                                                    \{}
\DoxyCodeLine{01592   \textcolor{comment}{// Compute length caches}}
\DoxyCodeLine{01593   m\_imp-\/>computeCacheVector();}
\DoxyCodeLine{01594   assert((\textcolor{keywordtype}{int})m\_imp-\/>m\_partialLengthArray.size() == \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}());}
\DoxyCodeLine{01595 }
\DoxyCodeLine{01596   \textcolor{keywordflow}{if} (t == 1.0) ++chunk, t = 0.0;}
\DoxyCodeLine{01597 }
\DoxyCodeLine{01598   \textcolor{keywordtype}{double} s = m\_imp-\/>m\_partialLengthArray[chunk << 1];}
\DoxyCodeLine{01599   \textcolor{keywordflow}{if} (t > 0.0) s += \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk)-\/>\mbox{\hyperlink{class_t_quadratic_ac1db69c69cbf52b1becf396cc8006ca1}{getLength}}(t);}
\DoxyCodeLine{01600 }
\DoxyCodeLine{01601   \textcolor{keywordflow}{return} s;}
\DoxyCodeLine{01602 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{get\+Chunk()}}, \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}, and \mbox{\hyperlink{l00208}{TQuadratic\+::get\+Length()}}.



Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, \mbox{\hyperlink{l00680}{TInbetween\+::\+Imp\+::compute\+Transformation()}}, \mbox{\hyperlink{l00159}{Pump\+Tool\+::draw()}}, \mbox{\hyperlink{l00354}{TStroke\+Param\+Deformation\+::get\+Delta()}}, \mbox{\hyperlink{l00702}{TStroke\+Thickness\+Deformation\+::get\+Delta()}}, \mbox{\hyperlink{l00510}{TStroke\+Bender\+Deformation\+::get\+Delta()}}, \mbox{\hyperlink{l00109}{Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Delta()}}, \mbox{\hyperlink{l00472}{TStroke\+Bender\+Deformation\+::get\+Displacement()}}, \mbox{\hyperlink{l00327}{TStroke\+Param\+Deformation\+::get\+Displacement()}}, \mbox{\hyperlink{l00674}{TStroke\+Thickness\+Deformation\+::get\+Displacement()}}, \mbox{\hyperlink{l01562}{get\+Length()}}, \mbox{\hyperlink{l01981}{get\+Parameter\+At\+Length()}}, \mbox{\hyperlink{l01934}{get\+Thick\+Point\+At\+Length()}}, \mbox{\hyperlink{l01619}{insert\+Control\+Points\+At\+Length()}}, \mbox{\hyperlink{l00858}{Toonz\+Ext\+::rotate\+Control\+Point()}}, \mbox{\hyperlink{l00060}{Toonz\+Ext\+::\+Not\+Symmetric\+Exp\+Potential\+::set\+Parameters\+\_\+()}}, \mbox{\hyperlink{l00012}{Toonz\+Ext\+::\+Linear\+Potential\+::set\+Parameters\+\_\+()}}, \mbox{\hyperlink{l00047}{Toonz\+Ext\+::\+Not\+Symmetric\+Bezier\+Potential\+::set\+Parameters\+\_\+()}}, and \mbox{\hyperlink{l00011}{Toonz\+Ext\+::\+Square\+Potential\+::set\+Parameters\+\_\+()}}.

\mbox{\Hypertarget{class_t_stroke_a18abce70ef2b2ecd88a50ac9bc8d6d7b}\label{class_t_stroke_a18abce70ef2b2ecd88a50ac9bc8d6d7b}} 
\index{TStroke@{TStroke}!getLengthAtControlPoint@{getLengthAtControlPoint}}
\index{getLengthAtControlPoint@{getLengthAtControlPoint}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getLengthAtControlPoint()}{getLengthAtControlPoint()}}
{\footnotesize\ttfamily double TStroke\+::get\+Length\+At\+Control\+Point (\begin{DoxyParamCaption}\item[{int}]{n }\end{DoxyParamCaption}) const}



Return the stroke leght at passed control point. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02181                                                    \{}
\DoxyCodeLine{02182   m\_imp-\/>computeCacheVector();}
\DoxyCodeLine{02183 }
\DoxyCodeLine{02184   \textcolor{keywordflow}{if} (n >= \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}()) \textcolor{keywordflow}{return} m\_imp-\/>m\_partialLengthArray.back();}
\DoxyCodeLine{02185 }
\DoxyCodeLine{02186   \textcolor{keywordflow}{if} (n <= 0) \textcolor{keywordflow}{return} m\_imp-\/>m\_partialLengthArray.front();}
\DoxyCodeLine{02187 }
\DoxyCodeLine{02188   \textcolor{keywordflow}{return} m\_imp-\/>m\_partialLengthArray[n];}
\DoxyCodeLine{02189 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}.



Referenced by \mbox{\hyperlink{l00430}{TStroke\+Bender\+Deformation\+::get\+Displacement\+For\+Control\+Point()}}, \mbox{\hyperlink{l00274}{TStroke\+Param\+Deformation\+::get\+Displacement\+For\+Control\+Point()}}, and \mbox{\hyperlink{l00616}{TStroke\+Thickness\+Deformation\+::get\+Displacement\+For\+Control\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_ae09388a4327cebde73526fc793b585b8}\label{class_t_stroke_ae09388a4327cebde73526fc793b585b8}} 
\index{TStroke@{TStroke}!getMaxThickness@{getMaxThickness}}
\index{getMaxThickness@{getMaxThickness}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getMaxThickness()}{getMaxThickness()}}
{\footnotesize\ttfamily double TStroke\+::get\+Max\+Thickness (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01820                                 \{}
\DoxyCodeLine{01821   \textcolor{keywordflow}{if} (m\_imp-\/>m\_maxThickness == -\/1) m\_imp-\/>computeMaxThickness();}
\DoxyCodeLine{01822   \textcolor{keywordflow}{return} m\_imp-\/>m\_maxThickness;}
\DoxyCodeLine{01823 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_ad851d4e270246d1c9def410403ca1c97}\label{class_t_stroke_ad851d4e270246d1c9def410403ca1c97}} 
\index{TStroke@{TStroke}!getNearChunks@{getNearChunks}}
\index{getNearChunks@{getNearChunks}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getNearChunks()}{getNearChunks()}}
{\footnotesize\ttfamily int TStroke\+::get\+Near\+Chunks (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \&}]{p,  }\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ \&}]{points\+On\+Stroke,  }\item[{bool}]{check\+BBox = {\ttfamily true} }\end{DoxyParamCaption}) const}

\textbackslash{}finds all points on stroke which are \char`\"{}enough\char`\"{} close to point p. return the number of such points. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01303                                                  \{}
\DoxyCodeLine{01304   \textcolor{keywordtype}{int} currIndex    = -\/100;}
\DoxyCodeLine{01305   \textcolor{keywordtype}{double} currDist2 = 100000;}
\DoxyCodeLine{01306 }
\DoxyCodeLine{01307   \textcolor{keywordflow}{for} (UINT i = 0; i < m\_imp-\/>m\_centerLineArray.size(); i++) \{}
\DoxyCodeLine{01308     \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *q = m\_imp-\/>m\_centerLineArray[i];}
\DoxyCodeLine{01309 }
\DoxyCodeLine{01310     \textcolor{keywordflow}{if} (checkBBox \&\& !q-\/>getBBox().enlarge(30).contains(p)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01311 }
\DoxyCodeLine{01312     \textcolor{keywordtype}{double} t       = q-\/>\mbox{\hyperlink{class_t_quadratic_ac0a935d30e22e5be4639979a28aa1c99}{getT}}(p);}
\DoxyCodeLine{01313     \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} p1 = q-\/>\mbox{\hyperlink{class_t_thick_quadratic_afeee82338645bb351a07ab3c632197b5}{getThickPoint}}(t);}
\DoxyCodeLine{01314     \textcolor{keywordtype}{double} dist2   = tdistance2(p1, p);}
\DoxyCodeLine{01315 }
\DoxyCodeLine{01316     \textcolor{keywordflow}{if} (dist2 < (p1.thick + p.thick + 5) * (p1.thick + p.thick + 5)) \{}
\DoxyCodeLine{01317       \textcolor{keywordflow}{if} (!pointsOnStroke.empty() \&\&}
\DoxyCodeLine{01318           areAlmostEqual(p1, pointsOnStroke.back(), 1e-\/3))}
\DoxyCodeLine{01319         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01320 }
\DoxyCodeLine{01321       \textcolor{keywordflow}{if} (currIndex == i -\/ 1) \{}
\DoxyCodeLine{01322         \textcolor{keywordflow}{if} (dist2 < currDist2)}
\DoxyCodeLine{01323           pointsOnStroke.pop\_back();}
\DoxyCodeLine{01324         \textcolor{keywordflow}{else}}
\DoxyCodeLine{01325           \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01326       \}}
\DoxyCodeLine{01327 }
\DoxyCodeLine{01328       currIndex = i;}
\DoxyCodeLine{01329       currDist2 = dist2;}
\DoxyCodeLine{01330       pointsOnStroke.push\_back(p1);}
\DoxyCodeLine{01331     \}}
\DoxyCodeLine{01332   \}}
\DoxyCodeLine{01333 }
\DoxyCodeLine{01334   \textcolor{keywordflow}{return} pointsOnStroke.size();  \textcolor{comment}{// dist2 < (numeric\_limits<double>::max)();}}
\DoxyCodeLine{01335 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00059}{TQuadratic\+::get\+T()}}, and \mbox{\hyperlink{l00400}{TThick\+Quadratic\+::get\+Thick\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_a8ac9fd8cf067561e4f75eb706e70bf71}\label{class_t_stroke_a8ac9fd8cf067561e4f75eb706e70bf71}} 
\index{TStroke@{TStroke}!getNearestChunk@{getNearestChunk}}
\index{getNearestChunk@{getNearestChunk}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getNearestChunk()}{getNearestChunk()}}
{\footnotesize\ttfamily bool TStroke\+::get\+Nearest\+Chunk (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{double \&}]{outT,  }\item[{int \&}]{chunk\+Index,  }\item[{double \&}]{distance2,  }\item[{bool}]{check\+BBox = {\ttfamily true} }\end{DoxyParamCaption}) const}



computes outlines (only if it\textquotesingle{}s needed). call it before drawing. 

\begin{DoxyReturn}{Returns}
false if the bbox doesn\textquotesingle{}t contain the point 
\end{DoxyReturn}
\begin{DoxyParagraph}{p is input point to test}

\end{DoxyParagraph}
\begin{DoxyParagraph}{outT is parameter of minimum}

\end{DoxyParagraph}
\begin{DoxyParagraph}{chunk\+Index is chunk of stroke where is minimum}

\end{DoxyParagraph}
\begin{DoxyParagraph}{distance2 is square distance of minimum}

\end{DoxyParagraph}
\begin{DoxyParagraph}{check\+BBox (default true) is a flag to check or not in bounding box}

\end{DoxyParagraph}

\begin{DoxyCode}{0}
\DoxyCodeLine{01276                                                                    \{}
\DoxyCodeLine{01277   dist2 = (numeric\_limits<double>::max)();}
\DoxyCodeLine{01278 }
\DoxyCodeLine{01279   \textcolor{keywordflow}{for} (UINT i = 0; i < m\_imp-\/>m\_centerLineArray.size(); i++) \{}
\DoxyCodeLine{01280     \textcolor{keywordflow}{if} (checkBBox \&\&}
\DoxyCodeLine{01281         !m\_imp-\/>m\_centerLineArray[i]-\/>getBBox().enlarge(30).contains(p))}
\DoxyCodeLine{01282       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01283 }
\DoxyCodeLine{01284     \textcolor{keywordtype}{double} t    = (m\_imp-\/>m\_centerLineArray)[i]-\/>getT(p);}
\DoxyCodeLine{01285     \textcolor{keywordtype}{double} dist = tdistance2((m\_imp-\/>m\_centerLineArray)[i]-\/>getPoint(t), p);}
\DoxyCodeLine{01286 }
\DoxyCodeLine{01287     \textcolor{keywordflow}{if} (dist < dist2) \{}
\DoxyCodeLine{01288       dist2      = dist;}
\DoxyCodeLine{01289       chunkIndex = i;}
\DoxyCodeLine{01290       outT       = t;}
\DoxyCodeLine{01291     \}}
\DoxyCodeLine{01292   \}}
\DoxyCodeLine{01293 }
\DoxyCodeLine{01294   \textcolor{keywordflow}{return} dist2 < (numeric\_limits<double>::max)();}
\DoxyCodeLine{01295 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l02029}{get\+W()}}.

\mbox{\Hypertarget{class_t_stroke_afc54b18205dec2342abd55b550c02dd7}\label{class_t_stroke_afc54b18205dec2342abd55b550c02dd7}} 
\index{TStroke@{TStroke}!getNearestW@{getNearestW}}
\index{getNearestW@{getNearestW}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getNearestW()}{getNearestW()}}
{\footnotesize\ttfamily bool TStroke\+::get\+NearestW (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{double \&}]{outW,  }\item[{double \&}]{distance2,  }\item[{bool}]{check\+BBox = {\ttfamily true} }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01267                                                 \{}
\DoxyCodeLine{01268   \textcolor{keywordtype}{double} outT;}
\DoxyCodeLine{01269   \textcolor{keywordtype}{int} chunkIndex;}
\DoxyCodeLine{01270   \textcolor{keywordtype}{bool} ret      = \mbox{\hyperlink{class_t_stroke_a8ac9fd8cf067561e4f75eb706e70bf71}{getNearestChunk}}(p, outT, chunkIndex, dist2, checkBBox);}
\DoxyCodeLine{01271   \textcolor{keywordflow}{if} (ret) outW = \mbox{\hyperlink{class_t_stroke_a38326dc317f9ff3828940996f41376a6}{getW}}(chunkIndex, outT);}
\DoxyCodeLine{01272   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{01273 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a244eb0bf1629669b61949df20b2ee091}\label{class_t_stroke_a244eb0bf1629669b61949df20b2ee091}} 
\index{TStroke@{TStroke}!getParameterAtControlPoint@{getParameterAtControlPoint}}
\index{getParameterAtControlPoint@{getParameterAtControlPoint}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getParameterAtControlPoint()}{getParameterAtControlPoint()}}
{\footnotesize\ttfamily double TStroke\+::get\+Parameter\+At\+Control\+Point (\begin{DoxyParamCaption}\item[{int}]{n }\end{DoxyParamCaption}) const}

Return parameter for a control point \begin{DoxyNote}{Note}
if control point is not on curve return middle value between two adjacent control point 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{02002                                                       \{}
\DoxyCodeLine{02003   \textcolor{keywordtype}{double} out = -\/1;}
\DoxyCodeLine{02004 }
\DoxyCodeLine{02005   \textcolor{keywordflow}{if} (0 <= n \&\& n < \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}()) out = m\_imp-\/>getW(n);}
\DoxyCodeLine{02006   \textcolor{comment}{/* FAB}}
\DoxyCodeLine{02007 \textcolor{comment}{assert( 0.0 <= out \&\&}}
\DoxyCodeLine{02008 \textcolor{comment}{    out <= 1.0 );}}
\DoxyCodeLine{02009 \textcolor{comment}{*/}}
\DoxyCodeLine{02010   \textcolor{keywordflow}{if} (0.0 > out) \textcolor{keywordflow}{return} 0.0;}
\DoxyCodeLine{02011   \textcolor{keywordflow}{if} (out > 1.0) \textcolor{keywordflow}{return} 1.0;}
\DoxyCodeLine{02012   \textcolor{keywordflow}{return} out;}
\DoxyCodeLine{02013 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}.



Referenced by \mbox{\hyperlink{l00093}{Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Displacement\+For\+Control\+Point()}}, \mbox{\hyperlink{l01981}{get\+Parameter\+At\+Length()}}, \mbox{\hyperlink{l00913}{Control\+Point\+Editor\+Stroke\+::get\+Point\+Type\+At()}}, and \mbox{\hyperlink{l00851}{Control\+Point\+Editor\+Stroke\+::move\+Segment()}}.

\mbox{\Hypertarget{class_t_stroke_a45226c432c0d643e9985823abccdeda2}\label{class_t_stroke_a45226c432c0d643e9985823abccdeda2}} 
\index{TStroke@{TStroke}!getParameterAtLength@{getParameterAtLength}}
\index{getParameterAtLength@{getParameterAtLength}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getParameterAtLength()}{getParameterAtLength()}}
{\footnotesize\ttfamily double TStroke\+::get\+Parameter\+At\+Length (\begin{DoxyParamCaption}\item[{double}]{s }\end{DoxyParamCaption}) const}

Return parameter in (based on arc length) 
\begin{DoxyCode}{0}
\DoxyCodeLine{01981                                                    \{}
\DoxyCodeLine{01982   \textcolor{keywordflow}{if} (s <= 0)}
\DoxyCodeLine{01983     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{01984   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (s >= \mbox{\hyperlink{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}{getLength}}())}
\DoxyCodeLine{01985     \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{01986 }
\DoxyCodeLine{01987   \textcolor{keywordtype}{int} chunk;}
\DoxyCodeLine{01988   \textcolor{keywordtype}{double} t;}
\DoxyCodeLine{01989 }
\DoxyCodeLine{01990   \textcolor{keywordflow}{if} (!m\_imp-\/>retrieveChunkAndItsParamameterAtLength(s, chunk, t)) \{}
\DoxyCodeLine{01991     DoublePair p = m\_imp-\/>retrieveParametersFromChunk(chunk);}
\DoxyCodeLine{01992 }
\DoxyCodeLine{01993     \textcolor{keywordflow}{return} proportion(p.second, t, 1.0, p.first);}
\DoxyCodeLine{01994   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (chunk < (\textcolor{keywordtype}{int})\mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() \&\& t == -\/1)}
\DoxyCodeLine{01995     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a244eb0bf1629669b61949df20b2ee091}{getParameterAtControlPoint}}(2 * chunk);}
\DoxyCodeLine{01996 }
\DoxyCodeLine{01997   \textcolor{keywordflow}{return} 1.0;}
\DoxyCodeLine{01998 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, \mbox{\hyperlink{l01591}{get\+Length()}}, and \mbox{\hyperlink{l02002}{get\+Parameter\+At\+Control\+Point()}}.



Referenced by \mbox{\hyperlink{l00159}{Pump\+Tool\+::draw()}}, \mbox{\hyperlink{l00109}{Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Delta()}}, \mbox{\hyperlink{l02174}{get\+Speed\+At\+Length()}}, and \mbox{\hyperlink{l00858}{Toonz\+Ext\+::rotate\+Control\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_ace861e064b925c5d41a6d7381ae6ada5}\label{class_t_stroke_ace861e064b925c5d41a6d7381ae6ada5}} 
\index{TStroke@{TStroke}!getPoint@{getPoint}}
\index{getPoint@{getPoint}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getPoint()}{getPoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} TStroke\+::get\+Point (\begin{DoxyParamCaption}\item[{double}]{w }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

same that get\+Thick\+Point but return a TPointD 
\begin{DoxyCode}{0}
\DoxyCodeLine{00236 \{ \textcolor{keywordflow}{return} convert(\mbox{\hyperlink{class_t_stroke_ada4f6fc3fea4a7c0b949cd1d9dc6e640}{getThickPoint}}(w)); \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, \mbox{\hyperlink{l00061}{Toonz\+Ext\+::\+Corner\+Deformation\+::check\+\_\+()}}, \mbox{\hyperlink{l00470}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::deactivate\+\_\+impl()}}, \mbox{\hyperlink{l00159}{Pump\+Tool\+::draw()}}, \mbox{\hyperlink{l00278}{Vector\+Tape\+Tool\+::draw()}}, \mbox{\hyperlink{l00913}{Control\+Point\+Editor\+Stroke\+::get\+Point\+Type\+At()}}, and \mbox{\hyperlink{l01062}{Eraser\+Tool\+::left\+Button\+Double\+Click()}}.

\mbox{\Hypertarget{class_t_stroke_a42c1918a6294612731c0f4a66462ab1d}\label{class_t_stroke_a42c1918a6294612731c0f4a66462ab1d}} 
\index{TStroke@{TStroke}!getPointAtLength@{getPointAtLength}}
\index{getPointAtLength@{getPointAtLength}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getPointAtLength()}{getPointAtLength()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} TStroke\+::get\+Point\+At\+Length (\begin{DoxyParamCaption}\item[{double}]{s }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

same that get\+Thick\+Point\+At\+Length but return a TPointD 
\begin{DoxyCode}{0}
\DoxyCodeLine{00246                                                   \{}
\DoxyCodeLine{00247     \textcolor{keywordflow}{return} convert(\mbox{\hyperlink{class_t_stroke_a08496981e0538356833d4c6513af38b0}{getThickPointAtLength}}(s));}
\DoxyCodeLine{00248   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a0547a0a3c9542af6c016e8da94023371}\label{class_t_stroke_a0547a0a3c9542af6c016e8da94023371}} 
\index{TStroke@{TStroke}!getProp@{getProp}}
\index{getProp@{getProp}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getProp()}{getProp()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stroke_prop}{TStroke\+Prop}} $\ast$ TStroke\+::get\+Prop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return a {\bfseries{\mbox{\hyperlink{class_t_stroke_prop}{TStroke\+Prop}}}}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02337                                     \{}
\DoxyCodeLine{02338 \textcolor{preprocessor}{\#if !defined(DISEGNO\_OUTLINE)}}
\DoxyCodeLine{02339   \textcolor{keywordflow}{if} (!m\_imp-\/>m\_styleId) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{02340 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{02341 }
\DoxyCodeLine{02342   \textcolor{comment}{/*}}
\DoxyCodeLine{02343 \textcolor{comment}{TColorStyle * style = palette-\/>getStyle(m\_imp-\/>m\_styleId);}}
\DoxyCodeLine{02344 \textcolor{comment}{if( !style-\/>isStrokeStyle() || style-\/>isEnabled() == false )}}
\DoxyCodeLine{02345 \textcolor{comment}{return 0;}}
\DoxyCodeLine{02346 \textcolor{comment}{}}
\DoxyCodeLine{02347 \textcolor{comment}{if( !m\_imp-\/>m\_prop || style != m\_imp-\/>m\_prop-\/>getColorStyle() )}}
\DoxyCodeLine{02348 \textcolor{comment}{\{}}
\DoxyCodeLine{02349 \textcolor{comment}{delete m\_imp-\/>m\_prop;}}
\DoxyCodeLine{02350 \textcolor{comment}{m\_imp-\/>m\_prop = style-\/>makeStrokeProp(this);}}
\DoxyCodeLine{02351 \textcolor{comment}{\}}}
\DoxyCodeLine{02352 \textcolor{comment}{*/}}
\DoxyCodeLine{02353   \textcolor{keywordflow}{return} m\_imp-\/>m\_prop;}
\DoxyCodeLine{02354 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_aacd3df1526449eb47659de8ea4c16039}\label{class_t_stroke_aacd3df1526449eb47659de8ea4c16039}} 
\index{TStroke@{TStroke}!getSpeed@{getSpeed}}
\index{getSpeed@{getSpeed}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getSpeed()}{getSpeed()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} TStroke\+::get\+Speed (\begin{DoxyParamCaption}\item[{double}]{w,  }\item[{bool}]{out\+Speed = {\ttfamily false} }\end{DoxyParamCaption}) const}



Get speed at parameter w. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02123                                                        \{}
\DoxyCodeLine{02124   assert(!m\_imp-\/>m\_centerLineArray.empty());}
\DoxyCodeLine{02125 }
\DoxyCodeLine{02126   \textcolor{keywordflow}{if} (w < 0) \textcolor{keywordflow}{return} m\_imp-\/>m\_centerLineArray.front()-\/>getSpeed(0.0);}
\DoxyCodeLine{02127 }
\DoxyCodeLine{02128   \textcolor{keywordflow}{if} (w > 1.0) \textcolor{keywordflow}{return} m\_imp-\/>m\_centerLineArray.back()-\/>getSpeed(1.0);}
\DoxyCodeLine{02129 }
\DoxyCodeLine{02130   \textcolor{keywordtype}{int} chunk;}
\DoxyCodeLine{02131   \textcolor{keywordtype}{double} t;}
\DoxyCodeLine{02132 }
\DoxyCodeLine{02133   \textcolor{keywordtype}{bool} error = m\_imp-\/>retrieveChunkAndItsParamameter(w, chunk, t);}
\DoxyCodeLine{02134   \textcolor{keywordflow}{if} (t == 1 \&\& outSpeed \&\& chunk < \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() -\/ 1) \{}
\DoxyCodeLine{02135     chunk++;}
\DoxyCodeLine{02136     t = 0;}
\DoxyCodeLine{02137   \}}
\DoxyCodeLine{02138   assert(!error);}
\DoxyCodeLine{02139 }
\DoxyCodeLine{02140   \textcolor{keywordflow}{if} (error) \textcolor{keywordflow}{return} m\_imp-\/>m\_centerLineArray.front()-\/>getSpeed(0.0);}
\DoxyCodeLine{02141 }
\DoxyCodeLine{02142   \mbox{\hyperlink{class_t_point_t}{TPointD}} speed = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk)-\/>\mbox{\hyperlink{class_t_quadratic_ac11687d354413a2ad1879518d1c00e68}{getSpeed}}(t);}
\DoxyCodeLine{02143 }
\DoxyCodeLine{02144   \textcolor{keywordflow}{if} (speed == \mbox{\hyperlink{class_t_point_t}{TPointD}}())  \textcolor{comment}{// la quadratica e' degenere!!!}}
\DoxyCodeLine{02145   \{}
\DoxyCodeLine{02146     \textcolor{keywordflow}{while} (speed == \mbox{\hyperlink{class_t_point_t}{TPointD}}()) \{}
\DoxyCodeLine{02147       speed = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk-\/-\/)-\/>\mbox{\hyperlink{class_t_quadratic_ac11687d354413a2ad1879518d1c00e68}{getSpeed}}(1.0);}
\DoxyCodeLine{02148       \textcolor{keywordflow}{if} (chunk <= 0) \textcolor{keywordflow}{break};}
\DoxyCodeLine{02149     \}}
\DoxyCodeLine{02150     chunk = 0;}
\DoxyCodeLine{02151     \textcolor{keywordflow}{while} (speed == \mbox{\hyperlink{class_t_point_t}{TPointD}}()) \{}
\DoxyCodeLine{02152       speed = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk++)-\/>\mbox{\hyperlink{class_t_quadratic_ac11687d354413a2ad1879518d1c00e68}{getSpeed}}(0.0);}
\DoxyCodeLine{02153       \textcolor{keywordflow}{if} (chunk >= \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() -\/ 1) \textcolor{keywordflow}{break};}
\DoxyCodeLine{02154     \}}
\DoxyCodeLine{02155     \textcolor{keywordflow}{if} (speed == \mbox{\hyperlink{class_t_point_t}{TPointD}}()) \{}
\DoxyCodeLine{02156       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() == 1) \{}
\DoxyCodeLine{02157         \textcolor{keyword}{const} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *q = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(0);}
\DoxyCodeLine{02158 }
\DoxyCodeLine{02159         \textcolor{keywordflow}{if} (q-\/>\mbox{\hyperlink{class_t_quadratic_a1ee0984c7cd5c818840f6e688727ddcf}{getP0}}() == q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}() \&\& q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}() != q-\/>\mbox{\hyperlink{class_t_quadratic_a460dfe351429492a9bf0ad22bc4538e2}{getP2}}())}
\DoxyCodeLine{02160           \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_segment}{TSegment}}(q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}(), q-\/>\mbox{\hyperlink{class_t_quadratic_a460dfe351429492a9bf0ad22bc4538e2}{getP2}}()).\mbox{\hyperlink{class_t_segment_a5912c4427bd592defb1a0375ff11c115}{getSpeed}}(t);}
\DoxyCodeLine{02161         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}() == q-\/>\mbox{\hyperlink{class_t_quadratic_a460dfe351429492a9bf0ad22bc4538e2}{getP2}}() \&\& q-\/>\mbox{\hyperlink{class_t_quadratic_a1ee0984c7cd5c818840f6e688727ddcf}{getP0}}() != q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}())}
\DoxyCodeLine{02162           \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_segment}{TSegment}}(q-\/>\mbox{\hyperlink{class_t_quadratic_a1ee0984c7cd5c818840f6e688727ddcf}{getP0}}(), q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}()).\mbox{\hyperlink{class_t_segment_a5912c4427bd592defb1a0375ff11c115}{getSpeed}}(t);}
\DoxyCodeLine{02163         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02164           assert(speed != \mbox{\hyperlink{class_t_point_t}{TPointD}}());}
\DoxyCodeLine{02165       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{02166         assert(speed != \mbox{\hyperlink{class_t_point_t}{TPointD}}());}
\DoxyCodeLine{02167     \}}
\DoxyCodeLine{02168   \}}
\DoxyCodeLine{02169   \textcolor{keywordflow}{return} speed;}
\DoxyCodeLine{02170 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{get\+Chunk()}}, \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, \mbox{\hyperlink{l00138}{TQuadratic\+::get\+P0()}}, \mbox{\hyperlink{l00140}{TQuadratic\+::get\+P1()}}, \mbox{\hyperlink{l00142}{TQuadratic\+::get\+P2()}}, \mbox{\hyperlink{l00116}{TQuadratic\+::get\+Speed()}}, and \mbox{\hyperlink{l00041}{TSegment\+::get\+Speed()}}.



Referenced by \mbox{\hyperlink{l00109}{Toonz\+Ext\+::\+Stroke\+Parametric\+Deformer\+::get\+Delta()}}, \mbox{\hyperlink{l02174}{get\+Speed\+At\+Length()}}, and \mbox{\hyperlink{l02050}{get\+Speed\+Two\+Values()}}.

\mbox{\Hypertarget{class_t_stroke_a5d9ac2619444fffe01ee958f8540ed1d}\label{class_t_stroke_a5d9ac2619444fffe01ee958f8540ed1d}} 
\index{TStroke@{TStroke}!getSpeedAtLength@{getSpeedAtLength}}
\index{getSpeedAtLength@{getSpeedAtLength}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getSpeedAtLength()}{getSpeedAtLength()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} TStroke\+::get\+Speed\+At\+Length (\begin{DoxyParamCaption}\item[{double}]{s }\end{DoxyParamCaption}) const}



Get speed at length s. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02174                                                 \{}
\DoxyCodeLine{02175   \textcolor{keywordtype}{double} t = \mbox{\hyperlink{class_t_stroke_a45226c432c0d643e9985823abccdeda2}{getParameterAtLength}}(s);}
\DoxyCodeLine{02176   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_aacd3df1526449eb47659de8ea4c16039}{getSpeed}}(t);}
\DoxyCodeLine{02177 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01981}{get\+Parameter\+At\+Length()}}, and \mbox{\hyperlink{l02123}{get\+Speed()}}.

\mbox{\Hypertarget{class_t_stroke_a1b8d4404f554012cc3365d90fdcf24d1}\label{class_t_stroke_a1b8d4404f554012cc3365d90fdcf24d1}} 
\index{TStroke@{TStroke}!getSpeedTwoValues@{getSpeedTwoValues}}
\index{getSpeedTwoValues@{getSpeedTwoValues}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getSpeedTwoValues()}{getSpeedTwoValues()}}
{\footnotesize\ttfamily bool TStroke\+::get\+Speed\+Two\+Values (\begin{DoxyParamCaption}\item[{double}]{w,  }\item[{\mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{speed0,  }\item[{\mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{speed1 }\end{DoxyParamCaption}) const}



Returns true if speed1!=speed0, so it is an edge in w. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02051                                                        \{}
\DoxyCodeLine{02052   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{false};}
\DoxyCodeLine{02053 }
\DoxyCodeLine{02054   assert(!m\_imp-\/>m\_centerLineArray.empty());}
\DoxyCodeLine{02055 }
\DoxyCodeLine{02056   \textcolor{keywordflow}{if} (w < 0) \{}
\DoxyCodeLine{02057     speed0 = m\_imp-\/>m\_centerLineArray.front()-\/>getSpeed(0.0);}
\DoxyCodeLine{02058     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{02059   \}}
\DoxyCodeLine{02060 }
\DoxyCodeLine{02061   \textcolor{keywordflow}{if} (w > 1.0) \{}
\DoxyCodeLine{02062     speed0 = m\_imp-\/>m\_centerLineArray.back()-\/>getSpeed(1.0);}
\DoxyCodeLine{02063     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{02064   \}}
\DoxyCodeLine{02065 }
\DoxyCodeLine{02066   \textcolor{keywordtype}{int} chunk;}
\DoxyCodeLine{02067   \textcolor{keywordtype}{double} t;}
\DoxyCodeLine{02068 }
\DoxyCodeLine{02069   \textcolor{keywordtype}{bool} error = m\_imp-\/>retrieveChunkAndItsParamameter(w, chunk, t);}
\DoxyCodeLine{02070 }
\DoxyCodeLine{02071   assert(!error);}
\DoxyCodeLine{02072 }
\DoxyCodeLine{02073   \textcolor{keywordflow}{if} (error) \{}
\DoxyCodeLine{02074     speed0 = m\_imp-\/>m\_centerLineArray.front()-\/>getSpeed(0.0);}
\DoxyCodeLine{02075     speed1 = -\/speed0;}
\DoxyCodeLine{02076     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{02077   \}}
\DoxyCodeLine{02078 }
\DoxyCodeLine{02079   speed0 = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk)-\/>\mbox{\hyperlink{class_t_quadratic_ac11687d354413a2ad1879518d1c00e68}{getSpeed}}(t);}
\DoxyCodeLine{02080   speed1 = -\/speed0;}
\DoxyCodeLine{02081 }
\DoxyCodeLine{02082   \textcolor{keywordflow}{if} (areAlmostEqual(t, 0.0, 1e-\/9) \&\& chunk > 0 \&\&}
\DoxyCodeLine{02083       (speed1 = -\/\mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk -\/ 1)-\/>\mbox{\hyperlink{class_t_stroke_aacd3df1526449eb47659de8ea4c16039}{getSpeed}}(1.0)) != -\/speed0)}
\DoxyCodeLine{02084     ret = \textcolor{keyword}{true};}
\DoxyCodeLine{02085   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (areAlmostEqual(t, 1.0, 1e-\/9) \&\& chunk < \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() -\/ 1 \&\&}
\DoxyCodeLine{02086            (speed1 = -\/\mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk + 1)-\/>\mbox{\hyperlink{class_t_stroke_aacd3df1526449eb47659de8ea4c16039}{getSpeed}}(0.0)) != -\/speed0) \{}
\DoxyCodeLine{02087     \mbox{\hyperlink{class_t_point_t}{TPointD}} aux = -\/speed0;}
\DoxyCodeLine{02088     speed0      = -\/speed1;}
\DoxyCodeLine{02089     speed1      = aux;}
\DoxyCodeLine{02090     ret         = \textcolor{keyword}{true};}
\DoxyCodeLine{02091   \}}
\DoxyCodeLine{02092 }
\DoxyCodeLine{02093   \textcolor{keywordflow}{if} (speed0 == \mbox{\hyperlink{class_t_point_t}{TPointD}}())  \textcolor{comment}{// la quadratica e' degenere!!!}}
\DoxyCodeLine{02094   \{}
\DoxyCodeLine{02095     \textcolor{keywordflow}{while} (speed0 == \mbox{\hyperlink{class_t_point_t}{TPointD}}()) \{}
\DoxyCodeLine{02096       speed0 = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk-\/-\/)-\/>\mbox{\hyperlink{class_t_quadratic_ac11687d354413a2ad1879518d1c00e68}{getSpeed}}(1.0);}
\DoxyCodeLine{02097       \textcolor{keywordflow}{if} (chunk <= 0) \textcolor{keywordflow}{break};}
\DoxyCodeLine{02098     \}}
\DoxyCodeLine{02099     chunk = 0;}
\DoxyCodeLine{02100     \textcolor{keywordflow}{while} (speed0 == \mbox{\hyperlink{class_t_point_t}{TPointD}}()) \{}
\DoxyCodeLine{02101       speed0 = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk++)-\/>\mbox{\hyperlink{class_t_quadratic_ac11687d354413a2ad1879518d1c00e68}{getSpeed}}(0.0);}
\DoxyCodeLine{02102       \textcolor{keywordflow}{if} (chunk >= \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() -\/ 1) \textcolor{keywordflow}{break};}
\DoxyCodeLine{02103     \}}
\DoxyCodeLine{02104 }
\DoxyCodeLine{02105     \textcolor{keywordflow}{if} (speed0 == \mbox{\hyperlink{class_t_point_t}{TPointD}}()) \{}
\DoxyCodeLine{02106       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() == 1) \{}
\DoxyCodeLine{02107         \textcolor{keyword}{const} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *q = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(0);}
\DoxyCodeLine{02108 }
\DoxyCodeLine{02109         \textcolor{keywordflow}{if} (q-\/>\mbox{\hyperlink{class_t_quadratic_a1ee0984c7cd5c818840f6e688727ddcf}{getP0}}() == q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}() \&\& q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}() != q-\/>\mbox{\hyperlink{class_t_quadratic_a460dfe351429492a9bf0ad22bc4538e2}{getP2}}())}
\DoxyCodeLine{02110           speed0 = \mbox{\hyperlink{class_t_segment}{TSegment}}(q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}(), q-\/>\mbox{\hyperlink{class_t_quadratic_a460dfe351429492a9bf0ad22bc4538e2}{getP2}}()).\mbox{\hyperlink{class_t_segment_a5912c4427bd592defb1a0375ff11c115}{getSpeed}}(t);}
\DoxyCodeLine{02111         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}() == q-\/>\mbox{\hyperlink{class_t_quadratic_a460dfe351429492a9bf0ad22bc4538e2}{getP2}}() \&\& q-\/>\mbox{\hyperlink{class_t_quadratic_a1ee0984c7cd5c818840f6e688727ddcf}{getP0}}() != q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}())}
\DoxyCodeLine{02112           speed0 = \mbox{\hyperlink{class_t_segment}{TSegment}}(q-\/>\mbox{\hyperlink{class_t_quadratic_a1ee0984c7cd5c818840f6e688727ddcf}{getP0}}(), q-\/>\mbox{\hyperlink{class_t_quadratic_a77b9801ed9670e93fe6a9d49720521f9}{getP1}}()).\mbox{\hyperlink{class_t_segment_a5912c4427bd592defb1a0375ff11c115}{getSpeed}}(t);}
\DoxyCodeLine{02113         \textcolor{keywordflow}{else}}
\DoxyCodeLine{02114           assert(speed0 != \mbox{\hyperlink{class_t_point_t}{TPointD}}());}
\DoxyCodeLine{02115       \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{02116         assert(speed0 != \mbox{\hyperlink{class_t_point_t}{TPointD}}());}
\DoxyCodeLine{02117     \}}
\DoxyCodeLine{02118   \}}
\DoxyCodeLine{02119   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{02120 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{get\+Chunk()}}, \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, \mbox{\hyperlink{l00138}{TQuadratic\+::get\+P0()}}, \mbox{\hyperlink{l00140}{TQuadratic\+::get\+P1()}}, \mbox{\hyperlink{l00142}{TQuadratic\+::get\+P2()}}, \mbox{\hyperlink{l00116}{TQuadratic\+::get\+Speed()}}, \mbox{\hyperlink{l02123}{get\+Speed()}}, and \mbox{\hyperlink{l00041}{TSegment\+::get\+Speed()}}.

\mbox{\Hypertarget{class_t_stroke_ab77068d7894a29cc1878e173f46ed785}\label{class_t_stroke_ab77068d7894a29cc1878e173f46ed785}} 
\index{TStroke@{TStroke}!getStyle@{getStyle}}
\index{getStyle@{getStyle}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getStyle()}{getStyle()}}
{\footnotesize\ttfamily int TStroke\+::get\+Style (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\begin{DoxyReturn}{Returns}
Style 
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{02366 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_styleId; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01117}{Toonz\+Ext\+::clone\+Stroke\+Status()}}, \mbox{\hyperlink{l01458}{TVector\+Image\+::erase\+Style\+Ids()}}, \mbox{\hyperlink{l01623}{TVector\+Image\+::get\+Used\+Styles()}}, \mbox{\hyperlink{l00048}{Style\+Picker\+::pick\+Style\+Id()}}, \mbox{\hyperlink{l03283}{TVector\+Image\+::reassign\+Styles()}}, and \mbox{\hyperlink{l02193}{split()}}.

\mbox{\Hypertarget{class_t_stroke_ada4f6fc3fea4a7c0b949cd1d9dc6e640}\label{class_t_stroke_ada4f6fc3fea4a7c0b949cd1d9dc6e640}} 
\index{TStroke@{TStroke}!getThickPoint@{getThickPoint}}
\index{getThickPoint@{getThickPoint}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getThickPoint()}{getThickPoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} TStroke\+::get\+Thick\+Point (\begin{DoxyParamCaption}\item[{double}]{w }\end{DoxyParamCaption}) const}

Return a thickpoint at w (parameter (0\texorpdfstring{$<$}{<}=w\texorpdfstring{$<$}{<}=1)) \begin{DoxyNote}{Note}
w is 0 at begin of the stroke and is 1.\+0 at the end. Parameter value for a chunk is stored in the vector m\+\_\+parameter\+Value\+At\+Chunk. Every change (subdivision of a stroke, resample, insertion of a control point) computes a new value for parameter. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01960                                                  \{}
\DoxyCodeLine{01961   assert(!m\_imp-\/>m\_centerLineArray.empty());}
\DoxyCodeLine{01962 }
\DoxyCodeLine{01963   \textcolor{keywordflow}{if} (w < 0) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(0);}
\DoxyCodeLine{01964 }
\DoxyCodeLine{01965   \textcolor{keywordflow}{if} (w > 1.0) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}() -\/ 1);}
\DoxyCodeLine{01966 }
\DoxyCodeLine{01967   \textcolor{keywordtype}{int} chunk = 0;}
\DoxyCodeLine{01968   \textcolor{keywordtype}{double} t  = 0;}
\DoxyCodeLine{01969 }
\DoxyCodeLine{01970   \textcolor{keywordtype}{bool} error = m\_imp-\/>retrieveChunkAndItsParamameter(w, chunk, t);}
\DoxyCodeLine{01971 }
\DoxyCodeLine{01972   assert(!error);}
\DoxyCodeLine{01973 }
\DoxyCodeLine{01974   \textcolor{keywordflow}{if} (error) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(0);}
\DoxyCodeLine{01975 }
\DoxyCodeLine{01976   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk)-\/>\mbox{\hyperlink{class_t_thick_quadratic_afeee82338645bb351a07ab3c632197b5}{getThickPoint}}(t);}
\DoxyCodeLine{01977 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{get\+Chunk()}}, \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}, and \mbox{\hyperlink{l00400}{TThick\+Quadratic\+::get\+Thick\+Point()}}.



Referenced by \mbox{\hyperlink{l00664}{Control\+Point\+Editor\+Stroke\+::add\+Control\+Point()}}, \mbox{\hyperlink{l00679}{TVector\+Image\+::fill\+Strokes()}}, \mbox{\hyperlink{l00230}{TStroke\+Point\+Deformation\+::get\+Delta()}}, \mbox{\hyperlink{l00207}{TStroke\+Point\+Deformation\+::get\+Displacement()}}, \mbox{\hyperlink{l00592}{TVector\+Image\+::get\+Nearest\+Stroke()}}, \mbox{\hyperlink{l00234}{Stage\+::\+Picker\+::on\+Image()}}, and \mbox{\hyperlink{l00048}{Style\+Picker\+::pick\+Style\+Id()}}.

\mbox{\Hypertarget{class_t_stroke_a08496981e0538356833d4c6513af38b0}\label{class_t_stroke_a08496981e0538356833d4c6513af38b0}} 
\index{TStroke@{TStroke}!getThickPointAtLength@{getThickPointAtLength}}
\index{getThickPointAtLength@{getThickPointAtLength}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getThickPointAtLength()}{getThickPointAtLength()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} TStroke\+::get\+Thick\+Point\+At\+Length (\begin{DoxyParamCaption}\item[{double}]{s }\end{DoxyParamCaption}) const}

Return a thickpoint at s (length of arc) 
\begin{DoxyCode}{0}
\DoxyCodeLine{01934                                                          \{}
\DoxyCodeLine{01935   assert(!m\_imp-\/>m\_centerLineArray.empty());}
\DoxyCodeLine{01936 }
\DoxyCodeLine{01937   \textcolor{keywordflow}{if} (s <= 0) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(0);}
\DoxyCodeLine{01938 }
\DoxyCodeLine{01939   \textcolor{keywordflow}{if} (s >= \mbox{\hyperlink{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}{getLength}}()) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}() -\/ 1);}
\DoxyCodeLine{01940 }
\DoxyCodeLine{01941   \textcolor{keywordtype}{int} chunk;}
\DoxyCodeLine{01942   \textcolor{keywordtype}{double} tOfDivision;}
\DoxyCodeLine{01943 }
\DoxyCodeLine{01944   \textcolor{keywordtype}{bool} error =}
\DoxyCodeLine{01945       m\_imp-\/>retrieveChunkAndItsParamameterAtLength(s, chunk, tOfDivision);}
\DoxyCodeLine{01946 }
\DoxyCodeLine{01947   \textcolor{keywordflow}{if} (error)}
\DoxyCodeLine{01948     error =}
\DoxyCodeLine{01949         m\_imp-\/>retrieveChunkAndItsParamameterAtLength(s, chunk, tOfDivision);}
\DoxyCodeLine{01950 }
\DoxyCodeLine{01951   assert(!error);}
\DoxyCodeLine{01952 }
\DoxyCodeLine{01953   \textcolor{keywordflow}{if} (error) \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(0);}
\DoxyCodeLine{01954 }
\DoxyCodeLine{01955   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk)-\/>\mbox{\hyperlink{class_t_thick_quadratic_afeee82338645bb351a07ab3c632197b5}{getThickPoint}}(tOfDivision);}
\DoxyCodeLine{01956 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{get\+Chunk()}}, \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}, \mbox{\hyperlink{l01591}{get\+Length()}}, and \mbox{\hyperlink{l00400}{TThick\+Quadratic\+::get\+Thick\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_a38326dc317f9ff3828940996f41376a6}\label{class_t_stroke_a38326dc317f9ff3828940996f41376a6}} 
\index{TStroke@{TStroke}!getW@{getW}}
\index{getW@{getW}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getW()}{getW()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily double TStroke\+::getW (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p }\end{DoxyParamCaption}) const}



Return parameter w at point position. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02029                                            \{}
\DoxyCodeLine{02030   \textcolor{keywordtype}{int} chunkIndex;}
\DoxyCodeLine{02031 }
\DoxyCodeLine{02032   \textcolor{keywordtype}{double} tOfchunk, distance2 = (numeric\_limits<double>::max)();}
\DoxyCodeLine{02033 }
\DoxyCodeLine{02034   \textcolor{comment}{// cerca il chunk piu' vicino senza testare la BBox}}
\DoxyCodeLine{02035   \mbox{\hyperlink{class_t_stroke_a8ac9fd8cf067561e4f75eb706e70bf71}{getNearestChunk}}(p, tOfchunk, chunkIndex, distance2, \textcolor{keyword}{false});}
\DoxyCodeLine{02036 }
\DoxyCodeLine{02037   assert(0 <= chunkIndex \&\& chunkIndex <= \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}());}
\DoxyCodeLine{02038 }
\DoxyCodeLine{02039   DoublePair parRange = m\_imp-\/>retrieveParametersFromChunk(chunkIndex);}
\DoxyCodeLine{02040 }
\DoxyCodeLine{02041   \textcolor{keywordtype}{double} t = proportion(parRange.second, tOfchunk, 1.0, parRange.first);}
\DoxyCodeLine{02042 }
\DoxyCodeLine{02043   assert(0 <= t \&\& t <= 1.0);}
\DoxyCodeLine{02044 }
\DoxyCodeLine{02045   \textcolor{keywordflow}{return} t;}
\DoxyCodeLine{02046 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, and \mbox{\hyperlink{l01275}{get\+Nearest\+Chunk()}}.



Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, \mbox{\hyperlink{l00664}{Control\+Point\+Editor\+Stroke\+::add\+Control\+Point()}}, \mbox{\hyperlink{l00592}{TVector\+Image\+::get\+Nearest\+Stroke()}}, \mbox{\hyperlink{l00913}{Control\+Point\+Editor\+Stroke\+::get\+Point\+Type\+At()}}, \mbox{\hyperlink{l00851}{Control\+Point\+Editor\+Stroke\+::move\+Segment()}}, and \mbox{\hyperlink{l00927}{TStroke\+::\+Imp\+::retrieve\+Chunk\+And\+Its\+Paramameter\+At\+Length()}}.

\mbox{\Hypertarget{class_t_stroke_a8f4456b530696e4cf878eba79abfbbbf}\label{class_t_stroke_a8f4456b530696e4cf878eba79abfbbbf}} 
\index{TStroke@{TStroke}!getW@{getW}}
\index{getW@{getW}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{getW()}{getW()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily double TStroke\+::getW (\begin{DoxyParamCaption}\item[{int}]{chunk\+Index,  }\item[{double}]{t }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{02017                                                    \{}
\DoxyCodeLine{02018   DoublePair parRange = m\_imp-\/>retrieveParametersFromChunk(chunkIndex);}
\DoxyCodeLine{02019 }
\DoxyCodeLine{02020   \textcolor{keywordtype}{double} w = proportion(parRange.second, t, 1.0, parRange.first);}
\DoxyCodeLine{02021 }
\DoxyCodeLine{02022   assert(0 <= w \&\& w <= 1.0);}
\DoxyCodeLine{02023 }
\DoxyCodeLine{02024   \textcolor{keywordflow}{return} w;}
\DoxyCodeLine{02025 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_ac8dc8d662e1f0fad77ca0ffce4378f10}\label{class_t_stroke_ac8dc8d662e1f0fad77ca0ffce4378f10}} 
\index{TStroke@{TStroke}!insertControlPoints@{insertControlPoints}}
\index{insertControlPoints@{insertControlPoints}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{insertControlPoints()}{insertControlPoints()}}
{\footnotesize\ttfamily void TStroke\+::insert\+Control\+Points (\begin{DoxyParamCaption}\item[{double}]{w }\end{DoxyParamCaption})}

Add a control point (in fact delete one and add three) without changing the stroke shape. w is the position of the new CP along parameter. (0\texorpdfstring{$<$}{<}w\texorpdfstring{$<$}{<}1)

\begin{DoxyNote}{Note}
if a control point already exists near w, then the stroke remains unchanged 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{01679                                           \{}
\DoxyCodeLine{01680   \textcolor{keywordflow}{if} (0.0 > w || w > 1.0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01681 }
\DoxyCodeLine{01682   \textcolor{keywordtype}{int} chunk;}
\DoxyCodeLine{01683   \textcolor{keywordtype}{double} tOfDivision = -\/1;}
\DoxyCodeLine{01684 }
\DoxyCodeLine{01685   \textcolor{keywordflow}{if} (m\_imp-\/>retrieveChunkAndItsParamameter(w, chunk, tOfDivision)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01686 }
\DoxyCodeLine{01687   \textcolor{keywordflow}{if} (isAlmostZero(tOfDivision) || areAlmostEqual(tOfDivision, 1)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01688 }
\DoxyCodeLine{01689   assert(0 <= chunk \&\& chunk < \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}());}
\DoxyCodeLine{01690   assert(0 <= tOfDivision \&\& tOfDivision <= 1.0);}
\DoxyCodeLine{01691 }
\DoxyCodeLine{01692   \textcolor{comment}{// calcolo i due "{}cionchi"{}}}
\DoxyCodeLine{01693   \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *tqfirst  = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}},}
\DoxyCodeLine{01694                   *tqsecond = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}};}
\DoxyCodeLine{01695 }
\DoxyCodeLine{01696   \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk)-\/>split(tOfDivision, *tqfirst, *tqsecond);}
\DoxyCodeLine{01697 }
\DoxyCodeLine{01698   m\_imp-\/>updateParameterValue(w, chunk, tqfirst, tqsecond);}
\DoxyCodeLine{01699 }
\DoxyCodeLine{01700   \textcolor{comment}{// recupero la posizione nella lista delle curve}}
\DoxyCodeLine{01701   QuadStrokeChunkArray::iterator it = m\_imp-\/>m\_centerLineArray.begin();}
\DoxyCodeLine{01702 }
\DoxyCodeLine{01703   \textcolor{comment}{// elimino la curva vecchia}}
\DoxyCodeLine{01704   advance(it, chunk);}
\DoxyCodeLine{01705   \textcolor{keyword}{delete} *it;}
\DoxyCodeLine{01706   it = m\_imp-\/>m\_centerLineArray.erase(it);}
\DoxyCodeLine{01707 }
\DoxyCodeLine{01708   \textcolor{comment}{// ed aggiungo le nuove}}
\DoxyCodeLine{01709   it = m\_imp-\/>m\_centerLineArray.insert(it, tqsecond);}
\DoxyCodeLine{01710   m\_imp-\/>m\_centerLineArray.insert(it, tqfirst);}
\DoxyCodeLine{01711 }
\DoxyCodeLine{01712   \mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{01713   m\_imp-\/>computeCacheVector();}
\DoxyCodeLine{01714 }
\DoxyCodeLine{01715   m\_imp-\/>m\_negativeThicknessPoints = 0;}
\DoxyCodeLine{01716   \textcolor{keywordflow}{for} (UINT j = 0; j < m\_imp-\/>m\_centerLineArray.size(); j++) \{}
\DoxyCodeLine{01717     \textcolor{keywordflow}{if} (m\_imp-\/>m\_centerLineArray[j]-\/>getThickP0().thick <= 0)}
\DoxyCodeLine{01718       m\_imp-\/>m\_negativeThicknessPoints++;}
\DoxyCodeLine{01719     \textcolor{keywordflow}{if} (m\_imp-\/>m\_centerLineArray[j]-\/>getThickP1().thick <= 0)}
\DoxyCodeLine{01720       m\_imp-\/>m\_negativeThicknessPoints++;}
\DoxyCodeLine{01721   \}}
\DoxyCodeLine{01722   \textcolor{keywordflow}{if} (!m\_imp-\/>m\_centerLineArray.empty() \&\&}
\DoxyCodeLine{01723       m\_imp-\/>m\_centerLineArray.back()-\/>getThickP2().thick <= 0)}
\DoxyCodeLine{01724     m\_imp-\/>m\_negativeThicknessPoints++;}
\DoxyCodeLine{01725 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{get\+Chunk()}}, \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, and \mbox{\hyperlink{l01606}{invalidate()}}.



Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, and \mbox{\hyperlink{l02193}{split()}}.

\mbox{\Hypertarget{class_t_stroke_a292e97a684d8e89343680109797eb652}\label{class_t_stroke_a292e97a684d8e89343680109797eb652}} 
\index{TStroke@{TStroke}!insertControlPointsAtLength@{insertControlPointsAtLength}}
\index{insertControlPointsAtLength@{insertControlPointsAtLength}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{insertControlPointsAtLength()}{insertControlPointsAtLength()}}
{\footnotesize\ttfamily void TStroke\+::insert\+Control\+Points\+At\+Length (\begin{DoxyParamCaption}\item[{double}]{s }\end{DoxyParamCaption})}

Add a control point (in fact delete one and add three) without changing the stroke shape. s is the position of the new CP along the stroke itself. (0\texorpdfstring{$<$}{<}s\texorpdfstring{$<$}{<}stroke\+Length)

\begin{DoxyNote}{Note}
if a control point already exists near s, then the stroke remains unchanged
\end{DoxyNote}
N.\+B. Questa funzione e\textquotesingle{} piu\textquotesingle{} lenta rispetto alla insert\+CP perche\textquotesingle{} ricerca la posizione di s con un algoritmo di bisezione. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01619                                                   \{}
\DoxyCodeLine{01620   \textcolor{keywordflow}{if} (0 > s || s > \mbox{\hyperlink{class_t_stroke_a079a513cb8a60d9a759b4f0c8211eab4}{getLength}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01621 }
\DoxyCodeLine{01622   \textcolor{keywordtype}{int} chunk;}
\DoxyCodeLine{01623   \textcolor{keywordtype}{double} t;}
\DoxyCodeLine{01624 }
\DoxyCodeLine{01625   \textcolor{comment}{// cerca il cionco ed il parametro alla lunghezza s}}
\DoxyCodeLine{01626   \textcolor{keywordflow}{if} (!m\_imp-\/>retrieveChunkAndItsParamameterAtLength(s, chunk, t)) \{}
\DoxyCodeLine{01627     \textcolor{keywordflow}{if} (isAlmostZero(t) || areAlmostEqual(t, 1)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01628 }
\DoxyCodeLine{01629     \textcolor{comment}{// calcolo i due "{}cionchi"{}}}
\DoxyCodeLine{01630     \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *tqfirst  = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}},}
\DoxyCodeLine{01631                     *tqsecond = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}};}
\DoxyCodeLine{01632 }
\DoxyCodeLine{01633     \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(chunk)-\/>split(t, *tqfirst, *tqsecond);}
\DoxyCodeLine{01634 }
\DoxyCodeLine{01635     \textcolor{keywordtype}{double} parameterInStroke;}
\DoxyCodeLine{01636 }
\DoxyCodeLine{01637     \textcolor{keywordflow}{if} (0 == chunk)}
\DoxyCodeLine{01638       parameterInStroke = m\_imp-\/>getW(2) * t;}
\DoxyCodeLine{01639     \textcolor{keywordflow}{else}}
\DoxyCodeLine{01640       parameterInStroke =}
\DoxyCodeLine{01641           t * m\_imp-\/>getW((chunk + 1) * 2) + (1 -\/ t) * m\_imp-\/>getW(chunk * 2);}
\DoxyCodeLine{01642 }
\DoxyCodeLine{01643     m\_imp-\/>updateParameterValue(parameterInStroke, chunk, tqfirst, tqsecond);}
\DoxyCodeLine{01644 }
\DoxyCodeLine{01645     \textcolor{comment}{// recupero la posizione nella lista delle curve}}
\DoxyCodeLine{01646     QuadStrokeChunkArray::iterator it = m\_imp-\/>m\_centerLineArray.begin();}
\DoxyCodeLine{01647 }
\DoxyCodeLine{01648     \textcolor{comment}{// elimino la curva vecchia}}
\DoxyCodeLine{01649     advance(it, chunk);}
\DoxyCodeLine{01650     \textcolor{keyword}{delete} *it;}
\DoxyCodeLine{01651     it = m\_imp-\/>m\_centerLineArray.erase(it);}
\DoxyCodeLine{01652 }
\DoxyCodeLine{01653     \textcolor{comment}{// ed aggiungo le nuove}}
\DoxyCodeLine{01654     it = m\_imp-\/>m\_centerLineArray.insert(it, tqsecond);}
\DoxyCodeLine{01655     it = m\_imp-\/>m\_centerLineArray.insert(it, tqfirst);}
\DoxyCodeLine{01656   \}}
\DoxyCodeLine{01657   \textcolor{comment}{/* FAB}}
\DoxyCodeLine{01658 \textcolor{comment}{\#ifdef  \_DEBUG}}
\DoxyCodeLine{01659 \textcolor{comment}{\{}}
\DoxyCodeLine{01660 \textcolor{comment}{const int}}
\DoxyCodeLine{01661 \textcolor{comment}{size = m\_imp-\/>m\_parameterValueAtControlPoint.size();}}
\DoxyCodeLine{01662 \textcolor{comment}{double}}
\DoxyCodeLine{01663 \textcolor{comment}{prev = m\_imp-\/>m\_parameterValueAtControlPoint[0];}}
\DoxyCodeLine{01664 \textcolor{comment}{for( int i = 1;}}
\DoxyCodeLine{01665 \textcolor{comment}{   i < size;}}
\DoxyCodeLine{01666 \textcolor{comment}{   ++i )}}
\DoxyCodeLine{01667 \textcolor{comment}{\{}}
\DoxyCodeLine{01668 \textcolor{comment}{assert( prev <= m\_imp-\/>m\_parameterValueAtControlPoint[i] );}}
\DoxyCodeLine{01669 \textcolor{comment}{prev = m\_imp-\/>m\_parameterValueAtControlPoint[i];}}
\DoxyCodeLine{01670 \textcolor{comment}{\}}}
\DoxyCodeLine{01671 \textcolor{comment}{\}}}
\DoxyCodeLine{01672 \textcolor{comment}{\#endif}}
\DoxyCodeLine{01673 \textcolor{comment}{//*/}}
\DoxyCodeLine{01674   \mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{01675 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{get\+Chunk()}}, \mbox{\hyperlink{l01591}{get\+Length()}}, and \mbox{\hyperlink{l01606}{invalidate()}}.



Referenced by \mbox{\hyperlink{l00858}{Toonz\+Ext\+::rotate\+Control\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_a4d47a76de56f5a121aeae50098d6cc8f}\label{class_t_stroke_a4d47a76de56f5a121aeae50098d6cc8f}} 
\index{TStroke@{TStroke}!interpolate@{interpolate}}
\index{interpolate@{interpolate}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{interpolate()}{interpolate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ TStroke\+::interpolate (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} $>$ \&}]{points,  }\item[{double}]{error,  }\item[{bool}]{find\+Corners = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Get a stroke from a {\bfseries{\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}}}} vector. 

Restituisce uno stroke da un vettore di \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}}.

Create a {\bfseries{T3\+DPointD}} vector froma a {\bfseries{\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}}}} vector. The {\bfseries{T3\+DPointD}} vector is used to find a {\bfseries{\mbox{\hyperlink{class_t_cubic_stroke}{TCubic\+Stroke}}}}; than find the quadratic stroke.

Trasforma un vettore di \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} in un vettore di T3\+DPointD che usa per trovare un \mbox{\hyperlink{class_t_cubic_stroke}{TCubic\+Stroke}}, cioe\textquotesingle{} uno stroke cubico. Da questo trova lo stroke quadratico. 
\begin{DoxyCode}{0}
\DoxyCodeLine{03721                                                 \{}
\DoxyCodeLine{03722   vector<T3DPointD> pointsArray3D;}
\DoxyCodeLine{03723   convert(points, pointsArray3D);}
\DoxyCodeLine{03724 }
\DoxyCodeLine{03725   \mbox{\hyperlink{class_t_cubic_stroke}{TCubicStroke}} cubicStroke(pointsArray3D, error, findCorners);}
\DoxyCodeLine{03726   numSaved = 0;}
\DoxyCodeLine{03727 }
\DoxyCodeLine{03728   \textcolor{comment}{//  TStroke *stroke = computeQuadStroke(cubicStroke,error);}}
\DoxyCodeLine{03729   \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = computeQuadStroke(cubicStroke);}
\DoxyCodeLine{03730 }
\DoxyCodeLine{03731 \textcolor{preprocessor}{\#ifdef \_DEBUG}}
\DoxyCodeLine{03732 }
\DoxyCodeLine{03733   UINT cpIndex = 0;}
\DoxyCodeLine{03734   \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} p;}
\DoxyCodeLine{03735   \textcolor{keywordflow}{for} (; cpIndex != (UINT)stroke-\/>\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}(); cpIndex++) \{}
\DoxyCodeLine{03736     p = stroke-\/>\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(cpIndex);}
\DoxyCodeLine{03737     assert(std::isfinite(p.x));}
\DoxyCodeLine{03738     assert(std::isfinite(p.y));}
\DoxyCodeLine{03739     assert(std::isfinite(p.thick));}
\DoxyCodeLine{03740   \}}
\DoxyCodeLine{03741 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{03742 }
\DoxyCodeLine{03743   removeNullQuadratic(stroke);}
\DoxyCodeLine{03744   stroke-\/>\mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{03745 }
\DoxyCodeLine{03746   \textcolor{keywordflow}{return} stroke;}
\DoxyCodeLine{03747 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}, and \mbox{\hyperlink{l01606}{invalidate()}}.



Referenced by \mbox{\hyperlink{l00277}{Stroke\+Generator\+::make\+Stroke()}}.

\mbox{\Hypertarget{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}\label{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}} 
\index{TStroke@{TStroke}!invalidate@{invalidate}}
\index{invalidate@{invalidate}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{invalidate()}{invalidate()}}
{\footnotesize\ttfamily void TStroke\+::invalidate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

mark invalid the length and the outline. The next compute\+Outlines() will update them 
\begin{DoxyCode}{0}
\DoxyCodeLine{01606                          \{}
\DoxyCodeLine{01607   m\_imp-\/>m\_maxThickness   = -\/1;}
\DoxyCodeLine{01608   m\_imp-\/>m\_isOutlineValid = \textcolor{keyword}{false};}
\DoxyCodeLine{01609   m\_imp-\/>m\_isValidLength  = \textcolor{keyword}{false};}
\DoxyCodeLine{01610   m\_imp-\/>m\_flag           = m\_imp-\/>m\_flag | c\_dirty\_flag;}
\DoxyCodeLine{01611   \textcolor{keywordflow}{if} (m\_imp-\/>m\_prop) m\_imp-\/>m\_prop-\/>notifyStrokeChange();}
\DoxyCodeLine{01612 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l02385}{change\+Direction()}}, \mbox{\hyperlink{l01117}{Toonz\+Ext\+::clone\+Stroke\+Status()}}, \mbox{\hyperlink{l03753}{create()}}, \mbox{\hyperlink{l01679}{insert\+Control\+Points()}}, \mbox{\hyperlink{l01619}{insert\+Control\+Points\+At\+Length()}}, \mbox{\hyperlink{l03720}{interpolate()}}, \mbox{\hyperlink{l02032}{Vector\+Selection\+Tool\+::on\+Property\+Changed()}}, \mbox{\hyperlink{l01482}{reshape()}}, \mbox{\hyperlink{l01427}{set\+Control\+Point()}}, and \mbox{\hyperlink{l02292}{transform()}}.

\mbox{\Hypertarget{class_t_stroke_a921ccc4e08cc6850fff80a65caccbd78}\label{class_t_stroke_a921ccc4e08cc6850fff80a65caccbd78}} 
\index{TStroke@{TStroke}!isCenterLine@{isCenterLine}}
\index{isCenterLine@{isCenterLine}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{isCenterLine()}{isCenterLine()}}
{\footnotesize\ttfamily bool TStroke\+::is\+Center\+Line (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return true if all control points have negative thickness. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02492                                  \{}
\DoxyCodeLine{02493   assert(m\_imp-\/>m\_negativeThicknessPoints <= \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}());}
\DoxyCodeLine{02494 }
\DoxyCodeLine{02495   \textcolor{keywordflow}{return} m\_imp-\/>m\_negativeThicknessPoints == \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}();}
\DoxyCodeLine{02496 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}.

\mbox{\Hypertarget{class_t_stroke_a3565d6c34d3eb02fb1a6993ca626425c}\label{class_t_stroke_a3565d6c34d3eb02fb1a6993ca626425c}} 
\index{TStroke@{TStroke}!isSelfLoop@{isSelfLoop}}
\index{isSelfLoop@{isSelfLoop}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{isSelfLoop()}{isSelfLoop()}}
{\footnotesize\ttfamily bool TStroke\+::is\+Self\+Loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Return true if the stroke is looped. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02488 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_selfLoop; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00069}{Toonz\+Ext\+::\+Straight\+Corner\+Deformation\+::check\+\_\+()}}, \mbox{\hyperlink{l01117}{Toonz\+Ext\+::clone\+Stroke\+Status()}}, \mbox{\hyperlink{l00159}{Pump\+Tool\+::draw()}}, and \mbox{\hyperlink{l00858}{Toonz\+Ext\+::rotate\+Control\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_acdf3f898f96ee7ff712da93d2829808a}\label{class_t_stroke_acdf3f898f96ee7ff712da93d2829808a}} 
\index{TStroke@{TStroke}!operator"!=@{operator"!=}}
\index{operator"!=@{operator"!=}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{operator"!=()}{operator!=()}}
{\footnotesize\ttfamily bool TStroke\+::operator!= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{s }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00381 \{ \textcolor{keywordflow}{return} !operator==(s); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a2582b367adc4f902b99af03c3553de2d}\label{class_t_stroke_a2582b367adc4f902b99af03c3553de2d}} 
\index{TStroke@{TStroke}!operator=@{operator=}}
\index{operator=@{operator=}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stroke}{TStroke}} \& TStroke\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{other }\end{DoxyParamCaption})}



to be erased 


\begin{DoxyCode}{0}
\DoxyCodeLine{01258                                                 \{}
\DoxyCodeLine{01259   \mbox{\hyperlink{class_t_stroke}{TStroke}} temp(other);}
\DoxyCodeLine{01260   \mbox{\hyperlink{class_t_stroke_a9c648b7727206be3cd815f8105507694}{swap}}(temp);}
\DoxyCodeLine{01261   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{01262 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l02423}{swap()}}.

\mbox{\Hypertarget{class_t_stroke_a0146d8df329245624999acbaa95673a6}\label{class_t_stroke_a0146d8df329245624999acbaa95673a6}} 
\index{TStroke@{TStroke}!operator==@{operator==}}
\index{operator==@{operator==}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{operator==()}{operator==()}}
{\footnotesize\ttfamily bool TStroke\+::operator== (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{s }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{01829                                                \{}
\DoxyCodeLine{01830   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() != s.\mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01831   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01832   \textcolor{keywordflow}{for} (i = 0; i < \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}(); i++) \{}
\DoxyCodeLine{01833     \textcolor{keyword}{const} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *chanck  = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(i);}
\DoxyCodeLine{01834     \textcolor{keyword}{const} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *sChanck = s.\mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(i);}
\DoxyCodeLine{01835     \textcolor{keywordflow}{if} (chanck-\/>\mbox{\hyperlink{class_t_thick_quadratic_abf58f97664876561f84fa68a90f33d8b}{getThickP0}}() != sChanck-\/>\mbox{\hyperlink{class_t_thick_quadratic_abf58f97664876561f84fa68a90f33d8b}{getThickP0}}() ||}
\DoxyCodeLine{01836         chanck-\/>\mbox{\hyperlink{class_t_thick_quadratic_a77408faf6a40d919069ca5ce7733169a}{getThickP1}}() != sChanck-\/>\mbox{\hyperlink{class_t_thick_quadratic_a77408faf6a40d919069ca5ce7733169a}{getThickP1}}() ||}
\DoxyCodeLine{01837         chanck-\/>\mbox{\hyperlink{class_t_thick_quadratic_aa33c22ffd048565884c957888a677f83}{getThickP2}}() != sChanck-\/>\mbox{\hyperlink{class_t_thick_quadratic_aa33c22ffd048565884c957888a677f83}{getThickP2}}())}
\DoxyCodeLine{01838       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01839   \}}
\DoxyCodeLine{01840   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01841 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a5f7db5d1c7dec2050d9c4dba21fe7aed}\label{class_t_stroke_a5f7db5d1c7dec2050d9c4dba21fe7aed}} 
\index{TStroke@{TStroke}!outlineOptions@{outlineOptions}}
\index{outlineOptions@{outlineOptions}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{outlineOptions()}{outlineOptions()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily TStroke\+::\+Outline\+Options \& TStroke\+::outline\+Options (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02500                                                \{}
\DoxyCodeLine{02501   \textcolor{keywordflow}{return} m\_imp-\/>m\_outlineOptions;}
\DoxyCodeLine{02502 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a68eefceb3055bad6b72b2e73139cc16d}\label{class_t_stroke_a68eefceb3055bad6b72b2e73139cc16d}} 
\index{TStroke@{TStroke}!outlineOptions@{outlineOptions}}
\index{outlineOptions@{outlineOptions}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{outlineOptions()}{outlineOptions()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily const TStroke\+::\+Outline\+Options \& TStroke\+::outline\+Options (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{02506                                                            \{}
\DoxyCodeLine{02507   \textcolor{keywordflow}{return} m\_imp-\/>m\_outlineOptions;}
\DoxyCodeLine{02508 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a8c4a98f6502fd9255d2887e81ac5aa09}\label{class_t_stroke_a8c4a98f6502fd9255d2887e81ac5aa09}} 
\index{TStroke@{TStroke}!print@{print}}
\index{print@{print}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{print()}{print()}}
{\footnotesize\ttfamily void TStroke\+::print (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os = {\ttfamily std\+:\+:cout} }\end{DoxyParamCaption}) const}



Only for debug. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02267                                      \{}
\DoxyCodeLine{02268   \textcolor{comment}{// m\_imp-\/>print(os);}}
\DoxyCodeLine{02269   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *q;}
\DoxyCodeLine{02270 }
\DoxyCodeLine{02271   os << \textcolor{stringliteral}{"{}Punti di controllo\(\backslash\)n"{}};}
\DoxyCodeLine{02272   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}(); ++i) \{}
\DoxyCodeLine{02273     os << \textcolor{stringliteral}{"{}quad \#"{}} << i << \textcolor{stringliteral}{"{}:"{}} << endl;}
\DoxyCodeLine{02274     q = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(i);}
\DoxyCodeLine{02275 }
\DoxyCodeLine{02276     os << \textcolor{stringliteral}{"{}    P0:"{}} << q-\/>\mbox{\hyperlink{class_t_thick_quadratic_abf58f97664876561f84fa68a90f33d8b}{getThickP0}}().x << \textcolor{stringliteral}{"{}, "{}} << q-\/>\mbox{\hyperlink{class_t_thick_quadratic_abf58f97664876561f84fa68a90f33d8b}{getThickP0}}().y << \textcolor{stringliteral}{"{}, "{}}}
\DoxyCodeLine{02277        << q-\/>\mbox{\hyperlink{class_t_thick_quadratic_abf58f97664876561f84fa68a90f33d8b}{getThickP0}}().thick << endl;}
\DoxyCodeLine{02278     os << \textcolor{stringliteral}{"{}    P1:"{}} << q-\/>\mbox{\hyperlink{class_t_thick_quadratic_a77408faf6a40d919069ca5ce7733169a}{getThickP1}}().x << \textcolor{stringliteral}{"{}, "{}} << q-\/>\mbox{\hyperlink{class_t_thick_quadratic_a77408faf6a40d919069ca5ce7733169a}{getThickP1}}().y << \textcolor{stringliteral}{"{}, "{}}}
\DoxyCodeLine{02279        << q-\/>\mbox{\hyperlink{class_t_thick_quadratic_a77408faf6a40d919069ca5ce7733169a}{getThickP1}}().thick << endl;}
\DoxyCodeLine{02280     assert(i == \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() -\/ 1 ||}
\DoxyCodeLine{02281            (\mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(i)-\/>getThickP2() == \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(i + 1)-\/>getThickP0()));}
\DoxyCodeLine{02282   \}}
\DoxyCodeLine{02283 }
\DoxyCodeLine{02284   q = \mbox{\hyperlink{class_t_stroke_a06b18ffed330411aad73ef1748a3f263}{getChunk}}(\mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() -\/ 1);}
\DoxyCodeLine{02285 }
\DoxyCodeLine{02286   os << \textcolor{stringliteral}{"{}    P2:"{}} << q-\/>\mbox{\hyperlink{class_t_thick_quadratic_aa33c22ffd048565884c957888a677f83}{getThickP2}}().x << \textcolor{stringliteral}{"{}, "{}} << q-\/>\mbox{\hyperlink{class_t_thick_quadratic_aa33c22ffd048565884c957888a677f83}{getThickP2}}().y << \textcolor{stringliteral}{"{}, "{}}}
\DoxyCodeLine{02287      << q-\/>\mbox{\hyperlink{class_t_thick_quadratic_aa33c22ffd048565884c957888a677f83}{getThickP2}}().thick << endl;}
\DoxyCodeLine{02288 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01855}{get\+Chunk()}}, \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, \mbox{\hyperlink{l00447}{TThick\+Quadratic\+::get\+Thick\+P0()}}, \mbox{\hyperlink{l00449}{TThick\+Quadratic\+::get\+Thick\+P1()}}, and \mbox{\hyperlink{l00451}{TThick\+Quadratic\+::get\+Thick\+P2()}}.

\mbox{\Hypertarget{class_t_stroke_a81a280d6be49406cf03d65530b9d9ce6}\label{class_t_stroke_a81a280d6be49406cf03d65530b9d9ce6}} 
\index{TStroke@{TStroke}!reduceControlPoints@{reduceControlPoints}}
\index{reduceControlPoints@{reduceControlPoints}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{reduceControlPoints()}{reduceControlPoints()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void TStroke\+::reduce\+Control\+Points (\begin{DoxyParamCaption}\item[{double}]{max\+Error }\end{DoxyParamCaption})}



Reduce the number of control point according to {\bfseries{max\+Error}} parameter. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01806                                               \{}
\DoxyCodeLine{01807   \mbox{\hyperlink{classvector}{vector<int>}} corners;}
\DoxyCodeLine{01808   corners.push\_back(0);}
\DoxyCodeLine{01809   detectCorners(\textcolor{keyword}{this}, 10, corners);}
\DoxyCodeLine{01810   corners.push\_back(\mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}());}
\DoxyCodeLine{01811   \mbox{\hyperlink{class_t_stroke_a81a280d6be49406cf03d65530b9d9ce6}{reduceControlPoints}}(error, corners);}
\DoxyCodeLine{01812 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, and \mbox{\hyperlink{l01806}{reduce\+Control\+Points()}}.



Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, and \mbox{\hyperlink{l01806}{reduce\+Control\+Points()}}.

\mbox{\Hypertarget{class_t_stroke_a2df612adf8c3ef9f110dcfe8fbff8210}\label{class_t_stroke_a2df612adf8c3ef9f110dcfe8fbff8210}} 
\index{TStroke@{TStroke}!reduceControlPoints@{reduceControlPoints}}
\index{reduceControlPoints@{reduceControlPoints}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{reduceControlPoints()}{reduceControlPoints()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void TStroke\+::reduce\+Control\+Points (\begin{DoxyParamCaption}\item[{double}]{max\+Error,  }\item[{std\+::vector$<$ int $>$}]{corners }\end{DoxyParamCaption})}

Reduce the number of control point according to {\bfseries{max\+Error}} parameter. The vector corners contain the corner of the stroke. \mbox{\Hypertarget{class_t_stroke_a939e478aa10028d3e5787a8cfe6c901d}\label{class_t_stroke_a939e478aa10028d3e5787a8cfe6c901d}} 
\index{TStroke@{TStroke}!reshape@{reshape}}
\index{reshape@{reshape}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{reshape()}{reshape()}}
{\footnotesize\ttfamily void TStroke\+::reshape (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}}}]{pos\mbox{[}$\,$\mbox{]},  }\item[{int}]{count }\end{DoxyParamCaption})}



Reshape stroke. 

Ridisegna lo stroke. 
\begin{DoxyCode}{0}
\DoxyCodeLine{01482                                                         \{}
\DoxyCodeLine{01483   \textcolor{comment}{// count deve essere dispari e maggiore o uguale a tre}}
\DoxyCodeLine{01484   assert(count >= 3);}
\DoxyCodeLine{01485   assert(count \& 1);}
\DoxyCodeLine{01486   QuadStrokeChunkArray \&chunkArray = m\_imp-\/>m\_centerLineArray;}
\DoxyCodeLine{01487   clearPointerContainer(chunkArray);}
\DoxyCodeLine{01488 }
\DoxyCodeLine{01489   m\_imp-\/>m\_negativeThicknessPoints = 0;}
\DoxyCodeLine{01490   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < count -\/ 1; i += 2) \{}
\DoxyCodeLine{01491     chunkArray.push\_back(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}}(pos[i], pos[i + 1], pos[i + 2]));}
\DoxyCodeLine{01492     \textcolor{keywordflow}{if} (pos[i].thick <= 0) m\_imp-\/>m\_negativeThicknessPoints++;}
\DoxyCodeLine{01493     \textcolor{keywordflow}{if} (pos[i + 1].thick <= 0) m\_imp-\/>m\_negativeThicknessPoints++;}
\DoxyCodeLine{01494   \}}
\DoxyCodeLine{01495   \textcolor{keywordflow}{if} (pos[count -\/ 1].thick <= 0) m\_imp-\/>m\_negativeThicknessPoints++;}
\DoxyCodeLine{01496 }
\DoxyCodeLine{01497   \mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{01498   \textcolor{comment}{// m\_imp-\/>computeBBox();}}
\DoxyCodeLine{01499   m\_imp-\/>computeParameterInControlPoint();}
\DoxyCodeLine{01500 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01606}{invalidate()}}.



Referenced by \mbox{\hyperlink{l00664}{Control\+Point\+Editor\+Stroke\+::add\+Control\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_af4c88e9c3ec57efa8cd56942237cdaf8}\label{class_t_stroke_af4c88e9c3ec57efa8cd56942237cdaf8}} 
\index{TStroke@{TStroke}!setAverageThickness@{setAverageThickness}}
\index{setAverageThickness@{setAverageThickness}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{setAverageThickness()}{setAverageThickness()}}
{\footnotesize\ttfamily void TStroke\+::set\+Average\+Thickness (\begin{DoxyParamCaption}\item[{double}]{thickness }\end{DoxyParamCaption})}



Set the average value of stroke thickness to {\bfseries{thickness}}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{01825                                                   \{}
\DoxyCodeLine{01826   m\_imp-\/>m\_averageThickness = thickness;}
\DoxyCodeLine{01827 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01117}{Toonz\+Ext\+::clone\+Stroke\+Status()}}.

\mbox{\Hypertarget{class_t_stroke_aac914581f45e1211250e3d40cf6199e8}\label{class_t_stroke_aac914581f45e1211250e3d40cf6199e8}} 
\index{TStroke@{TStroke}!setControlPoint@{setControlPoint}}
\index{setControlPoint@{setControlPoint}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{setControlPoint()}{setControlPoint()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void TStroke\+::set\+Control\+Point (\begin{DoxyParamCaption}\item[{int}]{n,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the position of n-\/th control point. If \char`\"{}n\char`\"{} is not a valid position no points are changed If the CP is shared between two chunks, then both chunks are modified The first method doesn\textquotesingle{}t change the point thickness 
\begin{DoxyCode}{0}
\DoxyCodeLine{00162                                                   \{}
\DoxyCodeLine{00163     \mbox{\hyperlink{class_t_stroke_abc4f174af1e2712c400ae63e005aac18}{setControlPoint}}(n, \mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(pos, \mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(n).thick));}
\DoxyCodeLine{00164   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_abc4f174af1e2712c400ae63e005aac18}\label{class_t_stroke_abc4f174af1e2712c400ae63e005aac18}} 
\index{TStroke@{TStroke}!setControlPoint@{setControlPoint}}
\index{setControlPoint@{setControlPoint}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{setControlPoint()}{setControlPoint()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void TStroke\+::set\+Control\+Point (\begin{DoxyParamCaption}\item[{int}]{n,  }\item[{const \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \&}]{pos }\end{DoxyParamCaption})}

Set the position of n-\/th control point. If \char`\"{}n\char`\"{} is not a valid position no points are changed If the CP is shared between two chunks, then both chunks are modified The first method doesn\textquotesingle{}t change the point thickness 
\begin{DoxyCode}{0}
\DoxyCodeLine{01427                                                            \{}
\DoxyCodeLine{01428   assert(n >= 0);}
\DoxyCodeLine{01429   assert(n < \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}());}
\DoxyCodeLine{01430   \textcolor{keywordflow}{if} (n < 0 || n >= \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01431 }
\DoxyCodeLine{01432   \mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{01433 }
\DoxyCodeLine{01434   QuadStrokeChunkArray \&chunkArray = m\_imp-\/>m\_centerLineArray;}
\DoxyCodeLine{01435 }
\DoxyCodeLine{01436   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(n).thick <= 0 \&\& pos.thick > 0)}
\DoxyCodeLine{01437     m\_imp-\/>m\_negativeThicknessPoints-\/-\/;}
\DoxyCodeLine{01438   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(n).thick > 0 \&\& pos.thick <= 0)}
\DoxyCodeLine{01439     m\_imp-\/>m\_negativeThicknessPoints++;}
\DoxyCodeLine{01440 }
\DoxyCodeLine{01441   \textcolor{keywordflow}{if} (n == 0) \{}
\DoxyCodeLine{01442     chunkArray[0]-\/>setThickP0(pos);}
\DoxyCodeLine{01443     \textcolor{comment}{// m\_imp-\/>computeBBox();}}
\DoxyCodeLine{01444     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01445   \}}
\DoxyCodeLine{01446 }
\DoxyCodeLine{01447   \textcolor{keywordtype}{int} chunkNumber = tceil((n -\/ 1) * 0.5);}
\DoxyCodeLine{01448   assert(chunkNumber <= \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}());}
\DoxyCodeLine{01449 }
\DoxyCodeLine{01450   \textcolor{keywordtype}{int} pointOffset = n -\/ chunkNumber * 2;}
\DoxyCodeLine{01451 }
\DoxyCodeLine{01452   \textcolor{keywordflow}{if} (chunkNumber == \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}())  \textcolor{comment}{// e' l'ultimo punto della stroke}}
\DoxyCodeLine{01453   \{}
\DoxyCodeLine{01454     chunkArray[chunkNumber -\/ 1]-\/>setThickP2(pos);}
\DoxyCodeLine{01455     \textcolor{comment}{// m\_imp-\/>computeBBox();}}
\DoxyCodeLine{01456     \textcolor{keywordflow}{return};}
\DoxyCodeLine{01457   \}}
\DoxyCodeLine{01458 }
\DoxyCodeLine{01459   \textcolor{keywordflow}{if} (0 == pointOffset) \{}
\DoxyCodeLine{01460     chunkArray[chunkNumber]-\/>setThickP0(pos);}
\DoxyCodeLine{01461 }
\DoxyCodeLine{01462     \textcolor{keywordflow}{if} (chunkNumber >= 1) \{}
\DoxyCodeLine{01463       chunkNumber-\/-\/;}
\DoxyCodeLine{01464       chunkArray[chunkNumber]-\/>setThickP2(pos);}
\DoxyCodeLine{01465     \}}
\DoxyCodeLine{01466   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (1 == pointOffset)}
\DoxyCodeLine{01467     chunkArray[chunkNumber]-\/>setThickP1(pos);}
\DoxyCodeLine{01468   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (2 == pointOffset) \{}
\DoxyCodeLine{01469     chunkArray[chunkNumber]-\/>setThickP2(pos);}
\DoxyCodeLine{01470 }
\DoxyCodeLine{01471     \textcolor{keywordflow}{if} (chunkNumber < \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() -\/ 1) \{}
\DoxyCodeLine{01472       chunkNumber++;}
\DoxyCodeLine{01473       chunkArray[chunkNumber]-\/>setThickP0(pos);}
\DoxyCodeLine{01474     \}}
\DoxyCodeLine{01475   \}}
\DoxyCodeLine{01476   \textcolor{comment}{// m\_imp-\/>computeBBox();}}
\DoxyCodeLine{01477 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}, and \mbox{\hyperlink{l01606}{invalidate()}}.



Referenced by \mbox{\hyperlink{l00281}{Toonz\+Ext\+::\+Stroke\+Deformation\+Impl\+::activate\+\_\+impl()}}, \mbox{\hyperlink{l02469}{set\+Self\+Loop()}}, and \mbox{\hyperlink{l01612}{Vectorizer\+Core\+::vectorize()}}.

\mbox{\Hypertarget{class_t_stroke_a900cfdc7bd9096db881dd2b18be73d8c}\label{class_t_stroke_a900cfdc7bd9096db881dd2b18be73d8c}} 
\index{TStroke@{TStroke}!setFlag@{setFlag}}
\index{setFlag@{setFlag}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{setFlag()}{setFlag()}}
{\footnotesize\ttfamily void TStroke\+::set\+Flag (\begin{DoxyParamCaption}\item[{TStroke\+Flag}]{flag,  }\item[{bool}]{status }\end{DoxyParamCaption})}



Set {\bfseries{TStroke\+Flag}} of the stroke. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02408                                                    \{}
\DoxyCodeLine{02409   \textcolor{keywordflow}{if} (status)}
\DoxyCodeLine{02410     m\_imp-\/>m\_flag |= flag;}
\DoxyCodeLine{02411   \textcolor{keywordflow}{else}}
\DoxyCodeLine{02412     m\_imp-\/>m\_flag \&= \string~flag;}
\DoxyCodeLine{02413 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_a389b7637fdb511793b4162d92e034941}\label{class_t_stroke_a389b7637fdb511793b4162d92e034941}} 
\index{TStroke@{TStroke}!setId@{setId}}
\index{setId@{setId}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{setId()}{setId()}}
{\footnotesize\ttfamily void TStroke\+::set\+Id (\begin{DoxyParamCaption}\item[{int}]{id }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{02445 \{ m\_imp-\/>m\_id = id; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_aef8b4788a2f4c1a19ef0ceb2bb76f07a}\label{class_t_stroke_aef8b4788a2f4c1a19ef0ceb2bb76f07a}} 
\index{TStroke@{TStroke}!setProp@{setProp}}
\index{setProp@{setProp}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{setProp()}{setProp()}}
{\footnotesize\ttfamily void TStroke\+::set\+Prop (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_stroke_prop}{TStroke\+Prop}} $\ast$}]{prop }\end{DoxyParamCaption})}



Set {\bfseries{TSroke\+Prope}} of a stroke. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02358                                        \{}
\DoxyCodeLine{02359   assert(prop);}
\DoxyCodeLine{02360   \textcolor{keyword}{delete} m\_imp-\/>m\_prop;}
\DoxyCodeLine{02361   m\_imp-\/>m\_prop = prop;}
\DoxyCodeLine{02362 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_afa2c66ae11a70e68b3de3ce0b4cfb049}\label{class_t_stroke_afa2c66ae11a70e68b3de3ce0b4cfb049}} 
\index{TStroke@{TStroke}!setSelfLoop@{setSelfLoop}}
\index{setSelfLoop@{setSelfLoop}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{setSelfLoop()}{setSelfLoop()}}
{\footnotesize\ttfamily void TStroke\+::set\+Self\+Loop (\begin{DoxyParamCaption}\item[{bool}]{loop = {\ttfamily true} }\end{DoxyParamCaption})}



Set a loop stroke. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02469                                    \{}
\DoxyCodeLine{02470   \textcolor{keywordflow}{if} (loop) \{}
\DoxyCodeLine{02471     \textcolor{comment}{// assert that a self loop is a stroke where first and last control points}}
\DoxyCodeLine{02472     \textcolor{comment}{// are the same}}
\DoxyCodeLine{02473     \textcolor{keyword}{const} \textcolor{keywordtype}{int} cpCount = this-\/>\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}();}
\DoxyCodeLine{02474 }
\DoxyCodeLine{02475     \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} p, p0 = this-\/>\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(0),}
\DoxyCodeLine{02476                    pn = this-\/>\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(cpCount -\/ 1);}
\DoxyCodeLine{02477 }
\DoxyCodeLine{02478     p = (p0 + pn) * 0.5;}
\DoxyCodeLine{02479 }
\DoxyCodeLine{02480     this-\/>\mbox{\hyperlink{class_t_stroke_abc4f174af1e2712c400ae63e005aac18}{setControlPoint}}(0, p);}
\DoxyCodeLine{02481     this-\/>\mbox{\hyperlink{class_t_stroke_abc4f174af1e2712c400ae63e005aac18}{setControlPoint}}(cpCount -\/ 1, p);}
\DoxyCodeLine{02482   \}}
\DoxyCodeLine{02483   m\_imp-\/>m\_selfLoop = loop;}
\DoxyCodeLine{02484 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}, and \mbox{\hyperlink{l01427}{set\+Control\+Point()}}.



Referenced by \mbox{\hyperlink{l01117}{Toonz\+Ext\+::clone\+Stroke\+Status()}}, and \mbox{\hyperlink{l00858}{Toonz\+Ext\+::rotate\+Control\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_a33f59dfbed74b577700351eac8c2fc7b}\label{class_t_stroke_a33f59dfbed74b577700351eac8c2fc7b}} 
\index{TStroke@{TStroke}!setStyle@{setStyle}}
\index{setStyle@{setStyle}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{setStyle()}{setStyle()}}
{\footnotesize\ttfamily void TStroke\+::set\+Style (\begin{DoxyParamCaption}\item[{int}]{style\+Id }\end{DoxyParamCaption})}

Set a style \begin{DoxyNote}{Note}
If the same style exists, it is replaced by new 

\mbox{\hyperlink{class_t_stroke}{TStroke}} becomes the owner of TStroke\+Style 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{02370                                   \{}
\DoxyCodeLine{02371   m\_imp-\/>m\_styleId = styleId;}
\DoxyCodeLine{02372 }
\DoxyCodeLine{02373   \textcolor{comment}{/*}}
\DoxyCodeLine{02374 \textcolor{comment}{if (!colorStyle || (colorStyle \&\& colorStyle-\/>isStrokeStyle())  )}}
\DoxyCodeLine{02375 \textcolor{comment}{\{}}
\DoxyCodeLine{02376 \textcolor{comment}{m\_imp-\/>m\_colorStyle = colorStyle;}}
\DoxyCodeLine{02377 \textcolor{comment}{delete m\_imp-\/>m\_prop;}}
\DoxyCodeLine{02378 \textcolor{comment}{m\_imp-\/>m\_prop = 0;}}
\DoxyCodeLine{02379 \textcolor{comment}{\}}}
\DoxyCodeLine{02380 \textcolor{comment}{*/}}
\DoxyCodeLine{02381 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01117}{Toonz\+Ext\+::clone\+Stroke\+Status()}}, \mbox{\hyperlink{l00727}{Raster\+Tape\+Tool\+::close\+Freehand()}}, \mbox{\hyperlink{l01355}{Selection\+Tool\+::close\+Freehand()}}, \mbox{\hyperlink{l02107}{TImage\+Reader\+Svg\+::load()}}, \mbox{\hyperlink{l00534}{Pump\+Tool\+::on\+Deactivate()}}, \mbox{\hyperlink{l03283}{TVector\+Image\+::reassign\+Styles()}}, and \mbox{\hyperlink{l02193}{split()}}.

\mbox{\Hypertarget{class_t_stroke_a3de435d73bc9063b8667b590032e9eaa}\label{class_t_stroke_a3de435d73bc9063b8667b590032e9eaa}} 
\index{TStroke@{TStroke}!split@{split}}
\index{split@{split}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{split()}{split()}}
{\footnotesize\ttfamily void TStroke\+::split (\begin{DoxyParamCaption}\item[{double}]{w,  }\item[{\mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{f,  }\item[{\mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{s }\end{DoxyParamCaption}) const}

Split a stroke at parameter t \begin{DoxyNote}{Note}
Chunk of null length are removed. 
\end{DoxyNote}

\begin{DoxyCode}{0}
\DoxyCodeLine{02193                                                           \{}
\DoxyCodeLine{02194   \textcolor{keywordtype}{int} chunk;}
\DoxyCodeLine{02195   \textcolor{keywordtype}{double} t;}
\DoxyCodeLine{02196   f.m\_imp-\/>m\_maxThickness = -\/1;}
\DoxyCodeLine{02197   s.m\_imp-\/>m\_maxThickness = -\/1;}
\DoxyCodeLine{02198   \textcolor{keywordflow}{if} (!m\_imp-\/>retrieveChunkAndItsParamameter(w, chunk, t)) \{}
\DoxyCodeLine{02199     assert(0 <= chunk \&\& chunk < \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}());}
\DoxyCodeLine{02200     assert(0 <= w \&\& w <= 1.0);}
\DoxyCodeLine{02201     assert(0 <= t \&\& t <= 1.0);}
\DoxyCodeLine{02202 }
\DoxyCodeLine{02203     QuadStrokeChunkArray \&chunkArray = m\_imp-\/>m\_centerLineArray;}
\DoxyCodeLine{02204 }
\DoxyCodeLine{02205     \textcolor{comment}{// build two temporary quadratic}}
\DoxyCodeLine{02206     \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} *tq1 = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}}, *tq2 = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}};}
\DoxyCodeLine{02207     \textcolor{comment}{// make split}}
\DoxyCodeLine{02208     chunkArray[chunk]-\/>split(t, *tq1, *tq2);}
\DoxyCodeLine{02209 }
\DoxyCodeLine{02210     \textcolor{comment}{// a temporary vector of ThickQuadratic}}
\DoxyCodeLine{02211     QuadStrokeChunkArray vTQ;}
\DoxyCodeLine{02212 }
\DoxyCodeLine{02213     \textcolor{comment}{// copy all chunk of stroke in a vTQ}}
\DoxyCodeLine{02214     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{02215     \textcolor{keywordflow}{for} (i = 0; i < chunk; ++i) vTQ.push\_back(chunkArray[i]);}
\DoxyCodeLine{02216 }
\DoxyCodeLine{02217     \textcolor{comment}{// not insert null length chunk (unless vTQ is empty....)}}
\DoxyCodeLine{02218     \textcolor{keywordflow}{if} (tq1-\/>\mbox{\hyperlink{class_t_quadratic_ac1db69c69cbf52b1becf396cc8006ca1}{getLength}}() != 0.0 || w == 0.0 || vTQ.empty()) vTQ.push\_back(tq1);}
\DoxyCodeLine{02219 }
\DoxyCodeLine{02220     \textcolor{comment}{// build a temp and swap}}
\DoxyCodeLine{02221     \mbox{\hyperlink{class_t_stroke}{TStroke}} *ts1  = \mbox{\hyperlink{class_t_stroke_a491c4097aa77f4290c1cb53e514b5820}{TStroke::create}}(vTQ);}
\DoxyCodeLine{02222     \textcolor{keywordflow}{if} (!ts1) ts1 = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stroke_a2c22dbd7a048945741211f65601e45ff}{TStroke}};}
\DoxyCodeLine{02223     ts1-\/>\mbox{\hyperlink{class_t_stroke_a53070c603a3bff6dc01defdfd4b86701}{swapGeometry}}(f);}
\DoxyCodeLine{02224 }
\DoxyCodeLine{02225     \textcolor{comment}{// clear vector (chunks are now under TStroke control)}}
\DoxyCodeLine{02226     vTQ.clear();}
\DoxyCodeLine{02227 }
\DoxyCodeLine{02228     \textcolor{comment}{// idem...}}
\DoxyCodeLine{02229     \textcolor{keywordflow}{if} (tq2-\/>\mbox{\hyperlink{class_t_quadratic_ac1db69c69cbf52b1becf396cc8006ca1}{getLength}}() != 0.0 || w == 1.0 || \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}() == 0)}
\DoxyCodeLine{02230       vTQ.push\_back(tq2);}
\DoxyCodeLine{02231 }
\DoxyCodeLine{02232     \textcolor{keywordflow}{for} (i = chunk + 1; i < \mbox{\hyperlink{class_t_stroke_a81b63663a798724333d8de692fdbcac0}{getChunkCount}}(); ++i) vTQ.push\_back(chunkArray[i]);}
\DoxyCodeLine{02233 }
\DoxyCodeLine{02234     \mbox{\hyperlink{class_t_stroke}{TStroke}} *ts2  = \mbox{\hyperlink{class_t_stroke_a491c4097aa77f4290c1cb53e514b5820}{TStroke::create}}(vTQ);}
\DoxyCodeLine{02235     \textcolor{keywordflow}{if} (!ts2) ts2 = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stroke_a2c22dbd7a048945741211f65601e45ff}{TStroke}};}
\DoxyCodeLine{02236     ts2-\/>\mbox{\hyperlink{class_t_stroke_a53070c603a3bff6dc01defdfd4b86701}{swapGeometry}}(s);}
\DoxyCodeLine{02237 }
\DoxyCodeLine{02238     \textcolor{comment}{// Copy style infos}}
\DoxyCodeLine{02239     f.\mbox{\hyperlink{class_t_stroke_a33f59dfbed74b577700351eac8c2fc7b}{setStyle}}(\mbox{\hyperlink{class_t_stroke_ab77068d7894a29cc1878e173f46ed785}{getStyle}}());}
\DoxyCodeLine{02240     s.\mbox{\hyperlink{class_t_stroke_a33f59dfbed74b577700351eac8c2fc7b}{setStyle}}(\mbox{\hyperlink{class_t_stroke_ab77068d7894a29cc1878e173f46ed785}{getStyle}}());}
\DoxyCodeLine{02241     f.outlineOptions() = s.outlineOptions() = outlineOptions();}
\DoxyCodeLine{02242 }
\DoxyCodeLine{02243     \textcolor{keyword}{delete} ts2;}
\DoxyCodeLine{02244     \textcolor{keyword}{delete} ts1;}
\DoxyCodeLine{02245     \textcolor{comment}{// delete temporary quadratic}}
\DoxyCodeLine{02246     \textcolor{keyword}{delete} tq1;}
\DoxyCodeLine{02247     \textcolor{keyword}{delete} tq2;}
\DoxyCodeLine{02248     \textcolor{keywordflow}{if} (f.\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}() == 3 \&\&}
\DoxyCodeLine{02249         f.\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(0) !=}
\DoxyCodeLine{02250             f.\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(2))  \textcolor{comment}{// gli stroke con solo 1 chunk vengono fatti}}
\DoxyCodeLine{02251                                    \textcolor{comment}{// dal tape tool...e devono venir}}
\DoxyCodeLine{02252                                    \textcolor{comment}{// riconosciuti come speciali di autoclose}}
\DoxyCodeLine{02253                                    \textcolor{comment}{// proprio dal fatto che hanno 1 solo chunk.}}
\DoxyCodeLine{02254       f.\mbox{\hyperlink{class_t_stroke_ac8dc8d662e1f0fad77ca0ffce4378f10}{insertControlPoints}}(0.5);}
\DoxyCodeLine{02255     \textcolor{keywordflow}{if} (s.\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}() == 3 \&\&}
\DoxyCodeLine{02256         s.\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(0) !=}
\DoxyCodeLine{02257             s.\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(2))  \textcolor{comment}{// gli stroke con solo 1 chunk vengono fatti}}
\DoxyCodeLine{02258                                    \textcolor{comment}{// dal tape tool...e devono venir}}
\DoxyCodeLine{02259                                    \textcolor{comment}{// riconosciuti come speciali di autoclose}}
\DoxyCodeLine{02260                                    \textcolor{comment}{// proprio dal fatto che hanno 1 solo chunk.}}
\DoxyCodeLine{02261       s.\mbox{\hyperlink{class_t_stroke_ac8dc8d662e1f0fad77ca0ffce4378f10}{insertControlPoints}}(0.5);}
\DoxyCodeLine{02262   \}}
\DoxyCodeLine{02263 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l03753}{create()}}, \mbox{\hyperlink{l01845}{get\+Chunk\+Count()}}, \mbox{\hyperlink{l01352}{get\+Control\+Point()}}, \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}, \mbox{\hyperlink{l00208}{TQuadratic\+::get\+Length()}}, \mbox{\hyperlink{l02366}{get\+Style()}}, \mbox{\hyperlink{l01679}{insert\+Control\+Points()}}, \mbox{\hyperlink{l02370}{set\+Style()}}, \mbox{\hyperlink{l02437}{swap\+Geometry()}}, and \mbox{\hyperlink{l01190}{TStroke()}}.

\mbox{\Hypertarget{class_t_stroke_a9c648b7727206be3cd815f8105507694}\label{class_t_stroke_a9c648b7727206be3cd815f8105507694}} 
\index{TStroke@{TStroke}!swap@{swap}}
\index{swap@{swap}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{swap()}{swap()}}
{\footnotesize\ttfamily void TStroke\+::swap (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{ref }\end{DoxyParamCaption})}



Swap the contents of two strokes. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02423                                \{}
\DoxyCodeLine{02424   std::swap(m\_imp, ref.m\_imp);}
\DoxyCodeLine{02425 }
\DoxyCodeLine{02426   \textcolor{comment}{// Stroke props need to update their stroke owners}}
\DoxyCodeLine{02427   \textcolor{keywordflow}{if} (m\_imp-\/>m\_prop) m\_imp-\/>m\_prop-\/>setStroke(\textcolor{keyword}{this});}
\DoxyCodeLine{02428   \textcolor{keywordflow}{if} (ref.m\_imp-\/>m\_prop) ref.m\_imp-\/>m\_prop-\/>setStroke(\&ref);}
\DoxyCodeLine{02429 }
\DoxyCodeLine{02430   \textcolor{comment}{// The id is retained. This is coherent as the stroke id is supposedly}}
\DoxyCodeLine{02431   \textcolor{comment}{// not an exchangeable info.}}
\DoxyCodeLine{02432   std::swap(m\_imp-\/>m\_id, ref.m\_imp-\/>m\_id);}
\DoxyCodeLine{02433 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l01258}{operator=()}}.

\mbox{\Hypertarget{class_t_stroke_a53070c603a3bff6dc01defdfd4b86701}\label{class_t_stroke_a53070c603a3bff6dc01defdfd4b86701}} 
\index{TStroke@{TStroke}!swapGeometry@{swapGeometry}}
\index{swapGeometry@{swapGeometry}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{swapGeometry()}{swapGeometry()}}
{\footnotesize\ttfamily void TStroke\+::swap\+Geometry (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{ref }\end{DoxyParamCaption})}



Swapd the geometrical data of two strokes. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02437 \{ m\_imp-\/>swapGeometry(*ref.m\_imp); \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l02193}{split()}}.

\mbox{\Hypertarget{class_t_stroke_a919f059066dc8dcabeb57ece1775d590}\label{class_t_stroke_a919f059066dc8dcabeb57ece1775d590}} 
\index{TStroke@{TStroke}!transform@{transform}}
\index{transform@{transform}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}}
{\footnotesize\ttfamily void TStroke\+::transform (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_affine}{TAffine}} \&}]{aff,  }\item[{bool}]{do\+Change\+Thickness = {\ttfamily false} }\end{DoxyParamCaption})}



Transform a stroke using an affine. 


\begin{DoxyCode}{0}
\DoxyCodeLine{02292                                                                   \{}
\DoxyCodeLine{02293   \textcolor{keywordflow}{for} (UINT i = 0; i < m\_imp-\/>m\_centerLineArray.size(); ++i) \{}
\DoxyCodeLine{02294     \mbox{\hyperlink{class_t_thick_quadratic}{TThickQuadratic}} \&ref = *m\_imp-\/>m\_centerLineArray[i];}
\DoxyCodeLine{02295     ref                  = transformQuad(aff, ref, doChangeThickness);}
\DoxyCodeLine{02296 }
\DoxyCodeLine{02297     \textcolor{keywordflow}{if} (doChangeThickness) \{}
\DoxyCodeLine{02298       \textcolor{keywordtype}{double} det                                     = aff.det();}
\DoxyCodeLine{02299       \textcolor{keywordflow}{if} (det == 0) m\_imp-\/>m\_negativeThicknessPoints = \mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}();}
\DoxyCodeLine{02300       \textcolor{keywordflow}{if} (m\_imp-\/>m\_maxThickness != -\/1) m\_imp-\/>m\_maxThickness *= sqrt(fabs(det));}
\DoxyCodeLine{02301       \textcolor{comment}{// else if(det<0)}}
\DoxyCodeLine{02302       \textcolor{comment}{//  m\_imp-\/>m\_negativeThicknessPoints=getControlPointCount()-\/m\_imp-\/>m\_negativeThicknessPoints;}}
\DoxyCodeLine{02303     \}}
\DoxyCodeLine{02304   \}}
\DoxyCodeLine{02305 }
\DoxyCodeLine{02306   \mbox{\hyperlink{class_t_stroke_a03d49743089710215ab6984db1f6e3a2}{invalidate}}();}
\DoxyCodeLine{02307 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01849}{get\+Control\+Point\+Count()}}, and \mbox{\hyperlink{l01606}{invalidate()}}.



Referenced by \mbox{\hyperlink{l00760}{Raster\+Tape\+Tool\+::check\+Segments()}}, and \mbox{\hyperlink{l00277}{Area\+Filler\+::stroke\+Fill()}}.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_t_stroke_ad534cb64206559dd01f73a2332b8d1c3}\label{class_t_stroke_ad534cb64206559dd01f73a2332b8d1c3}} 
\index{TStroke@{TStroke}!c\_changed\_region\_flag@{c\_changed\_region\_flag}}
\index{c\_changed\_region\_flag@{c\_changed\_region\_flag}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{c\_changed\_region\_flag}{c\_changed\_region\_flag}}
{\footnotesize\ttfamily const BYTE TStroke\+::c\+\_\+changed\+\_\+region\+\_\+flag = 0x2\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{class_t_stroke_a4b1eca7c81a7063ba7d66e7c0650ee3b}\label{class_t_stroke_a4b1eca7c81a7063ba7d66e7c0650ee3b}} 
\index{TStroke@{TStroke}!c\_dirty\_flag@{c\_dirty\_flag}}
\index{c\_dirty\_flag@{c\_dirty\_flag}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{c\_dirty\_flag}{c\_dirty\_flag}}
{\footnotesize\ttfamily const BYTE TStroke\+::c\+\_\+dirty\+\_\+flag = 0x4\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{class_t_stroke_a01d191135f8f21cd1f1cfdec331069ac}\label{class_t_stroke_a01d191135f8f21cd1f1cfdec331069ac}} 
\index{TStroke@{TStroke}!c\_selected\_flag@{c\_selected\_flag}}
\index{c\_selected\_flag@{c\_selected\_flag}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{c\_selected\_flag}{c\_selected\_flag}}
{\footnotesize\ttfamily const BYTE TStroke\+::c\+\_\+selected\+\_\+flag = 0x1\hspace{0.3cm}{\ttfamily [static]}}

\mbox{\Hypertarget{class_t_stroke_a79e25fbd73b03f8eba6092313bd6b287}\label{class_t_stroke_a79e25fbd73b03f8eba6092313bd6b287}} 
\index{TStroke@{TStroke}!m\_capStyle@{m\_capStyle}}
\index{m\_capStyle@{m\_capStyle}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{m\_capStyle}{m\_capStyle}}
{\footnotesize\ttfamily UCHAR TStroke\+::m\+\_\+cap\+Style}

\mbox{\Hypertarget{class_t_stroke_a25a263d4304e4e965d8df3665cc9b74b}\label{class_t_stroke_a25a263d4304e4e965d8df3665cc9b74b}} 
\index{TStroke@{TStroke}!m\_joinStyle@{m\_joinStyle}}
\index{m\_joinStyle@{m\_joinStyle}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{m\_joinStyle}{m\_joinStyle}}
{\footnotesize\ttfamily UCHAR TStroke\+::m\+\_\+join\+Style}

\mbox{\Hypertarget{class_t_stroke_af5b2e2299489e40b206b9e76af9fcb04}\label{class_t_stroke_af5b2e2299489e40b206b9e76af9fcb04}} 
\index{TStroke@{TStroke}!m\_miterLower@{m\_miterLower}}
\index{m\_miterLower@{m\_miterLower}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{m\_miterLower}{m\_miterLower}}
{\footnotesize\ttfamily double TStroke\+::m\+\_\+miter\+Lower}

\mbox{\Hypertarget{class_t_stroke_a4779b1a2e0ce88af9ee61efb14678472}\label{class_t_stroke_a4779b1a2e0ce88af9ee61efb14678472}} 
\index{TStroke@{TStroke}!m\_miterUpper@{m\_miterUpper}}
\index{m\_miterUpper@{m\_miterUpper}!TStroke@{TStroke}}
\doxysubsubsection{\texorpdfstring{m\_miterUpper}{m\_miterUpper}}
{\footnotesize\ttfamily double TStroke\+::m\+\_\+miter\+Upper}



The documentation for this struct was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tstroke.\+h\item 
E\+:/opentoonz/toonz/sources/common/tvectorimage/tstroke.\+cpp\end{DoxyCompactItemize}
