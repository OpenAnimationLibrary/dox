\hypertarget{class_iwa___adjust_exposure_fx}{}\doxysection{Iwa\+\_\+\+Adjust\+Exposure\+Fx Class Reference}
\label{class_iwa___adjust_exposure_fx}\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
Inheritance diagram for Iwa\+\_\+\+Adjust\+Exposure\+Fx\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{class_iwa___adjust_exposure_fx}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_iwa___adjust_exposure_fx_a929aff5e03a30fb4de73e1e2f4b87b65}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&settings) override
\item 
void \mbox{\hyperlink{class_iwa___adjust_exposure_fx_aa3907f5655c21517b4a7ae21b01fc96e}{do\+Compute\+\_\+\+CPU}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&settings, \mbox{\hyperlink{class_t_dimension_t}{TDimensionI}} \&dim, \mbox{\hyperlink{structfloat4}{float4}} $\ast$tile\+\_\+host)
\item 
bool \mbox{\hyperlink{class_iwa___adjust_exposure_fx_a154387404bf105c1a5a475e35608ac5a}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
bool \mbox{\hyperlink{class_iwa___adjust_exposure_fx_a9bdd11a4cc03f673b15a86f39d924ab0}{can\+Handle}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info, double frame) override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{struct___r_a_s_t_e_r}{RASTER}} , typename PIXEL $>$ }\\void \mbox{\hyperlink{class_iwa___adjust_exposure_fx_a1b83038ae22843d4ab46c3cbc039bd59}{set\+Source\+Raster}} (const \mbox{\hyperlink{struct___r_a_s_t_e_r}{RASTER}} src\+Ras, \mbox{\hyperlink{structfloat4}{float4}} $\ast$dst\+Mem, \mbox{\hyperlink{class_t_dimension_t}{TDimensionI}} dim)
\item 
{\footnotesize template$<$typename \mbox{\hyperlink{struct___r_a_s_t_e_r}{RASTER}} , typename PIXEL $>$ }\\void \mbox{\hyperlink{class_iwa___adjust_exposure_fx_a7777b62f9f4a3638e19bc3c78e318271}{set\+Output\+Raster}} (\mbox{\hyperlink{structfloat4}{float4}} $\ast$src\+Mem, const \mbox{\hyperlink{struct___r_a_s_t_e_r}{RASTER}} dst\+Ras, \mbox{\hyperlink{class_t_dimension_t}{TDimensionI}} dim)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_raster_fx_port}{TRaster\+Fx\+Port}} \mbox{\hyperlink{class_iwa___adjust_exposure_fx_ac0ceae0275e435d521dbc1f7b2378871}{m\+\_\+source}}
\item 
TDouble\+ParamP \mbox{\hyperlink{class_iwa___adjust_exposure_fx_ae7607c782b900ae3e30aa8cb97caa65b}{m\+\_\+hardness}}
\item 
TDouble\+ParamP \mbox{\hyperlink{class_iwa___adjust_exposure_fx_aef95cad2303c7e27c41b3cced95e8b3e}{m\+\_\+scale}}
\item 
TDouble\+ParamP \mbox{\hyperlink{class_iwa___adjust_exposure_fx_aaa4b1e821b40a0e0afb4d8cd0bc3f416}{m\+\_\+offset}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_a5347cf5fe232a3a88aa170a09e1d5786}\label{class_iwa___adjust_exposure_fx_a5347cf5fe232a3a88aa170a09e1d5786}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{Iwa\_AdjustExposureFx()}{Iwa\_AdjustExposureFx()}}
{\footnotesize\ttfamily Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::\+Iwa\+\_\+\+Adjust\+Exposure\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00065     : m\_hardness(3.3), m\_scale(0.0), m\_offset(0.0) \{}
\DoxyCodeLine{00066   \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}Source"{}}, m\_source);}
\DoxyCodeLine{00067   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}hardness"{}}, m\_hardness, \textcolor{keyword}{false});}
\DoxyCodeLine{00068   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}scale"{}}, m\_scale, \textcolor{keyword}{false});}
\DoxyCodeLine{00069   bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}offset"{}}, m\_offset, \textcolor{keyword}{false});}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00071   m\_hardness-\/>setValueRange(0.05, 20.0);}
\DoxyCodeLine{00072   m\_scale-\/>setValueRange(-\/10.0, 10.0);}
\DoxyCodeLine{00073   m\_offset-\/>setValueRange(-\/0.5, 0.5);}
\DoxyCodeLine{00074 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_a9bdd11a4cc03f673b15a86f39d924ab0}\label{class_iwa___adjust_exposure_fx_a9bdd11a4cc03f673b15a86f39d924ab0}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!canHandle@{canHandle}}
\index{canHandle@{canHandle}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{canHandle()}{canHandle()}}
{\footnotesize\ttfamily bool Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::can\+Handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00174                                                    \{}
\DoxyCodeLine{00175   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00176 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_a929aff5e03a30fb4de73e1e2f4b87b65}\label{class_iwa___adjust_exposure_fx_a929aff5e03a30fb4de73e1e2f4b87b65}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{settings }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00079                                                                       \{}
\DoxyCodeLine{00080   \textcolor{comment}{/*-\/ Sourceが無ければreturn -\/*/}}
\DoxyCodeLine{00081   \textcolor{keywordflow}{if} (!m\_source.isConnected()) \{}
\DoxyCodeLine{00082     tile.getRaster()-\/>clear();}
\DoxyCodeLine{00083     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00084   \}}
\DoxyCodeLine{00085 }
\DoxyCodeLine{00086   m\_source-\/>compute(tile, frame, settings);}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088   \mbox{\hyperlink{structfloat4}{float4}} *tile\_host;}
\DoxyCodeLine{00089   \mbox{\hyperlink{class_t_dimension_t}{TDimensionI}} dim(tile.getRaster()-\/>getSize());}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091   \textcolor{comment}{/*-\/ ホストメモリ確保 -\/*/}}
\DoxyCodeLine{00092   \mbox{\hyperlink{class_t_raster_p_t}{TRasterGR8P}} tile\_host\_ras(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structfloat4}{float4}}) * dim.lx, dim.ly);}
\DoxyCodeLine{00093   tile\_host\_ras-\/>lock();}
\DoxyCodeLine{00094   tile\_host = (\mbox{\hyperlink{structfloat4}{float4}} *)tile\_host\_ras-\/>getRawData();}
\DoxyCodeLine{00095 }
\DoxyCodeLine{00096   \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} ras32 = tile.getRaster();}
\DoxyCodeLine{00097   \mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}} ras64 = tile.getRaster();}
\DoxyCodeLine{00098   \textcolor{keywordflow}{if} (ras32)}
\DoxyCodeLine{00099     setSourceRaster<TRaster32P, TPixel32>(ras32, tile\_host, dim);}
\DoxyCodeLine{00100   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ras64)}
\DoxyCodeLine{00101     setSourceRaster<TRaster64P, TPixel64>(ras64, tile\_host, dim);}
\DoxyCodeLine{00102 }
\DoxyCodeLine{00103   doCompute\_CPU(tile, frame, settings, dim, tile\_host);}
\DoxyCodeLine{00104 }
\DoxyCodeLine{00105   \textcolor{comment}{/*-\/  出力結果をチャンネル値に変換 -\/*/}}
\DoxyCodeLine{00106   tile.getRaster()-\/>clear();}
\DoxyCodeLine{00107   \textcolor{keywordflow}{if} (ras32)}
\DoxyCodeLine{00108     setOutputRaster<TRaster32P, TPixel32>(tile\_host, ras32, dim);}
\DoxyCodeLine{00109   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ras64)}
\DoxyCodeLine{00110     setOutputRaster<TRaster64P, TPixel64>(tile\_host, ras64, dim);}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112   tile\_host\_ras-\/>unlock();}
\DoxyCodeLine{00113 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_aa3907f5655c21517b4a7ae21b01fc96e}\label{class_iwa___adjust_exposure_fx_aa3907f5655c21517b4a7ae21b01fc96e}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!doCompute\_CPU@{doCompute\_CPU}}
\index{doCompute\_CPU@{doCompute\_CPU}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{doCompute\_CPU()}{doCompute\_CPU()}}
{\footnotesize\ttfamily void Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::do\+Compute\+\_\+\+CPU (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{settings,  }\item[{\mbox{\hyperlink{class_t_dimension_t}{TDimensionI}} \&}]{dim,  }\item[{\mbox{\hyperlink{structfloat4}{float4}} $\ast$}]{tile\+\_\+host }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00119                                                                               \{}
\DoxyCodeLine{00120   \textcolor{keywordtype}{float} hardness = (float)m\_hardness-\/>getValue(frame);}
\DoxyCodeLine{00121   \textcolor{keywordtype}{float} scale    = (float)m\_scale-\/>getValue(frame);}
\DoxyCodeLine{00122   \textcolor{keywordtype}{float} offset   = (float)m\_offset-\/>getValue(frame);}
\DoxyCodeLine{00123 }
\DoxyCodeLine{00124   \textcolor{keywordtype}{float} exposureOffset = (powf(10.0f, (\textcolor{keywordtype}{float})(std::abs(offset) / hardness)) -\/ 1.0f) *}
\DoxyCodeLine{00125                          ((offset < 0.0f) ? -\/1.0f : 1.0f);}
\DoxyCodeLine{00126 }
\DoxyCodeLine{00127   \mbox{\hyperlink{structfloat4}{float4}} *pix = tile\_host;}
\DoxyCodeLine{00128 }
\DoxyCodeLine{00129   \textcolor{keywordtype}{int} size = dim.lx * dim.ly;}
\DoxyCodeLine{00130   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < size; i++, pix++) \{}
\DoxyCodeLine{00131     \textcolor{comment}{/*-\/ RGB-\/>Exposure -\/*/}}
\DoxyCodeLine{00132     pix-\/>x = powf(10, (pix-\/>x -\/ 0.5f) * hardness);}
\DoxyCodeLine{00133     pix-\/>y = powf(10, (pix-\/>y -\/ 0.5f) * hardness);}
\DoxyCodeLine{00134     pix-\/>z = powf(10, (pix-\/>z -\/ 0.5f) * hardness);}
\DoxyCodeLine{00135 }
\DoxyCodeLine{00136     \textcolor{comment}{/*-\/ スケール -\/*/}}
\DoxyCodeLine{00137     pix-\/>x *= powf(10, scale);}
\DoxyCodeLine{00138     pix-\/>y *= powf(10, scale);}
\DoxyCodeLine{00139     pix-\/>z *= powf(10, scale);}
\DoxyCodeLine{00140 }
\DoxyCodeLine{00141     \textcolor{comment}{/*-\/ オフセット -\/*/}}
\DoxyCodeLine{00142     pix-\/>x += exposureOffset;}
\DoxyCodeLine{00143     pix-\/>y += exposureOffset;}
\DoxyCodeLine{00144     pix-\/>z += exposureOffset;}
\DoxyCodeLine{00145 }
\DoxyCodeLine{00146     \textcolor{comment}{/*-\/ Exposure-\/>RGB -\/*/}}
\DoxyCodeLine{00147     pix-\/>x = log10f(pix-\/>x) / hardness + 0.5f;}
\DoxyCodeLine{00148     pix-\/>y = log10f(pix-\/>y) / hardness + 0.5f;}
\DoxyCodeLine{00149     pix-\/>z = log10f(pix-\/>z) / hardness + 0.5f;}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151     \textcolor{comment}{/*-\/ クランプ -\/*/}}
\DoxyCodeLine{00152     pix-\/>x = (pix-\/>x > 1.0f) ? 1.0f : ((pix-\/>x < 0.0f) ? 0.0f : pix-\/>x);}
\DoxyCodeLine{00153     pix-\/>y = (pix-\/>y > 1.0f) ? 1.0f : ((pix-\/>y < 0.0f) ? 0.0f : pix-\/>y);}
\DoxyCodeLine{00154     pix-\/>z = (pix-\/>z > 1.0f) ? 1.0f : ((pix-\/>z < 0.0f) ? 0.0f : pix-\/>z);}
\DoxyCodeLine{00155   \}}
\DoxyCodeLine{00156 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_a154387404bf105c1a5a475e35608ac5a}\label{class_iwa___adjust_exposure_fx_a154387404bf105c1a5a475e35608ac5a}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00161                                                                   \{}
\DoxyCodeLine{00162   \textcolor{keywordflow}{if} (m\_source.isConnected()) \{}
\DoxyCodeLine{00163     \textcolor{keywordtype}{bool} ret = m\_source-\/>doGetBBox(frame, bBox, info);}
\DoxyCodeLine{00164     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{00165   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00166     bBox = \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{00167     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00168   \}}
\DoxyCodeLine{00169 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_a7777b62f9f4a3638e19bc3c78e318271}\label{class_iwa___adjust_exposure_fx_a7777b62f9f4a3638e19bc3c78e318271}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!setOutputRaster@{setOutputRaster}}
\index{setOutputRaster@{setOutputRaster}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{setOutputRaster()}{setOutputRaster()}}
{\footnotesize\ttfamily template$<$typename \mbox{\hyperlink{struct___r_a_s_t_e_r}{RASTER}} , typename PIXEL $>$ \\
void Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::set\+Output\+Raster (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structfloat4}{float4}} $\ast$}]{src\+Mem,  }\item[{const \mbox{\hyperlink{struct___r_a_s_t_e_r}{RASTER}}}]{dst\+Ras,  }\item[{\mbox{\hyperlink{class_t_dimension_t}{TDimensionI}}}]{dim }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00033                                                             \{}
\DoxyCodeLine{00034   \mbox{\hyperlink{structfloat4}{float4}} *chan\_p = srcMem;}
\DoxyCodeLine{00035   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < dim.ly; j++) \{}
\DoxyCodeLine{00036     PIXEL *pix = dstRas-\/>pixels(j);}
\DoxyCodeLine{00037     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < dim.lx; i++) \{}
\DoxyCodeLine{00038       \textcolor{keywordtype}{float} val;}
\DoxyCodeLine{00039       val    = (*chan\_p).x * (float)PIXEL::maxChannelValue + 0.5f;}
\DoxyCodeLine{00040       pix-\/>r = (\textcolor{keyword}{typename} PIXEL::Channel)((val > (\textcolor{keywordtype}{float})PIXEL::maxChannelValue)}
\DoxyCodeLine{00041                                              ? (\textcolor{keywordtype}{float})PIXEL::maxChannelValue}
\DoxyCodeLine{00042                                              : val);}
\DoxyCodeLine{00043       val    = (*chan\_p).y * (float)PIXEL::maxChannelValue + 0.5f;}
\DoxyCodeLine{00044       pix-\/>g = (\textcolor{keyword}{typename} PIXEL::Channel)((val > (\textcolor{keywordtype}{float})PIXEL::maxChannelValue)}
\DoxyCodeLine{00045                                              ? (\textcolor{keywordtype}{float})PIXEL::maxChannelValue}
\DoxyCodeLine{00046                                              : val);}
\DoxyCodeLine{00047       val    = (*chan\_p).z * (float)PIXEL::maxChannelValue + 0.5f;}
\DoxyCodeLine{00048       pix-\/>b = (\textcolor{keyword}{typename} PIXEL::Channel)((val > (\textcolor{keywordtype}{float})PIXEL::maxChannelValue)}
\DoxyCodeLine{00049                                              ? (\textcolor{keywordtype}{float})PIXEL::maxChannelValue}
\DoxyCodeLine{00050                                              : val);}
\DoxyCodeLine{00051       val    = (*chan\_p).w * (float)PIXEL::maxChannelValue + 0.5f;}
\DoxyCodeLine{00052       pix-\/>m = (\textcolor{keyword}{typename} PIXEL::Channel)((val > (\textcolor{keywordtype}{float})PIXEL::maxChannelValue)}
\DoxyCodeLine{00053                                              ? (\textcolor{keywordtype}{float})PIXEL::maxChannelValue}
\DoxyCodeLine{00054                                              : val);}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056       pix++;}
\DoxyCodeLine{00057       chan\_p++;}
\DoxyCodeLine{00058     \}}
\DoxyCodeLine{00059   \}}
\DoxyCodeLine{00060 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_a1b83038ae22843d4ab46c3cbc039bd59}\label{class_iwa___adjust_exposure_fx_a1b83038ae22843d4ab46c3cbc039bd59}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!setSourceRaster@{setSourceRaster}}
\index{setSourceRaster@{setSourceRaster}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{setSourceRaster()}{setSourceRaster()}}
{\footnotesize\ttfamily template$<$typename \mbox{\hyperlink{struct___r_a_s_t_e_r}{RASTER}} , typename PIXEL $>$ \\
void Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::set\+Source\+Raster (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{struct___r_a_s_t_e_r}{RASTER}}}]{src\+Ras,  }\item[{\mbox{\hyperlink{structfloat4}{float4}} $\ast$}]{dst\+Mem,  }\item[{\mbox{\hyperlink{class_t_dimension_t}{TDimensionI}}}]{dim }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00011                                                             \{}
\DoxyCodeLine{00012   \mbox{\hyperlink{structfloat4}{float4}} *chann\_p = dstMem;}
\DoxyCodeLine{00013 }
\DoxyCodeLine{00014   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < dim.ly; j++) \{}
\DoxyCodeLine{00015     PIXEL *pix = srcRas-\/>pixels(j);}
\DoxyCodeLine{00016     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < dim.lx; i++) \{}
\DoxyCodeLine{00017       (*chann\_p).x = (float)pix-\/>r / (\textcolor{keywordtype}{float})PIXEL::maxChannelValue;}
\DoxyCodeLine{00018       (*chann\_p).y = (float)pix-\/>g / (\textcolor{keywordtype}{float})PIXEL::maxChannelValue;}
\DoxyCodeLine{00019       (*chann\_p).z = (float)pix-\/>b / (\textcolor{keywordtype}{float})PIXEL::maxChannelValue;}
\DoxyCodeLine{00020       (*chann\_p).w = (float)pix-\/>m / (\textcolor{keywordtype}{float})PIXEL::maxChannelValue;}
\DoxyCodeLine{00021 }
\DoxyCodeLine{00022       pix++;}
\DoxyCodeLine{00023       chann\_p++;}
\DoxyCodeLine{00024     \}}
\DoxyCodeLine{00025   \}}
\DoxyCodeLine{00026 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_ae7607c782b900ae3e30aa8cb97caa65b}\label{class_iwa___adjust_exposure_fx_ae7607c782b900ae3e30aa8cb97caa65b}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!m\_hardness@{m\_hardness}}
\index{m\_hardness@{m\_hardness}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{m\_hardness}{m\_hardness}}
{\footnotesize\ttfamily TDouble\+ParamP Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::m\+\_\+hardness\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_aaa4b1e821b40a0e0afb4d8cd0bc3f416}\label{class_iwa___adjust_exposure_fx_aaa4b1e821b40a0e0afb4d8cd0bc3f416}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!m\_offset@{m\_offset}}
\index{m\_offset@{m\_offset}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{m\_offset}{m\_offset}}
{\footnotesize\ttfamily TDouble\+ParamP Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::m\+\_\+offset\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_aef95cad2303c7e27c41b3cced95e8b3e}\label{class_iwa___adjust_exposure_fx_aef95cad2303c7e27c41b3cced95e8b3e}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!m\_scale@{m\_scale}}
\index{m\_scale@{m\_scale}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{m\_scale}{m\_scale}}
{\footnotesize\ttfamily TDouble\+ParamP Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::m\+\_\+scale\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_iwa___adjust_exposure_fx_ac0ceae0275e435d521dbc1f7b2378871}\label{class_iwa___adjust_exposure_fx_ac0ceae0275e435d521dbc1f7b2378871}} 
\index{Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}!m\_source@{m\_source}}
\index{m\_source@{m\_source}!Iwa\_AdjustExposureFx@{Iwa\_AdjustExposureFx}}
\doxysubsubsection{\texorpdfstring{m\_source}{m\_source}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_raster_fx_port}{TRaster\+Fx\+Port}} Iwa\+\_\+\+Adjust\+Exposure\+Fx\+::m\+\_\+source\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/stdfx/iwa\+\_\+adjustexposurefx.\+h\item 
E\+:/opentoonz/toonz/sources/stdfx/iwa\+\_\+adjustexposurefx.\+cpp\end{DoxyCompactItemize}
