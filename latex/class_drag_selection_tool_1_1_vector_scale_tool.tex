\hypertarget{class_drag_selection_tool_1_1_vector_scale_tool}{}\doxysection{Drag\+Selection\+Tool\+::Vector\+Scale\+Tool Class Reference}
\label{class_drag_selection_tool_1_1_vector_scale_tool}\index{DragSelectionTool::VectorScaleTool@{DragSelectionTool::VectorScaleTool}}
Inheritance diagram for Drag\+Selection\+Tool\+::Vector\+Scale\+Tool\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_drag_selection_tool_1_1_vector_scale_tool}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_drag_selection_tool_1_1_vector_scale_tool_aa8450eef0b9887d7c91390b82390ff82}{Vector\+Scale\+Tool}} (\mbox{\hyperlink{class_vector_selection_tool}{Vector\+Selection\+Tool}} $\ast$tool, Scale\+Type type)
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_drag_selection_tool_1_1_vector_scale_tool_a890a3e3f2662e7ff999890823a0f0cba}{transform}} (int index, \mbox{\hyperlink{class_t_point_t}{TPointD}} new\+Pos, bool on\+Fast\+Dragging=false) override
\begin{DoxyCompactList}\small\item\em Returns scale value. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_drag_selection_tool_1_1_vector_scale_tool_a181791360cc09a6840a7f7abfda3ac85}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_drag_selection_tool_1_1_vector_scale_tool_ace0f4ceb257996fcdab92e47575ac941}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_drag_selection_tool_1_1_vector_scale_tool_aa8450eef0b9887d7c91390b82390ff82}\label{class_drag_selection_tool_1_1_vector_scale_tool_aa8450eef0b9887d7c91390b82390ff82}} 
\index{DragSelectionTool::VectorScaleTool@{DragSelectionTool::VectorScaleTool}!VectorScaleTool@{VectorScaleTool}}
\index{VectorScaleTool@{VectorScaleTool}!DragSelectionTool::VectorScaleTool@{DragSelectionTool::VectorScaleTool}}
\doxysubsubsection{\texorpdfstring{VectorScaleTool()}{VectorScaleTool()}}
{\footnotesize\ttfamily Drag\+Selection\+Tool\+::\+Vector\+Scale\+Tool\+::\+Vector\+Scale\+Tool (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_vector_selection_tool}{Vector\+Selection\+Tool}} $\ast$}]{tool,  }\item[{Scale\+Type}]{type }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00848     : \mbox{\hyperlink{class_drag_selection_tool_1_1_vector_deform_tool}{VectorDeformTool}}(tool), m\_scale(\textcolor{keyword}{new} \mbox{\hyperlink{class_drag_selection_tool_1_1_scale}{Scale}}(\textcolor{keyword}{this}, type)) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_drag_selection_tool_1_1_vector_scale_tool_a181791360cc09a6840a7f7abfda3ac85}\label{class_drag_selection_tool_1_1_vector_scale_tool_a181791360cc09a6840a7f7abfda3ac85}} 
\index{DragSelectionTool::VectorScaleTool@{DragSelectionTool::VectorScaleTool}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!DragSelectionTool::VectorScaleTool@{DragSelectionTool::VectorScaleTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void Drag\+Selection\+Tool\+::\+Vector\+Scale\+Tool\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_drag_selection_tool_1_1_deform_tool}{Drag\+Selection\+Tool\+::\+Deform\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00892                                                                               \{}
\DoxyCodeLine{00893   m\_scale-\/>leftButtonDown(pos, e);}
\DoxyCodeLine{00894   VectorDeformTool::leftButtonDown(pos, e);}
\DoxyCodeLine{00895 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_drag_selection_tool_1_1_vector_scale_tool_ace0f4ceb257996fcdab92e47575ac941}\label{class_drag_selection_tool_1_1_vector_scale_tool_ace0f4ceb257996fcdab92e47575ac941}} 
\index{DragSelectionTool::VectorScaleTool@{DragSelectionTool::VectorScaleTool}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!DragSelectionTool::VectorScaleTool@{DragSelectionTool::VectorScaleTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void Drag\+Selection\+Tool\+::\+Vector\+Scale\+Tool\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_drag_selection_tool_1_1_vector_deform_tool}{Drag\+Selection\+Tool\+::\+Vector\+Deform\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00900                                                                               \{}
\DoxyCodeLine{00901   \mbox{\hyperlink{class_vector_selection_tool}{VectorSelectionTool}} *tool = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_vector_selection_tool}{VectorSelectionTool}} *\textcolor{keyword}{>}(m\_tool);}
\DoxyCodeLine{00902   tool-\/>setResetCenter(\textcolor{keyword}{false});}
\DoxyCodeLine{00903   m\_scale-\/>leftButtonDrag(pos, e);}
\DoxyCodeLine{00904 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_drag_selection_tool_1_1_vector_scale_tool_a890a3e3f2662e7ff999890823a0f0cba}\label{class_drag_selection_tool_1_1_vector_scale_tool_a890a3e3f2662e7ff999890823a0f0cba}} 
\index{DragSelectionTool::VectorScaleTool@{DragSelectionTool::VectorScaleTool}!transform@{transform}}
\index{transform@{transform}!DragSelectionTool::VectorScaleTool@{DragSelectionTool::VectorScaleTool}}
\doxysubsubsection{\texorpdfstring{transform()}{transform()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} Drag\+Selection\+Tool\+::\+Vector\+Scale\+Tool\+::transform (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{\mbox{\hyperlink{class_t_point_t}{TPointD}}}]{new\+Pos,  }\item[{bool}]{on\+Fast\+Dragging = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Returns scale value. 



Reimplemented from \mbox{\hyperlink{class_drag_selection_tool_1_1_drag_tool}{Drag\+Selection\+Tool\+::\+Drag\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00853                                                                            \{}
\DoxyCodeLine{00854   \mbox{\hyperlink{class_selection_tool}{SelectionTool}} *tool = getTool();}
\DoxyCodeLine{00855   \mbox{\hyperlink{class_t_point_t}{TPointD}} scaleValue  = tool-\/>m\_deformValues.m\_scaleValue;}
\DoxyCodeLine{00856 }
\DoxyCodeLine{00857   std::vector<FourPoints> startBboxs = m\_scale-\/>getStartBboxs();}
\DoxyCodeLine{00858   \mbox{\hyperlink{class_t_point_t}{TPointD}} center                     = m\_scale-\/>getStartCenter();}
\DoxyCodeLine{00859   \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{FourPoints}} bbox = m\_scale-\/>bboxScaleInCenter(index, startBboxs[0], newPos,}
\DoxyCodeLine{00860                                                scaleValue, center, \textcolor{keyword}{true});}
\DoxyCodeLine{00861   \textcolor{keywordflow}{if} (bbox == startBboxs[0]) \textcolor{keywordflow}{return} scaleValue;}
\DoxyCodeLine{00862 }
\DoxyCodeLine{00863   \textcolor{keywordtype}{bool} scaleInCenter = m\_scale-\/>scaleInCenter();}
\DoxyCodeLine{00864   \textcolor{comment}{// Se non ho scalato rispetto al centro calcolo la posizione del nuovo centro}}
\DoxyCodeLine{00865   \textcolor{keywordflow}{if} (!scaleInCenter)}
\DoxyCodeLine{00866     tool-\/>setCenter(m\_scale-\/>getNewCenter(index, startBboxs[0], scaleValue));}
\DoxyCodeLine{00867 }
\DoxyCodeLine{00868   \textcolor{keywordflow}{if} (tool-\/>isLevelType() || tool-\/>isSelectedFramesType()) \{}
\DoxyCodeLine{00869     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00870     \textcolor{keywordflow}{for} (i = 1; i < (int)tool-\/>getBBoxsCount(); i++) \{}
\DoxyCodeLine{00871       \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{FourPoints}} oldBbox = startBboxs[i];}
\DoxyCodeLine{00872       \mbox{\hyperlink{class_t_point_t}{TPointD}} frameCenter =}
\DoxyCodeLine{00873           scaleInCenter ? center}
\DoxyCodeLine{00874                         : oldBbox.\mbox{\hyperlink{class_drag_selection_tool_1_1_four_points_a6ee06390172fb31fa17e80273c947f4c}{getPoint}}(getSymmetricPointIndex(index));}
\DoxyCodeLine{00875       \mbox{\hyperlink{class_t_point_t}{TPointD}} newp =}
\DoxyCodeLine{00876           m\_scale-\/>getScaledPoint(index, oldBbox, scaleValue, frameCenter);}
\DoxyCodeLine{00877       \mbox{\hyperlink{class_drag_selection_tool_1_1_four_points}{FourPoints}} newBbox = m\_scale-\/>bboxScaleInCenter(}
\DoxyCodeLine{00878           index, oldBbox, newp, scaleValue, frameCenter, \textcolor{keyword}{false});}
\DoxyCodeLine{00879       tool-\/>setBBox(newBbox, i);}
\DoxyCodeLine{00880       \textcolor{keywordflow}{if} (!scaleInCenter)}
\DoxyCodeLine{00881         tool-\/>setCenter(m\_scale-\/>getNewCenter(index, oldBbox, scaleValue), i);}
\DoxyCodeLine{00882     \}}
\DoxyCodeLine{00883   \}}
\DoxyCodeLine{00884   tool-\/>setBBox(bbox);}
\DoxyCodeLine{00885   applyTransform(bbox);}
\DoxyCodeLine{00886   \textcolor{keywordflow}{return} scaleValue;}
\DoxyCodeLine{00887 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00122}{Drag\+Selection\+Tool\+::\+Four\+Points\+::get\+Point()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/vectorselectiontool.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/vectorselectiontool.\+cpp\end{DoxyCompactItemize}
