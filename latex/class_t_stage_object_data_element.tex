\hypertarget{class_t_stage_object_data_element}{}\doxysection{TStage\+Object\+Data\+Element Class Reference}
\label{class_t_stage_object_data_element}\index{TStageObjectDataElement@{TStageObjectDataElement}}
Inheritance diagram for TStage\+Object\+Data\+Element\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_t_stage_object_data_element}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{class_t_stage_object_data_element}{TStage\+Object\+Data\+Element}} $\ast$ \mbox{\hyperlink{class_t_stage_object_data_element_a0e9572dea9d691069bf5a771f585181b}{clone}} () const
\item 
void \mbox{\hyperlink{class_t_stage_object_data_element_a7e8d6e78c296ce85d47c99a2a65ae4ff}{store\+Object}} (const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&object\+Id, \mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh)
\item 
\mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \mbox{\hyperlink{class_t_stage_object_data_element_abbd9e7886bc0abfb3334cde40434d08b}{restore\+Object}} (\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$xsh, bool copy\+Position) const
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_stage_object_params}{TStage\+Object\+Params}} $\ast$ \mbox{\hyperlink{class_t_stage_object_data_element_a9f717b885c1f0debcfe2930268a06361}{m\+\_\+params}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{namespace_stage}{Stage}} object parameters (owned) \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_t_stage_object_data_element_ae25b37a1978ff59c51c8916ae9bed1e2}{m\+\_\+dag\+Pos}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{namespace_stage}{Stage}} object position in the viewer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_t_stage_object_data_element_a19df57f95af808ab92bb25d965d79355}{Stage\+Objects\+Data}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Base class used to clone a stage object\textquotesingle{}s relational data inside the stage schematic. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_stage_object_data_element_ade3b9bfa4f835038f9eebc2c3a93aa7b}\label{class_t_stage_object_data_element_ade3b9bfa4f835038f9eebc2c3a93aa7b}} 
\index{TStageObjectDataElement@{TStageObjectDataElement}!TStageObjectDataElement@{TStageObjectDataElement}}
\index{TStageObjectDataElement@{TStageObjectDataElement}!TStageObjectDataElement@{TStageObjectDataElement}}
\doxysubsubsection{\texorpdfstring{TStageObjectDataElement()}{TStageObjectDataElement()}}
{\footnotesize\ttfamily TStage\+Object\+Data\+Element\+::\+TStage\+Object\+Data\+Element (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00170     : \mbox{\hyperlink{class_t_stage_object_data_element_a9f717b885c1f0debcfe2930268a06361}{m\_params}}(0), \mbox{\hyperlink{class_t_stage_object_data_element_ae25b37a1978ff59c51c8916ae9bed1e2}{m\_dagPos}}(TConst::nowhere) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stage_object_data_element_a28a007cecb3fb2862a2896f4ad13e8f6}\label{class_t_stage_object_data_element_a28a007cecb3fb2862a2896f4ad13e8f6}} 
\index{TStageObjectDataElement@{TStageObjectDataElement}!````~TStageObjectDataElement@{$\sim$TStageObjectDataElement}}
\index{````~TStageObjectDataElement@{$\sim$TStageObjectDataElement}!TStageObjectDataElement@{TStageObjectDataElement}}
\doxysubsubsection{\texorpdfstring{$\sim$TStageObjectDataElement()}{~TStageObjectDataElement()}}
{\footnotesize\ttfamily TStage\+Object\+Data\+Element\+::$\sim$\+TStage\+Object\+Data\+Element (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00174 \{ \textcolor{keyword}{delete} \mbox{\hyperlink{class_t_stage_object_data_element_a9f717b885c1f0debcfe2930268a06361}{m\_params}}; \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_stage_object_data_element_a0e9572dea9d691069bf5a771f585181b}\label{class_t_stage_object_data_element_a0e9572dea9d691069bf5a771f585181b}} 
\index{TStageObjectDataElement@{TStageObjectDataElement}!clone@{clone}}
\index{clone@{clone}!TStageObjectDataElement@{TStageObjectDataElement}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stage_object_data_element}{TStage\+Object\+Data\+Element}} $\ast$ TStage\+Object\+Data\+Element\+::clone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented in \mbox{\hyperlink{class_t_column_data_element_a5cd4084ed5e514d876cbe712de0b647e}{TColumn\+Data\+Element}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00178                                                               \{}
\DoxyCodeLine{00179   \mbox{\hyperlink{class_t_stage_object_data_element}{TStageObjectDataElement}} *data = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stage_object_data_element}{TStageObjectDataElement}}();}
\DoxyCodeLine{00180 }
\DoxyCodeLine{00181   data-\/>\mbox{\hyperlink{class_t_stage_object_data_element_a9f717b885c1f0debcfe2930268a06361}{m\_params}} = \mbox{\hyperlink{class_t_stage_object_data_element_a9f717b885c1f0debcfe2930268a06361}{m\_params}}-\/>clone();}
\DoxyCodeLine{00182   data-\/>\mbox{\hyperlink{class_t_stage_object_data_element_ae25b37a1978ff59c51c8916ae9bed1e2}{m\_dagPos}} = \mbox{\hyperlink{class_t_stage_object_data_element_ae25b37a1978ff59c51c8916ae9bed1e2}{m\_dagPos}};}
\DoxyCodeLine{00183 }
\DoxyCodeLine{00184   \textcolor{keywordflow}{return} data;}
\DoxyCodeLine{00185 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stage_object_data_element_abbd9e7886bc0abfb3334cde40434d08b}\label{class_t_stage_object_data_element_abbd9e7886bc0abfb3334cde40434d08b}} 
\index{TStageObjectDataElement@{TStageObjectDataElement}!restoreObject@{restoreObject}}
\index{restoreObject@{restoreObject}!TStageObjectDataElement@{TStageObjectDataElement}}
\doxysubsubsection{\texorpdfstring{restoreObject()}{restoreObject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} TStage\+Object\+Data\+Element\+::restore\+Object (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh,  }\item[{bool}]{copy\+Position }\end{DoxyParamCaption}) const}

Restores the object data in the xsheet (\mbox{\hyperlink{class_t_stage_object_data_element}{TStage\+Object\+Data\+Element}} -\/\texorpdfstring{$>$}{>} \mbox{\hyperlink{class_t_xsheet}{TXsheet}}) and returns the associated new stage object identifier. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00202                                                                                \{}
\DoxyCodeLine{00203   \textcolor{comment}{// Create the new object to be inserted}}
\DoxyCodeLine{00204   \mbox{\hyperlink{class_t_stage_object_tree}{TStageObjectTree}} *tree = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}();}
\DoxyCodeLine{00205   \textcolor{comment}{// first, try to maintain object id if it is available}}
\DoxyCodeLine{00206   \textcolor{keywordtype}{int} index = \mbox{\hyperlink{class_t_stage_object_data_element_a9f717b885c1f0debcfe2930268a06361}{m\_params}}-\/>m\_id.getIndex();}
\DoxyCodeLine{00207   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *newObj =}
\DoxyCodeLine{00208       tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(TStageObjectId::PegbarId(index), \textcolor{keyword}{false});}
\DoxyCodeLine{00209   \textcolor{keywordflow}{if} (!newObj)}
\DoxyCodeLine{00210     newObj = tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(TStageObjectId::PegbarId(index), \textcolor{keyword}{true});}
\DoxyCodeLine{00211   \textcolor{comment}{// if the original id is occupied, then use the first unused id}}
\DoxyCodeLine{00212   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00213     index = 0;}
\DoxyCodeLine{00214     \textcolor{comment}{// Search the first unused common (pegbar) id}}
\DoxyCodeLine{00215     \textcolor{keywordflow}{while} (tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(TStageObjectId::PegbarId(index), \textcolor{keyword}{false}))}
\DoxyCodeLine{00216       ++index;}
\DoxyCodeLine{00217 }
\DoxyCodeLine{00218     newObj = tree-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(TStageObjectId::PegbarId(index), \textcolor{keyword}{true});}
\DoxyCodeLine{00219   \}}
\DoxyCodeLine{00220   \textcolor{comment}{// object-\/parental relationships will be restored in the function}}
\DoxyCodeLine{00221   \textcolor{comment}{// restoreObjects() so we do not set the parent here.}}
\DoxyCodeLine{00222   \textcolor{comment}{// newObj-\/>setParent(m\_params-\/>m\_parentId);}}
\DoxyCodeLine{00223 }
\DoxyCodeLine{00224   newObj-\/>\mbox{\hyperlink{class_t_stage_object_a2b0ed3e5eb55c260f798f0bc3bd18c33}{assignParams}}(\mbox{\hyperlink{class_t_stage_object_data_element_a9f717b885c1f0debcfe2930268a06361}{m\_params}});}
\DoxyCodeLine{00225 }
\DoxyCodeLine{00226   \textcolor{comment}{// If specified, copy the stored position in the viewer}}
\DoxyCodeLine{00227   \textcolor{keywordflow}{if} (copyPosition) newObj-\/>\mbox{\hyperlink{class_t_stage_object_a64e318fa720c638b27abe8cd4f2c9494}{setDagNodePos}}(\mbox{\hyperlink{class_t_stage_object_data_element_ae25b37a1978ff59c51c8916ae9bed1e2}{m\_dagPos}});}
\DoxyCodeLine{00228 }
\DoxyCodeLine{00229   \textcolor{keywordflow}{return} newObj-\/>\mbox{\hyperlink{class_t_stage_object_a7acac7f9d2b8aabae125a81cc4ac5b10}{getId}}();}
\DoxyCodeLine{00230 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01867}{TStage\+Object\+::assign\+Params()}}, \mbox{\hyperlink{l00520}{TStage\+Object\+::get\+Id()}}, \mbox{\hyperlink{l00164}{TStage\+Object\+Tree\+::get\+Stage\+Object()}}, \mbox{\hyperlink{l00549}{TXsheet\+::get\+Stage\+Object\+Tree()}}, \mbox{\hyperlink{l00149}{m\+\_\+dag\+Pos}}, \mbox{\hyperlink{l00148}{m\+\_\+params}}, and \mbox{\hyperlink{l00258}{TStage\+Object\+::set\+Dag\+Node\+Pos()}}.

\mbox{\Hypertarget{class_t_stage_object_data_element_a7e8d6e78c296ce85d47c99a2a65ae4ff}\label{class_t_stage_object_data_element_a7e8d6e78c296ce85d47c99a2a65ae4ff}} 
\index{TStageObjectDataElement@{TStageObjectDataElement}!storeObject@{storeObject}}
\index{storeObject@{storeObject}!TStageObjectDataElement@{TStageObjectDataElement}}
\doxysubsubsection{\texorpdfstring{storeObject()}{storeObject()}}
{\footnotesize\ttfamily void TStage\+Object\+Data\+Element\+::store\+Object (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}} \&}]{object\+Id,  }\item[{\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$}]{xsh }\end{DoxyParamCaption})}

Stores the object data strictly regarding the object being part of the schematic stage view (\mbox{\hyperlink{class_t_stage_object_data_element}{TStage\+Object\+Data\+Element}} \texorpdfstring{$<$}{<}-\/ \mbox{\hyperlink{class_t_stage_object_id}{TStage\+Object\+Id}}). 
\begin{DoxyCode}{0}
\DoxyCodeLine{00190                                                         \{}
\DoxyCodeLine{00191   \textcolor{comment}{// Search the object in the xsheet (false = don't create a new one)}}
\DoxyCodeLine{00192   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *obj = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a5dc925584e35e1678f5678b79c470959}{getStageObjectTree}}()-\/>\mbox{\hyperlink{class_t_stage_object_tree_a688e5b4f2f5730afb0cb10264f13a113}{getStageObject}}(objId, \textcolor{keyword}{false});}
\DoxyCodeLine{00193   assert(obj);}
\DoxyCodeLine{00194 }
\DoxyCodeLine{00195   \mbox{\hyperlink{class_t_stage_object_data_element_a9f717b885c1f0debcfe2930268a06361}{m\_params}} = obj-\/>\mbox{\hyperlink{class_t_stage_object_a24e60b5ae4239e4d6a86ffdf9ee93d06}{getParams}}();}
\DoxyCodeLine{00196   \mbox{\hyperlink{class_t_stage_object_data_element_ae25b37a1978ff59c51c8916ae9bed1e2}{m\_dagPos}} = obj-\/>\mbox{\hyperlink{class_t_stage_object_a4d0ba923b8e950e754d1ca45af0819fc}{getDagNodePos}}();}
\DoxyCodeLine{00197 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00251}{TStage\+Object\+::get\+Dag\+Node\+Pos()}}, \mbox{\hyperlink{l01830}{TStage\+Object\+::get\+Params()}}, \mbox{\hyperlink{l00164}{TStage\+Object\+Tree\+::get\+Stage\+Object()}}, \mbox{\hyperlink{l00549}{TXsheet\+::get\+Stage\+Object\+Tree()}}, \mbox{\hyperlink{l00149}{m\+\_\+dag\+Pos}}, and \mbox{\hyperlink{l00148}{m\+\_\+params}}.



Referenced by \mbox{\hyperlink{l00298}{TColumn\+Data\+Element\+::store\+Column()}}, and \mbox{\hyperlink{l00635}{Stage\+Objects\+Data\+::store\+Objects()}}.



\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{class_t_stage_object_data_element_a19df57f95af808ab92bb25d965d79355}\label{class_t_stage_object_data_element_a19df57f95af808ab92bb25d965d79355}} 
\index{TStageObjectDataElement@{TStageObjectDataElement}!StageObjectsData@{StageObjectsData}}
\index{StageObjectsData@{StageObjectsData}!TStageObjectDataElement@{TStageObjectDataElement}}
\doxysubsubsection{\texorpdfstring{StageObjectsData}{StageObjectsData}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{class_stage_objects_data}{Stage\+Objects\+Data}}\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_t_stage_object_data_element_ae25b37a1978ff59c51c8916ae9bed1e2}\label{class_t_stage_object_data_element_ae25b37a1978ff59c51c8916ae9bed1e2}} 
\index{TStageObjectDataElement@{TStageObjectDataElement}!m\_dagPos@{m\_dagPos}}
\index{m\_dagPos@{m\_dagPos}!TStageObjectDataElement@{TStageObjectDataElement}}
\doxysubsubsection{\texorpdfstring{m\_dagPos}{m\_dagPos}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} TStage\+Object\+Data\+Element\+::m\+\_\+dag\+Pos\hspace{0.3cm}{\ttfamily [protected]}}



\mbox{\hyperlink{namespace_stage}{Stage}} object position in the viewer. 



Referenced by \mbox{\hyperlink{l00284}{TColumn\+Data\+Element\+::clone()}}, \mbox{\hyperlink{l00441}{TCamera\+Data\+Element\+::restore\+Camera()}}, \mbox{\hyperlink{l00327}{TColumn\+Data\+Element\+::restore\+Column()}}, \mbox{\hyperlink{l00201}{restore\+Object()}}, \mbox{\hyperlink{l00428}{TCamera\+Data\+Element\+::store\+Camera()}}, and \mbox{\hyperlink{l00189}{store\+Object()}}.

\mbox{\Hypertarget{class_t_stage_object_data_element_a9f717b885c1f0debcfe2930268a06361}\label{class_t_stage_object_data_element_a9f717b885c1f0debcfe2930268a06361}} 
\index{TStageObjectDataElement@{TStageObjectDataElement}!m\_params@{m\_params}}
\index{m\_params@{m\_params}!TStageObjectDataElement@{TStageObjectDataElement}}
\doxysubsubsection{\texorpdfstring{m\_params}{m\_params}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stage_object_params}{TStage\+Object\+Params}}$\ast$ TStage\+Object\+Data\+Element\+::m\+\_\+params\hspace{0.3cm}{\ttfamily [protected]}}



\mbox{\hyperlink{namespace_stage}{Stage}} object parameters (owned) 



Referenced by \mbox{\hyperlink{l00284}{TColumn\+Data\+Element\+::clone()}}, \mbox{\hyperlink{l00441}{TCamera\+Data\+Element\+::restore\+Camera()}}, \mbox{\hyperlink{l00327}{TColumn\+Data\+Element\+::restore\+Column()}}, \mbox{\hyperlink{l00201}{restore\+Object()}}, \mbox{\hyperlink{l00428}{TCamera\+Data\+Element\+::store\+Camera()}}, \mbox{\hyperlink{l00189}{store\+Object()}}, and \mbox{\hyperlink{l00895}{Stage\+Objects\+Data\+::store\+Splines()}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzqt/stageobjectsdata.\+cpp\end{DoxyCompactItemize}
