\hypertarget{class_animated_param_field}{}\doxysection{Animated\+Param\+Field\texorpdfstring{$<$}{<} T, ParamP \texorpdfstring{$>$}{>} Class Template Reference}
\label{class_animated_param_field}\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
Inheritance diagram for Animated\+Param\+Field\texorpdfstring{$<$}{<} T, ParamP \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_animated_param_field}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_animated_param_field_ae0f3c475bac6834c350ccf00e6035f02}{Animated\+Param\+Field}} (QWidget $\ast$parent, QString name, const ParamP \&param, bool add\+Empty\+Label=true)
\item 
\mbox{\Hypertarget{class_animated_param_field_acc31df6be71208fc13ba691377602c7d}\label{class_animated_param_field_acc31df6be71208fc13ba691377602c7d}} 
virtual void {\bfseries update\+Field} (T value)=0
\item 
void \mbox{\hyperlink{class_animated_param_field_acb1ada19b3d49eb22adf3ccdacd04f36}{set\+Param}} (const \mbox{\hyperlink{class_t_smart_pointer_t}{TParamP}} \&current, const \mbox{\hyperlink{class_t_smart_pointer_t}{TParamP}} \&actual, int frame) override
\item 
void \mbox{\hyperlink{class_animated_param_field_ad7a6792c3062b6a27d65955f055122b2}{update}} (int frame) override
\item 
void \mbox{\hyperlink{class_animated_param_field_a321f4902e248e86d8f39ed5f318eeddf}{update\+Key\+Toggle}} ()
\item 
void \mbox{\hyperlink{class_animated_param_field_a456fd147e267a2ed3932d6445c0b7915}{set\+Value}} (T value)
\item 
void \mbox{\hyperlink{class_animated_param_field_a6ab88621cabf33b036effc123bcc0e1b}{on\+Key\+Toggle}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
ParamP \mbox{\hyperlink{class_animated_param_field_abba4edab23adaf55deb7ae3a2407221e}{m\+\_\+current\+Param}}
\item 
ParamP \mbox{\hyperlink{class_animated_param_field_a9f64770765c90417345c6e11075f76e0}{m\+\_\+actual\+Param}}
\item 
int \mbox{\hyperlink{class_animated_param_field_a39df3e4ebe10676b7122483b4ea919af}{m\+\_\+frame}}
\item 
\mbox{\hyperlink{class_param_field_key_toggle}{Param\+Field\+Key\+Toggle}} $\ast$ \mbox{\hyperlink{class_animated_param_field_a88bf6077b3d37ab7056ee642e3aa933c}{m\+\_\+key\+Toggle}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class T, class ParamP$>$\newline
class Animated\+Param\+Field$<$ T, Param\+P $>$}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_animated_param_field_ae0f3c475bac6834c350ccf00e6035f02}\label{class_animated_param_field_ae0f3c475bac6834c350ccf00e6035f02}} 
\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}!AnimatedParamField@{AnimatedParamField}}
\index{AnimatedParamField@{AnimatedParamField}!AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
\doxysubsubsection{\texorpdfstring{AnimatedParamField()}{AnimatedParamField()}}
{\footnotesize\ttfamily template$<$class T , class ParamP $>$ \\
\mbox{\hyperlink{class_animated_param_field}{Animated\+Param\+Field}}$<$ T, ParamP $>$\mbox{\hyperlink{class_animated_param_field}{\+::\+Animated\+Param\+Field}} (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent,  }\item[{QString}]{name,  }\item[{const ParamP \&}]{param,  }\item[{bool}]{add\+Empty\+Label = {\ttfamily true} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00279       : \mbox{\hyperlink{class_param_field}{ParamField}}(parent, name, param, addEmptyLabel), m\_frame(0) \{}
\DoxyCodeLine{00280     m\_keyToggle = \textcolor{keyword}{new} \mbox{\hyperlink{class_param_field_key_toggle}{ParamFieldKeyToggle}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00281   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_animated_param_field_a6ab88621cabf33b036effc123bcc0e1b}\label{class_animated_param_field_a6ab88621cabf33b036effc123bcc0e1b}} 
\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}!onKeyToggle@{onKeyToggle}}
\index{onKeyToggle@{onKeyToggle}!AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
\doxysubsubsection{\texorpdfstring{onKeyToggle()}{onKeyToggle()}}
{\footnotesize\ttfamily template$<$class T , class ParamP $>$ \\
void \mbox{\hyperlink{class_animated_param_field}{Animated\+Param\+Field}}$<$ T, ParamP $>$\+::on\+Key\+Toggle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00334                      \{}
\DoxyCodeLine{00335     T currentVal = m\_currentParam-\/>getValue(m\_frame);}
\DoxyCodeLine{00336     \textcolor{keywordtype}{bool} wasKeyFrame;}
\DoxyCodeLine{00337 }
\DoxyCodeLine{00338     \textcolor{keywordflow}{if} (m\_keyToggle-\/>getStatus() == ParamFieldKeyToggle::KEYFRAME) \{}
\DoxyCodeLine{00339       m\_actualParam-\/>deleteKeyframe(m\_frame);}
\DoxyCodeLine{00340       update(m\_frame);}
\DoxyCodeLine{00341       wasKeyFrame = \textcolor{keyword}{true};}
\DoxyCodeLine{00342     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00343       m\_actualParam-\/>setValue(m\_frame, m\_currentParam-\/>getValue(m\_frame));}
\DoxyCodeLine{00344       updateKeyToggle();}
\DoxyCodeLine{00345       wasKeyFrame = \textcolor{keyword}{false};}
\DoxyCodeLine{00346     \}}
\DoxyCodeLine{00347     emit actualParamChanged();}
\DoxyCodeLine{00348     emit paramKeyToggle();}
\DoxyCodeLine{00349 }
\DoxyCodeLine{00350     TUndoManager::manager()-\/>add(\textcolor{keyword}{new} \mbox{\hyperlink{class_fx_settings_key_toggle_undo}{FxSettingsKeyToggleUndo<T, ParamP>}}(}
\DoxyCodeLine{00351         m\_actualParam, currentVal, wasKeyFrame, m\_interfaceName, m\_frame,}
\DoxyCodeLine{00352         ParamField::m\_fxHandleStat));}
\DoxyCodeLine{00353   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_animated_param_field_acb1ada19b3d49eb22adf3ccdacd04f36}\label{class_animated_param_field_acb1ada19b3d49eb22adf3ccdacd04f36}} 
\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}!setParam@{setParam}}
\index{setParam@{setParam}!AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
\doxysubsubsection{\texorpdfstring{setParam()}{setParam()}}
{\footnotesize\ttfamily template$<$class T , class ParamP $>$ \\
void \mbox{\hyperlink{class_animated_param_field}{Animated\+Param\+Field}}$<$ T, ParamP $>$\+::set\+Param (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TParamP}} \&}]{current,  }\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TParamP}} \&}]{actual,  }\item[{int}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_param_field}{Param\+Field}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00286                                     \{}
\DoxyCodeLine{00287     m\_currentParam = current;}
\DoxyCodeLine{00288     m\_actualParam  = actual;}
\DoxyCodeLine{00289     assert(m\_currentParam);}
\DoxyCodeLine{00290     assert(m\_actualParam);}
\DoxyCodeLine{00291     update(frame);}
\DoxyCodeLine{00292   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_animated_param_field_a456fd147e267a2ed3932d6445c0b7915}\label{class_animated_param_field_a456fd147e267a2ed3932d6445c0b7915}} 
\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}!setValue@{setValue}}
\index{setValue@{setValue}!AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
\doxysubsubsection{\texorpdfstring{setValue()}{setValue()}}
{\footnotesize\ttfamily template$<$class T , class ParamP $>$ \\
void \mbox{\hyperlink{class_animated_param_field}{Animated\+Param\+Field}}$<$ T, ParamP $>$\+::set\+Value (\begin{DoxyParamCaption}\item[{T}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00316                          \{}
\DoxyCodeLine{00317     \textcolor{keywordflow}{if} (m\_currentParam-\/>getValue(m\_frame) == value) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00318     m\_currentParam-\/>setValue(m\_frame, value);}
\DoxyCodeLine{00319     \textcolor{comment}{/*-\/-\/ キーフレーム上で操作した場合 -\/-\/*/}}
\DoxyCodeLine{00320     \textcolor{keywordflow}{if} (m\_actualParam-\/>isKeyframe(m\_frame)) \{}
\DoxyCodeLine{00321       m\_actualParam-\/>setValue(m\_frame, value);}
\DoxyCodeLine{00322       emit actualParamChanged();}
\DoxyCodeLine{00323     \}}
\DoxyCodeLine{00324     \textcolor{comment}{/*-\/-\/ キーフレーム無い場合 -\/-\/*/}}
\DoxyCodeLine{00325     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!m\_actualParam.getPointer()-\/>hasKeyframes()) \{}
\DoxyCodeLine{00326       m\_actualParam-\/>setDefaultValue(value);}
\DoxyCodeLine{00327       emit actualParamChanged();}
\DoxyCodeLine{00328     \}}
\DoxyCodeLine{00329     \textcolor{comment}{/*-\/-\/ 他にキーフレームがあって、キーフレーム以外のフレームで操作した場合 -\/-\/*/}}
\DoxyCodeLine{00330     emit currentParamChanged();}
\DoxyCodeLine{00331     updateKeyToggle();}
\DoxyCodeLine{00332   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_animated_param_field_ad7a6792c3062b6a27d65955f055122b2}\label{class_animated_param_field_ad7a6792c3062b6a27d65955f055122b2}} 
\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}!update@{update}}
\index{update@{update}!AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily template$<$class T , class ParamP $>$ \\
void \mbox{\hyperlink{class_animated_param_field}{Animated\+Param\+Field}}$<$ T, ParamP $>$\+::update (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_param_field}{Param\+Field}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00293                                   \{}
\DoxyCodeLine{00294     m\_frame = frame;}
\DoxyCodeLine{00295     \textcolor{keywordflow}{if} (!m\_actualParam || !m\_currentParam) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00296     T value = m\_actualParam-\/>getValue(m\_frame);}
\DoxyCodeLine{00297     \textcolor{keywordflow}{if} (m\_actualParam-\/>isKeyframe(m\_frame))}
\DoxyCodeLine{00298       m\_currentParam-\/>setValue(m\_frame, value);}
\DoxyCodeLine{00299     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!m\_actualParam.getPointer()-\/>hasKeyframes())}
\DoxyCodeLine{00300       m\_currentParam-\/>setDefaultValue(value);}
\DoxyCodeLine{00301     updateField(value);}
\DoxyCodeLine{00302     updateKeyToggle();}
\DoxyCodeLine{00303   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_animated_param_field_a321f4902e248e86d8f39ed5f318eeddf}\label{class_animated_param_field_a321f4902e248e86d8f39ed5f318eeddf}} 
\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}!updateKeyToggle@{updateKeyToggle}}
\index{updateKeyToggle@{updateKeyToggle}!AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
\doxysubsubsection{\texorpdfstring{updateKeyToggle()}{updateKeyToggle()}}
{\footnotesize\ttfamily template$<$class T , class ParamP $>$ \\
void \mbox{\hyperlink{class_animated_param_field}{Animated\+Param\+Field}}$<$ T, ParamP $>$\+::update\+Key\+Toggle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00305                          \{}
\DoxyCodeLine{00306     T stroke  = m\_actualParam-\/>getValue(m\_frame);}
\DoxyCodeLine{00307     T stroke2 = m\_currentParam-\/>getValue(m\_frame);}
\DoxyCodeLine{00308     m\_keyToggle-\/>setStatus(}
\DoxyCodeLine{00309         m\_actualParam-\/>hasKeyframes(), m\_actualParam-\/>isKeyframe(m\_frame),}
\DoxyCodeLine{00310         m\_actualParam-\/>getValue(m\_frame) != m\_currentParam-\/>getValue(m\_frame));}
\DoxyCodeLine{00311   \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_animated_param_field_a9f64770765c90417345c6e11075f76e0}\label{class_animated_param_field_a9f64770765c90417345c6e11075f76e0}} 
\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}!m\_actualParam@{m\_actualParam}}
\index{m\_actualParam@{m\_actualParam}!AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
\doxysubsubsection{\texorpdfstring{m\_actualParam}{m\_actualParam}}
{\footnotesize\ttfamily template$<$class T , class ParamP $>$ \\
ParamP \mbox{\hyperlink{class_animated_param_field}{Animated\+Param\+Field}}$<$ T, ParamP $>$\+::m\+\_\+actual\+Param\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_animated_param_field_abba4edab23adaf55deb7ae3a2407221e}\label{class_animated_param_field_abba4edab23adaf55deb7ae3a2407221e}} 
\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}!m\_currentParam@{m\_currentParam}}
\index{m\_currentParam@{m\_currentParam}!AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
\doxysubsubsection{\texorpdfstring{m\_currentParam}{m\_currentParam}}
{\footnotesize\ttfamily template$<$class T , class ParamP $>$ \\
ParamP \mbox{\hyperlink{class_animated_param_field}{Animated\+Param\+Field}}$<$ T, ParamP $>$\+::m\+\_\+current\+Param\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_animated_param_field_a39df3e4ebe10676b7122483b4ea919af}\label{class_animated_param_field_a39df3e4ebe10676b7122483b4ea919af}} 
\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}!m\_frame@{m\_frame}}
\index{m\_frame@{m\_frame}!AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
\doxysubsubsection{\texorpdfstring{m\_frame}{m\_frame}}
{\footnotesize\ttfamily template$<$class T , class ParamP $>$ \\
int \mbox{\hyperlink{class_animated_param_field}{Animated\+Param\+Field}}$<$ T, ParamP $>$\+::m\+\_\+frame\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_animated_param_field_a88bf6077b3d37ab7056ee642e3aa933c}\label{class_animated_param_field_a88bf6077b3d37ab7056ee642e3aa933c}} 
\index{AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}!m\_keyToggle@{m\_keyToggle}}
\index{m\_keyToggle@{m\_keyToggle}!AnimatedParamField$<$ T, ParamP $>$@{AnimatedParamField$<$ T, ParamP $>$}}
\doxysubsubsection{\texorpdfstring{m\_keyToggle}{m\_keyToggle}}
{\footnotesize\ttfamily template$<$class T , class ParamP $>$ \\
\mbox{\hyperlink{class_param_field_key_toggle}{Param\+Field\+Key\+Toggle}}$\ast$ \mbox{\hyperlink{class_animated_param_field}{Animated\+Param\+Field}}$<$ T, ParamP $>$\+::m\+\_\+key\+Toggle\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonzqt/paramfield.\+h\end{DoxyCompactItemize}
