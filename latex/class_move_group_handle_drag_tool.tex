\hypertarget{class_move_group_handle_drag_tool}{}\doxysection{Move\+Group\+Handle\+Drag\+Tool Class Reference}
\label{class_move_group_handle_drag_tool}\index{MoveGroupHandleDragTool@{MoveGroupHandleDragTool}}
Inheritance diagram for Move\+Group\+Handle\+Drag\+Tool\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_move_group_handle_drag_tool}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef Function\+Panel\+::\+Handle \mbox{\hyperlink{class_move_group_handle_drag_tool_ae88b2b4c83b232744e0fba3386110814}{Handle}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_move_group_handle_drag_tool_a04718fa288c1e474fb804cedd11950e3}{Move\+Group\+Handle\+Drag\+Tool}} (\mbox{\hyperlink{class_function_panel}{Function\+Panel}} $\ast$panel, double keyframe\+Position, Handle handle)
\item 
void \mbox{\hyperlink{class_move_group_handle_drag_tool_a1c1b0bb0cfb357db0873d69a2091fd44}{click}} (QMouse\+Event $\ast$e) override
\item 
void \mbox{\hyperlink{class_move_group_handle_drag_tool_ad721785d0fa3678ba447f7cd0f94e4c3}{drag}} (QMouse\+Event $\ast$e) override
\item 
void \mbox{\hyperlink{class_move_group_handle_drag_tool_abfd32449a1304a8994854fa4a53951d1}{release}} (QMouse\+Event $\ast$e) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{class_move_group_handle_drag_tool_ae88b2b4c83b232744e0fba3386110814}\label{class_move_group_handle_drag_tool_ae88b2b4c83b232744e0fba3386110814}} 
\index{MoveGroupHandleDragTool@{MoveGroupHandleDragTool}!Handle@{Handle}}
\index{Handle@{Handle}!MoveGroupHandleDragTool@{MoveGroupHandleDragTool}}
\doxysubsubsection{\texorpdfstring{Handle}{Handle}}
{\footnotesize\ttfamily typedef Function\+Panel\+::\+Handle Move\+Group\+Handle\+Drag\+Tool\+::\+Handle}



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_move_group_handle_drag_tool_a04718fa288c1e474fb804cedd11950e3}\label{class_move_group_handle_drag_tool_a04718fa288c1e474fb804cedd11950e3}} 
\index{MoveGroupHandleDragTool@{MoveGroupHandleDragTool}!MoveGroupHandleDragTool@{MoveGroupHandleDragTool}}
\index{MoveGroupHandleDragTool@{MoveGroupHandleDragTool}!MoveGroupHandleDragTool@{MoveGroupHandleDragTool}}
\doxysubsubsection{\texorpdfstring{MoveGroupHandleDragTool()}{MoveGroupHandleDragTool()}}
{\footnotesize\ttfamily Move\+Group\+Handle\+Drag\+Tool\+::\+Move\+Group\+Handle\+Drag\+Tool (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_function_panel}{Function\+Panel}} $\ast$}]{panel,  }\item[{double}]{keyframe\+Position,  }\item[{Handle}]{handle }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00410     : m\_panel(panel), m\_keyframePosition(keyframePosition), m\_handle(handle) \{}
\DoxyCodeLine{00411   TUndoManager::manager()-\/>beginBlock();}
\DoxyCodeLine{00412 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_move_group_handle_drag_tool_ace3d95dace64944ea933936ed081f931}\label{class_move_group_handle_drag_tool_ace3d95dace64944ea933936ed081f931}} 
\index{MoveGroupHandleDragTool@{MoveGroupHandleDragTool}!````~MoveGroupHandleDragTool@{$\sim$MoveGroupHandleDragTool}}
\index{````~MoveGroupHandleDragTool@{$\sim$MoveGroupHandleDragTool}!MoveGroupHandleDragTool@{MoveGroupHandleDragTool}}
\doxysubsubsection{\texorpdfstring{$\sim$MoveGroupHandleDragTool()}{~MoveGroupHandleDragTool()}}
{\footnotesize\ttfamily Move\+Group\+Handle\+Drag\+Tool\+::$\sim$\+Move\+Group\+Handle\+Drag\+Tool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00416                                                   \{}
\DoxyCodeLine{00417   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_setters.size(); i++) \textcolor{keyword}{delete} m\_setters[i].second;}
\DoxyCodeLine{00418   m\_setters.clear();}
\DoxyCodeLine{00419   TUndoManager::manager()-\/>endBlock();}
\DoxyCodeLine{00420 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_move_group_handle_drag_tool_a1c1b0bb0cfb357db0873d69a2091fd44}\label{class_move_group_handle_drag_tool_a1c1b0bb0cfb357db0873d69a2091fd44}} 
\index{MoveGroupHandleDragTool@{MoveGroupHandleDragTool}!click@{click}}
\index{click@{click}!MoveGroupHandleDragTool@{MoveGroupHandleDragTool}}
\doxysubsubsection{\texorpdfstring{click()}{click()}}
{\footnotesize\ttfamily void Move\+Group\+Handle\+Drag\+Tool\+::click (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_function_panel_1_1_drag_tool}{Function\+Panel\+::\+Drag\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00424                                                   \{}
\DoxyCodeLine{00425   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_setters.size(); i++) \textcolor{keyword}{delete} m\_setters[i].second;}
\DoxyCodeLine{00426   m\_setters.clear();}
\DoxyCodeLine{00427 }
\DoxyCodeLine{00428   \mbox{\hyperlink{class_function_tree_model}{FunctionTreeModel}} *model = m\_panel-\/>getModel();}
\DoxyCodeLine{00429   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < model-\/>getActiveChannelCount(); i++) \{}
\DoxyCodeLine{00430     \mbox{\hyperlink{class_function_tree_model_1_1_channel}{FunctionTreeModel::Channel}} *channel = model-\/>getActiveChannel(i);}
\DoxyCodeLine{00431     \textcolor{keywordflow}{if} (channel \&\& channel-\/>getParam()) \{}
\DoxyCodeLine{00432       \mbox{\hyperlink{class_t_double_param}{TDoubleParam}} *curve    = channel-\/>getParam();}
\DoxyCodeLine{00433       \textcolor{keywordtype}{int} kIndex             = curve-\/>getClosestKeyframe(m\_keyframePosition);}
\DoxyCodeLine{00434       \mbox{\hyperlink{class_keyframe_setter}{KeyframeSetter}} *setter = \textcolor{keyword}{new} \mbox{\hyperlink{class_keyframe_setter}{KeyframeSetter}}(curve, kIndex);}
\DoxyCodeLine{00435       setter-\/>setPixelRatio(m\_panel-\/>getPixelRatio(curve));}
\DoxyCodeLine{00436       \mbox{\hyperlink{class_t_double_keyframe}{TDoubleKeyframe}} kf = curve-\/>getKeyframe(kIndex);}
\DoxyCodeLine{00437       m\_setters.push\_back(std::make\_pair(kf, setter));}
\DoxyCodeLine{00438     \}}
\DoxyCodeLine{00439   \}}
\DoxyCodeLine{00440 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_move_group_handle_drag_tool_ad721785d0fa3678ba447f7cd0f94e4c3}\label{class_move_group_handle_drag_tool_ad721785d0fa3678ba447f7cd0f94e4c3}} 
\index{MoveGroupHandleDragTool@{MoveGroupHandleDragTool}!drag@{drag}}
\index{drag@{drag}!MoveGroupHandleDragTool@{MoveGroupHandleDragTool}}
\doxysubsubsection{\texorpdfstring{drag()}{drag()}}
{\footnotesize\ttfamily void Move\+Group\+Handle\+Drag\+Tool\+::drag (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_function_panel_1_1_drag_tool}{Function\+Panel\+::\+Drag\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00444                                                  \{}
\DoxyCodeLine{00445   \textcolor{comment}{//  if(!m\_curve) return;}}
\DoxyCodeLine{00446   QPoint pos = e-\/>pos();}
\DoxyCodeLine{00447   QPointF posF(pos);}
\DoxyCodeLine{00448 }
\DoxyCodeLine{00449   \textcolor{comment}{/*}}
\DoxyCodeLine{00450 \textcolor{comment}{if(m\_nSpeed != QPointF(0,0))}}
\DoxyCodeLine{00451 \textcolor{comment}{\{}}
\DoxyCodeLine{00452 \textcolor{comment}{QPointF delta = posF-\/p0;}}
\DoxyCodeLine{00453 \textcolor{comment}{posF -\/= m\_nSpeed*(delta.x()*m\_nSpeed.x()+delta.y()*m\_nSpeed.y());}}
\DoxyCodeLine{00454 \textcolor{comment}{if(  m\_handle == FunctionPanel::SpeedIn \&\& posF.x()>p0.x()}}
\DoxyCodeLine{00455 \textcolor{comment}{|| m\_handle == FunctionPanel::SpeedOut \&\& posF.x()<p0.x())}}
\DoxyCodeLine{00456 \textcolor{comment}{posF = p0;}}
\DoxyCodeLine{00457 \textcolor{comment}{\}}}
\DoxyCodeLine{00458 \textcolor{comment}{else}}
\DoxyCodeLine{00459 \textcolor{comment}{\{}}
\DoxyCodeLine{00460 \textcolor{comment}{if(  m\_handle == FunctionPanel::SpeedIn \&\& posF.x()>p0.x()}}
\DoxyCodeLine{00461 \textcolor{comment}{|| m\_handle == FunctionPanel::SpeedOut \&\& posF.x()<p0.x())}}
\DoxyCodeLine{00462 \textcolor{comment}{posF.setX(p0.x());}}
\DoxyCodeLine{00463 \textcolor{comment}{\}}}
\DoxyCodeLine{00464 \textcolor{comment}{*/}}
\DoxyCodeLine{00465 }
\DoxyCodeLine{00466   \textcolor{keywordtype}{double} frame = m\_panel-\/>xToFrame(posF.x());}
\DoxyCodeLine{00467 }
\DoxyCodeLine{00468   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_setters.size(); i++) \{}
\DoxyCodeLine{00469     \mbox{\hyperlink{class_t_double_keyframe}{TDoubleKeyframe}} kf     = m\_setters[i].first;}
\DoxyCodeLine{00470     \mbox{\hyperlink{class_keyframe_setter}{KeyframeSetter}} *setter = m\_setters[i].second;}
\DoxyCodeLine{00471 }
\DoxyCodeLine{00472     \textcolor{keywordflow}{if} (m\_handle == 101)  \textcolor{comment}{// why the magic numbers... use enums!}}
\DoxyCodeLine{00473     \{}
\DoxyCodeLine{00474       kf.m\_speedOut.x = frame -\/ kf.m\_frame;}
\DoxyCodeLine{00475 }
\DoxyCodeLine{00476       \textcolor{keywordflow}{switch} (kf.m\_type) \{}
\DoxyCodeLine{00477       \textcolor{keywordflow}{case} TDoubleKeyframe::SpeedInOut:}
\DoxyCodeLine{00478         setter-\/>setSpeedOut(kf.m\_speedOut);}
\DoxyCodeLine{00479         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00480       \textcolor{keywordflow}{case} TDoubleKeyframe::EaseInOut:}
\DoxyCodeLine{00481         setter-\/>setEaseOut(kf.m\_speedOut.x);}
\DoxyCodeLine{00482         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00483       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00484         assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00485       \}}
\DoxyCodeLine{00486     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_handle == 102)  \textcolor{comment}{// aagghhrrr}}
\DoxyCodeLine{00487     \{}
\DoxyCodeLine{00488       kf.m\_speedIn.x = frame -\/ kf.m\_frame;}
\DoxyCodeLine{00489 }
\DoxyCodeLine{00490       \textcolor{keywordflow}{switch} (kf.m\_prevType) \{}
\DoxyCodeLine{00491       \textcolor{keywordflow}{case} TDoubleKeyframe::SpeedInOut:}
\DoxyCodeLine{00492         setter-\/>setSpeedIn(kf.m\_speedIn);}
\DoxyCodeLine{00493         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00494       \textcolor{keywordflow}{case} TDoubleKeyframe::EaseInOut:}
\DoxyCodeLine{00495         setter-\/>setEaseIn(kf.m\_speedIn.x);}
\DoxyCodeLine{00496         \textcolor{keywordflow}{break};}
\DoxyCodeLine{00497       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00498         assert(\textcolor{keyword}{false});}
\DoxyCodeLine{00499       \}}
\DoxyCodeLine{00500     \}}
\DoxyCodeLine{00501   \}}
\DoxyCodeLine{00502 }
\DoxyCodeLine{00503   \textcolor{comment}{/*}}
\DoxyCodeLine{00504 \textcolor{comment}{switch(m\_handle)}}
\DoxyCodeLine{00505 \textcolor{comment}{\{}}
\DoxyCodeLine{00506 \textcolor{comment}{}}
\DoxyCodeLine{00507 \textcolor{comment}{}}
\DoxyCodeLine{00508 \textcolor{comment}{case FunctionPanel::SpeedIn:}}
\DoxyCodeLine{00509 \textcolor{comment}{if(m\_keyframe.m\_type != TDoubleKeyframe::SpeedInOut)}}
\DoxyCodeLine{00510 \textcolor{comment}{\{}}
\DoxyCodeLine{00511 \textcolor{comment}{}}
\DoxyCodeLine{00512 \textcolor{comment}{\}}}
\DoxyCodeLine{00513 \textcolor{comment}{m\_setter.setSpeedIn(handlePos);}}
\DoxyCodeLine{00514 \textcolor{comment}{break;}}
\DoxyCodeLine{00515 \textcolor{comment}{case FunctionPanel::SpeedOut:m\_setter.setSpeedOut(handlePos); break;}}
\DoxyCodeLine{00516 \textcolor{comment}{case FunctionPanel::EaseIn:m\_setter.setEaseIn(handlePos.x); break;}}
\DoxyCodeLine{00517 \textcolor{comment}{case FunctionPanel::EaseOut:m\_setter.setEaseOut(handlePos.x); break;}}
\DoxyCodeLine{00518 \textcolor{comment}{case FunctionPanel::EaseInPercentage:}}
\DoxyCodeLine{00519 \textcolor{comment}{if(m\_segmentWidth>0)}}
\DoxyCodeLine{00520 \textcolor{comment}{m\_setter.setEaseIn(100.0*handlePos.x/m\_segmentWidth);}}
\DoxyCodeLine{00521 \textcolor{comment}{break;}}
\DoxyCodeLine{00522 \textcolor{comment}{case FunctionPanel::EaseOutPercentage:}}
\DoxyCodeLine{00523 \textcolor{comment}{if(m\_segmentWidth>0)}}
\DoxyCodeLine{00524 \textcolor{comment}{m\_setter.setEaseOut(100.0*handlePos.x/m\_segmentWidth);}}
\DoxyCodeLine{00525 \textcolor{comment}{break;}}
\DoxyCodeLine{00526 \textcolor{comment}{case 100:}}
\DoxyCodeLine{00527 \textcolor{comment}{case 101:}}
\DoxyCodeLine{00528 \textcolor{comment}{case 102:}}
\DoxyCodeLine{00529 \textcolor{comment}{break;}}
\DoxyCodeLine{00530 \textcolor{comment}{default:assert(0);}}
\DoxyCodeLine{00531 \textcolor{comment}{\}}}
\DoxyCodeLine{00532 \textcolor{comment}{*/}}
\DoxyCodeLine{00533   m\_panel-\/>update();}
\DoxyCodeLine{00534 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_move_group_handle_drag_tool_abfd32449a1304a8994854fa4a53951d1}\label{class_move_group_handle_drag_tool_abfd32449a1304a8994854fa4a53951d1}} 
\index{MoveGroupHandleDragTool@{MoveGroupHandleDragTool}!release@{release}}
\index{release@{release}!MoveGroupHandleDragTool@{MoveGroupHandleDragTool}}
\doxysubsubsection{\texorpdfstring{release()}{release()}}
{\footnotesize\ttfamily void Move\+Group\+Handle\+Drag\+Tool\+::release (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_function_panel_1_1_drag_tool}{Function\+Panel\+::\+Drag\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00538                                                     \{}
\DoxyCodeLine{00539   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)m\_setters.size(); i++) \textcolor{keyword}{delete} m\_setters[i].second;}
\DoxyCodeLine{00540   m\_setters.clear();}
\DoxyCodeLine{00541 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzqt/functionpaneltools.\+h\item 
E\+:/opentoonz/toonz/sources/toonzqt/functionpaneltools.\+cpp\end{DoxyCompactItemize}
