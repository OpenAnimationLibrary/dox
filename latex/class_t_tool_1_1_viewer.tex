\hypertarget{class_t_tool_1_1_viewer}{}\doxysection{TTool\+::Viewer Class Reference}
\label{class_t_tool_1_1_viewer}\index{TTool::Viewer@{TTool::Viewer}}


The \mbox{\hyperlink{class_t_tool_1_1_viewer}{TTool\+::\+Viewer}} class is the abstract base class that provides an interface for \mbox{\hyperlink{class_t_tool}{TTool}} viewer widgets (it is required that such widgets support Open\+GL).  




{\ttfamily \#include $<$tool.\+h$>$}

Inheritance diagram for TTool\+::Viewer\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_t_tool_1_1_viewer}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{class_image_painter_1_1_visual_settings}{Image\+Painter\+::\+Visual\+Settings}} \& \mbox{\hyperlink{class_t_tool_1_1_viewer_a1c652f2c45c7dcb2c1a3f81710f18fc5}{visual\+Settings}} () const
\item 
\mbox{\hyperlink{class_image_painter_1_1_visual_settings}{Image\+Painter\+::\+Visual\+Settings}} \& \mbox{\hyperlink{class_t_tool_1_1_viewer_acc648a59b91375bde05a15a861dd9b8e}{visual\+Settings}} ()
\item 
virtual double \mbox{\hyperlink{class_t_tool_1_1_viewer_a0e87a68354646cc8c05128437b7df35d}{get\+Pixel\+Size}} () const =0
\item 
virtual void \mbox{\hyperlink{class_t_tool_1_1_viewer_a3c78921157249891a6ec73eb94501d2a}{invalidate\+All}} ()=0
\item 
virtual void \mbox{\hyperlink{class_t_tool_1_1_viewer_a4e256660e14db34f8b1d3d74b62e8851}{GLInvalidate\+All}} ()=0
\item 
virtual void \mbox{\hyperlink{class_t_tool_1_1_viewer_a3ca66eeb722bff291bc1d0d5463a706b}{GLInvalidate\+Rect}} (const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect)=0
\item 
virtual void \mbox{\hyperlink{class_t_tool_1_1_viewer_ac9783019e219f37d1c4bc038302e3485}{invalidate\+Tool\+Status}} ()=0
\item 
virtual \mbox{\hyperlink{class_t_affine}{TAffine}} \mbox{\hyperlink{class_t_tool_1_1_viewer_a97b71c149134c5a3d0ba0d5333b0b3c2}{get\+View\+Matrix}} () const
\item 
virtual int \mbox{\hyperlink{class_t_tool_1_1_viewer_a39e1e08bc287e5ca5a9ff6e7ac968ca2}{pos\+To\+Column\+Index}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, double distance, bool include\+Invisible=true) const =0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a540f625211287abf8eb989a91a7c55fd}\label{class_t_tool_1_1_viewer_a540f625211287abf8eb989a91a7c55fd}} 
virtual void {\bfseries pos\+To\+Column\+Indexes} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, std\+::vector$<$ int $>$ \&indexes, double distance, bool include\+Invisible=true) const =0
\item 
virtual int \mbox{\hyperlink{class_t_tool_1_1_viewer_aa68aee09530696a8996e835801ea59f2}{pos\+To\+Row}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, double distance, bool include\+Invisible=true, bool current\+Column\+Only=false) const =0
\item 
virtual \mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_t_tool_1_1_viewer_a00ad8f88b4832e92cfd91b3f5ba8efd6}{world\+To\+Pos}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&world\+Pos) const =0
\begin{DoxyCompactList}\small\item\em return pos in pixel, bottom-\/left origin \end{DoxyCompactList}\item 
virtual int \mbox{\hyperlink{class_t_tool_1_1_viewer_a25c39c87c36587cf9cb0fdc09c59e6d4}{pick}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&point)=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a7f110543c4241a1ae7965363753a7fb9}\label{class_t_tool_1_1_viewer_a7f110543c4241a1ae7965363753a7fb9}} 
virtual \mbox{\hyperlink{class_t_point_t}{TPointD}} {\bfseries win\+To\+World} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&win\+Pos) const =0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_ac746aac1759b2656f004ed3e20125891}\label{class_t_tool_1_1_viewer_ac746aac1759b2656f004ed3e20125891}} 
virtual void {\bfseries pan} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&delta)=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a295b39f4cea2720861b2e7c67651e1c5}\label{class_t_tool_1_1_viewer_a295b39f4cea2720861b2e7c67651e1c5}} 
virtual void {\bfseries zoom} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&center, double scale\+Factor)=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_ae254bcd7f0eaa2a13cd1eb75afc8f792}\label{class_t_tool_1_1_viewer_ae254bcd7f0eaa2a13cd1eb75afc8f792}} 
virtual void {\bfseries rotate} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&center, double angle)=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_aace068c2a1088f162b333101f43e30bf}\label{class_t_tool_1_1_viewer_aace068c2a1088f162b333101f43e30bf}} 
virtual void {\bfseries rotate3D} (double d\+Phi, double d\+Theta)=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_ae5bda84317221131a561194de11ee3c0}\label{class_t_tool_1_1_viewer_ae5bda84317221131a561194de11ee3c0}} 
virtual bool {\bfseries is3\+DView} () const =0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_ad19cd3ed1b61a4355df93ce722cc05aa}\label{class_t_tool_1_1_viewer_ad19cd3ed1b61a4355df93ce722cc05aa}} 
virtual bool {\bfseries get\+Is\+FlippedX} () const =0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a2a538a1ec861ab138ab8e74ea356ba89}\label{class_t_tool_1_1_viewer_a2a538a1ec861ab138ab8e74ea356ba89}} 
virtual bool {\bfseries get\+Is\+FlippedY} () const =0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_af8c80c704e84c0c6f9cf3f95206a5d82}\label{class_t_tool_1_1_viewer_af8c80c704e84c0c6f9cf3f95206a5d82}} 
virtual double {\bfseries project\+ToZ} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&delta)=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_ac00e6f870feace689b91e4ae66e40a91}\label{class_t_tool_1_1_viewer_ac00e6f870feace689b91e4ae66e40a91}} 
virtual \mbox{\hyperlink{class_t_point_t}{TPointD}} {\bfseries get\+Dpi\+Scale} () const =0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a312e2195a6cc72ff07cc53c7cefbda16}\label{class_t_tool_1_1_viewer_a312e2195a6cc72ff07cc53c7cefbda16}} 
virtual int {\bfseries get\+VGuide\+Count} ()=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a3b0ea906d9ac4a4e0a5d7a0def468b75}\label{class_t_tool_1_1_viewer_a3b0ea906d9ac4a4e0a5d7a0def468b75}} 
virtual int {\bfseries get\+HGuide\+Count} ()=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_ab58cb341b7773d6c44bb4f84aae980ff}\label{class_t_tool_1_1_viewer_ab58cb341b7773d6c44bb4f84aae980ff}} 
virtual double {\bfseries get\+HGuide} (int index)=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a9881535948552cce5fbdbc6bb49d5c3a}\label{class_t_tool_1_1_viewer_a9881535948552cce5fbdbc6bb49d5c3a}} 
virtual double {\bfseries get\+VGuide} (int index)=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a136a548ece008efc93c60ba09862c9e1}\label{class_t_tool_1_1_viewer_a136a548ece008efc93c60ba09862c9e1}} 
virtual void {\bfseries reset\+Input\+Method} ()=0
\item 
\mbox{\Hypertarget{class_t_tool_1_1_viewer_add0c29b288d7e5aa46c7cf63263d0872}\label{class_t_tool_1_1_viewer_add0c29b288d7e5aa46c7cf63263d0872}} 
virtual void {\bfseries set\+Focus} ()=0
\item 
virtual \mbox{\hyperlink{class_t_rect_t}{TRectD}} \mbox{\hyperlink{class_t_tool_1_1_viewer_a37c413739d42d4b3abeeaed84867ff5c}{get\+Geometry}} () const =0
\item 
virtual void \mbox{\hyperlink{class_t_tool_1_1_viewer_aa5d0ab86aa73c34601b19080a00be58d}{bind\+FBO}} ()
\item 
virtual void \mbox{\hyperlink{class_t_tool_1_1_viewer_a680dda0c06643606d2476e49eb62e6b3}{release\+FBO}} ()
\item 
int \mbox{\hyperlink{class_t_tool_1_1_viewer_a26083caaca4f26eae37897af3413bbe9}{get\+Guided\+Stroke\+Picker\+Mode}} ()
\item 
void \mbox{\hyperlink{class_t_tool_1_1_viewer_a4397ff48c2444856a83202cd19a69364}{set\+Guided\+Stroke\+Picker\+Mode}} (int mode)
\item 
int \mbox{\hyperlink{class_t_tool_1_1_viewer_af22f078ad00d926e66a9a63ec4ed944d}{get\+Guided\+Stroke\+Picker\+Cursor}} ()
\item 
int \mbox{\hyperlink{class_t_tool_1_1_viewer_a6e261d3b57c728e9f9e96db4b3651c5a}{get\+Guided\+Front\+Stroke}} ()
\item 
void \mbox{\hyperlink{class_t_tool_1_1_viewer_a8d438f1bcbaf0f45f507a55728bdb89f}{set\+Guided\+Front\+Stroke}} (int stroke\+Idx)
\item 
int \mbox{\hyperlink{class_t_tool_1_1_viewer_aa822aaf22656671bf97bdc6684c78431}{get\+Guided\+Back\+Stroke}} ()
\item 
void \mbox{\hyperlink{class_t_tool_1_1_viewer_a63667f56d4a66f8c1bf86dab2dcaab34}{set\+Guided\+Back\+Stroke}} (int stroke\+Idx)
\item 
void \mbox{\hyperlink{class_t_tool_1_1_viewer_a6b7f7c2caab568bf9e536d658359299f}{get\+Guided\+Frame\+Idx}} (int $\ast$back\+Idx, int $\ast$front\+Idx)
\item 
void \mbox{\hyperlink{class_t_tool_1_1_viewer_ad280e427e1890baa149a8c61bca1fd9c}{do\+Pick\+Guide\+Stroke}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&pos)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_image_painter_1_1_visual_settings}{Image\+Painter\+::\+Visual\+Settings}} \mbox{\hyperlink{class_t_tool_1_1_viewer_acf21c5c07a1d6db104fb0518d654e5f3}{m\+\_\+visual\+Settings}}
\begin{DoxyCompactList}\small\item\em Settings used by the \mbox{\hyperlink{class_t_tool_1_1_viewer}{Viewer}} to draw scene contents. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_t_tool_1_1_viewer_a910c8d6d88decdec480370f2eda2f0ba}{guided\+Stroke\+Pick\+Mode}} = 0
\item 
int \mbox{\hyperlink{class_t_tool_1_1_viewer_a55cb0816989148d89ec1d88f3ef0a4d7}{m\+\_\+guided\+Front\+Stroke}} = -\/1
\item 
int \mbox{\hyperlink{class_t_tool_1_1_viewer_a1bd87fda9c05517963c40fe4de3f1ce0}{m\+\_\+guided\+Back\+Stroke}} = -\/1
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{class_t_tool_1_1_viewer}{TTool\+::\+Viewer}} class is the abstract base class that provides an interface for \mbox{\hyperlink{class_t_tool}{TTool}} viewer widgets (it is required that such widgets support Open\+GL). 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a452c39de664b0869813fd8ab16996cdc}\label{class_t_tool_1_1_viewer_a452c39de664b0869813fd8ab16996cdc}} 
\index{TTool::Viewer@{TTool::Viewer}!Viewer@{Viewer}}
\index{Viewer@{Viewer}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{Viewer()}{Viewer()}}
{\footnotesize\ttfamily TTool\+::\+Viewer\+::\+Viewer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00599 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_aadc957910d121d7beb6c460d7d02d97f}\label{class_t_tool_1_1_viewer_aadc957910d121d7beb6c460d7d02d97f}} 
\index{TTool::Viewer@{TTool::Viewer}!````~Viewer@{$\sim$Viewer}}
\index{````~Viewer@{$\sim$Viewer}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{$\sim$Viewer()}{~Viewer()}}
{\footnotesize\ttfamily virtual TTool\+::\+Viewer\+::$\sim$\+Viewer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00600 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_aa5d0ab86aa73c34601b19080a00be58d}\label{class_t_tool_1_1_viewer_aa5d0ab86aa73c34601b19080a00be58d}} 
\index{TTool::Viewer@{TTool::Viewer}!bindFBO@{bindFBO}}
\index{bindFBO@{bindFBO}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{bindFBO()}{bindFBO()}}
{\footnotesize\ttfamily virtual void TTool\+::\+Viewer\+::bind\+FBO (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00680 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_ad280e427e1890baa149a8c61bca1fd9c}\label{class_t_tool_1_1_viewer_ad280e427e1890baa149a8c61bca1fd9c}} 
\index{TTool::Viewer@{TTool::Viewer}!doPickGuideStroke@{doPickGuideStroke}}
\index{doPickGuideStroke@{doPickGuideStroke}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{doPickGuideStroke()}{doPickGuideStroke()}}
{\footnotesize\ttfamily void TTool\+::\+Viewer\+::do\+Pick\+Guide\+Stroke (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{pos }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01150                                                       \{}
\DoxyCodeLine{01151   \textcolor{keywordtype}{int} pickerMode = getGuidedStrokePickerMode();}
\DoxyCodeLine{01152 }
\DoxyCodeLine{01153   \textcolor{keywordflow}{if} (!pickerMode) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01154 }
\DoxyCodeLine{01155   \textcolor{keywordflow}{if} (pickerMode >= -\/2 \&\& pickerMode <= 2) setGuidedStrokePickerMode(0);}
\DoxyCodeLine{01156 }
\DoxyCodeLine{01157   \textcolor{keywordtype}{int} osBack  = -\/1;}
\DoxyCodeLine{01158   \textcolor{keywordtype}{int} osFront = -\/1;}
\DoxyCodeLine{01159   \textcolor{keywordtype}{int} os      = -\/1;}
\DoxyCodeLine{01160 }
\DoxyCodeLine{01161   getGuidedFrameIdx(\&osBack, \&osFront);}
\DoxyCodeLine{01162 }
\DoxyCodeLine{01163   \textcolor{keywordflow}{if} (pickerMode < 0)  \textcolor{comment}{// Previous Frame}}
\DoxyCodeLine{01164     os = osBack;}
\DoxyCodeLine{01165   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pickerMode > 0)  \textcolor{comment}{// Next Frame}}
\DoxyCodeLine{01166     os = osFront;}
\DoxyCodeLine{01167 }
\DoxyCodeLine{01168   \mbox{\hyperlink{class_t_frame_id}{TFrameId}} fid;}
\DoxyCodeLine{01169   \mbox{\hyperlink{class_t_frame_handle}{TFrameHandle}} *currentFrame = getApplication()-\/>getCurrentFrame();}
\DoxyCodeLine{01170   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl =}
\DoxyCodeLine{01171       getApplication()-\/>getCurrentLevel()-\/>getLevel()-\/>\mbox{\hyperlink{class_t_xsh_simple_level_aac1fd1d3ecf0778b8ee139c9119fcdef}{getSimpleLevel}}();}
\DoxyCodeLine{01172   \textcolor{keywordflow}{if} (!sl) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01173 }
\DoxyCodeLine{01174   \textcolor{keywordflow}{if} (currentFrame-\/>isEditingScene()) \{}
\DoxyCodeLine{01175     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = getApplication()-\/>getCurrentXsheet()-\/>getXsheet();}
\DoxyCodeLine{01176     \textcolor{keywordtype}{int} col      = getApplication()-\/>getCurrentColumn()-\/>getColumnIndex();}
\DoxyCodeLine{01177     \textcolor{keywordflow}{if} (xsh \&\& col >= 0) \{}
\DoxyCodeLine{01178       \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(os, col);}
\DoxyCodeLine{01179       \textcolor{keywordflow}{if} (!cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) fid = cell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}();}
\DoxyCodeLine{01180     \}}
\DoxyCodeLine{01181   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{01182     fid = sl-\/>\mbox{\hyperlink{class_t_xsh_simple_level_abb72e2ab0c1baeda0a8af3146003181d}{getFrameId}}(os);}
\DoxyCodeLine{01183 }
\DoxyCodeLine{01184   \textcolor{keywordflow}{if} (fid.isEmptyFrame()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01185 }
\DoxyCodeLine{01186   \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} fvi = sl-\/>getFrame(fid, \textcolor{keyword}{false});}
\DoxyCodeLine{01187   \textcolor{keywordflow}{if} (!fvi) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01188 }
\DoxyCodeLine{01189   UINT index;}
\DoxyCodeLine{01190   \textcolor{keywordtype}{double} t, dist2 = 0;}
\DoxyCodeLine{01191   \textcolor{keywordtype}{double} pixelSize = \mbox{\hyperlink{class_t_tool_1_1_viewer_a0e87a68354646cc8c05128437b7df35d}{getPixelSize}}();}
\DoxyCodeLine{01192   \mbox{\hyperlink{class_t_affine}{TAffine}} aff      = \mbox{\hyperlink{class_t_tool_1_1_viewer_a97b71c149134c5a3d0ba0d5333b0b3c2}{getViewMatrix}}();}
\DoxyCodeLine{01193   \textcolor{keywordtype}{double} maxDist   = 5 * pixelSize;}
\DoxyCodeLine{01194   \textcolor{keywordtype}{double} maxDist2  = maxDist * maxDist;}
\DoxyCodeLine{01195   \textcolor{keywordtype}{double} checkDist = maxDist2 * 4;}
\DoxyCodeLine{01196   \mbox{\hyperlink{class_t_stroke}{TStroke}} *strokeRef;}
\DoxyCodeLine{01197   \textcolor{keywordflow}{if} (fvi-\/>getNearestStroke(pos, t, index, dist2)) \{}
\DoxyCodeLine{01198     strokeRef          = fvi-\/>getStroke(index);}
\DoxyCodeLine{01199     \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} cursor = strokeRef-\/>\mbox{\hyperlink{class_t_stroke_ada4f6fc3fea4a7c0b949cd1d9dc6e640}{getThickPoint}}(t);}
\DoxyCodeLine{01200     \textcolor{keywordtype}{double} len         = cursor.thick * pixelSize * sqrt(aff.det());}
\DoxyCodeLine{01201     checkDist          = std::max(checkDist, (len * len));}
\DoxyCodeLine{01202   \}}
\DoxyCodeLine{01203 }
\DoxyCodeLine{01204   \textcolor{keywordflow}{if} (dist2 >= checkDist)}
\DoxyCodeLine{01205     index = -\/1;}
\DoxyCodeLine{01206   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01207     \textcolor{keywordflow}{if} (pickerMode < 0)  \textcolor{comment}{// Previous Frame}}
\DoxyCodeLine{01208       setGuidedBackStroke(index);}
\DoxyCodeLine{01209     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pickerMode > 0)  \textcolor{comment}{// Next Frame}}
\DoxyCodeLine{01210       setGuidedFrontStroke(index);}
\DoxyCodeLine{01211   \}}
\DoxyCodeLine{01212 }
\DoxyCodeLine{01213   \textcolor{keywordflow}{if} (pickerMode <= -\/2) \{}
\DoxyCodeLine{01214     \textcolor{keywordflow}{if} (index != -\/1) setGuidedStrokePickerMode(pickerMode * -\/1);}
\DoxyCodeLine{01215   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (pickerMode >= 2) \{}
\DoxyCodeLine{01216     \textcolor{keywordflow}{if} (pickerMode >= 3 \&\& index != -\/1) \{}
\DoxyCodeLine{01217       \mbox{\hyperlink{class_t_tool}{TTool}} *tool = TTool::getTool(T\_Brush, TTool::ToolTargetType::VectorImage);}
\DoxyCodeLine{01218       \mbox{\hyperlink{class_toonz_vector_brush_tool}{ToonzVectorBrushTool}} *vbTool = (\mbox{\hyperlink{class_toonz_vector_brush_tool}{ToonzVectorBrushTool}} *)tool;}
\DoxyCodeLine{01219       \textcolor{keywordflow}{if} (vbTool) \{}
\DoxyCodeLine{01220         vbTool-\/>setViewer(\textcolor{keyword}{this});}
\DoxyCodeLine{01221         vbTool-\/>doGuidedAutoInbetween(fid, fvi, strokeRef, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false},}
\DoxyCodeLine{01222                                       \textcolor{keyword}{false});}
\DoxyCodeLine{01223       \}}
\DoxyCodeLine{01224 }
\DoxyCodeLine{01225       setGuidedStrokePickerMode(pickerMode * -\/1);}
\DoxyCodeLine{01226     \}}
\DoxyCodeLine{01227   \}}
\DoxyCodeLine{01228 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a37c413739d42d4b3abeeaed84867ff5c}\label{class_t_tool_1_1_viewer_a37c413739d42d4b3abeeaed84867ff5c}} 
\index{TTool::Viewer@{TTool::Viewer}!getGeometry@{getGeometry}}
\index{getGeometry@{getGeometry}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{getGeometry()}{getGeometry()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{class_t_rect_t}{TRectD}} TTool\+::\+Viewer\+::get\+Geometry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



Implemented in \mbox{\hyperlink{class_scene_viewer_a7894cec2d508ff6e264616df00b26479}{Scene\+Viewer}}.

\mbox{\Hypertarget{class_t_tool_1_1_viewer_aa822aaf22656671bf97bdc6684c78431}\label{class_t_tool_1_1_viewer_aa822aaf22656671bf97bdc6684c78431}} 
\index{TTool::Viewer@{TTool::Viewer}!getGuidedBackStroke@{getGuidedBackStroke}}
\index{getGuidedBackStroke@{getGuidedBackStroke}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{getGuidedBackStroke()}{getGuidedBackStroke()}}
{\footnotesize\ttfamily int TTool\+::\+Viewer\+::get\+Guided\+Back\+Stroke (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00701 \{ \textcolor{keywordflow}{return} m\_guidedBackStroke; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a6b7f7c2caab568bf9e536d658359299f}\label{class_t_tool_1_1_viewer_a6b7f7c2caab568bf9e536d658359299f}} 
\index{TTool::Viewer@{TTool::Viewer}!getGuidedFrameIdx@{getGuidedFrameIdx}}
\index{getGuidedFrameIdx@{getGuidedFrameIdx}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{getGuidedFrameIdx()}{getGuidedFrameIdx()}}
{\footnotesize\ttfamily void TTool\+::\+Viewer\+::get\+Guided\+Frame\+Idx (\begin{DoxyParamCaption}\item[{int $\ast$}]{back\+Idx,  }\item[{int $\ast$}]{front\+Idx }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01071                                                                \{}
\DoxyCodeLine{01072   \textcolor{keywordflow}{if} (!Preferences::instance()-\/>isGuidedDrawingEnabled()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01073 }
\DoxyCodeLine{01074   \mbox{\hyperlink{class_onion_skin_mask}{OnionSkinMask}} osMask =}
\DoxyCodeLine{01075       m\_application-\/>getCurrentOnionSkin()-\/>getOnionSkinMask();}
\DoxyCodeLine{01076 }
\DoxyCodeLine{01077   \textcolor{keywordflow}{if} (!osMask.isEnabled() || osMask.isEmpty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01078 }
\DoxyCodeLine{01079   \mbox{\hyperlink{class_t_frame_handle}{TFrameHandle}} *currentFrame = getApplication()-\/>getCurrentFrame();}
\DoxyCodeLine{01080 }
\DoxyCodeLine{01081   \textcolor{keywordtype}{int} cidx     = currentFrame-\/>getFrameIndex();}
\DoxyCodeLine{01082   \textcolor{keywordtype}{int} mosBack  = 0;}
\DoxyCodeLine{01083   \textcolor{keywordtype}{int} mosFront = 0;}
\DoxyCodeLine{01084   \textcolor{keywordtype}{int} mosCount = osMask.\mbox{\hyperlink{class_onion_skin_mask_a08b242aaeb38bbb2e1159f56f56242ce}{getMosCount}}();}
\DoxyCodeLine{01085   \textcolor{keywordtype}{int} fosBack  = -\/1;}
\DoxyCodeLine{01086   \textcolor{keywordtype}{int} fosFront = -\/1;}
\DoxyCodeLine{01087   \textcolor{keywordtype}{int} fosCount = osMask.\mbox{\hyperlink{class_onion_skin_mask_a23336c6bb8485bc8105b81347dca27fd}{getFosCount}}();}
\DoxyCodeLine{01088 }
\DoxyCodeLine{01089   \textcolor{comment}{// Find onion-\/skinned drawing that is being used for guided auto inbetween}}
\DoxyCodeLine{01090   \textcolor{keywordflow}{if} (Preferences::instance()-\/>getGuidedDrawingType() == 1) \{}
\DoxyCodeLine{01091     \textcolor{comment}{// Get closest moving unionskin}}
\DoxyCodeLine{01092     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < mosCount; i++) \{}
\DoxyCodeLine{01093       \textcolor{keywordtype}{int} cmos = osMask.getMos(i);}
\DoxyCodeLine{01094       \textcolor{keywordflow}{if} (cmos == 0) \textcolor{keywordflow}{continue};  \textcolor{comment}{// skip current}}
\DoxyCodeLine{01095       \textcolor{keywordflow}{if} (cmos < 0 \&\& (!mosBack || cmos > mosBack)) mosBack = cmos;}
\DoxyCodeLine{01096       \textcolor{keywordflow}{if} (cmos > 0 \&\& (!mosFront || cmos < mosFront)) mosFront = cmos;}
\DoxyCodeLine{01097     \}}
\DoxyCodeLine{01098     \textcolor{keywordflow}{if} (mosBack) *backIdx = mosBack + cidx;}
\DoxyCodeLine{01099     \textcolor{keywordflow}{if} (mosFront) *frontIdx = mosFront + cidx;}
\DoxyCodeLine{01100 }
\DoxyCodeLine{01101     \textcolor{comment}{// Get closest fixed onionskin}}
\DoxyCodeLine{01102     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < fosCount; i++) \{}
\DoxyCodeLine{01103       \textcolor{keywordtype}{int} cfos = osMask.getFos(i);}
\DoxyCodeLine{01104       \textcolor{keywordflow}{if} (cfos == cidx) \textcolor{keywordflow}{continue};  \textcolor{comment}{// skip current}}
\DoxyCodeLine{01105       \textcolor{keywordflow}{if} (cfos < cidx \&\& (fosBack == -\/1 || cfos > fosBack)) fosBack = cfos;}
\DoxyCodeLine{01106       \textcolor{keywordflow}{if} (cfos > cidx \&\& (fosFront == -\/1 || cfos < fosFront)) fosFront = cfos;}
\DoxyCodeLine{01107     \}}
\DoxyCodeLine{01108 }
\DoxyCodeLine{01109     \textcolor{keywordflow}{if} (*backIdx == -\/1)}
\DoxyCodeLine{01110       *backIdx = fosBack;}
\DoxyCodeLine{01111     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (fosBack != -\/1)}
\DoxyCodeLine{01112       *backIdx = std::max(*backIdx, fosBack);}
\DoxyCodeLine{01113     \textcolor{keywordflow}{if} (*frontIdx == -\/1)}
\DoxyCodeLine{01114       *frontIdx = fosFront;}
\DoxyCodeLine{01115     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (fosFront != -\/1)}
\DoxyCodeLine{01116       *frontIdx = std::min(*frontIdx, fosFront);}
\DoxyCodeLine{01117   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (Preferences::instance()-\/>getGuidedDrawingType() ==}
\DoxyCodeLine{01118              2) \{  \textcolor{comment}{// Furthest drawing}}
\DoxyCodeLine{01119                    \textcolor{comment}{// Get moving unionskin}}
\DoxyCodeLine{01120     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < mosCount; i++) \{}
\DoxyCodeLine{01121       \textcolor{keywordtype}{int} cmos = osMask.getMos(i);}
\DoxyCodeLine{01122       \textcolor{keywordflow}{if} (cmos == 0) \textcolor{keywordflow}{continue};  \textcolor{comment}{// skip current}}
\DoxyCodeLine{01123       \textcolor{keywordflow}{if} (cmos < 0 \&\& (!mosBack || cmos < mosBack)) mosBack = cmos;}
\DoxyCodeLine{01124       \textcolor{keywordflow}{if} (cmos > 0 \&\& (!mosFront || cmos > mosFront)) mosFront = cmos;}
\DoxyCodeLine{01125     \}}
\DoxyCodeLine{01126     \textcolor{keywordflow}{if} (mosBack) *backIdx = mosBack + cidx;}
\DoxyCodeLine{01127     \textcolor{keywordflow}{if} (mosFront) *frontIdx = mosFront + cidx;}
\DoxyCodeLine{01128 }
\DoxyCodeLine{01129     \textcolor{comment}{// Get fixed onionskin}}
\DoxyCodeLine{01130     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < fosCount; i++) \{}
\DoxyCodeLine{01131       \textcolor{keywordtype}{int} cfos = osMask.getFos(i);}
\DoxyCodeLine{01132       \textcolor{keywordflow}{if} (cfos == cidx) \textcolor{keywordflow}{continue};  \textcolor{comment}{// skip current}}
\DoxyCodeLine{01133       \textcolor{keywordflow}{if} (cfos < cidx \&\& (fosBack == -\/1 || cfos < fosBack)) fosBack = cfos;}
\DoxyCodeLine{01134       \textcolor{keywordflow}{if} (cfos > cidx \&\& (fosFront == -\/1 || cfos > fosFront)) fosFront = cfos;}
\DoxyCodeLine{01135     \}}
\DoxyCodeLine{01136 }
\DoxyCodeLine{01137     \textcolor{keywordflow}{if} (*backIdx == -\/1)}
\DoxyCodeLine{01138       *backIdx = fosBack;}
\DoxyCodeLine{01139     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (fosBack != -\/1)}
\DoxyCodeLine{01140       *backIdx = std::min(*backIdx, fosBack);}
\DoxyCodeLine{01141     \textcolor{keywordflow}{if} (*frontIdx == -\/1)}
\DoxyCodeLine{01142       *frontIdx = fosFront;}
\DoxyCodeLine{01143     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (fosFront != -\/1)}
\DoxyCodeLine{01144       *frontIdx = std::max(*frontIdx, fosFront);}
\DoxyCodeLine{01145   \}}
\DoxyCodeLine{01146 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a6e261d3b57c728e9f9e96db4b3651c5a}\label{class_t_tool_1_1_viewer_a6e261d3b57c728e9f9e96db4b3651c5a}} 
\index{TTool::Viewer@{TTool::Viewer}!getGuidedFrontStroke@{getGuidedFrontStroke}}
\index{getGuidedFrontStroke@{getGuidedFrontStroke}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{getGuidedFrontStroke()}{getGuidedFrontStroke()}}
{\footnotesize\ttfamily int TTool\+::\+Viewer\+::get\+Guided\+Front\+Stroke (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00695 \{ \textcolor{keywordflow}{return} m\_guidedFrontStroke; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_af22f078ad00d926e66a9a63ec4ed944d}\label{class_t_tool_1_1_viewer_af22f078ad00d926e66a9a63ec4ed944d}} 
\index{TTool::Viewer@{TTool::Viewer}!getGuidedStrokePickerCursor@{getGuidedStrokePickerCursor}}
\index{getGuidedStrokePickerCursor@{getGuidedStrokePickerCursor}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{getGuidedStrokePickerCursor()}{getGuidedStrokePickerCursor()}}
{\footnotesize\ttfamily int TTool\+::\+Viewer\+::get\+Guided\+Stroke\+Picker\+Cursor (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00686                                     \{}
\DoxyCodeLine{00687     \textcolor{keywordflow}{if} (guidedStrokePickMode < 0)}
\DoxyCodeLine{00688       \textcolor{keywordflow}{return} ToolCursor::PickPrevCursor;}
\DoxyCodeLine{00689     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (guidedStrokePickMode > 0)}
\DoxyCodeLine{00690       \textcolor{keywordflow}{return} ToolCursor::PickNextCursor;}
\DoxyCodeLine{00691     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00692       \textcolor{keywordflow}{return} ToolCursor::PointingHandCursor;}
\DoxyCodeLine{00693   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a26083caaca4f26eae37897af3413bbe9}\label{class_t_tool_1_1_viewer_a26083caaca4f26eae37897af3413bbe9}} 
\index{TTool::Viewer@{TTool::Viewer}!getGuidedStrokePickerMode@{getGuidedStrokePickerMode}}
\index{getGuidedStrokePickerMode@{getGuidedStrokePickerMode}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{getGuidedStrokePickerMode()}{getGuidedStrokePickerMode()}}
{\footnotesize\ttfamily int TTool\+::\+Viewer\+::get\+Guided\+Stroke\+Picker\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00683 \{ \textcolor{keywordflow}{return} guidedStrokePickMode; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a0e87a68354646cc8c05128437b7df35d}\label{class_t_tool_1_1_viewer_a0e87a68354646cc8c05128437b7df35d}} 
\index{TTool::Viewer@{TTool::Viewer}!getPixelSize@{getPixelSize}}
\index{getPixelSize@{getPixelSize}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{getPixelSize()}{getPixelSize()}}
{\footnotesize\ttfamily virtual double TTool\+::\+Viewer\+::get\+Pixel\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

Returns the length of a pixel in current Open\+GL coordinates 

Implemented in \mbox{\hyperlink{class_scene_viewer_a3c7c61456c1f6403bfd86c0729f52207}{Scene\+Viewer}}.

\mbox{\Hypertarget{class_t_tool_1_1_viewer_a97b71c149134c5a3d0ba0d5333b0b3c2}\label{class_t_tool_1_1_viewer_a97b71c149134c5a3d0ba0d5333b0b3c2}} 
\index{TTool::Viewer@{TTool::Viewer}!getViewMatrix@{getViewMatrix}}
\index{getViewMatrix@{getViewMatrix}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{getViewMatrix()}{getViewMatrix()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{class_t_affine}{TAffine}} TTool\+::\+Viewer\+::get\+View\+Matrix (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Gets the viewer\textquotesingle{}s current view affine (ie the transform from starting to current {\itshape  world view \texorpdfstring{$<$}{<}\textbackslash{}I\texorpdfstring{$>$}{>}) }

Reimplemented in \mbox{\hyperlink{class_scene_viewer_a3f746b9c53dc17030711cac65d96f625}{Scene\+Viewer}}.



Referenced by \mbox{\hyperlink{l00187}{Rotate\+Tool\+::draw()}}.

\mbox{\Hypertarget{class_t_tool_1_1_viewer_a4e256660e14db34f8b1d3d74b62e8851}\label{class_t_tool_1_1_viewer_a4e256660e14db34f8b1d3d74b62e8851}} 
\index{TTool::Viewer@{TTool::Viewer}!GLInvalidateAll@{GLInvalidateAll}}
\index{GLInvalidateAll@{GLInvalidateAll}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{GLInvalidateAll()}{GLInvalidateAll()}}
{\footnotesize\ttfamily virtual void TTool\+::\+Viewer\+::\+GLInvalidate\+All (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Redraws the entire viewer, bypassing Qt\textquotesingle{}s event system 

Implemented in \mbox{\hyperlink{class_scene_viewer_ab96170500b3df72aa36a3deb5f69cc11}{Scene\+Viewer}}.



Referenced by \mbox{\hyperlink{l00540}{TTool\+::invalidate()}}.

\mbox{\Hypertarget{class_t_tool_1_1_viewer_a3ca66eeb722bff291bc1d0d5463a706b}\label{class_t_tool_1_1_viewer_a3ca66eeb722bff291bc1d0d5463a706b}} 
\index{TTool::Viewer@{TTool::Viewer}!GLInvalidateRect@{GLInvalidateRect}}
\index{GLInvalidateRect@{GLInvalidateRect}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{GLInvalidateRect()}{GLInvalidateRect()}}
{\footnotesize\ttfamily virtual void TTool\+::\+Viewer\+::\+GLInvalidate\+Rect (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Same as \mbox{\hyperlink{class_t_tool_1_1_viewer_a4e256660e14db34f8b1d3d74b62e8851}{GLInvalidate\+All()}}, 

Implemented in \mbox{\hyperlink{class_scene_viewer_ae5973b384a0f6d4a76fa06ae6343c43f}{Scene\+Viewer}}.



Referenced by \mbox{\hyperlink{l00540}{TTool\+::invalidate()}}.

\mbox{\Hypertarget{class_t_tool_1_1_viewer_a3c78921157249891a6ec73eb94501d2a}\label{class_t_tool_1_1_viewer_a3c78921157249891a6ec73eb94501d2a}} 
\index{TTool::Viewer@{TTool::Viewer}!invalidateAll@{invalidateAll}}
\index{invalidateAll@{invalidateAll}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{invalidateAll()}{invalidateAll()}}
{\footnotesize\ttfamily virtual void TTool\+::\+Viewer\+::invalidate\+All (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

Redraws the entire viewer, passing through Qt\textquotesingle{}s event system 

Implemented in \mbox{\hyperlink{class_scene_viewer_a9865bf9cec6524de9d751f34702aab0f}{Scene\+Viewer}}.



Referenced by \mbox{\hyperlink{l00895}{Plastic\+Tool\+::on\+Change()}}.

\mbox{\Hypertarget{class_t_tool_1_1_viewer_ac9783019e219f37d1c4bc038302e3485}\label{class_t_tool_1_1_viewer_ac9783019e219f37d1c4bc038302e3485}} 
\index{TTool::Viewer@{TTool::Viewer}!invalidateToolStatus@{invalidateToolStatus}}
\index{invalidateToolStatus@{invalidateToolStatus}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{invalidateToolStatus()}{invalidateToolStatus()}}
{\footnotesize\ttfamily virtual void TTool\+::\+Viewer\+::invalidate\+Tool\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

for a specific clipping rect Forces the viewer to update the perceived status of tools 

Implemented in \mbox{\hyperlink{class_scene_viewer_a51e41da45c96d39493ac2753b89d5407}{Scene\+Viewer}}.

\mbox{\Hypertarget{class_t_tool_1_1_viewer_a25c39c87c36587cf9cb0fdc09c59e6d4}\label{class_t_tool_1_1_viewer_a25c39c87c36587cf9cb0fdc09c59e6d4}} 
\index{TTool::Viewer@{TTool::Viewer}!pick@{pick}}
\index{pick@{pick}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{pick()}{pick()}}
{\footnotesize\ttfamily virtual int TTool\+::\+Viewer\+::pick (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{point }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [pure virtual]}}

return the Open\+GL name\+Id of the object intersecting point {\bfseries{p}} (window coordinate, pixels, bottom-\/left origin) 

Implemented in \mbox{\hyperlink{class_scene_viewer_a1163bd98365b4eb35ce09634ea16aff6}{Scene\+Viewer}}.



Referenced by \mbox{\hyperlink{l00557}{TTool\+::pick()}}.

\mbox{\Hypertarget{class_t_tool_1_1_viewer_a39e1e08bc287e5ca5a9ff6e7ac968ca2}\label{class_t_tool_1_1_viewer_a39e1e08bc287e5ca5a9ff6e7ac968ca2}} 
\index{TTool::Viewer@{TTool::Viewer}!posToColumnIndex@{posToColumnIndex}}
\index{posToColumnIndex@{posToColumnIndex}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{posToColumnIndex()}{posToColumnIndex()}}
{\footnotesize\ttfamily virtual int TTool\+::\+Viewer\+::pos\+To\+Column\+Index (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{double}]{distance,  }\item[{bool}]{include\+Invisible = {\ttfamily true} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

return the column index of the drawing intersecting point {\bfseries{p}} (window coordinate, pixels, bottom-\/left origin) 

Implemented in \mbox{\hyperlink{class_scene_viewer_af778bc35f05229be9939d407b964ad9d}{Scene\+Viewer}}.

\mbox{\Hypertarget{class_t_tool_1_1_viewer_aa68aee09530696a8996e835801ea59f2}\label{class_t_tool_1_1_viewer_aa68aee09530696a8996e835801ea59f2}} 
\index{TTool::Viewer@{TTool::Viewer}!posToRow@{posToRow}}
\index{posToRow@{posToRow}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{posToRow()}{posToRow()}}
{\footnotesize\ttfamily virtual int TTool\+::\+Viewer\+::pos\+To\+Row (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{double}]{distance,  }\item[{bool}]{include\+Invisible = {\ttfamily true},  }\item[{bool}]{current\+Column\+Only = {\ttfamily false} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

return the row of the drawing intersecting point {\bfseries{p}} (used with onionskins) (window coordinate, pixels, bottom-\/left origin) 

Implemented in \mbox{\hyperlink{class_scene_viewer_aa2973e9567ddbbfd62d853f96ba26c7a}{Scene\+Viewer}}.

\mbox{\Hypertarget{class_t_tool_1_1_viewer_a680dda0c06643606d2476e49eb62e6b3}\label{class_t_tool_1_1_viewer_a680dda0c06643606d2476e49eb62e6b3}} 
\index{TTool::Viewer@{TTool::Viewer}!releaseFBO@{releaseFBO}}
\index{releaseFBO@{releaseFBO}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{releaseFBO()}{releaseFBO()}}
{\footnotesize\ttfamily virtual void TTool\+::\+Viewer\+::release\+FBO (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00681 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a63667f56d4a66f8c1bf86dab2dcaab34}\label{class_t_tool_1_1_viewer_a63667f56d4a66f8c1bf86dab2dcaab34}} 
\index{TTool::Viewer@{TTool::Viewer}!setGuidedBackStroke@{setGuidedBackStroke}}
\index{setGuidedBackStroke@{setGuidedBackStroke}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{setGuidedBackStroke()}{setGuidedBackStroke()}}
{\footnotesize\ttfamily void TTool\+::\+Viewer\+::set\+Guided\+Back\+Stroke (\begin{DoxyParamCaption}\item[{int}]{stroke\+Idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00702                                           \{}
\DoxyCodeLine{00703     m\_guidedBackStroke = strokeIdx;}
\DoxyCodeLine{00704     \mbox{\hyperlink{class_t_tool_1_1_viewer_a3c78921157249891a6ec73eb94501d2a}{invalidateAll}}();}
\DoxyCodeLine{00705   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a8d438f1bcbaf0f45f507a55728bdb89f}\label{class_t_tool_1_1_viewer_a8d438f1bcbaf0f45f507a55728bdb89f}} 
\index{TTool::Viewer@{TTool::Viewer}!setGuidedFrontStroke@{setGuidedFrontStroke}}
\index{setGuidedFrontStroke@{setGuidedFrontStroke}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{setGuidedFrontStroke()}{setGuidedFrontStroke()}}
{\footnotesize\ttfamily void TTool\+::\+Viewer\+::set\+Guided\+Front\+Stroke (\begin{DoxyParamCaption}\item[{int}]{stroke\+Idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00696                                            \{}
\DoxyCodeLine{00697     m\_guidedFrontStroke = strokeIdx;}
\DoxyCodeLine{00698     \mbox{\hyperlink{class_t_tool_1_1_viewer_a3c78921157249891a6ec73eb94501d2a}{invalidateAll}}();}
\DoxyCodeLine{00699   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a4397ff48c2444856a83202cd19a69364}\label{class_t_tool_1_1_viewer_a4397ff48c2444856a83202cd19a69364}} 
\index{TTool::Viewer@{TTool::Viewer}!setGuidedStrokePickerMode@{setGuidedStrokePickerMode}}
\index{setGuidedStrokePickerMode@{setGuidedStrokePickerMode}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{setGuidedStrokePickerMode()}{setGuidedStrokePickerMode()}}
{\footnotesize\ttfamily void TTool\+::\+Viewer\+::set\+Guided\+Stroke\+Picker\+Mode (\begin{DoxyParamCaption}\item[{int}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00684 \{ guidedStrokePickMode = mode; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_acc648a59b91375bde05a15a861dd9b8e}\label{class_t_tool_1_1_viewer_acc648a59b91375bde05a15a861dd9b8e}} 
\index{TTool::Viewer@{TTool::Viewer}!visualSettings@{visualSettings}}
\index{visualSettings@{visualSettings}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{visualSettings()}{visualSettings()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_image_painter_1_1_visual_settings}{Image\+Painter\+::\+Visual\+Settings}} \& TTool\+::\+Viewer\+::visual\+Settings (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00605 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_tool_1_1_viewer_acf21c5c07a1d6db104fb0518d654e5f3}{m\_visualSettings}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a1c652f2c45c7dcb2c1a3f81710f18fc5}\label{class_t_tool_1_1_viewer_a1c652f2c45c7dcb2c1a3f81710f18fc5}} 
\index{TTool::Viewer@{TTool::Viewer}!visualSettings@{visualSettings}}
\index{visualSettings@{visualSettings}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{visualSettings()}{visualSettings()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily const \mbox{\hyperlink{class_image_painter_1_1_visual_settings}{Image\+Painter\+::\+Visual\+Settings}} \& TTool\+::\+Viewer\+::visual\+Settings (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00602                                                            \{}
\DoxyCodeLine{00603     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_tool_1_1_viewer_acf21c5c07a1d6db104fb0518d654e5f3}{m\_visualSettings}};}
\DoxyCodeLine{00604   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a00ad8f88b4832e92cfd91b3f5ba8efd6}\label{class_t_tool_1_1_viewer_a00ad8f88b4832e92cfd91b3f5ba8efd6}} 
\index{TTool::Viewer@{TTool::Viewer}!worldToPos@{worldToPos}}
\index{worldToPos@{worldToPos}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{worldToPos()}{worldToPos()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{class_t_point_t}{TPointD}} TTool\+::\+Viewer\+::world\+To\+Pos (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{world\+Pos }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}



return pos in pixel, bottom-\/left origin 



Implemented in \mbox{\hyperlink{class_scene_viewer_aeb3a1d375ff7172f35364adc9cc0500e}{Scene\+Viewer}}.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_t_tool_1_1_viewer_a910c8d6d88decdec480370f2eda2f0ba}\label{class_t_tool_1_1_viewer_a910c8d6d88decdec480370f2eda2f0ba}} 
\index{TTool::Viewer@{TTool::Viewer}!guidedStrokePickMode@{guidedStrokePickMode}}
\index{guidedStrokePickMode@{guidedStrokePickMode}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{guidedStrokePickMode}{guidedStrokePickMode}}
{\footnotesize\ttfamily int TTool\+::\+Viewer\+::guided\+Stroke\+Pick\+Mode = 0\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_t_tool_1_1_viewer_a1bd87fda9c05517963c40fe4de3f1ce0}\label{class_t_tool_1_1_viewer_a1bd87fda9c05517963c40fe4de3f1ce0}} 
\index{TTool::Viewer@{TTool::Viewer}!m\_guidedBackStroke@{m\_guidedBackStroke}}
\index{m\_guidedBackStroke@{m\_guidedBackStroke}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{m\_guidedBackStroke}{m\_guidedBackStroke}}
{\footnotesize\ttfamily int TTool\+::\+Viewer\+::m\+\_\+guided\+Back\+Stroke = -\/1\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_t_tool_1_1_viewer_a55cb0816989148d89ec1d88f3ef0a4d7}\label{class_t_tool_1_1_viewer_a55cb0816989148d89ec1d88f3ef0a4d7}} 
\index{TTool::Viewer@{TTool::Viewer}!m\_guidedFrontStroke@{m\_guidedFrontStroke}}
\index{m\_guidedFrontStroke@{m\_guidedFrontStroke}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{m\_guidedFrontStroke}{m\_guidedFrontStroke}}
{\footnotesize\ttfamily int TTool\+::\+Viewer\+::m\+\_\+guided\+Front\+Stroke = -\/1\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_t_tool_1_1_viewer_acf21c5c07a1d6db104fb0518d654e5f3}\label{class_t_tool_1_1_viewer_acf21c5c07a1d6db104fb0518d654e5f3}} 
\index{TTool::Viewer@{TTool::Viewer}!m\_visualSettings@{m\_visualSettings}}
\index{m\_visualSettings@{m\_visualSettings}!TTool::Viewer@{TTool::Viewer}}
\doxysubsubsection{\texorpdfstring{m\_visualSettings}{m\_visualSettings}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_image_painter_1_1_visual_settings}{Image\+Painter\+::\+Visual\+Settings}} TTool\+::\+Viewer\+::m\+\_\+visual\+Settings\hspace{0.3cm}{\ttfamily [protected]}}



Settings used by the \mbox{\hyperlink{class_t_tool_1_1_viewer}{Viewer}} to draw scene contents. 



Referenced by \mbox{\hyperlink{l03064}{Scene\+Viewer\+::pos\+To\+Row()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tools/tool.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/tool.\+cpp\end{DoxyCompactItemize}
