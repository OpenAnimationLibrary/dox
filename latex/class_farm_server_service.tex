\hypertarget{class_farm_server_service}{}\doxysection{Farm\+Server\+Service Class Reference}
\label{class_farm_server_service}\index{FarmServerService@{FarmServerService}}
Inheritance diagram for Farm\+Server\+Service\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_farm_server_service}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_farm_server_service_af81043c2201cf6c88ef87289b315c8d6}{Farm\+Server\+Service}} (std\+::ostream \&os)
\item 
void \mbox{\hyperlink{class_farm_server_service_aedc0b9519620f399f9a1f9b3a9596dec}{on\+Start}} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]}) override
\item 
void \mbox{\hyperlink{class_farm_server_service_a9ad3948ce0fba2679615df29c54664c5}{on\+Stop}} () override
\item 
\mbox{\Hypertarget{class_farm_server_service_aa5263f627b8284455051025f6762cfbf}\label{class_farm_server_service_aa5263f627b8284455051025f6762cfbf}} 
void {\bfseries load\+Controller\+Data} (QString \&host\+Name, std\+::string \&ip\+Addr, int \&port)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{class_farm_server_service_a044e3e661de41e23d9ed7f971e819ed9}{m\+\_\+port}}
\item 
QString \mbox{\hyperlink{class_farm_server_service_a013df0de3819e40c47b49b0e7ea3bafb}{m\+\_\+addr}}
\item 
\mbox{\hyperlink{class_farm_server}{Farm\+Server}} $\ast$ \mbox{\hyperlink{class_farm_server_service_a99f3163aa3cadd91d3120296811dbace}{m\+\_\+farm\+Server}}
\item 
std\+::ostream \& \mbox{\hyperlink{class_farm_server_service_a09d585817b62a4b69722ee407072e711}{m\+\_\+os}}
\item 
\mbox{\hyperlink{class_t_user_log}{TUser\+Log}} $\ast$ \mbox{\hyperlink{class_farm_server_service_a30931550e323b788949f9dc09203063d}{m\+\_\+user\+Log}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_farm_server_service_af81043c2201cf6c88ef87289b315c8d6}\label{class_farm_server_service_af81043c2201cf6c88ef87289b315c8d6}} 
\index{FarmServerService@{FarmServerService}!FarmServerService@{FarmServerService}}
\index{FarmServerService@{FarmServerService}!FarmServerService@{FarmServerService}}
\doxysubsubsection{\texorpdfstring{FarmServerService()}{FarmServerService()}}
{\footnotesize\ttfamily Farm\+Server\+Service\+::\+Farm\+Server\+Service (\begin{DoxyParamCaption}\item[{std\+::ostream \&}]{os }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00196       : \mbox{\hyperlink{class_t_service}{TService}}(\textcolor{stringliteral}{"{}ToonzFarm Server"{}}, \textcolor{stringliteral}{"{}ToonzFarm Server"{}})}
\DoxyCodeLine{00197       , m\_os(os)}
\DoxyCodeLine{00198       , m\_userLog(0) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_farm_server_service_ab7070115744e35112b4d404d612d8608}\label{class_farm_server_service_ab7070115744e35112b4d404d612d8608}} 
\index{FarmServerService@{FarmServerService}!````~FarmServerService@{$\sim$FarmServerService}}
\index{````~FarmServerService@{$\sim$FarmServerService}!FarmServerService@{FarmServerService}}
\doxysubsubsection{\texorpdfstring{$\sim$FarmServerService()}{~FarmServerService()}}
{\footnotesize\ttfamily Farm\+Server\+Service\+::$\sim$\+Farm\+Server\+Service (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00200 \{ \textcolor{keyword}{delete} m\_userLog; \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_farm_server_service_aedc0b9519620f399f9a1f9b3a9596dec}\label{class_farm_server_service_aedc0b9519620f399f9a1f9b3a9596dec}} 
\index{FarmServerService@{FarmServerService}!onStart@{onStart}}
\index{onStart@{onStart}!FarmServerService@{FarmServerService}}
\doxysubsubsection{\texorpdfstring{onStart()}{onStart()}}
{\footnotesize\ttfamily void Farm\+Server\+Service\+::on\+Start (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_service}{TService}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00764                                                       \{}
\DoxyCodeLine{00765   \textcolor{comment}{// Initialize thread components}}
\DoxyCodeLine{00766   TThread::init();}
\DoxyCodeLine{00767   \mbox{\hyperlink{class_t_v_e_r_1_1_toonz_version}{TVER::ToonzVersion}} tver;}
\DoxyCodeLine{00768 }
\DoxyCodeLine{00769 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00770 \textcolor{comment}{//  DebugBreak();}}
\DoxyCodeLine{00771 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00772 }
\DoxyCodeLine{00773   \mbox{\hyperlink{class_t_file_path}{TFilePath}} lRootDir = getLocalRoot();}
\DoxyCodeLine{00774   \mbox{\hyperlink{class_t_file_status}{TFileStatus}} fs(lRootDir);}
\DoxyCodeLine{00775   \textcolor{keywordtype}{bool} lRootDirExists = fs.isDirectory();}
\DoxyCodeLine{00776 }
\DoxyCodeLine{00777   \textcolor{keywordflow}{if} (!lRootDirExists) \{}
\DoxyCodeLine{00778     std::string errMsg(\textcolor{stringliteral}{"{}Unable to start the Server"{}});}
\DoxyCodeLine{00779     errMsg += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00780     errMsg += \textcolor{stringliteral}{"{}The directory "{}} + ::to\_string(lRootDir) +}
\DoxyCodeLine{00781               \textcolor{stringliteral}{"{} specified as Local Root does not exist"{}};}
\DoxyCodeLine{00782     errMsg += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00783 }
\DoxyCodeLine{00784     addToMessageLog(errMsg);}
\DoxyCodeLine{00785 }
\DoxyCodeLine{00786 \textcolor{comment}{// DEBUG MAC SERVIZIO (DA TOGLIERE)}}
\DoxyCodeLine{00787 \textcolor{preprocessor}{\#ifdef MACOSX}}
\DoxyCodeLine{00788     system(\textcolor{stringliteral}{"{}echo 'local root does not exist' >> err.log"{}});}
\DoxyCodeLine{00789 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00790 }
\DoxyCodeLine{00791     \textcolor{comment}{// exit the program}}
\DoxyCodeLine{00792     setStatus(TService::Stopped, NO\_ERROR, 0);}
\DoxyCodeLine{00793   \}}
\DoxyCodeLine{00794 }
\DoxyCodeLine{00795   \mbox{\hyperlink{class_t_file_path}{TFilePath}} gRootDir = getGlobalRoot();}
\DoxyCodeLine{00796   \textcolor{keywordflow}{if} (::to\_string(gRootDir) == \textcolor{stringliteral}{"{}"{}}) \{}
\DoxyCodeLine{00797     std::string errMsg(\textcolor{stringliteral}{"{}Unable to get TFARMGLOBALROOT environment variable ("{}} +}
\DoxyCodeLine{00798                        ::to\_string(gRootDir) + \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00799     addToMessageLog(errMsg);}
\DoxyCodeLine{00800 }
\DoxyCodeLine{00801 \textcolor{comment}{// DEBUG MAC SERVIZIO (DA TOGLIERE)}}
\DoxyCodeLine{00802 \textcolor{preprocessor}{\#ifdef MACOSX}}
\DoxyCodeLine{00803     system(\textcolor{stringliteral}{"{}echo 'Unable to set the global root' >> err.log"{}});}
\DoxyCodeLine{00804 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00805 }
\DoxyCodeLine{00806     \textcolor{comment}{// exit the program}}
\DoxyCodeLine{00807     setStatus(TService::Stopped, NO\_ERROR, 0);}
\DoxyCodeLine{00808   \}}
\DoxyCodeLine{00809 }
\DoxyCodeLine{00810   \textcolor{keywordtype}{bool} gRootDirExists = dirExists(gRootDir);}
\DoxyCodeLine{00811   ;}
\DoxyCodeLine{00812   \textcolor{keywordflow}{if} (!gRootDirExists) \{}
\DoxyCodeLine{00813     std::string errMsg(\textcolor{stringliteral}{"{}Unable to start the Server"{}});}
\DoxyCodeLine{00814     errMsg += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00815     errMsg += \textcolor{stringliteral}{"{}The directory "{}} + ::to\_string(gRootDir) +}
\DoxyCodeLine{00816               \textcolor{stringliteral}{"{} specified as Global Root does not exist"{}};}
\DoxyCodeLine{00817     ;}
\DoxyCodeLine{00818 }
\DoxyCodeLine{00819     addToMessageLog(errMsg);}
\DoxyCodeLine{00820 }
\DoxyCodeLine{00821 \textcolor{comment}{// DEBUG MAC SERVIZIO (DA TOGLIERE)}}
\DoxyCodeLine{00822 \textcolor{preprocessor}{\#ifdef MACOSX}}
\DoxyCodeLine{00823     system(\textcolor{stringliteral}{"{}echo 'Global root does not exist' >> err.log"{}});}
\DoxyCodeLine{00824 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00825 }
\DoxyCodeLine{00826     \textcolor{comment}{// exit the program}}
\DoxyCodeLine{00827     setStatus(TService::Stopped, NO\_ERROR, 0);}
\DoxyCodeLine{00828   \}}
\DoxyCodeLine{00829 }
\DoxyCodeLine{00830   \textcolor{comment}{// legge dal file di configurazione le informazioni sul controller}}
\DoxyCodeLine{00831 }
\DoxyCodeLine{00832   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = gRootDir + \textcolor{stringliteral}{"{}config"{}} + \textcolor{stringliteral}{"{}controller.txt"{}};}
\DoxyCodeLine{00833 }
\DoxyCodeLine{00834   \mbox{\hyperlink{class_controller_data}{ControllerData}} controllerData;}
\DoxyCodeLine{00835 }
\DoxyCodeLine{00836   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00837     ::loadControllerData(fp, controllerData);}
\DoxyCodeLine{00838   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_exception}{TException}} \&e) \{}
\DoxyCodeLine{00839     std::string errMsg(\textcolor{stringliteral}{"{}Unable to start the Server"{}});}
\DoxyCodeLine{00840     errMsg += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00841     errMsg += ::to\_string(e.getMessage());}
\DoxyCodeLine{00842     addToMessageLog(errMsg);}
\DoxyCodeLine{00843     setStatus(TService::Stopped, NO\_ERROR, 0);  \textcolor{comment}{// exit the program}}
\DoxyCodeLine{00844   \}}
\DoxyCodeLine{00845 }
\DoxyCodeLine{00846   \textcolor{keywordflow}{if} (isRunningAsConsoleApp()) \{}
\DoxyCodeLine{00847     \textcolor{comment}{// i messaggi verranno ridiretti sullo standard output}}
\DoxyCodeLine{00848     m\_userLog = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_user_log}{TUserLog}}();}
\DoxyCodeLine{00849   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00850     \mbox{\hyperlink{class_t_file_path}{TFilePath}} logFilePath = lRootDir + \textcolor{stringliteral}{"{}server.log"{}};}
\DoxyCodeLine{00851     m\_userLog             = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_user_log}{TUserLog}}(logFilePath);}
\DoxyCodeLine{00852   \}}
\DoxyCodeLine{00853 }
\DoxyCodeLine{00854   std::string appverinfo = tver.getAppVersionInfo(\textcolor{stringliteral}{"{}Farm Server"{}}) + \textcolor{stringliteral}{"{}\(\backslash\)n\(\backslash\)n"{}};}
\DoxyCodeLine{00855   m\_userLog-\/>info(appverinfo.c\_str());}
\DoxyCodeLine{00856 }
\DoxyCodeLine{00857   \textcolor{comment}{// legge dal file di configurazione dei server il numero di porta da}}
\DoxyCodeLine{00858   \textcolor{comment}{// utilizzare}}
\DoxyCodeLine{00859 }
\DoxyCodeLine{00860   \textcolor{keywordtype}{bool} ret = loadServerData(TSystem::getHostName(), m\_addr, m\_port);}
\DoxyCodeLine{00861 }
\DoxyCodeLine{00862   \textcolor{keywordflow}{if} (!ret) \{}
\DoxyCodeLine{00863     QString msg(\textcolor{stringliteral}{"{}Unable to get the port number of "{}});}
\DoxyCodeLine{00864     msg += TSystem::getHostName();}
\DoxyCodeLine{00865     msg += \textcolor{stringliteral}{"{} from the servers config file"{}};}
\DoxyCodeLine{00866     msg += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00867     msg += \textcolor{stringliteral}{"{}Using the default port number "{}};}
\DoxyCodeLine{00868     msg += QString::number(m\_port);}
\DoxyCodeLine{00869     msg += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00870     msg += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00871 }
\DoxyCodeLine{00872     m\_userLog-\/>info(msg);}
\DoxyCodeLine{00873     m\_port = 8002;}
\DoxyCodeLine{00874   \}}
\DoxyCodeLine{00875 }
\DoxyCodeLine{00876 \textcolor{preprocessor}{\#ifdef \_\_sgi}}
\DoxyCodeLine{00877   \{}
\DoxyCodeLine{00878     std::ofstream os(\textcolor{stringliteral}{"{}/tmp/.tfarmserverd.dat"{}});}
\DoxyCodeLine{00879     os << m\_port;}
\DoxyCodeLine{00880   \}}
\DoxyCodeLine{00881 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00882 }
\DoxyCodeLine{00883   m\_farmServer = \textcolor{keyword}{new} \mbox{\hyperlink{class_farm_server}{FarmServer}}(m\_port, m\_userLog);}
\DoxyCodeLine{00884   m\_farmServer-\/>setController(controllerData);}
\DoxyCodeLine{00885 }
\DoxyCodeLine{00886   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00887     m\_farmServer-\/>getController()-\/>attachServer(TSystem::getHostName(), m\_addr,}
\DoxyCodeLine{00888                                                 m\_port);}
\DoxyCodeLine{00889   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_exception}{TException}} \textcolor{keyword}{const} \&) \{}
\DoxyCodeLine{00890   \}}
\DoxyCodeLine{00891 }
\DoxyCodeLine{00892 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00893   \mbox{\hyperlink{class_t_file_path}{TFilePath}} diskMountingsFilePath = lRootDir + \textcolor{stringliteral}{"{}config"{}} + \textcolor{stringliteral}{"{}diskmap.cfg"{}};}
\DoxyCodeLine{00894   \textcolor{keywordflow}{if} (myDoesExists(diskMountingsFilePath)) \{}
\DoxyCodeLine{00895     loadDiskMountingPoints(diskMountingsFilePath);}
\DoxyCodeLine{00896 }
\DoxyCodeLine{00897     \textcolor{comment}{// i dischi vengono montati al primo task di tipo "{}runcasm"{}}}
\DoxyCodeLine{00898     \textcolor{comment}{// e smontati allo stop del servizio}}
\DoxyCodeLine{00899 }
\DoxyCodeLine{00900     \textcolor{comment}{// mountDisks();}}
\DoxyCodeLine{00901   \}}
\DoxyCodeLine{00902 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00903 }
\DoxyCodeLine{00904   \textcolor{comment}{// Carica da un file di configurazione i path dei programmi da lanciare.}}
\DoxyCodeLine{00905   \textcolor{comment}{// Per tutti i programmi il cui path non e' contenuto nel file di}}
\DoxyCodeLine{00906   \textcolor{comment}{// configurazione}}
\DoxyCodeLine{00907   \textcolor{comment}{// si assume che il path del folder del programma sia specificato}}
\DoxyCodeLine{00908   \textcolor{comment}{// nella variabile di sistema PATH}}
\DoxyCodeLine{00909 }
\DoxyCodeLine{00910   QEventLoop eventLoop;}
\DoxyCodeLine{00911 }
\DoxyCodeLine{00912   \textcolor{comment}{// Connect the server's listening finished signal to main loop quit.}}
\DoxyCodeLine{00913   QObject::connect(m\_farmServer, SIGNAL(finished()), \&eventLoop, SLOT(quit()));}
\DoxyCodeLine{00914 }
\DoxyCodeLine{00915   \textcolor{comment}{// Run the TcpIp server's listening state}}
\DoxyCodeLine{00916   m\_farmServer-\/>start();}
\DoxyCodeLine{00917 }
\DoxyCodeLine{00918   \textcolor{comment}{// Main loop starts here}}
\DoxyCodeLine{00919   eventLoop.exec();}
\DoxyCodeLine{00920 }
\DoxyCodeLine{00921   \textcolor{comment}{//-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/Farm server loops here-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00922 }
\DoxyCodeLine{00923   \textcolor{keywordtype}{int} rc = m\_farmServer-\/>getExitCode();}
\DoxyCodeLine{00924 }
\DoxyCodeLine{00925 \textcolor{preprocessor}{\#ifdef \_\_sgi}}
\DoxyCodeLine{00926   remove(\textcolor{stringliteral}{"{}/tmp/.tfarmserver.dat"{}});}
\DoxyCodeLine{00927 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00928 }
\DoxyCodeLine{00929   \textcolor{keywordflow}{if} (rc != 0) \{}
\DoxyCodeLine{00930     std::string msg(\textcolor{stringliteral}{"{}An error occurred starting the ToonzFarm Server"{}});}
\DoxyCodeLine{00931     msg += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00932 }
\DoxyCodeLine{00933 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00934     LPVOID lpMsgBuf;}
\DoxyCodeLine{00935     FormatMessage(FORMAT\_MESSAGE\_ALLOCATE\_BUFFER | FORMAT\_MESSAGE\_FROM\_SYSTEM |}
\DoxyCodeLine{00936                       FORMAT\_MESSAGE\_IGNORE\_INSERTS,}
\DoxyCodeLine{00937                   NULL, rc,}
\DoxyCodeLine{00938                   0,  \textcolor{comment}{// Default language}}
\DoxyCodeLine{00939                   (LPTSTR)\&lpMsgBuf, 0, NULL);}
\DoxyCodeLine{00940 }
\DoxyCodeLine{00941     msg += std::string((\textcolor{keywordtype}{char} *)lpMsgBuf);}
\DoxyCodeLine{00942 }
\DoxyCodeLine{00943     \textcolor{comment}{// Free the buffer.}}
\DoxyCodeLine{00944     LocalFree(lpMsgBuf);}
\DoxyCodeLine{00945 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00946 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00947 }
\DoxyCodeLine{00948     addToMessageLog(msg);}
\DoxyCodeLine{00949     m\_userLog-\/>error(QString::fromStdString(msg));}
\DoxyCodeLine{00950     setStatus(TService::Stopped, NO\_ERROR, 0);}
\DoxyCodeLine{00951   \}}
\DoxyCodeLine{00952 }
\DoxyCodeLine{00953   std::string msg(\textcolor{stringliteral}{"{}Exiting with code "{}});}
\DoxyCodeLine{00954   msg += std::to\_string(ret);}
\DoxyCodeLine{00955   msg += \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{00956   m\_userLog-\/>info(QString::fromStdString(msg));}
\DoxyCodeLine{00957 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_farm_server_service_a9ad3948ce0fba2679615df29c54664c5}\label{class_farm_server_service_a9ad3948ce0fba2679615df29c54664c5}} 
\index{FarmServerService@{FarmServerService}!onStop@{onStop}}
\index{onStop@{onStop}!FarmServerService@{FarmServerService}}
\doxysubsubsection{\texorpdfstring{onStop()}{onStop()}}
{\footnotesize\ttfamily void Farm\+Server\+Service\+::on\+Stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_service}{TService}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00961                                \{}
\DoxyCodeLine{00962   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00963     m\_farmServer-\/>getController()-\/>detachServer(TSystem::getHostName(), m\_addr,}
\DoxyCodeLine{00964                                                 m\_port);}
\DoxyCodeLine{00965   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_exception}{TException}} \& \textcolor{comment}{/*e*/}) \{}
\DoxyCodeLine{00966   \}}
\DoxyCodeLine{00967 }
\DoxyCodeLine{00968   \textcolor{comment}{// i dischi vengono montati al primo task di tipo "{}runcasm"{}}}
\DoxyCodeLine{00969   \textcolor{comment}{// e smontati allo stop del servizio}}
\DoxyCodeLine{00970 }
\DoxyCodeLine{00971 \textcolor{preprocessor}{\#ifdef \_WIN32}}
\DoxyCodeLine{00972   unmountDisks();}
\DoxyCodeLine{00973 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00974 }
\DoxyCodeLine{00975   \mbox{\hyperlink{class_t_tcp_ip_client}{TTcpIpClient}} client;}
\DoxyCodeLine{00976 }
\DoxyCodeLine{00977   \textcolor{keywordtype}{int} socketId;}
\DoxyCodeLine{00978   \textcolor{keywordtype}{int} ret = client.connect(TSystem::getHostName(), \textcolor{stringliteral}{"{}"{}}, m\_farmServer-\/>getPort(),}
\DoxyCodeLine{00979                            socketId);}
\DoxyCodeLine{00980   \textcolor{keywordflow}{if} (ret == OK) \{}
\DoxyCodeLine{00981     client.send(socketId, \textcolor{stringliteral}{"{}shutdown"{}});}
\DoxyCodeLine{00982   \}}
\DoxyCodeLine{00983 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_farm_server_service_a013df0de3819e40c47b49b0e7ea3bafb}\label{class_farm_server_service_a013df0de3819e40c47b49b0e7ea3bafb}} 
\index{FarmServerService@{FarmServerService}!m\_addr@{m\_addr}}
\index{m\_addr@{m\_addr}!FarmServerService@{FarmServerService}}
\doxysubsubsection{\texorpdfstring{m\_addr}{m\_addr}}
{\footnotesize\ttfamily QString Farm\+Server\+Service\+::m\+\_\+addr}

\mbox{\Hypertarget{class_farm_server_service_a99f3163aa3cadd91d3120296811dbace}\label{class_farm_server_service_a99f3163aa3cadd91d3120296811dbace}} 
\index{FarmServerService@{FarmServerService}!m\_farmServer@{m\_farmServer}}
\index{m\_farmServer@{m\_farmServer}!FarmServerService@{FarmServerService}}
\doxysubsubsection{\texorpdfstring{m\_farmServer}{m\_farmServer}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_farm_server}{Farm\+Server}}$\ast$ Farm\+Server\+Service\+::m\+\_\+farm\+Server}

\mbox{\Hypertarget{class_farm_server_service_a09d585817b62a4b69722ee407072e711}\label{class_farm_server_service_a09d585817b62a4b69722ee407072e711}} 
\index{FarmServerService@{FarmServerService}!m\_os@{m\_os}}
\index{m\_os@{m\_os}!FarmServerService@{FarmServerService}}
\doxysubsubsection{\texorpdfstring{m\_os}{m\_os}}
{\footnotesize\ttfamily std\+::ostream\& Farm\+Server\+Service\+::m\+\_\+os}

\mbox{\Hypertarget{class_farm_server_service_a044e3e661de41e23d9ed7f971e819ed9}\label{class_farm_server_service_a044e3e661de41e23d9ed7f971e819ed9}} 
\index{FarmServerService@{FarmServerService}!m\_port@{m\_port}}
\index{m\_port@{m\_port}!FarmServerService@{FarmServerService}}
\doxysubsubsection{\texorpdfstring{m\_port}{m\_port}}
{\footnotesize\ttfamily int Farm\+Server\+Service\+::m\+\_\+port}

\mbox{\Hypertarget{class_farm_server_service_a30931550e323b788949f9dc09203063d}\label{class_farm_server_service_a30931550e323b788949f9dc09203063d}} 
\index{FarmServerService@{FarmServerService}!m\_userLog@{m\_userLog}}
\index{m\_userLog@{m\_userLog}!FarmServerService@{FarmServerService}}
\doxysubsubsection{\texorpdfstring{m\_userLog}{m\_userLog}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_user_log}{TUser\+Log}}$\ast$ Farm\+Server\+Service\+::m\+\_\+user\+Log}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonzfarm/tfarmserver/tfarmserver.\+cpp\end{DoxyCompactItemize}
