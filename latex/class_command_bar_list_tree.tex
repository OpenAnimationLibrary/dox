\hypertarget{class_command_bar_list_tree}{}\doxysection{Command\+Bar\+List\+Tree Class Reference}
\label{class_command_bar_list_tree}\index{CommandBarListTree@{CommandBarListTree}}
Inheritance diagram for Command\+Bar\+List\+Tree\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_command_bar_list_tree}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_command_bar_list_tree_a2338ec31132fd447d222621ddcf1524a}{Command\+Bar\+List\+Tree}} (QWidget $\ast$parent=0)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_command_bar_list_tree_a81fcb5f013da113fca1037b04d33c604}{mouse\+Press\+Event}} (QMouse\+Event $\ast$) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_command_bar_list_tree_a2338ec31132fd447d222621ddcf1524a}\label{class_command_bar_list_tree_a2338ec31132fd447d222621ddcf1524a}} 
\index{CommandBarListTree@{CommandBarListTree}!CommandBarListTree@{CommandBarListTree}}
\index{CommandBarListTree@{CommandBarListTree}!CommandBarListTree@{CommandBarListTree}}
\doxysubsubsection{\texorpdfstring{CommandBarListTree()}{CommandBarListTree()}}
{\footnotesize\ttfamily Command\+Bar\+List\+Tree\+::\+Command\+Bar\+List\+Tree (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00286                                                       : QTreeWidget(parent) \{}
\DoxyCodeLine{00287   setObjectName(\textcolor{stringliteral}{"{}SolidLineFrame"{}});}
\DoxyCodeLine{00288   setAlternatingRowColors(\textcolor{keyword}{true});}
\DoxyCodeLine{00289   setDragEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00290   setDragDropMode(QAbstractItemView::DragOnly);}
\DoxyCodeLine{00291   setColumnCount(1);}
\DoxyCodeLine{00292   setIconSize(QSize(21, 18));}
\DoxyCodeLine{00293   header()-\/>close();}
\DoxyCodeLine{00294 }
\DoxyCodeLine{00295   QIcon menuFolderIcon(createQIcon(\textcolor{stringliteral}{"{}folder\_project"{}}, \textcolor{keyword}{true}));}
\DoxyCodeLine{00296   invisibleRootItem()-\/>setIcon(0, menuFolderIcon);}
\DoxyCodeLine{00297 }
\DoxyCodeLine{00298   QTreeWidgetItem* menuCommandFolder = \textcolor{keyword}{new} QTreeWidgetItem(\textcolor{keyword}{this});}
\DoxyCodeLine{00299   menuCommandFolder-\/>setFlags(Qt::ItemIsEnabled);}
\DoxyCodeLine{00300   menuCommandFolder-\/>setText(0, ShortcutTree::tr(\textcolor{stringliteral}{"{}Menu Commands"{}}));}
\DoxyCodeLine{00301   menuCommandFolder-\/>setExpanded(\textcolor{keyword}{true});}
\DoxyCodeLine{00302   menuCommandFolder-\/>setIcon(0, invisibleRootItem()-\/>icon(0));}
\DoxyCodeLine{00303 }
\DoxyCodeLine{00304   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}File"{}}), MenuFileCommandType, menuCommandFolder);}
\DoxyCodeLine{00305   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Edit"{}}), MenuEditCommandType, menuCommandFolder);}
\DoxyCodeLine{00306   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Scan \& Cleanup"{}}), MenuScanCleanupCommandType,}
\DoxyCodeLine{00307             menuCommandFolder);}
\DoxyCodeLine{00308   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Level"{}}), MenuLevelCommandType, menuCommandFolder);}
\DoxyCodeLine{00309   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Xsheet"{}}), MenuXsheetCommandType,}
\DoxyCodeLine{00310             menuCommandFolder);}
\DoxyCodeLine{00311   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Cells"{}}), MenuCellsCommandType, menuCommandFolder);}
\DoxyCodeLine{00312   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Play"{}}), MenuPlayCommandType, menuCommandFolder);}
\DoxyCodeLine{00313   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Render"{}}), MenuRenderCommandType,}
\DoxyCodeLine{00314             menuCommandFolder);}
\DoxyCodeLine{00315   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}View"{}}), MenuViewCommandType, menuCommandFolder);}
\DoxyCodeLine{00316   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Windows"{}}), MenuWindowsCommandType,}
\DoxyCodeLine{00317             menuCommandFolder);}
\DoxyCodeLine{00318   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Help"{}}), MenuHelpCommandType, menuCommandFolder);}
\DoxyCodeLine{00319 }
\DoxyCodeLine{00320   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Tools"{}}), ToolCommandType);}
\DoxyCodeLine{00321   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Fill"{}}), FillCommandType);}
\DoxyCodeLine{00322   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Right-\/click Menu Commands"{}}),}
\DoxyCodeLine{00323             RightClickMenuCommandType);}
\DoxyCodeLine{00324   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Tool Modifiers"{}}), ToolModifierCommandType);}
\DoxyCodeLine{00325   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Visualization"{}}), VisualizationButtonCommandType);}
\DoxyCodeLine{00326   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Misc"{}}), MiscCommandType);}
\DoxyCodeLine{00327   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}RGBA Channels"{}}), RGBACommandType);}
\DoxyCodeLine{00328 }
\DoxyCodeLine{00329   sortItems(0, Qt::AscendingOrder);}
\DoxyCodeLine{00330 }
\DoxyCodeLine{00331   \mbox{\hyperlink{class_command_bar_separator_item}{CommandBarSeparatorItem}}* sep = \textcolor{keyword}{new} \mbox{\hyperlink{class_command_bar_separator_item}{CommandBarSeparatorItem}}(0);}
\DoxyCodeLine{00332   sep-\/>setToolTip(0, QObject::tr(\textcolor{stringliteral}{"{}[Drag\&Drop] to copy separator to menu bar"{}}));}
\DoxyCodeLine{00333   addTopLevelItem(sep);}
\DoxyCodeLine{00334 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_command_bar_list_tree_a81fcb5f013da113fca1037b04d33c604}\label{class_command_bar_list_tree_a81fcb5f013da113fca1037b04d33c604}} 
\index{CommandBarListTree@{CommandBarListTree}!mousePressEvent@{mousePressEvent}}
\index{mousePressEvent@{mousePressEvent}!CommandBarListTree@{CommandBarListTree}}
\doxysubsubsection{\texorpdfstring{mousePressEvent()}{mousePressEvent()}}
{\footnotesize\ttfamily void Command\+Bar\+List\+Tree\+::mouse\+Press\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00359                                                            \{}
\DoxyCodeLine{00360   setCurrentItem(itemAt(event-\/>pos()));}
\DoxyCodeLine{00361   \mbox{\hyperlink{class_command_bar_command_item}{CommandBarCommandItem}}* commandItem =}
\DoxyCodeLine{00362       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_command_bar_command_item}{CommandBarCommandItem}}*\textcolor{keyword}{>}(itemAt(event-\/>pos()));}
\DoxyCodeLine{00363   \mbox{\hyperlink{class_command_bar_separator_item}{CommandBarSeparatorItem}}* separatorItem =}
\DoxyCodeLine{00364       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_command_bar_separator_item}{CommandBarSeparatorItem}}*\textcolor{keyword}{>}(itemAt(event-\/>pos()));}
\DoxyCodeLine{00365 }
\DoxyCodeLine{00366   \textcolor{keywordflow}{if} (commandItem || separatorItem) \{}
\DoxyCodeLine{00367     std::string dragStr;}
\DoxyCodeLine{00368     QString dragPixmapTxt;}
\DoxyCodeLine{00369     \textcolor{keywordflow}{if} (commandItem) \{}
\DoxyCodeLine{00370       dragStr =}
\DoxyCodeLine{00371           CommandManager::instance()-\/>getIdFromAction(commandItem-\/>getAction());}
\DoxyCodeLine{00372       dragPixmapTxt = commandItem-\/>getAction()-\/>text();}
\DoxyCodeLine{00373       dragPixmapTxt.remove(\textcolor{stringliteral}{"{}\&"{}});}
\DoxyCodeLine{00374     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00375       dragStr       = \textcolor{stringliteral}{"{}separator"{}};}
\DoxyCodeLine{00376       dragPixmapTxt = tr(\textcolor{stringliteral}{"{}-\/-\/-\/-\/Separator-\/-\/-\/-\/"{}});}
\DoxyCodeLine{00377     \}}
\DoxyCodeLine{00378 }
\DoxyCodeLine{00379     QMimeData* mimeData = \textcolor{keyword}{new} QMimeData;}
\DoxyCodeLine{00380     mimeData-\/>setText(QString::fromStdString(dragStr));}
\DoxyCodeLine{00381 }
\DoxyCodeLine{00382     QFontMetrics fm(QApplication::font());}
\DoxyCodeLine{00383     QPixmap pix(fm.boundingRect(dragPixmapTxt).adjusted(-\/2, -\/2, 2, 2).size());}
\DoxyCodeLine{00384     QPainter painter(\&pix);}
\DoxyCodeLine{00385     painter.fillRect(pix.rect(), Qt::white);}
\DoxyCodeLine{00386     painter.setPen(Qt::black);}
\DoxyCodeLine{00387     painter.drawText(pix.rect(), Qt::AlignCenter, dragPixmapTxt);}
\DoxyCodeLine{00388 }
\DoxyCodeLine{00389     QDrag* drag = \textcolor{keyword}{new} QDrag(\textcolor{keyword}{this});}
\DoxyCodeLine{00390     drag-\/>setMimeData(mimeData);}
\DoxyCodeLine{00391     drag-\/>setPixmap(pix);}
\DoxyCodeLine{00392 }
\DoxyCodeLine{00393     drag-\/>exec(Qt::CopyAction);}
\DoxyCodeLine{00394   \}}
\DoxyCodeLine{00395 }
\DoxyCodeLine{00396   QTreeWidget::mousePressEvent(event);}
\DoxyCodeLine{00397 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/commandbarpopup.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/commandbarpopup.\+cpp\end{DoxyCompactItemize}
