\hypertarget{class_command_list_tree}{}\doxysection{Command\+List\+Tree Class Reference}
\label{class_command_list_tree}\index{CommandListTree@{CommandListTree}}
Inheritance diagram for Command\+List\+Tree\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_command_list_tree}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_command_list_tree_aaea5d4ec71fa201c242ac9cca4b20aa6}{Command\+List\+Tree}} (QWidget $\ast$parent=0)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_command_list_tree_aa7b11d62675bd3afcd408b2065adb527}{mouse\+Press\+Event}} (QMouse\+Event $\ast$) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_command_list_tree_aaea5d4ec71fa201c242ac9cca4b20aa6}\label{class_command_list_tree_aaea5d4ec71fa201c242ac9cca4b20aa6}} 
\index{CommandListTree@{CommandListTree}!CommandListTree@{CommandListTree}}
\index{CommandListTree@{CommandListTree}!CommandListTree@{CommandListTree}}
\doxysubsubsection{\texorpdfstring{CommandListTree()}{CommandListTree()}}
{\footnotesize\ttfamily Command\+List\+Tree\+::\+Command\+List\+Tree (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00351                                                 : QTreeWidget(parent) \{}
\DoxyCodeLine{00352   setObjectName(\textcolor{stringliteral}{"{}SolidLineFrame"{}});}
\DoxyCodeLine{00353   setAlternatingRowColors(\textcolor{keyword}{true});}
\DoxyCodeLine{00354   setDragEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00355   setDragDropMode(QAbstractItemView::DragOnly);}
\DoxyCodeLine{00356   setColumnCount(1);}
\DoxyCodeLine{00357   setIconSize(QSize(21, 18));}
\DoxyCodeLine{00358   header()-\/>close();}
\DoxyCodeLine{00359 }
\DoxyCodeLine{00360   QIcon menuFolderIcon(createQIcon(\textcolor{stringliteral}{"{}folder\_project"{}}, \textcolor{keyword}{true}));}
\DoxyCodeLine{00361   invisibleRootItem()-\/>setIcon(0, menuFolderIcon);}
\DoxyCodeLine{00362 }
\DoxyCodeLine{00363   QTreeWidgetItem* menuCommandFolder = \textcolor{keyword}{new} QTreeWidgetItem(\textcolor{keyword}{this});}
\DoxyCodeLine{00364   menuCommandFolder-\/>setFlags(Qt::ItemIsEnabled);}
\DoxyCodeLine{00365   menuCommandFolder-\/>setText(0, ShortcutTree::tr(\textcolor{stringliteral}{"{}Menu Commands"{}}));}
\DoxyCodeLine{00366   menuCommandFolder-\/>setExpanded(\textcolor{keyword}{true});}
\DoxyCodeLine{00367   menuCommandFolder-\/>setIcon(0, invisibleRootItem()-\/>icon(0));}
\DoxyCodeLine{00368 }
\DoxyCodeLine{00369   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}File"{}}), MenuFileCommandType, menuCommandFolder);}
\DoxyCodeLine{00370   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Edit"{}}), MenuEditCommandType, menuCommandFolder);}
\DoxyCodeLine{00371   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Scan \& Cleanup"{}}), MenuScanCleanupCommandType,}
\DoxyCodeLine{00372             menuCommandFolder);}
\DoxyCodeLine{00373   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Level"{}}), MenuLevelCommandType, menuCommandFolder);}
\DoxyCodeLine{00374   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Xsheet"{}}), MenuXsheetCommandType,}
\DoxyCodeLine{00375             menuCommandFolder);}
\DoxyCodeLine{00376   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Cells"{}}), MenuCellsCommandType, menuCommandFolder);}
\DoxyCodeLine{00377   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Play"{}}), MenuPlayCommandType, menuCommandFolder);}
\DoxyCodeLine{00378   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Render"{}}), MenuRenderCommandType,}
\DoxyCodeLine{00379             menuCommandFolder);}
\DoxyCodeLine{00380   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}View"{}}), MenuViewCommandType, menuCommandFolder);}
\DoxyCodeLine{00381   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Windows"{}}), MenuWindowsCommandType,}
\DoxyCodeLine{00382             menuCommandFolder);}
\DoxyCodeLine{00383   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Help"{}}), MenuHelpCommandType, menuCommandFolder);}
\DoxyCodeLine{00384 }
\DoxyCodeLine{00385   addFolder(ShortcutTree::tr(\textcolor{stringliteral}{"{}Tools"{}}), ToolCommandType);}
\DoxyCodeLine{00386 }
\DoxyCodeLine{00387   sortItems(0, Qt::AscendingOrder);}
\DoxyCodeLine{00388 }
\DoxyCodeLine{00389   \mbox{\hyperlink{class_menu_bar_separator_item}{MenuBarSeparatorItem}}* sep = \textcolor{keyword}{new} \mbox{\hyperlink{class_menu_bar_separator_item}{MenuBarSeparatorItem}}(0);}
\DoxyCodeLine{00390   sep-\/>setToolTip(0, QObject::tr(\textcolor{stringliteral}{"{}[Drag\&Drop] to copy separator to menu bar"{}}));}
\DoxyCodeLine{00391   addTopLevelItem(sep);}
\DoxyCodeLine{00392 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_command_list_tree_aa7b11d62675bd3afcd408b2065adb527}\label{class_command_list_tree_aa7b11d62675bd3afcd408b2065adb527}} 
\index{CommandListTree@{CommandListTree}!mousePressEvent@{mousePressEvent}}
\index{mousePressEvent@{mousePressEvent}!CommandListTree@{CommandListTree}}
\doxysubsubsection{\texorpdfstring{mousePressEvent()}{mousePressEvent()}}
{\footnotesize\ttfamily void Command\+List\+Tree\+::mouse\+Press\+Event (\begin{DoxyParamCaption}\item[{QMouse\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00417                                                         \{}
\DoxyCodeLine{00418   setCurrentItem(itemAt(event-\/>pos()));}
\DoxyCodeLine{00419   \mbox{\hyperlink{class_menu_bar_command_item}{MenuBarCommandItem}}* commandItem =}
\DoxyCodeLine{00420       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_menu_bar_command_item}{MenuBarCommandItem}}*\textcolor{keyword}{>}(itemAt(event-\/>pos()));}
\DoxyCodeLine{00421   \mbox{\hyperlink{class_menu_bar_separator_item}{MenuBarSeparatorItem}}* separatorItem =}
\DoxyCodeLine{00422       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_menu_bar_separator_item}{MenuBarSeparatorItem}}*\textcolor{keyword}{>}(itemAt(event-\/>pos()));}
\DoxyCodeLine{00423 }
\DoxyCodeLine{00424   \textcolor{keywordflow}{if} (commandItem || separatorItem) \{}
\DoxyCodeLine{00425     std::string dragStr;}
\DoxyCodeLine{00426     QString dragPixmapTxt;}
\DoxyCodeLine{00427     \textcolor{keywordflow}{if} (commandItem) \{}
\DoxyCodeLine{00428       dragStr =}
\DoxyCodeLine{00429           CommandManager::instance()-\/>getIdFromAction(commandItem-\/>getAction());}
\DoxyCodeLine{00430       dragPixmapTxt = commandItem-\/>getAction()-\/>text();}
\DoxyCodeLine{00431       dragPixmapTxt.remove(\textcolor{stringliteral}{"{}\&"{}});}
\DoxyCodeLine{00432     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00433       dragStr       = \textcolor{stringliteral}{"{}separator"{}};}
\DoxyCodeLine{00434       dragPixmapTxt = tr(\textcolor{stringliteral}{"{}-\/-\/-\/-\/Separator-\/-\/-\/-\/"{}});}
\DoxyCodeLine{00435     \}}
\DoxyCodeLine{00436 }
\DoxyCodeLine{00437     QMimeData* mimeData = \textcolor{keyword}{new} QMimeData;}
\DoxyCodeLine{00438     mimeData-\/>setText(QString::fromStdString(dragStr));}
\DoxyCodeLine{00439 }
\DoxyCodeLine{00440     QFontMetrics fm(QApplication::font());}
\DoxyCodeLine{00441     QPixmap pix(fm.boundingRect(dragPixmapTxt).adjusted(-\/2, -\/2, 2, 2).size());}
\DoxyCodeLine{00442     QPainter painter(\&pix);}
\DoxyCodeLine{00443     painter.fillRect(pix.rect(), Qt::white);}
\DoxyCodeLine{00444     painter.setPen(Qt::black);}
\DoxyCodeLine{00445     painter.drawText(pix.rect(), Qt::AlignCenter, dragPixmapTxt);}
\DoxyCodeLine{00446 }
\DoxyCodeLine{00447     QDrag* drag = \textcolor{keyword}{new} QDrag(\textcolor{keyword}{this});}
\DoxyCodeLine{00448     drag-\/>setMimeData(mimeData);}
\DoxyCodeLine{00449     drag-\/>setPixmap(pix);}
\DoxyCodeLine{00450 }
\DoxyCodeLine{00451     drag-\/>exec(Qt::CopyAction);}
\DoxyCodeLine{00452   \}}
\DoxyCodeLine{00453 }
\DoxyCodeLine{00454   QTreeWidget::mousePressEvent(event);}
\DoxyCodeLine{00455 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/menubarpopup.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/menubarpopup.\+cpp\end{DoxyCompactItemize}
