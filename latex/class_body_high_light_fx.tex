\hypertarget{class_body_high_light_fx}{}\doxysection{Body\+High\+Light\+Fx Class Reference}
\label{class_body_high_light_fx}\index{BodyHighLightFx@{BodyHighLightFx}}
Inheritance diagram for Body\+High\+Light\+Fx\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{class_body_high_light_fx}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_body_high_light_fx_a4605ac6171c1c9d157cb0c130e2c66fa}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&b\+Box, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
bool \mbox{\hyperlink{class_body_high_light_fx_a40416892863deceb85e58528096a628c}{can\+Handle}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info, double frame) override
\item 
void \mbox{\hyperlink{class_body_high_light_fx_a9244d035d81eb7fdaf9e04bf991df774}{do\+Dry\+Compute}} (\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
void \mbox{\hyperlink{class_body_high_light_fx_a7bb54e658ed75dcaa23e3a590dfcef30}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&) override
\item 
int \mbox{\hyperlink{class_body_high_light_fx_a284a6fb488fff20b0baa62fdca799264}{get\+Memory\+Requirement}} (const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_body_high_light_fx_ab42bb820d15e7845211cdb411615b7d6}\label{class_body_high_light_fx_ab42bb820d15e7845211cdb411615b7d6}} 
\index{BodyHighLightFx@{BodyHighLightFx}!BodyHighLightFx@{BodyHighLightFx}}
\index{BodyHighLightFx@{BodyHighLightFx}!BodyHighLightFx@{BodyHighLightFx}}
\doxysubsubsection{\texorpdfstring{BodyHighLightFx()}{BodyHighLightFx()}}
{\footnotesize\ttfamily Body\+High\+Light\+Fx\+::\+Body\+High\+Light\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00347       : m\_point(\mbox{\hyperlink{class_t_point_t}{TPointD}}(10.0, 10.0))}
\DoxyCodeLine{00348       , m\_mode(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_enum_param}{TIntEnumParam}}(OVER, \textcolor{stringliteral}{"{}Over"{}}))}
\DoxyCodeLine{00349       , m\_transparency(0.5)}
\DoxyCodeLine{00350       , m\_blur(2.0)}
\DoxyCodeLine{00351       , m\_color(TPixel32::White)}
\DoxyCodeLine{00352       , m\_invert(\textcolor{keyword}{false}) \{}
\DoxyCodeLine{00353     m\_point-\/>getX()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00354     m\_point-\/>getY()-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00355     m\_blur-\/>setMeasureName(\textcolor{stringliteral}{"{}fxLength"{}});}
\DoxyCodeLine{00356     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}mode"{}}, m\_mode);}
\DoxyCodeLine{00357     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}point"{}}, m\_point);}
\DoxyCodeLine{00358     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}transparency"{}}, m\_transparency);}
\DoxyCodeLine{00359     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}blur"{}}, m\_blur);}
\DoxyCodeLine{00360     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}color"{}}, m\_color);}
\DoxyCodeLine{00361     bindParam(\textcolor{keyword}{this}, \textcolor{stringliteral}{"{}invert"{}}, m\_invert);}
\DoxyCodeLine{00362     \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}Source"{}}, m\_input);}
\DoxyCodeLine{00363     m\_transparency-\/>setValueRange(0.0, 1.0);}
\DoxyCodeLine{00364     m\_blur-\/>setValueRange(0, (std::numeric\_limits<double>::max)());}
\DoxyCodeLine{00365     m\_color-\/>enableMatte(\textcolor{keyword}{false});}
\DoxyCodeLine{00366 }
\DoxyCodeLine{00367     m\_mode-\/>addItem(ADD, \textcolor{stringliteral}{"{}Add"{}});}
\DoxyCodeLine{00368     m\_mode-\/>addItem(SUBTRACT, \textcolor{stringliteral}{"{}Subtract"{}});}
\DoxyCodeLine{00369     m\_mode-\/>addItem(MULTIPLY, \textcolor{stringliteral}{"{}Multiply"{}});}
\DoxyCodeLine{00370     m\_mode-\/>addItem(LIGHTEN, \textcolor{stringliteral}{"{}Lighten"{}});}
\DoxyCodeLine{00371     m\_mode-\/>addItem(DARKEN, \textcolor{stringliteral}{"{}Darken"{}});}
\DoxyCodeLine{00372   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_body_high_light_fx_a6147c8ab8db1b21a7ce393d17b69c1f9}\label{class_body_high_light_fx_a6147c8ab8db1b21a7ce393d17b69c1f9}} 
\index{BodyHighLightFx@{BodyHighLightFx}!````~BodyHighLightFx@{$\sim$BodyHighLightFx}}
\index{````~BodyHighLightFx@{$\sim$BodyHighLightFx}!BodyHighLightFx@{BodyHighLightFx}}
\doxysubsubsection{\texorpdfstring{$\sim$BodyHighLightFx()}{~BodyHighLightFx()}}
{\footnotesize\ttfamily Body\+High\+Light\+Fx\+::$\sim$\+Body\+High\+Light\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00374 \{\};}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_body_high_light_fx_a40416892863deceb85e58528096a628c}\label{class_body_high_light_fx_a40416892863deceb85e58528096a628c}} 
\index{BodyHighLightFx@{BodyHighLightFx}!canHandle@{canHandle}}
\index{canHandle@{canHandle}!BodyHighLightFx@{BodyHighLightFx}}
\doxysubsubsection{\texorpdfstring{canHandle()}{canHandle()}}
{\footnotesize\ttfamily bool Body\+High\+Light\+Fx\+::can\+Handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00386                                                                      \{}
\DoxyCodeLine{00387     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00388   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_body_high_light_fx_a7bb54e658ed75dcaa23e3a590dfcef30}\label{class_body_high_light_fx_a7bb54e658ed75dcaa23e3a590dfcef30}} 
\index{BodyHighLightFx@{BodyHighLightFx}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!BodyHighLightFx@{BodyHighLightFx}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void Body\+High\+Light\+Fx\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{ri }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00425                                                            \{}
\DoxyCodeLine{00426   \textcolor{keywordtype}{double} fac = sqrt(fabs(ri.\mbox{\hyperlink{class_t_render_settings_a1250181bf3fe8e05db005d5faa76b3ea}{m\_affine}}.det()));}
\DoxyCodeLine{00427 }
\DoxyCodeLine{00428   \textcolor{keywordflow}{if} (!m\_input.isConnected()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00429 }
\DoxyCodeLine{00430   \textcolor{comment}{// Compute the effective input tile}}
\DoxyCodeLine{00431   m\_input-\/>compute(tile, frame, ri);}
\DoxyCodeLine{00432 }
\DoxyCodeLine{00433   \textcolor{keywordtype}{double} transp = m\_transparency-\/>getValue(frame);}
\DoxyCodeLine{00434   \textcolor{keywordtype}{int} blur      = (int)(fac * fabs(m\_blur-\/>getValue(frame)));}
\DoxyCodeLine{00435   \mbox{\hyperlink{class_t_point_t}{TPoint}} point  = convert(fac * m\_point-\/>getValue(frame));}
\DoxyCodeLine{00436   \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespace_t_rop_a1d8e2ff30b65313b6a82376d17be65cf}{invert}}   = m\_invert-\/>getValue();}
\DoxyCodeLine{00437 }
\DoxyCodeLine{00438   \textcolor{comment}{// Build the shadow, blurred tile}}
\DoxyCodeLine{00439   \mbox{\hyperlink{class_t_dimension_t}{TDimension}} rectSize(tile.getRaster()-\/>getSize());}
\DoxyCodeLine{00440   \mbox{\hyperlink{class_t_rect_t}{TRectD}} rectIn(tile.m\_pos, \mbox{\hyperlink{class_t_dimension_t}{TDimensionD}}(rectSize.lx, rectSize.ly));}
\DoxyCodeLine{00441   rectIn = rectIn.enlarge(blur);}
\DoxyCodeLine{00442 }
\DoxyCodeLine{00443   \textcolor{comment}{// Shift rectIn by the input 'point'}}
\DoxyCodeLine{00444   \textcolor{keywordtype}{int} rasInLx = tround(rectIn.getLx() + abs(point.x)) + 1;}
\DoxyCodeLine{00445   \textcolor{keywordtype}{int} rasInLy = tround(rectIn.getLy() + abs(point.y)) + 1;}
\DoxyCodeLine{00446   \textcolor{keywordflow}{if} (point.x < 0) \{}
\DoxyCodeLine{00447     rectIn.x0 += point.x;}
\DoxyCodeLine{00448   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00449     rectIn.x1 += point.x;}
\DoxyCodeLine{00450   \}}
\DoxyCodeLine{00451   \textcolor{keywordflow}{if} (point.y < 0) \{}
\DoxyCodeLine{00452     rectIn.y0 += point.y;}
\DoxyCodeLine{00453   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00454     rectIn.y1 += point.y;}
\DoxyCodeLine{00455   \}}
\DoxyCodeLine{00456 }
\DoxyCodeLine{00457   \textcolor{keyword}{const} TPixel32 color = m\_color-\/>getPremultipliedValue(frame);}
\DoxyCodeLine{00458 }
\DoxyCodeLine{00459   \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} raster32 = tile.getRaster();}
\DoxyCodeLine{00460   \mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}} raster64 = tile.getRaster();}
\DoxyCodeLine{00461 }
\DoxyCodeLine{00462   \mbox{\hyperlink{class_t_tile}{TTile}} tileIn;}
\DoxyCodeLine{00463   m\_input-\/>allocateAndCompute(tileIn, rectIn.getP00(),}
\DoxyCodeLine{00464                               \mbox{\hyperlink{class_t_dimension_t}{TDimension}}(rasInLx, rasInLy), tile.getRaster(),}
\DoxyCodeLine{00465                               frame, ri);}
\DoxyCodeLine{00466 }
\DoxyCodeLine{00467   \textcolor{comment}{// Select the specified pixel operation}}
\DoxyCodeLine{00468   void (*pixelOp32)(TPixel32 \&, \textcolor{keyword}{const} TPixel32 \&, \textcolor{keyword}{const} TPixel32 \&);}
\DoxyCodeLine{00469   void (*pixelOp64)(TPixel64 \&, \textcolor{keyword}{const} TPixel64 \&, \textcolor{keyword}{const} TPixel64 \&);}
\DoxyCodeLine{00470 }
\DoxyCodeLine{00471   \textcolor{keywordflow}{switch} (m\_mode-\/>getValue()) \{}
\DoxyCodeLine{00472   \textcolor{keywordflow}{case} OVER: \{}
\DoxyCodeLine{00473     pixelOp32 = ::myOver<TPixel32>;}
\DoxyCodeLine{00474     pixelOp64 = ::myOver<TPixel64>;}
\DoxyCodeLine{00475     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00476   \}}
\DoxyCodeLine{00477 }
\DoxyCodeLine{00478   \textcolor{keywordflow}{case} ADD: \{}
\DoxyCodeLine{00479     pixelOp32 = ::myAdd<TPixel32>;}
\DoxyCodeLine{00480     pixelOp64 = ::myAdd<TPixel64>;}
\DoxyCodeLine{00481     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00482   \}}
\DoxyCodeLine{00483 }
\DoxyCodeLine{00484   \textcolor{keywordflow}{case} SUBTRACT: \{}
\DoxyCodeLine{00485     pixelOp32 = ::mySub<TPixel32>;}
\DoxyCodeLine{00486     pixelOp64 = ::mySub<TPixel64>;}
\DoxyCodeLine{00487     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00488   \}}
\DoxyCodeLine{00489 }
\DoxyCodeLine{00490   \textcolor{keywordflow}{case} MULTIPLY: \{}
\DoxyCodeLine{00491     pixelOp32 = ::myMult<TPixel32>;}
\DoxyCodeLine{00492     pixelOp64 = ::myMult<TPixel64>;}
\DoxyCodeLine{00493     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00494   \}}
\DoxyCodeLine{00495 }
\DoxyCodeLine{00496   \textcolor{keywordflow}{case} LIGHTEN: \{}
\DoxyCodeLine{00497     pixelOp32 = ::myLighten<TPixel32>;}
\DoxyCodeLine{00498     pixelOp64 = ::myLighten<TPixel64>;}
\DoxyCodeLine{00499     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00500   \}}
\DoxyCodeLine{00501 }
\DoxyCodeLine{00502   \textcolor{keywordflow}{case} DARKEN: \{}
\DoxyCodeLine{00503     pixelOp32 = ::myDarken<TPixel32>;}
\DoxyCodeLine{00504     pixelOp64 = ::myDarken<TPixel64>;}
\DoxyCodeLine{00505     \textcolor{keywordflow}{break};}
\DoxyCodeLine{00506   \}}
\DoxyCodeLine{00507   \}}
\DoxyCodeLine{00508 }
\DoxyCodeLine{00509   \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} rin = tileIn.getRaster();}
\DoxyCodeLine{00510   \textcolor{keywordflow}{if} (raster32)}
\DoxyCodeLine{00511     doBodyHighlight<TPixel32>(raster32, rin, rectIn, rasInLx, rasInLy, frame,}
\DoxyCodeLine{00512                               blur, transp, color, convert(point), invert,}
\DoxyCodeLine{00513                               pixelOp32, m\_input, ri);}
\DoxyCodeLine{00514   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00515     \mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}} rin = tileIn.getRaster();}
\DoxyCodeLine{00516     \textcolor{keywordflow}{if} (raster64)}
\DoxyCodeLine{00517       doBodyHighlight<TPixel64>(raster64, rin, rectIn, rasInLx, rasInLy, frame,}
\DoxyCodeLine{00518                                 blur, transp, toPixel64(color), convert(point),}
\DoxyCodeLine{00519                                 invert, pixelOp64, m\_input, ri);}
\DoxyCodeLine{00520     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00521       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_exception}{TException}}(\textcolor{stringliteral}{"{}Brightness\&Contrast: unsupported Pixel Type"{}});}
\DoxyCodeLine{00522   \}}
\DoxyCodeLine{00523 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_body_high_light_fx_a9244d035d81eb7fdaf9e04bf991df774}\label{class_body_high_light_fx_a9244d035d81eb7fdaf9e04bf991df774}} 
\index{BodyHighLightFx@{BodyHighLightFx}!doDryCompute@{doDryCompute}}
\index{doDryCompute@{doDryCompute}!BodyHighLightFx@{BodyHighLightFx}}
\doxysubsubsection{\texorpdfstring{doDryCompute()}{doDryCompute()}}
{\footnotesize\ttfamily void Body\+High\+Light\+Fx\+::do\+Dry\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Declares the computation scheme of this fx for rendering optimization purposes. This is an important function of the Toonz rendering API, and should be reimplemented with the necessary care. The Toonz rendering process makes use of this function to enact most of the optimization steps about the fx computation, in particular fx caching. A correct implementation of this method should follow these rules\+:  The invocation of child node computations should be faithfully reproduced.  TRaster\+Fx\+::compute and TRaster\+Fx\+::allocate\+And\+Compute calls have to be translated to TRaster\+Fx\+::dry\+Compute calls.  This fx is intended for precomputation stage, so the hard rendering code should be skipped here. By default, this method raises a dry\+Compute call to each input port in increasing order, using the TRaster\+Fx\+::transform method to identify the tiles to be passed on input precomputation. 

Reimplemented from \mbox{\hyperlink{class_t_raster_fx_a47ec31d2d4c3a066cd6744fb8c80edf2}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00399                                                                 \{}
\DoxyCodeLine{00400   m\_input-\/>dryCompute(rect, frame, info);}
\DoxyCodeLine{00401 }
\DoxyCodeLine{00402   \textcolor{keywordtype}{double} fac   = sqrt(fabs(info.m\_affine.det()));}
\DoxyCodeLine{00403   \textcolor{keywordtype}{int} blur     = (int)(fac * fabs(m\_blur-\/>getValue(frame)));}
\DoxyCodeLine{00404   \mbox{\hyperlink{class_t_point_t}{TPoint}} point = convert(fac * m\_point-\/>getValue(frame));}
\DoxyCodeLine{00405 }
\DoxyCodeLine{00406   \mbox{\hyperlink{class_t_rect_t}{TRectD}} rectIn = rect.enlarge(blur);}
\DoxyCodeLine{00407 }
\DoxyCodeLine{00408   \textcolor{keywordtype}{int} rasInLx = tround(rectIn.getLx() + abs(point.x)) + 1;}
\DoxyCodeLine{00409   \textcolor{keywordtype}{int} rasInLy = tround(rectIn.getLy() + abs(point.y)) + 1;}
\DoxyCodeLine{00410   \textcolor{keywordflow}{if} (point.x < 0) \{}
\DoxyCodeLine{00411     rectIn.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} += point.x;}
\DoxyCodeLine{00412   \}}
\DoxyCodeLine{00413   \textcolor{keywordflow}{if} (point.y < 0) \{}
\DoxyCodeLine{00414     rectIn.y0 += point.y;}
\DoxyCodeLine{00415   \}}
\DoxyCodeLine{00416 }
\DoxyCodeLine{00417   rectIn = \mbox{\hyperlink{class_t_rect_t}{TRectD}}(rectIn.getP00(), \mbox{\hyperlink{class_t_dimension_t}{TDimensionD}}(rasInLx, rasInLy));}
\DoxyCodeLine{00418 }
\DoxyCodeLine{00419   m\_input-\/>dryCompute(rectIn, frame, info);}
\DoxyCodeLine{00420 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00557}{TRect\+T$<$ T $>$\+::x0}}.

\mbox{\Hypertarget{class_body_high_light_fx_a4605ac6171c1c9d157cb0c130e2c66fa}\label{class_body_high_light_fx_a4605ac6171c1c9d157cb0c130e2c66fa}} 
\index{BodyHighLightFx@{BodyHighLightFx}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!BodyHighLightFx@{BodyHighLightFx}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool Body\+High\+Light\+Fx\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{b\+Box,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00377                                                        \{}
\DoxyCodeLine{00378     \textcolor{keywordflow}{if} (m\_input.isConnected())}
\DoxyCodeLine{00379       \textcolor{keywordflow}{return} m\_input-\/>doGetBBox(frame, bBox, info);}
\DoxyCodeLine{00380     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00381       bBox = \mbox{\hyperlink{class_t_rect_t}{TRectD}}();}
\DoxyCodeLine{00382       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00383     \}}
\DoxyCodeLine{00384   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_body_high_light_fx_a284a6fb488fff20b0baa62fdca799264}\label{class_body_high_light_fx_a284a6fb488fff20b0baa62fdca799264}} 
\index{BodyHighLightFx@{BodyHighLightFx}!getMemoryRequirement@{getMemoryRequirement}}
\index{getMemoryRequirement@{getMemoryRequirement}!BodyHighLightFx@{BodyHighLightFx}}
\doxysubsubsection{\texorpdfstring{getMemoryRequirement()}{getMemoryRequirement()}}
{\footnotesize\ttfamily int Body\+High\+Light\+Fx\+::get\+Memory\+Requirement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Specifies the approximate size (in Mega\+Bytes) of the maximum allocation instance that this fx will need to perform in order to render the passed input. This method should be reimplemented in order to make the Toonz rendering process aware of the use of big raster memory chunks, at least. Observe that the passed tile geometry is implicitly {\itshape  already allocated \texorpdfstring{$<$}{<}\textbackslash{}i\texorpdfstring{$>$}{>} for the fx output. ~\newline
The default implementation returns 0, assuming that the passed implicit memory size is passed below in node computation without further allocation of resources. Fxs can reimplement this to -\/1 to explicitly disable the Toonz\textquotesingle{}s smart memory handling. ~\newline
 ~\newline
\begin{DoxyNote}{Note}
The rendering process ensures that the passed render settings are {\itshape handled} by the fx before this function is invoked -\/ do not waste code for it. 
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRaster\+Fx\+::memory\+Size}} and TRaster\+Fx\+::can\+Handle methods. 
\end{DoxySeeAlso}
}

Reimplemented from \mbox{\hyperlink{class_t_raster_fx_af8eb991c9756f4fb2e48d9f96cbacfba}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00528                                                                        \{}
\DoxyCodeLine{00529   \textcolor{keywordtype}{int} blur =}
\DoxyCodeLine{00530       (int)(sqrt(fabs(info.m\_affine.det())) * fabs(m\_blur-\/>getValue(frame)));}
\DoxyCodeLine{00531   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_raster_fx_a909a7afa779121b6caef5093da6447b0}{TRasterFx::memorySize}}(rect.enlarge(blur), info.m\_bpp);}
\DoxyCodeLine{00532 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00560}{TRaster\+Fx\+::memory\+Size()}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/stdfx/bodyhighlightfx.\+cpp\end{DoxyCompactItemize}
