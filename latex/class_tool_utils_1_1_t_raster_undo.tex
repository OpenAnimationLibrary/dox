\hypertarget{class_tool_utils_1_1_t_raster_undo}{}\doxysection{Tool\+Utils\+::TRaster\+Undo Class Reference}
\label{class_tool_utils_1_1_t_raster_undo}\index{ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}}
Inheritance diagram for Tool\+Utils\+::TRaster\+Undo\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=5.000000cm]{class_tool_utils_1_1_t_raster_undo}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_tool_utils_1_1_t_raster_undo_abe9a8d7f33613bba777b7f7082683253}{TRaster\+Undo}} (\mbox{\hyperlink{class_t_tile_set_c_m32}{TTile\+Set\+CM32}} $\ast$tiles, \mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$level, const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&frame\+Id, bool created\+Frame, bool created\+Level, const \mbox{\hyperlink{class_t_smart_pointer_t}{TPaletteP}} \&old\+Palette)
\item 
int \mbox{\hyperlink{class_tool_utils_1_1_t_raster_undo_a4c7ba7199183a15513f702f206d43725}{get\+Size}} () const override
\item 
void \mbox{\hyperlink{class_tool_utils_1_1_t_raster_undo_ae8fff7b66db83cf56e42de8d9a45ed6a}{undo}} () const override
\item 
QString \mbox{\hyperlink{class_tool_utils_1_1_t_raster_undo_accfc7464f3b88fa80fd53b0edc34525f}{get\+Tool\+Name}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_toonz_image_p}{TToonz\+ImageP}} \mbox{\hyperlink{class_tool_utils_1_1_t_raster_undo_a03e929a314bdbc59792947e2a214f8d8}{get\+Image}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_tile_set_c_m32}{TTile\+Set\+CM32}} $\ast$ \mbox{\hyperlink{class_tool_utils_1_1_t_raster_undo_ac9655949a557be08221f23a0f033c0ae}{m\+\_\+tiles}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_t_raster_undo_abe9a8d7f33613bba777b7f7082683253}\label{class_tool_utils_1_1_t_raster_undo_abe9a8d7f33613bba777b7f7082683253}} 
\index{ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}!TRasterUndo@{TRasterUndo}}
\index{TRasterUndo@{TRasterUndo}!ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}}
\doxysubsubsection{\texorpdfstring{TRasterUndo()}{TRasterUndo()}}
{\footnotesize\ttfamily Tool\+Utils\+::\+TRaster\+Undo\+::\+TRaster\+Undo (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile_set_c_m32}{TTile\+Set\+CM32}} $\ast$}]{tiles,  }\item[{\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$}]{level,  }\item[{const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&}]{frame\+Id,  }\item[{bool}]{created\+Frame,  }\item[{bool}]{created\+Level,  }\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TPaletteP}} \&}]{old\+Palette }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00616     : TToolUndo(level, frameId, createdFrame, createdLevel, oldPalette)}
\DoxyCodeLine{00617     , m\_tiles(tiles) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_t_raster_undo_ab867a6f38f19eab64f80cb9deda4f63e}\label{class_tool_utils_1_1_t_raster_undo_ab867a6f38f19eab64f80cb9deda4f63e}} 
\index{ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}!````~TRasterUndo@{$\sim$TRasterUndo}}
\index{````~TRasterUndo@{$\sim$TRasterUndo}!ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}}
\doxysubsubsection{\texorpdfstring{$\sim$TRasterUndo()}{~TRasterUndo()}}
{\footnotesize\ttfamily Tool\+Utils\+::\+TRaster\+Undo\+::$\sim$\+TRaster\+Undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00621                                    \{}
\DoxyCodeLine{00622   \textcolor{keywordflow}{if} (m\_tiles) \textcolor{keyword}{delete} m\_tiles;}
\DoxyCodeLine{00623 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_t_raster_undo_a03e929a314bdbc59792947e2a214f8d8}\label{class_tool_utils_1_1_t_raster_undo_a03e929a314bdbc59792947e2a214f8d8}} 
\index{ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}!getImage@{getImage}}
\index{getImage@{getImage}!ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}}
\doxysubsubsection{\texorpdfstring{getImage()}{getImage()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_toonz_image_p}{TToonz\+ImageP}} Tool\+Utils\+::\+TRaster\+Undo\+::get\+Image (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00627                                                   \{}
\DoxyCodeLine{00628   \textcolor{keywordflow}{if} (m\_level-\/>\mbox{\hyperlink{class_t_xsh_simple_level_a14de45c4b17032346cfcffbca8ef9751}{isFid}}(m\_frameId))}
\DoxyCodeLine{00629     \textcolor{keywordflow}{return} (\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}})m\_level-\/>getFrame(m\_frameId, \textcolor{keyword}{true});}
\DoxyCodeLine{00630   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00631 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_t_raster_undo_a4c7ba7199183a15513f702f206d43725}\label{class_tool_utils_1_1_t_raster_undo_a4c7ba7199183a15513f702f206d43725}} 
\index{ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}!getSize@{getSize}}
\index{getSize@{getSize}!ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Tool\+Utils\+::\+TRaster\+Undo\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00635                                         \{}
\DoxyCodeLine{00636   \textcolor{keywordtype}{int} size = \textcolor{keyword}{sizeof}(*this);}
\DoxyCodeLine{00637   size += \textcolor{keyword}{sizeof}(*(m\_level.getPointer()));}
\DoxyCodeLine{00638   size += \textcolor{keyword}{sizeof}(*(m\_oldPalette.getPointer()));}
\DoxyCodeLine{00639   \textcolor{keywordflow}{return} m\_tiles ? m\_tiles-\/>getMemorySize() + size : size;}
\DoxyCodeLine{00640 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_t_raster_undo_accfc7464f3b88fa80fd53b0edc34525f}\label{class_tool_utils_1_1_t_raster_undo_accfc7464f3b88fa80fd53b0edc34525f}} 
\index{ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}!getToolName@{getToolName}}
\index{getToolName@{getToolName}!ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}}
\doxysubsubsection{\texorpdfstring{getToolName()}{getToolName()}}
{\footnotesize\ttfamily QString Tool\+Utils\+::\+TRaster\+Undo\+::get\+Tool\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tool_utils_1_1_t_tool_undo}{Tool\+Utils\+::\+TTool\+Undo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00204 \{ \textcolor{keywordflow}{return} QString(\textcolor{stringliteral}{"{}Raster Tool"{}}); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_t_raster_undo_ae8fff7b66db83cf56e42de8d9a45ed6a}\label{class_tool_utils_1_1_t_raster_undo_ae8fff7b66db83cf56e42de8d9a45ed6a}} 
\index{ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}!undo@{undo}}
\index{undo@{undo}!ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Tool\+Utils\+::\+TRaster\+Undo\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00644                                       \{}
\DoxyCodeLine{00645   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{00646   \textcolor{keywordflow}{if} (!app) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00647 }
\DoxyCodeLine{00648   \textcolor{keywordflow}{if} (m\_tiles \&\& m\_tiles-\/>getTileCount() > 0) \{}
\DoxyCodeLine{00649     \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} image = getImage();}
\DoxyCodeLine{00650     \textcolor{keywordflow}{if} (!image) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00651 }
\DoxyCodeLine{00652     ToonzImageUtils::paste(image, m\_tiles);}
\DoxyCodeLine{00653     ToolUtils::updateSaveBox(m\_level, m\_frameId);}
\DoxyCodeLine{00654   \}}
\DoxyCodeLine{00655 }
\DoxyCodeLine{00656   removeLevelAndFrameIfNeeded();}
\DoxyCodeLine{00657 }
\DoxyCodeLine{00658   app-\/>getCurrentXsheet()-\/>notifyXsheetChanged();}
\DoxyCodeLine{00659   notifyImageChanged();}
\DoxyCodeLine{00660 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_t_raster_undo_ac9655949a557be08221f23a0f033c0ae}\label{class_tool_utils_1_1_t_raster_undo_ac9655949a557be08221f23a0f033c0ae}} 
\index{ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}!m\_tiles@{m\_tiles}}
\index{m\_tiles@{m\_tiles}!ToolUtils::TRasterUndo@{ToolUtils::TRasterUndo}}
\doxysubsubsection{\texorpdfstring{m\_tiles}{m\_tiles}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_tile_set_c_m32}{TTile\+Set\+CM32}}$\ast$ Tool\+Utils\+::\+TRaster\+Undo\+::m\+\_\+tiles\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tools/toolutils.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/toolutils.\+cpp\end{DoxyCompactItemize}
