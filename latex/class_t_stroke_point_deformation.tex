\hypertarget{class_t_stroke_point_deformation}{}\doxysection{TStroke\+Point\+Deformation Class Reference}
\label{class_t_stroke_point_deformation}\index{TStrokePointDeformation@{TStrokePointDeformation}}


{\ttfamily \#include $<$tstrokedeformations.\+h$>$}

Inheritance diagram for TStroke\+Point\+Deformation\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_t_stroke_point_deformation}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_t_stroke_point_deformation_1_1_imp}{Imp}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_stroke_point_deformation_afd341b2fb456e89687c3b291da26d779}{TStroke\+Point\+Deformation}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&center=\mbox{\hyperlink{class_t_point_t}{TPointD}}(), double radius=40.\+0)
\item 
\mbox{\hyperlink{class_t_stroke_point_deformation_af1ea0a0f750f5d7d07a6d3eb7a0a459d}{TStroke\+Point\+Deformation}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&vect, const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&center=\mbox{\hyperlink{class_t_point_t}{TPointD}}(), double radius=40.\+0)
\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_t_stroke_point_deformation_a1c18823fb629f873c7d590fd7ad4da91}{get\+Displacement}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&stroke, double s) const override
\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_t_stroke_point_deformation_a864e4a0d52813a0a0a15e4aef472cf8e}{get\+Displacement\+For\+Control\+Point}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&s, UINT n) const override
\item 
\mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} \mbox{\hyperlink{class_t_stroke_point_deformation_a45decaa22fc292c3146dcfe478f55ae7}{get\+Displacement\+For\+Control\+Point\+Len}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&stroke, double cp\+Len) const override
\item 
double \mbox{\hyperlink{class_t_stroke_point_deformation_ad16245eb78e97c39df649ff9641daacc}{get\+Delta}} (const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&stroke, double w) const override
\item 
double \mbox{\hyperlink{class_t_stroke_point_deformation_a7b11bacce15e13e7e38acd93f98e909c}{get\+Max\+Diff}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{struct_t_stroke_point_deformation_1_1_imp}{Imp}} $>$ \mbox{\hyperlink{class_t_stroke_point_deformation_a98b7b505ae7f5eb6a7bce239ce6f2445}{m\+\_\+imp}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Manage the manipulation of a stroke using the metaball.

Every tools have a constructor like\+:

const \mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$p\+Stroke const TPointD \&vect ... list of parameter. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_stroke_point_deformation_afd341b2fb456e89687c3b291da26d779}\label{class_t_stroke_point_deformation_afd341b2fb456e89687c3b291da26d779}} 
\index{TStrokePointDeformation@{TStrokePointDeformation}!TStrokePointDeformation@{TStrokePointDeformation}}
\index{TStrokePointDeformation@{TStrokePointDeformation}!TStrokePointDeformation@{TStrokePointDeformation}}
\doxysubsubsection{\texorpdfstring{TStrokePointDeformation()}{TStrokePointDeformation()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily TStroke\+Point\+Deformation\+::\+TStroke\+Point\+Deformation (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{center = {\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}}()},  }\item[{double}]{radius = {\ttfamily 40.0} }\end{DoxyParamCaption})}

Use this constructor with increase\+Points. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00168     : m\_imp(\textcolor{keyword}{new} Imp(center, radius)) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_point_deformation_af1ea0a0f750f5d7d07a6d3eb7a0a459d}\label{class_t_stroke_point_deformation_af1ea0a0f750f5d7d07a6d3eb7a0a459d}} 
\index{TStrokePointDeformation@{TStrokePointDeformation}!TStrokePointDeformation@{TStrokePointDeformation}}
\index{TStrokePointDeformation@{TStrokePointDeformation}!TStrokePointDeformation@{TStrokePointDeformation}}
\doxysubsubsection{\texorpdfstring{TStrokePointDeformation()}{TStrokePointDeformation()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily TStroke\+Point\+Deformation\+::\+TStroke\+Point\+Deformation (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{vect,  }\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{center = {\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}}()},  }\item[{double}]{radius = {\ttfamily 40.0} }\end{DoxyParamCaption})}

Use this constructor with modify\+Control\+Points. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00175     : m\_imp(\textcolor{keyword}{new} Imp(vect, center, radius)) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_point_deformation_acbfbca4914d58db932b453004f1110e5}\label{class_t_stroke_point_deformation_acbfbca4914d58db932b453004f1110e5}} 
\index{TStrokePointDeformation@{TStrokePointDeformation}!````~TStrokePointDeformation@{$\sim$TStrokePointDeformation}}
\index{````~TStrokePointDeformation@{$\sim$TStrokePointDeformation}!TStrokePointDeformation@{TStrokePointDeformation}}
\doxysubsubsection{\texorpdfstring{$\sim$TStrokePointDeformation()}{~TStrokePointDeformation()}}
{\footnotesize\ttfamily TStroke\+Point\+Deformation\+::$\sim$\+TStroke\+Point\+Deformation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00179 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_stroke_point_deformation_ad16245eb78e97c39df649ff9641daacc}\label{class_t_stroke_point_deformation_ad16245eb78e97c39df649ff9641daacc}} 
\index{TStrokePointDeformation@{TStrokePointDeformation}!getDelta@{getDelta}}
\index{getDelta@{getDelta}!TStrokePointDeformation@{TStrokePointDeformation}}
\doxysubsubsection{\texorpdfstring{getDelta()}{getDelta()}}
{\footnotesize\ttfamily double TStroke\+Point\+Deformation\+::get\+Delta (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke,  }\item[{double}]{w }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

$\vert$ d \mbox{\hyperlink{class_t_stroke_point_deformation_a1c18823fb629f873c7d590fd7ad4da91}{get\+Displacement()}} / dw $\vert$ \begin{DoxyParagraph}{stroke to test}

\end{DoxyParagraph}
\begin{DoxyParagraph}{w stroke parameter}
\textbackslash{}ret $\vert$ d \mbox{\hyperlink{class_t_stroke_point_deformation_a1c18823fb629f873c7d590fd7ad4da91}{get\+Displacement()}} / dw $\vert$ 
\end{DoxyParagraph}


Implements \mbox{\hyperlink{class_t_stroke_deformation_a7b9fd2eadfddc3e599222d8cdd21533d}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00231                                                          \{}
\DoxyCodeLine{00232   \textcolor{comment}{// reference to a thickpoint}}
\DoxyCodeLine{00233   \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} thickPnt = m\_imp-\/>m\_vect ? stroke.\mbox{\hyperlink{class_t_stroke_a03789f25de41b0395e14cc91dc944c38}{getControlPointAtParameter}}(w)}
\DoxyCodeLine{00234                                        : stroke.\mbox{\hyperlink{class_t_stroke_ada4f6fc3fea4a7c0b949cd1d9dc6e640}{getThickPoint}}(w);}
\DoxyCodeLine{00235 }
\DoxyCodeLine{00236   assert(thickPnt != TConsts::natp);}
\DoxyCodeLine{00237 }
\DoxyCodeLine{00238   \mbox{\hyperlink{class_t_point_t}{TPointD}} pntOfStroke = convert(thickPnt);}
\DoxyCodeLine{00239 }
\DoxyCodeLine{00240   \textcolor{keywordtype}{double} d = tdistance(pntOfStroke, m\_imp-\/>m\_circleCenter);}
\DoxyCodeLine{00241 }
\DoxyCodeLine{00242   \textcolor{keywordflow}{return} m\_imp-\/>m\_potential-\/>gradient(d);}
\DoxyCodeLine{00243 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01384}{TStroke\+::get\+Control\+Point\+At\+Parameter()}}, and \mbox{\hyperlink{l01960}{TStroke\+::get\+Thick\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_point_deformation_a1c18823fb629f873c7d590fd7ad4da91}\label{class_t_stroke_point_deformation_a1c18823fb629f873c7d590fd7ad4da91}} 
\index{TStrokePointDeformation@{TStrokePointDeformation}!getDisplacement@{getDisplacement}}
\index{getDisplacement@{getDisplacement}!TStrokePointDeformation@{TStrokePointDeformation}}
\doxysubsubsection{\texorpdfstring{getDisplacement()}{getDisplacement()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} TStroke\+Point\+Deformation\+::get\+Displacement (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke,  }\item[{double}]{w }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

return displacement to use with function increase\+Control\+Points \begin{DoxyParagraph}{stroke to test}

\end{DoxyParagraph}
\begin{DoxyParagraph}{w stroke parameter}
\textbackslash{}ret displacement to apply to obtain deformation 
\end{DoxyParagraph}
\begin{DoxySeeAlso}{See also}
increase\+Control\+Points 
\end{DoxySeeAlso}


Implements \mbox{\hyperlink{class_t_stroke_deformation_a14016df3f46a20f16313dd725a514d63}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00208                                                                      \{}
\DoxyCodeLine{00209   \textcolor{comment}{// riferimento ad un punto ciccione della stroke}}
\DoxyCodeLine{00210   \mbox{\hyperlink{class_t_thick_point}{TThickPoint}} thickPnt = m\_imp-\/>m\_vect ? stroke.\mbox{\hyperlink{class_t_stroke_a03789f25de41b0395e14cc91dc944c38}{getControlPointAtParameter}}(w)}
\DoxyCodeLine{00211                                        : stroke.\mbox{\hyperlink{class_t_stroke_ada4f6fc3fea4a7c0b949cd1d9dc6e640}{getThickPoint}}(w);}
\DoxyCodeLine{00212 }
\DoxyCodeLine{00213   assert(thickPnt != TConsts::natp);}
\DoxyCodeLine{00214 }
\DoxyCodeLine{00215   \mbox{\hyperlink{class_t_point_t}{TPointD}} pntOfStroke(convert(thickPnt));}
\DoxyCodeLine{00216 }
\DoxyCodeLine{00217   \textcolor{keywordtype}{double} d = tdistance(pntOfStroke, m\_imp-\/>m\_circleCenter);}
\DoxyCodeLine{00218 }
\DoxyCodeLine{00219   \textcolor{keywordflow}{if} (m\_imp-\/>m\_vect)}
\DoxyCodeLine{00220     \textcolor{keywordflow}{return} m\_imp-\/>m\_potential-\/>value(d) * \mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(*m\_imp-\/>m\_vect, 0);}
\DoxyCodeLine{00221   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00222     \textcolor{keywordtype}{double} outVal = m\_imp-\/>m\_potential-\/>value(d);}
\DoxyCodeLine{00223 }
\DoxyCodeLine{00224     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(outVal, outVal, 0);}
\DoxyCodeLine{00225   \}}
\DoxyCodeLine{00226 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01384}{TStroke\+::get\+Control\+Point\+At\+Parameter()}}, and \mbox{\hyperlink{l01960}{TStroke\+::get\+Thick\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_point_deformation_a864e4a0d52813a0a0a15e4aef472cf8e}\label{class_t_stroke_point_deformation_a864e4a0d52813a0a0a15e4aef472cf8e}} 
\index{TStrokePointDeformation@{TStrokePointDeformation}!getDisplacementForControlPoint@{getDisplacementForControlPoint}}
\index{getDisplacementForControlPoint@{getDisplacementForControlPoint}!TStrokePointDeformation@{TStrokePointDeformation}}
\doxysubsubsection{\texorpdfstring{getDisplacementForControlPoint()}{getDisplacementForControlPoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} TStroke\+Point\+Deformation\+::get\+Displacement\+For\+Control\+Point (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke,  }\item[{UINT}]{n }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

return displacement to use with function modify\+Control\+Points \begin{DoxyParagraph}{stroke to test}

\end{DoxyParagraph}
\begin{DoxyParagraph}{n control point to get}
\textbackslash{}ret displacement to apply to obtain deformation 
\end{DoxyParagraph}
\begin{DoxySeeAlso}{See also}
modify\+Control\+Points 
\end{DoxySeeAlso}


Implements \mbox{\hyperlink{class_t_stroke_deformation_ac566a93f9396d25548059ea993d3224d}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00184                                          \{}
\DoxyCodeLine{00185   \textcolor{comment}{// riferimento ad un punto ciccione della stroke}}
\DoxyCodeLine{00186   \mbox{\hyperlink{class_t_point_t}{TPointD}} pntOfStroke(convert(stroke.\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(n)));}
\DoxyCodeLine{00187 }
\DoxyCodeLine{00188   \textcolor{keywordtype}{double} d = tdistance(pntOfStroke, m\_imp-\/>m\_circleCenter);}
\DoxyCodeLine{00189 }
\DoxyCodeLine{00190   \textcolor{keywordflow}{if} (m\_imp-\/>m\_vect)}
\DoxyCodeLine{00191     \textcolor{keywordflow}{return} m\_imp-\/>m\_potential-\/>value(d) * \mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(*m\_imp-\/>m\_vect, 0);}
\DoxyCodeLine{00192   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00193     \textcolor{keywordtype}{double} outVal = m\_imp-\/>m\_potential-\/>value(d);}
\DoxyCodeLine{00194 }
\DoxyCodeLine{00195     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_thick_point}{TThickPoint}}(outVal, outVal, 0);}
\DoxyCodeLine{00196   \}}
\DoxyCodeLine{00197 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01352}{TStroke\+::get\+Control\+Point()}}.

\mbox{\Hypertarget{class_t_stroke_point_deformation_a45decaa22fc292c3146dcfe478f55ae7}\label{class_t_stroke_point_deformation_a45decaa22fc292c3146dcfe478f55ae7}} 
\index{TStrokePointDeformation@{TStrokePointDeformation}!getDisplacementForControlPointLen@{getDisplacementForControlPointLen}}
\index{getDisplacementForControlPointLen@{getDisplacementForControlPointLen}!TStrokePointDeformation@{TStrokePointDeformation}}
\doxysubsubsection{\texorpdfstring{getDisplacementForControlPointLen()}{getDisplacementForControlPointLen()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_thick_point}{TThick\+Point}} TStroke\+Point\+Deformation\+::get\+Displacement\+For\+Control\+Point\+Len (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_stroke}{TStroke}} \&}]{stroke,  }\item[{double}]{cp\+Len }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_stroke_deformation}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00200                                                \{}
\DoxyCodeLine{00201   assert(0);}
\DoxyCodeLine{00202   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_thick_point}{TThickPoint}}();}
\DoxyCodeLine{00203 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_stroke_point_deformation_a7b11bacce15e13e7e38acd93f98e909c}\label{class_t_stroke_point_deformation_a7b11bacce15e13e7e38acd93f98e909c}} 
\index{TStrokePointDeformation@{TStrokePointDeformation}!getMaxDiff@{getMaxDiff}}
\index{getMaxDiff@{getMaxDiff}!TStrokePointDeformation@{TStrokePointDeformation}}
\doxysubsubsection{\texorpdfstring{getMaxDiff()}{getMaxDiff()}}
{\footnotesize\ttfamily double TStroke\+Point\+Deformation\+::get\+Max\+Diff (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Max diff of delta (This value indicates when it\textquotesingle{}s necessary to insert control point) \textbackslash{}ret max displacement permitted 

Implements \mbox{\hyperlink{class_t_stroke_deformation_a45f44de3e2a465e262b7a3a8a71a02e6}{TStroke\+Deformation}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00247 \{ \textcolor{keywordflow}{return} 0.005; \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_t_stroke_point_deformation_a98b7b505ae7f5eb6a7bce239ce6f2445}\label{class_t_stroke_point_deformation_a98b7b505ae7f5eb6a7bce239ce6f2445}} 
\index{TStrokePointDeformation@{TStrokePointDeformation}!m\_imp@{m\_imp}}
\index{m\_imp@{m\_imp}!TStrokePointDeformation@{TStrokePointDeformation}}
\doxysubsubsection{\texorpdfstring{m\_imp}{m\_imp}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{struct_t_stroke_point_deformation_1_1_imp}{Imp}}$>$ TStroke\+Point\+Deformation\+::m\+\_\+imp\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tstrokedeformations.\+h\item 
E\+:/opentoonz/toonz/sources/common/tvrender/tstrokedeformations.\+cpp\end{DoxyCompactItemize}
