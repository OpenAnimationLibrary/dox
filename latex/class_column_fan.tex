\hypertarget{class_column_fan}{}\doxysection{Column\+Fan Class Reference}
\label{class_column_fan}\index{ColumnFan@{ColumnFan}}


The \mbox{\hyperlink{class_column_fan}{Column\+Fan}} class is used to menage display columns.  




{\ttfamily \#include $<$columnfan.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_column_fan_a017bda29bbfba271763a72a342a20b25}{Column\+Fan}} ()
\item 
void \mbox{\hyperlink{class_column_fan_a0f18a8278d790dcb75d2ab842a1a63d6}{set\+Dimensions}} (int unfolded, int camera\+Column)
\begin{DoxyCompactList}\small\item\em Adjust column sizes when switching orientation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}{activate}} (int col)
\item 
void \mbox{\hyperlink{class_column_fan_ac44ed24041848fc51bd51165ea136df1}{deactivate}} (int col)
\item 
bool \mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{is\+Active}} (int col) const
\item 
int \mbox{\hyperlink{class_column_fan_aadeb28396ab225c6bb1ebcaf939ac4d0}{layer\+Axis\+To\+Col}} (int layer\+Axis) const
\item 
int \mbox{\hyperlink{class_column_fan_a10dadd0ca53671cde077da9a15b94cf9}{col\+To\+Layer\+Axis}} (int col) const
\item 
void \mbox{\hyperlink{class_column_fan_a77228c07db4b520a15c9610b6060d306}{copy\+Folded\+State\+From}} (const \mbox{\hyperlink{class_column_fan}{Column\+Fan}} \&from)
\item 
bool \mbox{\hyperlink{class_column_fan_af8fd4f4abd105039fe2426148d894efb}{is\+Empty}} () const
\item 
void \mbox{\hyperlink{class_column_fan_afd0a9c4b513b88d4f0627e91ced9e363}{save\+Data}} (\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&os)
\item 
void \mbox{\hyperlink{class_column_fan_ae7420ecffdf34c98e1a4869b8bcaefd6}{load\+Data}} (\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&is)
\item 
void \mbox{\hyperlink{class_column_fan_ac11437dae3c11ba53e3d0c5d6a59b1d9}{roll\+Left\+Folded\+State}} (int index, int count)
\item 
void \mbox{\hyperlink{class_column_fan_aac36bcf5ddc810ace92f5f1fcc5c6bd8}{roll\+Right\+Folded\+State}} (int index, int count)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The \mbox{\hyperlink{class_column_fan}{Column\+Fan}} class is used to menage display columns. 

The class allows to fold a column by column index, \mbox{\hyperlink{class_column_fan_ac44ed24041848fc51bd51165ea136df1}{deactivate()}}, to open folded columns, \mbox{\hyperlink{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}{activate()}} and to know if column is folded or not, \mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{is\+Active()}}.

Class provides column layer-\/axis coordinate too. It\textquotesingle{}s possible to know column index by column layer-\/axis coordinate, \mbox{\hyperlink{class_column_fan_a10dadd0ca53671cde077da9a15b94cf9}{col\+To\+Layer\+Axis()}} and vice versa, \mbox{\hyperlink{class_column_fan_aadeb28396ab225c6bb1ebcaf939ac4d0}{layer\+Axis\+To\+Col()}}. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_column_fan_a017bda29bbfba271763a72a342a20b25}\label{class_column_fan_a017bda29bbfba271763a72a342a20b25}} 
\index{ColumnFan@{ColumnFan}!ColumnFan@{ColumnFan}}
\index{ColumnFan@{ColumnFan}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{ColumnFan()}{ColumnFan()}}
{\footnotesize\ttfamily Column\+Fan\+::\+Column\+Fan (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Constructs a \mbox{\hyperlink{class_column_fan}{Column\+Fan}} with default value. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00016     : m\_firstFreePos(0)}
\DoxyCodeLine{00017     , m\_unfolded(74)}
\DoxyCodeLine{00018     , m\_folded(9)}
\DoxyCodeLine{00019     , m\_cameraActive(\textcolor{keyword}{true})}
\DoxyCodeLine{00020     , m\_cameraColumnDim(22) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}\label{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}} 
\index{ColumnFan@{ColumnFan}!activate@{activate}}
\index{activate@{activate}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{activate()}{activate()}}
{\footnotesize\ttfamily void Column\+Fan\+::activate (\begin{DoxyParamCaption}\item[{int}]{col }\end{DoxyParamCaption})}

Set column {\bfseries{col}} not folded. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_column_fan_ac44ed24041848fc51bd51165ea136df1}{deactivate()}} and \mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{is\+Active()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00099                                 \{}
\DoxyCodeLine{00100   \textcolor{keywordtype}{int} m = m\_columns.size();}
\DoxyCodeLine{00101   \textcolor{keywordflow}{if} (col < 0) \{}
\DoxyCodeLine{00102     m\_cameraActive = \textcolor{keyword}{true};}
\DoxyCodeLine{00103     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00104   \}}
\DoxyCodeLine{00105   \textcolor{keywordflow}{if} (col < m) \{}
\DoxyCodeLine{00106     m\_columns[col].m\_active = \textcolor{keyword}{true};}
\DoxyCodeLine{00107     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00108     \textcolor{keywordflow}{for} (i = m -\/ 1; i >= 0 \&\& m\_columns[i].m\_active; i-\/-\/) \{}
\DoxyCodeLine{00109     \}}
\DoxyCodeLine{00110     i++;}
\DoxyCodeLine{00111     \textcolor{keywordflow}{if} (i < m) \{}
\DoxyCodeLine{00112       m = i;}
\DoxyCodeLine{00113       m\_columns.erase(m\_columns.begin() + i, m\_columns.end());}
\DoxyCodeLine{00114     \}}
\DoxyCodeLine{00115   \}}
\DoxyCodeLine{00116   update();}
\DoxyCodeLine{00117 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_column_fan_a10dadd0ca53671cde077da9a15b94cf9}\label{class_column_fan_a10dadd0ca53671cde077da9a15b94cf9}} 
\index{ColumnFan@{ColumnFan}!colToLayerAxis@{colToLayerAxis}}
\index{colToLayerAxis@{colToLayerAxis}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{colToLayerAxis()}{colToLayerAxis()}}
{\footnotesize\ttfamily int Column\+Fan\+::col\+To\+Layer\+Axis (\begin{DoxyParamCaption}\item[{int}]{col }\end{DoxyParamCaption}) const}

Return layer coordinate (x for vertical timeline, y for horizontal) of column identified by {\bfseries{col}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_column_fan_aadeb28396ab225c6bb1ebcaf939ac4d0}{layer\+Axis\+To\+Col()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00080                                            \{}
\DoxyCodeLine{00081   \textcolor{keywordtype}{int} m        = m\_columns.size();}
\DoxyCodeLine{00082   \textcolor{keywordtype}{int} firstCol = 0;}
\DoxyCodeLine{00083   \textcolor{keywordflow}{if} (Preferences::instance()-\/>isXsheetCameraColumnVisible()) \{}
\DoxyCodeLine{00084     \textcolor{keywordflow}{if} (col < -\/1) \textcolor{keywordflow}{return} -\/m\_cameraColumnDim;}
\DoxyCodeLine{00085     \textcolor{keywordflow}{if} (col < 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00086     firstCol =}
\DoxyCodeLine{00087         m\_cameraActive}
\DoxyCodeLine{00088             ? m\_cameraColumnDim}
\DoxyCodeLine{00089             : ((m\_columns.size() > 0 \&\& !m\_columns[0].m\_active) ? 0 : m\_folded);}
\DoxyCodeLine{00090   \}}
\DoxyCodeLine{00091   \textcolor{keywordflow}{if} (col >= 0 \&\& col < m)}
\DoxyCodeLine{00092     \textcolor{keywordflow}{return} firstCol + m\_columns[col].m\_pos;}
\DoxyCodeLine{00093   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00094     \textcolor{keywordflow}{return} firstCol + m\_firstFreePos + (col -\/ m) * m\_unfolded;}
\DoxyCodeLine{00095 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_column_fan_a77228c07db4b520a15c9610b6060d306}\label{class_column_fan_a77228c07db4b520a15c9610b6060d306}} 
\index{ColumnFan@{ColumnFan}!copyFoldedStateFrom@{copyFoldedStateFrom}}
\index{copyFoldedStateFrom@{copyFoldedStateFrom}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{copyFoldedStateFrom()}{copyFoldedStateFrom()}}
{\footnotesize\ttfamily void Column\+Fan\+::copy\+Folded\+State\+From (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_column_fan}{Column\+Fan}} \&}]{from }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00145                                                          \{}
\DoxyCodeLine{00146   m\_cameraActive = from.m\_cameraActive;}
\DoxyCodeLine{00147   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0, n = (\textcolor{keywordtype}{int})from.m\_columns.size(); i < n; i++)}
\DoxyCodeLine{00148     \textcolor{keywordflow}{if} (!from.\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(i)) \mbox{\hyperlink{class_column_fan_ac44ed24041848fc51bd51165ea136df1}{deactivate}}(i);}
\DoxyCodeLine{00149 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_column_fan_ac44ed24041848fc51bd51165ea136df1}\label{class_column_fan_ac44ed24041848fc51bd51165ea136df1}} 
\index{ColumnFan@{ColumnFan}!deactivate@{deactivate}}
\index{deactivate@{deactivate}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{deactivate()}{deactivate()}}
{\footnotesize\ttfamily void Column\+Fan\+::deactivate (\begin{DoxyParamCaption}\item[{int}]{col }\end{DoxyParamCaption})}

Fold column {\bfseries{col}}. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}{activate()}} and \mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{is\+Active()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00121                                   \{}
\DoxyCodeLine{00122   \textcolor{keywordflow}{if} (col < 0) \{}
\DoxyCodeLine{00123     m\_cameraActive = \textcolor{keyword}{false};}
\DoxyCodeLine{00124     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00125   \}}
\DoxyCodeLine{00126   \textcolor{keywordflow}{while} ((\textcolor{keywordtype}{int})m\_columns.size() <= col) m\_columns.push\_back(Column());}
\DoxyCodeLine{00127   m\_columns[col].m\_active = \textcolor{keyword}{false};}
\DoxyCodeLine{00128   update();}
\DoxyCodeLine{00129 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00377}{TStage\+Object\+Tree\+::load\+Data()}}.

\mbox{\Hypertarget{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}\label{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}} 
\index{ColumnFan@{ColumnFan}!isActive@{isActive}}
\index{isActive@{isActive}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{isActive()}{isActive()}}
{\footnotesize\ttfamily bool Column\+Fan\+::is\+Active (\begin{DoxyParamCaption}\item[{int}]{col }\end{DoxyParamCaption}) const}

Return true if column {\bfseries{col}} is active, column is not folded, else return false. \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}{activate()}} and \mbox{\hyperlink{class_column_fan_ac44ed24041848fc51bd51165ea136df1}{deactivate()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00133                                       \{}
\DoxyCodeLine{00134   \textcolor{keywordflow}{return} 0 <= col \&\& col < (int)m\_columns.size()}
\DoxyCodeLine{00135              ? m\_columns[col].m\_active}
\DoxyCodeLine{00136              : col < 0 ? m\_cameraActive : \textcolor{keyword}{true};}
\DoxyCodeLine{00137 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00433}{TStage\+Object\+Tree\+::save\+Data()}}.

\mbox{\Hypertarget{class_column_fan_af8fd4f4abd105039fe2426148d894efb}\label{class_column_fan_af8fd4f4abd105039fe2426148d894efb}} 
\index{ColumnFan@{ColumnFan}!isEmpty@{isEmpty}}
\index{isEmpty@{isEmpty}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{isEmpty()}{isEmpty()}}
{\footnotesize\ttfamily bool Column\+Fan\+::is\+Empty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}


\begin{DoxyCode}{0}
\DoxyCodeLine{00141 \{ \textcolor{keywordflow}{return} m\_columns.empty(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_column_fan_aadeb28396ab225c6bb1ebcaf939ac4d0}\label{class_column_fan_aadeb28396ab225c6bb1ebcaf939ac4d0}} 
\index{ColumnFan@{ColumnFan}!layerAxisToCol@{layerAxisToCol}}
\index{layerAxisToCol@{layerAxisToCol}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{layerAxisToCol()}{layerAxisToCol()}}
{\footnotesize\ttfamily int Column\+Fan\+::layer\+Axis\+To\+Col (\begin{DoxyParamCaption}\item[{int}]{layer\+Axis }\end{DoxyParamCaption}) const}

Return column index of column in layer axis (x for vertical timeline, y for horizontal). \begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{class_column_fan_a10dadd0ca53671cde077da9a15b94cf9}{col\+To\+Layer\+Axis()}} 
\end{DoxySeeAlso}

\begin{DoxyCode}{0}
\DoxyCodeLine{00060                                              \{}
\DoxyCodeLine{00061   \textcolor{keywordflow}{if} (Preferences::instance()-\/>isXsheetCameraColumnVisible()) \{}
\DoxyCodeLine{00062     \textcolor{keywordtype}{int} firstCol =}
\DoxyCodeLine{00063         m\_cameraActive}
\DoxyCodeLine{00064             ? m\_cameraColumnDim}
\DoxyCodeLine{00065             : ((m\_columns.size() > 0 \&\& !m\_columns[0].m\_active) ? 0 : m\_folded);}
\DoxyCodeLine{00066     \textcolor{keywordflow}{if} (coord < firstCol) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00067     coord -\/= firstCol;}
\DoxyCodeLine{00068   \}}
\DoxyCodeLine{00069   \textcolor{keywordflow}{if} (coord < m\_firstFreePos) \{}
\DoxyCodeLine{00070     std::map<int, int>::const\_iterator it = m\_table.lower\_bound(coord);}
\DoxyCodeLine{00071     \textcolor{keywordflow}{if} (it == m\_table.end()) \textcolor{keywordflow}{return} -\/3;}
\DoxyCodeLine{00072     assert(it != m\_table.end());}
\DoxyCodeLine{00073     \textcolor{keywordflow}{return} it-\/>second;}
\DoxyCodeLine{00074   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00075     \textcolor{keywordflow}{return} m\_columns.size() + (coord -\/ m\_firstFreePos) / m\_unfolded;}
\DoxyCodeLine{00076 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_column_fan_ae7420ecffdf34c98e1a4869b8bcaefd6}\label{class_column_fan_ae7420ecffdf34c98e1a4869b8bcaefd6}} 
\index{ColumnFan@{ColumnFan}!loadData@{loadData}}
\index{loadData@{loadData}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{loadData()}{loadData()}}
{\footnotesize\ttfamily void Column\+Fan\+::load\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_i_stream}{TIStream}} \&}]{is }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00170                                      \{}
\DoxyCodeLine{00171   m\_columns.clear();}
\DoxyCodeLine{00172   m\_table.clear();}
\DoxyCodeLine{00173   m\_firstFreePos = 0;}
\DoxyCodeLine{00174   \textcolor{keywordflow}{while} (!is.\mbox{\hyperlink{class_t_i_stream_af8ad0a31e14e94179bd5688f13340528}{eos}}()) \{}
\DoxyCodeLine{00175     \textcolor{keywordtype}{int} index = 0, count = 0;}
\DoxyCodeLine{00176     is >> index >> count;}
\DoxyCodeLine{00177     \textcolor{keywordtype}{int} j;}
\DoxyCodeLine{00178     \textcolor{keywordflow}{for} (j = 0; j < count; j++) \mbox{\hyperlink{class_column_fan_ac44ed24041848fc51bd51165ea136df1}{deactivate}}(index + j);}
\DoxyCodeLine{00179   \}}
\DoxyCodeLine{00180 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_column_fan_ac11437dae3c11ba53e3d0c5d6a59b1d9}\label{class_column_fan_ac11437dae3c11ba53e3d0c5d6a59b1d9}} 
\index{ColumnFan@{ColumnFan}!rollLeftFoldedState@{rollLeftFoldedState}}
\index{rollLeftFoldedState@{rollLeftFoldedState}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{rollLeftFoldedState()}{rollLeftFoldedState()}}
{\footnotesize\ttfamily void Column\+Fan\+::roll\+Left\+Folded\+State (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{int}]{count }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00184                                                         \{}
\DoxyCodeLine{00185   assert(index >= 0);}
\DoxyCodeLine{00186   \textcolor{keywordtype}{int} columnCount = m\_columns.size();}
\DoxyCodeLine{00187   \textcolor{keywordflow}{if} (columnCount <= index) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00188   \textcolor{keywordflow}{if} (index + count -\/ 1 > columnCount) count = columnCount -\/ index + 1;}
\DoxyCodeLine{00189   \textcolor{keywordflow}{if} (count < 2) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00190 }
\DoxyCodeLine{00191   \textcolor{keywordtype}{int} i = index, j = index + count -\/ 1;}
\DoxyCodeLine{00192   \textcolor{keywordtype}{bool} tmp = \mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(i);}
\DoxyCodeLine{00193 }
\DoxyCodeLine{00194   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = i; k < j; ++k) \{}
\DoxyCodeLine{00195     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(k) \&\& !\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(k + 1))}
\DoxyCodeLine{00196       \mbox{\hyperlink{class_column_fan_ac44ed24041848fc51bd51165ea136df1}{deactivate}}(k);}
\DoxyCodeLine{00197     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(k) \&\& \mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(k + 1))}
\DoxyCodeLine{00198       \mbox{\hyperlink{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}{activate}}(k);}
\DoxyCodeLine{00199   \}}
\DoxyCodeLine{00200   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(j) \&\& !tmp)}
\DoxyCodeLine{00201     \mbox{\hyperlink{class_column_fan_ac44ed24041848fc51bd51165ea136df1}{deactivate}}(j);}
\DoxyCodeLine{00202   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(j) \&\& tmp)}
\DoxyCodeLine{00203     \mbox{\hyperlink{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}{activate}}(j);}
\DoxyCodeLine{00204 }
\DoxyCodeLine{00205   update();}
\DoxyCodeLine{00206 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_column_fan_aac36bcf5ddc810ace92f5f1fcc5c6bd8}\label{class_column_fan_aac36bcf5ddc810ace92f5f1fcc5c6bd8}} 
\index{ColumnFan@{ColumnFan}!rollRightFoldedState@{rollRightFoldedState}}
\index{rollRightFoldedState@{rollRightFoldedState}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{rollRightFoldedState()}{rollRightFoldedState()}}
{\footnotesize\ttfamily void Column\+Fan\+::roll\+Right\+Folded\+State (\begin{DoxyParamCaption}\item[{int}]{index,  }\item[{int}]{count }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00210                                                          \{}
\DoxyCodeLine{00211   assert(index >= 0);}
\DoxyCodeLine{00212 }
\DoxyCodeLine{00213   \textcolor{keywordtype}{int} columnCount = m\_columns.size();}
\DoxyCodeLine{00214   \textcolor{keywordflow}{if} (columnCount <= index) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00215   \textcolor{keywordflow}{if} (index + count -\/ 1 > columnCount) count = columnCount -\/ index + 1;}
\DoxyCodeLine{00216   \textcolor{keywordflow}{if} (count < 2) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00217 }
\DoxyCodeLine{00218   \textcolor{keywordtype}{int} i = index, j = index + count -\/ 1;}
\DoxyCodeLine{00219   \textcolor{keywordtype}{bool} tmp = \mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(j);}
\DoxyCodeLine{00220 }
\DoxyCodeLine{00221   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = j; k > i; -\/-\/k) \{}
\DoxyCodeLine{00222     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(k) \&\& !\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(k -\/ 1))}
\DoxyCodeLine{00223       \mbox{\hyperlink{class_column_fan_ac44ed24041848fc51bd51165ea136df1}{deactivate}}(k);}
\DoxyCodeLine{00224     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(k) \&\& \mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(k -\/ 1))}
\DoxyCodeLine{00225       \mbox{\hyperlink{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}{activate}}(k);}
\DoxyCodeLine{00226   \}}
\DoxyCodeLine{00227   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(i) \&\& !tmp)}
\DoxyCodeLine{00228     \mbox{\hyperlink{class_column_fan_ac44ed24041848fc51bd51165ea136df1}{deactivate}}(i);}
\DoxyCodeLine{00229   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_column_fan_abf77607d6d35905a31c9a4640dc0c0ef}{isActive}}(i) \&\& tmp)}
\DoxyCodeLine{00230     \mbox{\hyperlink{class_column_fan_a7aff0a530b4c36d3de13d3db2b04b074}{activate}}(i);}
\DoxyCodeLine{00231 }
\DoxyCodeLine{00232   update();}
\DoxyCodeLine{00233 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_column_fan_afd0a9c4b513b88d4f0627e91ced9e363}\label{class_column_fan_afd0a9c4b513b88d4f0627e91ced9e363}} 
\index{ColumnFan@{ColumnFan}!saveData@{saveData}}
\index{saveData@{saveData}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{saveData()}{saveData()}}
{\footnotesize\ttfamily void Column\+Fan\+::save\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_o_stream}{TOStream}} \&}]{os }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00154                   \{  \textcolor{comment}{// only saves indices of folded columns}}
\DoxyCodeLine{00155   \textcolor{keywordtype}{int} index, n = (int)m\_columns.size();}
\DoxyCodeLine{00156   \textcolor{keywordflow}{for} (index = 0; index < n;) \{}
\DoxyCodeLine{00157     \textcolor{keywordflow}{while} (index < n \&\& m\_columns[index].m\_active) index++;}
\DoxyCodeLine{00158     \textcolor{keywordflow}{if} (index < n) \{}
\DoxyCodeLine{00159       \textcolor{keywordtype}{int} firstIndex = index;}
\DoxyCodeLine{00160       os << index;}
\DoxyCodeLine{00161       index++;}
\DoxyCodeLine{00162       \textcolor{keywordflow}{while} (index < n \&\& !m\_columns[index].m\_active) index++;}
\DoxyCodeLine{00163       os << index -\/ firstIndex;}
\DoxyCodeLine{00164     \}}
\DoxyCodeLine{00165   \}}
\DoxyCodeLine{00166 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_column_fan_a0f18a8278d790dcb75d2ab842a1a63d6}\label{class_column_fan_a0f18a8278d790dcb75d2ab842a1a63d6}} 
\index{ColumnFan@{ColumnFan}!setDimensions@{setDimensions}}
\index{setDimensions@{setDimensions}!ColumnFan@{ColumnFan}}
\doxysubsubsection{\texorpdfstring{setDimensions()}{setDimensions()}}
{\footnotesize\ttfamily void Column\+Fan\+::set\+Dimensions (\begin{DoxyParamCaption}\item[{int}]{unfolded,  }\item[{int}]{camera\+Column }\end{DoxyParamCaption})}



Adjust column sizes when switching orientation. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00024                                                             \{}
\DoxyCodeLine{00025   m\_unfolded        = unfolded;}
\DoxyCodeLine{00026   m\_cameraColumnDim = cameraColumn;}
\DoxyCodeLine{00027   \textcolor{comment}{// folded always 9}}
\DoxyCodeLine{00028   update();}
\DoxyCodeLine{00029 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/columnfan.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/columnfan.\+cpp\end{DoxyCompactItemize}
