\hypertarget{class_image_builder}{}\doxysection{Image\+Builder Class Reference}
\label{class_image_builder}\index{ImageBuilder@{ImageBuilder}}


{\ttfamily \#include $<$imagemanager.\+h$>$}

Inheritance diagram for Image\+Builder\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.604651cm]{class_image_builder}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_image_builder_ac3f877fccf224d349969c7863ca099ef}\label{class_image_builder_ac3f877fccf224d349969c7863ca099ef}} 
virtual \mbox{\hyperlink{class_image_builder}{Image\+Builder}} $\ast$ {\bfseries clone} ()=0
\item 
\mbox{\Hypertarget{class_image_builder_ae29e269291f035ad162cb43485aacc0f}\label{class_image_builder_ae29e269291f035ad162cb43485aacc0f}} 
virtual \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} {\bfseries build} (\mbox{\hyperlink{class_image_info}{Image\+Info}} $\ast$info, const \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} \&ras)=0
\item 
bool \mbox{\hyperlink{class_image_builder_abb442b0d3ee4e716d5fd5c9676801ab5}{image\+Cached}} ()
\item 
bool \mbox{\hyperlink{class_image_builder_a17b66ca176cc02dcc110c2c5044f1df4}{image\+Modified}} ()
\item 
virtual bool \mbox{\hyperlink{class_image_builder_a23048fae4829baddc1869516df7f58ce}{is\+Image\+Compatible}} (int im\+Flags, void $\ast$ext\+Data)
\item 
virtual bool \mbox{\hyperlink{class_image_builder_a97bfa78c4d5a3a4147fc17e65757d68f}{are\+Infos\+Compatible}} (int im\+Flags, void $\ast$ext\+Data)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{class_image_builder_ac8271c051c205eec4483383ec87f4606}{set\+Image\+Info}} (\mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \&info, const \mbox{\hyperlink{class_t_dimension_t}{TDimension}} \&size)
\item 
static bool \mbox{\hyperlink{class_image_builder_adae9bf012dd697d322d31959701f8867}{set\+Image\+Info}} (\mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \&info, \mbox{\hyperlink{class_t_image}{TImage}} $\ast$img)
\item 
static bool \mbox{\hyperlink{class_image_builder_ae0f55d7b0fa4707d87c07762bedc0e73}{set\+Image\+Info}} (\mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \&info, \mbox{\hyperlink{class_t_image_reader}{TImage\+Reader}} $\ast$ir)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} \mbox{\hyperlink{class_image_builder_ac009ac3e258ce6f020d729987c40ec4c}{build}} (int im\+Flags, void $\ast$ext\+Data)=0
\item 
virtual bool \mbox{\hyperlink{class_image_builder_a16613d50918a7b59ba67ba8bc6dab8ff}{get\+Info}} (\mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \&info, int im\+Flags, void $\ast$ext\+Data)=0
\item 
virtual void \mbox{\hyperlink{class_image_builder_acedfa9c98bea3b78460526076ae5cf83}{build\+All\+Icons\+And\+Put\+In\+Cache}} (\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$, std\+::vector$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} $>$, std\+::vector$<$ std\+::string $>$, bool)
\item 
virtual void \mbox{\hyperlink{class_image_builder_a28489888a9f7033a7dbe3ba4ca5e64ca}{set\+Fid}} (const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&fid)
\item 
virtual void \mbox{\hyperlink{class_image_builder_a3632b6efb0ba17b925a986e2684f3eb2}{invalidate}} ()
\begin{DoxyCompactList}\small\item\em Clears the builder\textquotesingle{}s cached data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \mbox{\hyperlink{class_image_builder_a048ba2c30d0e611c573825982cb3cd52}{m\+\_\+info}}
\begin{DoxyCompactList}\small\item\em Currently cached image data -\/ size, bpp, etc. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_image_builder_abdb16da64462bfa9968c5aa69aa9e678}{m\+\_\+im\+Flags}}
\begin{DoxyCompactList}\small\item\em Currently cached image control flags. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_image_builder_a3d777a026a772de1f70d37031a8aa117}{Image\+Manager}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{class_image_builder}{Image\+Builder}} is the class model for self-\/creating image objects bound in the \mbox{\hyperlink{class_image_manager}{Image\+Manager}}. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_image_builder_a0e766bc011c7f051d21f70dbed04007d}\label{class_image_builder_a0e766bc011c7f051d21f70dbed04007d}} 
\index{ImageBuilder@{ImageBuilder}!````~ImageBuilder@{$\sim$ImageBuilder}}
\index{````~ImageBuilder@{$\sim$ImageBuilder}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{$\sim$ImageBuilder()}{~ImageBuilder()}}
{\footnotesize\ttfamily Image\+Builder\+::$\sim$\+Image\+Builder (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00145 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_image_builder_a15d299cb812098dba2bdb67de20eacf0}\label{class_image_builder_a15d299cb812098dba2bdb67de20eacf0}} 
\index{ImageBuilder@{ImageBuilder}!ImageBuilder@{ImageBuilder}}
\index{ImageBuilder@{ImageBuilder}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{ImageBuilder()}{ImageBuilder()}}
{\footnotesize\ttfamily Image\+Builder\+::\+Image\+Builder (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00073     : \mbox{\hyperlink{class_t_smart_object}{TSmartObject}}(m\_classCode)}
\DoxyCodeLine{00074     , m\_imageBuildingLock(QReadWriteLock::Recursive)}
\DoxyCodeLine{00075     , m\_cached(\textcolor{keyword}{false})}
\DoxyCodeLine{00076     , m\_modified(\textcolor{keyword}{false})}
\DoxyCodeLine{00077     , \mbox{\hyperlink{class_image_builder_abdb16da64462bfa9968c5aa69aa9e678}{m\_imFlags}}(ImageManager::none) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_image_builder_a97bfa78c4d5a3a4147fc17e65757d68f}\label{class_image_builder_a97bfa78c4d5a3a4147fc17e65757d68f}} 
\index{ImageBuilder@{ImageBuilder}!areInfosCompatible@{areInfosCompatible}}
\index{areInfosCompatible@{areInfosCompatible}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{areInfosCompatible()}{areInfosCompatible()}}
{\footnotesize\ttfamily bool Image\+Builder\+::are\+Infos\+Compatible (\begin{DoxyParamCaption}\item[{int}]{im\+Flags,  }\item[{void $\ast$}]{ext\+Data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Returns whether any currently cached image infos are compatible with requested specifications. Returning true prevents Image\+Builder\+::build() invocations, fetching the cached data instead. The default implementation returns m\+\_\+info.\+m\+\_\+valid. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00085                                                                 \{}
\DoxyCodeLine{00086   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_image_builder_a048ba2c30d0e611c573825982cb3cd52}{m\_info}}.\mbox{\hyperlink{class_t_image_info_a38cb10577dcf2003ce7026580d2c92ef}{m\_valid}};}
\DoxyCodeLine{00087 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00273}{m\+\_\+info}}, and \mbox{\hyperlink{l00057}{TImage\+Info\+::m\+\_\+valid}}.

\mbox{\Hypertarget{class_image_builder_ac009ac3e258ce6f020d729987c40ec4c}\label{class_image_builder_ac009ac3e258ce6f020d729987c40ec4c}} 
\index{ImageBuilder@{ImageBuilder}!build@{build}}
\index{build@{build}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{build()}{build()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} Image\+Builder\+::build (\begin{DoxyParamCaption}\item[{int}]{im\+Flags,  }\item[{void $\ast$}]{ext\+Data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}

Builds the image as specified by the supplied control flags and external data. 

Implemented in \mbox{\hyperlink{class_image_loader_a462d135e199f59117147f0dbe9b35468}{Image\+Loader}}, \mbox{\hyperlink{class_image_rasterizer_a0071f9f6e68c94091336e92042a03e6c}{Image\+Rasterizer}}, and \mbox{\hyperlink{class_image_filler_ae7ff599947f4ef042618053c03349324}{Image\+Filler}}.

\mbox{\Hypertarget{class_image_builder_acedfa9c98bea3b78460526076ae5cf83}\label{class_image_builder_acedfa9c98bea3b78460526076ae5cf83}} 
\index{ImageBuilder@{ImageBuilder}!buildAllIconsAndPutInCache@{buildAllIconsAndPutInCache}}
\index{buildAllIconsAndPutInCache@{buildAllIconsAndPutInCache}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{buildAllIconsAndPutInCache()}{buildAllIconsAndPutInCache()}}
{\footnotesize\ttfamily virtual void Image\+Builder\+::build\+All\+Icons\+And\+Put\+In\+Cache (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_simple_level}{TXsh\+Simple\+Level}} $\ast$}]{,  }\item[{std\+::vector$<$ \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} $>$}]{,  }\item[{std\+::vector$<$ std\+::string $>$}]{,  }\item[{bool}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00289                                                                      \{\};}

\end{DoxyCode}
\mbox{\Hypertarget{class_image_builder_a16613d50918a7b59ba67ba8bc6dab8ff}\label{class_image_builder_a16613d50918a7b59ba67ba8bc6dab8ff}} 
\index{ImageBuilder@{ImageBuilder}!getInfo@{getInfo}}
\index{getInfo@{getInfo}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{getInfo()}{getInfo()}}
{\footnotesize\ttfamily virtual bool Image\+Builder\+::get\+Info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \&}]{info,  }\item[{int}]{im\+Flags,  }\item[{void $\ast$}]{ext\+Data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}

Returns the image infos as specified by the supplied control flags and external data. 

Implemented in \mbox{\hyperlink{class_image_loader_ab66e5217787d0264d2b0a137b3f5fa3e}{Image\+Loader}}, \mbox{\hyperlink{class_image_rasterizer_af732c68efc056ce07b406d54c76c5426}{Image\+Rasterizer}}, and \mbox{\hyperlink{class_image_filler_a3bcee2c26d3189115a2fe65d3fbfaafd}{Image\+Filler}}.

\mbox{\Hypertarget{class_image_builder_abb442b0d3ee4e716d5fd5c9676801ab5}\label{class_image_builder_abb442b0d3ee4e716d5fd5c9676801ab5}} 
\index{ImageBuilder@{ImageBuilder}!imageCached@{imageCached}}
\index{imageCached@{imageCached}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{imageCached()}{imageCached()}}
{\footnotesize\ttfamily bool Image\+Builder\+::image\+Cached (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00242 \{ \textcolor{keywordflow}{return} m\_cached; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_image_builder_a17b66ca176cc02dcc110c2c5044f1df4}\label{class_image_builder_a17b66ca176cc02dcc110c2c5044f1df4}} 
\index{ImageBuilder@{ImageBuilder}!imageModified@{imageModified}}
\index{imageModified@{imageModified}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{imageModified()}{imageModified()}}
{\footnotesize\ttfamily bool Image\+Builder\+::image\+Modified (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00243 \{ \textcolor{keywordflow}{return} m\_modified; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_image_builder_a3632b6efb0ba17b925a986e2684f3eb2}\label{class_image_builder_a3632b6efb0ba17b925a986e2684f3eb2}} 
\index{ImageBuilder@{ImageBuilder}!invalidate@{invalidate}}
\index{invalidate@{invalidate}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{invalidate()}{invalidate()}}
{\footnotesize\ttfamily virtual void Image\+Builder\+::invalidate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Clears the builder\textquotesingle{}s cached data. 



Reimplemented in \mbox{\hyperlink{class_image_loader_a1ed496304394ada3d4d7f2abd1c90955}{Image\+Loader}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00294                             \{}
\DoxyCodeLine{00295     \mbox{\hyperlink{class_image_builder_a048ba2c30d0e611c573825982cb3cd52}{m\_info}}    = \mbox{\hyperlink{class_t_image_info}{TImageInfo}}();}
\DoxyCodeLine{00296     \mbox{\hyperlink{class_image_builder_abdb16da64462bfa9968c5aa69aa9e678}{m\_imFlags}} = ImageManager::none;}
\DoxyCodeLine{00297   \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00179}{Image\+Loader\+::invalidate()}}.

\mbox{\Hypertarget{class_image_builder_a23048fae4829baddc1869516df7f58ce}\label{class_image_builder_a23048fae4829baddc1869516df7f58ce}} 
\index{ImageBuilder@{ImageBuilder}!isImageCompatible@{isImageCompatible}}
\index{isImageCompatible@{isImageCompatible}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{isImageCompatible()}{isImageCompatible()}}
{\footnotesize\ttfamily bool Image\+Builder\+::is\+Image\+Compatible (\begin{DoxyParamCaption}\item[{int}]{im\+Flags,  }\item[{void $\ast$}]{ext\+Data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Returns whether any currently cached image is compatible with requested specifications, Returning true prevents Image\+Builder\+::build() invocations, fetching the cached data instead. The default implementation returns true if m\+\_\+info has positive m\+\_\+lx and m\+\_\+ly. 

Reimplemented in \mbox{\hyperlink{class_image_loader_ae4ba75f7d42fb521520199391acfa922}{Image\+Loader}}, \mbox{\hyperlink{class_image_rasterizer_ab4b12b03168f51ea46841b089b4895d0}{Image\+Rasterizer}}, and \mbox{\hyperlink{class_image_filler_a28f4940fed7d0a87284acaa64515ba20}{Image\+Filler}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00091                                                                \{}
\DoxyCodeLine{00092   \textcolor{keywordflow}{return} \mbox{\hyperlink{class_image_builder_a048ba2c30d0e611c573825982cb3cd52}{m\_info}}.\mbox{\hyperlink{class_t_image_info_a38cb10577dcf2003ce7026580d2c92ef}{m\_valid}};}
\DoxyCodeLine{00093 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00273}{m\+\_\+info}}, and \mbox{\hyperlink{l00057}{TImage\+Info\+::m\+\_\+valid}}.

\mbox{\Hypertarget{class_image_builder_a28489888a9f7033a7dbe3ba4ca5e64ca}\label{class_image_builder_a28489888a9f7033a7dbe3ba4ca5e64ca}} 
\index{ImageBuilder@{ImageBuilder}!setFid@{setFid}}
\index{setFid@{setFid}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{setFid()}{setFid()}}
{\footnotesize\ttfamily virtual void Image\+Builder\+::set\+Fid (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_frame_id}{TFrame\+Id}} \&}]{fid }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00291 \{\};}

\end{DoxyCode}
\mbox{\Hypertarget{class_image_builder_ac8271c051c205eec4483383ec87f4606}\label{class_image_builder_ac8271c051c205eec4483383ec87f4606}} 
\index{ImageBuilder@{ImageBuilder}!setImageInfo@{setImageInfo}}
\index{setImageInfo@{setImageInfo}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{setImageInfo()}{setImageInfo()}\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily bool Image\+Builder\+::set\+Image\+Info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \&}]{info,  }\item[{const \mbox{\hyperlink{class_t_dimension_t}{TDimension}} \&}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00097                                                                         \{}
\DoxyCodeLine{00098   info         = \mbox{\hyperlink{class_t_image_info}{TImageInfo}}();}
\DoxyCodeLine{00099   info.m\_lx    = size.lx;}
\DoxyCodeLine{00100   info.m\_ly    = size.ly;}
\DoxyCodeLine{00101   info.m\_x0    = 0;}
\DoxyCodeLine{00102   info.m\_y0    = 0;}
\DoxyCodeLine{00103   info.m\_x1    = size.lx -\/ 1;}
\DoxyCodeLine{00104   info.m\_y1    = size.ly -\/ 1;}
\DoxyCodeLine{00105   info.m\_valid = \textcolor{keyword}{true};}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00108 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_image_builder_adae9bf012dd697d322d31959701f8867}\label{class_image_builder_adae9bf012dd697d322d31959701f8867}} 
\index{ImageBuilder@{ImageBuilder}!setImageInfo@{setImageInfo}}
\index{setImageInfo@{setImageInfo}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{setImageInfo()}{setImageInfo()}\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily bool Image\+Builder\+::set\+Image\+Info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \&}]{info,  }\item[{\mbox{\hyperlink{class_t_image}{TImage}} $\ast$}]{img }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00112                                                              \{}
\DoxyCodeLine{00113   info = \mbox{\hyperlink{class_t_image_info}{TImageInfo}}();}
\DoxyCodeLine{00114   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri = \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}}(img)) \{}
\DoxyCodeLine{00115     \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} ras = ri-\/>getRaster();}
\DoxyCodeLine{00116     info.m\_lx    = ras-\/>getLx();}
\DoxyCodeLine{00117     info.m\_ly    = ras-\/>getLy();}
\DoxyCodeLine{00118     ri-\/>getDpi(info.m\_dpix, info.m\_dpiy);}
\DoxyCodeLine{00119     \mbox{\hyperlink{class_t_rect_t}{TRect}} savebox = ri-\/>getSavebox();}
\DoxyCodeLine{00120     info.m\_x0     = savebox.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}};}
\DoxyCodeLine{00121     info.m\_y0     = savebox.y0;}
\DoxyCodeLine{00122     info.m\_x1     = savebox.x1;}
\DoxyCodeLine{00123     info.m\_y1     = savebox.y1;}
\DoxyCodeLine{00124   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti = \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}}(img)) \{}
\DoxyCodeLine{00125     \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}} ras = ti-\/>getRaster();}
\DoxyCodeLine{00126     info.m\_lx    = ras-\/>getLx();}
\DoxyCodeLine{00127     info.m\_ly    = ras-\/>getLy();}
\DoxyCodeLine{00128     ti-\/>getDpi(info.m\_dpix, info.m\_dpiy);}
\DoxyCodeLine{00129     \mbox{\hyperlink{class_t_rect_t}{TRect}} savebox = ti-\/>getSavebox();}
\DoxyCodeLine{00130     info.m\_x0     = savebox.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}};}
\DoxyCodeLine{00131     info.m\_y0     = savebox.y0;}
\DoxyCodeLine{00132     info.m\_x1     = savebox.x1;}
\DoxyCodeLine{00133     info.m\_y1     = savebox.y1;}
\DoxyCodeLine{00134   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_mesh_image_p}{TMeshImageP}} mi = \mbox{\hyperlink{class_t_mesh_image_p}{TMeshImageP}}(img)) \{}
\DoxyCodeLine{00135     mi-\/>getDpi(info.m\_dpix, info.m\_dpiy);}
\DoxyCodeLine{00136   \}}
\DoxyCodeLine{00137 }
\DoxyCodeLine{00138   info.m\_valid = \textcolor{keyword}{true};}
\DoxyCodeLine{00139   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00140 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_image_builder_ae0f55d7b0fa4707d87c07762bedc0e73}\label{class_image_builder_ae0f55d7b0fa4707d87c07762bedc0e73}} 
\index{ImageBuilder@{ImageBuilder}!setImageInfo@{setImageInfo}}
\index{setImageInfo@{setImageInfo}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{setImageInfo()}{setImageInfo()}\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily bool Image\+Builder\+::set\+Image\+Info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \&}]{info,  }\item[{\mbox{\hyperlink{class_t_image_reader}{TImage\+Reader}} $\ast$}]{ir }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00144                                                                   \{}
\DoxyCodeLine{00145   info = \mbox{\hyperlink{class_t_image_info}{TImageInfo}}();}
\DoxyCodeLine{00146 }
\DoxyCodeLine{00147   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_image_info}{TImageInfo}} *tmp = ir-\/>getImageInfo();}
\DoxyCodeLine{00148   \textcolor{keywordflow}{if} (tmp) \{}
\DoxyCodeLine{00149     info = *tmp;}
\DoxyCodeLine{00150     \textcolor{keywordflow}{if} (info.m\_x1 < info.m\_x0 || info.m\_y1 < info.m\_y0) \{}
\DoxyCodeLine{00151       info.m\_x0 = info.m\_y0 = 0;}
\DoxyCodeLine{00152       info.m\_x1             = info.m\_lx -\/ 1;}
\DoxyCodeLine{00153       info.m\_y1             = info.m\_ly -\/ 1;}
\DoxyCodeLine{00154     \}}
\DoxyCodeLine{00155 }
\DoxyCodeLine{00156     info.m\_valid = \textcolor{keyword}{true};}
\DoxyCodeLine{00157     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00158   \}}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00161 \}}

\end{DoxyCode}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{class_image_builder_a3d777a026a772de1f70d37031a8aa117}\label{class_image_builder_a3d777a026a772de1f70d37031a8aa117}} 
\index{ImageBuilder@{ImageBuilder}!ImageManager@{ImageManager}}
\index{ImageManager@{ImageManager}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{ImageManager}{ImageManager}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{class_image_manager}{Image\+Manager}}\hspace{0.3cm}{\ttfamily [friend]}}



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_image_builder_abdb16da64462bfa9968c5aa69aa9e678}\label{class_image_builder_abdb16da64462bfa9968c5aa69aa9e678}} 
\index{ImageBuilder@{ImageBuilder}!m\_imFlags@{m\_imFlags}}
\index{m\_imFlags@{m\_imFlags}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{m\_imFlags}{m\_imFlags}}
{\footnotesize\ttfamily int Image\+Builder\+::m\+\_\+im\+Flags\hspace{0.3cm}{\ttfamily [protected]}}



Currently cached image control flags. 

\mbox{\Hypertarget{class_image_builder_a048ba2c30d0e611c573825982cb3cd52}\label{class_image_builder_a048ba2c30d0e611c573825982cb3cd52}} 
\index{ImageBuilder@{ImageBuilder}!m\_info@{m\_info}}
\index{m\_info@{m\_info}!ImageBuilder@{ImageBuilder}}
\doxysubsubsection{\texorpdfstring{m\_info}{m\_info}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_image_info}{TImage\+Info}} Image\+Builder\+::m\+\_\+info\hspace{0.3cm}{\ttfamily [protected]}}



Currently cached image data -\/ size, bpp, etc. 



Referenced by \mbox{\hyperlink{l00085}{are\+Infos\+Compatible()}}, and \mbox{\hyperlink{l00091}{is\+Image\+Compatible()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/common/tcache/timagecache.\+cpp\item 
E\+:/opentoonz/toonz/sources/include/toonz/imagemanager.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/imagemanager.\+cpp\end{DoxyCompactItemize}
