\hypertarget{class_geometric_tool}{}\doxysection{Geometric\+Tool Class Reference}
\label{class_geometric_tool}\index{GeometricTool@{GeometricTool}}
Inheritance diagram for Geometric\+Tool\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_geometric_tool}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_geometric_tool_af8a9ccaa802134b241e7c89b32066de5}{Geometric\+Tool}} (int target\+Type)
\item 
\mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296c}{Tool\+Type}} \mbox{\hyperlink{class_geometric_tool_abc869cb1296dc5ad923f10721891dbde}{get\+Tool\+Type}} () const override
\item 
void \mbox{\hyperlink{class_geometric_tool_a5d92f0282b4701b1a6e4d68a72ecab5b}{update\+Translation}} () override
\item 
void \mbox{\hyperlink{class_geometric_tool_a58e9ee25327b9b81b2885c8f80865d10}{add\+Primitive}} (\mbox{\hyperlink{class_primitive}{Primitive}} $\ast$p)
\item 
void \mbox{\hyperlink{class_geometric_tool_ab0547848e08cfbcd59b296bbc84fa08b}{change\+Type}} (std\+::wstring name)
\item 
bool \mbox{\hyperlink{class_geometric_tool_ac08d11c96329e1c5170f1cc253e97e03}{pre\+Left\+Button\+Down}} () override
\item 
void \mbox{\hyperlink{class_geometric_tool_a8518502c41f085370669484cf315601e}{left\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_geometric_tool_abd08807a2a33d32de8bee57088df0954}{left\+Button\+Drag}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_geometric_tool_a8332c86ba58327e79e25d3f663688d0e}{left\+Button\+Up}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_geometric_tool_a64950df61db7b1945641f2e2ee3034bf}{left\+Button\+Double\+Click}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
bool \mbox{\hyperlink{class_geometric_tool_ac5a34e9833fbba4be089a944ea4e5f2d}{key\+Down}} (QKey\+Event $\ast$event) override
\item 
void \mbox{\hyperlink{class_geometric_tool_a1ccbb4c129e97a1b9320f73ca2f170fd}{on\+Image\+Changed}} () override
\begin{DoxyCompactList}\small\item\em Notifies changes in the image in use. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_geometric_tool_a7a667f97bf19002127f167348c46a1d0}{right\+Button\+Down}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_geometric_tool_afa00372c178bf458d281ae13ef1d652d}{mouse\+Move}} (const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&p, const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&e) override
\item 
void \mbox{\hyperlink{class_geometric_tool_a44e6cdcf48533cc90cda890d840967d2}{on\+Activate}} () override
\begin{DoxyCompactList}\small\item\em Callback invoked whenever the tool activates. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_geometric_tool_a6bf7ff90a711a913956582c44c799578}{on\+Deactivate}} () override
\begin{DoxyCompactList}\small\item\em Callback for tool deactivation, includes tool switch. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_geometric_tool_aaf5fa3569d197433d70dd800eca8bbbc}{on\+Enter}} () override
\begin{DoxyCompactList}\small\item\em Callback for the mouse entering the viewer area. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_geometric_tool_a582bdb66fc6ada662b695800c243f573}{draw}} () override
\begin{DoxyCompactList}\small\item\em Draws the tool on the viewer. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_geometric_tool_aac958521e872f88c5815b5632cfe1f18}{get\+Cursor\+Id}} () const override
\begin{DoxyCompactList}\small\item\em Returns the type of cursor used by the tool. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_geometric_tool_a7dc2ae6c19a192f8ba4f0054d4f9a765}{get\+Color\+Class}} () const
\item 
\mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ \mbox{\hyperlink{class_geometric_tool_a1ec73d7219e7cb5305e41a9084ca13bf}{get\+Properties}} (int idx) override
\item 
bool \mbox{\hyperlink{class_geometric_tool_ac845ff1c6b05f75e3c20097e2b48b8ce}{on\+Property\+Changed}} (std\+::string property\+Name) override
\item 
void \mbox{\hyperlink{class_geometric_tool_ada5e58e736a00a628d259d12ef6f0987}{add\+Stroke}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_primitive}{Primitive}} $\ast$ \mbox{\hyperlink{class_geometric_tool_a002b530210b9393fae3bfcd4965d9a4a}{m\+\_\+primitive}}
\item 
std\+::map$<$ std\+::wstring, \mbox{\hyperlink{class_primitive}{Primitive}} $\ast$ $>$ \mbox{\hyperlink{class_geometric_tool_a6b5faf190334f16b6a991d5908219e08}{m\+\_\+primitive\+Table}}
\item 
\mbox{\hyperlink{class_primitive_param}{Primitive\+Param}} \mbox{\hyperlink{class_geometric_tool_a211c664e6d5ab38d40fcbe42875ae917}{m\+\_\+param}}
\item 
std\+::wstring \mbox{\hyperlink{class_geometric_tool_ae9674ccee07b94d307ccc5e771ce57f1}{m\+\_\+type\+Code}}
\item 
bool \mbox{\hyperlink{class_geometric_tool_ac71ddab5958b6328855af4073a7c3286}{m\+\_\+active}}
\item 
bool \mbox{\hyperlink{class_geometric_tool_ab75fe90b8f8a60d9111a36dbb139761c}{m\+\_\+first\+Time}}
\item 
bool \mbox{\hyperlink{class_geometric_tool_ab12f51787e8c9131d779887de00fea89}{m\+\_\+is\+Rotating\+Or\+Moving}}
\item 
bool \mbox{\hyperlink{class_geometric_tool_aa76d1d1a170a11ba86f85b3d36346d03}{m\+\_\+was\+Ctrl\+Pressed}}
\item 
\mbox{\hyperlink{class_t_stroke}{TStroke}} $\ast$ \mbox{\hyperlink{class_geometric_tool_a3b855883fa1fd8d70e6ccd8874397d82}{m\+\_\+rotated\+Stroke}}
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_geometric_tool_aa3b3cce63f1884579c273169f6f2eac1}{m\+\_\+original\+Cursor\+Pos}}
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_geometric_tool_a90c523178e7cff5659b8974194aa6371}{m\+\_\+current\+Cursor\+Pos}}
\item 
TPixel32 \mbox{\hyperlink{class_geometric_tool_a23c46d4afae83c9a986ad0e2aa9cb4a0}{m\+\_\+color}}
\item 
double \mbox{\hyperlink{class_geometric_tool_aef4fc214d06ce07eded168e0ef3b3717}{m\+\_\+last\+Rotate\+Angle}}
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_geometric_tool_a2d0995afd4f5b9ebbd9193e869f297e7}{m\+\_\+rotate\+Center}}
\item 
\mbox{\hyperlink{class_t_point_t}{TPointD}} \mbox{\hyperlink{class_geometric_tool_a880566a8584c0d92aca75fc65b44c924}{m\+\_\+last\+Move\+Stroke\+Pos}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_geometric_tool_af8a9ccaa802134b241e7c89b32066de5}\label{class_geometric_tool_af8a9ccaa802134b241e7c89b32066de5}} 
\index{GeometricTool@{GeometricTool}!GeometricTool@{GeometricTool}}
\index{GeometricTool@{GeometricTool}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{GeometricTool()}{GeometricTool()}}
{\footnotesize\ttfamily Geometric\+Tool\+::\+Geometric\+Tool (\begin{DoxyParamCaption}\item[{int}]{target\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00997       : \mbox{\hyperlink{class_t_tool_a9c63ec35f606e755d0d036bf4fed62ab}{TTool}}(\textcolor{stringliteral}{"{}T\_Geometric"{}})}
\DoxyCodeLine{00998       , m\_primitive(0)}
\DoxyCodeLine{00999       , m\_param(targetType)}
\DoxyCodeLine{01000       , m\_active(\textcolor{keyword}{false})}
\DoxyCodeLine{01001       , m\_isRotatingOrMoving(\textcolor{keyword}{false})}
\DoxyCodeLine{01002       , m\_rotatedStroke(0)}
\DoxyCodeLine{01003       , m\_firstTime(\textcolor{keyword}{true}) \{}
\DoxyCodeLine{01004     bind(targetType);}
\DoxyCodeLine{01005     \textcolor{keywordflow}{if} ((targetType \& \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859}{TTool::RasterImage}}) || (targetType \& \mbox{\hyperlink{class_t_tool_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1}{TTool::ToonzImage}})) \{}
\DoxyCodeLine{01006       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_rectangle_primitive}{RectanglePrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{true}));}
\DoxyCodeLine{01007       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_circle_primitive}{CirclePrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{true}));}
\DoxyCodeLine{01008       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_ellipse_primitive}{EllipsePrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{true}));}
\DoxyCodeLine{01009       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_line_primitive}{LinePrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{true}));}
\DoxyCodeLine{01010       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_multi_line_primitive}{MultiLinePrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{true}));}
\DoxyCodeLine{01011       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_arc_primitive}{ArcPrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{true}));}
\DoxyCodeLine{01012       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_multi_arc_primitive}{MultiArcPrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{true}));}
\DoxyCodeLine{01013       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_polygon_primitive}{PolygonPrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{true}));}
\DoxyCodeLine{01014     \} \textcolor{keywordflow}{else}  \textcolor{comment}{// targetType == 1}}
\DoxyCodeLine{01015     \{}
\DoxyCodeLine{01016       \textcolor{comment}{// vector}}
\DoxyCodeLine{01017       addPrimitive(m\_primitive = \textcolor{keyword}{new} \mbox{\hyperlink{class_rectangle_primitive}{RectanglePrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{false}));}
\DoxyCodeLine{01018       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_circle_primitive}{CirclePrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{false}));}
\DoxyCodeLine{01019       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_ellipse_primitive}{EllipsePrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{false}));}
\DoxyCodeLine{01020       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_line_primitive}{LinePrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{false}));}
\DoxyCodeLine{01021       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_multi_line_primitive}{MultiLinePrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{false}));}
\DoxyCodeLine{01022       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_arc_primitive}{ArcPrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{false}));}
\DoxyCodeLine{01023       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_multi_arc_primitive}{MultiArcPrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{false}));}
\DoxyCodeLine{01024       addPrimitive(\textcolor{keyword}{new} \mbox{\hyperlink{class_polygon_primitive}{PolygonPrimitive}}(\&m\_param, \textcolor{keyword}{this}, \textcolor{keyword}{false}));}
\DoxyCodeLine{01025     \}}
\DoxyCodeLine{01026   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_a509549749ba017928022a21a2df0640a}\label{class_geometric_tool_a509549749ba017928022a21a2df0640a}} 
\index{GeometricTool@{GeometricTool}!````~GeometricTool@{$\sim$GeometricTool}}
\index{````~GeometricTool@{$\sim$GeometricTool}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{$\sim$GeometricTool()}{~GeometricTool()}}
{\footnotesize\ttfamily Geometric\+Tool\+::$\sim$\+Geometric\+Tool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01028                    \{}
\DoxyCodeLine{01029     \textcolor{keyword}{delete} m\_rotatedStroke;}
\DoxyCodeLine{01030     std::map<std::wstring, Primitive *>::iterator it;}
\DoxyCodeLine{01031     \textcolor{keywordflow}{for} (it = m\_primitiveTable.begin(); it != m\_primitiveTable.end(); ++it)}
\DoxyCodeLine{01032       \textcolor{keyword}{delete} it-\/>second;}
\DoxyCodeLine{01033   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_geometric_tool_a58e9ee25327b9b81b2885c8f80865d10}\label{class_geometric_tool_a58e9ee25327b9b81b2885c8f80865d10}} 
\index{GeometricTool@{GeometricTool}!addPrimitive@{addPrimitive}}
\index{addPrimitive@{addPrimitive}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{addPrimitive()}{addPrimitive()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::add\+Primitive (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_primitive}{Primitive}} $\ast$}]{p }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01039                                   \{}
\DoxyCodeLine{01040     \textcolor{comment}{// TODO: aggiungere il controllo per evitare nomi ripetuti}}
\DoxyCodeLine{01041     std::wstring name = ::to\_wstring(p-\/>getName());}
\DoxyCodeLine{01042     \textcolor{comment}{// wstring name = TStringTable::translate(p-\/>getName());}}
\DoxyCodeLine{01043 }
\DoxyCodeLine{01044     m\_primitiveTable[name] = p;}
\DoxyCodeLine{01045     m\_param.m\_type.addValue(name);}
\DoxyCodeLine{01046   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_ada5e58e736a00a628d259d12ef6f0987}\label{class_geometric_tool_ada5e58e736a00a628d259d12ef6f0987}} 
\index{GeometricTool@{GeometricTool}!addStroke@{addStroke}}
\index{addStroke@{addStroke}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{addStroke()}{addStroke()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::add\+Stroke (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01346                    \{}
\DoxyCodeLine{01347     \textcolor{keywordflow}{if} (!m\_primitive) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01348 }
\DoxyCodeLine{01349     \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = 0;}
\DoxyCodeLine{01350     \textcolor{keywordflow}{if} (!m\_isRotatingOrMoving) \{}
\DoxyCodeLine{01351       stroke = m\_primitive-\/>makeStroke();}
\DoxyCodeLine{01352       \textcolor{keywordflow}{if} (!stroke) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01353 }
\DoxyCodeLine{01354       \textcolor{keywordflow}{if} (m\_param.m\_rotate.getValue()) \{}
\DoxyCodeLine{01355         m\_isRotatingOrMoving = \textcolor{keyword}{true};}
\DoxyCodeLine{01356         m\_rotatedStroke      = stroke;}
\DoxyCodeLine{01357         \mbox{\hyperlink{class_t_rect_t}{TRectD}} bbox          = stroke-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}();}
\DoxyCodeLine{01358         m\_rotateCenter       = 0.5 * (bbox.getP11() + bbox.getP00());}
\DoxyCodeLine{01359         m\_originalCursorPos  = m\_currentCursorPos;}
\DoxyCodeLine{01360         m\_lastRotateAngle    = 0;}
\DoxyCodeLine{01361         m\_lastMoveStrokePos  = \mbox{\hyperlink{class_t_point_t}{TPointD}}(0, 0);}
\DoxyCodeLine{01362         m\_wasCtrlPressed     = \textcolor{keyword}{false};}
\DoxyCodeLine{01363 }
\DoxyCodeLine{01364         \textcolor{keyword}{const} \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{01365         \textcolor{keywordflow}{if} (!app) \{}
\DoxyCodeLine{01366           m\_color = TPixel32::Red;}
\DoxyCodeLine{01367           \textcolor{keywordflow}{return};}
\DoxyCodeLine{01368         \}}
\DoxyCodeLine{01369 }
\DoxyCodeLine{01370         \textcolor{keyword}{const} \mbox{\hyperlink{class_t_color_style}{TColorStyle}} *style = app-\/>getCurrentLevelStyle();}
\DoxyCodeLine{01371         \textcolor{keywordflow}{if} (!style) \{}
\DoxyCodeLine{01372           m\_color = TPixel32::Red;}
\DoxyCodeLine{01373           \textcolor{keywordflow}{return};}
\DoxyCodeLine{01374         \}}
\DoxyCodeLine{01375 }
\DoxyCodeLine{01376         m\_color = style-\/>\mbox{\hyperlink{class_t_color_style_af5907c6146db5067fcf000edeb8e403b}{getAverageColor}}();}
\DoxyCodeLine{01377 }
\DoxyCodeLine{01378         \textcolor{keywordflow}{return};}
\DoxyCodeLine{01379       \}}
\DoxyCodeLine{01380     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01381       stroke               = m\_rotatedStroke;}
\DoxyCodeLine{01382       m\_isRotatingOrMoving = \textcolor{keyword}{false};}
\DoxyCodeLine{01383       m\_rotatedStroke      = 0;}
\DoxyCodeLine{01384     \}}
\DoxyCodeLine{01385 }
\DoxyCodeLine{01386     TStroke::OutlineOptions \&options = stroke-\/>outlineOptions();}
\DoxyCodeLine{01387     options.m\_capStyle               = m\_param.m\_capStyle.getIndex();}
\DoxyCodeLine{01388     options.m\_joinStyle              = m\_param.m\_joinStyle.getIndex();}
\DoxyCodeLine{01389     options.m\_miterUpper             = m\_param.m\_miterJoinLimit.getValue();}
\DoxyCodeLine{01390 }
\DoxyCodeLine{01391     \mbox{\hyperlink{class_t_image}{TImage}} *image = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{true});}
\DoxyCodeLine{01392     \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ti(image);}
\DoxyCodeLine{01393     \mbox{\hyperlink{class_t_vector_image_p}{TVectorImageP}} vi(image);}
\DoxyCodeLine{01394     \mbox{\hyperlink{class_t_raster_image_p}{TRasterImageP}} ri(image);}
\DoxyCodeLine{01395     \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *sl =}
\DoxyCodeLine{01396         TTool::getApplication()-\/>getCurrentLevel()-\/>getSimpleLevel();}
\DoxyCodeLine{01397     \mbox{\hyperlink{class_t_frame_id}{TFrameId}} \textcolor{keywordtype}{id} = \mbox{\hyperlink{class_t_tool_ae7db6c4288b721fd95f283419883a4b2}{getCurrentFid}}();}
\DoxyCodeLine{01398     \textcolor{comment}{/*-\/-\/ ToonzImageの場合 -\/-\/*/}}
\DoxyCodeLine{01399     \textcolor{keywordflow}{if} (ti) \{}
\DoxyCodeLine{01400       \textcolor{keywordtype}{int} styleId    = TTool::getApplication()-\/>getCurrentLevelStyleIndex();}
\DoxyCodeLine{01401       \textcolor{keywordtype}{bool} selective = m\_param.m\_selective.getValue();}
\DoxyCodeLine{01402 }
\DoxyCodeLine{01403       \textcolor{keywordtype}{bool} filled = \textcolor{keyword}{false};}
\DoxyCodeLine{01404 }
\DoxyCodeLine{01405       stroke-\/>\mbox{\hyperlink{class_t_stroke_a33f59dfbed74b577700351eac8c2fc7b}{setStyle}}(styleId);}
\DoxyCodeLine{01406       \textcolor{keywordtype}{double} hardness = m\_param.m\_hardness.getValue() * 0.01;}
\DoxyCodeLine{01407       \mbox{\hyperlink{class_t_rect_t}{TRect}} savebox;}
\DoxyCodeLine{01408       \textcolor{keywordflow}{if} (hardness == 1 || m\_param.m\_pencil.getValue()) \{}
\DoxyCodeLine{01409         TUndoManager::manager()-\/>add(\textcolor{keyword}{new} \mbox{\hyperlink{class_tool_utils_1_1_undo_raster_pencil}{UndoRasterPencil}}(}
\DoxyCodeLine{01410             sl, \textcolor{keywordtype}{id}, stroke, selective, filled, !m\_param.m\_pencil.getValue(),}
\DoxyCodeLine{01411             \mbox{\hyperlink{class_t_tool_aabd06af7335f1ba0c96f36f1ac3e9976}{m\_isFrameCreated}}, \mbox{\hyperlink{class_t_tool_afec1db61477579b224321fd469e4ec00}{m\_isLevelCreated}}, m\_primitive-\/>getName()));}
\DoxyCodeLine{01412         savebox = ToonzImageUtils::addInkStroke(ti, stroke, styleId, selective,}
\DoxyCodeLine{01413                                                 filled, TConsts::infiniteRectD,}
\DoxyCodeLine{01414                                                 !m\_param.m\_pencil.getValue());}
\DoxyCodeLine{01415       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01416         \textcolor{keywordtype}{int} thickness = m\_param.m\_rasterToolSize.getValue();}
\DoxyCodeLine{01417         TUndoManager::manager()-\/>add(\textcolor{keyword}{new} \mbox{\hyperlink{class_c_m_blured_primitive_undo}{CMBluredPrimitiveUndo}}(}
\DoxyCodeLine{01418             sl, \textcolor{keywordtype}{id}, stroke, thickness, hardness, selective, \textcolor{keyword}{false},}
\DoxyCodeLine{01419             \mbox{\hyperlink{class_t_tool_aabd06af7335f1ba0c96f36f1ac3e9976}{m\_isFrameCreated}}, \mbox{\hyperlink{class_t_tool_afec1db61477579b224321fd469e4ec00}{m\_isLevelCreated}}, m\_primitive-\/>getName()));}
\DoxyCodeLine{01420         savebox = drawBluredBrush(ti, stroke, thickness, hardness, selective);}
\DoxyCodeLine{01421       \}}
\DoxyCodeLine{01422       ToolUtils::updateSaveBox();}
\DoxyCodeLine{01423       \textcolor{keyword}{delete} stroke;}
\DoxyCodeLine{01424     \}}
\DoxyCodeLine{01425     \textcolor{comment}{/*-\/-\/ VectorImageの場合 -\/-\/*/}}
\DoxyCodeLine{01426     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (vi) \{}
\DoxyCodeLine{01427       \textcolor{keywordflow}{if} (TTool::getApplication()-\/>getCurrentObject()-\/>isSpline()) \{}
\DoxyCodeLine{01428         \textcolor{keywordflow}{if} (!ToolUtils::isJustCreatedSpline(vi.getPointer())) \{}
\DoxyCodeLine{01429           m\_primitive-\/>setIsPrompting(\textcolor{keyword}{true});}
\DoxyCodeLine{01430           QString question(\textcolor{stringliteral}{"{}Are you sure you want to replace the motion path?"{}});}
\DoxyCodeLine{01431           \textcolor{keywordtype}{int} ret =}
\DoxyCodeLine{01432               DVGui::MsgBox(question, QObject::tr(\textcolor{stringliteral}{"{}Yes"{}}), QObject::tr(\textcolor{stringliteral}{"{}No"{}}), 0);}
\DoxyCodeLine{01433           m\_primitive-\/>setIsPrompting(\textcolor{keyword}{false});}
\DoxyCodeLine{01434           \textcolor{keywordflow}{if} (ret == 2 || ret == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01435         \}}
\DoxyCodeLine{01436         QMutexLocker lock(vi-\/>getMutex());}
\DoxyCodeLine{01437         \mbox{\hyperlink{class_t_undo}{TUndo}} *undo = \textcolor{keyword}{new} \mbox{\hyperlink{class_tool_utils_1_1_undo_path}{UndoPath}}(}
\DoxyCodeLine{01438             \mbox{\hyperlink{class_t_tool_a8716e1462da359f4902c044a79f2d40d}{getXsheet}}()-\/>getStageObject(\mbox{\hyperlink{class_t_tool_a25b57b82dfac131d9d6405e07fbd98b4}{getObjectId}}())-\/>getSpline());}
\DoxyCodeLine{01439         \textcolor{keywordflow}{while} (vi-\/>getStrokeCount() > 0) vi-\/>deleteStroke(0);}
\DoxyCodeLine{01440         vi-\/>addStroke(stroke, \textcolor{keyword}{false});}
\DoxyCodeLine{01441         TUndoManager::manager()-\/>add(undo);}
\DoxyCodeLine{01442       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01443         \textcolor{keywordtype}{int} styleId = TTool::getApplication()-\/>getCurrentLevelStyleIndex();}
\DoxyCodeLine{01444         \textcolor{keywordflow}{if} (styleId >= 0) stroke-\/>\mbox{\hyperlink{class_t_stroke_a33f59dfbed74b577700351eac8c2fc7b}{setStyle}}(styleId);}
\DoxyCodeLine{01445         QMutexLocker lock(vi-\/>getMutex());}
\DoxyCodeLine{01446         std::vector<TFilledRegionInf> *fillInformation =}
\DoxyCodeLine{01447             \textcolor{keyword}{new} std::vector<TFilledRegionInf>;}
\DoxyCodeLine{01448         ImageUtils::getFillingInformationOverlappingArea(vi, *fillInformation,}
\DoxyCodeLine{01449                                                          stroke-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}());}
\DoxyCodeLine{01450 }
\DoxyCodeLine{01451         vi-\/>addStroke(stroke);}
\DoxyCodeLine{01452 }
\DoxyCodeLine{01453         TUndoManager::manager()-\/>add(\textcolor{keyword}{new} \mbox{\hyperlink{class_tool_utils_1_1_undo_pencil}{UndoPencil}}(}
\DoxyCodeLine{01454             vi-\/>getStroke(vi-\/>getStrokeCount() -\/ 1), fillInformation, sl, \textcolor{keywordtype}{id},}
\DoxyCodeLine{01455             \mbox{\hyperlink{class_t_tool_aabd06af7335f1ba0c96f36f1ac3e9976}{m\_isFrameCreated}}, \mbox{\hyperlink{class_t_tool_afec1db61477579b224321fd469e4ec00}{m\_isLevelCreated}}, m\_param.m\_autogroup.getValue(),}
\DoxyCodeLine{01456             m\_param.m\_autofill.getValue()));}
\DoxyCodeLine{01457 }
\DoxyCodeLine{01458         \textcolor{keywordflow}{if} ((Preferences::instance()-\/>getGuidedDrawingType() == 1 ||}
\DoxyCodeLine{01459              Preferences::instance()-\/>getGuidedDrawingType() == 2) \&\&}
\DoxyCodeLine{01460             Preferences::instance()-\/>getGuidedAutoInbetween()) \{}
\DoxyCodeLine{01461           \mbox{\hyperlink{class_t_tool}{TTool}} *tool =}
\DoxyCodeLine{01462               TTool::getTool(T\_Brush, TTool::ToolTargetType::VectorImage);}
\DoxyCodeLine{01463           \mbox{\hyperlink{class_toonz_vector_brush_tool}{ToonzVectorBrushTool}} *vbTool = (\mbox{\hyperlink{class_toonz_vector_brush_tool}{ToonzVectorBrushTool}} *)tool;}
\DoxyCodeLine{01464           \textcolor{keywordflow}{if} (vbTool) \{}
\DoxyCodeLine{01465             vbTool-\/>setViewer(\mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}});}
\DoxyCodeLine{01466             vbTool-\/>doGuidedAutoInbetween(\textcolor{keywordtype}{id}, vi, stroke, \textcolor{keyword}{false},}
\DoxyCodeLine{01467                                           m\_param.m\_autogroup.getValue(),}
\DoxyCodeLine{01468                                           m\_param.m\_autofill.getValue(), \textcolor{keyword}{false});}
\DoxyCodeLine{01469           \}}
\DoxyCodeLine{01470         \}}
\DoxyCodeLine{01471       \}}
\DoxyCodeLine{01472       \textcolor{keywordflow}{if} (m\_param.m\_autogroup.getValue() \&\& stroke-\/>\mbox{\hyperlink{class_t_stroke_a3565d6c34d3eb02fb1a6993ca626425c}{isSelfLoop}}()) \{}
\DoxyCodeLine{01473         \textcolor{keywordtype}{int} index = vi-\/>getStrokeCount() -\/ 1;}
\DoxyCodeLine{01474         vi-\/>group(index, 1);}
\DoxyCodeLine{01475         \textcolor{keywordflow}{if} (m\_param.m\_autofill.getValue()) \{}
\DoxyCodeLine{01476           \textcolor{comment}{// to avoid filling other strokes, I enter into the new stroke group}}
\DoxyCodeLine{01477           \textcolor{keywordtype}{int} currentGroup = vi-\/>exitGroup();}
\DoxyCodeLine{01478           vi-\/>enterGroup(index);}
\DoxyCodeLine{01479           vi-\/>selectFill(stroke-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}().enlarge(1, 1), 0, stroke-\/>\mbox{\hyperlink{class_t_stroke_ab77068d7894a29cc1878e173f46ed785}{getStyle}}(),}
\DoxyCodeLine{01480                          \textcolor{keyword}{false}, \textcolor{keyword}{true}, \textcolor{keyword}{false});}
\DoxyCodeLine{01481           \textcolor{keywordflow}{if} (currentGroup != -\/1)}
\DoxyCodeLine{01482             vi-\/>enterGroup(currentGroup);}
\DoxyCodeLine{01483           \textcolor{keywordflow}{else}}
\DoxyCodeLine{01484             vi-\/>exitGroup();}
\DoxyCodeLine{01485         \}}
\DoxyCodeLine{01486       \}}
\DoxyCodeLine{01487     \}}
\DoxyCodeLine{01488     \textcolor{comment}{/*-\/-\/ RasterImageの場合 -\/-\/*/}}
\DoxyCodeLine{01489     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ri) \{}
\DoxyCodeLine{01490       \textcolor{keywordtype}{int} styleId = TTool::getApplication()-\/>getCurrentLevelStyleIndex();}
\DoxyCodeLine{01491       stroke-\/>\mbox{\hyperlink{class_t_stroke_a33f59dfbed74b577700351eac8c2fc7b}{setStyle}}(styleId);}
\DoxyCodeLine{01492       \textcolor{keywordtype}{double} opacity  = m\_param.m\_opacity.getValue() * 0.01;}
\DoxyCodeLine{01493       \textcolor{keywordtype}{double} hardness = m\_param.m\_hardness.getValue() * 0.01;}
\DoxyCodeLine{01494       \mbox{\hyperlink{class_t_rect_t}{TRect}} savebox;}
\DoxyCodeLine{01495       \textcolor{keywordflow}{if} (hardness == 1) \{}
\DoxyCodeLine{01496         TUndoManager::manager()-\/>add(\textcolor{keyword}{new} \mbox{\hyperlink{class_tool_utils_1_1_undo_full_color_pencil}{UndoFullColorPencil}}(}
\DoxyCodeLine{01497             sl, \textcolor{keywordtype}{id}, stroke, opacity, \textcolor{keyword}{true}, \mbox{\hyperlink{class_t_tool_aabd06af7335f1ba0c96f36f1ac3e9976}{m\_isFrameCreated}}, \mbox{\hyperlink{class_t_tool_afec1db61477579b224321fd469e4ec00}{m\_isLevelCreated}}));}
\DoxyCodeLine{01498         savebox = TRasterImageUtils::addStroke(ri, stroke, \mbox{\hyperlink{class_t_rect_t}{TRectD}}(), opacity);}
\DoxyCodeLine{01499       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01500         \textcolor{keywordtype}{int} thickness = m\_param.m\_rasterToolSize.getValue();}
\DoxyCodeLine{01501         TUndoManager::manager()-\/>add(\textcolor{keyword}{new} \mbox{\hyperlink{class_full_color_blured_primitive_undo}{FullColorBluredPrimitiveUndo}}(}
\DoxyCodeLine{01502             sl, \textcolor{keywordtype}{id}, stroke, thickness, hardness, opacity, \textcolor{keyword}{true},}
\DoxyCodeLine{01503             \mbox{\hyperlink{class_t_tool_aabd06af7335f1ba0c96f36f1ac3e9976}{m\_isFrameCreated}}, \mbox{\hyperlink{class_t_tool_afec1db61477579b224321fd469e4ec00}{m\_isLevelCreated}}));}
\DoxyCodeLine{01504         savebox = drawBluredBrush(ri, stroke, thickness, hardness, opacity);}
\DoxyCodeLine{01505       \}}
\DoxyCodeLine{01506       ToolUtils::updateSaveBox();}
\DoxyCodeLine{01507       \textcolor{keyword}{delete} stroke;}
\DoxyCodeLine{01508     \}}
\DoxyCodeLine{01509     \mbox{\hyperlink{class_t_tool_abd1824e9b49705c534e0a773305294c4}{notifyImageChanged}}();}
\DoxyCodeLine{01510     m\_active = \textcolor{keyword}{false};}
\DoxyCodeLine{01511   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_ab0547848e08cfbcd59b296bbc84fa08b}\label{class_geometric_tool_ab0547848e08cfbcd59b296bbc84fa08b}} 
\index{GeometricTool@{GeometricTool}!changeType@{changeType}}
\index{changeType@{changeType}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{changeType()}{changeType()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::change\+Type (\begin{DoxyParamCaption}\item[{std\+::wstring}]{name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01048                                    \{}
\DoxyCodeLine{01049     std::map<std::wstring, Primitive *>::iterator it =}
\DoxyCodeLine{01050         m\_primitiveTable.find(name);}
\DoxyCodeLine{01051     \textcolor{keywordflow}{if} (it != m\_primitiveTable.end()) \{}
\DoxyCodeLine{01052       \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>onDeactivate();}
\DoxyCodeLine{01053       m\_primitive = it-\/>second;}
\DoxyCodeLine{01054     \}}
\DoxyCodeLine{01055   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_a582bdb66fc6ada662b695800c243f573}\label{class_geometric_tool_a582bdb66fc6ada662b695800c243f573}} 
\index{GeometricTool@{GeometricTool}!draw@{draw}}
\index{draw@{draw}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{draw()}{draw()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::draw (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Draws the tool on the viewer. 



Reimplemented from \mbox{\hyperlink{class_t_tool_a058bf656d73bf3cd63b9826cbaaf48e0}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01245                        \{}
\DoxyCodeLine{01246     \textcolor{keywordflow}{if} (m\_isRotatingOrMoving) \{}
\DoxyCodeLine{01247       tglColor(m\_color);}
\DoxyCodeLine{01248       drawStrokeCenterline(*m\_rotatedStroke, sqrt(tglGetPixelSize2()));}
\DoxyCodeLine{01249       \textcolor{keywordflow}{return};}
\DoxyCodeLine{01250     \}}
\DoxyCodeLine{01251     \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>draw();}
\DoxyCodeLine{01252   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_a7dc2ae6c19a192f8ba4f0054d4f9a765}\label{class_geometric_tool_a7dc2ae6c19a192f8ba4f0054d4f9a765}} 
\index{GeometricTool@{GeometricTool}!getColorClass@{getColorClass}}
\index{getColorClass@{getColorClass}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{getColorClass()}{getColorClass()}}
{\footnotesize\ttfamily int Geometric\+Tool\+::get\+Color\+Class (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01260 \{ \textcolor{keywordflow}{return} 1; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_aac958521e872f88c5815b5632cfe1f18}\label{class_geometric_tool_aac958521e872f88c5815b5632cfe1f18}} 
\index{GeometricTool@{GeometricTool}!getCursorId@{getCursorId}}
\index{getCursorId@{getCursorId}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{getCursorId()}{getCursorId()}}
{\footnotesize\ttfamily int Geometric\+Tool\+::get\+Cursor\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Returns the type of cursor used by the tool. 

\begin{DoxySeeAlso}{See also}
For a list of cursor ids \mbox{\hyperlink{}{cursor.\+h}} 
\end{DoxySeeAlso}


Reimplemented from \mbox{\hyperlink{class_t_tool_a1768a57b8b6d1480618fd923fad15f1d}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01254                                    \{}
\DoxyCodeLine{01255     \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}} \&\& \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>getGuidedStrokePickerMode())}
\DoxyCodeLine{01256       \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_tool_a66f61f998b655c1c917ee63a595657c6}{m\_viewer}}-\/>getGuidedStrokePickerCursor();}
\DoxyCodeLine{01257     \textcolor{keywordflow}{return} ToolCursor::PenCursor;}
\DoxyCodeLine{01258   \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00555}{TTool\+::m\+\_\+viewer}}.

\mbox{\Hypertarget{class_geometric_tool_a1ec73d7219e7cb5305e41a9084ca13bf}\label{class_geometric_tool_a1ec73d7219e7cb5305e41a9084ca13bf}} 
\index{GeometricTool@{GeometricTool}!getProperties@{getProperties}}
\index{getProperties@{getProperties}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{getProperties()}{getProperties()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ Geometric\+Tool\+::get\+Properties (\begin{DoxyParamCaption}\item[{int}]{idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01262                                                   \{}
\DoxyCodeLine{01263     \textcolor{keywordflow}{return} \&m\_param.m\_prop[idx];}
\DoxyCodeLine{01264   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_abc869cb1296dc5ad923f10721891dbde}\label{class_geometric_tool_abc869cb1296dc5ad923f10721891dbde}} 
\index{GeometricTool@{GeometricTool}!getToolType@{getToolType}}
\index{getToolType@{getToolType}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{getToolType()}{getToolType()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296c}{Tool\+Type}} Geometric\+Tool\+::get\+Tool\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01035 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_tool_a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b}{TTool::LevelWriteTool}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_ac5a34e9833fbba4be089a944ea4e5f2d}\label{class_geometric_tool_ac5a34e9833fbba4be089a944ea4e5f2d}} 
\index{GeometricTool@{GeometricTool}!keyDown@{keyDown}}
\index{keyDown@{keyDown}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{keyDown()}{keyDown()}}
{\footnotesize\ttfamily bool Geometric\+Tool\+::key\+Down (\begin{DoxyParamCaption}\item[{QKey\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01103                                           \{}
\DoxyCodeLine{01104     \textcolor{keywordflow}{return} m\_primitive-\/>keyDown(event);}
\DoxyCodeLine{01105   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_a64950df61db7b1945641f2e2ee3034bf}\label{class_geometric_tool_a64950df61db7b1945641f2e2ee3034bf}} 
\index{GeometricTool@{GeometricTool}!leftButtonDoubleClick@{leftButtonDoubleClick}}
\index{leftButtonDoubleClick@{leftButtonDoubleClick}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDoubleClick()}{leftButtonDoubleClick()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::left\+Button\+Double\+Click (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01097                                                                               \{}
\DoxyCodeLine{01098     \textcolor{keywordflow}{if} (!m\_active) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01099     \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>leftButtonDoubleClick(p, e);}
\DoxyCodeLine{01100     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01101   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_a8518502c41f085370669484cf315601e}\label{class_geometric_tool_a8518502c41f085370669484cf315601e}} 
\index{GeometricTool@{GeometricTool}!leftButtonDown@{leftButtonDown}}
\index{leftButtonDown@{leftButtonDown}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDown()}{leftButtonDown()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::left\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01073                                                                        \{}
\DoxyCodeLine{01074     \textcolor{keywordflow}{if} (getViewer() \&\& getViewer()-\/>getGuidedStrokePickerMode()) \{}
\DoxyCodeLine{01075       getViewer()-\/>doPickGuideStroke(p);}
\DoxyCodeLine{01076       \textcolor{keywordflow}{return};}
\DoxyCodeLine{01077     \}}
\DoxyCodeLine{01078 }
\DoxyCodeLine{01079     \textcolor{keywordflow}{if} (m\_isRotatingOrMoving) \{}
\DoxyCodeLine{01080       addStroke();}
\DoxyCodeLine{01081       \textcolor{keywordflow}{return};}
\DoxyCodeLine{01082     \}}
\DoxyCodeLine{01083 }
\DoxyCodeLine{01084     \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>leftButtonDown(p, e);}
\DoxyCodeLine{01085     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01086   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_abd08807a2a33d32de8bee57088df0954}\label{class_geometric_tool_abd08807a2a33d32de8bee57088df0954}} 
\index{GeometricTool@{GeometricTool}!leftButtonDrag@{leftButtonDrag}}
\index{leftButtonDrag@{leftButtonDrag}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{leftButtonDrag()}{leftButtonDrag()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::left\+Button\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01087                                                                        \{}
\DoxyCodeLine{01088     \textcolor{keywordflow}{if} (!m\_active) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01089     \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>leftButtonDrag(p, e);}
\DoxyCodeLine{01090     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01091   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_a8332c86ba58327e79e25d3f663688d0e}\label{class_geometric_tool_a8332c86ba58327e79e25d3f663688d0e}} 
\index{GeometricTool@{GeometricTool}!leftButtonUp@{leftButtonUp}}
\index{leftButtonUp@{leftButtonUp}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{leftButtonUp()}{leftButtonUp()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::left\+Button\+Up (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01092                                                                      \{}
\DoxyCodeLine{01093     \textcolor{keywordflow}{if} (!m\_active) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01094     \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>leftButtonUp(p, e);}
\DoxyCodeLine{01095     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01096   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_afa00372c178bf458d281ae13ef1d652d}\label{class_geometric_tool_afa00372c178bf458d281ae13ef1d652d}} 
\index{GeometricTool@{GeometricTool}!mouseMove@{mouseMove}}
\index{mouseMove@{mouseMove}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{mouseMove()}{mouseMove()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::mouse\+Move (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01122                                                                   \{}
\DoxyCodeLine{01123     m\_currentCursorPos = p;}
\DoxyCodeLine{01124     \textcolor{keywordflow}{if} (m\_isRotatingOrMoving) \{}
\DoxyCodeLine{01125       \textcolor{comment}{// move}}
\DoxyCodeLine{01126       \textcolor{keywordflow}{if} (e.isCtrlPressed()) \{}
\DoxyCodeLine{01127         \textcolor{comment}{// if ctrl wasn't pressed, it means the user has switched from}}
\DoxyCodeLine{01128         \textcolor{comment}{// rotation to move. Thus, re-\/initiate move-\/relevant variables}}
\DoxyCodeLine{01129         \textcolor{keywordflow}{if} (!m\_wasCtrlPressed) \{}
\DoxyCodeLine{01130           m\_wasCtrlPressed = \textcolor{keyword}{true};}
\DoxyCodeLine{01131 }
\DoxyCodeLine{01132           m\_originalCursorPos = m\_currentCursorPos;}
\DoxyCodeLine{01133           m\_lastMoveStrokePos = \mbox{\hyperlink{class_t_point_t}{TPointD}}(0, 0);}
\DoxyCodeLine{01134         \}}
\DoxyCodeLine{01135 }
\DoxyCodeLine{01136         \textcolor{comment}{// move the stroke to the original location}}
\DoxyCodeLine{01137         \textcolor{keywordtype}{double} x = -\/m\_lastMoveStrokePos.x;}
\DoxyCodeLine{01138         \textcolor{keywordtype}{double} y = -\/m\_lastMoveStrokePos.y;}
\DoxyCodeLine{01139         m\_rotatedStroke-\/>\mbox{\hyperlink{class_t_stroke_a919f059066dc8dcabeb57ece1775d590}{transform}}(\mbox{\hyperlink{class_t_translation}{TTranslation}}(x, y));}
\DoxyCodeLine{01140 }
\DoxyCodeLine{01141         \textcolor{comment}{// move the stroke according to current mouse position}}
\DoxyCodeLine{01142         \textcolor{keywordtype}{double} dx           = m\_currentCursorPos.x -\/ m\_originalCursorPos.x;}
\DoxyCodeLine{01143         \textcolor{keywordtype}{double} dy           = m\_currentCursorPos.y -\/ m\_originalCursorPos.y;}
\DoxyCodeLine{01144         m\_lastMoveStrokePos = \mbox{\hyperlink{class_t_point_t}{TPointD}}(dx, dy);}
\DoxyCodeLine{01145         m\_rotatedStroke-\/>\mbox{\hyperlink{class_t_stroke_a919f059066dc8dcabeb57ece1775d590}{transform}}(\mbox{\hyperlink{class_t_translation}{TTranslation}}(dx, dy));}
\DoxyCodeLine{01146         \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01147         \textcolor{keywordflow}{return};}
\DoxyCodeLine{01148       \}}
\DoxyCodeLine{01149 }
\DoxyCodeLine{01150       \textcolor{comment}{// if ctrl was pressed, it means the user has switched from}}
\DoxyCodeLine{01151       \textcolor{comment}{// move to rotation. Thus, re-\/initiate rotation-\/relevant variables}}
\DoxyCodeLine{01152       \textcolor{keywordflow}{if} (m\_wasCtrlPressed) \{}
\DoxyCodeLine{01153         m\_wasCtrlPressed = \textcolor{keyword}{false};}
\DoxyCodeLine{01154 }
\DoxyCodeLine{01155         m\_lastRotateAngle   = 0;}
\DoxyCodeLine{01156         m\_originalCursorPos = m\_currentCursorPos;}
\DoxyCodeLine{01157         \mbox{\hyperlink{class_t_rect_t}{TRectD}} bbox         = m\_rotatedStroke-\/>\mbox{\hyperlink{class_t_stroke_a456bedcae5e8af3a84823cb251584957}{getBBox}}();}
\DoxyCodeLine{01158         m\_rotateCenter      = 0.5 * (bbox.getP11() + bbox.getP00());}
\DoxyCodeLine{01159       \}}
\DoxyCodeLine{01160 }
\DoxyCodeLine{01161       \textcolor{comment}{// rotate}}
\DoxyCodeLine{01162       \textcolor{comment}{// first, rotate the stroke back to original}}
\DoxyCodeLine{01163       m\_rotatedStroke-\/>\mbox{\hyperlink{class_t_stroke_a919f059066dc8dcabeb57ece1775d590}{transform}}(\mbox{\hyperlink{class_t_rotation}{TRotation}}(m\_rotateCenter, -\/m\_lastRotateAngle));}
\DoxyCodeLine{01164 }
\DoxyCodeLine{01165       \textcolor{comment}{// then, rotate it according to mouse position}}
\DoxyCodeLine{01166       \textcolor{comment}{// this formula is from: https://stackoverflow.com/a/31334882}}
\DoxyCodeLine{01167       \mbox{\hyperlink{class_t_point_t}{TPointD}} center = m\_rotateCenter;}
\DoxyCodeLine{01168       \mbox{\hyperlink{class_t_point_t}{TPointD}} org    = m\_originalCursorPos;}
\DoxyCodeLine{01169       \mbox{\hyperlink{class_t_point_t}{TPointD}} cur    = m\_currentCursorPos;}
\DoxyCodeLine{01170       \textcolor{keywordtype}{double} angle1  = atan2(cur.y -\/ center.y, cur.x -\/ center.x);}
\DoxyCodeLine{01171       \textcolor{keywordtype}{double} angle2  = atan2(org.y -\/ center.y, org.x -\/ center.x);}
\DoxyCodeLine{01172       \textcolor{keywordtype}{double} angle   = (angle1 -\/ angle2) * 180 / 3.14;}
\DoxyCodeLine{01173       \textcolor{keywordflow}{if} (e.isShiftPressed()) \{}
\DoxyCodeLine{01174         angle = ((int)angle / 45) * 45;}
\DoxyCodeLine{01175       \}}
\DoxyCodeLine{01176       m\_rotatedStroke-\/>\mbox{\hyperlink{class_t_stroke_a919f059066dc8dcabeb57ece1775d590}{transform}}(\mbox{\hyperlink{class_t_rotation}{TRotation}}(m\_rotateCenter, angle));}
\DoxyCodeLine{01177       m\_lastRotateAngle = angle;}
\DoxyCodeLine{01178       \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01179       \textcolor{keywordflow}{return};}
\DoxyCodeLine{01180     \}}
\DoxyCodeLine{01181 }
\DoxyCodeLine{01182     \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>mouseMove(p, e);}
\DoxyCodeLine{01183   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_a44e6cdcf48533cc90cda890d840967d2}\label{class_geometric_tool_a44e6cdcf48533cc90cda890d840967d2}} 
\index{GeometricTool@{GeometricTool}!onActivate@{onActivate}}
\index{onActivate@{onActivate}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{onActivate()}{onActivate()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::on\+Activate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Callback invoked whenever the tool activates. 



Reimplemented from \mbox{\hyperlink{class_t_tool_ac286a2681633b4db6106596b4f54e53b}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01185                              \{}
\DoxyCodeLine{01186     \textcolor{keywordflow}{if} (m\_firstTime) \{}
\DoxyCodeLine{01187       m\_param.m\_toolSize.setValue(GeometricSize);}
\DoxyCodeLine{01188       m\_param.m\_rasterToolSize.setValue(GeometricRasterSize);}
\DoxyCodeLine{01189       m\_param.m\_opacity.setValue(GeometricOpacity);}
\DoxyCodeLine{01190       m\_param.m\_hardness.setValue(GeometricBrushHardness);}
\DoxyCodeLine{01191       m\_param.m\_selective.setValue(GeometricSelective ? 1 : 0);}
\DoxyCodeLine{01192       m\_param.m\_rotate.setValue(GeometricRotate ? 1 : 0);}
\DoxyCodeLine{01193       m\_param.m\_autogroup.setValue(GeometricGroupIt ? 1 : 0);}
\DoxyCodeLine{01194       m\_param.m\_smooth.setValue(GeometricSmooth ? 1 : 0);}
\DoxyCodeLine{01195       m\_param.m\_autofill.setValue(GeometricAutofill ? 1 : 0);}
\DoxyCodeLine{01196       std::wstring typeCode = ::to\_wstring(GeometricType.getValue());}
\DoxyCodeLine{01197       m\_param.m\_type.setValue(typeCode);}
\DoxyCodeLine{01198       GeometricType = ::to\_string(typeCode);}
\DoxyCodeLine{01199       m\_typeCode    = typeCode;}
\DoxyCodeLine{01200       changeType(typeCode);}
\DoxyCodeLine{01201       m\_param.m\_edgeCount.setValue(GeometricEdgeCount);}
\DoxyCodeLine{01202       m\_param.m\_pencil.setValue(GeometricPencil ? 1 : 0);}
\DoxyCodeLine{01203       m\_param.m\_capStyle.setIndex(GeometricCapStyle);}
\DoxyCodeLine{01204       m\_param.m\_joinStyle.setIndex(GeometricJoinStyle);}
\DoxyCodeLine{01205       m\_param.m\_miterJoinLimit.setValue(GeometricMiterValue);}
\DoxyCodeLine{01206       m\_firstTime = \textcolor{keyword}{false};}
\DoxyCodeLine{01207       m\_param.m\_snap.setValue(GeometricSnap);}
\DoxyCodeLine{01208       \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_tool_ad84e5837b3ed638e3e73373c3195a589}{m\_targetType}} \& TTool::Vectors) \{}
\DoxyCodeLine{01209         m\_param.m\_snapSensitivity.setIndex(GeometricSnapSensitivity);}
\DoxyCodeLine{01210         \textcolor{keywordflow}{switch} (GeometricSnapSensitivity) \{}
\DoxyCodeLine{01211         \textcolor{keywordflow}{case} 0:}
\DoxyCodeLine{01212           m\_param.m\_minDistance2 = SNAPPING\_LOW;}
\DoxyCodeLine{01213           \textcolor{keywordflow}{break};}
\DoxyCodeLine{01214         \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{01215           m\_param.m\_minDistance2 = SNAPPING\_MEDIUM;}
\DoxyCodeLine{01216           \textcolor{keywordflow}{break};}
\DoxyCodeLine{01217         \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{01218           m\_param.m\_minDistance2 = SNAPPING\_HIGH;}
\DoxyCodeLine{01219           \textcolor{keywordflow}{break};}
\DoxyCodeLine{01220         \}}
\DoxyCodeLine{01221       \}}
\DoxyCodeLine{01222     \}}
\DoxyCodeLine{01223     m\_primitive-\/>resetSnap();}
\DoxyCodeLine{01224     \textcolor{comment}{/*-\/-\/}}
\DoxyCodeLine{01225 \textcolor{comment}{       ショートカットでいきなりスタート（＝onEnterを通らない場合）のとき、}}
\DoxyCodeLine{01226 \textcolor{comment}{            LineToolが反応しないことがある対策 -\/-\/*/}}
\DoxyCodeLine{01227     m\_active = (\mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false}) != 0 ||}
\DoxyCodeLine{01228                 Preferences::instance()-\/>isAutoCreateEnabled());}
\DoxyCodeLine{01229 }
\DoxyCodeLine{01230     \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>onActivate();}
\DoxyCodeLine{01231   \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00276}{TTool\+::get\+Image()}}, and \mbox{\hyperlink{l00558}{TTool\+::m\+\_\+target\+Type}}.

\mbox{\Hypertarget{class_geometric_tool_a6bf7ff90a711a913956582c44c799578}\label{class_geometric_tool_a6bf7ff90a711a913956582c44c799578}} 
\index{GeometricTool@{GeometricTool}!onDeactivate@{onDeactivate}}
\index{onDeactivate@{onDeactivate}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{onDeactivate()}{onDeactivate()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::on\+Deactivate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Callback for tool deactivation, includes tool switch. 



Reimplemented from \mbox{\hyperlink{class_t_tool_a00fee58728c1e12fb50846f47d7e9f5e}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01233                                \{}
\DoxyCodeLine{01234     \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>onDeactivate();}
\DoxyCodeLine{01235     m\_isRotatingOrMoving = \textcolor{keyword}{false};}
\DoxyCodeLine{01236     \textcolor{keyword}{delete} m\_rotatedStroke;}
\DoxyCodeLine{01237     m\_rotatedStroke = 0;}
\DoxyCodeLine{01238   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_aaf5fa3569d197433d70dd800eca8bbbc}\label{class_geometric_tool_aaf5fa3569d197433d70dd800eca8bbbc}} 
\index{GeometricTool@{GeometricTool}!onEnter@{onEnter}}
\index{onEnter@{onEnter}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{onEnter()}{onEnter()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::on\+Enter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Callback for the mouse entering the viewer area. 



Reimplemented from \mbox{\hyperlink{class_t_tool_a3e775cfcd05aa3c35048b11fa40ab3e4}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01240                           \{}
\DoxyCodeLine{01241     m\_active = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false}) != 0;}
\DoxyCodeLine{01242     \textcolor{keywordflow}{if} (m\_active \&\& m\_primitive) m\_primitive-\/>onEnter();}
\DoxyCodeLine{01243   \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00276}{TTool\+::get\+Image()}}.

\mbox{\Hypertarget{class_geometric_tool_a1ccbb4c129e97a1b9320f73ca2f170fd}\label{class_geometric_tool_a1ccbb4c129e97a1b9320f73ca2f170fd}} 
\index{GeometricTool@{GeometricTool}!onImageChanged@{onImageChanged}}
\index{onImageChanged@{onImageChanged}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{onImageChanged()}{onImageChanged()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::on\+Image\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Notifies changes in the image in use. 



Reimplemented from \mbox{\hyperlink{class_t_tool_aaf1e021290e74c1b085e4b095668e1ed}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01107                                  \{}
\DoxyCodeLine{01108     \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>onImageChanged();}
\DoxyCodeLine{01109 }
\DoxyCodeLine{01110     m\_isRotatingOrMoving = \textcolor{keyword}{false};}
\DoxyCodeLine{01111     \textcolor{keyword}{delete} m\_rotatedStroke;}
\DoxyCodeLine{01112     m\_rotatedStroke = 0;}
\DoxyCodeLine{01113 }
\DoxyCodeLine{01114     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01115   \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00540}{TTool\+::invalidate()}}.

\mbox{\Hypertarget{class_geometric_tool_ac845ff1c6b05f75e3c20097e2b48b8ce}\label{class_geometric_tool_ac845ff1c6b05f75e3c20097e2b48b8ce}} 
\index{GeometricTool@{GeometricTool}!onPropertyChanged@{onPropertyChanged}}
\index{onPropertyChanged@{onPropertyChanged}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{onPropertyChanged()}{onPropertyChanged()}}
{\footnotesize\ttfamily bool Geometric\+Tool\+::on\+Property\+Changed (\begin{DoxyParamCaption}\item[{std\+::string}]{property\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

\begin{DoxyVerb} Does the tasks associated to changes in \p propertyName and returns \p
\end{DoxyVerb}
 true; Does the tasks associated to changes in {\ttfamily property\+Name} and returns {\ttfamily true}. 

Reimplemented from \mbox{\hyperlink{class_t_tool_a06694e0586f807c34b18e16341aa9ee2}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01266                                                           \{}
\DoxyCodeLine{01267     \textcolor{comment}{/*-\/-\/-\/   変更されたPropertyごとに処理を分ける。}}
\DoxyCodeLine{01268 \textcolor{comment}{            注意：m\_toolSizeとm\_rasterToolSizeは同じName(="{}Size:"{})なので、}}
\DoxyCodeLine{01269 \textcolor{comment}{            扱っている画像がラスタかどうかで区別する -\/-\/-\/*/}}
\DoxyCodeLine{01270     \textcolor{keywordflow}{if} (propertyName == m\_param.m\_toolSize.getName()) \{}
\DoxyCodeLine{01271       \mbox{\hyperlink{class_t_smart_pointer_t}{TImageP}} img = \mbox{\hyperlink{class_t_tool_a947d2af39fd4df397577bbf8602abfd4}{getImage}}(\textcolor{keyword}{false});}
\DoxyCodeLine{01272       \mbox{\hyperlink{class_t_toonz_image_p}{TToonzImageP}} ri(img); \textcolor{comment}{/*-\/-\/ ラスタかどうかの判定 -\/-\/*/}}
\DoxyCodeLine{01273       \textcolor{keywordflow}{if} (ri)}
\DoxyCodeLine{01274         GeometricRasterSize = m\_param.m\_rasterToolSize.getValue();}
\DoxyCodeLine{01275       \textcolor{keywordflow}{else}}
\DoxyCodeLine{01276         GeometricSize = m\_param.m\_toolSize.getValue();}
\DoxyCodeLine{01277     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_type.getName()) \{}
\DoxyCodeLine{01278       std::wstring typeCode = m\_param.m\_type.getValue();}
\DoxyCodeLine{01279       GeometricType         = ::to\_string(typeCode);}
\DoxyCodeLine{01280       \textcolor{keywordflow}{if} (typeCode != m\_typeCode) \{}
\DoxyCodeLine{01281         m\_typeCode = typeCode;}
\DoxyCodeLine{01282         changeType(typeCode);}
\DoxyCodeLine{01283       \}}
\DoxyCodeLine{01284     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_edgeCount.getName())}
\DoxyCodeLine{01285       GeometricEdgeCount = m\_param.m\_edgeCount.getValue();}
\DoxyCodeLine{01286     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_rotate.getName())}
\DoxyCodeLine{01287       GeometricRotate = m\_param.m\_rotate.getValue();}
\DoxyCodeLine{01288     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_autogroup.getName()) \{}
\DoxyCodeLine{01289       \textcolor{keywordflow}{if} (!m\_param.m\_autogroup.getValue()) \{}
\DoxyCodeLine{01290         m\_param.m\_autofill.setValue(\textcolor{keyword}{false});}
\DoxyCodeLine{01291         \textcolor{comment}{// this is ugly: it's needed to refresh the GUI of the toolbar after}}
\DoxyCodeLine{01292         \textcolor{comment}{// having set to false the autofill...}}
\DoxyCodeLine{01293         TTool::getApplication()-\/>getCurrentTool()-\/>setTool(}
\DoxyCodeLine{01294             \textcolor{stringliteral}{"{}"{}});  \textcolor{comment}{// necessary, otherwise next setTool is ignored...}}
\DoxyCodeLine{01295         TTool::getApplication()-\/>getCurrentTool()-\/>setTool(}
\DoxyCodeLine{01296             QString::fromStdString(getName()));}
\DoxyCodeLine{01297       \}}
\DoxyCodeLine{01298       GeometricGroupIt = m\_param.m\_autogroup.getValue();}
\DoxyCodeLine{01299     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_autofill.getName()) \{}
\DoxyCodeLine{01300       \textcolor{keywordflow}{if} (m\_param.m\_autofill.getValue()) \{}
\DoxyCodeLine{01301         m\_param.m\_autogroup.setValue(\textcolor{keyword}{true});}
\DoxyCodeLine{01302         \textcolor{comment}{// this is ugly: it's needed to refresh the GUI of the toolbar after}}
\DoxyCodeLine{01303         \textcolor{comment}{// having set to false the autofill...}}
\DoxyCodeLine{01304         TTool::getApplication()-\/>getCurrentTool()-\/>setTool(}
\DoxyCodeLine{01305             \textcolor{stringliteral}{"{}"{}});  \textcolor{comment}{// necessary, otherwise next setTool is ignored...}}
\DoxyCodeLine{01306         TTool::getApplication()-\/>getCurrentTool()-\/>setTool(}
\DoxyCodeLine{01307             QString::fromStdString(getName()));}
\DoxyCodeLine{01308       \}}
\DoxyCodeLine{01309       GeometricGroupIt = m\_param.m\_autofill.getValue();}
\DoxyCodeLine{01310     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_smooth.getName()) \{}
\DoxyCodeLine{01311       GeometricSmooth = m\_param.m\_smooth.getValue();}
\DoxyCodeLine{01312     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_selective.getName())}
\DoxyCodeLine{01313       GeometricSelective = m\_param.m\_selective.getValue();}
\DoxyCodeLine{01314     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_pencil.getName())}
\DoxyCodeLine{01315       GeometricPencil = m\_param.m\_pencil.getValue();}
\DoxyCodeLine{01316     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_hardness.getName())}
\DoxyCodeLine{01317       GeometricBrushHardness = m\_param.m\_hardness.getValue();}
\DoxyCodeLine{01318     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_opacity.getName())}
\DoxyCodeLine{01319       GeometricOpacity = m\_param.m\_opacity.getValue();}
\DoxyCodeLine{01320     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_capStyle.getName())}
\DoxyCodeLine{01321       GeometricCapStyle = m\_param.m\_capStyle.getIndex();}
\DoxyCodeLine{01322     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_joinStyle.getName())}
\DoxyCodeLine{01323       GeometricJoinStyle = m\_param.m\_joinStyle.getIndex();}
\DoxyCodeLine{01324     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_miterJoinLimit.getName())}
\DoxyCodeLine{01325       GeometricMiterValue = m\_param.m\_miterJoinLimit.getValue();}
\DoxyCodeLine{01326     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_snap.getName())}
\DoxyCodeLine{01327       GeometricSnap = m\_param.m\_snap.getValue();}
\DoxyCodeLine{01328     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (propertyName == m\_param.m\_snapSensitivity.getName()) \{}
\DoxyCodeLine{01329       GeometricSnapSensitivity = m\_param.m\_snapSensitivity.getIndex();}
\DoxyCodeLine{01330       \textcolor{keywordflow}{switch} (GeometricSnapSensitivity) \{}
\DoxyCodeLine{01331       \textcolor{keywordflow}{case} 0:}
\DoxyCodeLine{01332         m\_param.m\_minDistance2 = SNAPPING\_LOW;}
\DoxyCodeLine{01333         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01334       \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{01335         m\_param.m\_minDistance2 = SNAPPING\_MEDIUM;}
\DoxyCodeLine{01336         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01337       \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{01338         m\_param.m\_minDistance2 = SNAPPING\_HIGH;}
\DoxyCodeLine{01339         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01340       \}}
\DoxyCodeLine{01341     \}}
\DoxyCodeLine{01342 }
\DoxyCodeLine{01343     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01344   \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00276}{TTool\+::get\+Image()}}.

\mbox{\Hypertarget{class_geometric_tool_ac08d11c96329e1c5170f1cc253e97e03}\label{class_geometric_tool_ac08d11c96329e1c5170f1cc253e97e03}} 
\index{GeometricTool@{GeometricTool}!preLeftButtonDown@{preLeftButtonDown}}
\index{preLeftButtonDown@{preLeftButtonDown}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{preLeftButtonDown()}{preLeftButtonDown()}}
{\footnotesize\ttfamily bool Geometric\+Tool\+::pre\+Left\+Button\+Down (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

This method is called before left\+Button\+Down() and can be used e.\+g. to create the image if needed. return true if the method execution can have changed the current tool 

Reimplemented from \mbox{\hyperlink{class_t_tool_a11d2c27110689caf7fa6f49519808073}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01057                                     \{}
\DoxyCodeLine{01058     \textcolor{keywordflow}{if} (getViewer() \&\& getViewer()-\/>getGuidedStrokePickerMode()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{01059     \textcolor{keywordflow}{if} (getApplication()-\/>getCurrentObject()-\/>isSpline()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01060 }
\DoxyCodeLine{01061     \textcolor{comment}{// in the halfway through the drawing of Polyline / MultiArc primitive, OT}}
\DoxyCodeLine{01062     \textcolor{comment}{// should not call touchImage or the m\_frameCreated / m\_levelCreated flags}}
\DoxyCodeLine{01063     \textcolor{comment}{// will be reset.}}
\DoxyCodeLine{01064     \textcolor{keywordflow}{if} (m\_primitive \&\& !m\_primitive-\/>canTouchImageOnPreLeftClick()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01065     \textcolor{comment}{// NEEDS to be done even if(m\_active), due}}
\DoxyCodeLine{01066     \textcolor{comment}{// to the HORRIBLE m\_frameCreated / m\_levelCreated}}
\DoxyCodeLine{01067     \textcolor{comment}{// mechanism. touchImage() is the ONLY function}}
\DoxyCodeLine{01068     \textcolor{comment}{// resetting them to false...                       >\_<}}
\DoxyCodeLine{01069     m\_active = !!\mbox{\hyperlink{class_t_tool_a668ac4790094a864ba6e37bd902303f1}{touchImage}}();}
\DoxyCodeLine{01070     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{01071   \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00294}{TTool\+::touch\+Image()}}.

\mbox{\Hypertarget{class_geometric_tool_a7a667f97bf19002127f167348c46a1d0}\label{class_geometric_tool_a7a667f97bf19002127f167348c46a1d0}} 
\index{GeometricTool@{GeometricTool}!rightButtonDown@{rightButtonDown}}
\index{rightButtonDown@{rightButtonDown}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{rightButtonDown()}{rightButtonDown()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::right\+Button\+Down (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_point_t}{TPointD}} \&}]{p,  }\item[{const \mbox{\hyperlink{class_t_mouse_event}{TMouse\+Event}} \&}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01117                                                                         \{}
\DoxyCodeLine{01118     \textcolor{keywordflow}{if} (m\_primitive) m\_primitive-\/>rightButtonDown(p, e);}
\DoxyCodeLine{01119     \mbox{\hyperlink{class_t_tool_a3e791336c642542c5648aa8ea86e2348}{invalidate}}();}
\DoxyCodeLine{01120   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_geometric_tool_a5d92f0282b4701b1a6e4d68a72ecab5b}\label{class_geometric_tool_a5d92f0282b4701b1a6e4d68a72ecab5b}} 
\index{GeometricTool@{GeometricTool}!updateTranslation@{updateTranslation}}
\index{updateTranslation@{updateTranslation}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{updateTranslation()}{updateTranslation()}}
{\footnotesize\ttfamily void Geometric\+Tool\+::update\+Translation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_tool}{TTool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01037 \{ m\_param.updateTranslation(); \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_geometric_tool_ac71ddab5958b6328855af4073a7c3286}\label{class_geometric_tool_ac71ddab5958b6328855af4073a7c3286}} 
\index{GeometricTool@{GeometricTool}!m\_active@{m\_active}}
\index{m\_active@{m\_active}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_active}{m\_active}}
{\footnotesize\ttfamily bool Geometric\+Tool\+::m\+\_\+active\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_a23c46d4afae83c9a986ad0e2aa9cb4a0}\label{class_geometric_tool_a23c46d4afae83c9a986ad0e2aa9cb4a0}} 
\index{GeometricTool@{GeometricTool}!m\_color@{m\_color}}
\index{m\_color@{m\_color}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_color}{m\_color}}
{\footnotesize\ttfamily TPixel32 Geometric\+Tool\+::m\+\_\+color\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_a90c523178e7cff5659b8974194aa6371}\label{class_geometric_tool_a90c523178e7cff5659b8974194aa6371}} 
\index{GeometricTool@{GeometricTool}!m\_currentCursorPos@{m\_currentCursorPos}}
\index{m\_currentCursorPos@{m\_currentCursorPos}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_currentCursorPos}{m\_currentCursorPos}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} Geometric\+Tool\+::m\+\_\+current\+Cursor\+Pos\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_ab75fe90b8f8a60d9111a36dbb139761c}\label{class_geometric_tool_ab75fe90b8f8a60d9111a36dbb139761c}} 
\index{GeometricTool@{GeometricTool}!m\_firstTime@{m\_firstTime}}
\index{m\_firstTime@{m\_firstTime}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_firstTime}{m\_firstTime}}
{\footnotesize\ttfamily bool Geometric\+Tool\+::m\+\_\+first\+Time\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_ab12f51787e8c9131d779887de00fea89}\label{class_geometric_tool_ab12f51787e8c9131d779887de00fea89}} 
\index{GeometricTool@{GeometricTool}!m\_isRotatingOrMoving@{m\_isRotatingOrMoving}}
\index{m\_isRotatingOrMoving@{m\_isRotatingOrMoving}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_isRotatingOrMoving}{m\_isRotatingOrMoving}}
{\footnotesize\ttfamily bool Geometric\+Tool\+::m\+\_\+is\+Rotating\+Or\+Moving\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_a880566a8584c0d92aca75fc65b44c924}\label{class_geometric_tool_a880566a8584c0d92aca75fc65b44c924}} 
\index{GeometricTool@{GeometricTool}!m\_lastMoveStrokePos@{m\_lastMoveStrokePos}}
\index{m\_lastMoveStrokePos@{m\_lastMoveStrokePos}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_lastMoveStrokePos}{m\_lastMoveStrokePos}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} Geometric\+Tool\+::m\+\_\+last\+Move\+Stroke\+Pos\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_aef4fc214d06ce07eded168e0ef3b3717}\label{class_geometric_tool_aef4fc214d06ce07eded168e0ef3b3717}} 
\index{GeometricTool@{GeometricTool}!m\_lastRotateAngle@{m\_lastRotateAngle}}
\index{m\_lastRotateAngle@{m\_lastRotateAngle}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_lastRotateAngle}{m\_lastRotateAngle}}
{\footnotesize\ttfamily double Geometric\+Tool\+::m\+\_\+last\+Rotate\+Angle\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_aa3b3cce63f1884579c273169f6f2eac1}\label{class_geometric_tool_aa3b3cce63f1884579c273169f6f2eac1}} 
\index{GeometricTool@{GeometricTool}!m\_originalCursorPos@{m\_originalCursorPos}}
\index{m\_originalCursorPos@{m\_originalCursorPos}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_originalCursorPos}{m\_originalCursorPos}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} Geometric\+Tool\+::m\+\_\+original\+Cursor\+Pos\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_a211c664e6d5ab38d40fcbe42875ae917}\label{class_geometric_tool_a211c664e6d5ab38d40fcbe42875ae917}} 
\index{GeometricTool@{GeometricTool}!m\_param@{m\_param}}
\index{m\_param@{m\_param}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_param}{m\_param}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_primitive_param}{Primitive\+Param}} Geometric\+Tool\+::m\+\_\+param\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_a002b530210b9393fae3bfcd4965d9a4a}\label{class_geometric_tool_a002b530210b9393fae3bfcd4965d9a4a}} 
\index{GeometricTool@{GeometricTool}!m\_primitive@{m\_primitive}}
\index{m\_primitive@{m\_primitive}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_primitive}{m\_primitive}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_primitive}{Primitive}}$\ast$ Geometric\+Tool\+::m\+\_\+primitive\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_a6b5faf190334f16b6a991d5908219e08}\label{class_geometric_tool_a6b5faf190334f16b6a991d5908219e08}} 
\index{GeometricTool@{GeometricTool}!m\_primitiveTable@{m\_primitiveTable}}
\index{m\_primitiveTable@{m\_primitiveTable}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_primitiveTable}{m\_primitiveTable}}
{\footnotesize\ttfamily std\+::map$<$std\+::wstring, \mbox{\hyperlink{class_primitive}{Primitive}} $\ast$$>$ Geometric\+Tool\+::m\+\_\+primitive\+Table\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_a2d0995afd4f5b9ebbd9193e869f297e7}\label{class_geometric_tool_a2d0995afd4f5b9ebbd9193e869f297e7}} 
\index{GeometricTool@{GeometricTool}!m\_rotateCenter@{m\_rotateCenter}}
\index{m\_rotateCenter@{m\_rotateCenter}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_rotateCenter}{m\_rotateCenter}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_point_t}{TPointD}} Geometric\+Tool\+::m\+\_\+rotate\+Center\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_a3b855883fa1fd8d70e6ccd8874397d82}\label{class_geometric_tool_a3b855883fa1fd8d70e6ccd8874397d82}} 
\index{GeometricTool@{GeometricTool}!m\_rotatedStroke@{m\_rotatedStroke}}
\index{m\_rotatedStroke@{m\_rotatedStroke}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_rotatedStroke}{m\_rotatedStroke}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_stroke}{TStroke}}$\ast$ Geometric\+Tool\+::m\+\_\+rotated\+Stroke\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_ae9674ccee07b94d307ccc5e771ce57f1}\label{class_geometric_tool_ae9674ccee07b94d307ccc5e771ce57f1}} 
\index{GeometricTool@{GeometricTool}!m\_typeCode@{m\_typeCode}}
\index{m\_typeCode@{m\_typeCode}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_typeCode}{m\_typeCode}}
{\footnotesize\ttfamily std\+::wstring Geometric\+Tool\+::m\+\_\+type\+Code\hspace{0.3cm}{\ttfamily [protected]}}

\mbox{\Hypertarget{class_geometric_tool_aa76d1d1a170a11ba86f85b3d36346d03}\label{class_geometric_tool_aa76d1d1a170a11ba86f85b3d36346d03}} 
\index{GeometricTool@{GeometricTool}!m\_wasCtrlPressed@{m\_wasCtrlPressed}}
\index{m\_wasCtrlPressed@{m\_wasCtrlPressed}!GeometricTool@{GeometricTool}}
\doxysubsubsection{\texorpdfstring{m\_wasCtrlPressed}{m\_wasCtrlPressed}}
{\footnotesize\ttfamily bool Geometric\+Tool\+::m\+\_\+was\+Ctrl\+Pressed\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/tnztools/geometrictool.\+cpp\end{DoxyCompactItemize}
