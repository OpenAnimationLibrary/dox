\hypertarget{class_shortcut_viewer}{}\doxysection{Shortcut\+Viewer Class Reference}
\label{class_shortcut_viewer}\index{ShortcutViewer@{ShortcutViewer}}
Inheritance diagram for Shortcut\+Viewer\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_shortcut_viewer}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_shortcut_viewer_ad2d77d06b89e62e693ac4c5252c81fe3}{set\+Action}} (QAction $\ast$action)
\item 
void \mbox{\hyperlink{class_shortcut_viewer_a3cbe7682f431e0207712477753272089}{remove\+Shortcut}} ()
\item 
void \mbox{\hyperlink{class_shortcut_viewer_a46cd81ec1785e9ddf51d5513f4444ec9}{on\+Editing\+Finished}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_shortcut_viewer_acc4ef51c6aea43b60d216b2836485b90}\label{class_shortcut_viewer_acc4ef51c6aea43b60d216b2836485b90}} 
void {\bfseries shortcut\+Changed} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_shortcut_viewer_abd24758c2e4d5b04507921bcc9740c61}{Shortcut\+Viewer}} (QWidget $\ast$parent)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_shortcut_viewer_acc802a1785b674608b707fb3138517a3}{enter\+Event}} (QEvent $\ast$event) override
\item 
void \mbox{\hyperlink{class_shortcut_viewer_a82f5c2b2d35352ebb66c0c97ed132d53}{leave\+Event}} (QEvent $\ast$event) override
\item 
void \mbox{\hyperlink{class_shortcut_viewer_a21550db089528110e9663cc3e9c23b9f}{key\+Press\+Event}} (QKey\+Event $\ast$event) override
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_shortcut_viewer_abd24758c2e4d5b04507921bcc9740c61}\label{class_shortcut_viewer_abd24758c2e4d5b04507921bcc9740c61}} 
\index{ShortcutViewer@{ShortcutViewer}!ShortcutViewer@{ShortcutViewer}}
\index{ShortcutViewer@{ShortcutViewer}!ShortcutViewer@{ShortcutViewer}}
\doxysubsubsection{\texorpdfstring{ShortcutViewer()}{ShortcutViewer()}}
{\footnotesize\ttfamily Shortcut\+Viewer\+::\+Shortcut\+Viewer (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00076     : QKeySequenceEdit(parent), m\_action(0) \{}
\DoxyCodeLine{00077   setObjectName(\textcolor{stringliteral}{"{}ShortcutViewer"{}});}
\DoxyCodeLine{00078   setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Expanding);}
\DoxyCodeLine{00079   connect(\textcolor{keyword}{this}, SIGNAL(editingFinished()), \textcolor{keyword}{this}, SLOT(onEditingFinished()));}
\DoxyCodeLine{00080 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shortcut_viewer_aeb1475fc70112f6aff2abb5c3d16b328}\label{class_shortcut_viewer_aeb1475fc70112f6aff2abb5c3d16b328}} 
\index{ShortcutViewer@{ShortcutViewer}!````~ShortcutViewer@{$\sim$ShortcutViewer}}
\index{````~ShortcutViewer@{$\sim$ShortcutViewer}!ShortcutViewer@{ShortcutViewer}}
\doxysubsubsection{\texorpdfstring{$\sim$ShortcutViewer()}{~ShortcutViewer()}}
{\footnotesize\ttfamily Shortcut\+Viewer\+::$\sim$\+Shortcut\+Viewer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00084 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_shortcut_viewer_acc802a1785b674608b707fb3138517a3}\label{class_shortcut_viewer_acc802a1785b674608b707fb3138517a3}} 
\index{ShortcutViewer@{ShortcutViewer}!enterEvent@{enterEvent}}
\index{enterEvent@{enterEvent}!ShortcutViewer@{ShortcutViewer}}
\doxysubsubsection{\texorpdfstring{enterEvent()}{enterEvent()}}
{\footnotesize\ttfamily void Shortcut\+Viewer\+::enter\+Event (\begin{DoxyParamCaption}\item[{QEvent $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00166                                              \{}
\DoxyCodeLine{00167   setFocus();}
\DoxyCodeLine{00168   update();}
\DoxyCodeLine{00169 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shortcut_viewer_a21550db089528110e9663cc3e9c23b9f}\label{class_shortcut_viewer_a21550db089528110e9663cc3e9c23b9f}} 
\index{ShortcutViewer@{ShortcutViewer}!keyPressEvent@{keyPressEvent}}
\index{keyPressEvent@{keyPressEvent}!ShortcutViewer@{ShortcutViewer}}
\doxysubsubsection{\texorpdfstring{keyPressEvent()}{keyPressEvent()}}
{\footnotesize\ttfamily void Shortcut\+Viewer\+::key\+Press\+Event (\begin{DoxyParamCaption}\item[{QKey\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00102                                                    \{}
\DoxyCodeLine{00103   \textcolor{keywordtype}{int} key                         = \textcolor{keyword}{event}-\/>key();}
\DoxyCodeLine{00104   Qt::KeyboardModifiers modifiers = \textcolor{keyword}{event}-\/>modifiers();}
\DoxyCodeLine{00105   \textcolor{keywordflow}{if} (key == Qt::Key\_Home || key == Qt::Key\_End || key == Qt::Key\_PageDown ||}
\DoxyCodeLine{00106       key == Qt::Key\_PageUp || key == Qt::Key\_Escape || key == Qt::Key\_Print ||}
\DoxyCodeLine{00107       key == Qt::Key\_Pause || key == Qt::Key\_ScrollLock) \{}
\DoxyCodeLine{00108     \textcolor{keyword}{event}-\/>ignore();}
\DoxyCodeLine{00109     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00110   \}}
\DoxyCodeLine{00111   \textcolor{comment}{// If "{}Use Numpad and Tab keys for Switching Styles"{} option is activated,}}
\DoxyCodeLine{00112   \textcolor{comment}{// then prevent to assign such keys}}
\DoxyCodeLine{00113   \textcolor{keywordflow}{if} (Preferences::instance()-\/>isUseNumpadForSwitchingStylesEnabled() \&\&}
\DoxyCodeLine{00114       modifiers == 0 \&\& (key >= Qt::Key\_0 \&\& key <= Qt::Key\_9)) \{}
\DoxyCodeLine{00115     \textcolor{keyword}{event}-\/>ignore();}
\DoxyCodeLine{00116     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00117   \}}
\DoxyCodeLine{00118   QKeySequenceEdit::keyPressEvent(event);}
\DoxyCodeLine{00119 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shortcut_viewer_a82f5c2b2d35352ebb66c0c97ed132d53}\label{class_shortcut_viewer_a82f5c2b2d35352ebb66c0c97ed132d53}} 
\index{ShortcutViewer@{ShortcutViewer}!leaveEvent@{leaveEvent}}
\index{leaveEvent@{leaveEvent}!ShortcutViewer@{ShortcutViewer}}
\doxysubsubsection{\texorpdfstring{leaveEvent()}{leaveEvent()}}
{\footnotesize\ttfamily void Shortcut\+Viewer\+::leave\+Event (\begin{DoxyParamCaption}\item[{QEvent $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00173 \{ update(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shortcut_viewer_a46cd81ec1785e9ddf51d5513f4444ec9}\label{class_shortcut_viewer_a46cd81ec1785e9ddf51d5513f4444ec9}} 
\index{ShortcutViewer@{ShortcutViewer}!onEditingFinished@{onEditingFinished}}
\index{onEditingFinished@{onEditingFinished}!ShortcutViewer@{ShortcutViewer}}
\doxysubsubsection{\texorpdfstring{onEditingFinished}{onEditingFinished}}
{\footnotesize\ttfamily void Shortcut\+Viewer\+::on\+Editing\+Finished (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00123                                        \{}
\DoxyCodeLine{00124   \textcolor{comment}{// limit to one shortcut key input}}
\DoxyCodeLine{00125   QKeySequence keys = (keySequence().isEmpty())}
\DoxyCodeLine{00126                           ? QKeySequence()}
\DoxyCodeLine{00127                           : QKeySequence(keySequence()[0]);}
\DoxyCodeLine{00128 }
\DoxyCodeLine{00129   \textcolor{keywordflow}{if} (m\_action) \{}
\DoxyCodeLine{00130     \mbox{\hyperlink{class_command_manager}{CommandManager}} *cm         = CommandManager::instance();}
\DoxyCodeLine{00131     std::string shortcutString = keys.toString().toStdString();}
\DoxyCodeLine{00132     QAction *oldAction =}
\DoxyCodeLine{00133         cm-\/>getActionFromShortcut(keys.toString().toStdString());}
\DoxyCodeLine{00134     \textcolor{keywordflow}{if} (oldAction == m\_action) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00135     \textcolor{keywordflow}{if} (oldAction) \{}
\DoxyCodeLine{00136       QString msg = tr(\textcolor{stringliteral}{"{}\%1 is already assigned to '\%2'\(\backslash\)nAssign to '\%3'?"{}})}
\DoxyCodeLine{00137                         .arg(keys.toString())}
\DoxyCodeLine{00138                         .arg(oldAction-\/>iconText())}
\DoxyCodeLine{00139                         .arg(m\_action-\/>iconText());}
\DoxyCodeLine{00140       \textcolor{keywordtype}{int} ret = DVGui::MsgBox(msg, tr(\textcolor{stringliteral}{"{}Yes"{}}), tr(\textcolor{stringliteral}{"{}No"{}}), 1);}
\DoxyCodeLine{00141       activateWindow();}
\DoxyCodeLine{00142       \textcolor{keywordflow}{if} (ret == 2 || ret == 0) \{}
\DoxyCodeLine{00143         setKeySequence(m\_action-\/>shortcut());}
\DoxyCodeLine{00144         setFocus();}
\DoxyCodeLine{00145         \textcolor{keywordflow}{return};}
\DoxyCodeLine{00146       \}}
\DoxyCodeLine{00147     \}}
\DoxyCodeLine{00148     CommandManager::instance()-\/>setShortcut(m\_action, shortcutString);}
\DoxyCodeLine{00149     emit shortcutChanged();}
\DoxyCodeLine{00150   \}}
\DoxyCodeLine{00151   setKeySequence(keys);}
\DoxyCodeLine{00152 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shortcut_viewer_a3cbe7682f431e0207712477753272089}\label{class_shortcut_viewer_a3cbe7682f431e0207712477753272089}} 
\index{ShortcutViewer@{ShortcutViewer}!removeShortcut@{removeShortcut}}
\index{removeShortcut@{removeShortcut}!ShortcutViewer@{ShortcutViewer}}
\doxysubsubsection{\texorpdfstring{removeShortcut}{removeShortcut}}
{\footnotesize\ttfamily void Shortcut\+Viewer\+::remove\+Shortcut (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00156                                     \{}
\DoxyCodeLine{00157   \textcolor{keywordflow}{if} (m\_action) \{}
\DoxyCodeLine{00158     CommandManager::instance()-\/>setShortcut(m\_action, \textcolor{stringliteral}{"{}"{}}, \textcolor{keyword}{false});}
\DoxyCodeLine{00159     emit shortcutChanged();}
\DoxyCodeLine{00160     clear();}
\DoxyCodeLine{00161   \}}
\DoxyCodeLine{00162 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_shortcut_viewer_ad2d77d06b89e62e693ac4c5252c81fe3}\label{class_shortcut_viewer_ad2d77d06b89e62e693ac4c5252c81fe3}} 
\index{ShortcutViewer@{ShortcutViewer}!setAction@{setAction}}
\index{setAction@{setAction}!ShortcutViewer@{ShortcutViewer}}
\doxysubsubsection{\texorpdfstring{setAction}{setAction}}
{\footnotesize\ttfamily void Shortcut\+Viewer\+::set\+Action (\begin{DoxyParamCaption}\item[{QAction $\ast$}]{action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00088                                               \{}
\DoxyCodeLine{00089   m\_action = action;}
\DoxyCodeLine{00090   \textcolor{keywordflow}{if} (m\_action) \{}
\DoxyCodeLine{00091     setEnabled(\textcolor{keyword}{true});}
\DoxyCodeLine{00092     setKeySequence(m\_action-\/>shortcut());}
\DoxyCodeLine{00093     setFocus();}
\DoxyCodeLine{00094   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00095     setEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00096     setKeySequence(QKeySequence());}
\DoxyCodeLine{00097   \}}
\DoxyCodeLine{00098 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/shortcutpopup.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/shortcutpopup.\+cpp\end{DoxyCompactItemize}
