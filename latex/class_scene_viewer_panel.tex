\hypertarget{class_scene_viewer_panel}{}\doxysection{Scene\+Viewer\+Panel Class Reference}
\label{class_scene_viewer_panel}\index{SceneViewerPanel@{SceneViewerPanel}}
Inheritance diagram for Scene\+Viewer\+Panel\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_scene_viewer_panel}
\end{center}
\end{figure}
\doxysubsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a59c251604188867d28ac29ba993aafc4}{change\+Window\+Title}} ()
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a7ad2fcd0ad8058fee5a890e69c653d4f}{on\+Scene\+Changed}} ()
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a234f008835973039a7f3a9d031e695c4}{on\+Xsh\+Level\+Switched}} (\mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_aba7dbba0c2b11ba152e84678599f0424}{update\+Frame\+Range}} ()
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_af2e5aaaae297bc9e569442889b3beff8}{update\+Frame\+Markers}} ()
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a83cceaa843c332d47a4edc45114b81c0}{on\+Button\+Pressed}} (Flip\+Console\+::\+EGadget button)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_afa27a2c29b68576b041c47dda5308d13}{set\+Flip\+HButton\+Checked}} (bool checked)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a325c17a1e6db7fd601d3c39b9619d950}{set\+Flip\+VButton\+Checked}} (bool checked)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_scene_viewer_panel_a8676e69610d7e09f2f9222296deb752f}{Scene\+Viewer\+Panel}} (QWidget $\ast$parent=0, Qt\+::\+WFlags flags=0)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_aebf4b2dd5d728616578749649a6aa2a5}{set\+Visible\+Parts\+Flag}} (UINT flag)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a02794c6982278819c7450ab1072da45e}{update\+Show\+Hide}} ()
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_adeb21e01bb94f3f5425c6372c2b39b64}{add\+Show\+Hide\+Context\+Menu}} (QMenu $\ast$)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_aa0f9d5122ca20e3d57bbc7758c10f813}{on\+Draw\+Frame}} (int frame, const \mbox{\hyperlink{class_image_painter_1_1_visual_settings}{Image\+Painter\+::\+Visual\+Settings}} \&settings, QElapsed\+Timer $\ast$timer, qint64 target\+Instant) override
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a2bfb61ab252334b4a4eb5e7935602f54}{on\+Enter\+Panel}} ()
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_ac7c43daf7745db82af90b0b3a41ba9ef}{on\+Leave\+Panel}} ()
\item 
virtual void \mbox{\hyperlink{class_scene_viewer_panel_a552b1649486e956024bb2ec4122d1698}{save}} (QSettings \&settings) const override
\item 
virtual void \mbox{\hyperlink{class_scene_viewer_panel_ad5838c31fe8a18cfcdab0731602f202e}{load}} (QSettings \&settings) override
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a2bc398b76f7ed0288eb574afbfeb7180}{initialize\+Title\+Bar}} (\mbox{\hyperlink{class_t_panel_title_bar}{TPanel\+Title\+Bar}} $\ast$title\+Bar)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a587bf76412f4c820cbb8d0435eecbd7b}{on\+Frame\+Switched}} ()
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a49724f159dab8f40912634294054089f}{on\+Scene\+Switched}} ()
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a06ea1a590a8977ef53069714392756a7}{on\+Frame\+Type\+Changed}} ()
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a322398eacb01c06547033b97a1fb2f03}{on\+Playing\+Status\+Changed}} (bool playing)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_accdec972dc698a9ef4a1e5e751bbe62d}{on\+Show\+Hide\+Action\+Triggered}} (QAction $\ast$)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a507a60a805bac4610fc7c274c116bf74}{enable\+Full\+Preview}} (bool enabled)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_ae00c3c9b07e714e854749c0cc8c2ec55}{enable\+Sub\+Camera\+Preview}} (bool enabled)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a708f71ba0077487f574ca07d170502c6}{show\+Event}} (QShow\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a83c7e2bcb88bcd3f100d3f82677026a1}{hide\+Event}} (QHide\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a1b32e077401a0f55018f9c3f8c86f8ad}{resize\+Event}} (QResize\+Event $\ast$) override
\item 
\mbox{\Hypertarget{class_scene_viewer_panel_acb7caba6f634328b3b2b46d8c5bb8b0f}\label{class_scene_viewer_panel_acb7caba6f634328b3b2b46d8c5bb8b0f}} 
void {\bfseries create\+Frame\+Tool\+Bar} ()
\item 
\mbox{\Hypertarget{class_scene_viewer_panel_a00a8fbd504cf371fa21c680b94444583}\label{class_scene_viewer_panel_a00a8fbd504cf371fa21c680b94444583}} 
void {\bfseries create\+Play\+Tool\+Bar} ()
\item 
\mbox{\Hypertarget{class_scene_viewer_panel_a5db2a0d3d9c24adbeeae32f4f0bec671}\label{class_scene_viewer_panel_a5db2a0d3d9c24adbeeae32f4f0bec671}} 
void {\bfseries add\+Color\+Mask\+Button} (QWidget $\ast$parent, const char $\ast$icon\+SVGName, int id)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a78396696d8713c1465cc294b98f37466}{enable\+Flip\+Console\+For\+Camerastand}} (bool on)
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_a12a9c8e3fe86f561c0f801ecad6ead4e}{play\+Audio\+Frame}} (int frame)
\item 
bool \mbox{\hyperlink{class_scene_viewer_panel_addf1f850ac3472d20b931927d7ee8731}{has\+Soundtrack}} ()
\item 
void \mbox{\hyperlink{class_scene_viewer_panel_ae30de76ec5036af6b9d24f73e67a8143}{context\+Menu\+Event}} (QContext\+Menu\+Event $\ast$event) override
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_scene_viewer_panel_aa99b761870fea5cd69926daa161991e7}{Scene\+Viewer}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_scene_viewer_panel_a8676e69610d7e09f2f9222296deb752f}\label{class_scene_viewer_panel_a8676e69610d7e09f2f9222296deb752f}} 
\index{SceneViewerPanel@{SceneViewerPanel}!SceneViewerPanel@{SceneViewerPanel}}
\index{SceneViewerPanel@{SceneViewerPanel}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{SceneViewerPanel()}{SceneViewerPanel()}}
{\footnotesize\ttfamily Scene\+Viewer\+Panel\+::\+Scene\+Viewer\+Panel (\begin{DoxyParamCaption}\item[{QWidget $\ast$}]{parent = {\ttfamily 0},  }\item[{Qt\+::\+WFlags}]{flags = {\ttfamily 0} }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00089     : QFrame(parent) \{}
\DoxyCodeLine{00090   setFrameStyle(QFrame::StyledPanel);}
\DoxyCodeLine{00091   setObjectName(\textcolor{stringliteral}{"{}ViewerPanel"{}});}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093   QVBoxLayout *mainLayout = \textcolor{keyword}{new} QVBoxLayout(\textcolor{keyword}{this});}
\DoxyCodeLine{00094   mainLayout-\/>setMargin(0);}
\DoxyCodeLine{00095   mainLayout-\/>setSpacing(0);}
\DoxyCodeLine{00096 }
\DoxyCodeLine{00097   \textcolor{comment}{// Viewer}}
\DoxyCodeLine{00098   QWidget *viewer      = \textcolor{keyword}{new} QWidget(\textcolor{keyword}{this});}
\DoxyCodeLine{00099   QGridLayout *viewerL = \textcolor{keyword}{new} QGridLayout(viewer);}
\DoxyCodeLine{00100 }
\DoxyCodeLine{00101   \mbox{\hyperlink{class_image_utils_1_1_full_screen_widget}{ImageUtils::FullScreenWidget}} *fsWidget =}
\DoxyCodeLine{00102       \textcolor{keyword}{new} \mbox{\hyperlink{class_image_utils_1_1_full_screen_widget}{ImageUtils::FullScreenWidget}}(viewer);}
\DoxyCodeLine{00103 }
\DoxyCodeLine{00104   fsWidget-\/>\mbox{\hyperlink{class_image_utils_1_1_full_screen_widget_a539dd1466691037c4d7136065496e13b}{setWidget}}(m\_sceneViewer = \textcolor{keyword}{new} \mbox{\hyperlink{class_scene_viewer}{SceneViewer}}(fsWidget));}
\DoxyCodeLine{00105   m\_sceneViewer-\/>setIsStyleShortcutSwitchable();}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{true};}
\DoxyCodeLine{00108   ret      = ret \&\& connect(m\_sceneViewer, SIGNAL(onZoomChanged()),}
\DoxyCodeLine{00109                        SLOT(changeWindowTitle()));}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00111   \mbox{\hyperlink{class_ruler}{Ruler}} *vRuler = \textcolor{keyword}{new} \mbox{\hyperlink{class_ruler}{Ruler}}(viewer, m\_sceneViewer, \textcolor{keyword}{true});}
\DoxyCodeLine{00112   \mbox{\hyperlink{class_ruler}{Ruler}} *hRuler = \textcolor{keyword}{new} \mbox{\hyperlink{class_ruler}{Ruler}}(viewer, m\_sceneViewer, \textcolor{keyword}{false});}
\DoxyCodeLine{00113   m\_sceneViewer-\/>setRulers(vRuler, hRuler);}
\DoxyCodeLine{00114 }
\DoxyCodeLine{00115   viewerL-\/>setMargin(0);}
\DoxyCodeLine{00116   viewerL-\/>setSpacing(0);}
\DoxyCodeLine{00117   viewerL-\/>addWidget(vRuler, 1, 0);}
\DoxyCodeLine{00118   viewerL-\/>addWidget(hRuler, 0, 1);}
\DoxyCodeLine{00119   viewerL-\/>addWidget(fsWidget, 1, 1, 19, 13);}
\DoxyCodeLine{00120   viewer-\/>setMinimumHeight(200);}
\DoxyCodeLine{00121   viewer-\/>setLayout(viewerL);}
\DoxyCodeLine{00122 }
\DoxyCodeLine{00123   mainLayout-\/>addWidget(viewer, Qt::AlignCenter);}
\DoxyCodeLine{00124 }
\DoxyCodeLine{00125   \mbox{\hyperlink{class_t_app}{TApp}} *app        = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00126   m\_keyFrameButton = \textcolor{keyword}{new} \mbox{\hyperlink{class_viewer_keyframe_navigator}{ViewerKeyframeNavigator}}(0, app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}());}
\DoxyCodeLine{00127   m\_keyFrameButton-\/>setObjectHandle(app-\/>\mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{getCurrentObject}}());}
\DoxyCodeLine{00128   m\_keyFrameButton-\/>setXsheetHandle(app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}());}
\DoxyCodeLine{00129 }
\DoxyCodeLine{00130   std::vector<int> buttonMask = \{FlipConsole::eFilledRaster,}
\DoxyCodeLine{00131                                  FlipConsole::eDefineLoadBox,}
\DoxyCodeLine{00132                                  FlipConsole::eUseLoadBox\};}
\DoxyCodeLine{00133 }
\DoxyCodeLine{00134   m\_flipConsole =}
\DoxyCodeLine{00135       \textcolor{keyword}{new} \mbox{\hyperlink{class_flip_console}{FlipConsole}}(mainLayout, buttonMask, \textcolor{keyword}{false}, m\_keyFrameButton,}
\DoxyCodeLine{00136                       \textcolor{stringliteral}{"{}SceneViewerConsole"{}}, \textcolor{keyword}{this}, \textcolor{keyword}{true});}
\DoxyCodeLine{00137 }
\DoxyCodeLine{00138   m\_flipConsole-\/>enableButton(FlipConsole::eMatte, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{00139   m\_flipConsole-\/>enableButton(FlipConsole::eSave, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{00140   m\_flipConsole-\/>enableButton(FlipConsole::eCompare, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{00141   m\_flipConsole-\/>enableButton(FlipConsole::eSaveImg, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{00142   m\_flipConsole-\/>enableButton(FlipConsole::eGRed, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{00143   m\_flipConsole-\/>enableButton(FlipConsole::eGGreen, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{00144   m\_flipConsole-\/>enableButton(FlipConsole::eGBlue, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{00145   m\_flipConsole-\/>enableButton(FlipConsole::eBlackBg, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{00146   m\_flipConsole-\/>enableButton(FlipConsole::eWhiteBg, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{00147   m\_flipConsole-\/>enableButton(FlipConsole::eCheckBg, \textcolor{keyword}{false}, \textcolor{keyword}{false});}
\DoxyCodeLine{00148 }
\DoxyCodeLine{00149   m\_flipConsole-\/>setFrameHandle(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getCurrentFrame());}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151   ret = ret \&\&}
\DoxyCodeLine{00152         connect(m\_flipConsole, SIGNAL(playStateChanged(\textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00153                 \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getCurrentFrame(), SLOT(setPlaying(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00154   ret = ret \&\& connect(m\_flipConsole, SIGNAL(playStateChanged(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{00155                        SLOT(onPlayingStatusChanged(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00156   ret = ret \&\&}
\DoxyCodeLine{00157         connect(m\_flipConsole, SIGNAL(buttonPressed(FlipConsole::EGadget)),}
\DoxyCodeLine{00158                 m\_sceneViewer, SLOT(onButtonPressed(FlipConsole::EGadget)));}
\DoxyCodeLine{00159 }
\DoxyCodeLine{00160   ret =}
\DoxyCodeLine{00161       ret \&\& connect(m\_flipConsole, SIGNAL(buttonPressed(FlipConsole::EGadget)),}
\DoxyCodeLine{00162                      \textcolor{keyword}{this}, SLOT(onButtonPressed(FlipConsole::EGadget)));}
\DoxyCodeLine{00163 }
\DoxyCodeLine{00164   ret = ret \&\& connect(m\_sceneViewer, SIGNAL(previewStatusChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00165                        SLOT(update()));}
\DoxyCodeLine{00166   ret = ret \&\& connect(m\_sceneViewer, SIGNAL(onFlipHChanged(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{00167                        SLOT(setFlipHButtonChecked(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00168   ret = ret \&\& connect(m\_sceneViewer, SIGNAL(onFlipVChanged(\textcolor{keywordtype}{bool})), \textcolor{keyword}{this},}
\DoxyCodeLine{00169                        SLOT(setFlipVButtonChecked(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00170 }
\DoxyCodeLine{00171   ret = ret \&\& connect(app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}(), SIGNAL(sceneSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00172                        SLOT(onSceneSwitched()));}
\DoxyCodeLine{00173 }
\DoxyCodeLine{00174   assert(ret);}
\DoxyCodeLine{00175   m\_flipConsole-\/>setChecked(FlipConsole::eSound, \textcolor{keyword}{true});}
\DoxyCodeLine{00176   m\_playSound = m\_flipConsole-\/>isChecked(FlipConsole::eSound);}
\DoxyCodeLine{00177   m\_flipConsole-\/>setFrameRate(app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()}
\DoxyCodeLine{00178                                   -\/>getScene()}
\DoxyCodeLine{00179                                   -\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()}
\DoxyCodeLine{00180                                   -\/>\mbox{\hyperlink{class_t_scene_properties_abea7b4b8e4f0cedbf753b26ec30b5331}{getOutputProperties}}()}
\DoxyCodeLine{00181                                   -\/>\mbox{\hyperlink{class_t_output_properties_a0d9662971bc33097aa1b55111965b967}{getFrameRate}}());}
\DoxyCodeLine{00182   updateFrameRange(), updateFrameMarkers();}
\DoxyCodeLine{00183 }
\DoxyCodeLine{00184   setLayout(mainLayout);}
\DoxyCodeLine{00185 }
\DoxyCodeLine{00186   m\_visiblePartsFlag = CVPARTS\_ALL;}
\DoxyCodeLine{00187   \mbox{\hyperlink{class_scene_viewer_panel_a02794c6982278819c7450ab1072da45e}{updateShowHide}}();}
\DoxyCodeLine{00188 }
\DoxyCodeLine{00189   setFocusProxy(m\_sceneViewer);}
\DoxyCodeLine{00190 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a22b360625a36d1b9fe6f452806763a9f}\label{class_scene_viewer_panel_a22b360625a36d1b9fe6f452806763a9f}} 
\index{SceneViewerPanel@{SceneViewerPanel}!````~SceneViewerPanel@{$\sim$SceneViewerPanel}}
\index{````~SceneViewerPanel@{$\sim$SceneViewerPanel}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{$\sim$SceneViewerPanel()}{~SceneViewerPanel()}}
{\footnotesize\ttfamily Scene\+Viewer\+Panel\+::$\sim$\+Scene\+Viewer\+Panel (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00312 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_scene_viewer_panel_adeb21e01bb94f3f5425c6372c2b39b64}\label{class_scene_viewer_panel_adeb21e01bb94f3f5425c6372c2b39b64}} 
\index{SceneViewerPanel@{SceneViewerPanel}!addShowHideContextMenu@{addShowHideContextMenu}}
\index{addShowHideContextMenu@{addShowHideContextMenu}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{addShowHideContextMenu()}{addShowHideContextMenu()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::add\+Show\+Hide\+Context\+Menu (\begin{DoxyParamCaption}\item[{QMenu $\ast$}]{menu }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00217                                                          \{}
\DoxyCodeLine{00218   QMenu *showHideMenu = menu-\/>addMenu(tr(\textcolor{stringliteral}{"{}GUI Show / Hide"{}}));}
\DoxyCodeLine{00219 }
\DoxyCodeLine{00220   \textcolor{comment}{// actions}}
\DoxyCodeLine{00221   QAction *playbarSHAct     = showHideMenu-\/>addAction(tr(\textcolor{stringliteral}{"{}Playback Toolbar"{}}));}
\DoxyCodeLine{00222   QAction *frameSliderSHAct = showHideMenu-\/>addAction(tr(\textcolor{stringliteral}{"{}Frame Slider"{}}));}
\DoxyCodeLine{00223 }
\DoxyCodeLine{00224   playbarSHAct-\/>setCheckable(\textcolor{keyword}{true});}
\DoxyCodeLine{00225   playbarSHAct-\/>setChecked(m\_visiblePartsFlag \& CVPARTS\_PLAYBAR);}
\DoxyCodeLine{00226   playbarSHAct-\/>setData((UINT)CVPARTS\_PLAYBAR);}
\DoxyCodeLine{00227 }
\DoxyCodeLine{00228   frameSliderSHAct-\/>setCheckable(\textcolor{keyword}{true});}
\DoxyCodeLine{00229   frameSliderSHAct-\/>setChecked(m\_visiblePartsFlag \& CVPARTS\_FRAMESLIDER);}
\DoxyCodeLine{00230   frameSliderSHAct-\/>setData((UINT)CVPARTS\_FRAMESLIDER);}
\DoxyCodeLine{00231 }
\DoxyCodeLine{00232   QActionGroup *showHideActGroup = \textcolor{keyword}{new} QActionGroup(\textcolor{keyword}{this});}
\DoxyCodeLine{00233   showHideActGroup-\/>setExclusive(\textcolor{keyword}{false});}
\DoxyCodeLine{00234   showHideActGroup-\/>addAction(playbarSHAct);}
\DoxyCodeLine{00235   showHideActGroup-\/>addAction(frameSliderSHAct);}
\DoxyCodeLine{00236 }
\DoxyCodeLine{00237   connect(showHideActGroup, SIGNAL(triggered(QAction *)), \textcolor{keyword}{this},}
\DoxyCodeLine{00238           SLOT(\mbox{\hyperlink{class_scene_viewer_panel_accdec972dc698a9ef4a1e5e751bbe62d}{onShowHideActionTriggered}}(QAction *)));}
\DoxyCodeLine{00239 }
\DoxyCodeLine{00240   showHideMenu-\/>addSeparator();}
\DoxyCodeLine{00241   showHideMenu-\/>addAction(CommandManager::instance()-\/>getAction(MI\_ViewCamera));}
\DoxyCodeLine{00242   showHideMenu-\/>addAction(CommandManager::instance()-\/>getAction(MI\_ViewTable));}
\DoxyCodeLine{00243   showHideMenu-\/>addAction(CommandManager::instance()-\/>getAction(MI\_FieldGuide));}
\DoxyCodeLine{00244   showHideMenu-\/>addAction(CommandManager::instance()-\/>getAction(MI\_SafeArea));}
\DoxyCodeLine{00245   showHideMenu-\/>addAction(CommandManager::instance()-\/>getAction(MI\_ViewBBox));}
\DoxyCodeLine{00246   showHideMenu-\/>addAction(}
\DoxyCodeLine{00247       CommandManager::instance()-\/>getAction(MI\_ViewColorcard));}
\DoxyCodeLine{00248   showHideMenu-\/>addAction(CommandManager::instance()-\/>getAction(MI\_ViewRuler));}
\DoxyCodeLine{00249 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a59c251604188867d28ac29ba993aafc4}\label{class_scene_viewer_panel_a59c251604188867d28ac29ba993aafc4}} 
\index{SceneViewerPanel@{SceneViewerPanel}!changeWindowTitle@{changeWindowTitle}}
\index{changeWindowTitle@{changeWindowTitle}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{changeWindowTitle}{changeWindowTitle}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::change\+Window\+Title (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00599                                          \{}
\DoxyCodeLine{00600   \mbox{\hyperlink{class_t_app}{TApp}} *app = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00601   \textcolor{comment}{// zoom = sqrt(m\_sceneViewer-\/>getViewMatrix().det());}}
\DoxyCodeLine{00602   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{00603   \textcolor{keywordflow}{if} (!scene) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00604   \textcolor{keywordflow}{if} (!parentWidget()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00605   \textcolor{keywordtype}{int} frame = app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}()-\/>getFrame();}
\DoxyCodeLine{00606   QString name;}
\DoxyCodeLine{00607   \textcolor{keywordflow}{if} (app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}()-\/>isEditingScene()) \{}
\DoxyCodeLine{00608     \mbox{\hyperlink{class_t_project}{TProject}} *project = scene-\/>\mbox{\hyperlink{class_toonz_scene_afec1477d4fe0bb1e1152e80c3a0b20ab}{getProject}}();}
\DoxyCodeLine{00609     QString sceneName = QString::fromStdWString(scene-\/>\mbox{\hyperlink{class_toonz_scene_a1fa0a1cbf9eb6360d980392acc99924b}{getSceneName}}());}
\DoxyCodeLine{00610     \textcolor{keywordflow}{if} (sceneName.isEmpty()) sceneName = tr(\textcolor{stringliteral}{"{}Untitled"{}});}
\DoxyCodeLine{00611     \textcolor{keywordflow}{if} (app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getDirtyFlag()) sceneName += QString(\textcolor{stringliteral}{"{}*"{}});}
\DoxyCodeLine{00612     name = tr(\textcolor{stringliteral}{"{}Scene: "{}}) + sceneName;}
\DoxyCodeLine{00613     \textcolor{keywordflow}{if} (frame >= 0)}
\DoxyCodeLine{00614       name =}
\DoxyCodeLine{00615           name + tr(\textcolor{stringliteral}{"{}   ::   Frame: "{}}) + tr(std::to\_string(frame + 1).c\_str());}
\DoxyCodeLine{00616     \textcolor{keywordtype}{int} col = app-\/>\mbox{\hyperlink{class_t_app_a1e294e7cff300851d12a8c3d196943f6}{getCurrentColumn}}()-\/>getColumnIndex();}
\DoxyCodeLine{00617     \textcolor{keywordflow}{if} (col < 0) \{}
\DoxyCodeLine{00618       parentWidget()-\/>setWindowTitle(name);}
\DoxyCodeLine{00619       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00620     \}}
\DoxyCodeLine{00621     \mbox{\hyperlink{class_t_xsheet}{TXsheet}} *xsh = app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet();}
\DoxyCodeLine{00622     \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} cell;}
\DoxyCodeLine{00623     \textcolor{keywordflow}{if} (app-\/>\mbox{\hyperlink{class_t_app_a1e294e7cff300851d12a8c3d196943f6}{getCurrentColumn}}()-\/>getColumn() \&\&}
\DoxyCodeLine{00624         !app-\/>\mbox{\hyperlink{class_t_app_a1e294e7cff300851d12a8c3d196943f6}{getCurrentColumn}}()-\/>getColumn()-\/>getSoundColumn())}
\DoxyCodeLine{00625       cell = xsh-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(frame, col);}
\DoxyCodeLine{00626     \textcolor{keywordflow}{if} (cell.\mbox{\hyperlink{class_t_xsh_cell_a5d20229e7bcd19957b123959e58a833e}{isEmpty}}()) \{}
\DoxyCodeLine{00627       \textcolor{keywordflow}{if} (!m\_sceneViewer-\/>is3DView()) \{}
\DoxyCodeLine{00628         \mbox{\hyperlink{class_t_affine}{TAffine}} aff = m\_sceneViewer-\/>\mbox{\hyperlink{class_scene_viewer_a3f746b9c53dc17030711cac65d96f625}{getViewMatrix}}() *}
\DoxyCodeLine{00629                       m\_sceneViewer-\/>getNormalZoomScale().\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}();}
\DoxyCodeLine{00630         \textcolor{keywordflow}{if} (m\_sceneViewer-\/>getIsFlippedX()) aff = aff * \mbox{\hyperlink{class_t_scale}{TScale}}(-\/1, 1);}
\DoxyCodeLine{00631         \textcolor{keywordflow}{if} (m\_sceneViewer-\/>getIsFlippedY()) aff = aff * \mbox{\hyperlink{class_t_scale}{TScale}}(1, -\/1);}
\DoxyCodeLine{00632         name = name + tr(\textcolor{stringliteral}{"{}  ::  Zoom : "{}}) +}
\DoxyCodeLine{00633                QString::number(tround(100.0 * sqrt(aff.det()))) + \textcolor{stringliteral}{"{}\%"{}};}
\DoxyCodeLine{00634         \textcolor{keywordflow}{if} (m\_sceneViewer-\/>getIsFlippedX() || m\_sceneViewer-\/>getIsFlippedY()) \{}
\DoxyCodeLine{00635           name = name + tr(\textcolor{stringliteral}{"{} (Flipped)"{}});}
\DoxyCodeLine{00636         \}}
\DoxyCodeLine{00637       \}}
\DoxyCodeLine{00638       parentWidget()-\/>setWindowTitle(name);}
\DoxyCodeLine{00639       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00640     \}}
\DoxyCodeLine{00641     assert(cell.m\_level.getPointer());}
\DoxyCodeLine{00642     \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(cell.m\_level-\/>\mbox{\hyperlink{class_t_xsh_level_a3a59fb1bd3261baee4e889a9edbf0ae8}{getName}}());}
\DoxyCodeLine{00643     QString imageName =}
\DoxyCodeLine{00644         QString::fromStdWString(fp.withFrame(cell.m\_frameId).getWideString());}
\DoxyCodeLine{00645     name = name + tr(\textcolor{stringliteral}{"{}   ::   Level: "{}}) + imageName;}
\DoxyCodeLine{00646   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00647     \mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *level = app-\/>\mbox{\hyperlink{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}{getCurrentLevel}}()-\/>getLevel();}
\DoxyCodeLine{00648     \textcolor{keywordflow}{if} (level) \{}
\DoxyCodeLine{00649       \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp(level-\/>\mbox{\hyperlink{class_t_xsh_level_a3a59fb1bd3261baee4e889a9edbf0ae8}{getName}}());}
\DoxyCodeLine{00650       QString imageName = QString::fromStdWString(}
\DoxyCodeLine{00651           fp.withFrame(app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}()-\/>getFid()).getWideString());}
\DoxyCodeLine{00652       name = name + tr(\textcolor{stringliteral}{"{}Level: "{}}) + imageName;}
\DoxyCodeLine{00653     \}}
\DoxyCodeLine{00654   \}}
\DoxyCodeLine{00655   \textcolor{keywordflow}{if} (!m\_sceneViewer-\/>is3DView()) \{}
\DoxyCodeLine{00656     \mbox{\hyperlink{class_t_affine}{TAffine}} aff = m\_sceneViewer-\/>\mbox{\hyperlink{class_scene_viewer_a71c3b2c826bd5efa2762dc38b695edfb}{getSceneMatrix}}() *}
\DoxyCodeLine{00657                   m\_sceneViewer-\/>getNormalZoomScale().\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}();}
\DoxyCodeLine{00658     \textcolor{keywordflow}{if} (m\_sceneViewer-\/>getIsFlippedX()) aff = aff * \mbox{\hyperlink{class_t_scale}{TScale}}(-\/1, 1);}
\DoxyCodeLine{00659     \textcolor{keywordflow}{if} (m\_sceneViewer-\/>getIsFlippedY()) aff = aff * \mbox{\hyperlink{class_t_scale}{TScale}}(1, -\/1);}
\DoxyCodeLine{00660     name = name + tr(\textcolor{stringliteral}{"{}  ::  Zoom : "{}}) +}
\DoxyCodeLine{00661            QString::number(tround(100.0 * sqrt(aff.det()))) + \textcolor{stringliteral}{"{}\%"{}};}
\DoxyCodeLine{00662     \textcolor{keywordflow}{if} (m\_sceneViewer-\/>getIsFlippedX() || m\_sceneViewer-\/>getIsFlippedY()) \{}
\DoxyCodeLine{00663       name = name + tr(\textcolor{stringliteral}{"{} (Flipped)"{}});}
\DoxyCodeLine{00664     \}}
\DoxyCodeLine{00665   \}}
\DoxyCodeLine{00666 }
\DoxyCodeLine{00667   parentWidget()-\/>setWindowTitle(name);}
\DoxyCodeLine{00668 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_ae30de76ec5036af6b9d24f73e67a8143}\label{class_scene_viewer_panel_ae30de76ec5036af6b9d24f73e67a8143}} 
\index{SceneViewerPanel@{SceneViewerPanel}!contextMenuEvent@{contextMenuEvent}}
\index{contextMenuEvent@{contextMenuEvent}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{contextMenuEvent()}{contextMenuEvent()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::context\+Menu\+Event (\begin{DoxyParamCaption}\item[{QContext\+Menu\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}

showing the show/hide commands 
\begin{DoxyCode}{0}
\DoxyCodeLine{00209                                                                 \{}
\DoxyCodeLine{00210   QMenu *menu = \textcolor{keyword}{new} QMenu(\textcolor{keyword}{this});}
\DoxyCodeLine{00211   addShowHideContextMenu(menu);}
\DoxyCodeLine{00212   menu-\/>exec(event-\/>globalPos());}
\DoxyCodeLine{00213 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a78396696d8713c1465cc294b98f37466}\label{class_scene_viewer_panel_a78396696d8713c1465cc294b98f37466}} 
\index{SceneViewerPanel@{SceneViewerPanel}!enableFlipConsoleForCamerastand@{enableFlipConsoleForCamerastand}}
\index{enableFlipConsoleForCamerastand@{enableFlipConsoleForCamerastand}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{enableFlipConsoleForCamerastand()}{enableFlipConsoleForCamerastand()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::enable\+Flip\+Console\+For\+Camerastand (\begin{DoxyParamCaption}\item[{bool}]{on }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00537                                                               \{}
\DoxyCodeLine{00538   m\_flipConsole-\/>enableButton(FlipConsole::eMatte, on, \textcolor{keyword}{false});}
\DoxyCodeLine{00539   m\_flipConsole-\/>enableButton(FlipConsole::eSave, on, \textcolor{keyword}{false});}
\DoxyCodeLine{00540   m\_flipConsole-\/>enableButton(FlipConsole::eCompare, on, \textcolor{keyword}{false});}
\DoxyCodeLine{00541   m\_flipConsole-\/>enableButton(FlipConsole::eSaveImg, on, \textcolor{keyword}{false});}
\DoxyCodeLine{00542   m\_flipConsole-\/>enableButton(FlipConsole::eGRed, on, \textcolor{keyword}{false});}
\DoxyCodeLine{00543   m\_flipConsole-\/>enableButton(FlipConsole::eGGreen, on, \textcolor{keyword}{false});}
\DoxyCodeLine{00544   m\_flipConsole-\/>enableButton(FlipConsole::eGBlue, on, \textcolor{keyword}{false});}
\DoxyCodeLine{00545   m\_flipConsole-\/>enableButton(FlipConsole::eBlackBg, on, \textcolor{keyword}{false});}
\DoxyCodeLine{00546   m\_flipConsole-\/>enableButton(FlipConsole::eWhiteBg, on, \textcolor{keyword}{false});}
\DoxyCodeLine{00547   m\_flipConsole-\/>enableButton(FlipConsole::eCheckBg, on, \textcolor{keyword}{false});}
\DoxyCodeLine{00548 }
\DoxyCodeLine{00549   m\_flipConsole-\/>enableProgressBar(on);}
\DoxyCodeLine{00550   m\_flipConsole-\/>enableBlanks(on);}
\DoxyCodeLine{00551   \textcolor{comment}{// m\_flipConsole-\/>update();}}
\DoxyCodeLine{00552   update();}
\DoxyCodeLine{00553 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a507a60a805bac4610fc7c274c116bf74}\label{class_scene_viewer_panel_a507a60a805bac4610fc7c274c116bf74}} 
\index{SceneViewerPanel@{SceneViewerPanel}!enableFullPreview@{enableFullPreview}}
\index{enableFullPreview@{enableFullPreview}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{enableFullPreview}{enableFullPreview}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::enable\+Full\+Preview (\begin{DoxyParamCaption}\item[{bool}]{enabled }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00515                                                      \{}
\DoxyCodeLine{00516   m\_subcameraPreviewButton-\/>setPressed(\textcolor{keyword}{false});}
\DoxyCodeLine{00517   m\_sceneViewer-\/>enablePreview(enabled ? SceneViewer::FULL\_PREVIEW}
\DoxyCodeLine{00518                                        : SceneViewer::NO\_PREVIEW);}
\DoxyCodeLine{00519   m\_flipConsole-\/>setProgressBarStatus(}
\DoxyCodeLine{00520       \&\mbox{\hyperlink{class_previewer_a5eb765b66490a3d99d432f90864bfacd}{Previewer::instance}}(\textcolor{keyword}{false})-\/>getProgressBarStatus());}
\DoxyCodeLine{00521   enableFlipConsoleForCamerastand(enabled);}
\DoxyCodeLine{00522 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_ae00c3c9b07e714e854749c0cc8c2ec55}\label{class_scene_viewer_panel_ae00c3c9b07e714e854749c0cc8c2ec55}} 
\index{SceneViewerPanel@{SceneViewerPanel}!enableSubCameraPreview@{enableSubCameraPreview}}
\index{enableSubCameraPreview@{enableSubCameraPreview}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{enableSubCameraPreview}{enableSubCameraPreview}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::enable\+Sub\+Camera\+Preview (\begin{DoxyParamCaption}\item[{bool}]{enabled }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00526                                                           \{}
\DoxyCodeLine{00527   m\_previewButton-\/>setPressed(\textcolor{keyword}{false});}
\DoxyCodeLine{00528   m\_sceneViewer-\/>enablePreview(enabled ? SceneViewer::SUBCAMERA\_PREVIEW}
\DoxyCodeLine{00529                                        : SceneViewer::NO\_PREVIEW);}
\DoxyCodeLine{00530   m\_flipConsole-\/>setProgressBarStatus(}
\DoxyCodeLine{00531       \&\mbox{\hyperlink{class_previewer_a5eb765b66490a3d99d432f90864bfacd}{Previewer::instance}}(\textcolor{keyword}{true})-\/>getProgressBarStatus());}
\DoxyCodeLine{00532   enableFlipConsoleForCamerastand(enabled);}
\DoxyCodeLine{00533 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_addf1f850ac3472d20b931927d7ee8731}\label{class_scene_viewer_panel_addf1f850ac3472d20b931927d7ee8731}} 
\index{SceneViewerPanel@{SceneViewerPanel}!hasSoundtrack@{hasSoundtrack}}
\index{hasSoundtrack@{hasSoundtrack}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{hasSoundtrack()}{hasSoundtrack()}}
{\footnotesize\ttfamily bool Scene\+Viewer\+Panel\+::has\+Soundtrack (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00803                                      \{}
\DoxyCodeLine{00804   \textcolor{keywordflow}{if} (m\_sound != NULL) \{}
\DoxyCodeLine{00805     m\_sound         = NULL;}
\DoxyCodeLine{00806     m\_hasSoundtrack = \textcolor{keyword}{false};}
\DoxyCodeLine{00807     m\_first         = \textcolor{keyword}{true};}
\DoxyCodeLine{00808   \}}
\DoxyCodeLine{00809   \mbox{\hyperlink{class_t_xsheet_handle}{TXsheetHandle}} *xsheetHandle    = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}();}
\DoxyCodeLine{00810   \mbox{\hyperlink{class_t_xsheet_1_1_sound_properties}{TXsheet::SoundProperties}} *prop = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_xsheet_1_1_sound_properties}{TXsheet::SoundProperties}}();}
\DoxyCodeLine{00811   \textcolor{keywordflow}{if} (!m\_sceneViewer-\/>isPreviewEnabled()) prop-\/>m\_isPreview = \textcolor{keyword}{true};}
\DoxyCodeLine{00812   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00813     m\_sound = xsheetHandle-\/>getXsheet()-\/>makeSound(prop);}
\DoxyCodeLine{00814   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&e) \{}
\DoxyCodeLine{00815     \textcolor{keywordflow}{if} (e.getType() == TSoundDeviceException::NoDevice) \{}
\DoxyCodeLine{00816       std::cout << ::to\_string(e.getMessage()) << std::endl;}
\DoxyCodeLine{00817     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00818       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}}(e.getType(), e.getMessage());}
\DoxyCodeLine{00819     \}}
\DoxyCodeLine{00820   \}}
\DoxyCodeLine{00821   \textcolor{keywordflow}{if} (m\_sound == NULL) \{}
\DoxyCodeLine{00822     m\_hasSoundtrack = \textcolor{keyword}{false};}
\DoxyCodeLine{00823     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00824   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00825     m\_hasSoundtrack = \textcolor{keyword}{true};}
\DoxyCodeLine{00826     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00827   \}}
\DoxyCodeLine{00828 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a83c7e2bcb88bcd3f100d3f82677026a1}\label{class_scene_viewer_panel_a83c7e2bcb88bcd3f100d3f82677026a1}} 
\index{SceneViewerPanel@{SceneViewerPanel}!hideEvent@{hideEvent}}
\index{hideEvent@{hideEvent}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{hideEvent()}{hideEvent()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::hide\+Event (\begin{DoxyParamCaption}\item[{QHide\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00369                                                   \{}
\DoxyCodeLine{00370   \mbox{\hyperlink{class_t_app}{TApp}} *app                    = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00371   \mbox{\hyperlink{class_t_frame_handle}{TFrameHandle}} *frameHandle    = app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}();}
\DoxyCodeLine{00372   \mbox{\hyperlink{class_t_scene_handle}{TSceneHandle}} *sceneHandle    = app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}();}
\DoxyCodeLine{00373   \mbox{\hyperlink{class_t_xsh_level_handle}{TXshLevelHandle}} *levelHandle = app-\/>\mbox{\hyperlink{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}{getCurrentLevel}}();}
\DoxyCodeLine{00374   \mbox{\hyperlink{class_t_object_handle}{TObjectHandle}} *objectHandle  = app-\/>\mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{getCurrentObject}}();}
\DoxyCodeLine{00375   \mbox{\hyperlink{class_t_xsheet_handle}{TXsheetHandle}} *xshHandle     = app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}();}
\DoxyCodeLine{00376 }
\DoxyCodeLine{00377   disconnect(xshHandle, SIGNAL(xsheetChanged()), \textcolor{keyword}{this}, SLOT(onSceneChanged()));}
\DoxyCodeLine{00378 }
\DoxyCodeLine{00379   disconnect(sceneHandle, SIGNAL(sceneChanged()), \textcolor{keyword}{this}, SLOT(onSceneChanged()));}
\DoxyCodeLine{00380   disconnect(sceneHandle, SIGNAL(nameSceneChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00381              SLOT(changeWindowTitle()));}
\DoxyCodeLine{00382   disconnect(sceneHandle, SIGNAL(sceneSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00383              SLOT(onSceneChanged()));}
\DoxyCodeLine{00384   disconnect(levelHandle, SIGNAL(xshLevelSwitched(\mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *)), \textcolor{keyword}{this},}
\DoxyCodeLine{00385              SLOT(onXshLevelSwitched(\mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *)));}
\DoxyCodeLine{00386   disconnect(levelHandle, SIGNAL(xshLevelChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00387              SLOT(changeWindowTitle()));}
\DoxyCodeLine{00388   disconnect(levelHandle, SIGNAL(xshLevelTitleChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00389              SLOT(changeWindowTitle()));}
\DoxyCodeLine{00390   disconnect(levelHandle, SIGNAL(xshLevelChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00391              SLOT(updateFrameRange()));}
\DoxyCodeLine{00392 }
\DoxyCodeLine{00393   disconnect(frameHandle, SIGNAL(frameSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00394              SLOT(changeWindowTitle()));}
\DoxyCodeLine{00395   disconnect(frameHandle, SIGNAL(frameSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00396              SLOT(onFrameSwitched()));}
\DoxyCodeLine{00397   disconnect(frameHandle, SIGNAL(frameTypeChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00398              SLOT(onFrameTypeChanged()));}
\DoxyCodeLine{00399 }
\DoxyCodeLine{00400   disconnect(app-\/>\mbox{\hyperlink{class_t_app_ad70b447aff489792cfc3dbac7150a540}{getCurrentTool}}(), SIGNAL(toolSwitched()), m\_sceneViewer,}
\DoxyCodeLine{00401              SLOT(onToolSwitched()));}
\DoxyCodeLine{00402   disconnect(app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}(), SIGNAL(preferenceChanged(\textcolor{keyword}{const} QString \&)),}
\DoxyCodeLine{00403              m\_flipConsole, SLOT(onPreferenceChanged(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00404 }
\DoxyCodeLine{00405   m\_flipConsole-\/>setActive(\textcolor{keyword}{false});}
\DoxyCodeLine{00406 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a2bc398b76f7ed0288eb574afbfeb7180}\label{class_scene_viewer_panel_a2bc398b76f7ed0288eb574afbfeb7180}} 
\index{SceneViewerPanel@{SceneViewerPanel}!initializeTitleBar@{initializeTitleBar}}
\index{initializeTitleBar@{initializeTitleBar}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{initializeTitleBar()}{initializeTitleBar()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::initialize\+Title\+Bar (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_panel_title_bar}{TPanel\+Title\+Bar}} $\ast$}]{title\+Bar }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00418                                                                   \{}
\DoxyCodeLine{00419   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{true};}
\DoxyCodeLine{00420 }
\DoxyCodeLine{00421   \mbox{\hyperlink{class_t_panel_title_bar_button_set}{TPanelTitleBarButtonSet}} *viewModeButtonSet;}
\DoxyCodeLine{00422   m\_referenceModeBs = viewModeButtonSet = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_panel_title_bar_button_set}{TPanelTitleBarButtonSet}}();}
\DoxyCodeLine{00423   \textcolor{keywordtype}{int} x                                 = -\/232;}
\DoxyCodeLine{00424   \textcolor{keywordtype}{int} iconWidth                         = 20;}
\DoxyCodeLine{00425   \mbox{\hyperlink{class_t_panel_title_bar_button}{TPanelTitleBarButton}} *button;}
\DoxyCodeLine{00426 }
\DoxyCodeLine{00427   \textcolor{comment}{// buttons for show / hide toggle for the field guide and the safe area}}
\DoxyCodeLine{00428   \mbox{\hyperlink{class_t_panel_title_bar_button_for_safe_area}{TPanelTitleBarButtonForSafeArea}} *safeAreaButton =}
\DoxyCodeLine{00429       \textcolor{keyword}{new} \mbox{\hyperlink{class_t_panel_title_bar_button_for_safe_area}{TPanelTitleBarButtonForSafeArea}}(}
\DoxyCodeLine{00430           titleBar, getIconThemePath(\textcolor{stringliteral}{"{}actions/20/pane\_safe.svg"{}}));}
\DoxyCodeLine{00431   safeAreaButton-\/>setToolTip(tr(\textcolor{stringliteral}{"{}Safe Area (Right Click to Select)"{}}));}
\DoxyCodeLine{00432   titleBar-\/>add(QPoint(x, 0), safeAreaButton);}
\DoxyCodeLine{00433   ret = ret \&\& connect(safeAreaButton, SIGNAL(toggled(\textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00434                        CommandManager::instance()-\/>getAction(MI\_SafeArea),}
\DoxyCodeLine{00435                        SLOT(trigger()));}
\DoxyCodeLine{00436   ret = ret \&\& connect(CommandManager::instance()-\/>getAction(MI\_SafeArea),}
\DoxyCodeLine{00437                        SIGNAL(triggered(\textcolor{keywordtype}{bool})), safeAreaButton,}
\DoxyCodeLine{00438                        SLOT(setPressed(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00439   \textcolor{comment}{// initialize state}}
\DoxyCodeLine{00440   safeAreaButton-\/>setPressed(}
\DoxyCodeLine{00441       CommandManager::instance()-\/>getAction(MI\_SafeArea)-\/>isChecked());}
\DoxyCodeLine{00442 }
\DoxyCodeLine{00443   button = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_panel_title_bar_button}{TPanelTitleBarButton}}(}
\DoxyCodeLine{00444       titleBar, getIconThemePath(\textcolor{stringliteral}{"{}actions/20/pane\_grid.svg"{}}));}
\DoxyCodeLine{00445   button-\/>setToolTip(tr(\textcolor{stringliteral}{"{}Field Guide"{}}));}
\DoxyCodeLine{00446   x += 1 + iconWidth;}
\DoxyCodeLine{00447   titleBar-\/>add(QPoint(x, 0), button);}
\DoxyCodeLine{00448   ret = ret \&\& connect(button, SIGNAL(toggled(\textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00449                        CommandManager::instance()-\/>getAction(MI\_FieldGuide),}
\DoxyCodeLine{00450                        SLOT(trigger()));}
\DoxyCodeLine{00451   ret = ret \&\& connect(CommandManager::instance()-\/>getAction(MI\_FieldGuide),}
\DoxyCodeLine{00452                        SIGNAL(triggered(\textcolor{keywordtype}{bool})), button, SLOT(setPressed(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00453   \textcolor{comment}{// initialize state}}
\DoxyCodeLine{00454   button-\/>setPressed(}
\DoxyCodeLine{00455       CommandManager::instance()-\/>getAction(MI\_FieldGuide)-\/>isChecked());}
\DoxyCodeLine{00456 }
\DoxyCodeLine{00457   \textcolor{comment}{// view mode toggles}}
\DoxyCodeLine{00458   button = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_panel_title_bar_button}{TPanelTitleBarButton}}(}
\DoxyCodeLine{00459       titleBar, getIconThemePath(\textcolor{stringliteral}{"{}actions/20/pane\_table.svg"{}}));}
\DoxyCodeLine{00460   button-\/>setToolTip(tr(\textcolor{stringliteral}{"{}Camera Stand View"{}}));}
\DoxyCodeLine{00461   x += 10 + iconWidth;}
\DoxyCodeLine{00462   titleBar-\/>add(QPoint(x, 0), button);}
\DoxyCodeLine{00463   button-\/>\mbox{\hyperlink{class_t_panel_title_bar_button_a5bc664fa37eac51c4e0e5df597df6aba}{setButtonSet}}(viewModeButtonSet, SceneViewer::NORMAL\_REFERENCE);}
\DoxyCodeLine{00464   button-\/>setPressed(\textcolor{keyword}{true});}
\DoxyCodeLine{00465 }
\DoxyCodeLine{00466   button = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_panel_title_bar_button}{TPanelTitleBarButton}}(titleBar,}
\DoxyCodeLine{00467                                     getIconThemePath(\textcolor{stringliteral}{"{}actions/20/pane\_3d.svg"{}}));}
\DoxyCodeLine{00468   button-\/>setToolTip(tr(\textcolor{stringliteral}{"{}3D View"{}}));}
\DoxyCodeLine{00469   x += +1 + iconWidth;}
\DoxyCodeLine{00470   titleBar-\/>add(QPoint(x, 0), button);}
\DoxyCodeLine{00471   button-\/>\mbox{\hyperlink{class_t_panel_title_bar_button_a5bc664fa37eac51c4e0e5df597df6aba}{setButtonSet}}(viewModeButtonSet, SceneViewer::CAMERA3D\_REFERENCE);}
\DoxyCodeLine{00472 }
\DoxyCodeLine{00473   button = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_panel_title_bar_button}{TPanelTitleBarButton}}(}
\DoxyCodeLine{00474       titleBar, getIconThemePath(\textcolor{stringliteral}{"{}actions/20/pane\_cam.svg"{}}));}
\DoxyCodeLine{00475   button-\/>setToolTip(tr(\textcolor{stringliteral}{"{}Camera View"{}}));}
\DoxyCodeLine{00476   x += +1 + iconWidth;}
\DoxyCodeLine{00477   titleBar-\/>add(QPoint(x, 0), button);}
\DoxyCodeLine{00478   button-\/>\mbox{\hyperlink{class_t_panel_title_bar_button_a5bc664fa37eac51c4e0e5df597df6aba}{setButtonSet}}(viewModeButtonSet, SceneViewer::CAMERA\_REFERENCE);}
\DoxyCodeLine{00479   ret = ret \&\& connect(viewModeButtonSet, SIGNAL(selected(\textcolor{keywordtype}{int})), m\_sceneViewer,}
\DoxyCodeLine{00480                        SLOT(setReferenceMode(\textcolor{keywordtype}{int})));}
\DoxyCodeLine{00481 }
\DoxyCodeLine{00482   \textcolor{comment}{// freeze button}}
\DoxyCodeLine{00483   button = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_panel_title_bar_button}{TPanelTitleBarButton}}(}
\DoxyCodeLine{00484       titleBar, getIconThemePath(\textcolor{stringliteral}{"{}actions/20/pane\_freeze.svg"{}}));}
\DoxyCodeLine{00485   x += 10 + iconWidth;}
\DoxyCodeLine{00486 }
\DoxyCodeLine{00487   button-\/>setToolTip(tr(\textcolor{stringliteral}{"{}Freeze"{}}));  \textcolor{comment}{// RC1}}
\DoxyCodeLine{00488   titleBar-\/>add(QPoint(x, 0), button);}
\DoxyCodeLine{00489   ret = ret \&\& connect(button, SIGNAL(toggled(\textcolor{keywordtype}{bool})), m\_sceneViewer,}
\DoxyCodeLine{00490                        SLOT(freeze(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00491 }
\DoxyCodeLine{00492   \textcolor{comment}{// preview toggles}}
\DoxyCodeLine{00493   m\_previewButton = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_panel_title_bar_button}{TPanelTitleBarButton}}(}
\DoxyCodeLine{00494       titleBar, getIconThemePath(\textcolor{stringliteral}{"{}actions/20/pane\_preview.svg"{}}));}
\DoxyCodeLine{00495   x += 10 + iconWidth;}
\DoxyCodeLine{00496   titleBar-\/>add(QPoint(x, 0), m\_previewButton);}
\DoxyCodeLine{00497   m\_previewButton-\/>setToolTip(tr(\textcolor{stringliteral}{"{}Preview"{}}));}
\DoxyCodeLine{00498   ret = ret \&\& connect(m\_previewButton, SIGNAL(toggled(\textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00499                        SLOT(enableFullPreview(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00500 }
\DoxyCodeLine{00501   m\_subcameraPreviewButton = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_panel_title_bar_button}{TPanelTitleBarButton}}(}
\DoxyCodeLine{00502       titleBar, getIconThemePath(\textcolor{stringliteral}{"{}actions/20/pane\_subpreview.svg"{}}));}
\DoxyCodeLine{00503   x += +1 + 24;  \textcolor{comment}{// width of pane\_preview.svg = 24px}}
\DoxyCodeLine{00504 }
\DoxyCodeLine{00505   titleBar-\/>add(QPoint(x, 0), m\_subcameraPreviewButton);}
\DoxyCodeLine{00506   m\_subcameraPreviewButton-\/>setToolTip(tr(\textcolor{stringliteral}{"{}Sub-\/camera Preview"{}}));}
\DoxyCodeLine{00507   ret = ret \&\& connect(m\_subcameraPreviewButton, SIGNAL(toggled(\textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00508                        SLOT(enableSubCameraPreview(\textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00509 }
\DoxyCodeLine{00510   assert(ret);}
\DoxyCodeLine{00511 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_ad5838c31fe8a18cfcdab0731602f202e}\label{class_scene_viewer_panel_ad5838c31fe8a18cfcdab0731602f202e}} 
\index{SceneViewerPanel@{SceneViewerPanel}!load@{load}}
\index{load@{load}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::load (\begin{DoxyParamCaption}\item[{QSettings \&}]{settings }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_save_load_q_settings}{Save\+Load\+QSettings}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00856                                                \{}
\DoxyCodeLine{00857   m\_visiblePartsFlag = settings.value(\textcolor{stringliteral}{"{}visibleParts"{}}, CVPARTS\_ALL).toUInt();}
\DoxyCodeLine{00858   \mbox{\hyperlink{class_scene_viewer_panel_a02794c6982278819c7450ab1072da45e}{updateShowHide}}();}
\DoxyCodeLine{00859 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a83cceaa843c332d47a4edc45114b81c0}\label{class_scene_viewer_panel_a83cceaa843c332d47a4edc45114b81c0}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onButtonPressed@{onButtonPressed}}
\index{onButtonPressed@{onButtonPressed}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onButtonPressed}{onButtonPressed}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Button\+Pressed (\begin{DoxyParamCaption}\item[{Flip\+Console\+::\+EGadget}]{button }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00830                                                                 \{}
\DoxyCodeLine{00831   \textcolor{keywordflow}{if} (button == FlipConsole::eSound) \{}
\DoxyCodeLine{00832     m\_playSound = !m\_playSound;}
\DoxyCodeLine{00833   \}}
\DoxyCodeLine{00834 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_aa0f9d5122ca20e3d57bbc7758c10f813}\label{class_scene_viewer_panel_aa0f9d5122ca20e3d57bbc7758c10f813}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onDrawFrame@{onDrawFrame}}
\index{onDrawFrame@{onDrawFrame}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onDrawFrame()}{onDrawFrame()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Draw\+Frame (\begin{DoxyParamCaption}\item[{int}]{frame,  }\item[{const \mbox{\hyperlink{class_image_painter_1_1_visual_settings}{Image\+Painter\+::\+Visual\+Settings}} \&}]{settings,  }\item[{QElapsed\+Timer $\ast$}]{timer,  }\item[{qint64}]{target\+Instant }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_flip_console_owner}{Flip\+Console\+Owner}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00266                                                                                \{}
\DoxyCodeLine{00267   \mbox{\hyperlink{class_t_app}{TApp}} *app = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00268   m\_sceneViewer-\/>setVisual(settings);}
\DoxyCodeLine{00269   m\_sceneViewer-\/>setTimerAndTargetInstant(timer, targetInstant);}
\DoxyCodeLine{00270 }
\DoxyCodeLine{00271   \mbox{\hyperlink{class_t_frame_handle}{TFrameHandle}} *frameHandle = app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}();}
\DoxyCodeLine{00272 }
\DoxyCodeLine{00273   \textcolor{keywordflow}{if} (m\_sceneViewer-\/>isPreviewEnabled()) \{}
\DoxyCodeLine{00274     \textcolor{keyword}{class }\mbox{\hyperlink{class_previewer}{Previewer}} *pr = \mbox{\hyperlink{class_previewer_a5eb765b66490a3d99d432f90864bfacd}{Previewer::instance}}(m\_sceneViewer-\/>getPreviewMode() ==}
\DoxyCodeLine{00275                                               SceneViewer::SUBCAMERA\_PREVIEW);}
\DoxyCodeLine{00276     pr-\/>\mbox{\hyperlink{class_previewer_afb0f0a5c7ca1fb9366996407ea58d4cc}{getRaster}}(frame -\/ 1, settings.m\_recomputeIfNeeded);  \textcolor{comment}{// the 'getRaster'}}
\DoxyCodeLine{00277                                                              \textcolor{comment}{// starts the}}
\DoxyCodeLine{00278                                                              \textcolor{comment}{// render of the}}
\DoxyCodeLine{00279                                                              \textcolor{comment}{// frame is not}}
\DoxyCodeLine{00280                                                              \textcolor{comment}{// already started}}
\DoxyCodeLine{00281     \textcolor{keywordtype}{int} curFrame = frame;}
\DoxyCodeLine{00282     \textcolor{keywordflow}{if} (frameHandle-\/>isPlaying() \&\&}
\DoxyCodeLine{00283         !pr-\/>\mbox{\hyperlink{class_previewer_a43b83e2f98aa1ee5fc316fe9eeeaea15}{isFrameReady}}(}
\DoxyCodeLine{00284             frame -\/ 1))  \textcolor{comment}{// stops on last rendered frame until current is ready!}}
\DoxyCodeLine{00285     \{}
\DoxyCodeLine{00286       \textcolor{keywordflow}{while} (frame > 1 \&\& !pr-\/>\mbox{\hyperlink{class_previewer_a43b83e2f98aa1ee5fc316fe9eeeaea15}{isFrameReady}}(frame -\/ 1)) frame-\/-\/;}
\DoxyCodeLine{00287       m\_flipConsole-\/>setCurrentFrame(frame);}
\DoxyCodeLine{00288     \}}
\DoxyCodeLine{00289   \}}
\DoxyCodeLine{00290 }
\DoxyCodeLine{00291   \textcolor{comment}{// assert(frame >= 0); // frame can be negative in rare cases}}
\DoxyCodeLine{00292   \textcolor{keywordflow}{if} (frame != frameHandle-\/>getFrameIndex() + 1) \{}
\DoxyCodeLine{00293     \textcolor{keywordtype}{int} oldFrame = frameHandle-\/>getFrame();}
\DoxyCodeLine{00294     frameHandle-\/>setCurrentFrame(frame);}
\DoxyCodeLine{00295     \textcolor{keywordflow}{if} (!frameHandle-\/>isPlaying() \&\& !frameHandle-\/>isEditingLevel() \&\&}
\DoxyCodeLine{00296         oldFrame != frameHandle-\/>getFrame())}
\DoxyCodeLine{00297       frameHandle-\/>scrubXsheet(}
\DoxyCodeLine{00298           frame -\/ 1, frame -\/ 1,}
\DoxyCodeLine{00299           \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getCurrentXsheet()-\/>getXsheet());}
\DoxyCodeLine{00300   \}}
\DoxyCodeLine{00301 }
\DoxyCodeLine{00302   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (settings.\mbox{\hyperlink{class_image_painter_1_1_visual_settings_af07ee76dc91b927f4dc22d44fcc13495}{m\_blankColor}} != TPixel::Transparent)}
\DoxyCodeLine{00303     m\_sceneViewer-\/>update();}
\DoxyCodeLine{00304 }
\DoxyCodeLine{00305   \textcolor{comment}{// make sure to redraw the frame here.}}
\DoxyCodeLine{00306   \textcolor{comment}{// repaint() does NOT immediately redraw the frame for QOpenGLWidget}}
\DoxyCodeLine{00307   \textcolor{keywordflow}{if} (frameHandle-\/>isPlaying()) qApp-\/>processEvents();}
\DoxyCodeLine{00308 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a2bfb61ab252334b4a4eb5e7935602f54}\label{class_scene_viewer_panel_a2bfb61ab252334b4a4eb5e7935602f54}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onEnterPanel@{onEnterPanel}}
\index{onEnterPanel@{onEnterPanel}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onEnterPanel()}{onEnterPanel()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Enter\+Panel (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00070                       \{}
\DoxyCodeLine{00071     m\_sceneViewer-\/>setFocus(Qt::OtherFocusReason);}
\DoxyCodeLine{00072     \textcolor{comment}{// activate shortcut key for this flipconsole}}
\DoxyCodeLine{00073     m\_flipConsole-\/>makeCurrent();}
\DoxyCodeLine{00074   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a587bf76412f4c820cbb8d0435eecbd7b}\label{class_scene_viewer_panel_a587bf76412f4c820cbb8d0435eecbd7b}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onFrameSwitched@{onFrameSwitched}}
\index{onFrameSwitched@{onFrameSwitched}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onFrameSwitched}{onFrameSwitched}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Frame\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00739                                        \{}
\DoxyCodeLine{00740   \textcolor{keywordtype}{int} frameIndex = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}()-\/>getFrameIndex();}
\DoxyCodeLine{00741   m\_flipConsole-\/>setCurrentFrame(frameIndex + 1);}
\DoxyCodeLine{00742   \textcolor{keywordflow}{if} (m\_keyFrameButton-\/>getCurrentFrame() != frameIndex)}
\DoxyCodeLine{00743     m\_keyFrameButton-\/>setCurrentFrame(frameIndex);}
\DoxyCodeLine{00744 }
\DoxyCodeLine{00745   \textcolor{keywordflow}{if} (m\_playing \&\& m\_playSound) \{}
\DoxyCodeLine{00746     \textcolor{keywordflow}{if} (m\_first == \textcolor{keyword}{true} \&\& hasSoundtrack()) \{}
\DoxyCodeLine{00747       playAudioFrame(frameIndex);}
\DoxyCodeLine{00748     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_hasSoundtrack) \{}
\DoxyCodeLine{00749       playAudioFrame(frameIndex);}
\DoxyCodeLine{00750     \}}
\DoxyCodeLine{00751   \}}
\DoxyCodeLine{00752 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a06ea1a590a8977ef53069714392756a7}\label{class_scene_viewer_panel_a06ea1a590a8977ef53069714392756a7}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onFrameTypeChanged@{onFrameTypeChanged}}
\index{onFrameTypeChanged@{onFrameTypeChanged}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onFrameTypeChanged}{onFrameTypeChanged}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Frame\+Type\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00756                                           \{}
\DoxyCodeLine{00757   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getCurrentFrame()-\/>getFrameType() ==}
\DoxyCodeLine{00758       TFrameHandle::LevelFrame) \{}
\DoxyCodeLine{00759     \textcolor{keywordflow}{if} (m\_sceneViewer-\/>isPreviewEnabled()) \{}
\DoxyCodeLine{00760       m\_previewButton-\/>setPressed(\textcolor{keyword}{false});}
\DoxyCodeLine{00761       m\_subcameraPreviewButton-\/>setPressed(\textcolor{keyword}{false});}
\DoxyCodeLine{00762       enableFlipConsoleForCamerastand(\textcolor{keyword}{false});}
\DoxyCodeLine{00763       m\_sceneViewer-\/>enablePreview(SceneViewer::NO\_PREVIEW);}
\DoxyCodeLine{00764     \}}
\DoxyCodeLine{00765     \mbox{\hyperlink{class_camera_test_check_adc1033b93dea95f49db36d8fb668e16d}{CameraTestCheck::instance}}()-\/>setIsEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00766     \mbox{\hyperlink{class_cleanup_preview_check_a231efbbe4e3356757b725452d5efb62d}{CleanupPreviewCheck::instance}}()-\/>setIsEnabled(\textcolor{keyword}{false});}
\DoxyCodeLine{00767   \}}
\DoxyCodeLine{00768 }
\DoxyCodeLine{00769   m\_flipConsole-\/>setChecked(FlipConsole::eDefineSubCamera, \textcolor{keyword}{false});}
\DoxyCodeLine{00770   m\_sceneViewer-\/>setEditPreviewSubcamera(\textcolor{keyword}{false});}
\DoxyCodeLine{00771 }
\DoxyCodeLine{00772   updateFrameRange();}
\DoxyCodeLine{00773   updateFrameMarkers();}
\DoxyCodeLine{00774 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_ac7c43daf7745db82af90b0b3a41ba9ef}\label{class_scene_viewer_panel_ac7c43daf7745db82af90b0b3a41ba9ef}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onLeavePanel@{onLeavePanel}}
\index{onLeavePanel@{onLeavePanel}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onLeavePanel()}{onLeavePanel()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Leave\+Panel (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00075 \{ m\_sceneViewer-\/>clearFocus(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a322398eacb01c06547033b97a1fb2f03}\label{class_scene_viewer_panel_a322398eacb01c06547033b97a1fb2f03}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onPlayingStatusChanged@{onPlayingStatusChanged}}
\index{onPlayingStatusChanged@{onPlayingStatusChanged}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onPlayingStatusChanged}{onPlayingStatusChanged}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Playing\+Status\+Changed (\begin{DoxyParamCaption}\item[{bool}]{playing }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00570                                                           \{}
\DoxyCodeLine{00571   \textcolor{keywordflow}{if} (playing) \{}
\DoxyCodeLine{00572     m\_playing = \textcolor{keyword}{true};}
\DoxyCodeLine{00573   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00574     m\_playing = \textcolor{keyword}{false};}
\DoxyCodeLine{00575     m\_first   = \textcolor{keyword}{true};}
\DoxyCodeLine{00576   \}}
\DoxyCodeLine{00577   \textcolor{keywordflow}{if} (Preferences::instance()-\/>getOnionSkinDuringPlayback()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00578   \mbox{\hyperlink{class_onion_skin_mask}{OnionSkinMask}} osm =}
\DoxyCodeLine{00579       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_afcdd56d9130b7c39a5227de08a0b65e4}{getCurrentOnionSkin}}()-\/>getOnionSkinMask();}
\DoxyCodeLine{00580   \textcolor{keywordflow}{if} (playing) \{}
\DoxyCodeLine{00581     m\_onionSkinActive = osm.isEnabled();}
\DoxyCodeLine{00582     \textcolor{keywordflow}{if} (m\_onionSkinActive) \{}
\DoxyCodeLine{00583       osm.enable(\textcolor{keyword}{false});}
\DoxyCodeLine{00584       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_afcdd56d9130b7c39a5227de08a0b65e4}{getCurrentOnionSkin}}()-\/>setOnionSkinMask(osm);}
\DoxyCodeLine{00585       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_afcdd56d9130b7c39a5227de08a0b65e4}{getCurrentOnionSkin}}()-\/>notifyOnionSkinMaskChanged();}
\DoxyCodeLine{00586     \}}
\DoxyCodeLine{00587   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00588     \textcolor{keywordflow}{if} (m\_onionSkinActive) \{}
\DoxyCodeLine{00589       osm.enable(\textcolor{keyword}{true});}
\DoxyCodeLine{00590       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_afcdd56d9130b7c39a5227de08a0b65e4}{getCurrentOnionSkin}}()-\/>setOnionSkinMask(osm);}
\DoxyCodeLine{00591       \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_afcdd56d9130b7c39a5227de08a0b65e4}{getCurrentOnionSkin}}()-\/>notifyOnionSkinMaskChanged();}
\DoxyCodeLine{00592     \}}
\DoxyCodeLine{00593   \}}
\DoxyCodeLine{00594   m\_sceneViewer-\/>\mbox{\hyperlink{class_scene_viewer_a51e41da45c96d39493ac2753b89d5407}{invalidateToolStatus}}();}
\DoxyCodeLine{00595 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a7ad2fcd0ad8058fee5a890e69c653d4f}\label{class_scene_viewer_panel_a7ad2fcd0ad8058fee5a890e69c653d4f}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onSceneChanged@{onSceneChanged}}
\index{onSceneChanged@{onSceneChanged}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onSceneChanged}{onSceneChanged}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Scene\+Changed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00695                                       \{}
\DoxyCodeLine{00696   updateFrameRange();}
\DoxyCodeLine{00697   updateFrameMarkers();}
\DoxyCodeLine{00698   changeWindowTitle();}
\DoxyCodeLine{00699   \mbox{\hyperlink{class_t_app}{TApp}} *app         = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00700   \mbox{\hyperlink{class_toonz_scene}{ToonzScene}} *scene = app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>getScene();}
\DoxyCodeLine{00701   assert(scene);}
\DoxyCodeLine{00702   \textcolor{comment}{// update fps only when the scene settings is changed}}
\DoxyCodeLine{00703   m\_flipConsole-\/>setFrameRate(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()}
\DoxyCodeLine{00704                                   -\/>getCurrentScene()}
\DoxyCodeLine{00705                                   -\/>getScene()}
\DoxyCodeLine{00706                                   -\/>getProperties()}
\DoxyCodeLine{00707                                   -\/>getOutputProperties()}
\DoxyCodeLine{00708                                   -\/>getFrameRate(),}
\DoxyCodeLine{00709                               \textcolor{keyword}{false});}
\DoxyCodeLine{00710   \textcolor{comment}{// vinz: perche veniva fatto?}}
\DoxyCodeLine{00711   \textcolor{comment}{// m\_flipConsole-\/>updateCurrentFPS(scene-\/>getProperties()-\/>getOutputProperties()-\/>getFrameRate());}}
\DoxyCodeLine{00712 }
\DoxyCodeLine{00713   \textcolor{keywordtype}{int} frameIndex = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}()-\/>getFrameIndex();}
\DoxyCodeLine{00714   \textcolor{keywordflow}{if} (m\_keyFrameButton-\/>getCurrentFrame() != frameIndex)}
\DoxyCodeLine{00715     m\_keyFrameButton-\/>setCurrentFrame(frameIndex);}
\DoxyCodeLine{00716   hasSoundtrack();}
\DoxyCodeLine{00717 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a49724f159dab8f40912634294054089f}\label{class_scene_viewer_panel_a49724f159dab8f40912634294054089f}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onSceneSwitched@{onSceneSwitched}}
\index{onSceneSwitched@{onSceneSwitched}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onSceneSwitched}{onSceneSwitched}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Scene\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00721                                        \{}
\DoxyCodeLine{00722   m\_previewButton-\/>setPressed(\textcolor{keyword}{false});}
\DoxyCodeLine{00723   m\_subcameraPreviewButton-\/>setPressed(\textcolor{keyword}{false});}
\DoxyCodeLine{00724   enableFlipConsoleForCamerastand(\textcolor{keyword}{false});}
\DoxyCodeLine{00725   m\_sceneViewer-\/>enablePreview(SceneViewer::NO\_PREVIEW);}
\DoxyCodeLine{00726   m\_flipConsole-\/>setChecked(FlipConsole::eDefineSubCamera, \textcolor{keyword}{false});}
\DoxyCodeLine{00727   m\_flipConsole-\/>setFrameRate(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()}
\DoxyCodeLine{00728                                   -\/>getCurrentScene()}
\DoxyCodeLine{00729                                   -\/>getScene()}
\DoxyCodeLine{00730                                   -\/>getProperties()}
\DoxyCodeLine{00731                                   -\/>getOutputProperties()}
\DoxyCodeLine{00732                                   -\/>getFrameRate());}
\DoxyCodeLine{00733   m\_sceneViewer-\/>setEditPreviewSubcamera(\textcolor{keyword}{false});}
\DoxyCodeLine{00734   onSceneChanged();}
\DoxyCodeLine{00735 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_accdec972dc698a9ef4a1e5e751bbe62d}\label{class_scene_viewer_panel_accdec972dc698a9ef4a1e5e751bbe62d}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onShowHideActionTriggered@{onShowHideActionTriggered}}
\index{onShowHideActionTriggered@{onShowHideActionTriggered}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onShowHideActionTriggered}{onShowHideActionTriggered}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Show\+Hide\+Action\+Triggered (\begin{DoxyParamCaption}\item[{QAction $\ast$}]{act }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}

slot function for show/hide the parts 
\begin{DoxyCode}{0}
\DoxyCodeLine{00255                                                              \{}
\DoxyCodeLine{00256   CV\_Parts part = (CV\_Parts)act-\/>data().toUInt();}
\DoxyCodeLine{00257   assert(part < CVPARTS\_End);}
\DoxyCodeLine{00258 }
\DoxyCodeLine{00259   m\_visiblePartsFlag \string^= part;}
\DoxyCodeLine{00260 }
\DoxyCodeLine{00261   \mbox{\hyperlink{class_scene_viewer_panel_a02794c6982278819c7450ab1072da45e}{updateShowHide}}();}
\DoxyCodeLine{00262 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00198}{update\+Show\+Hide()}}.

\mbox{\Hypertarget{class_scene_viewer_panel_a234f008835973039a7f3a9d031e695c4}\label{class_scene_viewer_panel_a234f008835973039a7f3a9d031e695c4}} 
\index{SceneViewerPanel@{SceneViewerPanel}!onXshLevelSwitched@{onXshLevelSwitched}}
\index{onXshLevelSwitched@{onXshLevelSwitched}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{onXshLevelSwitched}{onXshLevelSwitched}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::on\+Xsh\+Level\+Switched (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_xsh_level}{TXsh\+Level}} $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00557                                                      \{}
\DoxyCodeLine{00558   changeWindowTitle();}
\DoxyCodeLine{00559   m\_sceneViewer-\/>update();}
\DoxyCodeLine{00560   \textcolor{comment}{// If the level switched by using the level choose combo box in the film}}
\DoxyCodeLine{00561   \textcolor{comment}{// strip,}}
\DoxyCodeLine{00562   \textcolor{comment}{// the current level switches without change in the frame type (level or}}
\DoxyCodeLine{00563   \textcolor{comment}{// scene).}}
\DoxyCodeLine{00564   \textcolor{comment}{// For such case, update the frame range of the console here.}}
\DoxyCodeLine{00565   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getCurrentFrame()-\/>isEditingLevel()) updateFrameRange();}
\DoxyCodeLine{00566 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a12a9c8e3fe86f561c0f801ecad6ead4e}\label{class_scene_viewer_panel_a12a9c8e3fe86f561c0f801ecad6ead4e}} 
\index{SceneViewerPanel@{SceneViewerPanel}!playAudioFrame@{playAudioFrame}}
\index{playAudioFrame@{playAudioFrame}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{playAudioFrame()}{playAudioFrame()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::play\+Audio\+Frame (\begin{DoxyParamCaption}\item[{int}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00778                                                \{}
\DoxyCodeLine{00779   \textcolor{keywordflow}{if} (m\_first) \{}
\DoxyCodeLine{00780     m\_first = \textcolor{keyword}{false};}
\DoxyCodeLine{00781     m\_fps   = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()}
\DoxyCodeLine{00782                 -\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()}
\DoxyCodeLine{00783                 -\/>getScene()}
\DoxyCodeLine{00784                 -\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()}
\DoxyCodeLine{00785                 -\/>\mbox{\hyperlink{class_t_scene_properties_abea7b4b8e4f0cedbf753b26ec30b5331}{getOutputProperties}}()}
\DoxyCodeLine{00786                 -\/>\mbox{\hyperlink{class_t_output_properties_a0d9662971bc33097aa1b55111965b967}{getFrameRate}}();}
\DoxyCodeLine{00787     m\_samplesPerFrame = m\_sound-\/>getSampleRate() / std::abs(m\_fps);}
\DoxyCodeLine{00788   \}}
\DoxyCodeLine{00789   \textcolor{keywordflow}{if} (!m\_sound) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00790   m\_viewerFps = m\_flipConsole-\/>getCurrentFps();}
\DoxyCodeLine{00791   \textcolor{keywordtype}{double} s0 = frame * m\_samplesPerFrame, s1 = s0 + m\_samplesPerFrame;}
\DoxyCodeLine{00792 }
\DoxyCodeLine{00793   \textcolor{comment}{// make the sound stop if the viewerfps is higher so the next sound can play}}
\DoxyCodeLine{00794   \textcolor{comment}{// on time.}}
\DoxyCodeLine{00795   \textcolor{keywordflow}{if} (m\_fps < m\_viewerFps)}
\DoxyCodeLine{00796     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet()-\/>stopScrub();}
\DoxyCodeLine{00797   \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>getXsheet()-\/>play(m\_sound, s0, s1,}
\DoxyCodeLine{00798                                                           \textcolor{keyword}{false});}
\DoxyCodeLine{00799 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a1b32e077401a0f55018f9c3f8c86f8ad}\label{class_scene_viewer_panel_a1b32e077401a0f55018f9c3f8c86f8ad}} 
\index{SceneViewerPanel@{SceneViewerPanel}!resizeEvent@{resizeEvent}}
\index{resizeEvent@{resizeEvent}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{resizeEvent()}{resizeEvent()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::resize\+Event (\begin{DoxyParamCaption}\item[{QResize\+Event $\ast$}]{e }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00410                                                   \{}
\DoxyCodeLine{00411   QWidget::resizeEvent(e);}
\DoxyCodeLine{00412   repaint();}
\DoxyCodeLine{00413   m\_sceneViewer-\/>update();}
\DoxyCodeLine{00414 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a552b1649486e956024bb2ec4122d1698}\label{class_scene_viewer_panel_a552b1649486e956024bb2ec4122d1698}} 
\index{SceneViewerPanel@{SceneViewerPanel}!save@{save}}
\index{save@{save}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{save()}{save()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::save (\begin{DoxyParamCaption}\item[{QSettings \&}]{settings }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_save_load_q_settings}{Save\+Load\+QSettings}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00852                                                      \{}
\DoxyCodeLine{00853   settings.setValue(\textcolor{stringliteral}{"{}visibleParts"{}}, m\_visiblePartsFlag);}
\DoxyCodeLine{00854 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_afa27a2c29b68576b041c47dda5308d13}\label{class_scene_viewer_panel_afa27a2c29b68576b041c47dda5308d13}} 
\index{SceneViewerPanel@{SceneViewerPanel}!setFlipHButtonChecked@{setFlipHButtonChecked}}
\index{setFlipHButtonChecked@{setFlipHButtonChecked}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{setFlipHButtonChecked}{setFlipHButtonChecked}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::set\+Flip\+HButton\+Checked (\begin{DoxyParamCaption}\item[{bool}]{checked }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00836                                                          \{}
\DoxyCodeLine{00837   m\_flipConsole-\/>setChecked(FlipConsole::eFlipHorizontal, checked);}
\DoxyCodeLine{00838 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a325c17a1e6db7fd601d3c39b9619d950}\label{class_scene_viewer_panel_a325c17a1e6db7fd601d3c39b9619d950}} 
\index{SceneViewerPanel@{SceneViewerPanel}!setFlipVButtonChecked@{setFlipVButtonChecked}}
\index{setFlipVButtonChecked@{setFlipVButtonChecked}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{setFlipVButtonChecked}{setFlipVButtonChecked}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::set\+Flip\+VButton\+Checked (\begin{DoxyParamCaption}\item[{bool}]{checked }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00840                                                          \{}
\DoxyCodeLine{00841   m\_flipConsole-\/>setChecked(FlipConsole::eFlipVertical, checked);}
\DoxyCodeLine{00842 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_aebf4b2dd5d728616578749649a6aa2a5}\label{class_scene_viewer_panel_aebf4b2dd5d728616578749649a6aa2a5}} 
\index{SceneViewerPanel@{SceneViewerPanel}!setVisiblePartsFlag@{setVisiblePartsFlag}}
\index{setVisiblePartsFlag@{setVisiblePartsFlag}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{setVisiblePartsFlag()}{setVisiblePartsFlag()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::set\+Visible\+Parts\+Flag (\begin{DoxyParamCaption}\item[{UINT}]{flag }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00846                                                     \{}
\DoxyCodeLine{00847   m\_visiblePartsFlag = flag;}
\DoxyCodeLine{00848   \mbox{\hyperlink{class_scene_viewer_panel_a02794c6982278819c7450ab1072da45e}{updateShowHide}}();}
\DoxyCodeLine{00849 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a708f71ba0077487f574ca07d170502c6}\label{class_scene_viewer_panel_a708f71ba0077487f574ca07d170502c6}} 
\index{SceneViewerPanel@{SceneViewerPanel}!showEvent@{showEvent}}
\index{showEvent@{showEvent}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{showEvent()}{showEvent()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::show\+Event (\begin{DoxyParamCaption}\item[{QShow\+Event $\ast$}]{event }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00316                                                   \{}
\DoxyCodeLine{00317   \mbox{\hyperlink{class_t_app}{TApp}} *app                    = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}();}
\DoxyCodeLine{00318   \mbox{\hyperlink{class_t_frame_handle}{TFrameHandle}} *frameHandle    = app-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}();}
\DoxyCodeLine{00319   \mbox{\hyperlink{class_t_scene_handle}{TSceneHandle}} *sceneHandle    = app-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}();}
\DoxyCodeLine{00320   \mbox{\hyperlink{class_t_xsh_level_handle}{TXshLevelHandle}} *levelHandle = app-\/>\mbox{\hyperlink{class_t_app_ad2923c9feaaa44ecd9cdd0fa029aa8aa}{getCurrentLevel}}();}
\DoxyCodeLine{00321   \mbox{\hyperlink{class_t_object_handle}{TObjectHandle}} *objectHandle  = app-\/>\mbox{\hyperlink{class_t_app_a0d91c122eec2b756b7c4780014e49f9e}{getCurrentObject}}();}
\DoxyCodeLine{00322   \mbox{\hyperlink{class_t_xsheet_handle}{TXsheetHandle}} *xshHandle     = app-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}();}
\DoxyCodeLine{00323 }
\DoxyCodeLine{00324   onSceneChanged();}
\DoxyCodeLine{00325 }
\DoxyCodeLine{00326   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{true};}
\DoxyCodeLine{00327 }
\DoxyCodeLine{00328   ret = ret \&\& connect(xshHandle, SIGNAL(xsheetChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00329                        SLOT(onSceneChanged()));}
\DoxyCodeLine{00330   ret = ret \&\& connect(sceneHandle, SIGNAL(sceneSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00331                        SLOT(onSceneChanged()));}
\DoxyCodeLine{00332   ret = ret \&\& connect(sceneHandle, SIGNAL(sceneChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00333                        SLOT(onSceneChanged()));}
\DoxyCodeLine{00334 }
\DoxyCodeLine{00335   ret = ret \&\& connect(sceneHandle, SIGNAL(nameSceneChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00336                        SLOT(changeWindowTitle()));}
\DoxyCodeLine{00337   ret =}
\DoxyCodeLine{00338       ret \&\& connect(sceneHandle, SIGNAL(preferenceChanged(\textcolor{keyword}{const} QString \&)),}
\DoxyCodeLine{00339                      m\_flipConsole, SLOT(onPreferenceChanged(\textcolor{keyword}{const} QString \&)));}
\DoxyCodeLine{00340   ret = ret \&\& connect(levelHandle, SIGNAL(xshLevelSwitched(\mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *)), \textcolor{keyword}{this},}
\DoxyCodeLine{00341                        SLOT(onXshLevelSwitched(\mbox{\hyperlink{class_t_xsh_level}{TXshLevel}} *)));}
\DoxyCodeLine{00342   ret = ret \&\& connect(levelHandle, SIGNAL(xshLevelChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00343                        SLOT(changeWindowTitle()));}
\DoxyCodeLine{00344   ret = ret \&\& connect(levelHandle, SIGNAL(xshLevelTitleChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00345                        SLOT(changeWindowTitle()));}
\DoxyCodeLine{00346   ret = ret \&\& connect(levelHandle, SIGNAL(xshLevelChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00347                        SLOT(updateFrameRange()));}
\DoxyCodeLine{00348 }
\DoxyCodeLine{00349   ret = ret \&\& connect(frameHandle, SIGNAL(frameSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00350                        SLOT(changeWindowTitle()));}
\DoxyCodeLine{00351   ret = ret \&\& connect(frameHandle, SIGNAL(frameSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00352                        SLOT(onFrameSwitched()));}
\DoxyCodeLine{00353   ret = ret \&\& connect(frameHandle, SIGNAL(frameTypeChanged()), \textcolor{keyword}{this},}
\DoxyCodeLine{00354                        SLOT(onFrameTypeChanged()));}
\DoxyCodeLine{00355 }
\DoxyCodeLine{00356   ret = ret \&\& connect(app-\/>\mbox{\hyperlink{class_t_app_ad70b447aff489792cfc3dbac7150a540}{getCurrentTool}}(), SIGNAL(toolSwitched()),}
\DoxyCodeLine{00357                        m\_sceneViewer, SLOT(onToolSwitched()));}
\DoxyCodeLine{00358 }
\DoxyCodeLine{00359   assert(ret);}
\DoxyCodeLine{00360 }
\DoxyCodeLine{00361   \textcolor{comment}{// Aggiorno FPS al valore definito nel viewer corrente.}}
\DoxyCodeLine{00362   \textcolor{comment}{// frameHandle-\/>setPreviewFrameRate(m\_fpsSlider-\/>value());}}
\DoxyCodeLine{00363   m\_flipConsole-\/>setActive(\textcolor{keyword}{true});}
\DoxyCodeLine{00364   m\_flipConsole-\/>onPreferenceChanged(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00365 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_af2e5aaaae297bc9e569442889b3beff8}\label{class_scene_viewer_panel_af2e5aaaae297bc9e569442889b3beff8}} 
\index{SceneViewerPanel@{SceneViewerPanel}!updateFrameMarkers@{updateFrameMarkers}}
\index{updateFrameMarkers@{updateFrameMarkers}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{updateFrameMarkers}{updateFrameMarkers}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::update\+Frame\+Markers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00682                                           \{}
\DoxyCodeLine{00683   \textcolor{keywordtype}{int} fromIndex, toIndex, dummy;}
\DoxyCodeLine{00684   XsheetGUI::getPlayRange(fromIndex, toIndex, dummy);}
\DoxyCodeLine{00685   \mbox{\hyperlink{class_t_frame_handle}{TFrameHandle}} *fh = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}();}
\DoxyCodeLine{00686   \textcolor{keywordflow}{if} (fh-\/>isEditingLevel()) \{}
\DoxyCodeLine{00687     fromIndex = 0;}
\DoxyCodeLine{00688     toIndex   = -\/1;}
\DoxyCodeLine{00689   \}}
\DoxyCodeLine{00690   m\_flipConsole-\/>setMarkers(fromIndex, toIndex);}
\DoxyCodeLine{00691 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_aba7dbba0c2b11ba152e84678599f0424}\label{class_scene_viewer_panel_aba7dbba0c2b11ba152e84678599f0424}} 
\index{SceneViewerPanel@{SceneViewerPanel}!updateFrameRange@{updateFrameRange}}
\index{updateFrameRange@{updateFrameRange}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{updateFrameRange}{updateFrameRange}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::update\+Frame\+Range (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00672                                         \{}
\DoxyCodeLine{00673   \mbox{\hyperlink{class_t_frame_handle}{TFrameHandle}} *fh  = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a35516f8175dab3ccdf3d6d3c3e5f59ae}{getCurrentFrame}}();}
\DoxyCodeLine{00674   \textcolor{keywordtype}{int} frameIndex    = fh-\/>getFrameIndex();}
\DoxyCodeLine{00675   \textcolor{keywordtype}{int} maxFrameIndex = fh-\/>getMaxFrameIndex();}
\DoxyCodeLine{00676   \textcolor{keywordflow}{if} (frameIndex > maxFrameIndex) maxFrameIndex = frameIndex;}
\DoxyCodeLine{00677   m\_flipConsole-\/>setFrameRange(1, maxFrameIndex + 1, 1, frameIndex + 1);}
\DoxyCodeLine{00678 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_viewer_panel_a02794c6982278819c7450ab1072da45e}\label{class_scene_viewer_panel_a02794c6982278819c7450ab1072da45e}} 
\index{SceneViewerPanel@{SceneViewerPanel}!updateShowHide@{updateShowHide}}
\index{updateShowHide@{updateShowHide}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{updateShowHide()}{updateShowHide()}}
{\footnotesize\ttfamily void Scene\+Viewer\+Panel\+::update\+Show\+Hide (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

toggle show/hide of the widgets according to m\+\_\+visible\+Flag 
\begin{DoxyCode}{0}
\DoxyCodeLine{00198                                       \{}
\DoxyCodeLine{00199   \textcolor{comment}{// flip console}}
\DoxyCodeLine{00200   m\_flipConsole-\/>showHidePlaybar(m\_visiblePartsFlag \& CVPARTS\_PLAYBAR);}
\DoxyCodeLine{00201   m\_flipConsole-\/>showHideFrameSlider(m\_visiblePartsFlag \& CVPARTS\_FRAMESLIDER);}
\DoxyCodeLine{00202   update();}
\DoxyCodeLine{00203 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00255}{on\+Show\+Hide\+Action\+Triggered()}}.



\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{class_scene_viewer_panel_aa99b761870fea5cd69926daa161991e7}\label{class_scene_viewer_panel_aa99b761870fea5cd69926daa161991e7}} 
\index{SceneViewerPanel@{SceneViewerPanel}!SceneViewer@{SceneViewer}}
\index{SceneViewer@{SceneViewer}!SceneViewerPanel@{SceneViewerPanel}}
\doxysubsubsection{\texorpdfstring{SceneViewer}{SceneViewer}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{class_scene_viewer}{Scene\+Viewer}}\hspace{0.3cm}{\ttfamily [friend]}}



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/viewerpane.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/viewerpane.\+cpp\end{DoxyCompactItemize}
