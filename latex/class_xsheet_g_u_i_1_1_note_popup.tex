\hypertarget{class_xsheet_g_u_i_1_1_note_popup}{}\doxysection{Xsheet\+GUI\+::Note\+Popup Class Reference}
\label{class_xsheet_g_u_i_1_1_note_popup}\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
Inheritance diagram for Xsheet\+GUI\+::Note\+Popup\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_xsheet_g_u_i_1_1_note_popup}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a0a667de732629ef01636db33dbd1af16}{Note\+Popup}} (\mbox{\hyperlink{class_xsheet_viewer}{Xsheet\+Viewer}} $\ast$viewer, int note\+Index)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_af8746b24f91e6abd2d2ee457d478321d}{set\+Current\+Note\+Index}} (int index)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_aea73633278a75d3fb012be9244384f52}{update}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Slots}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a3436ae3cf506621da3fd129aa22cf871}{on\+Color1\+Switched}} (const TPixel32 \&, bool is\+Dragging)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a978014bac32e3f6138c0ced8739fe653}{on\+Color2\+Switched}} (const TPixel32 \&, bool is\+Dragging)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a01babedb257dc6c4979c5fd6a6d968be}{on\+Color3\+Switched}} (const TPixel32 \&, bool is\+Dragging)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a3f85d318037045696963314757b4613e}{on\+Color4\+Switched}} (const TPixel32 \&, bool is\+Dragging)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a4cb89924f55d6782c9e454374761623a}{on\+Color5\+Switched}} (const TPixel32 \&, bool is\+Dragging)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_abda2391dc170937e8925ffb633b521e2}{on\+Color6\+Switched}} (const TPixel32 \&, bool is\+Dragging)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a47534132208f94d17acde80312722474}{on\+Color7\+Switched}} (const TPixel32 \&, bool is\+Dragging)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_acb30e053495ca7d1e12548dd131e6119}{on\+Color\+Changed}} (const TPixel32 \&, bool is\+Dragging)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a34a564b274acea506bfb3db99fc132a6}{on\+Note\+Added}} ()
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_af3f3af4d0cc493261d692239d5eb1926}{on\+Note\+Discarded}} ()
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a67737fddee33f5c60f1747ce51e4eea3}{on\+Text\+Edit\+Focus\+In}} ()
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_afaf25ede5215c767197af073ed098cfd}{on\+Xsheet\+Switched}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_xsh_note_set}{TXsh\+Note\+Set}} $\ast$ \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a43f13c5f620496b51121053beef1e3d5}{get\+Notes}} ()
\item 
QList$<$ TPixel32 $>$ \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a8f195818243d6a465c5548c2455ffe4d}{get\+Colors}} ()
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a2b0e1c75d7eb0f77fe74b4e2b0593d42}{on\+Color\+Field\+Editing\+Changed}} (const TPixel32 \&color, bool is\+Editing, int index)
\item 
\mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui\+::\+Color\+Field}} $\ast$ \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a5a497f14c228c5a2e47ee1b964c4dbdc}{create\+Color\+Field}} (int index)
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_ae9dcd40a0b8609022fd33d0cadfde65d}{update\+Color\+Field}} ()
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a5fecbea80447a6f469f49d9a4431f3c5}{show\+Event}} (QShow\+Event $\ast$) override
\item 
void \mbox{\hyperlink{class_xsheet_g_u_i_1_1_note_popup_a25ce8e33b7d323b94fbfc87f9e916ed1}{hide\+Event}} (QHide\+Event $\ast$) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a0a667de732629ef01636db33dbd1af16}\label{class_xsheet_g_u_i_1_1_note_popup_a0a667de732629ef01636db33dbd1af16}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!NotePopup@{NotePopup}}
\index{NotePopup@{NotePopup}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{NotePopup()}{NotePopup()}}
{\footnotesize\ttfamily Xsheet\+GUI\+::\+Note\+Popup\+::\+Note\+Popup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_xsheet_viewer}{Xsheet\+Viewer}} $\ast$}]{viewer,  }\item[{int}]{note\+Index }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00050     : \mbox{\hyperlink{class_d_v_gui_1_1_dialog}{DVGui::Dialog}}(\mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>getMainWindow(), \textcolor{keyword}{false}, \textcolor{keyword}{false},}
\DoxyCodeLine{00051                     \textcolor{stringliteral}{"{}NotePopup"{}})}
\DoxyCodeLine{00052     , m\_viewer(viewer)}
\DoxyCodeLine{00053     , m\_noteIndex(noteIndex)}
\DoxyCodeLine{00054     , m\_currentColorIndex(0)}
\DoxyCodeLine{00055     , m\_isOneButtonPressed(\textcolor{keyword}{false}) \{}
\DoxyCodeLine{00056   setWindowTitle(tr(\textcolor{stringliteral}{"{}Memo"{}}));}
\DoxyCodeLine{00057   \textcolor{keywordtype}{bool} ret = \textcolor{keyword}{true};}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059   setMinimumSize(330, 180);}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_a7aa8ccf399f483fe1f36c30a1318987a}{setTopMargin}}(0);}
\DoxyCodeLine{00062 }
\DoxyCodeLine{00063   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ae7de609b3b23233656bc68852a2d10cb}{beginVLayout}}();}
\DoxyCodeLine{00064 }
\DoxyCodeLine{00065   QGridLayout *layout = \textcolor{keyword}{new} QGridLayout(\textcolor{keyword}{this});}
\DoxyCodeLine{00066   layout-\/>setMargin(1);}
\DoxyCodeLine{00067   layout-\/>setColumnStretch(7, 10);}
\DoxyCodeLine{00068   layout-\/>setColumnStretch(8, 10);}
\DoxyCodeLine{00069   \textcolor{keywordtype}{int} row = 0;}
\DoxyCodeLine{00070   \textcolor{keywordtype}{int} col = 0;}
\DoxyCodeLine{00071 }
\DoxyCodeLine{00072   QString text;}
\DoxyCodeLine{00073   TPixel32 color;}
\DoxyCodeLine{00074   \textcolor{keywordtype}{int} colorIndex = 0;}
\DoxyCodeLine{00075   \textcolor{keywordflow}{if} (m\_noteIndex < 0) \{}
\DoxyCodeLine{00076     text  = QString();}
\DoxyCodeLine{00077     color = getColors().at(0);}
\DoxyCodeLine{00078   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00079     text                = getNotes()-\/>\mbox{\hyperlink{class_t_xsh_note_set_a9586875cc855881ad78fbb2defb1d1fd}{getNoteHtmlText}}(m\_noteIndex);}
\DoxyCodeLine{00080     m\_currentColorIndex = getNotes()-\/>getNoteColorIndex(m\_noteIndex);}
\DoxyCodeLine{00081     color               = getColors().at(m\_currentColorIndex);}
\DoxyCodeLine{00082   \}}
\DoxyCodeLine{00083 }
\DoxyCodeLine{00084   m\_textEditor = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_dv_text_edit}{DVGui::DvTextEdit}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00085   m\_textEditor-\/>setObjectName(\textcolor{stringliteral}{"{}noteTextEdit"{}});}
\DoxyCodeLine{00086   m\_textEditor-\/>setHtml(text);}
\DoxyCodeLine{00087   m\_textEditor-\/>setStyleSheet(computeBackgroundStyleSheetString(}
\DoxyCodeLine{00088       QColor(color.r, color.g, color.b, color.m)));}
\DoxyCodeLine{00089   layout-\/>addWidget(m\_textEditor, row, col, 1, 9);}
\DoxyCodeLine{00090   layout-\/>setRowStretch(row, 10);}
\DoxyCodeLine{00091   ret = ret \&\& connect(m\_textEditor, SIGNAL(focusIn()), \textcolor{keyword}{this},}
\DoxyCodeLine{00092                        SLOT(onTextEditFocusIn()));}
\DoxyCodeLine{00093   row++;}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095   \textcolor{keywordtype}{int} index                 = 0;}
\DoxyCodeLine{00096   \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}} *color1 = createColorField(index);}
\DoxyCodeLine{00097   ret = ret \&\& connect(color1, SIGNAL(editingChanged(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00098                        SLOT(onColor1Switched(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00099   layout-\/>addWidget(color1, row, index, 1, 1);}
\DoxyCodeLine{00100   m\_colorFields.push\_back(color1);}
\DoxyCodeLine{00101   index++;}
\DoxyCodeLine{00102   \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}} *color2 = createColorField(index);}
\DoxyCodeLine{00103   ret = ret \&\& connect(color2, SIGNAL(editingChanged(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00104                        SLOT(onColor2Switched(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00105   layout-\/>addWidget(color2, row, index, 1, 1);}
\DoxyCodeLine{00106   m\_colorFields.push\_back(color2);}
\DoxyCodeLine{00107   index++;}
\DoxyCodeLine{00108   \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}} *color3 = createColorField(index);}
\DoxyCodeLine{00109   ret = ret \&\& connect(color3, SIGNAL(editingChanged(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00110                        SLOT(onColor3Switched(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00111   layout-\/>addWidget(color3, row, index, 1, 1);}
\DoxyCodeLine{00112   m\_colorFields.push\_back(color3);}
\DoxyCodeLine{00113   index++;}
\DoxyCodeLine{00114   \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}} *color4 = createColorField(index);}
\DoxyCodeLine{00115   ret = ret \&\& connect(color4, SIGNAL(editingChanged(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00116                        SLOT(onColor4Switched(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00117   layout-\/>addWidget(color4, row, index, 1, 1);}
\DoxyCodeLine{00118   m\_colorFields.push\_back(color4);}
\DoxyCodeLine{00119   index++;}
\DoxyCodeLine{00120   \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}} *color5 = createColorField(index);}
\DoxyCodeLine{00121   ret = ret \&\& connect(color5, SIGNAL(editingChanged(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00122                        SLOT(onColor5Switched(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00123   layout-\/>addWidget(color5, row, index, 1, 1);}
\DoxyCodeLine{00124   m\_colorFields.push\_back(color5);}
\DoxyCodeLine{00125   index++;}
\DoxyCodeLine{00126   \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}} *color6 = createColorField(index);}
\DoxyCodeLine{00127   ret = ret \&\& connect(color6, SIGNAL(editingChanged(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00128                        SLOT(onColor6Switched(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00129   layout-\/>addWidget(color6, row, index, 1, 1);}
\DoxyCodeLine{00130   m\_colorFields.push\_back(color6);}
\DoxyCodeLine{00131   index++;}
\DoxyCodeLine{00132   \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}} *color7 = createColorField(index);}
\DoxyCodeLine{00133   ret = ret \&\& connect(color7, SIGNAL(editingChanged(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00134                        SLOT(onColor7Switched(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00135   layout-\/>addWidget(color7, row, index, 1, 1);}
\DoxyCodeLine{00136   m\_colorFields.push\_back(color7);}
\DoxyCodeLine{00137 }
\DoxyCodeLine{00138   col = index;}
\DoxyCodeLine{00139   col++;}
\DoxyCodeLine{00140 }
\DoxyCodeLine{00141   QPushButton *addNoteButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Post"{}}));}
\DoxyCodeLine{00142   addNoteButton-\/>setMinimumSize(50, 20);}
\DoxyCodeLine{00143   addNoteButton-\/>setObjectName(\textcolor{stringliteral}{"{}PushButton\_NoPadding"{}});}
\DoxyCodeLine{00144   ret = ret \&\&}
\DoxyCodeLine{00145         connect(addNoteButton, SIGNAL(pressed()), \textcolor{keyword}{this}, SLOT(onNoteAdded()));}
\DoxyCodeLine{00146   layout-\/>addWidget(addNoteButton, row, col, 1, 1);}
\DoxyCodeLine{00147   col++;}
\DoxyCodeLine{00148   QPushButton *discardNoteButton = \textcolor{keyword}{new} QPushButton(tr(\textcolor{stringliteral}{"{}Discard"{}}));}
\DoxyCodeLine{00149   discardNoteButton-\/>setMinimumSize(50, 20);}
\DoxyCodeLine{00150   discardNoteButton-\/>setObjectName(\textcolor{stringliteral}{"{}PushButton\_NoPadding"{}});}
\DoxyCodeLine{00151   ret = ret \&\& connect(discardNoteButton, SIGNAL(pressed()), \textcolor{keyword}{this},}
\DoxyCodeLine{00152                        SLOT(onNoteDiscarded()));}
\DoxyCodeLine{00153   layout-\/>addWidget(discardNoteButton, row, col, 1, 1);}
\DoxyCodeLine{00154   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_adecc035c55394875b6354480911feab2}{addLayout}}(layout, \textcolor{keyword}{false});}
\DoxyCodeLine{00155 }
\DoxyCodeLine{00156   \mbox{\hyperlink{class_d_v_gui_1_1_dialog_ab88d88334402845e544da6ca1f207c79}{endVLayout}}();}
\DoxyCodeLine{00157 }
\DoxyCodeLine{00158   \textcolor{comment}{// bad patch to bug:}}
\DoxyCodeLine{00159   \textcolor{comment}{// when you write  some text to an existing note, appending it, the resulting}}
\DoxyCodeLine{00160   \textcolor{comment}{// html is corrupted and nothing is shown. setting a font (for example) fix}}
\DoxyCodeLine{00161   \textcolor{comment}{// it!}}
\DoxyCodeLine{00162   m\_textEditor-\/>changeFont(QFont(\textcolor{stringliteral}{"{}Arial"{}}, 10));}
\DoxyCodeLine{00163 }
\DoxyCodeLine{00164   assert(ret);}
\DoxyCodeLine{00165 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a73acc8ca692c30fbb141e698cf01848b}\label{class_xsheet_g_u_i_1_1_note_popup_a73acc8ca692c30fbb141e698cf01848b}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!````~NotePopup@{$\sim$NotePopup}}
\index{````~NotePopup@{$\sim$NotePopup}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{$\sim$NotePopup()}{~NotePopup()}}
{\footnotesize\ttfamily Xsheet\+GUI\+::\+Note\+Popup\+::$\sim$\+Note\+Popup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00049 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a5a497f14c228c5a2e47ee1b964c4dbdc}\label{class_xsheet_g_u_i_1_1_note_popup_a5a497f14c228c5a2e47ee1b964c4dbdc}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!createColorField@{createColorField}}
\index{createColorField@{createColorField}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{createColorField()}{createColorField()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui\+::\+Color\+Field}} $\ast$ Xsheet\+GUI\+::\+Note\+Popup\+::create\+Color\+Field (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00182                                                       \{}
\DoxyCodeLine{00183   TPixel32 color                = getColors().at(index);}
\DoxyCodeLine{00184   \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}} *colorField = \textcolor{keyword}{new} \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}}(\textcolor{keyword}{this}, \textcolor{keyword}{true}, color, 20);}
\DoxyCodeLine{00185   colorField-\/>\mbox{\hyperlink{class_d_v_gui_1_1_color_field_a7452cd2805f9aac808bece229d9bc6e1}{hideChannelsFields}}(\textcolor{keyword}{true});}
\DoxyCodeLine{00186   \textcolor{keywordtype}{bool} ret = connect(colorField, SIGNAL(colorChanged(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})),}
\DoxyCodeLine{00187                      SLOT(onColorChanged(\textcolor{keyword}{const} TPixel32 \&, \textcolor{keywordtype}{bool})));}
\DoxyCodeLine{00188   assert(ret);}
\DoxyCodeLine{00189   \textcolor{keywordflow}{return} colorField;}
\DoxyCodeLine{00190 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a8f195818243d6a465c5548c2455ffe4d}\label{class_xsheet_g_u_i_1_1_note_popup_a8f195818243d6a465c5548c2455ffe4d}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!getColors@{getColors}}
\index{getColors@{getColors}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{getColors()}{getColors()}}
{\footnotesize\ttfamily QList$<$ TPixel32 $>$ Xsheet\+GUI\+::\+Note\+Popup\+::get\+Colors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00246                                      \{}
\DoxyCodeLine{00247   \textcolor{keywordflow}{return} m\_viewer-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a35d49d436513243d059eee3a25ffa2ef}{getScene}}()-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}()-\/>getNoteColors();}
\DoxyCodeLine{00248 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a43f13c5f620496b51121053beef1e3d5}\label{class_xsheet_g_u_i_1_1_note_popup_a43f13c5f620496b51121053beef1e3d5}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!getNotes@{getNotes}}
\index{getNotes@{getNotes}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{getNotes()}{getNotes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_note_set}{TXsh\+Note\+Set}} $\ast$ Xsheet\+GUI\+::\+Note\+Popup\+::get\+Notes (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00242 \{ \textcolor{keywordflow}{return} m\_viewer-\/>getXsheet()-\/>getNotes(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a25ce8e33b7d323b94fbfc87f9e916ed1}\label{class_xsheet_g_u_i_1_1_note_popup_a25ce8e33b7d323b94fbfc87f9e916ed1}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!hideEvent@{hideEvent}}
\index{hideEvent@{hideEvent}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{hideEvent()}{hideEvent()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::hide\+Event (\begin{DoxyParamCaption}\item[{QHide\+Event $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00222                                       \{}
\DoxyCodeLine{00223   \mbox{\hyperlink{class_t_xsheet_handle}{TXsheetHandle}} *xsheetHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}();}
\DoxyCodeLine{00224   disconnect(xsheetHandle, SIGNAL(xsheetSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00225              SLOT(onXsheetSwitched()));}
\DoxyCodeLine{00226 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a3436ae3cf506621da3fd129aa22cf871}\label{class_xsheet_g_u_i_1_1_note_popup_a3436ae3cf506621da3fd129aa22cf871}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onColor1Switched@{onColor1Switched}}
\index{onColor1Switched@{onColor1Switched}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onColor1Switched}{onColor1Switched}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Color1\+Switched (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{color,  }\item[{bool}]{is\+Dragging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00266                                                                       \{}
\DoxyCodeLine{00267   onColorFieldEditingChanged(color, isEditing, 0);}
\DoxyCodeLine{00268 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a978014bac32e3f6138c0ced8739fe653}\label{class_xsheet_g_u_i_1_1_note_popup_a978014bac32e3f6138c0ced8739fe653}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onColor2Switched@{onColor2Switched}}
\index{onColor2Switched@{onColor2Switched}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onColor2Switched}{onColor2Switched}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Color2\+Switched (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{color,  }\item[{bool}]{is\+Dragging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00272                                                                       \{}
\DoxyCodeLine{00273   onColorFieldEditingChanged(color, isEditing, 1);}
\DoxyCodeLine{00274 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a01babedb257dc6c4979c5fd6a6d968be}\label{class_xsheet_g_u_i_1_1_note_popup_a01babedb257dc6c4979c5fd6a6d968be}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onColor3Switched@{onColor3Switched}}
\index{onColor3Switched@{onColor3Switched}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onColor3Switched}{onColor3Switched}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Color3\+Switched (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{color,  }\item[{bool}]{is\+Dragging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00278                                                                       \{}
\DoxyCodeLine{00279   onColorFieldEditingChanged(color, isEditing, 2);}
\DoxyCodeLine{00280 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a3f85d318037045696963314757b4613e}\label{class_xsheet_g_u_i_1_1_note_popup_a3f85d318037045696963314757b4613e}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onColor4Switched@{onColor4Switched}}
\index{onColor4Switched@{onColor4Switched}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onColor4Switched}{onColor4Switched}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Color4\+Switched (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{color,  }\item[{bool}]{is\+Dragging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00284                                                                       \{}
\DoxyCodeLine{00285   onColorFieldEditingChanged(color, isEditing, 3);}
\DoxyCodeLine{00286 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a4cb89924f55d6782c9e454374761623a}\label{class_xsheet_g_u_i_1_1_note_popup_a4cb89924f55d6782c9e454374761623a}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onColor5Switched@{onColor5Switched}}
\index{onColor5Switched@{onColor5Switched}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onColor5Switched}{onColor5Switched}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Color5\+Switched (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{color,  }\item[{bool}]{is\+Dragging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00290                                                                       \{}
\DoxyCodeLine{00291   onColorFieldEditingChanged(color, isEditing, 4);}
\DoxyCodeLine{00292 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_abda2391dc170937e8925ffb633b521e2}\label{class_xsheet_g_u_i_1_1_note_popup_abda2391dc170937e8925ffb633b521e2}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onColor6Switched@{onColor6Switched}}
\index{onColor6Switched@{onColor6Switched}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onColor6Switched}{onColor6Switched}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Color6\+Switched (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{color,  }\item[{bool}]{is\+Dragging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00296                                                                       \{}
\DoxyCodeLine{00297   onColorFieldEditingChanged(color, isEditing, 5);}
\DoxyCodeLine{00298 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a47534132208f94d17acde80312722474}\label{class_xsheet_g_u_i_1_1_note_popup_a47534132208f94d17acde80312722474}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onColor7Switched@{onColor7Switched}}
\index{onColor7Switched@{onColor7Switched}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onColor7Switched}{onColor7Switched}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Color7\+Switched (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{color,  }\item[{bool}]{is\+Dragging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00302                                                                       \{}
\DoxyCodeLine{00303   onColorFieldEditingChanged(color, isEditing, 6);}
\DoxyCodeLine{00304 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_acb30e053495ca7d1e12548dd131e6119}\label{class_xsheet_g_u_i_1_1_note_popup_acb30e053495ca7d1e12548dd131e6119}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onColorChanged@{onColorChanged}}
\index{onColorChanged@{onColorChanged}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onColorChanged}{onColorChanged}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Color\+Changed (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{color,  }\item[{bool}]{is\+Dragging }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00230                                                                      \{}
\DoxyCodeLine{00231   \textcolor{keywordflow}{if} (!isDragging)}
\DoxyCodeLine{00232     m\_textEditor-\/>setStyleSheet(computeBackgroundStyleSheetString(}
\DoxyCodeLine{00233         QColor(color.r, color.g, color.b, color.m)));}
\DoxyCodeLine{00234 }
\DoxyCodeLine{00235   \mbox{\hyperlink{class_t_scene_properties}{TSceneProperties}} *sp = m\_viewer-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a35d49d436513243d059eee3a25ffa2ef}{getScene}}()-\/>\mbox{\hyperlink{class_toonz_scene_a8ef96fedc17d7def810ac419b0939254}{getProperties}}();}
\DoxyCodeLine{00236   sp-\/>setNoteColor(color, m\_currentColorIndex);}
\DoxyCodeLine{00237   m\_viewer-\/>\mbox{\hyperlink{class_xsheet_viewer_acaf1fd65009985aef262349db991f3a4}{updateNoteWidgets}}();}
\DoxyCodeLine{00238 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a2b0e1c75d7eb0f77fe74b4e2b0593d42}\label{class_xsheet_g_u_i_1_1_note_popup_a2b0e1c75d7eb0f77fe74b4e2b0593d42}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onColorFieldEditingChanged@{onColorFieldEditingChanged}}
\index{onColorFieldEditingChanged@{onColorFieldEditingChanged}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onColorFieldEditingChanged()}{onColorFieldEditingChanged()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Color\+Field\+Editing\+Changed (\begin{DoxyParamCaption}\item[{const TPixel32 \&}]{color,  }\item[{bool}]{is\+Editing,  }\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00253                                                                       \{}
\DoxyCodeLine{00254   \textcolor{keywordflow}{if} (!isEditing) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00255   m\_textEditor-\/>setStyleSheet(computeBackgroundStyleSheetString(}
\DoxyCodeLine{00256       QColor(color.r, color.g, color.b, color.m)));}
\DoxyCodeLine{00257   \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}} *colorField = m\_colorFields.at(m\_currentColorIndex);}
\DoxyCodeLine{00258   colorField-\/>setEditingChangeNotified(\textcolor{keyword}{false});}
\DoxyCodeLine{00259   colorField-\/>setIsEditing(\textcolor{keyword}{false});}
\DoxyCodeLine{00260   colorField-\/>setEditingChangeNotified(\textcolor{keyword}{true});}
\DoxyCodeLine{00261   m\_currentColorIndex = index;}
\DoxyCodeLine{00262 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a34a564b274acea506bfb3db99fc132a6}\label{class_xsheet_g_u_i_1_1_note_popup_a34a564b274acea506bfb3db99fc132a6}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onNoteAdded@{onNoteAdded}}
\index{onNoteAdded@{onNoteAdded}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onNoteAdded}{onNoteAdded}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Note\+Added (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00308                             \{}
\DoxyCodeLine{00309   \textcolor{keywordflow}{if} (m\_isOneButtonPressed) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00310   m\_isOneButtonPressed = \textcolor{keyword}{true};}
\DoxyCodeLine{00311   \textcolor{keywordtype}{int} newNoteIndex     = m\_noteIndex;}
\DoxyCodeLine{00312   \textcolor{keywordflow}{if} (m\_noteIndex < 0) \{}
\DoxyCodeLine{00313     \mbox{\hyperlink{struct_t_xsh_note_set_1_1_note}{TXshNoteSet::Note}} note;}
\DoxyCodeLine{00314     note.m\_col   = m\_viewer-\/>getCurrentColumn();}
\DoxyCodeLine{00315     note.m\_row   = m\_viewer-\/>getCurrentRow();}
\DoxyCodeLine{00316     newNoteIndex = getNotes()-\/>addNote(note);}
\DoxyCodeLine{00317   \}}
\DoxyCodeLine{00318 }
\DoxyCodeLine{00319   getNotes()-\/>setNoteHtmlText(newNoteIndex, m\_textEditor-\/>toHtml());}
\DoxyCodeLine{00320   getNotes()-\/>setNoteColorIndex(newNoteIndex, m\_currentColorIndex);}
\DoxyCodeLine{00321 }
\DoxyCodeLine{00322   m\_viewer-\/>setCurrentNoteIndex(newNoteIndex);}
\DoxyCodeLine{00323   m\_viewer-\/>updateCells();}
\DoxyCodeLine{00324 }
\DoxyCodeLine{00325   close();}
\DoxyCodeLine{00326 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_af3f3af4d0cc493261d692239d5eb1926}\label{class_xsheet_g_u_i_1_1_note_popup_af3f3af4d0cc493261d692239d5eb1926}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onNoteDiscarded@{onNoteDiscarded}}
\index{onNoteDiscarded@{onNoteDiscarded}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onNoteDiscarded}{onNoteDiscarded}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Note\+Discarded (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00330                                 \{}
\DoxyCodeLine{00331   \textcolor{keywordflow}{if} (m\_isOneButtonPressed) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00332   m\_isOneButtonPressed = \textcolor{keyword}{true};}
\DoxyCodeLine{00333   \textcolor{keywordflow}{if} (m\_noteIndex < 0) \{}
\DoxyCodeLine{00334     hide();}
\DoxyCodeLine{00335     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00336   \}}
\DoxyCodeLine{00337   getNotes()-\/>removeNote(m\_noteIndex);}
\DoxyCodeLine{00338   hide();}
\DoxyCodeLine{00339 }
\DoxyCodeLine{00340   m\_viewer-\/>\mbox{\hyperlink{class_xsheet_viewer_a5b26ae9f867205f5ff7b8fe98f0e0d49}{discardNoteWidget}}();}
\DoxyCodeLine{00341 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a67737fddee33f5c60f1747ce51e4eea3}\label{class_xsheet_g_u_i_1_1_note_popup_a67737fddee33f5c60f1747ce51e4eea3}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onTextEditFocusIn@{onTextEditFocusIn}}
\index{onTextEditFocusIn@{onTextEditFocusIn}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onTextEditFocusIn}{onTextEditFocusIn}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Text\+Edit\+Focus\+In (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00345                                   \{}
\DoxyCodeLine{00346   m\_viewer-\/>setCurrentNoteIndex(m\_noteIndex);}
\DoxyCodeLine{00347 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_afaf25ede5215c767197af073ed098cfd}\label{class_xsheet_g_u_i_1_1_note_popup_afaf25ede5215c767197af073ed098cfd}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!onXsheetSwitched@{onXsheetSwitched}}
\index{onXsheetSwitched@{onXsheetSwitched}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{onXsheetSwitched}{onXsheetSwitched}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::on\+Xsheet\+Switched (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [slot]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00351                                  \{}
\DoxyCodeLine{00352   \mbox{\hyperlink{class_t_xsh_note_set}{TXshNoteSet}} *notes = getNotes();}
\DoxyCodeLine{00353   \textcolor{keywordflow}{if} (notes-\/>getCount() == 0 || m\_noteIndex == -\/1) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00354   m\_currentColorIndex = getNotes()-\/>getNoteColorIndex(m\_noteIndex);}
\DoxyCodeLine{00355   TPixel32 color      = getColors().at(m\_currentColorIndex);}
\DoxyCodeLine{00356   m\_textEditor-\/>setStyleSheet(computeBackgroundStyleSheetString(}
\DoxyCodeLine{00357       QColor(color.r, color.g, color.b, color.m)));}
\DoxyCodeLine{00358   m\_textEditor-\/>setHtml(notes-\/>\mbox{\hyperlink{class_t_xsh_note_set_a9586875cc855881ad78fbb2defb1d1fd}{getNoteHtmlText}}(m\_noteIndex));}
\DoxyCodeLine{00359 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_af8746b24f91e6abd2d2ee457d478321d}\label{class_xsheet_g_u_i_1_1_note_popup_af8746b24f91e6abd2d2ee457d478321d}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!setCurrentNoteIndex@{setCurrentNoteIndex}}
\index{setCurrentNoteIndex@{setCurrentNoteIndex}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{setCurrentNoteIndex()}{setCurrentNoteIndex()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::set\+Current\+Note\+Index (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00169 \{ m\_noteIndex = index; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_a5fecbea80447a6f469f49d9a4431f3c5}\label{class_xsheet_g_u_i_1_1_note_popup_a5fecbea80447a6f469f49d9a4431f3c5}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!showEvent@{showEvent}}
\index{showEvent@{showEvent}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{showEvent()}{showEvent()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::show\+Event (\begin{DoxyParamCaption}\item[{QShow\+Event $\ast$}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00209                                       \{}
\DoxyCodeLine{00210   \textcolor{keywordflow}{if} (m\_noteIndex == -\/1) m\_textEditor-\/>clear();}
\DoxyCodeLine{00211   m\_isOneButtonPressed = \textcolor{keyword}{false};}
\DoxyCodeLine{00212   updateColorField();}
\DoxyCodeLine{00213   onXsheetSwitched();}
\DoxyCodeLine{00214   \mbox{\hyperlink{class_t_xsheet_handle}{TXsheetHandle}} *xsheetHandle = \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}();}
\DoxyCodeLine{00215   \textcolor{keywordtype}{bool} ret = connect(xsheetHandle, SIGNAL(xsheetSwitched()), \textcolor{keyword}{this},}
\DoxyCodeLine{00216                      SLOT(onXsheetSwitched()));}
\DoxyCodeLine{00217   assert(ret);}
\DoxyCodeLine{00218 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_aea73633278a75d3fb012be9244384f52}\label{class_xsheet_g_u_i_1_1_note_popup_aea73633278a75d3fb012be9244384f52}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!update@{update}}
\index{update@{update}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00173                        \{}
\DoxyCodeLine{00174   TPixel32 color = getColors().at(m\_currentColorIndex);}
\DoxyCodeLine{00175   m\_textEditor-\/>setStyleSheet(computeBackgroundStyleSheetString(}
\DoxyCodeLine{00176       QColor(color.r, color.g, color.b, color.m)));}
\DoxyCodeLine{00177   DVGui::Dialog::update();}
\DoxyCodeLine{00178 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_xsheet_g_u_i_1_1_note_popup_ae9dcd40a0b8609022fd33d0cadfde65d}\label{class_xsheet_g_u_i_1_1_note_popup_ae9dcd40a0b8609022fd33d0cadfde65d}} 
\index{XsheetGUI::NotePopup@{XsheetGUI::NotePopup}!updateColorField@{updateColorField}}
\index{updateColorField@{updateColorField}!XsheetGUI::NotePopup@{XsheetGUI::NotePopup}}
\doxysubsubsection{\texorpdfstring{updateColorField()}{updateColorField()}}
{\footnotesize\ttfamily void Xsheet\+GUI\+::\+Note\+Popup\+::update\+Color\+Field (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00194                                  \{}
\DoxyCodeLine{00195   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00196   \textcolor{keywordflow}{for} (i = 0; i < m\_colorFields.size(); i++) \{}
\DoxyCodeLine{00197     \mbox{\hyperlink{class_d_v_gui_1_1_color_field}{DVGui::ColorField}} *colorField = m\_colorFields.at(i);}
\DoxyCodeLine{00198     colorField-\/>setEditingChangeNotified(\textcolor{keyword}{false});}
\DoxyCodeLine{00199     \textcolor{keywordflow}{if} (m\_currentColorIndex == i)}
\DoxyCodeLine{00200       colorField-\/>setIsEditing(\textcolor{keyword}{true});}
\DoxyCodeLine{00201     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00202       colorField-\/>setIsEditing(\textcolor{keyword}{false});}
\DoxyCodeLine{00203     colorField-\/>setEditingChangeNotified(\textcolor{keyword}{true});}
\DoxyCodeLine{00204   \}}
\DoxyCodeLine{00205 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/xshnoteviewer.\+h\item 
E\+:/opentoonz/toonz/sources/toonz/xshnoteviewer.\+cpp\end{DoxyCompactItemize}
