\hypertarget{class_scene_sound}{}\doxysection{Scene\+Sound Class Reference}
\label{class_scene_sound}\index{SceneSound@{SceneSound}}


{\ttfamily \#include $<$sceneresources.\+h$>$}

Inheritance diagram for Scene\+Sound\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_scene_sound}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_scene_sound_adbc33bd80530f1b6e73bb23ce2f9b6fe}{Scene\+Sound}} (\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$scene, \mbox{\hyperlink{class_t_xsh_sound_level}{TXsh\+Sound\+Level}} $\ast$sl)
\item 
void \mbox{\hyperlink{class_scene_sound_acf97413035442fdc11e0caaea212c6bb}{save}} () override
\item 
void \mbox{\hyperlink{class_scene_sound_ab01e93c2870dbd91a198dd64294385a5}{update\+Path}} () override
\item 
void \mbox{\hyperlink{class_scene_sound_aa3b383834d2cd096064ca455042c50b2}{rollback\+Path}} () override
\item 
void \mbox{\hyperlink{class_scene_sound_a1ab516db2f980046dc1f1068084f6f51}{accept}} (\mbox{\hyperlink{class_resource_processor}{Resource\+Processor}} $\ast$processor) override
\begin{DoxyCompactList}\small\item\em visitor pattern \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_scene_sound_a53992d8ca332fea98972d5f634dc9b00}{is\+Dirty}} () override
\item 
QString\+List \mbox{\hyperlink{class_scene_sound_a704de4caa54c49b6b12c975891b86227}{get\+Resource\+Name}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
The Scene\+Soundtrack class provides a container for scene sound track resource and allows its management.

Inherits {\bfseries{\mbox{\hyperlink{class_scene_resource}{Scene\+Resource}}}}. ~\newline
 The class, more than {\bfseries{\mbox{\hyperlink{class_scene_resources}{Scene\+Resources}}}}, contains a pointer to a sound column {\bfseries{\mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}}}}, two path for old save path, one decoded and one no. The class allows to save sound track \mbox{\hyperlink{class_scene_sound_acf97413035442fdc11e0caaea212c6bb}{save()}} and to update or to restore old path \mbox{\hyperlink{class_scene_sound_ab01e93c2870dbd91a198dd64294385a5}{update\+Path()}}, \mbox{\hyperlink{class_scene_sound_aa3b383834d2cd096064ca455042c50b2}{rollback\+Path()}}. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_scene_sound_adbc33bd80530f1b6e73bb23ce2f9b6fe}\label{class_scene_sound_adbc33bd80530f1b6e73bb23ce2f9b6fe}} 
\index{SceneSound@{SceneSound}!SceneSound@{SceneSound}}
\index{SceneSound@{SceneSound}!SceneSound@{SceneSound}}
\doxysubsubsection{\texorpdfstring{SceneSound()}{SceneSound()}}
{\footnotesize\ttfamily Scene\+Sound\+::\+Scene\+Sound (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}} $\ast$}]{scene,  }\item[{\mbox{\hyperlink{class_t_xsh_sound_level}{TXsh\+Sound\+Level}} $\ast$}]{sl }\end{DoxyParamCaption})}

Constructs Scene\+Soundtrack with {\bfseries{\mbox{\hyperlink{class_toonz_scene}{Toonz\+Scene}}}} {\bfseries{scene}} and {\bfseries{\mbox{\hyperlink{class_t_xsh_sound_level}{TXsh\+Sound\+Level}}}} {\bfseries{sl}}. 
\begin{DoxyCode}{0}
\DoxyCodeLine{00425     : \mbox{\hyperlink{class_scene_resource_a5fad6166777678e8dad0be523c7503ad}{SceneResource}}(scene)}
\DoxyCodeLine{00426     , m\_sl(sl)}
\DoxyCodeLine{00427     , m\_oldPath(sl-\/>\mbox{\hyperlink{class_t_xsh_sound_level_a929c0a20b8447d38189edc3bae5d3d37}{getPath}}())}
\DoxyCodeLine{00428     , m\_oldActualPath(scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(sl-\/>\mbox{\hyperlink{class_t_xsh_sound_level_a929c0a20b8447d38189edc3bae5d3d37}{getPath}}())) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_scene_sound_a1ab516db2f980046dc1f1068084f6f51}\label{class_scene_sound_a1ab516db2f980046dc1f1068084f6f51}} 
\index{SceneSound@{SceneSound}!accept@{accept}}
\index{accept@{accept}!SceneSound@{SceneSound}}
\doxysubsubsection{\texorpdfstring{accept()}{accept()}}
{\footnotesize\ttfamily void Scene\+Sound\+::accept (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_resource_processor}{Resource\+Processor}} $\ast$}]{processor }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



visitor pattern 



Implements \mbox{\hyperlink{class_scene_resource_aaa54723b0eca72e52f75dec6865173ac}{Scene\+Resource}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00246                                                      \{}
\DoxyCodeLine{00247     processor-\/>process(m\_sl);}
\DoxyCodeLine{00248   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_sound_a704de4caa54c49b6b12c975891b86227}\label{class_scene_sound_a704de4caa54c49b6b12c975891b86227}} 
\index{SceneSound@{SceneSound}!getResourceName@{getResourceName}}
\index{getResourceName@{getResourceName}!SceneSound@{SceneSound}}
\doxysubsubsection{\texorpdfstring{getResourceName()}{getResourceName()}}
{\footnotesize\ttfamily QString\+List Scene\+Sound\+::get\+Resource\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_scene_resource}{Scene\+Resource}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00251 \{ \textcolor{keywordflow}{return} QStringList(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_sound_a53992d8ca332fea98972d5f634dc9b00}\label{class_scene_sound_a53992d8ca332fea98972d5f634dc9b00}} 
\index{SceneSound@{SceneSound}!isDirty@{isDirty}}
\index{isDirty@{isDirty}!SceneSound@{SceneSound}}
\doxysubsubsection{\texorpdfstring{isDirty()}{isDirty()}}
{\footnotesize\ttfamily bool Scene\+Sound\+::is\+Dirty (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_scene_resource}{Scene\+Resource}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00250 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_sound_aa3b383834d2cd096064ca455042c50b2}\label{class_scene_sound_aa3b383834d2cd096064ca455042c50b2}} 
\index{SceneSound@{SceneSound}!rollbackPath@{rollbackPath}}
\index{rollbackPath@{rollbackPath}!SceneSound@{SceneSound}}
\doxysubsubsection{\texorpdfstring{rollbackPath()}{rollbackPath()}}
{\footnotesize\ttfamily void Scene\+Sound\+::rollback\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Set sound track path to old path. 

Implements \mbox{\hyperlink{class_scene_resource_a5dffdd4b64e9146207260136f3b9b4b9}{Scene\+Resource}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00460 \{ m\_sl-\/>setPath(m\_oldPath); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_scene_sound_acf97413035442fdc11e0caaea212c6bb}\label{class_scene_sound_acf97413035442fdc11e0caaea212c6bb}} 
\index{SceneSound@{SceneSound}!save@{save}}
\index{save@{save}!SceneSound@{SceneSound}}
\doxysubsubsection{\texorpdfstring{save()}{save()}}
{\footnotesize\ttfamily void Scene\+Sound\+::save (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Save sound column in right path. 

Implements \mbox{\hyperlink{class_scene_resource_afa8a3313c6ac21337194901a7272eaba}{Scene\+Resource}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00432                       \{}
\DoxyCodeLine{00433   assert(m\_oldPath != \mbox{\hyperlink{class_t_file_path}{TFilePath}}());}
\DoxyCodeLine{00434   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = m\_oldPath;}
\DoxyCodeLine{00435   \mbox{\hyperlink{class_scene_resource_ae3d4cd5a80eb708bbed4f619cb7b1731}{SceneResource::updatePath}}(fp);}
\DoxyCodeLine{00436   \mbox{\hyperlink{class_t_file_path}{TFilePath}} actualFp = m\_scene-\/>\mbox{\hyperlink{class_toonz_scene_aa2ed57dfbae7f8cf02a4abe47ed533c6}{decodeFilePath}}(fp);}
\DoxyCodeLine{00437   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00438     TSystem::touchParentDir(actualFp);}
\DoxyCodeLine{00439     \textcolor{keywordflow}{if} (!TSystem::doesExistFileOrLevel(m\_oldActualPath)) \{}
\DoxyCodeLine{00440       m\_sl-\/>\mbox{\hyperlink{class_t_xsh_sound_level_a8f8414188f7f9f3a29e802e185e12931}{save}}(actualFp);}
\DoxyCodeLine{00441     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (actualFp != m\_oldActualPath) \{}
\DoxyCodeLine{00442       TSystem::copyFile(actualFp, m\_oldActualPath);}
\DoxyCodeLine{00443     \}}
\DoxyCodeLine{00444   \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{00445     DVGui::warning(QObject::tr(\textcolor{stringliteral}{"{}Can't save"{}}) +}
\DoxyCodeLine{00446                    QString::fromStdWString(L\textcolor{stringliteral}{"{}: "{}} + actualFp.getLevelNameW()));}
\DoxyCodeLine{00447   \}}
\DoxyCodeLine{00448 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l01231}{Toonz\+Scene\+::decode\+File\+Path()}}, \mbox{\hyperlink{l00099}{TXsh\+Sound\+Level\+::save()}}, and \mbox{\hyperlink{class_scene_resource_ae3d4cd5a80eb708bbed4f619cb7b1731}{Scene\+Resource\+::update\+Path()}}.

\mbox{\Hypertarget{class_scene_sound_ab01e93c2870dbd91a198dd64294385a5}\label{class_scene_sound_ab01e93c2870dbd91a198dd64294385a5}} 
\index{SceneSound@{SceneSound}!updatePath@{updatePath}}
\index{updatePath@{updatePath}!SceneSound@{SceneSound}}
\doxysubsubsection{\texorpdfstring{updatePath()}{updatePath()}}
{\footnotesize\ttfamily void Scene\+Sound\+::update\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Update sound track path. 

Implements \mbox{\hyperlink{class_scene_resource_ae3d4cd5a80eb708bbed4f619cb7b1731}{Scene\+Resource}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00452                             \{}
\DoxyCodeLine{00453   \mbox{\hyperlink{class_t_file_path}{TFilePath}} fp = m\_oldPath;}
\DoxyCodeLine{00454   \mbox{\hyperlink{class_scene_resource_ae3d4cd5a80eb708bbed4f619cb7b1731}{SceneResource::updatePath}}(fp);}
\DoxyCodeLine{00455   \textcolor{keywordflow}{if} (fp != m\_oldPath) m\_sl-\/>setPath(fp);}
\DoxyCodeLine{00456 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_scene_resource_ae3d4cd5a80eb708bbed4f619cb7b1731}{Scene\+Resource\+::update\+Path()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/sceneresources.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/sceneresources.\+cpp\end{DoxyCompactItemize}
