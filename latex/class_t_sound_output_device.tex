\hypertarget{class_t_sound_output_device}{}\doxysection{TSound\+Output\+Device Class Reference}
\label{class_t_sound_output_device}\index{TSoundOutputDevice@{TSoundOutputDevice}}


{\ttfamily \#include $<$tsound.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}} \mbox{\hyperlink{class_t_sound_output_device_a8d5c29ea8e95e2e3aa90c054ec5c8795}{get\+Preferred\+Format}} (TUINT32 sample\+Rate, int channel\+Count, int bit\+Per\+Sample)
\begin{DoxyCompactList}\small\item\em Returns the best format supported near the given parameters. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}} \mbox{\hyperlink{class_t_sound_output_device_a0a83b0efdfad86e45e6ef308152b4519}{get\+Preferred\+Format}} (const \mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}} \&)
\begin{DoxyCompactList}\small\item\em Returns the best format supported near the given format. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_t_sound_output_device_a25d30930f440df44587248bfde86a152}\label{class_t_sound_output_device_a25d30930f440df44587248bfde86a152}} 
bool {\bfseries is\+Format\+Supported} (const \mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}} \&)
\item 
bool \mbox{\hyperlink{class_t_sound_output_device_aa889085b6b4a5cea1470adb63a9835fc}{supports\+Volume}} ()
\item 
double \mbox{\hyperlink{class_t_sound_output_device_a17a38bff6e4073d278efa12e9baa6c4e}{get\+Volume}} ()
\begin{DoxyCompactList}\small\item\em Returns the current value of the volume \mbox{[}0,1\mbox{]}. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_sound_output_device_aa0d9d66c260853cbd14e491b36282298}{set\+Volume}} (double value)
\begin{DoxyCompactList}\small\item\em Set the value of volume , between \mbox{[}0,1\mbox{]}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_sound_output_device_acec4c313793679bb1a000757acbc8bde}{prepare\+Volume}} (double volume)
\item 
bool \mbox{\hyperlink{class_t_sound_output_device_a1e3d7416239a8b1fa3f4cddb0052314b}{open}} (const \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \&st)
\begin{DoxyCompactList}\small\item\em Open the device according to the features of soundtrack. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_sound_output_device_a00c8269bf8377f52876b9ee32bc75276}{play}} (const \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \&st, TINT32 s0, TINT32 s1, bool loop=false, bool scrubbing=false)
\begin{DoxyCompactList}\small\item\em Playback of the sndtrack in the request sample range. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_sound_output_device_a7b6664bb45c191ea70a1bb1745ba7516}{close}} ()
\begin{DoxyCompactList}\small\item\em Close in the right mode the device. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_sound_output_device_a07010abbb911ee76e3d7c6c28e06d233}{play}} (const \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \&st, double t0, double t1, bool loop=false, bool scrubbing=false)
\item 
void \mbox{\hyperlink{class_t_sound_output_device_a7c556dc08b5ffb0b18a9ac87636a5c38}{stop}} ()
\begin{DoxyCompactList}\small\item\em Stop the playback of one or more soundtracks. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_sound_output_device_a1cfbf4df850a94edb663a8882d438f94}{is\+Playing}} () const
\begin{DoxyCompactList}\small\item\em Returns if the device is busy with a playback. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_t_sound_output_device_a578229bcf54caddaf80ae2eed223549c}{is\+Looping}} ()
\begin{DoxyCompactList}\small\item\em Returns if the status of player is in looping. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_sound_output_device_ab6d9316afd3520b9039356cc9107f92e}{set\+Looping}} (bool loop)
\begin{DoxyCompactList}\small\item\em Permits to change the looping status of player. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_t_sound_output_device_a9d1984323e3e382c8f734384fde7595d}{attach}} (\mbox{\hyperlink{class_t_sound_output_device_listener}{TSound\+Output\+Device\+Listener}} $\ast$listener)
\item 
void \mbox{\hyperlink{class_t_sound_output_device_a752a5a66853f08ecb53cc77608abd154}{detach}} (\mbox{\hyperlink{class_t_sound_output_device_listener}{TSound\+Output\+Device\+Listener}} $\ast$listener)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{class_t_sound_output_device_ae1fae3438b95a99b9ec5c208d3101498}{installed}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}

\begin{DoxyCodeInclude}{0}

\end{DoxyCodeInclude}


The class \mbox{\hyperlink{class_t_sound_output_device}{TSound\+Output\+Device}} permits the playback of a sound track 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_t_sound_output_device_a0bcbedb4fdad082a2e7b86fff6bc0e44}\label{class_t_sound_output_device_a0bcbedb4fdad082a2e7b86fff6bc0e44}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!TSoundOutputDevice@{TSoundOutputDevice}}
\index{TSoundOutputDevice@{TSoundOutputDevice}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{TSoundOutputDevice()}{TSoundOutputDevice()}}
{\footnotesize\ttfamily TSound\+Output\+Device\+::\+TSound\+Output\+Device (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00600 : m\_imp(\textcolor{keyword}{new} \mbox{\hyperlink{class_t_sound_output_device_imp}{TSoundOutputDeviceImp}}()) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_output_device_a44cdac5fd1a5bc8cd2d09c787655374f}\label{class_t_sound_output_device_a44cdac5fd1a5bc8cd2d09c787655374f}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!````~TSoundOutputDevice@{$\sim$TSoundOutputDevice}}
\index{````~TSoundOutputDevice@{$\sim$TSoundOutputDevice}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{$\sim$TSoundOutputDevice()}{~TSoundOutputDevice()}}
{\footnotesize\ttfamily TSound\+Output\+Device\+::$\sim$\+TSound\+Output\+Device (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00604                                         \{}
\DoxyCodeLine{00605   \mbox{\hyperlink{class_t_sound_output_device_a7b6664bb45c191ea70a1bb1745ba7516}{close}}();}
\DoxyCodeLine{00606   WaitForSingleObject(m\_imp-\/>m\_closeDevice, INFINITE);}
\DoxyCodeLine{00607   CloseHandle(m\_imp-\/>m\_closeDevice);}
\DoxyCodeLine{00608 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_t_sound_output_device_a9d1984323e3e382c8f734384fde7595d}\label{class_t_sound_output_device_a9d1984323e3e382c8f734384fde7595d}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!attach@{attach}}
\index{attach@{attach}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{attach()}{attach()}}
{\footnotesize\ttfamily void TSound\+Output\+Device\+::attach (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_sound_output_device_listener}{TSound\+Output\+Device\+Listener}} $\ast$}]{listener }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00707                                                                     \{}
\DoxyCodeLine{00708   m\_imp-\/>m\_listeners.insert(listener);}
\DoxyCodeLine{00709 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_output_device_a7b6664bb45c191ea70a1bb1745ba7516}\label{class_t_sound_output_device_a7b6664bb45c191ea70a1bb1745ba7516}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!close@{close}}
\index{close@{close}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily bool TSound\+Output\+Device\+::close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Close in the right mode the device. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00773 \{ \textcolor{keywordflow}{return} m\_imp-\/>doCloseDevice(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_output_device_a752a5a66853f08ecb53cc77608abd154}\label{class_t_sound_output_device_a752a5a66853f08ecb53cc77608abd154}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!detach@{detach}}
\index{detach@{detach}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{detach()}{detach()}}
{\footnotesize\ttfamily void TSound\+Output\+Device\+::detach (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_sound_output_device_listener}{TSound\+Output\+Device\+Listener}} $\ast$}]{listener }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00713                                                                     \{}
\DoxyCodeLine{00714   m\_imp-\/>m\_listeners.erase(listener);}
\DoxyCodeLine{00715 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_output_device_a0a83b0efdfad86e45e6ef308152b4519}\label{class_t_sound_output_device_a0a83b0efdfad86e45e6ef308152b4519}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!getPreferredFormat@{getPreferredFormat}}
\index{getPreferredFormat@{getPreferredFormat}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{getPreferredFormat()}{getPreferredFormat()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}} TSound\+Output\+Device\+::get\+Preferred\+Format (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}} \&}]{format }\end{DoxyParamCaption})}



Returns the best format supported near the given format. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00846                                      \{}
\DoxyCodeLine{00847   \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00848     \textcolor{keywordflow}{return} \mbox{\hyperlink{class_t_sound_output_device_a8d5c29ea8e95e2e3aa90c054ec5c8795}{getPreferredFormat}}(format.m\_sampleRate, format.m\_channelCount,}
\DoxyCodeLine{00849                               format.m\_bitPerSample);}
\DoxyCodeLine{00850   \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&e) \{}
\DoxyCodeLine{00851     \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}}(TSoundDeviceException::UnsupportedFormat,}
\DoxyCodeLine{00852                                 e.getMessage());}
\DoxyCodeLine{00853   \}}
\DoxyCodeLine{00854 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00801}{get\+Preferred\+Format()}}.

\mbox{\Hypertarget{class_t_sound_output_device_a8d5c29ea8e95e2e3aa90c054ec5c8795}\label{class_t_sound_output_device_a8d5c29ea8e95e2e3aa90c054ec5c8795}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!getPreferredFormat@{getPreferredFormat}}
\index{getPreferredFormat@{getPreferredFormat}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{getPreferredFormat()}{getPreferredFormat()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_sound_track_format}{TSound\+Track\+Format}} TSound\+Output\+Device\+::get\+Preferred\+Format (\begin{DoxyParamCaption}\item[{TUINT32}]{sample\+Rate,  }\item[{int}]{channel\+Count,  }\item[{int}]{bit\+Per\+Sample }\end{DoxyParamCaption})}



Returns the best format supported near the given parameters. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00803                                                                            \{}
\DoxyCodeLine{00804   \mbox{\hyperlink{class_t_sound_track_format}{TSoundTrackFormat}} fmt;}
\DoxyCodeLine{00805 }
\DoxyCodeLine{00806   \textcolor{comment}{// avvvicinarsi al sample rate => dovrebbe esser OK avendo selezionato i piu'}}
\DoxyCodeLine{00807   \textcolor{comment}{// vicini}}
\DoxyCodeLine{00808   std::set<int>::iterator it = m\_imp-\/>m\_supportedRate.lower\_bound(sampleRate);}
\DoxyCodeLine{00809   \textcolor{keywordflow}{if} (it == m\_imp-\/>m\_supportedRate.end()) \{}
\DoxyCodeLine{00810     it = std::max\_element(m\_imp-\/>m\_supportedRate.begin(),}
\DoxyCodeLine{00811                           m\_imp-\/>m\_supportedRate.end());}
\DoxyCodeLine{00812     \textcolor{keywordflow}{if} (it != m\_imp-\/>m\_supportedRate.end())}
\DoxyCodeLine{00813       sampleRate = *(m\_imp-\/>m\_supportedRate.rbegin());}
\DoxyCodeLine{00814     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00815       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}}(TSoundDeviceException::UnsupportedFormat,}
\DoxyCodeLine{00816                                   \textcolor{stringliteral}{"{}There isn't a supported format"{}});}
\DoxyCodeLine{00817   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00818     sampleRate = *it;}
\DoxyCodeLine{00819 }
\DoxyCodeLine{00820   \textcolor{keywordflow}{if} (bitPerSample <= 8)}
\DoxyCodeLine{00821     bitPerSample = 8;}
\DoxyCodeLine{00822   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((bitPerSample > 8 \&\& bitPerSample < 16) || bitPerSample >= 16)}
\DoxyCodeLine{00823     bitPerSample = 16;}
\DoxyCodeLine{00824 }
\DoxyCodeLine{00825   \textcolor{keywordflow}{if} (bitPerSample >= 16)}
\DoxyCodeLine{00826     fmt.m\_signedSample = \textcolor{keyword}{true};}
\DoxyCodeLine{00827   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00828     fmt.m\_signedSample = \textcolor{keyword}{false};}
\DoxyCodeLine{00829 }
\DoxyCodeLine{00830   \textcolor{comment}{// switch mono/stereo}}
\DoxyCodeLine{00831   \textcolor{keywordflow}{if} (channelCount <= 1)}
\DoxyCodeLine{00832     channelCount = 1;}
\DoxyCodeLine{00833   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00834     channelCount = 2;}
\DoxyCodeLine{00835 }
\DoxyCodeLine{00836   fmt.m\_bitPerSample = bitPerSample;}
\DoxyCodeLine{00837   fmt.m\_channelCount = channelCount;}
\DoxyCodeLine{00838   fmt.m\_sampleRate   = sampleRate;}
\DoxyCodeLine{00839 }
\DoxyCodeLine{00840   \textcolor{keywordflow}{return} fmt;}
\DoxyCodeLine{00841 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00845}{get\+Preferred\+Format()}}, and \mbox{\hyperlink{l00719}{play()}}.

\mbox{\Hypertarget{class_t_sound_output_device_a17a38bff6e4073d278efa12e9baa6c4e}\label{class_t_sound_output_device_a17a38bff6e4073d278efa12e9baa6c4e}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!getVolume@{getVolume}}
\index{getVolume@{getVolume}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{getVolume()}{getVolume()}}
{\footnotesize\ttfamily double TSound\+Output\+Device\+::get\+Volume (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the current value of the volume \mbox{[}0,1\mbox{]}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00285                                      \{}
\DoxyCodeLine{00286   \textcolor{keywordflow}{return} m\_imp-\/>getVolume();}
\DoxyCodeLine{00287 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_output_device_ae1fae3438b95a99b9ec5c208d3101498}\label{class_t_sound_output_device_ae1fae3438b95a99b9ec5c208d3101498}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!installed@{installed}}
\index{installed@{installed}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{installed()}{installed()}}
{\footnotesize\ttfamily bool TSound\+Output\+Device\+::installed (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Returns true if on the machine there is an audio card installed correctly 
\begin{DoxyCode}{0}
\DoxyCodeLine{00693                                    \{}
\DoxyCodeLine{00694   \textcolor{keywordtype}{int} ndev = waveOutGetNumDevs();}
\DoxyCodeLine{00695   \textcolor{keywordflow}{if} (ndev <= 0) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00696   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00697 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00765}{TXsh\+Sound\+Column\+::play()}}.

\mbox{\Hypertarget{class_t_sound_output_device_a578229bcf54caddaf80ae2eed223549c}\label{class_t_sound_output_device_a578229bcf54caddaf80ae2eed223549c}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!isLooping@{isLooping}}
\index{isLooping@{isLooping}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{isLooping()}{isLooping()}}
{\footnotesize\ttfamily bool TSound\+Output\+Device\+::is\+Looping (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns if the status of player is in looping. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00787                                    \{}
\DoxyCodeLine{00788   TThread::MutexLocker sl(\&m\_imp-\/>m\_mutex);}
\DoxyCodeLine{00789   \textcolor{keywordflow}{return} m\_imp-\/>m\_looped;}
\DoxyCodeLine{00790 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_output_device_a1cfbf4df850a94edb663a8882d438f94}\label{class_t_sound_output_device_a1cfbf4df850a94edb663a8882d438f94}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!isPlaying@{isPlaying}}
\index{isPlaying@{isPlaying}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{isPlaying()}{isPlaying()}}
{\footnotesize\ttfamily bool TSound\+Output\+Device\+::is\+Playing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns if the device is busy with a playback. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00777 \{ \textcolor{keywordflow}{return} m\_imp-\/>m\_isPlaying; \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00749}{TXsh\+Sound\+Column\+::set\+Volume()}}.

\mbox{\Hypertarget{class_t_sound_output_device_a1e3d7416239a8b1fa3f4cddb0052314b}\label{class_t_sound_output_device_a1e3d7416239a8b1fa3f4cddb0052314b}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!open@{open}}
\index{open@{open}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily bool TSound\+Output\+Device\+::open (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \&}]{st }\end{DoxyParamCaption})}



Open the device according to the features of soundtrack. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00701                                                     \{}
\DoxyCodeLine{00702   \textcolor{keywordflow}{return} m\_imp-\/>doOpenDevice(st-\/>\mbox{\hyperlink{class_t_sound_track_aa58db0cee313f7174bc023e295b701a9}{getFormat}}());}
\DoxyCodeLine{00703 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00250}{TSound\+Track\+::get\+Format()}}.

\mbox{\Hypertarget{class_t_sound_output_device_a07010abbb911ee76e3d7c6c28e06d233}\label{class_t_sound_output_device_a07010abbb911ee76e3d7c6c28e06d233}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!play@{play}}
\index{play@{play}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{play()}{play()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void TSound\+Output\+Device\+::play (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \&}]{st,  }\item[{double}]{t0,  }\item[{double}]{t1,  }\item[{bool}]{loop = {\ttfamily false},  }\item[{bool}]{scrubbing = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Playback of the sndtrack in the request time range. The loop argument permits to set the looping status of player The scrubbing permits to an application to set the mode for the interaction between sound and mouse 
\begin{DoxyCode}{0}
\DoxyCodeLine{00405                                     \{}
\DoxyCodeLine{00406     \mbox{\hyperlink{class_t_sound_output_device_a00c8269bf8377f52876b9ee32bc75276}{play}}(st, st-\/>\mbox{\hyperlink{class_t_sound_track_a10205f6207e451b3c2bec57b4e5af6f0}{secondsToSamples}}(t0), st-\/>\mbox{\hyperlink{class_t_sound_track_a10205f6207e451b3c2bec57b4e5af6f0}{secondsToSamples}}(t1), loop,}
\DoxyCodeLine{00407          scrubbing);}
\DoxyCodeLine{00408   \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00214}{TSound\+Track\+::seconds\+To\+Samples()}}.

\mbox{\Hypertarget{class_t_sound_output_device_a00c8269bf8377f52876b9ee32bc75276}\label{class_t_sound_output_device_a00c8269bf8377f52876b9ee32bc75276}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!play@{play}}
\index{play@{play}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{play()}{play()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void TSound\+Output\+Device\+::play (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_smart_pointer_t}{TSound\+TrackP}} \&}]{st,  }\item[{TINT32}]{s0,  }\item[{TINT32}]{s1,  }\item[{bool}]{loop = {\ttfamily false},  }\item[{bool}]{scrubbing = {\ttfamily false} }\end{DoxyParamCaption})}



Playback of the sndtrack in the request sample range. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00720                                                          \{}
\DoxyCodeLine{00721   assert((scrubbing \&\& !loop) || !scrubbing);}
\DoxyCodeLine{00722   \textcolor{keywordflow}{if} (!st-\/>getSampleCount()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00723   \mbox{\hyperlink{class_t_sound_track_format}{TSoundTrackFormat}} format;}
\DoxyCodeLine{00724   \mbox{\hyperlink{class_t_smart_pointer_t}{TSoundTrackP}} subTrack;}
\DoxyCodeLine{00725 }
\DoxyCodeLine{00726   \{}
\DoxyCodeLine{00727     TThread::MutexLocker sl(\&m\_imp-\/>m\_mutex);}
\DoxyCodeLine{00728     \textcolor{keywordflow}{if} (m\_imp-\/>m\_looped)}
\DoxyCodeLine{00729       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}}(}
\DoxyCodeLine{00730           TSoundDeviceException::Busy,}
\DoxyCodeLine{00731           \textcolor{stringliteral}{"{}Unable to queue another playback when the sound player is looping"{}});}
\DoxyCodeLine{00732 }
\DoxyCodeLine{00733     format = st-\/>\mbox{\hyperlink{class_t_sound_track_aa58db0cee313f7174bc023e295b701a9}{getFormat}}();}
\DoxyCodeLine{00734     \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{00735       \mbox{\hyperlink{class_t_sound_track_format}{TSoundTrackFormat}} fmt = \mbox{\hyperlink{class_t_sound_output_device_a8d5c29ea8e95e2e3aa90c054ec5c8795}{getPreferredFormat}}(format);}
\DoxyCodeLine{00736       \textcolor{keywordflow}{if} (fmt != format) \{}
\DoxyCodeLine{00737         \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}}(TSoundDeviceException::UnsupportedFormat,}
\DoxyCodeLine{00738                                     \textcolor{stringliteral}{"{}Unsupported Format"{}});}
\DoxyCodeLine{00739       \}}
\DoxyCodeLine{00740     \} \textcolor{keywordflow}{catch} (\mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}} \&e) \{}
\DoxyCodeLine{00741       \textcolor{keywordflow}{throw} \mbox{\hyperlink{class_t_sound_device_exception}{TSoundDeviceException}}(TSoundDeviceException::UnsupportedFormat,}
\DoxyCodeLine{00742                                   e.getMessage());}
\DoxyCodeLine{00743     \}}
\DoxyCodeLine{00744 }
\DoxyCodeLine{00745     assert(s1 >= s0);}
\DoxyCodeLine{00746     subTrack           = st-\/>\mbox{\hyperlink{class_t_sound_track_a6efbb9d14bb633cff1257095eba11096}{extract}}(s0, s1);}
\DoxyCodeLine{00747     m\_imp-\/>m\_looped    = loop;}
\DoxyCodeLine{00748     m\_imp-\/>m\_scrubbing = scrubbing;}
\DoxyCodeLine{00749   \}}
\DoxyCodeLine{00750 }
\DoxyCodeLine{00751   \textcolor{keywordflow}{if} (!m\_imp-\/>m\_wout) m\_imp-\/>doOpenDevice(format);}
\DoxyCodeLine{00752 }
\DoxyCodeLine{00753   m\_imp-\/>m\_whdrQueue-\/>put(subTrack);}
\DoxyCodeLine{00754 \}}

\end{DoxyCode}


References \mbox{\hyperlink{class_t_sound_track_a6efbb9d14bb633cff1257095eba11096}{TSound\+Track\+::extract()}}, \mbox{\hyperlink{l00250}{TSound\+Track\+::get\+Format()}}, and \mbox{\hyperlink{l00801}{get\+Preferred\+Format()}}.



Referenced by \mbox{\hyperlink{l00765}{TXsh\+Sound\+Column\+::play()}}.

\mbox{\Hypertarget{class_t_sound_output_device_acec4c313793679bb1a000757acbc8bde}\label{class_t_sound_output_device_acec4c313793679bb1a000757acbc8bde}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!prepareVolume@{prepareVolume}}
\index{prepareVolume@{prepareVolume}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{prepareVolume()}{prepareVolume()}}
{\footnotesize\ttfamily void TSound\+Output\+Device\+::prepare\+Volume (\begin{DoxyParamCaption}\item[{double}]{volume }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00240                                                     \{}
\DoxyCodeLine{00241     m\_imp-\/>prepareVolume(volume);}
\DoxyCodeLine{00242 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_output_device_ab6d9316afd3520b9039356cc9107f92e}\label{class_t_sound_output_device_ab6d9316afd3520b9039356cc9107f92e}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!setLooping@{setLooping}}
\index{setLooping@{setLooping}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{setLooping()}{setLooping()}}
{\footnotesize\ttfamily void TSound\+Output\+Device\+::set\+Looping (\begin{DoxyParamCaption}\item[{bool}]{loop }\end{DoxyParamCaption})}



Permits to change the looping status of player. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00794                                              \{}
\DoxyCodeLine{00795   TThread::MutexLocker sl(\&m\_imp-\/>m\_mutex);}
\DoxyCodeLine{00796   m\_imp-\/>m\_looped = loop;}
\DoxyCodeLine{00797 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_output_device_aa0d9d66c260853cbd14e491b36282298}\label{class_t_sound_output_device_aa0d9d66c260853cbd14e491b36282298}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!setVolume@{setVolume}}
\index{setVolume@{setVolume}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{setVolume()}{setVolume()}}
{\footnotesize\ttfamily bool TSound\+Output\+Device\+::set\+Volume (\begin{DoxyParamCaption}\item[{double}]{value }\end{DoxyParamCaption})}



Set the value of volume , between \mbox{[}0,1\mbox{]}. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00291                                                 \{}
\DoxyCodeLine{00292   m\_imp-\/>setVolume(volume);}
\DoxyCodeLine{00293   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00294 \}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00749}{TXsh\+Sound\+Column\+::set\+Volume()}}.

\mbox{\Hypertarget{class_t_sound_output_device_a7c556dc08b5ffb0b18a9ac87636a5c38}\label{class_t_sound_output_device_a7c556dc08b5ffb0b18a9ac87636a5c38}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!stop@{stop}}
\index{stop@{stop}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void TSound\+Output\+Device\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Stop the playback of one or more soundtracks. 


\begin{DoxyCode}{0}
\DoxyCodeLine{00758                               \{}
\DoxyCodeLine{00759   \textcolor{keywordflow}{if} ((m\_imp-\/>m\_wout) \&\& m\_imp-\/>m\_isPlaying) \{}
\DoxyCodeLine{00760     MMRESULT ret = waveOutReset(m\_imp-\/>m\_wout);}
\DoxyCodeLine{00761     \textcolor{keywordflow}{if} (ret != MMSYSERR\_NOERROR) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00762 }
\DoxyCodeLine{00763     TThread::MutexLocker sl(\&m\_imp-\/>m\_mutex);}
\DoxyCodeLine{00764     m\_imp-\/>m\_looped    = \textcolor{keyword}{false};}
\DoxyCodeLine{00765     m\_imp-\/>m\_stopped   = \textcolor{keyword}{true};}
\DoxyCodeLine{00766     m\_imp-\/>m\_isPlaying = \textcolor{keyword}{false};}
\DoxyCodeLine{00767     m\_imp-\/>m\_whdrQueue-\/>clear();}
\DoxyCodeLine{00768   \}}
\DoxyCodeLine{00769 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_t_sound_output_device_aa889085b6b4a5cea1470adb63a9835fc}\label{class_t_sound_output_device_aa889085b6b4a5cea1470adb63a9835fc}} 
\index{TSoundOutputDevice@{TSoundOutputDevice}!supportsVolume@{supportsVolume}}
\index{supportsVolume@{supportsVolume}!TSoundOutputDevice@{TSoundOutputDevice}}
\doxysubsubsection{\texorpdfstring{supportsVolume()}{supportsVolume()}}
{\footnotesize\ttfamily bool TSound\+Output\+Device\+::supports\+Volume (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns true if is possible to change volume setting on current input interface 
\begin{DoxyCode}{0}
\DoxyCodeLine{00298 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tsound.\+h\item 
E\+:/opentoonz/toonz/sources/common/tsound/tsound\+\_\+nt.\+cpp\item 
E\+:/opentoonz/toonz/sources/common/tsound/tsound\+\_\+qt.\+cpp\end{DoxyCompactItemize}
