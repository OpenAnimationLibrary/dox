\hypertarget{class_sgi_writer}{}\doxysection{Sgi\+Writer Class Reference}
\label{class_sgi_writer}\index{SgiWriter@{SgiWriter}}
Inheritance diagram for Sgi\+Writer\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_sgi_writer}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_sgi_writer_a670f7da0dff0249baaa0ae7c8b5d4109}{open}} (FILE $\ast$file, const \mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \&info) override
\item 
\mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ \mbox{\hyperlink{class_sgi_writer_aa67b902c9b42df5cd1bdb5c4c8a70fe4}{get\+Properties}} ()
\item 
void \mbox{\hyperlink{class_sgi_writer_a958a0cf5029e7bca0894ce464d2b6679}{write\+Line}} (char $\ast$buffer) override
\item 
void \mbox{\hyperlink{class_sgi_writer_a543fadeee75f224e539bf6c72b4a3c97}{write\+Line}} (short $\ast$buffer) override
\item 
void \mbox{\hyperlink{class_sgi_writer_ad067313c437e9a5aa755a125cdcca5b5}{flush}} () override
\item 
bool \mbox{\hyperlink{class_sgi_writer_a7443b6bf8a25bfe3b3073ff192b9db74}{write64bit\+Supported}} () const override
\item 
\mbox{\Hypertarget{class_sgi_writer_a5c874d03958534f6fb23b93006379660}\label{class_sgi_writer_a5c874d03958534f6fb23b93006379660}} 
void {\bfseries set\+Properties} (\mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$properties)
\item 
bool \mbox{\hyperlink{class_sgi_writer_af8c0b813e175381cea3acb37dc4e1e3a}{write\+Alpha\+Supported}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \mbox{\hyperlink{class_sgi_writer_a66c661a5385c3b29a220265205da856b}{m\+\_\+info}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_sgi_writer_aaf501d6cc8aa8ab1624d09d983b03bb6}\label{class_sgi_writer_aaf501d6cc8aa8ab1624d09d983b03bb6}} 
\index{SgiWriter@{SgiWriter}!SgiWriter@{SgiWriter}}
\index{SgiWriter@{SgiWriter}!SgiWriter@{SgiWriter}}
\doxysubsubsection{\texorpdfstring{SgiWriter()}{SgiWriter()}}
{\footnotesize\ttfamily Sgi\+Writer\+::\+Sgi\+Writer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01056 : m\_currentY(0), m\_header(0)\{\};}

\end{DoxyCode}
\mbox{\Hypertarget{class_sgi_writer_acca80522fb3d5fec2090c590b9ffdd50}\label{class_sgi_writer_acca80522fb3d5fec2090c590b9ffdd50}} 
\index{SgiWriter@{SgiWriter}!````~SgiWriter@{$\sim$SgiWriter}}
\index{````~SgiWriter@{$\sim$SgiWriter}!SgiWriter@{SgiWriter}}
\doxysubsubsection{\texorpdfstring{$\sim$SgiWriter()}{~SgiWriter()}}
{\footnotesize\ttfamily Sgi\+Writer\+::$\sim$\+Sgi\+Writer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01057                \{}
\DoxyCodeLine{01058     \textcolor{keywordflow}{if} (m\_header) iclose(m\_header);}
\DoxyCodeLine{01059     \textcolor{keyword}{delete} m\_properties;}
\DoxyCodeLine{01060   \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_sgi_writer_ad067313c437e9a5aa755a125cdcca5b5}\label{class_sgi_writer_ad067313c437e9a5aa755a125cdcca5b5}} 
\index{SgiWriter@{SgiWriter}!flush@{flush}}
\index{flush@{flush}!SgiWriter@{SgiWriter}}
\doxysubsubsection{\texorpdfstring{flush()}{flush()}}
{\footnotesize\ttfamily void Sgi\+Writer\+::flush (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tiio_1_1_writer}{Tiio\+::\+Writer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01069 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sgi_writer_aa67b902c9b42df5cd1bdb5c4c8a70fe4}\label{class_sgi_writer_aa67b902c9b42df5cd1bdb5c4c8a70fe4}} 
\index{SgiWriter@{SgiWriter}!getProperties@{getProperties}}
\index{getProperties@{getProperties}!SgiWriter@{SgiWriter}}
\doxysubsubsection{\texorpdfstring{getProperties()}{getProperties()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_property_group}{TProperty\+Group}} $\ast$ Sgi\+Writer\+::get\+Properties (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{01064 \{ \textcolor{keywordflow}{return} m\_properties; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sgi_writer_a670f7da0dff0249baaa0ae7c8b5d4109}\label{class_sgi_writer_a670f7da0dff0249baaa0ae7c8b5d4109}} 
\index{SgiWriter@{SgiWriter}!open@{open}}
\index{open@{open}!SgiWriter@{SgiWriter}}
\doxysubsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily void Sgi\+Writer\+::open (\begin{DoxyParamCaption}\item[{FILE $\ast$}]{file,  }\item[{const \mbox{\hyperlink{class_t_image_info}{TImage\+Info}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_tiio_1_1_writer}{Tiio\+::\+Writer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01096                                                        \{}
\DoxyCodeLine{01097   \textcolor{keywordflow}{if} (!m\_properties) m\_properties = \textcolor{keyword}{new} \mbox{\hyperlink{class_tiio_1_1_sgi_writer_properties}{Tiio::SgiWriterProperties}}();}
\DoxyCodeLine{01098 }
\DoxyCodeLine{01099   \mbox{\hyperlink{class_t_enum_property}{TEnumProperty}} *p =}
\DoxyCodeLine{01100       (\mbox{\hyperlink{class_t_enum_property}{TEnumProperty}} *)(m\_properties-\/>\mbox{\hyperlink{class_t_property_group_afb08f3145e5f77da6f163cdc9decad2f}{getProperty}}(\textcolor{stringliteral}{"{}Bits Per Pixel"{}}));}
\DoxyCodeLine{01101   assert(p);}
\DoxyCodeLine{01102   \textcolor{keywordtype}{string} str          = ::to\_string(p-\/>getValue());}
\DoxyCodeLine{01103   \textcolor{keywordtype}{int} bitPerPixel     = atoi(str.c\_str());}
\DoxyCodeLine{01104   \textcolor{keywordtype}{int} channelBytesNum = 1;}
\DoxyCodeLine{01105   \textcolor{keywordtype}{int} dim             = 3;}
\DoxyCodeLine{01106   \textcolor{keywordtype}{int} zsize           = 1;}
\DoxyCodeLine{01107 }
\DoxyCodeLine{01108   m\_info = info;}
\DoxyCodeLine{01109 }
\DoxyCodeLine{01110   \textcolor{keywordflow}{switch} (bitPerPixel) \{}
\DoxyCodeLine{01111   \textcolor{keywordflow}{case} 8:}
\DoxyCodeLine{01112     dim   = 2;}
\DoxyCodeLine{01113     zsize = 1;}
\DoxyCodeLine{01114     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01115   \textcolor{keywordflow}{case} 24:}
\DoxyCodeLine{01116     dim   = 3;}
\DoxyCodeLine{01117     zsize = 3;}
\DoxyCodeLine{01118     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01119   \textcolor{keywordflow}{case} 32:}
\DoxyCodeLine{01120     dim   = 3;}
\DoxyCodeLine{01121     zsize = 4;}
\DoxyCodeLine{01122     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01123   \textcolor{keywordflow}{case} 48:}
\DoxyCodeLine{01124     dim             = 3;}
\DoxyCodeLine{01125     zsize           = 3;}
\DoxyCodeLine{01126     channelBytesNum = 2;}
\DoxyCodeLine{01127     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01128   \textcolor{keywordflow}{case} 64:}
\DoxyCodeLine{01129     zsize           = 4;}
\DoxyCodeLine{01130     dim             = 3;}
\DoxyCodeLine{01131     channelBytesNum = 2;}
\DoxyCodeLine{01132     \textcolor{keywordflow}{break};}
\DoxyCodeLine{01133   \}}
\DoxyCodeLine{01134 }
\DoxyCodeLine{01135   \mbox{\hyperlink{class_t_bool_property}{TBoolProperty}} *bp =}
\DoxyCodeLine{01136       (\mbox{\hyperlink{class_t_bool_property}{TBoolProperty}} *)(m\_properties-\/>\mbox{\hyperlink{class_t_property_group_afb08f3145e5f77da6f163cdc9decad2f}{getProperty}}(\textcolor{stringliteral}{"{}RLE-\/Compressed"{}}));}
\DoxyCodeLine{01137   assert(bp);}
\DoxyCodeLine{01138   \textcolor{keywordtype}{bool} compressed = bp-\/>getValue();}
\DoxyCodeLine{01139   p               = (\mbox{\hyperlink{class_t_enum_property}{TEnumProperty}} *)(m\_properties-\/>\mbox{\hyperlink{class_t_property_group_afb08f3145e5f77da6f163cdc9decad2f}{getProperty}}(\textcolor{stringliteral}{"{}Endianess"{}}));}
\DoxyCodeLine{01140   assert(p);}
\DoxyCodeLine{01141   str            = ::to\_string(p-\/>getValue());}
\DoxyCodeLine{01142   \textcolor{keywordtype}{bool} bigEndian = (str == \textcolor{stringliteral}{"{}Big Endian"{}});}
\DoxyCodeLine{01143 }
\DoxyCodeLine{01144   m\_header = iopen(}
\DoxyCodeLine{01145       fileno(file), OpenWrite,}
\DoxyCodeLine{01146       compressed ? RLE(BPP(channelBytesNum)) : VERBATIM(BPP(channelBytesNum)),}
\DoxyCodeLine{01147       dim, m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}, m\_info.\mbox{\hyperlink{class_t_image_info_affef879628cc3843968c932e706541b6}{m\_ly}}, zsize, bigEndian ? 1 : 0);}
\DoxyCodeLine{01148 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sgi_writer_a7443b6bf8a25bfe3b3073ff192b9db74}\label{class_sgi_writer_a7443b6bf8a25bfe3b3073ff192b9db74}} 
\index{SgiWriter@{SgiWriter}!write64bitSupported@{write64bitSupported}}
\index{write64bitSupported@{write64bitSupported}!SgiWriter@{SgiWriter}}
\doxysubsubsection{\texorpdfstring{write64bitSupported()}{write64bitSupported()}}
{\footnotesize\ttfamily bool Sgi\+Writer\+::write64bit\+Supported (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tiio_1_1_writer}{Tiio\+::\+Writer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01072 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{true}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sgi_writer_af8c0b813e175381cea3acb37dc4e1e3a}\label{class_sgi_writer_af8c0b813e175381cea3acb37dc4e1e3a}} 
\index{SgiWriter@{SgiWriter}!writeAlphaSupported@{writeAlphaSupported}}
\index{writeAlphaSupported@{writeAlphaSupported}!SgiWriter@{SgiWriter}}
\doxysubsubsection{\texorpdfstring{writeAlphaSupported()}{writeAlphaSupported()}}
{\footnotesize\ttfamily bool Sgi\+Writer\+::write\+Alpha\+Supported (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tiio_1_1_writer}{Tiio\+::\+Writer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01078                                             \{}
\DoxyCodeLine{01079     \textcolor{keywordflow}{return} m\_header \&\& (m\_header-\/>zsize == 4);}
\DoxyCodeLine{01080   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sgi_writer_a958a0cf5029e7bca0894ce464d2b6679}\label{class_sgi_writer_a958a0cf5029e7bca0894ce464d2b6679}} 
\index{SgiWriter@{SgiWriter}!writeLine@{writeLine}}
\index{writeLine@{writeLine}!SgiWriter@{SgiWriter}}
\doxysubsubsection{\texorpdfstring{writeLine()}{writeLine()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Sgi\+Writer\+::write\+Line (\begin{DoxyParamCaption}\item[{char $\ast$}]{buffer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_tiio_1_1_writer}{Tiio\+::\+Writer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01151                                       \{}
\DoxyCodeLine{01152   \textcolor{keywordflow}{if} (BPP(m\_header-\/>type) == 1) \{}
\DoxyCodeLine{01153     \textcolor{keywordflow}{if} (m\_header-\/>dim < 3)  \textcolor{comment}{// 32-\/>8}}
\DoxyCodeLine{01154     \{}
\DoxyCodeLine{01155       new\_putrow(m\_header, buffer, m\_currentY, 0);}
\DoxyCodeLine{01156     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01157       std::vector<UCHAR> rbuf(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}), gbuf(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}),}
\DoxyCodeLine{01158           bbuf(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}), mbuf(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}});}
\DoxyCodeLine{01159       TPixelRGBM32 *pix = (TPixelRGBM32 *)buffer;}
\DoxyCodeLine{01160       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}; ++i) \{}
\DoxyCodeLine{01161         rbuf[i] = pix-\/>r;}
\DoxyCodeLine{01162         gbuf[i] = pix-\/>g;}
\DoxyCodeLine{01163         bbuf[i] = pix-\/>b;}
\DoxyCodeLine{01164         mbuf[i] = pix-\/>m;}
\DoxyCodeLine{01165         ++pix;}
\DoxyCodeLine{01166       \}}
\DoxyCodeLine{01167       new\_putrow(m\_header, \&rbuf[0], m\_currentY, 0);}
\DoxyCodeLine{01168       new\_putrow(m\_header, \&gbuf[0], m\_currentY, 1);}
\DoxyCodeLine{01169       new\_putrow(m\_header, \&bbuf[0], m\_currentY, 2);}
\DoxyCodeLine{01170       \textcolor{keywordflow}{if} (m\_header-\/>zsize == 4) new\_putrow(m\_header, \&mbuf[0], m\_currentY, 3);}
\DoxyCodeLine{01171     \}}
\DoxyCodeLine{01172   \}}
\DoxyCodeLine{01173   ++m\_currentY;}
\DoxyCodeLine{01174 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sgi_writer_a543fadeee75f224e539bf6c72b4a3c97}\label{class_sgi_writer_a543fadeee75f224e539bf6c72b4a3c97}} 
\index{SgiWriter@{SgiWriter}!writeLine@{writeLine}}
\index{writeLine@{writeLine}!SgiWriter@{SgiWriter}}
\doxysubsubsection{\texorpdfstring{writeLine()}{writeLine()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Sgi\+Writer\+::write\+Line (\begin{DoxyParamCaption}\item[{short $\ast$}]{buffer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_tiio_1_1_writer}{Tiio\+::\+Writer}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01178                                        \{}
\DoxyCodeLine{01179   assert(BPP(m\_header-\/>type) == 2);}
\DoxyCodeLine{01180 }
\DoxyCodeLine{01181   \{}
\DoxyCodeLine{01182     \textcolor{keywordflow}{if} (m\_header-\/>dim < 3) \{}
\DoxyCodeLine{01183       std::vector<USHORT> tmp(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}});}
\DoxyCodeLine{01184       TPixelRGBM64 *pix = (TPixelRGBM64 *)buffer;}
\DoxyCodeLine{01185       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}; ++i) \{}
\DoxyCodeLine{01186         tmp[i] = TPixelGR16::from(*pix).value;}
\DoxyCodeLine{01187         ++pix;}
\DoxyCodeLine{01188       \}}
\DoxyCodeLine{01189       new\_putrow(m\_header, \&tmp[0], m\_currentY, 0);}
\DoxyCodeLine{01190     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{01191       std::vector<USHORT> rbuf(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}), gbuf(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}),}
\DoxyCodeLine{01192           bbuf(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}), mbuf(m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}});}
\DoxyCodeLine{01193       TPixelRGBM64 *pix = (TPixelRGBM64 *)buffer;}
\DoxyCodeLine{01194       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < m\_info.\mbox{\hyperlink{class_t_image_info_afe82a2118ba303797b2c8a12b47b771d}{m\_lx}}; ++i) \{}
\DoxyCodeLine{01195         rbuf[i] = pix-\/>r;}
\DoxyCodeLine{01196         gbuf[i] = pix-\/>g;}
\DoxyCodeLine{01197         bbuf[i] = pix-\/>b;}
\DoxyCodeLine{01198         mbuf[i] = pix-\/>m;}
\DoxyCodeLine{01199         ++pix;}
\DoxyCodeLine{01200       \}}
\DoxyCodeLine{01201       new\_putrow(m\_header, \&rbuf[0], m\_currentY, 0);}
\DoxyCodeLine{01202       new\_putrow(m\_header, \&gbuf[0], m\_currentY, 1);}
\DoxyCodeLine{01203       new\_putrow(m\_header, \&bbuf[0], m\_currentY, 2);}
\DoxyCodeLine{01204       \textcolor{keywordflow}{if} (m\_header-\/>zsize == 4) new\_putrow(m\_header, \&mbuf[0], m\_currentY, 3);}
\DoxyCodeLine{01205     \}}
\DoxyCodeLine{01206   \}}
\DoxyCodeLine{01207   ++m\_currentY;}
\DoxyCodeLine{01208 \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_sgi_writer_a66c661a5385c3b29a220265205da856b}\label{class_sgi_writer_a66c661a5385c3b29a220265205da856b}} 
\index{SgiWriter@{SgiWriter}!m\_info@{m\_info}}
\index{m\_info@{m\_info}!SgiWriter@{SgiWriter}}
\doxysubsubsection{\texorpdfstring{m\_info}{m\_info}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_image_info}{TImage\+Info}} Sgi\+Writer\+::m\+\_\+info\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/image/sgi/filesgi.\+cpp\end{DoxyCompactItemize}
