\hypertarget{class_sound_level_modifier_tool}{}\doxysection{Sound\+Level\+Modifier\+Tool Class Reference}
\label{class_sound_level_modifier_tool}\index{SoundLevelModifierTool@{SoundLevelModifierTool}}
Inheritance diagram for Sound\+Level\+Modifier\+Tool\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_sound_level_modifier_tool}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sound_level_modifier_tool_a865d1b6b756594497a20a66fc902b1e8}{Sound\+Level\+Modifier\+Tool}} (\mbox{\hyperlink{class_xsheet_viewer}{Xsheet\+Viewer}} $\ast$viewer)
\item 
Modifier\+Type \mbox{\hyperlink{class_sound_level_modifier_tool_a8a18d9fb04d25ec7ed4b450a5b9c9311}{get\+Type}} (int r0, int r1, int delta)
\item 
\mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}} $\ast$ \mbox{\hyperlink{class_sound_level_modifier_tool_a677ffa3a094128b1f5ed88b2f8ae5fd2}{get\+Column}} () const
\item 
void \mbox{\hyperlink{class_sound_level_modifier_tool_aaab71819e660901b51c240d88e2048fe}{on\+Click}} (const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&pos) override
\item 
void \mbox{\hyperlink{class_sound_level_modifier_tool_ac1d0a1d9623753256715dbd245d81bf8}{on\+Drag}} (const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&pos) override
\item 
void \mbox{\hyperlink{class_sound_level_modifier_tool_a018818f408606d17d78cab8f01e39141}{on\+Change}} (int row)
\item 
void \mbox{\hyperlink{class_sound_level_modifier_tool_acd1a69183edcb20c57a8261e9a63b9db}{on\+Release}} (const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&pos) override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_sound_level_modifier_tool_a865d1b6b756594497a20a66fc902b1e8}\label{class_sound_level_modifier_tool_a865d1b6b756594497a20a66fc902b1e8}} 
\index{SoundLevelModifierTool@{SoundLevelModifierTool}!SoundLevelModifierTool@{SoundLevelModifierTool}}
\index{SoundLevelModifierTool@{SoundLevelModifierTool}!SoundLevelModifierTool@{SoundLevelModifierTool}}
\doxysubsubsection{\texorpdfstring{SoundLevelModifierTool()}{SoundLevelModifierTool()}}
{\footnotesize\ttfamily Sound\+Level\+Modifier\+Tool\+::\+Sound\+Level\+Modifier\+Tool (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_xsheet_viewer}{Xsheet\+Viewer}} $\ast$}]{viewer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00927       : \mbox{\hyperlink{class_xsheet_g_u_i_1_1_drag_tool}{XsheetGUI::DragTool}}(viewer)}
\DoxyCodeLine{00928       , m\_col(-\/1)}
\DoxyCodeLine{00929       , m\_firstRow(-\/1)}
\DoxyCodeLine{00930       , m\_oldColumn()}
\DoxyCodeLine{00931       , m\_modifierType(UNKNOWN\_TYPE)}
\DoxyCodeLine{00932       , m\_undo(0) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sound_level_modifier_tool_ae3ae750b25392310019a311ead84bc65}\label{class_sound_level_modifier_tool_ae3ae750b25392310019a311ead84bc65}} 
\index{SoundLevelModifierTool@{SoundLevelModifierTool}!````~SoundLevelModifierTool@{$\sim$SoundLevelModifierTool}}
\index{````~SoundLevelModifierTool@{$\sim$SoundLevelModifierTool}!SoundLevelModifierTool@{SoundLevelModifierTool}}
\doxysubsubsection{\texorpdfstring{$\sim$SoundLevelModifierTool()}{~SoundLevelModifierTool()}}
{\footnotesize\ttfamily Sound\+Level\+Modifier\+Tool\+::$\sim$\+Sound\+Level\+Modifier\+Tool (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00950 \{ \textcolor{keyword}{delete} m\_undo; \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_sound_level_modifier_tool_a677ffa3a094128b1f5ed88b2f8ae5fd2}\label{class_sound_level_modifier_tool_a677ffa3a094128b1f5ed88b2f8ae5fd2}} 
\index{SoundLevelModifierTool@{SoundLevelModifierTool}!getColumn@{getColumn}}
\index{getColumn@{getColumn}!SoundLevelModifierTool@{SoundLevelModifierTool}}
\doxysubsubsection{\texorpdfstring{getColumn()}{getColumn()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsh_sound_column}{TXsh\+Sound\+Column}} $\ast$ Sound\+Level\+Modifier\+Tool\+::get\+Column (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00952                                      \{}
\DoxyCodeLine{00953     \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column = getViewer()-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(m\_col);}
\DoxyCodeLine{00954     assert(column);}
\DoxyCodeLine{00955     \textcolor{comment}{// La colonna sound deve esserci, metto un controllo di sicurezza.}}
\DoxyCodeLine{00956     \mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}} *soundColumn = column-\/>getSoundColumn();}
\DoxyCodeLine{00957     assert(soundColumn);}
\DoxyCodeLine{00958     \textcolor{keywordflow}{return} soundColumn;}
\DoxyCodeLine{00959   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sound_level_modifier_tool_a8a18d9fb04d25ec7ed4b450a5b9c9311}\label{class_sound_level_modifier_tool_a8a18d9fb04d25ec7ed4b450a5b9c9311}} 
\index{SoundLevelModifierTool@{SoundLevelModifierTool}!getType@{getType}}
\index{getType@{getType}!SoundLevelModifierTool@{SoundLevelModifierTool}}
\doxysubsubsection{\texorpdfstring{getType()}{getType()}}
{\footnotesize\ttfamily Modifier\+Type Sound\+Level\+Modifier\+Tool\+::get\+Type (\begin{DoxyParamCaption}\item[{int}]{r0,  }\item[{int}]{r1,  }\item[{int}]{delta }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00934                                                   \{}
\DoxyCodeLine{00935     \textcolor{keywordflow}{if} (m\_firstRow == r0 \&\& m\_firstRow == r1) \{}
\DoxyCodeLine{00936       \textcolor{keywordflow}{if} (delta == 0)}
\DoxyCodeLine{00937         \textcolor{keywordflow}{return} UNKNOWN\_TYPE;}
\DoxyCodeLine{00938       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (delta < 0)}
\DoxyCodeLine{00939         \textcolor{keywordflow}{return} START\_TYPE;}
\DoxyCodeLine{00940       \textcolor{keywordflow}{else}}
\DoxyCodeLine{00941         \textcolor{keywordflow}{return} END\_TYPE;}
\DoxyCodeLine{00942     \}}
\DoxyCodeLine{00943     \textcolor{keywordflow}{if} (m\_firstRow == r0)}
\DoxyCodeLine{00944       \textcolor{keywordflow}{return} START\_TYPE;}
\DoxyCodeLine{00945     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_firstRow == r1)}
\DoxyCodeLine{00946       \textcolor{keywordflow}{return} END\_TYPE;}
\DoxyCodeLine{00947     \textcolor{keywordflow}{return} UNKNOWN\_TYPE;}
\DoxyCodeLine{00948   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sound_level_modifier_tool_a018818f408606d17d78cab8f01e39141}\label{class_sound_level_modifier_tool_a018818f408606d17d78cab8f01e39141}} 
\index{SoundLevelModifierTool@{SoundLevelModifierTool}!onChange@{onChange}}
\index{onChange@{onChange}!SoundLevelModifierTool@{SoundLevelModifierTool}}
\doxysubsubsection{\texorpdfstring{onChange()}{onChange()}}
{\footnotesize\ttfamily void Sound\+Level\+Modifier\+Tool\+::on\+Change (\begin{DoxyParamCaption}\item[{int}]{row }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00976                          \{}
\DoxyCodeLine{00977     \mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}} *soundColumn = getColumn();}
\DoxyCodeLine{00978     \textcolor{keywordflow}{if} (!soundColumn) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00979 }
\DoxyCodeLine{00980     \textcolor{keywordtype}{int} delta = row -\/ m\_firstRow;}
\DoxyCodeLine{00981     \textcolor{keywordflow}{if} (delta == 0) \{}
\DoxyCodeLine{00982       soundColumn-\/>\mbox{\hyperlink{class_t_xsh_sound_column_abdf9550b8dd31d53d667b0bced635de1}{assignLevels}}(m\_oldColumn.getPointer());}
\DoxyCodeLine{00983       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00984     \}}
\DoxyCodeLine{00985     \textcolor{keywordtype}{int} r0, r1;}
\DoxyCodeLine{00986     m\_oldColumn-\/>\mbox{\hyperlink{class_t_xsh_sound_column_ae50e978919de9823df378b1f7d32bc07}{getLevelRange}}(m\_firstRow, r0, r1);}
\DoxyCodeLine{00987     ModifierType type = getType(r0, r1, delta);}
\DoxyCodeLine{00988     \textcolor{keywordflow}{if} (m\_modifierType == UNKNOWN\_TYPE \&\& type != UNKNOWN\_TYPE)}
\DoxyCodeLine{00989       m\_modifierType = type;}
\DoxyCodeLine{00990     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_modifierType != type || type == UNKNOWN\_TYPE)}
\DoxyCodeLine{00991       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00992 }
\DoxyCodeLine{00993     soundColumn-\/>\mbox{\hyperlink{class_t_xsh_sound_column_abdf9550b8dd31d53d667b0bced635de1}{assignLevels}}(m\_oldColumn.getPointer());}
\DoxyCodeLine{00994     soundColumn-\/>\mbox{\hyperlink{class_t_xsh_sound_column_a513720f91b054355ca6521efe8fa0a73}{modifyCellRange}}(m\_firstRow, delta,}
\DoxyCodeLine{00995                                  m\_modifierType == START\_TYPE);}
\DoxyCodeLine{00996 }
\DoxyCodeLine{00997     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetSoundChanged();}
\DoxyCodeLine{00998   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sound_level_modifier_tool_aaab71819e660901b51c240d88e2048fe}\label{class_sound_level_modifier_tool_aaab71819e660901b51c240d88e2048fe}} 
\index{SoundLevelModifierTool@{SoundLevelModifierTool}!onClick@{onClick}}
\index{onClick@{onClick}!SoundLevelModifierTool@{SoundLevelModifierTool}}
\doxysubsubsection{\texorpdfstring{onClick()}{onClick()}}
{\footnotesize\ttfamily void Sound\+Level\+Modifier\+Tool\+::on\+Click (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&}]{pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_xsheet_g_u_i_1_1_drag_tool}{Xsheet\+GUI\+::\+Drag\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00961                                                  \{}
\DoxyCodeLine{00962     m\_firstRow                   = pos.frame();}
\DoxyCodeLine{00963     m\_col                        = pos.layer();}
\DoxyCodeLine{00964     \mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}} *soundColumn = getColumn();}
\DoxyCodeLine{00965     \textcolor{keywordflow}{if} (!soundColumn) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00966     m\_oldColumn = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}} *\textcolor{keyword}{>}(soundColumn-\/>clone());}
\DoxyCodeLine{00967     m\_undo      = \textcolor{keyword}{new} SoundLevelModifierUndo(m\_col, m\_oldColumn.getPointer());}
\DoxyCodeLine{00968     getViewer()-\/>update();}
\DoxyCodeLine{00969   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sound_level_modifier_tool_ac1d0a1d9623753256715dbd245d81bf8}\label{class_sound_level_modifier_tool_ac1d0a1d9623753256715dbd245d81bf8}} 
\index{SoundLevelModifierTool@{SoundLevelModifierTool}!onDrag@{onDrag}}
\index{onDrag@{onDrag}!SoundLevelModifierTool@{SoundLevelModifierTool}}
\doxysubsubsection{\texorpdfstring{onDrag()}{onDrag()}}
{\footnotesize\ttfamily void Sound\+Level\+Modifier\+Tool\+::on\+Drag (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&}]{pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_xsheet_g_u_i_1_1_drag_tool}{Xsheet\+GUI\+::\+Drag\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00971                                                 \{}
\DoxyCodeLine{00972     onChange(pos.frame());}
\DoxyCodeLine{00973     \mbox{\hyperlink{class_xsheet_g_u_i_1_1_drag_tool_ac2e0a67ad6ccbcc326cd0ebf27385b49}{refreshCellsArea}}();}
\DoxyCodeLine{00974   \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_sound_level_modifier_tool_acd1a69183edcb20c57a8261e9a63b9db}\label{class_sound_level_modifier_tool_acd1a69183edcb20c57a8261e9a63b9db}} 
\index{SoundLevelModifierTool@{SoundLevelModifierTool}!onRelease@{onRelease}}
\index{onRelease@{onRelease}!SoundLevelModifierTool@{SoundLevelModifierTool}}
\doxysubsubsection{\texorpdfstring{onRelease()}{onRelease()}}
{\footnotesize\ttfamily void Sound\+Level\+Modifier\+Tool\+::on\+Release (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_cell_position}{Cell\+Position}} \&}]{pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_xsheet_g_u_i_1_1_drag_tool}{Xsheet\+GUI\+::\+Drag\+Tool}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01000                                                    \{}
\DoxyCodeLine{01001     \textcolor{keywordtype}{int} row = pos.frame();}
\DoxyCodeLine{01002     \textcolor{keywordflow}{if} (row -\/ m\_firstRow == 0) \{}
\DoxyCodeLine{01003       m\_undo = 0;}
\DoxyCodeLine{01004       \textcolor{keywordflow}{return};}
\DoxyCodeLine{01005     \}}
\DoxyCodeLine{01006 }
\DoxyCodeLine{01007     \mbox{\hyperlink{class_t_xsh_column}{TXshColumn}} *column           = getViewer()-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a3e1a216c019a0ebdf73d95acac95d8d0}{getColumn}}(m\_col);}
\DoxyCodeLine{01008     \mbox{\hyperlink{class_t_xsh_sound_column}{TXshSoundColumn}} *soundColumn = getColumn();}
\DoxyCodeLine{01009     \textcolor{keywordflow}{if} (!soundColumn) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01010 }
\DoxyCodeLine{01011     soundColumn-\/>\mbox{\hyperlink{class_t_xsh_sound_column_a0b29a421ce039fc40efd4e33efaaa62a}{updateCells}}(row, 1);}
\DoxyCodeLine{01012 }
\DoxyCodeLine{01013     m\_undo-\/>setNewColumn(soundColumn);}
\DoxyCodeLine{01014     TUndoManager::manager()-\/>add(m\_undo);}
\DoxyCodeLine{01015     m\_undo = 0;}
\DoxyCodeLine{01016     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_abbbf1fae564e9e510826eda4f6637d20}{getCurrentScene}}()-\/>setDirtyFlag(\textcolor{keyword}{true});}
\DoxyCodeLine{01017     \mbox{\hyperlink{class_t_app_a24088f8647d5d9447fcec6b9b9bbf9eb}{TApp::instance}}()-\/>\mbox{\hyperlink{class_t_app_a13f509e753824cb0500787f68bb51a09}{getCurrentXsheet}}()-\/>notifyXsheetChanged();}
\DoxyCodeLine{01018   \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/toonz/xsheetdragtool.\+cpp\end{DoxyCompactItemize}
