\hypertarget{classtcg_1_1invalidable}{}\doxysection{tcg\+::invalidable\texorpdfstring{$<$}{<} Obj, Func \texorpdfstring{$>$}{>} Class Template Reference}
\label{classtcg_1_1invalidable}\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}


The invalidable template class is a common case of controlled variable access for objects which can be {\itshape invalidated}, and thus require a validator procedure to be invoked strictly before a user access to the object can be allowed.  




{\ttfamily \#include $<$controlled\+\_\+access.\+h$>$}

Inheritance diagram for tcg\+::invalidable\texorpdfstring{$<$}{<} Obj, Func \texorpdfstring{$>$}{>}\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classtcg_1_1invalidable}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
typedef Obj \mbox{\hyperlink{classtcg_1_1invalidable_a5819584f85692772a41a0fef47ed48d7}{obj\+\_\+type}}
\item 
typedef Func \mbox{\hyperlink{classtcg_1_1invalidable_afba05263f2bcd6c8902b99207a2790e9}{func\+\_\+type}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtcg_1_1invalidable_a13aa93315d8ad30d432d53446f09e8ee}{invalidable}} (const func\+\_\+type \&func, bool invalid=false)
\item 
\mbox{\hyperlink{classtcg_1_1invalidable_ac113049fed8c82234b9cf655e0ff7228}{invalidable}} (const obj\+\_\+type \&obj, const func\+\_\+type \&func, bool invalid=false)
\item 
void \mbox{\hyperlink{classtcg_1_1invalidable_a169f0779796e65e83d265a1b03146008}{invalidate}} ()
\item 
bool \mbox{\hyperlink{classtcg_1_1invalidable_aef5e0060705bea2845e2ac5f483e9f07}{is\+Invalid}} () const
\item 
const obj\+\_\+type \& \mbox{\hyperlink{classtcg_1_1invalidable_a697ea1ef2bd35ac97626e9271d6366ff}{operator()}} (Direct\+Access) const
\item 
obj\+\_\+type \& \mbox{\hyperlink{classtcg_1_1invalidable_a9090e38e2578fdbe0b481838ddcf9da4}{operator()}} (Direct\+Access)
\item 
const obj\+\_\+type \& \mbox{\hyperlink{classtcg_1_1invalidable_a78567dc737892a3009796b759f8f6269}{operator()}} () const
\item 
obj\+\_\+type \& \mbox{\hyperlink{classtcg_1_1invalidable_a8d2c3295ae4bb9fc633bc6b8cbe84c34}{operator()}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename Obj, typename Func = tcg\+::empty\+\_\+type$>$\newline
class tcg\+::invalidable$<$ Obj, Func $>$}
The invalidable template class is a common case of controlled variable access for objects which can be {\itshape invalidated}, and thus require a validator procedure to be invoked strictly before a user access to the object can be allowed. 

An invalidable instance wraps a {\itshape mutable} object and adds a boolean to signal its current validity state.

The initial validity of the object can be specified at construction, and explicitly set to the invalid state through the invalidate() method.

Access to the wrapped object requires either the invocation a validator functor through the various operator() overloads, or that the access is explicitly marked as {\itshape direct} by supplying the {\ttfamily tcg\+::direct\+\_\+access} tag. 

\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classtcg_1_1invalidable_afba05263f2bcd6c8902b99207a2790e9}\label{classtcg_1_1invalidable_afba05263f2bcd6c8902b99207a2790e9}} 
\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}!func\_type@{func\_type}}
\index{func\_type@{func\_type}!tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}
\doxysubsubsection{\texorpdfstring{func\_type}{func\_type}}
{\footnotesize\ttfamily template$<$typename Obj , typename Func  = tcg\+::empty\+\_\+type$>$ \\
typedef Func \mbox{\hyperlink{classtcg_1_1invalidable}{tcg\+::invalidable}}$<$ Obj, Func $>$\+::func\+\_\+type}

\mbox{\Hypertarget{classtcg_1_1invalidable_a5819584f85692772a41a0fef47ed48d7}\label{classtcg_1_1invalidable_a5819584f85692772a41a0fef47ed48d7}} 
\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}!obj\_type@{obj\_type}}
\index{obj\_type@{obj\_type}!tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}
\doxysubsubsection{\texorpdfstring{obj\_type}{obj\_type}}
{\footnotesize\ttfamily template$<$typename Obj , typename Func  = tcg\+::empty\+\_\+type$>$ \\
typedef Obj \mbox{\hyperlink{classtcg_1_1invalidable}{tcg\+::invalidable}}$<$ Obj, Func $>$\+::obj\+\_\+type}



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classtcg_1_1invalidable_a13aa93315d8ad30d432d53446f09e8ee}\label{classtcg_1_1invalidable_a13aa93315d8ad30d432d53446f09e8ee}} 
\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}!invalidable@{invalidable}}
\index{invalidable@{invalidable}!tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}
\doxysubsubsection{\texorpdfstring{invalidable()}{invalidable()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename Obj , typename Func  = tcg\+::empty\+\_\+type$>$ \\
\mbox{\hyperlink{classtcg_1_1invalidable}{tcg\+::invalidable}}$<$ Obj, Func $>$\+::invalidable (\begin{DoxyParamCaption}\item[{const func\+\_\+type \&}]{func,  }\item[{bool}]{invalid = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00151       : m\_obj(), m\_func(func), m\_invalid(invalid) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1invalidable_ac113049fed8c82234b9cf655e0ff7228}\label{classtcg_1_1invalidable_ac113049fed8c82234b9cf655e0ff7228}} 
\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}!invalidable@{invalidable}}
\index{invalidable@{invalidable}!tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}
\doxysubsubsection{\texorpdfstring{invalidable()}{invalidable()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Obj , typename Func  = tcg\+::empty\+\_\+type$>$ \\
\mbox{\hyperlink{classtcg_1_1invalidable}{tcg\+::invalidable}}$<$ Obj, Func $>$\+::invalidable (\begin{DoxyParamCaption}\item[{const obj\+\_\+type \&}]{obj,  }\item[{const func\+\_\+type \&}]{func,  }\item[{bool}]{invalid = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00153       : m\_obj(obj), m\_func(func), m\_invalid(invalid) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classtcg_1_1invalidable_a169f0779796e65e83d265a1b03146008}\label{classtcg_1_1invalidable_a169f0779796e65e83d265a1b03146008}} 
\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}!invalidate@{invalidate}}
\index{invalidate@{invalidate}!tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}
\doxysubsubsection{\texorpdfstring{invalidate()}{invalidate()}}
{\footnotesize\ttfamily template$<$typename Obj , typename Func  = tcg\+::empty\+\_\+type$>$ \\
void \mbox{\hyperlink{classtcg_1_1invalidable}{tcg\+::invalidable}}$<$ Obj, Func $>$\+::invalidate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00155 \{ m\_invalid = \textcolor{keyword}{true}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1invalidable_aef5e0060705bea2845e2ac5f483e9f07}\label{classtcg_1_1invalidable_aef5e0060705bea2845e2ac5f483e9f07}} 
\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}!isInvalid@{isInvalid}}
\index{isInvalid@{isInvalid}!tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}
\doxysubsubsection{\texorpdfstring{isInvalid()}{isInvalid()}}
{\footnotesize\ttfamily template$<$typename Obj , typename Func  = tcg\+::empty\+\_\+type$>$ \\
bool \mbox{\hyperlink{classtcg_1_1invalidable}{tcg\+::invalidable}}$<$ Obj, Func $>$\+::is\+Invalid (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00156 \{ \textcolor{keywordflow}{return} m\_invalid; \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1invalidable_a8d2c3295ae4bb9fc633bc6b8cbe84c34}\label{classtcg_1_1invalidable_a8d2c3295ae4bb9fc633bc6b8cbe84c34}} 
\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}!operator()@{operator()}}
\index{operator()@{operator()}!tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}\hspace{0.1cm}{\footnotesize\ttfamily [1/4]}}
{\footnotesize\ttfamily template$<$typename Obj , typename Func  = tcg\+::empty\+\_\+type$>$ \\
obj\+\_\+type \& \mbox{\hyperlink{classtcg_1_1invalidable}{tcg\+::invalidable}}$<$ Obj, Func $>$\+::operator() (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00167                          \{}
\DoxyCodeLine{00168     \textcolor{keywordflow}{if} (m\_invalid) m\_func(m\_obj), m\_invalid = \textcolor{keyword}{false};}
\DoxyCodeLine{00169 }
\DoxyCodeLine{00170     \textcolor{keywordflow}{return} m\_obj;}
\DoxyCodeLine{00171   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1invalidable_a78567dc737892a3009796b759f8f6269}\label{classtcg_1_1invalidable_a78567dc737892a3009796b759f8f6269}} 
\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}!operator()@{operator()}}
\index{operator()@{operator()}!tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}\hspace{0.1cm}{\footnotesize\ttfamily [2/4]}}
{\footnotesize\ttfamily template$<$typename Obj , typename Func  = tcg\+::empty\+\_\+type$>$ \\
const obj\+\_\+type \& \mbox{\hyperlink{classtcg_1_1invalidable}{tcg\+::invalidable}}$<$ Obj, Func $>$\+::operator() (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00161                                      \{}
\DoxyCodeLine{00162     \textcolor{keywordflow}{if} (m\_invalid) m\_func(m\_obj), m\_invalid = \textcolor{keyword}{false};}
\DoxyCodeLine{00163 }
\DoxyCodeLine{00164     \textcolor{keywordflow}{return} m\_obj;}
\DoxyCodeLine{00165   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1invalidable_a9090e38e2578fdbe0b481838ddcf9da4}\label{classtcg_1_1invalidable_a9090e38e2578fdbe0b481838ddcf9da4}} 
\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}!operator()@{operator()}}
\index{operator()@{operator()}!tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}\hspace{0.1cm}{\footnotesize\ttfamily [3/4]}}
{\footnotesize\ttfamily template$<$typename Obj , typename Func  = tcg\+::empty\+\_\+type$>$ \\
obj\+\_\+type \& \mbox{\hyperlink{classtcg_1_1invalidable}{tcg\+::invalidable}}$<$ Obj, Func $>$\+::operator() (\begin{DoxyParamCaption}\item[{Direct\+Access}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00159 \{ \textcolor{keywordflow}{return} m\_obj; \}}

\end{DoxyCode}
\mbox{\Hypertarget{classtcg_1_1invalidable_a697ea1ef2bd35ac97626e9271d6366ff}\label{classtcg_1_1invalidable_a697ea1ef2bd35ac97626e9271d6366ff}} 
\index{tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}!operator()@{operator()}}
\index{operator()@{operator()}!tcg::invalidable$<$ Obj, Func $>$@{tcg::invalidable$<$ Obj, Func $>$}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}\hspace{0.1cm}{\footnotesize\ttfamily [4/4]}}
{\footnotesize\ttfamily template$<$typename Obj , typename Func  = tcg\+::empty\+\_\+type$>$ \\
const obj\+\_\+type \& \mbox{\hyperlink{classtcg_1_1invalidable}{tcg\+::invalidable}}$<$ Obj, Func $>$\+::operator() (\begin{DoxyParamCaption}\item[{Direct\+Access}]{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}


\begin{DoxyCode}{0}
\DoxyCodeLine{00158 \{ \textcolor{keywordflow}{return} m\_obj; \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tcg/\mbox{\hyperlink{controlled__access_8h}{controlled\+\_\+access.\+h}}\end{DoxyCompactItemize}
