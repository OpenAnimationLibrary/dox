\hypertarget{class_plastic_deformer_fx}{}\doxysection{Plastic\+Deformer\+Fx Class Reference}
\label{class_plastic_deformer_fx}\index{PlasticDeformerFx@{PlasticDeformerFx}}


{\ttfamily \#include $<$plasticdeformerfx.\+h$>$}

Inheritance diagram for Plastic\+Deformer\+Fx\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_plastic_deformer_fx}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ \mbox{\hyperlink{class_plastic_deformer_fx_ab7c9fe1d15b44b753a4e7ac69c56c2fb}{clone}} (bool recursive=true) const override
\item 
bool \mbox{\hyperlink{class_plastic_deformer_fx_a1f7b802f5aa0f6ecee50dd9b4141adfd}{can\+Handle}} (const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info, double frame) override
\item 
std\+::string \mbox{\hyperlink{class_plastic_deformer_fx_a39fe109ffb990a8b3595db578cb44bd5}{get\+Alias}} (double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) const override
\item 
bool \mbox{\hyperlink{class_plastic_deformer_fx_a1515c838681b1a727c0d64589b2e00f8}{do\+Get\+BBox}} (double frame, \mbox{\hyperlink{class_t_rect_t}{TRectD}} \&bbox, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
void \mbox{\hyperlink{class_plastic_deformer_fx_aa7116689f065a9b199caca8aec6f55e5}{do\+Compute}} (\mbox{\hyperlink{class_t_tile}{TTile}} \&tile, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
void \mbox{\hyperlink{class_plastic_deformer_fx_a9846057d45b92c1305acfa554fd3eeaa}{do\+Dry\+Compute}} (\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&rect, double frame, const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&info) override
\item 
std\+::string \mbox{\hyperlink{class_plastic_deformer_fx_a94cb11867752fe7f4824e3313735e82e}{get\+Plugin\+Id}} () const override
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_t_xsheet}{TXsheet}} $\ast$ \mbox{\hyperlink{class_plastic_deformer_fx_aa0d443233d404b44a7e63852a169ebc3}{m\+\_\+xsh}}
\begin{DoxyCompactList}\small\item\em The Fx\textquotesingle{}s enclosing Xsheet. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_plastic_deformer_fx_a33941c5b65ba7bbc34e7bb883fae1789}{m\+\_\+col}}
\begin{DoxyCompactList}\small\item\em The input column index. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_affine}{TAffine}} \mbox{\hyperlink{class_plastic_deformer_fx_a941793d2367b5fbf9a47edb906d4e49f}{m\+\_\+tex\+Placement}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{struct_texture}{Texture}} to mesh reference transform. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_t_raster_fx_port}{TRaster\+Fx\+Port}} \mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\+\_\+port}}
\begin{DoxyCompactList}\small\item\em Input port. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{class_plastic_deformer_fx}{Plastic\+Deformer\+Fx}} is a hidden fx used to inject data about a plastic deformation just above a \mbox{\hyperlink{class_t_level_column_fx}{TLevel\+Column\+Fx}} instance. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_plastic_deformer_fx_a4424c7af466ac3b6cd4d69a50256bab2}\label{class_plastic_deformer_fx_a4424c7af466ac3b6cd4d69a50256bab2}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!PlasticDeformerFx@{PlasticDeformerFx}}
\index{PlasticDeformerFx@{PlasticDeformerFx}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{PlasticDeformerFx()}{PlasticDeformerFx()}}
{\footnotesize\ttfamily Plastic\+Deformer\+Fx\+::\+Plastic\+Deformer\+Fx (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{00104                                      : \mbox{\hyperlink{class_t_raster_fx}{TRasterFx}}() \{}
\DoxyCodeLine{00105   \mbox{\hyperlink{class_t_fx_af0ccf8d65934ed9f7a62d3b45ee5f2b6}{addInputPort}}(\textcolor{stringliteral}{"{}source"{}}, \mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}});}
\DoxyCodeLine{00106 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_plastic_deformer_fx_a1f7b802f5aa0f6ecee50dd9b4141adfd}\label{class_plastic_deformer_fx_a1f7b802f5aa0f6ecee50dd9b4141adfd}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!canHandle@{canHandle}}
\index{canHandle@{canHandle}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{canHandle()}{canHandle()}}
{\footnotesize\ttfamily bool Plastic\+Deformer\+Fx\+::can\+Handle (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info,  }\item[{double}]{frame }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00123                                                                            \{}
\DoxyCodeLine{00124   \textcolor{comment}{// Yep. Affines are handled. Well -\/ it's easy, since OpenGL lets you do that}}
\DoxyCodeLine{00125   \textcolor{comment}{// directly}}
\DoxyCodeLine{00126   \textcolor{comment}{// with a glPushMatrix...}}
\DoxyCodeLine{00127 }
\DoxyCodeLine{00128   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00129 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_deformer_fx_ab7c9fe1d15b44b753a4e7ac69c56c2fb}\label{class_plastic_deformer_fx_ab7c9fe1d15b44b753a4e7ac69c56c2fb}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!clone@{clone}}
\index{clone@{clone}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{clone()}{clone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_fx}{TFx}} $\ast$ Plastic\+Deformer\+Fx\+::clone (\begin{DoxyParamCaption}\item[{bool}]{recursive = {\ttfamily true} }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_fx}{TFx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00110                                                   \{}
\DoxyCodeLine{00111   \mbox{\hyperlink{class_plastic_deformer_fx}{PlasticDeformerFx}} *fx =}
\DoxyCodeLine{00112       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_plastic_deformer_fx}{PlasticDeformerFx}} *\textcolor{keyword}{>}(TFx::clone(recursive));}
\DoxyCodeLine{00113   assert(fx);}
\DoxyCodeLine{00114 }
\DoxyCodeLine{00115   fx-\/>\mbox{\hyperlink{class_plastic_deformer_fx_aa0d443233d404b44a7e63852a169ebc3}{m\_xsh}} = \mbox{\hyperlink{class_plastic_deformer_fx_aa0d443233d404b44a7e63852a169ebc3}{m\_xsh}};}
\DoxyCodeLine{00116   fx-\/>\mbox{\hyperlink{class_plastic_deformer_fx_a33941c5b65ba7bbc34e7bb883fae1789}{m\_col}} = \mbox{\hyperlink{class_plastic_deformer_fx_a33941c5b65ba7bbc34e7bb883fae1789}{m\_col}};}
\DoxyCodeLine{00117 }
\DoxyCodeLine{00118   \textcolor{keywordflow}{return} fx;}
\DoxyCodeLine{00119 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_deformer_fx_aa7116689f065a9b199caca8aec6f55e5}\label{class_plastic_deformer_fx_aa7116689f065a9b199caca8aec6f55e5}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!doCompute@{doCompute}}
\index{doCompute@{doCompute}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{doCompute()}{doCompute()}}
{\footnotesize\ttfamily void Plastic\+Deformer\+Fx\+::do\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_tile}{TTile}} \&}]{tile,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00264                                                                \{}
\DoxyCodeLine{00265   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}.isConnected()) \{}
\DoxyCodeLine{00266     tile.getRaster()-\/>clear();}
\DoxyCodeLine{00267     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00268   \}}
\DoxyCodeLine{00269 }
\DoxyCodeLine{00270   \textcolor{keywordtype}{int} row = (int)frame;}
\DoxyCodeLine{00271 }
\DoxyCodeLine{00272   \textcolor{comment}{// Build texture data}}
\DoxyCodeLine{00273   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} texInfo(info);}
\DoxyCodeLine{00274   \mbox{\hyperlink{class_t_affine}{TAffine}} worldTexLevelToTexLevelAff;}
\DoxyCodeLine{00275 }
\DoxyCodeLine{00276   \textcolor{keywordflow}{if} (\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_level_column_fx}{TLevelColumnFx}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}.getFx())) \{}
\DoxyCodeLine{00277     \textcolor{keywordflow}{if} (!buildTextureDataSl(frame, texInfo, worldTexLevelToTexLevelAff)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00278   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00279     buildTextureData(frame, texInfo, worldTexLevelToTexLevelAff);}
\DoxyCodeLine{00280 }
\DoxyCodeLine{00281   \textcolor{comment}{// Initialize mesh level vars}}
\DoxyCodeLine{00282 }
\DoxyCodeLine{00283   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} \&meshCell = \mbox{\hyperlink{class_plastic_deformer_fx_aa0d443233d404b44a7e63852a169ebc3}{m\_xsh}}-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(row, \mbox{\hyperlink{class_plastic_deformer_fx_a33941c5b65ba7bbc34e7bb883fae1789}{m\_col}});}
\DoxyCodeLine{00284 }
\DoxyCodeLine{00285   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *meshSl = meshCell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{00286   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_frame_id}{TFrameId}} \&meshFid = meshCell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}();}
\DoxyCodeLine{00287 }
\DoxyCodeLine{00288   \textcolor{keywordflow}{if} (!meshSl || meshSl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() != MESH\_XSHLEVEL) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00289 }
\DoxyCodeLine{00290   \textcolor{comment}{// Retrieve mesh image and deformation}}
\DoxyCodeLine{00291 }
\DoxyCodeLine{00292   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *meshColumnObj =}
\DoxyCodeLine{00293       \mbox{\hyperlink{class_plastic_deformer_fx_aa0d443233d404b44a7e63852a169ebc3}{m\_xsh}}-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(TStageObjectId::ColumnId(\mbox{\hyperlink{class_plastic_deformer_fx_a33941c5b65ba7bbc34e7bb883fae1789}{m\_col}}));}
\DoxyCodeLine{00294 }
\DoxyCodeLine{00295   \mbox{\hyperlink{class_t_mesh_image_p}{TMeshImageP}} mi(meshSl-\/>getFrame(meshFid, \textcolor{keyword}{false}));}
\DoxyCodeLine{00296   \textcolor{keywordflow}{if} (!mi) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00297 }
\DoxyCodeLine{00298   \textcolor{comment}{// Retrieve deformation data}}
\DoxyCodeLine{00299 }
\DoxyCodeLine{00300   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_smart_pointer_t}{PlasticSkeletonDeformationP}} \&sd =}
\DoxyCodeLine{00301       meshColumnObj-\/>\mbox{\hyperlink{class_t_stage_object_af2c5d9f172e73e4cb09b769700df3acb}{getPlasticSkeletonDeformation}}();}
\DoxyCodeLine{00302   assert(sd);}
\DoxyCodeLine{00303 }
\DoxyCodeLine{00304   \textcolor{keywordtype}{double} sdFrame = meshColumnObj-\/>\mbox{\hyperlink{class_t_stage_object_a6a0a6495e61fdb598ed2a1b371f4362f}{paramsTime}}(frame);}
\DoxyCodeLine{00305 }
\DoxyCodeLine{00306   \textcolor{comment}{// Build dpi data}}
\DoxyCodeLine{00307 }
\DoxyCodeLine{00308   \mbox{\hyperlink{class_t_point_t}{TPointD}} meshDpi(meshSl-\/>getDpi(meshFid, 0));}
\DoxyCodeLine{00309   assert(meshDpi.x != 0.0 \&\& meshDpi.y != 0.0);}
\DoxyCodeLine{00310 }
\DoxyCodeLine{00311   \textcolor{comment}{// Build reference transforms data}}
\DoxyCodeLine{00312 }
\DoxyCodeLine{00313   \textcolor{comment}{// Build affines}}
\DoxyCodeLine{00314 }
\DoxyCodeLine{00315   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&imageToTextureAff           = texInfo.m\_affine;}
\DoxyCodeLine{00316   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&worldTexLevelToWorldMeshAff = \mbox{\hyperlink{class_plastic_deformer_fx_a941793d2367b5fbf9a47edb906d4e49f}{m\_texPlacement}};}
\DoxyCodeLine{00317   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&meshToWorldMeshAff =}
\DoxyCodeLine{00318       \mbox{\hyperlink{class_t_scale}{TScale}}(\mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}} / meshDpi.x, \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}} / meshDpi.y);}
\DoxyCodeLine{00319 }
\DoxyCodeLine{00320   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&meshToTexLevelAff = worldTexLevelToTexLevelAff *}
\DoxyCodeLine{00321                                      worldTexLevelToWorldMeshAff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}() *}
\DoxyCodeLine{00322                                      meshToWorldMeshAff;}
\DoxyCodeLine{00323   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&meshToTextureAff = imageToTextureAff * meshToTexLevelAff;}
\DoxyCodeLine{00324 }
\DoxyCodeLine{00325   \textcolor{comment}{// Retrieve deformer data}}
\DoxyCodeLine{00326 }
\DoxyCodeLine{00327   \mbox{\hyperlink{class_t_scale}{TScale}} worldMeshToMeshAff(meshDpi.x / \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}}, meshDpi.y / \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}});}
\DoxyCodeLine{00328 }
\DoxyCodeLine{00329   std::unique\_ptr<const PlasticDeformerDataGroup> dataGroup(}
\DoxyCodeLine{00330       PlasticDeformerStorage::instance()-\/>processOnce(}
\DoxyCodeLine{00331           sdFrame, mi.getPointer(), sd.getPointer(), sd-\/>skeletonId(sdFrame),}
\DoxyCodeLine{00332           worldMeshToMeshAff));}
\DoxyCodeLine{00333 }
\DoxyCodeLine{00334   \textcolor{comment}{// Build texture}}
\DoxyCodeLine{00335 }
\DoxyCodeLine{00336   \textcolor{comment}{// Build the mesh's bounding box and map it to input reference}}
\DoxyCodeLine{00337   \mbox{\hyperlink{class_t_rect_t}{TRectD}} meshBBox(meshToTextureAff * mi-\/>getBBox());}
\DoxyCodeLine{00338 }
\DoxyCodeLine{00339   \textcolor{comment}{// Now, build the tile's geometry}}
\DoxyCodeLine{00340   \mbox{\hyperlink{class_t_rect_t}{TRectD}} texBBox;}
\DoxyCodeLine{00341   \mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}-\/>getBBox(frame, texBBox, texInfo);}
\DoxyCodeLine{00342 }
\DoxyCodeLine{00343   \mbox{\hyperlink{class_t_rect_t}{TRectD}} bbox = texBBox * meshBBox;}
\DoxyCodeLine{00344   \textcolor{keywordflow}{if} (bbox.getLx() <= 0.0 || bbox.getLy() <= 0.0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00345 }
\DoxyCodeLine{00346   bbox.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} = tfloor(bbox.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}});}
\DoxyCodeLine{00347   bbox.y0 = tfloor(bbox.y0);}
\DoxyCodeLine{00348   bbox.x1 = tceil(bbox.x1);}
\DoxyCodeLine{00349   bbox.y1 = tceil(bbox.y1);}
\DoxyCodeLine{00350 }
\DoxyCodeLine{00351   \mbox{\hyperlink{class_t_dimension_t}{TDimension}} tileSize(tround(bbox.getLx()), tround(bbox.getLy()));}
\DoxyCodeLine{00352 }
\DoxyCodeLine{00353   \textcolor{comment}{// Then, compute the input image}}
\DoxyCodeLine{00354   \mbox{\hyperlink{class_t_tile}{TTile}} inTile;}
\DoxyCodeLine{00355   \mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}-\/>allocateAndCompute(inTile, bbox.getP00(), tileSize, \mbox{\hyperlink{class_t_smart_pointer_t}{TRasterP}}(), frame,}
\DoxyCodeLine{00356                              texInfo);}
\DoxyCodeLine{00357   QOpenGLContext *context;}
\DoxyCodeLine{00358   \textcolor{comment}{// Draw the textured mesh}}
\DoxyCodeLine{00359   \{}
\DoxyCodeLine{00360     \textcolor{comment}{// Prepare texture}}
\DoxyCodeLine{00361     \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} tex(inTile.getRaster());}
\DoxyCodeLine{00362     \mbox{\hyperlink{namespace_t_rop_add7d14f883c53c3d68ca0f256c42689f}{TRop::depremultiply}}(tex);  \textcolor{comment}{// Textures must be stored depremultiplied.}}
\DoxyCodeLine{00363                                \textcolor{comment}{// See docs about the tglDraw() below.}}
\DoxyCodeLine{00364     \textcolor{keyword}{static} \mbox{\hyperlink{class_t_atomic_var}{TAtomicVar}} var;}
\DoxyCodeLine{00365     \textcolor{keyword}{const} std::string \&texId = \textcolor{stringliteral}{"{}render\_tex "{}} + std::to\_string(++var);}
\DoxyCodeLine{00366 }
\DoxyCodeLine{00367     \textcolor{comment}{// Prepare an OpenGL context}}
\DoxyCodeLine{00368     context = \textcolor{keyword}{new} QOpenGLContext();}
\DoxyCodeLine{00369     \textcolor{keywordflow}{if} (QOpenGLContext::currentContext())}
\DoxyCodeLine{00370       context-\/>setShareContext(QOpenGLContext::currentContext());}
\DoxyCodeLine{00371     context-\/>setFormat(QSurfaceFormat::defaultFormat());}
\DoxyCodeLine{00372     context-\/>create();}
\DoxyCodeLine{00373     context-\/>makeCurrent(info.m\_offScreenSurface.get());}
\DoxyCodeLine{00374 }
\DoxyCodeLine{00375     \mbox{\hyperlink{class_t_dimension_t}{TDimension}} d = tile.getRaster()-\/>getSize();}
\DoxyCodeLine{00376     QOpenGLFramebufferObject fb(d.lx, d.ly);}
\DoxyCodeLine{00377 }
\DoxyCodeLine{00378     fb.bind();}
\DoxyCodeLine{00379 }
\DoxyCodeLine{00380     \textcolor{comment}{// Load texture into the context}}
\DoxyCodeLine{00381     \mbox{\hyperlink{class_t_textures_storage}{TTexturesStorage}} *ts                = TTexturesStorage::instance();}
\DoxyCodeLine{00382     \textcolor{keyword}{const} DrawableTextureDataP \&texData = ts-\/>\mbox{\hyperlink{class_t_textures_storage_a952895ddc988b8010e584b2cc4d394cb}{loadTexture}}(texId, tex, bbox);}
\DoxyCodeLine{00383 }
\DoxyCodeLine{00384     \textcolor{comment}{// Draw}}
\DoxyCodeLine{00385     glViewport(0, 0, d.lx, d.ly);}
\DoxyCodeLine{00386     glClearColor(0, 0, 0, 0);}
\DoxyCodeLine{00387     glClear(GL\_COLOR\_BUFFER\_BIT);}
\DoxyCodeLine{00388 }
\DoxyCodeLine{00389     glMatrixMode(GL\_PROJECTION);}
\DoxyCodeLine{00390     glLoadIdentity();}
\DoxyCodeLine{00391     gluOrtho2D(0, d.lx, 0, d.ly);}
\DoxyCodeLine{00392 }
\DoxyCodeLine{00393     glMatrixMode(GL\_MODELVIEW);}
\DoxyCodeLine{00394     glLoadIdentity();}
\DoxyCodeLine{00395     tglMultMatrix(\mbox{\hyperlink{class_t_translation}{TTranslation}}(-\/tile.m\_pos) * info.m\_affine *}
\DoxyCodeLine{00396                   meshToWorldMeshAff);}
\DoxyCodeLine{00397 }
\DoxyCodeLine{00398     glEnable(GL\_BLEND);}
\DoxyCodeLine{00399     glEnable(GL\_TEXTURE\_2D);}
\DoxyCodeLine{00400 }
\DoxyCodeLine{00401     tglDraw(*mi, *texData, meshToTextureAff, *dataGroup);}
\DoxyCodeLine{00402 }
\DoxyCodeLine{00403     \textcolor{comment}{// Retrieve drawing and copy to output tile}}
\DoxyCodeLine{00404 }
\DoxyCodeLine{00405     QImage img = fb.toImage().scaled(QSize(d.lx, d.ly), Qt::IgnoreAspectRatio,}
\DoxyCodeLine{00406                                      Qt::SmoothTransformation);}
\DoxyCodeLine{00407     \textcolor{keywordtype}{int} wrap   = tile.getRaster()-\/>getLx() * \textcolor{keyword}{sizeof}(TPixel32);}
\DoxyCodeLine{00408     \textcolor{keywordflow}{if} (!m\_was64bit) \{}
\DoxyCodeLine{00409       uchar *srcPix = img.bits();}
\DoxyCodeLine{00410       uchar *dstPix = tile.getRaster()-\/>\mbox{\hyperlink{class_t_raster_a5ce02b7e8a5b8b594863aa272d8dcdbc}{getRawData}}() + wrap * (d.ly -\/ 1);}
\DoxyCodeLine{00411       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < d.ly; y++) \{}
\DoxyCodeLine{00412         memcpy(dstPix, srcPix, wrap);}
\DoxyCodeLine{00413         dstPix -\/= wrap;}
\DoxyCodeLine{00414         srcPix += wrap;}
\DoxyCodeLine{00415       \}}
\DoxyCodeLine{00416     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (m\_was64bit) \{}
\DoxyCodeLine{00417       \mbox{\hyperlink{class_t_raster_p_t}{TRaster64P}} newRaster(tile.getRaster()-\/>getSize());}
\DoxyCodeLine{00418       \mbox{\hyperlink{class_t_raster_p_t}{TRaster32P}} tempRaster(tile.getRaster()-\/>getSize());}
\DoxyCodeLine{00419       uchar *srcPix = img.bits();}
\DoxyCodeLine{00420       uchar *dstPix = tempRaster.getPointer()-\/>getRawData() + wrap * (d.ly -\/ 1);}
\DoxyCodeLine{00421       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < d.ly; y++) \{}
\DoxyCodeLine{00422         memcpy(dstPix, srcPix, wrap);}
\DoxyCodeLine{00423         dstPix -\/= wrap;}
\DoxyCodeLine{00424         srcPix += wrap;}
\DoxyCodeLine{00425       \}}
\DoxyCodeLine{00426       \mbox{\hyperlink{namespace_t_rop_a45a08fb48dd7d33ec629d722081d55c6}{TRop::convert}}(newRaster, tempRaster);}
\DoxyCodeLine{00427       \textcolor{keywordtype}{int} size = tile.getRaster()-\/>getLx() * tile.getRaster()-\/>getLy() *}
\DoxyCodeLine{00428                  \textcolor{keyword}{sizeof}(TPixel64);}
\DoxyCodeLine{00429       srcPix = newRaster.getPointer()-\/>getRawData();}
\DoxyCodeLine{00430       dstPix = tile.getRaster()-\/>\mbox{\hyperlink{class_t_raster_a5ce02b7e8a5b8b594863aa272d8dcdbc}{getRawData}}();}
\DoxyCodeLine{00431       memcpy(dstPix, srcPix, size);}
\DoxyCodeLine{00432       texInfo.m\_bpp = 64;}
\DoxyCodeLine{00433     \}}
\DoxyCodeLine{00434 }
\DoxyCodeLine{00435     fb.release();}
\DoxyCodeLine{00436 }
\DoxyCodeLine{00437     \textcolor{comment}{// context-\/>getRaster(tile.getRaster());}}
\DoxyCodeLine{00438     glFlush();}
\DoxyCodeLine{00439     glFinish();}
\DoxyCodeLine{00440     \textcolor{comment}{// Cleanup}}
\DoxyCodeLine{00441 }
\DoxyCodeLine{00442     \textcolor{comment}{// No need to disable stuff -\/ the context dies here}}
\DoxyCodeLine{00443 }
\DoxyCodeLine{00444     \textcolor{comment}{// ts-\/>unloadTexture(texId);                                // Auto-\/released}}
\DoxyCodeLine{00445     \textcolor{comment}{// due to display list destruction}}
\DoxyCodeLine{00446     context-\/>deleteLater();}
\DoxyCodeLine{00447     \textcolor{comment}{// context-\/>doneCurrent();}}
\DoxyCodeLine{00448   \}}
\DoxyCodeLine{00449   assert(glGetError() == GL\_NO\_ERROR);}
\DoxyCodeLine{00450 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_deformer_fx_a9846057d45b92c1305acfa554fd3eeaa}\label{class_plastic_deformer_fx_a9846057d45b92c1305acfa554fd3eeaa}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!doDryCompute@{doDryCompute}}
\index{doDryCompute@{doDryCompute}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{doDryCompute()}{doDryCompute()}}
{\footnotesize\ttfamily void Plastic\+Deformer\+Fx\+::do\+Dry\+Compute (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{rect,  }\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}

Declares the computation scheme of this fx for rendering optimization purposes. This is an important function of the Toonz rendering API, and should be reimplemented with the necessary care. The Toonz rendering process makes use of this function to enact most of the optimization steps about the fx computation, in particular fx caching. A correct implementation of this method should follow these rules\+:  The invocation of child node computations should be faithfully reproduced.  TRaster\+Fx\+::compute and TRaster\+Fx\+::allocate\+And\+Compute calls have to be translated to TRaster\+Fx\+::dry\+Compute calls.  This fx is intended for precomputation stage, so the hard rendering code should be skipped here. By default, this method raises a dry\+Compute call to each input port in increasing order, using the TRaster\+Fx\+::transform method to identify the tiles to be passed on input precomputation. 

Reimplemented from \mbox{\hyperlink{class_t_raster_fx_a47ec31d2d4c3a066cd6744fb8c80edf2}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00455                                                                   \{}
\DoxyCodeLine{00456   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}.isConnected()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00457 }
\DoxyCodeLine{00458   \textcolor{keywordtype}{int} row = (int)frame;}
\DoxyCodeLine{00459 }
\DoxyCodeLine{00460   \mbox{\hyperlink{class_t_render_settings}{TRenderSettings}} texInfo(info);}
\DoxyCodeLine{00461   \mbox{\hyperlink{class_t_affine}{TAffine}} worldTexLevelToTexLevelAff;}
\DoxyCodeLine{00462 }
\DoxyCodeLine{00463   \textcolor{keywordflow}{if} (\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_t_level_column_fx}{TLevelColumnFx}} *\textcolor{keyword}{>}(\mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}.getFx())) \{}
\DoxyCodeLine{00464     \textcolor{keywordflow}{if} (!buildTextureDataSl(frame, texInfo, worldTexLevelToTexLevelAff)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00465   \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{00466     buildTextureData(frame, texInfo, worldTexLevelToTexLevelAff);}
\DoxyCodeLine{00467 }
\DoxyCodeLine{00468   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_xsh_cell}{TXshCell}} \&meshCell = \mbox{\hyperlink{class_plastic_deformer_fx_aa0d443233d404b44a7e63852a169ebc3}{m\_xsh}}-\/>\mbox{\hyperlink{class_t_xsheet_a1ae81edf03bc7527176c84478c350f57}{getCell}}(row, \mbox{\hyperlink{class_plastic_deformer_fx_a33941c5b65ba7bbc34e7bb883fae1789}{m\_col}});}
\DoxyCodeLine{00469 }
\DoxyCodeLine{00470   \mbox{\hyperlink{class_t_xsh_simple_level}{TXshSimpleLevel}} *meshSl = meshCell.\mbox{\hyperlink{class_t_xsh_cell_a8898cc47eba24e59477bfba8e2511f1d}{getSimpleLevel}}();}
\DoxyCodeLine{00471   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_frame_id}{TFrameId}} \&meshFid = meshCell.\mbox{\hyperlink{class_t_xsh_cell_a5a1965b96c2c698d6f0fb42a80c03406}{getFrameId}}();}
\DoxyCodeLine{00472 }
\DoxyCodeLine{00473   \textcolor{keywordflow}{if} (!meshSl || meshSl-\/>\mbox{\hyperlink{class_t_xsh_level_a1a147f1e970a62120c0bbaf0020a8932}{getType}}() == MESH\_XSHLEVEL) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00474 }
\DoxyCodeLine{00475   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *meshColumnObj =}
\DoxyCodeLine{00476       \mbox{\hyperlink{class_plastic_deformer_fx_aa0d443233d404b44a7e63852a169ebc3}{m\_xsh}}-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(TStageObjectId::ColumnId(\mbox{\hyperlink{class_plastic_deformer_fx_a33941c5b65ba7bbc34e7bb883fae1789}{m\_col}}));}
\DoxyCodeLine{00477 }
\DoxyCodeLine{00478   \mbox{\hyperlink{class_t_mesh_image_p}{TMeshImageP}} mi(meshSl-\/>getFrame(meshFid, \textcolor{keyword}{false}));}
\DoxyCodeLine{00479   \textcolor{keywordflow}{if} (!mi) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00480 }
\DoxyCodeLine{00481   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_smart_pointer_t}{PlasticSkeletonDeformationP}} \&sd =}
\DoxyCodeLine{00482       meshColumnObj-\/>\mbox{\hyperlink{class_t_stage_object_af2c5d9f172e73e4cb09b769700df3acb}{getPlasticSkeletonDeformation}}();}
\DoxyCodeLine{00483   assert(sd);}
\DoxyCodeLine{00484 }
\DoxyCodeLine{00485   \mbox{\hyperlink{class_t_point_t}{TPointD}} meshDpi(meshSl-\/>getDpi(meshFid, 0));}
\DoxyCodeLine{00486   assert(meshDpi.x != 0.0 \&\& meshDpi.y != 0.0);}
\DoxyCodeLine{00487 }
\DoxyCodeLine{00488   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&textureToImageAff        = texInfo.m\_affine;}
\DoxyCodeLine{00489   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&worldImageToWorldMeshAff = \mbox{\hyperlink{class_plastic_deformer_fx_a941793d2367b5fbf9a47edb906d4e49f}{m\_texPlacement}};}
\DoxyCodeLine{00490   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&meshToWorldMeshAff =}
\DoxyCodeLine{00491       \mbox{\hyperlink{class_t_scale}{TScale}}(\mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}} / meshDpi.x, \mbox{\hyperlink{namespace_stage_ad3e22e31e2bb6fc1d95a572facce2d5b}{Stage::inch}} / meshDpi.y);}
\DoxyCodeLine{00492 }
\DoxyCodeLine{00493   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_affine}{TAffine}} \&meshToTextureAff =}
\DoxyCodeLine{00494       textureToImageAff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}() * worldTexLevelToTexLevelAff *}
\DoxyCodeLine{00495       worldImageToWorldMeshAff.\mbox{\hyperlink{class_t_affine_a570529b96b1ec5abc711aaa9aac09ff9}{inv}}() * meshToWorldMeshAff;}
\DoxyCodeLine{00496 }
\DoxyCodeLine{00497   \textcolor{comment}{// Build the mesh's bounding box and map it to input reference}}
\DoxyCodeLine{00498   \mbox{\hyperlink{class_t_rect_t}{TRectD}} meshBBox(meshToTextureAff * mi-\/>getBBox());}
\DoxyCodeLine{00499 }
\DoxyCodeLine{00500   \textcolor{comment}{// Now, build the tile's geometry}}
\DoxyCodeLine{00501   \mbox{\hyperlink{class_t_rect_t}{TRectD}} texBBox;}
\DoxyCodeLine{00502   \mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}-\/>getBBox(frame, texBBox, texInfo);}
\DoxyCodeLine{00503 }
\DoxyCodeLine{00504   \mbox{\hyperlink{class_t_rect_t}{TRectD}} bbox = texBBox * meshBBox;}
\DoxyCodeLine{00505   \textcolor{keywordflow}{if} (bbox.getLx() <= 0.0 || bbox.getLy() <= 0.0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{00506 }
\DoxyCodeLine{00507   bbox.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}} = tfloor(bbox.\mbox{\hyperlink{class_t_rect_t_ac008cbc625f50d8b3c180c8eb2594cdb}{x0}});}
\DoxyCodeLine{00508   bbox.y0 = tfloor(bbox.y0);}
\DoxyCodeLine{00509   bbox.x1 = tceil(bbox.x1);}
\DoxyCodeLine{00510   bbox.y1 = tceil(bbox.y1);}
\DoxyCodeLine{00511 }
\DoxyCodeLine{00512   \mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}-\/>dryCompute(bbox, frame, texInfo);}
\DoxyCodeLine{00513 \}}

\end{DoxyCode}


References \mbox{\hyperlink{l00233}{TXsheet\+::get\+Cell()}}, \mbox{\hyperlink{l00120}{TXsh\+Cell\+::get\+Frame\+Id()}}, \mbox{\hyperlink{l01144}{TStage\+Object\+::get\+Plastic\+Skeleton\+Deformation()}}, \mbox{\hyperlink{l00019}{TXsh\+Cell\+::get\+Simple\+Level()}}, \mbox{\hyperlink{l00542}{TXsheet\+::get\+Stage\+Object()}}, \mbox{\hyperlink{l00081}{TXsh\+Level\+::get\+Type()}}, \mbox{\hyperlink{l00037}{Stage\+::inch}}, \mbox{\hyperlink{l00055}{TAffine\+::inv()}}, \mbox{\hyperlink{l00097}{TRender\+Settings\+::m\+\_\+affine}}, \mbox{\hyperlink{l00035}{m\+\_\+col}}, \mbox{\hyperlink{l00038}{m\+\_\+port}}, \mbox{\hyperlink{l00036}{m\+\_\+tex\+Placement}}, \mbox{\hyperlink{l00034}{m\+\_\+xsh}}, and \mbox{\hyperlink{l00557}{TRect\+T$<$ T $>$\+::x0}}.

\mbox{\Hypertarget{class_plastic_deformer_fx_a1515c838681b1a727c0d64589b2e00f8}\label{class_plastic_deformer_fx_a1515c838681b1a727c0d64589b2e00f8}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!doGetBBox@{doGetBBox}}
\index{doGetBBox@{doGetBBox}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{doGetBBox()}{doGetBBox()}}
{\footnotesize\ttfamily bool Plastic\+Deformer\+Fx\+::do\+Get\+BBox (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{\mbox{\hyperlink{class_t_rect_t}{TRectD}} \&}]{bbox,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_raster_fx}{TRaster\+Fx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00159                                                                \{}
\DoxyCodeLine{00160   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}.isConnected()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00161 }
\DoxyCodeLine{00162   \textcolor{comment}{// It's hard work to calculate the bounding box of a plastic deformation.}}
\DoxyCodeLine{00163   \textcolor{comment}{// Decline.}}
\DoxyCodeLine{00164   bbox = TConsts::infiniteRectD;}
\DoxyCodeLine{00165   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00166 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_deformer_fx_a39fe109ffb990a8b3595db578cb44bd5}\label{class_plastic_deformer_fx_a39fe109ffb990a8b3595db578cb44bd5}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!getAlias@{getAlias}}
\index{getAlias@{getAlias}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{getAlias()}{getAlias()}}
{\footnotesize\ttfamily std\+::string Plastic\+Deformer\+Fx\+::get\+Alias (\begin{DoxyParamCaption}\item[{double}]{frame,  }\item[{const \mbox{\hyperlink{class_t_render_settings}{TRender\+Settings}} \&}]{info }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_fx}{TFx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00134                                                                            \{}
\DoxyCodeLine{00135   std::string alias(getFxType());}
\DoxyCodeLine{00136   alias += \textcolor{stringliteral}{"{}["{}};}
\DoxyCodeLine{00137 }
\DoxyCodeLine{00138   \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}.isConnected()) \{}
\DoxyCodeLine{00139     \mbox{\hyperlink{class_t_raster_fx_p}{TRasterFxP}} ifx = \mbox{\hyperlink{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}{m\_port}}.getFx();}
\DoxyCodeLine{00140     assert(ifx);}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142     alias += ifx-\/>getAlias(frame, info);}
\DoxyCodeLine{00143   \}}
\DoxyCodeLine{00144 }
\DoxyCodeLine{00145   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *meshColumnObj =}
\DoxyCodeLine{00146       \mbox{\hyperlink{class_plastic_deformer_fx_aa0d443233d404b44a7e63852a169ebc3}{m\_xsh}}-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(TStageObjectId::ColumnId(\mbox{\hyperlink{class_plastic_deformer_fx_a33941c5b65ba7bbc34e7bb883fae1789}{m\_col}}));}
\DoxyCodeLine{00147   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_smart_pointer_t}{PlasticSkeletonDeformationP}} \&sd =}
\DoxyCodeLine{00148       meshColumnObj-\/>\mbox{\hyperlink{class_t_stage_object_af2c5d9f172e73e4cb09b769700df3acb}{getPlasticSkeletonDeformation}}();}
\DoxyCodeLine{00149   \textcolor{keywordflow}{if} (sd) alias += \textcolor{stringliteral}{"{}, "{}} + toString(sd, meshColumnObj-\/>\mbox{\hyperlink{class_t_stage_object_a6a0a6495e61fdb598ed2a1b371f4362f}{paramsTime}}(frame));}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151   alias + \textcolor{stringliteral}{"{}]"{}};}
\DoxyCodeLine{00152 }
\DoxyCodeLine{00153   \textcolor{keywordflow}{return} alias;}
\DoxyCodeLine{00154 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_plastic_deformer_fx_a94cb11867752fe7f4824e3313735e82e}\label{class_plastic_deformer_fx_a94cb11867752fe7f4824e3313735e82e}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!getPluginId@{getPluginId}}
\index{getPluginId@{getPluginId}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{getPluginId()}{getPluginId()}}
{\footnotesize\ttfamily std\+::string Plastic\+Deformer\+Fx\+::get\+Plugin\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_fx}{TFx}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00057 \{ \textcolor{keywordflow}{return} std::string(); \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_plastic_deformer_fx_a33941c5b65ba7bbc34e7bb883fae1789}\label{class_plastic_deformer_fx_a33941c5b65ba7bbc34e7bb883fae1789}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!m\_col@{m\_col}}
\index{m\_col@{m\_col}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{m\_col}{m\_col}}
{\footnotesize\ttfamily int Plastic\+Deformer\+Fx\+::m\+\_\+col}



The input column index. 



Referenced by \mbox{\hyperlink{l00454}{do\+Dry\+Compute()}}.

\mbox{\Hypertarget{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}\label{class_plastic_deformer_fx_a9a1071ff2670cb522e4cb6a9e23218d8}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!m\_port@{m\_port}}
\index{m\_port@{m\_port}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{m\_port}{m\_port}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_raster_fx_port}{TRaster\+Fx\+Port}} Plastic\+Deformer\+Fx\+::m\+\_\+port}



Input port. 



Referenced by \mbox{\hyperlink{l00454}{do\+Dry\+Compute()}}.

\mbox{\Hypertarget{class_plastic_deformer_fx_a941793d2367b5fbf9a47edb906d4e49f}\label{class_plastic_deformer_fx_a941793d2367b5fbf9a47edb906d4e49f}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!m\_texPlacement@{m\_texPlacement}}
\index{m\_texPlacement@{m\_texPlacement}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{m\_texPlacement}{m\_texPlacement}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_affine}{TAffine}} Plastic\+Deformer\+Fx\+::m\+\_\+tex\+Placement}



\mbox{\hyperlink{struct_texture}{Texture}} to mesh reference transform. 



Referenced by \mbox{\hyperlink{l00454}{do\+Dry\+Compute()}}.

\mbox{\Hypertarget{class_plastic_deformer_fx_aa0d443233d404b44a7e63852a169ebc3}\label{class_plastic_deformer_fx_aa0d443233d404b44a7e63852a169ebc3}} 
\index{PlasticDeformerFx@{PlasticDeformerFx}!m\_xsh@{m\_xsh}}
\index{m\_xsh@{m\_xsh}!PlasticDeformerFx@{PlasticDeformerFx}}
\doxysubsubsection{\texorpdfstring{m\_xsh}{m\_xsh}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_t_xsheet}{TXsheet}}$\ast$ Plastic\+Deformer\+Fx\+::m\+\_\+xsh}



The Fx\textquotesingle{}s enclosing Xsheet. 



Referenced by \mbox{\hyperlink{l00454}{do\+Dry\+Compute()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/toonz/plasticdeformerfx.\+h\item 
E\+:/opentoonz/toonz/sources/toonzlib/plasticdeformerfx.\+cpp\end{DoxyCompactItemize}
