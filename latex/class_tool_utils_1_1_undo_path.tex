\hypertarget{class_tool_utils_1_1_undo_path}{}\doxysection{Tool\+Utils\+::Undo\+Path Class Reference}
\label{class_tool_utils_1_1_undo_path}\index{ToolUtils::UndoPath@{ToolUtils::UndoPath}}
Inheritance diagram for Tool\+Utils\+::Undo\+Path\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_tool_utils_1_1_undo_path}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_tool_utils_1_1_undo_path_a507160f6e5156a303299cf035abb8794}{Undo\+Path}} (\mbox{\hyperlink{class_t_stage_object_spline}{TStage\+Object\+Spline}} $\ast$spline)
\item 
void \mbox{\hyperlink{class_tool_utils_1_1_undo_path_a4f9e70c6636bc840c1d15e8ceb8fe2a0}{on\+Add}} () override
\item 
void \mbox{\hyperlink{class_tool_utils_1_1_undo_path_a5d9e9e410c52ca564bbb235e3c150912}{undo}} () const override
\item 
void \mbox{\hyperlink{class_tool_utils_1_1_undo_path_a48f6a00ba24072d16a668e7a8024bc19}{redo}} () const override
\item 
int \mbox{\hyperlink{class_tool_utils_1_1_undo_path_abd2bb6009c1d3cf65302512c6e592eb7}{get\+Size}} () const override
\item 
QString \mbox{\hyperlink{class_tool_utils_1_1_undo_path_a56ff4248dd4cf49672ca25f178b5e80f}{get\+History\+String}} () override
\item 
int \mbox{\hyperlink{class_tool_utils_1_1_undo_path_a4f7b9c04f6a578454adf294d7d9494ca}{get\+History\+Type}} () override
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_path_a507160f6e5156a303299cf035abb8794}\label{class_tool_utils_1_1_undo_path_a507160f6e5156a303299cf035abb8794}} 
\index{ToolUtils::UndoPath@{ToolUtils::UndoPath}!UndoPath@{UndoPath}}
\index{UndoPath@{UndoPath}!ToolUtils::UndoPath@{ToolUtils::UndoPath}}
\doxysubsubsection{\texorpdfstring{UndoPath()}{UndoPath()}}
{\footnotesize\ttfamily Tool\+Utils\+::\+Undo\+Path\+::\+Undo\+Path (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_t_stage_object_spline}{TStage\+Object\+Spline}} $\ast$}]{spline }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01237                                                       : m\_spline(spline) \{}
\DoxyCodeLine{01238   assert(!!m\_spline);}
\DoxyCodeLine{01239 }
\DoxyCodeLine{01240   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = m\_spline-\/>\mbox{\hyperlink{class_t_stage_object_spline_a68345d3697e0c20003d9b497d8ccacda}{getStroke}}();}
\DoxyCodeLine{01241   assert(stroke);}
\DoxyCodeLine{01242   \textcolor{keywordtype}{int} n = stroke-\/>\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}();}
\DoxyCodeLine{01243   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < n; i++) m\_before.push\_back(stroke-\/>\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(i));}
\DoxyCodeLine{01244   m\_selfLoopBefore = stroke-\/>\mbox{\hyperlink{class_t_stroke_a3565d6c34d3eb02fb1a6993ca626425c}{isSelfLoop}}();}
\DoxyCodeLine{01245 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_path_a71749c4ada9a38221e8e966ef561d884}\label{class_tool_utils_1_1_undo_path_a71749c4ada9a38221e8e966ef561d884}} 
\index{ToolUtils::UndoPath@{ToolUtils::UndoPath}!````~UndoPath@{$\sim$UndoPath}}
\index{````~UndoPath@{$\sim$UndoPath}!ToolUtils::UndoPath@{ToolUtils::UndoPath}}
\doxysubsubsection{\texorpdfstring{$\sim$UndoPath()}{~UndoPath()}}
{\footnotesize\ttfamily Tool\+Utils\+::\+Undo\+Path\+::$\sim$\+Undo\+Path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}


\begin{DoxyCode}{0}
\DoxyCodeLine{01247 \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_path_a56ff4248dd4cf49672ca25f178b5e80f}\label{class_tool_utils_1_1_undo_path_a56ff4248dd4cf49672ca25f178b5e80f}} 
\index{ToolUtils::UndoPath@{ToolUtils::UndoPath}!getHistoryString@{getHistoryString}}
\index{getHistoryString@{getHistoryString}!ToolUtils::UndoPath@{ToolUtils::UndoPath}}
\doxysubsubsection{\texorpdfstring{getHistoryString()}{getHistoryString()}}
{\footnotesize\ttfamily QString Tool\+Utils\+::\+Undo\+Path\+::get\+History\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00382 \{ \textcolor{keywordflow}{return} QObject::tr(\textcolor{stringliteral}{"{}Modify Spline"{}}); \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_path_a4f7b9c04f6a578454adf294d7d9494ca}\label{class_tool_utils_1_1_undo_path_a4f7b9c04f6a578454adf294d7d9494ca}} 
\index{ToolUtils::UndoPath@{ToolUtils::UndoPath}!getHistoryType@{getHistoryType}}
\index{getHistoryType@{getHistoryType}!ToolUtils::UndoPath@{ToolUtils::UndoPath}}
\doxysubsubsection{\texorpdfstring{getHistoryType()}{getHistoryType()}}
{\footnotesize\ttfamily int Tool\+Utils\+::\+Undo\+Path\+::get\+History\+Type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00383 \{ \textcolor{keywordflow}{return} HistoryType::ControlPointEditorTool; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_path_abd2bb6009c1d3cf65302512c6e592eb7}\label{class_tool_utils_1_1_undo_path_abd2bb6009c1d3cf65302512c6e592eb7}} 
\index{ToolUtils::UndoPath@{ToolUtils::UndoPath}!getSize@{getSize}}
\index{getSize@{getSize}!ToolUtils::UndoPath@{ToolUtils::UndoPath}}
\doxysubsubsection{\texorpdfstring{getSize()}{getSize()}}
{\footnotesize\ttfamily int Tool\+Utils\+::\+Undo\+Path\+::get\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01304 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{sizeof}(*this) + 500; \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_path_a4f9e70c6636bc840c1d15e8ceb8fe2a0}\label{class_tool_utils_1_1_undo_path_a4f9e70c6636bc840c1d15e8ceb8fe2a0}} 
\index{ToolUtils::UndoPath@{ToolUtils::UndoPath}!onAdd@{onAdd}}
\index{onAdd@{onAdd}!ToolUtils::UndoPath@{ToolUtils::UndoPath}}
\doxysubsubsection{\texorpdfstring{onAdd()}{onAdd()}}
{\footnotesize\ttfamily void Tool\+Utils\+::\+Undo\+Path\+::on\+Add (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01249                               \{}
\DoxyCodeLine{01250   assert(!!m\_spline);}
\DoxyCodeLine{01251 }
\DoxyCodeLine{01252   \textcolor{keyword}{const} \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = m\_spline-\/>\mbox{\hyperlink{class_t_stage_object_spline_a68345d3697e0c20003d9b497d8ccacda}{getStroke}}();}
\DoxyCodeLine{01253   assert(stroke);}
\DoxyCodeLine{01254   \textcolor{keywordtype}{int} n = stroke-\/>\mbox{\hyperlink{class_t_stroke_a45101afd31e40d08100fdf23c89fb49e}{getControlPointCount}}();}
\DoxyCodeLine{01255   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < n; i++) m\_after.push\_back(stroke-\/>\mbox{\hyperlink{class_t_stroke_a9b60f87075b703360efe4b38097d923f}{getControlPoint}}(i));}
\DoxyCodeLine{01256 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_path_a48f6a00ba24072d16a668e7a8024bc19}\label{class_tool_utils_1_1_undo_path_a48f6a00ba24072d16a668e7a8024bc19}} 
\index{ToolUtils::UndoPath@{ToolUtils::UndoPath}!redo@{redo}}
\index{redo@{redo}!ToolUtils::UndoPath@{ToolUtils::UndoPath}}
\doxysubsubsection{\texorpdfstring{redo()}{redo()}}
{\footnotesize\ttfamily void Tool\+Utils\+::\+Undo\+Path\+::redo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01281                                    \{}
\DoxyCodeLine{01282   assert(!!m\_spline);}
\DoxyCodeLine{01283 }
\DoxyCodeLine{01284   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{01285   \mbox{\hyperlink{class_t_selection}{TSelection}} *selection   = app-\/>getCurrentSelection()-\/>getSelection();}
\DoxyCodeLine{01286   \textcolor{keywordflow}{if} (selection) selection-\/>selectNone();}
\DoxyCodeLine{01287 }
\DoxyCodeLine{01288   \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stroke}{TStroke}}(*m\_spline-\/>\mbox{\hyperlink{class_t_stage_object_spline_a68345d3697e0c20003d9b497d8ccacda}{getStroke}}());}
\DoxyCodeLine{01289   stroke-\/>\mbox{\hyperlink{class_t_stroke_a939e478aa10028d3e5787a8cfe6c901d}{reshape}}(\&m\_after[0], m\_after.size());}
\DoxyCodeLine{01290   stroke-\/>\mbox{\hyperlink{class_t_stroke_afa2c66ae11a70e68b3de3ce0b4cfb049}{setSelfLoop}}(m\_selfLoopBefore);}
\DoxyCodeLine{01291   m\_spline-\/>\mbox{\hyperlink{class_t_stage_object_spline_a3a08efafca4cc8e0ddf06ffa13898340}{setStroke}}(stroke);}
\DoxyCodeLine{01292 }
\DoxyCodeLine{01293   \textcolor{keywordflow}{if} (!app-\/>getCurrentObject()-\/>isSpline()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01294 }
\DoxyCodeLine{01295   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} currentObjectId = app-\/>getCurrentObject()-\/>getObjectId();}
\DoxyCodeLine{01296   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *stageObject =}
\DoxyCodeLine{01297       app-\/>getCurrentXsheet()-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(currentObjectId);}
\DoxyCodeLine{01298   \textcolor{keywordflow}{if} (stageObject-\/>\mbox{\hyperlink{class_t_stage_object_a425cb2dbcefe6ba4e288e1e8bdd16f72}{getSpline}}()-\/>getId() == m\_spline-\/>getId())}
\DoxyCodeLine{01299     app-\/>getCurrentObject()-\/>setSplineObject(m\_spline);}
\DoxyCodeLine{01300 }
\DoxyCodeLine{01301   app-\/>getCurrentTool()-\/>getTool()-\/>\mbox{\hyperlink{class_t_tool_abd1824e9b49705c534e0a773305294c4}{notifyImageChanged}}();}
\DoxyCodeLine{01302 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tool_utils_1_1_undo_path_a5d9e9e410c52ca564bbb235e3c150912}\label{class_tool_utils_1_1_undo_path_a5d9e9e410c52ca564bbb235e3c150912}} 
\index{ToolUtils::UndoPath@{ToolUtils::UndoPath}!undo@{undo}}
\index{undo@{undo}!ToolUtils::UndoPath@{ToolUtils::UndoPath}}
\doxysubsubsection{\texorpdfstring{undo()}{undo()}}
{\footnotesize\ttfamily void Tool\+Utils\+::\+Undo\+Path\+::undo (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{class_t_undo}{TUndo}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01258                                    \{}
\DoxyCodeLine{01259   assert(!!m\_spline);}
\DoxyCodeLine{01260 }
\DoxyCodeLine{01261   \mbox{\hyperlink{class_t_application}{TTool::Application}} *app = TTool::getApplication();}
\DoxyCodeLine{01262   \mbox{\hyperlink{class_t_selection}{TSelection}} *selection   = app-\/>getCurrentSelection()-\/>getSelection();}
\DoxyCodeLine{01263   \textcolor{keywordflow}{if} (selection) selection-\/>selectNone();}
\DoxyCodeLine{01264 }
\DoxyCodeLine{01265   \mbox{\hyperlink{class_t_stroke}{TStroke}} *stroke = \textcolor{keyword}{new} \mbox{\hyperlink{class_t_stroke}{TStroke}}(*m\_spline-\/>\mbox{\hyperlink{class_t_stage_object_spline_a68345d3697e0c20003d9b497d8ccacda}{getStroke}}());}
\DoxyCodeLine{01266   stroke-\/>\mbox{\hyperlink{class_t_stroke_a939e478aa10028d3e5787a8cfe6c901d}{reshape}}(\&m\_before[0], m\_before.size());}
\DoxyCodeLine{01267   stroke-\/>\mbox{\hyperlink{class_t_stroke_afa2c66ae11a70e68b3de3ce0b4cfb049}{setSelfLoop}}(m\_selfLoopBefore);}
\DoxyCodeLine{01268   m\_spline-\/>\mbox{\hyperlink{class_t_stage_object_spline_a3a08efafca4cc8e0ddf06ffa13898340}{setStroke}}(stroke);}
\DoxyCodeLine{01269 }
\DoxyCodeLine{01270   \textcolor{keywordflow}{if} (!app-\/>getCurrentObject()-\/>isSpline()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{01271 }
\DoxyCodeLine{01272   \mbox{\hyperlink{class_t_stage_object_id}{TStageObjectId}} currentObjectId = app-\/>getCurrentObject()-\/>getObjectId();}
\DoxyCodeLine{01273   \mbox{\hyperlink{class_t_stage_object}{TStageObject}} *stageObject =}
\DoxyCodeLine{01274       app-\/>getCurrentXsheet()-\/>getXsheet()-\/>\mbox{\hyperlink{class_t_xsheet_a13d9b9c08ca8dde39769f5644e046ee5}{getStageObject}}(currentObjectId);}
\DoxyCodeLine{01275   \textcolor{keywordflow}{if} (stageObject-\/>\mbox{\hyperlink{class_t_stage_object_a425cb2dbcefe6ba4e288e1e8bdd16f72}{getSpline}}()-\/>getId() == m\_spline-\/>getId())}
\DoxyCodeLine{01276     app-\/>getCurrentObject()-\/>setSplineObject(m\_spline);}
\DoxyCodeLine{01277 }
\DoxyCodeLine{01278   app-\/>getCurrentTool()-\/>getTool()-\/>\mbox{\hyperlink{class_t_tool_abd1824e9b49705c534e0a773305294c4}{notifyImageChanged}}();}
\DoxyCodeLine{01279 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
E\+:/opentoonz/toonz/sources/include/tools/toolutils.\+h\item 
E\+:/opentoonz/toonz/sources/tnztools/toolutils.\+cpp\end{DoxyCompactItemize}
