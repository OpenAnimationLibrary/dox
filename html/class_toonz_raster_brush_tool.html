<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: ToonzRasterBrushTool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_toonz_raster_brush_tool-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ToonzRasterBrushTool Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ToonzRasterBrushTool:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_toonz_raster_brush_tool.png" usemap="#ToonzRasterBrushTool_map" alt=""/>
  <map id="ToonzRasterBrushTool_map" name="ToonzRasterBrushTool_map">
<area href="class_t_tool.html" title="TTool is the abstract base class defining the interface for Toonz tools - the ones accessible from th..." alt="TTool" shape="rect" coords="0,0,139,24"/>
<area href="class_raster_controller.html" alt="RasterController" shape="rect" coords="149,0,288,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a217400f1d797e5bf3efb0fe01b6015c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a217400f1d797e5bf3efb0fe01b6015c5">ToonzRasterBrushTool</a> (std::string name, int targetType)</td></tr>
<tr class="separator:a217400f1d797e5bf3efb0fe01b6015c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad27ec1cd179ce0f1baf0849397e52176"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296c">ToolType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ad27ec1cd179ce0f1baf0849397e52176">getToolType</a> () const override</td></tr>
<tr class="separator:ad27ec1cd179ce0f1baf0849397e52176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1da23d3c3840e430138b12e245616d49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tool_options_box.html">ToolOptionsBox</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a1da23d3c3840e430138b12e245616d49">createOptionsBox</a> () override</td></tr>
<tr class="separator:a1da23d3c3840e430138b12e245616d49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1667fce9531216f9c07bcb2a7bb465c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a1667fce9531216f9c07bcb2a7bb465c9">updateTranslation</a> () override</td></tr>
<tr class="separator:a1667fce9531216f9c07bcb2a7bb465c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fae3bb18e399eeef0d6dcbfa3e26fd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a1fae3bb18e399eeef0d6dcbfa3e26fd1">onActivate</a> () override</td></tr>
<tr class="memdesc:a1fae3bb18e399eeef0d6dcbfa3e26fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback invoked whenever the tool activates.  <a href="class_toonz_raster_brush_tool.html#a1fae3bb18e399eeef0d6dcbfa3e26fd1">More...</a><br /></td></tr>
<tr class="separator:a1fae3bb18e399eeef0d6dcbfa3e26fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec8e1d34a81172f0542ebebd422ba493"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aec8e1d34a81172f0542ebebd422ba493">onDeactivate</a> () override</td></tr>
<tr class="memdesc:aec8e1d34a81172f0542ebebd422ba493"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for tool deactivation, includes tool switch.  <a href="class_toonz_raster_brush_tool.html#aec8e1d34a81172f0542ebebd422ba493">More...</a><br /></td></tr>
<tr class="separator:aec8e1d34a81172f0542ebebd422ba493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b6a127ee38e477ea8c04917463bc9f5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a4b6a127ee38e477ea8c04917463bc9f5">preLeftButtonDown</a> () override</td></tr>
<tr class="separator:a4b6a127ee38e477ea8c04917463bc9f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa12d4083948b3365e83ff24f73babe0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aa12d4083948b3365e83ff24f73babe0f">leftButtonDown</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;pos, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;e) override</td></tr>
<tr class="separator:aa12d4083948b3365e83ff24f73babe0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab728e64ec25f527650f8667b5506d1a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ab728e64ec25f527650f8667b5506d1a5">leftButtonDrag</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;pos, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;e) override</td></tr>
<tr class="separator:ab728e64ec25f527650f8667b5506d1a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55fcf1ddeab00722fd54ec64e80565d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aa55fcf1ddeab00722fd54ec64e80565d">leftButtonUp</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;pos, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;e) override</td></tr>
<tr class="separator:aa55fcf1ddeab00722fd54ec64e80565d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741e2b20416ecb002c21752bc2fee4cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a741e2b20416ecb002c21752bc2fee4cf">mouseMove</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;pos, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;e) override</td></tr>
<tr class="separator:a741e2b20416ecb002c21752bc2fee4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcaca75d7a357250948936e59c5e5b2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#afcaca75d7a357250948936e59c5e5b2b">draw</a> () override</td></tr>
<tr class="memdesc:afcaca75d7a357250948936e59c5e5b2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the tool on the viewer.  <a href="class_toonz_raster_brush_tool.html#afcaca75d7a357250948936e59c5e5b2b">More...</a><br /></td></tr>
<tr class="separator:afcaca75d7a357250948936e59c5e5b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a090aa351be51d4f5ccb2df5c9e4cea1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a090aa351be51d4f5ccb2df5c9e4cea1c">onEnter</a> () override</td></tr>
<tr class="memdesc:a090aa351be51d4f5ccb2df5c9e4cea1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for the mouse entering the viewer area.  <a href="class_toonz_raster_brush_tool.html#a090aa351be51d4f5ccb2df5c9e4cea1c">More...</a><br /></td></tr>
<tr class="separator:a090aa351be51d4f5ccb2df5c9e4cea1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab375f322b0297680f3f14ee3d1f7a80e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ab375f322b0297680f3f14ee3d1f7a80e">onLeave</a> () override</td></tr>
<tr class="memdesc:ab375f322b0297680f3f14ee3d1f7a80e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for the mouse leaving the viewer area.  <a href="class_toonz_raster_brush_tool.html#ab375f322b0297680f3f14ee3d1f7a80e">More...</a><br /></td></tr>
<tr class="separator:ab375f322b0297680f3f14ee3d1f7a80e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a304658ad28cdffe07ff3ff47540131ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a304658ad28cdffe07ff3ff47540131ac">getCursorId</a> () const override</td></tr>
<tr class="memdesc:a304658ad28cdffe07ff3ff47540131ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of cursor used by the tool.  <a href="class_toonz_raster_brush_tool.html#a304658ad28cdffe07ff3ff47540131ac">More...</a><br /></td></tr>
<tr class="separator:a304658ad28cdffe07ff3ff47540131ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d55d26719f1570c0a06a2a97456ff3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_property_group.html">TPropertyGroup</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a56d55d26719f1570c0a06a2a97456ff3">getProperties</a> (int targetType) override</td></tr>
<tr class="separator:a56d55d26719f1570c0a06a2a97456ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a155bef55e93ce3bb63adfe0891a55547"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a155bef55e93ce3bb63adfe0891a55547">onPropertyChanged</a> (std::string propertyName) override</td></tr>
<tr class="separator:a155bef55e93ce3bb63adfe0891a55547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e0fb58ddac113766ac4154a6eedc83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a07e0fb58ddac113766ac4154a6eedc83">onImageChanged</a> () override</td></tr>
<tr class="memdesc:a07e0fb58ddac113766ac4154a6eedc83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies changes in the image in use.  <a href="class_toonz_raster_brush_tool.html#a07e0fb58ddac113766ac4154a6eedc83">More...</a><br /></td></tr>
<tr class="separator:a07e0fb58ddac113766ac4154a6eedc83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9c88f6dea0bd2bbc0029d64bcbf9544"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aa9c88f6dea0bd2bbc0029d64bcbf9544">setWorkAndBackupImages</a> ()</td></tr>
<tr class="separator:aa9c88f6dea0bd2bbc0029d64bcbf9544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2aeaf05c203b430610d459d376aaea8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aa2aeaf05c203b430610d459d376aaea8">updateWorkAndBackupRasters</a> (const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;rect)</td></tr>
<tr class="separator:aa2aeaf05c203b430610d459d376aaea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce36ff1c57a57e0bd502933bac2f7af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#acce36ff1c57a57e0bd502933bac2f7af">initPresets</a> ()</td></tr>
<tr class="separator:acce36ff1c57a57e0bd502933bac2f7af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e2c376cf3531a644b2735679ae29d88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a6e2c376cf3531a644b2735679ae29d88">loadPreset</a> ()</td></tr>
<tr class="separator:a6e2c376cf3531a644b2735679ae29d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c469b8fe46c031d8513fa182303523"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a82c469b8fe46c031d8513fa182303523">addPreset</a> (QString name)</td></tr>
<tr class="separator:a82c469b8fe46c031d8513fa182303523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d8ff35734a55b72e131644a11ccbd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#af5d8ff35734a55b72e131644a11ccbd5">removePreset</a> ()</td></tr>
<tr class="separator:af5d8ff35734a55b72e131644a11ccbd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6b3a244bcd47485f0b9e221618e4ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a8e6b3a244bcd47485f0b9e221618e4ba">loadLastBrush</a> ()</td></tr>
<tr class="separator:a8e6b3a244bcd47485f0b9e221618e4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed21519542ecf70f2797373293880c47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aed21519542ecf70f2797373293880c47">finishRasterBrush</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;pos, double pressureVal)</td></tr>
<tr class="separator:aed21519542ecf70f2797373293880c47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e19cb6ab1d05345e02efd693d3fdb8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a98e19cb6ab1d05345e02efd693d3fdb8">isPencilModeActive</a> () override</td></tr>
<tr class="separator:a98e19cb6ab1d05345e02efd693d3fdb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae335f47def026c927f779e1dcbba366d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ae335f47def026c927f779e1dcbba366d">onColorStyleChanged</a> ()</td></tr>
<tr class="separator:ae335f47def026c927f779e1dcbba366d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa50a7386e6ee2f888a108e4d15348f65"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aa50a7386e6ee2f888a108e4d15348f65">askRead</a> (const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;rect) override</td></tr>
<tr class="separator:aa50a7386e6ee2f888a108e4d15348f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8137628f04f873715b6d2a90d1bce14f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a8137628f04f873715b6d2a90d1bce14f">askWrite</a> (const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;rect) override</td></tr>
<tr class="separator:a8137628f04f873715b6d2a90d1bce14f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a889046a046384ea43836a15ca5cfe99b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a889046a046384ea43836a15ca5cfe99b">isMyPaintStyleSelected</a> ()</td></tr>
<tr class="separator:a889046a046384ea43836a15ca5cfe99b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_tool"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_tool')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_tool.html">TTool</a></td></tr>
<tr class="memitem:a9c63ec35f606e755d0d036bf4fed62ab inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a9c63ec35f606e755d0d036bf4fed62ab">TTool</a> (std::string toolName)</td></tr>
<tr class="memdesc:a9c63ec35f606e755d0d036bf4fed62ab inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">every tool (invoking updateTranslation() for each).  <a href="class_t_tool.html#a9c63ec35f606e755d0d036bf4fed62ab">More...</a><br /></td></tr>
<tr class="separator:a9c63ec35f606e755d0d036bf4fed62ab inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c38f583d784d12a9f8c04b162cadea2 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a id="a5c38f583d784d12a9f8c04b162cadea2" name="a5c38f583d784d12a9f8c04b162cadea2"></a>
virtual <a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296c">ToolType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getToolType</b> () const =0</td></tr>
<tr class="separator:a5c38f583d784d12a9f8c04b162cadea2 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8760a85b8fa1d81a04f058b8d4396b0 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">ToolTargetType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#af8760a85b8fa1d81a04f058b8d4396b0">getTargetType</a> () const</td></tr>
<tr class="separator:af8760a85b8fa1d81a04f058b8d4396b0 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679eddd99e9cb717d1b36eea5d7e7bb1 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a679eddd99e9cb717d1b36eea5d7e7bb1">getName</a> () const</td></tr>
<tr class="separator:a679eddd99e9cb717d1b36eea5d7e7bb1 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e09495b50142df6b7bb9682837263c4 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_tool_options_box.html">ToolOptionsBox</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a9e09495b50142df6b7bb9682837263c4">createOptionsBox</a> ()</td></tr>
<tr class="separator:a9e09495b50142df6b7bb9682837263c4 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929998a1d2773ebbb5982283e870a26c inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a929998a1d2773ebbb5982283e870a26c">setViewer</a> (<a class="el" href="class_t_tool_1_1_viewer.html">Viewer</a> *viewer)</td></tr>
<tr class="separator:a929998a1d2773ebbb5982283e870a26c inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7edbb0cd6c20c371965510fa8d0811f inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_tool_1_1_viewer.html">Viewer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ad7edbb0cd6c20c371965510fa8d0811f">getViewer</a> () const</td></tr>
<tr class="separator:ad7edbb0cd6c20c371965510fa8d0811f inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f5ac0f1e3809fce027e10028a3063a7 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a1f5ac0f1e3809fce027e10028a3063a7">getPixelSize</a> () const</td></tr>
<tr class="separator:a1f5ac0f1e3809fce027e10028a3063a7 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e791336c642542c5648aa8ea86e2348 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a> (const <a class="el" href="class_t_rect_t.html">TRectD</a> &amp;rect=<a class="el" href="class_t_rect_t.html">TRectD</a>())</td></tr>
<tr class="separator:a3e791336c642542c5648aa8ea86e2348 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04ed46786cf65fe4564d26ffa5d49c8 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ab04ed46786cf65fe4564d26ffa5d49c8">pick</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;p)</td></tr>
<tr class="separator:ab04ed46786cf65fe4564d26ffa5d49c8 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6e629deb25a2c0903d3d82a5f5599c inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a9b6e629deb25a2c0903d3d82a5f5599c">isPicking</a> () const</td></tr>
<tr class="separator:a9b6e629deb25a2c0903d3d82a5f5599c inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902a844478056fa8ace11d75b05fb6a5 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a902a844478056fa8ace11d75b05fb6a5">updateTranslation</a> ()</td></tr>
<tr class="separator:a902a844478056fa8ace11d75b05fb6a5 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d2c27110689caf7fa6f49519808073 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a11d2c27110689caf7fa6f49519808073">preLeftButtonDown</a> ()</td></tr>
<tr class="separator:a11d2c27110689caf7fa6f49519808073 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0d5ee41c28fe1f6c3719a1c12353b5 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#acb0d5ee41c28fe1f6c3719a1c12353b5">mouseMove</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:acb0d5ee41c28fe1f6c3719a1c12353b5 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12190be0dcb28718b40ae42c93df381b inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a12190be0dcb28718b40ae42c93df381b">leftButtonDown</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:a12190be0dcb28718b40ae42c93df381b inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b3e51fe9fdadc716847b0248f74a4b5 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a0b3e51fe9fdadc716847b0248f74a4b5">leftButtonDrag</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:a0b3e51fe9fdadc716847b0248f74a4b5 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740506b9414c8364aaa47de259ecb16b inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a740506b9414c8364aaa47de259ecb16b">leftButtonUp</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:a740506b9414c8364aaa47de259ecb16b inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb34d1b5a012f8910c7f62aa291d2d46 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#adb34d1b5a012f8910c7f62aa291d2d46">leftButtonDoubleClick</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:adb34d1b5a012f8910c7f62aa291d2d46 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab096789c990785636e8694020344636c inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ab096789c990785636e8694020344636c">rightButtonDown</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:ab096789c990785636e8694020344636c inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f577edff4e26b67cfdbfb7308d16389 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3f577edff4e26b67cfdbfb7308d16389">keyDown</a> (QKeyEvent *)</td></tr>
<tr class="separator:a3f577edff4e26b67cfdbfb7308d16389 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5257bc53681eaefb43ce4987883d895d inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a5257bc53681eaefb43ce4987883d895d">onInputText</a> (std::wstring, std::wstring, int, int)</td></tr>
<tr class="separator:a5257bc53681eaefb43ce4987883d895d inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69df3eb68917c8017860698f5d3fb67 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#af69df3eb68917c8017860698f5d3fb67">onSetViewer</a> ()</td></tr>
<tr class="separator:af69df3eb68917c8017860698f5d3fb67 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac286a2681633b4db6106596b4f54e53b inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ac286a2681633b4db6106596b4f54e53b">onActivate</a> ()</td></tr>
<tr class="memdesc:ac286a2681633b4db6106596b4f54e53b inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback invoked whenever the tool activates.  <a href="class_t_tool.html#ac286a2681633b4db6106596b4f54e53b">More...</a><br /></td></tr>
<tr class="separator:ac286a2681633b4db6106596b4f54e53b inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00fee58728c1e12fb50846f47d7e9f5e inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a00fee58728c1e12fb50846f47d7e9f5e">onDeactivate</a> ()</td></tr>
<tr class="memdesc:a00fee58728c1e12fb50846f47d7e9f5e inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for tool deactivation, includes tool switch.  <a href="class_t_tool.html#a00fee58728c1e12fb50846f47d7e9f5e">More...</a><br /></td></tr>
<tr class="separator:a00fee58728c1e12fb50846f47d7e9f5e inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf1e021290e74c1b085e4b095668e1ed inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#aaf1e021290e74c1b085e4b095668e1ed">onImageChanged</a> ()</td></tr>
<tr class="memdesc:aaf1e021290e74c1b085e4b095668e1ed inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies changes in the image in use.  <a href="class_t_tool.html#aaf1e021290e74c1b085e4b095668e1ed">More...</a><br /></td></tr>
<tr class="separator:aaf1e021290e74c1b085e4b095668e1ed inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e775cfcd05aa3c35048b11fa40ab3e4 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3e775cfcd05aa3c35048b11fa40ab3e4">onEnter</a> ()</td></tr>
<tr class="memdesc:a3e775cfcd05aa3c35048b11fa40ab3e4 inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for the mouse entering the viewer area.  <a href="class_t_tool.html#a3e775cfcd05aa3c35048b11fa40ab3e4">More...</a><br /></td></tr>
<tr class="separator:a3e775cfcd05aa3c35048b11fa40ab3e4 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7fb05265a94131da081da654e271a22 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#af7fb05265a94131da081da654e271a22">onLeave</a> ()</td></tr>
<tr class="memdesc:af7fb05265a94131da081da654e271a22 inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for the mouse leaving the viewer area.  <a href="class_t_tool.html#af7fb05265a94131da081da654e271a22">More...</a><br /></td></tr>
<tr class="separator:af7fb05265a94131da081da654e271a22 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694286232ac766e3ec48f491505a407a inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a694286232ac766e3ec48f491505a407a">onFrameSwitched</a> ()</td></tr>
<tr class="separator:a694286232ac766e3ec48f491505a407a inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c28be1539cf682511967dc9b057952 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a25c28be1539cf682511967dc9b057952">reset</a> ()</td></tr>
<tr class="separator:a25c28be1539cf682511967dc9b057952 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a058bf656d73bf3cd63b9826cbaaf48e0 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a058bf656d73bf3cd63b9826cbaaf48e0">draw</a> ()</td></tr>
<tr class="memdesc:a058bf656d73bf3cd63b9826cbaaf48e0 inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the tool on the viewer.  <a href="class_t_tool.html#a058bf656d73bf3cd63b9826cbaaf48e0">More...</a><br /></td></tr>
<tr class="separator:a058bf656d73bf3cd63b9826cbaaf48e0 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6225a72c8bc7ad1ad6eff6b81ac6b0a6 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a6225a72c8bc7ad1ad6eff6b81ac6b0a6">isActive</a> () const</td></tr>
<tr class="memdesc:a6225a72c8bc7ad1ad6eff6b81ac6b0a6 inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to know if a tool is active, (used in TextTool only).  <a href="class_t_tool.html#a6225a72c8bc7ad1ad6eff6b81ac6b0a6">More...</a><br /></td></tr>
<tr class="separator:a6225a72c8bc7ad1ad6eff6b81ac6b0a6 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affdedb591395f5f88f80e3756f867bc9 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#affdedb591395f5f88f80e3756f867bc9">setActive</a> (bool active)</td></tr>
<tr class="separator:affdedb591395f5f88f80e3756f867bc9 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a095bfe8d3690175e39c188ad6246d560 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_property_group.html">TPropertyGroup</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a095bfe8d3690175e39c188ad6246d560">getProperties</a> (int)</td></tr>
<tr class="separator:a095bfe8d3690175e39c188ad6246d560 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06694e0586f807c34b18e16341aa9ee2 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a06694e0586f807c34b18e16341aa9ee2">onPropertyChanged</a> (std::string propertyName)</td></tr>
<tr class="separator:a06694e0586f807c34b18e16341aa9ee2 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add40ff8dd3dd04ed3ab5a259ed53fb85 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_selection.html">TSelection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#add40ff8dd3dd04ed3ab5a259ed53fb85">getSelection</a> ()</td></tr>
<tr class="memdesc:add40ff8dd3dd04ed3ab5a259ed53fb85 inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the tool selection.  <a href="class_t_tool.html#add40ff8dd3dd04ed3ab5a259ed53fb85">More...</a><br /></td></tr>
<tr class="separator:add40ff8dd3dd04ed3ab5a259ed53fb85 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1768a57b8b6d1480618fd923fad15f1d inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a1768a57b8b6d1480618fd923fad15f1d">getCursorId</a> () const</td></tr>
<tr class="memdesc:a1768a57b8b6d1480618fd923fad15f1d inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of cursor used by the tool.  <a href="class_t_tool.html#a1768a57b8b6d1480618fd923fad15f1d">More...</a><br /></td></tr>
<tr class="separator:a1768a57b8b6d1480618fd923fad15f1d inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f722eda896df0fd6b19b68ec99021e inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a28f722eda896df0fd6b19b68ec99021e">isEventAcceptable</a> (QEvent *e)</td></tr>
<tr class="separator:a28f722eda896df0fd6b19b68ec99021e inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8716e1462da359f4902c044a79f2d40d inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_xsheet.html">TXsheet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a8716e1462da359f4902c044a79f2d40d">getXsheet</a> () const</td></tr>
<tr class="memdesc:a8716e1462da359f4902c044a79f2d40d inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the actual Xsheet.  <a href="class_t_tool.html#a8716e1462da359f4902c044a79f2d40d">More...</a><br /></td></tr>
<tr class="separator:a8716e1462da359f4902c044a79f2d40d inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85025fe6544609814a1672ded5847874 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a85025fe6544609814a1672ded5847874">getFrame</a> ()</td></tr>
<tr class="memdesc:a85025fe6544609814a1672ded5847874 inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the actual frame in use.  <a href="class_t_tool.html#a85025fe6544609814a1672ded5847874">More...</a><br /></td></tr>
<tr class="separator:a85025fe6544609814a1672ded5847874 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7214525a3ae0cdcb0a0393e4dc4d3bf5 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a7214525a3ae0cdcb0a0393e4dc4d3bf5">getColumnIndex</a> ()</td></tr>
<tr class="memdesc:a7214525a3ae0cdcb0a0393e4dc4d3bf5 inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the actual column index.  <a href="class_t_tool.html#a7214525a3ae0cdcb0a0393e4dc4d3bf5">More...</a><br /></td></tr>
<tr class="separator:a7214525a3ae0cdcb0a0393e4dc4d3bf5 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25b57b82dfac131d9d6405e07fbd98b4 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_stage_object_id.html">TStageObjectId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a25b57b82dfac131d9d6405e07fbd98b4">getObjectId</a> () const</td></tr>
<tr class="memdesc:a25b57b82dfac131d9d6405e07fbd98b4 inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the actual stage object.  <a href="class_t_tool.html#a25b57b82dfac131d9d6405e07fbd98b4">More...</a><br /></td></tr>
<tr class="separator:a25b57b82dfac131d9d6405e07fbd98b4 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1824e9b49705c534e0a773305294c4 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#abd1824e9b49705c534e0a773305294c4">notifyImageChanged</a> ()</td></tr>
<tr class="separator:abd1824e9b49705c534e0a773305294c4 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40890a3af608b9bfeb144505fd38853d inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a40890a3af608b9bfeb144505fd38853d">notifyImageChanged</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid)</td></tr>
<tr class="memdesc:a40890a3af608b9bfeb144505fd38853d inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">images on the level view.  <a href="class_t_tool.html#a40890a3af608b9bfeb144505fd38853d">More...</a><br /></td></tr>
<tr class="separator:a40890a3af608b9bfeb144505fd38853d inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7db6c4288b721fd95f283419883a4b2 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_frame_id.html">TFrameId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">getCurrentFid</a> () const</td></tr>
<tr class="memdesc:ae7db6c4288b721fd95f283419883a4b2 inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of the actual editing frame.  <a href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">More...</a><br /></td></tr>
<tr class="separator:ae7db6c4288b721fd95f283419883a4b2 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad66fa5cefa74ee84dd3140e8e2b8336b inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_affine.html">TAffine</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ad66fa5cefa74ee84dd3140e8e2b8336b">getMatrix</a> () const</td></tr>
<tr class="separator:ad66fa5cefa74ee84dd3140e8e2b8336b inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1f2c2326fb0ef3bb6d4108fc0fb24b inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a0f1f2c2326fb0ef3bb6d4108fc0fb24b">setMatrix</a> (const <a class="el" href="class_t_affine.html">TAffine</a> &amp;matrix)</td></tr>
<tr class="separator:a0f1f2c2326fb0ef3bb6d4108fc0fb24b inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c1b7f13eaea33e1d305636f44c4a64 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a73c1b7f13eaea33e1d305636f44c4a64">getCurrentColumnMatrix</a> (int frame=-1) const</td></tr>
<tr class="separator:a73c1b7f13eaea33e1d305636f44c4a64 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b1120acc73e2127f81688301707177 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a57b1120acc73e2127f81688301707177">getCurrentColumnParentMatrix</a> () const</td></tr>
<tr class="separator:a57b1120acc73e2127f81688301707177 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5decb470046ec60d32190494d270d52b inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a5decb470046ec60d32190494d270d52b">getCurrentObjectParentMatrix</a> () const</td></tr>
<tr class="separator:a5decb470046ec60d32190494d270d52b inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05dea1c094543fc4062c0b9988a38eae inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a05dea1c094543fc4062c0b9988a38eae">getCurrentObjectParentMatrix2</a> () const</td></tr>
<tr class="separator:a05dea1c094543fc4062c0b9988a38eae inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99eb4354e2dba454b7210c986015d577 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a99eb4354e2dba454b7210c986015d577">getColumnMatrix</a> (int index, int frame=-1) const</td></tr>
<tr class="separator:a99eb4354e2dba454b7210c986015d577 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a5f380464a6b36947212e2f8d5b314c inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a1a5f380464a6b36947212e2f8d5b314c">updateMatrix</a> ()</td></tr>
<tr class="separator:a1a5f380464a6b36947212e2f8d5b314c inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8a81b368568245d16f7c3d4a17684a1 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ac8a81b368568245d16f7c3d4a17684a1">addContextMenuItems</a> (QMenu *menu)</td></tr>
<tr class="separator:ac8a81b368568245d16f7c3d4a17684a1 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0188d7374490589e82961042ad51cdfb inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a0188d7374490589e82961042ad51cdfb">enable</a> (bool on)</td></tr>
<tr class="separator:a0188d7374490589e82961042ad51cdfb inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19efb128489874d80fb364c613fbf64b inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a19efb128489874d80fb364c613fbf64b">isEnabled</a> () const</td></tr>
<tr class="separator:a19efb128489874d80fb364c613fbf64b inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3638517d39dffe6abec0a4e1bcf990d3 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3638517d39dffe6abec0a4e1bcf990d3">updateEnabled</a> ()</td></tr>
<tr class="separator:a3638517d39dffe6abec0a4e1bcf990d3 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29f43b1ac4db60a46397e1c8263bc4d inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ad29f43b1ac4db60a46397e1c8263bc4d">updateEnabled</a> (int rowIndex, int columnIndex)</td></tr>
<tr class="separator:ad29f43b1ac4db60a46397e1c8263bc4d inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59fe3fb20e44f3c167190ebc8901ca31 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a59fe3fb20e44f3c167190ebc8901ca31">isColumnLocked</a> (int columnIndex) const</td></tr>
<tr class="separator:a59fe3fb20e44f3c167190ebc8901ca31 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985d88ab04fc77b1ddca7ead95ab4884 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a985d88ab04fc77b1ddca7ead95ab4884">resetInputMethod</a> ()</td></tr>
<tr class="memdesc:a985d88ab04fc77b1ddca7ead95ab4884 inherit pub_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets Input Context (IME)  <a href="class_t_tool.html#a985d88ab04fc77b1ddca7ead95ab4884">More...</a><br /></td></tr>
<tr class="separator:a985d88ab04fc77b1ddca7ead95ab4884 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767b49f02ae01193892a18adb2f7e740 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a767b49f02ae01193892a18adb2f7e740">isPencilModeActive</a> ()</td></tr>
<tr class="separator:a767b49f02ae01193892a18adb2f7e740 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7faf10efcd418f584a15907d88715566 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a7faf10efcd418f584a15907d88715566">isDragging</a> () const</td></tr>
<tr class="separator:a7faf10efcd418f584a15907d88715566 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae40926a5cc5262b4c4609ae6f05a13e1 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ae40926a5cc5262b4c4609ae6f05a13e1">setSelectedFrames</a> (const std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;selectedFrames)</td></tr>
<tr class="separator:ae40926a5cc5262b4c4609ae6f05a13e1 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa58ad223acef4a6afbffb09d2f04ed6 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#aaa58ad223acef4a6afbffb09d2f04ed6">tweenSelectedGuideStrokes</a> ()</td></tr>
<tr class="separator:aaa58ad223acef4a6afbffb09d2f04ed6 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6fe6533949c4098703d15325adc1ce7 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ae6fe6533949c4098703d15325adc1ce7">tweenGuideStrokeToSelected</a> ()</td></tr>
<tr class="separator:ae6fe6533949c4098703d15325adc1ce7 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2228ed2a2475d7c793cb5d9b60150724 inherit pub_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a2228ed2a2475d7c793cb5d9b60150724">flipGuideStrokeDirection</a> (int mode)</td></tr>
<tr class="separator:a2228ed2a2475d7c793cb5d9b60150724 inherit pub_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf1a99f79eb5d3983f30cc6aacf7031"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_raster_controller.html#aebf1a99f79eb5d3983f30cc6aacf7031">askRead</a> (const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;rect)</td></tr>
<tr class="separator:aebf1a99f79eb5d3983f30cc6aacf7031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e9aeccbfc433c948c5cc1c1dc53f7c"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_raster_controller.html#af5e9aeccbfc433c948c5cc1c1dc53f7c">askWrite</a> (const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;rect)</td></tr>
<tr class="separator:af5e9aeccbfc433c948c5cc1c1dc53f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a9e7ff0cf5f45218c896a5dbdbda3d292"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a9e7ff0cf5f45218c896a5dbdbda3d292">getCenteredCursorPos</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;originalCursorPos)</td></tr>
<tr class="separator:a9e7ff0cf5f45218c896a5dbdbda3d292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_class_t_tool"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_t_tool')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_t_tool.html">TTool</a></td></tr>
<tr class="memitem:a2d54eb80783489fab80efc834b38d6f7 inherit pro_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a2d54eb80783489fab80efc834b38d6f7">bind</a> (int targetType)</td></tr>
<tr class="separator:a2d54eb80783489fab80efc834b38d6f7 inherit pro_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa7a80eb7be96de62040dab2311a5bd inherit pro_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#adfa7a80eb7be96de62040dab2311a5bd">onSelectedFramesChanged</a> ()</td></tr>
<tr class="separator:adfa7a80eb7be96de62040dab2311a5bd inherit pro_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac95dc3f7be83c2c8a1d3b8b276d7e4 inherit pro_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">virtual QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a4ac95dc3f7be83c2c8a1d3b8b276d7e4">disableString</a> ()</td></tr>
<tr class="memdesc:a4ac95dc3f7be83c2c8a1d3b8b276d7e4 inherit pro_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a custom reason to disable the tool.  <a href="class_t_tool.html#a4ac95dc3f7be83c2c8a1d3b8b276d7e4">More...</a><br /></td></tr>
<tr class="separator:a4ac95dc3f7be83c2c8a1d3b8b276d7e4 inherit pro_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a1358f17555b9d74f14df80f13567bdd6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a1358f17555b9d74f14df80f13567bdd6">drawLine</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;point, const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;centre, bool horizontal, bool isDecimal)</td></tr>
<tr class="separator:a1358f17555b9d74f14df80f13567bdd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f23eebb42d27f068407a008bd635dc2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a4f23eebb42d27f068407a008bd635dc2">drawEmptyCircle</a> (<a class="el" href="class_t_point_t.html">TPointD</a> point, int thick, bool isLxEven, bool isLyEven, bool isPencil)</td></tr>
<tr class="separator:a4f23eebb42d27f068407a008bd635dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9f29d0cf5bac6355cd0c58d234a6f736"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_property_group.html">TPropertyGroup</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a9f29d0cf5bac6355cd0c58d234a6f736">m_prop</a> [2]</td></tr>
<tr class="separator:a9f29d0cf5bac6355cd0c58d234a6f736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7cee84c51d60d9af9fc88fb2db96af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_double_pair_property.html">TDoublePairProperty</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a5e7cee84c51d60d9af9fc88fb2db96af">m_rasThickness</a></td></tr>
<tr class="separator:a5e7cee84c51d60d9af9fc88fb2db96af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89402cf1103241037ce61b23706bfe14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_range_property.html">TDoubleProperty</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a89402cf1103241037ce61b23706bfe14">m_smooth</a></td></tr>
<tr class="separator:a89402cf1103241037ce61b23706bfe14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac695e400291353cc921ed05df7c7a27c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_range_property.html">TDoubleProperty</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ac695e400291353cc921ed05df7c7a27c">m_hardness</a></td></tr>
<tr class="separator:ac695e400291353cc921ed05df7c7a27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5124e4166f81e827d2cee53492c049d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_enum_property.html">TEnumProperty</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a5124e4166f81e827d2cee53492c049d3">m_preset</a></td></tr>
<tr class="separator:a5124e4166f81e827d2cee53492c049d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8968eb9205a33cc7c242d0f0ddfb524"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_enum_property.html">TEnumProperty</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ac8968eb9205a33cc7c242d0f0ddfb524">m_drawOrder</a></td></tr>
<tr class="separator:ac8968eb9205a33cc7c242d0f0ddfb524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42bbb74d01ee5fb03a6e2bcdcc43c3cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_bool_property.html">TBoolProperty</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a42bbb74d01ee5fb03a6e2bcdcc43c3cf">m_pencil</a></td></tr>
<tr class="separator:a42bbb74d01ee5fb03a6e2bcdcc43c3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41e63bf20860481376afbb7c3d2d5722"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_bool_property.html">TBoolProperty</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a41e63bf20860481376afbb7c3d2d5722">m_pressure</a></td></tr>
<tr class="separator:a41e63bf20860481376afbb7c3d2d5722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a364af361fc0b90db82a34322af8d98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_range_property.html">TDoubleProperty</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a8a364af361fc0b90db82a34322af8d98">m_modifierSize</a></td></tr>
<tr class="separator:a8a364af361fc0b90db82a34322af8d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16575c927d249595fa9de0b2392ecaa7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_bool_property.html">TBoolProperty</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a16575c927d249595fa9de0b2392ecaa7">m_modifierLockAlpha</a></td></tr>
<tr class="separator:a16575c927d249595fa9de0b2392ecaa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad57c7ad60318efee2f29e23afbacad0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_raster_stroke_generator.html">RasterStrokeGenerator</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ad57c7ad60318efee2f29e23afbacad0e">m_rasterTrack</a></td></tr>
<tr class="separator:ad57c7ad60318efee2f29e23afbacad0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac475fceb551beaa8bbeebaaebc643a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_tile_set_c_m32.html">TTileSetCM32</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a4ac475fceb551beaa8bbeebaaebc643a">m_tileSet</a></td></tr>
<tr class="separator:a4ac475fceb551beaa8bbeebaaebc643a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192d46bf9cdc9748c649004ed3d5361c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_tile_saver_c_m32.html">TTileSaverCM32</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a192d46bf9cdc9748c649004ed3d5361c">m_tileSaver</a></td></tr>
<tr class="separator:a192d46bf9cdc9748c649004ed3d5361c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e66ca6ce36b15ffc72f60cbcb480fe9"><td class="memItemLeft" align="right" valign="top">TPixel32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a6e66ca6ce36b15ffc72f60cbcb480fe9">m_currentColor</a></td></tr>
<tr class="separator:a6e66ca6ce36b15ffc72f60cbcb480fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b977349c820c24daf509ec33b5549e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a0b977349c820c24daf509ec33b5549e1">m_styleId</a></td></tr>
<tr class="separator:a0b977349c820c24daf509ec33b5549e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c438ccb660bf5bd2087f96f4ff7734"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a04c438ccb660bf5bd2087f96f4ff7734">m_minThick</a></td></tr>
<tr class="separator:a04c438ccb660bf5bd2087f96f4ff7734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affb7918defd128c28a4f90df2cf8dfaf"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#affb7918defd128c28a4f90df2cf8dfaf">m_maxThick</a></td></tr>
<tr class="separator:affb7918defd128c28a4f90df2cf8dfaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa688909c9cbee1fbdf3d1d6bc1c638f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aa688909c9cbee1fbdf3d1d6bc1c638f4">m_targetType</a></td></tr>
<tr class="separator:aa688909c9cbee1fbdf3d1d6bc1c638f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea667f5c9b8157779b4b7990be2c3b57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aea667f5c9b8157779b4b7990be2c3b57">m_dpiScale</a></td></tr>
<tr class="separator:aea667f5c9b8157779b4b7990be2c3b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a139c5dcda1042955f9e7fc0356ad76b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">m_mousePos</a></td></tr>
<tr class="memdesc:a139c5dcda1042955f9e7fc0356ad76b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current mouse position, in world coordinates.  <a href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">More...</a><br /></td></tr>
<tr class="separator:a139c5dcda1042955f9e7fc0356ad76b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec63b4a229925d2fe0c853e040c9efe2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a></td></tr>
<tr class="memdesc:aec63b4a229925d2fe0c853e040c9efe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">World position the brush will be painted at.  <a href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">More...</a><br /></td></tr>
<tr class="separator:aec63b4a229925d2fe0c853e040c9efe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3129fa8c29878bbc85a0fdf72f7f605b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_blured_brush.html">BluredBrush</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a3129fa8c29878bbc85a0fdf72f7f605b">m_bluredBrush</a></td></tr>
<tr class="separator:a3129fa8c29878bbc85a0fdf72f7f605b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ef007a7a8ef18ecdab34b36e928e24f"><td class="memItemLeft" align="right" valign="top">QRadialGradient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a4ef007a7a8ef18ecdab34b36e928e24f">m_brushPad</a></td></tr>
<tr class="separator:a4ef007a7a8ef18ecdab34b36e928e24f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f312abdc90a0f588910ea9bbe36978"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_raster_p_t.html">TRasterCM32P</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a99f312abdc90a0f588910ea9bbe36978">m_backupRas</a></td></tr>
<tr class="separator:a99f312abdc90a0f588910ea9bbe36978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1aa781f6572ac08076b56d8939a9120"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_raster_p_t.html">TRaster32P</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ac1aa781f6572ac08076b56d8939a9120">m_workRas</a></td></tr>
<tr class="separator:ac1aa781f6572ac08076b56d8939a9120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2858bc7715a2b5533d55091e0c7769"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_t_thick_point.html">TThickPoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aee2858bc7715a2b5533d55091e0c7769">m_points</a></td></tr>
<tr class="separator:aee2858bc7715a2b5533d55091e0c7769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfcabcb946aec00f6d428b26864fa3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_rect_t.html">TRect</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a7cfcabcb946aec00f6d428b26864fa3a">m_strokeRect</a></td></tr>
<tr class="separator:a7cfcabcb946aec00f6d428b26864fa3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83be2af97e40e6a4a3220a5578f63235"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_rect_t.html">TRect</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a83be2af97e40e6a4a3220a5578f63235">m_lastRect</a></td></tr>
<tr class="separator:a83be2af97e40e6a4a3220a5578f63235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a475cd424ddc58cfb7f75885a827ef523"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_rect_t.html">TRect</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a475cd424ddc58cfb7f75885a827ef523">m_strokeSegmentRect</a></td></tr>
<tr class="separator:a475cd424ddc58cfb7f75885a827ef523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07b696e2f911f1c8e0bdf1883791f0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_smooth_stroke.html">SmoothStroke</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ac07b696e2f911f1c8e0bdf1883791f0d">m_smoothStroke</a></td></tr>
<tr class="separator:ac07b696e2f911f1c8e0bdf1883791f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8691d0d29ea4e51228d89e9073ba1ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_brush_preset_manager.html">BrushPresetManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#aa8691d0d29ea4e51228d89e9073ba1ce">m_presetsManager</a></td></tr>
<tr class="memdesc:aa8691d0d29ea4e51228d89e9073ba1ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manager for presets of this tool instance.  <a href="class_toonz_raster_brush_tool.html#aa8691d0d29ea4e51228d89e9073ba1ce">More...</a><br /></td></tr>
<tr class="separator:aa8691d0d29ea4e51228d89e9073ba1ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8cd0bda055abd5bc790984adb835f0e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ae8cd0bda055abd5bc790984adb835f0e">m_active</a></td></tr>
<tr class="separator:ae8cd0bda055abd5bc790984adb835f0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd5845257c55565eb23d3c0350af8ac4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#afd5845257c55565eb23d3c0350af8ac4">m_enabled</a></td></tr>
<tr class="separator:afd5845257c55565eb23d3c0350af8ac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf1972c4a9114d872a6b1bfccdc75428"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#acf1972c4a9114d872a6b1bfccdc75428">m_isPrompting</a></td></tr>
<tr class="separator:acf1972c4a9114d872a6b1bfccdc75428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e1f197e3aaa044128dc8630b69b4926"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a1e1f197e3aaa044128dc8630b69b4926">m_firstTime</a></td></tr>
<tr class="separator:a1e1f197e3aaa044128dc8630b69b4926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab582625eaeaf5381ca16dc53ffe5d940"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ab582625eaeaf5381ca16dc53ffe5d940">m_presetsLoaded</a></td></tr>
<tr class="separator:ab582625eaeaf5381ca16dc53ffe5d940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c3bd8b1c5109ef991b42fb361f953e9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_frame_id.html">TFrameId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a7c3bd8b1c5109ef991b42fb361f953e9">m_workingFrameId</a></td></tr>
<tr class="separator:a7c3bd8b1c5109ef991b42fb361f953e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f81549e77f5a6e65bc1df9b97c3636"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_toonz_raster_brush_tool_notifier.html">ToonzRasterBrushToolNotifier</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a91f81549e77f5a6e65bc1df9b97c3636">m_notifier</a></td></tr>
<tr class="separator:a91f81549e77f5a6e65bc1df9b97c3636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a8b54861fa367ac3591b86d64a138f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a5a8b54861fa367ac3591b86d64a138f2">m_isMyPaintStyleSelected</a> = false</td></tr>
<tr class="separator:a5a8b54861fa367ac3591b86d64a138f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ff70a975f21812482b60b5eb4e9f020"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_my_paint_toonz_brush.html">MyPaintToonzBrush</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a7ff70a975f21812482b60b5eb4e9f020">m_toonz_brush</a> = 0</td></tr>
<tr class="separator:a7ff70a975f21812482b60b5eb4e9f020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5903e9ac658ae5f073ab76e213887fa"><td class="memItemLeft" align="right" valign="top">QElapsedTimer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ac5903e9ac658ae5f073ab76e213887fa">m_brushTimer</a></td></tr>
<tr class="separator:ac5903e9ac658ae5f073ab76e213887fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d510ba3cf6f8ebe0393fd4d629dc3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#a05d510ba3cf6f8ebe0393fd4d629dc3f">m_minCursorThick</a></td></tr>
<tr class="separator:a05d510ba3cf6f8ebe0393fd4d629dc3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc2f888faf004106f5c3ae816e4ce65"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#adcc2f888faf004106f5c3ae816e4ce65">m_maxCursorThick</a></td></tr>
<tr class="separator:adcc2f888faf004106f5c3ae816e4ce65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade81aba07dcf3bf7987fc095363867ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_raster_brush_tool.html#ade81aba07dcf3bf7987fc095363867ad">m_propertyUpdating</a> = false</td></tr>
<tr class="separator:ade81aba07dcf3bf7987fc095363867ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_class_t_tool"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_t_tool')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_t_tool.html">TTool</a></td></tr>
<tr class="memitem:ac92abce57c7c53b5b29847144c571fb1 inherit pro_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a></td></tr>
<tr class="memdesc:ac92abce57c7c53b5b29847144c571fb1 inherit pro_attribs_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">The tool's name.  <a href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">More...</a><br /></td></tr>
<tr class="separator:ac92abce57c7c53b5b29847144c571fb1 inherit pro_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f61f998b655c1c917ee63a595657c6 inherit pro_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_tool_1_1_viewer.html">Viewer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a></td></tr>
<tr class="memdesc:a66f61f998b655c1c917ee63a595657c6 inherit pro_attribs_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tool's current viewer.  <a href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">More...</a><br /></td></tr>
<tr class="separator:a66f61f998b655c1c917ee63a595657c6 inherit pro_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf7058680c3aef9a5584a7f71351757 inherit pro_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3bf7058680c3aef9a5584a7f71351757">m_matrix</a></td></tr>
<tr class="memdesc:a3bf7058680c3aef9a5584a7f71351757 inherit pro_attribs_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">World-to-window reference change affine.  <a href="class_t_tool.html#a3bf7058680c3aef9a5584a7f71351757">More...</a><br /></td></tr>
<tr class="separator:a3bf7058680c3aef9a5584a7f71351757 inherit pro_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84e5837b3ed638e3e73373c3195a589 inherit pro_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ad84e5837b3ed638e3e73373c3195a589">m_targetType</a></td></tr>
<tr class="memdesc:ad84e5837b3ed638e3e73373c3195a589 inherit pro_attribs_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">The tool's image type target.  <a href="class_t_tool.html#ad84e5837b3ed638e3e73373c3195a589">More...</a><br /></td></tr>
<tr class="separator:ad84e5837b3ed638e3e73373c3195a589 inherit pro_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3552ce52afc39fffcab0492daf72ed16 inherit pro_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3552ce52afc39fffcab0492daf72ed16">m_enabled</a></td></tr>
<tr class="memdesc:a3552ce52afc39fffcab0492daf72ed16 inherit pro_attribs_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the tool allows user interaction.  <a href="class_t_tool.html#a3552ce52afc39fffcab0492daf72ed16">More...</a><br /></td></tr>
<tr class="separator:a3552ce52afc39fffcab0492daf72ed16 inherit pro_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd7997f3dc0226dc8ac8fcbd116f02d inherit pro_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#aefd7997f3dc0226dc8ac8fcbd116f02d">m_active</a></td></tr>
<tr class="separator:aefd7997f3dc0226dc8ac8fcbd116f02d inherit pro_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54bf7db989aa872f4cc412bb2ac3efc0 inherit pro_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a54bf7db989aa872f4cc412bb2ac3efc0">m_picking</a></td></tr>
<tr class="separator:a54bf7db989aa872f4cc412bb2ac3efc0 inherit pro_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_class_t_tool"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_t_tool')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_t_tool.html">TTool</a></td></tr>
<tr class="memitem:a391f099e6530ea54c71d81c9ee39296c inherit pub_types_class_t_tool"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296c">ToolType</a> { <br />
&#160;&#160;<a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296caa8f6293eab5817f82f74f031c0724f28">GenericTool</a> = 1
, <a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296cab1cf4660322ca2d4e5a4848bdbc049a9">ColumnTool</a> = 2
, <a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca18d911ba387409847ad5ae6a731031f8">LevelReadTool</a> = 4
, <a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b">LevelWriteTool</a>
, <br />
&#160;&#160;<b>LevelTool</b> = LevelReadTool | LevelWriteTool
<br />
 }</td></tr>
<tr class="memdesc:a391f099e6530ea54c71d81c9ee39296c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tool editing type.  <a href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296c">More...</a><br /></td></tr>
<tr class="separator:a391f099e6530ea54c71d81c9ee39296c inherit pub_types_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf0ea3a7f9d003f761fe57638dd6eff4 inherit pub_types_class_t_tool"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">ToolTargetType</a> { <br />
&#160;&#160;<b>NoTarget</b> = 0x0
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a> = 0x1
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">ToonzImage</a> = 0x2
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">RasterImage</a> = 0x4
, <br />
&#160;&#160;<a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a> = 0x8
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a71d3697cafb025fea3effa714e397980">Splines</a> = 0x10
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4aa6443a8b4b8f50c7415bee045a27a309">LevelColumns</a> = 0x20
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a269e5d6d3f79dd14ab7aa2e3192eeaf1">MeshColumns</a> = 0x40
, <br />
&#160;&#160;<a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c576a0d6f800899d7be1cfaceef4d12">EmptyTarget</a> = 0x80
, <b>CommonImages</b> = VectorImage | ToonzImage | RasterImage
, <b>AllImages</b> = CommonImages | MeshImage
, <b>Vectors</b> = VectorImage | Splines
, <br />
&#160;&#160;<b>CommonLevels</b> = CommonImages | LevelColumns
, <b>MeshLevels</b> = MeshImage | MeshColumns
, <b>AllTargets</b> = 0xffffffff
<br />
 }</td></tr>
<tr class="memdesc:adf0ea3a7f9d003f761fe57638dd6eff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object types the tool can operate on.  <a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">More...</a><br /></td></tr>
<tr class="separator:adf0ea3a7f9d003f761fe57638dd6eff4 inherit pub_types_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e915653734dd6faf23e9996eec67ebe inherit pub_types_class_t_tool"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="class_t_application.html">TApplication</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a8e915653734dd6faf23e9996eec67ebe">Application</a></td></tr>
<tr class="separator:a8e915653734dd6faf23e9996eec67ebe inherit pub_types_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_class_t_tool"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_t_tool')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_t_tool.html">TTool</a></td></tr>
<tr class="memitem:ac99234acd256aa0adee5095bc629d793 inherit pub_static_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_tool.html">TTool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ac99234acd256aa0adee5095bc629d793">getTool</a> (std::string toolName, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">ToolTargetType</a> targetType)</td></tr>
<tr class="separator:ac99234acd256aa0adee5095bc629d793 inherit pub_static_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d9174a450482028d6b6b77018af98f4 inherit pub_static_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_application.html">TApplication</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a6d9174a450482028d6b6b77018af98f4">getApplication</a> ()</td></tr>
<tr class="separator:a6d9174a450482028d6b6b77018af98f4 inherit pub_static_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d7dc084cba84024ae1594a28ce45f93 inherit pub_static_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a4d7dc084cba84024ae1594a28ce45f93">setApplication</a> (<a class="el" href="class_t_application.html">TApplication</a> *application)</td></tr>
<tr class="separator:a4d7dc084cba84024ae1594a28ce45f93 inherit pub_static_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158a4612dcff62a7f37e5fc3b47ed31c inherit pub_static_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_xsh_cell.html">TXshCell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a158a4612dcff62a7f37e5fc3b47ed31c">getImageCell</a> ()</td></tr>
<tr class="memdesc:a158a4612dcff62a7f37e5fc3b47ed31c inherit pub_static_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the level-frame pair to be edited by the tool.  <a href="class_t_tool.html#a158a4612dcff62a7f37e5fc3b47ed31c">More...</a><br /></td></tr>
<tr class="separator:a158a4612dcff62a7f37e5fc3b47ed31c inherit pub_static_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947d2af39fd4df397577bbf8602abfd4 inherit pub_static_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_image.html">TImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">getImage</a> (bool toBeModified, int subsampling=0)</td></tr>
<tr class="memdesc:a947d2af39fd4df397577bbf8602abfd4 inherit pub_static_methods_class_t_tool"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the image to be edited by the tool.  <a href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">More...</a><br /></td></tr>
<tr class="separator:a947d2af39fd4df397577bbf8602abfd4 inherit pub_static_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668ac4790094a864ba6e37bd902303f1 inherit pub_static_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_image.html">TImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a668ac4790094a864ba6e37bd902303f1">touchImage</a> ()</td></tr>
<tr class="separator:a668ac4790094a864ba6e37bd902303f1 inherit pub_static_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb0478607efdb92f5247cce35259188 inherit pub_static_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a6cb0478607efdb92f5247cce35259188">updateToolsPropertiesTranslation</a> ()</td></tr>
<tr class="separator:a6cb0478607efdb92f5247cce35259188 inherit pub_static_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84779988b40987971c0cbf3699db3b90 inherit pub_static_methods_class_t_tool"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a84779988b40987971c0cbf3699db3b90">getSelectedFrames</a> ()</td></tr>
<tr class="separator:a84779988b40987971c0cbf3699db3b90 inherit pub_static_methods_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_class_t_tool"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_class_t_tool')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="class_t_tool.html">TTool</a></td></tr>
<tr class="memitem:a9345d88f41578058ccb2d6e681591c09 inherit pub_static_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="struct_t_tool_1_1_cell_ops.html">CellOps</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">m_cellsData</a></td></tr>
<tr class="separator:a9345d88f41578058ccb2d6e681591c09 inherit pub_static_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec1db61477579b224321fd469e4ec00 inherit pub_static_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">m_isLevelCreated</a> = false</td></tr>
<tr class="separator:afec1db61477579b224321fd469e4ec00 inherit pub_static_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd06af7335f1ba0c96f36f1ac3e9976 inherit pub_static_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a> = false</td></tr>
<tr class="separator:aabd06af7335f1ba0c96f36f1ac3e9976 inherit pub_static_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89974c7589cad70945bfec7f4c1f1906 inherit pub_static_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a89974c7589cad70945bfec7f4c1f1906">m_oldFids</a></td></tr>
<tr class="separator:a89974c7589cad70945bfec7f4c1f1906 inherit pub_static_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac560f501994828462e15fd54d05ed68 inherit pub_static_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#aac560f501994828462e15fd54d05ed68">m_newFids</a></td></tr>
<tr class="separator:aac560f501994828462e15fd54d05ed68 inherit pub_static_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5352244b885e57127a018982f4944c89 inherit pub_static_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a5352244b885e57127a018982f4944c89">m_isLevelRenumbererd</a> = false</td></tr>
<tr class="separator:a5352244b885e57127a018982f4944c89 inherit pub_static_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_attribs_class_t_tool"><td colspan="2" onclick="javascript:toggleInherit('pro_static_attribs_class_t_tool')"><img src="closed.png" alt="-"/>&#160;Static Protected Attributes inherited from <a class="el" href="class_t_tool.html">TTool</a></td></tr>
<tr class="memitem:a580defbdf43efe0a228d647900d03a60 inherit pro_static_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_application.html">TApplication</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a580defbdf43efe0a228d647900d03a60">m_application</a> = 0</td></tr>
<tr class="separator:a580defbdf43efe0a228d647900d03a60 inherit pro_static_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd05e8e92235633621dbab55fe3c76f inherit pro_static_attribs_class_t_tool"><td class="memItemLeft" align="right" valign="top">static std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#adfd05e8e92235633621dbab55fe3c76f">m_selectedFrames</a> = std::set&lt;<a class="el" href="class_t_frame_id.html">TFrameId</a>&gt;()</td></tr>
<tr class="separator:adfd05e8e92235633621dbab55fe3c76f inherit pro_static_attribs_class_t_tool"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a217400f1d797e5bf3efb0fe01b6015c5" name="a217400f1d797e5bf3efb0fe01b6015c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217400f1d797e5bf3efb0fe01b6015c5">&#9670;&nbsp;</a></span>ToonzRasterBrushTool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ToonzRasterBrushTool::ToonzRasterBrushTool </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>targetType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  857</span>    : <a class="code hl_function" href="class_t_tool.html#a9c63ec35f606e755d0d036bf4fed62ab">TTool</a>(name)</div>
<div class="line"><span class="lineno">  858</span>    , m_rasThickness(<span class="stringliteral">&quot;Size&quot;</span>, 1, 1000, 1, 5)</div>
<div class="line"><span class="lineno">  859</span>    , m_smooth(<span class="stringliteral">&quot;Smooth:&quot;</span>, 0, 50, 0)</div>
<div class="line"><span class="lineno">  860</span>    , m_hardness(<span class="stringliteral">&quot;Hardness:&quot;</span>, 0, 100, 100)</div>
<div class="line"><span class="lineno">  861</span>    , m_preset(<span class="stringliteral">&quot;Preset:&quot;</span>)</div>
<div class="line"><span class="lineno">  862</span>    , m_drawOrder(<span class="stringliteral">&quot;Draw Order:&quot;</span>)</div>
<div class="line"><span class="lineno">  863</span>    , m_pencil(<span class="stringliteral">&quot;Pencil&quot;</span>, <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  864</span>    , m_pressure(<span class="stringliteral">&quot;Pressure&quot;</span>, <span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  865</span>    , m_modifierSize(<span class="stringliteral">&quot;ModifierSize&quot;</span>, -3, 3, 0, <span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  866</span>    , m_rasterTrack(0)</div>
<div class="line"><span class="lineno">  867</span>    , m_styleId(0)</div>
<div class="line"><span class="lineno">  868</span>    , m_bluredBrush(0)</div>
<div class="line"><span class="lineno">  869</span>    , m_active(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  870</span>    , m_enabled(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  871</span>    , <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#acf1972c4a9114d872a6b1bfccdc75428">m_isPrompting</a>(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  872</span>    , m_firstTime(<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  873</span>    , m_presetsLoaded(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  874</span>    , m_targetType(targetType)</div>
<div class="line"><span class="lineno">  875</span>    , m_workingFrameId(<a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>())</div>
<div class="line"><span class="lineno">  876</span>    , m_notifier(0)</div>
<div class="line"><span class="lineno">  877</span>    , m_modifierLockAlpha(<span class="stringliteral">&quot;Lock Alpha&quot;</span>, <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno">  878</span>  bind(targetType);</div>
<div class="line"><span class="lineno">  879</span> </div>
<div class="line"><span class="lineno">  880</span>  m_rasThickness.setNonLinearSlider();</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span>  m_prop[0].<a class="code hl_function" href="class_t_property_group.html#af135c807390f3d18237f4123e9d81d3d">bind</a>(m_rasThickness);</div>
<div class="line"><span class="lineno">  883</span>  m_prop[0].<a class="code hl_function" href="class_t_property_group.html#af135c807390f3d18237f4123e9d81d3d">bind</a>(m_hardness);</div>
<div class="line"><span class="lineno">  884</span>  m_prop[0].<a class="code hl_function" href="class_t_property_group.html#af135c807390f3d18237f4123e9d81d3d">bind</a>(m_smooth);</div>
<div class="line"><span class="lineno">  885</span>  m_prop[0].<a class="code hl_function" href="class_t_property_group.html#af135c807390f3d18237f4123e9d81d3d">bind</a>(m_drawOrder);</div>
<div class="line"><span class="lineno">  886</span>  m_prop[0].<a class="code hl_function" href="class_t_property_group.html#af135c807390f3d18237f4123e9d81d3d">bind</a>(m_modifierSize);</div>
<div class="line"><span class="lineno">  887</span>  m_prop[0].<a class="code hl_function" href="class_t_property_group.html#af135c807390f3d18237f4123e9d81d3d">bind</a>(m_modifierLockAlpha);</div>
<div class="line"><span class="lineno">  888</span>  m_prop[0].<a class="code hl_function" href="class_t_property_group.html#af135c807390f3d18237f4123e9d81d3d">bind</a>(m_pencil);</div>
<div class="line"><span class="lineno">  889</span>  m_pencil.setId(<span class="stringliteral">&quot;PencilMode&quot;</span>);</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>  m_drawOrder.addValue(L<span class="stringliteral">&quot;Over All&quot;</span>);</div>
<div class="line"><span class="lineno">  892</span>  m_drawOrder.addValue(L<span class="stringliteral">&quot;Under All&quot;</span>);</div>
<div class="line"><span class="lineno">  893</span>  m_drawOrder.addValue(L<span class="stringliteral">&quot;Palette Order&quot;</span>);</div>
<div class="line"><span class="lineno">  894</span>  m_drawOrder.setId(<span class="stringliteral">&quot;DrawOrder&quot;</span>);</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span>  m_prop[0].<a class="code hl_function" href="class_t_property_group.html#af135c807390f3d18237f4123e9d81d3d">bind</a>(m_pressure);</div>
<div class="line"><span class="lineno">  897</span> </div>
<div class="line"><span class="lineno">  898</span>  m_prop[0].<a class="code hl_function" href="class_t_property_group.html#af135c807390f3d18237f4123e9d81d3d">bind</a>(m_preset);</div>
<div class="line"><span class="lineno">  899</span>  m_preset.setId(<span class="stringliteral">&quot;BrushPreset&quot;</span>);</div>
<div class="line"><span class="lineno">  900</span>  m_preset.addValue(CUSTOM_WSTR);</div>
<div class="line"><span class="lineno">  901</span>  m_pressure.setId(<span class="stringliteral">&quot;PressureSensitivity&quot;</span>);</div>
<div class="line"><span class="lineno">  902</span>  m_modifierLockAlpha.setId(<span class="stringliteral">&quot;LockAlpha&quot;</span>);</div>
<div class="line"><span class="lineno">  903</span>}</div>
<div class="ttc" id="aclass_t_frame_id_html"><div class="ttname"><a href="class_t_frame_id.html">TFrameId</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:29</div></div>
<div class="ttc" id="aclass_t_property_group_html_af135c807390f3d18237f4123e9d81d3d"><div class="ttname"><a href="class_t_property_group.html#af135c807390f3d18237f4123e9d81d3d">TPropertyGroup::bind</a></div><div class="ttdeci">void bind(TProperty &amp;p)</div><div class="ttdoc">don't get ownership</div><div class="ttdef"><b>Definition:</b> tproperty.cpp:60</div></div>
<div class="ttc" id="aclass_t_tool_html_a9c63ec35f606e755d0d036bf4fed62ab"><div class="ttname"><a href="class_t_tool.html#a9c63ec35f606e755d0d036bf4fed62ab">TTool::TTool</a></div><div class="ttdeci">TTool(std::string toolName)</div><div class="ttdoc">every tool (invoking updateTranslation() for each).</div><div class="ttdef"><b>Definition:</b> tool.cpp:171</div></div>
<div class="ttc" id="aclass_toonz_raster_brush_tool_html_acf1972c4a9114d872a6b1bfccdc75428"><div class="ttname"><a href="class_toonz_raster_brush_tool.html#acf1972c4a9114d872a6b1bfccdc75428">ToonzRasterBrushTool::m_isPrompting</a></div><div class="ttdeci">bool m_isPrompting</div><div class="ttdef"><b>Definition:</b> toonzrasterbrushtool.h:216</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a82c469b8fe46c031d8513fa182303523" name="a82c469b8fe46c031d8513fa182303523"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82c469b8fe46c031d8513fa182303523">&#9670;&nbsp;</a></span>addPreset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::addPreset </td>
          <td>(</td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2101</span>                                                 {</div>
<div class="line"><span class="lineno"> 2102</span>  <span class="comment">// Build the preset</span></div>
<div class="line"><span class="lineno"> 2103</span>  <a class="code hl_struct" href="struct_brush_data.html">BrushData</a> preset(name.toStdWString());</div>
<div class="line"><span class="lineno"> 2104</span> </div>
<div class="line"><span class="lineno"> 2105</span>  preset.m_min = m_rasThickness.getValue().first;</div>
<div class="line"><span class="lineno"> 2106</span>  preset.m_max = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 2107</span> </div>
<div class="line"><span class="lineno"> 2108</span>  preset.m_smooth            = m_smooth.getValue();</div>
<div class="line"><span class="lineno"> 2109</span>  preset.m_hardness          = m_hardness.getValue();</div>
<div class="line"><span class="lineno"> 2110</span>  preset.m_drawOrder         = m_drawOrder.getIndex();</div>
<div class="line"><span class="lineno"> 2111</span>  preset.m_pencil            = m_pencil.getValue();</div>
<div class="line"><span class="lineno"> 2112</span>  preset.m_pressure          = m_pressure.getValue();</div>
<div class="line"><span class="lineno"> 2113</span>  preset.m_modifierSize      = m_modifierSize.getValue();</div>
<div class="line"><span class="lineno"> 2114</span>  preset.m_modifierLockAlpha = m_modifierLockAlpha.getValue();</div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>  <span class="comment">// Pass the preset to the manager</span></div>
<div class="line"><span class="lineno"> 2117</span>  <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aa8691d0d29ea4e51228d89e9073ba1ce">m_presetsManager</a>.addPreset(preset);</div>
<div class="line"><span class="lineno"> 2118</span> </div>
<div class="line"><span class="lineno"> 2119</span>  <span class="comment">// Reinitialize the associated preset enum</span></div>
<div class="line"><span class="lineno"> 2120</span>  initPresets();</div>
<div class="line"><span class="lineno"> 2121</span> </div>
<div class="line"><span class="lineno"> 2122</span>  <span class="comment">// Set the value to the specified one</span></div>
<div class="line"><span class="lineno"> 2123</span>  m_preset.setValue(preset.m_name);</div>
<div class="line"><span class="lineno"> 2124</span>  RasterBrushPreset = m_preset.getValueAsString();</div>
<div class="line"><span class="lineno"> 2125</span>}</div>
<div class="ttc" id="aclass_toonz_raster_brush_tool_html_aa8691d0d29ea4e51228d89e9073ba1ce"><div class="ttname"><a href="class_toonz_raster_brush_tool.html#aa8691d0d29ea4e51228d89e9073ba1ce">ToonzRasterBrushTool::m_presetsManager</a></div><div class="ttdeci">BrushPresetManager m_presetsManager</div><div class="ttdoc">Manager for presets of this tool instance.</div><div class="ttdef"><b>Definition:</b> toonzrasterbrushtool.h:212</div></div>
<div class="ttc" id="astruct_brush_data_html"><div class="ttname"><a href="struct_brush_data.html">BrushData</a></div><div class="ttdef"><b>Definition:</b> toonzrasterbrushtool.h:37</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa50a7386e6ee2f888a108e4d15348f65" name="aa50a7386e6ee2f888a108e4d15348f65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa50a7386e6ee2f888a108e4d15348f65">&#9670;&nbsp;</a></span>askRead()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::askRead </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;&#160;</td>
          <td class="paramname"><em>rect</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_raster_controller.html">RasterController</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1211</span>{ <span class="keywordflow">return</span> askWrite(rect); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8137628f04f873715b6d2a90d1bce14f" name="a8137628f04f873715b6d2a90d1bce14f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8137628f04f873715b6d2a90d1bce14f">&#9670;&nbsp;</a></span>askWrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::askWrite </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;&#160;</td>
          <td class="paramname"><em>rect</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_raster_controller.html">RasterController</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1215</span>                                                     {</div>
<div class="line"><span class="lineno"> 1216</span>  <span class="keywordflow">if</span> (rect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1217</span>  m_strokeRect += rect;</div>
<div class="line"><span class="lineno"> 1218</span>  m_strokeSegmentRect += rect;</div>
<div class="line"><span class="lineno"> 1219</span>  updateWorkAndBackupRasters(rect);</div>
<div class="line"><span class="lineno"> 1220</span>  m_tileSaver-&gt;save(rect);</div>
<div class="line"><span class="lineno"> 1221</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1222</span>}</div>
<div class="ttc" id="aclass_t_rect_t_html_a53ce09c6112f8a019b43ad82d721a93b"><div class="ttname"><a href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">TRectT::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1da23d3c3840e430138b12e245616d49" name="a1da23d3c3840e430138b12e245616d49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1da23d3c3840e430138b12e245616d49">&#9670;&nbsp;</a></span>createOptionsBox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tool_options_box.html">ToolOptionsBox</a> * ToonzRasterBrushTool::createOptionsBox </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The default returns a generic box containing the options for property group 0). </p><dl class="section see"><dt>See also</dt><dd>See <a class="el" href="">tooloptions.h</a> for more details. Factory function returning a newly created GUI options box to be displayed for the tool </dd></dl>

<p>Reimplemented from <a class="el" href="class_t_tool.html#a9e09495b50142df6b7bb9682837263c4">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  907</span>                                                       {</div>
<div class="line"><span class="lineno">  908</span>  <a class="code hl_class" href="class_t_palette_handle.html">TPaletteHandle</a> *currPalette =</div>
<div class="line"><span class="lineno">  909</span>      TTool::getApplication()-&gt;getPaletteController()-&gt;getCurrentLevelPalette();</div>
<div class="line"><span class="lineno">  910</span>  <a class="code hl_class" href="class_tool_handle.html">ToolHandle</a> *currTool = TTool::getApplication()-&gt;getCurrentTool();</div>
<div class="line"><span class="lineno">  911</span>  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code hl_class" href="class_brush_tool_options_box.html">BrushToolOptionsBox</a>(0, <span class="keyword">this</span>, currPalette, currTool);</div>
<div class="line"><span class="lineno">  912</span>}</div>
<div class="ttc" id="aclass_brush_tool_options_box_html"><div class="ttname"><a href="class_brush_tool_options_box.html">BrushToolOptionsBox</a></div><div class="ttdef"><b>Definition:</b> tooloptions.h:523</div></div>
<div class="ttc" id="aclass_t_palette_handle_html"><div class="ttname"><a href="class_t_palette_handle.html">TPaletteHandle</a></div><div class="ttdef"><b>Definition:</b> tpalettehandle.h:27</div></div>
<div class="ttc" id="aclass_tool_handle_html"><div class="ttname"><a href="class_tool_handle.html">ToolHandle</a></div><div class="ttdef"><b>Definition:</b> toolhandle.h:31</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afcaca75d7a357250948936e59c5e5b2b" name="afcaca75d7a357250948936e59c5e5b2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcaca75d7a357250948936e59c5e5b2b">&#9670;&nbsp;</a></span>draw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::draw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Draws the tool on the viewer. </p>

<p>Reimplemented from <a class="el" href="class_t_tool.html#a058bf656d73bf3cd63b9826cbaaf48e0">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1869</span>                                {</div>
<div class="line"><span class="lineno"> 1870</span>  <span class="comment">/*----*/</span></div>
<div class="line"><span class="lineno"> 1871</span>  <span class="keywordflow">if</span> (m_minThick == 0 &amp;&amp; m_maxThick == 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1872</span>      !Preferences::instance()-&gt;getShow0ThickLines())</div>
<div class="line"><span class="lineno"> 1873</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1874</span> </div>
<div class="line"><span class="lineno"> 1875</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = <a class="code hl_function" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">getImage</a>(<span class="keyword">false</span>, 1);</div>
<div class="line"><span class="lineno"> 1876</span> </div>
<div class="line"><span class="lineno"> 1877</span>  <span class="keywordflow">if</span> (getApplication()-&gt;getCurrentObject()-&gt;isSpline()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1878</span> </div>
<div class="line"><span class="lineno"> 1879</span>  <span class="comment">// If toggled off, don&#39;t draw brush outline</span></div>
<div class="line"><span class="lineno"> 1880</span>  <span class="keywordflow">if</span> (!Preferences::instance()-&gt;isCursorOutlineEnabled()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1881</span> </div>
<div class="line"><span class="lineno"> 1882</span>  <span class="comment">// Draw the brush outline - change color when the Ink / Paint check is</span></div>
<div class="line"><span class="lineno"> 1883</span>  <span class="comment">// activated</span></div>
<div class="line"><span class="lineno"> 1884</span>  <span class="keywordflow">if</span> ((ToonzCheck::instance()-&gt;getChecks() &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7ad1deef6a508e60252b818c61ce83e9">ToonzCheck::eInk</a>) ||</div>
<div class="line"><span class="lineno"> 1885</span>      (ToonzCheck::instance()-&gt;getChecks() &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a5a4df203cdba2a5eb6f7eba19f9ab62e">ToonzCheck::ePaint</a>) ||</div>
<div class="line"><span class="lineno"> 1886</span>      (ToonzCheck::instance()-&gt;getChecks() &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a3137d7221943909520731bd1977219eb">ToonzCheck::eInk1</a>))</div>
<div class="line"><span class="lineno"> 1887</span>    glColor3d(0.5, 0.8, 0.8);</div>
<div class="line"><span class="lineno"> 1888</span>  <span class="comment">// normally draw in red</span></div>
<div class="line"><span class="lineno"> 1889</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1890</span>    glColor3d(1.0, 0.0, 0.0);</div>
<div class="line"><span class="lineno"> 1891</span> </div>
<div class="line"><span class="lineno"> 1892</span>  <span class="keywordflow">if</span> (m_isMyPaintStyleSelected) {</div>
<div class="line"><span class="lineno"> 1893</span>    tglDrawCircle(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a>, (m_minCursorThick + 1) * 0.5);</div>
<div class="line"><span class="lineno"> 1894</span>    tglDrawCircle(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a>, (m_maxCursorThick + 1) * 0.5);</div>
<div class="line"><span class="lineno"> 1895</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1896</span>  }</div>
<div class="line"><span class="lineno"> 1897</span> </div>
<div class="line"><span class="lineno"> 1898</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a> ti = img) {</div>
<div class="line"><span class="lineno"> 1899</span>    <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> ras = ti-&gt;getRaster();</div>
<div class="line"><span class="lineno"> 1900</span>    <span class="keywordtype">int</span> lx       = ras-&gt;getLx();</div>
<div class="line"><span class="lineno"> 1901</span>    <span class="keywordtype">int</span> ly       = ras-&gt;getLy();</div>
<div class="line"><span class="lineno"> 1902</span>    drawEmptyCircle(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a>, tround(m_minThick), lx % 2 == 0, ly % 2 == 0,</div>
<div class="line"><span class="lineno"> 1903</span>                    m_pencil.getValue());</div>
<div class="line"><span class="lineno"> 1904</span>    drawEmptyCircle(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a>, tround(m_maxThick), lx % 2 == 0, ly % 2 == 0,</div>
<div class="line"><span class="lineno"> 1905</span>                    m_pencil.getValue());</div>
<div class="line"><span class="lineno"> 1906</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1907</span>    drawEmptyCircle(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a>, tround(m_minThick), <span class="keyword">true</span>, <span class="keyword">true</span>,</div>
<div class="line"><span class="lineno"> 1908</span>                    m_pencil.getValue());</div>
<div class="line"><span class="lineno"> 1909</span>    drawEmptyCircle(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a>, tround(m_maxThick), <span class="keyword">true</span>, <span class="keyword">true</span>,</div>
<div class="line"><span class="lineno"> 1910</span>                    m_pencil.getValue());</div>
<div class="line"><span class="lineno"> 1911</span>  }</div>
<div class="line"><span class="lineno"> 1912</span>}</div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TImage &gt;</a></div></div>
<div class="ttc" id="aclass_t_tool_html_a947d2af39fd4df397577bbf8602abfd4"><div class="ttname"><a href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">TTool::getImage</a></div><div class="ttdeci">static TImage * getImage(bool toBeModified, int subsampling=0)</div><div class="ttdoc">Returns the image to be edited by the tool.</div><div class="ttdef"><b>Definition:</b> tool.cpp:276</div></div>
<div class="ttc" id="aclass_t_toonz_image_p_html"><div class="ttname"><a href="class_t_toonz_image_p.html">TToonzImageP</a></div><div class="ttdef"><b>Definition:</b> ttoonzimage.h:126</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876a3137d7221943909520731bd1977219eb"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a3137d7221943909520731bd1977219eb">ToonzCheck::eInk1</a></div><div class="ttdeci">@ eInk1</div><div class="ttdoc">Ink#1 check (show style#1 on inks).</div><div class="ttdef"><b>Definition:</b> stage2.h:50</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876a5a4df203cdba2a5eb6f7eba19f9ab62e"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a5a4df203cdba2a5eb6f7eba19f9ab62e">ToonzCheck::ePaint</a></div><div class="ttdeci">@ ePaint</div><div class="ttdoc">Paint check (show current color on paints).</div><div class="ttdef"><b>Definition:</b> stage2.h:46</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876a7ad1deef6a508e60252b818c61ce83e9"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7ad1deef6a508e60252b818c61ce83e9">ToonzCheck::eInk</a></div><div class="ttdeci">@ eInk</div><div class="ttdoc">Ink check (show current color on inks).</div><div class="ttdef"><b>Definition:</b> stage2.h:45</div></div>
<div class="ttc" id="aclass_toonz_raster_brush_tool_html_aec63b4a229925d2fe0c853e040c9efe2"><div class="ttname"><a href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">ToonzRasterBrushTool::m_brushPos</a></div><div class="ttdeci">TPointD m_brushPos</div><div class="ttdoc">World position the brush will be painted at.</div><div class="ttdef"><b>Definition:</b> toonzrasterbrushtool.h:197</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00045">ToonzCheck::eInk</a>, <a class="el" href="#l00050">ToonzCheck::eInk1</a>, <a class="el" href="#l00046">ToonzCheck::ePaint</a>, <a class="el" href="#l00276">TTool::getImage()</a>, and <a class="el" href="#l00197">m_brushPos</a>.</p>

</div>
</div>
<a id="a4f23eebb42d27f068407a008bd635dc2" name="a4f23eebb42d27f068407a008bd635dc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f23eebb42d27f068407a008bd635dc2">&#9670;&nbsp;</a></span>drawEmptyCircle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::drawEmptyCircle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>thick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isLxEven</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isLyEven</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPencil</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1032</span>                                                          {</div>
<div class="line"><span class="lineno"> 1033</span>  <span class="keywordflow">if</span> (isLxEven) pos.x += 0.5;</div>
<div class="line"><span class="lineno"> 1034</span>  <span class="keywordflow">if</span> (isLyEven) pos.y += 0.5;</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>  <span class="keywordflow">if</span> (!isPencil)</div>
<div class="line"><span class="lineno"> 1037</span>    tglDrawCircle(pos, (thick + 1) * 0.5);</div>
<div class="line"><span class="lineno"> 1038</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1039</span>    <span class="keywordtype">int</span> x = 0, y = tround((thick * 0.5) - 0.5);</div>
<div class="line"><span class="lineno"> 1040</span>    <span class="keywordtype">int</span> d           = 3 - 2 * (int)(thick * 0.5);</div>
<div class="line"><span class="lineno"> 1041</span>    <span class="keywordtype">bool</span> horizontal = <span class="keyword">true</span>, isDecimal = thick % 2 != 0;</div>
<div class="line"><span class="lineno"> 1042</span>    drawLine(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(x, y), pos, horizontal, isDecimal);</div>
<div class="line"><span class="lineno"> 1043</span>    <span class="keywordflow">while</span> (y &gt; x) {</div>
<div class="line"><span class="lineno"> 1044</span>      <span class="keywordflow">if</span> (d &lt; 0) {</div>
<div class="line"><span class="lineno"> 1045</span>        d          = d + 4 * x + 6;</div>
<div class="line"><span class="lineno"> 1046</span>        horizontal = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1047</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1048</span>        d          = d + 4 * (x - y) + 10;</div>
<div class="line"><span class="lineno"> 1049</span>        horizontal = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1050</span>        y--;</div>
<div class="line"><span class="lineno"> 1051</span>      }</div>
<div class="line"><span class="lineno"> 1052</span>      x++;</div>
<div class="line"><span class="lineno"> 1053</span>      drawLine(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(x, y), pos, horizontal, isDecimal);</div>
<div class="line"><span class="lineno"> 1054</span>    }</div>
<div class="line"><span class="lineno"> 1055</span>  }</div>
<div class="line"><span class="lineno"> 1056</span>}</div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1358f17555b9d74f14df80f13567bdd6" name="a1358f17555b9d74f14df80f13567bdd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1358f17555b9d74f14df80f13567bdd6">&#9670;&nbsp;</a></span>drawLine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::drawLine </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>centre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>horizontal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isDecimal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  917</span>                                                                     {</div>
<div class="line"><span class="lineno">  918</span>  <span class="keywordflow">if</span> (!isDecimal) {</div>
<div class="line"><span class="lineno">  919</span>    <span class="keywordflow">if</span> (horizontal) {</div>
<div class="line"><span class="lineno">  920</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 1.5, point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  921</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  922</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y - 0.5, -point.x + 1.5) + centre,</div>
<div class="line"><span class="lineno">  923</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y - 0.5, -point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno">  924</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, -point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  925</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x - 0.5, -point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  926</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno">  927</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y - 0.5, point.x + 0.5) + centre,</div>
<div class="line"><span class="lineno">  930</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y - 0.5, point.x - 0.5) + centre);</div>
<div class="line"><span class="lineno">  931</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, -point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  932</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 1.5, -point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  933</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, -point.x + 0.5) + centre,</div>
<div class="line"><span class="lineno">  934</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, -point.x + 1.5) + centre);</div>
<div class="line"><span class="lineno">  935</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x - 0.5, point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  936</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  937</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  938</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 1.5, point.y + 1.5) + centre,</div>
<div class="line"><span class="lineno">  939</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 1.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  940</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 1.5, point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  941</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  942</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, -point.x + 1.5) + centre,</div>
<div class="line"><span class="lineno">  943</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y - 0.5, -point.x + 1.5) + centre);</div>
<div class="line"><span class="lineno">  944</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y - 0.5, -point.x + 1.5) + centre,</div>
<div class="line"><span class="lineno">  945</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y - 0.5, -point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno">  946</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, -point.y - 0.5) + centre,</div>
<div class="line"><span class="lineno">  947</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, -point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  948</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, -point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  949</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x - 0.5, -point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  950</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 1.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno">  951</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, point.x - 0.5) + centre);</div>
<div class="line"><span class="lineno">  952</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno">  953</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno">  954</span> </div>
<div class="line"><span class="lineno">  955</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno">  956</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y - 0.5, point.x - 0.5) + centre);</div>
<div class="line"><span class="lineno">  957</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y - 0.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno">  958</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y - 0.5, point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno">  959</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 1.5, -point.y - 0.5) + centre,</div>
<div class="line"><span class="lineno">  960</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 1.5, -point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  961</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 1.5, -point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  962</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, -point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  963</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 1.5, -point.x + 1.5) + centre,</div>
<div class="line"><span class="lineno">  964</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, -point.x + 1.5) + centre);</div>
<div class="line"><span class="lineno">  965</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, -point.x + 1.5) + centre,</div>
<div class="line"><span class="lineno">  966</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, -point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno">  967</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, point.y + 1.5) + centre,</div>
<div class="line"><span class="lineno">  968</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  969</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  970</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x - 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  971</span>    }</div>
<div class="line"><span class="lineno">  972</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  973</span>    <span class="keywordflow">if</span> (horizontal) {</div>
<div class="line"><span class="lineno">  974</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  975</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x + 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  976</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno">  977</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno">  978</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, -point.x + 0.5) + centre,</div>
<div class="line"><span class="lineno">  979</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, -point.x - 0.5) + centre);</div>
<div class="line"><span class="lineno">  980</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x + 0.5, -point.y - 0.5) + centre,</div>
<div class="line"><span class="lineno">  981</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, -point.y - 0.5) + centre);</div>
<div class="line"><span class="lineno">  982</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x - 0.5, -point.y - 0.5) + centre,</div>
<div class="line"><span class="lineno">  983</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, -point.y - 0.5) + centre);</div>
<div class="line"><span class="lineno">  984</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, -point.x + 0.5) + centre,</div>
<div class="line"><span class="lineno">  985</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, -point.x - 0.5) + centre);</div>
<div class="line"><span class="lineno">  986</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno">  987</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno">  988</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  989</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x - 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  990</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  991</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, point.y + 1.5) + centre,</div>
<div class="line"><span class="lineno">  992</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  993</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno">  994</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x + 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno">  995</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 1.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno">  996</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, point.x - 0.5) + centre);</div>
<div class="line"><span class="lineno">  997</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno">  998</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno">  999</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 1.5, -point.x + 0.5) + centre,</div>
<div class="line"><span class="lineno"> 1000</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, -point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1001</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, -point.x + 0.5) + centre,</div>
<div class="line"><span class="lineno"> 1002</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.y + 0.5, -point.x - 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1003</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, -point.y - 1.5) + centre,</div>
<div class="line"><span class="lineno"> 1004</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, -point.y - 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1005</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x - 0.5, -point.y - 0.5) + centre,</div>
<div class="line"><span class="lineno"> 1006</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x + 0.5, -point.y - 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, -point.y - 1.5) + centre,</div>
<div class="line"><span class="lineno"> 1009</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, -point.y - 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1010</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, -point.y - 0.5) + centre,</div>
<div class="line"><span class="lineno"> 1011</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x - 0.5, -point.y - 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1012</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 1.5, -point.x + 0.5) + centre,</div>
<div class="line"><span class="lineno"> 1013</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, -point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1014</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, -point.x + 0.5) + centre,</div>
<div class="line"><span class="lineno"> 1015</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, -point.x - 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1016</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 1.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno"> 1017</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, point.x - 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1018</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, point.x - 0.5) + centre,</div>
<div class="line"><span class="lineno"> 1019</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.y - 0.5, point.x + 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1020</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, point.y + 1.5) + centre,</div>
<div class="line"><span class="lineno"> 1021</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1022</span>      tglDrawSegment(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x + 0.5, point.y + 0.5) + centre,</div>
<div class="line"><span class="lineno"> 1023</span>                     <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-point.x - 0.5, point.y + 0.5) + centre);</div>
<div class="line"><span class="lineno"> 1024</span>    }</div>
<div class="line"><span class="lineno"> 1025</span>  }</div>
<div class="line"><span class="lineno"> 1026</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aed21519542ecf70f2797373293880c47" name="aed21519542ecf70f2797373293880c47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed21519542ecf70f2797373293880c47">&#9670;&nbsp;</a></span>finishRasterBrush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::finishRasterBrush </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pressureVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >onDeactivateMouseRelease </p>
<div class="fragment"><div class="line"><span class="lineno"> 1570</span>                                                                 {</div>
<div class="line"><span class="lineno"> 1571</span>  <a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a> ti = <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>(<a class="code hl_function" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">getImage</a>(<span class="keyword">true</span>));</div>
<div class="line"><span class="lineno"> 1572</span> </div>
<div class="line"><span class="lineno"> 1573</span>  <span class="keywordflow">if</span> (!ti) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1574</span> </div>
<div class="line"><span class="lineno"> 1575</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> rasCenter         = ti-&gt;getRaster()-&gt;getCenterD();</div>
<div class="line"><span class="lineno"> 1576</span>  <a class="code hl_class" href="class_t_application.html">TTool::Application</a> *app   = TTool::getApplication();</div>
<div class="line"><span class="lineno"> 1577</span>  <a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *level          = app-&gt;getCurrentLevel()-&gt;getLevel();</div>
<div class="line"><span class="lineno"> 1578</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TXshSimpleLevelP</a> simLevel = level-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno"> 1579</span> </div>
<div class="line"><span class="lineno"> 1580</span>  <span class="comment">/*--</span></div>
<div class="line"><span class="lineno"> 1581</span><span class="comment">   * FidUndo</span></div>
<div class="line"><span class="lineno"> 1582</span><span class="comment">   * --*/</span></div>
<div class="line"><span class="lineno"> 1583</span>  <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> frameId =</div>
<div class="line"><span class="lineno"> 1584</span>      m_workingFrameId.isEmptyFrame() ? <a class="code hl_function" href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">getCurrentFid</a>() : m_workingFrameId;</div>
<div class="line"><span class="lineno"> 1585</span>  <span class="keywordflow">if</span> (m_isMyPaintStyleSelected) {</div>
<div class="line"><span class="lineno"> 1586</span>    <a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a> ras = ti-&gt;getRaster();</div>
<div class="line"><span class="lineno"> 1587</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> point(pos + rasCenter);</div>
<div class="line"><span class="lineno"> 1588</span>    <span class="keywordtype">double</span> pressure = m_pressure.getValue() ? pressureVal : 0.5;</div>
<div class="line"><span class="lineno"> 1589</span> </div>
<div class="line"><span class="lineno"> 1590</span>    m_strokeSegmentRect.empty();</div>
<div class="line"><span class="lineno"> 1591</span>    m_toonz_brush-&gt;strokeTo(point, pressure, restartBrushTimer());</div>
<div class="line"><span class="lineno"> 1592</span>    m_toonz_brush-&gt;endStroke();</div>
<div class="line"><span class="lineno"> 1593</span>    <a class="code hl_class" href="class_t_rect_t.html">TRect</a> updateRect = m_strokeSegmentRect * ras-&gt;getBounds();</div>
<div class="line"><span class="lineno"> 1594</span>    <span class="keywordflow">if</span> (!updateRect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) {</div>
<div class="line"><span class="lineno"> 1595</span>      <span class="comment">// ras-&gt;extract(updateRect)-&gt;copy(m_workRaster-&gt;extract(updateRect));</span></div>
<div class="line"><span class="lineno"> 1596</span>      m_toonz_brush-&gt;updateDrawing(ras, m_backupRas, m_strokeSegmentRect,</div>
<div class="line"><span class="lineno"> 1597</span>                                   m_styleId, m_modifierLockAlpha.getValue());</div>
<div class="line"><span class="lineno"> 1598</span>    }</div>
<div class="line"><span class="lineno"> 1599</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> thickOffset(m_maxCursorThick * 0.5,</div>
<div class="line"><span class="lineno"> 1600</span>                        m_maxCursorThick * 0.5);  <span class="comment">// TODO</span></div>
<div class="line"><span class="lineno"> 1601</span>    <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> invalidateRect = convert(m_strokeSegmentRect) - rasCenter;</div>
<div class="line"><span class="lineno"> 1602</span>    invalidateRect += <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(pos - thickOffset, pos + thickOffset);</div>
<div class="line"><span class="lineno"> 1603</span>    <a class="code hl_function" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a>(invalidateRect.enlarge(2.0));</div>
<div class="line"><span class="lineno"> 1604</span> </div>
<div class="line"><span class="lineno"> 1605</span>    <span class="keywordflow">if</span> (m_toonz_brush) {</div>
<div class="line"><span class="lineno"> 1606</span>      <span class="keyword">delete</span> m_toonz_brush;</div>
<div class="line"><span class="lineno"> 1607</span>      m_toonz_brush = 0;</div>
<div class="line"><span class="lineno"> 1608</span>    }</div>
<div class="line"><span class="lineno"> 1609</span> </div>
<div class="line"><span class="lineno"> 1610</span>    m_lastRect.empty();</div>
<div class="line"><span class="lineno"> 1611</span>    m_workRas-&gt;unlock();</div>
<div class="line"><span class="lineno"> 1612</span> </div>
<div class="line"><span class="lineno"> 1613</span>    <span class="keywordflow">if</span> (m_tileSet-&gt;getTileCount() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1614</span>      <a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a> subras = ras-&gt;extract(m_strokeRect)-&gt;clone();</div>
<div class="line"><span class="lineno"> 1615</span>      TUndoManager::manager()-&gt;add(<span class="keyword">new</span> MyPaintBrushUndo(</div>
<div class="line"><span class="lineno"> 1616</span>          m_tileSet, simLevel.getPointer(), frameId, <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a>,</div>
<div class="line"><span class="lineno"> 1617</span>          <a class="code hl_variable" href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">m_isLevelCreated</a>, subras, m_strokeRect.getP00()));</div>
<div class="line"><span class="lineno"> 1618</span>    }</div>
<div class="line"><span class="lineno"> 1619</span> </div>
<div class="line"><span class="lineno"> 1620</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_rasterTrack &amp;&amp;</div>
<div class="line"><span class="lineno"> 1621</span>             (m_hardness.getValue() == 100 || m_pencil.getValue())) {</div>
<div class="line"><span class="lineno"> 1622</span>    <span class="keywordtype">double</span> thickness = m_pressure.getValue()</div>
<div class="line"><span class="lineno"> 1623</span>                           ? computeThickness(pressureVal, m_rasThickness)</div>
<div class="line"><span class="lineno"> 1624</span>                           : m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 1625</span> </div>
<div class="line"><span class="lineno"> 1626</span>    <span class="comment">/*--- Max ---*/</span></div>
<div class="line"><span class="lineno"> 1627</span>    <span class="keywordflow">if</span> (m_pressure.getValue() &amp;&amp; pressureVal == 1.0)</div>
<div class="line"><span class="lineno"> 1628</span>      thickness = m_rasThickness.getValue().first;</div>
<div class="line"><span class="lineno"> 1629</span> </div>
<div class="line"><span class="lineno"> 1630</span>    <span class="comment">/*-- PencilHardness=100 1 --*/</span></div>
<div class="line"><span class="lineno"> 1631</span>    <span class="keywordflow">if</span> (!m_pencil.getValue()) thickness -= 1.0;</div>
<div class="line"><span class="lineno"> 1632</span> </div>
<div class="line"><span class="lineno"> 1633</span>    <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> invalidateRect;</div>
<div class="line"><span class="lineno"> 1634</span>    <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> thickPoint(pos + rasCenter, thickness);</div>
<div class="line"><span class="lineno"> 1635</span>    std::vector&lt;TThickPoint&gt; pts;</div>
<div class="line"><span class="lineno"> 1636</span>    <span class="keywordflow">if</span> (m_smooth.getValue() == 0) {</div>
<div class="line"><span class="lineno"> 1637</span>      pts.push_back(thickPoint);</div>
<div class="line"><span class="lineno"> 1638</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1639</span>      m_smoothStroke.addPoint(thickPoint);</div>
<div class="line"><span class="lineno"> 1640</span>      m_smoothStroke.endStroke();</div>
<div class="line"><span class="lineno"> 1641</span>      m_smoothStroke.getSmoothPoints(pts);</div>
<div class="line"><span class="lineno"> 1642</span>    }</div>
<div class="line"><span class="lineno"> 1643</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; pts.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1644</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> &amp;thickPoint = pts[i];</div>
<div class="line"><span class="lineno"> 1645</span>      m_rasterTrack-&gt;add(thickPoint);</div>
<div class="line"><span class="lineno"> 1646</span>      m_tileSaver-&gt;save(m_rasterTrack-&gt;getLastRect());</div>
<div class="line"><span class="lineno"> 1647</span>      m_rasterTrack-&gt;generateLastPieceOfStroke(m_pencil.getValue(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1648</span> </div>
<div class="line"><span class="lineno"> 1649</span>      std::vector&lt;TThickPoint&gt; brushPoints = m_rasterTrack-&gt;getPointsSequence();</div>
<div class="line"><span class="lineno"> 1650</span>      <span class="keywordtype">int</span> m                                = (int)brushPoints.size();</div>
<div class="line"><span class="lineno"> 1651</span>      std::vector&lt;TThickPoint&gt; points;</div>
<div class="line"><span class="lineno"> 1652</span>      <span class="keywordflow">if</span> (m == 3) {</div>
<div class="line"><span class="lineno"> 1653</span>        points.push_back(brushPoints[0]);</div>
<div class="line"><span class="lineno"> 1654</span>        points.push_back(brushPoints[1]);</div>
<div class="line"><span class="lineno"> 1655</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1656</span>        points.push_back(brushPoints[m - 4]);</div>
<div class="line"><span class="lineno"> 1657</span>        points.push_back(brushPoints[m - 3]);</div>
<div class="line"><span class="lineno"> 1658</span>        points.push_back(brushPoints[m - 2]);</div>
<div class="line"><span class="lineno"> 1659</span>      }</div>
<div class="line"><span class="lineno"> 1660</span>      <span class="keywordtype">int</span> maxThickness = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 1661</span>      invalidateRect += ToolUtils::getBounds(points, maxThickness) - rasCenter;</div>
<div class="line"><span class="lineno"> 1662</span>    }</div>
<div class="line"><span class="lineno"> 1663</span>    <a class="code hl_function" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a>(invalidateRect.enlarge(2));</div>
<div class="line"><span class="lineno"> 1664</span> </div>
<div class="line"><span class="lineno"> 1665</span>    <span class="keywordflow">if</span> (m_tileSet-&gt;getTileCount() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1666</span>      TUndoManager::manager()-&gt;add(<span class="keyword">new</span> RasterBrushUndo(</div>
<div class="line"><span class="lineno"> 1667</span>          m_tileSet, m_rasterTrack-&gt;getPointsSequence(),</div>
<div class="line"><span class="lineno"> 1668</span>          m_rasterTrack-&gt;getStyleId(), m_rasterTrack-&gt;isSelective(),</div>
<div class="line"><span class="lineno"> 1669</span>          simLevel.getPointer(), frameId, m_pencil.getValue(), <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a>,</div>
<div class="line"><span class="lineno"> 1670</span>          <a class="code hl_variable" href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">m_isLevelCreated</a>, m_rasterTrack-&gt;isPaletteOrder(),</div>
<div class="line"><span class="lineno"> 1671</span>          m_rasterTrack-&gt;isAlphaLocked()));</div>
<div class="line"><span class="lineno"> 1672</span>    }</div>
<div class="line"><span class="lineno"> 1673</span>    <span class="keyword">delete</span> m_rasterTrack;</div>
<div class="line"><span class="lineno"> 1674</span>    m_rasterTrack = 0;</div>
<div class="line"><span class="lineno"> 1675</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1676</span>    <span class="keywordtype">double</span> maxThickness = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 1677</span>    <span class="keywordtype">double</span> thickness    = (m_pressure.getValue())</div>
<div class="line"><span class="lineno"> 1678</span>                           ? computeThickness(pressureVal, m_rasThickness)</div>
<div class="line"><span class="lineno"> 1679</span>                           : maxThickness;</div>
<div class="line"><span class="lineno"> 1680</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> rasCenter = ti-&gt;getRaster()-&gt;getCenterD();</div>
<div class="line"><span class="lineno"> 1681</span>    <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> invalidateRect;</div>
<div class="line"><span class="lineno"> 1682</span>    <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> thickPoint(pos + rasCenter, thickness);</div>
<div class="line"><span class="lineno"> 1683</span>    std::vector&lt;TThickPoint&gt; pts;</div>
<div class="line"><span class="lineno"> 1684</span>    <span class="keywordflow">if</span> (m_smooth.getValue() == 0) {</div>
<div class="line"><span class="lineno"> 1685</span>      pts.push_back(thickPoint);</div>
<div class="line"><span class="lineno"> 1686</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1687</span>      m_smoothStroke.addPoint(thickPoint);</div>
<div class="line"><span class="lineno"> 1688</span>      m_smoothStroke.endStroke();</div>
<div class="line"><span class="lineno"> 1689</span>      m_smoothStroke.getSmoothPoints(pts);</div>
<div class="line"><span class="lineno"> 1690</span>    }</div>
<div class="line"><span class="lineno"> 1691</span>    <span class="comment">// we need to skip the for-loop here if pts.size() == 0 or else</span></div>
<div class="line"><span class="lineno"> 1692</span>    <span class="comment">// (pts.size() - 1) becomes ULLONG_MAX since size_t is unsigned</span></div>
<div class="line"><span class="lineno"> 1693</span>    <span class="keywordflow">if</span> (pts.size() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1694</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; pts.size() - 1; ++i) {</div>
<div class="line"><span class="lineno"> 1695</span>        <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> old = m_points.back();</div>
<div class="line"><span class="lineno"> 1696</span> </div>
<div class="line"><span class="lineno"> 1697</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> &amp;point = pts[i];</div>
<div class="line"><span class="lineno"> 1698</span>        <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> mid((old + point) * 0.5, (point.thick + old.thick) * 0.5);</div>
<div class="line"><span class="lineno"> 1699</span>        m_points.push_back(mid);</div>
<div class="line"><span class="lineno"> 1700</span>        m_points.push_back(point);</div>
<div class="line"><span class="lineno"> 1701</span> </div>
<div class="line"><span class="lineno"> 1702</span>        <a class="code hl_class" href="class_t_rect_t.html">TRect</a> bbox;</div>
<div class="line"><span class="lineno"> 1703</span>        <span class="keywordtype">int</span> m = (int)m_points.size();</div>
<div class="line"><span class="lineno"> 1704</span>        std::vector&lt;TThickPoint&gt; points;</div>
<div class="line"><span class="lineno"> 1705</span>        <span class="keywordflow">if</span> (m == 3) {</div>
<div class="line"><span class="lineno"> 1706</span>          <span class="comment">// ho appena cominciato. devo disegnare un segmento</span></div>
<div class="line"><span class="lineno"> 1707</span>          <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> pa = m_points.front();</div>
<div class="line"><span class="lineno"> 1708</span>          points.push_back(pa);</div>
<div class="line"><span class="lineno"> 1709</span>          points.push_back(mid);</div>
<div class="line"><span class="lineno"> 1710</span>          bbox = m_bluredBrush-&gt;getBoundFromPoints(points);</div>
<div class="line"><span class="lineno"> 1711</span>          updateWorkAndBackupRasters(bbox + m_lastRect);</div>
<div class="line"><span class="lineno"> 1712</span>          m_tileSaver-&gt;save(bbox);</div>
<div class="line"><span class="lineno"> 1713</span>          m_bluredBrush-&gt;addArc(pa, (mid + pa) * 0.5, mid, 1, 1);</div>
<div class="line"><span class="lineno"> 1714</span>          m_lastRect += bbox;</div>
<div class="line"><span class="lineno"> 1715</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1716</span>          points.push_back(m_points[m - 4]);</div>
<div class="line"><span class="lineno"> 1717</span>          points.push_back(old);</div>
<div class="line"><span class="lineno"> 1718</span>          points.push_back(mid);</div>
<div class="line"><span class="lineno"> 1719</span>          bbox = m_bluredBrush-&gt;getBoundFromPoints(points);</div>
<div class="line"><span class="lineno"> 1720</span>          updateWorkAndBackupRasters(bbox + m_lastRect);</div>
<div class="line"><span class="lineno"> 1721</span>          m_tileSaver-&gt;save(bbox);</div>
<div class="line"><span class="lineno"> 1722</span>          m_bluredBrush-&gt;addArc(m_points[m - 4], old, mid, 1, 1);</div>
<div class="line"><span class="lineno"> 1723</span>          m_lastRect += bbox;</div>
<div class="line"><span class="lineno"> 1724</span>        }</div>
<div class="line"><span class="lineno"> 1725</span> </div>
<div class="line"><span class="lineno"> 1726</span>        invalidateRect +=</div>
<div class="line"><span class="lineno"> 1727</span>            ToolUtils::getBounds(points, maxThickness) - rasCenter;</div>
<div class="line"><span class="lineno"> 1728</span> </div>
<div class="line"><span class="lineno"> 1729</span>        m_bluredBrush-&gt;updateDrawing(ti-&gt;getRaster(), m_backupRas, bbox,</div>
<div class="line"><span class="lineno"> 1730</span>                                     m_styleId, m_drawOrder.getIndex(),</div>
<div class="line"><span class="lineno"> 1731</span>                                     m_modifierLockAlpha.getValue());</div>
<div class="line"><span class="lineno"> 1732</span>        m_strokeRect += bbox;</div>
<div class="line"><span class="lineno"> 1733</span>      }</div>
<div class="line"><span class="lineno"> 1734</span>      <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> point = pts.back();</div>
<div class="line"><span class="lineno"> 1735</span>      m_points.push_back(point);</div>
<div class="line"><span class="lineno"> 1736</span>      <span class="keywordtype">int</span> m = m_points.size();</div>
<div class="line"><span class="lineno"> 1737</span>      std::vector&lt;TThickPoint&gt; points;</div>
<div class="line"><span class="lineno"> 1738</span>      points.push_back(m_points[m - 3]);</div>
<div class="line"><span class="lineno"> 1739</span>      points.push_back(m_points[m - 2]);</div>
<div class="line"><span class="lineno"> 1740</span>      points.push_back(m_points[m - 1]);</div>
<div class="line"><span class="lineno"> 1741</span>      <a class="code hl_class" href="class_t_rect_t.html">TRect</a> bbox = m_bluredBrush-&gt;getBoundFromPoints(points);</div>
<div class="line"><span class="lineno"> 1742</span>      updateWorkAndBackupRasters(bbox);</div>
<div class="line"><span class="lineno"> 1743</span>      m_tileSaver-&gt;save(bbox);</div>
<div class="line"><span class="lineno"> 1744</span>      m_bluredBrush-&gt;addArc(points[0], points[1], points[2], 1, 1);</div>
<div class="line"><span class="lineno"> 1745</span>      m_bluredBrush-&gt;updateDrawing(ti-&gt;getRaster(), m_backupRas, bbox,</div>
<div class="line"><span class="lineno"> 1746</span>                                   m_styleId, m_drawOrder.getIndex(),</div>
<div class="line"><span class="lineno"> 1747</span>                                   m_modifierLockAlpha.getValue());</div>
<div class="line"><span class="lineno"> 1748</span> </div>
<div class="line"><span class="lineno"> 1749</span>      invalidateRect += ToolUtils::getBounds(points, maxThickness) - rasCenter;</div>
<div class="line"><span class="lineno"> 1750</span> </div>
<div class="line"><span class="lineno"> 1751</span>      m_lastRect += bbox;</div>
<div class="line"><span class="lineno"> 1752</span>      m_strokeRect += bbox;</div>
<div class="line"><span class="lineno"> 1753</span>    }</div>
<div class="line"><span class="lineno"> 1754</span>    <span class="keywordflow">if</span> (!invalidateRect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) <a class="code hl_function" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a>(invalidateRect.enlarge(2));</div>
<div class="line"><span class="lineno"> 1755</span>    m_lastRect.empty();</div>
<div class="line"><span class="lineno"> 1756</span> </div>
<div class="line"><span class="lineno"> 1757</span>    <span class="keyword">delete</span> m_bluredBrush;</div>
<div class="line"><span class="lineno"> 1758</span>    m_bluredBrush = 0;</div>
<div class="line"><span class="lineno"> 1759</span> </div>
<div class="line"><span class="lineno"> 1760</span>    <span class="keywordflow">if</span> (m_tileSet-&gt;getTileCount() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1761</span>      TUndoManager::manager()-&gt;add(<span class="keyword">new</span> RasterBluredBrushUndo(</div>
<div class="line"><span class="lineno"> 1762</span>          m_tileSet, m_points, m_styleId, (DrawOrder)m_drawOrder.getIndex(),</div>
<div class="line"><span class="lineno"> 1763</span>          m_modifierLockAlpha.getValue(), simLevel.getPointer(), frameId,</div>
<div class="line"><span class="lineno"> 1764</span>          m_rasThickness.getValue().second, m_hardness.getValue() * 0.01,</div>
<div class="line"><span class="lineno"> 1765</span>          <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a>, <a class="code hl_variable" href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">m_isLevelCreated</a>));</div>
<div class="line"><span class="lineno"> 1766</span>    }</div>
<div class="line"><span class="lineno"> 1767</span>  }</div>
<div class="line"><span class="lineno"> 1768</span>  <span class="keyword">delete</span> m_tileSaver;</div>
<div class="line"><span class="lineno"> 1769</span> </div>
<div class="line"><span class="lineno"> 1770</span>  m_tileSaver = 0;</div>
<div class="line"><span class="lineno"> 1771</span> </div>
<div class="line"><span class="lineno"> 1772</span>  <span class="comment">/*-- FId</span></div>
<div class="line"><span class="lineno"> 1773</span><span class="comment">  Fid--*/</span></div>
<div class="line"><span class="lineno"> 1774</span>  <a class="code hl_function" href="class_t_tool.html#abd1824e9b49705c534e0a773305294c4">notifyImageChanged</a>(frameId);</div>
<div class="line"><span class="lineno"> 1775</span> </div>
<div class="line"><span class="lineno"> 1776</span>  m_strokeRect.empty();</div>
<div class="line"><span class="lineno"> 1777</span> </div>
<div class="line"><span class="lineno"> 1778</span>  ToolUtils::updateSaveBox();</div>
<div class="line"><span class="lineno"> 1779</span> </div>
<div class="line"><span class="lineno"> 1780</span>  <span class="comment">/*--  --*/</span></div>
<div class="line"><span class="lineno"> 1781</span>  m_workingFrameId = <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>();</div>
<div class="line"><span class="lineno"> 1782</span>}</div>
<div class="ttc" id="aclass_t_application_html"><div class="ttname"><a href="class_t_application.html">TApplication</a></div><div class="ttdef"><b>Definition:</b> tapplication.h:31</div></div>
<div class="ttc" id="aclass_t_raster_p_t_html"><div class="ttname"><a href="class_t_raster_p_t.html">TRasterPT&lt; TPixelCM32 &gt;</a></div></div>
<div class="ttc" id="aclass_t_rect_t_html"><div class="ttname"><a href="class_t_rect_t.html">TRectT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_thick_point_html"><div class="ttname"><a href="class_t_thick_point.html">TThickPoint</a></div><div class="ttdef"><b>Definition:</b> tgeometry.h:366</div></div>
<div class="ttc" id="aclass_t_tool_html_a3e791336c642542c5648aa8ea86e2348"><div class="ttname"><a href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">TTool::invalidate</a></div><div class="ttdeci">void invalidate(const TRectD &amp;rect=TRectD())</div><div class="ttdef"><b>Definition:</b> tool.cpp:540</div></div>
<div class="ttc" id="aclass_t_tool_html_aabd06af7335f1ba0c96f36f1ac3e9976"><div class="ttname"><a href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">TTool::m_isFrameCreated</a></div><div class="ttdeci">static bool m_isFrameCreated</div><div class="ttdef"><b>Definition:</b> tool.h:546</div></div>
<div class="ttc" id="aclass_t_tool_html_abd1824e9b49705c534e0a773305294c4"><div class="ttname"><a href="class_t_tool.html#abd1824e9b49705c534e0a773305294c4">TTool::notifyImageChanged</a></div><div class="ttdeci">void notifyImageChanged()</div><div class="ttdef"><b>Definition:</b> tool.cpp:609</div></div>
<div class="ttc" id="aclass_t_tool_html_ae7db6c4288b721fd95f283419883a4b2"><div class="ttname"><a href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">TTool::getCurrentFid</a></div><div class="ttdeci">TFrameId getCurrentFid() const</div><div class="ttdoc">Returns the number of the actual editing frame.</div><div class="ttdef"><b>Definition:</b> tool.cpp:688</div></div>
<div class="ttc" id="aclass_t_tool_html_afec1db61477579b224321fd469e4ec00"><div class="ttname"><a href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">TTool::m_isLevelCreated</a></div><div class="ttdeci">static bool m_isLevelCreated</div><div class="ttdef"><b>Definition:</b> tool.h:544</div></div>
<div class="ttc" id="aclass_t_xsh_level_html"><div class="ttname"><a href="class_t_xsh_level.html">TXshLevel</a></div><div class="ttdoc">The TXshLevel class is the base class of level managers in xsheet.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:50</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a023065559cff76164ecb6344c586ba27"><div class="ttname"><a href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">TXshLevel::getSimpleLevel</a></div><div class="ttdeci">virtual TXshSimpleLevel * getSimpleLevel()</div><div class="ttdoc">Method (to be overridden in subclasses) to downcast to TXshSimpleLevel.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:95</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00688">TTool::getCurrentFid()</a>, <a class="el" href="#l00276">TTool::getImage()</a>, <a class="el" href="#l00095">TXshLevel::getSimpleLevel()</a>, <a class="el" href="#l00540">TTool::invalidate()</a>, <a class="el" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">TRectT&lt; T &gt;::isEmpty()</a>, <a class="el" href="#l00546">TTool::m_isFrameCreated</a>, <a class="el" href="#l00544">TTool::m_isLevelCreated</a>, and <a class="el" href="#l00609">TTool::notifyImageChanged()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01192">onDeactivate()</a>.</p>

</div>
</div>
<a id="a9e7ff0cf5f45218c896a5dbdbda3d292" name="a9e7ff0cf5f45218c896a5dbdbda3d292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e7ff0cf5f45218c896a5dbdbda3d292">&#9670;&nbsp;</a></span>getCenteredCursorPos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPointD</a> ToonzRasterBrushTool::getCenteredCursorPos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>originalCursorPos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1061</span>                                      {</div>
<div class="line"><span class="lineno"> 1062</span>  <span class="keywordflow">if</span> (m_isMyPaintStyleSelected) <span class="keywordflow">return</span> originalCursorPos;</div>
<div class="line"><span class="lineno"> 1063</span>  <a class="code hl_class" href="class_t_xsh_level_handle.html">TXshLevelHandle</a> *levelHandle = m_application-&gt;getCurrentLevel();</div>
<div class="line"><span class="lineno"> 1064</span>  <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *level = levelHandle ? levelHandle-&gt;getSimpleLevel() : 0;</div>
<div class="line"><span class="lineno"> 1065</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> resolution =</div>
<div class="line"><span class="lineno"> 1066</span>      level ? level-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#adac2b8c3ed147184fc78799cd65ca8f9">getImageRes</a>() : <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a>(0, 0);</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span>  <span class="keywordtype">bool</span> xEven = (resolution.lx % 2 == 0);</div>
<div class="line"><span class="lineno"> 1069</span>  <span class="keywordtype">bool</span> yEven = (resolution.ly % 2 == 0);</div>
<div class="line"><span class="lineno"> 1070</span> </div>
<div class="line"><span class="lineno"> 1071</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> centeredCursorPos = originalCursorPos;</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>  <span class="keywordflow">if</span> (xEven) centeredCursorPos.x -= 0.5;</div>
<div class="line"><span class="lineno"> 1074</span>  <span class="keywordflow">if</span> (yEven) centeredCursorPos.y -= 0.5;</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>  <span class="keywordflow">return</span> centeredCursorPos;</div>
<div class="line"><span class="lineno"> 1077</span>}</div>
<div class="ttc" id="aclass_level_properties_html_adac2b8c3ed147184fc78799cd65ca8f9"><div class="ttname"><a href="class_level_properties.html#adac2b8c3ed147184fc78799cd65ca8f9">LevelProperties::getImageRes</a></div><div class="ttdeci">TDimension getImageRes() const</div><div class="ttdoc">Returns the level's known image resolution.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:90</div></div>
<div class="ttc" id="aclass_t_dimension_t_html"><div class="ttname"><a href="class_t_dimension_t.html">TDimensionT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_xsh_level_handle_html"><div class="ttname"><a href="class_t_xsh_level_handle.html">TXshLevelHandle</a></div><div class="ttdef"><b>Definition:</b> txshlevelhandle.h:24</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html"><div class="ttname"><a href="class_t_xsh_simple_level.html">TXshSimpleLevel</a></div><div class="ttdoc">The TXshLevel specialization for image levels.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:60</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_ad412dd5c3a6ae3ff20a480dc728b26d2"><div class="ttname"><a href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">TXshSimpleLevel::getProperties</a></div><div class="ttdeci">LevelProperties * getProperties() const</div><div class="ttdoc">&lt; Returns a pointer to the owned level properties.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:109</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a304658ad28cdffe07ff3ff47540131ac" name="a304658ad28cdffe07ff3ff47540131ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a304658ad28cdffe07ff3ff47540131ac">&#9670;&nbsp;</a></span>getCursorId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ToonzRasterBrushTool::getCursorId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the type of cursor used by the tool. </p>
<dl class="section see"><dt>See also</dt><dd>For a list of cursor ids <a class="el" href="">cursor.h</a> </dd></dl>

<p>Reimplemented from <a class="el" href="class_t_tool.html#a1768a57b8b6d1480618fd923fad15f1d">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  149</span>{ <span class="keywordflow">return</span> ToolCursor::PenCursor; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a56d55d26719f1570c0a06a2a97456ff3" name="a56d55d26719f1570c0a06a2a97456ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d55d26719f1570c0a06a2a97456ff3">&#9670;&nbsp;</a></span>getProperties()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_property_group.html">TPropertyGroup</a> * ToonzRasterBrushTool::getProperties </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>targetType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_tool.html">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1949</span>                                                           {</div>
<div class="line"><span class="lineno"> 1950</span>  <span class="keywordflow">if</span> (!m_presetsLoaded) initPresets();</div>
<div class="line"><span class="lineno"> 1951</span> </div>
<div class="line"><span class="lineno"> 1952</span>  <span class="keywordflow">return</span> &amp;m_prop[idx];</div>
<div class="line"><span class="lineno"> 1953</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad27ec1cd179ce0f1baf0849397e52176" name="ad27ec1cd179ce0f1baf0849397e52176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad27ec1cd179ce0f1baf0849397e52176">&#9670;&nbsp;</a></span>getToolType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296c">ToolType</a> ToonzRasterBrushTool::getToolType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="class_t_tool.html">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  129</span>{ <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b">TTool::LevelWriteTool</a>; }</div>
<div class="ttc" id="aclass_t_tool_html_a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b"><div class="ttname"><a href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b">TTool::LevelWriteTool</a></div><div class="ttdeci">@ LevelWriteTool</div><div class="ttdoc">Tool writes a level's image data (implies LevelReadTool).</div><div class="ttdef"><b>Definition:</b> tool.h:269</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acce36ff1c57a57e0bd502933bac2f7af" name="acce36ff1c57a57e0bd502933bac2f7af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce36ff1c57a57e0bd502933bac2f7af">&#9670;&nbsp;</a></span>initPresets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::initPresets </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2047</span>                                       {</div>
<div class="line"><span class="lineno"> 2048</span>  <span class="keywordflow">if</span> (!m_presetsLoaded) {</div>
<div class="line"><span class="lineno"> 2049</span>    <span class="comment">// If necessary, load the presets from file</span></div>
<div class="line"><span class="lineno"> 2050</span>    m_presetsLoaded = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2051</span>    <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aa8691d0d29ea4e51228d89e9073ba1ce">m_presetsManager</a>.load(TEnv::getConfigDir() + <span class="stringliteral">&quot;brush_toonzraster.txt&quot;</span>);</div>
<div class="line"><span class="lineno"> 2052</span>  }</div>
<div class="line"><span class="lineno"> 2053</span> </div>
<div class="line"><span class="lineno"> 2054</span>  <span class="comment">// Rebuild the presets property entries</span></div>
<div class="line"><span class="lineno"> 2055</span>  <span class="keyword">const</span> std::set&lt;BrushData&gt; &amp;presets = <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aa8691d0d29ea4e51228d89e9073ba1ce">m_presetsManager</a>.presets();</div>
<div class="line"><span class="lineno"> 2056</span> </div>
<div class="line"><span class="lineno"> 2057</span>  m_preset.deleteAllValues();</div>
<div class="line"><span class="lineno"> 2058</span>  m_preset.addValue(CUSTOM_WSTR);</div>
<div class="line"><span class="lineno"> 2059</span>  m_preset.setItemUIName(CUSTOM_WSTR, tr(<span class="stringliteral">&quot;&lt;custom&gt;&quot;</span>));</div>
<div class="line"><span class="lineno"> 2060</span> </div>
<div class="line"><span class="lineno"> 2061</span>  std::set&lt;BrushData&gt;::const_iterator it, end = presets.end();</div>
<div class="line"><span class="lineno"> 2062</span>  <span class="keywordflow">for</span> (it = presets.begin(); it != end; ++it) m_preset.addValue(it-&gt;m_name);</div>
<div class="line"><span class="lineno"> 2063</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a889046a046384ea43836a15ca5cfe99b" name="a889046a046384ea43836a15ca5cfe99b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a889046a046384ea43836a15ca5cfe99b">&#9670;&nbsp;</a></span>isMyPaintStyleSelected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::isMyPaintStyleSelected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  172</span>{ <span class="keywordflow">return</span> m_isMyPaintStyleSelected; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a98e19cb6ab1d05345e02efd693d3fdb8" name="a98e19cb6ab1d05345e02efd693d3fdb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e19cb6ab1d05345e02efd693d3fdb8">&#9670;&nbsp;</a></span>isPencilModeActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::isPencilModeActive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >BrushPaintBrushEraserToolPencilModeTrue </p>

<p>Reimplemented from <a class="el" href="class_t_tool.html">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2167</span>                                              {</div>
<div class="line"><span class="lineno"> 2168</span>  <span class="keywordflow">return</span> getTargetType() == <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">TTool::ToonzImage</a> &amp;&amp; m_pencil.getValue();</div>
<div class="line"><span class="lineno"> 2169</span>}</div>
<div class="ttc" id="aclass_t_tool_html_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1"><div class="ttname"><a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">TTool::ToonzImage</a></div><div class="ttdeci">@ ToonzImage</div><div class="ttdoc">Will work on colormap (tlv) images.</div><div class="ttdef"><b>Definition:</b> tool.h:279</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00279">TTool::ToonzImage</a>.</p>

</div>
</div>
<a id="aa12d4083948b3365e83ff24f73babe0f" name="aa12d4083948b3365e83ff24f73babe0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa12d4083948b3365e83ff24f73babe0f">&#9670;&nbsp;</a></span>leftButtonDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::leftButtonDown </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_tool.html">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1241</span>                                                                {</div>
<div class="line"><span class="lineno"> 1242</span>  <a class="code hl_class" href="class_t_application.html">TTool::Application</a> *app = TTool::getApplication();</div>
<div class="line"><span class="lineno"> 1243</span>  <span class="keywordflow">if</span> (!app) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span>  <span class="keywordtype">int</span> col   = app-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno"> 1246</span>  m_enabled = col &gt;= 0 || app-&gt;getCurrentFrame()-&gt;isEditingLevel();</div>
<div class="line"><span class="lineno"> 1247</span>  <span class="comment">// todo: gestire autoenable</span></div>
<div class="line"><span class="lineno"> 1248</span>  <span class="keywordflow">if</span> (!m_enabled) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1249</span> </div>
<div class="line"><span class="lineno"> 1250</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> centeredPos = getCenteredCursorPos(pos);</div>
<div class="line"><span class="lineno"> 1251</span> </div>
<div class="line"><span class="lineno"> 1252</span>  m_currentColor = TPixel32::Black;</div>
<div class="line"><span class="lineno"> 1253</span>  m_active       = !!<a class="code hl_function" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">getImage</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1254</span>  <span class="keywordflow">if</span> (!m_active) {</div>
<div class="line"><span class="lineno"> 1255</span>    m_active = !!<a class="code hl_function" href="class_t_tool.html#a668ac4790094a864ba6e37bd902303f1">touchImage</a>();</div>
<div class="line"><span class="lineno"> 1256</span>  }</div>
<div class="line"><span class="lineno"> 1257</span>  <span class="keywordflow">if</span> (!m_active) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1258</span> </div>
<div class="line"><span class="lineno"> 1259</span>  <span class="keywordflow">if</span> (m_active) {</div>
<div class="line"><span class="lineno"> 1260</span>    <span class="comment">// nel caso che il colore corrente sia un cleanup/studiopalette color</span></div>
<div class="line"><span class="lineno"> 1261</span>    <span class="comment">// oppure il colore di un colorfield</span></div>
<div class="line"><span class="lineno"> 1262</span>    m_styleId       = app-&gt;getCurrentLevelStyleIndex();</div>
<div class="line"><span class="lineno"> 1263</span>    <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *cs = app-&gt;getCurrentLevelStyle();</div>
<div class="line"><span class="lineno"> 1264</span>    <span class="keywordflow">if</span> (cs) {</div>
<div class="line"><span class="lineno"> 1265</span>      <a class="code hl_class" href="class_t_raster_style_fx.html">TRasterStyleFx</a> *rfx = cs ? cs-&gt;<a class="code hl_function" href="class_t_color_style.html#ab67798fb7eacee1b4a90661cfa0e7ba6">getRasterStyleFx</a>() : 0;</div>
<div class="line"><span class="lineno"> 1266</span>      m_active = cs != 0 &amp;&amp; (cs-&gt;<a class="code hl_function" href="class_t_color_style.html#ad30252c2cfc4e9d5d09b954d74b97b00">isStrokeStyle</a>() || (rfx &amp;&amp; rfx-&gt;isInkStyle()));</div>
<div class="line"><span class="lineno"> 1267</span>      m_currentColor   = cs-&gt;<a class="code hl_function" href="class_t_color_style.html#af5907c6146db5067fcf000edeb8e403b">getAverageColor</a>();</div>
<div class="line"><span class="lineno"> 1268</span>      m_currentColor.m = 255;</div>
<div class="line"><span class="lineno"> 1269</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1270</span>      m_styleId      = 1;</div>
<div class="line"><span class="lineno"> 1271</span>      m_currentColor = TPixel32::Black;</div>
<div class="line"><span class="lineno"> 1272</span>    }</div>
<div class="line"><span class="lineno"> 1273</span>  }</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>  <span class="comment">// assert(0&lt;=m_styleId &amp;&amp; m_styleId&lt;2);</span></div>
<div class="line"><span class="lineno"> 1276</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = <a class="code hl_function" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">getImage</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1277</span>  <a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a> ri(img);</div>
<div class="line"><span class="lineno"> 1278</span>  <a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a> ras = ri-&gt;getRaster();</div>
<div class="line"><span class="lineno"> 1279</span>  <span class="keywordflow">if</span> (ras) {</div>
<div class="line"><span class="lineno"> 1280</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> rasCenter = ras-&gt;getCenterD();</div>
<div class="line"><span class="lineno"> 1281</span>    m_tileSet         = <span class="keyword">new</span> <a class="code hl_class" href="class_t_tile_set_c_m32.html">TTileSetCM32</a>(ras-&gt;getSize());</div>
<div class="line"><span class="lineno"> 1282</span>    m_tileSaver       = <span class="keyword">new</span> <a class="code hl_class" href="class_t_tile_saver_c_m32.html">TTileSaverCM32</a>(ras, m_tileSet);</div>
<div class="line"><span class="lineno"> 1283</span>    <span class="keywordtype">double</span> maxThick   = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 1284</span>    <span class="keywordtype">double</span> thickness  = (m_pressure.getValue())</div>
<div class="line"><span class="lineno"> 1285</span>                           ? computeThickness(e.<a class="code hl_variable" href="class_t_mouse_event.html#a55b00a089ffff0136d60af0c00b406ef">m_pressure</a>, m_rasThickness) * 2</div>
<div class="line"><span class="lineno"> 1286</span>                           : maxThick;</div>
<div class="line"><span class="lineno"> 1287</span> </div>
<div class="line"><span class="lineno"> 1288</span>    <span class="comment">/*--- Max</span></div>
<div class="line"><span class="lineno"> 1289</span><span class="comment">     * ---*/</span></div>
<div class="line"><span class="lineno"> 1290</span>    <span class="keywordflow">if</span> (m_pressure.getValue() &amp;&amp; e.<a class="code hl_variable" href="class_t_mouse_event.html#a55b00a089ffff0136d60af0c00b406ef">m_pressure</a> == 1.0)</div>
<div class="line"><span class="lineno"> 1291</span>      thickness = m_rasThickness.getValue().first;</div>
<div class="line"><span class="lineno"> 1292</span> </div>
<div class="line"><span class="lineno"> 1293</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> halfThick(maxThick * 0.5, maxThick * 0.5);</div>
<div class="line"><span class="lineno"> 1294</span>    <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> invalidateRect(centeredPos - halfThick, centeredPos + halfThick);</div>
<div class="line"><span class="lineno"> 1295</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> dpi;</div>
<div class="line"><span class="lineno"> 1296</span>    ri-&gt;getDpi(dpi.x, dpi.y);</div>
<div class="line"><span class="lineno"> 1297</span>    <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> previousTipRect(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> - halfThick, <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> + halfThick);</div>
<div class="line"><span class="lineno"> 1298</span>    <span class="keywordflow">if</span> (dpi.x &gt; <a class="code hl_variable" href="namespace_stage.html#ad3e22e31e2bb6fc1d95a572facce2d5b">Stage::inch</a> || dpi.y &gt; <a class="code hl_variable" href="namespace_stage.html#ad3e22e31e2bb6fc1d95a572facce2d5b">Stage::inch</a>)</div>
<div class="line"><span class="lineno"> 1299</span>      previousTipRect *= dpi.x / <a class="code hl_variable" href="namespace_stage.html#ad3e22e31e2bb6fc1d95a572facce2d5b">Stage::inch</a>;</div>
<div class="line"><span class="lineno"> 1300</span>    invalidateRect += previousTipRect;</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>    <span class="comment">// if the drawOrder mode = &quot;Palette Order&quot;,</span></div>
<div class="line"><span class="lineno"> 1303</span>    <span class="comment">// get styleId list which is above the current style in the palette</span></div>
<div class="line"><span class="lineno"> 1304</span>    DrawOrder drawOrder = (DrawOrder)m_drawOrder.getIndex();</div>
<div class="line"><span class="lineno"> 1305</span>    QSet&lt;int&gt; aboveStyleIds;</div>
<div class="line"><span class="lineno"> 1306</span>    <span class="keywordflow">if</span> (drawOrder == PaletteOrder) {</div>
<div class="line"><span class="lineno"> 1307</span>      getAboveStyleIdSet(m_styleId, ri-&gt;getPalette(), aboveStyleIds);</div>
<div class="line"><span class="lineno"> 1308</span>    }</div>
<div class="line"><span class="lineno"> 1309</span> </div>
<div class="line"><span class="lineno"> 1310</span>    <span class="comment">// mypaint brush case</span></div>
<div class="line"><span class="lineno"> 1311</span>    <span class="keywordflow">if</span> (m_isMyPaintStyleSelected) {</div>
<div class="line"><span class="lineno"> 1312</span>      <a class="code hl_class" href="class_t_point_t.html">TPointD</a> point(centeredPos + rasCenter);</div>
<div class="line"><span class="lineno"> 1313</span>      <span class="keywordtype">double</span> pressure =</div>
<div class="line"><span class="lineno"> 1314</span>          m_pressure.getValue() &amp;&amp; e.isTablet() ? e.<a class="code hl_variable" href="class_t_mouse_event.html#a55b00a089ffff0136d60af0c00b406ef">m_pressure</a> : 0.5;</div>
<div class="line"><span class="lineno"> 1315</span>      updateCurrentStyle();</div>
<div class="line"><span class="lineno"> 1316</span>      <span class="keywordflow">if</span> (!(m_workRas &amp;&amp; m_backupRas)) setWorkAndBackupImages();</div>
<div class="line"><span class="lineno"> 1317</span>      m_workRas-&gt;lock();</div>
<div class="line"><span class="lineno"> 1318</span>      <a class="code hl_class" href="classmypaint_1_1_brush.html">mypaint::Brush</a> mypaintBrush;</div>
<div class="line"><span class="lineno"> 1319</span>      <a class="code hl_class" href="class_t_my_paint_brush_style.html">TMyPaintBrushStyle</a> *mypaintStyle =</div>
<div class="line"><span class="lineno"> 1320</span>          <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_t_my_paint_brush_style.html">TMyPaintBrushStyle</a> *<span class="keyword">&gt;</span>(app-&gt;getCurrentLevelStyle());</div>
<div class="line"><span class="lineno"> 1321</span>      {  <span class="comment">// applyToonzBrushSettings</span></div>
<div class="line"><span class="lineno"> 1322</span>        mypaintBrush.fromBrush(mypaintStyle-&gt;getBrush());</div>
<div class="line"><span class="lineno"> 1323</span>        <span class="keywordtype">double</span> modifierSize = m_modifierSize.getValue() * log(2.0);</div>
<div class="line"><span class="lineno"> 1324</span>        <span class="keywordtype">float</span> baseSize =</div>
<div class="line"><span class="lineno"> 1325</span>            mypaintBrush.getBaseValue(MYPAINT_BRUSH_SETTING_RADIUS_LOGARITHMIC);</div>
<div class="line"><span class="lineno"> 1326</span>        mypaintBrush.setBaseValue(MYPAINT_BRUSH_SETTING_RADIUS_LOGARITHMIC,</div>
<div class="line"><span class="lineno"> 1327</span>                                  baseSize + modifierSize);</div>
<div class="line"><span class="lineno"> 1328</span>      }</div>
<div class="line"><span class="lineno"> 1329</span>      m_toonz_brush = <span class="keyword">new</span> <a class="code hl_class" href="class_my_paint_toonz_brush.html">MyPaintToonzBrush</a>(m_workRas, *<span class="keyword">this</span>, mypaintBrush);</div>
<div class="line"><span class="lineno"> 1330</span>      m_strokeRect.empty();</div>
<div class="line"><span class="lineno"> 1331</span>      m_strokeSegmentRect.empty();</div>
<div class="line"><span class="lineno"> 1332</span>      m_toonz_brush-&gt;beginStroke();</div>
<div class="line"><span class="lineno"> 1333</span>      m_toonz_brush-&gt;strokeTo(point, pressure, restartBrushTimer());</div>
<div class="line"><span class="lineno"> 1334</span>      <a class="code hl_class" href="class_t_rect_t.html">TRect</a> updateRect = m_strokeSegmentRect * ras-&gt;getBounds();</div>
<div class="line"><span class="lineno"> 1335</span>      <span class="keywordflow">if</span> (!updateRect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) {</div>
<div class="line"><span class="lineno"> 1336</span>        <span class="comment">// ras-&gt;extract(updateRect)-&gt;copy(m_workRas-&gt;extract(updateRect));</span></div>
<div class="line"><span class="lineno"> 1337</span>        m_toonz_brush-&gt;updateDrawing(ri-&gt;getRaster(), m_backupRas, m_strokeRect,</div>
<div class="line"><span class="lineno"> 1338</span>                                     m_styleId, m_modifierLockAlpha.getValue());</div>
<div class="line"><span class="lineno"> 1339</span>      }</div>
<div class="line"><span class="lineno"> 1340</span>      m_lastRect = m_strokeRect;</div>
<div class="line"><span class="lineno"> 1341</span> </div>
<div class="line"><span class="lineno"> 1342</span>      <a class="code hl_class" href="class_t_point_t.html">TPointD</a> thickOffset(m_maxCursorThick * 0.5, m_maxCursorThick * 0.5);</div>
<div class="line"><span class="lineno"> 1343</span>      invalidateRect = convert(m_strokeSegmentRect) - rasCenter;</div>
<div class="line"><span class="lineno"> 1344</span>      invalidateRect +=</div>
<div class="line"><span class="lineno"> 1345</span>          <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(centeredPos - thickOffset, centeredPos + thickOffset);</div>
<div class="line"><span class="lineno"> 1346</span>      invalidateRect +=</div>
<div class="line"><span class="lineno"> 1347</span>          <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> - thickOffset, <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> + thickOffset);</div>
<div class="line"><span class="lineno"> 1348</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_hardness.getValue() == 100 || m_pencil.getValue()) {</div>
<div class="line"><span class="lineno"> 1349</span>      <span class="comment">/*-- PencilHardness=100 1</span></div>
<div class="line"><span class="lineno"> 1350</span><span class="comment">       * --*/</span></div>
<div class="line"><span class="lineno"> 1351</span>      <span class="keywordflow">if</span> (!m_pencil.getValue()) thickness -= 1.0;</div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>      <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> thickPoint(centeredPos + convert(ras-&gt;getCenter()),</div>
<div class="line"><span class="lineno"> 1354</span>                             thickness);</div>
<div class="line"><span class="lineno"> 1355</span>      m_rasterTrack = <span class="keyword">new</span> <a class="code hl_class" href="class_raster_stroke_generator.html">RasterStrokeGenerator</a>(</div>
<div class="line"><span class="lineno"> 1356</span>          ras, BRUSH, NONE, m_styleId, thickPoint, drawOrder != OverAll, 0,</div>
<div class="line"><span class="lineno"> 1357</span>          m_modifierLockAlpha.getValue(), !m_pencil.getValue(),</div>
<div class="line"><span class="lineno"> 1358</span>          drawOrder == PaletteOrder);</div>
<div class="line"><span class="lineno"> 1359</span> </div>
<div class="line"><span class="lineno"> 1360</span>      <span class="keywordflow">if</span> (drawOrder == PaletteOrder)</div>
<div class="line"><span class="lineno"> 1361</span>        m_rasterTrack-&gt;setAboveStyleIds(aboveStyleIds);</div>
<div class="line"><span class="lineno"> 1362</span> </div>
<div class="line"><span class="lineno"> 1363</span>      m_tileSaver-&gt;save(m_rasterTrack-&gt;getLastRect());</div>
<div class="line"><span class="lineno"> 1364</span>      m_rasterTrack-&gt;generateLastPieceOfStroke(m_pencil.getValue());</div>
<div class="line"><span class="lineno"> 1365</span> </div>
<div class="line"><span class="lineno"> 1366</span>      std::vector&lt;TThickPoint&gt; pts;</div>
<div class="line"><span class="lineno"> 1367</span>      <span class="keywordflow">if</span> (m_smooth.getValue() == 0) {</div>
<div class="line"><span class="lineno"> 1368</span>        pts.push_back(thickPoint);</div>
<div class="line"><span class="lineno"> 1369</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1370</span>        m_smoothStroke.beginStroke(m_smooth.getValue());</div>
<div class="line"><span class="lineno"> 1371</span>        m_smoothStroke.addPoint(thickPoint);</div>
<div class="line"><span class="lineno"> 1372</span>        m_smoothStroke.getSmoothPoints(pts);</div>
<div class="line"><span class="lineno"> 1373</span>      }</div>
<div class="line"><span class="lineno"> 1374</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1375</span>      m_points.clear();</div>
<div class="line"><span class="lineno"> 1376</span>      <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> point(centeredPos + rasCenter, thickness);</div>
<div class="line"><span class="lineno"> 1377</span>      m_points.push_back(point);</div>
<div class="line"><span class="lineno"> 1378</span>      m_bluredBrush = <span class="keyword">new</span> <a class="code hl_class" href="class_blured_brush.html">BluredBrush</a>(m_workRas, maxThick, m_brushPad, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1379</span> </div>
<div class="line"><span class="lineno"> 1380</span>      <span class="keywordflow">if</span> (drawOrder == PaletteOrder)</div>
<div class="line"><span class="lineno"> 1381</span>        m_bluredBrush-&gt;setAboveStyleIds(aboveStyleIds);</div>
<div class="line"><span class="lineno"> 1382</span> </div>
<div class="line"><span class="lineno"> 1383</span>      m_strokeRect = m_bluredBrush-&gt;getBoundFromPoints(m_points);</div>
<div class="line"><span class="lineno"> 1384</span>      updateWorkAndBackupRasters(m_strokeRect);</div>
<div class="line"><span class="lineno"> 1385</span>      m_tileSaver-&gt;save(m_strokeRect);</div>
<div class="line"><span class="lineno"> 1386</span>      m_bluredBrush-&gt;addPoint(point, 1);</div>
<div class="line"><span class="lineno"> 1387</span>      m_bluredBrush-&gt;updateDrawing(ri-&gt;getRaster(), m_backupRas, m_strokeRect,</div>
<div class="line"><span class="lineno"> 1388</span>                                   m_styleId, drawOrder,</div>
<div class="line"><span class="lineno"> 1389</span>                                   m_modifierLockAlpha.getValue());</div>
<div class="line"><span class="lineno"> 1390</span>      m_lastRect = m_strokeRect;</div>
<div class="line"><span class="lineno"> 1391</span> </div>
<div class="line"><span class="lineno"> 1392</span>      std::vector&lt;TThickPoint&gt; pts;</div>
<div class="line"><span class="lineno"> 1393</span>      <span class="keywordflow">if</span> (m_smooth.getValue() == 0) {</div>
<div class="line"><span class="lineno"> 1394</span>        pts.push_back(point);</div>
<div class="line"><span class="lineno"> 1395</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1396</span>        m_smoothStroke.beginStroke(m_smooth.getValue());</div>
<div class="line"><span class="lineno"> 1397</span>        m_smoothStroke.addPoint(point);</div>
<div class="line"><span class="lineno"> 1398</span>        m_smoothStroke.getSmoothPoints(pts);</div>
<div class="line"><span class="lineno"> 1399</span>      }</div>
<div class="line"><span class="lineno"> 1400</span>    }</div>
<div class="line"><span class="lineno"> 1401</span>    <span class="comment">/*-- Fid --*/</span></div>
<div class="line"><span class="lineno"> 1402</span>    m_workingFrameId = getFrameId();</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span>    <a class="code hl_function" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a>(invalidateRect.enlarge(2));</div>
<div class="line"><span class="lineno"> 1405</span>  }</div>
<div class="line"><span class="lineno"> 1406</span>  <span class="comment">// updating m_brushPos is needed to refresh viewer properly</span></div>
<div class="line"><span class="lineno"> 1407</span>  <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">m_mousePos</a> = pos;</div>
<div class="line"><span class="lineno"> 1408</span>  <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> = getCenteredCursorPos(pos);</div>
<div class="line"><span class="lineno"> 1409</span>}</div>
<div class="ttc" id="aclass_blured_brush_html"><div class="ttname"><a href="class_blured_brush.html">BluredBrush</a></div><div class="ttdef"><b>Definition:</b> bluredbrush.h:19</div></div>
<div class="ttc" id="aclass_my_paint_toonz_brush_html"><div class="ttname"><a href="class_my_paint_toonz_brush.html">MyPaintToonzBrush</a></div><div class="ttdef"><b>Definition:</b> mypainttoonzbrush.h:91</div></div>
<div class="ttc" id="aclass_raster_stroke_generator_html"><div class="ttname"><a href="class_raster_stroke_generator.html">RasterStrokeGenerator</a></div><div class="ttdef"><b>Definition:</b> rasterstrokegenerator.h:22</div></div>
<div class="ttc" id="aclass_t_color_style_html"><div class="ttname"><a href="class_t_color_style.html">TColorStyle</a></div><div class="ttdoc">Abstract class representing a color style in a Toonz palette.</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:84</div></div>
<div class="ttc" id="aclass_t_color_style_html_ab67798fb7eacee1b4a90661cfa0e7ba6"><div class="ttname"><a href="class_t_color_style.html#ab67798fb7eacee1b4a90661cfa0e7ba6">TColorStyle::getRasterStyleFx</a></div><div class="ttdeci">virtual TRasterStyleFx * getRasterStyleFx()</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:175</div></div>
<div class="ttc" id="aclass_t_color_style_html_ad30252c2cfc4e9d5d09b954d74b97b00"><div class="ttname"><a href="class_t_color_style.html#ad30252c2cfc4e9d5d09b954d74b97b00">TColorStyle::isStrokeStyle</a></div><div class="ttdeci">virtual bool isStrokeStyle() const =0</div><div class="ttdoc">Returns whether the style applies on strokes.</div></div>
<div class="ttc" id="aclass_t_color_style_html_af5907c6146db5067fcf000edeb8e403b"><div class="ttname"><a href="class_t_color_style.html#af5907c6146db5067fcf000edeb8e403b">TColorStyle::getAverageColor</a></div><div class="ttdeci">virtual TPixel32 getAverageColor() const</div><div class="ttdoc">Returns a color representing the average of all the style's colors.</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:270</div></div>
<div class="ttc" id="aclass_t_mouse_event_html_a55b00a089ffff0136d60af0c00b406ef"><div class="ttname"><a href="class_t_mouse_event.html#a55b00a089ffff0136d60af0c00b406ef">TMouseEvent::m_pressure</a></div><div class="ttdeci">double m_pressure</div><div class="ttdef"><b>Definition:</b> tool.h:89</div></div>
<div class="ttc" id="aclass_t_my_paint_brush_style_html"><div class="ttname"><a href="class_t_my_paint_brush_style.html">TMyPaintBrushStyle</a></div><div class="ttdef"><b>Definition:</b> mypaintbrushstyle.h:26</div></div>
<div class="ttc" id="aclass_t_raster_style_fx_html"><div class="ttname"><a href="class_t_raster_style_fx.html">TRasterStyleFx</a></div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:44</div></div>
<div class="ttc" id="aclass_t_tile_saver_c_m32_html"><div class="ttname"><a href="class_t_tile_saver_c_m32.html">TTileSaverCM32</a></div><div class="ttdef"><b>Definition:</b> ttilesaver.h:21</div></div>
<div class="ttc" id="aclass_t_tile_set_c_m32_html"><div class="ttname"><a href="class_t_tile_set_c_m32.html">TTileSetCM32</a></div><div class="ttdef"><b>Definition:</b> ttileset.h:76</div></div>
<div class="ttc" id="aclass_t_tool_html_a668ac4790094a864ba6e37bd902303f1"><div class="ttname"><a href="class_t_tool.html#a668ac4790094a864ba6e37bd902303f1">TTool::touchImage</a></div><div class="ttdeci">static TImage * touchImage()</div><div class="ttdef"><b>Definition:</b> tool.cpp:294</div></div>
<div class="ttc" id="aclass_toonz_raster_brush_tool_html_a139c5dcda1042955f9e7fc0356ad76b0"><div class="ttname"><a href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">ToonzRasterBrushTool::m_mousePos</a></div><div class="ttdeci">TPointD m_mousePos</div><div class="ttdoc">Current mouse position, in world coordinates.</div><div class="ttdef"><b>Definition:</b> toonzrasterbrushtool.h:196</div></div>
<div class="ttc" id="aclassmypaint_1_1_brush_html"><div class="ttname"><a href="classmypaint_1_1_brush.html">mypaint::Brush</a></div><div class="ttdef"><b>Definition:</b> mypaint.h:147</div></div>
<div class="ttc" id="anamespace_stage_html_ad3e22e31e2bb6fc1d95a572facce2d5b"><div class="ttname"><a href="namespace_stage.html#ad3e22e31e2bb6fc1d95a572facce2d5b">Stage::inch</a></div><div class="ttdeci">DVVAR const double inch</div><div class="ttdef"><b>Definition:</b> stageplayer.h:37</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab728e64ec25f527650f8667b5506d1a5" name="ab728e64ec25f527650f8667b5506d1a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab728e64ec25f527650f8667b5506d1a5">&#9670;&nbsp;</a></span>leftButtonDrag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::leftButtonDrag </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_tool.html">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1414</span>                                                                {</div>
<div class="line"><span class="lineno"> 1415</span>  <span class="keywordflow">if</span> (!m_enabled || !m_active) {</div>
<div class="line"><span class="lineno"> 1416</span>    <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">m_mousePos</a> = pos;</div>
<div class="line"><span class="lineno"> 1417</span>    <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> = getCenteredCursorPos(pos);</div>
<div class="line"><span class="lineno"> 1418</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1419</span>  }</div>
<div class="line"><span class="lineno"> 1420</span> </div>
<div class="line"><span class="lineno"> 1421</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> centeredPos = getCenteredCursorPos(pos);</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>  <a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a> ti   = <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>(<a class="code hl_function" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">getImage</a>(<span class="keyword">true</span>));</div>
<div class="line"><span class="lineno"> 1424</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> rasCenter = ti-&gt;getRaster()-&gt;getCenterD();</div>
<div class="line"><span class="lineno"> 1425</span>  <span class="keywordtype">int</span> maxThickness  = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 1426</span>  <span class="keywordtype">double</span> thickness  = (m_pressure.getValue())</div>
<div class="line"><span class="lineno"> 1427</span>                         ? computeThickness(e.<a class="code hl_variable" href="class_t_mouse_event.html#a55b00a089ffff0136d60af0c00b406ef">m_pressure</a>, m_rasThickness) * 2</div>
<div class="line"><span class="lineno"> 1428</span>                         : maxThickness;</div>
<div class="line"><span class="lineno"> 1429</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> invalidateRect;</div>
<div class="line"><span class="lineno"> 1430</span>  <span class="keywordflow">if</span> (m_isMyPaintStyleSelected) {</div>
<div class="line"><span class="lineno"> 1431</span>    <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> ras = ti-&gt;getRaster();</div>
<div class="line"><span class="lineno"> 1432</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> point(centeredPos + rasCenter);</div>
<div class="line"><span class="lineno"> 1433</span>    <span class="keywordtype">double</span> pressure =</div>
<div class="line"><span class="lineno"> 1434</span>        m_pressure.getValue() &amp;&amp; e.isTablet() ? e.<a class="code hl_variable" href="class_t_mouse_event.html#a55b00a089ffff0136d60af0c00b406ef">m_pressure</a> : 0.5;</div>
<div class="line"><span class="lineno"> 1435</span> </div>
<div class="line"><span class="lineno"> 1436</span>    m_strokeSegmentRect.empty();</div>
<div class="line"><span class="lineno"> 1437</span>    m_toonz_brush-&gt;strokeTo(point, pressure, restartBrushTimer());</div>
<div class="line"><span class="lineno"> 1438</span>    <a class="code hl_class" href="class_t_rect_t.html">TRect</a> updateRect = m_strokeSegmentRect * ras-&gt;getBounds();</div>
<div class="line"><span class="lineno"> 1439</span>    <span class="keywordflow">if</span> (!updateRect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) {</div>
<div class="line"><span class="lineno"> 1440</span>      <span class="comment">// ras-&gt;extract(updateRect)-&gt;copy(m_workRaster-&gt;extract(updateRect));</span></div>
<div class="line"><span class="lineno"> 1441</span>      m_toonz_brush-&gt;updateDrawing(ras, m_backupRas, m_strokeSegmentRect,</div>
<div class="line"><span class="lineno"> 1442</span>                                   m_styleId, m_modifierLockAlpha.getValue());</div>
<div class="line"><span class="lineno"> 1443</span>    }</div>
<div class="line"><span class="lineno"> 1444</span>    m_lastRect = m_strokeRect;</div>
<div class="line"><span class="lineno"> 1445</span> </div>
<div class="line"><span class="lineno"> 1446</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> thickOffset(m_maxCursorThick * 0.5, m_maxCursorThick * 0.5);</div>
<div class="line"><span class="lineno"> 1447</span>    invalidateRect = convert(m_strokeSegmentRect) - rasCenter;</div>
<div class="line"><span class="lineno"> 1448</span>    invalidateRect +=</div>
<div class="line"><span class="lineno"> 1449</span>        <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(centeredPos - thickOffset, centeredPos + thickOffset);</div>
<div class="line"><span class="lineno"> 1450</span>    invalidateRect +=</div>
<div class="line"><span class="lineno"> 1451</span>        <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> - thickOffset, <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> + thickOffset);</div>
<div class="line"><span class="lineno"> 1452</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_rasterTrack &amp;&amp;</div>
<div class="line"><span class="lineno"> 1453</span>             (m_hardness.getValue() == 100 || m_pencil.getValue())) {</div>
<div class="line"><span class="lineno"> 1454</span>    <span class="comment">/*-- PencilHardness=100 1</span></div>
<div class="line"><span class="lineno"> 1455</span><span class="comment">     * --*/</span></div>
<div class="line"><span class="lineno"> 1456</span>    <span class="keywordflow">if</span> (!m_pencil.getValue()) thickness -= 1.0;</div>
<div class="line"><span class="lineno"> 1457</span> </div>
<div class="line"><span class="lineno"> 1458</span>    <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> thickPoint(centeredPos + rasCenter, thickness);</div>
<div class="line"><span class="lineno"> 1459</span>    std::vector&lt;TThickPoint&gt; pts;</div>
<div class="line"><span class="lineno"> 1460</span>    <span class="keywordflow">if</span> (m_smooth.getValue() == 0) {</div>
<div class="line"><span class="lineno"> 1461</span>      pts.push_back(thickPoint);</div>
<div class="line"><span class="lineno"> 1462</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1463</span>      m_smoothStroke.addPoint(thickPoint);</div>
<div class="line"><span class="lineno"> 1464</span>      m_smoothStroke.getSmoothPoints(pts);</div>
<div class="line"><span class="lineno"> 1465</span>    }</div>
<div class="line"><span class="lineno"> 1466</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; pts.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1467</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> &amp;thickPoint = pts[i];</div>
<div class="line"><span class="lineno"> 1468</span>      m_rasterTrack-&gt;add(thickPoint);</div>
<div class="line"><span class="lineno"> 1469</span>      m_tileSaver-&gt;save(m_rasterTrack-&gt;getLastRect());</div>
<div class="line"><span class="lineno"> 1470</span>      m_rasterTrack-&gt;generateLastPieceOfStroke(m_pencil.getValue());</div>
<div class="line"><span class="lineno"> 1471</span>      std::vector&lt;TThickPoint&gt; brushPoints = m_rasterTrack-&gt;getPointsSequence();</div>
<div class="line"><span class="lineno"> 1472</span>      <span class="keywordtype">int</span> m                                = (int)brushPoints.size();</div>
<div class="line"><span class="lineno"> 1473</span>      std::vector&lt;TThickPoint&gt; points;</div>
<div class="line"><span class="lineno"> 1474</span>      <span class="keywordflow">if</span> (m == 3) {</div>
<div class="line"><span class="lineno"> 1475</span>        points.push_back(brushPoints[0]);</div>
<div class="line"><span class="lineno"> 1476</span>        points.push_back(brushPoints[1]);</div>
<div class="line"><span class="lineno"> 1477</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1478</span>        points.push_back(brushPoints[m - 4]);</div>
<div class="line"><span class="lineno"> 1479</span>        points.push_back(brushPoints[m - 3]);</div>
<div class="line"><span class="lineno"> 1480</span>        points.push_back(brushPoints[m - 2]);</div>
<div class="line"><span class="lineno"> 1481</span>      }</div>
<div class="line"><span class="lineno"> 1482</span>      invalidateRect += ToolUtils::getBounds(points, maxThickness) - rasCenter;</div>
<div class="line"><span class="lineno"> 1483</span>    }</div>
<div class="line"><span class="lineno"> 1484</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1485</span>    <span class="comment">// antialiased brush</span></div>
<div class="line"><span class="lineno"> 1486</span>    assert(m_workRas.getPointer() &amp;&amp; m_backupRas.getPointer());</div>
<div class="line"><span class="lineno"> 1487</span>    <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> thickPoint(centeredPos + rasCenter, thickness);</div>
<div class="line"><span class="lineno"> 1488</span>    std::vector&lt;TThickPoint&gt; pts;</div>
<div class="line"><span class="lineno"> 1489</span>    <span class="keywordflow">if</span> (m_smooth.getValue() == 0) {</div>
<div class="line"><span class="lineno"> 1490</span>      pts.push_back(thickPoint);</div>
<div class="line"><span class="lineno"> 1491</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1492</span>      m_smoothStroke.addPoint(thickPoint);</div>
<div class="line"><span class="lineno"> 1493</span>      m_smoothStroke.getSmoothPoints(pts);</div>
<div class="line"><span class="lineno"> 1494</span>    }</div>
<div class="line"><span class="lineno"> 1495</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; pts.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1496</span>      <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> old = m_points.back();</div>
<div class="line"><span class="lineno"> 1497</span> </div>
<div class="line"><span class="lineno"> 1498</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> &amp;point = pts[i];</div>
<div class="line"><span class="lineno"> 1499</span>      <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> mid((old + point) * 0.5, (point.thick + old.thick) * 0.5);</div>
<div class="line"><span class="lineno"> 1500</span>      m_points.push_back(mid);</div>
<div class="line"><span class="lineno"> 1501</span>      m_points.push_back(point);</div>
<div class="line"><span class="lineno"> 1502</span> </div>
<div class="line"><span class="lineno"> 1503</span>      <a class="code hl_class" href="class_t_rect_t.html">TRect</a> bbox;</div>
<div class="line"><span class="lineno"> 1504</span>      <span class="keywordtype">int</span> m = (int)m_points.size();</div>
<div class="line"><span class="lineno"> 1505</span>      std::vector&lt;TThickPoint&gt; points;</div>
<div class="line"><span class="lineno"> 1506</span>      <span class="keywordflow">if</span> (m == 3) {</div>
<div class="line"><span class="lineno"> 1507</span>        <span class="comment">// ho appena cominciato. devo disegnare un segmento</span></div>
<div class="line"><span class="lineno"> 1508</span>        <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> pa = m_points.front();</div>
<div class="line"><span class="lineno"> 1509</span>        points.push_back(pa);</div>
<div class="line"><span class="lineno"> 1510</span>        points.push_back(mid);</div>
<div class="line"><span class="lineno"> 1511</span>        bbox = m_bluredBrush-&gt;getBoundFromPoints(points);</div>
<div class="line"><span class="lineno"> 1512</span>        updateWorkAndBackupRasters(bbox + m_lastRect);</div>
<div class="line"><span class="lineno"> 1513</span>        m_tileSaver-&gt;save(bbox);</div>
<div class="line"><span class="lineno"> 1514</span>        m_bluredBrush-&gt;addArc(pa, (mid + pa) * 0.5, mid, 1, 1);</div>
<div class="line"><span class="lineno"> 1515</span>        m_lastRect += bbox;</div>
<div class="line"><span class="lineno"> 1516</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1517</span>        points.push_back(m_points[m - 4]);</div>
<div class="line"><span class="lineno"> 1518</span>        points.push_back(old);</div>
<div class="line"><span class="lineno"> 1519</span>        points.push_back(mid);</div>
<div class="line"><span class="lineno"> 1520</span>        bbox = m_bluredBrush-&gt;getBoundFromPoints(points);</div>
<div class="line"><span class="lineno"> 1521</span>        updateWorkAndBackupRasters(bbox + m_lastRect);</div>
<div class="line"><span class="lineno"> 1522</span>        m_tileSaver-&gt;save(bbox);</div>
<div class="line"><span class="lineno"> 1523</span>        m_bluredBrush-&gt;addArc(m_points[m - 4], old, mid, 1, 1);</div>
<div class="line"><span class="lineno"> 1524</span>        m_lastRect += bbox;</div>
<div class="line"><span class="lineno"> 1525</span>      }</div>
<div class="line"><span class="lineno"> 1526</span>      invalidateRect += ToolUtils::getBounds(points, maxThickness) - rasCenter;</div>
<div class="line"><span class="lineno"> 1527</span> </div>
<div class="line"><span class="lineno"> 1528</span>      m_bluredBrush-&gt;updateDrawing(ti-&gt;getRaster(), m_backupRas, bbox,</div>
<div class="line"><span class="lineno"> 1529</span>                                   m_styleId, m_drawOrder.getIndex(),</div>
<div class="line"><span class="lineno"> 1530</span>                                   m_modifierLockAlpha.getValue());</div>
<div class="line"><span class="lineno"> 1531</span>      m_strokeRect += bbox;</div>
<div class="line"><span class="lineno"> 1532</span>    }</div>
<div class="line"><span class="lineno"> 1533</span>  }</div>
<div class="line"><span class="lineno"> 1534</span> </div>
<div class="line"><span class="lineno"> 1535</span>  <span class="comment">// clear &amp; draw brush tip when drawing smooth stroke</span></div>
<div class="line"><span class="lineno"> 1536</span>  <span class="keywordflow">if</span> (m_smooth.getValue() != 0) {</div>
<div class="line"><span class="lineno"> 1537</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> halfThick(m_maxThick * 0.5, m_maxThick * 0.5);</div>
<div class="line"><span class="lineno"> 1538</span>    invalidateRect += <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> - halfThick, <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> + halfThick);</div>
<div class="line"><span class="lineno"> 1539</span>    invalidateRect += <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(centeredPos - halfThick, centeredPos + halfThick);</div>
<div class="line"><span class="lineno"> 1540</span>  }</div>
<div class="line"><span class="lineno"> 1541</span> </div>
<div class="line"><span class="lineno"> 1542</span>  <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">m_mousePos</a> = pos;</div>
<div class="line"><span class="lineno"> 1543</span>  <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> = getCenteredCursorPos(pos);</div>
<div class="line"><span class="lineno"> 1544</span> </div>
<div class="line"><span class="lineno"> 1545</span>  <a class="code hl_function" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a>(invalidateRect.enlarge(2));</div>
<div class="line"><span class="lineno"> 1546</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa55fcf1ddeab00722fd54ec64e80565d" name="aa55fcf1ddeab00722fd54ec64e80565d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55fcf1ddeab00722fd54ec64e80565d">&#9670;&nbsp;</a></span>leftButtonUp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::leftButtonUp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_tool.html">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1551</span>                                                              {</div>
<div class="line"><span class="lineno"> 1552</span>  <span class="keywordtype">bool</span> isValid = m_enabled &amp;&amp; m_active;</div>
<div class="line"><span class="lineno"> 1553</span>  m_enabled    = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1554</span>  m_active     = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1555</span>  <span class="keywordflow">if</span> (!isValid) {</div>
<div class="line"><span class="lineno"> 1556</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1557</span>  }</div>
<div class="line"><span class="lineno"> 1558</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> centeredPos = getCenteredCursorPos(pos);</div>
<div class="line"><span class="lineno"> 1559</span>  <span class="keywordtype">double</span> pressure = m_pressure.getValue() &amp;&amp; e.isTablet() ? e.<a class="code hl_variable" href="class_t_mouse_event.html#a55b00a089ffff0136d60af0c00b406ef">m_pressure</a> : 0.5;</div>
<div class="line"><span class="lineno"> 1560</span>  <a class="code hl_function" href="class_toonz_raster_brush_tool.html#aed21519542ecf70f2797373293880c47">finishRasterBrush</a>(centeredPos, pressure);</div>
<div class="line"><span class="lineno"> 1561</span>  <span class="keywordtype">int</span> tc = ToonzCheck::instance()-&gt;getChecks();</div>
<div class="line"><span class="lineno"> 1562</span>  <span class="keywordflow">if</span> (tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7fbcfdc87f510c2d2e271d3629db24fe">ToonzCheck::eGap</a> || tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a780c15982eceeb7f1e912a5d55029cef">ToonzCheck::eAutoclose</a>) <a class="code hl_function" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a>();</div>
<div class="line"><span class="lineno"> 1563</span>}</div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876a780c15982eceeb7f1e912a5d55029cef"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a780c15982eceeb7f1e912a5d55029cef">ToonzCheck::eAutoclose</a></div><div class="ttdeci">@ eAutoclose</div><div class="ttdoc">Autoclose check.</div><div class="ttdef"><b>Definition:</b> stage2.h:48</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876a7fbcfdc87f510c2d2e271d3629db24fe"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7fbcfdc87f510c2d2e271d3629db24fe">ToonzCheck::eGap</a></div><div class="ttdeci">@ eGap</div><div class="ttdoc">Gaps check.</div><div class="ttdef"><b>Definition:</b> stage2.h:47</div></div>
<div class="ttc" id="aclass_toonz_raster_brush_tool_html_aed21519542ecf70f2797373293880c47"><div class="ttname"><a href="class_toonz_raster_brush_tool.html#aed21519542ecf70f2797373293880c47">ToonzRasterBrushTool::finishRasterBrush</a></div><div class="ttdeci">void finishRasterBrush(const TPointD &amp;pos, double pressureVal)</div><div class="ttdef"><b>Definition:</b> toonzrasterbrushtool.cpp:1569</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e6b3a244bcd47485f0b9e221618e4ba" name="a8e6b3a244bcd47485f0b9e221618e4ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e6b3a244bcd47485f0b9e221618e4ba">&#9670;&nbsp;</a></span>loadLastBrush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::loadLastBrush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2143</span>                                         {</div>
<div class="line"><span class="lineno"> 2144</span>  m_rasThickness.setValue(</div>
<div class="line"><span class="lineno"> 2145</span>      TDoublePairProperty::Value(RasterBrushMinSize, RasterBrushMaxSize));</div>
<div class="line"><span class="lineno"> 2146</span>  m_drawOrder.setIndex(BrushDrawOrder);</div>
<div class="line"><span class="lineno"> 2147</span>  m_pencil.setValue(RasterBrushPencilMode ? 1 : 0);</div>
<div class="line"><span class="lineno"> 2148</span>  m_hardness.setValue(RasterBrushHardness);</div>
<div class="line"><span class="lineno"> 2149</span>  m_pressure.setValue(BrushPressureSensitivity ? 1 : 0);</div>
<div class="line"><span class="lineno"> 2150</span>  m_smooth.setValue(BrushSmooth);</div>
<div class="line"><span class="lineno"> 2151</span>  m_modifierSize.setValue(RasterBrushModifierSize);</div>
<div class="line"><span class="lineno"> 2152</span>  m_modifierLockAlpha.setValue(BrushLockAlpha ? 1 : 0);</div>
<div class="line"><span class="lineno"> 2153</span> </div>
<div class="line"><span class="lineno"> 2154</span>  <span class="comment">// Recalculate based on prior values</span></div>
<div class="line"><span class="lineno"> 2155</span>  m_minThick = m_rasThickness.getValue().first;</div>
<div class="line"><span class="lineno"> 2156</span>  m_maxThick = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 2157</span> </div>
<div class="line"><span class="lineno"> 2158</span>  setWorkAndBackupImages();</div>
<div class="line"><span class="lineno"> 2159</span> </div>
<div class="line"><span class="lineno"> 2160</span>  m_brushPad = getBrushPad(m_rasThickness.getValue().second,</div>
<div class="line"><span class="lineno"> 2161</span>                           m_hardness.getValue() * 0.01);</div>
<div class="line"><span class="lineno"> 2162</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e2c376cf3531a644b2735679ae29d88" name="a6e2c376cf3531a644b2735679ae29d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e2c376cf3531a644b2735679ae29d88">&#9670;&nbsp;</a></span>loadPreset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::loadPreset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2067</span>                                      {</div>
<div class="line"><span class="lineno"> 2068</span>  <span class="keyword">const</span> std::set&lt;BrushData&gt; &amp;presets = <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aa8691d0d29ea4e51228d89e9073ba1ce">m_presetsManager</a>.presets();</div>
<div class="line"><span class="lineno"> 2069</span>  std::set&lt;BrushData&gt;::const_iterator it;</div>
<div class="line"><span class="lineno"> 2070</span> </div>
<div class="line"><span class="lineno"> 2071</span>  it = presets.find(<a class="code hl_struct" href="struct_brush_data.html">BrushData</a>(m_preset.getValue()));</div>
<div class="line"><span class="lineno"> 2072</span>  <span class="keywordflow">if</span> (it == presets.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2073</span> </div>
<div class="line"><span class="lineno"> 2074</span>  <span class="keyword">const</span> <a class="code hl_struct" href="struct_brush_data.html">BrushData</a> &amp;preset = *it;</div>
<div class="line"><span class="lineno"> 2075</span> </div>
<div class="line"><span class="lineno"> 2076</span>  <span class="keywordflow">try</span>  <span class="comment">// Don&#39;t bother with RangeErrors</span></div>
<div class="line"><span class="lineno"> 2077</span>  {</div>
<div class="line"><span class="lineno"> 2078</span>    m_rasThickness.setValue(</div>
<div class="line"><span class="lineno"> 2079</span>        TDoublePairProperty::Value(std::max(preset.m_min, 1.0), preset.m_max));</div>
<div class="line"><span class="lineno"> 2080</span>    m_hardness.setValue(preset.m_hardness, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2081</span>    m_smooth.setValue(preset.m_smooth, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2082</span>    m_drawOrder.setIndex(preset.m_drawOrder);</div>
<div class="line"><span class="lineno"> 2083</span>    m_pencil.setValue(preset.m_pencil);</div>
<div class="line"><span class="lineno"> 2084</span>    m_pressure.setValue(preset.m_pressure);</div>
<div class="line"><span class="lineno"> 2085</span>    m_modifierSize.setValue(preset.m_modifierSize);</div>
<div class="line"><span class="lineno"> 2086</span>    m_modifierLockAlpha.setValue(preset.m_modifierLockAlpha);</div>
<div class="line"><span class="lineno"> 2087</span> </div>
<div class="line"><span class="lineno"> 2088</span>    <span class="comment">// Recalculate based on updated presets</span></div>
<div class="line"><span class="lineno"> 2089</span>    m_minThick = m_rasThickness.getValue().first;</div>
<div class="line"><span class="lineno"> 2090</span>    m_maxThick = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 2091</span> </div>
<div class="line"><span class="lineno"> 2092</span>    setWorkAndBackupImages();</div>
<div class="line"><span class="lineno"> 2093</span> </div>
<div class="line"><span class="lineno"> 2094</span>    m_brushPad = ToolUtils::getBrushPad(preset.m_max, preset.m_hardness * 0.01);</div>
<div class="line"><span class="lineno"> 2095</span>  } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 2096</span>  }</div>
<div class="line"><span class="lineno"> 2097</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a741e2b20416ecb002c21752bc2fee4cf" name="a741e2b20416ecb002c21752bc2fee4cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a741e2b20416ecb002c21752bc2fee4cf">&#9670;&nbsp;</a></span>mouseMove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::mouseMove </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_tool.html">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1785</span>                                                                             {</div>
<div class="line"><span class="lineno"> 1786</span>  qApp-&gt;processEvents(QEventLoop::ExcludeUserInputEvents);</div>
<div class="line"><span class="lineno"> 1787</span> </div>
<div class="line"><span class="lineno"> 1788</span>  <span class="keyword">struct </span>Locals {</div>
<div class="line"><span class="lineno"> 1789</span>    <a class="code hl_class" href="class_toonz_raster_brush_tool.html">ToonzRasterBrushTool</a> *m_this;</div>
<div class="line"><span class="lineno"> 1790</span> </div>
<div class="line"><span class="lineno"> 1791</span>    <span class="keywordtype">void</span> setValue(<a class="code hl_class" href="class_t_double_pair_property.html">TDoublePairProperty</a> &amp;prop,</div>
<div class="line"><span class="lineno"> 1792</span>                  <span class="keyword">const</span> TDoublePairProperty::Value &amp;value) {</div>
<div class="line"><span class="lineno"> 1793</span>      prop.setValue(value);</div>
<div class="line"><span class="lineno"> 1794</span> </div>
<div class="line"><span class="lineno"> 1795</span>      m_this-&gt;<a class="code hl_function" href="class_toonz_raster_brush_tool.html#a155bef55e93ce3bb63adfe0891a55547">onPropertyChanged</a>(prop.getName());</div>
<div class="line"><span class="lineno"> 1796</span>      TTool::getApplication()-&gt;getCurrentTool()-&gt;<a class="code hl_function" href="class_tool_handle.html#a39e34f1a30868bad11a629228b07bd40">notifyToolChanged</a>();</div>
<div class="line"><span class="lineno"> 1797</span>    }</div>
<div class="line"><span class="lineno"> 1798</span> </div>
<div class="line"><span class="lineno"> 1799</span>    <span class="keywordtype">void</span> addMinMax(<a class="code hl_class" href="class_t_double_pair_property.html">TDoublePairProperty</a> &amp;prop, <span class="keywordtype">double</span> add) {</div>
<div class="line"><span class="lineno"> 1800</span>      <span class="keywordflow">if</span> (add == 0.0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1801</span>      <span class="keyword">const</span> TDoublePairProperty::Range &amp;range = prop.getRange();</div>
<div class="line"><span class="lineno"> 1802</span> </div>
<div class="line"><span class="lineno"> 1803</span>      TDoublePairProperty::Value value = prop.getValue();</div>
<div class="line"><span class="lineno"> 1804</span>      value.first  = tcrop(value.first + add, range.first, range.second);</div>
<div class="line"><span class="lineno"> 1805</span>      value.second = tcrop(value.second + add, range.first, range.second);</div>
<div class="line"><span class="lineno"> 1806</span> </div>
<div class="line"><span class="lineno"> 1807</span>      setValue(prop, value);</div>
<div class="line"><span class="lineno"> 1808</span>    }</div>
<div class="line"><span class="lineno"> 1809</span> </div>
<div class="line"><span class="lineno"> 1810</span>    <span class="keywordtype">void</span> addMinMaxSeparate(<a class="code hl_class" href="class_t_double_pair_property.html">TDoublePairProperty</a> &amp;prop, <span class="keywordtype">double</span> min, <span class="keywordtype">double</span> max) {</div>
<div class="line"><span class="lineno"> 1811</span>      <span class="keywordflow">if</span> (min == 0.0 &amp;&amp; max == 0.0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1812</span>      <span class="keyword">const</span> TDoublePairProperty::Range &amp;range = prop.getRange();</div>
<div class="line"><span class="lineno"> 1813</span> </div>
<div class="line"><span class="lineno"> 1814</span>      TDoublePairProperty::Value value = prop.getValue();</div>
<div class="line"><span class="lineno"> 1815</span>      value.first += min;</div>
<div class="line"><span class="lineno"> 1816</span>      value.second += max;</div>
<div class="line"><span class="lineno"> 1817</span>      <span class="keywordflow">if</span> (value.first &gt; value.second) value.first = value.second;</div>
<div class="line"><span class="lineno"> 1818</span>      value.first  = tcrop(value.first, range.first, range.second);</div>
<div class="line"><span class="lineno"> 1819</span>      value.second = tcrop(value.second, range.first, range.second);</div>
<div class="line"><span class="lineno"> 1820</span> </div>
<div class="line"><span class="lineno"> 1821</span>      setValue(prop, value);</div>
<div class="line"><span class="lineno"> 1822</span>    }</div>
<div class="line"><span class="lineno"> 1823</span> </div>
<div class="line"><span class="lineno"> 1824</span>  } locals = {<span class="keyword">this</span>};</div>
<div class="line"><span class="lineno"> 1825</span> </div>
<div class="line"><span class="lineno"> 1826</span>  <span class="comment">// if (e.isAltPressed() &amp;&amp; !e.isCtrlPressed()) {</span></div>
<div class="line"><span class="lineno"> 1827</span>  <span class="comment">// const TPointD &amp;diff = pos - m_mousePos;</span></div>
<div class="line"><span class="lineno"> 1828</span>  <span class="comment">// double add = (fabs(diff.x) &gt; fabs(diff.y)) ? diff.x : diff.y;</span></div>
<div class="line"><span class="lineno"> 1829</span> </div>
<div class="line"><span class="lineno"> 1830</span>  <span class="comment">// locals.addMinMax(</span></div>
<div class="line"><span class="lineno"> 1831</span>  <span class="comment">//  TToonzImageP(getImage(false, 1)) ? m_rasThickness : m_thickness, add);</span></div>
<div class="line"><span class="lineno"> 1832</span>  <span class="comment">//} else</span></div>
<div class="line"><span class="lineno"> 1833</span> </div>
<div class="line"><span class="lineno"> 1834</span>  <span class="keywordtype">double</span> thickness =</div>
<div class="line"><span class="lineno"> 1835</span>      (m_isMyPaintStyleSelected) ? (<span class="keywordtype">double</span>)(m_maxCursorThick + 1) : m_maxThick;</div>
<div class="line"><span class="lineno"> 1836</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> halfThick(thickness * 0.5, thickness * 0.5);</div>
<div class="line"><span class="lineno"> 1837</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> invalidateRect(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> - halfThick, <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> + halfThick);</div>
<div class="line"><span class="lineno"> 1838</span> </div>
<div class="line"><span class="lineno"> 1839</span>  <span class="keywordflow">if</span> (e.isCtrlPressed() &amp;&amp; e.isAltPressed() &amp;&amp; !e.isShiftPressed() &amp;&amp;</div>
<div class="line"><span class="lineno"> 1840</span>      Preferences::instance()-&gt;useCtrlAltToResizeBrushEnabled()) {</div>
<div class="line"><span class="lineno"> 1841</span>    <span class="comment">// Resize the brush if CTRL+ALT is pressed and the preference is enabled.</span></div>
<div class="line"><span class="lineno"> 1842</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_point_t.html">TPointD</a> &amp;diff = pos - <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">m_mousePos</a>;</div>
<div class="line"><span class="lineno"> 1843</span>    <span class="keywordtype">double</span> max          = diff.x / 2;</div>
<div class="line"><span class="lineno"> 1844</span>    <span class="keywordtype">double</span> min          = diff.y / 2;</div>
<div class="line"><span class="lineno"> 1845</span> </div>
<div class="line"><span class="lineno"> 1846</span>    locals.addMinMaxSeparate(m_rasThickness, min, max);</div>
<div class="line"><span class="lineno"> 1847</span> </div>
<div class="line"><span class="lineno"> 1848</span>    <span class="keywordtype">double</span> radius = m_rasThickness.getValue().second * 0.5;</div>
<div class="line"><span class="lineno"> 1849</span>    invalidateRect += <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> - <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(radius, radius),</div>
<div class="line"><span class="lineno"> 1850</span>                             <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> + <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(radius, radius));</div>
<div class="line"><span class="lineno"> 1851</span> </div>
<div class="line"><span class="lineno"> 1852</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1853</span>    <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">m_mousePos</a> = pos;</div>
<div class="line"><span class="lineno"> 1854</span>    <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aec63b4a229925d2fe0c853e040c9efe2">m_brushPos</a> = getCenteredCursorPos(pos);</div>
<div class="line"><span class="lineno"> 1855</span> </div>
<div class="line"><span class="lineno"> 1856</span>    invalidateRect += <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(pos - halfThick, pos + halfThick);</div>
<div class="line"><span class="lineno"> 1857</span>  }</div>
<div class="line"><span class="lineno"> 1858</span> </div>
<div class="line"><span class="lineno"> 1859</span>  <a class="code hl_function" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a>(invalidateRect.enlarge(2));</div>
<div class="line"><span class="lineno"> 1860</span> </div>
<div class="line"><span class="lineno"> 1861</span>  <span class="keywordflow">if</span> (m_minThick == 0 &amp;&amp; m_maxThick == 0) {</div>
<div class="line"><span class="lineno"> 1862</span>    m_minThick = m_rasThickness.getValue().first;</div>
<div class="line"><span class="lineno"> 1863</span>    m_maxThick = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 1864</span>  }</div>
<div class="line"><span class="lineno"> 1865</span>}</div>
<div class="ttc" id="aclass_t_double_pair_property_html"><div class="ttname"><a href="class_t_double_pair_property.html">TDoublePairProperty</a></div><div class="ttdef"><b>Definition:</b> tproperty.h:159</div></div>
<div class="ttc" id="aclass_tool_handle_html_a39e34f1a30868bad11a629228b07bd40"><div class="ttname"><a href="class_tool_handle.html#a39e34f1a30868bad11a629228b07bd40">ToolHandle::notifyToolChanged</a></div><div class="ttdeci">void notifyToolChanged()</div><div class="ttdef"><b>Definition:</b> toolhandle.h:65</div></div>
<div class="ttc" id="aclass_toonz_raster_brush_tool_html"><div class="ttname"><a href="class_toonz_raster_brush_tool.html">ToonzRasterBrushTool</a></div><div class="ttdef"><b>Definition:</b> toonzrasterbrushtool.h:120</div></div>
<div class="ttc" id="aclass_toonz_raster_brush_tool_html_a155bef55e93ce3bb63adfe0891a55547"><div class="ttname"><a href="class_toonz_raster_brush_tool.html#a155bef55e93ce3bb63adfe0891a55547">ToonzRasterBrushTool::onPropertyChanged</a></div><div class="ttdeci">bool onPropertyChanged(std::string propertyName) override</div><div class="ttdef"><b>Definition:</b> toonzrasterbrushtool.cpp:1991</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1fae3bb18e399eeef0d6dcbfa3e26fd1" name="a1fae3bb18e399eeef0d6dcbfa3e26fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fae3bb18e399eeef0d6dcbfa3e26fd1">&#9670;&nbsp;</a></span>onActivate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::onActivate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback invoked whenever the tool activates. </p>

<p>Reimplemented from <a class="el" href="class_t_tool.html#ac286a2681633b4db6106596b4f54e53b">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1165</span>                                      {</div>
<div class="line"><span class="lineno"> 1166</span>  <span class="keywordflow">if</span> (!m_notifier) m_notifier = <span class="keyword">new</span> <a class="code hl_class" href="class_toonz_raster_brush_tool_notifier.html">ToonzRasterBrushToolNotifier</a>(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1167</span> </div>
<div class="line"><span class="lineno"> 1168</span>  <span class="keywordflow">if</span> (m_firstTime) {</div>
<div class="line"><span class="lineno"> 1169</span>    m_firstTime = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1170</span> </div>
<div class="line"><span class="lineno"> 1171</span>    std::wstring wpreset =</div>
<div class="line"><span class="lineno"> 1172</span>        QString::fromStdString(RasterBrushPreset.getValue()).toStdWString();</div>
<div class="line"><span class="lineno"> 1173</span>    <span class="keywordflow">if</span> (wpreset != CUSTOM_WSTR) {</div>
<div class="line"><span class="lineno"> 1174</span>      initPresets();</div>
<div class="line"><span class="lineno"> 1175</span>      <span class="keywordflow">if</span> (!m_preset.isValue(wpreset)) wpreset = CUSTOM_WSTR;</div>
<div class="line"><span class="lineno"> 1176</span>      m_preset.setValue(wpreset);</div>
<div class="line"><span class="lineno"> 1177</span>      RasterBrushPreset = m_preset.getValueAsString();</div>
<div class="line"><span class="lineno"> 1178</span>      loadPreset();</div>
<div class="line"><span class="lineno"> 1179</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1180</span>      loadLastBrush();</div>
<div class="line"><span class="lineno"> 1181</span>  }</div>
<div class="line"><span class="lineno"> 1182</span>  m_brushPad = ToolUtils::getBrushPad(m_rasThickness.getValue().second,</div>
<div class="line"><span class="lineno"> 1183</span>                                      m_hardness.getValue() * 0.01);</div>
<div class="line"><span class="lineno"> 1184</span>  setWorkAndBackupImages();</div>
<div class="line"><span class="lineno"> 1185</span> </div>
<div class="line"><span class="lineno"> 1186</span>  m_brushTimer.start();</div>
<div class="line"><span class="lineno"> 1187</span>  <span class="comment">// TODO:app-&gt;editImageOrSpline();</span></div>
<div class="line"><span class="lineno"> 1188</span>}</div>
<div class="ttc" id="aclass_toonz_raster_brush_tool_notifier_html"><div class="ttname"><a href="class_toonz_raster_brush_tool_notifier.html">ToonzRasterBrushToolNotifier</a></div><div class="ttdef"><b>Definition:</b> toonzrasterbrushtool.h:243</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae335f47def026c927f779e1dcbba366d" name="ae335f47def026c927f779e1dcbba366d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae335f47def026c927f779e1dcbba366d">&#9670;&nbsp;</a></span>onColorStyleChanged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::onColorStyleChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2173</span>                                               {</div>
<div class="line"><span class="lineno"> 2174</span>  <span class="comment">// in case the style switched while drawing</span></div>
<div class="line"><span class="lineno"> 2175</span>  <span class="keywordflow">if</span> (m_tileSaver) {</div>
<div class="line"><span class="lineno"> 2176</span>    <span class="keywordtype">bool</span> isValid = m_enabled &amp;&amp; m_active;</div>
<div class="line"><span class="lineno"> 2177</span>    m_enabled    = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2178</span>    <span class="keywordflow">if</span> (isValid) {</div>
<div class="line"><span class="lineno"> 2179</span>      <a class="code hl_function" href="class_toonz_raster_brush_tool.html#aed21519542ecf70f2797373293880c47">finishRasterBrush</a>(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">m_mousePos</a>, 1);</div>
<div class="line"><span class="lineno"> 2180</span>    }</div>
<div class="line"><span class="lineno"> 2181</span>  }</div>
<div class="line"><span class="lineno"> 2182</span> </div>
<div class="line"><span class="lineno"> 2183</span>  <a class="code hl_class" href="class_t_application.html">TTool::Application</a> *app = getApplication();</div>
<div class="line"><span class="lineno"> 2184</span>  <a class="code hl_class" href="class_t_my_paint_brush_style.html">TMyPaintBrushStyle</a> *mpbs =</div>
<div class="line"><span class="lineno"> 2185</span>      <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_t_my_paint_brush_style.html">TMyPaintBrushStyle</a> *<span class="keyword">&gt;</span>(app-&gt;getCurrentLevelStyle());</div>
<div class="line"><span class="lineno"> 2186</span>  m_isMyPaintStyleSelected = (mpbs) ? <span class="keyword">true</span> : <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2187</span>  setWorkAndBackupImages();</div>
<div class="line"><span class="lineno"> 2188</span>  getApplication()-&gt;getCurrentTool()-&gt;<a class="code hl_function" href="class_tool_handle.html#a39e34f1a30868bad11a629228b07bd40">notifyToolChanged</a>();</div>
<div class="line"><span class="lineno"> 2189</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aec8e1d34a81172f0542ebebd422ba493" name="aec8e1d34a81172f0542ebebd422ba493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec8e1d34a81172f0542ebebd422ba493">&#9670;&nbsp;</a></span>onDeactivate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::onDeactivate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for tool deactivation, includes tool switch. </p>

<p>Reimplemented from <a class="el" href="class_t_tool.html#a00fee58728c1e12fb50846f47d7e9f5e">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1192</span>                                        {</div>
<div class="line"><span class="lineno"> 1193</span>  <span class="comment">/*---</span></div>
<div class="line"><span class="lineno"> 1194</span><span class="comment">   * onDeactivateMouseRelease</span></div>
<div class="line"><span class="lineno"> 1195</span><span class="comment">   * ---*/</span></div>
<div class="line"><span class="lineno"> 1196</span>  <span class="keywordflow">if</span> (m_tileSaver) {</div>
<div class="line"><span class="lineno"> 1197</span>    <span class="keywordtype">bool</span> isValid = m_enabled &amp;&amp; m_active;</div>
<div class="line"><span class="lineno"> 1198</span>    m_enabled    = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1199</span>    m_active     = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1200</span>    <span class="keywordflow">if</span> (isValid) {</div>
<div class="line"><span class="lineno"> 1201</span>      <a class="code hl_function" href="class_toonz_raster_brush_tool.html#aed21519542ecf70f2797373293880c47">finishRasterBrush</a>(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">m_mousePos</a>,</div>
<div class="line"><span class="lineno"> 1202</span>                        1); <span class="comment">/*-- 1 --*/</span></div>
<div class="line"><span class="lineno"> 1203</span>    }</div>
<div class="line"><span class="lineno"> 1204</span>  }</div>
<div class="line"><span class="lineno"> 1205</span>  m_workRas   = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>();</div>
<div class="line"><span class="lineno"> 1206</span>  m_backupRas = <a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a>();</div>
<div class="line"><span class="lineno"> 1207</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01569">finishRasterBrush()</a>, and <a class="el" href="#l00196">m_mousePos</a>.</p>

</div>
</div>
<a id="a090aa351be51d4f5ccb2df5c9e4cea1c" name="a090aa351be51d4f5ccb2df5c9e4cea1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a090aa351be51d4f5ccb2df5c9e4cea1c">&#9670;&nbsp;</a></span>onEnter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::onEnter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for the mouse entering the viewer area. </p>

<p>Reimplemented from <a class="el" href="class_t_tool.html#a3e775cfcd05aa3c35048b11fa40ab3e4">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1916</span>                                   {</div>
<div class="line"><span class="lineno"> 1917</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = <a class="code hl_function" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">getImage</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1918</span> </div>
<div class="line"><span class="lineno"> 1919</span>  m_minThick = m_rasThickness.getValue().first;</div>
<div class="line"><span class="lineno"> 1920</span>  m_maxThick = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 1921</span>  updateCurrentStyle();</div>
<div class="line"><span class="lineno"> 1922</span> </div>
<div class="line"><span class="lineno"> 1923</span>  <a class="code hl_class" href="class_application.html">Application</a> *app = getApplication();</div>
<div class="line"><span class="lineno"> 1924</span> </div>
<div class="line"><span class="lineno"> 1925</span>  m_styleId       = app-&gt;getCurrentLevelStyleIndex();</div>
<div class="line"><span class="lineno"> 1926</span>  <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *cs = app-&gt;getCurrentLevelStyle();</div>
<div class="line"><span class="lineno"> 1927</span>  <span class="keywordflow">if</span> (cs) {</div>
<div class="line"><span class="lineno"> 1928</span>    <a class="code hl_class" href="class_t_raster_style_fx.html">TRasterStyleFx</a> *rfx = cs-&gt;<a class="code hl_function" href="class_t_color_style.html#ab67798fb7eacee1b4a90661cfa0e7ba6">getRasterStyleFx</a>();</div>
<div class="line"><span class="lineno"> 1929</span>    m_active            = cs-&gt;<a class="code hl_function" href="class_t_color_style.html#ad30252c2cfc4e9d5d09b954d74b97b00">isStrokeStyle</a>() || (rfx &amp;&amp; rfx-&gt;isInkStyle());</div>
<div class="line"><span class="lineno"> 1930</span>    m_currentColor      = cs-&gt;<a class="code hl_function" href="class_t_color_style.html#af5907c6146db5067fcf000edeb8e403b">getAverageColor</a>();</div>
<div class="line"><span class="lineno"> 1931</span>    m_currentColor.m    = 255;</div>
<div class="line"><span class="lineno"> 1932</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1933</span>    m_currentColor = TPixel32::Black;</div>
<div class="line"><span class="lineno"> 1934</span>  }</div>
<div class="line"><span class="lineno"> 1935</span>  m_active = img;</div>
<div class="line"><span class="lineno"> 1936</span>}</div>
<div class="ttc" id="aclass_application_html"><div class="ttname"><a href="class_application.html">Application</a></div><div class="ttdef"><b>Definition:</b> application.h:20</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00270">TColorStyle::getAverageColor()</a>, <a class="el" href="#l00276">TTool::getImage()</a>, <a class="el" href="#l00175">TColorStyle::getRasterStyleFx()</a>, and <a class="el" href="class_t_color_style.html#ad30252c2cfc4e9d5d09b954d74b97b00">TColorStyle::isStrokeStyle()</a>.</p>

</div>
</div>
<a id="a07e0fb58ddac113766ac4154a6eedc83" name="a07e0fb58ddac113766ac4154a6eedc83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07e0fb58ddac113766ac4154a6eedc83">&#9670;&nbsp;</a></span>onImageChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::onImageChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies changes in the image in use. </p>

<p>Reimplemented from <a class="el" href="class_t_tool.html#aaf1e021290e74c1b085e4b095668e1ed">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1957</span>                                          {</div>
<div class="line"><span class="lineno"> 1958</span>  <span class="keywordflow">if</span> (!isEnabled()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1959</span> </div>
<div class="line"><span class="lineno"> 1960</span>  setWorkAndBackupImages();</div>
<div class="line"><span class="lineno"> 1961</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab375f322b0297680f3f14ee3d1f7a80e" name="ab375f322b0297680f3f14ee3d1f7a80e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab375f322b0297680f3f14ee3d1f7a80e">&#9670;&nbsp;</a></span>onLeave()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::onLeave </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for the mouse leaving the viewer area. </p>

<p>Reimplemented from <a class="el" href="class_t_tool.html#af7fb05265a94131da081da654e271a22">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1940</span>                                   {</div>
<div class="line"><span class="lineno"> 1941</span>  m_minThick       = 0;</div>
<div class="line"><span class="lineno"> 1942</span>  m_maxThick       = 0;</div>
<div class="line"><span class="lineno"> 1943</span>  m_minCursorThick = 0;</div>
<div class="line"><span class="lineno"> 1944</span>  m_maxCursorThick = 0;</div>
<div class="line"><span class="lineno"> 1945</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a155bef55e93ce3bb63adfe0891a55547" name="a155bef55e93ce3bb63adfe0891a55547"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a155bef55e93ce3bb63adfe0891a55547">&#9670;&nbsp;</a></span>onPropertyChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::onPropertyChanged </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>propertyName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment"> Does the tasks associated to changes in \p propertyName and returns \p
</pre><p> true; Does the tasks associated to changes in <code>propertyName</code> and returns <code>true</code>. </p>

<p>Reimplemented from <a class="el" href="class_t_tool.html#a06694e0586f807c34b18e16341aa9ee2">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1991</span>                                                                   {</div>
<div class="line"><span class="lineno"> 1992</span>  <span class="keywordflow">if</span> (m_propertyUpdating) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1993</span> </div>
<div class="line"><span class="lineno"> 1994</span>  <span class="keywordflow">if</span> (propertyName == m_preset.getName()) {</div>
<div class="line"><span class="lineno"> 1995</span>    <span class="keywordflow">if</span> (m_preset.getValue() != CUSTOM_WSTR)</div>
<div class="line"><span class="lineno"> 1996</span>      loadPreset();</div>
<div class="line"><span class="lineno"> 1997</span>    <span class="keywordflow">else</span>  <span class="comment">// Chose &lt;custom&gt;, go back to last saved brush settings</span></div>
<div class="line"><span class="lineno"> 1998</span>      loadLastBrush();</div>
<div class="line"><span class="lineno"> 1999</span> </div>
<div class="line"><span class="lineno"> 2000</span>    RasterBrushPreset  = m_preset.getValueAsString();</div>
<div class="line"><span class="lineno"> 2001</span>    m_propertyUpdating = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2002</span>    getApplication()-&gt;getCurrentTool()-&gt;<a class="code hl_function" href="class_tool_handle.html#a39e34f1a30868bad11a629228b07bd40">notifyToolChanged</a>();</div>
<div class="line"><span class="lineno"> 2003</span>    m_propertyUpdating = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2004</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2005</span>  }</div>
<div class="line"><span class="lineno"> 2006</span> </div>
<div class="line"><span class="lineno"> 2007</span>  RasterBrushMinSize       = m_rasThickness.getValue().first;</div>
<div class="line"><span class="lineno"> 2008</span>  RasterBrushMaxSize       = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 2009</span>  BrushSmooth              = m_smooth.getValue();</div>
<div class="line"><span class="lineno"> 2010</span>  BrushDrawOrder           = m_drawOrder.getIndex();</div>
<div class="line"><span class="lineno"> 2011</span>  RasterBrushPencilMode    = m_pencil.getValue();</div>
<div class="line"><span class="lineno"> 2012</span>  BrushPressureSensitivity = m_pressure.getValue();</div>
<div class="line"><span class="lineno"> 2013</span>  RasterBrushHardness      = m_hardness.getValue();</div>
<div class="line"><span class="lineno"> 2014</span>  RasterBrushModifierSize  = m_modifierSize.getValue();</div>
<div class="line"><span class="lineno"> 2015</span>  BrushLockAlpha           = m_modifierLockAlpha.getValue();</div>
<div class="line"><span class="lineno"> 2016</span> </div>
<div class="line"><span class="lineno"> 2017</span>  <span class="comment">// Recalculate/reset based on changed settings</span></div>
<div class="line"><span class="lineno"> 2018</span>  <span class="keywordflow">if</span> (propertyName == m_rasThickness.getName()) {</div>
<div class="line"><span class="lineno"> 2019</span>    m_minThick = m_rasThickness.getValue().first;</div>
<div class="line"><span class="lineno"> 2020</span>    m_maxThick = m_rasThickness.getValue().second;</div>
<div class="line"><span class="lineno"> 2021</span>  }</div>
<div class="line"><span class="lineno"> 2022</span> </div>
<div class="line"><span class="lineno"> 2023</span>  <span class="keywordflow">if</span> (propertyName == m_hardness.getName()) setWorkAndBackupImages();</div>
<div class="line"><span class="lineno"> 2024</span> </div>
<div class="line"><span class="lineno"> 2025</span>  <span class="keywordflow">if</span> (propertyName == m_hardness.getName() ||</div>
<div class="line"><span class="lineno"> 2026</span>      propertyName == m_rasThickness.getName()) {</div>
<div class="line"><span class="lineno"> 2027</span>    m_brushPad = getBrushPad(m_rasThickness.getValue().second,</div>
<div class="line"><span class="lineno"> 2028</span>                             m_hardness.getValue() * 0.01);</div>
<div class="line"><span class="lineno"> 2029</span>    <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> rect(<a class="code hl_variable" href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">m_mousePos</a> - <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(m_maxThick + 2, m_maxThick + 2),</div>
<div class="line"><span class="lineno"> 2030</span>                <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#a139c5dcda1042955f9e7fc0356ad76b0">m_mousePos</a> + <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(m_maxThick + 2, m_maxThick + 2));</div>
<div class="line"><span class="lineno"> 2031</span>    <a class="code hl_function" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a>(rect);</div>
<div class="line"><span class="lineno"> 2032</span>  }</div>
<div class="line"><span class="lineno"> 2033</span> </div>
<div class="line"><span class="lineno"> 2034</span>  <span class="keywordflow">if</span> (m_preset.getValue() != CUSTOM_WSTR) {</div>
<div class="line"><span class="lineno"> 2035</span>    m_preset.setValue(CUSTOM_WSTR);</div>
<div class="line"><span class="lineno"> 2036</span>    RasterBrushPreset  = m_preset.getValueAsString();</div>
<div class="line"><span class="lineno"> 2037</span>    m_propertyUpdating = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2038</span>    getApplication()-&gt;getCurrentTool()-&gt;<a class="code hl_function" href="class_tool_handle.html#a39e34f1a30868bad11a629228b07bd40">notifyToolChanged</a>();</div>
<div class="line"><span class="lineno"> 2039</span>    m_propertyUpdating = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2040</span>  }</div>
<div class="line"><span class="lineno"> 2041</span> </div>
<div class="line"><span class="lineno"> 2042</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2043</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00540">TTool::invalidate()</a>, <a class="el" href="#l00196">m_mousePos</a>, and <a class="el" href="#l00065">ToolHandle::notifyToolChanged()</a>.</p>

</div>
</div>
<a id="a4b6a127ee38e477ea8c04917463bc9f5" name="a4b6a127ee38e477ea8c04917463bc9f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b6a127ee38e477ea8c04917463bc9f5">&#9670;&nbsp;</a></span>preLeftButtonDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::preLeftButtonDown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This method is called before leftButtonDown() and can be used e.g. to create the image if needed. return true if the method execution can have changed the current tool </p>

<p>Reimplemented from <a class="el" href="class_t_tool.html#a11d2c27110689caf7fa6f49519808073">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1226</span>                                             {</div>
<div class="line"><span class="lineno"> 1227</span>  <a class="code hl_function" href="class_t_tool.html#a668ac4790094a864ba6e37bd902303f1">touchImage</a>();</div>
<div class="line"><span class="lineno"> 1228</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a>) {</div>
<div class="line"><span class="lineno"> 1229</span>    setWorkAndBackupImages();</div>
<div class="line"><span class="lineno"> 1230</span>    <span class="comment">// When the xsheet frame is selected, whole viewer will be updated from</span></div>
<div class="line"><span class="lineno"> 1231</span>    <span class="comment">// SceneViewer::onXsheetChanged() on adding a new frame.</span></div>
<div class="line"><span class="lineno"> 1232</span>    <span class="comment">// We need to take care of a case when the level frame is selected.</span></div>
<div class="line"><span class="lineno"> 1233</span>    <span class="keywordflow">if</span> (m_application-&gt;getCurrentFrame()-&gt;isEditingLevel()) <a class="code hl_function" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a>();</div>
<div class="line"><span class="lineno"> 1234</span>  }</div>
<div class="line"><span class="lineno"> 1235</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1236</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00540">TTool::invalidate()</a>, <a class="el" href="#l00546">TTool::m_isFrameCreated</a>, and <a class="el" href="#l00294">TTool::touchImage()</a>.</p>

</div>
</div>
<a id="af5d8ff35734a55b72e131644a11ccbd5" name="af5d8ff35734a55b72e131644a11ccbd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5d8ff35734a55b72e131644a11ccbd5">&#9670;&nbsp;</a></span>removePreset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::removePreset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2129</span>                                        {</div>
<div class="line"><span class="lineno"> 2130</span>  std::wstring name(m_preset.getValue());</div>
<div class="line"><span class="lineno"> 2131</span>  <span class="keywordflow">if</span> (name == CUSTOM_WSTR) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2132</span> </div>
<div class="line"><span class="lineno"> 2133</span>  <a class="code hl_variable" href="class_toonz_raster_brush_tool.html#aa8691d0d29ea4e51228d89e9073ba1ce">m_presetsManager</a>.removePreset(name);</div>
<div class="line"><span class="lineno"> 2134</span>  initPresets();</div>
<div class="line"><span class="lineno"> 2135</span> </div>
<div class="line"><span class="lineno"> 2136</span>  <span class="comment">// No parameter change, and set the preset value to custom</span></div>
<div class="line"><span class="lineno"> 2137</span>  m_preset.setValue(CUSTOM_WSTR);</div>
<div class="line"><span class="lineno"> 2138</span>  RasterBrushPreset = m_preset.getValueAsString();</div>
<div class="line"><span class="lineno"> 2139</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9c88f6dea0bd2bbc0029d64bcbf9544" name="aa9c88f6dea0bd2bbc0029d64bcbf9544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c88f6dea0bd2bbc0029d64bcbf9544">&#9670;&nbsp;</a></span>setWorkAndBackupImages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::setWorkAndBackupImages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1965</span>                                                  {</div>
<div class="line"><span class="lineno"> 1966</span>  <a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a> ti = (<a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a>)<a class="code hl_function" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">getImage</a>(<span class="keyword">false</span>, 1);</div>
<div class="line"><span class="lineno"> 1967</span>  <span class="keywordflow">if</span> (!ti) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1968</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> ras   = ti-&gt;getRaster();</div>
<div class="line"><span class="lineno"> 1969</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> dim = ras-&gt;getSize();</div>
<div class="line"><span class="lineno"> 1970</span> </div>
<div class="line"><span class="lineno"> 1971</span>  <span class="keywordtype">double</span> hardness = m_hardness.getValue() * 0.01;</div>
<div class="line"><span class="lineno"> 1972</span>  <span class="keywordflow">if</span> (!m_isMyPaintStyleSelected &amp;&amp; hardness == 1.0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1973</span>      ras-&gt;getPixelSize() == 4) {</div>
<div class="line"><span class="lineno"> 1974</span>    m_workRas   = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>();</div>
<div class="line"><span class="lineno"> 1975</span>    m_backupRas = <a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a>();</div>
<div class="line"><span class="lineno"> 1976</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1977</span>    <span class="keywordflow">if</span> (!m_workRas || m_workRas-&gt;getLx() &gt; dim.lx ||</div>
<div class="line"><span class="lineno"> 1978</span>        m_workRas-&gt;getLy() &gt; dim.ly)</div>
<div class="line"><span class="lineno"> 1979</span>      m_workRas = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>(dim);</div>
<div class="line"><span class="lineno"> 1980</span>    <span class="keywordflow">if</span> (!m_backupRas || m_backupRas-&gt;getLx() &gt; dim.lx ||</div>
<div class="line"><span class="lineno"> 1981</span>        m_backupRas-&gt;getLy() &gt; dim.ly)</div>
<div class="line"><span class="lineno"> 1982</span>      m_backupRas = <a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a>(dim);</div>
<div class="line"><span class="lineno"> 1983</span> </div>
<div class="line"><span class="lineno"> 1984</span>    m_strokeRect.empty();</div>
<div class="line"><span class="lineno"> 1985</span>    m_lastRect.empty();</div>
<div class="line"><span class="lineno"> 1986</span>  }</div>
<div class="line"><span class="lineno"> 1987</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1667fce9531216f9c07bcb2a7bb465c9" name="a1667fce9531216f9c07bcb2a7bb465c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1667fce9531216f9c07bcb2a7bb465c9">&#9670;&nbsp;</a></span>updateTranslation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::updateTranslation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_tool.html">TTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1081</span>                                             {</div>
<div class="line"><span class="lineno"> 1082</span>  m_rasThickness.setQStringName(tr(<span class="stringliteral">&quot;Size&quot;</span>));</div>
<div class="line"><span class="lineno"> 1083</span>  m_hardness.setQStringName(tr(<span class="stringliteral">&quot;Hardness:&quot;</span>));</div>
<div class="line"><span class="lineno"> 1084</span>  m_smooth.setQStringName(tr(<span class="stringliteral">&quot;Smooth:&quot;</span>));</div>
<div class="line"><span class="lineno"> 1085</span>  m_drawOrder.setQStringName(tr(<span class="stringliteral">&quot;Draw Order:&quot;</span>));</div>
<div class="line"><span class="lineno"> 1086</span>  m_drawOrder.setItemUIName(L<span class="stringliteral">&quot;Over All&quot;</span>, tr(<span class="stringliteral">&quot;Over All&quot;</span>));</div>
<div class="line"><span class="lineno"> 1087</span>  m_drawOrder.setItemUIName(L<span class="stringliteral">&quot;Under All&quot;</span>, tr(<span class="stringliteral">&quot;Under All&quot;</span>));</div>
<div class="line"><span class="lineno"> 1088</span>  m_drawOrder.setItemUIName(L<span class="stringliteral">&quot;Palette Order&quot;</span>, tr(<span class="stringliteral">&quot;Palette Order&quot;</span>));</div>
<div class="line"><span class="lineno"> 1089</span>  m_modifierSize.setQStringName(tr(<span class="stringliteral">&quot;Size&quot;</span>));</div>
<div class="line"><span class="lineno"> 1090</span> </div>
<div class="line"><span class="lineno"> 1091</span>  <span class="comment">// m_filled.setQStringName(tr(&quot;Filled&quot;));</span></div>
<div class="line"><span class="lineno"> 1092</span>  m_preset.setQStringName(tr(<span class="stringliteral">&quot;Preset:&quot;</span>));</div>
<div class="line"><span class="lineno"> 1093</span>  m_preset.setItemUIName(CUSTOM_WSTR, tr(<span class="stringliteral">&quot;&lt;custom&gt;&quot;</span>));</div>
<div class="line"><span class="lineno"> 1094</span>  m_pencil.setQStringName(tr(<span class="stringliteral">&quot;Pencil&quot;</span>));</div>
<div class="line"><span class="lineno"> 1095</span>  m_pressure.setQStringName(tr(<span class="stringliteral">&quot;Pressure&quot;</span>));</div>
<div class="line"><span class="lineno"> 1096</span>  m_modifierLockAlpha.setQStringName(tr(<span class="stringliteral">&quot;Lock Alpha&quot;</span>));</div>
<div class="line"><span class="lineno"> 1097</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2aeaf05c203b430610d459d376aaea8" name="aa2aeaf05c203b430610d459d376aaea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2aeaf05c203b430610d459d376aaea8">&#9670;&nbsp;</a></span>updateWorkAndBackupRasters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzRasterBrushTool::updateWorkAndBackupRasters </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;&#160;</td>
          <td class="paramname"><em>rect</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1101</span>                                                                       {</div>
<div class="line"><span class="lineno"> 1102</span>  <a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a> ti = <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>(<a class="code hl_function" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">getImage</a>(<span class="keyword">false</span>, 1));</div>
<div class="line"><span class="lineno"> 1103</span>  <span class="keywordflow">if</span> (!ti) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1104</span> </div>
<div class="line"><span class="lineno"> 1105</span>  <a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a> ras = ti-&gt;getRaster();</div>
<div class="line"><span class="lineno"> 1106</span> </div>
<div class="line"><span class="lineno"> 1107</span>  <span class="keywordflow">if</span> (m_isMyPaintStyleSelected) {</div>
<div class="line"><span class="lineno"> 1108</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> denominator = 8;</div>
<div class="line"><span class="lineno"> 1109</span>    <a class="code hl_class" href="class_t_rect_t.html">TRect</a> enlargedRect    = rect + m_lastRect;</div>
<div class="line"><span class="lineno"> 1110</span>    <span class="keywordtype">int</span> dx                = (enlargedRect.getLx() - 1) / denominator + 1;</div>
<div class="line"><span class="lineno"> 1111</span>    <span class="keywordtype">int</span> dy                = (enlargedRect.getLy() - 1) / denominator + 1;</div>
<div class="line"><span class="lineno"> 1112</span> </div>
<div class="line"><span class="lineno"> 1113</span>    <span class="keywordflow">if</span> (m_lastRect.isEmpty()) {</div>
<div class="line"><span class="lineno"> 1114</span>      enlargedRect.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> -= dx;</div>
<div class="line"><span class="lineno"> 1115</span>      enlargedRect.y0 -= dy;</div>
<div class="line"><span class="lineno"> 1116</span>      enlargedRect.x1 += dx;</div>
<div class="line"><span class="lineno"> 1117</span>      enlargedRect.y1 += dy;</div>
<div class="line"><span class="lineno"> 1118</span> </div>
<div class="line"><span class="lineno"> 1119</span>      <a class="code hl_class" href="class_t_rect_t.html">TRect</a> _rect = enlargedRect * ras-&gt;getBounds();</div>
<div class="line"><span class="lineno"> 1120</span>      <span class="keywordflow">if</span> (_rect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1121</span> </div>
<div class="line"><span class="lineno"> 1122</span>      m_workRas-&gt;extract(_rect)-&gt;copy(ras-&gt;extract(_rect));</div>
<div class="line"><span class="lineno"> 1123</span>      m_backupRas-&gt;extract(_rect)-&gt;copy(ras-&gt;extract(_rect));</div>
<div class="line"><span class="lineno"> 1124</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1125</span>      <span class="keywordflow">if</span> (enlargedRect.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> &lt; m_lastRect.x0) enlargedRect.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> -= dx;</div>
<div class="line"><span class="lineno"> 1126</span>      <span class="keywordflow">if</span> (enlargedRect.y0 &lt; m_lastRect.y0) enlargedRect.y0 -= dy;</div>
<div class="line"><span class="lineno"> 1127</span>      <span class="keywordflow">if</span> (enlargedRect.x1 &gt; m_lastRect.x1) enlargedRect.x1 += dx;</div>
<div class="line"><span class="lineno"> 1128</span>      <span class="keywordflow">if</span> (enlargedRect.y1 &gt; m_lastRect.y1) enlargedRect.y1 += dy;</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>      <a class="code hl_class" href="class_t_rect_t.html">TRect</a> _rect = enlargedRect * ras-&gt;getBounds();</div>
<div class="line"><span class="lineno"> 1131</span>      <span class="keywordflow">if</span> (_rect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1132</span> </div>
<div class="line"><span class="lineno"> 1133</span>      <a class="code hl_class" href="class_t_rect_t.html">TRect</a> _lastRect    = m_lastRect * ras-&gt;getBounds();</div>
<div class="line"><span class="lineno"> 1134</span>      QList&lt;TRect&gt; rects = ToolUtils::splitRect(_rect, _lastRect);</div>
<div class="line"><span class="lineno"> 1135</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rects.size(); i++) {</div>
<div class="line"><span class="lineno"> 1136</span>        m_workRas-&gt;extract(rects[i])-&gt;copy(ras-&gt;extract(rects[i]));</div>
<div class="line"><span class="lineno"> 1137</span>        m_backupRas-&gt;extract(rects[i])-&gt;copy(ras-&gt;extract(rects[i]));</div>
<div class="line"><span class="lineno"> 1138</span>      }</div>
<div class="line"><span class="lineno"> 1139</span>    }</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>    m_lastRect = enlargedRect;</div>
<div class="line"><span class="lineno"> 1142</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1143</span>  }</div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> _rect     = rect * ras-&gt;getBounds();</div>
<div class="line"><span class="lineno"> 1146</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> _lastRect = m_lastRect * ras-&gt;getBounds();</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>  <span class="keywordflow">if</span> (_rect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1149</span> </div>
<div class="line"><span class="lineno"> 1150</span>  <span class="keywordflow">if</span> (m_lastRect.isEmpty()) {</div>
<div class="line"><span class="lineno"> 1151</span>    m_workRas-&gt;extract(_rect)-&gt;clear();</div>
<div class="line"><span class="lineno"> 1152</span>    m_backupRas-&gt;extract(_rect)-&gt;copy(ras-&gt;extract(_rect));</div>
<div class="line"><span class="lineno"> 1153</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1154</span>  }</div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>  QList&lt;TRect&gt; rects = ToolUtils::splitRect(_rect, _lastRect);</div>
<div class="line"><span class="lineno"> 1157</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rects.size(); i++) {</div>
<div class="line"><span class="lineno"> 1158</span>    m_workRas-&gt;extract(rects[i])-&gt;clear();</div>
<div class="line"><span class="lineno"> 1159</span>    m_backupRas-&gt;extract(rects[i])-&gt;copy(ras-&gt;extract(rects[i]));</div>
<div class="line"><span class="lineno"> 1160</span>  }</div>
<div class="line"><span class="lineno"> 1161</span>}</div>
<div class="ttc" id="aclass_t_rect_t_html_ac008cbc625f50d8b3c180c8eb2594cdb"><div class="ttname"><a href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">TRectT::x0</a></div><div class="ttdeci">T x0</div><div class="ttdef"><b>Definition:</b> tgeometry.h:557</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae8cd0bda055abd5bc790984adb835f0e" name="ae8cd0bda055abd5bc790984adb835f0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8cd0bda055abd5bc790984adb835f0e">&#9670;&nbsp;</a></span>m_active</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::m_active</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a99f312abdc90a0f588910ea9bbe36978" name="a99f312abdc90a0f588910ea9bbe36978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f312abdc90a0f588910ea9bbe36978">&#9670;&nbsp;</a></span>m_backupRas</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_raster_p_t.html">TRasterCM32P</a> ToonzRasterBrushTool::m_backupRas</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3129fa8c29878bbc85a0fdf72f7f605b" name="a3129fa8c29878bbc85a0fdf72f7f605b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3129fa8c29878bbc85a0fdf72f7f605b">&#9670;&nbsp;</a></span>m_bluredBrush</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blured_brush.html">BluredBrush</a>* ToonzRasterBrushTool::m_bluredBrush</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ef007a7a8ef18ecdab34b36e928e24f" name="a4ef007a7a8ef18ecdab34b36e928e24f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ef007a7a8ef18ecdab34b36e928e24f">&#9670;&nbsp;</a></span>m_brushPad</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QRadialGradient ToonzRasterBrushTool::m_brushPad</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aec63b4a229925d2fe0c853e040c9efe2" name="aec63b4a229925d2fe0c853e040c9efe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec63b4a229925d2fe0c853e040c9efe2">&#9670;&nbsp;</a></span>m_brushPos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPointD</a> ToonzRasterBrushTool::m_brushPos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>World position the brush will be painted at. </p>

<p class="reference">Referenced by <a class="el" href="#l01869">draw()</a>.</p>

</div>
</div>
<a id="ac5903e9ac658ae5f073ab76e213887fa" name="ac5903e9ac658ae5f073ab76e213887fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5903e9ac658ae5f073ab76e213887fa">&#9670;&nbsp;</a></span>m_brushTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QElapsedTimer ToonzRasterBrushTool::m_brushTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6e66ca6ce36b15ffc72f60cbcb480fe9" name="a6e66ca6ce36b15ffc72f60cbcb480fe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e66ca6ce36b15ffc72f60cbcb480fe9">&#9670;&nbsp;</a></span>m_currentColor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TPixel32 ToonzRasterBrushTool::m_currentColor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aea667f5c9b8157779b4b7990be2c3b57" name="aea667f5c9b8157779b4b7990be2c3b57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea667f5c9b8157779b4b7990be2c3b57">&#9670;&nbsp;</a></span>m_dpiScale</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPointD</a> ToonzRasterBrushTool::m_dpiScale</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac8968eb9205a33cc7c242d0f0ddfb524" name="ac8968eb9205a33cc7c242d0f0ddfb524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8968eb9205a33cc7c242d0f0ddfb524">&#9670;&nbsp;</a></span>m_drawOrder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_enum_property.html">TEnumProperty</a> ToonzRasterBrushTool::m_drawOrder</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afd5845257c55565eb23d3c0350af8ac4" name="afd5845257c55565eb23d3c0350af8ac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd5845257c55565eb23d3c0350af8ac4">&#9670;&nbsp;</a></span>m_enabled</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::m_enabled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1e1f197e3aaa044128dc8630b69b4926" name="a1e1f197e3aaa044128dc8630b69b4926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e1f197e3aaa044128dc8630b69b4926">&#9670;&nbsp;</a></span>m_firstTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::m_firstTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac695e400291353cc921ed05df7c7a27c" name="ac695e400291353cc921ed05df7c7a27c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac695e400291353cc921ed05df7c7a27c">&#9670;&nbsp;</a></span>m_hardness</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_range_property.html">TDoubleProperty</a> ToonzRasterBrushTool::m_hardness</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5a8b54861fa367ac3591b86d64a138f2" name="a5a8b54861fa367ac3591b86d64a138f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a8b54861fa367ac3591b86d64a138f2">&#9670;&nbsp;</a></span>m_isMyPaintStyleSelected</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::m_isMyPaintStyleSelected = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acf1972c4a9114d872a6b1bfccdc75428" name="acf1972c4a9114d872a6b1bfccdc75428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf1972c4a9114d872a6b1bfccdc75428">&#9670;&nbsp;</a></span>m_isPrompting</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::m_isPrompting</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Whether the tool is prompting for spline substitution. </p>

</div>
</div>
<a id="a83be2af97e40e6a4a3220a5578f63235" name="a83be2af97e40e6a4a3220a5578f63235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83be2af97e40e6a4a3220a5578f63235">&#9670;&nbsp;</a></span>m_lastRect</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_rect_t.html">TRect</a> ToonzRasterBrushTool::m_lastRect</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adcc2f888faf004106f5c3ae816e4ce65" name="adcc2f888faf004106f5c3ae816e4ce65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc2f888faf004106f5c3ae816e4ce65">&#9670;&nbsp;</a></span>m_maxCursorThick</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ToonzRasterBrushTool::m_maxCursorThick</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="affb7918defd128c28a4f90df2cf8dfaf" name="affb7918defd128c28a4f90df2cf8dfaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affb7918defd128c28a4f90df2cf8dfaf">&#9670;&nbsp;</a></span>m_maxThick</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ToonzRasterBrushTool::m_maxThick</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a05d510ba3cf6f8ebe0393fd4d629dc3f" name="a05d510ba3cf6f8ebe0393fd4d629dc3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d510ba3cf6f8ebe0393fd4d629dc3f">&#9670;&nbsp;</a></span>m_minCursorThick</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ToonzRasterBrushTool::m_minCursorThick</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a04c438ccb660bf5bd2087f96f4ff7734" name="a04c438ccb660bf5bd2087f96f4ff7734"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c438ccb660bf5bd2087f96f4ff7734">&#9670;&nbsp;</a></span>m_minThick</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ToonzRasterBrushTool::m_minThick</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a16575c927d249595fa9de0b2392ecaa7" name="a16575c927d249595fa9de0b2392ecaa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16575c927d249595fa9de0b2392ecaa7">&#9670;&nbsp;</a></span>m_modifierLockAlpha</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_bool_property.html">TBoolProperty</a> ToonzRasterBrushTool::m_modifierLockAlpha</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8a364af361fc0b90db82a34322af8d98" name="a8a364af361fc0b90db82a34322af8d98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a364af361fc0b90db82a34322af8d98">&#9670;&nbsp;</a></span>m_modifierSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_range_property.html">TDoubleProperty</a> ToonzRasterBrushTool::m_modifierSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a139c5dcda1042955f9e7fc0356ad76b0" name="a139c5dcda1042955f9e7fc0356ad76b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a139c5dcda1042955f9e7fc0356ad76b0">&#9670;&nbsp;</a></span>m_mousePos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPointD</a> ToonzRasterBrushTool::m_mousePos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current mouse position, in world coordinates. </p>

<p class="reference">Referenced by <a class="el" href="#l01192">onDeactivate()</a>, and <a class="el" href="#l01991">onPropertyChanged()</a>.</p>

</div>
</div>
<a id="a91f81549e77f5a6e65bc1df9b97c3636" name="a91f81549e77f5a6e65bc1df9b97c3636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91f81549e77f5a6e65bc1df9b97c3636">&#9670;&nbsp;</a></span>m_notifier</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_toonz_raster_brush_tool_notifier.html">ToonzRasterBrushToolNotifier</a>* ToonzRasterBrushTool::m_notifier</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a42bbb74d01ee5fb03a6e2bcdcc43c3cf" name="a42bbb74d01ee5fb03a6e2bcdcc43c3cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42bbb74d01ee5fb03a6e2bcdcc43c3cf">&#9670;&nbsp;</a></span>m_pencil</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_bool_property.html">TBoolProperty</a> ToonzRasterBrushTool::m_pencil</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aee2858bc7715a2b5533d55091e0c7769" name="aee2858bc7715a2b5533d55091e0c7769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2858bc7715a2b5533d55091e0c7769">&#9670;&nbsp;</a></span>m_points</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_t_thick_point.html">TThickPoint</a>&gt; ToonzRasterBrushTool::m_points</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5124e4166f81e827d2cee53492c049d3" name="a5124e4166f81e827d2cee53492c049d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5124e4166f81e827d2cee53492c049d3">&#9670;&nbsp;</a></span>m_preset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_enum_property.html">TEnumProperty</a> ToonzRasterBrushTool::m_preset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab582625eaeaf5381ca16dc53ffe5d940" name="ab582625eaeaf5381ca16dc53ffe5d940"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab582625eaeaf5381ca16dc53ffe5d940">&#9670;&nbsp;</a></span>m_presetsLoaded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::m_presetsLoaded</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa8691d0d29ea4e51228d89e9073ba1ce" name="aa8691d0d29ea4e51228d89e9073ba1ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8691d0d29ea4e51228d89e9073ba1ce">&#9670;&nbsp;</a></span>m_presetsManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_brush_preset_manager.html">BrushPresetManager</a> ToonzRasterBrushTool::m_presetsManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manager for presets of this tool instance. </p>

</div>
</div>
<a id="a41e63bf20860481376afbb7c3d2d5722" name="a41e63bf20860481376afbb7c3d2d5722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41e63bf20860481376afbb7c3d2d5722">&#9670;&nbsp;</a></span>m_pressure</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_bool_property.html">TBoolProperty</a> ToonzRasterBrushTool::m_pressure</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9f29d0cf5bac6355cd0c58d234a6f736" name="a9f29d0cf5bac6355cd0c58d234a6f736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f29d0cf5bac6355cd0c58d234a6f736">&#9670;&nbsp;</a></span>m_prop</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_property_group.html">TPropertyGroup</a> ToonzRasterBrushTool::m_prop[2]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ade81aba07dcf3bf7987fc095363867ad" name="ade81aba07dcf3bf7987fc095363867ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade81aba07dcf3bf7987fc095363867ad">&#9670;&nbsp;</a></span>m_propertyUpdating</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzRasterBrushTool::m_propertyUpdating = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad57c7ad60318efee2f29e23afbacad0e" name="ad57c7ad60318efee2f29e23afbacad0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad57c7ad60318efee2f29e23afbacad0e">&#9670;&nbsp;</a></span>m_rasterTrack</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_raster_stroke_generator.html">RasterStrokeGenerator</a>* ToonzRasterBrushTool::m_rasterTrack</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5e7cee84c51d60d9af9fc88fb2db96af" name="a5e7cee84c51d60d9af9fc88fb2db96af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e7cee84c51d60d9af9fc88fb2db96af">&#9670;&nbsp;</a></span>m_rasThickness</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_double_pair_property.html">TDoublePairProperty</a> ToonzRasterBrushTool::m_rasThickness</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a89402cf1103241037ce61b23706bfe14" name="a89402cf1103241037ce61b23706bfe14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89402cf1103241037ce61b23706bfe14">&#9670;&nbsp;</a></span>m_smooth</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_range_property.html">TDoubleProperty</a> ToonzRasterBrushTool::m_smooth</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac07b696e2f911f1c8e0bdf1883791f0d" name="ac07b696e2f911f1c8e0bdf1883791f0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac07b696e2f911f1c8e0bdf1883791f0d">&#9670;&nbsp;</a></span>m_smoothStroke</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_smooth_stroke.html">SmoothStroke</a> ToonzRasterBrushTool::m_smoothStroke</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7cfcabcb946aec00f6d428b26864fa3a" name="a7cfcabcb946aec00f6d428b26864fa3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cfcabcb946aec00f6d428b26864fa3a">&#9670;&nbsp;</a></span>m_strokeRect</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_rect_t.html">TRect</a> ToonzRasterBrushTool::m_strokeRect</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a475cd424ddc58cfb7f75885a827ef523" name="a475cd424ddc58cfb7f75885a827ef523"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a475cd424ddc58cfb7f75885a827ef523">&#9670;&nbsp;</a></span>m_strokeSegmentRect</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_rect_t.html">TRect</a> ToonzRasterBrushTool::m_strokeSegmentRect</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0b977349c820c24daf509ec33b5549e1" name="a0b977349c820c24daf509ec33b5549e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b977349c820c24daf509ec33b5549e1">&#9670;&nbsp;</a></span>m_styleId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ToonzRasterBrushTool::m_styleId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa688909c9cbee1fbdf3d1d6bc1c638f4" name="aa688909c9cbee1fbdf3d1d6bc1c638f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa688909c9cbee1fbdf3d1d6bc1c638f4">&#9670;&nbsp;</a></span>m_targetType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ToonzRasterBrushTool::m_targetType</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a192d46bf9cdc9748c649004ed3d5361c" name="a192d46bf9cdc9748c649004ed3d5361c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192d46bf9cdc9748c649004ed3d5361c">&#9670;&nbsp;</a></span>m_tileSaver</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_tile_saver_c_m32.html">TTileSaverCM32</a>* ToonzRasterBrushTool::m_tileSaver</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ac475fceb551beaa8bbeebaaebc643a" name="a4ac475fceb551beaa8bbeebaaebc643a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ac475fceb551beaa8bbeebaaebc643a">&#9670;&nbsp;</a></span>m_tileSet</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_tile_set_c_m32.html">TTileSetCM32</a>* ToonzRasterBrushTool::m_tileSet</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7ff70a975f21812482b60b5eb4e9f020" name="a7ff70a975f21812482b60b5eb4e9f020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ff70a975f21812482b60b5eb4e9f020">&#9670;&nbsp;</a></span>m_toonz_brush</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_my_paint_toonz_brush.html">MyPaintToonzBrush</a>* ToonzRasterBrushTool::m_toonz_brush = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7c3bd8b1c5109ef991b42fb361f953e9" name="a7c3bd8b1c5109ef991b42fb361f953e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c3bd8b1c5109ef991b42fb361f953e9">&#9670;&nbsp;</a></span>m_workingFrameId</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_frame_id.html">TFrameId</a> ToonzRasterBrushTool::m_workingFrameId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac1aa781f6572ac08076b56d8939a9120" name="ac1aa781f6572ac08076b56d8939a9120"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1aa781f6572ac08076b56d8939a9120">&#9670;&nbsp;</a></span>m_workRas</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_raster_p_t.html">TRaster32P</a> ToonzRasterBrushTool::m_workRas</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/tnztools/<a class="el" href="">toonzrasterbrushtool.h</a></li>
<li>E:/opentoonz/toonz/sources/tnztools/<a class="el" href="">toonzrasterbrushtool.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
