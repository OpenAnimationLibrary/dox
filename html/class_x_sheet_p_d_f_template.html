<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: XSheetPDFTemplate Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_x_sheet_p_d_f_template-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">XSheetPDFTemplate Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for XSheetPDFTemplate:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_x_sheet_p_d_f_template.png" usemap="#XSheetPDFTemplate_map" alt=""/>
  <map id="XSheetPDFTemplate_map" name="XSheetPDFTemplate_map">
<area href="class_x_sheet_p_d_f_template___b4__6sec.html" alt="XSheetPDFTemplate_B4_6sec" shape="rect" coords="0,56,184,80"/>
<area href="class_x_sheet_p_d_f_template___custom.html" alt="XSheetPDFTemplate_Custom" shape="rect" coords="194,56,378,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_x_sheet_p_d_f_template_1_1_x_sheet_p_d_f___info_format.html">XSheetPDF_InfoFormat</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_x_sheet_p_d_f_template_1_1_x_sheet_p_d_f_template_params.html">XSheetPDFTemplateParams</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a02f7dedb51bd425b05045f03c75d50bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a02f7dedb51bd425b05045f03c75d50bf">XSheetPDFTemplate</a> (const QList&lt; QPair&lt; <a class="el" href="class_t_xsh_level_column.html">TXshLevelColumn</a> *, QString &gt; &gt; &amp;columns, const int duration)</td></tr>
<tr class="separator:a02f7dedb51bd425b05045f03c75d50bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f11b73e251113c7f7458e47a565bf2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a8f11b73e251113c7f7458e47a565bf2e">drawXsheetTemplate</a> (QPainter &amp;painter, int framePage, bool isPreview=false)</td></tr>
<tr class="separator:a8f11b73e251113c7f7458e47a565bf2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76b0ba430ae97ee0a47c226b5d2df5ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a76b0ba430ae97ee0a47c226b5d2df5ab">drawXsheetContents</a> (QPainter &amp;painter, int framePage, int prallelPage, bool isPreview=false)</td></tr>
<tr class="separator:a76b0ba430ae97ee0a47c226b5d2df5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af594aa481a59d6a731c7f9a809d98502"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#af594aa481a59d6a731c7f9a809d98502">initializePage</a> (QPdfWriter &amp;writer)</td></tr>
<tr class="separator:af594aa481a59d6a731c7f9a809d98502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0834b27544eb7cd61d8398a78f50642"><td class="memItemLeft" align="right" valign="top">QPixmap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#ad0834b27544eb7cd61d8398a78f50642">initializePreview</a> ()</td></tr>
<tr class="separator:ad0834b27544eb7cd61d8398a78f50642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934d3c5d86524d4e5b7ca39c830b4768"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a934d3c5d86524d4e5b7ca39c830b4768">framePageCount</a> ()</td></tr>
<tr class="separator:a934d3c5d86524d4e5b7ca39c830b4768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5734784fc72c5bfd05a48b4fc738cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#aba5734784fc72c5bfd05a48b4fc738cf">parallelPageCount</a> ()</td></tr>
<tr class="separator:aba5734784fc72c5bfd05a48b4fc738cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb1be156a18cc352ae2736bc7723b07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#abeb1be156a18cc352ae2736bc7723b07">columnsInPage</a> ()</td></tr>
<tr class="separator:abeb1be156a18cc352ae2736bc7723b07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af965541651c84b16119f16f11459f7ed"><td class="memItemLeft" align="right" valign="top">QSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#af965541651c84b16119f16f11459f7ed">logoPixelSize</a> ()</td></tr>
<tr class="separator:af965541651c84b16119f16f11459f7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe13b8b995cf8a2ee457c28d9307a78d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#abe13b8b995cf8a2ee457c28d9307a78d">setLogoPixmap</a> (QPixmap pm)</td></tr>
<tr class="separator:abe13b8b995cf8a2ee457c28d9307a78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a572d047d7b3ab473dfcad4dcc300c991"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a572d047d7b3ab473dfcad4dcc300c991">setSoundColumns</a> (const QList&lt; <a class="el" href="class_t_xsh_sound_column.html">TXshSoundColumn</a> * &gt; &amp;soundColumns)</td></tr>
<tr class="separator:a572d047d7b3ab473dfcad4dcc300c991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61415515ce5ff995ffcaca3f51e6d6d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a61415515ce5ff995ffcaca3f51e6d6d4">setNoteColumn</a> (<a class="el" href="class_t_xsh_sound_text_column.html">TXshSoundTextColumn</a> *noteColumn)</td></tr>
<tr class="separator:a61415515ce5ff995ffcaca3f51e6d6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d3bb4ac4fe0c5ee7f904923b9d698b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a63d3bb4ac4fe0c5ee7f904923b9d698b">setInfo</a> (const <a class="el" href="struct_x_sheet_p_d_f_format_info.html">XSheetPDFFormatInfo</a> &amp;info)</td></tr>
<tr class="separator:a63d3bb4ac4fe0c5ee7f904923b9d698b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3f97d46a2bbca04331276af9aa4013a8"><td class="memItemLeft" align="right" valign="top"><a id="a3f97d46a2bbca04331276af9aa4013a8" name="a3f97d46a2bbca04331276af9aa4013a8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>adjustSpacing</b> (QPainter &amp;painter, const int width, const QString &amp;label, const double ratio=0.8)</td></tr>
<tr class="separator:a3f97d46a2bbca04331276af9aa4013a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab46b38ec747281ca267325f1103dbd79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#ab46b38ec747281ca267325f1103dbd79">drawGrid</a> (QPainter &amp;painter, int colAmount, int colWidth, int blockWidth)</td></tr>
<tr class="separator:ab46b38ec747281ca267325f1103dbd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae93924ba697e35efba9f323bbf734c72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#ae93924ba697e35efba9f323bbf734c72">drawHeaderGrid</a> (QPainter &amp;painter, int colAmount, int colWidth, int blockWidth)</td></tr>
<tr class="separator:ae93924ba697e35efba9f323bbf734c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e983fc2d6be5fafc1391c4f99e51f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#aa0e983fc2d6be5fafc1391c4f99e51f2">registerColLabelRects</a> (QPainter &amp;painter, int colAmount, int colWidth, int bodyId)</td></tr>
<tr class="separator:aa0e983fc2d6be5fafc1391c4f99e51f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a127d4a4685ff2a88af7d2c4644d4e32c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a127d4a4685ff2a88af7d2c4644d4e32c">registerCellRects</a> (QPainter &amp;painter, int colAmount, int colWidth, int bodyId)</td></tr>
<tr class="separator:a127d4a4685ff2a88af7d2c4644d4e32c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd814fc22d976f917a8496ac9259d10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#adcd814fc22d976f917a8496ac9259d10">registerSoundRects</a> (QPainter &amp;painter, int colWidth, int bodyId)</td></tr>
<tr class="separator:adcd814fc22d976f917a8496ac9259d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25b6231af4210f42b6809d2ca346fc73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a25b6231af4210f42b6809d2ca346fc73">drawKeyBlock</a> (QPainter &amp;painter, int framePage, const int bodyId)</td></tr>
<tr class="separator:a25b6231af4210f42b6809d2ca346fc73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47faf90a39f4c49f877c8749fd7639bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a47faf90a39f4c49f877c8749fd7639bf">drawDialogBlock</a> (QPainter &amp;painter, const int framePage, const int bodyId)</td></tr>
<tr class="separator:a47faf90a39f4c49f877c8749fd7639bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52e9428f2131fef4a9b28864824bfeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#ad52e9428f2131fef4a9b28864824bfeb">drawCellsBlock</a> (QPainter &amp;painter, int bodyId)</td></tr>
<tr class="separator:ad52e9428f2131fef4a9b28864824bfeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfbc3c4dbc635991b3aaf755a7d65fc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#adfbc3c4dbc635991b3aaf755a7d65fc0">drawCameraBlock</a> (QPainter &amp;painter)</td></tr>
<tr class="separator:adfbc3c4dbc635991b3aaf755a7d65fc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a897ed7326d69e9153a10cc8d089e5368"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a897ed7326d69e9153a10cc8d089e5368">drawXsheetBody</a> (QPainter &amp;painter, int framePage, int bodyId)</td></tr>
<tr class="separator:a897ed7326d69e9153a10cc8d089e5368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd16fd3211f90c8518e7908579223e5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#afd16fd3211f90c8518e7908579223e5a">drawInfoHeader</a> (QPainter &amp;painter)</td></tr>
<tr class="separator:afd16fd3211f90c8518e7908579223e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a524a76b5596ee4f3a3eb3e79fa67d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a17a524a76b5596ee4f3a3eb3e79fa67d">addInfo</a> (int w, QString lbl, DecoFunc f=nullptr)</td></tr>
<tr class="separator:a17a524a76b5596ee4f3a3eb3e79fa67d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4005979109f9940c33e4fd764fc8b377"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a4005979109f9940c33e4fd764fc8b377">drawContinuousLine</a> (QPainter &amp;painter, QRect rect, bool isEmpty)</td></tr>
<tr class="separator:a4005979109f9940c33e4fd764fc8b377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb519108435dde955af5d92d197b3058"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#aeb519108435dde955af5d92d197b3058">drawCellNumber</a> (QPainter &amp;painter, QRect rect, <a class="el" href="class_t_xsh_cell.html">TXshCell</a> &amp;cell, bool isKey)</td></tr>
<tr class="separator:aeb519108435dde955af5d92d197b3058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00232f425346daf2f7c23270caef1a95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a00232f425346daf2f7c23270caef1a95">drawTickMark</a> (QPainter &amp;painter, QRect rect, TickMarkType type)</td></tr>
<tr class="separator:a00232f425346daf2f7c23270caef1a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa913ffef698bd4b6d9e1cc3be5c2dbcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#aa913ffef698bd4b6d9e1cc3be5c2dbcb">drawEndMark</a> (QPainter &amp;painter, QRect upperRect)</td></tr>
<tr class="separator:aa913ffef698bd4b6d9e1cc3be5c2dbcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34a08c43e2c39114083c0b5c5c72094"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#aa34a08c43e2c39114083c0b5c5c72094">drawLevelName</a> (QPainter &amp;painter, QRect rect, QString name, bool isBottom=false)</td></tr>
<tr class="separator:aa34a08c43e2c39114083c0b5c5c72094"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2d849c39f32636b5fb2a9f1024e4f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a9f2d849c39f32636b5fb2a9f1024e4f8">drawLogo</a> (QPainter &amp;painter)</td></tr>
<tr class="separator:a9f2d849c39f32636b5fb2a9f1024e4f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82843c0be03dc6a66d521fc4d90c8a94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a82843c0be03dc6a66d521fc4d90c8a94">drawSound</a> (QPainter &amp;painter, int framePage)</td></tr>
<tr class="separator:a82843c0be03dc6a66d521fc4d90c8a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72683a5dca737010f566d401ad162f5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a72683a5dca737010f566d401ad162f5f">drawDialogue</a> (QPainter &amp;painter, int framePage)</td></tr>
<tr class="separator:a72683a5dca737010f566d401ad162f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5db03c8eb610ab813a85da3340d5e21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#ad5db03c8eb610ab813a85da3340d5e21">param</a> (const std::string &amp;id, int defaultValue=0)</td></tr>
<tr class="separator:ad5db03c8eb610ab813a85da3340d5e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a215b9c32af68f40e527f1d947e3fec3c"><td class="memItemLeft" align="right" valign="top"><a id="a215b9c32af68f40e527f1d947e3fec3c" name="a215b9c32af68f40e527f1d947e3fec3c"></a>
struct <a class="el" href="struct_x_sheet_p_d_f_template_1_1_x_sheet_p_d_f_template_params.html">XSheetPDFTemplate::XSheetPDFTemplateParams</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_p</b></td></tr>
<tr class="separator:a215b9c32af68f40e527f1d947e3fec3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a326fae9a554a49ba1f5de9a40c142536"><td class="memItemLeft" align="right" valign="top">QMap&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a326fae9a554a49ba1f5de9a40c142536">m_params</a></td></tr>
<tr class="separator:a326fae9a554a49ba1f5de9a40c142536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b700913bc782df375007dcc16f1c2c"><td class="memItemLeft" align="right" valign="top">QPen&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a67b700913bc782df375007dcc16f1c2c">thinPen</a></td></tr>
<tr class="separator:a67b700913bc782df375007dcc16f1c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a910c730b8a21dc6b2c9aad9c4e44dc2e"><td class="memItemLeft" align="right" valign="top">QPen&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a910c730b8a21dc6b2c9aad9c4e44dc2e">thickPen</a></td></tr>
<tr class="separator:a910c730b8a21dc6b2c9aad9c4e44dc2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573081e101bacf5d27953dbf94104baf"><td class="memItemLeft" align="right" valign="top">QPen&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a573081e101bacf5d27953dbf94104baf">blockBorderPen</a></td></tr>
<tr class="separator:a573081e101bacf5d27953dbf94104baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcea083f9f2543b1290c163af1e15de"><td class="memItemLeft" align="right" valign="top">QPen&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a5fcea083f9f2543b1290c163af1e15de">bodyOutlinePen</a></td></tr>
<tr class="separator:a5fcea083f9f2543b1290c163af1e15de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a342b0d0b6afd43c964c7bdddef6591b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_x_sheet_p_d_f_format_info.html">XSheetPDFFormatInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a342b0d0b6afd43c964c7bdddef6591b2">m_info</a></td></tr>
<tr class="separator:a342b0d0b6afd43c964c7bdddef6591b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8be28269c4d78fe295fbdc74eb2782"><td class="memItemLeft" align="right" valign="top">QList&lt; QList&lt; QRect &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a1c8be28269c4d78fe295fbdc74eb2782">m_colLabelRects</a></td></tr>
<tr class="separator:a1c8be28269c4d78fe295fbdc74eb2782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc3170c11e6f1c039f9e6e1ff79b5011"><td class="memItemLeft" align="right" valign="top">QList&lt; QList&lt; QRect &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#adc3170c11e6f1c039f9e6e1ff79b5011">m_colLabelRects_bottom</a></td></tr>
<tr class="separator:adc3170c11e6f1c039f9e6e1ff79b5011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af813eb763f6303464280040ce536cc47"><td class="memItemLeft" align="right" valign="top">QList&lt; QList&lt; QRect &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#af813eb763f6303464280040ce536cc47">m_cellRects</a></td></tr>
<tr class="separator:af813eb763f6303464280040ce536cc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8b788175db56257bd16461266be377"><td class="memItemLeft" align="right" valign="top">QList&lt; QRect &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a4a8b788175db56257bd16461266be377">m_soundCellRects</a></td></tr>
<tr class="separator:a4a8b788175db56257bd16461266be377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada02fd309100b0396fa4c291b6b12493"><td class="memItemLeft" align="right" valign="top">QMap&lt; XSheetPDFDataType, QRect &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#ada02fd309100b0396fa4c291b6b12493">m_dataRects</a></td></tr>
<tr class="separator:ada02fd309100b0396fa4c291b6b12493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b93f3d13b7b4d22effa4bed0ab61feb"><td class="memItemLeft" align="right" valign="top">QList&lt; QPair&lt; <a class="el" href="class_t_xsh_level_column.html">TXshLevelColumn</a> *, QString &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a1b93f3d13b7b4d22effa4bed0ab61feb">m_columns</a></td></tr>
<tr class="separator:a1b93f3d13b7b4d22effa4bed0ab61feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e8ad35a646ea8fe14980a5ea090548"><td class="memItemLeft" align="right" valign="top">QList&lt; <a class="el" href="class_t_xsh_sound_column.html">TXshSoundColumn</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a60e8ad35a646ea8fe14980a5ea090548">m_soundColumns</a></td></tr>
<tr class="separator:a60e8ad35a646ea8fe14980a5ea090548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a34685bc4ad9c6ed8f048e9335ebac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_xsh_sound_text_column.html">TXshSoundTextColumn</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#af0a34685bc4ad9c6ed8f048e9335ebac">m_noteColumn</a></td></tr>
<tr class="separator:af0a34685bc4ad9c6ed8f048e9335ebac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b3d78d67b54d4e03559a134d299615"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#ab0b3d78d67b54d4e03559a134d299615">m_duration</a></td></tr>
<tr class="separator:ab0b3d78d67b54d4e03559a134d299615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de73c85f1fde885aab75b38f6f3f0ec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_x_sheet_p_d_f_template.html#a3de73c85f1fde885aab75b38f6f3f0ec">m_useExtraColumns</a></td></tr>
<tr class="separator:a3de73c85f1fde885aab75b38f6f3f0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a02f7dedb51bd425b05045f03c75d50bf" name="a02f7dedb51bd425b05045f03c75d50bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02f7dedb51bd425b05045f03c75d50bf">&#9670;&nbsp;</a></span>XSheetPDFTemplate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XSheetPDFTemplate::XSheetPDFTemplate </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; QPair&lt; <a class="el" href="class_t_xsh_level_column.html">TXshLevelColumn</a> *, QString &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1308</span>    : m_columns(columns), m_duration(duration), m_useExtraColumns(<span class="keyword">false</span>) {}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a17a524a76b5596ee4f3a3eb3e79fa67d" name="a17a524a76b5596ee4f3a3eb3e79fa67d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a524a76b5596ee4f3a3eb3e79fa67d">&#9670;&nbsp;</a></span>addInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::addInfo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>lbl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DecoFunc&#160;</td>
          <td class="paramname"><em>f</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  948</span>                                                              {</div>
<div class="line"><span class="lineno">  949</span>  XSheetPDF_InfoFormat info;</div>
<div class="line"><span class="lineno">  950</span>  info.width    = w;</div>
<div class="line"><span class="lineno">  951</span>  info.label    = lbl;</div>
<div class="line"><span class="lineno">  952</span>  info.decoFunc = f;</div>
<div class="line"><span class="lineno">  953</span>  m_p.array_Infos.append(info);</div>
<div class="line"><span class="lineno">  954</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="abeb1be156a18cc352ae2736bc7723b07" name="abeb1be156a18cc352ae2736bc7723b07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb1be156a18cc352ae2736bc7723b07">&#9670;&nbsp;</a></span>columnsInPage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XSheetPDFTemplate::columnsInPage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1597</span>                                     {</div>
<div class="line"><span class="lineno"> 1598</span>  <span class="keywordflow">if</span> (m_info.exportArea == Area_Actions) {</div>
<div class="line"><span class="lineno"> 1599</span>    <span class="keywordtype">int</span> colsInPage = param(KeyColAmount);</div>
<div class="line"><span class="lineno"> 1600</span>    <span class="keywordflow">if</span> (param(LastKeyColWidth) &gt; 0) colsInPage++;</div>
<div class="line"><span class="lineno"> 1601</span>    <span class="keywordflow">return</span> colsInPage;</div>
<div class="line"><span class="lineno"> 1602</span>  }</div>
<div class="line"><span class="lineno"> 1603</span> </div>
<div class="line"><span class="lineno"> 1604</span>  <span class="comment">// CELLS</span></div>
<div class="line"><span class="lineno"> 1605</span>  <span class="keywordflow">if</span> (m_useExtraColumns)</div>
<div class="line"><span class="lineno"> 1606</span>    <span class="keywordflow">return</span> param(CellsColAmount) + param(ExtraCellsColAmount, 0);</div>
<div class="line"><span class="lineno"> 1607</span>  <span class="keywordflow">return</span> param(CellsColAmount);</div>
<div class="line"><span class="lineno"> 1608</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adfbc3c4dbc635991b3aaf755a7d65fc0" name="adfbc3c4dbc635991b3aaf755a7d65fc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfbc3c4dbc635991b3aaf755a7d65fc0">&#9670;&nbsp;</a></span>drawCameraBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawCameraBlock </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  828</span>                                                         {</div>
<div class="line"><span class="lineno">  829</span>  QFont font = painter.font();</div>
<div class="line"><span class="lineno">  830</span>  font.setPixelSize(m_p.bodylabelTextSize_Large);</div>
<div class="line"><span class="lineno">  831</span>  painter.setFont(font);</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>  painter.save();</div>
<div class="line"><span class="lineno">  834</span>  {</div>
<div class="line"><span class="lineno">  835</span>    <span class="comment">// Camera Block header</span></div>
<div class="line"><span class="lineno">  836</span>    painter.save();</div>
<div class="line"><span class="lineno">  837</span>    {</div>
<div class="line"><span class="lineno">  838</span>      QString cameraLabel = (param(TranslateBodyLabel, 1) == 1)</div>
<div class="line"><span class="lineno">  839</span>                                ? QObject::tr(<span class="stringliteral">&quot;CAMERA&quot;</span>, <span class="stringliteral">&quot;XSheetPDF&quot;</span>)</div>
<div class="line"><span class="lineno">  840</span>                                : <span class="stringliteral">&quot;CAMERA&quot;</span>;</div>
<div class="line"><span class="lineno">  841</span>      <span class="keywordflow">if</span> (param(DrawCameraHeaderGrid, 0) == 1) {</div>
<div class="line"><span class="lineno">  842</span>        drawHeaderGrid(painter, param(CameraColAmount), param(CameraColWidth),</div>
<div class="line"><span class="lineno">  843</span>                       m_p.cameraBlockWidth);</div>
<div class="line"><span class="lineno">  844</span>        <span class="keywordflow">if</span> (param(DrawCameraHeaderLabel, 1) == 1) {</div>
<div class="line"><span class="lineno">  845</span>          font.setPixelSize(m_p.bodylabelTextSize_Small);</div>
<div class="line"><span class="lineno">  846</span>          painter.setFont(font);</div>
<div class="line"><span class="lineno">  847</span>          QRect labelRect(0, 0, m_p.cameraBlockWidth, param(HeaderHeight) / 2);</div>
<div class="line"><span class="lineno">  848</span>          doDrawText(painter, cameraLabel, labelRect);</div>
<div class="line"><span class="lineno">  849</span>        }</div>
<div class="line"><span class="lineno">  850</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  851</span>        <span class="comment">// horizontal lines</span></div>
<div class="line"><span class="lineno">  852</span>        painter.setPen(thickPen);</div>
<div class="line"><span class="lineno">  853</span>        painter.drawLine(0, param(HeaderHeight), m_p.cameraBlockWidth,</div>
<div class="line"><span class="lineno">  854</span>                         param(HeaderHeight));</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>        <span class="keywordflow">if</span> (param(DrawCameraHeaderLabel, 1) == 1) {</div>
<div class="line"><span class="lineno">  857</span>          font.setPixelSize(m_p.bodylabelTextSize_Large);</div>
<div class="line"><span class="lineno">  858</span>          painter.setFont(font);</div>
<div class="line"><span class="lineno">  859</span>          QRect labelRect(0, 0, m_p.cameraBlockWidth, param(HeaderHeight));</div>
<div class="line"><span class="lineno">  860</span>          doDrawText(painter, cameraLabel, labelRect);</div>
<div class="line"><span class="lineno">  861</span>        }</div>
<div class="line"><span class="lineno">  862</span>      }</div>
<div class="line"><span class="lineno">  863</span>    }</div>
<div class="line"><span class="lineno">  864</span>    painter.restore();</div>
<div class="line"><span class="lineno">  865</span> </div>
<div class="line"><span class="lineno">  866</span>    <span class="keywordflow">if</span> (param(DrawCameraGrid, 1) != 0 || m_useExtraColumns) {</div>
<div class="line"><span class="lineno">  867</span>      painter.save();</div>
<div class="line"><span class="lineno">  868</span>      {</div>
<div class="line"><span class="lineno">  869</span>        painter.translate(0, param(HeaderHeight));</div>
<div class="line"><span class="lineno">  870</span>        <span class="comment">// Cells Block</span></div>
<div class="line"><span class="lineno">  871</span>        drawGrid(painter, param(CameraColAmount) - 1, param(CameraColWidth),</div>
<div class="line"><span class="lineno">  872</span>                 m_p.cameraBlockWidth);</div>
<div class="line"><span class="lineno">  873</span>      }</div>
<div class="line"><span class="lineno">  874</span>      painter.restore();</div>
<div class="line"><span class="lineno">  875</span>    }</div>
<div class="line"><span class="lineno">  876</span>  }</div>
<div class="line"><span class="lineno">  877</span>  painter.restore();</div>
<div class="line"><span class="lineno">  878</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb519108435dde955af5d92d197b3058" name="aeb519108435dde955af5d92d197b3058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb519108435dde955af5d92d197b3058">&#9670;&nbsp;</a></span>drawCellNumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawCellNumber </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QRect&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_xsh_cell.html">TXshCell</a> &amp;&#160;</td>
          <td class="paramname"><em>cell</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  973</span>                                                                   {</div>
<div class="line"><span class="lineno">  974</span>  QFont font = painter.font();</div>
<div class="line"><span class="lineno">  975</span>  font.setPixelSize(param(RowHeight) - mm2px(1));</div>
<div class="line"><span class="lineno">  976</span>  font.setLetterSpacing(QFont::PercentageSpacing, 100);</div>
<div class="line"><span class="lineno">  977</span>  painter.setFont(font);</div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span>  <span class="keywordflow">if</span> (cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) {</div>
<div class="line"><span class="lineno">  980</span>    painter.drawLine(rect.topLeft(), rect.bottomRight());</div>
<div class="line"><span class="lineno">  981</span>    painter.drawLine(rect.topRight(), rect.bottomLeft());</div>
<div class="line"><span class="lineno">  982</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  983</span>    QString str;</div>
<div class="line"><span class="lineno">  984</span>    <span class="keywordflow">if</span> (Preferences::instance()-&gt;isShowFrameNumberWithLettersEnabled()) {</div>
<div class="line"><span class="lineno">  985</span>      str = getFrameNumberWithLetters(cell.m_frameId.getNumber());</div>
<div class="line"><span class="lineno">  986</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  987</span>      str = QString::number(cell.m_frameId.getNumber());</div>
<div class="line"><span class="lineno">  988</span>      <span class="keywordflow">if</span> (!cell.m_frameId.getLetter().isEmpty())</div>
<div class="line"><span class="lineno">  989</span>        str += cell.m_frameId.getLetter();</div>
<div class="line"><span class="lineno">  990</span>    }</div>
<div class="line"><span class="lineno">  991</span>    painter.drawText(rect, Qt::AlignCenter, str);</div>
<div class="line"><span class="lineno">  992</span>    <span class="keywordflow">if</span> (isKey) {</div>
<div class="line"><span class="lineno">  993</span>      QPen keep(painter.pen());</div>
<div class="line"><span class="lineno">  994</span>      QPen circlePen(keep);</div>
<div class="line"><span class="lineno">  995</span>      circlePen.setWidth(mm2px(0.3));</div>
<div class="line"><span class="lineno">  996</span>      painter.setPen(circlePen);</div>
<div class="line"><span class="lineno">  997</span>      QFontMetrics fm(font);</div>
<div class="line"><span class="lineno">  998</span>      <span class="keywordtype">int</span> keyR_width =</div>
<div class="line"><span class="lineno">  999</span>          std::max(param(RowHeight), fm.horizontalAdvance(str) + mm2px(1));</div>
<div class="line"><span class="lineno"> 1000</span>      QRect keyR(0, 0, keyR_width, param(RowHeight));</div>
<div class="line"><span class="lineno"> 1001</span>      keyR.moveCenter(rect.center());</div>
<div class="line"><span class="lineno"> 1002</span>      painter.drawEllipse(keyR);</div>
<div class="line"><span class="lineno"> 1003</span>      painter.setPen(keep);</div>
<div class="line"><span class="lineno"> 1004</span>    }</div>
<div class="line"><span class="lineno"> 1005</span>  }</div>
<div class="line"><span class="lineno"> 1006</span>}</div>
<div class="ttc" id="aclass_t_xsh_cell_html_a5d20229e7bcd19957b123959e58a833e"><div class="ttname"><a href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">TXshCell::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdef"><b>Definition:</b> txshcell.h:78</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad52e9428f2131fef4a9b28864824bfeb" name="ad52e9428f2131fef4a9b28864824bfeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad52e9428f2131fef4a9b28864824bfeb">&#9670;&nbsp;</a></span>drawCellsBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawCellsBlock </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bodyId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  778</span>                                                                    {</div>
<div class="line"><span class="lineno">  779</span>  QFont font = painter.font();</div>
<div class="line"><span class="lineno">  780</span>  font.setPixelSize(m_p.bodylabelTextSize_Small);</div>
<div class="line"><span class="lineno">  781</span>  painter.setFont(font);</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span>  painter.save();</div>
<div class="line"><span class="lineno">  784</span>  {</div>
<div class="line"><span class="lineno">  785</span>    drawHeaderGrid(painter, param(CellsColAmount), param(CellsColWidth),</div>
<div class="line"><span class="lineno">  786</span>                   m_p.cellsBlockWidth);</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    <span class="keywordflow">if</span> (m_info.exportArea == Area_Cells) {</div>
<div class="line"><span class="lineno">  789</span>      painter.save();</div>
<div class="line"><span class="lineno">  790</span>      {</div>
<div class="line"><span class="lineno">  791</span>        painter.translate(0, param(HeaderHeight) / 2);</div>
<div class="line"><span class="lineno">  792</span>        <span class="comment">// register cell rects</span></div>
<div class="line"><span class="lineno">  793</span>        registerColLabelRects(painter, columnsInPage(), param(CellsColWidth),</div>
<div class="line"><span class="lineno">  794</span>                              bodyId);</div>
<div class="line"><span class="lineno">  795</span>      }</div>
<div class="line"><span class="lineno">  796</span>      painter.restore();</div>
<div class="line"><span class="lineno">  797</span>    }</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>    <span class="keywordflow">if</span> (param(DrawCellsHeaderLabel, 1) == 1) {</div>
<div class="line"><span class="lineno">  800</span>      QRect labelRect(0, 0, m_p.cellsBlockWidth, param(HeaderHeight) / 2);</div>
<div class="line"><span class="lineno">  801</span>      QString cellsLabel = (param(TranslateBodyLabel, 1) == 1)</div>
<div class="line"><span class="lineno">  802</span>                               ? QObject::tr(<span class="stringliteral">&quot;CELL&quot;</span>, <span class="stringliteral">&quot;XSheetPDF&quot;</span>)</div>
<div class="line"><span class="lineno">  803</span>                               : <span class="stringliteral">&quot;CELL&quot;</span>;</div>
<div class="line"><span class="lineno">  804</span>      doDrawText(painter, cellsLabel, labelRect);</div>
<div class="line"><span class="lineno">  805</span>    }</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>    painter.save();</div>
<div class="line"><span class="lineno">  808</span>    {</div>
<div class="line"><span class="lineno">  809</span>      painter.translate(0, param(HeaderHeight));</div>
<div class="line"><span class="lineno">  810</span>      <span class="comment">// Cells Block</span></div>
<div class="line"><span class="lineno">  811</span>      drawGrid(painter, param(CellsColAmount) - 1, param(CellsColWidth),</div>
<div class="line"><span class="lineno">  812</span>               m_p.cellsBlockWidth);</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>      <span class="keywordflow">if</span> (m_info.exportArea == Area_Cells)</div>
<div class="line"><span class="lineno">  815</span>        <span class="comment">// register cell rects.</span></div>
<div class="line"><span class="lineno">  816</span>        registerCellRects(painter, columnsInPage(), param(CellsColWidth),</div>
<div class="line"><span class="lineno">  817</span>                          bodyId);</div>
<div class="line"><span class="lineno">  818</span>    }</div>
<div class="line"><span class="lineno">  819</span>    painter.restore();</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>    painter.setPen(blockBorderPen);</div>
<div class="line"><span class="lineno">  822</span>    painter.translate(m_p.cellsBlockWidth, 0);</div>
<div class="line"><span class="lineno">  823</span>    painter.drawLine(0, 0, 0, param(BodyHeight));</div>
<div class="line"><span class="lineno">  824</span>  }</div>
<div class="line"><span class="lineno">  825</span>  painter.restore();</div>
<div class="line"><span class="lineno">  826</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4005979109f9940c33e4fd764fc8b377" name="a4005979109f9940c33e4fd764fc8b377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4005979109f9940c33e4fd764fc8b377">&#9670;&nbsp;</a></span>drawContinuousLine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawContinuousLine </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QRect&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isEmpty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  957</span>                                                         {</div>
<div class="line"><span class="lineno">  958</span>  <span class="keywordflow">if</span> (isEmpty) {</div>
<div class="line"><span class="lineno">  959</span>    <span class="keywordtype">int</span> offset = rect.height() / 4;</div>
<div class="line"><span class="lineno">  960</span>    QPoint p0(rect.center().x(), rect.top());</div>
<div class="line"><span class="lineno">  961</span>    QPoint p3(rect.center().x(), rect.bottom());</div>
<div class="line"><span class="lineno">  962</span>    QPoint p1 = p0 + QPoint(-offset, offset);</div>
<div class="line"><span class="lineno">  963</span>    QPoint p2 = p3 + QPoint(offset, -offset);</div>
<div class="line"><span class="lineno">  964</span>    QPainterPath path(p0);</div>
<div class="line"><span class="lineno">  965</span>    path.cubicTo(p1, p2, p3);</div>
<div class="line"><span class="lineno">  966</span>    painter.drawPath(path);</div>
<div class="line"><span class="lineno">  967</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  968</span>    painter.drawLine(rect.center().x(), rect.top(), rect.center().x(),</div>
<div class="line"><span class="lineno">  969</span>                     rect.bottom());</div>
<div class="line"><span class="lineno">  970</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a47faf90a39f4c49f877c8749fd7639bf" name="a47faf90a39f4c49f877c8749fd7639bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47faf90a39f4c49f877c8749fd7639bf">&#9670;&nbsp;</a></span>drawDialogBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawDialogBlock </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>framePage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>bodyId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  705</span>                                                          {</div>
<div class="line"><span class="lineno">  706</span>  QFont font = painter.font();</div>
<div class="line"><span class="lineno">  707</span>  font.setPixelSize(m_p.bodylabelTextSize_Large);</div>
<div class="line"><span class="lineno">  708</span>  font.setLetterSpacing(QFont::PercentageSpacing, 100);</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span>  QRect labelRect(0, 0, param(DialogColWidth), param(HeaderHeight));</div>
<div class="line"><span class="lineno">  711</span>  QString serifLabel =</div>
<div class="line"><span class="lineno">  712</span>      (param(TranslateBodyLabel, 1) == 1) ? QObject::tr(<span class="stringliteral">&quot;S&quot;</span>, <span class="stringliteral">&quot;XSheetPDF&quot;</span>) : <span class="stringliteral">&quot;S&quot;</span>;</div>
<div class="line"><span class="lineno">  713</span>  <span class="keywordflow">while</span> (font.pixelSize() &gt; mm2px(1)) {</div>
<div class="line"><span class="lineno">  714</span>    <span class="keywordflow">if</span> (QFontMetrics(font).boundingRect(serifLabel).width() &lt;</div>
<div class="line"><span class="lineno">  715</span>        labelRect.width() - mm2px(1))</div>
<div class="line"><span class="lineno">  716</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  717</span>    font.setPixelSize(font.pixelSize() - mm2px(0.5));</div>
<div class="line"><span class="lineno">  718</span>  }</div>
<div class="line"><span class="lineno">  719</span>  painter.setFont(font);</div>
<div class="line"><span class="lineno">  720</span>  painter.drawText(labelRect, Qt::AlignCenter, serifLabel);</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>  <span class="comment">// triangle shapes at every half seconds</span></div>
<div class="line"><span class="lineno">  723</span>  <span class="keyword">static</span> <span class="keyword">const</span> QPointF points[3] = {</div>
<div class="line"><span class="lineno">  724</span>      QPointF(mm2px(-0.8), 0.0),</div>
<div class="line"><span class="lineno">  725</span>      QPointF(mm2px(-2.8), mm2px(1.25)),</div>
<div class="line"><span class="lineno">  726</span>      QPointF(mm2px(-2.8), mm2px(-1.25)),</div>
<div class="line"><span class="lineno">  727</span>  };</div>
<div class="line"><span class="lineno">  728</span>  QRect secLabelRect(0, 0, param(DialogColWidth) - mm2px(1.0),</div>
<div class="line"><span class="lineno">  729</span>                     param(RowHeight));</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>  painter.save();</div>
<div class="line"><span class="lineno">  732</span>  {</div>
<div class="line"><span class="lineno">  733</span>    font.setPixelSize(param(RowHeight) - mm2px(1.5));</div>
<div class="line"><span class="lineno">  734</span>    painter.setFont(font);</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    painter.translate(0, param(HeaderHeight));</div>
<div class="line"><span class="lineno">  737</span>    painter.save();</div>
<div class="line"><span class="lineno">  738</span>    {</div>
<div class="line"><span class="lineno">  739</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> sec = 1; sec &lt;= 3; sec++) {</div>
<div class="line"><span class="lineno">  740</span>        painter.save();</div>
<div class="line"><span class="lineno">  741</span>        {</div>
<div class="line"><span class="lineno">  742</span>          painter.setBrush(painter.pen().color());</div>
<div class="line"><span class="lineno">  743</span>          painter.setPen(Qt::NoPen);</div>
<div class="line"><span class="lineno">  744</span>          painter.translate(param(DialogColWidth), param(RowHeight) * 12);</div>
<div class="line"><span class="lineno">  745</span>          painter.drawPolygon(points, 3);</div>
<div class="line"><span class="lineno">  746</span>        }</div>
<div class="line"><span class="lineno">  747</span>        painter.restore();</div>
<div class="line"><span class="lineno">  748</span>        painter.save();</div>
<div class="line"><span class="lineno">  749</span>        {</div>
<div class="line"><span class="lineno">  750</span>          <span class="keywordtype">int</span> second = bodyId * 3 + sec;</div>
<div class="line"><span class="lineno">  751</span>          <span class="keywordflow">if</span> (m_info.serialFrameNumber)</div>
<div class="line"><span class="lineno">  752</span>            second += framePage * param(FrameLength) / 24;</div>
<div class="line"><span class="lineno">  753</span>          painter.translate(0, param(RowHeight) * ((sec == 3) ? 23 : 23.5));</div>
<div class="line"><span class="lineno">  754</span>          painter.drawText(secLabelRect, Qt::AlignRight | Qt::AlignVCenter,</div>
<div class="line"><span class="lineno">  755</span>                           QString::number(second));</div>
<div class="line"><span class="lineno">  756</span>        }</div>
<div class="line"><span class="lineno">  757</span>        painter.restore();</div>
<div class="line"><span class="lineno">  758</span>        painter.translate(0, param(OneSecHeight));</div>
<div class="line"><span class="lineno">  759</span>      }</div>
<div class="line"><span class="lineno">  760</span>    }</div>
<div class="line"><span class="lineno">  761</span>    painter.restore();</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>    <span class="comment">// register sound cells</span></div>
<div class="line"><span class="lineno">  764</span>    <span class="keywordflow">if</span> (m_info.drawSound || m_noteColumn)</div>
<div class="line"><span class="lineno">  765</span>      registerSoundRects(painter, param(DialogColWidth), bodyId);</div>
<div class="line"><span class="lineno">  766</span>  }</div>
<div class="line"><span class="lineno">  767</span>  painter.restore();</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>  painter.save();</div>
<div class="line"><span class="lineno">  770</span>  {</div>
<div class="line"><span class="lineno">  771</span>    painter.setPen(blockBorderPen);</div>
<div class="line"><span class="lineno">  772</span>    painter.translate(param(DialogColWidth), 0);</div>
<div class="line"><span class="lineno">  773</span>    painter.drawLine(0, 0, 0, param(BodyHeight));</div>
<div class="line"><span class="lineno">  774</span>  }</div>
<div class="line"><span class="lineno">  775</span>  painter.restore();</div>
<div class="line"><span class="lineno">  776</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a72683a5dca737010f566d401ad162f5f" name="a72683a5dca737010f566d401ad162f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72683a5dca737010f566d401ad162f5f">&#9670;&nbsp;</a></span>drawDialogue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawDialogue </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>framePage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1159</span>                                                                     {</div>
<div class="line"><span class="lineno"> 1160</span>  <span class="keywordflow">if</span> (!m_noteColumn || m_soundCellRects.isEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>  QFont font = painter.font();</div>
<div class="line"><span class="lineno"> 1163</span>  font.setPixelSize(m_soundCellRects[0].height());</div>
<div class="line"><span class="lineno"> 1164</span>  painter.setFont(font);</div>
<div class="line"><span class="lineno"> 1165</span> </div>
<div class="line"><span class="lineno"> 1166</span>  QFont smallFont(font);</div>
<div class="line"><span class="lineno"> 1167</span>  smallFont.setPixelSize(font.pixelSize() * 2 / 3);</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>  QFont largeFont(font);</div>
<div class="line"><span class="lineno"> 1170</span>  largeFont.setPixelSize(font.pixelSize() * 13 / 10);</div>
<div class="line"><span class="lineno"> 1171</span>  <span class="keywordtype">int</span> heightThres = QFontMetrics(largeFont).height();</div>
<div class="line"><span class="lineno"> 1172</span> </div>
<div class="line"><span class="lineno"> 1173</span>  <span class="keywordtype">int</span> r0, r1;</div>
<div class="line"><span class="lineno"> 1174</span>  m_noteColumn-&gt;<a class="code hl_function" href="class_t_xsh_cell_column.html#ab684089dcfd22454e7cbad249a04e29c">getRange</a>(r0, r1);</div>
<div class="line"><span class="lineno"> 1175</span> </div>
<div class="line"><span class="lineno"> 1176</span>  <span class="comment">// obtain frame range to be printed in the current page</span></div>
<div class="line"><span class="lineno"> 1177</span>  <span class="keywordtype">int</span> printFrameR0 = framePage * param(FrameLength);</div>
<div class="line"><span class="lineno"> 1178</span>  <span class="keywordtype">int</span> printFrameR1 = printFrameR0 + param(FrameLength) - 1;</div>
<div class="line"><span class="lineno"> 1179</span> </div>
<div class="line"><span class="lineno"> 1180</span>  <span class="comment">// compute for each body</span></div>
<div class="line"><span class="lineno"> 1181</span>  <span class="keywordtype">int</span> framesPerBody = 72;</div>
<div class="line"><span class="lineno"> 1182</span>  <span class="keywordtype">int</span> bodyFrameR0   = printFrameR0;</div>
<div class="line"><span class="lineno"> 1183</span>  <span class="keywordtype">int</span> bodyFrameR1   = bodyFrameR0 + framesPerBody - 1;</div>
<div class="line"><span class="lineno"> 1184</span>  <span class="keywordflow">while</span> (bodyFrameR1 &lt;= printFrameR1) {</div>
<div class="line"><span class="lineno"> 1185</span>    <span class="comment">// move to next body if the current body is out of range</span></div>
<div class="line"><span class="lineno"> 1186</span>    <span class="keywordflow">if</span> (r1 &lt; bodyFrameR0 || bodyFrameR1 &lt; r0) {</div>
<div class="line"><span class="lineno"> 1187</span>      <span class="comment">// to next body</span></div>
<div class="line"><span class="lineno"> 1188</span>      bodyFrameR0 = bodyFrameR1 + 1;</div>
<div class="line"><span class="lineno"> 1189</span>      bodyFrameR1 = bodyFrameR0 + framesPerBody - 1;</div>
<div class="line"><span class="lineno"> 1190</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1191</span>    }</div>
<div class="line"><span class="lineno"> 1192</span> </div>
<div class="line"><span class="lineno"> 1193</span>    <span class="comment">// frame range to be printed</span></div>
<div class="line"><span class="lineno"> 1194</span>    <span class="keywordtype">int</span> drawStart = std::max(r0, bodyFrameR0);</div>
<div class="line"><span class="lineno"> 1195</span>    <span class="keywordtype">int</span> drawEnd   = std::min(r1, std::min(bodyFrameR1, printFrameR1));</div>
<div class="line"><span class="lineno"> 1196</span> </div>
<div class="line"><span class="lineno"> 1197</span>    <span class="keywordtype">int</span> rStart = drawStart;</div>
<div class="line"><span class="lineno"> 1198</span>    <span class="keywordtype">int</span> rEnd   = drawEnd;</div>
<div class="line"><span class="lineno"> 1199</span>    <span class="comment">// obtain top row of the fist note block</span></div>
<div class="line"><span class="lineno"> 1200</span>    <span class="keywordflow">if</span> (!m_noteColumn-&gt;<a class="code hl_function" href="class_t_xsh_cell_column.html#aa747a68efe54d336d5d07dd8af451908">getCell</a>(drawStart).<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) {</div>
<div class="line"><span class="lineno"> 1201</span>      <span class="keywordflow">while</span> (rStart &gt; 0 &amp;&amp; m_noteColumn-&gt;<a class="code hl_function" href="class_t_xsh_cell_column.html#aa747a68efe54d336d5d07dd8af451908">getCell</a>(rStart - 1) ==</div>
<div class="line"><span class="lineno"> 1202</span>                               m_noteColumn-&gt;<a class="code hl_function" href="class_t_xsh_cell_column.html#aa747a68efe54d336d5d07dd8af451908">getCell</a>(drawStart)) {</div>
<div class="line"><span class="lineno"> 1203</span>        rStart--;</div>
<div class="line"><span class="lineno"> 1204</span>      }</div>
<div class="line"><span class="lineno"> 1205</span>    }</div>
<div class="line"><span class="lineno"> 1206</span>    <span class="comment">// obtain bottom row of the last note block</span></div>
<div class="line"><span class="lineno"> 1207</span>    <span class="keywordflow">if</span> (!m_noteColumn-&gt;<a class="code hl_function" href="class_t_xsh_cell_column.html#aa747a68efe54d336d5d07dd8af451908">getCell</a>(drawEnd).<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) {</div>
<div class="line"><span class="lineno"> 1208</span>      <span class="keywordflow">while</span> (m_noteColumn-&gt;<a class="code hl_function" href="class_t_xsh_cell_column.html#aa747a68efe54d336d5d07dd8af451908">getCell</a>(rEnd + 1) ==</div>
<div class="line"><span class="lineno"> 1209</span>             m_noteColumn-&gt;<a class="code hl_function" href="class_t_xsh_cell_column.html#aa747a68efe54d336d5d07dd8af451908">getCell</a>(drawEnd)) {</div>
<div class="line"><span class="lineno"> 1210</span>        rEnd++;</div>
<div class="line"><span class="lineno"> 1211</span>      }</div>
<div class="line"><span class="lineno"> 1212</span>    }</div>
<div class="line"><span class="lineno"> 1213</span> </div>
<div class="line"><span class="lineno"> 1214</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> row = rStart; row &lt;= drawEnd; row++) {</div>
<div class="line"><span class="lineno"> 1215</span>      <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = m_noteColumn-&gt;<a class="code hl_function" href="class_t_xsh_cell_column.html#aa747a68efe54d336d5d07dd8af451908">getCell</a>(row);</div>
<div class="line"><span class="lineno"> 1216</span>      <span class="keywordflow">if</span> (cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1217</span> </div>
<div class="line"><span class="lineno"> 1218</span>      <span class="comment">// check how long the same content continues</span></div>
<div class="line"><span class="lineno"> 1219</span>      <span class="keywordtype">int</span> rowTo = row;</div>
<div class="line"><span class="lineno"> 1220</span>      <span class="keywordflow">while</span> (m_noteColumn-&gt;<a class="code hl_function" href="class_t_xsh_cell_column.html#aa747a68efe54d336d5d07dd8af451908">getCell</a>(rowTo + 1) == cell) {</div>
<div class="line"><span class="lineno"> 1221</span>        rowTo++;</div>
<div class="line"><span class="lineno"> 1222</span>      }</div>
<div class="line"><span class="lineno"> 1223</span>      <span class="keywordtype">int</span> blockLength = rowTo - row + 1;</div>
<div class="line"><span class="lineno"> 1224</span> </div>
<div class="line"><span class="lineno"> 1225</span>      QString text = cell.<a class="code hl_function" href="class_t_xsh_cell.html#afabf22a14eb891c9f3affebe0535456a">getSoundTextLevel</a>()-&gt;getFrameText(</div>
<div class="line"><span class="lineno"> 1226</span>          cell.m_frameId.getNumber() - 1);</div>
<div class="line"><span class="lineno"> 1227</span>      <span class="keywordtype">int</span> textCount = text.count();</div>
<div class="line"><span class="lineno"> 1228</span>      <span class="comment">// separate text if it overflows the body</span></div>
<div class="line"><span class="lineno"> 1229</span>      <span class="keywordflow">if</span> (row &lt; drawStart) {</div>
<div class="line"><span class="lineno"> 1230</span>        <span class="keywordtype">int</span> partialBlockLength = rowTo - drawStart + 1;</div>
<div class="line"><span class="lineno"> 1231</span>        <span class="keywordtype">int</span> partialTextCount   = (int)std::round(</div>
<div class="line"><span class="lineno"> 1232</span>            (<span class="keywordtype">double</span>)(textCount * partialBlockLength) / (<span class="keywordtype">double</span>)blockLength);</div>
<div class="line"><span class="lineno"> 1233</span>        text        = text.mid(textCount - partialTextCount);</div>
<div class="line"><span class="lineno"> 1234</span>        textCount   = partialTextCount;</div>
<div class="line"><span class="lineno"> 1235</span>        row         = drawStart;</div>
<div class="line"><span class="lineno"> 1236</span>        blockLength = partialBlockLength;</div>
<div class="line"><span class="lineno"> 1237</span>      }</div>
<div class="line"><span class="lineno"> 1238</span>      <span class="comment">// draw start mark</span></div>
<div class="line"><span class="lineno"> 1239</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1240</span>        <span class="keywordtype">int</span> topRectId = row - printFrameR0;</div>
<div class="line"><span class="lineno"> 1241</span>        QRect rect    = m_soundCellRects.at(topRectId);</div>
<div class="line"><span class="lineno"> 1242</span>        painter.drawLine(rect.topLeft(), rect.topRight());</div>
<div class="line"><span class="lineno"> 1243</span>      }</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span>      <span class="keywordflow">if</span> (rowTo &gt; drawEnd) {</div>
<div class="line"><span class="lineno"> 1246</span>        <span class="keywordtype">int</span> partialBlockLength = drawEnd - row + 1;</div>
<div class="line"><span class="lineno"> 1247</span>        <span class="keywordtype">int</span> partialTextCount   = (int)std::round(</div>
<div class="line"><span class="lineno"> 1248</span>            (<span class="keywordtype">double</span>)(textCount * partialBlockLength) / (<span class="keywordtype">double</span>)blockLength);</div>
<div class="line"><span class="lineno"> 1249</span>        text      = text.mid(0, partialTextCount);</div>
<div class="line"><span class="lineno"> 1250</span>        textCount = partialTextCount;</div>
<div class="line"><span class="lineno"> 1251</span>        rowTo     = drawEnd;</div>
<div class="line"><span class="lineno"> 1252</span>      }</div>
<div class="line"><span class="lineno"> 1253</span>      <span class="comment">// draw end mark</span></div>
<div class="line"><span class="lineno"> 1254</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_noteColumn-&gt;<a class="code hl_function" href="class_t_xsh_cell_column.html#aa747a68efe54d336d5d07dd8af451908">getCell</a>(rowTo + 1).<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) {</div>
<div class="line"><span class="lineno"> 1255</span>        <span class="keywordtype">int</span> bottomRectId = rowTo - printFrameR0;</div>
<div class="line"><span class="lineno"> 1256</span>        QRect rect       = m_soundCellRects.at(bottomRectId);</div>
<div class="line"><span class="lineno"> 1257</span>        drawEndMark(painter, rect);</div>
<div class="line"><span class="lineno"> 1258</span>      }</div>
<div class="line"><span class="lineno"> 1259</span>      <span class="keywordflow">if</span> (text.isEmpty()) {</div>
<div class="line"><span class="lineno"> 1260</span>        row = rowTo;</div>
<div class="line"><span class="lineno"> 1261</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1262</span>      }</div>
<div class="line"><span class="lineno"> 1263</span> </div>
<div class="line"><span class="lineno"> 1264</span>      <span class="keywordtype">int</span> normalLettersPerChunk = textCount * m_soundCellRects[0].width() /</div>
<div class="line"><span class="lineno"> 1265</span>                                  QFontMetrics(font).boundingRect(text).width();</div>
<div class="line"><span class="lineno"> 1266</span>      <span class="keywordtype">int</span> maxLettersPerChunk =</div>
<div class="line"><span class="lineno"> 1267</span>          textCount * m_soundCellRects[0].width() /</div>
<div class="line"><span class="lineno"> 1268</span>          QFontMetrics(smallFont).boundingRect(text).width();</div>
<div class="line"><span class="lineno"> 1269</span> </div>
<div class="line"><span class="lineno"> 1270</span>      <span class="keywordtype">int</span> lettersPerChunk =</div>
<div class="line"><span class="lineno"> 1271</span>          (int)std::ceil((<span class="keywordtype">double</span>)textCount / ((double)blockLength));</div>
<div class="line"><span class="lineno"> 1272</span>      lettersPerChunk = std::min(lettersPerChunk, maxLettersPerChunk);</div>
<div class="line"><span class="lineno"> 1273</span>      <span class="keywordtype">int</span> chunkCount =</div>
<div class="line"><span class="lineno"> 1274</span>          (int)std::ceil((<span class="keywordtype">double</span>)textCount / (double)(lettersPerChunk));</div>
<div class="line"><span class="lineno"> 1275</span>      chunkCount = std::min(chunkCount, (<span class="keywordtype">int</span>)((<span class="keywordtype">double</span>)(blockLength)*1.5));</div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>      <span class="keywordtype">int</span> topRectId    = row - printFrameR0;</div>
<div class="line"><span class="lineno"> 1278</span>      <span class="keywordtype">int</span> bottomRectId = rowTo - printFrameR0;</div>
<div class="line"><span class="lineno"> 1279</span>      <span class="comment">// unite the cell rects and divide by the amount of chunks</span></div>
<div class="line"><span class="lineno"> 1280</span>      QRect unitedRect = m_soundCellRects.at(topRectId).united(</div>
<div class="line"><span class="lineno"> 1281</span>          m_soundCellRects.at(bottomRectId));</div>
<div class="line"><span class="lineno"> 1282</span>      <span class="comment">// check if the large font is available</span></div>
<div class="line"><span class="lineno"> 1283</span>      <span class="keywordflow">if</span> (lettersPerChunk == 1 &amp;&amp; unitedRect.height() / textCount &gt; heightThres)</div>
<div class="line"><span class="lineno"> 1284</span>        painter.setFont(largeFont);</div>
<div class="line"><span class="lineno"> 1285</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lettersPerChunk &gt; normalLettersPerChunk)</div>
<div class="line"><span class="lineno"> 1286</span>        painter.setFont(smallFont);</div>
<div class="line"><span class="lineno"> 1287</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1288</span>        painter.setFont(font);</div>
<div class="line"><span class="lineno"> 1289</span>      <span class="comment">// draw text</span></div>
<div class="line"><span class="lineno"> 1290</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; chunkCount; c++) {</div>
<div class="line"><span class="lineno"> 1291</span>        <span class="keywordtype">int</span> y0 = unitedRect.top() + unitedRect.height() * c / chunkCount;</div>
<div class="line"><span class="lineno"> 1292</span>        <span class="keywordtype">int</span> y1 = unitedRect.top() + unitedRect.height() * (c + 1) / chunkCount;</div>
<div class="line"><span class="lineno"> 1293</span>        QRect tmpRect(unitedRect.left(), y0, unitedRect.width(), y1 - y0 + 1);</div>
<div class="line"><span class="lineno"> 1294</span>        painter.drawText(tmpRect, Qt::AlignCenter,</div>
<div class="line"><span class="lineno"> 1295</span>                         text.mid(c * lettersPerChunk, lettersPerChunk));</div>
<div class="line"><span class="lineno"> 1296</span>      }</div>
<div class="line"><span class="lineno"> 1297</span> </div>
<div class="line"><span class="lineno"> 1298</span>      row = rowTo;</div>
<div class="line"><span class="lineno"> 1299</span>    }</div>
<div class="line"><span class="lineno"> 1300</span>    <span class="comment">// to next body</span></div>
<div class="line"><span class="lineno"> 1301</span>    bodyFrameR0 = bodyFrameR1 + 1;</div>
<div class="line"><span class="lineno"> 1302</span>    bodyFrameR1 = bodyFrameR0 + framesPerBody - 1;</div>
<div class="line"><span class="lineno"> 1303</span>  }</div>
<div class="line"><span class="lineno"> 1304</span>}</div>
<div class="ttc" id="aclass_t_xsh_cell_column_html_aa747a68efe54d336d5d07dd8af451908"><div class="ttname"><a href="class_t_xsh_cell_column.html#aa747a68efe54d336d5d07dd8af451908">TXshCellColumn::getCell</a></div><div class="ttdeci">virtual const TXshCell &amp; getCell(int row) const</div><div class="ttdef"><b>Definition:</b> txshcolumn.cpp:85</div></div>
<div class="ttc" id="aclass_t_xsh_cell_column_html_ab684089dcfd22454e7cbad249a04e29c"><div class="ttname"><a href="class_t_xsh_cell_column.html#ab684089dcfd22454e7cbad249a04e29c">TXshCellColumn::getRange</a></div><div class="ttdeci">int getRange(int &amp;r0, int &amp;r1) const override</div><div class="ttdef"><b>Definition:</b> txshcolumn.cpp:39</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html"><div class="ttname"><a href="class_t_xsh_cell.html">TXshCell</a></div><div class="ttdef"><b>Definition:</b> txshcell.h:35</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html_afabf22a14eb891c9f3affebe0535456a"><div class="ttname"><a href="class_t_xsh_cell.html#afabf22a14eb891c9f3affebe0535456a">TXshCell::getSoundTextLevel</a></div><div class="ttdeci">TXshSoundTextLevel * getSoundTextLevel() const</div><div class="ttdef"><b>Definition:</b> txshcell.cpp:31</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa913ffef698bd4b6d9e1cc3be5c2dbcb" name="aa913ffef698bd4b6d9e1cc3be5c2dbcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa913ffef698bd4b6d9e1cc3be5c2dbcb">&#9670;&nbsp;</a></span>drawEndMark()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawEndMark </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QRect&#160;</td>
          <td class="paramname"><em>upperRect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1015</span>                                                                      {</div>
<div class="line"><span class="lineno"> 1016</span>  QRect rect = upperRect.translated(0, upperRect.height());</div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>  painter.drawLine(rect.topLeft(), rect.topRight());</div>
<div class="line"><span class="lineno"> 1019</span> </div>
<div class="line"><span class="lineno"> 1020</span>  painter.drawLine(rect.center().x(), rect.top(), rect.left(),</div>
<div class="line"><span class="lineno"> 1021</span>                   rect.center().y());</div>
<div class="line"><span class="lineno"> 1022</span>  painter.drawLine(rect.topRight(), rect.bottomLeft());</div>
<div class="line"><span class="lineno"> 1023</span>  painter.drawLine(rect.right(), rect.center().y(), rect.center().x(),</div>
<div class="line"><span class="lineno"> 1024</span>                   rect.bottom());</div>
<div class="line"><span class="lineno"> 1025</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab46b38ec747281ca267325f1103dbd79" name="ab46b38ec747281ca267325f1103dbd79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab46b38ec747281ca267325f1103dbd79">&#9670;&nbsp;</a></span>drawGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawGrid </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blockWidth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  418</span>                                                 {</div>
<div class="line"><span class="lineno">  419</span>  <span class="comment">// horiontal lines</span></div>
<div class="line"><span class="lineno">  420</span>  painter.save();</div>
<div class="line"><span class="lineno">  421</span>  {</div>
<div class="line"><span class="lineno">  422</span>    <span class="comment">// loop 3 seconds</span></div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> sec = 0; sec &lt; 3; sec++) {</div>
<div class="line"><span class="lineno">  424</span>      painter.save();</div>
<div class="line"><span class="lineno">  425</span>      {</div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 1; f &lt;= 24; f++) {</div>
<div class="line"><span class="lineno">  427</span>          <span class="keywordflow">if</span> (f % 6 == 0)</div>
<div class="line"><span class="lineno">  428</span>            painter.setPen(thickPen);</div>
<div class="line"><span class="lineno">  429</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  430</span>            painter.setPen(thinPen);</div>
<div class="line"><span class="lineno">  431</span>          painter.translate(0, param(RowHeight));</div>
<div class="line"><span class="lineno">  432</span>          painter.drawLine(0, 0, blockWidth, 0);</div>
<div class="line"><span class="lineno">  433</span>        }</div>
<div class="line"><span class="lineno">  434</span>      }</div>
<div class="line"><span class="lineno">  435</span>      painter.restore();</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>      painter.translate(0, param(OneSecHeight));</div>
<div class="line"><span class="lineno">  438</span>      painter.setPen(thickPen);</div>
<div class="line"><span class="lineno">  439</span>      painter.drawLine(0, 0, blockWidth, 0);</div>
<div class="line"><span class="lineno">  440</span>    }</div>
<div class="line"><span class="lineno">  441</span>  }</div>
<div class="line"><span class="lineno">  442</span>  painter.restore();</div>
<div class="line"><span class="lineno">  443</span>  <span class="comment">// vertical lines</span></div>
<div class="line"><span class="lineno">  444</span>  painter.save();</div>
<div class="line"><span class="lineno">  445</span>  {</div>
<div class="line"><span class="lineno">  446</span>    painter.setPen(thinPen);</div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kc = 0; kc &lt; colAmount; kc++) {</div>
<div class="line"><span class="lineno">  448</span>      painter.translate(colWidth, 0);</div>
<div class="line"><span class="lineno">  449</span>      painter.drawLine(0, 0, 0, param(OneSecHeight) * 3);</div>
<div class="line"><span class="lineno">  450</span>    }</div>
<div class="line"><span class="lineno">  451</span>  }</div>
<div class="line"><span class="lineno">  452</span>  painter.restore();</div>
<div class="line"><span class="lineno">  453</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae93924ba697e35efba9f323bbf734c72" name="ae93924ba697e35efba9f323bbf734c72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae93924ba697e35efba9f323bbf734c72">&#9670;&nbsp;</a></span>drawHeaderGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawHeaderGrid </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blockWidth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  456</span>                                                                     {</div>
<div class="line"><span class="lineno">  457</span>  <span class="comment">// Cells Block header</span></div>
<div class="line"><span class="lineno">  458</span>  painter.save();</div>
<div class="line"><span class="lineno">  459</span>  {</div>
<div class="line"><span class="lineno">  460</span>    <span class="comment">// horizontal lines</span></div>
<div class="line"><span class="lineno">  461</span>    painter.setPen(thinPen);</div>
<div class="line"><span class="lineno">  462</span>    painter.drawLine(0, param(HeaderHeight) / 2, blockWidth,</div>
<div class="line"><span class="lineno">  463</span>                     param(HeaderHeight) / 2);</div>
<div class="line"><span class="lineno">  464</span>    painter.setPen(thickPen);</div>
<div class="line"><span class="lineno">  465</span>    painter.drawLine(0, param(HeaderHeight), blockWidth, param(HeaderHeight));</div>
<div class="line"><span class="lineno">  466</span>    <span class="comment">// vertical lines</span></div>
<div class="line"><span class="lineno">  467</span>    painter.setPen(thinPen);</div>
<div class="line"><span class="lineno">  468</span>    painter.save();</div>
<div class="line"><span class="lineno">  469</span>    {</div>
<div class="line"><span class="lineno">  470</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> col = 1; col &lt; colAmount; col++) {</div>
<div class="line"><span class="lineno">  471</span>        painter.translate(colWidth, 0);</div>
<div class="line"><span class="lineno">  472</span>        painter.drawLine(0, param(HeaderHeight) / 2, 0, param(HeaderHeight));</div>
<div class="line"><span class="lineno">  473</span>      }</div>
<div class="line"><span class="lineno">  474</span>    }</div>
<div class="line"><span class="lineno">  475</span>    painter.restore();</div>
<div class="line"><span class="lineno">  476</span>  }</div>
<div class="line"><span class="lineno">  477</span>  painter.restore();</div>
<div class="line"><span class="lineno">  478</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afd16fd3211f90c8518e7908579223e5a" name="afd16fd3211f90c8518e7908579223e5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd16fd3211f90c8518e7908579223e5a">&#9670;&nbsp;</a></span>drawInfoHeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawInfoHeader </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  899</span>                                                        {</div>
<div class="line"><span class="lineno">  900</span>  painter.save();</div>
<div class="line"><span class="lineno">  901</span>  {</div>
<div class="line"><span class="lineno">  902</span>    painter.translate(param(InfoOriginLeft), param(InfoOriginTop));</div>
<div class="line"><span class="lineno">  903</span>    QFont font = painter.font();</div>
<div class="line"><span class="lineno">  904</span>    font.setPixelSize(param(InfoTitleHeight) - mm2px(2));</div>
<div class="line"><span class="lineno">  905</span>    painter.setFont(font);</div>
<div class="line"><span class="lineno">  906</span>    <span class="keywordtype">bool</span> isLeftMost = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  907</span>    <span class="comment">// draw each info</span></div>
<div class="line"><span class="lineno">  908</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> info : m_p.array_Infos) {</div>
<div class="line"><span class="lineno">  909</span>      painter.setPen((isLeftMost) ? bodyOutlinePen : thinPen);</div>
<div class="line"><span class="lineno">  910</span>      isLeftMost = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  911</span>      <span class="comment">// vertical line</span></div>
<div class="line"><span class="lineno">  912</span>      painter.drawLine(0, 0, 0, m_p.infoHeaderHeight);</div>
<div class="line"><span class="lineno">  913</span>      <span class="comment">// 3 horizontal lines</span></div>
<div class="line"><span class="lineno">  914</span>      painter.setPen(thinPen);</div>
<div class="line"><span class="lineno">  915</span>      painter.drawLine(0, param(InfoTitleHeight), info.width,</div>
<div class="line"><span class="lineno">  916</span>                       param(InfoTitleHeight));</div>
<div class="line"><span class="lineno">  917</span>      painter.setPen(bodyOutlinePen);</div>
<div class="line"><span class="lineno">  918</span>      painter.drawLine(0, 0, info.width, 0);</div>
<div class="line"><span class="lineno">  919</span>      painter.drawLine(0, m_p.infoHeaderHeight, info.width,</div>
<div class="line"><span class="lineno">  920</span>                       m_p.infoHeaderHeight);</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>      painter.setPen(thinPen);</div>
<div class="line"><span class="lineno">  923</span>      <span class="comment">// label</span></div>
<div class="line"><span class="lineno">  924</span>      QRect labelRect(0, 0, info.width, param(InfoTitleHeight));</div>
<div class="line"><span class="lineno">  925</span>      doDrawText(painter, info.label, labelRect);</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>      <span class="keywordflow">if</span> (info.decoFunc) {</div>
<div class="line"><span class="lineno">  928</span>        painter.save();</div>
<div class="line"><span class="lineno">  929</span>        {</div>
<div class="line"><span class="lineno">  930</span>          painter.translate(0, param(InfoTitleHeight));</div>
<div class="line"><span class="lineno">  931</span>          (*info.decoFunc)(painter,</div>
<div class="line"><span class="lineno">  932</span>                           QRect(0, 0, info.width, param(InfoBodyHeight)),</div>
<div class="line"><span class="lineno">  933</span>                           m_dataRects, param(TranslateInfoLabel, 1));</div>
<div class="line"><span class="lineno">  934</span>        }</div>
<div class="line"><span class="lineno">  935</span>        painter.restore();</div>
<div class="line"><span class="lineno">  936</span>      }</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>      <span class="comment">// translate</span></div>
<div class="line"><span class="lineno">  939</span>      painter.translate(info.width, 0);</div>
<div class="line"><span class="lineno">  940</span>    }</div>
<div class="line"><span class="lineno">  941</span>    <span class="comment">// vertical line at the rightmost edge</span></div>
<div class="line"><span class="lineno">  942</span>    painter.setPen(bodyOutlinePen);</div>
<div class="line"><span class="lineno">  943</span>    painter.drawLine(0, 0, 0, m_p.infoHeaderHeight);</div>
<div class="line"><span class="lineno">  944</span>  }</div>
<div class="line"><span class="lineno">  945</span>  painter.restore();</div>
<div class="line"><span class="lineno">  946</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a25b6231af4210f42b6809d2ca346fc73" name="a25b6231af4210f42b6809d2ca346fc73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25b6231af4210f42b6809d2ca346fc73">&#9670;&nbsp;</a></span>drawKeyBlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawKeyBlock </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>framePage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>bodyId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  597</span>                                                       {</div>
<div class="line"><span class="lineno">  598</span>  QFont font = painter.font();</div>
<div class="line"><span class="lineno">  599</span>  font.setPixelSize(m_p.bodylabelTextSize_Small);</div>
<div class="line"><span class="lineno">  600</span>  painter.setFont(font);</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>  painter.save();</div>
<div class="line"><span class="lineno">  603</span>  {</div>
<div class="line"><span class="lineno">  604</span>    drawHeaderGrid(painter, param(KeyColAmount), param(KeyColWidth),</div>
<div class="line"><span class="lineno">  605</span>                   m_p.keyBlockWidth);</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordflow">if</span> (m_info.exportArea == Area_Actions) {</div>
<div class="line"><span class="lineno">  608</span>      painter.save();</div>
<div class="line"><span class="lineno">  609</span>      {</div>
<div class="line"><span class="lineno">  610</span>        painter.translate(0, param(HeaderHeight) / 2);</div>
<div class="line"><span class="lineno">  611</span>        <span class="comment">// register actions rects.</span></div>
<div class="line"><span class="lineno">  612</span>        registerColLabelRects(painter, columnsInPage(), param(KeyColWidth),</div>
<div class="line"><span class="lineno">  613</span>                              bodyId);</div>
<div class="line"><span class="lineno">  614</span>      }</div>
<div class="line"><span class="lineno">  615</span>      painter.restore();</div>
<div class="line"><span class="lineno">  616</span>    }</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>    QRect labelRect(0, 0, m_p.keyBlockWidth, param(HeaderHeight) / 2);</div>
<div class="line"><span class="lineno">  619</span>    QString actionLabel = (param(TranslateBodyLabel, 1) == 1)</div>
<div class="line"><span class="lineno">  620</span>                              ? QObject::tr(<span class="stringliteral">&quot;ACTION&quot;</span>, <span class="stringliteral">&quot;XSheetPDF&quot;</span>)</div>
<div class="line"><span class="lineno">  621</span>                              : <span class="stringliteral">&quot;ACTION&quot;</span>;</div>
<div class="line"><span class="lineno">  622</span>    doDrawText(painter, actionLabel, labelRect);</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>    painter.save();</div>
<div class="line"><span class="lineno">  625</span>    {</div>
<div class="line"><span class="lineno">  626</span>      painter.translate(0, param(HeaderHeight));</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>      <span class="comment">// Key Animation Block</span></div>
<div class="line"><span class="lineno">  629</span>      drawGrid(painter, param(KeyColAmount), param(KeyColWidth),</div>
<div class="line"><span class="lineno">  630</span>               m_p.keyBlockWidth);</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>      <span class="keywordflow">if</span> (m_info.exportArea == Area_Actions)</div>
<div class="line"><span class="lineno">  633</span>        <span class="comment">// register cell rects.</span></div>
<div class="line"><span class="lineno">  634</span>        registerCellRects(painter, columnsInPage(), param(KeyColWidth), bodyId);</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>      <span class="comment">// frame numbers</span></div>
<div class="line"><span class="lineno">  637</span>      painter.save();</div>
<div class="line"><span class="lineno">  638</span>      {</div>
<div class="line"><span class="lineno">  639</span>        font.setPixelSize(param(RowHeight) - mm2px(2));</div>
<div class="line"><span class="lineno">  640</span>        font.setLetterSpacing(QFont::PercentageSpacing, 100);</div>
<div class="line"><span class="lineno">  641</span>        painter.setFont(font);</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>        <span class="keywordflow">if</span> (param(LastKeyColWidth) &gt; 0) {</div>
<div class="line"><span class="lineno">  644</span>          painter.translate(param(KeyColAmount) * param(KeyColWidth), 0);</div>
<div class="line"><span class="lineno">  645</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> sec = 0; sec &lt; 3; sec++) {</div>
<div class="line"><span class="lineno">  646</span>            painter.save();</div>
<div class="line"><span class="lineno">  647</span>            {</div>
<div class="line"><span class="lineno">  648</span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 1; f &lt;= 24; f++) {</div>
<div class="line"><span class="lineno">  649</span>                <span class="keywordflow">if</span> (f % 2 == 0) {</div>
<div class="line"><span class="lineno">  650</span>                  <span class="keywordtype">int</span> frame = bodyId * 72 + sec * 24 + f;</div>
<div class="line"><span class="lineno">  651</span>                  <span class="keywordflow">if</span> (m_info.serialFrameNumber)</div>
<div class="line"><span class="lineno">  652</span>                    frame += param(FrameLength) * framePage;</div>
<div class="line"><span class="lineno">  653</span>                  QRect frameLabelRect(0, 0,</div>
<div class="line"><span class="lineno">  654</span>                                       param(LastKeyColWidth) - mm2px(0.5),</div>
<div class="line"><span class="lineno">  655</span>                                       param(RowHeight));</div>
<div class="line"><span class="lineno">  656</span>                  painter.drawText(frameLabelRect,</div>
<div class="line"><span class="lineno">  657</span>                                   Qt::AlignRight | Qt::AlignVCenter,</div>
<div class="line"><span class="lineno">  658</span>                                   QString::number(frame));</div>
<div class="line"><span class="lineno">  659</span>                }</div>
<div class="line"><span class="lineno">  660</span>                painter.translate(0, param(RowHeight));</div>
<div class="line"><span class="lineno">  661</span>              }</div>
<div class="line"><span class="lineno">  662</span>            }</div>
<div class="line"><span class="lineno">  663</span>            painter.restore();</div>
<div class="line"><span class="lineno">  664</span>            painter.translate(0, param(OneSecHeight));</div>
<div class="line"><span class="lineno">  665</span>          }</div>
<div class="line"><span class="lineno">  666</span>        }</div>
<div class="line"><span class="lineno">  667</span>        <span class="comment">// draw frame numbers on the left side of the block</span></div>
<div class="line"><span class="lineno">  668</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  669</span>          painter.translate(-param(KeyColWidth) * 2, 0);</div>
<div class="line"><span class="lineno">  670</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> sec = 0; sec &lt; 3; sec++) {</div>
<div class="line"><span class="lineno">  671</span>            painter.save();</div>
<div class="line"><span class="lineno">  672</span>            {</div>
<div class="line"><span class="lineno">  673</span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 1; f &lt;= 24; f++) {</div>
<div class="line"><span class="lineno">  674</span>                <span class="keywordflow">if</span> (f % 2 == 0) {</div>
<div class="line"><span class="lineno">  675</span>                  <span class="keywordtype">int</span> frame = bodyId * 72 + sec * 24 + f;</div>
<div class="line"><span class="lineno">  676</span>                  <span class="keywordflow">if</span> (m_info.serialFrameNumber)</div>
<div class="line"><span class="lineno">  677</span>                    frame += param(FrameLength) * framePage;</div>
<div class="line"><span class="lineno">  678</span>                  QRect frameLabelRect(0, 0,</div>
<div class="line"><span class="lineno">  679</span>                                       param(KeyColWidth) * 2 - mm2px(0.5),</div>
<div class="line"><span class="lineno">  680</span>                                       param(RowHeight));</div>
<div class="line"><span class="lineno">  681</span>                  painter.drawText(frameLabelRect,</div>
<div class="line"><span class="lineno">  682</span>                                   Qt::AlignRight | Qt::AlignVCenter,</div>
<div class="line"><span class="lineno">  683</span>                                   QString::number(frame));</div>
<div class="line"><span class="lineno">  684</span>                }</div>
<div class="line"><span class="lineno">  685</span>                painter.translate(0, param(RowHeight));</div>
<div class="line"><span class="lineno">  686</span>              }</div>
<div class="line"><span class="lineno">  687</span>            }</div>
<div class="line"><span class="lineno">  688</span>            painter.restore();</div>
<div class="line"><span class="lineno">  689</span>            painter.translate(0, param(OneSecHeight));</div>
<div class="line"><span class="lineno">  690</span>          }</div>
<div class="line"><span class="lineno">  691</span>        }</div>
<div class="line"><span class="lineno">  692</span>      }</div>
<div class="line"><span class="lineno">  693</span>      painter.restore();</div>
<div class="line"><span class="lineno">  694</span>    }</div>
<div class="line"><span class="lineno">  695</span>    painter.restore();</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>    painter.translate(m_p.keyBlockWidth, 0);</div>
<div class="line"><span class="lineno">  698</span>    painter.setPen(blockBorderPen);</div>
<div class="line"><span class="lineno">  699</span>    painter.drawLine(0, 0, 0, param(BodyHeight));</div>
<div class="line"><span class="lineno">  700</span>  }</div>
<div class="line"><span class="lineno">  701</span>  painter.restore();</div>
<div class="line"><span class="lineno">  702</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa34a08c43e2c39114083c0b5c5c72094" name="aa34a08c43e2c39114083c0b5c5c72094"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa34a08c43e2c39114083c0b5c5c72094">&#9670;&nbsp;</a></span>drawLevelName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawLevelName </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QRect&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isBottom</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1028</span>                                                                   {</div>
<div class="line"><span class="lineno"> 1029</span>  QFont font = painter.font();</div>
<div class="line"><span class="lineno"> 1030</span>  font.setPixelSize(rect.height());</div>
<div class="line"><span class="lineno"> 1031</span>  font.setLetterSpacing(QFont::PercentageSpacing, 100);</div>
<div class="line"><span class="lineno"> 1032</span>  painter.setFont(font);</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>  <span class="comment">// if it can fit in the rect, then just draw it</span></div>
<div class="line"><span class="lineno"> 1035</span>  <span class="keywordflow">if</span> (QFontMetrics(font).boundingRect(name).width() &lt; rect.width()) {</div>
<div class="line"><span class="lineno"> 1036</span>    painter.drawText(rect, Qt::AlignCenter, name);</div>
<div class="line"><span class="lineno"> 1037</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1038</span>  }</div>
<div class="line"><span class="lineno"> 1039</span> </div>
<div class="line"><span class="lineno"> 1040</span>  <span class="comment">// if it can fit with 90% sized font</span></div>
<div class="line"><span class="lineno"> 1041</span>  QFont altFont(font);</div>
<div class="line"><span class="lineno"> 1042</span>  altFont.setPixelSize(font.pixelSize() * 0.9);</div>
<div class="line"><span class="lineno"> 1043</span>  <span class="keywordflow">if</span> (QFontMetrics(altFont).boundingRect(name).width() &lt; rect.width()) {</div>
<div class="line"><span class="lineno"> 1044</span>    painter.setFont(altFont);</div>
<div class="line"><span class="lineno"> 1045</span>    painter.drawText(rect, Qt::AlignCenter, name);</div>
<div class="line"><span class="lineno"> 1046</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1047</span>  }</div>
<div class="line"><span class="lineno"> 1048</span> </div>
<div class="line"><span class="lineno"> 1049</span>  <span class="comment">// or, draw level name vertically</span></div>
<div class="line"><span class="lineno"> 1050</span>  <span class="comment">// insert line breaks to every characters</span></div>
<div class="line"><span class="lineno"> 1051</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; name.size(); i += 2) name.insert(i, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><span class="lineno"> 1052</span>  <span class="comment">// QFontMetrics::boundingRect(const QString &amp;text) does NOT process newline</span></div>
<div class="line"><span class="lineno"> 1053</span>  <span class="comment">// characters as linebreaks.</span></div>
<div class="line"><span class="lineno"> 1054</span>  QRect boundingRect = QFontMetrics(font).boundingRect(</div>
<div class="line"><span class="lineno"> 1055</span>      QRect(0, 0, mm2px(100), mm2px(100)), Qt::AlignTop | Qt::AlignLeft, name);</div>
<div class="line"><span class="lineno"> 1056</span>  <span class="keywordflow">if</span> (!isBottom) {</div>
<div class="line"><span class="lineno"> 1057</span>    boundingRect.moveCenter(</div>
<div class="line"><span class="lineno"> 1058</span>        QPoint(rect.center().x(), rect.bottom() - boundingRect.height() / 2));</div>
<div class="line"><span class="lineno"> 1059</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1060</span>    boundingRect.moveCenter(</div>
<div class="line"><span class="lineno"> 1061</span>        QPoint(rect.center().x(), rect.top() + boundingRect.height() / 2));</div>
<div class="line"><span class="lineno"> 1062</span>  }</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>  <span class="comment">// fill background of the label</span></div>
<div class="line"><span class="lineno"> 1065</span>  painter.fillRect(boundingRect, Qt::white);</div>
<div class="line"><span class="lineno"> 1066</span>  painter.drawText(boundingRect, Qt::AlignCenter, name);</div>
<div class="line"><span class="lineno"> 1067</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f2d849c39f32636b5fb2a9f1024e4f8" name="a9f2d849c39f32636b5fb2a9f1024e4f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f2d849c39f32636b5fb2a9f1024e4f8">&#9670;&nbsp;</a></span>drawLogo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawLogo </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1069</span>                                                  {</div>
<div class="line"><span class="lineno"> 1070</span>  <span class="keywordflow">if</span> (!m_dataRects.contains(Data_Logo)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1071</span>  <span class="keywordflow">if</span> (m_info.logoText.isEmpty() &amp;&amp; m_info.logoPixmap.isNull()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1072</span>  QRect logoRect = m_dataRects.value(Data_Logo);</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>  <span class="keywordflow">if</span> (!m_info.logoText.isEmpty()) {</div>
<div class="line"><span class="lineno"> 1075</span>    QFont font = painter.font();</div>
<div class="line"><span class="lineno"> 1076</span>    font.setPixelSize(logoRect.height() - mm2px(2));</div>
<div class="line"><span class="lineno"> 1077</span>    <span class="keywordflow">while</span> (1) {</div>
<div class="line"><span class="lineno"> 1078</span>      <span class="keywordflow">if</span> (QFontMetrics(font).boundingRect(m_info.logoText).width() &lt;</div>
<div class="line"><span class="lineno"> 1079</span>              logoRect.width() &amp;&amp;</div>
<div class="line"><span class="lineno"> 1080</span>          QFontMetrics(font).boundingRect(m_info.logoText).height() &lt;</div>
<div class="line"><span class="lineno"> 1081</span>              logoRect.height())</div>
<div class="line"><span class="lineno"> 1082</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1083</span>      <span class="keywordflow">if</span> (font.pixelSize() &lt;= mm2px(1)) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1084</span>      font.setPixelSize(font.pixelSize() - mm2px(1));</div>
<div class="line"><span class="lineno"> 1085</span>    }</div>
<div class="line"><span class="lineno"> 1086</span>    painter.setFont(font);</div>
<div class="line"><span class="lineno"> 1087</span>    painter.drawText(logoRect, Qt::AlignTop | Qt::AlignLeft, m_info.logoText);</div>
<div class="line"><span class="lineno"> 1088</span>  }</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!m_info.logoPixmap.isNull()) {</div>
<div class="line"><span class="lineno"> 1091</span>    painter.drawPixmap(logoRect.topLeft(), m_info.logoPixmap);</div>
<div class="line"><span class="lineno"> 1092</span>  }</div>
<div class="line"><span class="lineno"> 1093</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a82843c0be03dc6a66d521fc4d90c8a94" name="a82843c0be03dc6a66d521fc4d90c8a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82843c0be03dc6a66d521fc4d90c8a94">&#9670;&nbsp;</a></span>drawSound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawSound </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>framePage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1095</span>                                                                  {</div>
<div class="line"><span class="lineno"> 1096</span>  <span class="keywordflow">if</span> (!m_info.drawSound || m_soundColumns.isEmpty() ||</div>
<div class="line"><span class="lineno"> 1097</span>      m_soundCellRects.isEmpty())</div>
<div class="line"><span class="lineno"> 1098</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1099</span> </div>
<div class="line"><span class="lineno"> 1100</span>  <span class="comment">// obtain united range of the sound columns</span></div>
<div class="line"><span class="lineno"> 1101</span>  <span class="keywordtype">int</span> r0 = INT_MAX, r1 = -1;</div>
<div class="line"><span class="lineno"> 1102</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> soundCol : m_soundColumns) {</div>
<div class="line"><span class="lineno"> 1103</span>    <span class="keywordtype">int</span> tmpR0, tmpR1;</div>
<div class="line"><span class="lineno"> 1104</span>    soundCol-&gt;getRange(tmpR0, tmpR1);</div>
<div class="line"><span class="lineno"> 1105</span>    r0 = std::min(r0, tmpR0);</div>
<div class="line"><span class="lineno"> 1106</span>    r1 = std::max(r1, tmpR1);</div>
<div class="line"><span class="lineno"> 1107</span>  }</div>
<div class="line"><span class="lineno"> 1108</span> </div>
<div class="line"><span class="lineno"> 1109</span>  <span class="comment">// obtain frame range to be printed in the current page</span></div>
<div class="line"><span class="lineno"> 1110</span>  <span class="keywordtype">int</span> printFrameR0 = framePage * param(FrameLength);</div>
<div class="line"><span class="lineno"> 1111</span>  <span class="keywordtype">int</span> printFrameR1 = printFrameR0 + param(FrameLength) - 1;</div>
<div class="line"><span class="lineno"> 1112</span> </div>
<div class="line"><span class="lineno"> 1113</span>  <span class="comment">// return if the current page is out of range</span></div>
<div class="line"><span class="lineno"> 1114</span>  <span class="keywordflow">if</span> (r1 &lt; printFrameR0 || printFrameR1 &lt; r0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1115</span> </div>
<div class="line"><span class="lineno"> 1116</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a>* o = Orientations::instance().topToBottom();</div>
<div class="line"><span class="lineno"> 1117</span>  <span class="keywordtype">int</span> oneFrameHeight   = o-&gt;dimension(PredefinedDimension::FRAME);</div>
<div class="line"><span class="lineno"> 1118</span>  <span class="keywordtype">int</span> trackWidth = o-&gt;layerSide(o-&gt;rect(PredefinedRect::SOUND_TRACK)).length();</div>
<div class="line"><span class="lineno"> 1119</span> </div>
<div class="line"><span class="lineno"> 1120</span>  painter.setRenderHints(QPainter::Antialiasing |</div>
<div class="line"><span class="lineno"> 1121</span>                         QPainter::SmoothPixmapTransform);</div>
<div class="line"><span class="lineno"> 1122</span> </div>
<div class="line"><span class="lineno"> 1123</span>  <span class="comment">// frame range to be printed</span></div>
<div class="line"><span class="lineno"> 1124</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = std::max(r0, printFrameR0); f &lt;= std::min(r1, printFrameR1);</div>
<div class="line"><span class="lineno"> 1125</span>       f++) {</div>
<div class="line"><span class="lineno"> 1126</span>    <span class="keywordtype">int</span> rectId = f - printFrameR0;</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>    QPixmap img(trackWidth, oneFrameHeight);</div>
<div class="line"><span class="lineno"> 1129</span>    img.fill(Qt::transparent);</div>
<div class="line"><span class="lineno"> 1130</span>    QPainter p(&amp;img);</div>
<div class="line"><span class="lineno"> 1131</span>    p.setPen(QPen(m_info.lineColor, 1, Qt::SolidLine, Qt::FlatCap));</div>
<div class="line"><span class="lineno"> 1132</span>    p.translate(trackWidth / 2, 0);</div>
<div class="line"><span class="lineno"> 1133</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> soundCol : m_soundColumns) {</div>
<div class="line"><span class="lineno"> 1134</span>      <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = soundCol-&gt;getSoundCell(f);</div>
<div class="line"><span class="lineno"> 1135</span>      <span class="keywordflow">if</span> (soundCol-&gt;isCellEmpty(f) || cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>() ||</div>
<div class="line"><span class="lineno"> 1136</span>          f &gt; soundCol-&gt;getMaxFrame() + 1 || f &lt; soundCol-&gt;getFirstRow())</div>
<div class="line"><span class="lineno"> 1137</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span>      <a class="code hl_class" href="class_t_smart_pointer_t.html">TXshSoundLevelP</a> soundLevel = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a8c7ad08b83f6df4afec4b00334acfea6">getSoundLevel</a>();</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>      <span class="keywordtype">int</span> soundPixel = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">getFrameId</a>().getNumber() *</div>
<div class="line"><span class="lineno"> 1142</span>                       oneFrameHeight;  <span class="comment">// pixels since start of clip</span></div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; oneFrameHeight; i++) {</div>
<div class="line"><span class="lineno"> 1145</span>        DoublePair minmax;</div>
<div class="line"><span class="lineno"> 1146</span>        soundLevel-&gt;getValueAtPixel(o, soundPixel, minmax);</div>
<div class="line"><span class="lineno"> 1147</span>        p.drawLine(minmax.first, i, minmax.second, i);</div>
<div class="line"><span class="lineno"> 1148</span>        soundPixel++;</div>
<div class="line"><span class="lineno"> 1149</span>      }</div>
<div class="line"><span class="lineno"> 1150</span>    }</div>
<div class="line"><span class="lineno"> 1151</span>    p.end();</div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>    QRect rect = m_soundCellRects.at(rectId);</div>
<div class="line"><span class="lineno"> 1154</span> </div>
<div class="line"><span class="lineno"> 1155</span>    painter.drawPixmap(rect, img.scaled(rect.size()));</div>
<div class="line"><span class="lineno"> 1156</span>  }</div>
<div class="line"><span class="lineno"> 1157</span>}</div>
<div class="ttc" id="aclass_orientation_html"><div class="ttname"><a href="class_orientation.html">Orientation</a></div><div class="ttdef"><b>Definition:</b> orientation.h:208</div></div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TXshSoundLevel &gt;</a></div></div>
<div class="ttc" id="aclass_t_xsh_cell_html_a5a1965b96c2c698d6f0fb42a80c03406"><div class="ttname"><a href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">TXshCell::getFrameId</a></div><div class="ttdeci">TFrameId getFrameId() const</div><div class="ttdef"><b>Definition:</b> txshcell.h:120</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html_a8c7ad08b83f6df4afec4b00334acfea6"><div class="ttname"><a href="class_t_xsh_cell.html#a8c7ad08b83f6df4afec4b00334acfea6">TXshCell::getSoundLevel</a></div><div class="ttdeci">TXshSoundLevel * getSoundLevel() const</div><div class="ttdef"><b>Definition:</b> txshcell.cpp:25</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a00232f425346daf2f7c23270caef1a95" name="a00232f425346daf2f7c23270caef1a95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00232f425346daf2f7c23270caef1a95">&#9670;&nbsp;</a></span>drawTickMark()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawTickMark </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QRect&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TickMarkType&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1009</span>                                                        {</div>
<div class="line"><span class="lineno"> 1010</span>  QRect tickR(0, 0, rect.height(), rect.height());</div>
<div class="line"><span class="lineno"> 1011</span>  tickR.moveCenter(rect.center());</div>
<div class="line"><span class="lineno"> 1012</span>  painter.drawPixmap(tickR, tickMarkPm(type, rect.height()));</div>
<div class="line"><span class="lineno"> 1013</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a897ed7326d69e9153a10cc8d089e5368" name="a897ed7326d69e9153a10cc8d089e5368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a897ed7326d69e9153a10cc8d089e5368">&#9670;&nbsp;</a></span>drawXsheetBody()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawXsheetBody </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>framePage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bodyId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  881</span>                                                   {</div>
<div class="line"><span class="lineno">  882</span>  <span class="comment">// Body</span></div>
<div class="line"><span class="lineno">  883</span>  painter.save();</div>
<div class="line"><span class="lineno">  884</span>  {</div>
<div class="line"><span class="lineno">  885</span>    painter.setPen(bodyOutlinePen);</div>
<div class="line"><span class="lineno">  886</span>    painter.drawRect(QRect(0, 0, param(BodyWidth), param(BodyHeight)));</div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>    drawKeyBlock(painter, framePage, bodyId);</div>
<div class="line"><span class="lineno">  889</span>    painter.translate(m_p.keyBlockWidth, 0);</div>
<div class="line"><span class="lineno">  890</span>    drawDialogBlock(painter, framePage, bodyId);</div>
<div class="line"><span class="lineno">  891</span>    painter.translate(param(DialogColWidth), 0);</div>
<div class="line"><span class="lineno">  892</span>    drawCellsBlock(painter, bodyId);</div>
<div class="line"><span class="lineno">  893</span>    painter.translate(m_p.cellsBlockWidth, 0);</div>
<div class="line"><span class="lineno">  894</span>    drawCameraBlock(painter);</div>
<div class="line"><span class="lineno">  895</span>  }</div>
<div class="line"><span class="lineno">  896</span>  painter.restore();</div>
<div class="line"><span class="lineno">  897</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a76b0ba430ae97ee0a47c226b5d2df5ab" name="a76b0ba430ae97ee0a47c226b5d2df5ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76b0ba430ae97ee0a47c226b5d2df5ab">&#9670;&nbsp;</a></span>drawXsheetContents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawXsheetContents </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>framePage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>prallelPage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPreview</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1367</span>                                                                             {</div>
<div class="line"><span class="lineno"> 1368</span>  <span class="keyword">auto</span> checkContinuous = [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="class_t_xsh_level_column.html">TXshLevelColumn</a>* column, <span class="keywordtype">int</span> f, <span class="keywordtype">int</span> r) {</div>
<div class="line"><span class="lineno"> 1369</span>    <span class="keywordflow">if</span> (m_info.continuousLineMode == Line_Always)</div>
<div class="line"><span class="lineno"> 1370</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1371</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_info.continuousLineMode == Line_None)</div>
<div class="line"><span class="lineno"> 1372</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1373</span>    <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = column-&gt;getCell(f);</div>
<div class="line"><span class="lineno"> 1374</span>    <span class="comment">// check subsequent cells and see if more than 3 cells continue.</span></div>
<div class="line"><span class="lineno"> 1375</span>    <span class="keywordtype">int</span> tmp_r = r + 1;</div>
<div class="line"><span class="lineno"> 1376</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tmp_f = f + 1; tmp_f &lt;= f + 3; tmp_f++, tmp_r++) {</div>
<div class="line"><span class="lineno"> 1377</span>      <span class="keywordflow">if</span> (tmp_f == m_duration) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1378</span>      <span class="keywordflow">if</span> (tmp_r % 72 == 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// step over to the next body</span></div>
<div class="line"><span class="lineno"> 1379</span>      <span class="keywordflow">if</span> (column-&gt;getCell(tmp_f) != cell) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1380</span>      <span class="comment">// tickmark breaks continuous line</span></div>
<div class="line"><span class="lineno"> 1381</span>      <span class="keywordtype">int</span> markId = column-&gt;getCellMark(tmp_f);</div>
<div class="line"><span class="lineno"> 1382</span>      <span class="keywordflow">if</span> (markId &gt;= 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1383</span>          (m_info.tick1MarkId == markId || m_info.tick2MarkId == markId))</div>
<div class="line"><span class="lineno"> 1384</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1385</span>    }</div>
<div class="line"><span class="lineno"> 1386</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1387</span>  };</div>
<div class="line"><span class="lineno"> 1388</span> </div>
<div class="line"><span class="lineno"> 1389</span>  <span class="comment">// draw soundtrack</span></div>
<div class="line"><span class="lineno"> 1390</span>  drawSound(painter, framePage);</div>
<div class="line"><span class="lineno"> 1391</span> </div>
<div class="line"><span class="lineno"> 1392</span>  painter.setPen(</div>
<div class="line"><span class="lineno"> 1393</span>      QPen(Qt::black, mm2px(0.5), Qt::SolidLine, Qt::FlatCap, Qt::MiterJoin));</div>
<div class="line"><span class="lineno"> 1394</span>  painter.setFont(m_info.contentsFontFamily);</div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span>  <span class="comment">// draw dialogue</span></div>
<div class="line"><span class="lineno"> 1397</span>  drawDialogue(painter, framePage);</div>
<div class="line"><span class="lineno"> 1398</span> </div>
<div class="line"><span class="lineno"> 1399</span>  <span class="keywordtype">int</span> colsInPage = columnsInPage();</div>
<div class="line"><span class="lineno"> 1400</span>  <span class="keywordtype">int</span> startColId = colsInPage * parallelPage;</div>
<div class="line"><span class="lineno"> 1401</span>  <span class="keywordtype">int</span> startFrame = param(FrameLength) * framePage;</div>
<div class="line"><span class="lineno"> 1402</span>  <span class="keywordtype">int</span> c          = 0, r;</div>
<div class="line"><span class="lineno"> 1403</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> colId = startColId; c &lt; colsInPage; c++, colId++) {</div>
<div class="line"><span class="lineno"> 1404</span>    <span class="keywordflow">if</span> (colId == m_columns.size()) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1405</span> </div>
<div class="line"><span class="lineno"> 1406</span>    <a class="code hl_class" href="class_t_xsh_level_column.html">TXshLevelColumn</a>* column = m_columns.at(colId).first;</div>
<div class="line"><span class="lineno"> 1407</span>    <span class="comment">// obtain level in this column</span></div>
<div class="line"><span class="lineno"> 1408</span>    <span class="keywordtype">int</span> r0, r1;</div>
<div class="line"><span class="lineno"> 1409</span>    column-&gt;getRange(r0, r1);</div>
<div class="line"><span class="lineno"> 1410</span>    <a class="code hl_class" href="class_t_smart_pointer_t.html">TXshLevelP</a> level = column-&gt;getCell(r0).m_level;</div>
<div class="line"><span class="lineno"> 1411</span> </div>
<div class="line"><span class="lineno"> 1412</span>    QString columnName = m_columns.at(colId).second;</div>
<div class="line"><span class="lineno"> 1413</span>    <span class="keywordflow">if</span> (columnName.isEmpty())</div>
<div class="line"><span class="lineno"> 1414</span>      columnName = QString::fromStdWString(level-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a3a59fb1bd3261baee4e889a9edbf0ae8">getName</a>());</div>
<div class="line"><span class="lineno"> 1415</span> </div>
<div class="line"><span class="lineno"> 1416</span>    <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> prevCell;</div>
<div class="line"><span class="lineno"> 1417</span>    <span class="keywordtype">bool</span> drawCLFlag;</div>
<div class="line"><span class="lineno"> 1418</span> </div>
<div class="line"><span class="lineno"> 1419</span>    r = 0;</div>
<div class="line"><span class="lineno"> 1420</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = startFrame; r &lt; param(FrameLength); r++, f++) {</div>
<div class="line"><span class="lineno"> 1421</span>      <span class="comment">// draw level name</span></div>
<div class="line"><span class="lineno"> 1422</span>      <span class="keywordflow">if</span> (r % 72 == 0)</div>
<div class="line"><span class="lineno"> 1423</span>        drawLevelName(painter, m_colLabelRects[c][r / 72], columnName);</div>
<div class="line"><span class="lineno"> 1424</span>      <span class="comment">// draw level name on bottom</span></div>
<div class="line"><span class="lineno"> 1425</span>      <span class="keywordflow">if</span> (m_info.drawLevelNameOnBottom &amp;&amp; r % 72 == 37 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1426</span>          startFrame + 72 != m_duration)</div>
<div class="line"><span class="lineno"> 1427</span>        drawLevelName(painter, m_colLabelRects_bottom[c][r / 72], columnName,</div>
<div class="line"><span class="lineno"> 1428</span>                      <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1429</span> </div>
<div class="line"><span class="lineno"> 1430</span>      <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = column-&gt;getCell(f);</div>
<div class="line"><span class="lineno"> 1431</span>      <span class="keywordflow">if</span> (cell.m_level != level) cell.m_level = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1432</span> </div>
<div class="line"><span class="lineno"> 1433</span>      <span class="keywordtype">int</span> markId = column-&gt;getCellMark(r);</div>
<div class="line"><span class="lineno"> 1434</span> </div>
<div class="line"><span class="lineno"> 1435</span>      <span class="comment">// cotinuous line</span></div>
<div class="line"><span class="lineno"> 1436</span>      <span class="keywordflow">if</span> (r != 0 &amp;&amp; r != 72 &amp;&amp; prevCell == cell) {</div>
<div class="line"><span class="lineno"> 1437</span>        <span class="comment">// draw tick mark</span></div>
<div class="line"><span class="lineno"> 1438</span>        <span class="keywordflow">if</span> (markId &gt;= 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1439</span>            (m_info.tick1MarkId == markId || m_info.tick2MarkId == markId)) {</div>
<div class="line"><span class="lineno"> 1440</span>          <span class="keywordflow">if</span> (m_info.tick1MarkId == markId)</div>
<div class="line"><span class="lineno"> 1441</span>            drawTickMark(painter, m_cellRects[c][r], m_info.tick1MarkType);</div>
<div class="line"><span class="lineno"> 1442</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1443</span>            drawTickMark(painter, m_cellRects[c][r], m_info.tick2MarkType);</div>
<div class="line"><span class="lineno"> 1444</span>          drawCLFlag = checkContinuous(column, f, r);</div>
<div class="line"><span class="lineno"> 1445</span>        }</div>
<div class="line"><span class="lineno"> 1446</span> </div>
<div class="line"><span class="lineno"> 1447</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (drawCLFlag)</div>
<div class="line"><span class="lineno"> 1448</span>          drawContinuousLine(painter, m_cellRects[c][r], cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>());</div>
<div class="line"><span class="lineno"> 1449</span>      }</div>
<div class="line"><span class="lineno"> 1450</span>      <span class="comment">// draw cell</span></div>
<div class="line"><span class="lineno"> 1451</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1452</span>        <span class="keywordtype">bool</span> drawKeyMark = (markId &gt;= 0 &amp;&amp; m_info.keyMarkId == markId);</div>
<div class="line"><span class="lineno"> 1453</span>        drawCellNumber(painter, m_cellRects[c][r], cell, drawKeyMark);</div>
<div class="line"><span class="lineno"> 1454</span>        drawCLFlag = checkContinuous(column, f, r);</div>
<div class="line"><span class="lineno"> 1455</span>      }</div>
<div class="line"><span class="lineno"> 1456</span>      prevCell = cell;</div>
<div class="line"><span class="lineno"> 1457</span> </div>
<div class="line"><span class="lineno"> 1458</span>      <span class="keywordflow">if</span> (f == m_duration - 1) {</div>
<div class="line"><span class="lineno"> 1459</span>        <span class="comment">// break after drawing the end mark</span></div>
<div class="line"><span class="lineno"> 1460</span>        drawEndMark(painter, m_cellRects[c][r]);</div>
<div class="line"><span class="lineno"> 1461</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1462</span>      }</div>
<div class="line"><span class="lineno"> 1463</span>    }</div>
<div class="line"><span class="lineno"> 1464</span>  }</div>
<div class="line"><span class="lineno"> 1465</span> </div>
<div class="line"><span class="lineno"> 1466</span>  painter.setFont(m_info.templateFontFamily);</div>
<div class="line"><span class="lineno"> 1467</span>  QFont font = painter.font();</div>
<div class="line"><span class="lineno"> 1468</span>  font.setLetterSpacing(QFont::PercentageSpacing, 100);</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>  <span class="comment">// draw data</span></div>
<div class="line"><span class="lineno"> 1471</span>  painter.save();</div>
<div class="line"><span class="lineno"> 1472</span>  {</div>
<div class="line"><span class="lineno"> 1473</span>    <span class="keywordflow">if</span> (isPreview)</div>
<div class="line"><span class="lineno"> 1474</span>      painter.translate(mm2px(m_p.documentMargin.left()),</div>
<div class="line"><span class="lineno"> 1475</span>                        mm2px(m_p.documentMargin.top()));</div>
<div class="line"><span class="lineno"> 1476</span> </div>
<div class="line"><span class="lineno"> 1477</span>    <span class="keywordflow">if</span> (m_dataRects.contains(Data_Memo) &amp;&amp; !m_info.memoText.isEmpty() &amp;&amp;</div>
<div class="line"><span class="lineno"> 1478</span>        framePage == 0) {</div>
<div class="line"><span class="lineno"> 1479</span>      <span class="comment">// define the preferable font size</span></div>
<div class="line"><span class="lineno"> 1480</span>      <span class="keywordtype">int</span> lines =</div>
<div class="line"><span class="lineno"> 1481</span>          std::max(m_info.memoText.count(<span class="stringliteral">&quot;\n&quot;</span>) + 1, param(MemoLinesAmount));</div>
<div class="line"><span class="lineno"> 1482</span>      <span class="keywordtype">int</span> lineSpacing = m_dataRects.value(Data_Memo).height() / lines;</div>
<div class="line"><span class="lineno"> 1483</span>      <span class="keywordtype">int</span> pixelSize   = lineSpacing;</div>
<div class="line"><span class="lineno"> 1484</span>      <span class="keywordflow">while</span> (1) {</div>
<div class="line"><span class="lineno"> 1485</span>        font.setPixelSize(pixelSize);</div>
<div class="line"><span class="lineno"> 1486</span>        <span class="keywordflow">if</span> (pixelSize &lt;= mm2px(2) ||</div>
<div class="line"><span class="lineno"> 1487</span>            QFontMetrics(font).lineSpacing() &lt;= lineSpacing)</div>
<div class="line"><span class="lineno"> 1488</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1489</span>        pixelSize -= mm2px(0.2);</div>
<div class="line"><span class="lineno"> 1490</span>      }</div>
<div class="line"><span class="lineno"> 1491</span>      painter.setFont(font);</div>
<div class="line"><span class="lineno"> 1492</span>      painter.drawText(m_dataRects.value(Data_Memo),</div>
<div class="line"><span class="lineno"> 1493</span>                       Qt::AlignLeft | Qt::AlignTop, m_info.memoText);</div>
<div class="line"><span class="lineno"> 1494</span>    }</div>
<div class="line"><span class="lineno"> 1495</span> </div>
<div class="line"><span class="lineno"> 1496</span>    QString dateTime_scenePath = m_info.dateTimeText;</div>
<div class="line"><span class="lineno"> 1497</span>    <span class="keywordflow">if</span> (!m_info.scenePathText.isEmpty()) {</div>
<div class="line"><span class="lineno"> 1498</span>      <span class="keywordflow">if</span> (!dateTime_scenePath.isEmpty()) dateTime_scenePath += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1499</span>      dateTime_scenePath += m_info.scenePathText;</div>
<div class="line"><span class="lineno"> 1500</span>    }</div>
<div class="line"><span class="lineno"> 1501</span>    <span class="keywordflow">if</span> (m_dataRects.contains(Data_DateTimeAndScenePath) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1502</span>        !dateTime_scenePath.isEmpty()) {</div>
<div class="line"><span class="lineno"> 1503</span>      font.setPixelSize(m_p.bodylabelTextSize_Small);</div>
<div class="line"><span class="lineno"> 1504</span>      painter.setFont(font);</div>
<div class="line"><span class="lineno"> 1505</span>      painter.drawText(m_dataRects.value(Data_DateTimeAndScenePath),</div>
<div class="line"><span class="lineno"> 1506</span>                       Qt::AlignRight | Qt::AlignTop, dateTime_scenePath);</div>
<div class="line"><span class="lineno"> 1507</span>    }</div>
<div class="line"><span class="lineno"> 1508</span>  }</div>
<div class="line"><span class="lineno"> 1509</span>  painter.restore();</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>  <span class="keywordflow">if</span> (m_dataRects.contains(Data_Second) &amp;&amp; m_duration &gt;= 24) {</div>
<div class="line"><span class="lineno"> 1512</span>    QString str = QString::number(m_duration / 24);</div>
<div class="line"><span class="lineno"> 1513</span>    setFontFittingRectWidth(painter, str, m_dataRects.value(Data_Second));</div>
<div class="line"><span class="lineno"> 1514</span>    painter.drawText(m_dataRects.value(Data_Second), Qt::AlignCenter, str);</div>
<div class="line"><span class="lineno"> 1515</span>  }</div>
<div class="line"><span class="lineno"> 1516</span>  <span class="keywordflow">if</span> (m_dataRects.contains(Data_Frame) &amp;&amp; m_duration &gt; 0) {</div>
<div class="line"><span class="lineno"> 1517</span>    QString str = QString::number(m_duration % 24);</div>
<div class="line"><span class="lineno"> 1518</span>    setFontFittingRectWidth(painter, str, m_dataRects.value(Data_Frame));</div>
<div class="line"><span class="lineno"> 1519</span>    painter.drawText(m_dataRects.value(Data_Frame), Qt::AlignCenter, str);</div>
<div class="line"><span class="lineno"> 1520</span>  }</div>
<div class="line"><span class="lineno"> 1521</span> </div>
<div class="line"><span class="lineno"> 1522</span>  <span class="keywordflow">if</span> (m_dataRects.contains(Data_TotalPages)) {</div>
<div class="line"><span class="lineno"> 1523</span>    QString totStr = QString::number(framePageCount());</div>
<div class="line"><span class="lineno"> 1524</span>    <span class="keywordflow">if</span> (parallelPageCount() &gt; 1)</div>
<div class="line"><span class="lineno"> 1525</span>      totStr += <span class="stringliteral">&quot;x&quot;</span> + QString::number(parallelPageCount());</div>
<div class="line"><span class="lineno"> 1526</span> </div>
<div class="line"><span class="lineno"> 1527</span>    setFontFittingRectWidth(painter, totStr,</div>
<div class="line"><span class="lineno"> 1528</span>                            m_dataRects.value(Data_TotalPages));</div>
<div class="line"><span class="lineno"> 1529</span>    painter.drawText(m_dataRects.value(Data_TotalPages), Qt::AlignCenter,</div>
<div class="line"><span class="lineno"> 1530</span>                     totStr);</div>
<div class="line"><span class="lineno"> 1531</span>  }</div>
<div class="line"><span class="lineno"> 1532</span>  <span class="keywordflow">if</span> (m_dataRects.contains(Data_CurrentPage)) {</div>
<div class="line"><span class="lineno"> 1533</span>    QString curStr = QString::number(framePage + 1);</div>
<div class="line"><span class="lineno"> 1534</span>    <span class="keywordflow">if</span> (parallelPageCount() &gt; 1) curStr += QChar(<span class="charliteral">&#39;A&#39;</span> + parallelPage);</div>
<div class="line"><span class="lineno"> 1535</span> </div>
<div class="line"><span class="lineno"> 1536</span>    setFontFittingRectWidth(painter, curStr,</div>
<div class="line"><span class="lineno"> 1537</span>                            m_dataRects.value(Data_CurrentPage));</div>
<div class="line"><span class="lineno"> 1538</span>    painter.drawText(m_dataRects.value(Data_CurrentPage),</div>
<div class="line"><span class="lineno"> 1539</span>                     Qt::AlignLeft | Qt::AlignVCenter, curStr);</div>
<div class="line"><span class="lineno"> 1540</span>  }</div>
<div class="line"><span class="lineno"> 1541</span>  <span class="keywordflow">if</span> (m_dataRects.contains(Data_SceneName) &amp;&amp; !m_info.sceneNameText.isEmpty()) {</div>
<div class="line"><span class="lineno"> 1542</span>    QRect rect = m_dataRects.value(Data_SceneName);</div>
<div class="line"><span class="lineno"> 1543</span>    setFontFittingRectWidth(painter, m_info.sceneNameText, rect);</div>
<div class="line"><span class="lineno"> 1544</span>    painter.drawText(rect, Qt::AlignCenter, m_info.sceneNameText);</div>
<div class="line"><span class="lineno"> 1545</span>  }</div>
<div class="line"><span class="lineno"> 1546</span>}</div>
<div class="ttc" id="aclass_t_xsh_level_column_html"><div class="ttname"><a href="class_t_xsh_level_column.html">TXshLevelColumn</a></div><div class="ttdef"><b>Definition:</b> txshlevelcolumn.h:37</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a3a59fb1bd3261baee4e889a9edbf0ae8"><div class="ttname"><a href="class_t_xsh_level.html#a3a59fb1bd3261baee4e889a9edbf0ae8">TXshLevel::getName</a></div><div class="ttdeci">std::wstring getName() const</div><div class="ttdoc">Return level name.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:115</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f11b73e251113c7f7458e47a565bf2e" name="a8f11b73e251113c7f7458e47a565bf2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f11b73e251113c7f7458e47a565bf2e">&#9670;&nbsp;</a></span>drawXsheetTemplate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::drawXsheetTemplate </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>framePage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isPreview</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1335</span>                                                           {</div>
<div class="line"><span class="lineno"> 1336</span>  <span class="comment">// clear rects</span></div>
<div class="line"><span class="lineno"> 1337</span>  m_colLabelRects.clear();</div>
<div class="line"><span class="lineno"> 1338</span>  m_colLabelRects_bottom.clear();</div>
<div class="line"><span class="lineno"> 1339</span>  m_cellRects.clear();</div>
<div class="line"><span class="lineno"> 1340</span>  m_soundCellRects.clear();</div>
<div class="line"><span class="lineno"> 1341</span> </div>
<div class="line"><span class="lineno"> 1342</span>  <span class="comment">// painter.setFont(QFont(&quot;Times New Roman&quot;));</span></div>
<div class="line"><span class="lineno"> 1343</span>  painter.setFont(m_info.templateFontFamily);</div>
<div class="line"><span class="lineno"> 1344</span>  painter.setPen(thinPen);</div>
<div class="line"><span class="lineno"> 1345</span> </div>
<div class="line"><span class="lineno"> 1346</span>  painter.save();</div>
<div class="line"><span class="lineno"> 1347</span>  {</div>
<div class="line"><span class="lineno"> 1348</span>    <span class="keywordflow">if</span> (isPreview)</div>
<div class="line"><span class="lineno"> 1349</span>      painter.translate(mm2px(m_p.documentMargin.left()),</div>
<div class="line"><span class="lineno"> 1350</span>                        mm2px(m_p.documentMargin.top()));</div>
<div class="line"><span class="lineno"> 1351</span> </div>
<div class="line"><span class="lineno"> 1352</span>    drawLogo(painter);</div>
<div class="line"><span class="lineno"> 1353</span> </div>
<div class="line"><span class="lineno"> 1354</span>    <span class="comment">// draw Info header</span></div>
<div class="line"><span class="lineno"> 1355</span>    drawInfoHeader(painter);</div>
<div class="line"><span class="lineno"> 1356</span> </div>
<div class="line"><span class="lineno"> 1357</span>    painter.translate(0, param(BodyTop));</div>
<div class="line"><span class="lineno"> 1358</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> bId = 0; bId &lt; param(BodyAmount); bId++) {</div>
<div class="line"><span class="lineno"> 1359</span>      drawXsheetBody(painter, framePage, bId);</div>
<div class="line"><span class="lineno"> 1360</span>      painter.translate(param(BodyWidth) + param(BodyHMargin), 0);</div>
<div class="line"><span class="lineno"> 1361</span>    }</div>
<div class="line"><span class="lineno"> 1362</span>  }</div>
<div class="line"><span class="lineno"> 1363</span>  painter.restore();</div>
<div class="line"><span class="lineno"> 1364</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a934d3c5d86524d4e5b7ca39c830b4768" name="a934d3c5d86524d4e5b7ca39c830b4768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a934d3c5d86524d4e5b7ca39c830b4768">&#9670;&nbsp;</a></span>framePageCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XSheetPDFTemplate::framePageCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1582</span>                                      {</div>
<div class="line"><span class="lineno"> 1583</span>  <span class="keywordtype">int</span> ret = m_duration / param(FrameLength);</div>
<div class="line"><span class="lineno"> 1584</span>  <span class="keywordflow">if</span> (m_duration % param(FrameLength) != 0 || m_duration == 0) ret += 1;</div>
<div class="line"><span class="lineno"> 1585</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1586</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af594aa481a59d6a731c7f9a809d98502" name="af594aa481a59d6a731c7f9a809d98502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af594aa481a59d6a731c7f9a809d98502">&#9670;&nbsp;</a></span>initializePage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::initializePage </td>
          <td>(</td>
          <td class="paramtype">QPdfWriter &amp;&#160;</td>
          <td class="paramname"><em>writer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1548</span>                                                         {</div>
<div class="line"><span class="lineno"> 1549</span>  QPageLayout pageLayout;</div>
<div class="line"><span class="lineno"> 1550</span>  pageLayout.setUnits(QPageLayout::Millimeter);</div>
<div class="line"><span class="lineno"> 1551</span>  pageLayout.setPageSize(</div>
<div class="line"><span class="lineno"> 1552</span>      QPageSize(m_p.documentPageSize));  <span class="comment">// B4ISO B4(250x353mm)</span></div>
<div class="line"><span class="lineno"> 1553</span>                                         <span class="comment">// {B4JIS B4(257x364mm)</span></div>
<div class="line"><span class="lineno"> 1554</span>  pageLayout.setOrientation(QPageLayout::Portrait);</div>
<div class="line"><span class="lineno"> 1555</span>  pageLayout.setMargins(m_p.documentMargin);</div>
<div class="line"><span class="lineno"> 1556</span>  writer.setPageLayout(pageLayout);</div>
<div class="line"><span class="lineno"> 1557</span>  writer.setResolution(PDF_Resolution);</div>
<div class="line"><span class="lineno"> 1558</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0834b27544eb7cd61d8398a78f50642" name="ad0834b27544eb7cd61d8398a78f50642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0834b27544eb7cd61d8398a78f50642">&#9670;&nbsp;</a></span>initializePreview()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPixmap XSheetPDFTemplate::initializePreview </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1560</span>                                             {</div>
<div class="line"><span class="lineno"> 1561</span>  QSizeF size = QPageSize::definitionSize(m_p.documentPageSize);</div>
<div class="line"><span class="lineno"> 1562</span>  QSize pxSize;</div>
<div class="line"><span class="lineno"> 1563</span>  <span class="comment">// convert to px</span></div>
<div class="line"><span class="lineno"> 1564</span>  <span class="keywordflow">switch</span> (QPageSize::definitionUnits(m_p.documentPageSize)) {</div>
<div class="line"><span class="lineno"> 1565</span>  <span class="keywordflow">case</span> QPageSize::Millimeter:</div>
<div class="line"><span class="lineno"> 1566</span>    pxSize = QSize(mm2px(size.width()), mm2px(size.height()));</div>
<div class="line"><span class="lineno"> 1567</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1568</span>  <span class="keywordflow">case</span> QPageSize::Inch:</div>
<div class="line"><span class="lineno"> 1569</span>    pxSize =</div>
<div class="line"><span class="lineno"> 1570</span>        QSize(size.width() * PDF_Resolution, size.height() * PDF_Resolution);</div>
<div class="line"><span class="lineno"> 1571</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1572</span>  <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1573</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;unsupported unit&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno"> 1574</span>    <span class="keywordflow">return</span> QPixmap();</div>
<div class="line"><span class="lineno"> 1575</span>  }</div>
<div class="line"><span class="lineno"> 1576</span>  QPixmap retPm(pxSize);</div>
<div class="line"><span class="lineno"> 1577</span>  retPm.fill(Qt::white);</div>
<div class="line"><span class="lineno"> 1578</span> </div>
<div class="line"><span class="lineno"> 1579</span>  <span class="keywordflow">return</span> retPm;</div>
<div class="line"><span class="lineno"> 1580</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af965541651c84b16119f16f11459f7ed" name="af965541651c84b16119f16f11459f7ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af965541651c84b16119f16f11459f7ed">&#9670;&nbsp;</a></span>logoPixelSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QSize XSheetPDFTemplate::logoPixelSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1610</span>                                       {</div>
<div class="line"><span class="lineno"> 1611</span>  <span class="keywordflow">if</span> (!m_dataRects.contains(Data_Logo)) <span class="keywordflow">return</span> QSize();</div>
<div class="line"><span class="lineno"> 1612</span>  <span class="keywordflow">return</span> m_dataRects.value(Data_Logo).size();</div>
<div class="line"><span class="lineno"> 1613</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aba5734784fc72c5bfd05a48b4fc738cf" name="aba5734784fc72c5bfd05a48b4fc738cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5734784fc72c5bfd05a48b4fc738cf">&#9670;&nbsp;</a></span>parallelPageCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XSheetPDFTemplate::parallelPageCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1588</span>                                         {</div>
<div class="line"><span class="lineno"> 1589</span>  <span class="keywordtype">int</span> colsInPage  = columnsInPage();</div>
<div class="line"><span class="lineno"> 1590</span>  <span class="keywordtype">int</span> colsInScene = m_columns.size();</div>
<div class="line"><span class="lineno"> 1591</span> </div>
<div class="line"><span class="lineno"> 1592</span>  <span class="keywordtype">int</span> ret = colsInScene / colsInPage;</div>
<div class="line"><span class="lineno"> 1593</span>  <span class="keywordflow">if</span> (colsInScene % colsInPage != 0 || colsInScene == 0) ret += 1;</div>
<div class="line"><span class="lineno"> 1594</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1595</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5db03c8eb610ab813a85da3340d5e21" name="ad5db03c8eb610ab813a85da3340d5e21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5db03c8eb610ab813a85da3340d5e21">&#9670;&nbsp;</a></span>param()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int XSheetPDFTemplate::param </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>defaultValue</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  203</span>                                                       {</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">if</span> (!m_params.contains(<span class="keywordtype">id</span>)) std::cout &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">return</span> m_params.value(<span class="keywordtype">id</span>, defaultValue);</div>
<div class="line"><span class="lineno">  206</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a127d4a4685ff2a88af7d2c4644d4e32c" name="a127d4a4685ff2a88af7d2c4644d4e32c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a127d4a4685ff2a88af7d2c4644d4e32c">&#9670;&nbsp;</a></span>registerCellRects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::registerCellRects </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bodyId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  523</span>                                                                    {</div>
<div class="line"><span class="lineno">  524</span>  <span class="keywordtype">int</span> heightAdj = (param(OneSecHeight) - param(RowHeight) * 24) / 2;</div>
<div class="line"><span class="lineno">  525</span>  painter.save();</div>
<div class="line"><span class="lineno">  526</span>  {</div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kc = 0; kc &lt; colAmount; kc++) {</div>
<div class="line"><span class="lineno">  528</span>      QList&lt;QRect&gt; colCellRects;</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>      painter.save();</div>
<div class="line"><span class="lineno">  531</span>      {</div>
<div class="line"><span class="lineno">  532</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> sec = 0; sec &lt; 3; sec++) {</div>
<div class="line"><span class="lineno">  533</span>          painter.save();</div>
<div class="line"><span class="lineno">  534</span>          {</div>
<div class="line"><span class="lineno">  535</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 1; f &lt;= 24; f++) {</div>
<div class="line"><span class="lineno">  536</span>              QRect cellRect(0, 0, colWidth, param(RowHeight));</div>
<div class="line"><span class="lineno">  537</span>              <span class="comment">// fill gap between the doubled lines between seconds</span></div>
<div class="line"><span class="lineno">  538</span>              <span class="keywordflow">if</span> (sec != 0 &amp;&amp; f == 1)</div>
<div class="line"><span class="lineno">  539</span>                cellRect.adjust(0, -heightAdj, 0, 0);</div>
<div class="line"><span class="lineno">  540</span>              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sec != 2 &amp;&amp; f == 24)</div>
<div class="line"><span class="lineno">  541</span>                cellRect.adjust(0, 0, 0, heightAdj);</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>              colCellRects.append(painter.transform().mapRect(cellRect));</div>
<div class="line"><span class="lineno">  544</span>              painter.translate(0, param(RowHeight));</div>
<div class="line"><span class="lineno">  545</span>            }</div>
<div class="line"><span class="lineno">  546</span>          }</div>
<div class="line"><span class="lineno">  547</span>          painter.restore();</div>
<div class="line"><span class="lineno">  548</span>          painter.translate(0, param(OneSecHeight));</div>
<div class="line"><span class="lineno">  549</span>        }</div>
<div class="line"><span class="lineno">  550</span>      }</div>
<div class="line"><span class="lineno">  551</span>      painter.restore();</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>      <span class="keywordflow">if</span> (bodyId == 0)</div>
<div class="line"><span class="lineno">  554</span>        m_cellRects.append(colCellRects);</div>
<div class="line"><span class="lineno">  555</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  556</span>        m_cellRects[kc].append(colCellRects);</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>      painter.translate(colWidth, 0);</div>
<div class="line"><span class="lineno">  559</span>    }</div>
<div class="line"><span class="lineno">  560</span>  }</div>
<div class="line"><span class="lineno">  561</span>  painter.restore();</div>
<div class="line"><span class="lineno">  562</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0e983fc2d6be5fafc1391c4f99e51f2" name="aa0e983fc2d6be5fafc1391c4f99e51f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0e983fc2d6be5fafc1391c4f99e51f2">&#9670;&nbsp;</a></span>registerColLabelRects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::registerColLabelRects </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colAmount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bodyId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  481</span>                                                                        {</div>
<div class="line"><span class="lineno">  482</span>  painter.save();</div>
<div class="line"><span class="lineno">  483</span>  {</div>
<div class="line"><span class="lineno">  484</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kc = 0; kc &lt; colAmount; kc++) {</div>
<div class="line"><span class="lineno">  485</span>      QRect labelRect(0, 0, colWidth, param(HeaderHeight) / 2);</div>
<div class="line"><span class="lineno">  486</span>      labelRect = painter.transform().mapRect(labelRect);</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>      <span class="keywordflow">if</span> (bodyId == 0) {</div>
<div class="line"><span class="lineno">  489</span>        QList&lt;QRect&gt; labelRects = {labelRect};</div>
<div class="line"><span class="lineno">  490</span>        m_colLabelRects.append(labelRects);</div>
<div class="line"><span class="lineno">  491</span>      } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  492</span>        m_colLabelRects[kc].append(labelRect);</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>      painter.translate(colWidth, 0);</div>
<div class="line"><span class="lineno">  495</span>    }</div>
<div class="line"><span class="lineno">  496</span>  }</div>
<div class="line"><span class="lineno">  497</span>  painter.restore();</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>  <span class="keywordflow">if</span> (!m_info.drawLevelNameOnBottom) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>  <span class="comment">// register bottom rects</span></div>
<div class="line"><span class="lineno">  502</span>  painter.save();</div>
<div class="line"><span class="lineno">  503</span>  {</div>
<div class="line"><span class="lineno">  504</span>    painter.translate(0, param(BodyHeight) - param(HeaderHeight) / 2);</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> kc = 0; kc &lt; colAmount; kc++) {</div>
<div class="line"><span class="lineno">  507</span>      QRect labelRect(0, 0, colWidth, param(HeaderHeight) / 2);</div>
<div class="line"><span class="lineno">  508</span>      labelRect = painter.transform().mapRect(labelRect);</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>      <span class="keywordflow">if</span> (bodyId == 0) {</div>
<div class="line"><span class="lineno">  511</span>        QList&lt;QRect&gt; labelRects = {labelRect};</div>
<div class="line"><span class="lineno">  512</span>        m_colLabelRects_bottom.append(labelRects);</div>
<div class="line"><span class="lineno">  513</span>      } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  514</span>        m_colLabelRects_bottom[kc].append(labelRect);</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>      painter.translate(colWidth, 0);</div>
<div class="line"><span class="lineno">  517</span>    }</div>
<div class="line"><span class="lineno">  518</span>  }</div>
<div class="line"><span class="lineno">  519</span>  painter.restore();</div>
<div class="line"><span class="lineno">  520</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adcd814fc22d976f917a8496ac9259d10" name="adcd814fc22d976f917a8496ac9259d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcd814fc22d976f917a8496ac9259d10">&#9670;&nbsp;</a></span>registerSoundRects()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::registerSoundRects </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bodyId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  565</span>                                                       {</div>
<div class="line"><span class="lineno">  566</span>  <span class="keywordtype">int</span> heightAdj = (param(OneSecHeight) - param(RowHeight) * 24) / 2;</div>
<div class="line"><span class="lineno">  567</span>  painter.save();</div>
<div class="line"><span class="lineno">  568</span>  {</div>
<div class="line"><span class="lineno">  569</span>    painter.save();</div>
<div class="line"><span class="lineno">  570</span>    {</div>
<div class="line"><span class="lineno">  571</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> sec = 0; sec &lt; 3; sec++) {</div>
<div class="line"><span class="lineno">  572</span>        painter.save();</div>
<div class="line"><span class="lineno">  573</span>        {</div>
<div class="line"><span class="lineno">  574</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 1; f &lt;= 24; f++) {</div>
<div class="line"><span class="lineno">  575</span>            QRect cellRect(0, 0, colWidth, param(RowHeight));</div>
<div class="line"><span class="lineno">  576</span>            <span class="comment">// fill gap between the doubled lines between seconds</span></div>
<div class="line"><span class="lineno">  577</span>            <span class="keywordflow">if</span> (sec != 0 &amp;&amp; f == 1)</div>
<div class="line"><span class="lineno">  578</span>              cellRect.adjust(0, -heightAdj, 0, 0);</div>
<div class="line"><span class="lineno">  579</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sec != 2 &amp;&amp; f == 24)</div>
<div class="line"><span class="lineno">  580</span>              cellRect.adjust(0, 0, 0, heightAdj);</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>            m_soundCellRects.append(painter.transform().mapRect(cellRect));</div>
<div class="line"><span class="lineno">  583</span>            painter.translate(0, param(RowHeight));</div>
<div class="line"><span class="lineno">  584</span>          }</div>
<div class="line"><span class="lineno">  585</span>        }</div>
<div class="line"><span class="lineno">  586</span>        painter.restore();</div>
<div class="line"><span class="lineno">  587</span>        painter.translate(0, param(OneSecHeight));</div>
<div class="line"><span class="lineno">  588</span>      }</div>
<div class="line"><span class="lineno">  589</span>    }</div>
<div class="line"><span class="lineno">  590</span>    painter.restore();</div>
<div class="line"><span class="lineno">  591</span>    painter.translate(colWidth, 0);</div>
<div class="line"><span class="lineno">  592</span>  }</div>
<div class="line"><span class="lineno">  593</span>  painter.restore();</div>
<div class="line"><span class="lineno">  594</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a63d3bb4ac4fe0c5ee7f904923b9d698b" name="a63d3bb4ac4fe0c5ee7f904923b9d698b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63d3bb4ac4fe0c5ee7f904923b9d698b">&#9670;&nbsp;</a></span>setInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::setInfo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_x_sheet_p_d_f_format_info.html">XSheetPDFFormatInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1310</span>                                                               {</div>
<div class="line"><span class="lineno"> 1311</span>  m_info         = info;</div>
<div class="line"><span class="lineno"> 1312</span>  thinPen        = QPen(info.lineColor, param(ThinLineWidth, mm2px(0.25)),</div>
<div class="line"><span class="lineno"> 1313</span>                 Qt::SolidLine, Qt::FlatCap, Qt::MiterJoin);</div>
<div class="line"><span class="lineno"> 1314</span>  thickPen       = QPen(info.lineColor, param(ThickLineWidth, mm2px(0.5)),</div>
<div class="line"><span class="lineno"> 1315</span>                  Qt::SolidLine, Qt::FlatCap, Qt::MiterJoin);</div>
<div class="line"><span class="lineno"> 1316</span>  bodyOutlinePen = QPen(info.lineColor, param(BodyOutlineWidth, mm2px(0.5)),</div>
<div class="line"><span class="lineno"> 1317</span>                        Qt::SolidLine, Qt::FlatCap, Qt::MiterJoin);</div>
<div class="line"><span class="lineno"> 1318</span>  blockBorderPen = (param(IsBlockBorderThick, 0) &gt; 0) ? thickPen : thinPen;</div>
<div class="line"><span class="lineno"> 1319</span>  <span class="comment">// check if it should use extra columns</span></div>
<div class="line"><span class="lineno"> 1320</span>  <span class="keywordflow">if</span> (info.exportArea == Area_Cells &amp;&amp; param(ExtraCellsColAmount, 0) &gt; 0) {</div>
<div class="line"><span class="lineno"> 1321</span>    <span class="keywordtype">int</span> colsInScene   = m_columns.size();</div>
<div class="line"><span class="lineno"> 1322</span>    <span class="keywordtype">int</span> colsInPage    = param(CellsColAmount);</div>
<div class="line"><span class="lineno"> 1323</span>    <span class="keywordtype">int</span> colsInPage_Ex = param(CellsColAmount) + param(ExtraCellsColAmount);</div>
<div class="line"><span class="lineno"> 1324</span>    <span class="keyword">auto</span> getPageNum   = [&amp;](<span class="keywordtype">int</span> cip) {</div>
<div class="line"><span class="lineno"> 1325</span>      <span class="keywordtype">int</span> ret = colsInScene / cip;</div>
<div class="line"><span class="lineno"> 1326</span>      <span class="keywordflow">if</span> (colsInScene % cip != 0 || colsInScene == 0) ret += 1;</div>
<div class="line"><span class="lineno"> 1327</span>      <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno"> 1328</span>    };</div>
<div class="line"><span class="lineno"> 1329</span>    <span class="keywordflow">if</span> (getPageNum(colsInPage) &gt; getPageNum(colsInPage_Ex))</div>
<div class="line"><span class="lineno"> 1330</span>      m_useExtraColumns = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1331</span>  }</div>
<div class="line"><span class="lineno"> 1332</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abe13b8b995cf8a2ee457c28d9307a78d" name="abe13b8b995cf8a2ee457c28d9307a78d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe13b8b995cf8a2ee457c28d9307a78d">&#9670;&nbsp;</a></span>setLogoPixmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::setLogoPixmap </td>
          <td>(</td>
          <td class="paramtype">QPixmap&#160;</td>
          <td class="paramname"><em>pm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1615</span>{ m_info.logoPixmap = pm; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a61415515ce5ff995ffcaca3f51e6d6d4" name="a61415515ce5ff995ffcaca3f51e6d6d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61415515ce5ff995ffcaca3f51e6d6d4">&#9670;&nbsp;</a></span>setNoteColumn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::setNoteColumn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_xsh_sound_text_column.html">TXshSoundTextColumn</a> *&#160;</td>
          <td class="paramname"><em>noteColumn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  225</span>                                                      {</div>
<div class="line"><span class="lineno">  226</span>    m_noteColumn = noteColumn;</div>
<div class="line"><span class="lineno">  227</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a572d047d7b3ab473dfcad4dcc300c991" name="a572d047d7b3ab473dfcad4dcc300c991"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a572d047d7b3ab473dfcad4dcc300c991">&#9670;&nbsp;</a></span>setSoundColumns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XSheetPDFTemplate::setSoundColumns </td>
          <td>(</td>
          <td class="paramtype">const QList&lt; <a class="el" href="class_t_xsh_sound_column.html">TXshSoundColumn</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>soundColumns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  222</span>                                                                    {</div>
<div class="line"><span class="lineno">  223</span>    m_soundColumns = soundColumns;</div>
<div class="line"><span class="lineno">  224</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a573081e101bacf5d27953dbf94104baf" name="a573081e101bacf5d27953dbf94104baf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a573081e101bacf5d27953dbf94104baf">&#9670;&nbsp;</a></span>blockBorderPen</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QPen XSheetPDFTemplate::blockBorderPen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5fcea083f9f2543b1290c163af1e15de" name="a5fcea083f9f2543b1290c163af1e15de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fcea083f9f2543b1290c163af1e15de">&#9670;&nbsp;</a></span>bodyOutlinePen</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QPen XSheetPDFTemplate::bodyOutlinePen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af813eb763f6303464280040ce536cc47" name="af813eb763f6303464280040ce536cc47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af813eb763f6303464280040ce536cc47">&#9670;&nbsp;</a></span>m_cellRects</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt;QList&lt;QRect&gt; &gt; XSheetPDFTemplate::m_cellRects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c8be28269c4d78fe295fbdc74eb2782" name="a1c8be28269c4d78fe295fbdc74eb2782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c8be28269c4d78fe295fbdc74eb2782">&#9670;&nbsp;</a></span>m_colLabelRects</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt;QList&lt;QRect&gt; &gt; XSheetPDFTemplate::m_colLabelRects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adc3170c11e6f1c039f9e6e1ff79b5011" name="adc3170c11e6f1c039f9e6e1ff79b5011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc3170c11e6f1c039f9e6e1ff79b5011">&#9670;&nbsp;</a></span>m_colLabelRects_bottom</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt;QList&lt;QRect&gt; &gt; XSheetPDFTemplate::m_colLabelRects_bottom</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1b93f3d13b7b4d22effa4bed0ab61feb" name="a1b93f3d13b7b4d22effa4bed0ab61feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b93f3d13b7b4d22effa4bed0ab61feb">&#9670;&nbsp;</a></span>m_columns</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt;QPair&lt;<a class="el" href="class_t_xsh_level_column.html">TXshLevelColumn</a>*, QString&gt; &gt; XSheetPDFTemplate::m_columns</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ada02fd309100b0396fa4c291b6b12493" name="ada02fd309100b0396fa4c291b6b12493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada02fd309100b0396fa4c291b6b12493">&#9670;&nbsp;</a></span>m_dataRects</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt;XSheetPDFDataType, QRect&gt; XSheetPDFTemplate::m_dataRects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab0b3d78d67b54d4e03559a134d299615" name="ab0b3d78d67b54d4e03559a134d299615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0b3d78d67b54d4e03559a134d299615">&#9670;&nbsp;</a></span>m_duration</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int XSheetPDFTemplate::m_duration</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a342b0d0b6afd43c964c7bdddef6591b2" name="a342b0d0b6afd43c964c7bdddef6591b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a342b0d0b6afd43c964c7bdddef6591b2">&#9670;&nbsp;</a></span>m_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_x_sheet_p_d_f_format_info.html">XSheetPDFFormatInfo</a> XSheetPDFTemplate::m_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af0a34685bc4ad9c6ed8f048e9335ebac" name="af0a34685bc4ad9c6ed8f048e9335ebac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a34685bc4ad9c6ed8f048e9335ebac">&#9670;&nbsp;</a></span>m_noteColumn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_xsh_sound_text_column.html">TXshSoundTextColumn</a>* XSheetPDFTemplate::m_noteColumn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a326fae9a554a49ba1f5de9a40c142536" name="a326fae9a554a49ba1f5de9a40c142536"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a326fae9a554a49ba1f5de9a40c142536">&#9670;&nbsp;</a></span>m_params</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMap&lt;std::string, int&gt; XSheetPDFTemplate::m_params</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4a8b788175db56257bd16461266be377" name="a4a8b788175db56257bd16461266be377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a8b788175db56257bd16461266be377">&#9670;&nbsp;</a></span>m_soundCellRects</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt;QRect&gt; XSheetPDFTemplate::m_soundCellRects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a60e8ad35a646ea8fe14980a5ea090548" name="a60e8ad35a646ea8fe14980a5ea090548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60e8ad35a646ea8fe14980a5ea090548">&#9670;&nbsp;</a></span>m_soundColumns</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt;<a class="el" href="class_t_xsh_sound_column.html">TXshSoundColumn</a>*&gt; XSheetPDFTemplate::m_soundColumns</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3de73c85f1fde885aab75b38f6f3f0ec" name="a3de73c85f1fde885aab75b38f6f3f0ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de73c85f1fde885aab75b38f6f3f0ec">&#9670;&nbsp;</a></span>m_useExtraColumns</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool XSheetPDFTemplate::m_useExtraColumns</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a910c730b8a21dc6b2c9aad9c4e44dc2e" name="a910c730b8a21dc6b2c9aad9c4e44dc2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a910c730b8a21dc6b2c9aad9c4e44dc2e">&#9670;&nbsp;</a></span>thickPen</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QPen XSheetPDFTemplate::thickPen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a67b700913bc782df375007dcc16f1c2c" name="a67b700913bc782df375007dcc16f1c2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67b700913bc782df375007dcc16f1c2c">&#9670;&nbsp;</a></span>thinPen</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QPen XSheetPDFTemplate::thinPen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/toonz/<a class="el" href="">exportxsheetpdf.h</a></li>
<li>E:/opentoonz/toonz/sources/toonz/<a class="el" href="">exportxsheetpdf.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
