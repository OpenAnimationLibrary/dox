<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: RenderTask Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_render_task-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">RenderTask Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for RenderTask:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_render_task.png" usemap="#RenderTask_map" alt=""/>
  <map id="RenderTask_map" name="RenderTask_map">
<area href="class_t_thread_1_1_runnable.html" alt="TThread::Runnable" shape="rect" coords="64,56,182,80"/>
<area href="class_t_smart_object.html" alt="TSmartObject" shape="rect" coords="128,0,246,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a34a4ec42b5ce97c352d853bcb159677b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#a34a4ec42b5ce97c352d853bcb159677b">RenderTask</a> (unsigned long renderId, unsigned long taskId, double frame, const <a class="el" href="class_t_render_settings.html">TRenderSettings</a> &amp;ri, const <a class="el" href="class_t_fx_pair.html">TFxPair</a> &amp;fx, const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;framePos, const <a class="el" href="class_t_dimension_t.html">TDimension</a> &amp;frameSize, const <a class="el" href="class_t_smart_pointer_t.html">TRendererImpP</a> &amp;rendererImp)</td></tr>
<tr class="separator:a34a4ec42b5ce97c352d853bcb159677b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a473aebc935ee97b149f8a5bee86ad3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#a4a473aebc935ee97b149f8a5bee86ad3">addFrame</a> (double frame)</td></tr>
<tr class="separator:a4a473aebc935ee97b149f8a5bee86ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a2779a05cac8ec03a3ae4d0b129316"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#af7a2779a05cac8ec03a3ae4d0b129316">buildTile</a> (<a class="el" href="class_t_tile.html">TTile</a> &amp;tile)</td></tr>
<tr class="separator:af7a2779a05cac8ec03a3ae4d0b129316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a49e4c5a4e6615dd201115da39e0cd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#a1a49e4c5a4e6615dd201115da39e0cd2">releaseTiles</a> ()</td></tr>
<tr class="separator:a1a49e4c5a4e6615dd201115da39e0cd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90e42d11dd6db8391bb7da5a8d12f0a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#a90e42d11dd6db8391bb7da5a8d12f0a5">onFrameStarted</a> ()</td></tr>
<tr class="separator:a90e42d11dd6db8391bb7da5a8d12f0a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f71c9b9da0a971c1a73abaa85ccf6b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#a3f71c9b9da0a971c1a73abaa85ccf6b1">onFrameCompleted</a> ()</td></tr>
<tr class="separator:a3f71c9b9da0a971c1a73abaa85ccf6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aab533fcf2cf162d5ed08d1f168dc3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#a7aab533fcf2cf162d5ed08d1f168dc3c">onFrameFailed</a> (<a class="el" href="class_t_exception.html">TException</a> &amp;e)</td></tr>
<tr class="separator:a7aab533fcf2cf162d5ed08d1f168dc3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4233cbcd0a85006692e16d0e72fb295e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#a4233cbcd0a85006692e16d0e72fb295e">preRun</a> ()</td></tr>
<tr class="separator:a4233cbcd0a85006692e16d0e72fb295e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29790caf493428270230adef46f46bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#aa29790caf493428270230adef46f46bc">run</a> () override</td></tr>
<tr class="memdesc:aa29790caf493428270230adef46f46bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The central code of the task that is executed by a worker thread.  <a href="class_render_task.html#aa29790caf493428270230adef46f46bc">More...</a><br /></td></tr>
<tr class="separator:aa29790caf493428270230adef46f46bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e59b3deba3c988b62e78e81bda1172f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#a1e59b3deba3c988b62e78e81bda1172f">taskLoad</a> () override</td></tr>
<tr class="separator:a1e59b3deba3c988b62e78e81bda1172f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ffdff3acd6939971633419f990de20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_render_task.html#a58ffdff3acd6939971633419f990de20">onFinished</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a>) override</td></tr>
<tr class="memdesc:a58ffdff3acd6939971633419f990de20"><td class="mdescLeft">&#160;</td><td class="mdescRight">The analogous of <a class="el" href="class_t_thread_1_1_runnable.html#a0857d4a039557f2853a12203ea854f01">onStarted()</a> for the <a class="el" href="class_t_thread_1_1_runnable.html#a77da4aa600bdb892b55312efcd6e3a21">finished()</a> signal.  <a href="class_render_task.html#a58ffdff3acd6939971633419f990de20">More...</a><br /></td></tr>
<tr class="separator:a58ffdff3acd6939971633419f990de20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_thread_1_1_runnable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_thread_1_1_runnable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_thread_1_1_runnable.html">TThread::Runnable</a></td></tr>
<tr class="memitem:ad3b8ee5e7b375bd169f7382fa26b00ef inherit pub_methods_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#ad3b8ee5e7b375bd169f7382fa26b00ef">run</a> ()=0</td></tr>
<tr class="memdesc:ad3b8ee5e7b375bd169f7382fa26b00ef inherit pub_methods_class_t_thread_1_1_runnable"><td class="mdescLeft">&#160;</td><td class="mdescRight">The central code of the task that is executed by a worker thread.  <a href="class_t_thread_1_1_runnable.html#ad3b8ee5e7b375bd169f7382fa26b00ef">More...</a><br /></td></tr>
<tr class="separator:ad3b8ee5e7b375bd169f7382fa26b00ef inherit pub_methods_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c08dc36ed7b4c9e35809ea696c91e95 inherit pub_methods_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#a9c08dc36ed7b4c9e35809ea696c91e95">taskLoad</a> ()</td></tr>
<tr class="separator:a9c08dc36ed7b4c9e35809ea696c91e95 inherit pub_methods_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e52533850da5433f3075d3d032182c1 inherit pub_methods_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#a7e52533850da5433f3075d3d032182c1">schedulingPriority</a> ()</td></tr>
<tr class="separator:a7e52533850da5433f3075d3d032182c1 inherit pub_methods_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7266725bb29e0ba78a4d3ddb728a5aac inherit pub_methods_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">virtual QThread::Priority&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#a7266725bb29e0ba78a4d3ddb728a5aac">runningPriority</a> ()</td></tr>
<tr class="separator:a7266725bb29e0ba78a4d3ddb728a5aac inherit pub_methods_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:ab9a1e31b7e2b8c9b141fe9ce7e8cf489 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#ab9a1e31b7e2b8c9b141fe9ce7e8cf489">TSmartObject</a> (ClassCode classCode)</td></tr>
<tr class="separator:ab9a1e31b7e2b8c9b141fe9ce7e8cf489 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a76a715c1785eb545fa3ef2f6e06928 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a4a76a715c1785eb545fa3ef2f6e06928">addRef</a> ()</td></tr>
<tr class="separator:a4a76a715c1785eb545fa3ef2f6e06928 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99750961461978d73f55a4a54e6f874e inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a99750961461978d73f55a4a54e6f874e">release</a> ()</td></tr>
<tr class="separator:a99750961461978d73f55a4a54e6f874e inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f1dab21fd93f07fdf6c86661d738a5 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">TINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#ac1f1dab21fd93f07fdf6c86661d738a5">getRefCount</a> () const</td></tr>
<tr class="separator:ac1f1dab21fd93f07fdf6c86661d738a5 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:a3bc37f54976a445f30c99753a478feae inherit pub_types_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">typedef short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a3bc37f54976a445f30c99753a478feae">ClassCode</a></td></tr>
<tr class="separator:a3bc37f54976a445f30c99753a478feae inherit pub_types_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_slots_class_t_thread_1_1_runnable"><td colspan="2" onclick="javascript:toggleInherit('pub_slots_class_t_thread_1_1_runnable')"><img src="closed.png" alt="-"/>&#160;Public Slots inherited from <a class="el" href="class_t_thread_1_1_runnable.html">TThread::Runnable</a></td></tr>
<tr class="memitem:a0857d4a039557f2853a12203ea854f01 inherit pub_slots_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#a0857d4a039557f2853a12203ea854f01">onStarted</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a> sender)</td></tr>
<tr class="separator:a0857d4a039557f2853a12203ea854f01 inherit pub_slots_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae08796496a74b40c4e1940e386f7926f inherit pub_slots_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#ae08796496a74b40c4e1940e386f7926f">onFinished</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a> sender)</td></tr>
<tr class="memdesc:ae08796496a74b40c4e1940e386f7926f inherit pub_slots_class_t_thread_1_1_runnable"><td class="mdescLeft">&#160;</td><td class="mdescRight">The analogous of <a class="el" href="class_t_thread_1_1_runnable.html#a0857d4a039557f2853a12203ea854f01">onStarted()</a> for the <a class="el" href="class_t_thread_1_1_runnable.html#a77da4aa600bdb892b55312efcd6e3a21">finished()</a> signal.  <a href="class_t_thread_1_1_runnable.html#ae08796496a74b40c4e1940e386f7926f">More...</a><br /></td></tr>
<tr class="separator:ae08796496a74b40c4e1940e386f7926f inherit pub_slots_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6a991a0e5d2c1fe1885f43928c50ed inherit pub_slots_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#a1a6a991a0e5d2c1fe1885f43928c50ed">onException</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a> sender)</td></tr>
<tr class="memdesc:a1a6a991a0e5d2c1fe1885f43928c50ed inherit pub_slots_class_t_thread_1_1_runnable"><td class="mdescLeft">&#160;</td><td class="mdescRight">The analogous of <a class="el" href="class_t_thread_1_1_runnable.html#a0857d4a039557f2853a12203ea854f01">onStarted()</a> for the <a class="el" href="class_t_thread_1_1_runnable.html#a9dd092bdcdc53e1ed45851562417e135">exception()</a> signal.  <a href="class_t_thread_1_1_runnable.html#a1a6a991a0e5d2c1fe1885f43928c50ed">More...</a><br /></td></tr>
<tr class="separator:a1a6a991a0e5d2c1fe1885f43928c50ed inherit pub_slots_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adec8792febe8d01c9fddf868a4605f65 inherit pub_slots_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#adec8792febe8d01c9fddf868a4605f65">onCanceled</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a> sender)</td></tr>
<tr class="memdesc:adec8792febe8d01c9fddf868a4605f65 inherit pub_slots_class_t_thread_1_1_runnable"><td class="mdescLeft">&#160;</td><td class="mdescRight">The analogous of <a class="el" href="class_t_thread_1_1_runnable.html#a0857d4a039557f2853a12203ea854f01">onStarted()</a> for the <a class="el" href="class_t_thread_1_1_runnable.html#a87a003e7e55636146017bd05df73531a">canceled()</a> signal.  <a href="class_t_thread_1_1_runnable.html#adec8792febe8d01c9fddf868a4605f65">More...</a><br /></td></tr>
<tr class="separator:adec8792febe8d01c9fddf868a4605f65 inherit pub_slots_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734635ad9bf10ec12afcc6f305af8c55 inherit pub_slots_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#a734635ad9bf10ec12afcc6f305af8c55">onTerminated</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a> sender)</td></tr>
<tr class="memdesc:a734635ad9bf10ec12afcc6f305af8c55 inherit pub_slots_class_t_thread_1_1_runnable"><td class="mdescLeft">&#160;</td><td class="mdescRight">The analogous of <a class="el" href="class_t_thread_1_1_runnable.html#a0857d4a039557f2853a12203ea854f01">onStarted()</a> for the <a class="el" href="class_t_thread_1_1_runnable.html#afda69c2f2eb6df8d30d7668a4cdd60da">terminated()</a> signal.  <a href="class_t_thread_1_1_runnable.html#a734635ad9bf10ec12afcc6f305af8c55">More...</a><br /></td></tr>
<tr class="separator:a734635ad9bf10ec12afcc6f305af8c55 inherit pub_slots_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header signals_class_t_thread_1_1_runnable"><td colspan="2" onclick="javascript:toggleInherit('signals_class_t_thread_1_1_runnable')"><img src="closed.png" alt="-"/>&#160;Signals inherited from <a class="el" href="class_t_thread_1_1_runnable.html">TThread::Runnable</a></td></tr>
<tr class="memitem:a4603628ddbc41e9e73e027e8f817bff1 inherit signals_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#a4603628ddbc41e9e73e027e8f817bff1">started</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a> sender)</td></tr>
<tr class="separator:a4603628ddbc41e9e73e027e8f817bff1 inherit signals_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77da4aa600bdb892b55312efcd6e3a21 inherit signals_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#a77da4aa600bdb892b55312efcd6e3a21">finished</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a> sender)</td></tr>
<tr class="separator:a77da4aa600bdb892b55312efcd6e3a21 inherit signals_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd092bdcdc53e1ed45851562417e135 inherit signals_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#a9dd092bdcdc53e1ed45851562417e135">exception</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a> sender)</td></tr>
<tr class="separator:a9dd092bdcdc53e1ed45851562417e135 inherit signals_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87a003e7e55636146017bd05df73531a inherit signals_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#a87a003e7e55636146017bd05df73531a">canceled</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a> sender)</td></tr>
<tr class="separator:a87a003e7e55636146017bd05df73531a inherit signals_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda69c2f2eb6df8d30d7668a4cdd60da inherit signals_class_t_thread_1_1_runnable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_thread_1_1_runnable.html#afda69c2f2eb6df8d30d7668a4cdd60da">terminated</a> (<a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a> sender)</td></tr>
<tr class="separator:afda69c2f2eb6df8d30d7668a4cdd60da inherit signals_class_t_thread_1_1_runnable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:a41e6552e87694c0edba6acc7e57b5752 inherit pub_static_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">static TINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a41e6552e87694c0edba6acc7e57b5752">getInstanceCount</a> (ClassCode code)</td></tr>
<tr class="separator:a41e6552e87694c0edba6acc7e57b5752 inherit pub_static_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a34a4ec42b5ce97c352d853bcb159677b" name="a34a4ec42b5ce97c352d853bcb159677b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a4ec42b5ce97c352d853bcb159677b">&#9670;&nbsp;</a></span>RenderTask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RenderTask::RenderTask </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>renderId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>taskId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_render_settings.html">TRenderSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>ri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_fx_pair.html">TFxPair</a> &amp;&#160;</td>
          <td class="paramname"><em>fx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>framePos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_dimension_t.html">TDimension</a> &amp;&#160;</td>
          <td class="paramname"><em>frameSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_smart_pointer_t.html">TRendererImpP</a> &amp;&#160;</td>
          <td class="paramname"><em>rendererImp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  921</span>    : m_renderId(renderId)</div>
<div class="line"><span class="lineno">  922</span>    , m_taskId(taskId)</div>
<div class="line"><span class="lineno">  923</span>    , m_info(ri)</div>
<div class="line"><span class="lineno">  924</span>    , m_fx(fx)</div>
<div class="line"><span class="lineno">  925</span>    , m_frameSize(frameSize)</div>
<div class="line"><span class="lineno">  926</span>    , m_framePos(framePos)</div>
<div class="line"><span class="lineno">  927</span>    , m_rendererImp(rendererImp)</div>
<div class="line"><span class="lineno">  928</span>    , m_fieldRender(ri.<a class="code hl_variable" href="class_t_render_settings.html#a48bbcbb6ca2cad3de97f4cabea09cd2f">m_fieldPrevalence</a> != <a class="code hl_enumvalue" href="class_t_render_settings.html#aff548d2c58f7c6adea513ab32526eae8acc9a06de2f74e1ae1404282226d6a2d9">TRenderSettings::NoField</a>)</div>
<div class="line"><span class="lineno">  929</span>    , m_stereoscopic(ri.<a class="code hl_variable" href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">m_stereoscopic</a>) {</div>
<div class="line"><span class="lineno">  930</span>  m_frames.push_back(frame);</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>  <span class="comment">// Connect the onFinished slot</span></div>
<div class="line"><span class="lineno">  933</span>  connect(<span class="keyword">this</span>, SIGNAL(<a class="code hl_signal" href="class_t_thread_1_1_runnable.html#a77da4aa600bdb892b55312efcd6e3a21">finished</a>(<a class="code hl_class" href="class_t_smart_pointer_t.html">TThread::RunnableP</a>)), <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno">  934</span>          SLOT(<a class="code hl_function" href="class_render_task.html#a58ffdff3acd6939971633419f990de20">onFinished</a>(<a class="code hl_class" href="class_t_smart_pointer_t.html">TThread::RunnableP</a>)));</div>
<div class="line"><span class="lineno">  935</span>  connect(<span class="keyword">this</span>, SIGNAL(<a class="code hl_signal" href="class_t_thread_1_1_runnable.html#a9dd092bdcdc53e1ed45851562417e135">exception</a>(<a class="code hl_class" href="class_t_smart_pointer_t.html">TThread::RunnableP</a>)), <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno">  936</span>          SLOT(<a class="code hl_function" href="class_render_task.html#a58ffdff3acd6939971633419f990de20">onFinished</a>(<a class="code hl_class" href="class_t_smart_pointer_t.html">TThread::RunnableP</a>)));</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>  <span class="comment">// The shrink info is currently reversed to the settings&#39;affine. Shrink info</span></div>
<div class="line"><span class="lineno">  939</span>  <span class="comment">// in the TRenderSettings</span></div>
<div class="line"><span class="lineno">  940</span>  <span class="comment">// is no longer supported.</span></div>
<div class="line"><span class="lineno">  941</span>  m_info.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a> = m_info.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a> = 1;</div>
<div class="line"><span class="lineno">  942</span>}</div>
<div class="ttc" id="aclass_render_task_html_a58ffdff3acd6939971633419f990de20"><div class="ttname"><a href="class_render_task.html#a58ffdff3acd6939971633419f990de20">RenderTask::onFinished</a></div><div class="ttdeci">void onFinished(TThread::RunnableP) override</div><div class="ttdoc">The analogous of onStarted() for the finished() signal.</div><div class="ttdef"><b>Definition:</b> trenderer.cpp:1100</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a48bbcbb6ca2cad3de97f4cabea09cd2f"><div class="ttname"><a href="class_t_render_settings.html#a48bbcbb6ca2cad3de97f4cabea09cd2f">TRenderSettings::m_fieldPrevalence</a></div><div class="ttdeci">FieldPrevalence m_fieldPrevalence</div><div class="ttdoc">Field prevalence of the required frame.</div><div class="ttdef"><b>Definition:</b> trasterfx.h:131</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a52dd41881bbf6aaf953fe300be2e233e"><div class="ttname"><a href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">TRenderSettings::m_shrinkX</a></div><div class="ttdeci">int m_shrinkX</div><div class="ttdef"><b>Definition:</b> trasterfx.h:125</div></div>
<div class="ttc" id="aclass_t_render_settings_html_aadbd5a3a50b242b366a93023d5f7da07"><div class="ttname"><a href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">TRenderSettings::m_stereoscopic</a></div><div class="ttdeci">bool m_stereoscopic</div><div class="ttdef"><b>Definition:</b> trasterfx.h:133</div></div>
<div class="ttc" id="aclass_t_render_settings_html_ae1882f584ce9ffad12ce6bf9ff23814c"><div class="ttname"><a href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">TRenderSettings::m_shrinkY</a></div><div class="ttdeci">int m_shrinkY</div><div class="ttdef"><b>Definition:</b> trasterfx.h:126</div></div>
<div class="ttc" id="aclass_t_render_settings_html_aff548d2c58f7c6adea513ab32526eae8acc9a06de2f74e1ae1404282226d6a2d9"><div class="ttname"><a href="class_t_render_settings.html#aff548d2c58f7c6adea513ab32526eae8acc9a06de2f74e1ae1404282226d6a2d9">TRenderSettings::NoField</a></div><div class="ttdeci">@ NoField</div><div class="ttdoc">Common rendering.</div><div class="ttdef"><b>Definition:</b> trasterfx.h:89</div></div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; Runnable &gt;</a></div></div>
<div class="ttc" id="aclass_t_thread_1_1_runnable_html_a77da4aa600bdb892b55312efcd6e3a21"><div class="ttname"><a href="class_t_thread_1_1_runnable.html#a77da4aa600bdb892b55312efcd6e3a21">TThread::Runnable::finished</a></div><div class="ttdeci">void finished(TThread::RunnableP sender)</div></div>
<div class="ttc" id="aclass_t_thread_1_1_runnable_html_a9dd092bdcdc53e1ed45851562417e135"><div class="ttname"><a href="class_t_thread_1_1_runnable.html#a9dd092bdcdc53e1ed45851562417e135">TThread::Runnable::exception</a></div><div class="ttdeci">void exception(TThread::RunnableP sender)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a57cd2d0c1924c4023806aedac8893dc9" name="a57cd2d0c1924c4023806aedac8893dc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57cd2d0c1924c4023806aedac8893dc9">&#9670;&nbsp;</a></span>~RenderTask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RenderTask::~RenderTask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  407</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4a473aebc935ee97b149f8a5bee86ad3" name="a4a473aebc935ee97b149f8a5bee86ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a473aebc935ee97b149f8a5bee86ad3">&#9670;&nbsp;</a></span>addFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RenderTask::addFrame </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  409</span>{ m_frames.push_back(frame); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af7a2779a05cac8ec03a3ae4d0b129316" name="af7a2779a05cac8ec03a3ae4d0b129316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a2779a05cac8ec03a3ae4d0b129316">&#9670;&nbsp;</a></span>buildTile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RenderTask::buildTile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_tile.html">TTile</a> &amp;&#160;</td>
          <td class="paramname"><em>tile</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1043</span>                                      {</div>
<div class="line"><span class="lineno"> 1044</span>  tile.m_pos = m_framePos;</div>
<div class="line"><span class="lineno"> 1045</span>  tile.setRaster(</div>
<div class="line"><span class="lineno"> 1046</span>      m_rendererImp-&gt;m_rasterPool.<a class="code hl_function" href="class_raster_pool.html#a5ced6c81a08eebfb4c4dea5bd5a72ddc">getRaster</a>(m_frameSize, m_info.<a class="code hl_variable" href="class_t_render_settings.html#a9489ed9d21a047b29cc5dd285f1f6f19">m_bpp</a>));</div>
<div class="line"><span class="lineno"> 1047</span>}</div>
<div class="ttc" id="aclass_raster_pool_html_a5ced6c81a08eebfb4c4dea5bd5a72ddc"><div class="ttname"><a href="class_raster_pool.html#a5ced6c81a08eebfb4c4dea5bd5a72ddc">RasterPool::getRaster</a></div><div class="ttdeci">TRasterP getRaster()</div><div class="ttdoc">Returns for the first not-busy raster.</div><div class="ttdef"><b>Definition:</b> trenderer.cpp:217</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a9489ed9d21a047b29cc5dd285f1f6f19"><div class="ttname"><a href="class_t_render_settings.html#a9489ed9d21a047b29cc5dd285f1f6f19">TRenderSettings::m_bpp</a></div><div class="ttdeci">int m_bpp</div><div class="ttdoc">moved to TOutputProperties.</div><div class="ttdef"><b>Definition:</b> trasterfx.h:116</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58ffdff3acd6939971633419f990de20" name="a58ffdff3acd6939971633419f990de20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ffdff3acd6939971633419f990de20">&#9670;&nbsp;</a></span>onFinished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RenderTask::onFinished </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_smart_pointer_t.html">TThread::RunnableP</a>&#160;</td>
          <td class="paramname"><em>sender</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The analogous of <a class="el" href="class_t_thread_1_1_runnable.html#a0857d4a039557f2853a12203ea854f01">onStarted()</a> for the <a class="el" href="class_t_thread_1_1_runnable.html#a77da4aa600bdb892b55312efcd6e3a21">finished()</a> signal. </p>

<p>Reimplemented from <a class="el" href="class_t_thread_1_1_runnable.html#ae08796496a74b40c4e1940e386f7926f">TThread::Runnable</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1100</span>                                            {</div>
<div class="line"><span class="lineno"> 1101</span>  <a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *rendererImp = m_rendererImp.getPointer();</div>
<div class="line"><span class="lineno"> 1102</span>  --rendererImp-&gt;m_undoneTasks;</div>
<div class="line"><span class="lineno"> 1103</span> </div>
<div class="line"><span class="lineno"> 1104</span>  <span class="comment">// Tiles release back to the Raster Pool happens in the main thread, after all</span></div>
<div class="line"><span class="lineno"> 1105</span>  <span class="comment">// possible</span></div>
<div class="line"><span class="lineno"> 1106</span>  <span class="comment">// signals emitted in the onFrameCompleted/Failed notifications have been</span></div>
<div class="line"><span class="lineno"> 1107</span>  <span class="comment">// resolved, thus</span></div>
<div class="line"><span class="lineno"> 1108</span>  <span class="comment">// ensuring that no other rendering thread owns the rasters before them.</span></div>
<div class="line"><span class="lineno"> 1109</span>  releaseTiles();</div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span>  <span class="comment">// Update the render instance status</span></div>
<div class="line"><span class="lineno"> 1112</span>  <span class="keywordtype">bool</span> instanceExpires = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1113</span>  <span class="keywordtype">bool</span> isCanceled      = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1114</span>  {</div>
<div class="line"><span class="lineno"> 1115</span>    QMutexLocker sl(&amp;rendererImp-&gt;m_renderInstancesMutex);</div>
<div class="line"><span class="lineno"> 1116</span>    std::map&lt;unsigned long, TRendererImp::RenderInstanceInfos&gt;::iterator it =</div>
<div class="line"><span class="lineno"> 1117</span>        rendererImp-&gt;m_activeInstances.find(m_renderId);</div>
<div class="line"><span class="lineno"> 1118</span> </div>
<div class="line"><span class="lineno"> 1119</span>    <span class="keywordflow">if</span> (it != rendererImp-&gt;m_activeInstances.end() &amp;&amp;</div>
<div class="line"><span class="lineno"> 1120</span>        (--it-&gt;second.m_activeTasks) &lt;= 0) {</div>
<div class="line"><span class="lineno"> 1121</span>      instanceExpires = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1122</span>      isCanceled      = (m_info.m_isCanceled &amp;&amp; *m_info.m_isCanceled);</div>
<div class="line"><span class="lineno"> 1123</span>      rendererImp-&gt;m_activeInstances.erase(m_renderId);</div>
<div class="line"><span class="lineno"> 1124</span>      <span class="comment">// m_info is freed, don&#39;t access further!</span></div>
<div class="line"><span class="lineno"> 1125</span>    }</div>
<div class="line"><span class="lineno"> 1126</span>  }</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span>  <span class="comment">// If the render instance has just expired</span></div>
<div class="line"><span class="lineno"> 1129</span>  <span class="keywordflow">if</span> (instanceExpires) {</div>
<div class="line"><span class="lineno"> 1130</span>    <span class="comment">/*-- キャンセルされた場合はm_overallRenderedRegionの更新をしない --*/</span></div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span>    <span class="comment">// Inform the render ports</span></div>
<div class="line"><span class="lineno"> 1133</span>    rendererImp-&gt;notifyRenderFinished(isCanceled);</div>
<div class="line"><span class="lineno"> 1134</span> </div>
<div class="line"><span class="lineno"> 1135</span>    <span class="comment">// NOTE: This slot is currently invoked on the main thread. It could</span></div>
<div class="line"><span class="lineno"> 1136</span>    <span class="comment">// eventually be</span></div>
<div class="line"><span class="lineno"> 1137</span>    <span class="comment">// invoked directly on rendering threads, specifying the</span></div>
<div class="line"><span class="lineno"> 1138</span>    <span class="comment">// Qt::DirectConnection option -</span></div>
<div class="line"><span class="lineno"> 1139</span>    <span class="comment">// but probably there would be no real advantage in doing so...</span></div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>    <span class="comment">// Temporarily install the renderer in current thread</span></div>
<div class="line"><span class="lineno"> 1142</span>    rendererStorage.setLocalData(<span class="keyword">new</span> (<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *)(rendererImp));</div>
<div class="line"><span class="lineno"> 1143</span>    renderIdsStorage.setLocalData(<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>(m_renderId));</div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span>    <span class="comment">// Inform the resource managers</span></div>
<div class="line"><span class="lineno"> 1146</span>    rendererImp-&gt;declareRenderEnd(m_renderId);</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>    <span class="comment">// Uninstall the temporary</span></div>
<div class="line"><span class="lineno"> 1149</span>    rendererStorage.setLocalData(0);</div>
<div class="line"><span class="lineno"> 1150</span>    renderIdsStorage.setLocalData(0);</div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span>    rendererImp-&gt;m_rasterPool</div>
<div class="line"><span class="lineno"> 1153</span>        .clear();  <span class="comment">// Isn&#39;t this misplaced? Should be in the block</span></div>
<div class="line"><span class="lineno"> 1154</span>  }                <span class="comment">// below...</span></div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>  <span class="comment">// If no rendering task (of this or other render instances) is found...</span></div>
<div class="line"><span class="lineno"> 1157</span>  <span class="keywordflow">if</span> (rendererImp-&gt;m_undoneTasks == 0) {</div>
<div class="line"><span class="lineno"> 1158</span>    QMutexLocker sl(&amp;rendererImp-&gt;m_renderInstancesMutex);</div>
<div class="line"><span class="lineno"> 1159</span>    rendererImp-&gt;quitWaitingLoops();</div>
<div class="line"><span class="lineno"> 1160</span>  }</div>
<div class="line"><span class="lineno"> 1161</span>}</div>
<div class="ttc" id="aclass_t_renderer_imp_html"><div class="ttname"><a href="class_t_renderer_imp.html">TRendererImp</a></div><div class="ttdef"><b>Definition:</b> trenderer.cpp:284</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f71c9b9da0a971c1a73abaa85ccf6b1" name="a3f71c9b9da0a971c1a73abaa85ccf6b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f71c9b9da0a971c1a73abaa85ccf6b1">&#9670;&nbsp;</a></span>onFrameCompleted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RenderTask::onFrameCompleted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1069</span>                                  {</div>
<div class="line"><span class="lineno"> 1070</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> rasA(m_tileA.getRaster());</div>
<div class="line"><span class="lineno"> 1071</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> rasB(m_tileB.getRaster());</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>  <span class="keywordflow">if</span> (m_fieldRender) {</div>
<div class="line"><span class="lineno"> 1074</span>    assert(rasB);</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>    <span class="keywordtype">double</span> t = m_frames[0];</div>
<div class="line"><span class="lineno"> 1077</span> </div>
<div class="line"><span class="lineno"> 1078</span>    <span class="keywordtype">int</span> f = (m_info.<a class="code hl_variable" href="class_t_render_settings.html#a48bbcbb6ca2cad3de97f4cabea09cd2f">m_fieldPrevalence</a> == <a class="code hl_enumvalue" href="class_t_render_settings.html#aff548d2c58f7c6adea513ab32526eae8ae38d22371c97793cd13eede40d9557db">TRenderSettings::EvenField</a>) ? 0 : 1;</div>
<div class="line"><span class="lineno"> 1079</span>    interlace(rasA, rasB, f);</div>
<div class="line"><span class="lineno"> 1080</span>    rasB = <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>();</div>
<div class="line"><span class="lineno"> 1081</span>  }</div>
<div class="line"><span class="lineno"> 1082</span> </div>
<div class="line"><span class="lineno"> 1083</span>  <a class="code hl_struct" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> rd(m_frames, m_info, rasA, rasB, m_renderId,</div>
<div class="line"><span class="lineno"> 1084</span>                             m_taskId);</div>
<div class="line"><span class="lineno"> 1085</span>  m_rendererImp-&gt;notifyRasterCompleted(rd);</div>
<div class="line"><span class="lineno"> 1086</span>}</div>
<div class="ttc" id="aclass_t_render_settings_html_aff548d2c58f7c6adea513ab32526eae8ae38d22371c97793cd13eede40d9557db"><div class="ttname"><a href="class_t_render_settings.html#aff548d2c58f7c6adea513ab32526eae8ae38d22371c97793cd13eede40d9557db">TRenderSettings::EvenField</a></div><div class="ttdeci">@ EvenField</div><div class="ttdoc">Field rendering, even frame.</div><div class="ttdef"><b>Definition:</b> trasterfx.h:90</div></div>
<div class="ttc" id="astruct_t_render_port_1_1_render_data_html"><div class="ttname"><a href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a></div><div class="ttdef"><b>Definition:</b> trenderer.h:91</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7aab533fcf2cf162d5ed08d1f168dc3c" name="a7aab533fcf2cf162d5ed08d1f168dc3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aab533fcf2cf162d5ed08d1f168dc3c">&#9670;&nbsp;</a></span>onFrameFailed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RenderTask::onFrameFailed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_exception.html">TException</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1090</span>                                            {</div>
<div class="line"><span class="lineno"> 1091</span>  <span class="comment">// TRasterP evenRas(m_evenTile.getRaster());</span></div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>  <a class="code hl_struct" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> rd(m_frames, m_info, m_tileA.getRaster(),</div>
<div class="line"><span class="lineno"> 1094</span>                             m_tileB.getRaster(), m_renderId, m_taskId);</div>
<div class="line"><span class="lineno"> 1095</span>  m_rendererImp-&gt;notifyRasterFailure(rd, e);</div>
<div class="line"><span class="lineno"> 1096</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a90e42d11dd6db8391bb7da5a8d12f0a5" name="a90e42d11dd6db8391bb7da5a8d12f0a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90e42d11dd6db8391bb7da5a8d12f0a5">&#9670;&nbsp;</a></span>onFrameStarted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RenderTask::onFrameStarted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1062</span>                                {</div>
<div class="line"><span class="lineno"> 1063</span>  <a class="code hl_struct" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> rd(m_frames, m_info, 0, 0, m_renderId, m_taskId);</div>
<div class="line"><span class="lineno"> 1064</span>  m_rendererImp-&gt;notifyRasterStarted(rd);</div>
<div class="line"><span class="lineno"> 1065</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4233cbcd0a85006692e16d0e72fb295e" name="a4233cbcd0a85006692e16d0e72fb295e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4233cbcd0a85006692e16d0e72fb295e">&#9670;&nbsp;</a></span>preRun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RenderTask::preRun </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  946</span>                        {</div>
<div class="line"><span class="lineno">  947</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> geom(m_framePos, <a class="code hl_class" href="class_t_dimension_t.html">TDimensionD</a>(m_frameSize.lx, m_frameSize.ly));</div>
<div class="line"><span class="lineno">  948</span> </div>
<div class="line"><span class="lineno">  949</span>  <span class="keywordflow">if</span> (m_fx.m_frameA) m_fx.m_frameA-&gt;dryCompute(geom, m_frames[0], m_info);</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>  <span class="keywordflow">if</span> (m_fx.m_frameB)</div>
<div class="line"><span class="lineno">  952</span>    m_fx.m_frameB-&gt;dryCompute(</div>
<div class="line"><span class="lineno">  953</span>        geom, m_fieldRender ? m_frames[0] + 0.5 : m_frames[0], m_info);</div>
<div class="line"><span class="lineno">  954</span>}</div>
<div class="ttc" id="aclass_t_dimension_t_html"><div class="ttname"><a href="class_t_dimension_t.html">TDimensionT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_rect_t_html"><div class="ttname"><a href="class_t_rect_t.html">TRectT&lt; double &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a49e4c5a4e6615dd201115da39e0cd2" name="a1a49e4c5a4e6615dd201115da39e0cd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a49e4c5a4e6615dd201115da39e0cd2">&#9670;&nbsp;</a></span>releaseTiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RenderTask::releaseTiles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1051</span>                              {</div>
<div class="line"><span class="lineno"> 1052</span>  m_rendererImp-&gt;m_rasterPool.<a class="code hl_function" href="class_raster_pool.html#aba17ef1e87c928422bc337f06249f19e">releaseRaster</a>(m_tileA.getRaster());</div>
<div class="line"><span class="lineno"> 1053</span>  m_tileA.setRaster(<a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>());</div>
<div class="line"><span class="lineno"> 1054</span>  <span class="keywordflow">if</span> (m_fieldRender || m_stereoscopic) {</div>
<div class="line"><span class="lineno"> 1055</span>    m_rendererImp-&gt;m_rasterPool.<a class="code hl_function" href="class_raster_pool.html#aba17ef1e87c928422bc337f06249f19e">releaseRaster</a>(m_tileB.getRaster());</div>
<div class="line"><span class="lineno"> 1056</span>    m_tileB.setRaster(<a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>());</div>
<div class="line"><span class="lineno"> 1057</span>  }</div>
<div class="line"><span class="lineno"> 1058</span>}</div>
<div class="ttc" id="aclass_raster_pool_html_aba17ef1e87c928422bc337f06249f19e"><div class="ttname"><a href="class_raster_pool.html#aba17ef1e87c928422bc337f06249f19e">RasterPool::releaseRaster</a></div><div class="ttdeci">void releaseRaster(const TRasterP &amp;r)</div><div class="ttdef"><b>Definition:</b> trenderer.cpp:250</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa29790caf493428270230adef46f46bc" name="aa29790caf493428270230adef46f46bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa29790caf493428270230adef46f46bc">&#9670;&nbsp;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RenderTask::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The central code of the task that is executed by a worker thread. </p>

<p>Implements <a class="el" href="class_t_thread_1_1_runnable.html#ad3b8ee5e7b375bd169f7382fa26b00ef">TThread::Runnable</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  958</span>                     {</div>
<div class="line"><span class="lineno">  959</span>  <span class="comment">// Retrieve the task&#39;s frame</span></div>
<div class="line"><span class="lineno">  960</span>  assert(!m_frames.empty());</div>
<div class="line"><span class="lineno">  961</span>  <span class="keywordtype">double</span> t = m_frames[0];</div>
<div class="line"><span class="lineno">  962</span> </div>
<div class="line"><span class="lineno">  963</span>  <span class="keywordflow">if</span> (m_rendererImp-&gt;hasToDie(m_renderId)) {</div>
<div class="line"><span class="lineno">  964</span>    <a class="code hl_class" href="class_t_exception.html">TException</a> e(<span class="stringliteral">&quot;Render task aborted&quot;</span>);</div>
<div class="line"><span class="lineno">  965</span>    onFrameFailed(e);</div>
<div class="line"><span class="lineno">  966</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  967</span>  }</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>  <span class="comment">// Install the renderer in current thread</span></div>
<div class="line"><span class="lineno">  970</span>  rendererStorage.setLocalData(</div>
<div class="line"><span class="lineno">  971</span>      <span class="keyword">new</span> (<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *)(m_rendererImp.getPointer()));</div>
<div class="line"><span class="lineno">  972</span>  renderIdsStorage.setLocalData(<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>(m_renderId));</div>
<div class="line"><span class="lineno">  973</span> </div>
<div class="line"><span class="lineno">  974</span>  <span class="comment">// Inform the managers of frame start</span></div>
<div class="line"><span class="lineno">  975</span>  m_rendererImp-&gt;declareFrameStart(t);</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>  <span class="keyword">auto</span> sortedFxs = calculateSortedFxs(m_fx.m_frameA);</div>
<div class="line"><span class="lineno">  978</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> fx : sortedFxs) {</div>
<div class="line"><span class="lineno">  979</span>    <span class="keywordflow">if</span> (fx) <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="class_t_fx.html">TFx</a> *<span class="keyword">&gt;</span>(fx)-&gt;callStartRenderFrameHandler(&amp;m_info, t);</div>
<div class="line"><span class="lineno">  980</span>  }</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  983</span>    onFrameStarted();</div>
<div class="line"><span class="lineno">  984</span> </div>
<div class="line"><span class="lineno">  985</span>    <a class="code hl_function" href="class_t_stop_watch.html#aaee6e300a0123a333d7cb80ad253125e">TStopWatch::global</a>(8).<a class="code hl_function" href="class_t_stop_watch.html#a81eefb8cd2dc776cc31799973be063a8">start</a>();</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span>    <span class="keywordflow">if</span> (!m_fieldRender &amp;&amp; !m_stereoscopic) {</div>
<div class="line"><span class="lineno">  988</span>      <span class="comment">// Common case - just build the first tile</span></div>
<div class="line"><span class="lineno">  989</span>      buildTile(m_tileA);</div>
<div class="line"><span class="lineno">  990</span>      <span class="comment">/*-- 通常はここがFxのレンダリング処理 --*/</span></div>
<div class="line"><span class="lineno">  991</span>      m_fx.m_frameA-&gt;compute(m_tileA, t, m_info);</div>
<div class="line"><span class="lineno">  992</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  993</span>      assert(!(m_stereoscopic &amp;&amp; m_fieldRender));</div>
<div class="line"><span class="lineno">  994</span>      <span class="comment">// Field rendering  or stereoscopic case</span></div>
<div class="line"><span class="lineno">  995</span>      <span class="keywordflow">if</span> (m_stereoscopic) {</div>
<div class="line"><span class="lineno">  996</span>        buildTile(m_tileA);</div>
<div class="line"><span class="lineno">  997</span>        m_fx.m_frameA-&gt;compute(m_tileA, t, m_info);</div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span>        buildTile(m_tileB);</div>
<div class="line"><span class="lineno"> 1000</span>        m_fx.m_frameB-&gt;compute(m_tileB, t, m_info);</div>
<div class="line"><span class="lineno"> 1001</span>      }</div>
<div class="line"><span class="lineno"> 1002</span>      <span class="comment">// if fieldPrevalence, Decide the rendering frames depending on field</span></div>
<div class="line"><span class="lineno"> 1003</span>      <span class="comment">// prevalence</span></div>
<div class="line"><span class="lineno"> 1004</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_info.<a class="code hl_variable" href="class_t_render_settings.html#a48bbcbb6ca2cad3de97f4cabea09cd2f">m_fieldPrevalence</a> == <a class="code hl_enumvalue" href="class_t_render_settings.html#aff548d2c58f7c6adea513ab32526eae8ae38d22371c97793cd13eede40d9557db">TRenderSettings::EvenField</a>) {</div>
<div class="line"><span class="lineno"> 1005</span>        buildTile(m_tileA);</div>
<div class="line"><span class="lineno"> 1006</span>        m_fx.m_frameA-&gt;compute(m_tileA, t, m_info);</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>        buildTile(m_tileB);</div>
<div class="line"><span class="lineno"> 1009</span>        m_fx.m_frameB-&gt;compute(m_tileB, t + 0.5, m_info);</div>
<div class="line"><span class="lineno"> 1010</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1011</span>        buildTile(m_tileB);</div>
<div class="line"><span class="lineno"> 1012</span>        m_fx.m_frameA-&gt;compute(m_tileB, t, m_info);</div>
<div class="line"><span class="lineno"> 1013</span> </div>
<div class="line"><span class="lineno"> 1014</span>        buildTile(m_tileA);</div>
<div class="line"><span class="lineno"> 1015</span>        m_fx.m_frameB-&gt;compute(m_tileA, t + 0.5, m_info);</div>
<div class="line"><span class="lineno"> 1016</span>      }</div>
<div class="line"><span class="lineno"> 1017</span>    }</div>
<div class="line"><span class="lineno"> 1018</span> </div>
<div class="line"><span class="lineno"> 1019</span>    <a class="code hl_function" href="class_t_stop_watch.html#aaee6e300a0123a333d7cb80ad253125e">TStopWatch::global</a>(8).stop();</div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>    onFrameCompleted();</div>
<div class="line"><span class="lineno"> 1022</span>  } <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_t_exception.html">TException</a> &amp;e) {</div>
<div class="line"><span class="lineno"> 1023</span>    onFrameFailed(e);</div>
<div class="line"><span class="lineno"> 1024</span>  } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 1025</span>    <a class="code hl_class" href="class_t_exception.html">TException</a> ex(<span class="stringliteral">&quot;Unknown render exception&quot;</span>);</div>
<div class="line"><span class="lineno"> 1026</span>    onFrameFailed(ex);</div>
<div class="line"><span class="lineno"> 1027</span>  }</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>  <span class="comment">// Inform the managers of frame end</span></div>
<div class="line"><span class="lineno"> 1030</span>  m_rendererImp-&gt;declareFrameEnd(t);</div>
<div class="line"><span class="lineno"> 1031</span> </div>
<div class="line"><span class="lineno"> 1032</span>  <span class="comment">// Uninstall the renderer from current thread</span></div>
<div class="line"><span class="lineno"> 1033</span>  rendererStorage.setLocalData(0);</div>
<div class="line"><span class="lineno"> 1034</span>  renderIdsStorage.setLocalData(0);</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> fx : sortedFxs) {</div>
<div class="line"><span class="lineno"> 1037</span>    <span class="keywordflow">if</span> (fx) <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="class_t_fx.html">TFx</a> *<span class="keyword">&gt;</span>(fx)-&gt;callEndRenderFrameHandler(&amp;m_info, t);</div>
<div class="line"><span class="lineno"> 1038</span>  }</div>
<div class="line"><span class="lineno"> 1039</span>}</div>
<div class="ttc" id="aclass_t_exception_html"><div class="ttname"><a href="class_t_exception.html">TException</a></div><div class="ttdef"><b>Definition:</b> texception.h:18</div></div>
<div class="ttc" id="aclass_t_fx_html"><div class="ttname"><a href="class_t_fx.html">TFx</a></div><div class="ttdef"><b>Definition:</b> tfx.h:352</div></div>
<div class="ttc" id="aclass_t_stop_watch_html_a81eefb8cd2dc776cc31799973be063a8"><div class="ttname"><a href="class_t_stop_watch.html#a81eefb8cd2dc776cc31799973be063a8">TStopWatch::start</a></div><div class="ttdeci">void start(bool resetFlag=false)</div><div class="ttdef"><b>Definition:</b> tstopwatch.cpp:105</div></div>
<div class="ttc" id="aclass_t_stop_watch_html_aaee6e300a0123a333d7cb80ad253125e"><div class="ttname"><a href="class_t_stop_watch.html#aaee6e300a0123a333d7cb80ad253125e">TStopWatch::global</a></div><div class="ttdeci">static TStopWatch &amp; global(int index)</div><div class="ttdef"><b>Definition:</b> tstopwatch.h:119</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00090">TRenderSettings::EvenField</a>, <a class="el" href="#l00119">TStopWatch::global()</a>, <a class="el" href="#l00131">TRenderSettings::m_fieldPrevalence</a>, and <a class="el" href="#l00105">TStopWatch::start()</a>.</p>

</div>
</div>
<a id="a1e59b3deba3c988b62e78e81bda1172f" name="a1e59b3deba3c988b62e78e81bda1172f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e59b3deba3c988b62e78e81bda1172f">&#9670;&nbsp;</a></span>taskLoad()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int RenderTask::taskLoad </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns the predicted CPU load generated by the task, expressed in percentage of core usage (that is, 100 is intended to fully occupy one processing core). Appropriate task load calibration is an important step to take when implementing a new task; for this purpose, remember some rules to follow: </p><ul>
<li>
In every moment, the task manager ensures that the overall sum of the active task's load does not exceed the number of machine's processing cores multiplied by 100. This condition is <em>blocking</em> with respect to the execution of any other task - meaning that when a task is about to be executed the task manager <em>waits</em> until enough CPU resources are available to make it run. In particular, observe that a task's load <b>never</b> has to exceed the total CPU resources - doing so would surely result in a block of your application. The number of available cores can be accessed via the <b>TSystem::getProcessorCount()</b> or <b>QThread::idealThreadCount()</b>. </li>
<li>
The task load is considered constant for the duration of the task. Changing its value does not affect the task manager in any way once the task has been started. </li>
<li>
The default task load is 0, representing a very light task. If the task load is 0 the condition at point 1 always succeeds - so the task is always executed when encountered. Observe that a long succession of 0 task loads leads to the creation of a proportional number of threads simultaneously running to dispatch it; if this is a problem, consider the use of <b>Executor::setMaxActiveTasks()</b> to make only a certain number of tasks being executed at the same time. </li>
</ul>

<p>Reimplemented from <a class="el" href="class_t_thread_1_1_runnable.html#a9c08dc36ed7b4c9e35809ea696c91e95">TThread::Runnable</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  421</span>{ <span class="keywordflow">return</span> 100; }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/opentoonz/toonz/sources/common/tfx/<a class="el" href="">trenderer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
