<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: SwatchViewer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_swatch_viewer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">SwatchViewer Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_swatch_viewer.html" title="SwatchViewer.">SwatchViewer</a>.  
 <a href="class_swatch_viewer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="">swatchviewer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SwatchViewer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_swatch_viewer.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer_1_1_content_render.html">ContentRender</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-slots" name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a107e8e8843b357c7566c0792b28a17ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a107e8e8843b357c7566c0792b28a17ad">setEnable</a> (bool enabled)</td></tr>
<tr class="separator:a107e8e8843b357c7566c0792b28a17ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26cd42dbe8dd9379ec783542bd64dc08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a26cd42dbe8dd9379ec783542bd64dc08">updateSize</a> (const QSize &amp;size)</td></tr>
<tr class="separator:a26cd42dbe8dd9379ec783542bd64dc08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb9370bbb99147564e479482f9c2644"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a5fb9370bbb99147564e479482f9c2644">setBgPainter</a> (TPixel32 color1, TPixel32 color2=TPixel32())</td></tr>
<tr class="separator:a5fb9370bbb99147564e479482f9c2644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a094b900a04ca53730b4d53e00bc6d117"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a094b900a04ca53730b4d53e00bc6d117">resetView</a> ()</td></tr>
<tr class="separator:a094b900a04ca53730b4d53e00bc6d117"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefa56fb908b8a9e08a724d47d2a13eed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#aefa56fb908b8a9e08a724d47d2a13eed">fitView</a> ()</td></tr>
<tr class="separator:aefa56fb908b8a9e08a724d47d2a13eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="signals" name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:aaa71b71cbdd1eac38b9693d874e3ff2b"><td class="memItemLeft" align="right" valign="top"><a id="aaa71b71cbdd1eac38b9693d874e3ff2b" name="aaa71b71cbdd1eac38b9693d874e3ff2b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pointPositionChanged</b> (int index, const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;p)</td></tr>
<tr class="separator:aaa71b71cbdd1eac38b9693d874e3ff2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1100de80e408015206c802f0f29324aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a1100de80e408015206c802f0f29324aa">SwatchViewer</a> (QWidget *parent=0, Qt::WFlags flags=0)</td></tr>
<tr class="separator:a1100de80e408015206c802f0f29324aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8628345566c06dbf91c6b1c336e690f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#ab8628345566c06dbf91c6b1c336e690f">setCameraMode</a> (bool enabled)</td></tr>
<tr class="separator:ab8628345566c06dbf91c6b1c336e690f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a616b0e5c5e34aa0ec8000323e6a70f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a9a616b0e5c5e34aa0ec8000323e6a70f">getCameraMode</a> () const</td></tr>
<tr class="separator:a9a616b0e5c5e34aa0ec8000323e6a70f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb0cc1eb92c94f1b9550aebc75b8427"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a6cb0cc1eb92c94f1b9550aebc75b8427">setCameraSize</a> (const <a class="el" href="class_t_dimension_t.html">TDimension</a> &amp;cameraSize)</td></tr>
<tr class="separator:a6cb0cc1eb92c94f1b9550aebc75b8427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbd2952f064a9438140da8861a96c4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_dimension_t.html">TDimension</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a8dbd2952f064a9438140da8861a96c4e">getCameraSize</a> () const</td></tr>
<tr class="separator:a8dbd2952f064a9438140da8861a96c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4fdb58b79bdd09087bcfc19bd6dad8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a4c4fdb58b79bdd09087bcfc19bd6dad8">setFx</a> (const <a class="el" href="class_t_smart_pointer_t.html">TFxP</a> &amp;fx, const <a class="el" href="class_t_smart_pointer_t.html">TFxP</a> &amp;actualFx, int frame)</td></tr>
<tr class="separator:a4c4fdb58b79bdd09087bcfc19bd6dad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0cc24f3d4b71fe6cd733dc43397a23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a0d0cc24f3d4b71fe6cd733dc43397a23">updateFrame</a> (int frame)</td></tr>
<tr class="separator:a0d0cc24f3d4b71fe6cd733dc43397a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de0cf835f2a40a4a85097b623fd5849"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a7de0cf835f2a40a4a85097b623fd5849">isEnabled</a> ()</td></tr>
<tr class="separator:a7de0cf835f2a40a4a85097b623fd5849"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a194e96e43dd523173b6c9f447817b62f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a194e96e43dd523173b6c9f447817b62f">suspendRendering</a> (bool suspend, bool blocking=true)</td></tr>
<tr class="separator:a194e96e43dd523173b6c9f447817b62f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a67ba376dd9f396ebe1b13eb4500274e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a67ba376dd9f396ebe1b13eb4500274e0">computeContent</a> ()</td></tr>
<tr class="separator:a67ba376dd9f396ebe1b13eb4500274e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa6fd61362dbe6cea404e5e4fe391f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#aaaa6fd61362dbe6cea404e5e4fe391f4">world2win</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;p) const</td></tr>
<tr class="separator:aaaa6fd61362dbe6cea404e5e4fe391f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0203c47fc5165fe7937c28866bbf7932"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a0203c47fc5165fe7937c28866bbf7932">win2world</a> (const <a class="el" href="class_t_point_t.html">TPoint</a> &amp;p) const</td></tr>
<tr class="separator:a0203c47fc5165fe7937c28866bbf7932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae94bedfb14c3cf65b76ee148c5e5c12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#aae94bedfb14c3cf65b76ee148c5e5c12">zoom</a> (const <a class="el" href="class_t_point_t.html">TPoint</a> &amp;pos, double factor)</td></tr>
<tr class="separator:aae94bedfb14c3cf65b76ee148c5e5c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6975a5489c08803c67a05021c30f910e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a6975a5489c08803c67a05021c30f910e">zoom</a> (bool forward, bool reset)</td></tr>
<tr class="separator:a6975a5489c08803c67a05021c30f910e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef2ed6ee4b3b5be4e0a64eb6f718915"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a7ef2ed6ee4b3b5be4e0a64eb6f718915">pan</a> (const <a class="el" href="class_t_point_t.html">TPoint</a> &amp;delta)</td></tr>
<tr class="separator:a7ef2ed6ee4b3b5be4e0a64eb6f718915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255e7fd57934b07b54ca51c0b479abec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a255e7fd57934b07b54ca51c0b479abec">updateRaster</a> ()</td></tr>
<tr class="separator:a255e7fd57934b07b54ca51c0b479abec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa194ad204353b62d07c41e0d7d19187f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_raster_p_t.html">TRaster32P</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#aa194ad204353b62d07c41e0d7d19187f">getContent</a> () const</td></tr>
<tr class="separator:aa194ad204353b62d07c41e0d7d19187f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9783e5d28a77eed3e1eab43e3df1e15e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a9783e5d28a77eed3e1eab43e3df1e15e">setContent</a> (const <a class="el" href="class_t_raster_p_t.html">TRaster32P</a> &amp;content, const <a class="el" href="class_t_affine.html">TAffine</a> &amp;contentAff)</td></tr>
<tr class="separator:a9783e5d28a77eed3e1eab43e3df1e15e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0b2e16ff3738e7572a1f5db4468545c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#ad0b2e16ff3738e7572a1f5db4468545c">setAff</a> (const <a class="el" href="class_t_affine.html">TAffine</a> &amp;aff)</td></tr>
<tr class="separator:ad0b2e16ff3738e7572a1f5db4468545c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12600b58e04ba219f3a6f66eb92fab48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a12600b58e04ba219f3a6f66eb92fab48">contextMenuEvent</a> (QContextMenuEvent *event) override</td></tr>
<tr class="separator:a12600b58e04ba219f3a6f66eb92fab48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896d9a6b80c313b75444960a89a46d55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a896d9a6b80c313b75444960a89a46d55">paintEvent</a> (QPaintEvent *event) override</td></tr>
<tr class="separator:a896d9a6b80c313b75444960a89a46d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a06c0e587717246e45b412fb0eb97e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a7a06c0e587717246e45b412fb0eb97e3">mousePressEvent</a> (QMouseEvent *event) override</td></tr>
<tr class="separator:a7a06c0e587717246e45b412fb0eb97e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56df7d2a1b88da430566825b431d0fce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a56df7d2a1b88da430566825b431d0fce">mouseMoveEvent</a> (QMouseEvent *event) override</td></tr>
<tr class="separator:a56df7d2a1b88da430566825b431d0fce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895b20d90b250825ea408c6694e8ee85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a895b20d90b250825ea408c6694e8ee85">mouseReleaseEvent</a> (QMouseEvent *event) override</td></tr>
<tr class="separator:a895b20d90b250825ea408c6694e8ee85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff74d0579f49d45583ae6bc31e06c8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a4ff74d0579f49d45583ae6bc31e06c8b">wheelEvent</a> (QWheelEvent *) override</td></tr>
<tr class="separator:a4ff74d0579f49d45583ae6bc31e06c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af373d5f3858a29ebb982bfef858472"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a5af373d5f3858a29ebb982bfef858472">keyPressEvent</a> (QKeyEvent *event) override</td></tr>
<tr class="separator:a5af373d5f3858a29ebb982bfef858472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a787019cc33ab85d128566bcbaa492dd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a787019cc33ab85d128566bcbaa492dd2">resizeEvent</a> (QResizeEvent *event) override</td></tr>
<tr class="separator:a787019cc33ab85d128566bcbaa492dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfdc88b5a119c6987eb543fcbc274146"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#adfdc88b5a119c6987eb543fcbc274146">hideEvent</a> (QHideEvent *event) override</td></tr>
<tr class="separator:adfdc88b5a119c6987eb543fcbc274146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afefde0414c91bfb776b10935a4b0a76f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#afefde0414c91bfb776b10935a4b0a76f">mouseDoubleClickEvent</a> (QMouseEvent *event) override</td></tr>
<tr class="separator:afefde0414c91bfb776b10935a4b0a76f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b835dd1571c5d49825c0096c58c48f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a7b835dd1571c5d49825c0096c58c48f8">tabletEvent</a> (QTabletEvent *e) override</td></tr>
<tr class="separator:a7b835dd1571c5d49825c0096c58c48f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220ea66c6f7c5baf87f17bdcb12eb11b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a220ea66c6f7c5baf87f17bdcb12eb11b">touchEvent</a> (QTouchEvent *e, int type)</td></tr>
<tr class="separator:a220ea66c6f7c5baf87f17bdcb12eb11b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9704796b9a752b80eef736a72caf693c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#a9704796b9a752b80eef736a72caf693c">gestureEvent</a> (QGestureEvent *e)</td></tr>
<tr class="separator:a9704796b9a752b80eef736a72caf693c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfdd35fd4a3d97454ad9b476456efc0f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#acfdd35fd4a3d97454ad9b476456efc0f">event</a> (QEvent *e) override</td></tr>
<tr class="separator:acfdd35fd4a3d97454ad9b476456efc0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aa113bd47178f9539d0ed8eb474e24b6f"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_swatch_viewer.html#aa113bd47178f9539d0ed8eb474e24b6f">ContentRender</a></td></tr>
<tr class="separator:aa113bd47178f9539d0ed8eb474e24b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="class_swatch_viewer.html" title="SwatchViewer.">SwatchViewer</a>. </p>
<pre class="fragment">        Inherits \b QWidget.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1100de80e408015206c802f0f29324aa" name="a1100de80e408015206c802f0f29324aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1100de80e408015206c802f0f29324aa">&#9670;&nbsp;</a></span>SwatchViewer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SwatchViewer::SwatchViewer </td>
          <td>(</td>
          <td class="paramtype">QWidget *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Qt::WFlags&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  249</span>    : QWidget(parent, flags)</div>
<div class="line"><span class="lineno">  250</span>    , m_fx(0)</div>
<div class="line"><span class="lineno">  251</span>    , m_actualFxClone(0)</div>
<div class="line"><span class="lineno">  252</span>    , m_mouseButton(Qt::NoButton)</div>
<div class="line"><span class="lineno">  253</span>    , m_selectedPoint(0)</div>
<div class="line"><span class="lineno">  254</span>    , m_pointPosDelta(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>())</div>
<div class="line"><span class="lineno">  255</span>    , m_enabled(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  256</span>    , m_content()</div>
<div class="line"><span class="lineno">  257</span>    , m_aff(<a class="code hl_class" href="class_t_affine.html">TAffine</a>())</div>
<div class="line"><span class="lineno">  258</span>    , m_fxAff(<a class="code hl_class" href="class_t_affine.html">TAffine</a>())</div>
<div class="line"><span class="lineno">  259</span>    , m_cameraRect()</div>
<div class="line"><span class="lineno">  260</span>    , m_bgPainter(0)</div>
<div class="line"><span class="lineno">  261</span>    , m_pos(<a class="code hl_class" href="class_t_point_t.html">TPoint</a>())</div>
<div class="line"><span class="lineno">  262</span>    , m_firstPos(<a class="code hl_class" href="class_t_point_t.html">TPoint</a>())</div>
<div class="line"><span class="lineno">  263</span>    , m_oldContent()</div>
<div class="line"><span class="lineno">  264</span>    , m_curContent()</div>
<div class="line"><span class="lineno">  265</span>    , m_executor()</div>
<div class="line"><span class="lineno">  266</span>    , m_firstEnabled(<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  267</span>  <span class="comment">// setMinimumSize(150,150);</span></div>
<div class="line"><span class="lineno">  268</span>  setMinimumHeight(150);</div>
<div class="line"><span class="lineno">  269</span>  setFixedWidth(150);</div>
<div class="line"><span class="lineno">  270</span>  setSizePolicy(QSizePolicy::MinimumExpanding, QSizePolicy::MinimumExpanding);</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>  m_raster    = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>(width(), height());</div>
<div class="line"><span class="lineno">  273</span>  m_crossIcon = createCrossIcon();</div>
<div class="line"><span class="lineno">  274</span>  setFocusPolicy(Qt::StrongFocus);</div>
<div class="line"><span class="lineno">  275</span>  m_executor.<a class="code hl_function" href="class_t_thread_1_1_executor.html#a02c4c637864647ce22be391919049d3a">setDedicatedThreads</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  276</span>  m_executor.<a class="code hl_function" href="class_t_thread_1_1_executor.html#a85231531a2fa273db401f090c9aba4ea">setMaxActiveTasks</a>(1);</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>  m_renderer.enablePrecomputing(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>  setAttribute(Qt::WA_AcceptTouchEvents);</div>
<div class="line"><span class="lineno">  281</span>  grabGesture(Qt::SwipeGesture);</div>
<div class="line"><span class="lineno">  282</span>  grabGesture(Qt::PanGesture);</div>
<div class="line"><span class="lineno">  283</span>  grabGesture(Qt::PinchGesture);</div>
<div class="line"><span class="lineno">  284</span>}</div>
<div class="ttc" id="aclass_t_affine_html"><div class="ttname"><a href="class_t_affine.html">TAffine</a></div><div class="ttdoc">This is the base class for the affine transformations.</div><div class="ttdef"><b>Definition:</b> tgeometry.h:864</div></div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_raster_p_t_html"><div class="ttname"><a href="class_t_raster_p_t.html">TRasterPT&lt; TPixel32 &gt;</a></div></div>
<div class="ttc" id="aclass_t_thread_1_1_executor_html_a02c4c637864647ce22be391919049d3a"><div class="ttname"><a href="class_t_thread_1_1_executor.html#a02c4c637864647ce22be391919049d3a">TThread::Executor::setDedicatedThreads</a></div><div class="ttdeci">void setDedicatedThreads(bool dedicated, bool persistent=true)</div><div class="ttdoc">Specifies the use of dedicated threads for the Executor's task group.</div><div class="ttdef"><b>Definition:</b> tthread.cpp:791</div></div>
<div class="ttc" id="aclass_t_thread_1_1_executor_html_a85231531a2fa273db401f090c9aba4ea"><div class="ttname"><a href="class_t_thread_1_1_executor.html#a85231531a2fa273db401f090c9aba4ea">TThread::Executor::setMaxActiveTasks</a></div><div class="ttdeci">void setMaxActiveTasks(int count)</div><div class="ttdef"><b>Definition:</b> tthread.cpp:897</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af044913b38a95c836c00826342383a04" name="af044913b38a95c836c00826342383a04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af044913b38a95c836c00826342383a04">&#9670;&nbsp;</a></span>~SwatchViewer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SwatchViewer::~SwatchViewer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  288</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a67ba376dd9f396ebe1b13eb4500274e0" name="a67ba376dd9f396ebe1b13eb4500274e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67ba376dd9f396ebe1b13eb4500274e0">&#9670;&nbsp;</a></span>computeContent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::computeContent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  484</span>                                  {</div>
<div class="line"><span class="lineno">  485</span>  <span class="keywordflow">if</span> (suspendedRendering) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  486</span>  <span class="keywordflow">if</span> (!m_enabled) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  487</span>  <span class="keywordflow">if</span> (!m_raster) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>  <span class="comment">// Clear the swatch cache when the zoom scale has changed (cache results are</span></div>
<div class="line"><span class="lineno">  490</span>  <span class="comment">// not compatible</span></div>
<div class="line"><span class="lineno">  491</span>  <span class="comment">// between different scale levels)</span></div>
<div class="line"><span class="lineno">  492</span>  <span class="keywordflow">if</span> (m_aff.a11 != m_contentAff.a11 || m_panning)</div>
<div class="line"><span class="lineno">  493</span>    SwatchCacheManager::instance()-&gt;clearSwatchResults();</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> rect(0, 0, width() - 1, height() - 1);</div>
<div class="line"><span class="lineno">  496</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> size = rect.getSize();</div>
<div class="line"><span class="lineno">  497</span>  assert(m_raster-&gt;getSize() == size);</div>
<div class="line"><span class="lineno">  498</span>  <span class="keywordflow">if</span> (m_fx) {</div>
<div class="line"><span class="lineno">  499</span>    <span class="comment">// TFxP fx = makeAffine(m_fx, m_aff);</span></div>
<div class="line"><span class="lineno">  500</span>    <span class="comment">// TRasterFxP rasterFx = fx;</span></div>
<div class="line"><span class="lineno">  501</span>    <a class="code hl_class" href="class_t_raster_fx_p.html">TRasterFxP</a> rasterFx = m_fx;</div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordflow">if</span> (rasterFx) {</div>
<div class="line"><span class="lineno">  503</span>      m_executor.<a class="code hl_function" href="class_t_thread_1_1_executor.html#a3ebba69410a233ff1e5774d7e4d1246f">cancelAll</a>();</div>
<div class="line"><span class="lineno">  504</span>      m_executor.<a class="code hl_function" href="class_t_thread_1_1_executor.html#af31c8db8ac72df4c342e7769e95e2135">addTask</a>(</div>
<div class="line"><span class="lineno">  505</span>          <span class="keyword">new</span> ContentRender(rasterFx.getPointer(), m_frame, size, <span class="keyword">this</span>));</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>      submittedTasks++;</div>
<div class="line"><span class="lineno">  508</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  509</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  510</span>      m_content = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>(size);</div>
<div class="line"><span class="lineno">  511</span>      m_content-&gt;fill(TPixel32::Red);</div>
<div class="line"><span class="lineno">  512</span>    }</div>
<div class="line"><span class="lineno">  513</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  514</span>    m_content = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>(size);</div>
<div class="line"><span class="lineno">  515</span>    m_content-&gt;fill(TPixel32::Transparent);</div>
<div class="line"><span class="lineno">  516</span>  }</div>
<div class="line"><span class="lineno">  517</span>  updateRaster();</div>
<div class="line"><span class="lineno">  518</span>}</div>
<div class="ttc" id="aclass_t_dimension_t_html"><div class="ttname"><a href="class_t_dimension_t.html">TDimensionT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_raster_fx_p_html"><div class="ttname"><a href="class_t_raster_fx_p.html">TRasterFxP</a></div><div class="ttdef"><b>Definition:</b> trasterfx.h:317</div></div>
<div class="ttc" id="aclass_t_rect_t_html"><div class="ttname"><a href="class_t_rect_t.html">TRectT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_thread_1_1_executor_html_a3ebba69410a233ff1e5774d7e4d1246f"><div class="ttname"><a href="class_t_thread_1_1_executor.html#a3ebba69410a233ff1e5774d7e4d1246f">TThread::Executor::cancelAll</a></div><div class="ttdeci">void cancelAll()</div><div class="ttdef"><b>Definition:</b> tthread.cpp:860</div></div>
<div class="ttc" id="aclass_t_thread_1_1_executor_html_af31c8db8ac72df4c342e7769e95e2135"><div class="ttname"><a href="class_t_thread_1_1_executor.html#af31c8db8ac72df4c342e7769e95e2135">TThread::Executor::addTask</a></div><div class="ttdeci">void addTask(RunnableP task)</div><div class="ttdef"><b>Definition:</b> tthread.cpp:804</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a12600b58e04ba219f3a6f66eb92fab48" name="a12600b58e04ba219f3a6f66eb92fab48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12600b58e04ba219f3a6f66eb92fab48">&#9670;&nbsp;</a></span>contextMenuEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::contextMenuEvent </td>
          <td>(</td>
          <td class="paramtype">QContextMenuEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  841</span>                                                            {</div>
<div class="line"><span class="lineno">  842</span>  QMenu *menu = <span class="keyword">new</span> QMenu(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>  QAction *reset = menu-&gt;addAction(tr(<span class="stringliteral">&quot;Reset View&quot;</span>));</div>
<div class="line"><span class="lineno">  845</span>  reset-&gt;setShortcut(</div>
<div class="line"><span class="lineno">  846</span>      QKeySequence(CommandManager::instance()-&gt;getKeyFromId(V_ZoomReset)));</div>
<div class="line"><span class="lineno">  847</span>  connect(reset, SIGNAL(triggered()), SLOT(resetView()));</div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>  QAction *fit = menu-&gt;addAction(tr(<span class="stringliteral">&quot;Fit To Window&quot;</span>));</div>
<div class="line"><span class="lineno">  850</span>  fit-&gt;setShortcut(</div>
<div class="line"><span class="lineno">  851</span>      QKeySequence(CommandManager::instance()-&gt;getKeyFromId(V_ZoomFit)));</div>
<div class="line"><span class="lineno">  852</span>  connect(fit, SIGNAL(triggered()), SLOT(fitView()));</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>  menu-&gt;exec(event-&gt;globalPos());</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>  <span class="keyword">delete</span> menu;</div>
<div class="line"><span class="lineno">  857</span>  update();</div>
<div class="line"><span class="lineno">  858</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acfdd35fd4a3d97454ad9b476456efc0f" name="acfdd35fd4a3d97454ad9b476456efc0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfdd35fd4a3d97454ad9b476456efc0f">&#9670;&nbsp;</a></span>event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SwatchViewer::event </td>
          <td>(</td>
          <td class="paramtype">QEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  978</span>                                  {</div>
<div class="line"><span class="lineno">  979</span>  <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  980</span><span class="comment">  switch (e-&gt;type()) {</span></div>
<div class="line"><span class="lineno">  981</span><span class="comment">  case QEvent::TabletPress: {</span></div>
<div class="line"><span class="lineno">  982</span><span class="comment">  QTabletEvent *te = static_cast&lt;QTabletEvent *&gt;(e);</span></div>
<div class="line"><span class="lineno">  983</span><span class="comment">  qDebug() &lt;&lt; &quot;[event] TabletPress: pointerType(&quot; &lt;&lt; te-&gt;pointerType()</span></div>
<div class="line"><span class="lineno">  984</span><span class="comment">  &lt;&lt; &quot;) device(&quot; &lt;&lt; te-&gt;device() &lt;&lt; &quot;)&quot;;</span></div>
<div class="line"><span class="lineno">  985</span><span class="comment">  } break;</span></div>
<div class="line"><span class="lineno">  986</span><span class="comment">  case QEvent::TabletRelease:</span></div>
<div class="line"><span class="lineno">  987</span><span class="comment">  qDebug() &lt;&lt; &quot;[event] TabletRelease&quot;;</span></div>
<div class="line"><span class="lineno">  988</span><span class="comment">  break;</span></div>
<div class="line"><span class="lineno">  989</span><span class="comment">  case QEvent::TouchBegin:</span></div>
<div class="line"><span class="lineno">  990</span><span class="comment">  qDebug() &lt;&lt; &quot;[event] TouchBegin&quot;;</span></div>
<div class="line"><span class="lineno">  991</span><span class="comment">  break;</span></div>
<div class="line"><span class="lineno">  992</span><span class="comment">  case QEvent::TouchEnd:</span></div>
<div class="line"><span class="lineno">  993</span><span class="comment">  qDebug() &lt;&lt; &quot;[event] TouchEnd&quot;;</span></div>
<div class="line"><span class="lineno">  994</span><span class="comment">  break;</span></div>
<div class="line"><span class="lineno">  995</span><span class="comment">  case QEvent::TouchCancel:</span></div>
<div class="line"><span class="lineno">  996</span><span class="comment">  qDebug() &lt;&lt; &quot;[event] TouchCancel&quot;;</span></div>
<div class="line"><span class="lineno">  997</span><span class="comment">  break;</span></div>
<div class="line"><span class="lineno">  998</span><span class="comment">  case QEvent::MouseButtonPress:</span></div>
<div class="line"><span class="lineno">  999</span><span class="comment">  qDebug() &lt;&lt; &quot;[event] MouseButtonPress&quot;;</span></div>
<div class="line"><span class="lineno"> 1000</span><span class="comment">  break;</span></div>
<div class="line"><span class="lineno"> 1001</span><span class="comment">  case QEvent::MouseButtonDblClick:</span></div>
<div class="line"><span class="lineno"> 1002</span><span class="comment">  qDebug() &lt;&lt; &quot;[event] MouseButtonDblClick&quot;;</span></div>
<div class="line"><span class="lineno"> 1003</span><span class="comment">  break;</span></div>
<div class="line"><span class="lineno"> 1004</span><span class="comment">  case QEvent::MouseButtonRelease:</span></div>
<div class="line"><span class="lineno"> 1005</span><span class="comment">  qDebug() &lt;&lt; &quot;[event] MouseButtonRelease&quot;;</span></div>
<div class="line"><span class="lineno"> 1006</span><span class="comment">  break;</span></div>
<div class="line"><span class="lineno"> 1007</span><span class="comment">  case QEvent::Gesture:</span></div>
<div class="line"><span class="lineno"> 1008</span><span class="comment">  qDebug() &lt;&lt; &quot;[event] Gesture&quot;;</span></div>
<div class="line"><span class="lineno"> 1009</span><span class="comment">  break;</span></div>
<div class="line"><span class="lineno"> 1010</span><span class="comment">  default:</span></div>
<div class="line"><span class="lineno"> 1011</span><span class="comment">  break;</span></div>
<div class="line"><span class="lineno"> 1012</span><span class="comment">  }</span></div>
<div class="line"><span class="lineno"> 1013</span><span class="comment">  */</span></div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span>  <span class="keywordflow">if</span> (e-&gt;type() == QEvent::Gesture &amp;&amp;</div>
<div class="line"><span class="lineno"> 1016</span>      CommandManager::instance()</div>
<div class="line"><span class="lineno"> 1017</span>          -&gt;getAction(MI_TouchGestureControl)</div>
<div class="line"><span class="lineno"> 1018</span>          -&gt;isChecked()) {</div>
<div class="line"><span class="lineno"> 1019</span>    gestureEvent(<span class="keyword">static_cast&lt;</span>QGestureEvent *<span class="keyword">&gt;</span>(e));</div>
<div class="line"><span class="lineno"> 1020</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1021</span>  }</div>
<div class="line"><span class="lineno"> 1022</span>  <span class="keywordflow">if</span> ((e-&gt;type() == QEvent::TouchBegin || e-&gt;type() == QEvent::TouchEnd ||</div>
<div class="line"><span class="lineno"> 1023</span>       e-&gt;type() == QEvent::TouchCancel || e-&gt;type() == QEvent::TouchUpdate) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1024</span>      CommandManager::instance()</div>
<div class="line"><span class="lineno"> 1025</span>          -&gt;getAction(MI_TouchGestureControl)</div>
<div class="line"><span class="lineno"> 1026</span>          -&gt;isChecked()) {</div>
<div class="line"><span class="lineno"> 1027</span>    touchEvent(<span class="keyword">static_cast&lt;</span>QTouchEvent *<span class="keyword">&gt;</span>(e), e-&gt;type());</div>
<div class="line"><span class="lineno"> 1028</span>    m_gestureActive = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1029</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1030</span>  }</div>
<div class="line"><span class="lineno"> 1031</span>  <span class="keywordflow">return</span> QWidget::event(e);</div>
<div class="line"><span class="lineno"> 1032</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aefa56fb908b8a9e08a724d47d2a13eed" name="aefa56fb908b8a9e08a724d47d2a13eed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefa56fb908b8a9e08a724d47d2a13eed">&#9670;&nbsp;</a></span>fitView</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::fitView </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  449</span>                           {</div>
<div class="line"><span class="lineno">  450</span>  <span class="keywordflow">if</span> (m_cameraRect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>  <span class="keywordtype">double</span> imageScale = std::min(</div>
<div class="line"><span class="lineno">  453</span>      width() / ((<span class="keywordtype">double</span>)getCameraSize().lx * (m_cameraMode ? 1 : 0.44)),</div>
<div class="line"><span class="lineno">  454</span>      height() / ((<span class="keywordtype">double</span>)getCameraSize().ly * (m_cameraMode ? 1 : 0.44)));</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> fitAffine = <a class="code hl_class" href="class_t_scale.html">TScale</a>(imageScale, imageScale);</div>
<div class="line"><span class="lineno">  457</span>  fitAffine.a13     = 0;</div>
<div class="line"><span class="lineno">  458</span>  fitAffine.a23     = 0;</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>  setAff(fitAffine);</div>
<div class="line"><span class="lineno">  461</span>}</div>
<div class="ttc" id="aclass_t_rect_t_html_a53ce09c6112f8a019b43ad82d721a93b"><div class="ttname"><a href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">TRectT::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div></div>
<div class="ttc" id="aclass_t_scale_html"><div class="ttname"><a href="class_t_scale.html">TScale</a></div><div class="ttdef"><b>Definition:</b> tgeometry.h:1133</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9704796b9a752b80eef736a72caf693c" name="a9704796b9a752b80eef736a72caf693c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9704796b9a752b80eef736a72caf693c">&#9670;&nbsp;</a></span>gestureEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::gestureEvent </td>
          <td>(</td>
          <td class="paramtype">QGestureEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  875</span>                                                {</div>
<div class="line"><span class="lineno">  876</span>  <span class="comment">// qDebug() &lt;&lt; &quot;[gestureEvent]&quot;;</span></div>
<div class="line"><span class="lineno">  877</span>  m_gestureActive = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  878</span>  <span class="keywordflow">if</span> (QGesture *swipe = e-&gt;gesture(Qt::SwipeGesture)) {</div>
<div class="line"><span class="lineno">  879</span>    m_gestureActive = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  880</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (QGesture *pan = e-&gt;gesture(Qt::PanGesture)) {</div>
<div class="line"><span class="lineno">  881</span>    m_gestureActive = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  882</span>  }</div>
<div class="line"><span class="lineno">  883</span>  <span class="keywordflow">if</span> (QGesture *pinch = e-&gt;gesture(Qt::PinchGesture)) {</div>
<div class="line"><span class="lineno">  884</span>    QPinchGesture *gesture = <span class="keyword">static_cast&lt;</span>QPinchGesture *<span class="keyword">&gt;</span>(pinch);</div>
<div class="line"><span class="lineno">  885</span>    QPinchGesture::ChangeFlags changeFlags = gesture-&gt;changeFlags();</div>
<div class="line"><span class="lineno">  886</span>    QPoint firstCenter                     = gesture-&gt;centerPoint().toPoint();</div>
<div class="line"><span class="lineno">  887</span>    <span class="keywordflow">if</span> (m_touchDevice == QTouchDevice::TouchScreen)</div>
<div class="line"><span class="lineno">  888</span>      firstCenter = mapFromGlobal(firstCenter);</div>
<div class="line"><span class="lineno">  889</span> </div>
<div class="line"><span class="lineno">  890</span>    <span class="keywordflow">if</span> (gesture-&gt;state() == Qt::GestureStarted) {</div>
<div class="line"><span class="lineno">  891</span>      m_gestureActive = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  892</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (gesture-&gt;state() == Qt::GestureFinished) {</div>
<div class="line"><span class="lineno">  893</span>      m_gestureActive = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  894</span>      m_zooming       = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  895</span>      m_scaleFactor   = 0.0;</div>
<div class="line"><span class="lineno">  896</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  897</span>      <span class="keywordflow">if</span> (changeFlags &amp; QPinchGesture::ScaleFactorChanged) {</div>
<div class="line"><span class="lineno">  898</span>        <span class="keywordtype">double</span> scaleFactor = gesture-&gt;scaleFactor();</div>
<div class="line"><span class="lineno">  899</span>        <span class="comment">// the scale factor makes for too sensitive scaling</span></div>
<div class="line"><span class="lineno">  900</span>        <span class="comment">// divide the change in half</span></div>
<div class="line"><span class="lineno">  901</span>        <span class="keywordflow">if</span> (scaleFactor &gt; 1) {</div>
<div class="line"><span class="lineno">  902</span>          <span class="keywordtype">double</span> decimalValue = scaleFactor - 1;</div>
<div class="line"><span class="lineno">  903</span>          decimalValue /= 1.5;</div>
<div class="line"><span class="lineno">  904</span>          scaleFactor = 1 + decimalValue;</div>
<div class="line"><span class="lineno">  905</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (scaleFactor &lt; 1) {</div>
<div class="line"><span class="lineno">  906</span>          <span class="keywordtype">double</span> decimalValue = 1 - scaleFactor;</div>
<div class="line"><span class="lineno">  907</span>          decimalValue /= 1.5;</div>
<div class="line"><span class="lineno">  908</span>          scaleFactor = 1 - decimalValue;</div>
<div class="line"><span class="lineno">  909</span>        }</div>
<div class="line"><span class="lineno">  910</span>        <span class="keywordflow">if</span> (!m_zooming) {</div>
<div class="line"><span class="lineno">  911</span>          <span class="keywordtype">double</span> delta = scaleFactor - 1;</div>
<div class="line"><span class="lineno">  912</span>          m_scaleFactor += delta;</div>
<div class="line"><span class="lineno">  913</span>          <span class="keywordflow">if</span> (m_scaleFactor &gt; .2 || m_scaleFactor &lt; -.2) {</div>
<div class="line"><span class="lineno">  914</span>            m_zooming = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  915</span>          }</div>
<div class="line"><span class="lineno">  916</span>        }</div>
<div class="line"><span class="lineno">  917</span>        <span class="keywordflow">if</span> (m_zooming) {</div>
<div class="line"><span class="lineno">  918</span>          <a class="code hl_class" href="class_t_point_t.html">TPoint</a> center(firstCenter.x() - width() / 2,</div>
<div class="line"><span class="lineno">  919</span>                        -firstCenter.y() + height() / 2);</div>
<div class="line"><span class="lineno">  920</span>          zoom(center, scaleFactor);</div>
<div class="line"><span class="lineno">  921</span>          m_panning = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  922</span>        }</div>
<div class="line"><span class="lineno">  923</span>        m_gestureActive = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  924</span>      }</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>      <span class="keywordflow">if</span> (changeFlags &amp; QPinchGesture::CenterPointChanged) {</div>
<div class="line"><span class="lineno">  927</span>        QPointF centerDelta =</div>
<div class="line"><span class="lineno">  928</span>            (gesture-&gt;centerPoint()) - (gesture-&gt;lastCenterPoint());</div>
<div class="line"><span class="lineno">  929</span>        <span class="keywordflow">if</span> (centerDelta.manhattanLength() &gt; 1) {</div>
<div class="line"><span class="lineno">  930</span>          <span class="comment">// panQt(centerDelta.toPoint());</span></div>
<div class="line"><span class="lineno">  931</span>        }</div>
<div class="line"><span class="lineno">  932</span>        m_gestureActive = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  933</span>      }</div>
<div class="line"><span class="lineno">  934</span>    }</div>
<div class="line"><span class="lineno">  935</span>  }</div>
<div class="line"><span class="lineno">  936</span>  e-&gt;accept();</div>
<div class="line"><span class="lineno">  937</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a616b0e5c5e34aa0ec8000323e6a70f" name="a9a616b0e5c5e34aa0ec8000323e6a70f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a616b0e5c5e34aa0ec8000323e6a70f">&#9670;&nbsp;</a></span>getCameraMode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SwatchViewer::getCameraMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  186</span>{ <span class="keywordflow">return</span> m_cameraMode; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dbd2952f064a9438140da8861a96c4e" name="a8dbd2952f064a9438140da8861a96c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbd2952f064a9438140da8861a96c4e">&#9670;&nbsp;</a></span>getCameraSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_dimension_t.html">TDimension</a> SwatchViewer::getCameraSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  189</span>{ <span class="keywordflow">return</span> m_cameraRect.getSize(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa194ad204353b62d07c41e0d7d19187f" name="aa194ad204353b62d07c41e0d7d19187f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa194ad204353b62d07c41e0d7d19187f">&#9670;&nbsp;</a></span>getContent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_t_raster_p_t.html">TRaster32P</a> &amp; SwatchViewer::getContent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  214</span>{ <span class="keywordflow">return</span> m_content; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="adfdc88b5a119c6987eb543fcbc274146" name="adfdc88b5a119c6987eb543fcbc274146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfdc88b5a119c6987eb543fcbc274146">&#9670;&nbsp;</a></span>hideEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::hideEvent </td>
          <td>(</td>
          <td class="paramtype">QHideEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  823</span>                                              {</div>
<div class="line"><span class="lineno">  824</span>  <span class="comment">// Clear the swatch cache</span></div>
<div class="line"><span class="lineno">  825</span>  ::setFxForCaching(0);</div>
<div class="line"><span class="lineno">  826</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7de0cf835f2a40a4a85097b623fd5849" name="a7de0cf835f2a40a4a85097b623fd5849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7de0cf835f2a40a4a85097b623fd5849">&#9670;&nbsp;</a></span>isEnabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SwatchViewer::isEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  195</span>{ <span class="keywordflow">return</span> m_enabled; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5af373d5f3858a29ebb982bfef858472" name="a5af373d5f3858a29ebb982bfef858472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af373d5f3858a29ebb982bfef858472">&#9670;&nbsp;</a></span>keyPressEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::keyPressEvent </td>
          <td>(</td>
          <td class="paramtype">QKeyEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  800</span>                                                 {</div>
<div class="line"><span class="lineno">  801</span>  <span class="keywordtype">int</span> key = <span class="keyword">event</span>-&gt;key();</div>
<div class="line"><span class="lineno">  802</span>  std::string keyStr =</div>
<div class="line"><span class="lineno">  803</span>      QKeySequence(key + event-&gt;modifiers()).toString().toStdString();</div>
<div class="line"><span class="lineno">  804</span>  QAction *action = CommandManager::instance()-&gt;getActionFromShortcut(keyStr);</div>
<div class="line"><span class="lineno">  805</span>  <span class="keywordflow">if</span> (action) {</div>
<div class="line"><span class="lineno">  806</span>    std::string actionId = CommandManager::instance()-&gt;getIdFromAction(action);</div>
<div class="line"><span class="lineno">  807</span>    <span class="keywordflow">if</span> (actionId == V_ZoomFit) {</div>
<div class="line"><span class="lineno">  808</span>      fitView();</div>
<div class="line"><span class="lineno">  809</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  810</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (actionId == V_ZoomReset) {</div>
<div class="line"><span class="lineno">  811</span>      resetView();</div>
<div class="line"><span class="lineno">  812</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  813</span>    }</div>
<div class="line"><span class="lineno">  814</span>  }</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>  <span class="keywordflow">if</span> (key == <span class="charliteral">&#39;+&#39;</span> || key == <span class="charliteral">&#39;-&#39;</span> || key == <span class="charliteral">&#39;0&#39;</span>) {</div>
<div class="line"><span class="lineno">  817</span>    zoom(key == <span class="charliteral">&#39;+&#39;</span>, key == <span class="charliteral">&#39;0&#39;</span>);</div>
<div class="line"><span class="lineno">  818</span>  }</div>
<div class="line"><span class="lineno">  819</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afefde0414c91bfb776b10935a4b0a76f" name="afefde0414c91bfb776b10935a4b0a76f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afefde0414c91bfb776b10935a4b0a76f">&#9670;&nbsp;</a></span>mouseDoubleClickEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::mouseDoubleClickEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  830</span>                                                           {</div>
<div class="line"><span class="lineno">  831</span>  <span class="comment">// qDebug() &lt;&lt; &quot;[mouseDoubleClickEvent]&quot;;</span></div>
<div class="line"><span class="lineno">  832</span>  <span class="keywordflow">if</span> (m_gestureActive &amp;&amp; !m_stylusUsed) {</div>
<div class="line"><span class="lineno">  833</span>    m_gestureActive = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  834</span>    fitView();</div>
<div class="line"><span class="lineno">  835</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  836</span>  }</div>
<div class="line"><span class="lineno">  837</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a56df7d2a1b88da430566825b431d0fce" name="a56df7d2a1b88da430566825b431d0fce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56df7d2a1b88da430566825b431d0fce">&#9670;&nbsp;</a></span>mouseMoveEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::mouseMoveEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  701</span>                                                    {</div>
<div class="line"><span class="lineno">  702</span>  <span class="keywordflow">if</span> (m_gestureActive &amp;&amp; m_touchDevice == QTouchDevice::TouchScreen &amp;&amp;</div>
<div class="line"><span class="lineno">  703</span>      !m_stylusUsed) {</div>
<div class="line"><span class="lineno">  704</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  705</span>  }</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>  <a class="code hl_class" href="class_t_point_t.html">TPoint</a> pos = <a class="code hl_class" href="class_t_point_t.html">TPoint</a>(event-&gt;pos().x(), event-&gt;pos().y());</div>
<div class="line"><span class="lineno">  708</span>  <span class="keywordflow">if</span> (m_mouseButton == Qt::LeftButton) {</div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">if</span> (m_selectedPoint &lt; 0 || m_selectedPoint &gt;= (<span class="keywordtype">int</span>)m_points.size()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  710</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> p = win2world(pos) + m_pointPosDelta;</div>
<div class="line"><span class="lineno">  711</span>    <span class="keywordtype">int</span> index = m_points[m_selectedPoint].m_index;</div>
<div class="line"><span class="lineno">  712</span>    emit pointPositionChanged(index, p);</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>    <span class="comment">// It seems that mouse move events may jeopardize our rendering notification</span></div>
<div class="line"><span class="lineno">  715</span>    <span class="comment">// deliveries</span></div>
<div class="line"><span class="lineno">  716</span>    <span class="comment">// - probably because Qt considers them &#39;higher priority stuff&#39; with respect</span></div>
<div class="line"><span class="lineno">  717</span>    <span class="comment">// to common queued signal-slot connections.</span></div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>    <span class="comment">// In order to allow processing of the ContentRender::started() and</span></div>
<div class="line"><span class="lineno">  720</span>    <span class="comment">// ContentRender::finished()</span></div>
<div class="line"><span class="lineno">  721</span>    <span class="comment">// signals, we need to process events. We will exclude user input events (ie</span></div>
<div class="line"><span class="lineno">  722</span>    <span class="comment">// other mouse events)</span></div>
<div class="line"><span class="lineno">  723</span>    <span class="comment">// to avoid unnecessary recursions.</span></div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>    QCoreApplication::processEvents(QEventLoop::ExcludeUserInputEvents);</div>
<div class="line"><span class="lineno">  726</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_mouseButton == Qt::MidButton) {</div>
<div class="line"><span class="lineno">  727</span>    pan(pos - m_pos);</div>
<div class="line"><span class="lineno">  728</span>    m_pos = pos;</div>
<div class="line"><span class="lineno">  729</span>  }</div>
<div class="line"><span class="lineno">  730</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a06c0e587717246e45b412fb0eb97e3" name="a7a06c0e587717246e45b412fb0eb97e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a06c0e587717246e45b412fb0eb97e3">&#9670;&nbsp;</a></span>mousePressEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::mousePressEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  637</span>                                                     {</div>
<div class="line"><span class="lineno">  638</span>  <span class="comment">// qDebug() &lt;&lt; &quot;[mousePressEvent]&quot;;</span></div>
<div class="line"><span class="lineno">  639</span>  <span class="keywordflow">if</span> (m_gestureActive &amp;&amp; m_touchDevice == QTouchDevice::TouchScreen &amp;&amp;</div>
<div class="line"><span class="lineno">  640</span>      !m_stylusUsed) {</div>
<div class="line"><span class="lineno">  641</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  642</span>  }</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>  <a class="code hl_class" href="class_t_point_t.html">TPoint</a> pos    = <a class="code hl_class" href="class_t_point_t.html">TPoint</a>(event-&gt;pos().x(), event-&gt;pos().y());</div>
<div class="line"><span class="lineno">  645</span>  m_mouseButton = <span class="keyword">event</span>-&gt;button();</div>
<div class="line"><span class="lineno">  646</span>  <span class="keywordflow">if</span> (m_mouseButton == Qt::LeftButton) {</div>
<div class="line"><span class="lineno">  647</span>    m_selectedPoint = -1;</div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">if</span> (m_points.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  649</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> p = win2world(pos);</div>
<div class="line"><span class="lineno">  650</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> q;</div>
<div class="line"><span class="lineno">  651</span>    <span class="keywordtype">double</span> minDist2 = 1e6;</div>
<div class="line"><span class="lineno">  652</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  653</span>    <span class="keywordflow">for</span> (i = 0; i &lt; (int)m_points.size(); i++) {</div>
<div class="line"><span class="lineno">  654</span>      <a class="code hl_class" href="class_t_point_t.html">TPointD</a> paramPoint = m_points[i].m_param-&gt;getValue(m_frame);</div>
<div class="line"><span class="lineno">  655</span>      <span class="keywordtype">double</span> d2          = tdistance2(p, paramPoint);</div>
<div class="line"><span class="lineno">  656</span>      <span class="keywordflow">if</span> (m_selectedPoint &lt; 0 || d2 &lt; minDist2) {</div>
<div class="line"><span class="lineno">  657</span>        m_selectedPoint = i;</div>
<div class="line"><span class="lineno">  658</span>        minDist2        = d2;</div>
<div class="line"><span class="lineno">  659</span>        q               = paramPoint;</div>
<div class="line"><span class="lineno">  660</span>      }</div>
<div class="line"><span class="lineno">  661</span>    }</div>
<div class="line"><span class="lineno">  662</span>    <span class="keywordflow">if</span> (m_selectedPoint &gt;= 0) {</div>
<div class="line"><span class="lineno">  663</span>      m_pointPosDelta = q - p;</div>
<div class="line"><span class="lineno">  664</span>      <a class="code hl_class" href="class_t_point_t.html">TPoint</a> d        = world2win(p) - world2win(q);</div>
<div class="line"><span class="lineno">  665</span>      <span class="keywordtype">int</span> dd2         = d.x * d.x + d.y * d.y;</div>
<div class="line"><span class="lineno">  666</span>      <span class="keywordflow">if</span> (dd2 &gt; 400)</div>
<div class="line"><span class="lineno">  667</span>        m_selectedPoint = -1;</div>
<div class="line"><span class="lineno">  668</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  669</span>        std::string name   = m_points[m_selectedPoint].m_param-&gt;getName();</div>
<div class="line"><span class="lineno">  670</span>        std::string prefix = matchSuffix(name, <span class="stringliteral">&quot;_b&quot;</span>);</div>
<div class="line"><span class="lineno">  671</span>        <span class="keywordflow">if</span> (prefix != <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno">  672</span>          std::string otherName = prefix + <span class="stringliteral">&quot;_a&quot;</span>;</div>
<div class="line"><span class="lineno">  673</span>          <span class="keywordtype">int</span> n                 = (int)m_points.size();</div>
<div class="line"><span class="lineno">  674</span>          <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno">  675</span>          <span class="keywordflow">for</span> (j = 0; j &lt; n; j++)</div>
<div class="line"><span class="lineno">  676</span>            <span class="keywordflow">if</span> (i != j &amp;&amp; m_points[j].m_param-&gt;getName() == otherName) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  677</span>          <span class="keywordflow">if</span> (j &lt; n) {</div>
<div class="line"><span class="lineno">  678</span>            <a class="code hl_class" href="class_t_point_t.html">TPoint</a> dist = world2win(m_points[m_selectedPoint].m_param-&gt;getValue(</div>
<div class="line"><span class="lineno">  679</span>                              m_frame)) -</div>
<div class="line"><span class="lineno">  680</span>                          world2win(m_points[j].m_param-&gt;getValue(m_frame));</div>
<div class="line"><span class="lineno">  681</span>            <span class="keywordtype">int</span> ddist2 = dist.x * dist.x + dist.y * dist.y;</div>
<div class="line"><span class="lineno">  682</span>            <span class="keywordflow">if</span> (ddist2 &lt; 100) m_selectedPoint = j;</div>
<div class="line"><span class="lineno">  683</span>          }</div>
<div class="line"><span class="lineno">  684</span>        }</div>
<div class="line"><span class="lineno">  685</span>      }</div>
<div class="line"><span class="lineno">  686</span>    }</div>
<div class="line"><span class="lineno">  687</span>    update();</div>
<div class="line"><span class="lineno">  688</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_mouseButton == Qt::MidButton) {</div>
<div class="line"><span class="lineno">  689</span>    m_pos        = pos;</div>
<div class="line"><span class="lineno">  690</span>    m_firstPos   = pos;</div>
<div class="line"><span class="lineno">  691</span>    m_oldContent = getContent();</div>
<div class="line"><span class="lineno">  692</span>    <span class="keywordflow">if</span> (m_oldContent)</div>
<div class="line"><span class="lineno">  693</span>      m_curContent = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>(m_oldContent-&gt;getSize());</div>
<div class="line"><span class="lineno">  694</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  695</span>      m_curContent = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>();</div>
<div class="line"><span class="lineno">  696</span>  }</div>
<div class="line"><span class="lineno">  697</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a895b20d90b250825ea408c6694e8ee85" name="a895b20d90b250825ea408c6694e8ee85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895b20d90b250825ea408c6694e8ee85">&#9670;&nbsp;</a></span>mouseReleaseEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::mouseReleaseEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  734</span>                                                       {</div>
<div class="line"><span class="lineno">  735</span>  m_mouseButton   = Qt::NoButton;</div>
<div class="line"><span class="lineno">  736</span>  m_selectedPoint = -1;</div>
<div class="line"><span class="lineno">  737</span>  <a class="code hl_class" href="class_t_point_t.html">TPoint</a> pos      = <a class="code hl_class" href="class_t_point_t.html">TPoint</a>(event-&gt;pos().x(), event-&gt;pos().y());</div>
<div class="line"><span class="lineno">  738</span>  <span class="keywordflow">if</span> (event-&gt;button() == Qt::MidButton) {</div>
<div class="line"><span class="lineno">  739</span>    <span class="keywordflow">if</span> (!m_oldContent || !m_curContent) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  740</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> p = convert(pos - m_pos);</div>
<div class="line"><span class="lineno">  741</span>    setAff(<a class="code hl_class" href="class_t_translation.html">TTranslation</a>(p.x, -p.y) * m_aff);</div>
<div class="line"><span class="lineno">  742</span>    update();</div>
<div class="line"><span class="lineno">  743</span>  }</div>
<div class="line"><span class="lineno">  744</span>  m_gestureActive = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  745</span>  m_zooming       = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  746</span>  m_panning       = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  747</span>  m_stylusUsed    = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  748</span>}</div>
<div class="ttc" id="aclass_t_translation_html"><div class="ttname"><a href="class_t_translation.html">TTranslation</a></div><div class="ttdef"><b>Definition:</b> tgeometry.h:1074</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a896d9a6b80c313b75444960a89a46d55" name="a896d9a6b80c313b75444960a89a46d55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a896d9a6b80c313b75444960a89a46d55">&#9670;&nbsp;</a></span>paintEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::paintEvent </td>
          <td>(</td>
          <td class="paramtype">QPaintEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  604</span>                                                {</div>
<div class="line"><span class="lineno">  605</span>  QPainter p(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  606</span>  QRect rectBox = rect();</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>  <span class="keywordflow">if</span> (!m_enabled)</div>
<div class="line"><span class="lineno">  609</span>    p.fillRect(rectBox, QBrush(QColor(120, 120, 120)));</div>
<div class="line"><span class="lineno">  610</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  611</span>    <span class="keywordflow">if</span> (!m_raster) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  612</span>    QImage image = rasterToQImage(m_raster);</div>
<div class="line"><span class="lineno">  613</span>    p.drawImage(rectBox, image);</div>
<div class="line"><span class="lineno">  614</span>    <span class="keywordflow">if</span> (m_computing) {</div>
<div class="line"><span class="lineno">  615</span>      QPen pen;</div>
<div class="line"><span class="lineno">  616</span>      pen.setColor(Qt::red);</div>
<div class="line"><span class="lineno">  617</span>      pen.setWidth(3);</div>
<div class="line"><span class="lineno">  618</span>      p.setPen(pen);</div>
<div class="line"><span class="lineno">  619</span>      p.drawRect(rectBox.adjusted(0, 0, -1, -1));</div>
<div class="line"><span class="lineno">  620</span>    }</div>
<div class="line"><span class="lineno">  621</span>  }</div>
<div class="line"><span class="lineno">  622</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ef2ed6ee4b3b5be4e0a64eb6f718915" name="a7ef2ed6ee4b3b5be4e0a64eb6f718915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ef2ed6ee4b3b5be4e0a64eb6f718915">&#9670;&nbsp;</a></span>pan()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::pan </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPoint</a> &amp;&#160;</td>
          <td class="paramname"><em>delta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  477</span>                                          {</div>
<div class="line"><span class="lineno">  478</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> step = convert(delta);</div>
<div class="line"><span class="lineno">  479</span>  setAff(<a class="code hl_class" href="class_t_translation.html">TTranslation</a>(step.x, -step.y) * m_aff);</div>
<div class="line"><span class="lineno">  480</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a094b900a04ca53730b4d53e00bc6d117" name="a094b900a04ca53730b4d53e00bc6d117"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a094b900a04ca53730b4d53e00bc6d117">&#9670;&nbsp;</a></span>resetView</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::resetView </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  445</span>{ setAff(<a class="code hl_class" href="class_t_affine.html">TAffine</a>()); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a787019cc33ab85d128566bcbaa492dd2" name="a787019cc33ab85d128566bcbaa492dd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a787019cc33ab85d128566bcbaa492dd2">&#9670;&nbsp;</a></span>resizeEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::resizeEvent </td>
          <td>(</td>
          <td class="paramtype">QResizeEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  626</span>                                               {</div>
<div class="line"><span class="lineno">  627</span>  <span class="keywordtype">int</span> oldHeight = re-&gt;oldSize().height();</div>
<div class="line"><span class="lineno">  628</span>  <span class="keywordtype">int</span> newHeight = re-&gt;size().height();</div>
<div class="line"><span class="lineno">  629</span>  <span class="keywordflow">if</span> (oldHeight != newHeight) {</div>
<div class="line"><span class="lineno">  630</span>    updateSize(QSize(newHeight, newHeight));</div>
<div class="line"><span class="lineno">  631</span>    computeContent();</div>
<div class="line"><span class="lineno">  632</span>  }</div>
<div class="line"><span class="lineno">  633</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0b2e16ff3738e7572a1f5db4468545c" name="ad0b2e16ff3738e7572a1f5db4468545c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0b2e16ff3738e7572a1f5db4468545c">&#9670;&nbsp;</a></span>setAff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::setAff </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_affine.html">TAffine</a> &amp;&#160;</td>
          <td class="paramname"><em>aff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  597</span>                                            {</div>
<div class="line"><span class="lineno">  598</span>  m_aff = aff;</div>
<div class="line"><span class="lineno">  599</span>  computeContent();</div>
<div class="line"><span class="lineno">  600</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5fb9370bbb99147564e479482f9c2644" name="a5fb9370bbb99147564e479482f9c2644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb9370bbb99147564e479482f9c2644">&#9670;&nbsp;</a></span>setBgPainter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::setBgPainter </td>
          <td>(</td>
          <td class="paramtype">TPixel32&#160;</td>
          <td class="paramname"><em>color1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TPixel32&#160;</td>
          <td class="paramname"><em>color2</em> = <code>TPixel32()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  406</span>                                                                {</div>
<div class="line"><span class="lineno">  407</span>  <span class="keywordflow">if</span> (color2 == TPixel32())</div>
<div class="line"><span class="lineno">  408</span>    m_bgPainter = <span class="keyword">new</span> <a class="code hl_class" href="class_solid_color_bg_painter.html">SolidColorBgPainter</a>(<span class="stringliteral">&quot;&quot;</span>, color1);</div>
<div class="line"><span class="lineno">  409</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  410</span>    m_bgPainter = <span class="keyword">new</span> <a class="code hl_class" href="class_checkboard_bg_painter.html">CheckboardBgPainter</a>(<span class="stringliteral">&quot;&quot;</span>, color1, color2);</div>
<div class="line"><span class="lineno">  411</span>  updateRaster();</div>
<div class="line"><span class="lineno">  412</span>}</div>
<div class="ttc" id="aclass_checkboard_bg_painter_html"><div class="ttname"><a href="class_checkboard_bg_painter.html">CheckboardBgPainter</a></div><div class="ttdef"><b>Definition:</b> swatchviewer.h:66</div></div>
<div class="ttc" id="aclass_solid_color_bg_painter_html"><div class="ttname"><a href="class_solid_color_bg_painter.html">SolidColorBgPainter</a></div><div class="ttdef"><b>Definition:</b> swatchviewer.h:54</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab8628345566c06dbf91c6b1c336e690f" name="ab8628345566c06dbf91c6b1c336e690f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8628345566c06dbf91c6b1c336e690f">&#9670;&nbsp;</a></span>setCameraMode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::setCameraMode </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  185</span>{ m_cameraMode = enabled; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6cb0cc1eb92c94f1b9550aebc75b8427" name="a6cb0cc1eb92c94f1b9550aebc75b8427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb0cc1eb92c94f1b9550aebc75b8427">&#9670;&nbsp;</a></span>setCameraSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::setCameraSize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_dimension_t.html">TDimension</a> &amp;&#160;</td>
          <td class="paramname"><em>cameraSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  312</span>                                                             {</div>
<div class="line"><span class="lineno">  313</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> cameraRect(cameraSize);</div>
<div class="line"><span class="lineno">  314</span>  <span class="keywordflow">if</span> (cameraRect != m_cameraRect) {</div>
<div class="line"><span class="lineno">  315</span>    m_cameraRect = cameraRect;</div>
<div class="line"><span class="lineno">  316</span>    updateSize(size());  <span class="comment">// Invoke a size update to adapt the widget to the new</span></div>
<div class="line"><span class="lineno">  317</span>                         <span class="comment">// camera ratio</span></div>
<div class="line"><span class="lineno">  318</span>  }</div>
<div class="line"><span class="lineno">  319</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9783e5d28a77eed3e1eab43e3df1e15e" name="a9783e5d28a77eed3e1eab43e3df1e15e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9783e5d28a77eed3e1eab43e3df1e15e">&#9670;&nbsp;</a></span>setContent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::setContent </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_raster_p_t.html">TRaster32P</a> &amp;&#160;</td>
          <td class="paramname"><em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_affine.html">TAffine</a> &amp;&#160;</td>
          <td class="paramname"><em>contentAff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  587</span>                                                         {</div>
<div class="line"><span class="lineno">  588</span>  m_content    = content;</div>
<div class="line"><span class="lineno">  589</span>  m_contentAff = contentAff;</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>  updateRaster();</div>
<div class="line"><span class="lineno">  592</span>  update();</div>
<div class="line"><span class="lineno">  593</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a107e8e8843b357c7566c0792b28a17ad" name="a107e8e8843b357c7566c0792b28a17ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107e8e8843b357c7566c0792b28a17ad">&#9670;&nbsp;</a></span>setEnable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::setEnable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  376</span>                                         {</div>
<div class="line"><span class="lineno">  377</span>  <span class="keywordflow">if</span> (m_enabled == enabled) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  378</span>  m_enabled = enabled;</div>
<div class="line"><span class="lineno">  379</span>  <span class="keywordflow">if</span> (m_enabled) {</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span> (m_firstEnabled) {</div>
<div class="line"><span class="lineno">  381</span>      m_firstEnabled = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  382</span>      fitView();</div>
<div class="line"><span class="lineno">  383</span>    }</div>
<div class="line"><span class="lineno">  384</span>    computeContent();</div>
<div class="line"><span class="lineno">  385</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  386</span>    update();</div>
<div class="line"><span class="lineno">  387</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c4fdb58b79bdd09087bcfc19bd6dad8" name="a4c4fdb58b79bdd09087bcfc19bd6dad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c4fdb58b79bdd09087bcfc19bd6dad8">&#9670;&nbsp;</a></span>setFx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::setFx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_smart_pointer_t.html">TFxP</a> &amp;&#160;</td>
          <td class="paramname"><em>fx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_smart_pointer_t.html">TFxP</a> &amp;&#160;</td>
          <td class="paramname"><em>actualFx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  323</span>                                                                        {</div>
<div class="line"><span class="lineno">  324</span>  m_fx = m_actualFxClone = fx;</div>
<div class="line"><span class="lineno">  325</span>  m_frame                = frame;</div>
<div class="line"><span class="lineno">  326</span>  m_points.clear();</div>
<div class="line"><span class="lineno">  327</span>  m_pointPairs.clear();</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>  <span class="keywordflow">if</span> (!fx) {</div>
<div class="line"><span class="lineno">  330</span>    ::setFxForCaching(0);</div>
<div class="line"><span class="lineno">  331</span>    computeContent();</div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  333</span>  }</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>  <span class="comment">// abilita la cache nel nuovo effetto corrente</span></div>
<div class="line"><span class="lineno">  336</span>  ::setFxForCaching(actualFx.getPointer());</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="class_na_affine_fx.html">NaAffineFx</a> *affFx = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_na_affine_fx.html">NaAffineFx</a> *<span class="keyword">&gt;</span>(m_fx.getPointer()))</div>
<div class="line"><span class="lineno">  339</span>    m_fxAff = affFx-&gt;getPlacement(m_frame);</div>
<div class="line"><span class="lineno">  340</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  341</span>    m_fxAff = <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  342</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  343</span>  <span class="keywordflow">for</span> (i = 0; i &lt; actualFx-&gt;getParams()-&gt;getParamCount(); i++) {</div>
<div class="line"><span class="lineno">  344</span>    <a class="code hl_class" href="class_t_point_param.html">TPointParam</a> *pointParam =</div>
<div class="line"><span class="lineno">  345</span>        <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_t_point_param.html">TPointParam</a> *<span class="keyword">&gt;</span>(actualFx-&gt;getParams()-&gt;getParam(i));</div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">if</span> (pointParam) m_points.push_back(Point(i, pointParam));</div>
<div class="line"><span class="lineno">  347</span>  }</div>
<div class="line"><span class="lineno">  348</span>  <span class="comment">// cerco i segmenti</span></div>
<div class="line"><span class="lineno">  349</span>  <span class="keywordtype">int</span> n = m_points.size();</div>
<div class="line"><span class="lineno">  350</span>  <span class="keywordflow">for</span> (i = 0; i &lt; n; i++) {</div>
<div class="line"><span class="lineno">  351</span>    std::string name   = m_points[i].m_param-&gt;getName();</div>
<div class="line"><span class="lineno">  352</span>    std::string prefix = matchSuffix(name, <span class="stringliteral">&quot;_a&quot;</span>);</div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">if</span> (prefix == <span class="stringliteral">&quot;&quot;</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  354</span>    std::string otherName = prefix + <span class="stringliteral">&quot;_b&quot;</span>;</div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">for</span> (j = 0; j &lt; n; j++)</div>
<div class="line"><span class="lineno">  357</span>      <span class="keywordflow">if</span> (i != j &amp;&amp; m_points[j].m_param-&gt;getName() == otherName) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordflow">if</span> (j &lt; n) {</div>
<div class="line"><span class="lineno">  359</span>      m_pointPairs.push_back(std::make_pair(i, j));</div>
<div class="line"><span class="lineno">  360</span>      m_points[i].m_pairFlag = m_points[j].m_pairFlag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  361</span>    }</div>
<div class="line"><span class="lineno">  362</span>  }</div>
<div class="line"><span class="lineno">  363</span>  computeContent();</div>
<div class="line"><span class="lineno">  364</span>}</div>
<div class="ttc" id="aclass_na_affine_fx_html"><div class="ttname"><a href="class_na_affine_fx.html">NaAffineFx</a></div><div class="ttdef"><b>Definition:</b> trasterfx.h:398</div></div>
<div class="ttc" id="aclass_t_point_param_html"><div class="ttname"><a href="class_t_point_param.html">TPointParam</a></div><div class="ttdef"><b>Definition:</b> tparamset.h:140</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a194e96e43dd523173b6c9f447817b62f" name="a194e96e43dd523173b6c9f447817b62f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a194e96e43dd523173b6c9f447817b62f">&#9670;&nbsp;</a></span>suspendRendering()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::suspendRendering </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>suspend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>blocking</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This static method is used to temporarily suspend all swatch-related render processing, typically because the rendering scene is being deleted. When a suspension is invoked, all further rendering requests made to swatch viewers are silently rejected, while currently active or scheduled ones are canceled and waited for completion. </p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>                                                               {</div>
<div class="line"><span class="lineno">  299</span>  suspendedRendering = suspend;</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>  <span class="keywordflow">if</span> (suspend &amp;&amp; submittedTasks &gt; 0 &amp;&amp; blocking) {</div>
<div class="line"><span class="lineno">  302</span>    QEventLoop loop;</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    waitingLoop = &amp;loop;</div>
<div class="line"><span class="lineno">  305</span>    loop.exec();</div>
<div class="line"><span class="lineno">  306</span>    waitingLoop = 0;</div>
<div class="line"><span class="lineno">  307</span>  }</div>
<div class="line"><span class="lineno">  308</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b835dd1571c5d49825c0096c58c48f8" name="a7b835dd1571c5d49825c0096c58c48f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b835dd1571c5d49825c0096c58c48f8">&#9670;&nbsp;</a></span>tabletEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::tabletEvent </td>
          <td>(</td>
          <td class="paramtype">QTabletEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  862</span>                                              {</div>
<div class="line"><span class="lineno">  863</span>  <span class="comment">// qDebug() &lt;&lt; &quot;[tabletEvent]&quot;;</span></div>
<div class="line"><span class="lineno">  864</span>  <span class="keywordflow">if</span> (e-&gt;type() == QTabletEvent::TabletPress) {</div>
<div class="line"><span class="lineno">  865</span>    m_stylusUsed = e-&gt;pointerType() ? true : <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  866</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;type() == QTabletEvent::TabletRelease) {</div>
<div class="line"><span class="lineno">  867</span>    m_stylusUsed = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  868</span>  }</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>  e-&gt;accept();</div>
<div class="line"><span class="lineno">  871</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a220ea66c6f7c5baf87f17bdcb12eb11b" name="a220ea66c6f7c5baf87f17bdcb12eb11b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a220ea66c6f7c5baf87f17bdcb12eb11b">&#9670;&nbsp;</a></span>touchEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::touchEvent </td>
          <td>(</td>
          <td class="paramtype">QTouchEvent *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  939</span>                                                      {</div>
<div class="line"><span class="lineno">  940</span>  <span class="comment">// qDebug() &lt;&lt; &quot;[touchEvent]&quot;;</span></div>
<div class="line"><span class="lineno">  941</span>  <span class="keywordflow">if</span> (type == QEvent::TouchBegin) {</div>
<div class="line"><span class="lineno">  942</span>    m_touchActive   = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  943</span>    m_firstPanPoint = e-&gt;touchPoints().at(0).pos();</div>
<div class="line"><span class="lineno">  944</span>    <span class="comment">// obtain device type</span></div>
<div class="line"><span class="lineno">  945</span>    m_touchDevice = e-&gt;device()-&gt;type();</div>
<div class="line"><span class="lineno">  946</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_touchActive) {</div>
<div class="line"><span class="lineno">  947</span>    <span class="comment">// touchpads must have 2 finger panning for tools and navigation to be</span></div>
<div class="line"><span class="lineno">  948</span>    <span class="comment">// functional on other devices, 1 finger panning is preferred</span></div>
<div class="line"><span class="lineno">  949</span>    <span class="keywordflow">if</span> ((e-&gt;touchPoints().count() == 2 &amp;&amp;</div>
<div class="line"><span class="lineno">  950</span>         m_touchDevice == QTouchDevice::TouchPad) ||</div>
<div class="line"><span class="lineno">  951</span>        (e-&gt;touchPoints().count() == 1 &amp;&amp;</div>
<div class="line"><span class="lineno">  952</span>         m_touchDevice == QTouchDevice::TouchScreen)) {</div>
<div class="line"><span class="lineno">  953</span>      QTouchEvent::TouchPoint panPoint = e-&gt;touchPoints().at(0);</div>
<div class="line"><span class="lineno">  954</span>      <span class="keywordflow">if</span> (!m_panning) {</div>
<div class="line"><span class="lineno">  955</span>        QPointF deltaPoint = panPoint.pos() - m_firstPanPoint;</div>
<div class="line"><span class="lineno">  956</span>        <span class="comment">// minimize accidental and jerky zooming/rotating during 2 finger</span></div>
<div class="line"><span class="lineno">  957</span>        <span class="comment">// panning</span></div>
<div class="line"><span class="lineno">  958</span>        <span class="keywordflow">if</span> ((deltaPoint.manhattanLength() &gt; 100) &amp;&amp; !m_zooming) {</div>
<div class="line"><span class="lineno">  959</span>          m_panning = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  960</span>        }</div>
<div class="line"><span class="lineno">  961</span>      }</div>
<div class="line"><span class="lineno">  962</span>      <span class="keywordflow">if</span> (m_panning) {</div>
<div class="line"><span class="lineno">  963</span>        QPoint curPos  = panPoint.pos().toPoint();</div>
<div class="line"><span class="lineno">  964</span>        QPoint lastPos = panPoint.lastPos().toPoint();</div>
<div class="line"><span class="lineno">  965</span>        <a class="code hl_class" href="class_t_point_t.html">TPoint</a> centerDelta =</div>
<div class="line"><span class="lineno">  966</span>            <a class="code hl_class" href="class_t_point_t.html">TPoint</a>(curPos.x(), curPos.y()) - <a class="code hl_class" href="class_t_point_t.html">TPoint</a>(lastPos.x(), lastPos.y());</div>
<div class="line"><span class="lineno">  967</span>        pan(centerDelta);</div>
<div class="line"><span class="lineno">  968</span>      }</div>
<div class="line"><span class="lineno">  969</span>    }</div>
<div class="line"><span class="lineno">  970</span>  }</div>
<div class="line"><span class="lineno">  971</span>  <span class="keywordflow">if</span> (type == QEvent::TouchEnd || type == QEvent::TouchCancel) {</div>
<div class="line"><span class="lineno">  972</span>    m_touchActive = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  973</span>    m_panning     = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  974</span>  }</div>
<div class="line"><span class="lineno">  975</span>  e-&gt;accept();</div>
<div class="line"><span class="lineno">  976</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d0cc24f3d4b71fe6cd733dc43397a23" name="a0d0cc24f3d4b71fe6cd733dc43397a23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d0cc24f3d4b71fe6cd733dc43397a23">&#9670;&nbsp;</a></span>updateFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::updateFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  368</span>                                        {</div>
<div class="line"><span class="lineno">  369</span>  m_frame = frame;</div>
<div class="line"><span class="lineno">  370</span>  computeContent();</div>
<div class="line"><span class="lineno">  371</span>  update();</div>
<div class="line"><span class="lineno">  372</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a255e7fd57934b07b54ca51c0b479abec" name="a255e7fd57934b07b54ca51c0b479abec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255e7fd57934b07b54ca51c0b479abec">&#9670;&nbsp;</a></span>updateRaster()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::updateRaster </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  522</span>                                {</div>
<div class="line"><span class="lineno">  523</span>  QMutexLocker sl(&amp;m_mutex);</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>  <span class="keywordflow">if</span> (!m_enabled) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  526</span>  <span class="keywordflow">if</span> (!m_raster) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  527</span>  <span class="keywordflow">if</span> (m_bgPainter)</div>
<div class="line"><span class="lineno">  528</span>    m_bgPainter-&gt;paint(m_raster);</div>
<div class="line"><span class="lineno">  529</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  530</span>    m_raster-&gt;fill(TPixel32(127, 127, 127));</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>  <span class="keywordflow">if</span> (m_cameraMode &amp;&amp; !m_cameraRect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) {</div>
<div class="line"><span class="lineno">  533</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> p0(m_cameraRect.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a>, m_cameraRect.y0);</div>
<div class="line"><span class="lineno">  534</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> p1(m_cameraRect.x1, m_cameraRect.y1);</div>
<div class="line"><span class="lineno">  535</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> center(width() * 0.5, height() * 0.5);</div>
<div class="line"><span class="lineno">  536</span>    <a class="code hl_class" href="class_t_point_t.html">TPoint</a> transP0 = convert(m_aff * p0 + center);</div>
<div class="line"><span class="lineno">  537</span>    <a class="code hl_class" href="class_t_point_t.html">TPoint</a> transP1 = convert(m_aff * p1 + center);</div>
<div class="line"><span class="lineno">  538</span>    <a class="code hl_class" href="class_t_point_t.html">TPoint</a> p       = convert(</div>
<div class="line"><span class="lineno">  539</span>        (<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(transP1.x, transP1.y) - <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(transP0.x, transP0.y)) * 0.5);</div>
<div class="line"><span class="lineno">  540</span>    <a class="code hl_class" href="class_t_rect_t.html">TRect</a> rect(transP0 - p, transP1 - p);</div>
<div class="line"><span class="lineno">  541</span>    m_content-&gt;fillOutside(rect, TPixel32(255, 0, 0, 255));</div>
<div class="line"><span class="lineno">  542</span>    m_content-&gt;fillOutside(rect.enlarge(<a class="code hl_class" href="class_t_dimension_t.html">TDimension</a>(1, 1)),</div>
<div class="line"><span class="lineno">  543</span>                           TPixel32(0, 0, 0, 0));</div>
<div class="line"><span class="lineno">  544</span>  }</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>  <span class="keywordflow">if</span> (m_content) <a class="code hl_function" href="namespace_t_rop.html#ae5fd1fb0c2f625e1da14fe92ae0e5122">TRop::over</a>(m_raster, m_content);</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  549</span>  <span class="keywordflow">for</span> (i = 0; i &lt; (int)m_points.size(); i++) {</div>
<div class="line"><span class="lineno">  550</span>    <span class="keywordflow">if</span> (m_points[i].m_pairFlag) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  551</span>    <a class="code hl_class" href="class_t_point_t.html">TPoint</a> p = world2win(m_points[i].m_param-&gt;getValue(m_frame));</div>
<div class="line"><span class="lineno">  552</span>    <a class="code hl_function" href="namespace_t_rop.html#ae5fd1fb0c2f625e1da14fe92ae0e5122">TRop::over</a>(m_raster, m_crossIcon, p - <a class="code hl_class" href="class_t_point_t.html">TPoint</a>(4, 4));</div>
<div class="line"><span class="lineno">  553</span>  }</div>
<div class="line"><span class="lineno">  554</span>  <span class="keywordflow">for</span> (i = 0; i &lt; (int)m_pointPairs.size(); i++) {</div>
<div class="line"><span class="lineno">  555</span>    <span class="keywordtype">int</span> i0 = m_pointPairs[i].first;</div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordtype">int</span> i1 = m_pointPairs[i].second;</div>
<div class="line"><span class="lineno">  557</span>    assert(i0 != i1);</div>
<div class="line"><span class="lineno">  558</span>    assert(0 &lt;= i0 &amp;&amp; i0 &lt; (<span class="keywordtype">int</span>)m_points.size());</div>
<div class="line"><span class="lineno">  559</span>    assert(0 &lt;= i1 &amp;&amp; i1 &lt; (<span class="keywordtype">int</span>)m_points.size());</div>
<div class="line"><span class="lineno">  560</span>    <a class="code hl_class" href="class_t_point_t.html">TPoint</a> p0        = world2win(m_points[i0].m_param-&gt;getValue(m_frame));</div>
<div class="line"><span class="lineno">  561</span>    <a class="code hl_class" href="class_t_point_t.html">TPoint</a> p1        = world2win(m_points[i1].m_param-&gt;getValue(m_frame));</div>
<div class="line"><span class="lineno">  562</span>    <a class="code hl_class" href="class_t_point_t.html">TPoint</a> delta     = p1 - p0;</div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordtype">int</span> len          = tround(sqrt((<span class="keywordtype">double</span>)(delta * delta)));</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordtype">double</span> phi       = 0;</div>
<div class="line"><span class="lineno">  565</span>    <span class="keywordflow">if</span> (len &gt; 0) phi = atan2((<span class="keywordtype">double</span>)delta.y, (<span class="keywordtype">double</span>)delta.x) * M_180_PI;</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordflow">if</span> (len &gt; 500) {</div>
<div class="line"><span class="lineno">  568</span>      <span class="comment">// puo&#39; succedere per zoom molto grandi.</span></div>
<div class="line"><span class="lineno">  569</span>      <span class="comment">// dovrei fare qualcosa, ma non so bene che cosa e non credo sia</span></div>
<div class="line"><span class="lineno">  570</span>      <span class="comment">// importantissimo</span></div>
<div class="line"><span class="lineno">  571</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  572</span>      <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> arrowShape = createArrowShape(len);</div>
<div class="line"><span class="lineno">  573</span>      <a class="code hl_class" href="class_t_affine.html">TAffine</a> aff =</div>
<div class="line"><span class="lineno">  574</span>          <a class="code hl_class" href="class_t_rotation.html">TRotation</a>(phi).<a class="code hl_function" href="class_t_affine.html#a5c556c5952cff649a61add494ff3423c">place</a>(0, arrowShape-&gt;getLy() / 2, p0.x, p0.y);</div>
<div class="line"><span class="lineno">  575</span>      <a class="code hl_function" href="namespace_t_rop.html#ae5fd1fb0c2f625e1da14fe92ae0e5122">TRop::over</a>(m_raster, arrowShape, aff);</div>
<div class="line"><span class="lineno">  576</span>      <span class="comment">// verrebbe la tentazione di usare il filtro TRop::Bilinear (piu&#39;veloce),</span></div>
<div class="line"><span class="lineno">  577</span>      <span class="comment">// ma la qualita&#39; ne risente molto</span></div>
<div class="line"><span class="lineno">  578</span>    }</div>
<div class="line"><span class="lineno">  579</span>  }</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>  update();</div>
<div class="line"><span class="lineno">  582</span>}</div>
<div class="ttc" id="aclass_t_affine_html_a5c556c5952cff649a61add494ff3423c"><div class="ttname"><a href="class_t_affine.html#a5c556c5952cff649a61add494ff3423c">TAffine::place</a></div><div class="ttdeci">TAffine place(double u, double v, double x, double y) const</div><div class="ttdef"><b>Definition:</b> tgeometry.cpp:132</div></div>
<div class="ttc" id="aclass_t_rect_t_html_ac008cbc625f50d8b3c180c8eb2594cdb"><div class="ttname"><a href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">TRectT::x0</a></div><div class="ttdeci">T x0</div><div class="ttdef"><b>Definition:</b> tgeometry.h:557</div></div>
<div class="ttc" id="aclass_t_rotation_html"><div class="ttname"><a href="class_t_rotation.html">TRotation</a></div><div class="ttdef"><b>Definition:</b> tgeometry.h:1083</div></div>
<div class="ttc" id="anamespace_t_rop_html_ae5fd1fb0c2f625e1da14fe92ae0e5122"><div class="ttname"><a href="namespace_t_rop.html#ae5fd1fb0c2f625e1da14fe92ae0e5122">TRop::over</a></div><div class="ttdeci">DVAPI void over(const TRasterP &amp;out, const TRasterP &amp;dn, const TRasterP &amp;up)</div><div class="ttdef"><b>Definition:</b> tover.cpp:285</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a26cd42dbe8dd9379ec783542bd64dc08" name="a26cd42dbe8dd9379ec783542bd64dc08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26cd42dbe8dd9379ec783542bd64dc08">&#9670;&nbsp;</a></span>updateSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::updateSize </td>
          <td>(</td>
          <td class="paramtype">const QSize &amp;&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  391</span>                                               {</div>
<div class="line"><span class="lineno">  392</span>  <span class="keywordtype">int</span> h        = size.height();</div>
<div class="line"><span class="lineno">  393</span>  <span class="keywordtype">double</span> ratio = m_cameraRect.getLy() &gt; 0</div>
<div class="line"><span class="lineno">  394</span>                     ? m_cameraRect.getLx() / (double)m_cameraRect.getLy()</div>
<div class="line"><span class="lineno">  395</span>                     : 1.0;</div>
<div class="line"><span class="lineno">  396</span>  <span class="keywordtype">int</span> w = std::min((<span class="keywordtype">int</span>)(h * ratio), parentWidget()-&gt;width());</div>
<div class="line"><span class="lineno">  397</span>  setFixedWidth(w);</div>
<div class="line"><span class="lineno">  398</span>  <span class="keywordflow">if</span> (w &gt; 2 &amp;&amp; h &gt; 2)</div>
<div class="line"><span class="lineno">  399</span>    m_raster = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>(<a class="code hl_class" href="class_t_dimension_t.html">TDimension</a>(w, h));</div>
<div class="line"><span class="lineno">  400</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  401</span>    m_raster = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>();</div>
<div class="line"><span class="lineno">  402</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ff74d0579f49d45583ae6bc31e06c8b" name="a4ff74d0579f49d45583ae6bc31e06c8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff74d0579f49d45583ae6bc31e06c8b">&#9670;&nbsp;</a></span>wheelEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::wheelEvent </td>
          <td>(</td>
          <td class="paramtype">QWheelEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  752</span>                                                {</div>
<div class="line"><span class="lineno">  753</span>  <span class="keywordtype">int</span> delta = 0;</div>
<div class="line"><span class="lineno">  754</span>  <span class="keywordflow">switch</span> (event-&gt;source()) {</div>
<div class="line"><span class="lineno">  755</span>  <span class="keywordflow">case</span> Qt::MouseEventNotSynthesized: {</div>
<div class="line"><span class="lineno">  756</span>    <span class="keywordflow">if</span> (event-&gt;modifiers() &amp; Qt::AltModifier)</div>
<div class="line"><span class="lineno">  757</span>      delta = <span class="keyword">event</span>-&gt;angleDelta().x();</div>
<div class="line"><span class="lineno">  758</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  759</span>      delta = <span class="keyword">event</span>-&gt;angleDelta().y();</div>
<div class="line"><span class="lineno">  760</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  761</span>  }</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>  <span class="keywordflow">case</span> Qt::MouseEventSynthesizedBySystem: {</div>
<div class="line"><span class="lineno">  764</span>    QPoint numPixels  = <span class="keyword">event</span>-&gt;pixelDelta();</div>
<div class="line"><span class="lineno">  765</span>    QPoint numDegrees = <span class="keyword">event</span>-&gt;angleDelta() / 8;</div>
<div class="line"><span class="lineno">  766</span>    <span class="keywordflow">if</span> (!numPixels.isNull()) {</div>
<div class="line"><span class="lineno">  767</span>      delta = <span class="keyword">event</span>-&gt;pixelDelta().y();</div>
<div class="line"><span class="lineno">  768</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!numDegrees.isNull()) {</div>
<div class="line"><span class="lineno">  769</span>      QPoint numSteps = numDegrees / 15;</div>
<div class="line"><span class="lineno">  770</span>      delta           = numSteps.y();</div>
<div class="line"><span class="lineno">  771</span>    }</div>
<div class="line"><span class="lineno">  772</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  773</span>  }</div>
<div class="line"><span class="lineno">  774</span> </div>
<div class="line"><span class="lineno">  775</span>  <span class="keywordflow">default</span>:  <span class="comment">// Qt::MouseEventSynthesizedByQt,</span></div>
<div class="line"><span class="lineno">  776</span>            <span class="comment">// Qt::MouseEventSynthesizedByApplication</span></div>
<div class="line"><span class="lineno">  777</span>    {</div>
<div class="line"><span class="lineno">  778</span>      std::cout &lt;&lt; <span class="stringliteral">&quot;not supported event: Qt::MouseEventSynthesizedByQt, &quot;</span></div>
<div class="line"><span class="lineno">  779</span>                   <span class="stringliteral">&quot;Qt::MouseEventSynthesizedByApplication&quot;</span></div>
<div class="line"><span class="lineno">  780</span>                &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  781</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  782</span>    }</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>  }  <span class="comment">// end switch</span></div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>  <span class="keywordflow">if</span> (abs(delta) &gt; 0) {</div>
<div class="line"><span class="lineno">  787</span>    <span class="keywordflow">if</span> ((m_gestureActive == <span class="keyword">true</span> &amp;&amp;</div>
<div class="line"><span class="lineno">  788</span>         m_touchDevice == QTouchDevice::TouchScreen) ||</div>
<div class="line"><span class="lineno">  789</span>        m_gestureActive == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno">  790</span>      <a class="code hl_class" href="class_t_point_t.html">TPoint</a> center(event-&gt;pos().x() - width() / 2,</div>
<div class="line"><span class="lineno">  791</span>                    -event-&gt;pos().y() + height() / 2);</div>
<div class="line"><span class="lineno">  792</span>      zoom(center, exp(0.001 * event-&gt;delta()));</div>
<div class="line"><span class="lineno">  793</span>    }</div>
<div class="line"><span class="lineno">  794</span>  }</div>
<div class="line"><span class="lineno">  795</span>  <span class="keyword">event</span>-&gt;accept();</div>
<div class="line"><span class="lineno">  796</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0203c47fc5165fe7937c28866bbf7932" name="a0203c47fc5165fe7937c28866bbf7932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0203c47fc5165fe7937c28866bbf7932">&#9670;&nbsp;</a></span>win2world()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPointD</a> SwatchViewer::win2world </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  423</span>                                                     {</div>
<div class="line"><span class="lineno">  424</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> center(width() * 0.5, height() * 0.5);</div>
<div class="line"><span class="lineno">  425</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> point = <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(convert(p) - center);</div>
<div class="line"><span class="lineno">  426</span>  <span class="keywordflow">return</span> m_fxAff.<a class="code hl_function" href="class_t_affine.html#a570529b96b1ec5abc711aaa9aac09ff9">inv</a>() * m_aff.<a class="code hl_function" href="class_t_affine.html#a570529b96b1ec5abc711aaa9aac09ff9">inv</a>() * <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(point.x, -point.y);</div>
<div class="line"><span class="lineno">  427</span>}</div>
<div class="ttc" id="aclass_t_affine_html_a570529b96b1ec5abc711aaa9aac09ff9"><div class="ttname"><a href="class_t_affine.html#a570529b96b1ec5abc711aaa9aac09ff9">TAffine::inv</a></div><div class="ttdeci">TAffine inv() const</div><div class="ttdef"><b>Definition:</b> tgeometry.cpp:55</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaaa6fd61362dbe6cea404e5e4fe391f4" name="aaaa6fd61362dbe6cea404e5e4fe391f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaa6fd61362dbe6cea404e5e4fe391f4">&#9670;&nbsp;</a></span>world2win()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPoint</a> SwatchViewer::world2win </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  416</span>                                                     {</div>
<div class="line"><span class="lineno">  417</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> center(width() * 0.5, height() * 0.5);</div>
<div class="line"><span class="lineno">  418</span>  <span class="keywordflow">return</span> convert(m_aff * m_fxAff * p + center);</div>
<div class="line"><span class="lineno">  419</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6975a5489c08803c67a05021c30f910e" name="a6975a5489c08803c67a05021c30f910e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6975a5489c08803c67a05021c30f910e">&#9670;&nbsp;</a></span>zoom() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::zoom </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forward</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  465</span>                                                {</div>
<div class="line"><span class="lineno">  466</span>  <span class="keywordtype">double</span> scale2 = m_aff.det();</div>
<div class="line"><span class="lineno">  467</span>  <span class="keywordflow">if</span> (reset || ((scale2 &lt; 2000 || !forward) &amp;&amp; (scale2 &gt; 0.004 || forward))) {</div>
<div class="line"><span class="lineno">  468</span>    <span class="keywordtype">double</span> oldZoomScale = sqrt(scale2);</div>
<div class="line"><span class="lineno">  469</span>    <span class="keywordtype">double</span> zoomScale =</div>
<div class="line"><span class="lineno">  470</span>        reset ? 1 : getQuantizedZoomFactor(oldZoomScale, forward);</div>
<div class="line"><span class="lineno">  471</span>    <a class="code hl_class" href="class_t_affine.html">TAffine</a> aff = <a class="code hl_class" href="class_t_scale.html">TScale</a>(zoomScale / oldZoomScale);</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    setAff(aff * m_aff);</div>
<div class="line"><span class="lineno">  474</span>  }</div>
<div class="line"><span class="lineno">  475</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aae94bedfb14c3cf65b76ee148c5e5c12" name="aae94bedfb14c3cf65b76ee148c5e5c12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae94bedfb14c3cf65b76ee148c5e5c12">&#9670;&nbsp;</a></span>zoom() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SwatchViewer::zoom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPoint</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  431</span>                                                        {</div>
<div class="line"><span class="lineno">  432</span>  <span class="keywordflow">if</span> (!m_content || factor == 1.0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> delta = convert(pos);</div>
<div class="line"><span class="lineno">  435</span>  <span class="keywordtype">double</span> scale  = m_aff.det();</div>
<div class="line"><span class="lineno">  436</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> aff;</div>
<div class="line"><span class="lineno">  437</span>  <span class="keywordflow">if</span> ((scale &lt; 2000 || factor &lt; 1) &amp;&amp; (scale &gt; 0.004 || factor &gt; 1)) {</div>
<div class="line"><span class="lineno">  438</span>    aff = <a class="code hl_class" href="class_t_translation.html">TTranslation</a>(delta) * <a class="code hl_class" href="class_t_scale.html">TScale</a>(factor) * <a class="code hl_class" href="class_t_translation.html">TTranslation</a>(-delta);</div>
<div class="line"><span class="lineno">  439</span>    setAff(aff * m_aff);</div>
<div class="line"><span class="lineno">  440</span>  }</div>
<div class="line"><span class="lineno">  441</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="aa113bd47178f9539d0ed8eb474e24b6f" name="aa113bd47178f9539d0ed8eb474e24b6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa113bd47178f9539d0ed8eb474e24b6f">&#9670;&nbsp;</a></span>ContentRender</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_swatch_viewer_1_1_content_render.html">ContentRender</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/include/toonzqt/<a class="el" href="">swatchviewer.h</a></li>
<li>E:/opentoonz/toonz/sources/toonzqt/<a class="el" href="">swatchviewer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
