<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: CleanupSettingsModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_cleanup_settings_model-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CleanupSettingsModel Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="">cleanupsettingsmodel.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CleanupSettingsModel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_cleanup_settings_model.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a44a4f8c2566616b6807f3b9228d1ad6b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>LISTENER</b> = 0x1
, <b>PREVIEWER</b> = 0x2
, <b>CAMERATEST</b> = 0x4
 }</td></tr>
<tr class="separator:a44a4f8c2566616b6807f3b9228d1ad6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db558b07c2c95ea6eed88ffc11a01ff"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>CommitMask</b> { <b>NONE</b> = 0
, <b>INTERFACE</b>
, <b>POSTPROCESS</b>
, <b>FULLPROCESS</b>
 }</td></tr>
<tr class="separator:a1db558b07c2c95ea6eed88ffc11a01ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-slots" name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a7b1f1768b04906a781f54d03965d7016"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a7b1f1768b04906a781f54d03965d7016">commitChanges</a> ()</td></tr>
<tr class="separator:a7b1f1768b04906a781f54d03965d7016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1310a7fd0caf8560aa806c30eaee53f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a1310a7fd0caf8560aa806c30eaee53f7">promptSave</a> ()</td></tr>
<tr class="memdesc:a1310a7fd0caf8560aa806c30eaee53f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompts to save current settings.  <a href="class_cleanup_settings_model.html#a1310a7fd0caf8560aa806c30eaee53f7">More...</a><br /></td></tr>
<tr class="separator:a1310a7fd0caf8560aa806c30eaee53f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af80a228a227794221750d26a6e7bf766"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#af80a228a227794221750d26a6e7bf766">promptLoad</a> ()</td></tr>
<tr class="memdesc:af80a228a227794221750d26a6e7bf766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prompts to load settings.  <a href="class_cleanup_settings_model.html#af80a228a227794221750d26a6e7bf766">More...</a><br /></td></tr>
<tr class="separator:af80a228a227794221750d26a6e7bf766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15df7abc5aaea2155743ce59c3c03b0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a15df7abc5aaea2155743ce59c3c03b0b">restoreGlobalSettings</a> ()</td></tr>
<tr class="separator:a15df7abc5aaea2155743ce59c3c03b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="signals" name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a8e1ea53050b6a45679726c949bc0d95c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a8e1ea53050b6a45679726c949bc0d95c">modelChanged</a> (bool needsPostProcess)</td></tr>
<tr class="separator:a8e1ea53050b6a45679726c949bc0d95c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb49064f1d809138cb49cd560c4c03d9"><td class="memItemLeft" align="right" valign="top"><a id="acb49064f1d809138cb49cd560c4c03d9" name="acb49064f1d809138cb49cd560c4c03d9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>imageSwitched</b> ()</td></tr>
<tr class="memdesc:acb49064f1d809138cb49cd560c4c03d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted every time the cleanup focus switches to a new image. <br /></td></tr>
<tr class="separator:acb49064f1d809138cb49cd560c4c03d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad78610bd7ee12050dc10c9eaf16929c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#ad78610bd7ee12050dc10c9eaf16929c9">previewDataChanged</a> ()</td></tr>
<tr class="separator:ad78610bd7ee12050dc10c9eaf16929c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fba35f9b6bf33dcae7311c0e3cafa67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a1fba35f9b6bf33dcae7311c0e3cafa67">clnLoaded</a> ()</td></tr>
<tr class="separator:a1fba35f9b6bf33dcae7311c0e3cafa67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af2a3e27103283f01a830ecdf06168e42"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_cleanup_parameters.html">CleanupParameters</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#af2a3e27103283f01a830ecdf06168e42">getCurrentParameters</a> ()</td></tr>
<tr class="separator:af2a3e27103283f01a830ecdf06168e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe65b098da3eb470040733b76e07b86d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#abe65b098da3eb470040733b76e07b86d">getCleanupFrame</a> (<a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *&amp;sl, <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid)</td></tr>
<tr class="separator:abe65b098da3eb470040733b76e07b86d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af02095102c6a85cfcdde2a8f8a3780f9"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#af02095102c6a85cfcdde2a8f8a3780f9">clnPath</a> () const</td></tr>
<tr class="separator:af02095102c6a85cfcdde2a8f8a3780f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a244bd70aa1bc4af824a6c8e299cd5d79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a244bd70aa1bc4af824a6c8e299cd5d79">attach</a> (int objectFlag, bool doPreview=true)</td></tr>
<tr class="separator:a244bd70aa1bc4af824a6c8e299cd5d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26a2edbdf4fe3ed77fe4f40020189579"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a26a2edbdf4fe3ed77fe4f40020189579">detach</a> (int objectFlag)</td></tr>
<tr class="separator:a26a2edbdf4fe3ed77fe4f40020189579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d8825724b5f3153f2b9318250a5ba38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a6d8825724b5f3153f2b9318250a5ba38">getPreviewData</a> (<a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> &amp;original, <a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> &amp;transformed, <a class="el" href="class_t_affine.html">TAffine</a> &amp;transform)</td></tr>
<tr class="separator:a6d8825724b5f3153f2b9318250a5ba38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91498127febe1394e79acfef0cbdea40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a91498127febe1394e79acfef0cbdea40">getCameraTestData</a> (<a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> &amp;original, <a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> &amp;transformed)</td></tr>
<tr class="separator:a91498127febe1394e79acfef0cbdea40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24546176ae0de7be360eaf619213d895"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a24546176ae0de7be360eaf619213d895">setCommitMask</a> (CommitMask allowedProcessing)</td></tr>
<tr class="separator:a24546176ae0de7be360eaf619213d895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9db2eaaca9f1e2c6be091f81144d7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a2d9db2eaaca9f1e2c6be091f81144d7d">saveSettings</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;clnPath)</td></tr>
<tr class="separator:a2d9db2eaaca9f1e2c6be091f81144d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7188206526532919018ae9da8ebd1e16"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a7188206526532919018ae9da8ebd1e16">loadSettings</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;clnPath)</td></tr>
<tr class="separator:a7188206526532919018ae9da8ebd1e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1fb1f6664d3b6a4ca4dcf9361d538af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#aa1fb1f6664d3b6a4ca4dcf9361d538af">saveSettingsIfNeeded</a> ()</td></tr>
<tr class="separator:aa1fb1f6664d3b6a4ca4dcf9361d538af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a13b56ba8eabf7f7c1498f66f6443ac36"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_cleanup_settings_model.html">CleanupSettingsModel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a13b56ba8eabf7f7c1498f66f6443ac36">instance</a> ()</td></tr>
<tr class="separator:a13b56ba8eabf7f7c1498f66f6443ac36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af745293ce297fb8b8cad81250bb9aa5f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#af745293ce297fb8b8cad81250bb9aa5f">getInputPath</a> (<a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl)</td></tr>
<tr class="separator:af745293ce297fb8b8cad81250bb9aa5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac824b1d0e864f6218d53b362a0d0f3f5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#ac824b1d0e864f6218d53b362a0d0f3f5">getOutputPath</a> (<a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl, const <a class="el" href="class_cleanup_parameters.html">CleanupParameters</a> *params)</td></tr>
<tr class="separator:ac824b1d0e864f6218d53b362a0d0f3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b676700db1e01577ec407f29f78f88"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#ae6b676700db1e01577ec407f29f78f88">getClnPath</a> (<a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl)</td></tr>
<tr class="separator:ae6b676700db1e01577ec407f29f78f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852371a260556200406f292aed420a7c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#a852371a260556200406f292aed420a7c">saveSettings</a> (<a class="el" href="class_cleanup_parameters.html">CleanupParameters</a> *params, const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;clnPath)</td></tr>
<tr class="memdesc:a852371a260556200406f292aed420a7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">cln file.  <a href="class_cleanup_settings_model.html#a852371a260556200406f292aed420a7c">More...</a><br /></td></tr>
<tr class="separator:a852371a260556200406f292aed420a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa49e33b0914593ab81e717463b1373a9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cleanup_settings_model.html#aa49e33b0914593ab81e717463b1373a9">loadSettings</a> (<a class="el" href="class_cleanup_parameters.html">CleanupParameters</a> *params, const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;clnPath)</td></tr>
<tr class="separator:aa49e33b0914593ab81e717463b1373a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The <a class="el" href="class_cleanup_settings_model.html">CleanupSettingsModel</a> is the class responsible for concrete management of cleanup settings in Toonz.</p>
<p >In Toonz, the interface to cleanup settings follows the model/view architecture, where each Cleanup Settings panel is a view to a singleton model of this class. <br  />
<br  />
 The <a class="el" href="class_cleanup_settings_model.html">CleanupSettingsModel</a> is responsible for handling signals that involve cleanup changes, such as user changes in the parameters coming from views, settings reset or switches from commands, and so on. <br  />
<br  />
 A cleanup operation is roughly split in 2 parts: main processing and post-processing. <br  />
<br  />
 The main processing part takes the full original image and applies geometric transforms and other full-image analysis and processing. This is typically slow, and is thus performed by this class once for all views. <br  />
<br  />
 Post-processing performs further local or pixel-per-pixel adjustments that are sufficiently fast to be carried out by single views on their preview area. This includes <em> colors recognition, colors adjustment, despeckling &lt;\I&gt; and <em>antialiasing-related</em> effects.</em></p>
<p ><em></p><dl class="section note"><dt>Note</dt><dd>This class also acts as a wrapper to <a class="el" href="class_cleanup_parameters.html">CleanupParameters</a>' palette, attaching to the "current cleanup palette handle" accessible through the TPaletteController. </dd></dl>
<p></em></p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a44a4f8c2566616b6807f3b9228d1ad6b" name="a44a4f8c2566616b6807f3b9228d1ad6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44a4f8c2566616b6807f3b9228d1ad6b">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   89</span>{ LISTENER = 0x1, PREVIEWER = 0x2, CAMERATEST = 0x4 };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1db558b07c2c95ea6eed88ffc11a01ff" name="a1db558b07c2c95ea6eed88ffc11a01ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db558b07c2c95ea6eed88ffc11a01ff">&#9670;&nbsp;</a></span>CommitMask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum CleanupSettingsModel::CommitMask</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   90</span>{ NONE = 0, INTERFACE, POSTPROCESS, FULLPROCESS };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8c2e503989dffd8ec1bd95b4c2272437" name="a8c2e503989dffd8ec1bd95b4c2272437"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c2e503989dffd8ec1bd95b4c2272437">&#9670;&nbsp;</a></span>CleanupSettingsModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CleanupSettingsModel::CleanupSettingsModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  143</span>    : m_listenersCount(0)</div>
<div class="line"><span class="lineno">  144</span>    , m_previewersCount(0)</div>
<div class="line"><span class="lineno">  145</span>    , m_cameraTestsCount(0)</div>
<div class="line"><span class="lineno">  146</span>    , m_allowedActions(FULLPROCESS)</div>
<div class="line"><span class="lineno">  147</span>    , m_action(NONE)</div>
<div class="line"><span class="lineno">  148</span>    , m_c(-1)</div>
<div class="line"><span class="lineno">  149</span>    , m_sl(0) {</div>
<div class="line"><span class="lineno">  150</span>  <a class="code hl_class" href="class_cleanup_parameters.html">CleanupParameters</a> *currentParams = getCurrentParameters();</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  <span class="comment">// Don&#39;t clone the palette. Palette changes are tracked through</span></div>
<div class="line"><span class="lineno">  153</span>  <span class="comment">// palette handle signals.</span></div>
<div class="line"><span class="lineno">  154</span>  m_backupParams.assign(currentParams, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>  <a class="code hl_class" href="class_t_scene_handle.html">TSceneHandle</a> *sceneHandle = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>();</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>  <span class="keywordtype">bool</span> ret = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  159</span>  ret      = ret &amp;&amp;</div>
<div class="line"><span class="lineno">  160</span>        connect(sceneHandle, SIGNAL(sceneSwitched()), SLOT(onSceneSwitched()));</div>
<div class="line"><span class="lineno">  161</span>  assert(ret);</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>  onSceneSwitched();</div>
<div class="line"><span class="lineno">  164</span>}</div>
<div class="ttc" id="aclass_cleanup_parameters_html"><div class="ttname"><a href="class_cleanup_parameters.html">CleanupParameters</a></div><div class="ttdef"><b>Definition:</b> cleanupparameters.h:128</div></div>
<div class="ttc" id="aclass_t_app_html_a24088f8647d5d9447fcec6b9b9bbf9eb"><div class="ttname"><a href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a></div><div class="ttdeci">static TApp * instance()</div><div class="ttdef"><b>Definition:</b> tapp.cpp:215</div></div>
<div class="ttc" id="aclass_t_app_html_abbbf1fae564e9e510826eda4f6637d20"><div class="ttname"><a href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">TApp::getCurrentScene</a></div><div class="ttdeci">TSceneHandle * getCurrentScene() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:106</div></div>
<div class="ttc" id="aclass_t_scene_handle_html"><div class="ttname"><a href="class_t_scene_handle.html">TSceneHandle</a></div><div class="ttdef"><b>Definition:</b> tscenehandle.h:28</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0d729675008c6d6adfaafb88bb4eeb7" name="aa0d729675008c6d6adfaafb88bb4eeb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0d729675008c6d6adfaafb88bb4eeb7">&#9670;&nbsp;</a></span>~CleanupSettingsModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CleanupSettingsModel::~CleanupSettingsModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  168</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a244bd70aa1bc4af824a6c8e299cd5d79" name="a244bd70aa1bc4af824a6c8e299cd5d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a244bd70aa1bc4af824a6c8e299cd5d79">&#9670;&nbsp;</a></span>attach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::attach </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>objectFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>doPreview</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Attaches an object to the model. It is not necessary to supply the object itself, but a description of its role is required. The object could be any combination of the LISTENER, PREVIEWER or CAMERATEST flags. The role information is used to activate centralized preview or camera test processing. </p>
<div class="fragment"><div class="line"><span class="lineno">  204</span>                                                                {</div>
<div class="line"><span class="lineno">  205</span>  <span class="keywordflow">if</span> ((objectFlag &amp; LISTENER) &amp;&amp; (m_listenersCount++ &lt;= 0)) connectSignals();</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>  <span class="keywordtype">bool</span> doRebuild = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>  <span class="keywordflow">if</span> ((objectFlag &amp; PREVIEWER) &amp;&amp; (m_previewersCount++ &lt;= 0)) doRebuild = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>  <span class="keywordflow">if</span> ((objectFlag &amp; CAMERATEST) &amp;&amp; (m_cameraTestsCount++ &lt;= 0))</div>
<div class="line"><span class="lineno">  212</span>    doRebuild = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>  <span class="keywordflow">if</span> (doRebuild &amp;&amp; doPreview) rebuildPreview();</div>
<div class="line"><span class="lineno">  215</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1fba35f9b6bf33dcae7311c0e3cafa67" name="a1fba35f9b6bf33dcae7311c0e3cafa67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fba35f9b6bf33dcae7311c0e3cafa67">&#9670;&nbsp;</a></span>clnLoaded</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::clnLoaded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Emitted when the model loads (or unloads) a cln settings file. It is also invoked when a cln is saved, since saving should put us in the same situation we have after a cln has been loaded. </p>

<p class="reference">Referenced by <a class="el" href="#l00579">restoreGlobalSettings()</a>.</p>

</div>
</div>
<a id="af02095102c6a85cfcdde2a8f8a3780f9" name="af02095102c6a85cfcdde2a8f8a3780f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af02095102c6a85cfcdde2a8f8a3780f9">&#9670;&nbsp;</a></span>clnPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp; CleanupSettingsModel::clnPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  101</span>{ <span class="keywordflow">return</span> m_clnPath; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b1f1768b04906a781f54d03965d7016" name="a7b1f1768b04906a781f54d03965d7016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b1f1768b04906a781f54d03965d7016">&#9670;&nbsp;</a></span>commitChanges</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::commitChanges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Informs the model that current settings have changed. Settings analysis and cleanup refreshes ensue. The <a class="el" href="class_cleanup_settings_model.html#a8e1ea53050b6a45679726c949bc0d95c">modelChanged()</a> signal is then emitted to inform connected views of said change. </p>
<div class="fragment"><div class="line"><span class="lineno">  291</span>                                         {</div>
<div class="line"><span class="lineno">  292</span>  <a class="code hl_class" href="class_cleanup_parameters.html">CleanupParameters</a> *currentParams = getCurrentParameters();</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>  <span class="keywordtype">int</span> action = NONE;</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>  <span class="comment">// Analyze param changes</span></div>
<div class="line"><span class="lineno">  297</span>  {</div>
<div class="line"><span class="lineno">  298</span>    <span class="comment">// Check for simple changes</span></div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">if</span> (currentParams-&gt;m_path != m_backupParams.m_path) action = INTERFACE;</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="comment">// Check post-processing-related changes</span></div>
<div class="line"><span class="lineno">  302</span>    <span class="keywordflow">if</span> (currentParams-&gt;m_transparencyCheckEnabled !=</div>
<div class="line"><span class="lineno">  303</span>            m_backupParams.m_transparencyCheckEnabled ||</div>
<div class="line"><span class="lineno">  304</span>        currentParams-&gt;m_noAntialias != m_backupParams.m_noAntialias ||</div>
<div class="line"><span class="lineno">  305</span>        currentParams-&gt;m_postAntialias != m_backupParams.m_postAntialias ||</div>
<div class="line"><span class="lineno">  306</span>        currentParams-&gt;m_despeckling != m_backupParams.m_despeckling ||</div>
<div class="line"><span class="lineno">  307</span>        currentParams-&gt;m_aaValue != m_backupParams.m_aaValue)</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>      action = POSTPROCESS;</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <span class="comment">// Check for full preview rebuilds</span></div>
<div class="line"><span class="lineno">  312</span>    <span class="keywordflow">if</span> (currentParams-&gt;m_lineProcessingMode !=</div>
<div class="line"><span class="lineno">  313</span>            m_backupParams.m_lineProcessingMode ||</div>
<div class="line"><span class="lineno">  314</span>        currentParams-&gt;m_autocenterType != m_backupParams.m_autocenterType ||</div>
<div class="line"><span class="lineno">  315</span>        currentParams-&gt;m_autoAdjustMode != m_backupParams.m_autoAdjustMode ||</div>
<div class="line"><span class="lineno">  316</span>        currentParams-&gt;m_camera.<a class="code hl_function" href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">getRes</a>() != m_backupParams.m_camera.<a class="code hl_function" href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">getRes</a>() ||</div>
<div class="line"><span class="lineno">  317</span>        currentParams-&gt;m_camera.<a class="code hl_function" href="class_t_camera.html#a6f561eca912177c2150b3e57816f02f6">getSize</a>() !=</div>
<div class="line"><span class="lineno">  318</span>            m_backupParams.m_camera.<a class="code hl_function" href="class_t_camera.html#a6f561eca912177c2150b3e57816f02f6">getSize</a>() ||</div>
<div class="line"><span class="lineno">  319</span>        currentParams-&gt;m_rotate != m_backupParams.m_rotate ||</div>
<div class="line"><span class="lineno">  320</span>        currentParams-&gt;m_flipx != m_backupParams.m_flipx ||</div>
<div class="line"><span class="lineno">  321</span>        currentParams-&gt;m_flipy != m_backupParams.m_flipy ||</div>
<div class="line"><span class="lineno">  322</span>        currentParams-&gt;m_offx != m_backupParams.m_offx ||</div>
<div class="line"><span class="lineno">  323</span>        currentParams-&gt;m_offy != m_backupParams.m_offy ||</div>
<div class="line"><span class="lineno">  324</span>        currentParams-&gt;m_sharpness != m_backupParams.m_sharpness ||</div>
<div class="line"><span class="lineno">  325</span>        currentParams-&gt;m_closestField != m_backupParams.m_closestField)</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>      action = FULLPROCESS;</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">if</span> (currentParams-&gt;m_autocenterType != CleanupTypes::AUTOCENTER_NONE) {</div>
<div class="line"><span class="lineno">  330</span>      <span class="comment">// Check Autocenter changes</span></div>
<div class="line"><span class="lineno">  331</span>      <span class="keywordflow">if</span> (!(currentParams-&gt;getFdgInfo() == m_backupParams.getFdgInfo()) ||</div>
<div class="line"><span class="lineno">  332</span>          currentParams-&gt;m_pegSide != m_backupParams.m_pegSide)</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>        action = FULLPROCESS;</div>
<div class="line"><span class="lineno">  335</span>    }</div>
<div class="line"><span class="lineno">  336</span>  }</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>  <a class="code hl_slot" href="class_cleanup_settings_model.html#a7b1f1768b04906a781f54d03965d7016">commitChanges</a>(action);</div>
<div class="line"><span class="lineno">  339</span>}</div>
<div class="ttc" id="aclass_cleanup_settings_model_html_a7b1f1768b04906a781f54d03965d7016"><div class="ttname"><a href="class_cleanup_settings_model.html#a7b1f1768b04906a781f54d03965d7016">CleanupSettingsModel::commitChanges</a></div><div class="ttdeci">void commitChanges()</div><div class="ttdef"><b>Definition:</b> cleanupsettingsmodel.cpp:291</div></div>
<div class="ttc" id="aclass_t_camera_html_a6f561eca912177c2150b3e57816f02f6"><div class="ttname"><a href="class_t_camera.html#a6f561eca912177c2150b3e57816f02f6">TCamera::getSize</a></div><div class="ttdeci">const TDimensionD &amp; getSize() const</div><div class="ttdef"><b>Definition:</b> tcamera.h:55</div></div>
<div class="ttc" id="aclass_t_camera_html_a9a7c573e7a2c397ffae4b747809ea2a5"><div class="ttname"><a href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">TCamera::getRes</a></div><div class="ttdeci">const TDimension &amp; getRes() const</div><div class="ttdef"><b>Definition:</b> tcamera.h:72</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00291">commitChanges()</a>, <a class="el" href="#l00072">TCamera::getRes()</a>, and <a class="el" href="#l00055">TCamera::getSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00291">commitChanges()</a>, and <a class="el" href="#l00284">setCommitMask()</a>.</p>

</div>
</div>
<a id="a26a2edbdf4fe3ed77fe4f40020189579" name="a26a2edbdf4fe3ed77fe4f40020189579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26a2edbdf4fe3ed77fe4f40020189579">&#9670;&nbsp;</a></span>detach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::detach </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>objectFlag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The inverse of <a class="el" href="class_cleanup_settings_model.html#a244bd70aa1bc4af824a6c8e299cd5d79">attach()</a>, it's used to deactivate the specified role activities when no more attached objects to that role remain. </p>
<div class="fragment"><div class="line"><span class="lineno">  219</span>                                                {</div>
<div class="line"><span class="lineno">  220</span>  <span class="keywordflow">if</span> ((objectFlag &amp; LISTENER) &amp;&amp; (--m_listenersCount &lt;= 0)) disconnectSignals();</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>  <span class="keywordflow">if</span> ((objectFlag &amp; PREVIEWER) &amp;&amp; (--m_previewersCount &lt;= 0)) {</div>
<div class="line"><span class="lineno">  223</span>    m_previewTransformed = <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a>();</div>
<div class="line"><span class="lineno">  224</span>    m_transform          = <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  225</span>  }</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>  <span class="keywordflow">if</span> ((objectFlag &amp; CAMERATEST) &amp;&amp; (--m_cameraTestsCount &lt;= 0))</div>
<div class="line"><span class="lineno">  228</span>    m_cameraTestTransformed = <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a>();</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>  assert(m_listenersCount &gt;= 0);</div>
<div class="line"><span class="lineno">  231</span>  assert(m_previewersCount &gt;= 0);</div>
<div class="line"><span class="lineno">  232</span>  assert(m_cameraTestsCount &gt;= 0);</div>
<div class="line"><span class="lineno">  233</span>}</div>
<div class="ttc" id="aclass_t_affine_html"><div class="ttname"><a href="class_t_affine.html">TAffine</a></div><div class="ttdoc">This is the base class for the affine transformations.</div><div class="ttdef"><b>Definition:</b> tgeometry.h:864</div></div>
<div class="ttc" id="aclass_t_raster_image_p_html"><div class="ttname"><a href="class_t_raster_image_p.html">TRasterImageP</a></div><div class="ttdef"><b>Definition:</b> trasterimage.h:148</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a91498127febe1394e79acfef0cbdea40" name="a91498127febe1394e79acfef0cbdea40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91498127febe1394e79acfef0cbdea40">&#9670;&nbsp;</a></span>getCameraTestData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::getCameraTestData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> &amp;&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> &amp;&#160;</td>
          <td class="paramname"><em>transformed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns the interesting info about a camera test process. This includes both the original and affine-transformed image. </p>
<div class="fragment"><div class="line"><span class="lineno">  128</span>                                                                              {</div>
<div class="line"><span class="lineno">  129</span>    original    = m_original;</div>
<div class="line"><span class="lineno">  130</span>    transformed = m_cameraTestTransformed;</div>
<div class="line"><span class="lineno">  131</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="abe65b098da3eb470040733b76e07b86d" name="abe65b098da3eb470040733b76e07b86d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe65b098da3eb470040733b76e07b86d">&#9670;&nbsp;</a></span>getCleanupFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::getCleanupFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *&amp;&#160;</td>
          <td class="paramname"><em>sl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  187</span>                                                          {</div>
<div class="line"><span class="lineno">  188</span>  <a class="code hl_class" href="class_t_app.html">TApp</a> *app = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>();</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>  <span class="keywordtype">int</span> r = app-&gt;<a class="code hl_function" href="class_t_app.html#a35516f8175dab3ccdf3d6d3c3e5f59ae">getCurrentFrame</a>()-&gt;getFrame();</div>
<div class="line"><span class="lineno">  191</span>  <span class="keywordtype">int</span> c = app-&gt;<a class="code hl_function" href="class_t_app.html#a1e294e7cff300851d12a8c3d196943f6">getCurrentColumn</a>()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = app-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;getXsheet();</div>
<div class="line"><span class="lineno">  194</span>  assert(xsh);</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> &amp;cell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(r, c);</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>  fid = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">getFrameId</a>();</div>
<div class="line"><span class="lineno">  199</span>  sl  = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>() ? 0 : cell.<a class="code hl_function" href="class_t_xsh_cell.html#a8898cc47eba24e59477bfba8e2511f1d">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  200</span>}</div>
<div class="ttc" id="aclass_t_app_html"><div class="ttname"><a href="class_t_app.html">TApp</a></div><div class="ttdoc">This is the instance of the main application.</div><div class="ttdef"><b>Definition:</b> tapp.h:66</div></div>
<div class="ttc" id="aclass_t_app_html_a13f509e753824cb0500787f68bb51a09"><div class="ttname"><a href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">TApp::getCurrentXsheet</a></div><div class="ttdeci">TXsheetHandle * getCurrentXsheet() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:110</div></div>
<div class="ttc" id="aclass_t_app_html_a1e294e7cff300851d12a8c3d196943f6"><div class="ttname"><a href="class_t_app.html#a1e294e7cff300851d12a8c3d196943f6">TApp::getCurrentColumn</a></div><div class="ttdeci">TColumnHandle * getCurrentColumn() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:118</div></div>
<div class="ttc" id="aclass_t_app_html_a35516f8175dab3ccdf3d6d3c3e5f59ae"><div class="ttname"><a href="class_t_app.html#a35516f8175dab3ccdf3d6d3c3e5f59ae">TApp::getCurrentFrame</a></div><div class="ttdeci">TFrameHandle * getCurrentFrame() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:114</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html"><div class="ttname"><a href="class_t_xsh_cell.html">TXshCell</a></div><div class="ttdef"><b>Definition:</b> txshcell.h:35</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html_a5a1965b96c2c698d6f0fb42a80c03406"><div class="ttname"><a href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">TXshCell::getFrameId</a></div><div class="ttdeci">TFrameId getFrameId() const</div><div class="ttdef"><b>Definition:</b> txshcell.h:120</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html_a5d20229e7bcd19957b123959e58a833e"><div class="ttname"><a href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">TXshCell::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdef"><b>Definition:</b> txshcell.h:78</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html_a8898cc47eba24e59477bfba8e2511f1d"><div class="ttname"><a href="class_t_xsh_cell.html#a8898cc47eba24e59477bfba8e2511f1d">TXshCell::getSimpleLevel</a></div><div class="ttdeci">TXshSimpleLevel * getSimpleLevel() const</div><div class="ttdef"><b>Definition:</b> txshcell.cpp:19</div></div>
<div class="ttc" id="aclass_t_xsheet_html"><div class="ttname"><a href="class_t_xsheet.html">TXsheet</a></div><div class="ttdef"><b>Definition:</b> txsheet.h:132</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a1ae81edf03bc7527176c84478c350f57"><div class="ttname"><a href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">TXsheet::getCell</a></div><div class="ttdeci">const TXshCell &amp; getCell(int row, int col) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:233</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6b676700db1e01577ec407f29f78f88" name="ae6b676700db1e01577ec407f29f78f88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6b676700db1e01577ec407f29f78f88">&#9670;&nbsp;</a></span>getClnPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_file_path.html">TFilePath</a> CleanupSettingsModel::getClnPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *&#160;</td>
          <td class="paramname"><em>sl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >encoded output cleanup path for the specified level. Returns the <b>decoded</b> path for the level's <em></em> </p>
<div class="fragment"><div class="line"><span class="lineno">  712</span>                                                              {</div>
<div class="line"><span class="lineno">  713</span>  <span class="keywordflow">if</span> (!sl) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>();</div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="line"><span class="lineno">  715</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> clnPath(sl-&gt;getScannedPath());</div>
<div class="line"><span class="lineno">  716</span>  <span class="keywordflow">if</span> (clnPath == <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>()) clnPath = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a668293d53a70cca8811db28d87011c55">getPath</a>();</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>  <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene();</div>
<div class="line"><span class="lineno">  719</span>  <span class="keywordflow">return</span> scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(clnPath).withNoFrame().<a class="code hl_function" href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">withType</a>(<span class="stringliteral">&quot;cln&quot;</span>);</div>
<div class="line"><span class="lineno">  720</span>}</div>
<div class="ttc" id="aclass_t_file_path_html"><div class="ttname"><a href="class_t_file_path.html">TFilePath</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:134</div></div>
<div class="ttc" id="aclass_t_file_path_html_a1437b0e0720e9258b622f68b6858e95d"><div class="ttname"><a href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">TFilePath::withType</a></div><div class="ttdeci">TFilePath withType(const std::string &amp;type) const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:774</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a668293d53a70cca8811db28d87011c55"><div class="ttname"><a href="class_t_xsh_simple_level.html#a668293d53a70cca8811db28d87011c55">TXshSimpleLevel::getPath</a></div><div class="ttdeci">TFilePath getPath() const override</div><div class="ttdoc">Return the file path associated with the level.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:120</div></div>
<div class="ttc" id="aclass_toonz_scene_html"><div class="ttname"><a href="class_toonz_scene.html">ToonzScene</a></div><div class="ttdef"><b>Definition:</b> toonzscene.h:42</div></div>
<div class="ttc" id="aclass_toonz_scene_html_aa2ed57dfbae7f8cf02a4abe47ed533c6"><div class="ttname"><a href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">ToonzScene::decodeFilePath</a></div><div class="ttdeci">TFilePath decodeFilePath(const TFilePath &amp;) const</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:1231</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01231">ToonzScene::decodeFilePath()</a>, <a class="el" href="#l00106">TApp::getCurrentScene()</a>, <a class="el" href="#l00120">TXshSimpleLevel::getPath()</a>, <a class="el" href="#l00215">TApp::instance()</a>, and <a class="el" href="#l00774">TFilePath::withType()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00702">promptLoad()</a>, and <a class="el" href="#l00692">promptSave()</a>.</p>

</div>
</div>
<a id="af2a3e27103283f01a830ecdf06168e42" name="af2a3e27103283f01a830ecdf06168e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2a3e27103283f01a830ecdf06168e42">&#9670;&nbsp;</a></span>getCurrentParameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cleanup_parameters.html">CleanupParameters</a> * CleanupSettingsModel::getCurrentParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  179</span>                                                              {</div>
<div class="line"><span class="lineno">  180</span>  <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene();</div>
<div class="line"><span class="lineno">  181</span>  <span class="keywordflow">return</span> scene ? scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()-&gt;<a class="code hl_function" href="class_t_scene_properties.html#a84e6735bb0b0ea5054b9592c9612aff9">getCleanupParameters</a>() : 0;</div>
<div class="line"><span class="lineno">  182</span>}</div>
<div class="ttc" id="aclass_t_scene_properties_html_a84e6735bb0b0ea5054b9592c9612aff9"><div class="ttname"><a href="class_t_scene_properties.html#a84e6735bb0b0ea5054b9592c9612aff9">TSceneProperties::getCleanupParameters</a></div><div class="ttdeci">CleanupParameters * getCleanupParameters() const</div><div class="ttdef"><b>Definition:</b> sceneproperties.h:159</div></div>
<div class="ttc" id="aclass_toonz_scene_html_a8ef96fedc17d7def810ac419b0939254"><div class="ttname"><a href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">ToonzScene::getProperties</a></div><div class="ttdeci">TSceneProperties * getProperties() const</div><div class="ttdoc">&lt; Returns a pointer to the scene's properties.</div><div class="ttdef"><b>Definition:</b> toonzscene.h:87</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af745293ce297fb8b8cad81250bb9aa5f" name="af745293ce297fb8b8cad81250bb9aa5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af745293ce297fb8b8cad81250bb9aa5f">&#9670;&nbsp;</a></span>getInputPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_file_path.html">TFilePath</a> CleanupSettingsModel::getInputPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *&#160;</td>
          <td class="paramname"><em>sl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns the <b>encoded</b> input cleanup </p>
<div class="fragment"><div class="line"><span class="lineno">  724</span>                                                                {</div>
<div class="line"><span class="lineno">  725</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;scannedPath = sl-&gt;getScannedPath();</div>
<div class="line"><span class="lineno">  726</span>  <span class="keywordflow">return</span> scannedPath.isEmpty() ? sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a668293d53a70cca8811db28d87011c55">getPath</a>() : scannedPath;</div>
<div class="line"><span class="lineno">  727</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00120">TXshSimpleLevel::getPath()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00731">getOutputPath()</a>.</p>

</div>
</div>
<a id="ac824b1d0e864f6218d53b362a0d0f3f5" name="ac824b1d0e864f6218d53b362a0d0f3f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac824b1d0e864f6218d53b362a0d0f3f5">&#9670;&nbsp;</a></span>getOutputPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_file_path.html">TFilePath</a> CleanupSettingsModel::getOutputPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *&#160;</td>
          <td class="paramname"><em>sl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_cleanup_parameters.html">CleanupParameters</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >path for the specified level. Returns the <b></b> </p>
<div class="fragment"><div class="line"><span class="lineno">  732</span>                                                                               {</div>
<div class="line"><span class="lineno">  733</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;inPath = <a class="code hl_function" href="class_cleanup_settings_model.html#af745293ce297fb8b8cad81250bb9aa5f">getInputPath</a>(sl);  <span class="comment">// Used just to get level name</span></div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>  <span class="keywordflow">if</span> (inPath.isEmpty() || !params) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>();</div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>  <span class="keywordtype">bool</span> lineProcessing = (params-&gt;m_lineProcessingMode != lpNone);</div>
<div class="line"><span class="lineno">  738</span>  <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene   = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene();</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>  <span class="comment">// Check if the cleaned up level already exists</span></div>
<div class="line"><span class="lineno">  741</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;outDir = params-&gt;getPath(scene);</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>  <span class="keywordflow">return</span> lineProcessing ? (outDir + inPath.getWideName()).withType(<span class="stringliteral">&quot;tlv&quot;</span>)</div>
<div class="line"><span class="lineno">  744</span>                        : (outDir + inPath.getLevelNameW())</div>
<div class="line"><span class="lineno">  745</span>                              .withType(params-&gt;m_lpNoneFormat);</div>
<div class="line"><span class="lineno">  746</span>}</div>
<div class="ttc" id="aclass_cleanup_settings_model_html_af745293ce297fb8b8cad81250bb9aa5f"><div class="ttname"><a href="class_cleanup_settings_model.html#af745293ce297fb8b8cad81250bb9aa5f">CleanupSettingsModel::getInputPath</a></div><div class="ttdeci">static TFilePath getInputPath(TXshSimpleLevel *sl)</div><div class="ttdef"><b>Definition:</b> cleanupsettingsmodel.cpp:724</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00106">TApp::getCurrentScene()</a>, <a class="el" href="#l00724">getInputPath()</a>, and <a class="el" href="#l00215">TApp::instance()</a>.</p>

</div>
</div>
<a id="a6d8825724b5f3153f2b9318250a5ba38" name="a6d8825724b5f3153f2b9318250a5ba38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d8825724b5f3153f2b9318250a5ba38">&#9670;&nbsp;</a></span>getPreviewData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::getPreviewData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> &amp;&#160;</td>
          <td class="paramname"><em>original</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> &amp;&#160;</td>
          <td class="paramname"><em>transformed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_affine.html">TAffine</a> &amp;&#160;</td>
          <td class="paramname"><em>transform</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns the interesting info about a cleanup preview process. Specifically, we have both the original and affine-transformed images, and the applied transform. </p>
<div class="fragment"><div class="line"><span class="lineno">  119</span>                                          {</div>
<div class="line"><span class="lineno">  120</span>    original    = m_original;</div>
<div class="line"><span class="lineno">  121</span>    transformed = m_previewTransformed;</div>
<div class="line"><span class="lineno">  122</span>    transform   = m_transform;</div>
<div class="line"><span class="lineno">  123</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a13b56ba8eabf7f7c1498f66f6443ac36" name="a13b56ba8eabf7f7c1498f66f6443ac36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b56ba8eabf7f7c1498f66f6443ac36">&#9670;&nbsp;</a></span>instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cleanup_settings_model.html">CleanupSettingsModel</a> * CleanupSettingsModel::instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  172</span>                                                     {</div>
<div class="line"><span class="lineno">  173</span>  <span class="keyword">static</span> <a class="code hl_class" href="class_cleanup_settings_model.html">CleanupSettingsModel</a> theInstance;</div>
<div class="line"><span class="lineno">  174</span>  <span class="keywordflow">return</span> &amp;theInstance;</div>
<div class="line"><span class="lineno">  175</span>}</div>
<div class="ttc" id="aclass_cleanup_settings_model_html"><div class="ttname"><a href="class_cleanup_settings_model.html">CleanupSettingsModel</a></div><div class="ttdef"><b>Definition:</b> cleanupsettingsmodel.h:64</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa49e33b0914593ab81e717463b1373a9" name="aa49e33b0914593ab81e717463b1373a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa49e33b0914593ab81e717463b1373a9">&#9670;&nbsp;</a></span>loadSettings() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CleanupSettingsModel::loadSettings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_cleanup_parameters.html">CleanupParameters</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>clnPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  629</span>                                                                  {</div>
<div class="line"><span class="lineno">  630</span>  assert(params);</div>
<div class="line"><span class="lineno">  631</span>  <span class="keywordflow">if</span> (clnPath.isEmpty() || !TSystem::doesExistFileOrLevel(clnPath))</div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>  <a class="code hl_class" href="class_t_i_stream.html">TIStream</a> *is = <span class="keyword">new</span> <a class="code hl_class" href="class_t_i_stream.html">TIStream</a>(clnPath);</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>  <a class="code hl_class" href="class_cleanup_parameters.html">CleanupParameters</a> defaultParameters;</div>
<div class="line"><span class="lineno">  637</span>  params-&gt;assign(&amp;defaultParameters);</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>  std::string tagName;</div>
<div class="line"><span class="lineno">  640</span>  is-&gt;<a class="code hl_function" href="class_t_i_stream.html#a5fe7ddb5560e39e0ab4ff57d24926d41">matchTag</a>(tagName);</div>
<div class="line"><span class="lineno">  641</span>  <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;version&quot;</span>) {</div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordtype">int</span> minor, major;</div>
<div class="line"><span class="lineno">  643</span>    *is &gt;&gt; major &gt;&gt; minor;</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    is-&gt;<a class="code hl_function" href="class_t_i_stream.html#a84110f30d5adcc50d6000e9c99cd4708">matchEndTag</a>();</div>
<div class="line"><span class="lineno">  646</span>    is-&gt;<a class="code hl_function" href="class_t_i_stream.html#ab793d0eaa6881bc7126babc39b93f5d9">setVersion</a>(VersionNumber(major, minor));</div>
<div class="line"><span class="lineno">  647</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  648</span>    <span class="keyword">delete</span> is;</div>
<div class="line"><span class="lineno">  649</span>    is = <span class="keyword">new</span> <a class="code hl_class" href="class_t_i_stream.html">TIStream</a>(clnPath);</div>
<div class="line"><span class="lineno">  650</span>  }</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>  params-&gt;loadData(*is, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  653</span>  <span class="keyword">delete</span> is;</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  656</span>}</div>
<div class="ttc" id="aclass_t_i_stream_html"><div class="ttname"><a href="class_t_i_stream.html">TIStream</a></div><div class="ttdoc">Toonz's XML-like input file parser.</div><div class="ttdef"><b>Definition:</b> tstream.h:47</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a5fe7ddb5560e39e0ab4ff57d24926d41"><div class="ttname"><a href="class_t_i_stream.html#a5fe7ddb5560e39e0ab4ff57d24926d41">TIStream::matchTag</a></div><div class="ttdeci">bool matchTag(std::string &amp;tagName)</div><div class="ttdoc">is encountered or the string is empty).</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1178</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a84110f30d5adcc50d6000e9c99cd4708"><div class="ttname"><a href="class_t_i_stream.html#a84110f30d5adcc50d6000e9c99cd4708">TIStream::matchEndTag</a></div><div class="ttdeci">bool matchEndTag()</div><div class="ttdoc">Attempts matching a StreamTag::EndTag.</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1156</div></div>
<div class="ttc" id="aclass_t_i_stream_html_ab793d0eaa6881bc7126babc39b93f5d9"><div class="ttname"><a href="class_t_i_stream.html#ab793d0eaa6881bc7126babc39b93f5d9">TIStream::setVersion</a></div><div class="ttdeci">void setVersion(const VersionNumber &amp;version)</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1277</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7188206526532919018ae9da8ebd1e16" name="a7188206526532919018ae9da8ebd1e16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7188206526532919018ae9da8ebd1e16">&#9670;&nbsp;</a></span>loadSettings() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CleanupSettingsModel::loadSettings </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>clnPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  660</span>                                                                {</div>
<div class="line"><span class="lineno">  661</span>  <a class="code hl_class" href="class_cleanup_parameters.html">CleanupParameters</a> *cp = getCurrentParameters();</div>
<div class="line"><span class="lineno">  662</span>  <span class="keywordflow">if</span> (!loadSettings(cp, clnPath)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>  <span class="comment">// The same as restoreGlobalSettings()</span></div>
<div class="line"><span class="lineno">  665</span>  <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()</div>
<div class="line"><span class="lineno">  666</span>      -&gt;getPaletteController()</div>
<div class="line"><span class="lineno">  667</span>      -&gt;getCurrentCleanupPalette()</div>
<div class="line"><span class="lineno">  668</span>      -&gt;setPalette(cp-&gt;m_cleanupPalette.getPointer());</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>  <span class="comment">/*---</span></div>
<div class="line"><span class="lineno">  671</span><span class="comment">   * LoadSettingsPopupGlobal---*/</span></div>
<div class="line"><span class="lineno">  672</span>  <span class="keywordflow">if</span> (m_clnPath.isEmpty()) {</div>
<div class="line"><span class="lineno">  673</span>    <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;setDirtyFlag(</div>
<div class="line"><span class="lineno">  674</span>        <span class="keyword">true</span>);  <span class="comment">// This should be moved outside... sadly not supported at the</span></div>
<div class="line"><span class="lineno">  675</span>                <span class="comment">// moment...</span></div>
<div class="line"><span class="lineno">  676</span>    CleanupParameters::GlobalParameters.assign(</div>
<div class="line"><span class="lineno">  677</span>        cp);  <span class="comment">// The global settings are being changed</span></div>
<div class="line"><span class="lineno">  678</span>  }</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>  m_backupParams.assign(cp, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>  <span class="keywordflow">if</span> (m_previewersCount &gt; 0 || m_cameraTestsCount &gt; 0) rebuildPreview();</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>  emit <a class="code hl_signal" href="class_cleanup_settings_model.html#a8e1ea53050b6a45679726c949bc0d95c">modelChanged</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  685</span>  emit <a class="code hl_signal" href="class_cleanup_settings_model.html#a1fba35f9b6bf33dcae7311c0e3cafa67">clnLoaded</a>();</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  688</span>}</div>
<div class="ttc" id="aclass_cleanup_settings_model_html_a1fba35f9b6bf33dcae7311c0e3cafa67"><div class="ttname"><a href="class_cleanup_settings_model.html#a1fba35f9b6bf33dcae7311c0e3cafa67">CleanupSettingsModel::clnLoaded</a></div><div class="ttdeci">void clnLoaded()</div></div>
<div class="ttc" id="aclass_cleanup_settings_model_html_a8e1ea53050b6a45679726c949bc0d95c"><div class="ttname"><a href="class_cleanup_settings_model.html#a8e1ea53050b6a45679726c949bc0d95c">CleanupSettingsModel::modelChanged</a></div><div class="ttdeci">void modelChanged(bool needsPostProcess)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e1ea53050b6a45679726c949bc0d95c" name="a8e1ea53050b6a45679726c949bc0d95c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e1ea53050b6a45679726c949bc0d95c">&#9670;&nbsp;</a></span>modelChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::modelChanged </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>needsPostProcess</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Emitted whenever the model has finished processing a cleanup settings change. This happens after an explicit commitChange() has been invoked from a view, or other command-related settings change occur. </p>

<p class="reference">Referenced by <a class="el" href="#l00579">restoreGlobalSettings()</a>.</p>

</div>
</div>
<a id="ad78610bd7ee12050dc10c9eaf16929c9" name="ad78610bd7ee12050dc10c9eaf16929c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78610bd7ee12050dc10c9eaf16929c9">&#9670;&nbsp;</a></span>previewDataChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::previewDataChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Emitted when the data retrievable with <a class="el" href="class_cleanup_settings_model.html#a6d8825724b5f3153f2b9318250a5ba38">getPreviewData()</a> and <a class="el" href="class_cleanup_settings_model.html#a91498127febe1394e79acfef0cbdea40">getCameraTestData()</a> have been updated. </p>

</div>
</div>
<a id="af80a228a227794221750d26a6e7bf766" name="af80a228a227794221750d26a6e7bf766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af80a228a227794221750d26a6e7bf766">&#9670;&nbsp;</a></span>promptLoad</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::promptLoad </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prompts to load settings. </p>
<div class="fragment"><div class="line"><span class="lineno">  702</span>                                      {</div>
<div class="line"><span class="lineno">  703</span>  <span class="keyword">static</span> LoadSettingsPopup *loadPopup = 0;</div>
<div class="line"><span class="lineno">  704</span>  <span class="keywordflow">if</span> (!loadPopup) loadPopup = <span class="keyword">new</span> LoadSettingsPopup;</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>  loadPopup-&gt;setPath(<a class="code hl_function" href="class_cleanup_settings_model.html#ae6b676700db1e01577ec407f29f78f88">getClnPath</a>(m_sl));</div>
<div class="line"><span class="lineno">  707</span>  loadPopup-&gt;exec();</div>
<div class="line"><span class="lineno">  708</span>}</div>
<div class="ttc" id="aclass_cleanup_settings_model_html_ae6b676700db1e01577ec407f29f78f88"><div class="ttname"><a href="class_cleanup_settings_model.html#ae6b676700db1e01577ec407f29f78f88">CleanupSettingsModel::getClnPath</a></div><div class="ttdeci">static TFilePath getClnPath(TXshSimpleLevel *sl)</div><div class="ttdef"><b>Definition:</b> cleanupsettingsmodel.cpp:712</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00712">getClnPath()</a>.</p>

</div>
</div>
<a id="a1310a7fd0caf8560aa806c30eaee53f7" name="a1310a7fd0caf8560aa806c30eaee53f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1310a7fd0caf8560aa806c30eaee53f7">&#9670;&nbsp;</a></span>promptSave</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::promptSave </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prompts to save current settings. </p>
<div class="fragment"><div class="line"><span class="lineno">  692</span>                                      {</div>
<div class="line"><span class="lineno">  693</span>  <span class="keyword">static</span> SaveSettingsPopup *savePopup = 0;</div>
<div class="line"><span class="lineno">  694</span>  <span class="keywordflow">if</span> (!savePopup) savePopup = <span class="keyword">new</span> SaveSettingsPopup;</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>  savePopup-&gt;setPath(<a class="code hl_function" href="class_cleanup_settings_model.html#ae6b676700db1e01577ec407f29f78f88">getClnPath</a>(m_sl));</div>
<div class="line"><span class="lineno">  697</span>  savePopup-&gt;exec();</div>
<div class="line"><span class="lineno">  698</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00712">getClnPath()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00553">saveSettingsIfNeeded()</a>.</p>

</div>
</div>
<a id="a15df7abc5aaea2155743ce59c3c03b0b" name="a15df7abc5aaea2155743ce59c3c03b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15df7abc5aaea2155743ce59c3c03b0b">&#9670;&nbsp;</a></span>restoreGlobalSettings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::restoreGlobalSettings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Reloads the project's cleanup settings (no prompts) </p>
<div class="fragment"><div class="line"><span class="lineno">  579</span>                                                 {</div>
<div class="line"><span class="lineno">  580</span>  <a class="code hl_class" href="class_cleanup_parameters.html">CleanupParameters</a> *currentParams = getCurrentParameters();</div>
<div class="line"><span class="lineno">  581</span>  currentParams-&gt;assign(&amp;CleanupParameters::GlobalParameters);</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>  <span class="comment">// Make sure that the current cleanup palette is set to currentParams&#39; palette</span></div>
<div class="line"><span class="lineno">  584</span>  <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()</div>
<div class="line"><span class="lineno">  585</span>      -&gt;getPaletteController()</div>
<div class="line"><span class="lineno">  586</span>      -&gt;getCurrentCleanupPalette()</div>
<div class="line"><span class="lineno">  587</span>      -&gt;setPalette(currentParams-&gt;m_cleanupPalette.getPointer());</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>  m_clnPath = <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>();</div>
<div class="line"><span class="lineno">  590</span>  m_backupParams.assign(currentParams, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>  <span class="keywordflow">if</span> (m_previewersCount &gt; 0 || m_cameraTestsCount &gt; 0) rebuildPreview();</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>  emit <a class="code hl_signal" href="class_cleanup_settings_model.html#a8e1ea53050b6a45679726c949bc0d95c">modelChanged</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  595</span>  emit <a class="code hl_signal" href="class_cleanup_settings_model.html#a1fba35f9b6bf33dcae7311c0e3cafa67">clnLoaded</a>();</div>
<div class="line"><span class="lineno">  596</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="class_cleanup_settings_model.html#a1fba35f9b6bf33dcae7311c0e3cafa67">clnLoaded()</a>, <a class="el" href="#l00215">TApp::instance()</a>, and <a class="el" href="class_cleanup_settings_model.html#a8e1ea53050b6a45679726c949bc0d95c">modelChanged()</a>.</p>

</div>
</div>
<a id="a852371a260556200406f292aed420a7c" name="a852371a260556200406f292aed420a7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a852371a260556200406f292aed420a7c">&#9670;&nbsp;</a></span>saveSettings() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::saveSettings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_cleanup_parameters.html">CleanupParameters</a> *&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>clnPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>cln file. </p>
<div class="fragment"><div class="line"><span class="lineno">  601</span>                                                                  {</div>
<div class="line"><span class="lineno">  602</span>  <span class="keywordflow">if</span> (clnPath.isEmpty() || !params) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>  <a class="code hl_class" href="class_t_o_stream.html">TOStream</a> os(clnPath);</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>  os.openChild(<span class="stringliteral">&quot;version&quot;</span>);</div>
<div class="line"><span class="lineno">  607</span>  os &lt;&lt; 1 &lt;&lt; 19;</div>
<div class="line"><span class="lineno">  608</span>  os.closeChild();</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>  params-&gt;saveData(os);</div>
<div class="line"><span class="lineno">  611</span>  params-&gt;setDirtyFlag(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  612</span>}</div>
<div class="ttc" id="aclass_t_o_stream_html"><div class="ttname"><a href="class_t_o_stream.html">TOStream</a></div><div class="ttdoc">Toonz's XML-like output file parser.</div><div class="ttdef"><b>Definition:</b> tstream.h:186</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00520">TOStream::closeChild()</a>, and <a class="el" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">TOStream::openChild()</a>.</p>

</div>
</div>
<a id="a2d9db2eaaca9f1e2c6be091f81144d7d" name="a2d9db2eaaca9f1e2c6be091f81144d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d9db2eaaca9f1e2c6be091f81144d7d">&#9670;&nbsp;</a></span>saveSettings() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::saveSettings </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>clnPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  616</span>                                                                {</div>
<div class="line"><span class="lineno">  617</span>  saveSettings(getCurrentParameters(), clnPath);</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>  <span class="comment">// Saving current settings should put the model in the same situation we</span></div>
<div class="line"><span class="lineno">  620</span>  <span class="comment">// have after a model is loaded (ie see loadSettings(clnPath))</span></div>
<div class="line"><span class="lineno">  621</span>  m_clnPath = clnPath;</div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>  emit <a class="code hl_signal" href="class_cleanup_settings_model.html#a1fba35f9b6bf33dcae7311c0e3cafa67">clnLoaded</a>();</div>
<div class="line"><span class="lineno">  624</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa1fb1f6664d3b6a4ca4dcf9361d538af" name="aa1fb1f6664d3b6a4ca4dcf9361d538af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1fb1f6664d3b6a4ca4dcf9361d538af">&#9670;&nbsp;</a></span>saveSettingsIfNeeded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CleanupSettingsModel::saveSettingsIfNeeded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Prompts to save current settings in case they have been modified. Returns false if the user decided to keep the settings and stop (cancel) any action affecting them. </p>
<div class="fragment"><div class="line"><span class="lineno">  553</span>                                                {</div>
<div class="line"><span class="lineno">  554</span>  <a class="code hl_class" href="class_cleanup_parameters.html">CleanupParameters</a> *params = getCurrentParameters();</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>  <span class="keywordflow">if</span> (params-&gt;getDirtyFlag() &amp;&amp; !m_clnPath.isEmpty() &amp;&amp;</div>
<div class="line"><span class="lineno">  557</span>      <a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(m_clnPath).doesExist()) {</div>
<div class="line"><span class="lineno">  558</span>    QString question(</div>
<div class="line"><span class="lineno">  559</span>        QObject::tr(<span class="stringliteral">&quot;The cleanup settings for the current level have been &quot;</span></div>
<div class="line"><span class="lineno">  560</span>                    <span class="stringliteral">&quot;modified...\n\nDo you want to save your changes?&quot;</span>));</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordtype">int</span> ret = DVGui::MsgBox(question, QObject::tr(<span class="stringliteral">&quot;Save&quot;</span>),</div>
<div class="line"><span class="lineno">  563</span>                            QObject::tr(<span class="stringliteral">&quot;Discard&quot;</span>), QObject::tr(<span class="stringliteral">&quot;Cancel&quot;</span>), 0);</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">if</span> (ret == 1) {</div>
<div class="line"><span class="lineno">  565</span>      <span class="comment">// WARNING: This is legacy behavior, but is it really needed? I think</span></div>
<div class="line"><span class="lineno">  566</span>      <span class="comment">// there should be no further</span></div>
<div class="line"><span class="lineno">  567</span>      <span class="comment">// request of user interaction - why invoking the popup to choose the save</span></div>
<div class="line"><span class="lineno">  568</span>      <span class="comment">// path?</span></div>
<div class="line"><span class="lineno">  569</span>      <a class="code hl_slot" href="class_cleanup_settings_model.html#a1310a7fd0caf8560aa806c30eaee53f7">promptSave</a>();</div>
<div class="line"><span class="lineno">  570</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ret == 3)</div>
<div class="line"><span class="lineno">  571</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  572</span>  }</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  575</span>}</div>
<div class="ttc" id="aclass_cleanup_settings_model_html_a1310a7fd0caf8560aa806c30eaee53f7"><div class="ttname"><a href="class_cleanup_settings_model.html#a1310a7fd0caf8560aa806c30eaee53f7">CleanupSettingsModel::promptSave</a></div><div class="ttdeci">void promptSave()</div><div class="ttdoc">Prompts to save current settings.</div><div class="ttdef"><b>Definition:</b> cleanupsettingsmodel.cpp:692</div></div>
<div class="ttc" id="aclass_t_file_status_html"><div class="ttname"><a href="class_t_file_status.html">TFileStatus</a></div><div class="ttdef"><b>Definition:</b> tsystem.h:36</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00692">promptSave()</a>.</p>

</div>
</div>
<a id="a24546176ae0de7be360eaf619213d895" name="a24546176ae0de7be360eaf619213d895"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24546176ae0de7be360eaf619213d895">&#9670;&nbsp;</a></span>setCommitMask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSettingsModel::setCommitMask </td>
          <td>(</td>
          <td class="paramtype">CommitMask&#160;</td>
          <td class="paramname"><em>allowedProcessing</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Specifies the model behavior upon a cleanup parameters change commit. Once the model receives a <a class="el" href="class_cleanup_settings_model.html#a7b1f1768b04906a781f54d03965d7016">commitChanges()</a> notification, it tracks the changed parameters and decides how deep the image under cleanup focus must be re-processed to stick to the changes. The commit mask can be specified to force the model to limit the performed cleanup up to the specified stage. This is especially useful in case a parameter changes frequently enough that only the last of a long sequence of updates should be processed (e.g. when dragging a parameter slider). </p>
<div class="fragment"><div class="line"><span class="lineno">  284</span>                                                                     {</div>
<div class="line"><span class="lineno">  285</span>  m_allowedActions = allowedProcessing;</div>
<div class="line"><span class="lineno">  286</span>  <a class="code hl_slot" href="class_cleanup_settings_model.html#a7b1f1768b04906a781f54d03965d7016">commitChanges</a>();</div>
<div class="line"><span class="lineno">  287</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00291">commitChanges()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/toonz/<a class="el" href="">cleanupsettingsmodel.h</a></li>
<li>E:/opentoonz/toonz/sources/toonz/<a class="el" href="">cleanupsettingsmodel.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
