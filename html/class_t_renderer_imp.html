<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: TRendererImp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="class_t_renderer_imp-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TRendererImp Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for TRendererImp:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_renderer_imp.png" usemap="#TRendererImp_map" alt=""/>
  <map id="TRendererImp_map" name="TRendererImp_map">
<area href="class_t_smart_object.html" alt="TSmartObject" shape="rect" coords="0,0,91,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_renderer_imp_1_1_render_instance_infos.html">RenderInstanceInfos</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a45217859ba2dd18650251dadbfca0e4d"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="class_t_render_port.html">TRenderPort</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a45217859ba2dd18650251dadbfca0e4d">PortContainer</a></td></tr>
<tr class="separator:a45217859ba2dd18650251dadbfca0e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365b5cb0cb788a7c253583393248c592"><td class="memItemLeft" align="right" valign="top">typedef PortContainer::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a365b5cb0cb788a7c253583393248c592">PortContainerIterator</a></td></tr>
<tr class="separator:a365b5cb0cb788a7c253583393248c592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:a3bc37f54976a445f30c99753a478feae inherit pub_types_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">typedef short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a3bc37f54976a445f30c99753a478feae">ClassCode</a></td></tr>
<tr class="separator:a3bc37f54976a445f30c99753a478feae inherit pub_types_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa17e7208fda2dd6c7de9f6670bd4e46d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#aa17e7208fda2dd6c7de9f6670bd4e46d">TRendererImp</a> (int nThreads)</td></tr>
<tr class="separator:aa17e7208fda2dd6c7de9f6670bd4e46d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e00dda5d993c9e7e28c6f76f575add"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#ae2e00dda5d993c9e7e28c6f76f575add">startRendering</a> (unsigned long renderId, const std::vector&lt; <a class="el" href="struct_t_renderer_1_1_render_data.html">TRenderer::RenderData</a> &gt; &amp;renderDatas)</td></tr>
<tr class="separator:ae2e00dda5d993c9e7e28c6f76f575add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85d7738400ff9b82abd811ce7737210"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#aa85d7738400ff9b82abd811ce7737210">notifyRasterStarted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;rd)</td></tr>
<tr class="separator:aa85d7738400ff9b82abd811ce7737210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9afe6ad8572d58623047656641c520c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a9afe6ad8572d58623047656641c520c2">notifyRasterCompleted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;rd)</td></tr>
<tr class="separator:a9afe6ad8572d58623047656641c520c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f4db5bc4b0a53e20503a3f6a7790ebe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a5f4db5bc4b0a53e20503a3f6a7790ebe">notifyRasterFailure</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;rd, <a class="el" href="class_t_exception.html">TException</a> &amp;e)</td></tr>
<tr class="separator:a5f4db5bc4b0a53e20503a3f6a7790ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc6ba1146cc94388d9253f2e7a88815d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#adc6ba1146cc94388d9253f2e7a88815d">notifyRenderFinished</a> (bool isCanceled=false)</td></tr>
<tr class="separator:adc6ba1146cc94388d9253f2e7a88815d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc190dbc7c32250b39e67ecc4e80852"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#affc190dbc7c32250b39e67ecc4e80852">addPort</a> (<a class="el" href="class_t_render_port.html">TRenderPort</a> *port)</td></tr>
<tr class="separator:affc190dbc7c32250b39e67ecc4e80852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53302287e4fdd2daae34b3e243ac7228"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a53302287e4fdd2daae34b3e243ac7228">removePort</a> (<a class="el" href="class_t_render_port.html">TRenderPort</a> *port)</td></tr>
<tr class="separator:a53302287e4fdd2daae34b3e243ac7228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d63e9a34f7d8084a89299dd4f78df5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a9d63e9a34f7d8084a89299dd4f78df5e">abortRendering</a> (unsigned long renderId)</td></tr>
<tr class="separator:a9d63e9a34f7d8084a89299dd4f78df5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410012b2651489b432a5a86b249a3885"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a410012b2651489b432a5a86b249a3885">stopRendering</a> (bool waitForCompleteStop)</td></tr>
<tr class="separator:a410012b2651489b432a5a86b249a3885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c7021d0011f0cca517e07d84eb9e7cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a6c7021d0011f0cca517e07d84eb9e7cf">hasToDie</a> (unsigned long renderId)</td></tr>
<tr class="separator:a6c7021d0011f0cca517e07d84eb9e7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10a875636d1fcd381542ced3b00d899"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#ad10a875636d1fcd381542ced3b00d899">getRenderStatus</a> (unsigned long renderId)</td></tr>
<tr class="separator:ad10a875636d1fcd381542ced3b00d899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eaa3929e606db417087a3807f03370e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a0eaa3929e606db417087a3807f03370e">enablePrecomputing</a> (bool on)</td></tr>
<tr class="separator:a0eaa3929e606db417087a3807f03370e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7a0a90e7891c29be3861d374a261afe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#aa7a0a90e7891c29be3861d374a261afe">isPrecomputingEnabled</a> () const</td></tr>
<tr class="separator:aa7a0a90e7891c29be3861d374a261afe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7557a95efaebc545a78e1f1ada36f18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#ad7557a95efaebc545a78e1f1ada36f18">setThreadsCount</a> (int nThreads)</td></tr>
<tr class="separator:ad7557a95efaebc545a78e1f1ada36f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1532f7eee52a3a2248e01d0f5c244e7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a1532f7eee52a3a2248e01d0f5c244e7a">declareRenderStart</a> (unsigned long renderId)</td></tr>
<tr class="separator:a1532f7eee52a3a2248e01d0f5c244e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3eebbf1de7302ef60b3bba30a550920"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#af3eebbf1de7302ef60b3bba30a550920">declareRenderEnd</a> (unsigned long renderId)</td></tr>
<tr class="separator:af3eebbf1de7302ef60b3bba30a550920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9862d598af933f8be8da60aa2f15183d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a9862d598af933f8be8da60aa2f15183d">declareFrameStart</a> (double frame)</td></tr>
<tr class="separator:a9862d598af933f8be8da60aa2f15183d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe97f393b05cfd9c7a27a22299abc07c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#afe97f393b05cfd9c7a27a22299abc07c">declareFrameEnd</a> (double frame)</td></tr>
<tr class="separator:afe97f393b05cfd9c7a27a22299abc07c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c2843e17cf9a9237c003c63aaa6380"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#ae1c2843e17cf9a9237c003c63aaa6380">declareStatusStart</a> (int renderStatus)</td></tr>
<tr class="separator:ae1c2843e17cf9a9237c003c63aaa6380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06b8cc86c275ed52670520a9031416d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#ad06b8cc86c275ed52670520a9031416d">declareStatusEnd</a> (int renderStatus)</td></tr>
<tr class="separator:ad06b8cc86c275ed52670520a9031416d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac704f9440e950f1f3d56cf89c51c6720"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#ac704f9440e950f1f3d56cf89c51c6720">quitWaitingLoops</a> ()</td></tr>
<tr class="separator:ac704f9440e950f1f3d56cf89c51c6720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:ab9a1e31b7e2b8c9b141fe9ce7e8cf489 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#ab9a1e31b7e2b8c9b141fe9ce7e8cf489">TSmartObject</a> (ClassCode classCode)</td></tr>
<tr class="separator:ab9a1e31b7e2b8c9b141fe9ce7e8cf489 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a76a715c1785eb545fa3ef2f6e06928 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a4a76a715c1785eb545fa3ef2f6e06928">addRef</a> ()</td></tr>
<tr class="separator:a4a76a715c1785eb545fa3ef2f6e06928 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99750961461978d73f55a4a54e6f874e inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a99750961461978d73f55a4a54e6f874e">release</a> ()</td></tr>
<tr class="separator:a99750961461978d73f55a4a54e6f874e inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f1dab21fd93f07fdf6c86661d738a5 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">TINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#ac1f1dab21fd93f07fdf6c86661d738a5">getRefCount</a> () const</td></tr>
<tr class="separator:ac1f1dab21fd93f07fdf6c86661d738a5 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5a1073f12ea66011d0de024831148245"><td class="memItemLeft" align="right" valign="top">QReadWriteLock&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a5a1073f12ea66011d0de024831148245">m_portsLock</a></td></tr>
<tr class="separator:a5a1073f12ea66011d0de024831148245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671628d910121f4f98f755cc8b208475"><td class="memItemLeft" align="right" valign="top">PortContainer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a671628d910121f4f98f755cc8b208475">m_ports</a></td></tr>
<tr class="separator:a671628d910121f4f98f755cc8b208475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998881fa696530ffc00537aa4da197d1"><td class="memItemLeft" align="right" valign="top">QMutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a998881fa696530ffc00537aa4da197d1">m_renderInstancesMutex</a></td></tr>
<tr class="separator:a998881fa696530ffc00537aa4da197d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71ba179d2400c6d6f2ddd71aed3ead3"><td class="memItemLeft" align="right" valign="top">std::map&lt; unsigned long, <a class="el" href="struct_t_renderer_imp_1_1_render_instance_infos.html">RenderInstanceInfos</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#ad71ba179d2400c6d6f2ddd71aed3ead3">m_activeInstances</a></td></tr>
<tr class="separator:ad71ba179d2400c6d6f2ddd71aed3ead3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7756ecb318e0f0bc8ba0c94916edf45a"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a7756ecb318e0f0bc8ba0c94916edf45a">m_rendererId</a></td></tr>
<tr class="separator:a7756ecb318e0f0bc8ba0c94916edf45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790fcef435606587a728c5af720d21cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_thread_1_1_executor.html">Executor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a790fcef435606587a728c5af720d21cd">m_executor</a></td></tr>
<tr class="separator:a790fcef435606587a728c5af720d21cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd4b309a4e02dc69547fcbf52afc06fd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#afd4b309a4e02dc69547fcbf52afc06fd">m_precomputingEnabled</a></td></tr>
<tr class="separator:afd4b309a4e02dc69547fcbf52afc06fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878ac1ea9a1d80f4f62e9c5bf3661208"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_raster_pool.html">RasterPool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a878ac1ea9a1d80f4f62e9c5bf3661208">m_rasterPool</a></td></tr>
<tr class="separator:a878ac1ea9a1d80f4f62e9c5bf3661208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e37a140b2dbc58a91ea3990edbee866"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_t_render_resource_manager.html">TRenderResourceManager</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a5e37a140b2dbc58a91ea3990edbee866">m_managers</a></td></tr>
<tr class="separator:a5e37a140b2dbc58a91ea3990edbee866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af54b13ff3f0c4ca93454cefff3442fac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_atomic_var.html">TAtomicVar</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#af54b13ff3f0c4ca93454cefff3442fac">m_undoneTasks</a></td></tr>
<tr class="separator:af54b13ff3f0c4ca93454cefff3442fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2efbe24cd7e576ae98f98fa0aae8d2ed"><td class="memItemLeft" align="right" valign="top">std::vector&lt; bool * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a2efbe24cd7e576ae98f98fa0aae8d2ed">m_waitingLoops</a></td></tr>
<tr class="separator:a2efbe24cd7e576ae98f98fa0aae8d2ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1c542df19de3031d656c1ba65985ae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_raster_fx_p.html">TRasterFxP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a1f1c542df19de3031d656c1ba65985ae">rootFx</a></td></tr>
<tr class="separator:a1f1c542df19de3031d656c1ba65985ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a9eee32924e0369985a74672effb7c045"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#a9eee32924e0369985a74672effb7c045">m_rendererIdCounter</a> = 0</td></tr>
<tr class="memdesc:a9eee32924e0369985a74672effb7c045"><td class="mdescLeft">&#160;</td><td class="mdescRight">The renderer Id is a number uniquely associated with a <a class="el" href="class_t_renderer.html">TRenderer</a> instance.  <a href="class_t_renderer_imp.html#a9eee32924e0369985a74672effb7c045">More...</a><br /></td></tr>
<tr class="separator:a9eee32924e0369985a74672effb7c045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe57a8e8f813a289a96da2b29cbf6c17"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_renderer_imp.html#abe57a8e8f813a289a96da2b29cbf6c17">m_renderIdCounter</a> = 0</td></tr>
<tr class="separator:abe57a8e8f813a289a96da2b29cbf6c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:a41e6552e87694c0edba6acc7e57b5752 inherit pub_static_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">static TINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a41e6552e87694c0edba6acc7e57b5752">getInstanceCount</a> (ClassCode code)</td></tr>
<tr class="separator:a41e6552e87694c0edba6acc7e57b5752 inherit pub_static_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a45217859ba2dd18650251dadbfca0e4d" name="a45217859ba2dd18650251dadbfca0e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45217859ba2dd18650251dadbfca0e4d">&#9670;&nbsp;</a></span>PortContainer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="class_t_render_port.html">TRenderPort</a> *&gt; TRendererImp::PortContainer</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a365b5cb0cb788a7c253583393248c592" name="a365b5cb0cb788a7c253583393248c592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a365b5cb0cb788a7c253583393248c592">&#9670;&nbsp;</a></span>PortContainerIterator</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef PortContainer::iterator TRendererImp::PortContainerIterator</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa17e7208fda2dd6c7de9f6670bd4e46d" name="aa17e7208fda2dd6c7de9f6670bd4e46d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa17e7208fda2dd6c7de9f6670bd4e46d">&#9670;&nbsp;</a></span>TRendererImp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TRendererImp::TRendererImp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nThreads</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  687</span>    : m_executor()</div>
<div class="line"><span class="lineno">  688</span>    , m_undoneTasks()</div>
<div class="line"><span class="lineno">  689</span>    , m_rendererId(<a class="code hl_variable" href="class_t_renderer_imp.html#a9eee32924e0369985a74672effb7c045">m_rendererIdCounter</a>++)</div>
<div class="line"><span class="lineno">  690</span>    , m_precomputingEnabled(<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  691</span>  m_executor.<a class="code hl_function" href="class_t_thread_1_1_executor.html#a85231531a2fa273db401f090c9aba4ea">setMaxActiveTasks</a>(nThreads);</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>  std::vector&lt;TRenderResourceManagerGenerator *&gt; &amp;generators =</div>
<div class="line"><span class="lineno">  694</span>      TRenderResourceManagerGenerator::generators(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>  <span class="comment">// May be adopted by other TRenderers from now on.</span></div>
<div class="line"><span class="lineno">  697</span>  addRef();</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>  rendererStorage.setLocalData(<span class="keyword">new</span> (<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *)(<span class="keyword">this</span>));</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  702</span>  <span class="keywordflow">for</span> (i = 0; i &lt; generators.size(); ++i) {</div>
<div class="line"><span class="lineno">  703</span>    <a class="code hl_class" href="class_t_render_resource_manager.html">TRenderResourceManager</a> *manager = (*generators[i])();</div>
<div class="line"><span class="lineno">  704</span>    <span class="keywordflow">if</span> (manager) m_managers.push_back(manager);</div>
<div class="line"><span class="lineno">  705</span>  }</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>  rendererStorage.setLocalData(0);</div>
<div class="line"><span class="lineno">  708</span>}</div>
<div class="ttc" id="aclass_t_render_resource_manager_html"><div class="ttname"><a href="class_t_render_resource_manager.html">TRenderResourceManager</a></div><div class="ttdef"><b>Definition:</b> trenderresourcemanager.h:50</div></div>
<div class="ttc" id="aclass_t_renderer_imp_html"><div class="ttname"><a href="class_t_renderer_imp.html">TRendererImp</a></div><div class="ttdef"><b>Definition:</b> trenderer.cpp:284</div></div>
<div class="ttc" id="aclass_t_renderer_imp_html_a9eee32924e0369985a74672effb7c045"><div class="ttname"><a href="class_t_renderer_imp.html#a9eee32924e0369985a74672effb7c045">TRendererImp::m_rendererIdCounter</a></div><div class="ttdeci">static unsigned long m_rendererIdCounter</div><div class="ttdoc">The renderer Id is a number uniquely associated with a TRenderer instance.</div><div class="ttdef"><b>Definition:</b> trenderer.cpp:306</div></div>
<div class="ttc" id="aclass_t_thread_1_1_executor_html_a85231531a2fa273db401f090c9aba4ea"><div class="ttname"><a href="class_t_thread_1_1_executor.html#a85231531a2fa273db401f090c9aba4ea">TThread::Executor::setMaxActiveTasks</a></div><div class="ttdeci">void setMaxActiveTasks(int count)</div><div class="ttdef"><b>Definition:</b> tthread.cpp:897</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2997a7607366933c0bfc1d50f05891bf" name="a2997a7607366933c0bfc1d50f05891bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2997a7607366933c0bfc1d50f05891bf">&#9670;&nbsp;</a></span>~TRendererImp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TRendererImp::~TRendererImp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  712</span>                            {</div>
<div class="line"><span class="lineno">  713</span>  rendererStorage.setLocalData(<span class="keyword">new</span> (<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *)(<span class="keyword">this</span>));</div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="line"><span class="lineno">  715</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  716</span>  <span class="keywordflow">for</span> (i = m_managers.size() - 1; i &gt;= 0; --i)</div>
<div class="line"><span class="lineno">  717</span>    <span class="keywordflow">if</span> (m_managers[i]-&gt;renderHasOwnership()) <span class="keyword">delete</span> m_managers[i];</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>  rendererStorage.setLocalData(0);</div>
<div class="line"><span class="lineno">  720</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9d63e9a34f7d8084a89299dd4f78df5e" name="a9d63e9a34f7d8084a89299dd4f78df5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d63e9a34f7d8084a89299dd4f78df5e">&#9670;&nbsp;</a></span>abortRendering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::abortRendering </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>renderId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  764</span>                                                        {</div>
<div class="line"><span class="lineno">  765</span>  QMutexLocker sl(&amp;m_renderInstancesMutex);</div>
<div class="line"><span class="lineno">  766</span> </div>
<div class="line"><span class="lineno">  767</span>  std::map&lt;unsigned long, RenderInstanceInfos&gt;::iterator it =</div>
<div class="line"><span class="lineno">  768</span>      m_activeInstances.find(renderId);</div>
<div class="line"><span class="lineno">  769</span>  <span class="keywordflow">if</span> (it != m_activeInstances.end()) it-&gt;second.m_canceled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  770</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="affc190dbc7c32250b39e67ecc4e80852" name="affc190dbc7c32250b39e67ecc4e80852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc190dbc7c32250b39e67ecc4e80852">&#9670;&nbsp;</a></span>addPort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::addPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_render_port.html">TRenderPort</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  724</span>                                            {</div>
<div class="line"><span class="lineno">  725</span>  QWriteLocker sl(&amp;m_portsLock);</div>
<div class="line"><span class="lineno">  726</span> </div>
<div class="line"><span class="lineno">  727</span>  PortContainerIterator it = std::find(m_ports.begin(), m_ports.end(), port);</div>
<div class="line"><span class="lineno">  728</span>  <span class="keywordflow">if</span> (it == m_ports.end()) m_ports.push_back(port);</div>
<div class="line"><span class="lineno">  729</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afe97f393b05cfd9c7a27a22299abc07c" name="afe97f393b05cfd9c7a27a22299abc07c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe97f393b05cfd9c7a27a22299abc07c">&#9670;&nbsp;</a></span>declareFrameEnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::declareFrameEnd </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  548</span>                                                      {</div>
<div class="line"><span class="lineno">  549</span>  <span class="comment">// Inform the resource managers</span></div>
<div class="line"><span class="lineno">  550</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m_managers.size() - 1; i &gt;= 0; --i)</div>
<div class="line"><span class="lineno">  551</span>    m_managers[i]-&gt;onRenderFrameEnd(frame);</div>
<div class="line"><span class="lineno">  552</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9862d598af933f8be8da60aa2f15183d" name="a9862d598af933f8be8da60aa2f15183d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9862d598af933f8be8da60aa2f15183d">&#9670;&nbsp;</a></span>declareFrameStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::declareFrameStart </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  535</span>                                                        {</div>
<div class="line"><span class="lineno">  536</span>  <span class="comment">// Inform the resource managers</span></div>
<div class="line"><span class="lineno">  537</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; m_managers.size(); ++i)</div>
<div class="line"><span class="lineno">  538</span>    m_managers[i]-&gt;onRenderFrameStart(frame);</div>
<div class="line"><span class="lineno">  539</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af3eebbf1de7302ef60b3bba30a550920" name="af3eebbf1de7302ef60b3bba30a550920"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3eebbf1de7302ef60b3bba30a550920">&#9670;&nbsp;</a></span>declareRenderEnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::declareRenderEnd </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>renderId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  522</span>                                                                 {</div>
<div class="line"><span class="lineno">  523</span>  <span class="comment">// Inform the resource managers</span></div>
<div class="line"><span class="lineno">  524</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m_managers.size() - 1; i &gt;= 0; --i)</div>
<div class="line"><span class="lineno">  525</span>    m_managers[i]-&gt;onRenderInstanceEnd(renderId);</div>
<div class="line"><span class="lineno">  526</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1532f7eee52a3a2248e01d0f5c244e7a" name="a1532f7eee52a3a2248e01d0f5c244e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1532f7eee52a3a2248e01d0f5c244e7a">&#9670;&nbsp;</a></span>declareRenderStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::declareRenderStart </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>renderId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  509</span>                                                                   {</div>
<div class="line"><span class="lineno">  510</span>  <span class="comment">// Inform the resource managers</span></div>
<div class="line"><span class="lineno">  511</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; m_managers.size(); ++i)</div>
<div class="line"><span class="lineno">  512</span>    m_managers[i]-&gt;onRenderInstanceStart(renderId);</div>
<div class="line"><span class="lineno">  513</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad06b8cc86c275ed52670520a9031416d" name="ad06b8cc86c275ed52670520a9031416d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad06b8cc86c275ed52670520a9031416d">&#9670;&nbsp;</a></span>declareStatusEnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::declareStatusEnd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>renderStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  567</span>                                                           {</div>
<div class="line"><span class="lineno">  568</span>  <span class="comment">// Inform the resource managers</span></div>
<div class="line"><span class="lineno">  569</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m_managers.size() - 1; i &gt;= 0; --i)</div>
<div class="line"><span class="lineno">  570</span>    m_managers[i]-&gt;onRenderStatusEnd(renderStatus);</div>
<div class="line"><span class="lineno">  571</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1c2843e17cf9a9237c003c63aaa6380" name="ae1c2843e17cf9a9237c003c63aaa6380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1c2843e17cf9a9237c003c63aaa6380">&#9670;&nbsp;</a></span>declareStatusStart()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::declareStatusStart </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>renderStatus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  559</span>                                                             {</div>
<div class="line"><span class="lineno">  560</span>  <span class="comment">// Inform the resource managers</span></div>
<div class="line"><span class="lineno">  561</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; m_managers.size(); ++i)</div>
<div class="line"><span class="lineno">  562</span>    m_managers[i]-&gt;onRenderStatusStart(renderStatus);</div>
<div class="line"><span class="lineno">  563</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0eaa3929e606db417087a3807f03370e" name="a0eaa3929e606db417087a3807f03370e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eaa3929e606db417087a3807f03370e">&#9670;&nbsp;</a></span>enablePrecomputing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::enablePrecomputing </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  350</span>{ m_precomputingEnabled = on; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad10a875636d1fcd381542ced3b00d899" name="ad10a875636d1fcd381542ced3b00d899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad10a875636d1fcd381542ced3b00d899">&#9670;&nbsp;</a></span>getRenderStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TRendererImp::getRenderStatus </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>renderId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  753</span>                                                        {</div>
<div class="line"><span class="lineno">  754</span>  QMutexLocker sl(&amp;m_renderInstancesMutex);</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>  std::map&lt;unsigned long, RenderInstanceInfos&gt;::iterator it =</div>
<div class="line"><span class="lineno">  757</span>      m_activeInstances.find(renderId);</div>
<div class="line"><span class="lineno">  758</span>  assert(it != m_activeInstances.end());</div>
<div class="line"><span class="lineno">  759</span>  <span class="keywordflow">return</span> it == m_activeInstances.end() ? true : it-&gt;second.m_status;</div>
<div class="line"><span class="lineno">  760</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c7021d0011f0cca517e07d84eb9e7cf" name="a6c7021d0011f0cca517e07d84eb9e7cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c7021d0011f0cca517e07d84eb9e7cf">&#9670;&nbsp;</a></span>hasToDie()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TRendererImp::hasToDie </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>renderId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  742</span>                                                  {</div>
<div class="line"><span class="lineno">  743</span>  QMutexLocker sl(&amp;m_renderInstancesMutex);</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>  std::map&lt;unsigned long, RenderInstanceInfos&gt;::iterator it =</div>
<div class="line"><span class="lineno">  746</span>      m_activeInstances.find(renderId);</div>
<div class="line"><span class="lineno">  747</span>  assert(it != m_activeInstances.end());</div>
<div class="line"><span class="lineno">  748</span>  <span class="keywordflow">return</span> it == m_activeInstances.end() ? true : it-&gt;second.m_canceled;</div>
<div class="line"><span class="lineno">  749</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa7a0a90e7891c29be3861d374a261afe" name="aa7a0a90e7891c29be3861d374a261afe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7a0a90e7891c29be3861d374a261afe">&#9670;&nbsp;</a></span>isPrecomputingEnabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TRendererImp::isPrecomputingEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  351</span>{ <span class="keywordflow">return</span> m_precomputingEnabled; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9afe6ad8572d58623047656641c520c2" name="a9afe6ad8572d58623047656641c520c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9afe6ad8572d58623047656641c520c2">&#9670;&nbsp;</a></span>notifyRasterCompleted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::notifyRasterCompleted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>rd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  839</span>                                                                        {</div>
<div class="line"><span class="lineno">  840</span>  TRendererImp::PortContainer portsCopy;</div>
<div class="line"><span class="lineno">  841</span>  {</div>
<div class="line"><span class="lineno">  842</span>    QReadLocker sl(&amp;m_portsLock);</div>
<div class="line"><span class="lineno">  843</span>    portsCopy = m_ports;</div>
<div class="line"><span class="lineno">  844</span>  }</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>  assert(rd.m_rasA);</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>  <span class="keywordflow">for</span> (PortContainerIterator it = portsCopy.begin(); it != portsCopy.end();</div>
<div class="line"><span class="lineno">  849</span>       ++it)</div>
<div class="line"><span class="lineno">  850</span>    (*it)-&gt;onRenderRasterCompleted(rd);</div>
<div class="line"><span class="lineno">  851</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f4db5bc4b0a53e20503a3f6a7790ebe" name="a5f4db5bc4b0a53e20503a3f6a7790ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f4db5bc4b0a53e20503a3f6a7790ebe">&#9670;&nbsp;</a></span>notifyRasterFailure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::notifyRasterFailure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_exception.html">TException</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  856</span>                                                      {</div>
<div class="line"><span class="lineno">  857</span>  TRendererImp::PortContainer portsCopy;</div>
<div class="line"><span class="lineno">  858</span>  {</div>
<div class="line"><span class="lineno">  859</span>    QReadLocker sl(&amp;m_portsLock);</div>
<div class="line"><span class="lineno">  860</span>    portsCopy = m_ports;</div>
<div class="line"><span class="lineno">  861</span>  }</div>
<div class="line"><span class="lineno">  862</span> </div>
<div class="line"><span class="lineno">  863</span>  <span class="keywordflow">for</span> (PortContainerIterator it = portsCopy.begin(); it != portsCopy.end();</div>
<div class="line"><span class="lineno">  864</span>       ++it)</div>
<div class="line"><span class="lineno">  865</span>    (*it)-&gt;onRenderFailure(rd, e);</div>
<div class="line"><span class="lineno">  866</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa85d7738400ff9b82abd811ce7737210" name="aa85d7738400ff9b82abd811ce7737210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85d7738400ff9b82abd811ce7737210">&#9670;&nbsp;</a></span>notifyRasterStarted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::notifyRasterStarted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>rd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  822</span>                                                                      {</div>
<div class="line"><span class="lineno">  823</span>  <span class="comment">// Since notifications may trigger port removals, we always work on a copy of</span></div>
<div class="line"><span class="lineno">  824</span>  <span class="comment">// the ports</span></div>
<div class="line"><span class="lineno">  825</span>  <span class="comment">// vector.</span></div>
<div class="line"><span class="lineno">  826</span>  TRendererImp::PortContainer portsCopy;</div>
<div class="line"><span class="lineno">  827</span>  {</div>
<div class="line"><span class="lineno">  828</span>    QReadLocker sl(&amp;m_portsLock);</div>
<div class="line"><span class="lineno">  829</span>    portsCopy = m_ports;</div>
<div class="line"><span class="lineno">  830</span>  }</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>  <span class="keywordflow">for</span> (PortContainerIterator it = portsCopy.begin(); it != portsCopy.end();</div>
<div class="line"><span class="lineno">  833</span>       ++it)</div>
<div class="line"><span class="lineno">  834</span>    (*it)-&gt;onRenderRasterStarted(rd);</div>
<div class="line"><span class="lineno">  835</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adc6ba1146cc94388d9253f2e7a88815d" name="adc6ba1146cc94388d9253f2e7a88815d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc6ba1146cc94388d9253f2e7a88815d">&#9670;&nbsp;</a></span>notifyRenderFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::notifyRenderFinished </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isCanceled</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  870</span>                                                       {</div>
<div class="line"><span class="lineno">  871</span>  TRendererImp::PortContainer portsCopy;</div>
<div class="line"><span class="lineno">  872</span>  {</div>
<div class="line"><span class="lineno">  873</span>    QReadLocker sl(&amp;m_portsLock);</div>
<div class="line"><span class="lineno">  874</span>    portsCopy = m_ports;</div>
<div class="line"><span class="lineno">  875</span>  }</div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span>  <span class="keyword">auto</span> sortedFxs = calculateSortedFxs(rootFx);</div>
<div class="line"><span class="lineno">  878</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> fx : sortedFxs) {</div>
<div class="line"><span class="lineno">  879</span>    <span class="keywordflow">if</span> (fx) <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="class_t_fx.html">TFx</a> *<span class="keyword">&gt;</span>(fx)-&gt;callEndRenderHandler();</div>
<div class="line"><span class="lineno">  880</span>  }</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span>  <span class="keywordflow">for</span> (PortContainerIterator it = portsCopy.begin(); it != portsCopy.end();</div>
<div class="line"><span class="lineno">  883</span>       ++it)</div>
<div class="line"><span class="lineno">  884</span>    (*it)-&gt;onRenderFinished();</div>
<div class="line"><span class="lineno">  885</span>}</div>
<div class="ttc" id="aclass_t_fx_html"><div class="ttname"><a href="class_t_fx.html">TFx</a></div><div class="ttdef"><b>Definition:</b> tfx.h:352</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac704f9440e950f1f3d56cf89c51c6720" name="ac704f9440e950f1f3d56cf89c51c6720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac704f9440e950f1f3d56cf89c51c6720">&#9670;&nbsp;</a></span>quitWaitingLoops()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::quitWaitingLoops </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  811</span>                                    {</div>
<div class="line"><span class="lineno">  812</span>  <span class="comment">// Make the stopRendering waiting loops quit</span></div>
<div class="line"><span class="lineno">  813</span>  <span class="keywordflow">while</span> (!m_waitingLoops.empty()) {</div>
<div class="line"><span class="lineno">  814</span>    <span class="comment">// rendererImp-&gt;m_waitingLoops.back()-&gt;quit();</span></div>
<div class="line"><span class="lineno">  815</span>    *m_waitingLoops.back() = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  816</span>    m_waitingLoops.pop_back();</div>
<div class="line"><span class="lineno">  817</span>  }</div>
<div class="line"><span class="lineno">  818</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a53302287e4fdd2daae34b3e243ac7228" name="a53302287e4fdd2daae34b3e243ac7228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53302287e4fdd2daae34b3e243ac7228">&#9670;&nbsp;</a></span>removePort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::removePort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_render_port.html">TRenderPort</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  733</span>                                               {</div>
<div class="line"><span class="lineno">  734</span>  QWriteLocker sl(&amp;m_portsLock);</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>  PortContainerIterator it = std::find(m_ports.begin(), m_ports.end(), port);</div>
<div class="line"><span class="lineno">  737</span>  <span class="keywordflow">if</span> (it != m_ports.end()) m_ports.erase(it);</div>
<div class="line"><span class="lineno">  738</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7557a95efaebc545a78e1f1ada36f18" name="ad7557a95efaebc545a78e1f1ada36f18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7557a95efaebc545a78e1f1ada36f18">&#9670;&nbsp;</a></span>setThreadsCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::setThreadsCount </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nThreads</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  353</span>{ m_executor.<a class="code hl_function" href="class_t_thread_1_1_executor.html#a85231531a2fa273db401f090c9aba4ea">setMaxActiveTasks</a>(nThreads); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2e00dda5d993c9e7e28c6f76f575add" name="ae2e00dda5d993c9e7e28c6f76f575add"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2e00dda5d993c9e7e28c6f76f575add">&#9670;&nbsp;</a></span>startRendering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::startRendering </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>renderId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="struct_t_renderer_1_1_render_data.html">TRenderer::RenderData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>renderDatas</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1245</span>                                                       {</div>
<div class="line"><span class="lineno"> 1246</span>  rootFx = renderDatas.front().m_fxRoot.m_frameA;</div>
<div class="line"><span class="lineno"> 1247</span>  <span class="keywordtype">int</span> T  = renderDatas.size();</div>
<div class="line"><span class="lineno"> 1248</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; T; z++) {</div>
<div class="line"><span class="lineno"> 1249</span>    <span class="keyword">auto</span> sortedFxs = calculateSortedFxs(renderDatas[z].m_fxRoot.m_frameA);</div>
<div class="line"><span class="lineno"> 1250</span>    <span class="keywordflow">if</span> (z == 0) {</div>
<div class="line"><span class="lineno"> 1251</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> fx : sortedFxs) {</div>
<div class="line"><span class="lineno"> 1252</span>        <span class="keywordflow">if</span> (fx) <span class="keyword">const_cast&lt;</span><a class="code hl_class" href="class_t_fx.html">TFx</a> *<span class="keyword">&gt;</span>(fx)-&gt;callStartRenderHandler();</div>
<div class="line"><span class="lineno"> 1253</span>      }</div>
<div class="line"><span class="lineno"> 1254</span>    }</div>
<div class="line"><span class="lineno"> 1255</span>  }</div>
<div class="line"><span class="lineno"> 1256</span> </div>
<div class="line"><span class="lineno"> 1257</span>  <span class="keyword">struct </span>locals {</div>
<div class="line"><span class="lineno"> 1258</span>    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> setStorage(<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *imp, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> renderId) {</div>
<div class="line"><span class="lineno"> 1259</span>      rendererStorage.setLocalData(<span class="keyword">new</span> (<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *)(imp));</div>
<div class="line"><span class="lineno"> 1260</span>      renderIdsStorage.setLocalData(<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>(renderId));</div>
<div class="line"><span class="lineno"> 1261</span>    }</div>
<div class="line"><span class="lineno"> 1262</span> </div>
<div class="line"><span class="lineno"> 1263</span>    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> clearStorage() {</div>
<div class="line"><span class="lineno"> 1264</span>      rendererStorage.setLocalData(0);</div>
<div class="line"><span class="lineno"> 1265</span>      renderIdsStorage.setLocalData(0);</div>
<div class="line"><span class="lineno"> 1266</span>    }</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> declareStatusStart(<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *imp,</div>
<div class="line"><span class="lineno"> 1269</span>                                          TRenderer::RenderStatus status,</div>
<div class="line"><span class="lineno"> 1270</span>                                          RenderInstanceInfos *renderInfos) {</div>
<div class="line"><span class="lineno"> 1271</span>      renderInfos-&gt;m_status = status;</div>
<div class="line"><span class="lineno"> 1272</span>      imp-&gt;declareStatusStart(status);</div>
<div class="line"><span class="lineno"> 1273</span>    }</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>    <span class="comment">//-----------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>    <span class="keyword">struct </span>InstanceDeclaration {</div>
<div class="line"><span class="lineno"> 1278</span>      <a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *m_imp;</div>
<div class="line"><span class="lineno"> 1279</span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> m_renderId;</div>
<div class="line"><span class="lineno"> 1280</span>      <span class="keywordtype">bool</span> m_rollback;</div>
<div class="line"><span class="lineno"> 1281</span> </div>
<div class="line"><span class="lineno"> 1282</span>      InstanceDeclaration(<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *imp, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> renderId)</div>
<div class="line"><span class="lineno"> 1283</span>          : m_imp(imp), m_renderId(renderId), m_rollback(true) {}</div>
<div class="line"><span class="lineno"> 1284</span> </div>
<div class="line"><span class="lineno"> 1285</span>      ~InstanceDeclaration() {</div>
<div class="line"><span class="lineno"> 1286</span>        <span class="keywordflow">if</span> (m_rollback) {</div>
<div class="line"><span class="lineno"> 1287</span>          QMutexLocker locker(&amp;m_imp-&gt;m_renderInstancesMutex);</div>
<div class="line"><span class="lineno"> 1288</span> </div>
<div class="line"><span class="lineno"> 1289</span>          m_imp-&gt;m_activeInstances.erase(m_renderId);</div>
<div class="line"><span class="lineno"> 1290</span>          <span class="keywordflow">if</span> (m_imp-&gt;m_undoneTasks == 0) m_imp-&gt;quitWaitingLoops();</div>
<div class="line"><span class="lineno"> 1291</span>        }</div>
<div class="line"><span class="lineno"> 1292</span>      }</div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span>      <span class="keywordtype">void</span> commit() { m_rollback = <span class="keyword">false</span>; }</div>
<div class="line"><span class="lineno"> 1295</span>    };</div>
<div class="line"><span class="lineno"> 1296</span> </div>
<div class="line"><span class="lineno"> 1297</span>    <span class="keyword">struct </span>StorageDeclaration {</div>
<div class="line"><span class="lineno"> 1298</span>      StorageDeclaration(<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *imp, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> renderId) {</div>
<div class="line"><span class="lineno"> 1299</span>        setStorage(imp, renderId);</div>
<div class="line"><span class="lineno"> 1300</span>      }</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>      ~StorageDeclaration() { clearStorage(); }</div>
<div class="line"><span class="lineno"> 1303</span>    };</div>
<div class="line"><span class="lineno"> 1304</span> </div>
<div class="line"><span class="lineno"> 1305</span>    <span class="keyword">struct </span>RenderDeclaration {</div>
<div class="line"><span class="lineno"> 1306</span>      <a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *m_imp;</div>
<div class="line"><span class="lineno"> 1307</span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> m_renderId;</div>
<div class="line"><span class="lineno"> 1308</span>      <span class="keywordtype">bool</span> m_rollback;</div>
<div class="line"><span class="lineno"> 1309</span> </div>
<div class="line"><span class="lineno"> 1310</span>      RenderDeclaration(<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *imp, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> renderId)</div>
<div class="line"><span class="lineno"> 1311</span>          : m_imp(imp), m_renderId(renderId), m_rollback(true) {</div>
<div class="line"><span class="lineno"> 1312</span>        imp-&gt;declareRenderStart(renderId);</div>
<div class="line"><span class="lineno"> 1313</span>      }</div>
<div class="line"><span class="lineno"> 1314</span> </div>
<div class="line"><span class="lineno"> 1315</span>      ~RenderDeclaration() {</div>
<div class="line"><span class="lineno"> 1316</span>        <span class="keywordflow">if</span> (m_rollback) m_imp-&gt;declareRenderEnd(m_renderId);</div>
<div class="line"><span class="lineno"> 1317</span>      }</div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>      <span class="keywordtype">void</span> commit() { m_rollback = <span class="keyword">false</span>; }</div>
<div class="line"><span class="lineno"> 1320</span>    };</div>
<div class="line"><span class="lineno"> 1321</span> </div>
<div class="line"><span class="lineno"> 1322</span>    <span class="keyword">struct </span>StatusDeclaration {</div>
<div class="line"><span class="lineno"> 1323</span>      <a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *m_imp;</div>
<div class="line"><span class="lineno"> 1324</span>      TRenderer::RenderStatus m_status;</div>
<div class="line"><span class="lineno"> 1325</span> </div>
<div class="line"><span class="lineno"> 1326</span>      StatusDeclaration(<a class="code hl_class" href="class_t_renderer_imp.html">TRendererImp</a> *imp, TRenderer::RenderStatus status,</div>
<div class="line"><span class="lineno"> 1327</span>                        RenderInstanceInfos *renderInfos)</div>
<div class="line"><span class="lineno"> 1328</span>          : m_imp(imp), m_status(status) {</div>
<div class="line"><span class="lineno"> 1329</span>        declareStatusStart(imp, status, renderInfos);</div>
<div class="line"><span class="lineno"> 1330</span>      }</div>
<div class="line"><span class="lineno"> 1331</span> </div>
<div class="line"><span class="lineno"> 1332</span>      ~StatusDeclaration() { m_imp-&gt;declareStatusEnd(m_status); }</div>
<div class="line"><span class="lineno"> 1333</span>    };</div>
<div class="line"><span class="lineno"> 1334</span>  };  <span class="comment">// locals</span></div>
<div class="line"><span class="lineno"> 1335</span> </div>
<div class="line"><span class="lineno"> 1336</span>  <span class="comment">// DIAGNOSTICS_CLEAR;</span></div>
<div class="line"><span class="lineno"> 1337</span> </div>
<div class="line"><span class="lineno"> 1338</span>  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1339</span>  <span class="comment">//    Preliminary initializations</span></div>
<div class="line"><span class="lineno"> 1340</span>  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1341</span> </div>
<div class="line"><span class="lineno"> 1342</span>  <span class="comment">// Calculate the overall render area - sum of all render ports&#39; areas</span></div>
<div class="line"><span class="lineno"> 1343</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> renderArea;</div>
<div class="line"><span class="lineno"> 1344</span>  {</div>
<div class="line"><span class="lineno"> 1345</span>    QReadLocker sl(&amp;m_portsLock);</div>
<div class="line"><span class="lineno"> 1346</span> </div>
<div class="line"><span class="lineno"> 1347</span>    <span class="keywordflow">for</span> (PortContainerIterator it = m_ports.begin(); it != m_ports.end(); ++it)</div>
<div class="line"><span class="lineno"> 1348</span>      renderArea += (*it)-&gt;getRenderArea();</div>
<div class="line"><span class="lineno"> 1349</span>  }</div>
<div class="line"><span class="lineno"> 1350</span> </div>
<div class="line"><span class="lineno"> 1351</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_render_settings.html">TRenderSettings</a> &amp;info(renderDatas[0].m_info);</div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>  <span class="comment">// Extract the render geometry</span></div>
<div class="line"><span class="lineno"> 1354</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> pos(renderArea.getP00());</div>
<div class="line"><span class="lineno"> 1355</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> frameSize(tceil(renderArea.getLx()), tceil(renderArea.getLy()));</div>
<div class="line"><span class="lineno"> 1356</span> </div>
<div class="line"><span class="lineno"> 1357</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> camBox(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(pos.x / info.m_shrinkX, pos.y / info.m_shrinkY),</div>
<div class="line"><span class="lineno"> 1358</span>                <a class="code hl_class" href="class_t_dimension_t.html">TDimensionD</a>(frameSize.lx, frameSize.ly));</div>
<div class="line"><span class="lineno"> 1359</span> </div>
<div class="line"><span class="lineno"> 1360</span>  <span class="comment">// Refresh the raster pool specs</span></div>
<div class="line"><span class="lineno"> 1361</span>  m_rasterPool.setRasterSpecs(frameSize, info.m_bpp);</div>
<div class="line"><span class="lineno"> 1362</span> </div>
<div class="line"><span class="lineno"> 1363</span>  <span class="comment">// Set a temporary active instance count - so that hasToDie(renderId) returns</span></div>
<div class="line"><span class="lineno"> 1364</span>  <span class="comment">// false</span></div>
<div class="line"><span class="lineno"> 1365</span>  RenderInstanceInfos *renderInfos;</div>
<div class="line"><span class="lineno"> 1366</span>  {</div>
<div class="line"><span class="lineno"> 1367</span>    QMutexLocker locker(&amp;m_renderInstancesMutex);</div>
<div class="line"><span class="lineno"> 1368</span>    renderInfos                = &amp;m_activeInstances[renderId];</div>
<div class="line"><span class="lineno"> 1369</span>    renderInfos-&gt;m_activeTasks = 1;</div>
<div class="line"><span class="lineno"> 1370</span>  }</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>  locals::InstanceDeclaration instanceDecl(<span class="keyword">this</span>, renderId);</div>
<div class="line"><span class="lineno"> 1373</span> </div>
<div class="line"><span class="lineno"> 1374</span>  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1375</span>  <span class="comment">//    Clustering - Render Tasks creation</span></div>
<div class="line"><span class="lineno"> 1376</span>  <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1377</span> </div>
<div class="line"><span class="lineno"> 1378</span>  std::vector&lt;RenderTask *&gt; tasksVector;</div>
<div class="line"><span class="lineno"> 1379</span> </div>
<div class="line"><span class="lineno"> 1380</span>  <span class="keyword">struct </span>TasksCleaner {</div>
<div class="line"><span class="lineno"> 1381</span>    std::vector&lt;RenderTask *&gt; &amp;m_tasksVector;</div>
<div class="line"><span class="lineno"> 1382</span>    ~TasksCleaner() {</div>
<div class="line"><span class="lineno"> 1383</span>      std::for_each(m_tasksVector.begin(), m_tasksVector.end(),</div>
<div class="line"><span class="lineno"> 1384</span>                    std::default_delete&lt;RenderTask&gt;());</div>
<div class="line"><span class="lineno"> 1385</span>    }</div>
<div class="line"><span class="lineno"> 1386</span>  } tasksCleaner = {tasksVector};</div>
<div class="line"><span class="lineno"> 1387</span> </div>
<div class="line"><span class="lineno"> 1388</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> tasksIdCounter = 0;</div>
<div class="line"><span class="lineno"> 1389</span> </div>
<div class="line"><span class="lineno"> 1390</span>  std::map&lt;std::string, RenderTask *&gt; clusters;</div>
<div class="line"><span class="lineno"> 1391</span>  std::vector&lt;TRenderer::RenderData&gt;::const_iterator it;</div>
<div class="line"><span class="lineno"> 1392</span>  std::map&lt;std::string, RenderTask *&gt;::iterator jt;</div>
<div class="line"><span class="lineno"> 1393</span> </div>
<div class="line"><span class="lineno"> 1394</span>  <span class="keywordflow">for</span> (it = renderDatas.begin(); it != renderDatas.end(); ++it) {</div>
<div class="line"><span class="lineno"> 1395</span>    <span class="comment">// Check for user cancels</span></div>
<div class="line"><span class="lineno"> 1396</span>    <span class="keywordflow">if</span> (hasToDie(renderId)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="line"><span class="lineno"> 1398</span>    <span class="comment">// Build the frame&#39;s description alias</span></div>
<div class="line"><span class="lineno"> 1399</span>    <span class="keyword">const</span> <a class="code hl_struct" href="struct_t_renderer_1_1_render_data.html">TRenderer::RenderData</a> &amp;renderData = *it;</div>
<div class="line"><span class="lineno"> 1400</span> </div>
<div class="line"><span class="lineno"> 1401</span>    <span class="comment">/*---  (LevelAuto) ---*/</span></div>
<div class="line"><span class="lineno"> 1402</span>    <a class="code hl_class" href="class_t_render_settings.html">TRenderSettings</a> rs = renderData.m_info;</div>
<div class="line"><span class="lineno"> 1403</span>    rs.m_cameraBox     = camBox;</div>
<div class="line"><span class="lineno"> 1404</span>    <span class="comment">/*--- Preview ---*/</span></div>
<div class="line"><span class="lineno"> 1405</span>    rs.m_isCanceled = &amp;renderInfos-&gt;m_canceled;</div>
<div class="line"><span class="lineno"> 1406</span> </div>
<div class="line"><span class="lineno"> 1407</span>    <a class="code hl_class" href="class_t_raster_fx_p.html">TRasterFxP</a> fx = renderData.m_fxRoot.m_frameA;</div>
<div class="line"><span class="lineno"> 1408</span>    assert(fx);</div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>    <span class="keywordtype">double</span> frame = renderData.m_frame;</div>
<div class="line"><span class="lineno"> 1411</span> </div>
<div class="line"><span class="lineno"> 1412</span>    std::string alias = fx-&gt;getAlias(frame, renderData.m_info);</div>
<div class="line"><span class="lineno"> 1413</span>    <span class="keywordflow">if</span> (renderData.m_fxRoot.m_frameB)</div>
<div class="line"><span class="lineno"> 1414</span>      alias = alias +</div>
<div class="line"><span class="lineno"> 1415</span>              renderData.m_fxRoot.m_frameB-&gt;getAlias(frame, renderData.m_info);</div>
<div class="line"><span class="lineno"> 1416</span> </div>
<div class="line"><span class="lineno"> 1417</span>    <span class="comment">// If the render contains offscreen render, then prepare the</span></div>
<div class="line"><span class="lineno"> 1418</span>    <span class="comment">// QOffscreenSurface</span></div>
<div class="line"><span class="lineno"> 1419</span>    <span class="comment">// in main (GUI) thread. For now it is used only in the plasticDeformerFx.</span></div>
<div class="line"><span class="lineno"> 1420</span>    <span class="keywordflow">if</span> (alias.find(<span class="stringliteral">&quot;plasticDeformerFx&quot;</span>) != std::string::npos &amp;&amp;</div>
<div class="line"><span class="lineno"> 1421</span>        QThread::currentThread() == qGuiApp-&gt;thread()) {</div>
<div class="line"><span class="lineno"> 1422</span>      rs.m_offScreenSurface.reset(<span class="keyword">new</span> QOffscreenSurface());</div>
<div class="line"><span class="lineno"> 1423</span>      rs.m_offScreenSurface-&gt;setFormat(QSurfaceFormat::defaultFormat());</div>
<div class="line"><span class="lineno"> 1424</span>      rs.m_offScreenSurface-&gt;create();</div>
<div class="line"><span class="lineno"> 1425</span>    }</div>
<div class="line"><span class="lineno"> 1426</span> </div>
<div class="line"><span class="lineno"> 1427</span>    <span class="comment">// Search the alias among stored clusters - and store the frame</span></div>
<div class="line"><span class="lineno"> 1428</span>    jt = clusters.find(alias);</div>
<div class="line"><span class="lineno"> 1429</span> </div>
<div class="line"><span class="lineno"> 1430</span>    <span class="keywordflow">if</span> (jt == clusters.end()) {</div>
<div class="line"><span class="lineno"> 1431</span>      <a class="code hl_class" href="class_render_task.html">RenderTask</a> *newTask =</div>
<div class="line"><span class="lineno"> 1432</span>          <span class="keyword">new</span> <a class="code hl_class" href="class_render_task.html">RenderTask</a>(renderId, tasksIdCounter++, renderData.m_frame, rs,</div>
<div class="line"><span class="lineno"> 1433</span>                         renderData.m_fxRoot, pos, frameSize, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1434</span> </div>
<div class="line"><span class="lineno"> 1435</span>      tasksVector.push_back(newTask);</div>
<div class="line"><span class="lineno"> 1436</span>      clusters.insert(std::make_pair(alias, newTask));</div>
<div class="line"><span class="lineno"> 1437</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1438</span>      jt-&gt;second-&gt;addFrame(renderData.m_frame);</div>
<div class="line"><span class="lineno"> 1439</span> </div>
<div class="line"><span class="lineno"> 1440</span>    <span class="comment">// Call processEvents to make the GUI reactive.</span></div>
<div class="line"><span class="lineno"> 1441</span>    QCoreApplication::instance()-&gt;processEvents();</div>
<div class="line"><span class="lineno"> 1442</span>  }</div>
<div class="line"><span class="lineno"> 1443</span> </div>
<div class="line"><span class="lineno"> 1444</span>  <span class="comment">// Release the clusters - we&#39;ll just need the tasks vector from now on</span></div>
<div class="line"><span class="lineno"> 1445</span>  clusters.clear();</div>
<div class="line"><span class="lineno"> 1446</span> </div>
<div class="line"><span class="lineno"> 1447</span>  std::vector&lt;RenderTask *&gt;::iterator kt, kEnd = tasksVector.end();</div>
<div class="line"><span class="lineno"> 1448</span>  {</div>
<div class="line"><span class="lineno"> 1449</span>    <span class="comment">// Install TRenderer on current thread before proceeding</span></div>
<div class="line"><span class="lineno"> 1450</span>    locals::StorageDeclaration storageDecl(<span class="keyword">this</span>, renderId);</div>
<div class="line"><span class="lineno"> 1451</span> </div>
<div class="line"><span class="lineno"> 1452</span>    <span class="comment">// Inform the resource managers</span></div>
<div class="line"><span class="lineno"> 1453</span>    locals::RenderDeclaration renderDecl(<span class="keyword">this</span>, renderId);</div>
<div class="line"><span class="lineno"> 1454</span> </div>
<div class="line"><span class="lineno"> 1455</span>    <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1456</span>    <span class="comment">//    Precomputing</span></div>
<div class="line"><span class="lineno"> 1457</span>    <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1458</span> </div>
<div class="line"><span class="lineno"> 1459</span>    <span class="keywordflow">if</span> (m_precomputingEnabled) {</div>
<div class="line"><span class="lineno"> 1460</span>      <span class="comment">// Set current maxTileSize for cache manager precomputation</span></div>
<div class="line"><span class="lineno"> 1461</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_render_settings.html">TRenderSettings</a> &amp;rs = renderDatas[0].m_info;</div>
<div class="line"><span class="lineno"> 1462</span>      TPredictiveCacheManager::instance()-&gt;setMaxTileSize(rs.<a class="code hl_variable" href="class_t_render_settings.html#a4b0770f4a243e1f32a60efefebf0e11b">m_maxTileSize</a>);</div>
<div class="line"><span class="lineno"> 1463</span>      TPredictiveCacheManager::instance()-&gt;setBPP(rs.<a class="code hl_variable" href="class_t_render_settings.html#a9489ed9d21a047b29cc5dd285f1f6f19">m_bpp</a>);</div>
<div class="line"><span class="lineno"> 1464</span> </div>
<div class="line"><span class="lineno"> 1465</span>      <span class="comment">// Perform the first precomputing run - fx usages declaration</span></div>
<div class="line"><span class="lineno"> 1466</span>      {</div>
<div class="line"><span class="lineno"> 1467</span>        locals::StatusDeclaration firstrunDecl(<span class="keyword">this</span>, TRenderer::FIRSTRUN,</div>
<div class="line"><span class="lineno"> 1468</span>                                               renderInfos);</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>        <span class="keywordflow">for</span> (kt = tasksVector.begin(); kt != kEnd; ++kt) {</div>
<div class="line"><span class="lineno"> 1471</span>          <span class="keywordflow">if</span> (hasToDie(renderId)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1472</span> </div>
<div class="line"><span class="lineno"> 1473</span>          (*kt)-&gt;preRun();</div>
<div class="line"><span class="lineno"> 1474</span> </div>
<div class="line"><span class="lineno"> 1475</span>          <span class="comment">// NOTE: Thread-specific data must be temporarily uninstalled before</span></div>
<div class="line"><span class="lineno"> 1476</span>          <span class="comment">// processing events (which may redefine the thread data).</span></div>
<div class="line"><span class="lineno"> 1477</span>          locals::clearStorage();</div>
<div class="line"><span class="lineno"> 1478</span>          QCoreApplication::instance()-&gt;processEvents();</div>
<div class="line"><span class="lineno"> 1479</span>          locals::setStorage(<span class="keyword">this</span>, renderId);</div>
<div class="line"><span class="lineno"> 1480</span>        }</div>
<div class="line"><span class="lineno"> 1481</span>      }</div>
<div class="line"><span class="lineno"> 1482</span> </div>
<div class="line"><span class="lineno"> 1483</span>      <span class="comment">// Pass to the TESTRUN status - this one should faithfully reproduce</span></div>
<div class="line"><span class="lineno"> 1484</span>      <span class="comment">// the actual COMPUTING status</span></div>
<div class="line"><span class="lineno"> 1485</span>      {</div>
<div class="line"><span class="lineno"> 1486</span>        locals::StatusDeclaration testrunDecl(<span class="keyword">this</span>, TRenderer::TESTRUN,</div>
<div class="line"><span class="lineno"> 1487</span>                                              renderInfos);</div>
<div class="line"><span class="lineno"> 1488</span> </div>
<div class="line"><span class="lineno"> 1489</span>        <span class="keywordflow">for</span> (kt = tasksVector.begin(); kt != kEnd; ++kt) {</div>
<div class="line"><span class="lineno"> 1490</span>          <span class="keywordflow">if</span> (hasToDie(renderId)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1491</span> </div>
<div class="line"><span class="lineno"> 1492</span>          (*kt)-&gt;preRun();</div>
<div class="line"><span class="lineno"> 1493</span> </div>
<div class="line"><span class="lineno"> 1494</span>          <span class="comment">// NOTE: Thread-specific data must be temporarily uninstalled before</span></div>
<div class="line"><span class="lineno"> 1495</span>          <span class="comment">// processing events (which may redefine the thread data).</span></div>
<div class="line"><span class="lineno"> 1496</span>          locals::clearStorage();</div>
<div class="line"><span class="lineno"> 1497</span>          QCoreApplication::instance()-&gt;processEvents();</div>
<div class="line"><span class="lineno"> 1498</span>          locals::setStorage(<span class="keyword">this</span>, renderId);</div>
<div class="line"><span class="lineno"> 1499</span>        }</div>
<div class="line"><span class="lineno"> 1500</span>      }</div>
<div class="line"><span class="lineno"> 1501</span>    }</div>
<div class="line"><span class="lineno"> 1502</span> </div>
<div class="line"><span class="lineno"> 1503</span>    <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1504</span>    <span class="comment">//    Render</span></div>
<div class="line"><span class="lineno"> 1505</span>    <span class="comment">//----------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 1506</span> </div>
<div class="line"><span class="lineno"> 1507</span>    locals::declareStatusStart(<span class="keyword">this</span>, TRenderer::COMPUTING, renderInfos);</div>
<div class="line"><span class="lineno"> 1508</span> </div>
<div class="line"><span class="lineno"> 1509</span>    <span class="comment">// Update the tasks counts</span></div>
<div class="line"><span class="lineno"> 1510</span>    m_undoneTasks += tasksVector.size();</div>
<div class="line"><span class="lineno"> 1511</span>    {</div>
<div class="line"><span class="lineno"> 1512</span>      QMutexLocker locker(&amp;m_renderInstancesMutex);</div>
<div class="line"><span class="lineno"> 1513</span>      renderInfos-&gt;m_activeTasks = tasksVector.size();</div>
<div class="line"><span class="lineno"> 1514</span>    }</div>
<div class="line"><span class="lineno"> 1515</span> </div>
<div class="line"><span class="lineno"> 1516</span>    renderDecl.commit();  <span class="comment">// Declarations are taken over by render tasks</span></div>
<div class="line"><span class="lineno"> 1517</span>  }</div>
<div class="line"><span class="lineno"> 1518</span> </div>
<div class="line"><span class="lineno"> 1519</span>  instanceDecl.commit();  <span class="comment">// Same here</span></div>
<div class="line"><span class="lineno"> 1520</span> </div>
<div class="line"><span class="lineno"> 1521</span>  <span class="comment">// Launch the render</span></div>
<div class="line"><span class="lineno"> 1522</span>  <span class="keywordflow">for</span> (kt = tasksVector.begin(); kt != tasksVector.end(); ++kt)</div>
<div class="line"><span class="lineno"> 1523</span>    m_executor.<a class="code hl_function" href="class_t_thread_1_1_executor.html#af31c8db8ac72df4c342e7769e95e2135">addTask</a>(*kt);</div>
<div class="line"><span class="lineno"> 1524</span> </div>
<div class="line"><span class="lineno"> 1525</span>  tasksVector.clear();  <span class="comment">// Prevent tasks destruction by TasksCleaner</span></div>
<div class="line"><span class="lineno"> 1526</span>}</div>
<div class="ttc" id="aclass_render_task_html"><div class="ttname"><a href="class_render_task.html">RenderTask</a></div><div class="ttdef"><b>Definition:</b> trenderer.cpp:380</div></div>
<div class="ttc" id="aclass_t_dimension_t_html"><div class="ttname"><a href="class_t_dimension_t.html">TDimensionT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_raster_fx_p_html"><div class="ttname"><a href="class_t_raster_fx_p.html">TRasterFxP</a></div><div class="ttdef"><b>Definition:</b> trasterfx.h:317</div></div>
<div class="ttc" id="aclass_t_rect_t_html"><div class="ttname"><a href="class_t_rect_t.html">TRectT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_render_settings_html"><div class="ttname"><a href="class_t_render_settings.html">TRenderSettings</a></div><div class="ttdoc">Data class containing the relevant additional information needed in a render process.</div><div class="ttdef"><b>Definition:</b> trasterfx.h:61</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a4b0770f4a243e1f32a60efefebf0e11b"><div class="ttname"><a href="class_t_render_settings.html#a4b0770f4a243e1f32a60efefebf0e11b">TRenderSettings::m_maxTileSize</a></div><div class="ttdeci">int m_maxTileSize</div><div class="ttdef"><b>Definition:</b> trasterfx.h:120</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a9489ed9d21a047b29cc5dd285f1f6f19"><div class="ttname"><a href="class_t_render_settings.html#a9489ed9d21a047b29cc5dd285f1f6f19">TRenderSettings::m_bpp</a></div><div class="ttdeci">int m_bpp</div><div class="ttdoc">moved to TOutputProperties.</div><div class="ttdef"><b>Definition:</b> trasterfx.h:116</div></div>
<div class="ttc" id="aclass_t_thread_1_1_executor_html_af31c8db8ac72df4c342e7769e95e2135"><div class="ttname"><a href="class_t_thread_1_1_executor.html#af31c8db8ac72df4c342e7769e95e2135">TThread::Executor::addTask</a></div><div class="ttdeci">void addTask(RunnableP task)</div><div class="ttdef"><b>Definition:</b> tthread.cpp:804</div></div>
<div class="ttc" id="astruct_t_renderer_1_1_render_data_html"><div class="ttname"><a href="struct_t_renderer_1_1_render_data.html">TRenderer::RenderData</a></div><div class="ttdef"><b>Definition:</b> trenderer.h:184</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a410012b2651489b432a5a86b249a3885" name="a410012b2651489b432a5a86b249a3885"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a410012b2651489b432a5a86b249a3885">&#9670;&nbsp;</a></span>stopRendering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TRendererImp::stopRendering </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>waitForCompleteStop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  774</span>                                                         {</div>
<div class="line"><span class="lineno">  775</span>  QMutexLocker sl(&amp;m_renderInstancesMutex);</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>  {</div>
<div class="line"><span class="lineno">  778</span>    <span class="comment">// Tasks already stop rendering on their own when they don&#39;t find their</span></div>
<div class="line"><span class="lineno">  779</span>    <span class="comment">// render ids here.</span></div>
<div class="line"><span class="lineno">  780</span>    std::map&lt;unsigned long, RenderInstanceInfos&gt;::iterator it;</div>
<div class="line"><span class="lineno">  781</span>    <span class="keywordflow">for</span> (it = m_activeInstances.begin(); it != m_activeInstances.end(); ++it)</div>
<div class="line"><span class="lineno">  782</span>      it-&gt;second.m_canceled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  783</span>  }</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>  <span class="keywordflow">if</span> (waitForCompleteStop &amp;&amp; m_undoneTasks &gt; 0) {</div>
<div class="line"><span class="lineno">  786</span>    <span class="comment">// Sometimes, QEventLoop suddenly stops processing slots (especially those</span></div>
<div class="line"><span class="lineno">  787</span>    <span class="comment">// notifications</span></div>
<div class="line"><span class="lineno">  788</span>    <span class="comment">// from active rendering instances) - therefore resulting in a block of the</span></div>
<div class="line"><span class="lineno">  789</span>    <span class="comment">// application.</span></div>
<div class="line"><span class="lineno">  790</span>    <span class="comment">// I&#39;ve not figured out why (#QTBUG-11649?) - but substituting with a plain</span></div>
<div class="line"><span class="lineno">  791</span>    <span class="comment">// while</span></div>
<div class="line"><span class="lineno">  792</span>    <span class="comment">// seems to do the trick...</span></div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>    <span class="comment">/*QEventLoop eventLoop;</span></div>
<div class="line"><span class="lineno">  795</span><span class="comment">m_waitingLoops.push_back(&amp;eventLoop);</span></div>
<div class="line"><span class="lineno">  796</span><span class="comment">eventLoop.exec();*/</span></div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>    <span class="keywordtype">bool</span> loopQuit = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  799</span>    m_waitingLoops.push_back(&amp;loopQuit);</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>    sl.unlock();</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>    <span class="keywordflow">while</span> (!loopQuit)</div>
<div class="line"><span class="lineno">  804</span>      QCoreApplication::processEvents(QEventLoop::AllEvents |</div>
<div class="line"><span class="lineno">  805</span>                                      QEventLoop::WaitForMoreEvents);</div>
<div class="line"><span class="lineno">  806</span>  }</div>
<div class="line"><span class="lineno">  807</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad71ba179d2400c6d6f2ddd71aed3ead3" name="ad71ba179d2400c6d6f2ddd71aed3ead3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71ba179d2400c6d6f2ddd71aed3ead3">&#9670;&nbsp;</a></span>m_activeInstances</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;unsigned long, <a class="el" href="struct_t_renderer_imp_1_1_render_instance_infos.html">RenderInstanceInfos</a>&gt; TRendererImp::m_activeInstances</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a790fcef435606587a728c5af720d21cd" name="a790fcef435606587a728c5af720d21cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790fcef435606587a728c5af720d21cd">&#9670;&nbsp;</a></span>m_executor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_thread_1_1_executor.html">Executor</a> TRendererImp::m_executor</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5e37a140b2dbc58a91ea3990edbee866" name="a5e37a140b2dbc58a91ea3990edbee866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e37a140b2dbc58a91ea3990edbee866">&#9670;&nbsp;</a></span>m_managers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_t_render_resource_manager.html">TRenderResourceManager</a> *&gt; TRendererImp::m_managers</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a671628d910121f4f98f755cc8b208475" name="a671628d910121f4f98f755cc8b208475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a671628d910121f4f98f755cc8b208475">&#9670;&nbsp;</a></span>m_ports</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PortContainer TRendererImp::m_ports</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5a1073f12ea66011d0de024831148245" name="a5a1073f12ea66011d0de024831148245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a1073f12ea66011d0de024831148245">&#9670;&nbsp;</a></span>m_portsLock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QReadWriteLock TRendererImp::m_portsLock</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afd4b309a4e02dc69547fcbf52afc06fd" name="afd4b309a4e02dc69547fcbf52afc06fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd4b309a4e02dc69547fcbf52afc06fd">&#9670;&nbsp;</a></span>m_precomputingEnabled</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TRendererImp::m_precomputingEnabled</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a878ac1ea9a1d80f4f62e9c5bf3661208" name="a878ac1ea9a1d80f4f62e9c5bf3661208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a878ac1ea9a1d80f4f62e9c5bf3661208">&#9670;&nbsp;</a></span>m_rasterPool</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_raster_pool.html">RasterPool</a> TRendererImp::m_rasterPool</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7756ecb318e0f0bc8ba0c94916edf45a" name="a7756ecb318e0f0bc8ba0c94916edf45a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7756ecb318e0f0bc8ba0c94916edf45a">&#9670;&nbsp;</a></span>m_rendererId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long TRendererImp::m_rendererId</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9eee32924e0369985a74672effb7c045" name="a9eee32924e0369985a74672effb7c045"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eee32924e0369985a74672effb7c045">&#9670;&nbsp;</a></span>m_rendererIdCounter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long TRendererImp::m_rendererIdCounter = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The renderer Id is a number uniquely associated with a <a class="el" href="class_t_renderer.html">TRenderer</a> instance. </p>

</div>
</div>
<a id="abe57a8e8f813a289a96da2b29cbf6c17" name="abe57a8e8f813a289a96da2b29cbf6c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe57a8e8f813a289a96da2b29cbf6c17">&#9670;&nbsp;</a></span>m_renderIdCounter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long TRendererImp::m_renderIdCounter = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The render Id is a number uniquely associated with a render process started with the startRendering() method. </p>

<p class="reference">Referenced by <a class="el" href="#l00493">TRenderer::buildRenderId()</a>, <a class="el" href="#l00503">TRenderer::nextRenderId()</a>, and <a class="el" href="#l00638">TRenderer::startRendering()</a>.</p>

</div>
</div>
<a id="a998881fa696530ffc00537aa4da197d1" name="a998881fa696530ffc00537aa4da197d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a998881fa696530ffc00537aa4da197d1">&#9670;&nbsp;</a></span>m_renderInstancesMutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QMutex TRendererImp::m_renderInstancesMutex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af54b13ff3f0c4ca93454cefff3442fac" name="af54b13ff3f0c4ca93454cefff3442fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af54b13ff3f0c4ca93454cefff3442fac">&#9670;&nbsp;</a></span>m_undoneTasks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_atomic_var.html">TAtomicVar</a> TRendererImp::m_undoneTasks</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2efbe24cd7e576ae98f98fa0aae8d2ed" name="a2efbe24cd7e576ae98f98fa0aae8d2ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2efbe24cd7e576ae98f98fa0aae8d2ed">&#9670;&nbsp;</a></span>m_waitingLoops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;bool *&gt; TRendererImp::m_waitingLoops</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1f1c542df19de3031d656c1ba65985ae" name="a1f1c542df19de3031d656c1ba65985ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f1c542df19de3031d656c1ba65985ae">&#9670;&nbsp;</a></span>rootFx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_raster_fx_p.html">TRasterFxP</a> TRendererImp::rootFx</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/opentoonz/toonz/sources/common/tfx/<a class="el" href="">trenderer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
