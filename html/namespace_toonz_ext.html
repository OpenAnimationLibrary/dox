<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: ToonzExt Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ToonzExt Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Toonz Extension namespace.  
<a href="namespace_toonz_ext.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_composite_status.html">CompositeStatus</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class maintains internal data for Dragger manipulator.  <a href="class_toonz_ext_1_1_composite_status.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_toonz_ext_1_1_context_status.html">ContextStatus</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class maintains data required from manipulator.  <a href="struct_toonz_ext_1_1_context_status.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_corner_deformation.html">CornerDeformation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_deformation_selector.html">DeformationSelector</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is a Singleton that selects the correct <a class="el" href="class_toonz_ext_1_1_stroke_deformation_impl.html">StrokeDeformationImpl</a> that will use <a class="el" href="class_toonz_ext_1_1_stroke_deformation.html" title="This class is the interface for manipulation algorithms.">StrokeDeformation</a>.  <a href="class_toonz_ext_1_1_deformation_selector.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_designer.html">Designer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is a visitor to manage properly Draw method.  <a href="class_toonz_ext_1_1_designer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_even_int.html">EvenInt</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is an abstraction to wrap all odd number.  <a href="class_toonz_ext_1_1_even_int.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_interface_status.html">InterfaceStatus</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_linear_potential.html">LinearPotential</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_not_symmetric_bezier_potential.html">NotSymmetricBezierPotential</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_not_symmetric_exp_potential.html">NotSymmetricExpPotential</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_odd_int.html">OddInt</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is an abstraction to wrap all odd number.  <a href="class_toonz_ext_1_1_odd_int.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_overall_designer.html">OverallDesigner</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_potential.html">Potential</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_toonz_ext_1_1_potential.html" title="Potential is an abstraction to maintain a mathematical potential function.">Potential</a> is an abstraction to maintain a mathematical potential function.  <a href="class_toonz_ext_1_1_potential.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_selector.html">Selector</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_smooth_deformation.html">SmoothDeformation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_square_potential.html">SquarePotential</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_straight_corner_deformation.html">StraightCornerDeformation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_stroke_deformation.html">StrokeDeformation</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class is the interface for manipulation algorithms.  <a href="class_toonz_ext_1_1_stroke_deformation.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_stroke_deformation_impl.html">StrokeDeformationImpl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_stroke_parametric_deformer.html">StrokeParametricDeformer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class implements new deformer.  <a href="class_toonz_ext_1_1_stroke_parametric_deformer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_toonz_ext_1_1_stroke_status.html">StrokeStatus</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class maintains internal data for Dragger manipulator.  <a href="class_toonz_ext_1_1_stroke_status.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af0f90ec10aea6fde591103d3611b638b"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; double, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">Interval</a></td></tr>
<tr class="memdesc:af0f90ec10aea6fde591103d3611b638b"><td class="mdescLeft">&#160;</td><td class="mdescRight">An useful alias for a pair of double.  <a href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">More...</a><br /></td></tr>
<tr class="separator:af0f90ec10aea6fde591103d3611b638b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0282c012222b6b15e80f8f02685a935"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">Interval</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">Intervals</a></td></tr>
<tr class="memdesc:af0282c012222b6b15e80f8f02685a935"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of intervals.  <a href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">More...</a><br /></td></tr>
<tr class="separator:af0282c012222b6b15e80f8f02685a935"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad34a2f00703a015395583693c4c4db7b"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#ad34a2f00703a015395583693c4c4db7b">straightCornersDetector</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *stroke, std::vector&lt; double &gt; &amp;corners)</td></tr>
<tr class="memdesc:ad34a2f00703a015395583693c4c4db7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Like cornersDetector but for straight corners.  <a href="namespace_toonz_ext.html#ad34a2f00703a015395583693c4c4db7b">More...</a><br /></td></tr>
<tr class="separator:ad34a2f00703a015395583693c4c4db7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d0c60df65b9f34e2068f78463502478"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#a6d0c60df65b9f34e2068f78463502478">detectStraightIntervals</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *stroke, <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> &amp;intervals, double tolerance=TConsts::epsilon)</td></tr>
<tr class="memdesc:a6d0c60df65b9f34e2068f78463502478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find intervals where stroke is a straight line.  <a href="namespace_toonz_ext.html#a6d0c60df65b9f34e2068f78463502478">More...</a><br /></td></tr>
<tr class="separator:a6d0c60df65b9f34e2068f78463502478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a518f83ed246c63667f0185124cf724c5"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#a518f83ed246c63667f0185124cf724c5">findNearestStraightCorners</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *s, double actualW, <a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">Interval</a> &amp;out, const <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *const cl=0, double tolerance=TConsts::epsilon)</td></tr>
<tr class="memdesc:a518f83ed246c63667f0185124cf724c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve parameters for straight intervals near actualW parameter.  <a href="namespace_toonz_ext.html#a518f83ed246c63667f0185124cf724c5">More...</a><br /></td></tr>
<tr class="separator:a518f83ed246c63667f0185124cf724c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06bd1db88289e43f6daf6089c2648f8"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#aa06bd1db88289e43f6daf6089c2648f8">isAStraightCorner</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *s, double actualW, const <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *const cl=0, double tolerance=TConsts::epsilon)</td></tr>
<tr class="separator:aa06bd1db88289e43f6daf6089c2648f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a192dcaf5d96235356ae59ae418b125fe"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#a192dcaf5d96235356ae59ae418b125fe">cornersDetector</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *stroke, int minDegree, std::vector&lt; double &gt; &amp;corners)</td></tr>
<tr class="memdesc:a192dcaf5d96235356ae59ae418b125fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enhanced version of Toonz detect corners.  <a href="namespace_toonz_ext.html#a192dcaf5d96235356ae59ae418b125fe">More...</a><br /></td></tr>
<tr class="separator:a192dcaf5d96235356ae59ae418b125fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc55f31b9acafe1321c64777ba6c38c1"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#adc55f31b9acafe1321c64777ba6c38c1">detectSpireIntervals</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *stroke, <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> &amp;intervals, int minDegree)</td></tr>
<tr class="memdesc:adc55f31b9acafe1321c64777ba6c38c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find intervals where stroke has limited from spire.  <a href="namespace_toonz_ext.html#adc55f31b9acafe1321c64777ba6c38c1">More...</a><br /></td></tr>
<tr class="separator:adc55f31b9acafe1321c64777ba6c38c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9eab69f85f85841b9bf44c85ac86765"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#af9eab69f85f85841b9bf44c85ac86765">findNearestSpireCorners</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *s, double actualW, <a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">Interval</a> &amp;out, int cornerSize, const <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *const cl=0, double tolerance=TConsts::epsilon)</td></tr>
<tr class="memdesc:af9eab69f85f85841b9bf44c85ac86765"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve parameters for corners near actualW parameter.  <a href="namespace_toonz_ext.html#af9eab69f85f85841b9bf44c85ac86765">More...</a><br /></td></tr>
<tr class="separator:af9eab69f85f85841b9bf44c85ac86765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc16bc4239c1a2cb1e5b5fcb3ab68240"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#adc16bc4239c1a2cb1e5b5fcb3ab68240">isASpireCorner</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *s, double w, int cornerSize, const <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *const cl=0, double tolerance=TConsts::epsilon)</td></tr>
<tr class="separator:adc16bc4239c1a2cb1e5b5fcb3ab68240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d3af5a612c292a3eea837696e52b7e"><td class="memItemLeft" align="right" valign="top">DVAPI void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#a06d3af5a612c292a3eea837696e52b7e">findCorners</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *stroke, <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">Intervals</a> &amp;corners, <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">Intervals</a> &amp;intervals, int angle, double tolerance)</td></tr>
<tr class="memdesc:a06d3af5a612c292a3eea837696e52b7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve corners of a <a class="el" href="class_t_stroke.html">TStroke</a>.  <a href="namespace_toonz_ext.html#a06d3af5a612c292a3eea837696e52b7e">More...</a><br /></td></tr>
<tr class="separator:a06d3af5a612c292a3eea837696e52b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ed9bd9d0e778530a6002d29f9f31b80"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#a8ed9bd9d0e778530a6002d29f9f31b80">findNearestCorners</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *stroke, double w, <a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">Interval</a> &amp;out, const <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">Intervals</a> &amp;values, double tolerance=TConsts::epsilon)</td></tr>
<tr class="memdesc:a8ed9bd9d0e778530a6002d29f9f31b80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve corners of a <a class="el" href="class_t_stroke.html">TStroke</a>.  <a href="namespace_toonz_ext.html#a8ed9bd9d0e778530a6002d29f9f31b80">More...</a><br /></td></tr>
<tr class="separator:a8ed9bd9d0e778530a6002d29f9f31b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2e773c11a739935be9804745e2cd49"><td class="memItemLeft" align="right" valign="top">DVAPI <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#afc2e773c11a739935be9804745e2cd49">rotateControlPoint</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *stroke, const <a class="el" href="class_toonz_ext_1_1_even_int.html">ToonzExt::EvenInt</a> &amp;even, double atLength)</td></tr>
<tr class="memdesc:afc2e773c11a739935be9804745e2cd49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotate the control point at even position [0,2,4,...] in a new position along the close path of a selfLoop stroke.  <a href="namespace_toonz_ext.html#afc2e773c11a739935be9804745e2cd49">More...</a><br /></td></tr>
<tr class="separator:afc2e773c11a739935be9804745e2cd49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d6f6c363d628eb19659c38fde2c024"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#af2d6f6c363d628eb19659c38fde2c024">getAllW</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *stroke, const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;pnt, double &amp;dist2, std::vector&lt; double &gt; &amp;parameters)</td></tr>
<tr class="separator:af2d6f6c363d628eb19659c38fde2c024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a0d750cd9ea968b349828ed2eacfa9"><td class="memItemLeft" align="right" valign="top">DVAPI bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#a68a0d750cd9ea968b349828ed2eacfa9">replaceStroke</a> (<a class="el" href="class_t_stroke.html">TStroke</a> *old_stroke, <a class="el" href="class_t_stroke.html">TStroke</a> *new_stroke, unsigned int n_, <a class="el" href="class_t_vector_image_p.html">TVectorImageP</a> &amp;vi)</td></tr>
<tr class="memdesc:a68a0d750cd9ea968b349828ed2eacfa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace a stroke in a vector image.  <a href="namespace_toonz_ext.html#a68a0d750cd9ea968b349828ed2eacfa9">More...</a><br /></td></tr>
<tr class="separator:a68a0d750cd9ea968b349828ed2eacfa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184441a805e5441cff35f15b937fa451"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#a184441a805e5441cff35f15b937fa451">cloneStrokeStatus</a> (const <a class="el" href="class_t_stroke.html">TStroke</a> *from, <a class="el" href="class_t_stroke.html">TStroke</a> *to)</td></tr>
<tr class="memdesc:a184441a805e5441cff35f15b937fa451"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy several parameters that are not copied with operator=.  <a href="namespace_toonz_ext.html#a184441a805e5441cff35f15b937fa451">More...</a><br /></td></tr>
<tr class="separator:a184441a805e5441cff35f15b937fa451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab724837729ae24410cef394ea16ac0e0"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ab724837729ae24410cef394ea16ac0e0"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#ab724837729ae24410cef394ea16ac0e0">isValid</a> (const T *s)</td></tr>
<tr class="separator:ab724837729ae24410cef394ea16ac0e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a244deb082112d1d68c1568d4d959e0ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#a244deb082112d1d68c1568d4d959e0ad">isValid</a> (double w)</td></tr>
<tr class="separator:a244deb082112d1d68c1568d4d959e0ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3e67cb066977ee0e6269f30afaeee0"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_toonz_ext.html#aee3e67cb066977ee0e6269f30afaeee0">operator&lt;&lt;</a> (std::ostream &amp;os, const <a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">Interval</a> &amp;interval)</td></tr>
<tr class="separator:aee3e67cb066977ee0e6269f30afaeee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Toonz Extension namespace. </p>
<p >This namespace contains a lot of class and functions to manipulate strokes. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="af0f90ec10aea6fde591103d3611b638b" name="af0f90ec10aea6fde591103d3611b638b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0f90ec10aea6fde591103d3611b638b">&#9670;&nbsp;</a></span>Interval</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;double, double&gt; <a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An useful alias for a pair of double. </p>

</div>
</div>
<a id="af0282c012222b6b15e80f8f02685a935" name="af0282c012222b6b15e80f8f02685a935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0282c012222b6b15e80f8f02685a935">&#9670;&nbsp;</a></span>Intervals</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">Interval</a>&gt; <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of intervals. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a184441a805e5441cff35f15b937fa451" name="a184441a805e5441cff35f15b937fa451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a184441a805e5441cff35f15b937fa451">&#9670;&nbsp;</a></span>cloneStrokeStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ToonzExt::cloneStrokeStatus </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy several parameters that are not copied with operator=. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1117</span>                                                                 {</div>
<div class="line"><span class="lineno"> 1118</span>  <span class="keywordflow">if</span> (!ToonzExt::isValid(from) || !ToonzExt::isValid(to)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1119</span> </div>
<div class="line"><span class="lineno"> 1120</span>  to-&gt;setId(from-&gt;getId());</div>
<div class="line"><span class="lineno"> 1121</span>  to-&gt;<a class="code hl_function" href="class_t_stroke.html#afa2c66ae11a70e68b3de3ce0b4cfb049">setSelfLoop</a>(from-&gt;<a class="code hl_function" href="class_t_stroke.html#a3565d6c34d3eb02fb1a6993ca626425c">isSelfLoop</a>());</div>
<div class="line"><span class="lineno"> 1122</span>  to-&gt;<a class="code hl_function" href="class_t_stroke.html#a33f59dfbed74b577700351eac8c2fc7b">setStyle</a>(from-&gt;<a class="code hl_function" href="class_t_stroke.html#ab77068d7894a29cc1878e173f46ed785">getStyle</a>());</div>
<div class="line"><span class="lineno"> 1123</span>  to-&gt;<a class="code hl_function" href="class_t_stroke.html#af4c88e9c3ec57efa8cd56942237cdaf8">setAverageThickness</a>(from-&gt;<a class="code hl_function" href="class_t_stroke.html#aaf5d138270c9dcf7d806457e49649bfa">getAverageThickness</a>());</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>  to-&gt;<a class="code hl_function" href="class_t_stroke.html#a03d49743089710215ab6984db1f6e3a2">invalidate</a>();</div>
<div class="line"><span class="lineno"> 1126</span>  to-&gt;enableComputeOfCaches();</div>
<div class="line"><span class="lineno"> 1127</span>}</div>
<div class="ttc" id="aclass_t_stroke_html_a03d49743089710215ab6984db1f6e3a2"><div class="ttname"><a href="class_t_stroke.html#a03d49743089710215ab6984db1f6e3a2">TStroke::invalidate</a></div><div class="ttdeci">void invalidate()</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:1606</div></div>
<div class="ttc" id="aclass_t_stroke_html_a33f59dfbed74b577700351eac8c2fc7b"><div class="ttname"><a href="class_t_stroke.html#a33f59dfbed74b577700351eac8c2fc7b">TStroke::setStyle</a></div><div class="ttdeci">void setStyle(int styleId)</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:2370</div></div>
<div class="ttc" id="aclass_t_stroke_html_a3565d6c34d3eb02fb1a6993ca626425c"><div class="ttname"><a href="class_t_stroke.html#a3565d6c34d3eb02fb1a6993ca626425c">TStroke::isSelfLoop</a></div><div class="ttdeci">bool isSelfLoop() const</div><div class="ttdoc">Return true if the stroke is looped.</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:2488</div></div>
<div class="ttc" id="aclass_t_stroke_html_aaf5d138270c9dcf7d806457e49649bfa"><div class="ttname"><a href="class_t_stroke.html#aaf5d138270c9dcf7d806457e49649bfa">TStroke::getAverageThickness</a></div><div class="ttdeci">double getAverageThickness() const</div><div class="ttdoc">Return the average value of stroke thickness.</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:1816</div></div>
<div class="ttc" id="aclass_t_stroke_html_ab77068d7894a29cc1878e173f46ed785"><div class="ttname"><a href="class_t_stroke.html#ab77068d7894a29cc1878e173f46ed785">TStroke::getStyle</a></div><div class="ttdeci">int getStyle() const</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:2366</div></div>
<div class="ttc" id="aclass_t_stroke_html_af4c88e9c3ec57efa8cd56942237cdaf8"><div class="ttname"><a href="class_t_stroke.html#af4c88e9c3ec57efa8cd56942237cdaf8">TStroke::setAverageThickness</a></div><div class="ttdeci">void setAverageThickness(double thickness)</div><div class="ttdoc">Set the average value of stroke thickness to thickness.</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:1825</div></div>
<div class="ttc" id="aclass_t_stroke_html_afa2c66ae11a70e68b3de3ce0b4cfb049"><div class="ttname"><a href="class_t_stroke.html#afa2c66ae11a70e68b3de3ce0b4cfb049">TStroke::setSelfLoop</a></div><div class="ttdeci">void setSelfLoop(bool loop=true)</div><div class="ttdoc">Set a loop stroke.</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:2469</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01816">TStroke::getAverageThickness()</a>, <a class="el" href="#l02366">TStroke::getStyle()</a>, <a class="el" href="#l01606">TStroke::invalidate()</a>, <a class="el" href="#l02488">TStroke::isSelfLoop()</a>, <a class="el" href="#l01825">TStroke::setAverageThickness()</a>, <a class="el" href="#l02469">TStroke::setSelfLoop()</a>, and <a class="el" href="#l02370">TStroke::setStyle()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00470">ToonzExt::StrokeDeformationImpl::deactivate_impl()</a>.</p>

</div>
</div>
<a id="a192dcaf5d96235356ae59ae418b125fe" name="a192dcaf5d96235356ae59ae418b125fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a192dcaf5d96235356ae59ae418b125fe">&#9670;&nbsp;</a></span>cornersDetector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::cornersDetector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>stroke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minDegree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>corners</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enhanced version of Toonz detect corners. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1026</span>                                                                 {</div>
<div class="line"><span class="lineno"> 1027</span>  assert(stroke);</div>
<div class="line"><span class="lineno"> 1028</span>  <span class="keywordflow">if</span> (!stroke) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1029</span>  assert(corners.empty());</div>
<div class="line"><span class="lineno"> 1030</span>  <span class="keywordflow">if</span> (!corners.empty()) corners.clear();</div>
<div class="line"><span class="lineno"> 1031</span> </div>
<div class="line"><span class="lineno"> 1032</span>  assert(0 &lt;= minDegree &amp;&amp; minDegree &lt;= 180);</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>  minDegree = normalizeAngle(minDegree);</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>  <span class="keyword">const</span> <span class="keywordtype">double</span> minSin = degree2sin(minDegree), minCos = degree2cos(minDegree);</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>  assert(0.0 &lt;= minSin &amp;&amp; minSin &lt;= 1.0);</div>
<div class="line"><span class="lineno"> 1039</span> </div>
<div class="line"><span class="lineno"> 1040</span>  <span class="comment">// first step remove chunks with null length</span></div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_thick_quadratic.html">TThickQuadratic</a> *quad1 = 0, *quad2 = 0;</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>  UINT chunkCount = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a81b63663a798724333d8de692fdbcac0">getChunkCount</a>();</div>
<div class="line"><span class="lineno"> 1045</span> </div>
<div class="line"><span class="lineno"> 1046</span>  quad1 = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a06b18ffed330411aad73ef1748a3f263">getChunk</a>(0);</div>
<div class="line"><span class="lineno"> 1047</span>  assert(quad1);</div>
<div class="line"><span class="lineno"> 1048</span>  <span class="keywordflow">if</span> (!quad1) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1049</span> </div>
<div class="line"><span class="lineno"> 1050</span>  <span class="keywordtype">bool</span> error = <span class="keyword">false</span>, check = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span>  std::set&lt;double&gt; internal_corners;</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>  <span class="keywordtype">double</span> t;</div>
<div class="line"><span class="lineno"> 1055</span> </div>
<div class="line"><span class="lineno"> 1056</span>  <span class="keywordflow">if</span> (curveIsStraight(quad1, t)) {</div>
<div class="line"><span class="lineno"> 1057</span>    <span class="keywordflow">if</span> (t != -1) {</div>
<div class="line"><span class="lineno"> 1058</span>      check = mapValueInStroke(stroke, quad1, t, t);</div>
<div class="line"><span class="lineno"> 1059</span>      assert(check);</div>
<div class="line"><span class="lineno"> 1060</span>      <span class="keywordflow">if</span> (check) internal_corners.insert(t);</div>
<div class="line"><span class="lineno"> 1061</span>    }</div>
<div class="line"><span class="lineno"> 1062</span>  }</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>  <span class="keywordflow">for</span> (UINT j = 1; j &lt; chunkCount; j++) {</div>
<div class="line"><span class="lineno"> 1065</span>    quad2 = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a06b18ffed330411aad73ef1748a3f263">getChunk</a>(j);</div>
<div class="line"><span class="lineno"> 1066</span>    <span class="keywordflow">if</span> (curveIsStraight(quad2, t)) {</div>
<div class="line"><span class="lineno"> 1067</span>      <span class="keywordflow">if</span> (t != -1) {</div>
<div class="line"><span class="lineno"> 1068</span>        check = mapValueInStroke(stroke, quad2, t, t);</div>
<div class="line"><span class="lineno"> 1069</span>        assert(check);</div>
<div class="line"><span class="lineno"> 1070</span>        <span class="keywordflow">if</span> (check) internal_corners.insert(t);</div>
<div class="line"><span class="lineno"> 1071</span>      }</div>
<div class="line"><span class="lineno"> 1072</span>    }</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>    assert(quad2);</div>
<div class="line"><span class="lineno"> 1075</span>    <span class="keywordflow">if</span> (!quad2) error = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1076</span> </div>
<div class="line"><span class="lineno"> 1077</span>    <span class="keywordtype">double</span> tmp = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a38326dc317f9ff3828940996f41376a6">getW</a>(quad2-&gt;getP0());</div>
<div class="line"><span class="lineno"> 1078</span> </div>
<div class="line"><span class="lineno"> 1079</span>    <span class="comment">// jump zero length curves</span></div>
<div class="line"><span class="lineno"> 1080</span>    <span class="keywordflow">if</span> (!isAlmostZero(quad1-&gt;<a class="code hl_function" href="class_t_quadratic.html#ac1db69c69cbf52b1becf396cc8006ca1">getLength</a>()) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1081</span>        !isAlmostZero(quad2-&gt;getLength()) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1082</span>        isThereACornerMinusThan(minCos, minSin, quad1, quad2))</div>
<div class="line"><span class="lineno"> 1083</span>      internal_corners.insert(tmp);</div>
<div class="line"><span class="lineno"> 1084</span> </div>
<div class="line"><span class="lineno"> 1085</span>    <span class="keywordflow">if</span> (!isAlmostZero(quad2-&gt;getLength())) quad1 = quad2;</div>
<div class="line"><span class="lineno"> 1086</span>  }</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>  <span class="keywordflow">if</span> (stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a3565d6c34d3eb02fb1a6993ca626425c">isSelfLoop</a>() &amp;&amp; chunkCount &gt; 0) {</div>
<div class="line"><span class="lineno"> 1089</span>    quad2 = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a06b18ffed330411aad73ef1748a3f263">getChunk</a>(0);</div>
<div class="line"><span class="lineno"> 1090</span>    quad1 = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a06b18ffed330411aad73ef1748a3f263">getChunk</a>(chunkCount - 1);</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>    <span class="keywordflow">if</span> (isThereACornerMinusThan(minCos, minSin, quad1, quad2))</div>
<div class="line"><span class="lineno"> 1093</span>      internal_corners.insert(0.0);</div>
<div class="line"><span class="lineno"> 1094</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1095</span>    internal_corners.insert(0.0);</div>
<div class="line"><span class="lineno"> 1096</span>    internal_corners.insert(1.0);</div>
<div class="line"><span class="lineno"> 1097</span>  }</div>
<div class="line"><span class="lineno"> 1098</span> </div>
<div class="line"><span class="lineno"> 1099</span>  <span class="keywordflow">if</span> (error) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>  std::copy(internal_corners.begin(), internal_corners.end(),</div>
<div class="line"><span class="lineno"> 1102</span>            std::back_inserter(corners));</div>
<div class="line"><span class="lineno"> 1103</span> </div>
<div class="line"><span class="lineno"> 1104</span><span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><span class="lineno"> 1105</span>  <span class="keywordtype">double</span> temp = 0;</div>
<div class="line"><span class="lineno"> 1106</span>  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; corners.size(); ++k) {</div>
<div class="line"><span class="lineno"> 1107</span>    assert(corners[k] &gt;= temp);</div>
<div class="line"><span class="lineno"> 1108</span>    temp = corners[k];</div>
<div class="line"><span class="lineno"> 1109</span>  }</div>
<div class="line"><span class="lineno"> 1110</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>  <span class="keywordflow">return</span> !corners.empty();</div>
<div class="line"><span class="lineno"> 1113</span>}</div>
<div class="ttc" id="aclass_t_quadratic_html_ac1db69c69cbf52b1becf396cc8006ca1"><div class="ttname"><a href="class_t_quadratic.html#ac1db69c69cbf52b1becf396cc8006ca1">TQuadratic::getLength</a></div><div class="ttdeci">double getLength(double t0, double t1) const</div><div class="ttdef"><b>Definition:</b> tcurves.cpp:208</div></div>
<div class="ttc" id="aclass_t_stroke_html_a06b18ffed330411aad73ef1748a3f263"><div class="ttname"><a href="class_t_stroke.html#a06b18ffed330411aad73ef1748a3f263">TStroke::getChunk</a></div><div class="ttdeci">const TThickQuadratic * getChunk(int index) const</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:1855</div></div>
<div class="ttc" id="aclass_t_stroke_html_a38326dc317f9ff3828940996f41376a6"><div class="ttname"><a href="class_t_stroke.html#a38326dc317f9ff3828940996f41376a6">TStroke::getW</a></div><div class="ttdeci">double getW(const TPointD &amp;) const</div><div class="ttdoc">Return parameter w at point position.</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:2029</div></div>
<div class="ttc" id="aclass_t_stroke_html_a81b63663a798724333d8de692fdbcac0"><div class="ttname"><a href="class_t_stroke.html#a81b63663a798724333d8de692fdbcac0">TStroke::getChunkCount</a></div><div class="ttdeci">int getChunkCount() const</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:1845</div></div>
<div class="ttc" id="aclass_t_thick_quadratic_html"><div class="ttname"><a href="class_t_thick_quadratic.html">TThickQuadratic</a></div><div class="ttdef"><b>Definition:</b> tcurves.h:416</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00061">ToonzExt::CornerDeformation::check_()</a>.</p>

</div>
</div>
<a id="adc55f31b9acafe1321c64777ba6c38c1" name="adc55f31b9acafe1321c64777ba6c38c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc55f31b9acafe1321c64777ba6c38c1">&#9670;&nbsp;</a></span>detectSpireIntervals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::detectSpireIntervals </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>stroke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> &amp;&#160;</td>
          <td class="paramname"><em>intervals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minDegree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find intervals where stroke has limited from spire. </p>
<p >These intervals are stored in an <code>vector</code> od Interval. </p>
<div class="fragment"><div class="line"><span class="lineno">  768</span>                                                         {</div>
<div class="line"><span class="lineno">  769</span>  <span class="keywordflow">if</span> (!ToonzExt::isValid(stroke)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span>  minDegree = normalizeAngle(minDegree);</div>
<div class="line"><span class="lineno">  772</span>  std::vector&lt;double&gt; corners;</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>  <span class="keywordtype">bool</span> found = <a class="code hl_function" href="namespace_toonz_ext.html#a192dcaf5d96235356ae59ae418b125fe">ToonzExt::cornersDetector</a>(stroke, minDegree, corners);</div>
<div class="line"><span class="lineno">  775</span>  <span class="keywordflow">if</span> (!found) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>  assert(!corners.empty());</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>  intervals.clear();</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>  <span class="keywordtype">double</span> first = corners[0], last = first;</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span>  <span class="keywordtype">int</span> size = corners.size();</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; size; ++i) {</div>
<div class="line"><span class="lineno">  786</span>    last = corners[i];</div>
<div class="line"><span class="lineno">  787</span>    intervals.push_back(<a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a>(first, last));</div>
<div class="line"><span class="lineno">  788</span>    first = last;</div>
<div class="line"><span class="lineno">  789</span>  }</div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>  <span class="comment">// intervals.push_back( ToonzExt::Interval(last,1.0));</span></div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>  <span class="keywordflow">if</span> (stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a3565d6c34d3eb02fb1a6993ca626425c">isSelfLoop</a>()) {</div>
<div class="line"><span class="lineno">  794</span>    <span class="keywordflow">if</span> (corners.size() == 1) {</div>
<div class="line"><span class="lineno">  795</span>      <span class="keywordtype">double</span> val = corners[0];</div>
<div class="line"><span class="lineno">  796</span>      intervals.push_back(<a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a>(val, val));</div>
<div class="line"><span class="lineno">  797</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!intervals.empty()) {</div>
<div class="line"><span class="lineno">  798</span>      <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a> first = intervals.front(), last = intervals.back();</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>      intervals.insert(intervals.begin(),</div>
<div class="line"><span class="lineno">  801</span>                       <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a>(last.second, first.first));</div>
<div class="line"><span class="lineno">  802</span>    }</div>
<div class="line"><span class="lineno">  803</span>  }</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>  <span class="keywordflow">return</span> !intervals.empty();</div>
<div class="line"><span class="lineno">  806</span>}</div>
<div class="ttc" id="anamespace_toonz_ext_html_a192dcaf5d96235356ae59ae418b125fe"><div class="ttname"><a href="namespace_toonz_ext.html#a192dcaf5d96235356ae59ae418b125fe">ToonzExt::cornersDetector</a></div><div class="ttdeci">DVAPI bool cornersDetector(const TStroke *stroke, int minDegree, std::vector&lt; double &gt; &amp;corners)</div><div class="ttdoc">Enhanced version of Toonz detect corners.</div><div class="ttdef"><b>Definition:</b> ExtUtil.cpp:1025</div></div>
<div class="ttc" id="anamespace_toonz_ext_html_af0f90ec10aea6fde591103d3611b638b"><div class="ttname"><a href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a></div><div class="ttdeci">std::pair&lt; double, double &gt; Interval</div><div class="ttdoc">An useful alias for a pair of double.</div><div class="ttdef"><b>Definition:</b> Types.h:41</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d0c60df65b9f34e2068f78463502478" name="a6d0c60df65b9f34e2068f78463502478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d0c60df65b9f34e2068f78463502478">&#9670;&nbsp;</a></span>detectStraightIntervals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::detectStraightIntervals </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>stroke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> &amp;&#160;</td>
          <td class="paramname"><em>intervals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em> = <code>TConsts::epsilon</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find intervals where stroke is a straight line. </p>
<p >These intervals are stored in an <code>vector</code> od Interval. </p>
<div class="fragment"><div class="line"><span class="lineno">  648</span>                                                               {</div>
<div class="line"><span class="lineno">  649</span>  <span class="keywordflow">if</span> (!ToonzExt::isValid(stroke)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>  assert(tolerance &gt; 0.0 &amp;&amp; tolerance &lt; 1.0 &amp;&amp;</div>
<div class="line"><span class="lineno">  652</span>         <span class="stringliteral">&quot;Strange tolerance are you sure???&quot;</span>);</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>  intervals.clear();</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>  <span class="comment">// first step:</span></div>
<div class="line"><span class="lineno">  657</span>  <span class="comment">//  store information about chunk and straight interval</span></div>
<div class="line"><span class="lineno">  658</span>  <span class="keyword">typedef</span> std::pair&lt;const TThickQuadratic *, ToonzExt::Intervals&gt;</div>
<div class="line"><span class="lineno">  659</span>      ChunkStraights;</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>  std::map&lt;int, ChunkStraights&gt; arrayOfChunkIntervals;</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>  <span class="keywordtype">int</span> chunkCount = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a81b63663a798724333d8de692fdbcac0">getChunkCount</a>();</div>
<div class="line"><span class="lineno">  664</span>  <span class="keywordtype">int</span> counter    = 0;</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; chunkCount; ++i) {</div>
<div class="line"><span class="lineno">  667</span>    <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> values;</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_thick_quadratic.html">TThickQuadratic</a> *chunk = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a06b18ffed330411aad73ef1748a3f263">getChunk</a>(i);</div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_function" href="class_t_quadratic.html#ac1db69c69cbf52b1becf396cc8006ca1">getLength</a>() == 0.0) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordtype">int</span> howMany = detectStraightIntervals_(chunk, values, tolerance);</div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordflow">if</span> (howMany &gt; 0) {</div>
<div class="line"><span class="lineno">  673</span>      arrayOfChunkIntervals[counter] = ChunkStraights(chunk, values);</div>
<div class="line"><span class="lineno">  674</span>    }</div>
<div class="line"><span class="lineno">  675</span>    ++counter;</div>
<div class="line"><span class="lineno">  676</span>  }</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>  <span class="comment">// second step:</span></div>
<div class="line"><span class="lineno">  679</span>  <span class="comment">//  add intervals vs stroke</span></div>
<div class="line"><span class="lineno">  680</span>  std::map&lt;int, ChunkStraights&gt;::iterator it = arrayOfChunkIntervals.begin(),</div>
<div class="line"><span class="lineno">  681</span>                                          end = arrayOfChunkIntervals.end(),</div>
<div class="line"><span class="lineno">  682</span>                                          aux;</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>  <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a> myRange = <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a>(-1, -1);</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>  <span class="keywordflow">for</span> (; it != end; ++it) {</div>
<div class="line"><span class="lineno">  687</span>    aux = it;</div>
<div class="line"><span class="lineno">  688</span>    std::advance(aux, 1);</div>
<div class="line"><span class="lineno">  689</span>    ChunkStraights &amp;cs1 = it-&gt;second;</div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">if</span> (aux != end) {</div>
<div class="line"><span class="lineno">  691</span>      ChunkStraights &amp;cs2 = aux-&gt;second;</div>
<div class="line"><span class="lineno">  692</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> i1 = it-&gt;first, i2 = aux-&gt;first;</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>      <span class="comment">// if chunk are a sequence</span></div>
<div class="line"><span class="lineno">  695</span>      <span class="keywordflow">if</span> ((i1 + 1 == i2) &amp;&amp; !corner(cs1.first, cs2.first, tolerance)) {</div>
<div class="line"><span class="lineno">  696</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> &amp;cs1Intervals = cs1.second;</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> size = cs1Intervals.size();</div>
<div class="line"><span class="lineno">  699</span>        <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  700</span>        <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a> tmp;</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">for</span> (i = 0; i &lt; size; ++i) {</div>
<div class="line"><span class="lineno">  703</span>          tmp = cs1Intervals[i];</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>          <span class="keywordflow">if</span> (tmp.second == 1.0) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>          <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a> stroke_interval;</div>
<div class="line"><span class="lineno">  708</span>          <span class="keywordflow">if</span> (mapIntervalInStroke(stroke, cs1.first, tmp, stroke_interval))</div>
<div class="line"><span class="lineno">  709</span>            intervals.push_back(stroke_interval);</div>
<div class="line"><span class="lineno">  710</span>        }</div>
<div class="line"><span class="lineno">  711</span>        <span class="comment">// assert( i == size-1 );</span></div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>        <span class="keywordflow">if</span> (myRange.first == -1) {</div>
<div class="line"><span class="lineno">  714</span>          <span class="keywordflow">if</span> (!mapValueInStroke(stroke, cs1.first, tmp.first, myRange.first))</div>
<div class="line"><span class="lineno">  715</span>            assert(!<span class="stringliteral">&quot;Ops problemone!!!&quot;</span>);</div>
<div class="line"><span class="lineno">  716</span>          <span class="comment">// remove value added to merge</span></div>
<div class="line"><span class="lineno">  717</span>          <span class="comment">//  adjacent straight interval</span></div>
<div class="line"><span class="lineno">  718</span>          cs1.second.pop_back();</div>
<div class="line"><span class="lineno">  719</span>        }</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>        tmp = cs2.second.front();</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>        <span class="keywordflow">if</span> (!mapValueInStroke(stroke, cs2.first, tmp.second, myRange.second))</div>
<div class="line"><span class="lineno">  724</span>          assert(!<span class="stringliteral">&quot;Ops problemone!!!&quot;</span>);</div>
<div class="line"><span class="lineno">  725</span>        cs2.second.erase(cs2.second.begin());</div>
<div class="line"><span class="lineno">  726</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  727</span>        <span class="keywordflow">if</span> (myRange.first != -1 &amp;&amp; myRange.second != -1) {</div>
<div class="line"><span class="lineno">  728</span>          intervals.push_back(myRange);</div>
<div class="line"><span class="lineno">  729</span>          myRange = <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a>(-1, -1);</div>
<div class="line"><span class="lineno">  730</span>        }</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>        <span class="comment">// add remaining interval of current stroke</span></div>
<div class="line"><span class="lineno">  733</span>        addQuadraticIntervalInStroke(stroke, intervals, cs1.first, cs1.second);</div>
<div class="line"><span class="lineno">  734</span>      }</div>
<div class="line"><span class="lineno">  735</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  736</span>      <span class="keywordflow">if</span> (myRange.first != -1 &amp;&amp; myRange.second != -1) {</div>
<div class="line"><span class="lineno">  737</span>        intervals.push_back(myRange);</div>
<div class="line"><span class="lineno">  738</span>        myRange = <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a>(-1, -1);</div>
<div class="line"><span class="lineno">  739</span>      }</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>      <span class="comment">// add remaining interval of current stroke</span></div>
<div class="line"><span class="lineno">  742</span>      addQuadraticIntervalInStroke(stroke, intervals, cs1.first, cs1.second);</div>
<div class="line"><span class="lineno">  743</span>    }</div>
<div class="line"><span class="lineno">  744</span>  }</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>  <span class="keywordflow">if</span> (stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a3565d6c34d3eb02fb1a6993ca626425c">isSelfLoop</a>()) {</div>
<div class="line"><span class="lineno">  747</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> v0 = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#aacd3df1526449eb47659de8ea4c16039">getSpeed</a>(0.0), vn = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#aacd3df1526449eb47659de8ea4c16039">getSpeed</a>(1.0);</div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span>    <span class="keywordflow">if</span> (areParallel(v0, vn) &amp;&amp; areInSameDirection(v0, vn) &amp;&amp;</div>
<div class="line"><span class="lineno">  750</span>        intervals.size() &gt; 1) {</div>
<div class="line"><span class="lineno">  751</span>      <span class="comment">// then first interval probably can be merged</span></div>
<div class="line"><span class="lineno">  752</span>      <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a> first = intervals.front(), last = intervals.back();</div>
<div class="line"><span class="lineno">  753</span>      <span class="keywordflow">if</span> (first.first == 0.0 &amp;&amp; last.second == 0.0) {</div>
<div class="line"><span class="lineno">  754</span>        intervals.pop_back();</div>
<div class="line"><span class="lineno">  755</span>        first.first  = last.first;</div>
<div class="line"><span class="lineno">  756</span>        intervals[0] = first;</div>
<div class="line"><span class="lineno">  757</span>      }</div>
<div class="line"><span class="lineno">  758</span>    }</div>
<div class="line"><span class="lineno">  759</span>  }</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>  <span class="keywordflow">return</span> !intervals.empty();</div>
<div class="line"><span class="lineno">  762</span>}</div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_stroke_html_aacd3df1526449eb47659de8ea4c16039"><div class="ttname"><a href="class_t_stroke.html#aacd3df1526449eb47659de8ea4c16039">TStroke::getSpeed</a></div><div class="ttdeci">TPointD getSpeed(double w, bool outSpeed=false) const</div><div class="ttdoc">Get speed at parameter w.</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:2123</div></div>
<div class="ttc" id="anamespace_toonz_ext_html_af0282c012222b6b15e80f8f02685a935"><div class="ttname"><a href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a></div><div class="ttdeci">std::vector&lt; Interval &gt; Intervals</div><div class="ttdoc">List of intervals.</div><div class="ttdef"><b>Definition:</b> Types.h:50</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a06d3af5a612c292a3eea837696e52b7e" name="a06d3af5a612c292a3eea837696e52b7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d3af5a612c292a3eea837696e52b7e">&#9670;&nbsp;</a></span>findCorners()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI void ToonzExt::findCorners </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>stroke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> &amp;&#160;</td>
          <td class="paramname"><em>corners</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> &amp;&#160;</td>
          <td class="paramname"><em>intervals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve corners of a <a class="el" href="class_t_stroke.html">TStroke</a>. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1263</span>                                                   {</div>
<div class="line"><span class="lineno"> 1264</span>  assert(stroke &amp;&amp; <span class="stringliteral">&quot;Stroke is null!!!&quot;</span>);</div>
<div class="line"><span class="lineno"> 1265</span>  <span class="keywordflow">if</span> (!ToonzExt::isValid(stroke)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1266</span> </div>
<div class="line"><span class="lineno"> 1267</span>  angle = normalizeAngle(angle);</div>
<div class="line"><span class="lineno"> 1268</span> </div>
<div class="line"><span class="lineno"> 1269</span>  <a class="code hl_function" href="namespace_toonz_ext.html#adc55f31b9acafe1321c64777ba6c38c1">ToonzExt::detectSpireIntervals</a>(stroke, corners, angle);</div>
<div class="line"><span class="lineno"> 1270</span> </div>
<div class="line"><span class="lineno"> 1271</span>  <span class="comment">// a corner SPIRE is also a STRAIGHT</span></div>
<div class="line"><span class="lineno"> 1272</span>  <a class="code hl_function" href="namespace_toonz_ext.html#a6d0c60df65b9f34e2068f78463502478">ToonzExt::detectStraightIntervals</a>(stroke, intervals, tolerance);</div>
<div class="line"><span class="lineno"> 1273</span>}</div>
<div class="ttc" id="anamespace_toonz_ext_html_a6d0c60df65b9f34e2068f78463502478"><div class="ttname"><a href="namespace_toonz_ext.html#a6d0c60df65b9f34e2068f78463502478">ToonzExt::detectStraightIntervals</a></div><div class="ttdeci">DVAPI bool detectStraightIntervals(const TStroke *stroke, ToonzExt::Intervals &amp;intervals, double tolerance=TConsts::epsilon)</div><div class="ttdoc">Find intervals where stroke is a straight line.</div><div class="ttdef"><b>Definition:</b> ExtUtil.cpp:646</div></div>
<div class="ttc" id="anamespace_toonz_ext_html_adc55f31b9acafe1321c64777ba6c38c1"><div class="ttname"><a href="namespace_toonz_ext.html#adc55f31b9acafe1321c64777ba6c38c1">ToonzExt::detectSpireIntervals</a></div><div class="ttdeci">DVAPI bool detectSpireIntervals(const TStroke *stroke, ToonzExt::Intervals &amp;intervals, int minDegree)</div><div class="ttdoc">Find intervals where stroke has limited from spire.</div><div class="ttdef"><b>Definition:</b> ExtUtil.cpp:766</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ed9bd9d0e778530a6002d29f9f31b80" name="a8ed9bd9d0e778530a6002d29f9f31b80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ed9bd9d0e778530a6002d29f9f31b80">&#9670;&nbsp;</a></span>findNearestCorners()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::findNearestCorners </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>stroke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a> &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">Intervals</a> &amp;&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em> = <code>TConsts::epsilon</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve corners of a <a class="el" href="class_t_stroke.html">TStroke</a>. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1205</span>                                                          {</div>
<div class="line"><span class="lineno"> 1206</span>  out = <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a>(-1.0, -1.0);</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>  <span class="keywordflow">if</span> (!ToonzExt::isValid(stroke) || !ToonzExt::isValid(w) || values.empty())</div>
<div class="line"><span class="lineno"> 1209</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>  <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a> prev = values[0], curr = prev;</div>
<div class="line"><span class="lineno"> 1212</span> </div>
<div class="line"><span class="lineno"> 1213</span>  <span class="keywordflow">if</span> (!stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a3565d6c34d3eb02fb1a6993ca626425c">isSelfLoop</a>() &amp;&amp; areAlmostEqual(w, prev.first, tolerance)) {</div>
<div class="line"><span class="lineno"> 1214</span>    out = prev;</div>
<div class="line"><span class="lineno"> 1215</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1216</span>  }</div>
<div class="line"><span class="lineno"> 1217</span> </div>
<div class="line"><span class="lineno"> 1218</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size = values.size();</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= size; ++i) {</div>
<div class="line"><span class="lineno"> 1221</span>    <span class="keywordflow">if</span> (i &lt; size)</div>
<div class="line"><span class="lineno"> 1222</span>      curr = values[i];</div>
<div class="line"><span class="lineno"> 1223</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1224</span>      curr = values[0];</div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>    <span class="comment">// this case, w is an extreme and needs to be considered</span></div>
<div class="line"><span class="lineno"> 1227</span>    <span class="comment">//  the nearest external interval</span></div>
<div class="line"><span class="lineno"> 1228</span>    <span class="keywordflow">if</span> (areAlmostEqual(w, curr.first, tolerance) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1229</span>        (prev.second == curr.first)) {</div>
<div class="line"><span class="lineno"> 1230</span>      <span class="keywordflow">if</span> (isWGood(prev.first, w, curr.second, stroke) ||</div>
<div class="line"><span class="lineno"> 1231</span>          (prev.first == curr.second)) {</div>
<div class="line"><span class="lineno"> 1232</span>        out.first  = prev.first;</div>
<div class="line"><span class="lineno"> 1233</span>        out.second = curr.second;</div>
<div class="line"><span class="lineno"> 1234</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1235</span>      }</div>
<div class="line"><span class="lineno"> 1236</span>    }</div>
<div class="line"><span class="lineno"> 1237</span> </div>
<div class="line"><span class="lineno"> 1238</span>    <span class="comment">// normal case</span></div>
<div class="line"><span class="lineno"> 1239</span>    <span class="keywordflow">if</span> (isWGood(curr.first, w, curr.second, stroke)) {</div>
<div class="line"><span class="lineno"> 1240</span>      out = curr;</div>
<div class="line"><span class="lineno"> 1241</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1242</span>    }</div>
<div class="line"><span class="lineno"> 1243</span> </div>
<div class="line"><span class="lineno"> 1244</span>    prev = curr;</div>
<div class="line"><span class="lineno"> 1245</span>  }</div>
<div class="line"><span class="lineno"> 1246</span> </div>
<div class="line"><span class="lineno"> 1247</span>  curr = values.back();</div>
<div class="line"><span class="lineno"> 1248</span> </div>
<div class="line"><span class="lineno"> 1249</span>  <span class="comment">// last point</span></div>
<div class="line"><span class="lineno"> 1250</span>  <span class="keywordflow">if</span> (!stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a3565d6c34d3eb02fb1a6993ca626425c">isSelfLoop</a>() &amp;&amp; areAlmostEqual(curr.second, w, tolerance)) {</div>
<div class="line"><span class="lineno"> 1251</span>    out = curr;</div>
<div class="line"><span class="lineno"> 1252</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1253</span>  }</div>
<div class="line"><span class="lineno"> 1254</span> </div>
<div class="line"><span class="lineno"> 1255</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1256</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af9eab69f85f85841b9bf44c85ac86765" name="af9eab69f85f85841b9bf44c85ac86765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9eab69f85f85841b9bf44c85ac86765">&#9670;&nbsp;</a></span>findNearestSpireCorners()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::findNearestSpireCorners </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>actualW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a> &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cornerSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *const&#160;</td>
          <td class="paramname"><em>cl</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em> = <code>TConsts::epsilon</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve parameters for corners near actualW parameter. </p>
<div class="fragment"><div class="line"><span class="lineno">  600</span>                                                         {</div>
<div class="line"><span class="lineno">  601</span>  <span class="keywordflow">if</span> (!ToonzExt::isValid(stroke) || !ToonzExt::isValid(w)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *values = cl;</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>  <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> tmpValues;</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>  <span class="keywordflow">if</span> (!cl) {</div>
<div class="line"><span class="lineno">  608</span>    cornerSize = normalizeAngle(cornerSize);</div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespace_toonz_ext.html#adc55f31b9acafe1321c64777ba6c38c1">ToonzExt::detectSpireIntervals</a>(stroke, tmpValues, cornerSize))</div>
<div class="line"><span class="lineno">  610</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  611</span>    values = &amp;tmpValues;</div>
<div class="line"><span class="lineno">  612</span>  }</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>  <span class="keywordflow">if</span> (!values || values-&gt;empty()) {</div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  616</span>  }</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespace_toonz_ext.html#a8ed9bd9d0e778530a6002d29f9f31b80">findNearestCorners</a>(stroke, w, out, *values, tolerance);</div>
<div class="line"><span class="lineno">  619</span>}</div>
<div class="ttc" id="anamespace_toonz_ext_html_a8ed9bd9d0e778530a6002d29f9f31b80"><div class="ttname"><a href="namespace_toonz_ext.html#a8ed9bd9d0e778530a6002d29f9f31b80">ToonzExt::findNearestCorners</a></div><div class="ttdeci">DVAPI bool findNearestCorners(const TStroke *stroke, double w, Interval &amp;out, const Intervals &amp;values, double tolerance=TConsts::epsilon)</div><div class="ttdoc">Retrieve corners of a TStroke.</div><div class="ttdef"><b>Definition:</b> ExtUtil.cpp:1202</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00052">ToonzExt::CornerDeformation::findExtremes_()</a>, <a class="el" href="#l00063">ToonzExt::SmoothDeformation::findExtremes_()</a>, and <a class="el" href="#l00044">ToonzExt::StraightCornerDeformation::findExtremes_()</a>.</p>

</div>
</div>
<a id="a518f83ed246c63667f0185124cf724c5" name="a518f83ed246c63667f0185124cf724c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a518f83ed246c63667f0185124cf724c5">&#9670;&nbsp;</a></span>findNearestStraightCorners()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::findNearestStraightCorners </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>actualW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a> &amp;&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *const&#160;</td>
          <td class="paramname"><em>cl</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em> = <code>TConsts::epsilon</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve parameters for straight intervals near actualW parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>If not found return [-1,-1] interval, else the correct interval. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  836</span>                                                         {</div>
<div class="line"><span class="lineno">  837</span>  <span class="keywordflow">if</span> (!stroke || w &lt; 0.0 || w &gt; 1.0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *values = cl;</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>  <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> tmpValues;</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>  <span class="keywordflow">if</span> (!cl) {</div>
<div class="line"><span class="lineno">  844</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespace_toonz_ext.html#a6d0c60df65b9f34e2068f78463502478">ToonzExt::detectStraightIntervals</a>(stroke, tmpValues, tolerance))</div>
<div class="line"><span class="lineno">  845</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  846</span>    values = &amp;tmpValues;</div>
<div class="line"><span class="lineno">  847</span>  }</div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>  <span class="keywordflow">if</span> (!values || values-&gt;empty()) {</div>
<div class="line"><span class="lineno">  850</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  851</span>  }</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="namespace_toonz_ext.html#a8ed9bd9d0e778530a6002d29f9f31b80">findNearestCorners</a>(stroke, w, out, *values, tolerance);</div>
<div class="line"><span class="lineno">  854</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00069">ToonzExt::StraightCornerDeformation::check_()</a>, and <a class="el" href="#l00044">ToonzExt::StraightCornerDeformation::findExtremes_()</a>.</p>

</div>
</div>
<a id="af2d6f6c363d628eb19659c38fde2c024" name="af2d6f6c363d628eb19659c38fde2c024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d6f6c363d628eb19659c38fde2c024">&#9670;&nbsp;</a></span>getAllW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::getAllW </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>stroke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>pnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>dist2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Retrieve all parameters where stroke has a minimum. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1158</span>                                                                           {</div>
<div class="line"><span class="lineno"> 1159</span>  assert(!<span class="stringliteral">&quot;To be finished!!!&quot;</span>);</div>
<div class="line"><span class="lineno"> 1160</span>  std::set&lt;double&gt; tmp;</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>  assert(stroke);</div>
<div class="line"><span class="lineno"> 1163</span>  <span class="keywordflow">if</span> (ToonzExt::isValid(stroke)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1164</span> </div>
<div class="line"><span class="lineno"> 1165</span>  <span class="keywordtype">double</span> outT, w;</div>
<div class="line"><span class="lineno"> 1166</span> </div>
<div class="line"><span class="lineno"> 1167</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_thick_quadratic.html">TThickQuadratic</a> *tq = 0;</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>  <span class="keywordtype">int</span> chunkFound = -1;</div>
<div class="line"><span class="lineno"> 1170</span> </div>
<div class="line"><span class="lineno"> 1171</span>  <span class="keywordtype">double</span> distance2;</div>
<div class="line"><span class="lineno"> 1172</span> </div>
<div class="line"><span class="lineno"> 1173</span>  <span class="keywordflow">if</span> (stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a8ac9fd8cf067561e4f75eb706e70bf71">getNearestChunk</a>(pnt, outT, chunkFound, distance2, <span class="keyword">false</span>)) {</div>
<div class="line"><span class="lineno"> 1174</span>    dist2 = distance2;</div>
<div class="line"><span class="lineno"> 1175</span>    tq    = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a06b18ffed330411aad73ef1748a3f263">getChunk</a>(chunkFound);</div>
<div class="line"><span class="lineno"> 1176</span>    <span class="keywordflow">if</span> (tq) {</div>
<div class="line"><span class="lineno"> 1177</span>      w = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a38326dc317f9ff3828940996f41376a6">getW</a>(tq-&gt;<a class="code hl_function" href="class_t_quadratic.html#a3c2903b06b6ee0c7ae16e5528a10f24a">getPoint</a>(outT));</div>
<div class="line"><span class="lineno"> 1178</span>      <span class="keywordflow">if</span> (ToonzExt::isValid(w)) tmp.insert(w);</div>
<div class="line"><span class="lineno"> 1179</span>    }</div>
<div class="line"><span class="lineno"> 1180</span>  }</div>
<div class="line"><span class="lineno"> 1181</span> </div>
<div class="line"><span class="lineno"> 1182</span>  <span class="keywordtype">int</span> i, chunkCount = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a81b63663a798724333d8de692fdbcac0">getChunkCount</a>();</div>
<div class="line"><span class="lineno"> 1183</span> </div>
<div class="line"><span class="lineno"> 1184</span>  <span class="keywordflow">for</span> (i = 0; i &lt; chunkCount; i++) {</div>
<div class="line"><span class="lineno"> 1185</span>    <span class="keywordflow">if</span> (i != chunkFound) {</div>
<div class="line"><span class="lineno"> 1186</span>      tq              = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a06b18ffed330411aad73ef1748a3f263">getChunk</a>(i);</div>
<div class="line"><span class="lineno"> 1187</span>      <a class="code hl_class" href="class_t_point_t.html">TPointD</a> tmp_pnt = tq-&gt;<a class="code hl_function" href="class_t_quadratic.html#a3c2903b06b6ee0c7ae16e5528a10f24a">getPoint</a>(tq-&gt;<a class="code hl_function" href="class_t_quadratic.html#ac0a935d30e22e5be4639979a28aa1c99">getT</a>(pnt));</div>
<div class="line"><span class="lineno"> 1188</span>      <span class="keywordflow">if</span> (areAlmostEqual(<a class="code hl_function" href="class_t_point_t.html#a0874a05e48fdb75f98ed039fb1645b26">tdistance2</a>(tmp_pnt, pnt), dist2)) {</div>
<div class="line"><span class="lineno"> 1189</span>        w = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a38326dc317f9ff3828940996f41376a6">getW</a>(tmp_pnt);</div>
<div class="line"><span class="lineno"> 1190</span>        <span class="keywordflow">if</span> (ToonzExt::isValid(w)) tmp.insert(w);</div>
<div class="line"><span class="lineno"> 1191</span>      }</div>
<div class="line"><span class="lineno"> 1192</span>    }</div>
<div class="line"><span class="lineno"> 1193</span>  }</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>  std::copy(tmp.begin(), tmp.end(), std::back_inserter(parameters));</div>
<div class="line"><span class="lineno"> 1196</span> </div>
<div class="line"><span class="lineno"> 1197</span>  <span class="keywordflow">return</span> !tmp.empty();</div>
<div class="line"><span class="lineno"> 1198</span>}</div>
<div class="ttc" id="aclass_t_point_t_html_a0874a05e48fdb75f98ed039fb1645b26"><div class="ttname"><a href="class_t_point_t.html#a0874a05e48fdb75f98ed039fb1645b26">TPointT::tdistance2</a></div><div class="ttdeci">double tdistance2(const TPointD &amp;p1, const TPointD &amp;p2)</div><div class="ttdef"><b>Definition:</b> tgeometry.h:186</div></div>
<div class="ttc" id="aclass_t_quadratic_html_a3c2903b06b6ee0c7ae16e5528a10f24a"><div class="ttname"><a href="class_t_quadratic.html#a3c2903b06b6ee0c7ae16e5528a10f24a">TQuadratic::getPoint</a></div><div class="ttdeci">TPointD getPoint(double t) const</div><div class="ttdoc">Return the point of quadratic at parameter t.</div><div class="ttdef"><b>Definition:</b> tcurves.cpp:40</div></div>
<div class="ttc" id="aclass_t_quadratic_html_ac0a935d30e22e5be4639979a28aa1c99"><div class="ttname"><a href="class_t_quadratic.html#ac0a935d30e22e5be4639979a28aa1c99">TQuadratic::getT</a></div><div class="ttdeci">double getT(const TPointD &amp;p) const</div><div class="ttdoc">Return a parameter that correspond to the point p in the quadratic.</div><div class="ttdef"><b>Definition:</b> tcurves.cpp:59</div></div>
<div class="ttc" id="aclass_t_stroke_html_a8ac9fd8cf067561e4f75eb706e70bf71"><div class="ttname"><a href="class_t_stroke.html#a8ac9fd8cf067561e4f75eb706e70bf71">TStroke::getNearestChunk</a></div><div class="ttdeci">bool getNearestChunk(const TPointD &amp;p, double &amp;outT, int &amp;chunkIndex, double &amp;distance2, bool checkBBox=true) const</div><div class="ttdoc">computes outlines (only if it's needed). call it before drawing.</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:1275</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc16bc4239c1a2cb1e5b5fcb3ab68240" name="adc16bc4239c1a2cb1e5b5fcb3ab68240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc16bc4239c1a2cb1e5b5fcb3ab68240">&#9670;&nbsp;</a></span>isASpireCorner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::isASpireCorner </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cornerSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *const&#160;</td>
          <td class="paramname"><em>cl</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em> = <code>TConsts::epsilon</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  625</span>                                                      {</div>
<div class="line"><span class="lineno">  626</span>  <span class="keywordflow">if</span> (!ToonzExt::isValid(s) || !ToonzExt::isValid(w)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>  <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> tmpValues;</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *values = cl;</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>  <span class="keywordflow">if</span> (!cl) {</div>
<div class="line"><span class="lineno">  633</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespace_toonz_ext.html#adc55f31b9acafe1321c64777ba6c38c1">ToonzExt::detectSpireIntervals</a>(s, tmpValues, cornerSize)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  634</span>    values = &amp;tmpValues;</div>
<div class="line"><span class="lineno">  635</span>  }</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>  <span class="keywordflow">if</span> (!values || values-&gt;empty()) {</div>
<div class="line"><span class="lineno">  638</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  639</span>  }</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>  <span class="keywordflow">return</span> isCorner(*values, w, tolerance);</div>
<div class="line"><span class="lineno">  642</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa06bd1db88289e43f6daf6089c2648f8" name="aa06bd1db88289e43f6daf6089c2648f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa06bd1db88289e43f6daf6089c2648f8">&#9670;&nbsp;</a></span>isAStraightCorner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::isAStraightCorner </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>actualW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *const&#160;</td>
          <td class="paramname"><em>cl</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tolerance</em> = <code>TConsts::epsilon</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  812</span>                                                         {</div>
<div class="line"><span class="lineno">  813</span>  <span class="keywordflow">if</span> (!ToonzExt::isValid(stroke) || !ToonzExt::isValid(w)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>  <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> tmpValues;</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> *values = cl;</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>  <span class="keywordflow">if</span> (!cl) {</div>
<div class="line"><span class="lineno">  820</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespace_toonz_ext.html#a6d0c60df65b9f34e2068f78463502478">ToonzExt::detectStraightIntervals</a>(stroke, tmpValues, tolerance))</div>
<div class="line"><span class="lineno">  821</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  822</span>    values = &amp;tmpValues;</div>
<div class="line"><span class="lineno">  823</span>  }</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>  <span class="keywordflow">if</span> (!values || values-&gt;empty()) {</div>
<div class="line"><span class="lineno">  826</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  827</span>  }</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>  <span class="keywordflow">return</span> isCorner(*values, w, tolerance);</div>
<div class="line"><span class="lineno">  830</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab724837729ae24410cef394ea16ac0e0" name="ab724837729ae24410cef394ea16ac0e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab724837729ae24410cef394ea16ac0e0">&#9670;&nbsp;</a></span>isValid() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzExt::isValid </td>
          <td>(</td>
          <td class="paramtype">const T *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  137</span>                                {</div>
<div class="line"><span class="lineno">  138</span>  assert(0 != s);</div>
<div class="line"><span class="lineno">  139</span>  <span class="keywordflow">if</span> (!s) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  140</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  141</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a244deb082112d1d68c1568d4d959e0ad" name="a244deb082112d1d68c1568d4d959e0ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a244deb082112d1d68c1568d4d959e0ad">&#9670;&nbsp;</a></span>isValid() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ToonzExt::isValid </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  145</span>                              {</div>
<div class="line"><span class="lineno">  146</span>  assert(0.0 &lt;= w &amp;&amp; w &lt;= 1.0);</div>
<div class="line"><span class="lineno">  147</span>  <span class="keywordflow">if</span> (w &lt; 0.0 || w &gt; 1.0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  148</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  149</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aee3e67cb066977ee0e6269f30afaeee0" name="aee3e67cb066977ee0e6269f30afaeee0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee3e67cb066977ee0e6269f30afaeee0">&#9670;&nbsp;</a></span>operator&lt;&lt;()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; ToonzExt::operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">Interval</a> &amp;&#160;</td>
          <td class="paramname"><em>interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   43</span>                                                                        {</div>
<div class="line"><span class="lineno">   44</span>  <span class="keywordflow">return</span> os &lt;&lt; <span class="charliteral">&#39;[&#39;</span> &lt;&lt; interval.first &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; interval.second &lt;&lt; <span class="charliteral">&#39;]&#39;</span>;</div>
<div class="line"><span class="lineno">   45</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a68a0d750cd9ea968b349828ed2eacfa9" name="a68a0d750cd9ea968b349828ed2eacfa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a0d750cd9ea968b349828ed2eacfa9">&#9670;&nbsp;</a></span>replaceStroke()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::replaceStroke </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>old_stroke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>new_stroke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>n_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_vector_image_p.html">TVectorImageP</a> &amp;&#160;</td>
          <td class="paramname"><em>vi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace a stroke in a vector image. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1132</span>                                                                       {</div>
<div class="line"><span class="lineno"> 1133</span>  <span class="keywordflow">if</span> (!ToonzExt::isValid(old_stroke) || !ToonzExt::isValid(new_stroke) || !vi)</div>
<div class="line"><span class="lineno"> 1134</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1135</span> </div>
<div class="line"><span class="lineno"> 1136</span>  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> strokesCount = vi-&gt;getStrokeCount();</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>  assert(n_ &lt;= strokesCount);</div>
<div class="line"><span class="lineno"> 1139</span>  <span class="keywordflow">if</span> (n_ &gt; strokesCount) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>  assert(vi-&gt;getStroke(n_) == old_stroke);</div>
<div class="line"><span class="lineno"> 1142</span>  <span class="keywordflow">if</span> (vi-&gt;getStroke(n_) != old_stroke) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span>  <span class="comment">// stroke is replaced (old stroke is deleted)</span></div>
<div class="line"><span class="lineno"> 1145</span>  <span class="comment">// in vector image</span></div>
<div class="line"><span class="lineno"> 1146</span>  vi-&gt;replaceStroke(n_, new_stroke);</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>  <span class="keywordtype">int</span> new_id = getStrokeId(new_stroke, vi);</div>
<div class="line"><span class="lineno"> 1149</span>  <span class="keywordflow">if</span> (new_id == -1) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1150</span> </div>
<div class="line"><span class="lineno"> 1151</span>  n_ = new_id;</div>
<div class="line"><span class="lineno"> 1152</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1153</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afc2e773c11a739935be9804745e2cd49" name="afc2e773c11a739935be9804745e2cd49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc2e773c11a739935be9804745e2cd49">&#9670;&nbsp;</a></span>rotateControlPoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_stroke.html">TStroke</a> * ToonzExt::rotateControlPoint </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>stroke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_toonz_ext_1_1_even_int.html">ToonzExt::EvenInt</a> &amp;&#160;</td>
          <td class="paramname"><em>even</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>atLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotate the control point at even position [0,2,4,...] in a new position along the close path of a selfLoop stroke. </p>
<p >The new position is: <b>atLength</b>. </p><dl class="section return"><dt>Returns</dt><dd>0 if some problem occurs, else the new stroke. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Some refactoring required, code duplication. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  860</span>                                                       {</div>
<div class="line"><span class="lineno">  861</span>  <span class="keywordflow">if</span> (!stroke || !stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a3565d6c34d3eb02fb1a6993ca626425c">isSelfLoop</a>() || !evenControlPoint.isEven()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  862</span><span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><span class="lineno">  863</span>  <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> tp1 = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a9b60f87075b703360efe4b38097d923f">getControlPoint</a>(0);</div>
<div class="line"><span class="lineno">  864</span>  <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> tp2 = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a9b60f87075b703360efe4b38097d923f">getControlPoint</a>(stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a45101afd31e40d08100fdf23c89fb49e">getControlPointCount</a>() - 1);</div>
<div class="line"><span class="lineno">  865</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  866</span>  <span class="keywordtype">int</span> controlPoint = (int)evenControlPoint;</div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>  <span class="keyword">const</span> <span class="keywordtype">double</span> length = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a079a513cb8a60d9a759b4f0c8211eab4">getLength</a>();</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>  <span class="comment">// invalid length</span></div>
<div class="line"><span class="lineno">  871</span>  <span class="keywordflow">if</span> (0.0 &gt; atLength || atLength &gt; length) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  872</span> </div>
<div class="line"><span class="lineno">  873</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> cpCountAtBegin = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a45101afd31e40d08100fdf23c89fb49e">getControlPointCount</a>();</div>
<div class="line"><span class="lineno">  874</span>  <span class="comment">// invalid control point</span></div>
<div class="line"><span class="lineno">  875</span>  <span class="keywordflow">if</span> (0 &gt; controlPoint || controlPoint &gt; cpCountAtBegin) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span>  <span class="comment">// identity</span></div>
<div class="line"><span class="lineno">  878</span>  <span class="keywordflow">if</span> ((controlPoint == 0 || controlPoint == (cpCountAtBegin - 1)) &amp;&amp;</div>
<div class="line"><span class="lineno">  879</span>      (areAlmostEqual(atLength, length) || isAlmostZero(atLength)))</div>
<div class="line"><span class="lineno">  880</span>    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code hl_struct" href="class_t_stroke.html">TStroke</a>(*stroke);</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span>  <a class="code hl_struct" href="class_t_stroke.html">TStroke</a> tmpStroke(*stroke);</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>  std::vector&lt;TThickPoint&gt; cp;</div>
<div class="line"><span class="lineno">  885</span>  {</div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordtype">int</span> count = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a45101afd31e40d08100fdf23c89fb49e">getControlPointCount</a>();</div>
<div class="line"><span class="lineno">  887</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i) {</div>
<div class="line"><span class="lineno">  888</span>      cp.push_back(stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a9b60f87075b703360efe4b38097d923f">getControlPoint</a>(i));</div>
<div class="line"><span class="lineno">  889</span>    }</div>
<div class="line"><span class="lineno">  890</span>  }</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>  <span class="comment">// add a control point where is necessary to have rotation (head_queue cp)</span></div>
<div class="line"><span class="lineno">  893</span>  tmpStroke.insertControlPointsAtLength(atLength);</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span><span class="preprocessor">#ifdef _DEBUG</span></div>
<div class="line"><span class="lineno">  896</span>  {</div>
<div class="line"><span class="lineno">  897</span>    <span class="keywordtype">int</span> count  = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a45101afd31e40d08100fdf23c89fb49e">getControlPointCount</a>(),</div>
<div class="line"><span class="lineno">  898</span>        count2 = tmpStroke.getControlPointCount();</div>
<div class="line"><span class="lineno">  899</span>    <span class="keywordtype">int</span> i, firstDifference = -1;</div>
<div class="line"><span class="lineno">  900</span>    <span class="keywordflow">for</span> (i = 0; i &lt; count; ++i) {</div>
<div class="line"><span class="lineno">  901</span>      <span class="keywordflow">if</span> ((tp1 = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a9b60f87075b703360efe4b38097d923f">getControlPoint</a>(i)) !=</div>
<div class="line"><span class="lineno">  902</span>          (tp2 = tmpStroke.getControlPoint(i))) {</div>
<div class="line"><span class="lineno">  903</span>        firstDifference = i;</div>
<div class="line"><span class="lineno">  904</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  905</span>      }</div>
<div class="line"><span class="lineno">  906</span>    }</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span>    <span class="keywordflow">for</span> (i = 0; i &lt; count; ++i) {</div>
<div class="line"><span class="lineno">  909</span>      <span class="keywordflow">if</span> (i &lt; firstDifference)</div>
<div class="line"><span class="lineno">  910</span>        assert((tp1 = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a9b60f87075b703360efe4b38097d923f">getControlPoint</a>(i)) ==</div>
<div class="line"><span class="lineno">  911</span>               (tp2 = tmpStroke.getControlPoint(i)));</div>
<div class="line"><span class="lineno">  912</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  913</span>        <span class="comment">//        assert( (tp1=stroke-&gt;getControlPoint(i)) ==</span></div>
<div class="line"><span class="lineno">  914</span>        <span class="comment">//                (tp2=tmpStroke.getControlPoint(i+2)));</span></div>
<div class="line"><span class="lineno">  915</span>      }</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>      tp1 = stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a9b60f87075b703360efe4b38097d923f">getControlPoint</a>(i);</div>
<div class="line"><span class="lineno">  918</span>      tp2 = tmpStroke.getControlPoint(i);</div>
<div class="line"><span class="lineno">  919</span>    }</div>
<div class="line"><span class="lineno">  920</span>  }</div>
<div class="line"><span class="lineno">  921</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  922</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> cpCount = tmpStroke.getControlPointCount();</div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>  <span class="keywordtype">double</span> w = tmpStroke.getParameterAtLength(atLength);</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>  <span class="keywordtype">double</span> butta = tmpStroke.getLength(w);</div>
<div class="line"><span class="lineno">  927</span>  assert(areAlmostEqual(butta, atLength));</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>  <span class="comment">// retrieve head_queue control point</span></div>
<div class="line"><span class="lineno">  930</span>  <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> head_queue = tmpStroke.getControlPointAtParameter(w);</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>  <span class="comment">// recover index</span></div>
<div class="line"><span class="lineno">  933</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  934</span>  <span class="keywordflow">for</span> (i = 0; i &lt; cpCount; ++i) {</div>
<div class="line"><span class="lineno">  935</span>    <span class="keywordflow">if</span> (head_queue == tmpStroke.getControlPoint(i)) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  936</span>  }</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> head_index = i;</div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span>  <span class="comment">// uhmmm really strange</span></div>
<div class="line"><span class="lineno">  941</span>  <span class="keywordflow">if</span> (head_index == cpCount) {</div>
<div class="line"><span class="lineno">  942</span>    assert(!<span class="stringliteral">&quot;Error on procedure!!! Not control point found!!!&quot;</span></div>
<div class="line"><span class="lineno">  943</span>                <span class="stringliteral">&quot; Wrong insert control point!!!&quot;</span>);</div>
<div class="line"><span class="lineno">  944</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  945</span>  }</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>  <span class="comment">// head_index is the new head of stroke</span></div>
<div class="line"><span class="lineno">  948</span>  std::vector&lt;TThickPoint&gt; new_stroke_cp;</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>  <span class="keywordflow">for</span> (i = head_index; i &lt; cpCount; ++i) {</div>
<div class="line"><span class="lineno">  951</span>    <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> to_add = tmpStroke.getControlPoint(i);</div>
<div class="line"><span class="lineno">  952</span>    new_stroke_cp.push_back(to_add);</div>
<div class="line"><span class="lineno">  953</span>  }</div>
<div class="line"><span class="lineno">  954</span> </div>
<div class="line"><span class="lineno">  955</span>  <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> tmpCP = tmpStroke.getControlPoint(0);</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>  <span class="keywordtype">bool</span> check = areAlmostEqual(new_stroke_cp.back(), tmpCP, 0.01);</div>
<div class="line"><span class="lineno">  958</span>  <span class="comment">// relaxed check</span></div>
<div class="line"><span class="lineno">  959</span>  assert(check);</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>  <span class="keywordflow">if</span> (!check) {</div>
<div class="line"><span class="lineno">  962</span>    assert(!<span class="stringliteral">&quot;Error on procedure!!! Please verify algorithm!!!&quot;</span>);</div>
<div class="line"><span class="lineno">  963</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  964</span>  }</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>  <span class="comment">// 0 position is already inserted</span></div>
<div class="line"><span class="lineno">  967</span>  <span class="keywordflow">for</span> (i = 1; i &lt; head_index; ++i) {</div>
<div class="line"><span class="lineno">  968</span>    <a class="code hl_class" href="class_t_thick_point.html">TThickPoint</a> to_add = tmpStroke.getControlPoint(i);</div>
<div class="line"><span class="lineno">  969</span>    new_stroke_cp.push_back(to_add);</div>
<div class="line"><span class="lineno">  970</span>  }</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>  <span class="comment">// now add queue == head cp</span></div>
<div class="line"><span class="lineno">  973</span>  new_stroke_cp.push_back(new_stroke_cp[0]);</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>  assert((<span class="keywordtype">int</span>)new_stroke_cp.size() == cpCount);</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>  <span class="keywordflow">if</span> (new_stroke_cp.back() != tmpStroke.getControlPoint(head_index)) {</div>
<div class="line"><span class="lineno">  978</span>    assert(!<span class="stringliteral">&quot;Error on procedure!!! Please verify algorithm!!!&quot;</span>);</div>
<div class="line"><span class="lineno">  979</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  980</span>  }</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>  <a class="code hl_struct" href="class_t_stroke.html">TStroke</a> *out = <span class="keyword">new</span> <a class="code hl_struct" href="class_t_stroke.html">TStroke</a>(new_stroke_cp);</div>
<div class="line"><span class="lineno">  983</span>  out-&gt;<a class="code hl_function" href="class_t_stroke.html#afa2c66ae11a70e68b3de3ce0b4cfb049">setSelfLoop</a>();</div>
<div class="line"><span class="lineno">  984</span>  <span class="keywordflow">return</span> out;</div>
<div class="line"><span class="lineno">  985</span>}</div>
<div class="ttc" id="aclass_t_stroke_html"><div class="ttname"><a href="class_t_stroke.html">TStroke</a></div><div class="ttdef"><b>Definition:</b> tstroke.h:47</div></div>
<div class="ttc" id="aclass_t_stroke_html_a079a513cb8a60d9a759b4f0c8211eab4"><div class="ttname"><a href="class_t_stroke.html#a079a513cb8a60d9a759b4f0c8211eab4">TStroke::getLength</a></div><div class="ttdeci">double getLength(int chunk, double t) const</div><div class="ttdoc">Returns the length of the stroke at passed chunk-param.</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:1591</div></div>
<div class="ttc" id="aclass_t_stroke_html_a45101afd31e40d08100fdf23c89fb49e"><div class="ttname"><a href="class_t_stroke.html#a45101afd31e40d08100fdf23c89fb49e">TStroke::getControlPointCount</a></div><div class="ttdeci">int getControlPointCount() const</div><div class="ttdoc">Return number of control points in a stroke.</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:1849</div></div>
<div class="ttc" id="aclass_t_stroke_html_a9b60f87075b703360efe4b38097d923f"><div class="ttname"><a href="class_t_stroke.html#a9b60f87075b703360efe4b38097d923f">TStroke::getControlPoint</a></div><div class="ttdeci">TThickPoint getControlPoint(int n) const</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:1352</div></div>
<div class="ttc" id="aclass_t_thick_point_html"><div class="ttname"><a href="class_t_thick_point.html">TThickPoint</a></div><div class="ttdef"><b>Definition:</b> tgeometry.h:366</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01352">TStroke::getControlPoint()</a>, <a class="el" href="#l01384">TStroke::getControlPointAtParameter()</a>, <a class="el" href="#l01849">TStroke::getControlPointCount()</a>, <a class="el" href="#l01591">TStroke::getLength()</a>, <a class="el" href="#l01981">TStroke::getParameterAtLength()</a>, <a class="el" href="#l01619">TStroke::insertControlPointsAtLength()</a>, <a class="el" href="#l00068">ToonzExt::EvenInt::isEven()</a>, <a class="el" href="#l02488">TStroke::isSelfLoop()</a>, and <a class="el" href="#l02469">TStroke::setSelfLoop()</a>.</p>

</div>
</div>
<a id="ad34a2f00703a015395583693c4c4db7b" name="ad34a2f00703a015395583693c4c4db7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad34a2f00703a015395583693c4c4db7b">&#9670;&nbsp;</a></span>straightCornersDetector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DVAPI bool ToonzExt::straightCornersDetector </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_stroke.html">TStroke</a> *&#160;</td>
          <td class="paramname"><em>stroke</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>corners</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Like cornersDetector but for straight corners. </p>
<div class="fragment"><div class="line"><span class="lineno">  994</span>                                                                         {</div>
<div class="line"><span class="lineno">  995</span>  <a class="code hl_typedef" href="namespace_toonz_ext.html#af0282c012222b6b15e80f8f02685a935">ToonzExt::Intervals</a> intervals;</div>
<div class="line"><span class="lineno">  996</span> </div>
<div class="line"><span class="lineno">  997</span>  assert(corners.empty());</div>
<div class="line"><span class="lineno">  998</span>  <span class="keywordflow">if</span> (!corners.empty()) corners.clear();</div>
<div class="line"><span class="lineno">  999</span> </div>
<div class="line"><span class="lineno"> 1000</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="namespace_toonz_ext.html#a6d0c60df65b9f34e2068f78463502478">ToonzExt::detectStraightIntervals</a>(stroke, intervals)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span>  assert(!intervals.empty() &amp;&amp; <span class="stringliteral">&quot;Intervals are empty!!!&quot;</span>);</div>
<div class="line"><span class="lineno"> 1003</span>  <span class="keywordflow">if</span> (intervals.empty()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>  <span class="keywordtype">double</span> first;</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>  <a class="code hl_typedef" href="namespace_toonz_ext.html#af0f90ec10aea6fde591103d3611b638b">ToonzExt::Interval</a> prev = intervals[0], curr;</div>
<div class="line"><span class="lineno"> 1008</span> </div>
<div class="line"><span class="lineno"> 1009</span>  <span class="keywordflow">if</span> (stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a3565d6c34d3eb02fb1a6993ca626425c">isSelfLoop</a>()) first = prev.first;</div>
<div class="line"><span class="lineno"> 1010</span> </div>
<div class="line"><span class="lineno"> 1011</span>  <span class="keywordtype">int</span> size = intervals.size();</div>
<div class="line"><span class="lineno"> 1012</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; size; ++i) {</div>
<div class="line"><span class="lineno"> 1013</span>    curr = intervals[i];</div>
<div class="line"><span class="lineno"> 1014</span>    <span class="keywordflow">if</span> (prev.second == curr.first) corners.push_back(curr.first);</div>
<div class="line"><span class="lineno"> 1015</span>    prev = curr;</div>
<div class="line"><span class="lineno"> 1016</span>  }</div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>  <span class="keywordflow">if</span> (stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a3565d6c34d3eb02fb1a6993ca626425c">isSelfLoop</a>() &amp;&amp; curr.second == first) corners.push_back(first);</div>
<div class="line"><span class="lineno"> 1019</span> </div>
<div class="line"><span class="lineno"> 1020</span>  <span class="keywordflow">return</span> !corners.empty();</div>
<div class="line"><span class="lineno"> 1021</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
