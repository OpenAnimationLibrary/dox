<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: MovieRenderer::Imp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="class_movie_renderer.html">MovieRenderer</a></li><li class="navelem"><a class="el" href="class_movie_renderer_1_1_imp.html">Imp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_movie_renderer_1_1_imp-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MovieRenderer::Imp Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for MovieRenderer::Imp:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_movie_renderer_1_1_imp.png" usemap="#MovieRenderer::Imp_map" alt=""/>
  <map id="MovieRenderer::Imp_map" name="MovieRenderer::Imp_map">
<area href="class_t_render_port.html" alt="TRenderPort" shape="rect" coords="0,0,125,24"/>
<area href="class_t_smart_object.html" alt="TSmartObject" shape="rect" coords="135,0,260,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac6e085db9d128f54d4e35efb14f9c135"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#ac6e085db9d128f54d4e35efb14f9c135">Imp</a> (<a class="el" href="class_toonz_scene.html">ToonzScene</a> *scene, const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;moviePath, int threadCount, bool cacheResults)</td></tr>
<tr class="separator:ac6e085db9d128f54d4e35efb14f9c135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a70aa0241932852101908c93e57365f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a8a70aa0241932852101908c93e57365f">onRenderRasterCompleted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData) override</td></tr>
<tr class="separator:a8a70aa0241932852101908c93e57365f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab85d36f6c10210221aa4e8c616d479"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a6ab85d36f6c10210221aa4e8c616d479">onRenderFailure</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData, <a class="el" href="class_t_exception.html">TException</a> &amp;e) override</td></tr>
<tr class="separator:a6ab85d36f6c10210221aa4e8c616d479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86c54ce82feda4b353e89ebce84216b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#ac86c54ce82feda4b353e89ebce84216b">onRenderFinished</a> (bool isCanceled=false) override</td></tr>
<tr class="separator:ac86c54ce82feda4b353e89ebce84216b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66999057c680141e8c99097848082e62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a66999057c680141e8c99097848082e62">doRenderRasterCompleted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:a66999057c680141e8c99097848082e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a832b8979e9f72d56276ec6b58bba8a9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a832b8979e9f72d56276ec6b58bba8a9e">doPreviewRasterCompleted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:a832b8979e9f72d56276ec6b58bba8a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672a24838298237364eabcac08e630ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a672a24838298237364eabcac08e630ec">prepareForStart</a> ()</td></tr>
<tr class="separator:a672a24838298237364eabcac08e630ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f5a81ee8d9462d3d7f94ec86310868"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#ad2f5a81ee8d9462d3d7f94ec86310868">addSoundtrack</a> (int r0, int r1, double fps, int boardDuration=0)</td></tr>
<tr class="separator:ad2f5a81ee8d9462d3d7f94ec86310868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a876d0b661b631b129c4c5174272a6ee1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a876d0b661b631b129c4c5174272a6ee1">postProcessImage</a> (const <a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> &amp;img, bool has64bitOutputSupport, const <a class="el" href="class_t_smart_pointer_t.html">TRasterP</a> &amp;mark, int frame)</td></tr>
<tr class="separator:a876d0b661b631b129c4c5174272a6ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a600b9af83be9025249d0bd22371774b8"><td class="memItemLeft" align="right" valign="top">std::pair&lt; bool, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a600b9af83be9025249d0bd22371774b8">saveFrame</a> (double frame, const std::pair&lt; <a class="el" href="class_t_smart_pointer_t.html">TRasterP</a>, <a class="el" href="class_t_smart_pointer_t.html">TRasterP</a> &gt; &amp;rasters)</td></tr>
<tr class="separator:a600b9af83be9025249d0bd22371774b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd1583ad1851d6f9046e299e43542c3"><td class="memItemLeft" align="right" valign="top"><a id="a3dd1583ad1851d6f9046e299e43542c3" name="a3dd1583ad1851d6f9046e299e43542c3"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getRenderCacheId</b> ()</td></tr>
<tr class="separator:a3dd1583ad1851d6f9046e299e43542c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e347dec816251ca0ca426339a71124b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a1e347dec816251ca0ca426339a71124b">addBoard</a> ()</td></tr>
<tr class="separator:a1e347dec816251ca0ca426339a71124b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_render_port"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_render_port')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_render_port.html">TRenderPort</a></td></tr>
<tr class="memitem:a743d79f021d27a9f8017ef468839cadb inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#a743d79f021d27a9f8017ef468839cadb">setRenderArea</a> (const <a class="el" href="class_t_rect_t.html">TRectD</a> &amp;area)</td></tr>
<tr class="separator:a743d79f021d27a9f8017ef468839cadb inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce190bec5e61a3695f6fd36648316af inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_rect_t.html">TRectD</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#adce190bec5e61a3695f6fd36648316af">getRenderArea</a> ()</td></tr>
<tr class="memdesc:adce190bec5e61a3695f6fd36648316af inherit pub_methods_class_t_render_port"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ritorna <b>m_renderArea</b>.  <a href="class_t_render_port.html#adce190bec5e61a3695f6fd36648316af">More...</a><br /></td></tr>
<tr class="separator:adce190bec5e61a3695f6fd36648316af inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d241d5c87cdcd532e677472b1bb181 inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#a16d241d5c87cdcd532e677472b1bb181">onRenderRasterStarted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:a16d241d5c87cdcd532e677472b1bb181 inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c7db7aa6236f02caf9b176bf01c753 inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#a30c7db7aa6236f02caf9b176bf01c753">onRenderRasterCompleted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:a30c7db7aa6236f02caf9b176bf01c753 inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d52144e1d3ed030c8fc2865ac6785a9 inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#a6d52144e1d3ed030c8fc2865ac6785a9">onRenderFailure</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData, <a class="el" href="class_t_exception.html">TException</a> &amp;e)</td></tr>
<tr class="separator:a6d52144e1d3ed030c8fc2865ac6785a9 inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517a05af2d771ec26d2eb046e28c75a1 inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#a517a05af2d771ec26d2eb046e28c75a1">onRenderFinished</a> (bool isCanceled=false)</td></tr>
<tr class="separator:a517a05af2d771ec26d2eb046e28c75a1 inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:ab9a1e31b7e2b8c9b141fe9ce7e8cf489 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#ab9a1e31b7e2b8c9b141fe9ce7e8cf489">TSmartObject</a> (ClassCode classCode)</td></tr>
<tr class="separator:ab9a1e31b7e2b8c9b141fe9ce7e8cf489 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a76a715c1785eb545fa3ef2f6e06928 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a4a76a715c1785eb545fa3ef2f6e06928">addRef</a> ()</td></tr>
<tr class="separator:a4a76a715c1785eb545fa3ef2f6e06928 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99750961461978d73f55a4a54e6f874e inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a99750961461978d73f55a4a54e6f874e">release</a> ()</td></tr>
<tr class="separator:a99750961461978d73f55a4a54e6f874e inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f1dab21fd93f07fdf6c86661d738a5 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">TINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#ac1f1dab21fd93f07fdf6c86661d738a5">getRefCount</a> () const</td></tr>
<tr class="separator:ac1f1dab21fd93f07fdf6c86661d738a5 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac7ec3cd931c140e7ceedf1142aa29e6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_toonz_scene.html">ToonzScene</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#ac7ec3cd931c140e7ceedf1142aa29e6b">m_scene</a></td></tr>
<tr class="separator:ac7ec3cd931c140e7ceedf1142aa29e6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb6da0281ec2d81441b62f66b467b13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_renderer.html">TRenderer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#abeb6da0281ec2d81441b62f66b467b13">m_renderer</a></td></tr>
<tr class="separator:abeb6da0281ec2d81441b62f66b467b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c3499c9b3aa81784795c358f91a6027"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a1c3499c9b3aa81784795c358f91a6027">m_fp</a></td></tr>
<tr class="separator:a1c3499c9b3aa81784795c358f91a6027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0536b5566f2b72c9468ec4ca1506c72d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_render_settings.html">TRenderSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a0536b5566f2b72c9468ec4ca1506c72d">m_renderSettings</a></td></tr>
<tr class="separator:a0536b5566f2b72c9468ec4ca1506c72d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c2e14ccfc7ebd06a80730140007ff82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_dimension_t.html">TDimension</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a7c2e14ccfc7ebd06a80730140007ff82">m_frameSize</a></td></tr>
<tr class="separator:a7c2e14ccfc7ebd06a80730140007ff82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00e9b4470c91a35ab71d1ace3884a56c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a00e9b4470c91a35ab71d1ace3884a56c">m_xDpi</a></td></tr>
<tr class="separator:a00e9b4470c91a35ab71d1ace3884a56c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30ce52bca58298617dc84f5c54eb5e30"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a30ce52bca58298617dc84f5c54eb5e30">m_yDpi</a></td></tr>
<tr class="separator:a30ce52bca58298617dc84f5c54eb5e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9079d5ed2b5ad349bb11743db452727"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="class_movie_renderer_1_1_listener.html">MovieRenderer::Listener</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#ab9079d5ed2b5ad349bb11743db452727">m_listeners</a></td></tr>
<tr class="separator:ab9079d5ed2b5ad349bb11743db452727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a2802e5d7eb81c7394398dd559d9c9d"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_level_updater.html">LevelUpdater</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a1a2802e5d7eb81c7394398dd559d9c9d">m_levelUpdaterA</a></td></tr>
<tr class="separator:a1a2802e5d7eb81c7394398dd559d9c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89dfee571e072493b72bd1be241c0cc1"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="class_level_updater.html">LevelUpdater</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a89dfee571e072493b72bd1be241c0cc1">m_levelUpdaterB</a></td></tr>
<tr class="separator:a89dfee571e072493b72bd1be241c0cc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76586f81a2a28a1b9306409735c2b5f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_smart_pointer_t.html">TSoundTrackP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a76586f81a2a28a1b9306409735c2b5f8">m_st</a></td></tr>
<tr class="separator:a76586f81a2a28a1b9306409735c2b5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3db4041204f7e275e50fc89ff49213c1"><td class="memItemLeft" align="right" valign="top">std::map&lt; double, std::pair&lt; <a class="el" href="class_t_smart_pointer_t.html">TRasterP</a>, <a class="el" href="class_t_smart_pointer_t.html">TRasterP</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a3db4041204f7e275e50fc89ff49213c1">m_toBeSaved</a></td></tr>
<tr class="separator:a3db4041204f7e275e50fc89ff49213c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae84848cece329c9e8f3e17646449d4d1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; double, <a class="el" href="class_t_fx_pair.html">TFxPair</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#ae84848cece329c9e8f3e17646449d4d1">m_framesToBeRendered</a></td></tr>
<tr class="separator:ae84848cece329c9e8f3e17646449d4d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fdfc7abd5ade9cac413039b93b895e5"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a9fdfc7abd5ade9cac413039b93b895e5">m_renderCacheId</a></td></tr>
<tr class="separator:a9fdfc7abd5ade9cac413039b93b895e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ae3fa172a0bf50dd78dbc3d5d20531d"><td class="memItemLeft" align="right" valign="top">std::map&lt; double, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a4ae3fa172a0bf50dd78dbc3d5d20531d">m_toBeAppliedGamma</a></td></tr>
<tr class="separator:a4ae3fa172a0bf50dd78dbc3d5d20531d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a571337aaf898a7af21a05ea407210c59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_thread_1_1_mutex.html">TThread::Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a571337aaf898a7af21a05ea407210c59">m_mutex</a></td></tr>
<tr class="separator:a571337aaf898a7af21a05ea407210c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a441e9bbf1ea016c97225a63e057b41db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a441e9bbf1ea016c97225a63e057b41db">m_renderSessionId</a></td></tr>
<tr class="separator:a441e9bbf1ea016c97225a63e057b41db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb2b4648b4ffd0eea969b3622a40a5a"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#adfb2b4648b4ffd0eea969b3622a40a5a">m_whiteSample</a></td></tr>
<tr class="separator:adfb2b4648b4ffd0eea969b3622a40a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a853a853ac4affa3836f227f3c5ac622d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a853a853ac4affa3836f227f3c5ac622d">m_nextFrameIdxToSave</a></td></tr>
<tr class="separator:a853a853ac4affa3836f227f3c5ac622d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188b1407131c2c18c37408eff409264c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a188b1407131c2c18c37408eff409264c">m_savingThreadsCount</a></td></tr>
<tr class="separator:a188b1407131c2c18c37408eff409264c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4811c72452c85a868df6db55ce9ae305"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a4811c72452c85a868df6db55ce9ae305">m_firstCompletedRaster</a></td></tr>
<tr class="separator:a4811c72452c85a868df6db55ce9ae305"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad78521a1fc8b22aa21ce4cb333abe018"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#ad78521a1fc8b22aa21ce4cb333abe018">m_failure</a></td></tr>
<tr class="separator:ad78521a1fc8b22aa21ce4cb333abe018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac52dd385c89e467b3cd814613fdf4ea7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#ac52dd385c89e467b3cd814613fdf4ea7">m_cacheResults</a></td></tr>
<tr class="separator:ac52dd385c89e467b3cd814613fdf4ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab465ef58ed529077ff1809ba522bc5cd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#ab465ef58ed529077ff1809ba522bc5cd">m_preview</a></td></tr>
<tr class="separator:ab465ef58ed529077ff1809ba522bc5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee70acc75857485e90fccbb51c58167"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a7ee70acc75857485e90fccbb51c58167">m_movieType</a></td></tr>
<tr class="separator:a7ee70acc75857485e90fccbb51c58167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c2e6205764a8498edecc08e2ae2de49"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a7c2e6205764a8498edecc08e2ae2de49">m_seqRequired</a></td></tr>
<tr class="separator:a7c2e6205764a8498edecc08e2ae2de49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dd2b440bfc1ce0a2029a97efc323ee5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_movie_renderer_1_1_imp.html#a2dd2b440bfc1ce0a2029a97efc323ee5">m_waitAfterFinish</a></td></tr>
<tr class="separator:a2dd2b440bfc1ce0a2029a97efc323ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:a3bc37f54976a445f30c99753a478feae inherit pub_types_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">typedef short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a3bc37f54976a445f30c99753a478feae">ClassCode</a></td></tr>
<tr class="separator:a3bc37f54976a445f30c99753a478feae inherit pub_types_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:a41e6552e87694c0edba6acc7e57b5752 inherit pub_static_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">static TINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a41e6552e87694c0edba6acc7e57b5752">getInstanceCount</a> (ClassCode code)</td></tr>
<tr class="separator:a41e6552e87694c0edba6acc7e57b5752 inherit pub_static_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac6e085db9d128f54d4e35efb14f9c135" name="ac6e085db9d128f54d4e35efb14f9c135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6e085db9d128f54d4e35efb14f9c135">&#9670;&nbsp;</a></span>Imp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MovieRenderer::Imp::Imp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_toonz_scene.html">ToonzScene</a> *&#160;</td>
          <td class="paramname"><em>scene</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>moviePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threadCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cacheResults</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  176</span>    : m_scene(scene)</div>
<div class="line"><span class="lineno">  177</span>    , m_renderer(threadCount)</div>
<div class="line"><span class="lineno">  178</span>    , m_fp(moviePath)</div>
<div class="line"><span class="lineno">  179</span>    , m_frameSize(scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a750b5ab623ccec744013b0c83bf20abc">getCurrentCamera</a>()-&gt;<a class="code hl_function" href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">getRes</a>())</div>
<div class="line"><span class="lineno">  180</span>    , m_xDpi(72)</div>
<div class="line"><span class="lineno">  181</span>    , m_yDpi(72)</div>
<div class="line"><span class="lineno">  182</span>    , m_renderSessionId(RenderSessionId++)</div>
<div class="line"><span class="lineno">  183</span>    , m_nextFrameIdxToSave(0)</div>
<div class="line"><span class="lineno">  184</span>    , m_savingThreadsCount(0)</div>
<div class="line"><span class="lineno">  185</span>    , m_whiteSample(0)</div>
<div class="line"><span class="lineno">  186</span>    , m_firstCompletedRaster(</div>
<div class="line"><span class="lineno">  187</span>          <span class="keyword">true</span>)         <span class="comment">//&lt; I know, sounds weird - it&#39;s just set to false</span></div>
<div class="line"><span class="lineno">  188</span>    , m_failure(<span class="keyword">false</span>)  <span class="comment">//  AFTER the first completed raster gets processed</span></div>
<div class="line"><span class="lineno">  189</span>    , m_cacheResults(cacheResults)</div>
<div class="line"><span class="lineno">  190</span>    , m_preview(moviePath.isEmpty())</div>
<div class="line"><span class="lineno">  191</span>    , m_movieType(isMovieType(moviePath))</div>
<div class="line"><span class="lineno">  192</span>    , m_seqRequired(isSequencialRequired(moviePath)) {</div>
<div class="line"><span class="lineno">  193</span>  m_renderCacheId =</div>
<div class="line"><span class="lineno">  194</span>      m_fp.<a class="code hl_function" href="class_t_file_path.html#a3ebf9ced558cfef97a60bba536b23c6f">withName</a>(m_fp.<a class="code hl_function" href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">getName</a>() + <span class="stringliteral">&quot;#RENDERID&quot;</span> +</div>
<div class="line"><span class="lineno">  195</span>                    QString::number(m_renderSessionId).toStdString())</div>
<div class="line"><span class="lineno">  196</span>          .<a class="code hl_function" href="class_t_file_path.html#a9b256108e6e5ff99f3ba828d4cdbd7ee">getLevelName</a>();</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>  m_renderer.addPort(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  199</span>  m_waitAfterFinish = m_movieType &amp;&amp; !m_seqRequired &amp;&amp; threadCount &gt; 1;</div>
<div class="line"><span class="lineno">  200</span>}</div>
<div class="ttc" id="aclass_t_camera_html_a9a7c573e7a2c397ffae4b747809ea2a5"><div class="ttname"><a href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">TCamera::getRes</a></div><div class="ttdeci">const TDimension &amp; getRes() const</div><div class="ttdef"><b>Definition:</b> tcamera.h:72</div></div>
<div class="ttc" id="aclass_t_file_path_html_a3ebf9ced558cfef97a60bba536b23c6f"><div class="ttname"><a href="class_t_file_path.html#a3ebf9ced558cfef97a60bba536b23c6f">TFilePath::withName</a></div><div class="ttdeci">TFilePath withName(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:802</div></div>
<div class="ttc" id="aclass_t_file_path_html_a9b256108e6e5ff99f3ba828d4cdbd7ee"><div class="ttname"><a href="class_t_file_path.html#a9b256108e6e5ff99f3ba828d4cdbd7ee">TFilePath::getLevelName</a></div><div class="ttdeci">std::string getLevelName() const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:643</div></div>
<div class="ttc" id="aclass_t_file_path_html_af94f9b0aeceb6cdb980fa1789473503a"><div class="ttname"><a href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">TFilePath::getName</a></div><div class="ttdeci">std::string getName() const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:636</div></div>
<div class="ttc" id="aclass_toonz_scene_html_a750b5ab623ccec744013b0c83bf20abc"><div class="ttname"><a href="class_toonz_scene.html#a750b5ab623ccec744013b0c83bf20abc">ToonzScene::getCurrentCamera</a></div><div class="ttdeci">TCamera * getCurrentCamera()</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:1472</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae59350bdfbd4c4d764077b17a08d606f" name="ae59350bdfbd4c4d764077b17a08d606f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae59350bdfbd4c4d764077b17a08d606f">&#9670;&nbsp;</a></span>~Imp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MovieRenderer::Imp::~Imp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  204</span>                       {</div>
<div class="line"><span class="lineno">  205</span>  m_renderer.removePort(<span class="keyword">this</span>);  <span class="comment">// Please, note: a TRenderer instance is</span></div>
<div class="line"><span class="lineno">  206</span>                                <span class="comment">// currently a shared-pointer-like</span></div>
<div class="line"><span class="lineno">  207</span>}  <span class="comment">// object to a private worker. *That* object may outlive the TRenderer</span></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1e347dec816251ca0ca426339a71124b" name="a1e347dec816251ca0ca426339a71124b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e347dec816251ca0ca426339a71124b">&#9670;&nbsp;</a></span>addBoard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MovieRenderer::Imp::addBoard </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  777</span>                               {</div>
<div class="line"><span class="lineno">  778</span>  <a class="code hl_class" href="class_board_settings.html">BoardSettings</a> *boardSettings =</div>
<div class="line"><span class="lineno">  779</span>      m_scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()-&gt;<a class="code hl_function" href="class_t_scene_properties.html#abea7b4b8e4f0cedbf753b26ec30b5331">getOutputProperties</a>()-&gt;getBoardSettings();</div>
<div class="line"><span class="lineno">  780</span>  <span class="keywordflow">if</span> (!boardSettings-&gt;isActive()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  781</span>  <span class="keywordtype">int</span> duration = boardSettings-&gt;getDuration();</div>
<div class="line"><span class="lineno">  782</span>  <span class="keywordflow">if</span> (duration == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  783</span>  <span class="comment">// Get the image size</span></div>
<div class="line"><span class="lineno">  784</span>  <span class="keywordtype">int</span> shrinkX = m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a>,</div>
<div class="line"><span class="lineno">  785</span>      shrinkY = m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a>;</div>
<div class="line"><span class="lineno">  786</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimensionD</a> cameraRes(<span class="keywordtype">double</span>(m_frameSize.lx) / shrinkX,</div>
<div class="line"><span class="lineno">  787</span>                        <span class="keywordtype">double</span>(m_frameSize.ly) / shrinkY);</div>
<div class="line"><span class="lineno">  788</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> cameraResI(cameraRes.lx, cameraRes.ly);</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>  <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> boardRas =</div>
<div class="line"><span class="lineno">  791</span>      boardSettings-&gt;getBoardRaster(cameraResI, shrinkX, m_scene);</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>  <span class="keywordflow">if</span> (m_levelUpdaterA.get()) {</div>
<div class="line"><span class="lineno">  794</span>    <span class="comment">// Flush images</span></div>
<div class="line"><span class="lineno">  795</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  796</span>      <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> img(boardRas);</div>
<div class="line"><span class="lineno">  797</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; duration; f++) {</div>
<div class="line"><span class="lineno">  798</span>        m_levelUpdaterA-&gt;update(<a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(f + 1), img);</div>
<div class="line"><span class="lineno">  799</span>        <span class="keywordflow">if</span> (m_levelUpdaterB.get())</div>
<div class="line"><span class="lineno">  800</span>          m_levelUpdaterB-&gt;update(<a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(f + 1), img);</div>
<div class="line"><span class="lineno">  801</span>      }</div>
<div class="line"><span class="lineno">  802</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  803</span>      <span class="comment">// Nothing. The images could not be saved for whatever reason.</span></div>
<div class="line"><span class="lineno">  804</span>      <span class="comment">// Failure is reported.</span></div>
<div class="line"><span class="lineno">  805</span>    }</div>
<div class="line"><span class="lineno">  806</span>  }</div>
<div class="line"><span class="lineno">  807</span>  <span class="keywordflow">return</span> duration;</div>
<div class="line"><span class="lineno">  808</span>}</div>
<div class="ttc" id="aclass_board_settings_html"><div class="ttname"><a href="class_board_settings.html">BoardSettings</a></div><div class="ttdef"><b>Definition:</b> boardsettings.h:111</div></div>
<div class="ttc" id="aclass_t_dimension_t_html"><div class="ttname"><a href="class_t_dimension_t.html">TDimensionT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_frame_id_html"><div class="ttname"><a href="class_t_frame_id.html">TFrameId</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:29</div></div>
<div class="ttc" id="aclass_t_raster_image_p_html"><div class="ttname"><a href="class_t_raster_image_p.html">TRasterImageP</a></div><div class="ttdef"><b>Definition:</b> trasterimage.h:148</div></div>
<div class="ttc" id="aclass_t_raster_p_t_html"><div class="ttname"><a href="class_t_raster_p_t.html">TRasterPT&lt; TPixel32 &gt;</a></div></div>
<div class="ttc" id="aclass_t_render_settings_html_a52dd41881bbf6aaf953fe300be2e233e"><div class="ttname"><a href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">TRenderSettings::m_shrinkX</a></div><div class="ttdeci">int m_shrinkX</div><div class="ttdef"><b>Definition:</b> trasterfx.h:125</div></div>
<div class="ttc" id="aclass_t_render_settings_html_ae1882f584ce9ffad12ce6bf9ff23814c"><div class="ttname"><a href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">TRenderSettings::m_shrinkY</a></div><div class="ttdeci">int m_shrinkY</div><div class="ttdef"><b>Definition:</b> trasterfx.h:126</div></div>
<div class="ttc" id="aclass_t_scene_properties_html_abea7b4b8e4f0cedbf753b26ec30b5331"><div class="ttname"><a href="class_t_scene_properties.html#abea7b4b8e4f0cedbf753b26ec30b5331">TSceneProperties::getOutputProperties</a></div><div class="ttdeci">TOutputProperties * getOutputProperties() const</div><div class="ttdef"><b>Definition:</b> sceneproperties.h:145</div></div>
<div class="ttc" id="aclass_toonz_scene_html_a8ef96fedc17d7def810ac419b0939254"><div class="ttname"><a href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">ToonzScene::getProperties</a></div><div class="ttdeci">TSceneProperties * getProperties() const</div><div class="ttdoc">&lt; Returns a pointer to the scene's properties.</div><div class="ttdef"><b>Definition:</b> toonzscene.h:87</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2f5a81ee8d9462d3d7f94ec86310868" name="ad2f5a81ee8d9462d3d7f94ec86310868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f5a81ee8d9462d3d7f94ec86310868">&#9670;&nbsp;</a></span>addSoundtrack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MovieRenderer::Imp::addSoundtrack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>boardDuration</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  310</span>                                                          {</div>
<div class="line"><span class="lineno">  311</span>  <a class="code hl_define" href="macros_8h.html#abcaf2f3bbaba74cf330e778baf26fb8a">TCG_ASSERT</a>(r0 &lt;= r1, <span class="keywordflow">return</span> );</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>  <a class="code hl_class" href="class_t_xsheet_1_1_sound_properties.html">TXsheet::SoundProperties</a> *prop =</div>
<div class="line"><span class="lineno">  314</span>      <span class="keyword">new</span> <a class="code hl_class" href="class_t_xsheet_1_1_sound_properties.html">TXsheet::SoundProperties</a>();  <span class="comment">// Ownership will be surrendered ...</span></div>
<div class="line"><span class="lineno">  315</span>  prop-&gt;m_frameRate = fps;</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>  <a class="code hl_class" href="class_t_sound_track.html">TSoundTrack</a> *snd = m_scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#ae3c828e3223fd809fd59189233d0576a">getXsheet</a>()-&gt;makeSound(prop);  <span class="comment">// ... here</span></div>
<div class="line"><span class="lineno">  318</span>  <span class="keywordflow">if</span> (!snd) {</div>
<div class="line"><span class="lineno">  319</span>    <span class="comment">// No soundtrack</span></div>
<div class="line"><span class="lineno">  320</span>    m_whiteSample = (r1 - r0 + 1) * 918;  <span class="comment">// 918?? wtf... I don&#39;t think it has</span></div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">return</span>;  <span class="comment">// any arcane meaning - but i&#39;m not touching it.</span></div>
<div class="line"><span class="lineno">  322</span>  }          <span class="comment">// My impression would be that... no sound implies</span></div>
<div class="line"><span class="lineno">  323</span>             <span class="comment">// no access to m_whiteSample, no?</span></div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>  <span class="keywordtype">double</span> samplePerFrame = snd-&gt;getSampleRate() / fps;</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>  <span class="comment">// Extract the useful part of scene soundtrack</span></div>
<div class="line"><span class="lineno">  328</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TSoundTrackP</a> snd1 = snd-&gt;<a class="code hl_function" href="class_t_sound_track.html#a6efbb9d14bb633cff1257095eba11096">extract</a>((TINT32)(r0 * samplePerFrame),</div>
<div class="line"><span class="lineno">  329</span>                                   (TINT32)(r1 * samplePerFrame));</div>
<div class="line"><span class="lineno">  330</span>  assert(!m_st);</div>
<div class="line"><span class="lineno">  331</span>  <span class="keywordflow">if</span> (!m_st) {</div>
<div class="line"><span class="lineno">  332</span>    <span class="comment">// First, add white sound before the &#39;from&#39; instant</span></div>
<div class="line"><span class="lineno">  333</span>    m_st          = <a class="code hl_function" href="class_t_sound_track.html#a9a83177a9a5b9a7470f32b87e7f21f3d">TSoundTrack::create</a>(snd1-&gt;<a class="code hl_function" href="class_t_sound_track.html#aa58db0cee313f7174bc023e295b701a9">getFormat</a>(), m_whiteSample);</div>
<div class="line"><span class="lineno">  334</span>    m_whiteSample = 0;  <span class="comment">// Why?  Probably being pedantic here... I guess</span></div>
<div class="line"><span class="lineno">  335</span>  }</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>  <span class="comment">// Then, add the rest</span></div>
<div class="line"><span class="lineno">  338</span>  TINT32 fromSample = m_st-&gt;getSampleCount();</div>
<div class="line"><span class="lineno">  339</span>  TINT32 numSample =</div>
<div class="line"><span class="lineno">  340</span>      std::max(TINT32((r1 - r0 + 1) * samplePerFrame), snd1-&gt;getSampleCount());</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>  m_st = <a class="code hl_function" href="namespace_t_sop.html#a0fefdd72dbc5cf869c88ffef4e0adb7e">TSop::insertBlank</a>(m_st, fromSample, numSample + m_whiteSample);</div>
<div class="line"><span class="lineno">  343</span>  m_st-&gt;<a class="code hl_function" href="class_t_sound_track.html#a77370b67b41927689f5490bbe15a907d">copy</a>(snd1, TINT32(fromSample + m_whiteSample));</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>  <span class="comment">// insert blank sound for clapperboard</span></div>
<div class="line"><span class="lineno">  346</span>  <span class="keywordflow">if</span> (boardDuration &gt; 0)</div>
<div class="line"><span class="lineno">  347</span>    m_st = <a class="code hl_function" href="namespace_t_sop.html#a0fefdd72dbc5cf869c88ffef4e0adb7e">TSop::insertBlank</a>(m_st, 0, TINT32(boardDuration * samplePerFrame));</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>  m_whiteSample = 0;</div>
<div class="line"><span class="lineno">  350</span>}</div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TSoundTrack &gt;</a></div></div>
<div class="ttc" id="aclass_t_sound_track_html"><div class="ttname"><a href="class_t_sound_track.html">TSoundTrack</a></div><div class="ttdef"><b>Definition:</b> tsound.h:78</div></div>
<div class="ttc" id="aclass_t_sound_track_html_a6efbb9d14bb633cff1257095eba11096"><div class="ttname"><a href="class_t_sound_track.html#a6efbb9d14bb633cff1257095eba11096">TSoundTrack::extract</a></div><div class="ttdeci">virtual TSoundTrackP extract(TINT32 s0, TINT32 s1)=0</div><div class="ttdoc">Returns a subtrack for the range [s0, s1], s0 and s1 are samples.</div></div>
<div class="ttc" id="aclass_t_sound_track_html_a77370b67b41927689f5490bbe15a907d"><div class="ttname"><a href="class_t_sound_track.html#a77370b67b41927689f5490bbe15a907d">TSoundTrack::copy</a></div><div class="ttdeci">virtual void copy(const TSoundTrackP &amp;src, TINT32 dst_s0)=0</div></div>
<div class="ttc" id="aclass_t_sound_track_html_a9a83177a9a5b9a7470f32b87e7f21f3d"><div class="ttname"><a href="class_t_sound_track.html#a9a83177a9a5b9a7470f32b87e7f21f3d">TSoundTrack::create</a></div><div class="ttdeci">static TSoundTrackP create(TUINT32 sampleRate, int bitPerSample, int channelCount, TINT32 sampleCount, bool signedSample=true)</div><div class="ttdef"><b>Definition:</b> tsound.cpp:78</div></div>
<div class="ttc" id="aclass_t_sound_track_html_aa58db0cee313f7174bc023e295b701a9"><div class="ttname"><a href="class_t_sound_track.html#aa58db0cee313f7174bc023e295b701a9">TSoundTrack::getFormat</a></div><div class="ttdeci">TSoundTrackFormat getFormat() const</div><div class="ttdoc">Returns the soundtrack format.</div><div class="ttdef"><b>Definition:</b> tsound.cpp:250</div></div>
<div class="ttc" id="aclass_t_xsheet_1_1_sound_properties_html"><div class="ttname"><a href="class_t_xsheet_1_1_sound_properties.html">TXsheet::SoundProperties</a></div><div class="ttdef"><b>Definition:</b> txsheet.h:136</div></div>
<div class="ttc" id="aclass_toonz_scene_html_ae3c828e3223fd809fd59189233d0576a"><div class="ttname"><a href="class_toonz_scene.html#ae3c828e3223fd809fd59189233d0576a">ToonzScene::getXsheet</a></div><div class="ttdeci">TXsheet * getXsheet() const</div><div class="ttdoc">Returns a pointer to the scene's current xsheet.</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:957</div></div>
<div class="ttc" id="amacros_8h_html_abcaf2f3bbaba74cf330e778baf26fb8a"><div class="ttname"><a href="macros_8h.html#abcaf2f3bbaba74cf330e778baf26fb8a">TCG_ASSERT</a></div><div class="ttdeci">#define TCG_ASSERT(assertion, failure_expr)</div><div class="ttdoc">The TCG_ASSERT instruction is an assertion that also provides a valid failure statement in case the a...</div><div class="ttdef"><b>Definition:</b> macros.h:42</div></div>
<div class="ttc" id="anamespace_t_sop_html_a0fefdd72dbc5cf869c88ffef4e0adb7e"><div class="ttname"><a href="namespace_t_sop.html#a0fefdd72dbc5cf869c88ffef4e0adb7e">TSop::insertBlank</a></div><div class="ttdeci">DVAPI TSoundTrackP insertBlank(TSoundTrackP src, TINT32 s0, TINT32 l)</div><div class="ttdef"><b>Definition:</b> tsop.cpp:1118</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a832b8979e9f72d56276ec6b58bba8a9e" name="a832b8979e9f72d56276ec6b58bba8a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a832b8979e9f72d56276ec6b58bba8a9e">&#9670;&nbsp;</a></span>doPreviewRasterCompleted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MovieRenderer::Imp::doPreviewRasterCompleted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  620</span>                                  {</div>
<div class="line"><span class="lineno">  621</span>  <span class="comment">// Most probably unused now. I&#39;m not reviewing this.</span></div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>  assert(!m_levelUpdaterA.get());</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>  QMutexLocker sl(&amp;m_mutex);</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>  QString name = getPreviewName(m_renderSessionId);</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> ras = renderData.m_rasA-&gt;clone();</div>
<div class="line"><span class="lineno">  630</span>  <span class="keywordflow">if</span> (renderData.m_rasB) {</div>
<div class="line"><span class="lineno">  631</span>    assert(m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">m_stereoscopic</a>);</div>
<div class="line"><span class="lineno">  632</span>    TRop::makeStereoRaster(ras, renderData.m_rasB);</div>
<div class="line"><span class="lineno">  633</span>  }</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>  <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> img(ras);</div>
<div class="line"><span class="lineno">  636</span>  img-&gt;setDpi(m_xDpi, m_yDpi);</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordflow">if</span> (renderData.m_info.m_mark != <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>())</div>
<div class="line"><span class="lineno">  640</span>      addMark(renderData.m_info.m_mark, img);</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordflow">if</span> (img-&gt;getRaster()-&gt;getPixelSize() == 8) {</div>
<div class="line"><span class="lineno">  643</span>      <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> aux(img-&gt;getRaster()-&gt;getLx(), img-&gt;getRaster()-&gt;getLy());</div>
<div class="line"><span class="lineno">  644</span>      <a class="code hl_function" href="namespace_t_rop.html#a45a08fb48dd7d33ec629d722081d55c6">TRop::convert</a>(aux, img-&gt;getRaster());</div>
<div class="line"><span class="lineno">  645</span>      img-&gt;setRaster(aux);</div>
<div class="line"><span class="lineno">  646</span>    }</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>    QString frameName = name + QString::number(renderData.m_frames[0] + 1);</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>    TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">add</a>(frameName.toStdString(), img);</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <span class="comment">// controlla se ci sono frame(uguali ad altri) da mettere in cache</span></div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    std::vector&lt;double&gt;::const_iterator jt;</div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">for</span> (jt = renderData.m_frames.begin(), ++jt;</div>
<div class="line"><span class="lineno">  656</span>         jt != renderData.m_frames.end(); ++jt) {</div>
<div class="line"><span class="lineno">  657</span>      frameName = name + QString::number(*jt + 1);</div>
<div class="line"><span class="lineno">  658</span>      TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">add</a>(frameName.toStdString(), img);</div>
<div class="line"><span class="lineno">  659</span>    }</div>
<div class="line"><span class="lineno">  660</span>  } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  661</span>  }</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>  std::set&lt;MovieRenderer::Listener *&gt;::iterator listenerIt =</div>
<div class="line"><span class="lineno">  664</span>      m_listeners.begin();</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>  <span class="keywordtype">bool</span> okToContinue = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>  <span class="keywordflow">for</span> (; listenerIt != m_listeners.end(); ++listenerIt)</div>
<div class="line"><span class="lineno">  669</span>    okToContinue &amp;= (*listenerIt)-&gt;onFrameCompleted(renderData.m_frames[0]);</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>  <span class="keywordflow">if</span> (!okToContinue) {</div>
<div class="line"><span class="lineno">  672</span>    <span class="comment">// Svuoto la cache nel caso in cui si esce dal render prima della fine</span></div>
<div class="line"><span class="lineno">  673</span>    <span class="keywordtype">int</span> from, to;</div>
<div class="line"><span class="lineno">  674</span>    getRange(m_scene, <span class="keyword">true</span>, from, to);</div>
<div class="line"><span class="lineno">  675</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = from; i &lt; to; i++) {</div>
<div class="line"><span class="lineno">  676</span>      QString frameName = name + QString::number(i + 1);</div>
<div class="line"><span class="lineno">  677</span>      TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(frameName.toStdString());</div>
<div class="line"><span class="lineno">  678</span>    }</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>    m_renderer.stopRendering();</div>
<div class="line"><span class="lineno">  681</span>  }</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>  m_firstCompletedRaster = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  684</span>}</div>
<div class="ttc" id="aclass_t_image_cache_html_a124eae4cf370288f42c22b3477cb5163"><div class="ttname"><a href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">TImageCache::add</a></div><div class="ttdeci">void add(const std::string &amp;id, const TImageP &amp;img, bool overwrite=true)</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1153</div></div>
<div class="ttc" id="aclass_t_image_cache_html_a57d63227dfe2532b0aed22c47113be66"><div class="ttname"><a href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">TImageCache::remove</a></div><div class="ttdeci">void remove(const std::string &amp;id)</div><div class="ttdoc">Removes from the image cache the image associated to passed id.</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1260</div></div>
<div class="ttc" id="aclass_t_render_settings_html_aadbd5a3a50b242b366a93023d5f7da07"><div class="ttname"><a href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">TRenderSettings::m_stereoscopic</a></div><div class="ttdeci">bool m_stereoscopic</div><div class="ttdef"><b>Definition:</b> trasterfx.h:133</div></div>
<div class="ttc" id="anamespace_t_rop_html_a45a08fb48dd7d33ec629d722081d55c6"><div class="ttname"><a href="namespace_t_rop.html#a45a08fb48dd7d33ec629d722081d55c6">TRop::convert</a></div><div class="ttdeci">DVAPI void convert(TRasterP dst, const TRasterP &amp;src)</div><div class="ttdoc">Convert src raster in raster type dst.</div><div class="ttdef"><b>Definition:</b> tconvert.cpp:336</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66999057c680141e8c99097848082e62" name="a66999057c680141e8c99097848082e62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66999057c680141e8c99097848082e62">&#9670;&nbsp;</a></span>doRenderRasterCompleted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MovieRenderer::Imp::doRenderRasterCompleted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  472</span>                                                                           {</div>
<div class="line"><span class="lineno">  473</span>  assert(!(m_cacheResults &amp;&amp;</div>
<div class="line"><span class="lineno">  474</span>           m_levelUpdaterB.get()));  <span class="comment">// Cannot cache results on stereoscopy</span></div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>  QMutexLocker locker(&amp;m_mutex);</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>  <span class="keywordtype">bool</span> allowMT    = Preferences::instance()-&gt;getFfmpegMultiThread();</div>
<div class="line"><span class="lineno">  479</span>  <span class="keywordtype">bool</span> requireSeq = allowMT ? m_seqRequired : m_movieType;</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>  <span class="comment">// Build soundtrack at the first time a frame is completed - and the filetype</span></div>
<div class="line"><span class="lineno">  482</span>  <span class="comment">// is that of a movie.</span></div>
<div class="line"><span class="lineno">  483</span>  <span class="keywordflow">if</span> (m_firstCompletedRaster &amp;&amp; m_movieType &amp;&amp; !m_st) {</div>
<div class="line"><span class="lineno">  484</span>    <span class="keywordtype">int</span> boardDuration = addBoard();</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordtype">int</span> from, to;</div>
<div class="line"><span class="lineno">  487</span>    getRange(m_scene, <span class="keyword">false</span>, from, to);</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    <a class="code hl_class" href="class_t_level_p.html">TLevelP</a> oldLevel(m_levelUpdaterA-&gt;getInputLevel());</div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">if</span> (oldLevel) {</div>
<div class="line"><span class="lineno">  491</span>      from = std::min(from, oldLevel-&gt;begin()-&gt;first.getNumber() - 1);</div>
<div class="line"><span class="lineno">  492</span>      to   = std::max(to, (--oldLevel-&gt;end())-&gt;first.getNumber() - 1);</div>
<div class="line"><span class="lineno">  493</span>    }</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>    addSoundtrack(</div>
<div class="line"><span class="lineno">  496</span>        from, to,</div>
<div class="line"><span class="lineno">  497</span>        m_scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()-&gt;<a class="code hl_function" href="class_t_scene_properties.html#abea7b4b8e4f0cedbf753b26ec30b5331">getOutputProperties</a>()-&gt;<a class="code hl_function" href="class_t_output_properties.html#a0d9662971bc33097aa1b55111965b967">getFrameRate</a>(),</div>
<div class="line"><span class="lineno">  498</span>        boardDuration);</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordflow">if</span> (m_st) {</div>
<div class="line"><span class="lineno">  501</span>      m_levelUpdaterA-&gt;getLevelWriter()-&gt;saveSoundTrack(m_st.getPointer());</div>
<div class="line"><span class="lineno">  502</span>      <span class="keywordflow">if</span> (m_levelUpdaterB.get())</div>
<div class="line"><span class="lineno">  503</span>        m_levelUpdaterB-&gt;getLevelWriter()-&gt;saveSoundTrack(m_st.getPointer());</div>
<div class="line"><span class="lineno">  504</span>    }</div>
<div class="line"><span class="lineno">  505</span>  }</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>  <span class="comment">// Output frames must be *cloned*, since the supplied rasters will be</span></div>
<div class="line"><span class="lineno">  508</span>  <span class="comment">// overwritten by m_renderer</span></div>
<div class="line"><span class="lineno">  509</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> toBeSavedRasA = renderData.m_rasA-&gt;clone();</div>
<div class="line"><span class="lineno">  510</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> toBeSavedRasB =</div>
<div class="line"><span class="lineno">  511</span>      renderData.m_rasB ? renderData.m_rasB-&gt;clone() : <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>();</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>  m_toBeSaved[renderData.m_frames[0]] =</div>
<div class="line"><span class="lineno">  514</span>      std::make_pair(toBeSavedRasA, toBeSavedRasB);</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>  m_toBeAppliedGamma[renderData.m_frames[0]] = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span>  <span class="comment">// Prepare the cluster&#39;s frames to be saved (possibly in the future)</span></div>
<div class="line"><span class="lineno">  519</span>  std::vector&lt;double&gt;::const_iterator jt;</div>
<div class="line"><span class="lineno">  520</span>  <span class="keywordflow">for</span> (jt = renderData.m_frames.begin(), ++jt; jt != renderData.m_frames.end();</div>
<div class="line"><span class="lineno">  521</span>       ++jt) {</div>
<div class="line"><span class="lineno">  522</span>    m_toBeSaved[*jt]        = std::make_pair(toBeSavedRasA, toBeSavedRasB);</div>
<div class="line"><span class="lineno">  523</span>    m_toBeAppliedGamma[*jt] = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  524</span>  }</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>  <span class="comment">// Attempt flushing as many frames as possible to the level updater(s)</span></div>
<div class="line"><span class="lineno">  527</span>  <span class="keywordflow">while</span> (!m_toBeSaved.empty()) {</div>
<div class="line"><span class="lineno">  528</span>    std::map&lt;double, std::pair&lt;TRasterP, TRasterP&gt;&gt;::iterator ft =</div>
<div class="line"><span class="lineno">  529</span>        m_toBeSaved.begin();</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>    <span class="comment">// In the *movie type* case, frames must be saved sequentially.</span></div>
<div class="line"><span class="lineno">  532</span>    <span class="comment">// If the frame is not the next one in the sequence, wait until *that* frame</span></div>
<div class="line"><span class="lineno">  533</span>    <span class="comment">// is available.</span></div>
<div class="line"><span class="lineno">  534</span>    <span class="keywordflow">if</span> (requireSeq &amp;&amp;</div>
<div class="line"><span class="lineno">  535</span>        (ft-&gt;first != m_framesToBeRendered[m_nextFrameIdxToSave].first))</div>
<div class="line"><span class="lineno">  536</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>    <span class="comment">// This thread will be the one processing ft - remove it from the map to</span></div>
<div class="line"><span class="lineno">  539</span>    <span class="comment">// prevent another</span></div>
<div class="line"><span class="lineno">  540</span>    <span class="comment">// thread from interfering</span></div>
<div class="line"><span class="lineno">  541</span>    <span class="keywordtype">double</span> frame = ft-&gt;first;</div>
<div class="line"><span class="lineno">  542</span>    std::pair&lt;TRasterP, TRasterP&gt; rasters = ft-&gt;second;</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>    ++m_nextFrameIdxToSave;</div>
<div class="line"><span class="lineno">  545</span>    m_toBeSaved.erase(ft);</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>    <span class="comment">// Save current frame</span></div>
<div class="line"><span class="lineno">  548</span>    std::pair&lt;bool, int&gt; savedFrame;</div>
<div class="line"><span class="lineno">  549</span>    {</div>
<div class="line"><span class="lineno">  550</span>      <span class="comment">// Time the saving procedure</span></div>
<div class="line"><span class="lineno">  551</span>      <span class="keyword">struct </span>SaveTimer {</div>
<div class="line"><span class="lineno">  552</span>        <span class="keywordtype">int</span> &amp;m_count;</div>
<div class="line"><span class="lineno">  553</span>        SaveTimer(<span class="keywordtype">int</span> &amp;count) : m_count(count) {</div>
<div class="line"><span class="lineno">  554</span>          <span class="keywordflow">if</span> (m_count++ == 0) <a class="code hl_function" href="class_t_stop_watch.html#aaee6e300a0123a333d7cb80ad253125e">TStopWatch::global</a>(0).<a class="code hl_function" href="class_t_stop_watch.html#a81eefb8cd2dc776cc31799973be063a8">start</a>();</div>
<div class="line"><span class="lineno">  555</span>        }</div>
<div class="line"><span class="lineno">  556</span>        ~SaveTimer() {</div>
<div class="line"><span class="lineno">  557</span>          <span class="keywordflow">if</span> (--m_count == 0) <a class="code hl_function" href="class_t_stop_watch.html#aaee6e300a0123a333d7cb80ad253125e">TStopWatch::global</a>(0).stop();</div>
<div class="line"><span class="lineno">  558</span>        }</div>
<div class="line"><span class="lineno">  559</span>      } saveTimer(m_savingThreadsCount);</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>      <span class="comment">// Unlock the mutex only in case this is NOT a movie type. Single images</span></div>
<div class="line"><span class="lineno">  562</span>      <span class="comment">// can be saved concurrently.</span></div>
<div class="line"><span class="lineno">  563</span>      <span class="keyword">struct </span>MutexUnlocker {</div>
<div class="line"><span class="lineno">  564</span>        QMutexLocker *m_locker;</div>
<div class="line"><span class="lineno">  565</span>        ~MutexUnlocker() {</div>
<div class="line"><span class="lineno">  566</span>          <span class="keywordflow">if</span> (m_locker) m_locker-&gt;relock();</div>
<div class="line"><span class="lineno">  567</span>        }</div>
<div class="line"><span class="lineno">  568</span>      } unlocker = {requireSeq ? (QMutexLocker *)0</div>
<div class="line"><span class="lineno">  569</span>                               : (locker.unlock(), &amp;locker)};</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>      savedFrame = <a class="code hl_function" href="class_movie_renderer_1_1_imp.html#a600b9af83be9025249d0bd22371774b8">saveFrame</a>(frame, rasters);</div>
<div class="line"><span class="lineno">  572</span>    }</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>    <span class="comment">// Report status and deal with responses</span></div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordtype">bool</span> okToContinue = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>    std::set&lt;MovieRenderer::Listener *&gt;::iterator lt = m_listeners.begin();</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordflow">if</span> (savedFrame.first) {</div>
<div class="line"><span class="lineno">  580</span>      <span class="keywordflow">for</span> (; lt != m_listeners.end(); ++lt)</div>
<div class="line"><span class="lineno">  581</span>        okToContinue &amp;= (*lt)-&gt;onFrameCompleted(savedFrame.second);</div>
<div class="line"><span class="lineno">  582</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  583</span>      <span class="keywordflow">for</span> (; lt != m_listeners.end(); ++lt) {</div>
<div class="line"><span class="lineno">  584</span>        <a class="code hl_class" href="class_t_exception.html">TException</a> e;</div>
<div class="line"><span class="lineno">  585</span>        okToContinue &amp;= (*lt)-&gt;onFrameFailed(savedFrame.second, e);</div>
<div class="line"><span class="lineno">  586</span>      }</div>
<div class="line"><span class="lineno">  587</span>    }</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordflow">if</span> (!okToContinue) {</div>
<div class="line"><span class="lineno">  590</span>      <span class="comment">// Some listener invoked termination of the render procedure. It seems</span></div>
<div class="line"><span class="lineno">  591</span>      <span class="comment">// it&#39;s their right</span></div>
<div class="line"><span class="lineno">  592</span>      <span class="comment">// to do so. I wonder what happens if two listeners would disagree on the</span></div>
<div class="line"><span class="lineno">  593</span>      <span class="comment">// matter...</span></div>
<div class="line"><span class="lineno">  594</span>      <span class="comment">// BTW stop the rendering, alright.</span></div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>      {</div>
<div class="line"><span class="lineno">  597</span>        <span class="keywordtype">int</span> from, to;</div>
<div class="line"><span class="lineno">  598</span>        getRange(m_scene, <span class="keyword">false</span>, from,</div>
<div class="line"><span class="lineno">  599</span>                 to);  <span class="comment">// It&#39;s ok since cancels can only happen from Toonz...</span></div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = from; i &lt; to; i++)</div>
<div class="line"><span class="lineno">  602</span>          TImageCache::instance()-&gt;remove(m_renderCacheId +</div>
<div class="line"><span class="lineno">  603</span>                                          std::to_string(i + 1));</div>
<div class="line"><span class="lineno">  604</span>      }</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>      m_renderer.stopRendering();</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>      m_levelUpdaterA</div>
<div class="line"><span class="lineno">  609</span>          .reset();  <span class="comment">// No more saving. Further attempts to save images</span></div>
<div class="line"><span class="lineno">  610</span>      m_levelUpdaterB.reset();  <span class="comment">// will be rejected and treated as failures.</span></div>
<div class="line"><span class="lineno">  611</span>    }</div>
<div class="line"><span class="lineno">  612</span>  }</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>  m_firstCompletedRaster = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  615</span>}</div>
<div class="ttc" id="aclass_movie_renderer_1_1_imp_html_a600b9af83be9025249d0bd22371774b8"><div class="ttname"><a href="class_movie_renderer_1_1_imp.html#a600b9af83be9025249d0bd22371774b8">MovieRenderer::Imp::saveFrame</a></div><div class="ttdeci">std::pair&lt; bool, int &gt; saveFrame(double frame, const std::pair&lt; TRasterP, TRasterP &gt; &amp;rasters)</div><div class="ttdef"><b>Definition:</b> movierenderer.cpp:382</div></div>
<div class="ttc" id="aclass_t_exception_html"><div class="ttname"><a href="class_t_exception.html">TException</a></div><div class="ttdef"><b>Definition:</b> texception.h:18</div></div>
<div class="ttc" id="aclass_t_level_p_html"><div class="ttname"><a href="class_t_level_p.html">TLevelP</a></div><div class="ttdef"><b>Definition:</b> tlevel.h:77</div></div>
<div class="ttc" id="aclass_t_output_properties_html_a0d9662971bc33097aa1b55111965b967"><div class="ttname"><a href="class_t_output_properties.html#a0d9662971bc33097aa1b55111965b967">TOutputProperties::getFrameRate</a></div><div class="ttdeci">double getFrameRate() const</div><div class="ttdef"><b>Definition:</b> toutputproperties.h:175</div></div>
<div class="ttc" id="aclass_t_stop_watch_html_a81eefb8cd2dc776cc31799973be063a8"><div class="ttname"><a href="class_t_stop_watch.html#a81eefb8cd2dc776cc31799973be063a8">TStopWatch::start</a></div><div class="ttdeci">void start(bool resetFlag=false)</div><div class="ttdef"><b>Definition:</b> tstopwatch.cpp:105</div></div>
<div class="ttc" id="aclass_t_stop_watch_html_aaee6e300a0123a333d7cb80ad253125e"><div class="ttname"><a href="class_t_stop_watch.html#aaee6e300a0123a333d7cb80ad253125e">TStopWatch::global</a></div><div class="ttdeci">static TStopWatch &amp; global(int index)</div><div class="ttdef"><b>Definition:</b> tstopwatch.h:119</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6ab85d36f6c10210221aa4e8c616d479" name="a6ab85d36f6c10210221aa4e8c616d479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ab85d36f6c10210221aa4e8c616d479">&#9670;&nbsp;</a></span>onRenderFailure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MovieRenderer::Imp::onRenderFailure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_exception.html">TException</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_render_port.html">TRenderPort</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  689</span>                                                        {</div>
<div class="line"><span class="lineno">  690</span>  QMutexLocker sl(&amp;m_mutex);  <span class="comment">// Lock as soon as possible.</span></div>
<div class="line"><span class="lineno">  691</span>                              <span class="comment">// No sense making it later in this case!</span></div>
<div class="line"><span class="lineno">  692</span>  m_failure = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>  <span class="keywordtype">bool</span> allowMT    = Preferences::instance()-&gt;getFfmpegMultiThread();</div>
<div class="line"><span class="lineno">  695</span>  <span class="keywordtype">bool</span> requireSeq = allowMT ? m_seqRequired : m_movieType;</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>  <span class="comment">// If the saver object has already been destroyed - or it was never</span></div>
<div class="line"><span class="lineno">  698</span>  <span class="comment">// created to begin with, nothing to be done</span></div>
<div class="line"><span class="lineno">  699</span>  <span class="keywordflow">if</span> (!m_levelUpdaterA.get()) <span class="keywordflow">return</span>;  <span class="comment">// The preview case would fall here</span></div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>  <span class="comment">// Flush out as much as we can of the frames that were already rendered</span></div>
<div class="line"><span class="lineno">  702</span>  m_toBeSaved[0.0] =</div>
<div class="line"><span class="lineno">  703</span>      std::make_pair(<a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>(), <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>());  <span class="comment">// ?? Why is this ??</span></div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>  std::map&lt;double, std::pair&lt;TRasterP, TRasterP&gt;&gt;::iterator it =</div>
<div class="line"><span class="lineno">  706</span>      m_toBeSaved.begin();</div>
<div class="line"><span class="lineno">  707</span>  <span class="keywordflow">while</span> (it != m_toBeSaved.end()) {</div>
<div class="line"><span class="lineno">  708</span>    <span class="keywordflow">if</span> (requireSeq &amp;&amp;</div>
<div class="line"><span class="lineno">  709</span>        (it-&gt;first != m_framesToBeRendered[m_nextFrameIdxToSave].first))</div>
<div class="line"><span class="lineno">  710</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>    <span class="comment">// o_o!</span></div>
<div class="line"><span class="lineno">  713</span>    <span class="comment">// I would have expected that at least those frames that were computed could</span></div>
<div class="line"><span class="lineno">  714</span>    <span class="comment">// attempt saving! Why is this not addressed? They&#39;re even marked as</span></div>
<div class="line"><span class="lineno">  715</span>    <span class="comment">// &#39;failed&#39;!</span></div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>    <span class="keywordtype">double</span> stretchFac = (double)renderData.m_info.m_timeStretchTo /</div>
<div class="line"><span class="lineno">  718</span>                        renderData.m_info.m_timeStretchFrom;</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordtype">int</span> fr;</div>
<div class="line"><span class="lineno">  721</span>    if (stretchFac != 1)</div>
<div class="line"><span class="lineno">  722</span>      fr = tround(it-&gt;first * stretchFac);</div>
<div class="line"><span class="lineno">  723</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  724</span>      fr = (int)it-&gt;first;</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>    <span class="comment">// No saving? Really?</span></div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>    std::set&lt;MovieRenderer::Listener *&gt;::iterator lt = m_listeners.begin();</div>
<div class="line"><span class="lineno">  729</span>    <span class="keywordtype">bool</span> okToContinue                                = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>    <span class="keywordflow">for</span> (; lt != m_listeners.end(); ++lt)</div>
<div class="line"><span class="lineno">  732</span>      okToContinue &amp;= (*lt)-&gt;onFrameFailed((<span class="keywordtype">int</span>)it-&gt;first, e);</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">if</span> (!okToContinue) m_renderer.stopRendering();</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    ++m_nextFrameIdxToSave;</div>
<div class="line"><span class="lineno">  737</span>    m_toBeSaved.erase(it++);</div>
<div class="line"><span class="lineno">  738</span>  }</div>
<div class="line"><span class="lineno">  739</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac86c54ce82feda4b353e89ebce84216b" name="ac86c54ce82feda4b353e89ebce84216b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac86c54ce82feda4b353e89ebce84216b">&#9670;&nbsp;</a></span>onRenderFinished()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MovieRenderer::Imp::onRenderFinished </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isCanceled</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_render_port.html">TRenderPort</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  743</span>                                                       {</div>
<div class="line"><span class="lineno">  744</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> levelName(</div>
<div class="line"><span class="lineno">  745</span>      m_levelUpdaterA.get()</div>
<div class="line"><span class="lineno">  746</span>          ? m_fp</div>
<div class="line"><span class="lineno">  747</span>          : <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(getPreviewName(m_renderSessionId).toStdWString()));</div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span>  <span class="keywordflow">if</span> (m_waitAfterFinish) {</div>
<div class="line"><span class="lineno">  750</span>    <span class="comment">// Wait half a second to add some stability before finalizing</span></div>
<div class="line"><span class="lineno">  751</span>    QEventLoop eloop;</div>
<div class="line"><span class="lineno">  752</span>    QTimer timer;</div>
<div class="line"><span class="lineno">  753</span>    timer.connect(&amp;timer, &amp;QTimer::timeout, &amp;eloop, &amp;QEventLoop::quit);</div>
<div class="line"><span class="lineno">  754</span>    timer.start(500);</div>
<div class="line"><span class="lineno">  755</span>    eloop.exec();</div>
<div class="line"><span class="lineno">  756</span>  }</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>  <span class="comment">// Close updaters. After this, the output levels should be finalized on disk.</span></div>
<div class="line"><span class="lineno">  759</span>  m_levelUpdaterA.reset();</div>
<div class="line"><span class="lineno">  760</span>  m_levelUpdaterB.reset();</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>  <span class="keywordflow">if</span> (!m_failure) {</div>
<div class="line"><span class="lineno">  763</span>    <span class="comment">// Inform listeners of the render completion</span></div>
<div class="line"><span class="lineno">  764</span>    std::set&lt;MovieRenderer::Listener *&gt;::iterator it;</div>
<div class="line"><span class="lineno">  765</span>    <span class="keywordflow">for</span> (it = m_listeners.begin(); it != m_listeners.end(); ++it)</div>
<div class="line"><span class="lineno">  766</span>      (*it)-&gt;onSequenceCompleted(levelName);</div>
<div class="line"><span class="lineno">  767</span> </div>
<div class="line"><span class="lineno">  768</span>    <span class="comment">// I wonder why listeners are not informed of a failed sequence, btw...</span></div>
<div class="line"><span class="lineno">  769</span>  }</div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span>  release();  <span class="comment">// The movieRenderer is released by the render process. It could</span></div>
<div class="line"><span class="lineno">  772</span>              <span class="comment">// eventually be deleted.</span></div>
<div class="line"><span class="lineno">  773</span>}</div>
<div class="ttc" id="aclass_t_file_path_html"><div class="ttname"><a href="class_t_file_path.html">TFilePath</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:134</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a70aa0241932852101908c93e57365f" name="a8a70aa0241932852101908c93e57365f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a70aa0241932852101908c93e57365f">&#9670;&nbsp;</a></span>onRenderRasterCompleted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MovieRenderer::Imp::onRenderRasterCompleted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="class_t_render_port.html">TRenderPort</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  354</span>                                                                           {</div>
<div class="line"><span class="lineno">  355</span>  <span class="keywordflow">if</span> (m_preview)</div>
<div class="line"><span class="lineno">  356</span>    doPreviewRasterCompleted(renderData);</div>
<div class="line"><span class="lineno">  357</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  358</span>    doRenderRasterCompleted(renderData);</div>
<div class="line"><span class="lineno">  359</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a876d0b661b631b129c4c5174272a6ee1" name="a876d0b661b631b129c4c5174272a6ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a876d0b661b631b129c4c5174272a6ee1">&#9670;&nbsp;</a></span>postProcessImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MovieRenderer::Imp::postProcessImage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> &amp;&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>has64bitOutputSupport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_smart_pointer_t.html">TRasterP</a> &amp;&#160;</td>
          <td class="paramname"><em>mark</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  365</span>                                                                           {</div>
<div class="line"><span class="lineno">  366</span>  img-&gt;setDpi(m_xDpi, m_yDpi);</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>  <span class="keywordflow">if</span> (img-&gt;getRaster()-&gt;getPixelSize() == 8 &amp;&amp; !has64bitOutputSupport) {</div>
<div class="line"><span class="lineno">  369</span>    <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> aux(img-&gt;getRaster()-&gt;getLx(), img-&gt;getRaster()-&gt;getLy());</div>
<div class="line"><span class="lineno">  370</span>    <a class="code hl_function" href="namespace_t_rop.html#a45a08fb48dd7d33ec629d722081d55c6">TRop::convert</a>(aux, img-&gt;getRaster());</div>
<div class="line"><span class="lineno">  371</span>    img-&gt;setRaster(aux);</div>
<div class="line"><span class="lineno">  372</span>  }</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>  <span class="keywordflow">if</span> (mark) addMark(mark, img);</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>  <span class="keywordflow">if</span> (Preferences::instance()-&gt;isSceneNumberingEnabled())</div>
<div class="line"><span class="lineno">  377</span>    TRasterImageUtils::addGlobalNumbering(img, m_scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a1fa0a1cbf9eb6360d980392acc99924b">getSceneName</a>(), frame);</div>
<div class="line"><span class="lineno">  378</span>}</div>
<div class="ttc" id="aclass_toonz_scene_html_a1fa0a1cbf9eb6360d980392acc99924b"><div class="ttname"><a href="class_toonz_scene.html#a1fa0a1cbf9eb6360d980392acc99924b">ToonzScene::getSceneName</a></div><div class="ttdeci">std::wstring getSceneName() const</div><div class="ttdoc">Returns the scene's name.</div><div class="ttdef"><b>Definition:</b> toonzscene.h:64</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a672a24838298237364eabcac08e630ec" name="a672a24838298237364eabcac08e630ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a672a24838298237364eabcac08e630ec">&#9670;&nbsp;</a></span>prepareForStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MovieRenderer::Imp::prepareForStart </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  212</span>                                       {</div>
<div class="line"><span class="lineno">  213</span>  <span class="keyword">struct </span>locals {</div>
<div class="line"><span class="lineno">  214</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> eraseUncompatibleExistingLevel(</div>
<div class="line"><span class="lineno">  215</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;fp, <span class="keyword">const</span> <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> &amp;imageSize)  <span class="comment">// nothrow</span></div>
<div class="line"><span class="lineno">  216</span>    {</div>
<div class="line"><span class="lineno">  217</span>      assert(!fp.isEmpty());</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>      <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(fp)) {</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="namespace_t_sop.html#a12e3eb96f32b4d2ebddf0b2c99a43eb4">remove</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  221</span>        <span class="comment">// In case the raster specifics are different from those of a currently</span></div>
<div class="line"><span class="lineno">  222</span>        <span class="comment">// existing movie, erase it</span></div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  224</span>          <span class="keywordflow">if</span> (fp.isFfmpegType()) {</div>
<div class="line"><span class="lineno">  225</span>            TSystem::removeFileOrLevel(fp);</div>
<div class="line"><span class="lineno">  226</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  227</span>            <a class="code hl_class" href="class_t_level_reader_p.html">TLevelReaderP</a> lr(fp);</div>
<div class="line"><span class="lineno">  228</span>            lr-&gt;loadInfo();</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>            <span class="keyword">const</span> <a class="code hl_class" href="class_t_image_info.html">TImageInfo</a> *info = lr-&gt;getImageInfo();</div>
<div class="line"><span class="lineno">  231</span>            <span class="keywordflow">if</span> (!info || info-&gt;m_lx != imageSize.lx ||</div>
<div class="line"><span class="lineno">  232</span>                info-&gt;m_ly != imageSize.ly)</div>
<div class="line"><span class="lineno">  233</span>              TSystem::removeFileOrLevel(fp);  <span class="comment">// nothrow</span></div>
<div class="line"><span class="lineno">  234</span>          }</div>
<div class="line"><span class="lineno">  235</span>        } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  236</span>          <span class="comment">// Same if the level could not be read/opened</span></div>
<div class="line"><span class="lineno">  237</span>          TSystem::removeFileOrLevel(fp);  <span class="comment">// nothrow</span></div>
<div class="line"><span class="lineno">  238</span>        }</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>        <span class="comment">// NOTE: The level removal procedure could still fail.</span></div>
<div class="line"><span class="lineno">  241</span>        <span class="comment">// In this case, no signaling takes place. The level readers will throw</span></div>
<div class="line"><span class="lineno">  242</span>        <span class="comment">// when the time to write on the file comes, leading to a render</span></div>
<div class="line"><span class="lineno">  243</span>        <span class="comment">// failure.</span></div>
<div class="line"><span class="lineno">  244</span>      }</div>
<div class="line"><span class="lineno">  245</span>    }</div>
<div class="line"><span class="lineno">  246</span>  };</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>  <a class="code hl_class" href="class_t_output_properties.html">TOutputProperties</a> *oprop = m_scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()-&gt;<a class="code hl_function" href="class_t_scene_properties.html#abea7b4b8e4f0cedbf753b26ec30b5331">getOutputProperties</a>();</div>
<div class="line"><span class="lineno">  249</span>  <span class="keywordtype">double</span> frameRate         = (double)oprop-&gt;<a class="code hl_function" href="class_t_output_properties.html#a0d9662971bc33097aa1b55111965b967">getFrameRate</a>();</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>  <span class="comment">/*-- Frame rate  stretch --*/</span></div>
<div class="line"><span class="lineno">  252</span>  <span class="keywordtype">double</span> stretchFactor = oprop-&gt;<a class="code hl_function" href="class_t_output_properties.html#afa7c771452b57b50047aa4afc6032cad">getRenderSettings</a>().<a class="code hl_variable" href="class_t_render_settings.html#a6b8313c094bdb0c2ab6902b1f895694e">m_timeStretchTo</a> /</div>
<div class="line"><span class="lineno">  253</span>                         oprop-&gt;<a class="code hl_function" href="class_t_output_properties.html#afa7c771452b57b50047aa4afc6032cad">getRenderSettings</a>().<a class="code hl_variable" href="class_t_render_settings.html#aec1a905d4eec617a546c286480f41b2a">m_timeStretchFrom</a>;</div>
<div class="line"><span class="lineno">  254</span>  frameRate *= stretchFactor;</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>  <span class="comment">// Get the shrink</span></div>
<div class="line"><span class="lineno">  257</span>  <span class="keywordtype">int</span> shrinkX = m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a>,</div>
<div class="line"><span class="lineno">  258</span>      shrinkY = m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a>;</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>  <span class="comment">// Build the render area</span></div>
<div class="line"><span class="lineno">  261</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> cameraPos(-0.5 * m_frameSize.lx, -0.5 * m_frameSize.ly);</div>
<div class="line"><span class="lineno">  262</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimensionD</a> cameraRes(<span class="keywordtype">double</span>(m_frameSize.lx) / shrinkX,</div>
<div class="line"><span class="lineno">  263</span>                        <span class="keywordtype">double</span>(m_frameSize.ly) / shrinkY);</div>
<div class="line"><span class="lineno">  264</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> cameraResI(cameraRes.lx, cameraRes.ly);</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> renderArea(cameraPos.x, cameraPos.y, cameraPos.x + cameraRes.lx,</div>
<div class="line"><span class="lineno">  267</span>                    cameraPos.y + cameraRes.ly);</div>
<div class="line"><span class="lineno">  268</span>  <a class="code hl_function" href="class_t_render_port.html#a743d79f021d27a9f8017ef468839cadb">setRenderArea</a>(renderArea);</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>  <span class="keywordflow">if</span> (!m_fp.isEmpty()) {</div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">try</span>  <span class="comment">// Construction of a LevelUpdater may throw (well, almost ANY operation</span></div>
<div class="line"><span class="lineno">  272</span>         <span class="comment">// on a LevelUpdater</span></div>
<div class="line"><span class="lineno">  273</span>    {    <span class="comment">// could throw). But due to backward compatibility this function is</span></div>
<div class="line"><span class="lineno">  274</span>         <span class="comment">// assumed to be non-throwing.</span></div>
<div class="line"><span class="lineno">  275</span>      <span class="keywordflow">if</span> (!m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">m_stereoscopic</a>) {</div>
<div class="line"><span class="lineno">  276</span>        locals::eraseUncompatibleExistingLevel(m_fp, cameraResI);</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>        m_levelUpdaterA.reset(<span class="keyword">new</span> <a class="code hl_class" href="class_level_updater.html">LevelUpdater</a>(</div>
<div class="line"><span class="lineno">  279</span>            m_fp, oprop-&gt;<a class="code hl_function" href="class_t_output_properties.html#a9ef174e6f6239219fa563b037246c8d4">getFileFormatProperties</a>(m_fp.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>())));</div>
<div class="line"><span class="lineno">  280</span>        m_levelUpdaterA-&gt;getLevelWriter()-&gt;setFrameRate(frameRate);</div>
<div class="line"><span class="lineno">  281</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  282</span>        <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> leftFp  = m_fp.<a class="code hl_function" href="class_t_file_path.html#a3ebf9ced558cfef97a60bba536b23c6f">withName</a>(m_fp.<a class="code hl_function" href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">getName</a>() + <span class="stringliteral">&quot;_l&quot;</span>);</div>
<div class="line"><span class="lineno">  283</span>        <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> rightFp = m_fp.<a class="code hl_function" href="class_t_file_path.html#a3ebf9ced558cfef97a60bba536b23c6f">withName</a>(m_fp.<a class="code hl_function" href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">getName</a>() + <span class="stringliteral">&quot;_r&quot;</span>);</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>        locals::eraseUncompatibleExistingLevel(leftFp, cameraResI);</div>
<div class="line"><span class="lineno">  286</span>        locals::eraseUncompatibleExistingLevel(rightFp, cameraResI);</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>        m_levelUpdaterA.reset(<span class="keyword">new</span> <a class="code hl_class" href="class_level_updater.html">LevelUpdater</a>(</div>
<div class="line"><span class="lineno">  289</span>            leftFp, oprop-&gt;<a class="code hl_function" href="class_t_output_properties.html#a9ef174e6f6239219fa563b037246c8d4">getFileFormatProperties</a>(leftFp.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>())));</div>
<div class="line"><span class="lineno">  290</span>        m_levelUpdaterA-&gt;getLevelWriter()-&gt;setFrameRate(frameRate);</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>        m_levelUpdaterB.reset(<span class="keyword">new</span> <a class="code hl_class" href="class_level_updater.html">LevelUpdater</a>(</div>
<div class="line"><span class="lineno">  293</span>            rightFp, oprop-&gt;<a class="code hl_function" href="class_t_output_properties.html#a9ef174e6f6239219fa563b037246c8d4">getFileFormatProperties</a>(rightFp.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>())));</div>
<div class="line"><span class="lineno">  294</span>        m_levelUpdaterB-&gt;getLevelWriter()-&gt;setFrameRate(frameRate);</div>
<div class="line"><span class="lineno">  295</span>      }</div>
<div class="line"><span class="lineno">  296</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  297</span>      <span class="comment">// If we get here, it&#39;s because one of the LevelUpdaters could not be</span></div>
<div class="line"><span class="lineno">  298</span>      <span class="comment">// created. So, let&#39;s say</span></div>
<div class="line"><span class="lineno">  299</span>      <span class="comment">// that if one could not be created, then ALL OF THEM couldn&#39;t (ie saving</span></div>
<div class="line"><span class="lineno">  300</span>      <span class="comment">// is not possible at all).</span></div>
<div class="line"><span class="lineno">  301</span>      m_levelUpdaterA.reset();</div>
<div class="line"><span class="lineno">  302</span>      m_levelUpdaterB.reset();</div>
<div class="line"><span class="lineno">  303</span>    }</div>
<div class="line"><span class="lineno">  304</span>  }</div>
<div class="line"><span class="lineno">  305</span>}</div>
<div class="ttc" id="aclass_level_updater_html"><div class="ttname"><a href="class_level_updater.html">LevelUpdater</a></div><div class="ttdef"><b>Definition:</b> levelupdater.h:104</div></div>
<div class="ttc" id="aclass_t_file_path_html_aefca624df1a5468a4c78ec6d5dbfae26"><div class="ttname"><a href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">TFilePath::getType</a></div><div class="ttdeci">std::string getType() const</div><div class="ttdef"><b>Definition:</b> tfilepath.h:225</div></div>
<div class="ttc" id="aclass_t_image_info_html"><div class="ttname"><a href="class_t_image_info.html">TImageInfo</a></div><div class="ttdoc">Stores description data about a generic image.</div><div class="ttdef"><b>Definition:</b> timageinfo.h:35</div></div>
<div class="ttc" id="aclass_t_level_reader_p_html"><div class="ttname"><a href="class_t_level_reader_p.html">TLevelReaderP</a></div><div class="ttdef"><b>Definition:</b> tlevel_io.h:109</div></div>
<div class="ttc" id="aclass_t_output_properties_html"><div class="ttname"><a href="class_t_output_properties.html">TOutputProperties</a></div><div class="ttdef"><b>Definition:</b> toutputproperties.h:63</div></div>
<div class="ttc" id="aclass_t_output_properties_html_a9ef174e6f6239219fa563b037246c8d4"><div class="ttname"><a href="class_t_output_properties.html#a9ef174e6f6239219fa563b037246c8d4">TOutputProperties::getFileFormatProperties</a></div><div class="ttdeci">TPropertyGroup * getFileFormatProperties(std::string ext)</div><div class="ttdef"><b>Definition:</b> outputproperties.cpp:156</div></div>
<div class="ttc" id="aclass_t_output_properties_html_afa7c771452b57b50047aa4afc6032cad"><div class="ttname"><a href="class_t_output_properties.html#afa7c771452b57b50047aa4afc6032cad">TOutputProperties::getRenderSettings</a></div><div class="ttdeci">const TRenderSettings &amp; getRenderSettings() const</div><div class="ttdef"><b>Definition:</b> toutputproperties.h:181</div></div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_rect_t_html"><div class="ttname"><a href="class_t_rect_t.html">TRectT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_render_port_html_a743d79f021d27a9f8017ef468839cadb"><div class="ttname"><a href="class_t_render_port.html#a743d79f021d27a9f8017ef468839cadb">TRenderPort::setRenderArea</a></div><div class="ttdeci">void setRenderArea(const TRectD &amp;area)</div><div class="ttdef"><b>Definition:</b> trenderer.cpp:903</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a6b8313c094bdb0c2ab6902b1f895694e"><div class="ttname"><a href="class_t_render_settings.html#a6b8313c094bdb0c2ab6902b1f895694e">TRenderSettings::m_timeStretchTo</a></div><div class="ttdeci">double m_timeStretchTo</div><div class="ttdef"><b>Definition:</b> trasterfx.h:110</div></div>
<div class="ttc" id="aclass_t_render_settings_html_aec1a905d4eec617a546c286480f41b2a"><div class="ttname"><a href="class_t_render_settings.html#aec1a905d4eec617a546c286480f41b2a">TRenderSettings::m_timeStretchFrom</a></div><div class="ttdeci">double m_timeStretchFrom</div><div class="ttdef"><b>Definition:</b> trasterfx.h:109</div></div>
<div class="ttc" id="anamespace_t_sop_html_a12e3eb96f32b4d2ebddf0b2c99a43eb4"><div class="ttname"><a href="namespace_t_sop.html#a12e3eb96f32b4d2ebddf0b2c99a43eb4">TSop::remove</a></div><div class="ttdeci">DVAPI TSoundTrackP remove(TSoundTrackP src, TINT32 s0, TINT32 s1, TSoundTrackP &amp;paste)</div><div class="ttdef"><b>Definition:</b> tsop.cpp:1152</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a600b9af83be9025249d0bd22371774b8" name="a600b9af83be9025249d0bd22371774b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a600b9af83be9025249d0bd22371774b8">&#9670;&nbsp;</a></span>saveFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; bool, int &gt; MovieRenderer::Imp::saveFrame </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::pair&lt; <a class="el" href="class_t_smart_pointer_t.html">TRasterP</a>, <a class="el" href="class_t_smart_pointer_t.html">TRasterP</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rasters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Saves the specified rasters at the specified time; returns whether the frames were successfully saved, and the associated time-adjusted level frame. </p>
<div class="fragment"><div class="line"><span class="lineno">  383</span>                                                              {</div>
<div class="line"><span class="lineno">  384</span>  <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>  <span class="comment">// Build the frame number to write to</span></div>
<div class="line"><span class="lineno">  387</span>  <span class="keywordtype">double</span> stretchFac = double(m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a6b8313c094bdb0c2ab6902b1f895694e">m_timeStretchTo</a>) /</div>
<div class="line"><span class="lineno">  388</span>                      m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#aec1a905d4eec617a546c286480f41b2a">m_timeStretchFrom</a>;</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>  <span class="keywordtype">int</span> fr = (stretchFac != 1) ? tround(frame * stretchFac) : int(frame);</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>  <span class="keywordtype">int</span> boardDuration = 0;</div>
<div class="line"><span class="lineno">  393</span>  <span class="keywordflow">if</span> (m_movieType) {</div>
<div class="line"><span class="lineno">  394</span>    <a class="code hl_class" href="class_board_settings.html">BoardSettings</a> *bs =</div>
<div class="line"><span class="lineno">  395</span>        m_scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()-&gt;<a class="code hl_function" href="class_t_scene_properties.html#abea7b4b8e4f0cedbf753b26ec30b5331">getOutputProperties</a>()-&gt;getBoardSettings();</div>
<div class="line"><span class="lineno">  396</span>    boardDuration = (bs-&gt;isActive()) ? bs-&gt;getDuration() : 0;</div>
<div class="line"><span class="lineno">  397</span>  }</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>  <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid(fr + 1 + boardDuration);</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>  <span class="keywordflow">if</span> (m_levelUpdaterA.get()) {</div>
<div class="line"><span class="lineno">  402</span>    assert(m_levelUpdaterB.get() || !rasters.second);</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>    <span class="comment">// Analyze writer</span></div>
<div class="line"><span class="lineno">  405</span>    <span class="keywordtype">bool</span> has64bitOutputSupport = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  406</span>    {</div>
<div class="line"><span class="lineno">  407</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_image_writer_p.html">TImageWriterP</a> writerA =</div>
<div class="line"><span class="lineno">  408</span>              m_levelUpdaterA-&gt;getLevelWriter()-&gt;getFrameWriter(fid))</div>
<div class="line"><span class="lineno">  409</span>        has64bitOutputSupport = writerA-&gt;is64bitOutputSupported();</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>      <span class="comment">// NOTE: If the writer could not be retrieved, the updater will throw.</span></div>
<div class="line"><span class="lineno">  412</span>      <span class="comment">// Failure will be caught then.</span></div>
<div class="line"><span class="lineno">  413</span>    }</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    <span class="comment">// Prepare the images to be flushed</span></div>
<div class="line"><span class="lineno">  416</span>    <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> rasterA = rasters.first, rasterB = rasters.second;</div>
<div class="line"><span class="lineno">  417</span>    assert(rasterA);</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>    <span class="comment">/*--- </span></div>
<div class="line"><span class="lineno">  420</span><span class="comment">    </span></div>
<div class="line"><span class="lineno">  421</span><span class="comment">---*/</span></div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">if</span> (m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a50a57f97b30445a34582da914064d8ca">m_gamma</a> != 1.0 &amp;&amp; m_toBeAppliedGamma[frame]) {</div>
<div class="line"><span class="lineno">  423</span>      <a class="code hl_function" href="namespace_t_rop.html#ad4babe6813c171b27ede85b106642bf2">TRop::gammaCorrect</a>(rasterA, m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a50a57f97b30445a34582da914064d8ca">m_gamma</a>);</div>
<div class="line"><span class="lineno">  424</span>      <span class="keywordflow">if</span> (rasterB) <a class="code hl_function" href="namespace_t_rop.html#ad4babe6813c171b27ede85b106642bf2">TRop::gammaCorrect</a>(rasterB, m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a50a57f97b30445a34582da914064d8ca">m_gamma</a>);</div>
<div class="line"><span class="lineno">  425</span>    }</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>    <span class="comment">// Flush images</span></div>
<div class="line"><span class="lineno">  428</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  429</span>      <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> imgA(rasterA);</div>
<div class="line"><span class="lineno">  430</span>      postProcessImage(imgA, has64bitOutputSupport, m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a2cbb6a122530787ede233e5e59e44113">m_mark</a>,</div>
<div class="line"><span class="lineno">  431</span>                       fid.getNumber());</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>      m_levelUpdaterA-&gt;update(fid, imgA);</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>      <span class="keywordflow">if</span> (rasterB) {</div>
<div class="line"><span class="lineno">  436</span>        <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> imgB(rasterB);</div>
<div class="line"><span class="lineno">  437</span>        postProcessImage(imgB, has64bitOutputSupport, m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a2cbb6a122530787ede233e5e59e44113">m_mark</a>,</div>
<div class="line"><span class="lineno">  438</span>                         fid.getNumber());</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>        m_levelUpdaterB-&gt;update(fid, imgB);</div>
<div class="line"><span class="lineno">  441</span>      }</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>      <span class="comment">// Should no more throw from here on</span></div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>      <span class="keywordflow">if</span> (m_cacheResults) {</div>
<div class="line"><span class="lineno">  446</span>        <span class="keywordflow">if</span> (imgA-&gt;getRaster()-&gt;getPixelSize() == 8) {</div>
<div class="line"><span class="lineno">  447</span>          <span class="comment">// Convert 64-bit images to 32 - cached images are supposed to be</span></div>
<div class="line"><span class="lineno">  448</span>          <span class="comment">// 32-bit</span></div>
<div class="line"><span class="lineno">  449</span>          <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> aux(imgA-&gt;getRaster()-&gt;getLx(),</div>
<div class="line"><span class="lineno">  450</span>                         imgA-&gt;getRaster()-&gt;getLy());</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span>          <a class="code hl_function" href="namespace_t_rop.html#a45a08fb48dd7d33ec629d722081d55c6">TRop::convert</a>(aux, imgA-&gt;getRaster());</div>
<div class="line"><span class="lineno">  453</span>          imgA-&gt;setRaster(aux);</div>
<div class="line"><span class="lineno">  454</span>        }</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>        TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">add</a>(</div>
<div class="line"><span class="lineno">  457</span>            m_renderCacheId + std::to_string(fid.getNumber()), imgA);</div>
<div class="line"><span class="lineno">  458</span>      }</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>      success = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  461</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  462</span>      <span class="comment">// Nothing. The images could not be saved for whatever reason.</span></div>
<div class="line"><span class="lineno">  463</span>      <span class="comment">// Failure is reported.</span></div>
<div class="line"><span class="lineno">  464</span>    }</div>
<div class="line"><span class="lineno">  465</span>  }</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>  <span class="keywordflow">return</span> std::make_pair(success, fr);</div>
<div class="line"><span class="lineno">  468</span>}</div>
<div class="ttc" id="aclass_t_image_writer_p_html"><div class="ttname"><a href="class_t_image_writer_p.html">TImageWriterP</a></div><div class="ttdef"><b>Definition:</b> timage_io.h:255</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a2cbb6a122530787ede233e5e59e44113"><div class="ttname"><a href="class_t_render_settings.html#a2cbb6a122530787ede233e5e59e44113">TRenderSettings::m_mark</a></div><div class="ttdeci">TRasterP m_mark</div><div class="ttdef"><b>Definition:</b> trasterfx.h:103</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a50a57f97b30445a34582da914064d8ca"><div class="ttname"><a href="class_t_render_settings.html#a50a57f97b30445a34582da914064d8ca">TRenderSettings::m_gamma</a></div><div class="ttdeci">double m_gamma</div><div class="ttdef"><b>Definition:</b> trasterfx.h:106</div></div>
<div class="ttc" id="anamespace_t_rop_html_ad4babe6813c171b27ede85b106642bf2"><div class="ttname"><a href="namespace_t_rop.html#ad4babe6813c171b27ede85b106642bf2">TRop::gammaCorrect</a></div><div class="ttdeci">DVAPI void gammaCorrect(TRasterP raster, double gamma)</div><div class="ttdoc">Make a gamma correct in the raster.</div><div class="ttdef"><b>Definition:</b> trop.cpp:173</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01153">TImageCache::add()</a>, <a class="el" href="#l00336">TRop::convert()</a>, and <a class="el" href="#l00173">TRop::gammaCorrect()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac52dd385c89e467b3cd814613fdf4ea7" name="ac52dd385c89e467b3cd814613fdf4ea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac52dd385c89e467b3cd814613fdf4ea7">&#9670;&nbsp;</a></span>m_cacheResults</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MovieRenderer::Imp::m_cacheResults</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad78521a1fc8b22aa21ce4cb333abe018" name="ad78521a1fc8b22aa21ce4cb333abe018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78521a1fc8b22aa21ce4cb333abe018">&#9670;&nbsp;</a></span>m_failure</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MovieRenderer::Imp::m_failure</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4811c72452c85a868df6db55ce9ae305" name="a4811c72452c85a868df6db55ce9ae305"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4811c72452c85a868df6db55ce9ae305">&#9670;&nbsp;</a></span>m_firstCompletedRaster</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MovieRenderer::Imp::m_firstCompletedRaster</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c3499c9b3aa81784795c358f91a6027" name="a1c3499c9b3aa81784795c358f91a6027"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c3499c9b3aa81784795c358f91a6027">&#9670;&nbsp;</a></span>m_fp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_file_path.html">TFilePath</a> MovieRenderer::Imp::m_fp</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7c2e14ccfc7ebd06a80730140007ff82" name="a7c2e14ccfc7ebd06a80730140007ff82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c2e14ccfc7ebd06a80730140007ff82">&#9670;&nbsp;</a></span>m_frameSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_dimension_t.html">TDimension</a> MovieRenderer::Imp::m_frameSize</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae84848cece329c9e8f3e17646449d4d1" name="ae84848cece329c9e8f3e17646449d4d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae84848cece329c9e8f3e17646449d4d1">&#9670;&nbsp;</a></span>m_framesToBeRendered</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::pair&lt;double, <a class="el" href="class_t_fx_pair.html">TFxPair</a>&gt; &gt; MovieRenderer::Imp::m_framesToBeRendered</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1a2802e5d7eb81c7394398dd559d9c9d" name="a1a2802e5d7eb81c7394398dd559d9c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a2802e5d7eb81c7394398dd559d9c9d">&#9670;&nbsp;</a></span>m_levelUpdaterA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="class_level_updater.html">LevelUpdater</a>&gt; MovieRenderer::Imp::m_levelUpdaterA</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a89dfee571e072493b72bd1be241c0cc1" name="a89dfee571e072493b72bd1be241c0cc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89dfee571e072493b72bd1be241c0cc1">&#9670;&nbsp;</a></span>m_levelUpdaterB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="class_level_updater.html">LevelUpdater</a>&gt; MovieRenderer::Imp::m_levelUpdaterB</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab9079d5ed2b5ad349bb11743db452727" name="ab9079d5ed2b5ad349bb11743db452727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9079d5ed2b5ad349bb11743db452727">&#9670;&nbsp;</a></span>m_listeners</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="class_movie_renderer_1_1_listener.html">MovieRenderer::Listener</a> *&gt; MovieRenderer::Imp::m_listeners</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7ee70acc75857485e90fccbb51c58167" name="a7ee70acc75857485e90fccbb51c58167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ee70acc75857485e90fccbb51c58167">&#9670;&nbsp;</a></span>m_movieType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MovieRenderer::Imp::m_movieType</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a571337aaf898a7af21a05ea407210c59" name="a571337aaf898a7af21a05ea407210c59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a571337aaf898a7af21a05ea407210c59">&#9670;&nbsp;</a></span>m_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_thread_1_1_mutex.html">TThread::Mutex</a> MovieRenderer::Imp::m_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a853a853ac4affa3836f227f3c5ac622d" name="a853a853ac4affa3836f227f3c5ac622d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a853a853ac4affa3836f227f3c5ac622d">&#9670;&nbsp;</a></span>m_nextFrameIdxToSave</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MovieRenderer::Imp::m_nextFrameIdxToSave</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab465ef58ed529077ff1809ba522bc5cd" name="ab465ef58ed529077ff1809ba522bc5cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab465ef58ed529077ff1809ba522bc5cd">&#9670;&nbsp;</a></span>m_preview</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MovieRenderer::Imp::m_preview</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9fdfc7abd5ade9cac413039b93b895e5" name="a9fdfc7abd5ade9cac413039b93b895e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fdfc7abd5ade9cac413039b93b895e5">&#9670;&nbsp;</a></span>m_renderCacheId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string MovieRenderer::Imp::m_renderCacheId</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abeb6da0281ec2d81441b62f66b467b13" name="abeb6da0281ec2d81441b62f66b467b13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb6da0281ec2d81441b62f66b467b13">&#9670;&nbsp;</a></span>m_renderer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_renderer.html">TRenderer</a> MovieRenderer::Imp::m_renderer</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a441e9bbf1ea016c97225a63e057b41db" name="a441e9bbf1ea016c97225a63e057b41db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a441e9bbf1ea016c97225a63e057b41db">&#9670;&nbsp;</a></span>m_renderSessionId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MovieRenderer::Imp::m_renderSessionId</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0536b5566f2b72c9468ec4ca1506c72d" name="a0536b5566f2b72c9468ec4ca1506c72d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0536b5566f2b72c9468ec4ca1506c72d">&#9670;&nbsp;</a></span>m_renderSettings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_render_settings.html">TRenderSettings</a> MovieRenderer::Imp::m_renderSettings</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a188b1407131c2c18c37408eff409264c" name="a188b1407131c2c18c37408eff409264c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a188b1407131c2c18c37408eff409264c">&#9670;&nbsp;</a></span>m_savingThreadsCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MovieRenderer::Imp::m_savingThreadsCount</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac7ec3cd931c140e7ceedf1142aa29e6b" name="ac7ec3cd931c140e7ceedf1142aa29e6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7ec3cd931c140e7ceedf1142aa29e6b">&#9670;&nbsp;</a></span>m_scene</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_toonz_scene.html">ToonzScene</a>* MovieRenderer::Imp::m_scene</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7c2e6205764a8498edecc08e2ae2de49" name="a7c2e6205764a8498edecc08e2ae2de49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c2e6205764a8498edecc08e2ae2de49">&#9670;&nbsp;</a></span>m_seqRequired</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MovieRenderer::Imp::m_seqRequired</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a76586f81a2a28a1b9306409735c2b5f8" name="a76586f81a2a28a1b9306409735c2b5f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76586f81a2a28a1b9306409735c2b5f8">&#9670;&nbsp;</a></span>m_st</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_smart_pointer_t.html">TSoundTrackP</a> MovieRenderer::Imp::m_st</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ae3fa172a0bf50dd78dbc3d5d20531d" name="a4ae3fa172a0bf50dd78dbc3d5d20531d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ae3fa172a0bf50dd78dbc3d5d20531d">&#9670;&nbsp;</a></span>m_toBeAppliedGamma</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;double, bool&gt; MovieRenderer::Imp::m_toBeAppliedGamma</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3db4041204f7e275e50fc89ff49213c1" name="a3db4041204f7e275e50fc89ff49213c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3db4041204f7e275e50fc89ff49213c1">&#9670;&nbsp;</a></span>m_toBeSaved</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;double, std::pair&lt;<a class="el" href="class_t_smart_pointer_t.html">TRasterP</a>, <a class="el" href="class_t_smart_pointer_t.html">TRasterP</a>&gt; &gt; MovieRenderer::Imp::m_toBeSaved</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2dd2b440bfc1ce0a2029a97efc323ee5" name="a2dd2b440bfc1ce0a2029a97efc323ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dd2b440bfc1ce0a2029a97efc323ee5">&#9670;&nbsp;</a></span>m_waitAfterFinish</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MovieRenderer::Imp::m_waitAfterFinish</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adfb2b4648b4ffd0eea969b3622a40a5a" name="adfb2b4648b4ffd0eea969b3622a40a5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfb2b4648b4ffd0eea969b3622a40a5a">&#9670;&nbsp;</a></span>m_whiteSample</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long MovieRenderer::Imp::m_whiteSample</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a00e9b4470c91a35ab71d1ace3884a56c" name="a00e9b4470c91a35ab71d1ace3884a56c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00e9b4470c91a35ab71d1ace3884a56c">&#9670;&nbsp;</a></span>m_xDpi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double MovieRenderer::Imp::m_xDpi</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a30ce52bca58298617dc84f5c54eb5e30" name="a30ce52bca58298617dc84f5c54eb5e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30ce52bca58298617dc84f5c54eb5e30">&#9670;&nbsp;</a></span>m_yDpi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double MovieRenderer::Imp::m_yDpi</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/opentoonz/toonz/sources/toonzlib/<a class="el" href="">movierenderer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
