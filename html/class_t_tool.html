<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: TTool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="class_t_tool-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TTool Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="class_t_tool.html" title="TTool is the abstract base class defining the interface for Toonz tools - the ones accessible from th...">TTool</a> is the abstract base class defining the interface for Toonz tools - the ones accessible from the <a class="el" href="class_toolbar.html">Toolbar</a> panel that users can activate to edit the scene contents interactively.  
 <a href="class_t_tool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="">tool.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TTool:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_tool.png" usemap="#TTool_map" alt=""/>
  <map id="TTool_map" name="TTool_map">
<area href="class_eraser_tool.html" alt="EraserTool" shape="rect" coords="151,56,292,80"/>
<area href="class_camera_test_tool.html" alt="CameraTestTool" shape="rect" coords="151,112,292,136"/>
<area href="class_control_point_editor_tool.html" alt="ControlPointEditorTool" shape="rect" coords="151,168,292,192"/>
<area href="class_edit_tool.html" alt="EditTool" shape="rect" coords="151,224,292,248"/>
<area href="class_eraser_tool.html" alt="EraserTool" shape="rect" coords="151,280,292,304"/>
<area href="class_fill_tool.html" alt="FillTool" shape="rect" coords="151,336,292,360"/>
<area href="class_finger_tool.html" alt="FingerTool" shape="rect" coords="151,392,292,416"/>
<area href="class_full_color_brush_tool.html" alt="FullColorBrushTool" shape="rect" coords="151,448,292,472"/>
<area href="class_full_color_eraser_tool.html" alt="FullColorEraserTool" shape="rect" coords="151,504,292,528"/>
<area href="class_full_color_fill_tool.html" alt="FullColorFillTool" shape="rect" coords="151,560,292,584"/>
<area href="class_geometric_tool.html" alt="GeometricTool" shape="rect" coords="151,616,292,640"/>
<area href="class_hook_tool.html" alt="HookTool" shape="rect" coords="151,672,292,696"/>
<area href="class_magnet_tool.html" alt="MagnetTool" shape="rect" coords="151,728,292,752"/>
<area href="class_paint_brush_tool.html" alt="PaintBrushTool" shape="rect" coords="151,784,292,808"/>
<area href="class_pinch_tool.html" alt="PinchTool" shape="rect" coords="151,840,292,864"/>
<area href="class_plastic_tool.html" alt="PlasticTool" shape="rect" coords="151,896,292,920"/>
<area href="class_pump_tool.html" alt="PumpTool" shape="rect" coords="151,952,292,976"/>
<area href="class_r_g_b_picker_tool.html" alt="RGBPickerTool" shape="rect" coords="151,1008,292,1032"/>
<area href="class_raster_tape_tool.html" alt="RasterTapeTool" shape="rect" coords="151,1064,292,1088"/>
<area href="class_rotate_tool.html" alt="RotateTool" shape="rect" coords="151,1120,292,1144"/>
<area href="class_ruler_tool.html" alt="RulerTool" shape="rect" coords="151,1176,292,1200"/>
<area href="class_selection_tool.html" alt="SelectionTool" shape="rect" coords="151,1232,292,1256"/>
<area href="class_set_scan_cropbox_tool.html" alt="SetScanCropboxTool" shape="rect" coords="151,1288,292,1312"/>
<area href="class_shift_trace_tool.html" alt="ShiftTraceTool" shape="rect" coords="151,1344,292,1368"/>
<area href="class_skeleton_tool.html" alt="SkeletonTool" shape="rect" coords="151,1400,292,1424"/>
<area href="class_style_picker_tool.html" alt="StylePickerTool" shape="rect" coords="151,1456,292,1480"/>
<area href="class_toonz_raster_brush_tool.html" alt="ToonzRasterBrushTool" shape="rect" coords="151,1512,292,1536"/>
<area href="class_toonz_vector_brush_tool.html" alt="ToonzVectorBrushTool" shape="rect" coords="151,1568,292,1592"/>
<area href="class_tracker_tool.html" alt="TrackerTool" shape="rect" coords="151,1624,292,1648"/>
<area href="class_type_tool.html" alt="TypeTool" shape="rect" coords="151,1680,292,1704"/>
<area href="class_vector_tape_tool.html" alt="VectorTapeTool" shape="rect" coords="151,1736,292,1760"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_tool_1_1_cell_ops.html">CellOps</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool_1_1_viewer.html">Viewer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_t_tool_1_1_viewer.html" title="The TTool::Viewer class is the abstract base class that provides an interface for TTool viewer widget...">TTool::Viewer</a> class is the abstract base class that provides an interface for <a class="el" href="class_t_tool.html" title="TTool is the abstract base class defining the interface for Toonz tools - the ones accessible from th...">TTool</a> viewer widgets (it is required that such widgets support OpenGL).  <a href="class_t_tool_1_1_viewer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a391f099e6530ea54c71d81c9ee39296c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296c">ToolType</a> { <br />
&#160;&#160;<a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296caa8f6293eab5817f82f74f031c0724f28">GenericTool</a> = 1
, <a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296cab1cf4660322ca2d4e5a4848bdbc049a9">ColumnTool</a> = 2
, <a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca18d911ba387409847ad5ae6a731031f8">LevelReadTool</a> = 4
, <a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b">LevelWriteTool</a>
, <br />
&#160;&#160;<b>LevelTool</b> = LevelReadTool | LevelWriteTool
<br />
 }</td></tr>
<tr class="memdesc:a391f099e6530ea54c71d81c9ee39296c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tool editing type.  <a href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296c">More...</a><br /></td></tr>
<tr class="separator:a391f099e6530ea54c71d81c9ee39296c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf0ea3a7f9d003f761fe57638dd6eff4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">ToolTargetType</a> { <br />
&#160;&#160;<b>NoTarget</b> = 0x0
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a> = 0x1
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">ToonzImage</a> = 0x2
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">RasterImage</a> = 0x4
, <br />
&#160;&#160;<a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a> = 0x8
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a71d3697cafb025fea3effa714e397980">Splines</a> = 0x10
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4aa6443a8b4b8f50c7415bee045a27a309">LevelColumns</a> = 0x20
, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a269e5d6d3f79dd14ab7aa2e3192eeaf1">MeshColumns</a> = 0x40
, <br />
&#160;&#160;<a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c576a0d6f800899d7be1cfaceef4d12">EmptyTarget</a> = 0x80
, <b>CommonImages</b> = VectorImage | ToonzImage | RasterImage
, <b>AllImages</b> = CommonImages | MeshImage
, <b>Vectors</b> = VectorImage | Splines
, <br />
&#160;&#160;<b>CommonLevels</b> = CommonImages | LevelColumns
, <b>MeshLevels</b> = MeshImage | MeshColumns
, <b>AllTargets</b> = 0xffffffff
<br />
 }</td></tr>
<tr class="memdesc:adf0ea3a7f9d003f761fe57638dd6eff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Object types the tool can operate on.  <a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">More...</a><br /></td></tr>
<tr class="separator:adf0ea3a7f9d003f761fe57638dd6eff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e915653734dd6faf23e9996eec67ebe"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="class_t_application.html">TApplication</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a8e915653734dd6faf23e9996eec67ebe">Application</a></td></tr>
<tr class="separator:a8e915653734dd6faf23e9996eec67ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9c63ec35f606e755d0d036bf4fed62ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a9c63ec35f606e755d0d036bf4fed62ab">TTool</a> (std::string toolName)</td></tr>
<tr class="memdesc:a9c63ec35f606e755d0d036bf4fed62ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">every tool (invoking updateTranslation() for each).  <a href="class_t_tool.html#a9c63ec35f606e755d0d036bf4fed62ab">More...</a><br /></td></tr>
<tr class="separator:a9c63ec35f606e755d0d036bf4fed62ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c38f583d784d12a9f8c04b162cadea2"><td class="memItemLeft" align="right" valign="top"><a id="a5c38f583d784d12a9f8c04b162cadea2" name="a5c38f583d784d12a9f8c04b162cadea2"></a>
virtual <a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296c">ToolType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getToolType</b> () const =0</td></tr>
<tr class="separator:a5c38f583d784d12a9f8c04b162cadea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8760a85b8fa1d81a04f058b8d4396b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">ToolTargetType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#af8760a85b8fa1d81a04f058b8d4396b0">getTargetType</a> () const</td></tr>
<tr class="separator:af8760a85b8fa1d81a04f058b8d4396b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679eddd99e9cb717d1b36eea5d7e7bb1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a679eddd99e9cb717d1b36eea5d7e7bb1">getName</a> () const</td></tr>
<tr class="separator:a679eddd99e9cb717d1b36eea5d7e7bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e09495b50142df6b7bb9682837263c4"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_tool_options_box.html">ToolOptionsBox</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a9e09495b50142df6b7bb9682837263c4">createOptionsBox</a> ()</td></tr>
<tr class="separator:a9e09495b50142df6b7bb9682837263c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929998a1d2773ebbb5982283e870a26c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a929998a1d2773ebbb5982283e870a26c">setViewer</a> (<a class="el" href="class_t_tool_1_1_viewer.html">Viewer</a> *viewer)</td></tr>
<tr class="separator:a929998a1d2773ebbb5982283e870a26c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7edbb0cd6c20c371965510fa8d0811f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_tool_1_1_viewer.html">Viewer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ad7edbb0cd6c20c371965510fa8d0811f">getViewer</a> () const</td></tr>
<tr class="separator:ad7edbb0cd6c20c371965510fa8d0811f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f5ac0f1e3809fce027e10028a3063a7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a1f5ac0f1e3809fce027e10028a3063a7">getPixelSize</a> () const</td></tr>
<tr class="separator:a1f5ac0f1e3809fce027e10028a3063a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e791336c642542c5648aa8ea86e2348"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3e791336c642542c5648aa8ea86e2348">invalidate</a> (const <a class="el" href="class_t_rect_t.html">TRectD</a> &amp;rect=<a class="el" href="class_t_rect_t.html">TRectD</a>())</td></tr>
<tr class="separator:a3e791336c642542c5648aa8ea86e2348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04ed46786cf65fe4564d26ffa5d49c8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ab04ed46786cf65fe4564d26ffa5d49c8">pick</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;p)</td></tr>
<tr class="separator:ab04ed46786cf65fe4564d26ffa5d49c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6e629deb25a2c0903d3d82a5f5599c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a9b6e629deb25a2c0903d3d82a5f5599c">isPicking</a> () const</td></tr>
<tr class="separator:a9b6e629deb25a2c0903d3d82a5f5599c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a902a844478056fa8ace11d75b05fb6a5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a902a844478056fa8ace11d75b05fb6a5">updateTranslation</a> ()</td></tr>
<tr class="separator:a902a844478056fa8ace11d75b05fb6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d2c27110689caf7fa6f49519808073"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a11d2c27110689caf7fa6f49519808073">preLeftButtonDown</a> ()</td></tr>
<tr class="separator:a11d2c27110689caf7fa6f49519808073"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb0d5ee41c28fe1f6c3719a1c12353b5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#acb0d5ee41c28fe1f6c3719a1c12353b5">mouseMove</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:acb0d5ee41c28fe1f6c3719a1c12353b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12190be0dcb28718b40ae42c93df381b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a12190be0dcb28718b40ae42c93df381b">leftButtonDown</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:a12190be0dcb28718b40ae42c93df381b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b3e51fe9fdadc716847b0248f74a4b5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a0b3e51fe9fdadc716847b0248f74a4b5">leftButtonDrag</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:a0b3e51fe9fdadc716847b0248f74a4b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740506b9414c8364aaa47de259ecb16b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a740506b9414c8364aaa47de259ecb16b">leftButtonUp</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:a740506b9414c8364aaa47de259ecb16b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb34d1b5a012f8910c7f62aa291d2d46"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#adb34d1b5a012f8910c7f62aa291d2d46">leftButtonDoubleClick</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:adb34d1b5a012f8910c7f62aa291d2d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab096789c990785636e8694020344636c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ab096789c990785636e8694020344636c">rightButtonDown</a> (const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;, const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;)</td></tr>
<tr class="separator:ab096789c990785636e8694020344636c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f577edff4e26b67cfdbfb7308d16389"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3f577edff4e26b67cfdbfb7308d16389">keyDown</a> (QKeyEvent *)</td></tr>
<tr class="separator:a3f577edff4e26b67cfdbfb7308d16389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5257bc53681eaefb43ce4987883d895d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a5257bc53681eaefb43ce4987883d895d">onInputText</a> (std::wstring, std::wstring, int, int)</td></tr>
<tr class="separator:a5257bc53681eaefb43ce4987883d895d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69df3eb68917c8017860698f5d3fb67"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#af69df3eb68917c8017860698f5d3fb67">onSetViewer</a> ()</td></tr>
<tr class="separator:af69df3eb68917c8017860698f5d3fb67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac286a2681633b4db6106596b4f54e53b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ac286a2681633b4db6106596b4f54e53b">onActivate</a> ()</td></tr>
<tr class="memdesc:ac286a2681633b4db6106596b4f54e53b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback invoked whenever the tool activates.  <a href="class_t_tool.html#ac286a2681633b4db6106596b4f54e53b">More...</a><br /></td></tr>
<tr class="separator:ac286a2681633b4db6106596b4f54e53b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00fee58728c1e12fb50846f47d7e9f5e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a00fee58728c1e12fb50846f47d7e9f5e">onDeactivate</a> ()</td></tr>
<tr class="memdesc:a00fee58728c1e12fb50846f47d7e9f5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for tool deactivation, includes tool switch.  <a href="class_t_tool.html#a00fee58728c1e12fb50846f47d7e9f5e">More...</a><br /></td></tr>
<tr class="separator:a00fee58728c1e12fb50846f47d7e9f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf1e021290e74c1b085e4b095668e1ed"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#aaf1e021290e74c1b085e4b095668e1ed">onImageChanged</a> ()</td></tr>
<tr class="memdesc:aaf1e021290e74c1b085e4b095668e1ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notifies changes in the image in use.  <a href="class_t_tool.html#aaf1e021290e74c1b085e4b095668e1ed">More...</a><br /></td></tr>
<tr class="separator:aaf1e021290e74c1b085e4b095668e1ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e775cfcd05aa3c35048b11fa40ab3e4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3e775cfcd05aa3c35048b11fa40ab3e4">onEnter</a> ()</td></tr>
<tr class="memdesc:a3e775cfcd05aa3c35048b11fa40ab3e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for the mouse entering the viewer area.  <a href="class_t_tool.html#a3e775cfcd05aa3c35048b11fa40ab3e4">More...</a><br /></td></tr>
<tr class="separator:a3e775cfcd05aa3c35048b11fa40ab3e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7fb05265a94131da081da654e271a22"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#af7fb05265a94131da081da654e271a22">onLeave</a> ()</td></tr>
<tr class="memdesc:af7fb05265a94131da081da654e271a22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for the mouse leaving the viewer area.  <a href="class_t_tool.html#af7fb05265a94131da081da654e271a22">More...</a><br /></td></tr>
<tr class="separator:af7fb05265a94131da081da654e271a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694286232ac766e3ec48f491505a407a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a694286232ac766e3ec48f491505a407a">onFrameSwitched</a> ()</td></tr>
<tr class="separator:a694286232ac766e3ec48f491505a407a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25c28be1539cf682511967dc9b057952"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a25c28be1539cf682511967dc9b057952">reset</a> ()</td></tr>
<tr class="separator:a25c28be1539cf682511967dc9b057952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a058bf656d73bf3cd63b9826cbaaf48e0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a058bf656d73bf3cd63b9826cbaaf48e0">draw</a> ()</td></tr>
<tr class="memdesc:a058bf656d73bf3cd63b9826cbaaf48e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the tool on the viewer.  <a href="class_t_tool.html#a058bf656d73bf3cd63b9826cbaaf48e0">More...</a><br /></td></tr>
<tr class="separator:a058bf656d73bf3cd63b9826cbaaf48e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6225a72c8bc7ad1ad6eff6b81ac6b0a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a6225a72c8bc7ad1ad6eff6b81ac6b0a6">isActive</a> () const</td></tr>
<tr class="memdesc:a6225a72c8bc7ad1ad6eff6b81ac6b0a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to know if a tool is active, (used in TextTool only).  <a href="class_t_tool.html#a6225a72c8bc7ad1ad6eff6b81ac6b0a6">More...</a><br /></td></tr>
<tr class="separator:a6225a72c8bc7ad1ad6eff6b81ac6b0a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affdedb591395f5f88f80e3756f867bc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#affdedb591395f5f88f80e3756f867bc9">setActive</a> (bool active)</td></tr>
<tr class="separator:affdedb591395f5f88f80e3756f867bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a095bfe8d3690175e39c188ad6246d560"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_property_group.html">TPropertyGroup</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a095bfe8d3690175e39c188ad6246d560">getProperties</a> (int)</td></tr>
<tr class="separator:a095bfe8d3690175e39c188ad6246d560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06694e0586f807c34b18e16341aa9ee2"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a06694e0586f807c34b18e16341aa9ee2">onPropertyChanged</a> (std::string propertyName)</td></tr>
<tr class="separator:a06694e0586f807c34b18e16341aa9ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add40ff8dd3dd04ed3ab5a259ed53fb85"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_selection.html">TSelection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#add40ff8dd3dd04ed3ab5a259ed53fb85">getSelection</a> ()</td></tr>
<tr class="memdesc:add40ff8dd3dd04ed3ab5a259ed53fb85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the tool selection.  <a href="class_t_tool.html#add40ff8dd3dd04ed3ab5a259ed53fb85">More...</a><br /></td></tr>
<tr class="separator:add40ff8dd3dd04ed3ab5a259ed53fb85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1768a57b8b6d1480618fd923fad15f1d"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a1768a57b8b6d1480618fd923fad15f1d">getCursorId</a> () const</td></tr>
<tr class="memdesc:a1768a57b8b6d1480618fd923fad15f1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of cursor used by the tool.  <a href="class_t_tool.html#a1768a57b8b6d1480618fd923fad15f1d">More...</a><br /></td></tr>
<tr class="separator:a1768a57b8b6d1480618fd923fad15f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f722eda896df0fd6b19b68ec99021e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a28f722eda896df0fd6b19b68ec99021e">isEventAcceptable</a> (QEvent *e)</td></tr>
<tr class="separator:a28f722eda896df0fd6b19b68ec99021e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8716e1462da359f4902c044a79f2d40d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_xsheet.html">TXsheet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a8716e1462da359f4902c044a79f2d40d">getXsheet</a> () const</td></tr>
<tr class="memdesc:a8716e1462da359f4902c044a79f2d40d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the actual Xsheet.  <a href="class_t_tool.html#a8716e1462da359f4902c044a79f2d40d">More...</a><br /></td></tr>
<tr class="separator:a8716e1462da359f4902c044a79f2d40d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85025fe6544609814a1672ded5847874"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a85025fe6544609814a1672ded5847874">getFrame</a> ()</td></tr>
<tr class="memdesc:a85025fe6544609814a1672ded5847874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the actual frame in use.  <a href="class_t_tool.html#a85025fe6544609814a1672ded5847874">More...</a><br /></td></tr>
<tr class="separator:a85025fe6544609814a1672ded5847874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7214525a3ae0cdcb0a0393e4dc4d3bf5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a7214525a3ae0cdcb0a0393e4dc4d3bf5">getColumnIndex</a> ()</td></tr>
<tr class="memdesc:a7214525a3ae0cdcb0a0393e4dc4d3bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the actual column index.  <a href="class_t_tool.html#a7214525a3ae0cdcb0a0393e4dc4d3bf5">More...</a><br /></td></tr>
<tr class="separator:a7214525a3ae0cdcb0a0393e4dc4d3bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25b57b82dfac131d9d6405e07fbd98b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_stage_object_id.html">TStageObjectId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a25b57b82dfac131d9d6405e07fbd98b4">getObjectId</a> () const</td></tr>
<tr class="memdesc:a25b57b82dfac131d9d6405e07fbd98b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the actual stage object.  <a href="class_t_tool.html#a25b57b82dfac131d9d6405e07fbd98b4">More...</a><br /></td></tr>
<tr class="separator:a25b57b82dfac131d9d6405e07fbd98b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1824e9b49705c534e0a773305294c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#abd1824e9b49705c534e0a773305294c4">notifyImageChanged</a> ()</td></tr>
<tr class="separator:abd1824e9b49705c534e0a773305294c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40890a3af608b9bfeb144505fd38853d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a40890a3af608b9bfeb144505fd38853d">notifyImageChanged</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid)</td></tr>
<tr class="memdesc:a40890a3af608b9bfeb144505fd38853d"><td class="mdescLeft">&#160;</td><td class="mdescRight">images on the level view.  <a href="class_t_tool.html#a40890a3af608b9bfeb144505fd38853d">More...</a><br /></td></tr>
<tr class="separator:a40890a3af608b9bfeb144505fd38853d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7db6c4288b721fd95f283419883a4b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_frame_id.html">TFrameId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">getCurrentFid</a> () const</td></tr>
<tr class="memdesc:ae7db6c4288b721fd95f283419883a4b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of the actual editing frame.  <a href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">More...</a><br /></td></tr>
<tr class="separator:ae7db6c4288b721fd95f283419883a4b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad66fa5cefa74ee84dd3140e8e2b8336b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_affine.html">TAffine</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ad66fa5cefa74ee84dd3140e8e2b8336b">getMatrix</a> () const</td></tr>
<tr class="separator:ad66fa5cefa74ee84dd3140e8e2b8336b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1f2c2326fb0ef3bb6d4108fc0fb24b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a0f1f2c2326fb0ef3bb6d4108fc0fb24b">setMatrix</a> (const <a class="el" href="class_t_affine.html">TAffine</a> &amp;matrix)</td></tr>
<tr class="separator:a0f1f2c2326fb0ef3bb6d4108fc0fb24b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c1b7f13eaea33e1d305636f44c4a64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a73c1b7f13eaea33e1d305636f44c4a64">getCurrentColumnMatrix</a> (int frame=-1) const</td></tr>
<tr class="separator:a73c1b7f13eaea33e1d305636f44c4a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b1120acc73e2127f81688301707177"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a57b1120acc73e2127f81688301707177">getCurrentColumnParentMatrix</a> () const</td></tr>
<tr class="separator:a57b1120acc73e2127f81688301707177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5decb470046ec60d32190494d270d52b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a5decb470046ec60d32190494d270d52b">getCurrentObjectParentMatrix</a> () const</td></tr>
<tr class="separator:a5decb470046ec60d32190494d270d52b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05dea1c094543fc4062c0b9988a38eae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a05dea1c094543fc4062c0b9988a38eae">getCurrentObjectParentMatrix2</a> () const</td></tr>
<tr class="separator:a05dea1c094543fc4062c0b9988a38eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99eb4354e2dba454b7210c986015d577"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a99eb4354e2dba454b7210c986015d577">getColumnMatrix</a> (int index, int frame=-1) const</td></tr>
<tr class="separator:a99eb4354e2dba454b7210c986015d577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a5f380464a6b36947212e2f8d5b314c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a1a5f380464a6b36947212e2f8d5b314c">updateMatrix</a> ()</td></tr>
<tr class="separator:a1a5f380464a6b36947212e2f8d5b314c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8a81b368568245d16f7c3d4a17684a1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ac8a81b368568245d16f7c3d4a17684a1">addContextMenuItems</a> (QMenu *menu)</td></tr>
<tr class="separator:ac8a81b368568245d16f7c3d4a17684a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0188d7374490589e82961042ad51cdfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a0188d7374490589e82961042ad51cdfb">enable</a> (bool on)</td></tr>
<tr class="separator:a0188d7374490589e82961042ad51cdfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19efb128489874d80fb364c613fbf64b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a19efb128489874d80fb364c613fbf64b">isEnabled</a> () const</td></tr>
<tr class="separator:a19efb128489874d80fb364c613fbf64b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3638517d39dffe6abec0a4e1bcf990d3"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3638517d39dffe6abec0a4e1bcf990d3">updateEnabled</a> ()</td></tr>
<tr class="separator:a3638517d39dffe6abec0a4e1bcf990d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29f43b1ac4db60a46397e1c8263bc4d"><td class="memItemLeft" align="right" valign="top">virtual QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ad29f43b1ac4db60a46397e1c8263bc4d">updateEnabled</a> (int rowIndex, int columnIndex)</td></tr>
<tr class="separator:ad29f43b1ac4db60a46397e1c8263bc4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59fe3fb20e44f3c167190ebc8901ca31"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a59fe3fb20e44f3c167190ebc8901ca31">isColumnLocked</a> (int columnIndex) const</td></tr>
<tr class="separator:a59fe3fb20e44f3c167190ebc8901ca31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985d88ab04fc77b1ddca7ead95ab4884"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a985d88ab04fc77b1ddca7ead95ab4884">resetInputMethod</a> ()</td></tr>
<tr class="memdesc:a985d88ab04fc77b1ddca7ead95ab4884"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets Input Context (IME)  <a href="class_t_tool.html#a985d88ab04fc77b1ddca7ead95ab4884">More...</a><br /></td></tr>
<tr class="separator:a985d88ab04fc77b1ddca7ead95ab4884"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767b49f02ae01193892a18adb2f7e740"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a767b49f02ae01193892a18adb2f7e740">isPencilModeActive</a> ()</td></tr>
<tr class="separator:a767b49f02ae01193892a18adb2f7e740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7faf10efcd418f584a15907d88715566"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a7faf10efcd418f584a15907d88715566">isDragging</a> () const</td></tr>
<tr class="separator:a7faf10efcd418f584a15907d88715566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae40926a5cc5262b4c4609ae6f05a13e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ae40926a5cc5262b4c4609ae6f05a13e1">setSelectedFrames</a> (const std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;selectedFrames)</td></tr>
<tr class="separator:ae40926a5cc5262b4c4609ae6f05a13e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa58ad223acef4a6afbffb09d2f04ed6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#aaa58ad223acef4a6afbffb09d2f04ed6">tweenSelectedGuideStrokes</a> ()</td></tr>
<tr class="separator:aaa58ad223acef4a6afbffb09d2f04ed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6fe6533949c4098703d15325adc1ce7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ae6fe6533949c4098703d15325adc1ce7">tweenGuideStrokeToSelected</a> ()</td></tr>
<tr class="separator:ae6fe6533949c4098703d15325adc1ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2228ed2a2475d7c793cb5d9b60150724"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a2228ed2a2475d7c793cb5d9b60150724">flipGuideStrokeDirection</a> (int mode)</td></tr>
<tr class="separator:a2228ed2a2475d7c793cb5d9b60150724"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ac99234acd256aa0adee5095bc629d793"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_tool.html">TTool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ac99234acd256aa0adee5095bc629d793">getTool</a> (std::string toolName, <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">ToolTargetType</a> targetType)</td></tr>
<tr class="separator:ac99234acd256aa0adee5095bc629d793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d9174a450482028d6b6b77018af98f4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_application.html">TApplication</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a6d9174a450482028d6b6b77018af98f4">getApplication</a> ()</td></tr>
<tr class="separator:a6d9174a450482028d6b6b77018af98f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d7dc084cba84024ae1594a28ce45f93"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a4d7dc084cba84024ae1594a28ce45f93">setApplication</a> (<a class="el" href="class_t_application.html">TApplication</a> *application)</td></tr>
<tr class="separator:a4d7dc084cba84024ae1594a28ce45f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158a4612dcff62a7f37e5fc3b47ed31c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_xsh_cell.html">TXshCell</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a158a4612dcff62a7f37e5fc3b47ed31c">getImageCell</a> ()</td></tr>
<tr class="memdesc:a158a4612dcff62a7f37e5fc3b47ed31c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the level-frame pair to be edited by the tool.  <a href="class_t_tool.html#a158a4612dcff62a7f37e5fc3b47ed31c">More...</a><br /></td></tr>
<tr class="separator:a158a4612dcff62a7f37e5fc3b47ed31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947d2af39fd4df397577bbf8602abfd4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_image.html">TImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">getImage</a> (bool toBeModified, int subsampling=0)</td></tr>
<tr class="memdesc:a947d2af39fd4df397577bbf8602abfd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the image to be edited by the tool.  <a href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4">More...</a><br /></td></tr>
<tr class="separator:a947d2af39fd4df397577bbf8602abfd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668ac4790094a864ba6e37bd902303f1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_image.html">TImage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a668ac4790094a864ba6e37bd902303f1">touchImage</a> ()</td></tr>
<tr class="separator:a668ac4790094a864ba6e37bd902303f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb0478607efdb92f5247cce35259188"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a6cb0478607efdb92f5247cce35259188">updateToolsPropertiesTranslation</a> ()</td></tr>
<tr class="separator:a6cb0478607efdb92f5247cce35259188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84779988b40987971c0cbf3699db3b90"><td class="memItemLeft" align="right" valign="top">static const std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a84779988b40987971c0cbf3699db3b90">getSelectedFrames</a> ()</td></tr>
<tr class="separator:a84779988b40987971c0cbf3699db3b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a9345d88f41578058ccb2d6e681591c09"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="struct_t_tool_1_1_cell_ops.html">CellOps</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">m_cellsData</a></td></tr>
<tr class="separator:a9345d88f41578058ccb2d6e681591c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec1db61477579b224321fd469e4ec00"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">m_isLevelCreated</a> = false</td></tr>
<tr class="separator:afec1db61477579b224321fd469e4ec00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd06af7335f1ba0c96f36f1ac3e9976"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a> = false</td></tr>
<tr class="separator:aabd06af7335f1ba0c96f36f1ac3e9976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89974c7589cad70945bfec7f4c1f1906"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a89974c7589cad70945bfec7f4c1f1906">m_oldFids</a></td></tr>
<tr class="separator:a89974c7589cad70945bfec7f4c1f1906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac560f501994828462e15fd54d05ed68"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#aac560f501994828462e15fd54d05ed68">m_newFids</a></td></tr>
<tr class="separator:aac560f501994828462e15fd54d05ed68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5352244b885e57127a018982f4944c89"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a5352244b885e57127a018982f4944c89">m_isLevelRenumbererd</a> = false</td></tr>
<tr class="separator:a5352244b885e57127a018982f4944c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2d54eb80783489fab80efc834b38d6f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a2d54eb80783489fab80efc834b38d6f7">bind</a> (int targetType)</td></tr>
<tr class="separator:a2d54eb80783489fab80efc834b38d6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa7a80eb7be96de62040dab2311a5bd"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#adfa7a80eb7be96de62040dab2311a5bd">onSelectedFramesChanged</a> ()</td></tr>
<tr class="separator:adfa7a80eb7be96de62040dab2311a5bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac95dc3f7be83c2c8a1d3b8b276d7e4"><td class="memItemLeft" align="right" valign="top">virtual QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a4ac95dc3f7be83c2c8a1d3b8b276d7e4">disableString</a> ()</td></tr>
<tr class="memdesc:a4ac95dc3f7be83c2c8a1d3b8b276d7e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a custom reason to disable the tool.  <a href="class_t_tool.html#a4ac95dc3f7be83c2c8a1d3b8b276d7e4">More...</a><br /></td></tr>
<tr class="separator:a4ac95dc3f7be83c2c8a1d3b8b276d7e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac92abce57c7c53b5b29847144c571fb1"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a></td></tr>
<tr class="memdesc:ac92abce57c7c53b5b29847144c571fb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The tool's name.  <a href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">More...</a><br /></td></tr>
<tr class="separator:ac92abce57c7c53b5b29847144c571fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f61f998b655c1c917ee63a595657c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_tool_1_1_viewer.html">Viewer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a></td></tr>
<tr class="memdesc:a66f61f998b655c1c917ee63a595657c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tool's current viewer.  <a href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">More...</a><br /></td></tr>
<tr class="separator:a66f61f998b655c1c917ee63a595657c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf7058680c3aef9a5584a7f71351757"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_affine.html">TAffine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3bf7058680c3aef9a5584a7f71351757">m_matrix</a></td></tr>
<tr class="memdesc:a3bf7058680c3aef9a5584a7f71351757"><td class="mdescLeft">&#160;</td><td class="mdescRight">World-to-window reference change affine.  <a href="class_t_tool.html#a3bf7058680c3aef9a5584a7f71351757">More...</a><br /></td></tr>
<tr class="separator:a3bf7058680c3aef9a5584a7f71351757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84e5837b3ed638e3e73373c3195a589"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#ad84e5837b3ed638e3e73373c3195a589">m_targetType</a></td></tr>
<tr class="memdesc:ad84e5837b3ed638e3e73373c3195a589"><td class="mdescLeft">&#160;</td><td class="mdescRight">The tool's image type target.  <a href="class_t_tool.html#ad84e5837b3ed638e3e73373c3195a589">More...</a><br /></td></tr>
<tr class="separator:ad84e5837b3ed638e3e73373c3195a589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3552ce52afc39fffcab0492daf72ed16"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a3552ce52afc39fffcab0492daf72ed16">m_enabled</a></td></tr>
<tr class="memdesc:a3552ce52afc39fffcab0492daf72ed16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the tool allows user interaction.  <a href="class_t_tool.html#a3552ce52afc39fffcab0492daf72ed16">More...</a><br /></td></tr>
<tr class="separator:a3552ce52afc39fffcab0492daf72ed16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd7997f3dc0226dc8ac8fcbd116f02d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#aefd7997f3dc0226dc8ac8fcbd116f02d">m_active</a></td></tr>
<tr class="separator:aefd7997f3dc0226dc8ac8fcbd116f02d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54bf7db989aa872f4cc412bb2ac3efc0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a54bf7db989aa872f4cc412bb2ac3efc0">m_picking</a></td></tr>
<tr class="separator:a54bf7db989aa872f4cc412bb2ac3efc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a580defbdf43efe0a228d647900d03a60"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_application.html">TApplication</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#a580defbdf43efe0a228d647900d03a60">m_application</a> = 0</td></tr>
<tr class="separator:a580defbdf43efe0a228d647900d03a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd05e8e92235633621dbab55fe3c76f"><td class="memItemLeft" align="right" valign="top">static std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_tool.html#adfd05e8e92235633621dbab55fe3c76f">m_selectedFrames</a> = std::set&lt;<a class="el" href="class_t_frame_id.html">TFrameId</a>&gt;()</td></tr>
<tr class="separator:adfd05e8e92235633621dbab55fe3c76f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="class_t_tool.html" title="TTool is the abstract base class defining the interface for Toonz tools - the ones accessible from th...">TTool</a> is the abstract base class defining the interface for Toonz tools - the ones accessible from the <a class="el" href="class_toolbar.html">Toolbar</a> panel that users can activate to edit the scene contents interactively. </p>
<p >Toonz implements a number of interactive tools, like the <em>Brush Tool</em>, <em>Fill Tool</em>, <em>Zoom Tool</em> and others. They all inherit from this class, which provides the necessary interface and framework to implement a generic interactive tool in Toonz. </p><pre class="fragment">        A Toonz Tool should re-implement the following key functionalities:
</pre> <ul>
<li>
The abstract getToolType() method, which classifies the tool, and eventually getTargetType() </li>
<li>
The <a class="el" href="class_t_tool.html#a058bf656d73bf3cd63b9826cbaaf48e0" title="Draws the tool on the viewer.">draw()</a> method, used to draw the tool on screen </li>
<li>
The mouse-related methods, to grant user interaction </li>
<li>
The getProperties() and <a class="el" href="class_t_tool.html#a06694e0586f807c34b18e16341aa9ee2">onPropertyChanged()</a> methods, to define and track a tool's <a class="el" href="class_t_property.html">TProperty</a> members </li>
<li>
The <a class="el" href="class_t_tool.html#ac8a81b368568245d16f7c3d4a17684a1">addContextMenuItems()</a> method, to insert actions in right-click menus </li>
</ul>
<dl class="section user"><dt>Tool classification</dt><dd>Toonz enforces a strict classification of its tools that is used to enable or disable them in the appropriate contexts: <ul>
<li>
<b>Generic Tools:</b> the tool is always enabled, since it does not need to access specific scene contents. Hidden tools typically prefer to select this type since they should handle disablements silently. </li>
<li>
<b>Column Tools:</b> the tool is used to alter or define the placement of a column's content. It is disabled in <a class="el" href="class_filmstrip.html">Filmstrip</a> view mode, since that's a strictly level-related view. </li>
<li>
<b>LevelRead Tools:</b> the tool is used to <em>read</em> a level's images data. It is therefore enabled on all view modes. The tool is disabled in camera stand or 3D view modes if the level's host column has sustained a placement which makes it impossible to access image data (as is the case with Plastic-deformed columns). </li>
<li>
<b>LevelWrite Tools:</b> the tool is used to <em>write</em> a level's images data. It is disabled in all contexts where a LevelRead Tool would be disabled. It is also disabled in case the current level is of a type unsupported for write, <em>or</em> the level is read-only on disk. </li>
</ul>
Furthermore, tools define a bitwise combination of <em>Target Types</em>, which are the category of level types it can work on (including every image type and the motion path type). The Target Type is used only associated with LevelRead and LevelWrite tool types. <br  />
<br  />
 There are a number of additional generic rules that define whenever a tool is disabled: <ul>
<li>
Every tool is disabled when a viewer is in playback. </li>
<li>
Every non-Generic tool is disabled on level/columns that do not host a placeable image type (eg sound or magpie data). </li>
<li>
Every non-Generic tool is disabled when working on columns/levels that have been hidden. </li>
<li>
Every non-Generic tool is disabled when working on columns that have been locked (the lock icon on a column header). </li>
</ul>
</dd></dl>
<dl class="section user"><dt>Drawing</dt><dd>Tools use OpenGL to draw in their currently associated <a class="el" href="class_t_tool_1_1_viewer.html" title="The TTool::Viewer class is the abstract base class that provides an interface for TTool viewer widget...">Viewer</a> instance, which can be retrieved through the getViewer() accessor function. The viewer is assigned to the tool just before it invokes the tool's <a class="el" href="class_t_tool.html#a058bf656d73bf3cd63b9826cbaaf48e0" title="Draws the tool on the viewer.">draw()</a> function - use the onSetViewer() virtual method to access viewer data <em>before</em> the viewer starts drawing (observe the tool is typically drawn as an overlay, on top of other stuff). <br  />
<br  />
 Just before <a class="el" href="class_t_tool.html#a058bf656d73bf3cd63b9826cbaaf48e0" title="Draws the tool on the viewer.">draw()</a> is invoked by the viewer, the <code>GL_MODELVIEW</code> matrix is automatically pushed by the viewer with the tool-to-window affine returned by getMatrix() (multiplied by the viewer's view affine). Use glGetDoublev() to retrieve the effective tool-to-window reference change affine, and in case reimplement <a class="el" href="class_t_tool.html#a1a5f380464a6b36947212e2f8d5b314c">updateMatrix()</a> to specify the affine returned by getMatrix(). <br  />
<br  />
 The default implementation for <a class="el" href="class_t_tool.html#a1a5f380464a6b36947212e2f8d5b314c">updateMatrix()</a> sets the tool reference to current object's world one.</dd></dl>
<dl class="section user"><dt>Tool Properties</dt><dd>A tool's properties must be implemented by defining one or more <a class="el" href="class_t_property_group.html">TPropertyGroup</a> containers, and adding them the <a class="el" href="class_t_property.html">TProperty</a> specializations corresponding to the required parameters. <br  />
<br  />
 Every <a class="el" href="class_t_property.html">TProperty</a> instance in group 0 is automatically added to the Tool Options panel in Toonz's GUI. Further groups or special toolbar options must be currently hard-coded elsewhere. Tool Options panel construction will probably be redirected to the tool in future Toonz versions.</dd></dl>
<dl class="section user"><dt>Context Menu Items</dt><dd>The <a class="el" href="class_t_tool.html#ac8a81b368568245d16f7c3d4a17684a1">addContextMenuItems()</a> is used to insert context menu actions <em>before</em> the standard actions provided by the tool viewer. Remember to insert separators to isolate commands of different type (such as view, editing, etc). </dd></dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a8e915653734dd6faf23e9996eec67ebe" name="a8e915653734dd6faf23e9996eec67ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e915653734dd6faf23e9996eec67ebe">&#9670;&nbsp;</a></span>Application</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="class_t_application.html">TApplication</a> <a class="el" href="class_t_application.html">TTool::Application</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="adf0ea3a7f9d003f761fe57638dd6eff4" name="adf0ea3a7f9d003f761fe57638dd6eff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf0ea3a7f9d003f761fe57638dd6eff4">&#9670;&nbsp;</a></span>ToolTargetType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">TTool::ToolTargetType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Object types the tool can operate on. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046" name="adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046"></a>VectorImage&#160;</td><td class="fielddoc"><p >Will work on vector images. </p>
</td></tr>
<tr><td class="fieldname"><a id="adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1" name="adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1"></a>ToonzImage&#160;</td><td class="fielddoc"><p >Will work on colormap (tlv) images. </p>
</td></tr>
<tr><td class="fieldname"><a id="adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859" name="adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859"></a>RasterImage&#160;</td><td class="fielddoc"><p >Will work on fullcolor images. </p>
</td></tr>
<tr><td class="fieldname"><a id="adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232" name="adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232"></a>MeshImage&#160;</td><td class="fielddoc"><p >Will work on mesh images. </p>
</td></tr>
<tr><td class="fieldname"><a id="adf0ea3a7f9d003f761fe57638dd6eff4a71d3697cafb025fea3effa714e397980" name="adf0ea3a7f9d003f761fe57638dd6eff4a71d3697cafb025fea3effa714e397980"></a>Splines&#160;</td><td class="fielddoc"><p >Will work on motion paths. </p>
</td></tr>
<tr><td class="fieldname"><a id="adf0ea3a7f9d003f761fe57638dd6eff4aa6443a8b4b8f50c7415bee045a27a309" name="adf0ea3a7f9d003f761fe57638dd6eff4aa6443a8b4b8f50c7415bee045a27a309"></a>LevelColumns&#160;</td><td class="fielddoc"><p >Will work on level columns. </p>
</td></tr>
<tr><td class="fieldname"><a id="adf0ea3a7f9d003f761fe57638dd6eff4a269e5d6d3f79dd14ab7aa2e3192eeaf1" name="adf0ea3a7f9d003f761fe57638dd6eff4a269e5d6d3f79dd14ab7aa2e3192eeaf1"></a>MeshColumns&#160;</td><td class="fielddoc"><p >Will work on mesh columns. </p>
</td></tr>
<tr><td class="fieldname"><a id="adf0ea3a7f9d003f761fe57638dd6eff4a2c576a0d6f800899d7be1cfaceef4d12" name="adf0ea3a7f9d003f761fe57638dd6eff4a2c576a0d6f800899d7be1cfaceef4d12"></a>EmptyTarget&#160;</td><td class="fielddoc"><p >Will work on empty cells/columns. </p>
</td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">  277</span>  { NoTarget    = 0x0,</div>
<div class="line"><span class="lineno">  278</span>    <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a> = 0x1,   </div>
<div class="line"><span class="lineno">  279</span>    <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">ToonzImage</a>  = 0x2,   </div>
<div class="line"><span class="lineno">  280</span>    <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">RasterImage</a> = 0x4,   </div>
<div class="line"><span class="lineno">  281</span>    <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a>   = 0x8,   </div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a71d3697cafb025fea3effa714e397980">Splines</a>     = 0x10,  </div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4aa6443a8b4b8f50c7415bee045a27a309">LevelColumns</a> = 0x20,  </div>
<div class="line"><span class="lineno">  285</span>    <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a269e5d6d3f79dd14ab7aa2e3192eeaf1">MeshColumns</a>  = 0x40,  </div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>    <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c576a0d6f800899d7be1cfaceef4d12">EmptyTarget</a> = 0x80,  </div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    CommonImages = <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a> | <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">ToonzImage</a> | <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">RasterImage</a>,</div>
<div class="line"><span class="lineno">  290</span>    AllImages    = CommonImages | <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a>,</div>
<div class="line"><span class="lineno">  291</span>    Vectors      = <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a> | <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a71d3697cafb025fea3effa714e397980">Splines</a>,</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>    CommonLevels = CommonImages | <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4aa6443a8b4b8f50c7415bee045a27a309">LevelColumns</a>,</div>
<div class="line"><span class="lineno">  294</span>    MeshLevels   = <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a> | <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a269e5d6d3f79dd14ab7aa2e3192eeaf1">MeshColumns</a>,</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    AllTargets = 0xffffffff,</div>
<div class="line"><span class="lineno">  297</span>  };</div>
<div class="ttc" id="aclass_t_tool_html_adf0ea3a7f9d003f761fe57638dd6eff4a269e5d6d3f79dd14ab7aa2e3192eeaf1"><div class="ttname"><a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a269e5d6d3f79dd14ab7aa2e3192eeaf1">TTool::MeshColumns</a></div><div class="ttdeci">@ MeshColumns</div><div class="ttdoc">Will work on mesh columns.</div><div class="ttdef"><b>Definition:</b> tool.h:285</div></div>
<div class="ttc" id="aclass_t_tool_html_adf0ea3a7f9d003f761fe57638dd6eff4a2c576a0d6f800899d7be1cfaceef4d12"><div class="ttname"><a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c576a0d6f800899d7be1cfaceef4d12">TTool::EmptyTarget</a></div><div class="ttdeci">@ EmptyTarget</div><div class="ttdoc">Will work on empty cells/columns.</div><div class="ttdef"><b>Definition:</b> tool.h:287</div></div>
<div class="ttc" id="aclass_t_tool_html_adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232"><div class="ttname"><a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">TTool::MeshImage</a></div><div class="ttdeci">@ MeshImage</div><div class="ttdoc">Will work on mesh images.</div><div class="ttdef"><b>Definition:</b> tool.h:281</div></div>
<div class="ttc" id="aclass_t_tool_html_adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046"><div class="ttname"><a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">TTool::VectorImage</a></div><div class="ttdeci">@ VectorImage</div><div class="ttdoc">Will work on vector images.</div><div class="ttdef"><b>Definition:</b> tool.h:278</div></div>
<div class="ttc" id="aclass_t_tool_html_adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1"><div class="ttname"><a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">TTool::ToonzImage</a></div><div class="ttdeci">@ ToonzImage</div><div class="ttdoc">Will work on colormap (tlv) images.</div><div class="ttdef"><b>Definition:</b> tool.h:279</div></div>
<div class="ttc" id="aclass_t_tool_html_adf0ea3a7f9d003f761fe57638dd6eff4a71d3697cafb025fea3effa714e397980"><div class="ttname"><a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a71d3697cafb025fea3effa714e397980">TTool::Splines</a></div><div class="ttdeci">@ Splines</div><div class="ttdoc">Will work on motion paths.</div><div class="ttdef"><b>Definition:</b> tool.h:282</div></div>
<div class="ttc" id="aclass_t_tool_html_adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859"><div class="ttname"><a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">TTool::RasterImage</a></div><div class="ttdeci">@ RasterImage</div><div class="ttdoc">Will work on fullcolor images.</div><div class="ttdef"><b>Definition:</b> tool.h:280</div></div>
<div class="ttc" id="aclass_t_tool_html_adf0ea3a7f9d003f761fe57638dd6eff4aa6443a8b4b8f50c7415bee045a27a309"><div class="ttname"><a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4aa6443a8b4b8f50c7415bee045a27a309">TTool::LevelColumns</a></div><div class="ttdeci">@ LevelColumns</div><div class="ttdoc">Will work on level columns.</div><div class="ttdef"><b>Definition:</b> tool.h:284</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a391f099e6530ea54c71d81c9ee39296c" name="a391f099e6530ea54c71d81c9ee39296c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a391f099e6530ea54c71d81c9ee39296c">&#9670;&nbsp;</a></span>ToolType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296c">TTool::ToolType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tool editing type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a391f099e6530ea54c71d81c9ee39296caa8f6293eab5817f82f74f031c0724f28" name="a391f099e6530ea54c71d81c9ee39296caa8f6293eab5817f82f74f031c0724f28"></a>GenericTool&#160;</td><td class="fielddoc"><p >Tool will not deal with specific scene content. </p>
</td></tr>
<tr><td class="fieldname"><a id="a391f099e6530ea54c71d81c9ee39296cab1cf4660322ca2d4e5a4848bdbc049a9" name="a391f099e6530ea54c71d81c9ee39296cab1cf4660322ca2d4e5a4848bdbc049a9"></a>ColumnTool&#160;</td><td class="fielddoc"><p >Tool deals with placement of column objects. </p>
</td></tr>
<tr><td class="fieldname"><a id="a391f099e6530ea54c71d81c9ee39296ca18d911ba387409847ad5ae6a731031f8" name="a391f099e6530ea54c71d81c9ee39296ca18d911ba387409847ad5ae6a731031f8"></a>LevelReadTool&#160;</td><td class="fielddoc"><p >Tool reads a level's image data. </p>
</td></tr>
<tr><td class="fieldname"><a id="a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b" name="a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b"></a>LevelWriteTool&#160;</td><td class="fielddoc"><p >Tool writes a level's image data (implies LevelReadTool). </p>
</td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">  266</span>  { <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296caa8f6293eab5817f82f74f031c0724f28">GenericTool</a>   = 1,  </div>
<div class="line"><span class="lineno">  267</span>    <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296cab1cf4660322ca2d4e5a4848bdbc049a9">ColumnTool</a>    = 2,  </div>
<div class="line"><span class="lineno">  268</span>    <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca18d911ba387409847ad5ae6a731031f8">LevelReadTool</a> = 4,  </div>
<div class="line"><span class="lineno">  269</span>    <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b">LevelWriteTool</a> =</div>
<div class="line"><span class="lineno">  270</span>        8,  </div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <span class="comment">// Convenience testing flags - getToolType() should not return these</span></div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>    LevelTool = <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca18d911ba387409847ad5ae6a731031f8">LevelReadTool</a> | <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b">LevelWriteTool</a> };</div>
<div class="ttc" id="aclass_t_tool_html_a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b"><div class="ttname"><a href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b">TTool::LevelWriteTool</a></div><div class="ttdeci">@ LevelWriteTool</div><div class="ttdoc">Tool writes a level's image data (implies LevelReadTool).</div><div class="ttdef"><b>Definition:</b> tool.h:269</div></div>
<div class="ttc" id="aclass_t_tool_html_a391f099e6530ea54c71d81c9ee39296ca18d911ba387409847ad5ae6a731031f8"><div class="ttname"><a href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca18d911ba387409847ad5ae6a731031f8">TTool::LevelReadTool</a></div><div class="ttdeci">@ LevelReadTool</div><div class="ttdoc">Tool reads a level's image data.</div><div class="ttdef"><b>Definition:</b> tool.h:268</div></div>
<div class="ttc" id="aclass_t_tool_html_a391f099e6530ea54c71d81c9ee39296caa8f6293eab5817f82f74f031c0724f28"><div class="ttname"><a href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296caa8f6293eab5817f82f74f031c0724f28">TTool::GenericTool</a></div><div class="ttdeci">@ GenericTool</div><div class="ttdoc">Tool will not deal with specific scene content.</div><div class="ttdef"><b>Definition:</b> tool.h:266</div></div>
<div class="ttc" id="aclass_t_tool_html_a391f099e6530ea54c71d81c9ee39296cab1cf4660322ca2d4e5a4848bdbc049a9"><div class="ttname"><a href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296cab1cf4660322ca2d4e5a4848bdbc049a9">TTool::ColumnTool</a></div><div class="ttdeci">@ ColumnTool</div><div class="ttdoc">Tool deals with placement of column objects.</div><div class="ttdef"><b>Definition:</b> tool.h:267</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9c63ec35f606e755d0d036bf4fed62ab" name="a9c63ec35f606e755d0d036bf4fed62ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c63ec35f606e755d0d036bf4fed62ab">&#9670;&nbsp;</a></span>TTool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TTool::TTool </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>toolName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>every tool (invoking updateTranslation() for each). </p>
<div class="fragment"><div class="line"><span class="lineno">  172</span>    : <a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a>(name)</div>
<div class="line"><span class="lineno">  173</span>    , <a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>(0)</div>
<div class="line"><span class="lineno">  174</span>    , <a class="code hl_variable" href="class_t_tool.html#ad84e5837b3ed638e3e73373c3195a589">m_targetType</a>(NoTarget)</div>
<div class="line"><span class="lineno">  175</span>    , <a class="code hl_variable" href="class_t_tool.html#a3552ce52afc39fffcab0492daf72ed16">m_enabled</a>(<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">  176</span>    , m_active(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  177</span>    , m_picking(<span class="keyword">false</span>) {}</div>
<div class="ttc" id="aclass_t_tool_html_a3552ce52afc39fffcab0492daf72ed16"><div class="ttname"><a href="class_t_tool.html#a3552ce52afc39fffcab0492daf72ed16">TTool::m_enabled</a></div><div class="ttdeci">bool m_enabled</div><div class="ttdoc">Whether the tool allows user interaction.</div><div class="ttdef"><b>Definition:</b> tool.h:560</div></div>
<div class="ttc" id="aclass_t_tool_html_a66f61f998b655c1c917ee63a595657c6"><div class="ttname"><a href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">TTool::m_viewer</a></div><div class="ttdeci">Viewer * m_viewer</div><div class="ttdoc">Tool's current viewer.</div><div class="ttdef"><b>Definition:</b> tool.h:555</div></div>
<div class="ttc" id="aclass_t_tool_html_ac92abce57c7c53b5b29847144c571fb1"><div class="ttname"><a href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">TTool::m_name</a></div><div class="ttdeci">std::string m_name</div><div class="ttdoc">The tool's name.</div><div class="ttdef"><b>Definition:</b> tool.h:553</div></div>
<div class="ttc" id="aclass_t_tool_html_ad84e5837b3ed638e3e73373c3195a589"><div class="ttname"><a href="class_t_tool.html#ad84e5837b3ed638e3e73373c3195a589">TTool::m_targetType</a></div><div class="ttdeci">int m_targetType</div><div class="ttdoc">The tool's image type target.</div><div class="ttdef"><b>Definition:</b> tool.h:558</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02ed5900b4a3690d19bd5c0af648136b" name="a02ed5900b4a3690d19bd5c0af648136b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02ed5900b4a3690d19bd5c0af648136b">&#9670;&nbsp;</a></span>~TTool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual TTool::~TTool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  341</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac8a81b368568245d16f7c3d4a17684a1" name="ac8a81b368568245d16f7c3d4a17684a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8a81b368568245d16f7c3d4a17684a1">&#9670;&nbsp;</a></span>addContextMenuItems()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::addContextMenuItems </td>
          <td>(</td>
          <td class="paramtype">QMenu *&#160;</td>
          <td class="paramname"><em>menu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Add a context menu to the actual tool, as for example pressing right mouse button with the stroke selection tool. </p>

<p>Reimplemented in <a class="el" href="class_control_point_editor_tool.html#a5228477da9c23e7485a14e18c1ee481b">ControlPointEditorTool</a>, <a class="el" href="class_plastic_tool.html#abf7dedd75cc50784fb0ba653f89adc5c">PlasticTool</a>, <a class="el" href="class_skeleton_tool.html#a385e7326886eccc593e35e1a6d264dfd">SkeletonTool</a>, and <a class="el" href="class_vector_selection_tool.html#ae3d352801662e8a24bc1e7d2e9723baa">VectorSelectionTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  504</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d54eb80783489fab80efc834b38d6f7" name="a2d54eb80783489fab80efc834b38d6f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d54eb80783489fab80efc834b38d6f7">&#9670;&nbsp;</a></span>bind()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::bind </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>targetType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  191</span>                               {</div>
<div class="line"><span class="lineno">  192</span>  <a class="code hl_variable" href="class_t_tool.html#ad84e5837b3ed638e3e73373c3195a589">m_targetType</a> = targetType;</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>  <span class="keywordflow">if</span> (!toolTable) toolTable = <span class="keyword">new</span> ToolTable();</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>  <span class="keywordflow">if</span> (!toolNames) toolNames = <span class="keyword">new</span> std::set&lt;std::string&gt;();</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>  std::string name = getName();</div>
<div class="line"><span class="lineno">  199</span>  <span class="keywordflow">if</span> (toolNames-&gt;count(name) == 0) {</div>
<div class="line"><span class="lineno">  200</span>    toolNames-&gt;insert(name);</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="comment">// Initialize with the dummy tool</span></div>
<div class="line"><span class="lineno">  203</span>    toolTable-&gt;insert(</div>
<div class="line"><span class="lineno">  204</span>        std::make_pair(std::make_pair(name, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">ToonzImage</a>), &amp;theDummyTool));</div>
<div class="line"><span class="lineno">  205</span>    toolTable-&gt;insert(</div>
<div class="line"><span class="lineno">  206</span>        std::make_pair(std::make_pair(name, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a>), &amp;theDummyTool));</div>
<div class="line"><span class="lineno">  207</span>    toolTable-&gt;insert(</div>
<div class="line"><span class="lineno">  208</span>        std::make_pair(std::make_pair(name, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">RasterImage</a>), &amp;theDummyTool));</div>
<div class="line"><span class="lineno">  209</span>    toolTable-&gt;insert(</div>
<div class="line"><span class="lineno">  210</span>        std::make_pair(std::make_pair(name, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a>), &amp;theDummyTool));</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    ToolSelector *toolSelector = <span class="keyword">new</span> ToolSelector(name);</div>
<div class="line"><span class="lineno">  213</span>    CommandManager::instance()-&gt;setHandler(</div>
<div class="line"><span class="lineno">  214</span>        name.c_str(), <span class="keyword">new</span> <a class="code hl_class" href="class_command_handler_helper.html">CommandHandlerHelper&lt;ToolSelector&gt;</a>(</div>
<div class="line"><span class="lineno">  215</span>                          toolSelector, &amp;ToolSelector::selectTool));</div>
<div class="line"><span class="lineno">  216</span>  }</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordflow">if</span> (targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">ToonzImage</a>)</div>
<div class="line"><span class="lineno">  219</span>    (*toolTable)[std::make_pair(name, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">ToonzImage</a>)] = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  220</span>  <span class="keywordflow">if</span> (targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a>)</div>
<div class="line"><span class="lineno">  221</span>    (*toolTable)[std::make_pair(name, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a>)] = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  222</span>  <span class="keywordflow">if</span> (targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">RasterImage</a>)</div>
<div class="line"><span class="lineno">  223</span>    (*toolTable)[std::make_pair(name, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">RasterImage</a>)] = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  224</span>  <span class="keywordflow">if</span> (targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a>)</div>
<div class="line"><span class="lineno">  225</span>    (*toolTable)[std::make_pair(name, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a>)] = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  226</span>}</div>
<div class="ttc" id="aclass_command_handler_helper_html"><div class="ttname"><a href="class_command_handler_helper.html">CommandHandlerHelper</a></div><div class="ttdef"><b>Definition:</b> menubarcommand.h:194</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e09495b50142df6b7bb9682837263c4" name="a9e09495b50142df6b7bb9682837263c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e09495b50142df6b7bb9682837263c4">&#9670;&nbsp;</a></span>createOptionsBox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tool_options_box.html">ToolOptionsBox</a> * TTool::createOptionsBox </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >The default returns a generic box containing the options for property group 0). </p><dl class="section see"><dt>See also</dt><dd>See <a class="el" href="">tooloptions.h</a> for more details. Factory function returning a newly created GUI options box to be displayed for the tool </dd></dl>

<p>Reimplemented in <a class="el" href="class_full_color_brush_tool.html#a4d4fe669cee5b1e6b1300ca5ca248adf">FullColorBrushTool</a>, <a class="el" href="class_plastic_tool.html#a21ed12bc2cdfd6f1a252cef5addfdc81">PlasticTool</a>, <a class="el" href="class_toonz_raster_brush_tool.html#a1da23d3c3840e430138b12e245616d49">ToonzRasterBrushTool</a>, and <a class="el" href="class_toonz_vector_brush_tool.html#aeec29fe8c8de4a3f3c1a2a481a3e6d12">ToonzVectorBrushTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  230</span>                                        {</div>
<div class="line"><span class="lineno">  231</span>  <a class="code hl_class" href="class_t_palette_handle.html">TPaletteHandle</a> *currPalette =</div>
<div class="line"><span class="lineno">  232</span>      m_application-&gt;getPaletteController()-&gt;getCurrentLevelPalette();</div>
<div class="line"><span class="lineno">  233</span>  <a class="code hl_class" href="class_tool_handle.html">ToolHandle</a> *currTool = m_application-&gt;getCurrentTool();</div>
<div class="line"><span class="lineno">  234</span>  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code hl_class" href="class_generic_tool_options_box.html">GenericToolOptionsBox</a>(0, <span class="keyword">this</span>, currPalette, 0, currTool);</div>
<div class="line"><span class="lineno">  235</span>}</div>
<div class="ttc" id="aclass_generic_tool_options_box_html"><div class="ttname"><a href="class_generic_tool_options_box.html">GenericToolOptionsBox</a></div><div class="ttdef"><b>Definition:</b> tooloptions.h:172</div></div>
<div class="ttc" id="aclass_t_palette_handle_html"><div class="ttname"><a href="class_t_palette_handle.html">TPaletteHandle</a></div><div class="ttdef"><b>Definition:</b> tpalettehandle.h:27</div></div>
<div class="ttc" id="aclass_tool_handle_html"><div class="ttname"><a href="class_tool_handle.html">ToolHandle</a></div><div class="ttdef"><b>Definition:</b> toolhandle.h:31</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ac95dc3f7be83c2c8a1d3b8b276d7e4" name="a4ac95dc3f7be83c2c8a1d3b8b276d7e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ac95dc3f7be83c2c8a1d3b8b276d7e4">&#9670;&nbsp;</a></span>disableString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual QString TTool::disableString </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a custom reason to disable the tool. </p>

</div>
</div>
<a id="a058bf656d73bf3cd63b9826cbaaf48e0" name="a058bf656d73bf3cd63b9826cbaaf48e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a058bf656d73bf3cd63b9826cbaaf48e0">&#9670;&nbsp;</a></span>draw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::draw </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Draws the tool on the viewer. </p>

<p>Reimplemented in <a class="el" href="class_pinch_tool.html#a1f3ec0529ae587fd265d5459580221db">PinchTool</a>, <a class="el" href="class_control_point_editor_tool.html#ae736cb807171fa9d2e250a10f81f4c6e">ControlPointEditorTool</a>, <a class="el" href="class_edit_tool.html#a8ba2e2f68e01b0635a84982ccce2a4a1">EditTool</a>, <a class="el" href="class_fill_tool.html#a9fe12e5e18644d982279efb0e14e6034">FillTool</a>, <a class="el" href="class_finger_tool.html#a5584c85f9a9ce54dc322cdfda29639a1">FingerTool</a>, <a class="el" href="class_full_color_brush_tool.html#ab2a59a2a31dfdfefb275ff7004a9f7df">FullColorBrushTool</a>, <a class="el" href="class_full_color_eraser_tool.html#a595d6f72a8a88cc7a7f72604407baeac">FullColorEraserTool</a>, <a class="el" href="class_geometric_tool.html#a582bdb66fc6ada662b695800c243f573">GeometricTool</a>, <a class="el" href="class_hook_tool.html#a343b508b009569fd1ec11a7fa1d02183">HookTool</a>, <a class="el" href="class_magnet_tool.html#a568746745fa158ff8572cb64fef135ca">MagnetTool</a>, <a class="el" href="class_paint_brush_tool.html#a379e67156bea0ec690c1d7155489dfa0">PaintBrushTool</a>, <a class="el" href="class_plastic_tool.html#a9d46bd4278978baf6cf3f822ee342094">PlasticTool</a>, <a class="el" href="class_pump_tool.html#a8d5824d783185e215ec527328435c339">PumpTool</a>, <a class="el" href="class_raster_selection_tool.html#a53c4f77bac43b8766df1b290415c09e1">RasterSelectionTool</a>, <a class="el" href="class_raster_tape_tool.html#aee0b615722dab5032bcd3ec165cf21aa">RasterTapeTool</a>, <a class="el" href="class_r_g_b_picker_tool.html#a1561a7654bf6c12a32a6d503be19e97e">RGBPickerTool</a>, <a class="el" href="class_ruler_tool.html#acfcc6322fd4ef6ddeae08857b424abc1">RulerTool</a>, <a class="el" href="class_shift_trace_tool.html#a48727ff6695c72454138f4f10e69cf35">ShiftTraceTool</a>, <a class="el" href="class_skeleton_tool.html#ae4202699f76a9ea8164799fbf8596655">SkeletonTool</a>, <a class="el" href="class_style_picker_tool.html#a32ae73caefe3bfd6c364a7b69b1e81ff">StylePickerTool</a>, <a class="el" href="class_toonz_raster_brush_tool.html#afcaca75d7a357250948936e59c5e5b2b">ToonzRasterBrushTool</a>, <a class="el" href="class_toonz_vector_brush_tool.html#a3691fbb7fffbc574fa0227e2c4d4657b">ToonzVectorBrushTool</a>, <a class="el" href="class_tracker_tool.html#ac4f484cbcc637cd22c3b803463d1f83a">TrackerTool</a>, <a class="el" href="class_type_tool.html#a450218e776540a68485f6f535f11fc00">TypeTool</a>, <a class="el" href="class_eraser_tool.html#a59979313b8409fd36025927655489c21">EraserTool</a>, <a class="el" href="class_vector_selection_tool.html#a5c6d80a5263bad0ae7603e0d7c72f9b5">VectorSelectionTool</a>, <a class="el" href="class_vector_tape_tool.html#aaf17298c2921ce2ccdb1f09f83bf3b08">VectorTapeTool</a>, <a class="el" href="class_rotate_tool.html#a456d34a7e390486709ec890671c08e62">RotateTool</a>, <a class="el" href="class_camera_test_tool.html#aa0fa1d7fa1d1854157b9a2a91ac32153">CameraTestTool</a>, <a class="el" href="class_set_scan_cropbox_tool.html#ae04421192aef4a454bfe60391708f8bd">SetScanCropboxTool</a>, and <a class="el" href="class_selection_tool.html#a64457ad075be6bd4410efe8b02951dc7">SelectionTool</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01598">SceneViewer::drawOverlay()</a>.</p>

</div>
</div>
<a id="a0188d7374490589e82961042ad51cdfb" name="a0188d7374490589e82961042ad51cdfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0188d7374490589e82961042ad51cdfb">&#9670;&nbsp;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::enable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  506</span>{ <a class="code hl_variable" href="class_t_tool.html#a3552ce52afc39fffcab0492daf72ed16">m_enabled</a> = on; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2228ed2a2475d7c793cb5d9b60150724" name="a2228ed2a2475d7c793cb5d9b60150724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2228ed2a2475d7c793cb5d9b60150724">&#9670;&nbsp;</a></span>flipGuideStrokeDirection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::flipGuideStrokeDirection </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1422</span>                                             {</div>
<div class="line"><span class="lineno"> 1423</span>  <span class="keywordflow">if</span> (!mode) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1424</span> </div>
<div class="line"><span class="lineno"> 1425</span>  <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl =</div>
<div class="line"><span class="lineno"> 1426</span>      m_application-&gt;getCurrentLevel()-&gt;getLevel()-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno"> 1427</span>  <span class="keywordflow">if</span> (!sl) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>  <span class="keywordtype">int</span> osBack  = -1;</div>
<div class="line"><span class="lineno"> 1430</span>  <span class="keywordtype">int</span> osFront = -1;</div>
<div class="line"><span class="lineno"> 1431</span>  <span class="keywordtype">int</span> os      = -1;</div>
<div class="line"><span class="lineno"> 1432</span>  <span class="keywordtype">int</span> strokeIdx;</div>
<div class="line"><span class="lineno"> 1433</span> </div>
<div class="line"><span class="lineno"> 1434</span>  getViewer()-&gt;getGuidedFrameIdx(&amp;osBack, &amp;osFront);</div>
<div class="line"><span class="lineno"> 1435</span> </div>
<div class="line"><span class="lineno"> 1436</span>  <span class="keywordflow">if</span> (mode &lt; 0) {  <span class="comment">// Previous Frame</span></div>
<div class="line"><span class="lineno"> 1437</span>    os        = osBack;</div>
<div class="line"><span class="lineno"> 1438</span>    strokeIdx = getViewer()-&gt;getGuidedBackStroke();</div>
<div class="line"><span class="lineno"> 1439</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mode &gt; 0) {  <span class="comment">// Next Frame</span></div>
<div class="line"><span class="lineno"> 1440</span>    os        = osFront;</div>
<div class="line"><span class="lineno"> 1441</span>    strokeIdx = getViewer()-&gt;getGuidedFrontStroke();</div>
<div class="line"><span class="lineno"> 1442</span>  }</div>
<div class="line"><span class="lineno"> 1443</span> </div>
<div class="line"><span class="lineno"> 1444</span>  <span class="keywordflow">if</span> (os &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1445</span> </div>
<div class="line"><span class="lineno"> 1446</span>  <a class="code hl_class" href="class_t_frame_handle.html">TFrameHandle</a> *currentFrame = getApplication()-&gt;getCurrentFrame();</div>
<div class="line"><span class="lineno"> 1447</span>  <span class="keywordtype">int</span> row                    = currentFrame-&gt;getFrameIndex();</div>
<div class="line"><span class="lineno"> 1448</span>  <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> cFid              = <a class="code hl_function" href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">getCurrentFid</a>();</div>
<div class="line"><span class="lineno"> 1449</span>  <span class="keywordflow">if</span> (cFid.isEmptyFrame()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1450</span> </div>
<div class="line"><span class="lineno"> 1451</span>  <a class="code hl_class" href="class_t_vector_image_p.html">TVectorImageP</a> cvi = sl-&gt;getFrame(cFid, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1452</span>  <span class="keywordflow">if</span> (!cvi) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span>  <span class="keywordtype">int</span> cStrokeCount = cvi-&gt;getStrokeCount();</div>
<div class="line"><span class="lineno"> 1455</span> </div>
<div class="line"><span class="lineno"> 1456</span>  <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid;</div>
<div class="line"><span class="lineno"> 1457</span>  <span class="keywordflow">if</span> (currentFrame-&gt;isEditingScene()) {</div>
<div class="line"><span class="lineno"> 1458</span>    <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = getApplication()-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 1459</span>    <span class="keywordtype">int</span> col      = getApplication()-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno"> 1460</span>    <span class="keywordflow">if</span> (xsh &amp;&amp; col &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1461</span>      <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(os, col);</div>
<div class="line"><span class="lineno"> 1462</span>      <span class="keywordflow">if</span> (!cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) fid = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">getFrameId</a>();</div>
<div class="line"><span class="lineno"> 1463</span>    }</div>
<div class="line"><span class="lineno"> 1464</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1465</span>    fid = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#abb72e2ab0c1baeda0a8af3146003181d">getFrameId</a>(os);</div>
<div class="line"><span class="lineno"> 1466</span> </div>
<div class="line"><span class="lineno"> 1467</span>  <span class="keywordflow">if</span> (fid.isEmptyFrame()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1468</span> </div>
<div class="line"><span class="lineno"> 1469</span>  <a class="code hl_class" href="class_t_vector_image_p.html">TVectorImageP</a> vi = sl-&gt;getFrame(fid, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1470</span>  <span class="keywordflow">if</span> (!vi) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1471</span> </div>
<div class="line"><span class="lineno"> 1472</span>  <span class="keywordtype">int</span> strokeCount = vi-&gt;getStrokeCount();</div>
<div class="line"><span class="lineno"> 1473</span>  <span class="keywordflow">if</span> (!strokeCount) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1474</span> </div>
<div class="line"><span class="lineno"> 1475</span>  <span class="keywordflow">if</span> (strokeIdx == -1) strokeIdx = cStrokeCount;</div>
<div class="line"><span class="lineno"> 1476</span> </div>
<div class="line"><span class="lineno"> 1477</span>  <span class="keywordflow">if</span> (strokeIdx &gt;= strokeCount) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span>  <a class="code hl_struct" href="class_t_stroke.html">TStroke</a> *stroke = vi-&gt;getStroke(strokeIdx);</div>
<div class="line"><span class="lineno"> 1480</span>  <span class="keywordflow">if</span> (!stroke) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1481</span> </div>
<div class="line"><span class="lineno"> 1482</span>  stroke-&gt;<a class="code hl_function" href="class_t_stroke.html#a35b789ac866cf1baf224710862294e1c">changeDirection</a>();</div>
<div class="line"><span class="lineno"> 1483</span>  sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a2d43337766628739707849f8808bf300">setDirtyFlag</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1484</span>  getViewer()-&gt;<a class="code hl_function" href="class_t_tool_1_1_viewer.html#a3c78921157249891a6ec73eb94501d2a">invalidateAll</a>();</div>
<div class="line"><span class="lineno"> 1485</span>  m_application-&gt;getCurrentLevel()-&gt;notifyLevelChange();</div>
<div class="line"><span class="lineno"> 1486</span>}</div>
<div class="ttc" id="aclass_t_frame_handle_html"><div class="ttname"><a href="class_t_frame_handle.html">TFrameHandle</a></div><div class="ttdef"><b>Definition:</b> tframehandle.h:30</div></div>
<div class="ttc" id="aclass_t_frame_id_html"><div class="ttname"><a href="class_t_frame_id.html">TFrameId</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:29</div></div>
<div class="ttc" id="aclass_t_stroke_html"><div class="ttname"><a href="class_t_stroke.html">TStroke</a></div><div class="ttdef"><b>Definition:</b> tstroke.h:47</div></div>
<div class="ttc" id="aclass_t_stroke_html_a35b789ac866cf1baf224710862294e1c"><div class="ttname"><a href="class_t_stroke.html#a35b789ac866cf1baf224710862294e1c">TStroke::changeDirection</a></div><div class="ttdeci">TStroke &amp; changeDirection()</div><div class="ttdoc">change tangent versus in the stroke</div><div class="ttdef"><b>Definition:</b> tstroke.cpp:2385</div></div>
<div class="ttc" id="aclass_t_tool_1_1_viewer_html_a3c78921157249891a6ec73eb94501d2a"><div class="ttname"><a href="class_t_tool_1_1_viewer.html#a3c78921157249891a6ec73eb94501d2a">TTool::Viewer::invalidateAll</a></div><div class="ttdeci">virtual void invalidateAll()=0</div></div>
<div class="ttc" id="aclass_t_tool_html_ae7db6c4288b721fd95f283419883a4b2"><div class="ttname"><a href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">TTool::getCurrentFid</a></div><div class="ttdeci">TFrameId getCurrentFid() const</div><div class="ttdoc">Returns the number of the actual editing frame.</div><div class="ttdef"><b>Definition:</b> tool.cpp:688</div></div>
<div class="ttc" id="aclass_t_vector_image_p_html"><div class="ttname"><a href="class_t_vector_image_p.html">TVectorImageP</a></div><div class="ttdef"><b>Definition:</b> tvectorimage.h:417</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html"><div class="ttname"><a href="class_t_xsh_cell.html">TXshCell</a></div><div class="ttdef"><b>Definition:</b> txshcell.h:35</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html_a5a1965b96c2c698d6f0fb42a80c03406"><div class="ttname"><a href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">TXshCell::getFrameId</a></div><div class="ttdeci">TFrameId getFrameId() const</div><div class="ttdef"><b>Definition:</b> txshcell.h:120</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html_a5d20229e7bcd19957b123959e58a833e"><div class="ttname"><a href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">TXshCell::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdef"><b>Definition:</b> txshcell.h:78</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a023065559cff76164ecb6344c586ba27"><div class="ttname"><a href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">TXshLevel::getSimpleLevel</a></div><div class="ttdeci">virtual TXshSimpleLevel * getSimpleLevel()</div><div class="ttdoc">Method (to be overridden in subclasses) to downcast to TXshSimpleLevel.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:95</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html"><div class="ttname"><a href="class_t_xsh_simple_level.html">TXshSimpleLevel</a></div><div class="ttdoc">The TXshLevel specialization for image levels.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:60</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a2d43337766628739707849f8808bf300"><div class="ttname"><a href="class_t_xsh_simple_level.html#a2d43337766628739707849f8808bf300">TXshSimpleLevel::setDirtyFlag</a></div><div class="ttdeci">void setDirtyFlag(bool on) override</div><div class="ttdoc">Mark the level as &quot;modified&quot;.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:320</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_abb72e2ab0c1baeda0a8af3146003181d"><div class="ttname"><a href="class_t_xsh_simple_level.html#abb72e2ab0c1baeda0a8af3146003181d">TXshSimpleLevel::getFrameId</a></div><div class="ttdeci">const TFrameId &amp; getFrameId(int index) const</div><div class="ttdoc">Returns the frame id at specified index.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:460</div></div>
<div class="ttc" id="aclass_t_xsheet_html"><div class="ttname"><a href="class_t_xsheet.html">TXsheet</a></div><div class="ttdef"><b>Definition:</b> txsheet.h:132</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a1ae81edf03bc7527176c84478c350f57"><div class="ttname"><a href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">TXsheet::getCell</a></div><div class="ttdeci">const TXshCell &amp; getCell(int row, int col) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:233</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d9174a450482028d6b6b77018af98f4" name="a6d9174a450482028d6b6b77018af98f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d9174a450482028d6b6b77018af98f4">&#9670;&nbsp;</a></span>getApplication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_application.html">TTool::Application</a> * TTool::getApplication </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  597</span>                                        {</div>
<div class="line"><span class="lineno">  598</span>  <span class="keywordflow">if</span> (m_application == 0)</div>
<div class="line"><span class="lineno">  599</span>    assert(!<span class="stringliteral">&quot;you MUST call the TTool::setApplication function in the main of the program!&quot;</span>);</div>
<div class="line"><span class="lineno">  600</span>  <span class="keywordflow">return</span> m_application;</div>
<div class="line"><span class="lineno">  601</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7214525a3ae0cdcb0a0393e4dc4d3bf5" name="a7214525a3ae0cdcb0a0393e4dc4d3bf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7214525a3ae0cdcb0a0393e4dc4d3bf5">&#9670;&nbsp;</a></span>getColumnIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TTool::getColumnIndex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the actual column index. </p>
<div class="fragment"><div class="line"><span class="lineno">  583</span>                          {</div>
<div class="line"><span class="lineno">  584</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  585</span>  <span class="keywordflow">return</span> m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno">  586</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01598">SkeletonTool::addContextMenuItems()</a>, and <a class="el" href="#l01585">EditTool::onActivate()</a>.</p>

</div>
</div>
<a id="a99eb4354e2dba454b7210c986015d577" name="a99eb4354e2dba454b7210c986015d577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99eb4354e2dba454b7210c986015d577">&#9670;&nbsp;</a></span>getColumnMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_affine.html">TAffine</a> TTool::getColumnMatrix </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">    Returns the matrix transformation of the stage object with column
</pre><p> index equal to <code>index</code> and frame as the current frame. if frame = -1 then it uses the current frame </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_t_xsheet.html#abd766f516cac9898a2a952463618a9fe">TXsheet::getPlacement</a>. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  745</span>                                                               {</div>
<div class="line"><span class="lineno">  746</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>  <a class="code hl_class" href="class_t_frame_handle.html">TFrameHandle</a> *fh = m_application-&gt;getCurrentFrame();</div>
<div class="line"><span class="lineno">  749</span>  <span class="keywordflow">if</span> (fh-&gt;isEditingLevel()) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  750</span>  <span class="keywordflow">if</span> (frame &lt; 0) frame = fh-&gt;getFrame();</div>
<div class="line"><span class="lineno">  751</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_application-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno">  752</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> columnObjId =</div>
<div class="line"><span class="lineno">  753</span>      (columnIndex &gt;= 0)</div>
<div class="line"><span class="lineno">  754</span>          ? TStageObjectId::ColumnId(columnIndex)</div>
<div class="line"><span class="lineno">  755</span>          : TStageObjectId::CameraId(xsh-&gt;getCameraColumnIndex());</div>
<div class="line"><span class="lineno">  756</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> columnPlacement = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#abd766f516cac9898a2a952463618a9fe">getPlacement</a>(columnObjId, frame);</div>
<div class="line"><span class="lineno">  757</span>  <span class="keywordtype">double</span> columnZ          = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#ac3cff0937663af24b324430b134ed8b2">getZ</a>(columnObjId, frame);</div>
<div class="line"><span class="lineno">  758</span> </div>
<div class="line"><span class="lineno">  759</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> cameraId = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a5dc925584e35e1678f5678b79c470959">getStageObjectTree</a>()-&gt;<a class="code hl_function" href="class_t_stage_object_tree.html#a7d63ae5d60c3a3aacf5da58c108ac167">getCurrentCameraId</a>();</div>
<div class="line"><span class="lineno">  760</span>  <a class="code hl_class" href="class_t_stage_object.html">TStageObject</a> *camera    = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">getStageObject</a>(cameraId);</div>
<div class="line"><span class="lineno">  761</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> cameraPlacement = camera-&gt;getPlacement(frame);</div>
<div class="line"><span class="lineno">  762</span>  <span class="keywordtype">double</span> cameraZ          = camera-&gt;<a class="code hl_function" href="class_t_stage_object.html#a52b1a3ec50ed35fbc07c9a3b64ecc21c">getZ</a>(frame);</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>  <a class="code hl_class" href="class_t_stage_object.html">TStageObject</a> *<span class="keywordtype">object</span> = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">getStageObject</a>(columnObjId);</div>
<div class="line"><span class="lineno">  765</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> placement;</div>
<div class="line"><span class="lineno">  766</span>  <a class="code hl_function" href="class_t_stage_object.html#a0f219cbc4e42269c0fbd073a62253218">TStageObject::perspective</a>(placement, cameraPlacement, cameraZ,</div>
<div class="line"><span class="lineno">  767</span>                            columnPlacement, columnZ,</div>
<div class="line"><span class="lineno">  768</span>                            object-&gt;<a class="code hl_function" href="class_t_stage_object.html#a5d01b3f25af51c058e46982ca047312d">getGlobalNoScaleZ</a>());</div>
<div class="line"><span class="lineno">  769</span> </div>
<div class="line"><span class="lineno">  770</span>  <span class="keywordflow">return</span> placement;</div>
<div class="line"><span class="lineno">  771</span>}</div>
<div class="ttc" id="aclass_t_affine_html"><div class="ttname"><a href="class_t_affine.html">TAffine</a></div><div class="ttdoc">This is the base class for the affine transformations.</div><div class="ttdef"><b>Definition:</b> tgeometry.h:864</div></div>
<div class="ttc" id="aclass_t_stage_object_html"><div class="ttname"><a href="class_t_stage_object.html">TStageObject</a></div><div class="ttdef"><b>Definition:</b> tstageobject.h:95</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a0f219cbc4e42269c0fbd073a62253218"><div class="ttname"><a href="class_t_stage_object.html#a0f219cbc4e42269c0fbd073a62253218">TStageObject::perspective</a></div><div class="ttdeci">static bool perspective(TAffine &amp;aff, const TAffine &amp;cameraAff, double cameraZ, const TAffine &amp;objectAff, double objectZ, double objectNoScaleZ)</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:1945</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a52b1a3ec50ed35fbc07c9a3b64ecc21c"><div class="ttname"><a href="class_t_stage_object.html#a52b1a3ec50ed35fbc07c9a3b64ecc21c">TStageObject::getZ</a></div><div class="ttdeci">double getZ(double frame)</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:1423</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a5d01b3f25af51c058e46982ca047312d"><div class="ttname"><a href="class_t_stage_object.html#a5d01b3f25af51c058e46982ca047312d">TStageObject::getGlobalNoScaleZ</a></div><div class="ttdeci">double getGlobalNoScaleZ() const</div><div class="ttdoc">Returns the absolute depth with no scale factor.</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:1443</div></div>
<div class="ttc" id="aclass_t_stage_object_id_html"><div class="ttname"><a href="class_t_stage_object_id.html">TStageObjectId</a></div><div class="ttdef"><b>Definition:</b> tstageobjectid.h:36</div></div>
<div class="ttc" id="aclass_t_stage_object_tree_html_a7d63ae5d60c3a3aacf5da58c108ac167"><div class="ttname"><a href="class_t_stage_object_tree.html#a7d63ae5d60c3a3aacf5da58c108ac167">TStageObjectTree::getCurrentCameraId</a></div><div class="ttdeci">TStageObjectId getCurrentCameraId() const</div><div class="ttdef"><b>Definition:</b> tstageobjecttree.cpp:508</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a13d9b9c08ca8dde39769f5644e046ee5"><div class="ttname"><a href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">TXsheet::getStageObject</a></div><div class="ttdeci">TStageObject * getStageObject(const TStageObjectId &amp;id) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:542</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a5dc925584e35e1678f5678b79c470959"><div class="ttname"><a href="class_t_xsheet.html#a5dc925584e35e1678f5678b79c470959">TXsheet::getStageObjectTree</a></div><div class="ttdeci">TStageObjectTree * getStageObjectTree() const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:549</div></div>
<div class="ttc" id="aclass_t_xsheet_html_abd766f516cac9898a2a952463618a9fe"><div class="ttname"><a href="class_t_xsheet.html#abd766f516cac9898a2a952463618a9fe">TXsheet::getPlacement</a></div><div class="ttdeci">TAffine getPlacement(const TStageObjectId &amp;id, int frame) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:555</div></div>
<div class="ttc" id="aclass_t_xsheet_html_ac3cff0937663af24b324430b134ed8b2"><div class="ttname"><a href="class_t_xsheet.html#ac3cff0937663af24b324430b134ed8b2">TXsheet::getZ</a></div><div class="ttdeci">double getZ(const TStageObjectId &amp;id, int frame) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:562</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00508">TStageObjectTree::getCurrentCameraId()</a>, <a class="el" href="#l01443">TStageObject::getGlobalNoScaleZ()</a>, <a class="el" href="#l00555">TXsheet::getPlacement()</a>, <a class="el" href="#l00542">TXsheet::getStageObject()</a>, <a class="el" href="#l00549">TXsheet::getStageObjectTree()</a>, <a class="el" href="#l00562">TXsheet::getZ()</a>, <a class="el" href="#l01423">TStageObject::getZ()</a>, and <a class="el" href="#l01945">TStageObject::perspective()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00706">getCurrentColumnMatrix()</a>.</p>

</div>
</div>
<a id="a73c1b7f13eaea33e1d305636f44c4a64" name="a73c1b7f13eaea33e1d305636f44c4a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c1b7f13eaea33e1d305636f44c4a64">&#9670;&nbsp;</a></span>getCurrentColumnMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_affine.html">TAffine</a> TTool::getCurrentColumnMatrix </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em> = <code>-1</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the current column matrix transformation. if frame = -1 then it uses the current frame </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_t_xsheet.html#abd766f516cac9898a2a952463618a9fe">TXsheet::getPlacement</a>. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  706</span>                                                     {</div>
<div class="line"><span class="lineno">  707</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="class_t_tool.html#a99eb4354e2dba454b7210c986015d577">getColumnMatrix</a>(m_application-&gt;getCurrentColumn()-&gt;getColumnIndex(),</div>
<div class="line"><span class="lineno">  708</span>                         frame);</div>
<div class="line"><span class="lineno">  709</span>}</div>
<div class="ttc" id="aclass_t_tool_html_a99eb4354e2dba454b7210c986015d577"><div class="ttname"><a href="class_t_tool.html#a99eb4354e2dba454b7210c986015d577">TTool::getColumnMatrix</a></div><div class="ttdeci">TAffine getColumnMatrix(int index, int frame=-1) const</div><div class="ttdef"><b>Definition:</b> tool.cpp:745</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00745">getColumnMatrix()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00540">invalidate()</a>, and <a class="el" href="#l00801">updateMatrix()</a>.</p>

</div>
</div>
<a id="a57b1120acc73e2127f81688301707177" name="a57b1120acc73e2127f81688301707177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b1120acc73e2127f81688301707177">&#9670;&nbsp;</a></span>getCurrentColumnParentMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_affine.html">TAffine</a> TTool::getCurrentColumnParentMatrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the current matrix transformation of the current stage object parent. </p>
<div class="fragment"><div class="line"><span class="lineno">  713</span>                                                  {</div>
<div class="line"><span class="lineno">  714</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>  <a class="code hl_class" href="class_t_frame_handle.html">TFrameHandle</a> *fh = m_application-&gt;getCurrentFrame();</div>
<div class="line"><span class="lineno">  717</span>  <span class="keywordflow">if</span> (fh-&gt;isEditingLevel()) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  718</span>  <span class="keywordtype">int</span> frame       = fh-&gt;getFrame();</div>
<div class="line"><span class="lineno">  719</span>  <span class="keywordtype">int</span> columnIndex = m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno">  720</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh    = m_application-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno">  721</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> parentId =</div>
<div class="line"><span class="lineno">  722</span>      xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a0a27744ce52cae25ec261a853a554cd1">getStageObjectParent</a>(TStageObjectId::ColumnId(columnIndex));</div>
<div class="line"><span class="lineno">  723</span>  <span class="keywordflow">return</span> xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#abd766f516cac9898a2a952463618a9fe">getPlacement</a>(parentId, frame);</div>
<div class="line"><span class="lineno">  724</span>}</div>
<div class="ttc" id="aclass_t_xsheet_html_a0a27744ce52cae25ec261a853a554cd1"><div class="ttname"><a href="class_t_xsheet.html#a0a27744ce52cae25ec261a853a554cd1">TXsheet::getStageObjectParent</a></div><div class="ttdeci">TStageObjectId getStageObjectParent(const TStageObjectId &amp;id)</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:598</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00555">TXsheet::getPlacement()</a>, and <a class="el" href="#l00598">TXsheet::getStageObjectParent()</a>.</p>

</div>
</div>
<a id="ae7db6c4288b721fd95f283419883a4b2" name="ae7db6c4288b721fd95f283419883a4b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7db6c4288b721fd95f283419883a4b2">&#9670;&nbsp;</a></span>getCurrentFid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_frame_id.html">TFrameId</a> TTool::getCurrentFid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of the actual editing frame. </p>
<p >frame <code>fid</code>; used to update images on the level view.</p>
<p >It can depend on the actual frame and the actual cell or on the current fid (editing level). In editing scene if the current cell is empty the method returns TFrameId::NO_FRAME. </p>
<div class="fragment"><div class="line"><span class="lineno">  688</span>                                    {</div>
<div class="line"><span class="lineno">  689</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>();</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>  <a class="code hl_class" href="class_t_frame_handle.html">TFrameHandle</a> *fh = m_application-&gt;getCurrentFrame();</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>  <span class="keywordflow">if</span> (fh-&gt;isEditingLevel()) <span class="keywordflow">return</span> fh-&gt;getFid();</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>  <span class="keywordtype">int</span> row = m_application-&gt;getCurrentFrame()-&gt;getFrame();</div>
<div class="line"><span class="lineno">  696</span>  <span class="keywordtype">int</span> col = m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno">  697</span>  <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell =</div>
<div class="line"><span class="lineno">  698</span>      m_application-&gt;getCurrentXsheet()-&gt;getXsheet()-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(row, col);</div>
<div class="line"><span class="lineno">  699</span>  <span class="keywordflow">if</span> (cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) <span class="keywordflow">return</span> TFrameId::NO_FRAME;</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>  <span class="keywordflow">return</span> cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">getFrameId</a>();</div>
<div class="line"><span class="lineno">  702</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00233">TXsheet::getCell()</a>, <a class="el" href="#l00120">TXshCell::getFrameId()</a>, and <a class="el" href="#l00078">TXshCell::isEmpty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00259">HookTool::draw()</a>, <a class="el" href="#l00276">TrackerTool::draw()</a>, <a class="el" href="#l00510">FingerTool::finishBrush()</a>, <a class="el" href="#l00583">PaintBrushTool::finishBrush()</a>, <a class="el" href="#l01569">ToonzRasterBrushTool::finishRasterBrush()</a>, <a class="el" href="#l00540">invalidate()</a>, <a class="el" href="#l01020">FullColorEraserTool::onImageChanged()</a>, <a class="el" href="#l00950">EraserTool::onImageChanged()</a>, <a class="el" href="#l02858">SceneViewer::onLevelSwitched()</a>, <a class="el" href="#l01991">FillTool::onPropertyChanged()</a>, <a class="el" href="#l00731">TrackerTool::onPropertyChanged()</a>, <a class="el" href="#l01185">RasterSelection::pasteSelection()</a>, and <a class="el" href="#l00636">DragSelectionTool::VectorDeformTool::transformWholeLevel()</a>.</p>

</div>
</div>
<a id="a5decb470046ec60d32190494d270d52b" name="a5decb470046ec60d32190494d270d52b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5decb470046ec60d32190494d270d52b">&#9670;&nbsp;</a></span>getCurrentObjectParentMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_affine.html">TAffine</a> TTool::getCurrentObjectParentMatrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  728</span>                                                  {</div>
<div class="line"><span class="lineno">  729</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_application-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno">  732</span>  <span class="keywordtype">int</span> frame    = m_application-&gt;getCurrentFrame()-&gt;getFrame();</div>
<div class="line"><span class="lineno">  733</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> currentObjectId =</div>
<div class="line"><span class="lineno">  734</span>      m_application-&gt;getCurrentObject()-&gt;getObjectId();</div>
<div class="line"><span class="lineno">  735</span>  <span class="keywordflow">if</span> (currentObjectId == TStageObjectId::NoneId) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  736</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> parentId = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a0a27744ce52cae25ec261a853a554cd1">getStageObjectParent</a>(currentObjectId);</div>
<div class="line"><span class="lineno">  737</span>  <span class="keywordflow">if</span> (parentId == TStageObjectId::NoneId)</div>
<div class="line"><span class="lineno">  738</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  739</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  740</span>    <span class="keywordflow">return</span> xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#abd766f516cac9898a2a952463618a9fe">getPlacement</a>(parentId, frame);</div>
<div class="line"><span class="lineno">  741</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a05dea1c094543fc4062c0b9988a38eae" name="a05dea1c094543fc4062c0b9988a38eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05dea1c094543fc4062c0b9988a38eae">&#9670;&nbsp;</a></span>getCurrentObjectParentMatrix2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_affine.html">TAffine</a> TTool::getCurrentObjectParentMatrix2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  775</span>                                                   {</div>
<div class="line"><span class="lineno">  776</span>  <a class="code hl_class" href="class_t_application.html">TTool::Application</a> *app = m_application;</div>
<div class="line"><span class="lineno">  777</span>  <a class="code hl_class" href="class_t_frame_handle.html">TFrameHandle</a> *fh        = app-&gt;getCurrentFrame();</div>
<div class="line"><span class="lineno">  778</span>  <span class="keywordflow">if</span> (fh-&gt;isEditingLevel()) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  779</span>  <span class="keywordtype">int</span> frame               = fh-&gt;getFrame();</div>
<div class="line"><span class="lineno">  780</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh            = app-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno">  781</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> <span class="keywordtype">id</span>       = app-&gt;getCurrentObject()-&gt;getObjectId();</div>
<div class="line"><span class="lineno">  782</span>  <span class="keywordtype">double</span> objZ             = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#ac3cff0937663af24b324430b134ed8b2">getZ</a>(<span class="keywordtype">id</span>, frame);</div>
<div class="line"><span class="lineno">  783</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> parentId = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a0a27744ce52cae25ec261a853a554cd1">getStageObjectParent</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  784</span>  <span class="keywordflow">if</span> (parentId == TStageObjectId::NoneId) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  785</span>  <span class="keywordtype">id</span>                   = parentId;</div>
<div class="line"><span class="lineno">  786</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> objPlacement = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#abd766f516cac9898a2a952463618a9fe">getPlacement</a>(<span class="keywordtype">id</span>, frame);</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> cameraId = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a5dc925584e35e1678f5678b79c470959">getStageObjectTree</a>()-&gt;<a class="code hl_function" href="class_t_stage_object_tree.html#a7d63ae5d60c3a3aacf5da58c108ac167">getCurrentCameraId</a>();</div>
<div class="line"><span class="lineno">  789</span>  <a class="code hl_class" href="class_t_stage_object.html">TStageObject</a> *camera    = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">getStageObject</a>(cameraId);</div>
<div class="line"><span class="lineno">  790</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> cameraPlacement = camera-&gt;getPlacement(frame);</div>
<div class="line"><span class="lineno">  791</span>  <span class="keywordtype">double</span> cameraZ          = camera-&gt;<a class="code hl_function" href="class_t_stage_object.html#a52b1a3ec50ed35fbc07c9a3b64ecc21c">getZ</a>(frame);</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> placement;</div>
<div class="line"><span class="lineno">  794</span>  <a class="code hl_function" href="class_t_stage_object.html#a0f219cbc4e42269c0fbd073a62253218">TStageObject::perspective</a>(placement, cameraPlacement, cameraZ, objPlacement,</div>
<div class="line"><span class="lineno">  795</span>                            objZ, 0);</div>
<div class="line"><span class="lineno">  796</span>  <span class="keywordflow">return</span> placement;</div>
<div class="line"><span class="lineno">  797</span>}</div>
<div class="ttc" id="aclass_t_application_html"><div class="ttname"><a href="class_t_application.html">TApplication</a></div><div class="ttdef"><b>Definition:</b> tapplication.h:31</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1768a57b8b6d1480618fd923fad15f1d" name="a1768a57b8b6d1480618fd923fad15f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1768a57b8b6d1480618fd923fad15f1d">&#9670;&nbsp;</a></span>getCursorId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int TTool::getCursorId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the type of cursor used by the tool. </p>
<dl class="section see"><dt>See also</dt><dd>For a list of cursor ids <a class="el" href="">cursor.h</a> </dd></dl>

<p>Reimplemented in <a class="el" href="class_pinch_tool.html#a2dc5ad5048a1122d78de61faf3e38533">PinchTool</a>, <a class="el" href="class_control_point_editor_tool.html#a69ed52b4c54b1d7e4c3028471b011674">ControlPointEditorTool</a>, <a class="el" href="class_edit_tool.html#ac8768cdb1941d89c22ce6f19571681bf">EditTool</a>, <a class="el" href="class_fill_tool.html#a4fe37650c48440cd6c93947d97778054">FillTool</a>, <a class="el" href="class_finger_tool.html#a99100304e7ea16ce3227e669da65a387">FingerTool</a>, <a class="el" href="class_full_color_brush_tool.html#a4fbcda46879cf5e63587eb6c877a7b70">FullColorBrushTool</a>, <a class="el" href="class_full_color_eraser_tool.html#a7f281b08529187952932472d29ec6e5d">FullColorEraserTool</a>, <a class="el" href="class_full_color_fill_tool.html#af48488db0702690fd23eb7e30bf87391">FullColorFillTool</a>, <a class="el" href="class_geometric_tool.html#aac958521e872f88c5815b5632cfe1f18">GeometricTool</a>, <a class="el" href="class_hook_tool.html#a9879a3067b86d59380e89bbda3670bdd">HookTool</a>, <a class="el" href="class_magnet_tool.html#a5416d153639cc56d842a9aee4ccd4230">MagnetTool</a>, <a class="el" href="class_paint_brush_tool.html#a9052fe3ab44be95bfc3a9e539785e792">PaintBrushTool</a>, <a class="el" href="class_plastic_tool.html#a15762671b2454062cd39fd52e0ee59a3">PlasticTool</a>, <a class="el" href="class_pump_tool.html#a697fbddf89a86d399435758010870e12">PumpTool</a>, <a class="el" href="class_raster_tape_tool.html#a2e787ac6decc204b024e9aa7b70093e1">RasterTapeTool</a>, <a class="el" href="class_r_g_b_picker_tool.html#a3848986595c6427b76017f0293954cc8">RGBPickerTool</a>, <a class="el" href="class_ruler_tool.html#ae591687b70428e7f83c512efc5d21d54">RulerTool</a>, <a class="el" href="class_selection_tool.html#a25e63648cac6b3e64f2f7051a511c958">SelectionTool</a>, <a class="el" href="class_shift_trace_tool.html#ac4ae96148da51a4373a16e789da6df78">ShiftTraceTool</a>, <a class="el" href="class_skeleton_tool.html#ab9934ce9e2dfcf8632262c8db7e4ab87">SkeletonTool</a>, <a class="el" href="class_style_picker_tool.html#a8baecb9efd19d1cec43eef45f3ad9a24">StylePickerTool</a>, <a class="el" href="class_toonz_raster_brush_tool.html#a304658ad28cdffe07ff3ff47540131ac">ToonzRasterBrushTool</a>, <a class="el" href="class_toonz_vector_brush_tool.html#a8230bcdb0540b099a813b6ef5fd6f2fe">ToonzVectorBrushTool</a>, <a class="el" href="class_tracker_tool.html#a7da6c28ea991a1f0ad982536c1d9aff9">TrackerTool</a>, <a class="el" href="class_type_tool.html#a2a37ceae24fed6c6fbce7b8b4e3ab951">TypeTool</a>, <a class="el" href="class_eraser_tool.html#aebdb04386db322fe5627cb013c1a736b">EraserTool</a>, <a class="el" href="class_vector_selection_tool.html#a73c068a75466c5a626cd8a85a7375733">VectorSelectionTool</a>, <a class="el" href="class_vector_tape_tool.html#aaacebdee5d606d350ef4ffa3c198616e">VectorTapeTool</a>, <a class="el" href="class_rotate_tool.html#ad999c8cf3f5afba31260b6064d03ff34">RotateTool</a>, <a class="el" href="class_camera_test_tool.html#a0bd480854dd0a813a265829bfcac6f28">CameraTestTool</a>, and <a class="el" href="class_set_scan_cropbox_tool.html#a965586356b0cab3447992eadfcbb3b5e">SetScanCropboxTool</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l03234">SceneViewer::invalidateToolStatus()</a>, and <a class="el" href="#l02914">SceneViewer::onToolChanged()</a>.</p>

</div>
</div>
<a id="a85025fe6544609814a1672ded5847874" name="a85025fe6544609814a1672ded5847874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85025fe6544609814a1672ded5847874">&#9670;&nbsp;</a></span>getFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TTool::getFrame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the actual frame in use. </p>
<div class="fragment"><div class="line"><span class="lineno">  576</span>                    {</div>
<div class="line"><span class="lineno">  577</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  578</span>  <span class="keywordflow">return</span> m_application-&gt;getCurrentFrame()-&gt;getFrame();</div>
<div class="line"><span class="lineno">  579</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01416">EditTool::draw()</a>, and <a class="el" href="#l00259">HookTool::draw()</a>.</p>

</div>
</div>
<a id="a947d2af39fd4df397577bbf8602abfd4" name="a947d2af39fd4df397577bbf8602abfd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a947d2af39fd4df397577bbf8602abfd4">&#9670;&nbsp;</a></span>getImage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_image.html">TImage</a> * TTool::getImage </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>toBeModified</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>subsampling</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the image to be edited by the tool. </p>
<p >The image returned by <a class="el" href="class_t_tool.html#a947d2af39fd4df397577bbf8602abfd4" title="Returns the image to be edited by the tool.">getImage()</a> is either the one associated to <a class="el" href="class_t_tool.html#a158a4612dcff62a7f37e5fc3b47ed31c" title="Returns the level-frame pair to be edited by the tool.">getImageCell()</a>, or the vector image corresponding to currently edited spline path. </p>
<div class="fragment"><div class="line"><span class="lineno">  276</span>                                                          {</div>
<div class="line"><span class="lineno">  277</span>  assert(m_application);</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>  <span class="keywordflow">if</span> (m_application-&gt;getCurrentFrame()-&gt;isPlaying())</div>
<div class="line"><span class="lineno">  280</span>    toBeModified =</div>
<div class="line"><span class="lineno">  281</span>        <span class="keyword">false</span>;  <span class="comment">// In playback mode, you are not going to modify images</span></div>
<div class="line"><span class="lineno">  282</span>                <span class="comment">// Probably useless - tools are disabled when playing...</span></div>
<div class="line"><span class="lineno">  283</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> &amp;cell = <a class="code hl_function" href="class_t_tool.html#a158a4612dcff62a7f37e5fc3b47ed31c">getImageCell</a>();</div>
<div class="line"><span class="lineno">  284</span>  <span class="keywordflow">if</span> (cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) {</div>
<div class="line"><span class="lineno">  285</span>    <a class="code hl_class" href="class_t_object_handle.html">TObjectHandle</a> *currentObject = m_application-&gt;getCurrentObject();</div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordflow">return</span> currentObject-&gt;isSpline() ? currentObject-&gt;getSplineImage()</div>
<div class="line"><span class="lineno">  287</span>                                     : (<a class="code hl_class" href="class_t_image.html">TImage</a> *)0;</div>
<div class="line"><span class="lineno">  288</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">return</span> cell.<a class="code hl_function" href="class_t_xsh_cell.html#a20b623d308bc09b820ec6b116516f564">getImage</a>(toBeModified, subsampling).getPointer();</div>
<div class="line"><span class="lineno">  290</span>}</div>
<div class="ttc" id="aclass_t_image_html"><div class="ttname"><a href="class_t_image.html">TImage</a></div><div class="ttdoc">This is an abstract class representing an image.</div><div class="ttdef"><b>Definition:</b> timage.h:26</div></div>
<div class="ttc" id="aclass_t_object_handle_html"><div class="ttname"><a href="class_t_object_handle.html">TObjectHandle</a></div><div class="ttdef"><b>Definition:</b> tobjecthandle.h:35</div></div>
<div class="ttc" id="aclass_t_tool_html_a158a4612dcff62a7f37e5fc3b47ed31c"><div class="ttname"><a href="class_t_tool.html#a158a4612dcff62a7f37e5fc3b47ed31c">TTool::getImageCell</a></div><div class="ttdeci">static TXshCell getImageCell()</div><div class="ttdoc">Returns the level-frame pair to be edited by the tool.</div><div class="ttdef"><b>Definition:</b> tool.cpp:245</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html_a20b623d308bc09b820ec6b116516f564"><div class="ttname"><a href="class_t_xsh_cell.html#a20b623d308bc09b820ec6b116516f564">TXshCell::getImage</a></div><div class="ttdeci">TImageP getImage(bool toBeModified, int subsampling=0) const</div><div class="ttdef"><b>Definition:</b> txshcell.cpp:8</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00008">TXshCell::getImage()</a>, <a class="el" href="#l00245">getImageCell()</a>, and <a class="el" href="#l00078">TXshCell::isEmpty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00414">PinchTool::draw()</a>, <a class="el" href="#l00355">ControlPointEditorTool::draw()</a>, <a class="el" href="#l02144">FillTool::draw()</a>, <a class="el" href="#l00339">FingerTool::draw()</a>, <a class="el" href="#l00523">FullColorBrushTool::draw()</a>, <a class="el" href="#l00903">FullColorEraserTool::draw()</a>, <a class="el" href="#l00259">HookTool::draw()</a>, <a class="el" href="#l00400">MagnetTool::draw()</a>, <a class="el" href="#l00398">PaintBrushTool::draw()</a>, <a class="el" href="#l00159">PumpTool::draw()</a>, <a class="el" href="#l01869">ToonzRasterBrushTool::draw()</a>, <a class="el" href="#l01479">ToonzVectorBrushTool::draw()</a>, <a class="el" href="#l00887">TypeTool::draw()</a>, <a class="el" href="#l00448">EraserTool::draw()</a>, <a class="el" href="#l00278">VectorTapeTool::draw()</a>, <a class="el" href="#l00510">FingerTool::finishBrush()</a>, <a class="el" href="#l00583">PaintBrushTool::finishBrush()</a>, <a class="el" href="#l01569">ToonzRasterBrushTool::finishRasterBrush()</a>, <a class="el" href="#l00226">StylePickerTool::getCursorId()</a>, <a class="el" href="#l01062">EraserTool::leftButtonDoubleClick()</a>, <a class="el" href="#l02270">FillTool::onActivate()</a>, <a class="el" href="#l01185">GeometricTool::onActivate()</a>, <a class="el" href="#l00534">PumpTool::onDeactivate()</a>, <a class="el" href="#l01676">EraserTool::onDeactivate()</a>, <a class="el" href="#l00877">ControlPointEditorTool::onEnter()</a>, <a class="el" href="#l00466">FingerTool::onEnter()</a>, <a class="el" href="#l01098">FullColorEraserTool::onEnter()</a>, <a class="el" href="#l01240">GeometricTool::onEnter()</a>, <a class="el" href="#l00158">MagnetTool::onEnter()</a>, <a class="el" href="#l00539">PaintBrushTool::onEnter()</a>, <a class="el" href="#l00145">PumpTool::onEnter()</a>, <a class="el" href="#l01916">ToonzRasterBrushTool::onEnter()</a>, <a class="el" href="#l01547">ToonzVectorBrushTool::onEnter()</a>, <a class="el" href="#l00952">ControlPointEditorTool::onImageChanged()</a>, <a class="el" href="#l02112">FillTool::onImageChanged()</a>, <a class="el" href="#l01991">FillTool::onPropertyChanged()</a>, and <a class="el" href="#l01266">GeometricTool::onPropertyChanged()</a>.</p>

</div>
</div>
<a id="a158a4612dcff62a7f37e5fc3b47ed31c" name="a158a4612dcff62a7f37e5fc3b47ed31c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a158a4612dcff62a7f37e5fc3b47ed31c">&#9670;&nbsp;</a></span>getImageCell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_xsh_cell.html">TXshCell</a> TTool::getImageCell </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the level-frame pair to be edited by the tool. </p>
<dl class="section warning"><dt>Warning</dt><dd>In case there is no level currently selected, <em>or the object to be edited is a spline path</em>, the xsheet cell returned by <a class="el" href="class_t_tool.html#a158a4612dcff62a7f37e5fc3b47ed31c" title="Returns the level-frame pair to be edited by the tool.">getImageCell()</a> is empty. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  245</span>                             {</div>
<div class="line"><span class="lineno">  246</span>  assert(m_application);</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>  <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> result;</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>  <a class="code hl_class" href="class_t_frame_handle.html">TFrameHandle</a> *currentFrame    = m_application-&gt;getCurrentFrame();</div>
<div class="line"><span class="lineno">  251</span>  <a class="code hl_class" href="class_t_xsh_level_handle.html">TXshLevelHandle</a> *currentLevel = m_application-&gt;getCurrentLevel();</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>  <span class="keywordflow">if</span> (currentFrame-&gt;isEditingLevel()) {</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *xl = currentLevel-&gt;getLevel()) {</div>
<div class="line"><span class="lineno">  255</span>      <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = xl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#aac1fd1d3ecf0778b8ee139c9119fcdef">getSimpleLevel</a>()) {</div>
<div class="line"><span class="lineno">  256</span>        result.m_level   = xl;</div>
<div class="line"><span class="lineno">  257</span>        result.m_frameId = currentFrame-&gt;getFid();</div>
<div class="line"><span class="lineno">  258</span>      }</div>
<div class="line"><span class="lineno">  259</span>    }</div>
<div class="line"><span class="lineno">  260</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_application-&gt;getCurrentXsheet()-&gt;getXsheet()) {</div>
<div class="line"><span class="lineno">  262</span>      <span class="keywordflow">if</span> (!m_application-&gt;getCurrentObject()-&gt;isSpline()) {</div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordtype">int</span> row = currentFrame-&gt;getFrame();</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordtype">int</span> col = m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>        result = xsh-&gt;getCell(row, col);</div>
<div class="line"><span class="lineno">  267</span>      }</div>
<div class="line"><span class="lineno">  268</span>    }</div>
<div class="line"><span class="lineno">  269</span>  }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  272</span>}</div>
<div class="ttc" id="aclass_t_xsh_level_handle_html"><div class="ttname"><a href="class_t_xsh_level_handle.html">TXshLevelHandle</a></div><div class="ttdef"><b>Definition:</b> txshlevelhandle.h:24</div></div>
<div class="ttc" id="aclass_t_xsh_level_html"><div class="ttname"><a href="class_t_xsh_level.html">TXshLevel</a></div><div class="ttdoc">The TXshLevel class is the base class of level managers in xsheet.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:50</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_aac1fd1d3ecf0778b8ee139c9119fcdef"><div class="ttname"><a href="class_t_xsh_simple_level.html#aac1fd1d3ecf0778b8ee139c9119fcdef">TXshSimpleLevel::getSimpleLevel</a></div><div class="ttdeci">TXshSimpleLevel * getSimpleLevel() override</div><div class="ttdoc">Reimplemented for TXshLevel.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:92</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00092">TXshSimpleLevel::getSimpleLevel()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00276">getImage()</a>.</p>

</div>
</div>
<a id="ad66fa5cefa74ee84dd3140e8e2b8336b" name="ad66fa5cefa74ee84dd3140e8e2b8336b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad66fa5cefa74ee84dd3140e8e2b8336b">&#9670;&nbsp;</a></span>getMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_t_affine.html">TAffine</a> &amp; TTool::getMatrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  469</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_t_tool.html#a3bf7058680c3aef9a5584a7f71351757">m_matrix</a>; }</div>
<div class="ttc" id="aclass_t_tool_html_a3bf7058680c3aef9a5584a7f71351757"><div class="ttname"><a href="class_t_tool.html#a3bf7058680c3aef9a5584a7f71351757">TTool::m_matrix</a></div><div class="ttdeci">TAffine m_matrix</div><div class="ttdoc">World-to-window reference change affine.</div><div class="ttdef"><b>Definition:</b> tool.h:556</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a679eddd99e9cb717d1b36eea5d7e7bb1" name="a679eddd99e9cb717d1b36eea5d7e7bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a679eddd99e9cb717d1b36eea5d7e7bb1">&#9670;&nbsp;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string TTool::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  346</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a25b57b82dfac131d9d6405e07fbd98b4" name="a25b57b82dfac131d9d6405e07fbd98b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25b57b82dfac131d9d6405e07fbd98b4">&#9670;&nbsp;</a></span>getObjectId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_stage_object_id.html">TStageObjectId</a> TTool::getObjectId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the actual stage object. </p>
<div class="fragment"><div class="line"><span class="lineno">  590</span>                                        {</div>
<div class="line"><span class="lineno">  591</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a>();</div>
<div class="line"><span class="lineno">  592</span>  <span class="keywordflow">return</span> m_application-&gt;getCurrentObject()-&gt;getObjectId();</div>
<div class="line"><span class="lineno">  593</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01416">EditTool::draw()</a>, and <a class="el" href="#l01585">EditTool::onActivate()</a>.</p>

</div>
</div>
<a id="a1f5ac0f1e3809fce027e10028a3063a7" name="a1f5ac0f1e3809fce027e10028a3063a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f5ac0f1e3809fce027e10028a3063a7">&#9670;&nbsp;</a></span>getPixelSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double TTool::getPixelSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  239</span>                                 {</div>
<div class="line"><span class="lineno">  240</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a> ? <a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>-&gt;<a class="code hl_function" href="class_t_tool_1_1_viewer.html#a0e87a68354646cc8c05128437b7df35d">getPixelSize</a>() : 1.0;</div>
<div class="line"><span class="lineno">  241</span>}</div>
<div class="ttc" id="aclass_t_tool_1_1_viewer_html_a0e87a68354646cc8c05128437b7df35d"><div class="ttname"><a href="class_t_tool_1_1_viewer.html#a0e87a68354646cc8c05128437b7df35d">TTool::Viewer::getPixelSize</a></div><div class="ttdeci">virtual double getPixelSize() const =0</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a095bfe8d3690175e39c188ad6246d560" name="a095bfe8d3690175e39c188ad6246d560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a095bfe8d3690175e39c188ad6246d560">&#9670;&nbsp;</a></span>getProperties()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_t_property_group.html">TPropertyGroup</a> * TTool::getProperties </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  423</span>{ <span class="keywordflow">return</span> 0; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a84779988b40987971c0cbf3699db3b90" name="a84779988b40987971c0cbf3699db3b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84779988b40987971c0cbf3699db3b90">&#9670;&nbsp;</a></span>getSelectedFrames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp; TTool::getSelectedFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  525</span>                                                     {</div>
<div class="line"><span class="lineno">  526</span>    <span class="keywordflow">return</span> m_selectedFrames;</div>
<div class="line"><span class="lineno">  527</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="add40ff8dd3dd04ed3ab5a259ed53fb85" name="add40ff8dd3dd04ed3ab5a259ed53fb85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add40ff8dd3dd04ed3ab5a259ed53fb85">&#9670;&nbsp;</a></span>getSelection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_t_selection.html">TSelection</a> * TTool::getSelection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a pointer to the tool selection. </p>

<p>Reimplemented in <a class="el" href="class_raster_selection_tool.html#a9a464e45100ead00f947d1700431c384">RasterSelectionTool</a>, <a class="el" href="class_vector_selection_tool.html#a8401bdd71bef9790c20e2512b7a98e0a">VectorSelectionTool</a>, and <a class="el" href="class_selection_tool.html#a8041c0371ff11a50bc4165812fa64d8a">SelectionTool</a>.</p>

</div>
</div>
<a id="af8760a85b8fa1d81a04f058b8d4396b0" name="af8760a85b8fa1d81a04f058b8d4396b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8760a85b8fa1d81a04f058b8d4396b0">&#9670;&nbsp;</a></span>getTargetType()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">ToolTargetType</a> TTool::getTargetType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  344</span>{ <span class="keywordflow">return</span> (<a class="code hl_enumeration" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">ToolTargetType</a>)<a class="code hl_variable" href="class_t_tool.html#ad84e5837b3ed638e3e73373c3195a589">m_targetType</a>; }</div>
<div class="ttc" id="aclass_t_tool_html_adf0ea3a7f9d003f761fe57638dd6eff4"><div class="ttname"><a href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">TTool::ToolTargetType</a></div><div class="ttdeci">ToolTargetType</div><div class="ttdoc">Object types the tool can operate on.</div><div class="ttdef"><b>Definition:</b> tool.h:277</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac99234acd256aa0adee5095bc629d793" name="ac99234acd256aa0adee5095bc629d793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac99234acd256aa0adee5095bc629d793">&#9670;&nbsp;</a></span>getTool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_tool.html">TTool</a> * TTool::getTool </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>toolName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4">ToolTargetType</a>&#160;</td>
          <td class="paramname"><em>targetType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  181</span>                                                                   {</div>
<div class="line"><span class="lineno">  182</span>  <span class="keywordflow">if</span> (!toolTable) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  183</span>  ToolTable::iterator it =</div>
<div class="line"><span class="lineno">  184</span>      toolTable-&gt;find(std::make_pair(toolName, targetType));</div>
<div class="line"><span class="lineno">  185</span>  <span class="keywordflow">if</span> (it == toolTable-&gt;end()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  186</span>  <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><span class="lineno">  187</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7edbb0cd6c20c371965510fa8d0811f" name="ad7edbb0cd6c20c371965510fa8d0811f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7edbb0cd6c20c371965510fa8d0811f">&#9670;&nbsp;</a></span>getViewer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_tool_1_1_viewer.html">Viewer</a> * TTool::getViewer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  360</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8716e1462da359f4902c044a79f2d40d" name="a8716e1462da359f4902c044a79f2d40d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8716e1462da359f4902c044a79f2d40d">&#9670;&nbsp;</a></span>getXsheet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_xsheet.html">TXsheet</a> * TTool::getXsheet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the actual Xsheet. </p>
<div class="fragment"><div class="line"><span class="lineno">  569</span>                                {</div>
<div class="line"><span class="lineno">  570</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  571</span>  <span class="keywordflow">return</span> m_application-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno">  572</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01416">EditTool::draw()</a>, <a class="el" href="#l00259">HookTool::draw()</a>, <a class="el" href="#l01428">SkeletonTool::draw()</a>, and <a class="el" href="#l01185">RasterSelection::pasteSelection()</a>.</p>

</div>
</div>
<a id="a3e791336c642542c5648aa8ea86e2348" name="a3e791336c642542c5648aa8ea86e2348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e791336c642542c5648aa8ea86e2348">&#9670;&nbsp;</a></span>invalidate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::invalidate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_rect_t.html">TRectD</a> &amp;&#160;</td>
          <td class="paramname"><em>rect</em> = <code><a class="el" href="class_t_rect_t.html">TRectD</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Causes the refreshing of the <b>rect</b> portion of the viewer. If rect is empty all viewer is refreshed. <b>rect</b> must be in image coordinate. </p>
<div class="fragment"><div class="line"><span class="lineno">  540</span>                                         {</div>
<div class="line"><span class="lineno">  541</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>) {</div>
<div class="line"><span class="lineno">  542</span>    <span class="keywordflow">if</span> (rect.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>())</div>
<div class="line"><span class="lineno">  543</span>      <a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>-&gt;<a class="code hl_function" href="class_t_tool_1_1_viewer.html#a4e256660e14db34f8b1d3d74b62e8851">GLInvalidateAll</a>();</div>
<div class="line"><span class="lineno">  544</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  545</span>      <a class="code hl_class" href="class_t_point_t.html">TPointD</a> dpiScale(1, 1);</div>
<div class="line"><span class="lineno">  546</span>      <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl =</div>
<div class="line"><span class="lineno">  547</span>          getApplication()-&gt;getCurrentLevel()-&gt;getSimpleLevel();</div>
<div class="line"><span class="lineno">  548</span>      <span class="keywordflow">if</span> (sl) dpiScale = getCurrentDpiScale(sl, <a class="code hl_function" href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">getCurrentFid</a>());</div>
<div class="line"><span class="lineno">  549</span>      <a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>-&gt;<a class="code hl_function" href="class_t_tool_1_1_viewer.html#a3ca66eeb722bff291bc1d0d5463a706b">GLInvalidateRect</a>(<a class="code hl_function" href="class_t_tool.html#a73c1b7f13eaea33e1d305636f44c4a64">getCurrentColumnMatrix</a>() *</div>
<div class="line"><span class="lineno">  550</span>                                 <a class="code hl_class" href="class_t_scale.html">TScale</a>(dpiScale.x, dpiScale.y) * rect);</div>
<div class="line"><span class="lineno">  551</span>    }</div>
<div class="line"><span class="lineno">  552</span>  }</div>
<div class="line"><span class="lineno">  553</span>}</div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_rect_t_html_a53ce09c6112f8a019b43ad82d721a93b"><div class="ttname"><a href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">TRectT::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div></div>
<div class="ttc" id="aclass_t_scale_html"><div class="ttname"><a href="class_t_scale.html">TScale</a></div><div class="ttdef"><b>Definition:</b> tgeometry.h:1133</div></div>
<div class="ttc" id="aclass_t_tool_1_1_viewer_html_a3ca66eeb722bff291bc1d0d5463a706b"><div class="ttname"><a href="class_t_tool_1_1_viewer.html#a3ca66eeb722bff291bc1d0d5463a706b">TTool::Viewer::GLInvalidateRect</a></div><div class="ttdeci">virtual void GLInvalidateRect(const TRectD &amp;rect)=0</div></div>
<div class="ttc" id="aclass_t_tool_1_1_viewer_html_a4e256660e14db34f8b1d3d74b62e8851"><div class="ttname"><a href="class_t_tool_1_1_viewer.html#a4e256660e14db34f8b1d3d74b62e8851">TTool::Viewer::GLInvalidateAll</a></div><div class="ttdeci">virtual void GLInvalidateAll()=0</div></div>
<div class="ttc" id="aclass_t_tool_html_a73c1b7f13eaea33e1d305636f44c4a64"><div class="ttname"><a href="class_t_tool.html#a73c1b7f13eaea33e1d305636f44c4a64">TTool::getCurrentColumnMatrix</a></div><div class="ttdeci">TAffine getCurrentColumnMatrix(int frame=-1) const</div><div class="ttdef"><b>Definition:</b> tool.cpp:706</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00706">getCurrentColumnMatrix()</a>, <a class="el" href="#l00688">getCurrentFid()</a>, <a class="el" href="class_t_tool_1_1_viewer.html#a4e256660e14db34f8b1d3d74b62e8851">TTool::Viewer::GLInvalidateAll()</a>, <a class="el" href="class_t_tool_1_1_viewer.html#a3ca66eeb722bff291bc1d0d5463a706b">TTool::Viewer::GLInvalidateRect()</a>, <a class="el" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">TRectT&lt; T &gt;::isEmpty()</a>, and <a class="el" href="#l00555">m_viewer</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00749">RasterTapeTool::closePolyline()</a>, <a class="el" href="#l00510">FingerTool::finishBrush()</a>, <a class="el" href="#l00583">PaintBrushTool::finishBrush()</a>, <a class="el" href="#l01569">ToonzRasterBrushTool::finishRasterBrush()</a>, <a class="el" href="#l01062">EraserTool::leftButtonDoubleClick()</a>, <a class="el" href="#l00534">PumpTool::onDeactivate()</a>, <a class="el" href="#l00385">PinchTool::onImageChanged()</a>, <a class="el" href="#l01107">GeometricTool::onImageChanged()</a>, <a class="el" href="#l00112">HookTool::onImageChanged()</a>, <a class="el" href="#l00094">SkeletonTool::onImageChanged()</a>, <a class="el" href="#l00369">FingerTool::onPropertyChanged()</a>, <a class="el" href="#l00954">FullColorEraserTool::onPropertyChanged()</a>, <a class="el" href="#l00452">MagnetTool::onPropertyChanged()</a>, <a class="el" href="#l00428">PaintBrushTool::onPropertyChanged()</a>, <a class="el" href="#l00274">SkeletonTool::onPropertyChanged()</a>, <a class="el" href="#l01991">ToonzRasterBrushTool::onPropertyChanged()</a>, <a class="el" href="#l00731">TrackerTool::onPropertyChanged()</a>, <a class="el" href="#l01130">EraserTool::onPropertyChanged()</a>, <a class="el" href="#l00290">FullColorBrushTool::preLeftButtonDown()</a>, <a class="el" href="#l01226">ToonzRasterBrushTool::preLeftButtonDown()</a>, and <a class="el" href="#l00655">ToonzVectorBrushTool::preLeftButtonDown()</a>.</p>

</div>
</div>
<a id="a6225a72c8bc7ad1ad6eff6b81ac6b0a6" name="a6225a72c8bc7ad1ad6eff6b81ac6b0a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6225a72c8bc7ad1ad6eff6b81ac6b0a6">&#9670;&nbsp;</a></span>isActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TTool::isActive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to know if a tool is active, (used in TextTool only). </p>

</div>
</div>
<a id="a59fe3fb20e44f3c167190ebc8901ca31" name="a59fe3fb20e44f3c167190ebc8901ca31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59fe3fb20e44f3c167190ebc8901ca31">&#9670;&nbsp;</a></span>isColumnLocked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TTool::isColumnLocked </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>columnIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  818</span>                                                {</div>
<div class="line"><span class="lineno">  819</span>  <span class="keywordflow">if</span> (columnIndex &lt; 0) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  820</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh       = <a class="code hl_function" href="class_t_tool.html#a8716e1462da359f4902c044a79f2d40d">getXsheet</a>();</div>
<div class="line"><span class="lineno">  821</span>  <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(columnIndex);</div>
<div class="line"><span class="lineno">  822</span>  <span class="keywordflow">if</span> (!column) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  823</span>  <span class="keywordflow">return</span> column-&gt;isLocked();</div>
<div class="line"><span class="lineno">  824</span>}</div>
<div class="ttc" id="aclass_t_tool_html_a8716e1462da359f4902c044a79f2d40d"><div class="ttname"><a href="class_t_tool.html#a8716e1462da359f4902c044a79f2d40d">TTool::getXsheet</a></div><div class="ttdeci">TXsheet * getXsheet() const</div><div class="ttdoc">Returns a pointer to the actual Xsheet.</div><div class="ttdef"><b>Definition:</b> tool.cpp:569</div></div>
<div class="ttc" id="aclass_t_xsh_column_html"><div class="ttname"><a href="class_t_xsh_column.html">TXshColumn</a></div><div class="ttdoc">The TXshColumn class is the base class of column managers in xsheet.</div><div class="ttdef"><b>Definition:</b> txshcolumn.h:65</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a3e1a216c019a0ebdf73d95acac95d8d0"><div class="ttname"><a href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">TXsheet::getColumn</a></div><div class="ttdeci">TXshColumn * getColumn(int index) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:1418</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7faf10efcd418f584a15907d88715566" name="a7faf10efcd418f584a15907d88715566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7faf10efcd418f584a15907d88715566">&#9670;&nbsp;</a></span>isDragging()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TTool::isDragging </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  522</span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a19efb128489874d80fb364c613fbf64b" name="a19efb128489874d80fb364c613fbf64b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19efb128489874d80fb364c613fbf64b">&#9670;&nbsp;</a></span>isEnabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TTool::isEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  507</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="class_t_tool.html#a3552ce52afc39fffcab0492daf72ed16">m_enabled</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a28f722eda896df0fd6b19b68ec99021e" name="a28f722eda896df0fd6b19b68ec99021e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28f722eda896df0fd6b19b68ec99021e">&#9670;&nbsp;</a></span>isEventAcceptable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TTool::isEventAcceptable </td>
          <td>(</td>
          <td class="paramtype">QEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  445</span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a767b49f02ae01193892a18adb2f7e740" name="a767b49f02ae01193892a18adb2f7e740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a767b49f02ae01193892a18adb2f7e740">&#9670;&nbsp;</a></span>isPencilModeActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TTool::isPencilModeActive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="class_toonz_raster_brush_tool.html#a98e19cb6ab1d05345e02efd693d3fdb8">ToonzRasterBrushTool</a>, and <a class="el" href="class_toonz_vector_brush_tool.html#ac39063e05436a5ef7ed23bd493fc7949">ToonzVectorBrushTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  519</span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b6e629deb25a2c0903d3d82a5f5599c" name="a9b6e629deb25a2c0903d3d82a5f5599c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b6e629deb25a2c0903d3d82a5f5599c">&#9670;&nbsp;</a></span>isPicking()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TTool::isPicking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  375</span>{ <span class="keywordflow">return</span> m_picking; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f577edff4e26b67cfdbfb7308d16389" name="a3f577edff4e26b67cfdbfb7308d16389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f577edff4e26b67cfdbfb7308d16389">&#9670;&nbsp;</a></span>keyDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TTool::keyDown </td>
          <td>(</td>
          <td class="paramtype">QKeyEvent *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  392</span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="adb34d1b5a012f8910c7f62aa291d2d46" name="adb34d1b5a012f8910c7f62aa291d2d46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb34d1b5a012f8910c7f62aa291d2d46">&#9670;&nbsp;</a></span>leftButtonDoubleClick()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::leftButtonDoubleClick </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="class_eraser_tool.html#a9b2fccbc45990f9a5388ddad938c9845">EraserTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  390</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a12190be0dcb28718b40ae42c93df381b" name="a12190be0dcb28718b40ae42c93df381b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12190be0dcb28718b40ae42c93df381b">&#9670;&nbsp;</a></span>leftButtonDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::leftButtonDown </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  387</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b3e51fe9fdadc716847b0248f74a4b5" name="a0b3e51fe9fdadc716847b0248f74a4b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b3e51fe9fdadc716847b0248f74a4b5">&#9670;&nbsp;</a></span>leftButtonDrag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::leftButtonDrag </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  388</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a740506b9414c8364aaa47de259ecb16b" name="a740506b9414c8364aaa47de259ecb16b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a740506b9414c8364aaa47de259ecb16b">&#9670;&nbsp;</a></span>leftButtonUp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::leftButtonUp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  389</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acb0d5ee41c28fe1f6c3719a1c12353b5" name="acb0d5ee41c28fe1f6c3719a1c12353b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb0d5ee41c28fe1f6c3719a1c12353b5">&#9670;&nbsp;</a></span>mouseMove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::mouseMove </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  386</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abd1824e9b49705c534e0a773305294c4" name="abd1824e9b49705c534e0a773305294c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd1824e9b49705c534e0a773305294c4">&#9670;&nbsp;</a></span>notifyImageChanged() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::notifyImageChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Notifies changes on the actual image; used to update</p>
<p >Notify change of current image: update icon and notify level change. If current object is a spline commit spline changed. If current mode is EditingLevel touch current frame. </p>
<div class="fragment"><div class="line"><span class="lineno">  609</span>                               {</div>
<div class="line"><span class="lineno">  610</span>  <a class="code hl_function" href="class_t_tool.html#aaf1e021290e74c1b085e4b095668e1ed">onImageChanged</a>();</div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>  m_application-&gt;getCurrentScene()-&gt;setDirtyFlag(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  615</span>  <span class="keywordflow">if</span> (m_application-&gt;getCurrentFrame()-&gt;isEditingLevel()) {</div>
<div class="line"><span class="lineno">  616</span>    <a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *xl = m_application-&gt;getCurrentLevel()-&gt;getLevel();</div>
<div class="line"><span class="lineno">  617</span>    <span class="keywordflow">if</span> (!xl) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  618</span>    <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = xl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  619</span>    <span class="keywordflow">if</span> (!sl) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  620</span>    <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid = m_application-&gt;getCurrentFrame()-&gt;getFid();</div>
<div class="line"><span class="lineno">  621</span>    sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a3c20a8d11037048322d2035b0f286209">touchFrame</a>(fid);</div>
<div class="line"><span class="lineno">  622</span>    <span class="comment">// sl-&gt;setDirtyFlag(true);</span></div>
<div class="line"><span class="lineno">  623</span>    IconGenerator::instance()-&gt;invalidate(sl, fid);</div>
<div class="line"><span class="lineno">  624</span>    IconGenerator::instance()-&gt;invalidateSceneIcon();</div>
<div class="line"><span class="lineno">  625</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  626</span>    <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_application-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno">  627</span>    <span class="keywordflow">if</span> (!xsh) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>    <a class="code hl_class" href="class_t_object_handle.html">TObjectHandle</a> *currentObject = m_application-&gt;getCurrentObject();</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>    <span class="keywordflow">if</span> (currentObject-&gt;isSpline()) {</div>
<div class="line"><span class="lineno">  632</span>      m_application-&gt;getCurrentObject()-&gt;commitSplineChanges();</div>
<div class="line"><span class="lineno">  633</span>      <a class="code hl_class" href="class_t_stage_object.html">TStageObject</a> *pegbar = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">getStageObject</a>(currentObject-&gt;getObjectId());</div>
<div class="line"><span class="lineno">  634</span>      IconGenerator::instance()-&gt;invalidate(pegbar-&gt;<a class="code hl_function" href="class_t_stage_object.html#a425cb2dbcefe6ba4e288e1e8bdd16f72">getSpline</a>());</div>
<div class="line"><span class="lineno">  635</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  636</span>      <span class="keywordtype">int</span> row = m_application-&gt;getCurrentFrame()-&gt;getFrame();</div>
<div class="line"><span class="lineno">  637</span>      <span class="keywordtype">int</span> col = m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno">  638</span>      <span class="keywordflow">if</span> (col &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  639</span>      <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell       = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(row, col);</div>
<div class="line"><span class="lineno">  640</span>      <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a8898cc47eba24e59477bfba8e2511f1d">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  641</span>      <span class="keywordflow">if</span> (sl) {</div>
<div class="line"><span class="lineno">  642</span>        IconGenerator::instance()-&gt;invalidate(sl, cell.m_frameId);</div>
<div class="line"><span class="lineno">  643</span>        sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a3c20a8d11037048322d2035b0f286209">touchFrame</a>(cell.m_frameId);</div>
<div class="line"><span class="lineno">  644</span>        IconGenerator::instance()-&gt;invalidateSceneIcon();</div>
<div class="line"><span class="lineno">  645</span>      }</div>
<div class="line"><span class="lineno">  646</span>    }</div>
<div class="line"><span class="lineno">  647</span>  }</div>
<div class="line"><span class="lineno">  648</span>  m_application-&gt;getCurrentLevel()-&gt;notifyLevelChange();</div>
<div class="line"><span class="lineno">  649</span>}</div>
<div class="ttc" id="aclass_t_stage_object_html_a425cb2dbcefe6ba4e288e1e8bdd16f72"><div class="ttname"><a href="class_t_stage_object.html#a425cb2dbcefe6ba4e288e1e8bdd16f72">TStageObject::getSpline</a></div><div class="ttdeci">TStageObjectSpline * getSpline() const</div><div class="ttdoc">Returns the motion path associated to the object.</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:650</div></div>
<div class="ttc" id="aclass_t_tool_html_aaf1e021290e74c1b085e4b095668e1ed"><div class="ttname"><a href="class_t_tool.html#aaf1e021290e74c1b085e4b095668e1ed">TTool::onImageChanged</a></div><div class="ttdeci">virtual void onImageChanged()</div><div class="ttdoc">Notifies changes in the image in use.</div><div class="ttdef"><b>Definition:</b> tool.h:403</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html_a8898cc47eba24e59477bfba8e2511f1d"><div class="ttname"><a href="class_t_xsh_cell.html#a8898cc47eba24e59477bfba8e2511f1d">TXshCell::getSimpleLevel</a></div><div class="ttdeci">TXshSimpleLevel * getSimpleLevel() const</div><div class="ttdef"><b>Definition:</b> txshcell.cpp:19</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a3c20a8d11037048322d2035b0f286209"><div class="ttname"><a href="class_t_xsh_simple_level.html#a3c20a8d11037048322d2035b0f286209">TXshSimpleLevel::touchFrame</a></div><div class="ttdeci">void touchFrame(const TFrameId &amp;fid)</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:330</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00233">TXsheet::getCell()</a>, <a class="el" href="#l00095">TXshLevel::getSimpleLevel()</a>, <a class="el" href="#l00019">TXshCell::getSimpleLevel()</a>, <a class="el" href="#l00650">TStageObject::getSpline()</a>, <a class="el" href="#l00542">TXsheet::getStageObject()</a>, <a class="el" href="#l00403">onImageChanged()</a>, and <a class="el" href="#l00330">TXshSimpleLevel::touchFrame()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01069">RasterSelection::deleteSelection()</a>, <a class="el" href="#l00510">FingerTool::finishBrush()</a>, <a class="el" href="#l00583">PaintBrushTool::finishBrush()</a>, <a class="el" href="#l01569">ToonzRasterBrushTool::finishRasterBrush()</a>, <a class="el" href="#l01062">EraserTool::leftButtonDoubleClick()</a>, <a class="el" href="#l01020">RasterSelection::makeFloating()</a>, <a class="el" href="#l01991">FillTool::onPropertyChanged()</a>, <a class="el" href="#l00496">RasterTapeTool::onPropertyChanged()</a>, <a class="el" href="#l00242">VectorTapeTool::onPropertyChanged()</a>, <a class="el" href="#l01037">RasterSelection::pasteFloatingSelection()</a>, and <a class="el" href="#l00636">DragSelectionTool::VectorDeformTool::transformWholeLevel()</a>.</p>

</div>
</div>
<a id="a40890a3af608b9bfeb144505fd38853d" name="a40890a3af608b9bfeb144505fd38853d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40890a3af608b9bfeb144505fd38853d">&#9670;&nbsp;</a></span>notifyImageChanged() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::notifyImageChanged </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>images on the level view. </p>
<p >Notifies changes on the</p>
<p >Notify change of image in <b>fid:</b> update icon and notify level change. </p>
<div class="fragment"><div class="line"><span class="lineno">  655</span>                                                  {</div>
<div class="line"><span class="lineno">  656</span>  <a class="code hl_function" href="class_t_tool.html#aaf1e021290e74c1b085e4b095668e1ed">onImageChanged</a>();</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>  m_application-&gt;getCurrentScene()-&gt;setDirtyFlag(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  661</span>  <span class="keywordflow">if</span> (m_application-&gt;getCurrentFrame()-&gt;isEditingLevel()) {</div>
<div class="line"><span class="lineno">  662</span>    <a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *xl = m_application-&gt;getCurrentLevel()-&gt;getLevel();</div>
<div class="line"><span class="lineno">  663</span>    <span class="keywordflow">if</span> (!xl) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  664</span>    <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = xl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordflow">if</span> (!sl) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  666</span>    sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a2d43337766628739707849f8808bf300">setDirtyFlag</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  667</span>    IconGenerator::instance()-&gt;invalidate(sl, fid);</div>
<div class="line"><span class="lineno">  668</span>    IconGenerator::instance()-&gt;invalidateSceneIcon();</div>
<div class="line"><span class="lineno">  669</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordtype">int</span> row = m_application-&gt;getCurrentFrame()-&gt;getFrame();</div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordtype">int</span> col = m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno">  672</span>    <span class="keywordflow">if</span> (col &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  673</span>    <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_application-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno">  674</span>    <span class="keywordflow">if</span> (!xsh) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell       = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(row, col);</div>
<div class="line"><span class="lineno">  676</span>    <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a8898cc47eba24e59477bfba8e2511f1d">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordflow">if</span> (sl) {</div>
<div class="line"><span class="lineno">  678</span>      IconGenerator::instance()-&gt;invalidate(sl, fid);</div>
<div class="line"><span class="lineno">  679</span>      IconGenerator::instance()-&gt;invalidateSceneIcon();</div>
<div class="line"><span class="lineno">  680</span>      sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a2d43337766628739707849f8808bf300">setDirtyFlag</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  681</span>    }</div>
<div class="line"><span class="lineno">  682</span>  }</div>
<div class="line"><span class="lineno">  683</span>  m_application-&gt;getCurrentLevel()-&gt;notifyLevelChange();</div>
<div class="line"><span class="lineno">  684</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00233">TXsheet::getCell()</a>, <a class="el" href="#l00095">TXshLevel::getSimpleLevel()</a>, <a class="el" href="#l00019">TXshCell::getSimpleLevel()</a>, <a class="el" href="#l00403">onImageChanged()</a>, and <a class="el" href="#l00320">TXshSimpleLevel::setDirtyFlag()</a>.</p>

</div>
</div>
<a id="ac286a2681633b4db6106596b4f54e53b" name="ac286a2681633b4db6106596b4f54e53b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac286a2681633b4db6106596b4f54e53b">&#9670;&nbsp;</a></span>onActivate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::onActivate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback invoked whenever the tool activates. </p>

<p>Reimplemented in <a class="el" href="class_pinch_tool.html#a12ac33f584902b9b8e3e5fbc9b6227ee">PinchTool</a>, <a class="el" href="class_control_point_editor_tool.html#ac26218b59fe5049b120640639f3ef89c">ControlPointEditorTool</a>, <a class="el" href="class_edit_tool.html#a757fb5f5182d8d8513efbd83ec02ff6e">EditTool</a>, <a class="el" href="class_fill_tool.html#a9c0a3714baf4d92b5a3b4442fd2d83bf">FillTool</a>, <a class="el" href="class_finger_tool.html#a614f12f8de02585c83eb043c729e6885">FingerTool</a>, <a class="el" href="class_full_color_brush_tool.html#a7f8f95f7028a3ea4b60751fa24473154">FullColorBrushTool</a>, <a class="el" href="class_full_color_eraser_tool.html#a71647c830495e2c8b49eb341b19f8c2a">FullColorEraserTool</a>, <a class="el" href="class_full_color_fill_tool.html#aa26bf6874aac177a0fcd677e5101aaad">FullColorFillTool</a>, <a class="el" href="class_geometric_tool.html#a44e6cdcf48533cc90cda890d840967d2">GeometricTool</a>, <a class="el" href="class_hook_tool.html#a0b0519ff6819053ec13cf3553d8a4b04">HookTool</a>, <a class="el" href="class_magnet_tool.html#a4e43905b73f791bfc30f2d97e87ef7f6">MagnetTool</a>, <a class="el" href="class_paint_brush_tool.html#af258ef41f7a283c7bffe5a36cfa4cec7">PaintBrushTool</a>, <a class="el" href="class_plastic_tool.html#aad3d93c2db31f337a8ad78c62829ab8f">PlasticTool</a>, <a class="el" href="class_raster_selection_tool.html#ac4783ee2c2a3d62d914a41769ed76a12">RasterSelectionTool</a>, <a class="el" href="class_raster_tape_tool.html#a6611fdb7f2c73476edbe5e96f070ced2">RasterTapeTool</a>, <a class="el" href="class_r_g_b_picker_tool.html#a36197c7bc09d42211488ec34b30ae1a7">RGBPickerTool</a>, <a class="el" href="class_ruler_tool.html#ab91a0924ef79d5a2229d16ab16efa252">RulerTool</a>, <a class="el" href="class_selection_tool.html#abee6387f8a780096576933bf18d5d4b3">SelectionTool</a>, <a class="el" href="class_shift_trace_tool.html#a8917dd8559f3e6d9fa59ff3c462a99a8">ShiftTraceTool</a>, <a class="el" href="class_skeleton_tool.html#afdfb35d4fde1381212144ee85a60d45b">SkeletonTool</a>, <a class="el" href="class_toonz_raster_brush_tool.html#a1fae3bb18e399eeef0d6dcbfa3e26fd1">ToonzRasterBrushTool</a>, <a class="el" href="class_toonz_vector_brush_tool.html#afbbc8cefb5ab92d1221c617b78f69981">ToonzVectorBrushTool</a>, <a class="el" href="class_tracker_tool.html#a487d9562afa8a7aef9456374c1104938">TrackerTool</a>, <a class="el" href="class_type_tool.html#a137705854f076124ac56fd8a109c2000">TypeTool</a>, <a class="el" href="class_eraser_tool.html#a9412b875b79714088b675feedfe87baf">EraserTool</a>, <a class="el" href="class_vector_selection_tool.html#a97062074cc7f3ef879d907b267ce5806">VectorSelectionTool</a>, <a class="el" href="class_vector_tape_tool.html#a967e65d8f525006ce127119f4ffb13de">VectorTapeTool</a>, and <a class="el" href="class_set_scan_cropbox_tool.html#a5d9e21210b6a8540e2d96c279b8387e1">SetScanCropboxTool</a>.</p>

</div>
</div>
<a id="a00fee58728c1e12fb50846f47d7e9f5e" name="a00fee58728c1e12fb50846f47d7e9f5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00fee58728c1e12fb50846f47d7e9f5e">&#9670;&nbsp;</a></span>onDeactivate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::onDeactivate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for tool deactivation, includes tool switch. </p>

<p>Reimplemented in <a class="el" href="class_pinch_tool.html#a818e30c045481b44bb607d6dd19ddb2a">PinchTool</a>, <a class="el" href="class_control_point_editor_tool.html#a5f01b22cd99a322b46ad1fe7c171ba85">ControlPointEditorTool</a>, <a class="el" href="class_edit_tool.html#a6a646ea80af4cb9165778e73a82d8d11">EditTool</a>, <a class="el" href="class_fill_tool.html#a8b67bbeb3f26c5d64ef932512f0d31fc">FillTool</a>, <a class="el" href="class_finger_tool.html#a8795b380d239114abd1d3b6de8eebea7">FingerTool</a>, <a class="el" href="class_full_color_brush_tool.html#ae806fa9b0cc590386ec0bca5df34fa05">FullColorBrushTool</a>, <a class="el" href="class_full_color_eraser_tool.html#add3ca2ba314d6a1cdbd4c0022e990d0c">FullColorEraserTool</a>, <a class="el" href="class_geometric_tool.html#a6bf7ff90a711a913956582c44c799578">GeometricTool</a>, <a class="el" href="class_hook_tool.html#a726c365403f1ecbd00561bd04194ef73">HookTool</a>, <a class="el" href="class_paint_brush_tool.html#a35b116494359aad3f0f3a66c905b1bc2">PaintBrushTool</a>, <a class="el" href="class_plastic_tool.html#a33cd82af0673e60dc8b42c1255811944">PlasticTool</a>, <a class="el" href="class_pump_tool.html#ae405b450b3312b0ffe1565e64928ce77">PumpTool</a>, <a class="el" href="class_raster_tape_tool.html#a4e770b41368501df4d30c1da1d88cc40">RasterTapeTool</a>, <a class="el" href="class_selection_tool.html#ae346e39d04945bfb8a27fd4a530d110b">SelectionTool</a>, <a class="el" href="class_shift_trace_tool.html#a9c808812612a2b2372fb4fec4ffe7a4a">ShiftTraceTool</a>, <a class="el" href="class_skeleton_tool.html#ab4e6e3c2284c76e90a849bc41f3fc869">SkeletonTool</a>, <a class="el" href="class_toonz_raster_brush_tool.html#aec8e1d34a81172f0542ebebd422ba493">ToonzRasterBrushTool</a>, <a class="el" href="class_toonz_vector_brush_tool.html#a033e3b855a3d09138a8f6dc9febb24f0">ToonzVectorBrushTool</a>, <a class="el" href="class_tracker_tool.html#a553f87540af25edbfacd6f65ffba986e">TrackerTool</a>, <a class="el" href="class_type_tool.html#adda740be6ec957288b8f7802deea8059">TypeTool</a>, <a class="el" href="class_eraser_tool.html#ab602657186ae68782460de011a075e1e">EraserTool</a>, and <a class="el" href="class_vector_selection_tool.html#a0d696c91cd1c64bbd4077cb79c7b2d6b">VectorSelectionTool</a>.</p>

</div>
</div>
<a id="a3e775cfcd05aa3c35048b11fa40ab3e4" name="a3e775cfcd05aa3c35048b11fa40ab3e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e775cfcd05aa3c35048b11fa40ab3e4">&#9670;&nbsp;</a></span>onEnter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::onEnter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for the mouse entering the viewer area. </p>

<p>Reimplemented in <a class="el" href="class_pinch_tool.html#a9e2b21db6abd6214929ee7a05adee9fc">PinchTool</a>, <a class="el" href="class_control_point_editor_tool.html#a8da6296cd702c773d5c37eeb4c1be262">ControlPointEditorTool</a>, <a class="el" href="class_fill_tool.html#af61e1af3180129755438225ac47c05d0">FillTool</a>, <a class="el" href="class_finger_tool.html#ab07fac888b030841c1ae27b9a19df138">FingerTool</a>, <a class="el" href="class_full_color_brush_tool.html#af3ca8d769734f5293e3e09aeed3a6a19">FullColorBrushTool</a>, <a class="el" href="class_full_color_eraser_tool.html#a4417638b3ee1db420a7abd9bcb46fc87">FullColorEraserTool</a>, <a class="el" href="class_geometric_tool.html#aaf5fa3569d197433d70dd800eca8bbbc">GeometricTool</a>, <a class="el" href="class_hook_tool.html#adb546c57196dc20dc21157823683b9ff">HookTool</a>, <a class="el" href="class_magnet_tool.html#ad7d276db6c85a7e6b33be5f0f690fc55">MagnetTool</a>, <a class="el" href="class_paint_brush_tool.html#a19e1c19353c40259f636d99c067d9862">PaintBrushTool</a>, <a class="el" href="class_plastic_tool.html#aae403bfc45fc1110f5f54b311f0aa15c">PlasticTool</a>, <a class="el" href="class_pump_tool.html#aa5eba20d789549e7c6f822a4d3c42846">PumpTool</a>, <a class="el" href="class_raster_tape_tool.html#a9db93b1a6cc5285aa030d1fff8b30618">RasterTapeTool</a>, <a class="el" href="class_skeleton_tool.html#ae7be52da2d9982a0319e01abf3453877">SkeletonTool</a>, <a class="el" href="class_toonz_raster_brush_tool.html#a090aa351be51d4f5ccb2df5c9e4cea1c">ToonzRasterBrushTool</a>, <a class="el" href="class_toonz_vector_brush_tool.html#a988fffbde4e589bc27029cf79f721335">ToonzVectorBrushTool</a>, <a class="el" href="class_tracker_tool.html#aa8f1b485f6aac6fd196d7c14b2de8ca9">TrackerTool</a>, <a class="el" href="class_eraser_tool.html#ae7fce14dcfbe2341df60eea86c9b50e0">EraserTool</a>, <a class="el" href="class_vector_tape_tool.html#af22937ca6f35b2320b9cb3071ec05002">VectorTapeTool</a>, and <a class="el" href="class_set_scan_cropbox_tool.html#a35e51519ed9550ae726506248aece722">SetScanCropboxTool</a>.</p>

</div>
</div>
<a id="a694286232ac766e3ec48f491505a407a" name="a694286232ac766e3ec48f491505a407a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a694286232ac766e3ec48f491505a407a">&#9670;&nbsp;</a></span>onFrameSwitched()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::onFrameSwitched </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  412</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf1e021290e74c1b085e4b095668e1ed" name="aaf1e021290e74c1b085e4b095668e1ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf1e021290e74c1b085e4b095668e1ed">&#9670;&nbsp;</a></span>onImageChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::onImageChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notifies changes in the image in use. </p>

<p>Reimplemented in <a class="el" href="class_pinch_tool.html#aa66410f4fdc7d43dc7eb563ec8f3da8b">PinchTool</a>, <a class="el" href="class_control_point_editor_tool.html#a03767a0350c80a7651d2ff25d226b579">ControlPointEditorTool</a>, <a class="el" href="class_fill_tool.html#a49e242f05ee306d70fbc9f015990f726">FillTool</a>, <a class="el" href="class_full_color_brush_tool.html#a77a0c6650516f58c90832c86d5e352f2">FullColorBrushTool</a>, <a class="el" href="class_full_color_eraser_tool.html#aab1c1681b7d82a198d3fc393c173270f">FullColorEraserTool</a>, <a class="el" href="class_geometric_tool.html#a1ccbb4c129e97a1b9320f73ca2f170fd">GeometricTool</a>, <a class="el" href="class_hook_tool.html#ab13910dfcb9af20fde2959033895ddac">HookTool</a>, <a class="el" href="class_raster_selection_tool.html#aa353b8a43062f8293fd06d1b86546c07">RasterSelectionTool</a>, <a class="el" href="class_raster_tape_tool.html#a6b6a61367c64725a37960f384b8675ab">RasterTapeTool</a>, <a class="el" href="class_r_g_b_picker_tool.html#a8e54f6882c12b63ea4b8fffddae06382">RGBPickerTool</a>, <a class="el" href="class_ruler_tool.html#ad84e2b9274f466606cd0c3fc39f5ef48">RulerTool</a>, <a class="el" href="class_skeleton_tool.html#afc4e4130bd22451d107deb7461d236e4">SkeletonTool</a>, <a class="el" href="class_style_picker_tool.html#a34bca7249b30cd29dfebd8e205e07660">StylePickerTool</a>, <a class="el" href="class_toonz_raster_brush_tool.html#a07e0fb58ddac113766ac4154a6eedc83">ToonzRasterBrushTool</a>, <a class="el" href="class_tracker_tool.html#a8a25dc132a66faef0e5ff3bca15118b7">TrackerTool</a>, <a class="el" href="class_type_tool.html#a67419064bd2d7fc33f110cf4799fc3ec">TypeTool</a>, <a class="el" href="class_eraser_tool.html#a55b8227fa7264a7c8f0b8c32e5b6d7f0">EraserTool</a>, <a class="el" href="class_vector_selection_tool.html#a021fc8aabe068a494a4cd50cd22ea86f">VectorSelectionTool</a>, and <a class="el" href="class_selection_tool.html#a5ea1e5cda592831a8f40e3db766de94c">SelectionTool</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01598">SceneViewer::drawOverlay()</a>, and <a class="el" href="#l00609">notifyImageChanged()</a>.</p>

</div>
</div>
<a id="a5257bc53681eaefb43ce4987883d895d" name="a5257bc53681eaefb43ce4987883d895d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5257bc53681eaefb43ce4987883d895d">&#9670;&nbsp;</a></span>onInputText()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::onInputText </td>
          <td>(</td>
          <td class="paramtype">std::wstring&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::wstring&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  394</span>{};</div>
</div><!-- fragment -->
</div>
</div>
<a id="af7fb05265a94131da081da654e271a22" name="af7fb05265a94131da081da654e271a22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7fb05265a94131da081da654e271a22">&#9670;&nbsp;</a></span>onLeave()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::onLeave </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for the mouse leaving the viewer area. </p>

<p>Reimplemented in <a class="el" href="class_pinch_tool.html#a97b1d30e3a6e4c825af23d1315f4cd46">PinchTool</a>, <a class="el" href="class_control_point_editor_tool.html#a2d92b85a916014da278d2deaae90b104">ControlPointEditorTool</a>, <a class="el" href="class_finger_tool.html#a15c6e8cc8f0ca22630de6d5d9f719fb8">FingerTool</a>, <a class="el" href="class_full_color_brush_tool.html#a58250c67ed51cbbe7d75018239900b76">FullColorBrushTool</a>, <a class="el" href="class_paint_brush_tool.html#a7ceffa637d1e45664ed3879960168765">PaintBrushTool</a>, <a class="el" href="class_plastic_tool.html#a81f6017d7c8162ed23921c39f9ae9f8f">PlasticTool</a>, <a class="el" href="class_pump_tool.html#a35187a25ecf2bec34b751cd19a89b08a">PumpTool</a>, <a class="el" href="class_shift_trace_tool.html#a22a808ff50e75dde59daac45dbb7081d">ShiftTraceTool</a>, <a class="el" href="class_toonz_raster_brush_tool.html#ab375f322b0297680f3f14ee3d1f7a80e">ToonzRasterBrushTool</a>, <a class="el" href="class_toonz_vector_brush_tool.html#abd825b876313ef17b442448ff77fe2bf">ToonzVectorBrushTool</a>, <a class="el" href="class_tracker_tool.html#a59d2ad52afd3fbe75ec61ef09f7c177b">TrackerTool</a>, <a class="el" href="class_eraser_tool.html#a9d9e765cdb8805aa71fba45fa311fd35">EraserTool</a>, and <a class="el" href="class_vector_tape_tool.html#a481764c410bba81186e8ee985bc8b161">VectorTapeTool</a>.</p>

</div>
</div>
<a id="a06694e0586f807c34b18e16341aa9ee2" name="a06694e0586f807c34b18e16341aa9ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06694e0586f807c34b18e16341aa9ee2">&#9670;&nbsp;</a></span>onPropertyChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TTool::onPropertyChanged </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>propertyName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment"> Does the tasks associated to changes in \p propertyName and returns \p
</pre><p> true; Does the tasks associated to changes in <code>propertyName</code> and returns <code>true</code>. </p>

<p>Reimplemented in <a class="el" href="class_control_point_editor_tool.html#a5de1575c41151e6701025477440c6e5f">ControlPointEditorTool</a>, <a class="el" href="class_edit_tool.html#a95f4147a7d6c342c6a4c766df8d6d38a">EditTool</a>, <a class="el" href="class_fill_tool.html#a6d4ed6a6894253534c06673f04da9c97">FillTool</a>, <a class="el" href="class_finger_tool.html#a2c909888f0dbec8feb09b1bc26ae9daa">FingerTool</a>, <a class="el" href="class_full_color_brush_tool.html#a279db400c7bb9dfac35d9087dedbdef7">FullColorBrushTool</a>, <a class="el" href="class_full_color_eraser_tool.html#a79f7c576577750ad1476e77091fcc798">FullColorEraserTool</a>, <a class="el" href="class_full_color_fill_tool.html#a3ecbc6239b69892459a7db754516a2d2">FullColorFillTool</a>, <a class="el" href="class_geometric_tool.html#ac845ff1c6b05f75e3c20097e2b48b8ce">GeometricTool</a>, <a class="el" href="class_magnet_tool.html#ab836116a4a7702d3864868b31c0f1882">MagnetTool</a>, <a class="el" href="class_paint_brush_tool.html#a6fea495827c90c0c14f065a8619294d7">PaintBrushTool</a>, <a class="el" href="class_plastic_tool.html#a8323f7aaf07e52dffd963595b81bd7d8">PlasticTool</a>, <a class="el" href="class_raster_selection_tool.html#af0114538fae18e880af79f0286c27c1e">RasterSelectionTool</a>, <a class="el" href="class_raster_tape_tool.html#a6145e6d7ea245d3acd23827c1d3c150e">RasterTapeTool</a>, <a class="el" href="class_r_g_b_picker_tool.html#a46def62f5940eee5d3a2432d196123e5">RGBPickerTool</a>, <a class="el" href="class_selection_tool.html#ab75a88cb099f2bd7f33333a203de0578">SelectionTool</a>, <a class="el" href="class_skeleton_tool.html#a60413502350c6db6f81ec5359aa039d0">SkeletonTool</a>, <a class="el" href="class_style_picker_tool.html#aab504e0638e31438542244d81fa9d004">StylePickerTool</a>, <a class="el" href="class_toonz_raster_brush_tool.html#a155bef55e93ce3bb63adfe0891a55547">ToonzRasterBrushTool</a>, <a class="el" href="class_toonz_vector_brush_tool.html#a0250a40a781f004a4ff6483a00dc94dd">ToonzVectorBrushTool</a>, <a class="el" href="class_tracker_tool.html#afd954cb1238b8c2aa78d6e2dc806e086">TrackerTool</a>, <a class="el" href="class_type_tool.html#aedcc4b901393b4f61c380483d84b5f66">TypeTool</a>, <a class="el" href="class_eraser_tool.html#afcd9c815a5585364231a65a3102c3592">EraserTool</a>, <a class="el" href="class_vector_selection_tool.html#a4db988c389e5c8afd7ff6b7f73e32e62">VectorSelectionTool</a>, and <a class="el" href="class_vector_tape_tool.html#a5b6f17e60cb8d6dbab3a9817c14d51d8">VectorTapeTool</a>.</p>

</div>
</div>
<a id="adfa7a80eb7be96de62040dab2311a5bd" name="adfa7a80eb7be96de62040dab2311a5bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa7a80eb7be96de62040dab2311a5bd">&#9670;&nbsp;</a></span>onSelectedFramesChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::onSelectedFramesChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  571</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af69df3eb68917c8017860698f5d3fb67" name="af69df3eb68917c8017860698f5d3fb67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af69df3eb68917c8017860698f5d3fb67">&#9670;&nbsp;</a></span>onSetViewer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::onSetViewer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  396</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab04ed46786cf65fe4564d26ffa5d49c8" name="ab04ed46786cf65fe4564d26ffa5d49c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab04ed46786cf65fe4564d26ffa5d49c8">&#9670;&nbsp;</a></span>pick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TTool::pick </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Picks a region of the scene, using an OpenGL projection matrix to restrict drawing to a small regionaround <code>p</code> of the viewport. Returns -1 if no object's view has been changed. </p>
<div class="fragment"><div class="line"><span class="lineno">  557</span>                                {</div>
<div class="line"><span class="lineno">  558</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>  m_picking = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  561</span>  <span class="keywordtype">int</span> ret   = <a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>-&gt;<a class="code hl_function" href="class_t_tool_1_1_viewer.html#a25c39c87c36587cf9cb0fdc09c59e6d4">pick</a>(p);</div>
<div class="line"><span class="lineno">  562</span>  m_picking = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  565</span>}</div>
<div class="ttc" id="aclass_t_tool_1_1_viewer_html_a25c39c87c36587cf9cb0fdc09c59e6d4"><div class="ttname"><a href="class_t_tool_1_1_viewer.html#a25c39c87c36587cf9cb0fdc09c59e6d4">TTool::Viewer::pick</a></div><div class="ttdeci">virtual int pick(const TPointD &amp;point)=0</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00555">m_viewer</a>, and <a class="el" href="class_t_tool_1_1_viewer.html#a25c39c87c36587cf9cb0fdc09c59e6d4">TTool::Viewer::pick()</a>.</p>

</div>
</div>
<a id="a11d2c27110689caf7fa6f49519808073" name="a11d2c27110689caf7fa6f49519808073"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d2c27110689caf7fa6f49519808073">&#9670;&nbsp;</a></span>preLeftButtonDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool TTool::preLeftButtonDown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This method is called before leftButtonDown() and can be used e.g. to create the image if needed. return true if the method execution can have changed the current tool </p>

<p>Reimplemented in <a class="el" href="class_full_color_brush_tool.html#a26cbb75fe58336f4b27dd4d2d63e9194">FullColorBrushTool</a>, <a class="el" href="class_geometric_tool.html#ac08d11c96329e1c5170f1cc253e97e03">GeometricTool</a>, <a class="el" href="class_toonz_raster_brush_tool.html#a4b6a127ee38e477ea8c04917463bc9f5">ToonzRasterBrushTool</a>, <a class="el" href="class_toonz_vector_brush_tool.html#a0f463a81847443e65540ca2a9b4272f8">ToonzVectorBrushTool</a>, and <a class="el" href="class_type_tool.html#af9b8c95ac03396fac616bb96abe535c7">TypeTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  384</span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a25c28be1539cf682511967dc9b057952" name="a25c28be1539cf682511967dc9b057952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25c28be1539cf682511967dc9b057952">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  414</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a985d88ab04fc77b1ddca7ead95ab4884" name="a985d88ab04fc77b1ddca7ead95ab4884"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a985d88ab04fc77b1ddca7ead95ab4884">&#9670;&nbsp;</a></span>resetInputMethod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::resetInputMethod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets Input Context (IME) </p>
<div class="fragment"><div class="line"><span class="lineno">  812</span>                             {</div>
<div class="line"><span class="lineno">  813</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>) <a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>-&gt;resetInputMethod();</div>
<div class="line"><span class="lineno">  814</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00555">m_viewer</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01708">TypeTool::onDeactivate()</a>.</p>

</div>
</div>
<a id="ab096789c990785636e8694020344636c" name="ab096789c990785636e8694020344636c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab096789c990785636e8694020344636c">&#9670;&nbsp;</a></span>rightButtonDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::rightButtonDown </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_mouse_event.html">TMouseEvent</a> &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  391</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="affdedb591395f5f88f80e3756f867bc9" name="affdedb591395f5f88f80e3756f867bc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affdedb591395f5f88f80e3756f867bc9">&#9670;&nbsp;</a></span>setActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::setActive </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>active</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  421</span>{ m_active = active; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d7dc084cba84024ae1594a28ce45f93" name="a4d7dc084cba84024ae1594a28ce45f93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d7dc084cba84024ae1594a28ce45f93">&#9670;&nbsp;</a></span>setApplication()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TTool::setApplication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_application.html">TApplication</a> *&#160;</td>
          <td class="paramname"><em>application</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  303</span>                                                        {</div>
<div class="line"><span class="lineno">  304</span>    m_application = application;</div>
<div class="line"><span class="lineno">  305</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f1f2c2326fb0ef3bb6d4108fc0fb24b" name="a0f1f2c2326fb0ef3bb6d4108fc0fb24b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f1f2c2326fb0ef3bb6d4108fc0fb24b">&#9670;&nbsp;</a></span>setMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::setMatrix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_affine.html">TAffine</a> &amp;&#160;</td>
          <td class="paramname"><em>matrix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  470</span>{ <a class="code hl_variable" href="class_t_tool.html#a3bf7058680c3aef9a5584a7f71351757">m_matrix</a> = matrix; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae40926a5cc5262b4c4609ae6f05a13e1" name="ae40926a5cc5262b4c4609ae6f05a13e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae40926a5cc5262b4c4609ae6f05a13e1">&#9670;&nbsp;</a></span>setSelectedFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::setSelectedFrames </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>selectedFrames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1064</span>                                                                    {</div>
<div class="line"><span class="lineno"> 1065</span>  m_selectedFrames = selectedFrames;</div>
<div class="line"><span class="lineno"> 1066</span>  onSelectedFramesChanged();</div>
<div class="line"><span class="lineno"> 1067</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a929998a1d2773ebbb5982283e870a26c" name="a929998a1d2773ebbb5982283e870a26c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929998a1d2773ebbb5982283e870a26c">&#9670;&nbsp;</a></span>setViewer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::setViewer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_tool_1_1_viewer.html">Viewer</a> *&#160;</td>
          <td class="paramname"><em>viewer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  356</span>                                 {</div>
<div class="line"><span class="lineno">  357</span>    <a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a> = viewer;</div>
<div class="line"><span class="lineno">  358</span>    onSetViewer();</div>
<div class="line"><span class="lineno">  359</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a668ac4790094a864ba6e37bd902303f1" name="a668ac4790094a864ba6e37bd902303f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a668ac4790094a864ba6e37bd902303f1">&#9670;&nbsp;</a></span>touchImage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_image.html">TImage</a> * TTool::touchImage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns a pointer to the actual image - the one of the frame that has been selected. </p>
<div class="fragment"><div class="line"><span class="lineno">  294</span>                          {</div>
<div class="line"><span class="lineno">  295</span>  <span class="keywordflow">if</span> (!m_application) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>  <a class="code hl_variable" href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">m_cellsData</a>.clear();</div>
<div class="line"><span class="lineno">  298</span>  m_oldFids.clear();</div>
<div class="line"><span class="lineno">  299</span>  m_newFids.clear();</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>  <a class="code hl_variable" href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">m_isLevelCreated</a>     = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  302</span>  <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a>     = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  303</span>  m_isLevelRenumbererd = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  304</span>  <a class="code hl_class" href="class_preferences.html">Preferences</a> *pref    = Preferences::instance();</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>  <span class="keywordtype">bool</span> isAutoCreateEnabled        = pref-&gt;isAutoCreateEnabled();</div>
<div class="line"><span class="lineno">  307</span>  <span class="keywordtype">bool</span> animationSheetEnabled      = pref-&gt;isAnimationSheetEnabled();</div>
<div class="line"><span class="lineno">  308</span>  <span class="keywordtype">bool</span> isAutoStretchEnabled       = pref-&gt;isAutoStretchEnabled();</div>
<div class="line"><span class="lineno">  309</span>  <span class="keywordtype">bool</span> isAutoRenumberEnabled      = pref-&gt;isAutorenumberEnabled();</div>
<div class="line"><span class="lineno">  310</span>  <span class="keywordtype">bool</span> isCreateInHoldCellsEnabled = pref-&gt;isCreationInHoldCellsEnabled();</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>  <a class="code hl_class" href="class_t_frame_handle.html">TFrameHandle</a> *currentFrame    = m_application-&gt;getCurrentFrame();</div>
<div class="line"><span class="lineno">  313</span>  <a class="code hl_class" href="class_t_xsh_level_handle.html">TXshLevelHandle</a> *currentLevel = m_application-&gt;getCurrentLevel();</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>  <span class="keywordflow">if</span> (currentFrame-&gt;isEditingLevel()) {</div>
<div class="line"><span class="lineno">  316</span>    <span class="comment">// Editing level</span></div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>    <span class="comment">// no level =&gt; return 0</span></div>
<div class="line"><span class="lineno">  319</span>    <a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *xl = currentLevel-&gt;getLevel();</div>
<div class="line"><span class="lineno">  320</span>    <span class="keywordflow">if</span> (!xl) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  321</span>    <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = xl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">if</span> (!sl || sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">isEmpty</a>()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid = currentFrame-&gt;getFid();</div>
<div class="line"><span class="lineno">  325</span>    <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img  = sl-&gt;getFrame(fid, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordflow">if</span> (!img) {</div>
<div class="line"><span class="lineno">  327</span>      <span class="comment">// no drawing found</span></div>
<div class="line"><span class="lineno">  328</span>      <span class="keywordflow">if</span> (sl-&gt;isSubsequence() || sl-&gt;isReadOnly() || !isAutoCreateEnabled)</div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>      <span class="comment">// create a new drawing</span></div>
<div class="line"><span class="lineno">  332</span>      img = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a32326317b949489c443457ddd55ce256">createEmptyFrame</a>();</div>
<div class="line"><span class="lineno">  333</span>      sl-&gt;setFrame(fid, img);</div>
<div class="line"><span class="lineno">  334</span>      currentLevel-&gt;notifyLevelChange();</div>
<div class="line"><span class="lineno">  335</span>      <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  336</span>    }</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">return</span> img.getPointer();</div>
<div class="line"><span class="lineno">  338</span>  }</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>  <span class="comment">//- - - - editing xsheet case starts here - - - -</span></div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>  <span class="keywordflow">if</span> (m_application-&gt;getCurrentObject()-&gt;isSpline()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>  <a class="code hl_class" href="class_t_scene_handle.html">TSceneHandle</a> *currentScene = m_application-&gt;getCurrentScene();</div>
<div class="line"><span class="lineno">  345</span>  <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene          = currentScene-&gt;getScene();</div>
<div class="line"><span class="lineno">  346</span>  <span class="keywordtype">int</span> row                    = currentFrame-&gt;getFrame();</div>
<div class="line"><span class="lineno">  347</span>  <span class="keywordtype">int</span> col = m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno">  348</span>  <span class="keywordflow">if</span> (col &lt; 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>  <a class="code hl_class" href="class_t_xsheet_handle.html">TXsheetHandle</a> *currentXsheet = m_application-&gt;getCurrentXsheet();</div>
<div class="line"><span class="lineno">  351</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh                 = currentXsheet-&gt;getXsheet();</div>
<div class="line"><span class="lineno">  352</span>  <span class="keywordflow">if</span> (!xsh) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>  <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell       = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(row, col);</div>
<div class="line"><span class="lineno">  355</span>  <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a8898cc47eba24e59477bfba8e2511f1d">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>  <span class="keywordflow">if</span> (sl) {</div>
<div class="line"><span class="lineno">  358</span>    <span class="comment">// current cell is not empty</span></div>
<div class="line"><span class="lineno">  359</span>    <span class="keywordflow">if</span> (isCreateInHoldCellsEnabled &amp;&amp; row &gt; 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  360</span>        xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(row - 1, col) == xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(row, col)) {</div>
<div class="line"><span class="lineno">  361</span>      <span class="comment">// CreateInHoldCells is enabled and the current cell is a &quot;hold&quot;.</span></div>
<div class="line"><span class="lineno">  362</span>      <span class="comment">// We must create a new drawing.</span></div>
<div class="line"><span class="lineno">  363</span>      <span class="comment">// measure the hold length (starting from the current row) : r0-r1</span></div>
<div class="line"><span class="lineno">  364</span>      <span class="keywordtype">int</span> r0 = row, r1 = row;</div>
<div class="line"><span class="lineno">  365</span>      <span class="keywordflow">if</span> (isAutoStretchEnabled)</div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">while</span> (xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(r1 + 1, col) == cell) r1++;</div>
<div class="line"><span class="lineno">  367</span>      <span class="comment">// find the proper frameid (possibly addisng suffix, in order to avoid a</span></div>
<div class="line"><span class="lineno">  368</span>      <span class="comment">// fid already used)</span></div>
<div class="line"><span class="lineno">  369</span>      <span class="comment">// find the proper frameid</span></div>
<div class="line"><span class="lineno">  370</span>      <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid;</div>
<div class="line"><span class="lineno">  371</span>      <a class="code hl_class" href="class_t_xsh_cell_column.html">TXshCellColumn</a> *column = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col)-&gt;getCellColumn();</div>
<div class="line"><span class="lineno">  372</span>      <span class="keywordflow">if</span> (isAutoRenumberEnabled &amp;&amp; column) {</div>
<div class="line"><span class="lineno">  373</span>        <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> maxFid;</div>
<div class="line"><span class="lineno">  374</span>        <span class="keywordflow">if</span> (animationSheetEnabled) {</div>
<div class="line"><span class="lineno">  375</span>          fid    = <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(row + 1);</div>
<div class="line"><span class="lineno">  376</span>          maxFid = <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(row);</div>
<div class="line"><span class="lineno">  377</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  378</span>          <span class="keywordtype">int</span> r_begin, r_end;</div>
<div class="line"><span class="lineno">  379</span>          column-&gt;getRange(r_begin, r_end);</div>
<div class="line"><span class="lineno">  380</span>          fid = getDesiredFId(column, r_begin, sl, row, maxFid);</div>
<div class="line"><span class="lineno">  381</span>        }</div>
<div class="line"><span class="lineno">  382</span>        <span class="comment">// renumber fids</span></div>
<div class="line"><span class="lineno">  383</span>        sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a567daee4ca12a0e92445bcf98a6541f1">getFids</a>(m_oldFids);</div>
<div class="line"><span class="lineno">  384</span>        m_isLevelRenumbererd = ToolUtils::renumberForInsertFId(</div>
<div class="line"><span class="lineno">  385</span>            sl, fid, maxFid, scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#aaffd562eebbd8faba4caeaed69bfcc18">getTopXsheet</a>());</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordflow">if</span> (m_isLevelRenumbererd) sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a567daee4ca12a0e92445bcf98a6541f1">getFids</a>(m_newFids);</div>
<div class="line"><span class="lineno">  387</span>      } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  388</span>        fid = (animationSheetEnabled) ? getNewFrameId(sl, row)</div>
<div class="line"><span class="lineno">  389</span>                                      : sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a07279a40ffad2c6ccc597c0a418f78fb">index2fid</a>(sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a3fe127306d6669a3eb9e9d8802660d7b">getFrameCount</a>());</div>
<div class="line"><span class="lineno">  390</span>      <span class="comment">// create the new drawing</span></div>
<div class="line"><span class="lineno">  391</span>      <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img      = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a32326317b949489c443457ddd55ce256">createEmptyFrame</a>();</div>
<div class="line"><span class="lineno">  392</span>      <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  393</span>      <span class="comment">// insert the drawing in the level</span></div>
<div class="line"><span class="lineno">  394</span>      sl-&gt;setFrame(fid, img);</div>
<div class="line"><span class="lineno">  395</span>      <span class="comment">// update the cell</span></div>
<div class="line"><span class="lineno">  396</span>      cell = <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a>(sl, fid);</div>
<div class="line"><span class="lineno">  397</span>      <span class="comment">// update the xsheet (change the current cell and possibly all the</span></div>
<div class="line"><span class="lineno">  398</span>      <span class="comment">// following &quot;hold&quot;)</span></div>
<div class="line"><span class="lineno">  399</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = r0; r &lt;= r1; r++) xsh-&gt;setCell(r, col, cell);</div>
<div class="line"><span class="lineno">  400</span>      <span class="comment">// notify</span></div>
<div class="line"><span class="lineno">  401</span>      currentXsheet-&gt;notifyXsheetChanged();</div>
<div class="line"><span class="lineno">  402</span>      currentScene-&gt;notifyCastChange();</div>
<div class="line"><span class="lineno">  403</span>      currentLevel-&gt;notifyLevelChange();</div>
<div class="line"><span class="lineno">  404</span>      <a class="code hl_variable" href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">m_cellsData</a>.push_back({r0, r1, CellOps::ExistingToNew});</div>
<div class="line"><span class="lineno">  405</span>    }</div>
<div class="line"><span class="lineno">  406</span>    <span class="comment">// if the level does not contain a frame in the current cell</span></div>
<div class="line"><span class="lineno">  407</span>    <span class="comment">// (i.e. drawing on the cell with red numbers)</span></div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a14de45c4b17032346cfcffbca8ef9751">isFid</a>(cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">getFrameId</a>())) {</div>
<div class="line"><span class="lineno">  409</span>      <span class="comment">// no drawing found</span></div>
<div class="line"><span class="lineno">  410</span>      <span class="keywordflow">if</span> (sl-&gt;isSubsequence() || sl-&gt;isReadOnly() || !isAutoCreateEnabled)</div>
<div class="line"><span class="lineno">  411</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  412</span>      <span class="comment">// create a new drawing</span></div>
<div class="line"><span class="lineno">  413</span>      <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a32326317b949489c443457ddd55ce256">createEmptyFrame</a>();</div>
<div class="line"><span class="lineno">  414</span>      sl-&gt;setFrame(cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">getFrameId</a>(), img);</div>
<div class="line"><span class="lineno">  415</span>      currentXsheet-&gt;notifyXsheetChanged();</div>
<div class="line"><span class="lineno">  416</span>      currentLevel-&gt;notifyLevelChange();</div>
<div class="line"><span class="lineno">  417</span>      <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  418</span>      <span class="keywordflow">return</span> img.getPointer();</div>
<div class="line"><span class="lineno">  419</span>    }</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    <span class="comment">// we&#39;ve found the image. return it.</span></div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">return</span> cell.<a class="code hl_function" href="class_t_xsh_cell.html#a20b623d308bc09b820ec6b116516f564">getImage</a>(<span class="keyword">true</span>).getPointer();</div>
<div class="line"><span class="lineno">  423</span>  }</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>  <span class="comment">// current cell is empty.</span></div>
<div class="line"><span class="lineno">  426</span>  <span class="keywordflow">if</span> (!isAutoCreateEnabled) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>  <span class="comment">// get the column range</span></div>
<div class="line"><span class="lineno">  429</span>  <span class="keywordtype">int</span> r0, r1;</div>
<div class="line"><span class="lineno">  430</span>  xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a26850469fb0f2886b717479050c32be2">getCellRange</a>(col, r0, r1);</div>
<div class="line"><span class="lineno">  431</span>  <span class="comment">// in case the column is not empty</span></div>
<div class="line"><span class="lineno">  432</span>  <span class="keywordflow">if</span> (r0 &lt;= r1) {</div>
<div class="line"><span class="lineno">  433</span>    <span class="comment">// We must create a new drawing in the column level and possibly add &quot;holds&quot;</span></div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>    <span class="comment">// find the last not-empty cell before the current one (a) and the first</span></div>
<div class="line"><span class="lineno">  436</span>    <span class="comment">// after (b)</span></div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordtype">int</span> a = row - 1, b = row + 1;</div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordflow">while</span> (a &gt;= r0 &amp;&amp; xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(a, col).<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) a--;</div>
<div class="line"><span class="lineno">  439</span>    <span class="keywordflow">while</span> (b &lt;= r1 &amp;&amp; xsh-&gt;getCell(b, col).isEmpty()) b++;</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>    <span class="comment">// find the level we must attach to</span></div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">if</span> (a &gt;= r0) {</div>
<div class="line"><span class="lineno">  443</span>      <span class="comment">// there is a not-empty cell before the current one</span></div>
<div class="line"><span class="lineno">  444</span>      sl = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(a, col).<a class="code hl_function" href="class_t_xsh_cell.html#a8898cc47eba24e59477bfba8e2511f1d">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  445</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b &lt;= r1) {</div>
<div class="line"><span class="lineno">  446</span>      sl = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(b, col).<a class="code hl_function" href="class_t_xsh_cell.html#a8898cc47eba24e59477bfba8e2511f1d">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  447</span>    }</div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">if</span> (sl &amp;&amp; !sl-&gt;isSubsequence() &amp;&amp; !sl-&gt;isReadOnly()) {</div>
<div class="line"><span class="lineno">  449</span>      <span class="comment">// note: sl should be always !=0 (the column is not empty)</span></div>
<div class="line"><span class="lineno">  450</span>      <span class="comment">// if - for some reason - it is == 0 or it is not editable,</span></div>
<div class="line"><span class="lineno">  451</span>      <span class="comment">// then we skip to empty-column behaviour</span></div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>      <span class="comment">// create the drawing</span></div>
<div class="line"><span class="lineno">  454</span>      <span class="comment">// find the proper frameid</span></div>
<div class="line"><span class="lineno">  455</span>      <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid;</div>
<div class="line"><span class="lineno">  456</span>      <a class="code hl_class" href="class_t_xsh_cell_column.html">TXshCellColumn</a> *column = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col)-&gt;getCellColumn();</div>
<div class="line"><span class="lineno">  457</span>      <span class="keywordflow">if</span> (isAutoRenumberEnabled &amp;&amp; column) {</div>
<div class="line"><span class="lineno">  458</span>        <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> maxFid(row);</div>
<div class="line"><span class="lineno">  459</span>        fid = (animationSheetEnabled)</div>
<div class="line"><span class="lineno">  460</span>                  ? <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(row + 1)</div>
<div class="line"><span class="lineno">  461</span>                  : getDesiredFId(column, r0, sl, row, maxFid);</div>
<div class="line"><span class="lineno">  462</span>        sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a567daee4ca12a0e92445bcf98a6541f1">getFids</a>(m_oldFids);</div>
<div class="line"><span class="lineno">  463</span>        m_isLevelRenumbererd = ToolUtils::renumberForInsertFId(</div>
<div class="line"><span class="lineno">  464</span>            sl, fid, maxFid, scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#aaffd562eebbd8faba4caeaed69bfcc18">getTopXsheet</a>());</div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordflow">if</span> (m_isLevelRenumbererd) sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a567daee4ca12a0e92445bcf98a6541f1">getFids</a>(m_newFids);</div>
<div class="line"><span class="lineno">  466</span>      } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  467</span>        fid = (animationSheetEnabled) ? getNewFrameId(sl, row)</div>
<div class="line"><span class="lineno">  468</span>                                      : sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a07279a40ffad2c6ccc597c0a418f78fb">index2fid</a>(sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a3fe127306d6669a3eb9e9d8802660d7b">getFrameCount</a>());</div>
<div class="line"><span class="lineno">  469</span>      <span class="comment">// create the new drawing</span></div>
<div class="line"><span class="lineno">  470</span>      <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img      = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a32326317b949489c443457ddd55ce256">createEmptyFrame</a>();</div>
<div class="line"><span class="lineno">  471</span>      <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  472</span>      <span class="comment">// insert the drawing in the level</span></div>
<div class="line"><span class="lineno">  473</span>      sl-&gt;setFrame(fid, img);</div>
<div class="line"><span class="lineno">  474</span>      <span class="comment">// update the cell</span></div>
<div class="line"><span class="lineno">  475</span>      cell = <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a>(sl, fid);</div>
<div class="line"><span class="lineno">  476</span>      xsh-&gt;setCell(row, col, cell);</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>      <span class="comment">// create holds</span></div>
<div class="line"><span class="lineno">  479</span>      <span class="keywordflow">if</span> (!isAutoStretchEnabled) {</div>
<div class="line"><span class="lineno">  480</span>        <a class="code hl_variable" href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">m_cellsData</a>.push_back({row, row, CellOps::BlankToNew});</div>
<div class="line"><span class="lineno">  481</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  482</span>        <span class="keywordflow">if</span> (a &gt;= r0) {</div>
<div class="line"><span class="lineno">  483</span>          <span class="comment">// create a hold before : [a+1, row-1]</span></div>
<div class="line"><span class="lineno">  484</span>          <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> aCell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(a, col);</div>
<div class="line"><span class="lineno">  485</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = a + 1; i &lt; row; i++) xsh-&gt;setCell(i, col, aCell);</div>
<div class="line"><span class="lineno">  486</span>          <a class="code hl_variable" href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">m_cellsData</a>.push_back({a + 1, row - 1, CellOps::BlankToExisting});</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>          <span class="keywordflow">if</span> (b &lt;= r1 &amp;&amp; xsh-&gt;getCell(b, col).getSimpleLevel() == sl) {</div>
<div class="line"><span class="lineno">  489</span>            <span class="comment">// create also a hold after</span></div>
<div class="line"><span class="lineno">  490</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = row + 1; i &lt; b; i++) xsh-&gt;setCell(i, col, cell);</div>
<div class="line"><span class="lineno">  491</span>            <a class="code hl_variable" href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">m_cellsData</a>.push_back({row, b - 1, CellOps::BlankToNew});</div>
<div class="line"><span class="lineno">  492</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  493</span>            <a class="code hl_variable" href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">m_cellsData</a>.push_back({row, row, CellOps::BlankToNew});</div>
<div class="line"><span class="lineno">  494</span>          }</div>
<div class="line"><span class="lineno">  495</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b &lt;= r1) {</div>
<div class="line"><span class="lineno">  496</span>          <span class="comment">// create a hold after</span></div>
<div class="line"><span class="lineno">  497</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = row + 1; i &lt; b; i++) xsh-&gt;setCell(i, col, cell);</div>
<div class="line"><span class="lineno">  498</span>          <a class="code hl_variable" href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">m_cellsData</a>.push_back({row, b - 1, CellOps::BlankToNew});</div>
<div class="line"><span class="lineno">  499</span>        }</div>
<div class="line"><span class="lineno">  500</span>      }</div>
<div class="line"><span class="lineno">  501</span>      <span class="comment">// notify &amp; return</span></div>
<div class="line"><span class="lineno">  502</span>      currentXsheet-&gt;notifyXsheetChanged();</div>
<div class="line"><span class="lineno">  503</span>      currentScene-&gt;notifyCastChange();</div>
<div class="line"><span class="lineno">  504</span>      currentLevel-&gt;notifyLevelChange();</div>
<div class="line"><span class="lineno">  505</span>      <span class="keywordflow">return</span> cell.<a class="code hl_function" href="class_t_xsh_cell.html#a20b623d308bc09b820ec6b116516f564">getImage</a>(<span class="keyword">true</span>).getPointer();</div>
<div class="line"><span class="lineno">  506</span>    }</div>
<div class="line"><span class="lineno">  507</span>  }</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>  <span class="comment">// - - - - empty column case starts here - - - -</span></div>
<div class="line"><span class="lineno">  510</span>  <span class="comment">// autoCreate is enabled: we must create a new level</span></div>
<div class="line"><span class="lineno">  511</span>  <span class="keywordtype">int</span> levelType    = pref-&gt;getDefLevelType();</div>
<div class="line"><span class="lineno">  512</span>  <a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *xl    = scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#ac8791183db4daa28bdffdd40e15c3b9e">createNewLevel</a>(levelType);</div>
<div class="line"><span class="lineno">  513</span>  sl               = xl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  514</span>  <a class="code hl_variable" href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">m_isLevelCreated</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>  <span class="comment">// create the drawing</span></div>
<div class="line"><span class="lineno">  517</span>  <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid = animationSheetEnabled ? getNewFrameId(sl, row) : <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(1);</div>
<div class="line"><span class="lineno">  518</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img  = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a32326317b949489c443457ddd55ce256">createEmptyFrame</a>();</div>
<div class="line"><span class="lineno">  519</span>  <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  520</span>  sl-&gt;setFrame(fid, img);</div>
<div class="line"><span class="lineno">  521</span>  cell = <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a>(sl, fid);</div>
<div class="line"><span class="lineno">  522</span>  xsh-&gt;setCell(row, col, cell);</div>
<div class="line"><span class="lineno">  523</span>  <a class="code hl_variable" href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">m_cellsData</a>.push_back({row, row, CellOps::BlankToNew});  <span class="comment">// vuoto =&gt; nuovo</span></div>
<div class="line"><span class="lineno">  524</span>  currentXsheet-&gt;notifyXsheetChanged();</div>
<div class="line"><span class="lineno">  525</span>  currentScene-&gt;notifyCastChange();</div>
<div class="line"><span class="lineno">  526</span>  currentLevel-&gt;notifyLevelChange();</div>
<div class="line"><span class="lineno">  527</span>  <span class="keywordflow">return</span> img.getPointer();</div>
<div class="line"><span class="lineno">  528</span>}</div>
<div class="ttc" id="aclass_preferences_html"><div class="ttname"><a href="class_preferences.html">Preferences</a></div><div class="ttdef"><b>Definition:</b> preferences.h:72</div></div>
<div class="ttc" id="aclass_t_scene_handle_html"><div class="ttname"><a href="class_t_scene_handle.html">TSceneHandle</a></div><div class="ttdef"><b>Definition:</b> tscenehandle.h:28</div></div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TImage &gt;</a></div></div>
<div class="ttc" id="aclass_t_tool_html_a9345d88f41578058ccb2d6e681591c09"><div class="ttname"><a href="class_t_tool.html#a9345d88f41578058ccb2d6e681591c09">TTool::m_cellsData</a></div><div class="ttdeci">static std::vector&lt; CellOps &gt; m_cellsData</div><div class="ttdef"><b>Definition:</b> tool.h:540</div></div>
<div class="ttc" id="aclass_t_tool_html_aabd06af7335f1ba0c96f36f1ac3e9976"><div class="ttname"><a href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">TTool::m_isFrameCreated</a></div><div class="ttdeci">static bool m_isFrameCreated</div><div class="ttdef"><b>Definition:</b> tool.h:546</div></div>
<div class="ttc" id="aclass_t_tool_html_afec1db61477579b224321fd469e4ec00"><div class="ttname"><a href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">TTool::m_isLevelCreated</a></div><div class="ttdeci">static bool m_isLevelCreated</div><div class="ttdef"><b>Definition:</b> tool.h:544</div></div>
<div class="ttc" id="aclass_t_xsh_cell_column_html"><div class="ttname"><a href="class_t_xsh_cell_column.html">TXshCellColumn</a></div><div class="ttdef"><b>Definition:</b> txshcolumn.h:303</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a07279a40ffad2c6ccc597c0a418f78fb"><div class="ttname"><a href="class_t_xsh_simple_level.html#a07279a40ffad2c6ccc597c0a418f78fb">TXshSimpleLevel::index2fid</a></div><div class="ttdeci">TFrameId index2fid(int index) const</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:544</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a14de45c4b17032346cfcffbca8ef9751"><div class="ttname"><a href="class_t_xsh_simple_level.html#a14de45c4b17032346cfcffbca8ef9751">TXshSimpleLevel::isFid</a></div><div class="ttdeci">bool isFid(const TFrameId &amp;fid) const</div><div class="ttdoc">Returns whether a given frameId is in the level.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:454</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a32326317b949489c443457ddd55ce256"><div class="ttname"><a href="class_t_xsh_simple_level.html#a32326317b949489c443457ddd55ce256">TXshSimpleLevel::createEmptyFrame</a></div><div class="ttdeci">TImageP createEmptyFrame()</div><div class="ttdoc">and assigns the specified level path.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:1978</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a3fe127306d6669a3eb9e9d8802660d7b"><div class="ttname"><a href="class_t_xsh_simple_level.html#a3fe127306d6669a3eb9e9d8802660d7b">TXshSimpleLevel::getFrameCount</a></div><div class="ttdeci">int getFrameCount() const override</div><div class="ttdoc">Returns the level's frames count.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:158</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a567daee4ca12a0e92445bcf98a6541f1"><div class="ttname"><a href="class_t_xsh_simple_level.html#a567daee4ca12a0e92445bcf98a6541f1">TXshSimpleLevel::getFids</a></div><div class="ttdeci">std::vector&lt; TFrameId &gt; getFids() const</div><div class="ttdoc">Returns a copy of the level's frame ids.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:448</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a7c256d2745209a181a2dbccdec949c5e"><div class="ttname"><a href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">TXshSimpleLevel::isEmpty</a></div><div class="ttdeci">bool isEmpty() const override</div><div class="ttdoc">Returns whether the level is empty.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:147</div></div>
<div class="ttc" id="aclass_t_xsheet_handle_html"><div class="ttname"><a href="class_t_xsheet_handle.html">TXsheetHandle</a></div><div class="ttdef"><b>Definition:</b> txsheethandle.h:27</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a26850469fb0f2886b717479050c32be2"><div class="ttname"><a href="class_t_xsheet.html#a26850469fb0f2886b717479050c32be2">TXsheet::getCellRange</a></div><div class="ttdeci">int getCellRange(int col, int &amp;r0, int &amp;r1) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:462</div></div>
<div class="ttc" id="aclass_toonz_scene_html"><div class="ttname"><a href="class_toonz_scene.html">ToonzScene</a></div><div class="ttdef"><b>Definition:</b> toonzscene.h:42</div></div>
<div class="ttc" id="aclass_toonz_scene_html_aaffd562eebbd8faba4caeaed69bfcc18"><div class="ttname"><a href="class_toonz_scene.html#aaffd562eebbd8faba4caeaed69bfcc18">ToonzScene::getTopXsheet</a></div><div class="ttdeci">TXsheet * getTopXsheet() const</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:961</div></div>
<div class="ttc" id="aclass_toonz_scene_html_ac8791183db4daa28bdffdd40e15c3b9e"><div class="ttname"><a href="class_toonz_scene.html#ac8791183db4daa28bdffdd40e15c3b9e">ToonzScene::createNewLevel</a></div><div class="ttdeci">TXshLevel * createNewLevel(int type, std::wstring levelName=L&quot;&quot;, const TDimension &amp;dim=TDimension(), double dpi=0, TFilePath fp=TFilePath())</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:864</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01978">TXshSimpleLevel::createEmptyFrame()</a>, <a class="el" href="#l00864">ToonzScene::createNewLevel()</a>, <a class="el" href="#l00233">TXsheet::getCell()</a>, <a class="el" href="#l00462">TXsheet::getCellRange()</a>, <a class="el" href="#l01418">TXsheet::getColumn()</a>, <a class="el" href="#l00448">TXshSimpleLevel::getFids()</a>, <a class="el" href="#l00158">TXshSimpleLevel::getFrameCount()</a>, <a class="el" href="#l00120">TXshCell::getFrameId()</a>, <a class="el" href="#l00008">TXshCell::getImage()</a>, <a class="el" href="#l00095">TXshLevel::getSimpleLevel()</a>, <a class="el" href="#l00019">TXshCell::getSimpleLevel()</a>, <a class="el" href="#l00961">ToonzScene::getTopXsheet()</a>, <a class="el" href="#l00544">TXshSimpleLevel::index2fid()</a>, <a class="el" href="#l00078">TXshCell::isEmpty()</a>, <a class="el" href="#l00147">TXshSimpleLevel::isEmpty()</a>, <a class="el" href="#l00454">TXshSimpleLevel::isFid()</a>, <a class="el" href="#l00540">m_cellsData</a>, <a class="el" href="#l00546">m_isFrameCreated</a>, and <a class="el" href="#l00544">m_isLevelCreated</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01185">RasterSelection::pasteSelection()</a>, <a class="el" href="#l00290">FullColorBrushTool::preLeftButtonDown()</a>, <a class="el" href="#l01057">GeometricTool::preLeftButtonDown()</a>, <a class="el" href="#l01226">ToonzRasterBrushTool::preLeftButtonDown()</a>, <a class="el" href="#l00655">ToonzVectorBrushTool::preLeftButtonDown()</a>, and <a class="el" href="#l01205">TypeTool::preLeftButtonDown()</a>.</p>

</div>
</div>
<a id="ae6fe6533949c4098703d15325adc1ce7" name="ae6fe6533949c4098703d15325adc1ce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6fe6533949c4098703d15325adc1ce7">&#9670;&nbsp;</a></span>tweenGuideStrokeToSelected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::tweenGuideStrokeToSelected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1312</span>                                       {</div>
<div class="line"><span class="lineno"> 1313</span>  <span class="keywordflow">if</span> (!getViewer() || !m_application) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1314</span> </div>
<div class="line"><span class="lineno"> 1315</span>  <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl =</div>
<div class="line"><span class="lineno"> 1316</span>      m_application-&gt;getCurrentLevel()-&gt;getLevel()-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno"> 1317</span>  <span class="keywordflow">if</span> (!sl) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>  <span class="keywordtype">int</span> backIdx = -1, frontIdx = -1;</div>
<div class="line"><span class="lineno"> 1320</span> </div>
<div class="line"><span class="lineno"> 1321</span>  getViewer()-&gt;getGuidedFrameIdx(&amp;backIdx, &amp;frontIdx);</div>
<div class="line"><span class="lineno"> 1322</span> </div>
<div class="line"><span class="lineno"> 1323</span>  <a class="code hl_class" href="class_t_frame_handle.html">TFrameHandle</a> *currentFrame = getApplication()-&gt;getCurrentFrame();</div>
<div class="line"><span class="lineno"> 1324</span>  <span class="keywordtype">int</span> row                    = currentFrame-&gt;getFrameIndex();</div>
<div class="line"><span class="lineno"> 1325</span>  <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> bFid, cFid, fFid;</div>
<div class="line"><span class="lineno"> 1326</span>  <a class="code hl_class" href="class_t_vector_image_p.html">TVectorImageP</a> bvi, cvi, fvi;</div>
<div class="line"><span class="lineno"> 1327</span> </div>
<div class="line"><span class="lineno"> 1328</span>  cFid = <a class="code hl_function" href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">getCurrentFid</a>();</div>
<div class="line"><span class="lineno"> 1329</span>  <span class="keywordflow">if</span> (cFid.isEmptyFrame()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1330</span> </div>
<div class="line"><span class="lineno"> 1331</span>  cvi = sl-&gt;getFrame(cFid, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1332</span>  <span class="keywordflow">if</span> (!cvi) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1333</span> </div>
<div class="line"><span class="lineno"> 1334</span>  <span class="keywordtype">int</span> cStrokeCount = cvi-&gt;getStrokeCount();</div>
<div class="line"><span class="lineno"> 1335</span>  <span class="keywordflow">if</span> (!cStrokeCount) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1336</span> </div>
<div class="line"><span class="lineno"> 1337</span>  <a class="code hl_class" href="class_stroke_selection.html">StrokeSelection</a> *strokeSelection =</div>
<div class="line"><span class="lineno"> 1338</span>      <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_stroke_selection.html">StrokeSelection</a> *<span class="keyword">&gt;</span>(<a class="code hl_function" href="class_t_tool.html#add40ff8dd3dd04ed3ab5a259ed53fb85">getSelection</a>());</div>
<div class="line"><span class="lineno"> 1339</span>  <span class="keywordflow">if</span> (!strokeSelection || strokeSelection-&gt;isEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1340</span>  <span class="keyword">const</span> std::set&lt;int&gt; &amp;selectedStrokeIdxs = strokeSelection-&gt;getSelection();</div>
<div class="line"><span class="lineno"> 1341</span>  <span class="keyword">const</span> std::set&lt;int&gt;::iterator it        = selectedStrokeIdxs.begin();</div>
<div class="line"><span class="lineno"> 1342</span>  <span class="keywordtype">int</span> cStrokeIdx                          = *it;</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>  <a class="code hl_struct" href="class_t_stroke.html">TStroke</a> *cStroke = cvi-&gt;getStroke(cStrokeIdx);</div>
<div class="line"><span class="lineno"> 1345</span>  <span class="keywordflow">if</span> (!cStroke) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1346</span> </div>
<div class="line"><span class="lineno"> 1347</span>  <span class="keywordflow">if</span> (backIdx != -1) {</div>
<div class="line"><span class="lineno"> 1348</span>    <span class="keywordflow">if</span> (currentFrame-&gt;isEditingScene()) {</div>
<div class="line"><span class="lineno"> 1349</span>      <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_application-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 1350</span>      <span class="keywordtype">int</span> col      = m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno"> 1351</span>      <span class="keywordflow">if</span> (xsh &amp;&amp; col &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1352</span>        <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(backIdx, col);</div>
<div class="line"><span class="lineno"> 1353</span>        <span class="keywordflow">if</span> (!cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) bFid = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">getFrameId</a>();</div>
<div class="line"><span class="lineno"> 1354</span>      }</div>
<div class="line"><span class="lineno"> 1355</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1356</span>      bFid = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#abb72e2ab0c1baeda0a8af3146003181d">getFrameId</a>(backIdx);</div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>    <span class="keywordflow">if</span> (!bFid.isEmptyFrame()) bvi = sl-&gt;getFrame(bFid, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1359</span>  }</div>
<div class="line"><span class="lineno"> 1360</span> </div>
<div class="line"><span class="lineno"> 1361</span>  <span class="keywordflow">if</span> (frontIdx != -1) {</div>
<div class="line"><span class="lineno"> 1362</span>    <span class="keywordflow">if</span> (currentFrame-&gt;isEditingScene()) {</div>
<div class="line"><span class="lineno"> 1363</span>      <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_application-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 1364</span>      <span class="keywordtype">int</span> col      = m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno"> 1365</span>      <span class="keywordflow">if</span> (xsh &amp;&amp; col &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1366</span>        <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(frontIdx, col);</div>
<div class="line"><span class="lineno"> 1367</span>        <span class="keywordflow">if</span> (!cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) fFid = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">getFrameId</a>();</div>
<div class="line"><span class="lineno"> 1368</span>      }</div>
<div class="line"><span class="lineno"> 1369</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1370</span>      fFid = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#abb72e2ab0c1baeda0a8af3146003181d">getFrameId</a>(frontIdx);</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>    <span class="keywordflow">if</span> (!fFid.isEmptyFrame()) fvi = sl-&gt;getFrame(fFid, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1373</span>  }</div>
<div class="line"><span class="lineno"> 1374</span> </div>
<div class="line"><span class="lineno"> 1375</span>  <span class="keywordflow">if</span> (!bvi &amp;&amp; !fvi) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1376</span> </div>
<div class="line"><span class="lineno"> 1377</span>  <span class="keywordtype">int</span> bStrokeCount = bvi ? bvi-&gt;getStrokeCount() : 0;</div>
<div class="line"><span class="lineno"> 1378</span>  <span class="keywordtype">int</span> fStrokeCount = fvi ? fvi-&gt;getStrokeCount() : 0;</div>
<div class="line"><span class="lineno"> 1379</span> </div>
<div class="line"><span class="lineno"> 1380</span>  <span class="keywordflow">if</span> (!bStrokeCount &amp;&amp; !fStrokeCount) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1381</span> </div>
<div class="line"><span class="lineno"> 1382</span>  <span class="keywordtype">int</span> bStrokeIdx = getViewer()-&gt;getGuidedBackStroke() != -1</div>
<div class="line"><span class="lineno"> 1383</span>                       ? getViewer()-&gt;getGuidedBackStroke()</div>
<div class="line"><span class="lineno"> 1384</span>                       : cStrokeCount;</div>
<div class="line"><span class="lineno"> 1385</span>  <span class="keywordtype">int</span> fStrokeIdx = getViewer()-&gt;getGuidedFrontStroke() != -1</div>
<div class="line"><span class="lineno"> 1386</span>                       ? getViewer()-&gt;getGuidedFrontStroke()</div>
<div class="line"><span class="lineno"> 1387</span>                       : cStrokeCount;</div>
<div class="line"><span class="lineno"> 1388</span> </div>
<div class="line"><span class="lineno"> 1389</span>  <span class="keywordflow">if</span> ((bStrokeCount &amp;&amp; bStrokeIdx &gt;= bStrokeCount) ||</div>
<div class="line"><span class="lineno"> 1390</span>      (fStrokeCount &amp;&amp; fStrokeIdx &gt;= fStrokeCount))</div>
<div class="line"><span class="lineno"> 1391</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1392</span> </div>
<div class="line"><span class="lineno"> 1393</span>  <a class="code hl_struct" href="class_t_stroke.html">TStroke</a> *bStroke = bvi ? bvi-&gt;getStroke(bStrokeIdx) : 0;</div>
<div class="line"><span class="lineno"> 1394</span>  <a class="code hl_struct" href="class_t_stroke.html">TStroke</a> *fStroke = fvi ? fvi-&gt;getStroke(fStrokeIdx) : 0;</div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span>  <span class="keywordflow">if</span> (!bStroke &amp;&amp; !fStroke) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="line"><span class="lineno"> 1398</span>  <a class="code hl_class" href="class_t_tool.html">TTool</a> *tool = TTool::getTool(T_Brush, TTool::ToolTargetType::VectorImage);</div>
<div class="line"><span class="lineno"> 1399</span>  <a class="code hl_class" href="class_toonz_vector_brush_tool.html">ToonzVectorBrushTool</a> *vbTool = (<a class="code hl_class" href="class_toonz_vector_brush_tool.html">ToonzVectorBrushTool</a> *)tool;</div>
<div class="line"><span class="lineno"> 1400</span>  <span class="keywordflow">if</span> (vbTool) {</div>
<div class="line"><span class="lineno"> 1401</span>    <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1402</span>    <a class="code hl_variable" href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">m_isLevelCreated</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1403</span>    vbTool-&gt;<a class="code hl_function" href="class_t_tool.html#a668ac4790094a864ba6e37bd902303f1">touchImage</a>();</div>
<div class="line"><span class="lineno"> 1404</span>    vbTool-&gt;setViewer(<a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>);</div>
<div class="line"><span class="lineno"> 1405</span>    TUndoManager::manager()-&gt;beginBlock();</div>
<div class="line"><span class="lineno"> 1406</span>    <span class="keywordflow">if</span> (bStroke)</div>
<div class="line"><span class="lineno"> 1407</span>      vbTool-&gt;doFrameRangeStrokes(</div>
<div class="line"><span class="lineno"> 1408</span>          bFid, bStroke, cFid, cStroke,</div>
<div class="line"><span class="lineno"> 1409</span>          Preferences::instance()-&gt;getGuidedInterpolation(), <span class="keyword">false</span>, <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno"> 1410</span>          <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1411</span>    <span class="keywordflow">if</span> (fStroke)</div>
<div class="line"><span class="lineno"> 1412</span>      vbTool-&gt;doFrameRangeStrokes(</div>
<div class="line"><span class="lineno"> 1413</span>          cFid, cStroke, fFid, fStroke,</div>
<div class="line"><span class="lineno"> 1414</span>          Preferences::instance()-&gt;getGuidedInterpolation(), <span class="keyword">false</span>, <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno"> 1415</span>          <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1416</span>    TUndoManager::manager()-&gt;endBlock();</div>
<div class="line"><span class="lineno"> 1417</span>  }</div>
<div class="line"><span class="lineno"> 1418</span>}</div>
<div class="ttc" id="aclass_stroke_selection_html"><div class="ttname"><a href="class_stroke_selection.html">StrokeSelection</a></div><div class="ttdef"><b>Definition:</b> strokeselection.h:41</div></div>
<div class="ttc" id="aclass_t_tool_html"><div class="ttname"><a href="class_t_tool.html">TTool</a></div><div class="ttdoc">TTool is the abstract base class defining the interface for Toonz tools - the ones accessible from th...</div><div class="ttdef"><b>Definition:</b> tool.h:258</div></div>
<div class="ttc" id="aclass_t_tool_html_a668ac4790094a864ba6e37bd902303f1"><div class="ttname"><a href="class_t_tool.html#a668ac4790094a864ba6e37bd902303f1">TTool::touchImage</a></div><div class="ttdeci">static TImage * touchImage()</div><div class="ttdef"><b>Definition:</b> tool.cpp:294</div></div>
<div class="ttc" id="aclass_t_tool_html_add40ff8dd3dd04ed3ab5a259ed53fb85"><div class="ttname"><a href="class_t_tool.html#add40ff8dd3dd04ed3ab5a259ed53fb85">TTool::getSelection</a></div><div class="ttdeci">virtual TSelection * getSelection()</div><div class="ttdoc">Returns a pointer to the tool selection.</div><div class="ttdef"><b>Definition:</b> tool.h:433</div></div>
<div class="ttc" id="aclass_toonz_vector_brush_tool_html"><div class="ttname"><a href="class_toonz_vector_brush_tool.html">ToonzVectorBrushTool</a></div><div class="ttdef"><b>Definition:</b> toonzvectorbrushtool.h:83</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa58ad223acef4a6afbffb09d2f04ed6" name="aaa58ad223acef4a6afbffb09d2f04ed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa58ad223acef4a6afbffb09d2f04ed6">&#9670;&nbsp;</a></span>tweenSelectedGuideStrokes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::tweenSelectedGuideStrokes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1232</span>                                      {</div>
<div class="line"><span class="lineno"> 1233</span>  <span class="keywordflow">if</span> (!getViewer() || !m_application) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span>  <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl =</div>
<div class="line"><span class="lineno"> 1236</span>      m_application-&gt;getCurrentLevel()-&gt;getLevel()-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno"> 1237</span>  <span class="keywordflow">if</span> (!sl) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1238</span> </div>
<div class="line"><span class="lineno"> 1239</span>  <span class="keywordtype">int</span> backIdx = -1, frontIdx = -1;</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>  getViewer()-&gt;getGuidedFrameIdx(&amp;backIdx, &amp;frontIdx);</div>
<div class="line"><span class="lineno"> 1242</span> </div>
<div class="line"><span class="lineno"> 1243</span>  <span class="keywordflow">if</span> (backIdx == -1 || frontIdx == -1) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span>  <a class="code hl_class" href="class_t_frame_handle.html">TFrameHandle</a> *currentFrame = getApplication()-&gt;getCurrentFrame();</div>
<div class="line"><span class="lineno"> 1246</span>  <span class="keywordtype">int</span> row                    = currentFrame-&gt;getFrameIndex();</div>
<div class="line"><span class="lineno"> 1247</span>  <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> bFid, cFid, fFid;</div>
<div class="line"><span class="lineno"> 1248</span> </div>
<div class="line"><span class="lineno"> 1249</span>  cFid = <a class="code hl_function" href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">getCurrentFid</a>();</div>
<div class="line"><span class="lineno"> 1250</span>  <span class="keywordflow">if</span> (cFid.isEmptyFrame()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1251</span> </div>
<div class="line"><span class="lineno"> 1252</span>  <a class="code hl_class" href="class_t_vector_image_p.html">TVectorImageP</a> cvi = sl-&gt;getFrame(cFid, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1253</span>  <span class="keywordflow">if</span> (!cvi) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1254</span> </div>
<div class="line"><span class="lineno"> 1255</span>  <span class="keywordtype">int</span> cStrokeCount = cvi-&gt;getStrokeCount();</div>
<div class="line"><span class="lineno"> 1256</span> </div>
<div class="line"><span class="lineno"> 1257</span>  <span class="keywordflow">if</span> (currentFrame-&gt;isEditingScene()) {</div>
<div class="line"><span class="lineno"> 1258</span>    <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_application-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 1259</span>    <span class="keywordtype">int</span> col      = m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno"> 1260</span>    <span class="keywordflow">if</span> (xsh &amp;&amp; col &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1261</span>      <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(backIdx, col);</div>
<div class="line"><span class="lineno"> 1262</span>      <span class="keywordflow">if</span> (!cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) bFid = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">getFrameId</a>();</div>
<div class="line"><span class="lineno"> 1263</span>      cell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(frontIdx, col);</div>
<div class="line"><span class="lineno"> 1264</span>      <span class="keywordflow">if</span> (!cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) fFid = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5a1965b96c2c698d6f0fb42a80c03406">getFrameId</a>();</div>
<div class="line"><span class="lineno"> 1265</span>    }</div>
<div class="line"><span class="lineno"> 1266</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1267</span>    bFid = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#abb72e2ab0c1baeda0a8af3146003181d">getFrameId</a>(backIdx);</div>
<div class="line"><span class="lineno"> 1268</span>    fFid = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#abb72e2ab0c1baeda0a8af3146003181d">getFrameId</a>(frontIdx);</div>
<div class="line"><span class="lineno"> 1269</span>  }</div>
<div class="line"><span class="lineno"> 1270</span>  <span class="keywordflow">if</span> (bFid.isEmptyFrame() || fFid.isEmptyFrame()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>  <a class="code hl_class" href="class_t_vector_image_p.html">TVectorImageP</a> bvi = sl-&gt;getFrame(bFid, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1273</span>  <a class="code hl_class" href="class_t_vector_image_p.html">TVectorImageP</a> fvi = sl-&gt;getFrame(fFid, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>  <span class="keywordflow">if</span> (!bvi || !fvi) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>  <span class="keywordtype">int</span> bStrokeCount = bvi-&gt;getStrokeCount();</div>
<div class="line"><span class="lineno"> 1278</span>  <span class="keywordtype">int</span> fStrokeCount = fvi-&gt;getStrokeCount();</div>
<div class="line"><span class="lineno"> 1279</span> </div>
<div class="line"><span class="lineno"> 1280</span>  <span class="keywordflow">if</span> (!bStrokeCount || !fStrokeCount) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1281</span> </div>
<div class="line"><span class="lineno"> 1282</span>  <span class="keywordtype">int</span> bStrokeIdx = getViewer()-&gt;getGuidedBackStroke() != -1</div>
<div class="line"><span class="lineno"> 1283</span>                       ? getViewer()-&gt;getGuidedBackStroke()</div>
<div class="line"><span class="lineno"> 1284</span>                       : cStrokeCount;</div>
<div class="line"><span class="lineno"> 1285</span>  <span class="keywordtype">int</span> fStrokeIdx = getViewer()-&gt;getGuidedFrontStroke() != -1</div>
<div class="line"><span class="lineno"> 1286</span>                       ? getViewer()-&gt;getGuidedFrontStroke()</div>
<div class="line"><span class="lineno"> 1287</span>                       : cStrokeCount;</div>
<div class="line"><span class="lineno"> 1288</span> </div>
<div class="line"><span class="lineno"> 1289</span>  <span class="keywordflow">if</span> (bStrokeIdx &gt;= bStrokeCount || fStrokeIdx &gt;= fStrokeCount) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1290</span> </div>
<div class="line"><span class="lineno"> 1291</span>  <a class="code hl_struct" href="class_t_stroke.html">TStroke</a> *bStroke = bvi-&gt;getStroke(bStrokeIdx);</div>
<div class="line"><span class="lineno"> 1292</span>  <a class="code hl_struct" href="class_t_stroke.html">TStroke</a> *fStroke = fvi-&gt;getStroke(fStrokeIdx);</div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span>  <span class="keywordflow">if</span> (!bStroke || !fStroke) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1295</span> </div>
<div class="line"><span class="lineno"> 1296</span>  <a class="code hl_class" href="class_t_tool.html">TTool</a> *tool = TTool::getTool(T_Brush, TTool::ToolTargetType::VectorImage);</div>
<div class="line"><span class="lineno"> 1297</span>  <a class="code hl_class" href="class_toonz_vector_brush_tool.html">ToonzVectorBrushTool</a> *vbTool = (<a class="code hl_class" href="class_toonz_vector_brush_tool.html">ToonzVectorBrushTool</a> *)tool;</div>
<div class="line"><span class="lineno"> 1298</span>  <span class="keywordflow">if</span> (vbTool) {</div>
<div class="line"><span class="lineno"> 1299</span>    <a class="code hl_variable" href="class_t_tool.html#aabd06af7335f1ba0c96f36f1ac3e9976">m_isFrameCreated</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1300</span>    <a class="code hl_variable" href="class_t_tool.html#afec1db61477579b224321fd469e4ec00">m_isLevelCreated</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1301</span>    vbTool-&gt;<a class="code hl_function" href="class_t_tool.html#a668ac4790094a864ba6e37bd902303f1">touchImage</a>();</div>
<div class="line"><span class="lineno"> 1302</span>    vbTool-&gt;setViewer(<a class="code hl_variable" href="class_t_tool.html#a66f61f998b655c1c917ee63a595657c6">m_viewer</a>);</div>
<div class="line"><span class="lineno"> 1303</span>    vbTool-&gt;doFrameRangeStrokes(</div>
<div class="line"><span class="lineno"> 1304</span>        bFid, bStroke, fFid, fStroke,</div>
<div class="line"><span class="lineno"> 1305</span>        Preferences::instance()-&gt;getGuidedInterpolation(), <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno"> 1306</span>        <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1307</span>  }</div>
<div class="line"><span class="lineno"> 1308</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3638517d39dffe6abec0a4e1bcf990d3" name="a3638517d39dffe6abec0a4e1bcf990d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3638517d39dffe6abec0a4e1bcf990d3">&#9670;&nbsp;</a></span>updateEnabled() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString TTool::updateEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Sets the tool's <em>enability</em> and returns a reason in case the tool was disabled. </p>
<div class="fragment"><div class="line"><span class="lineno">  828</span>                             {</div>
<div class="line"><span class="lineno">  829</span>  <span class="keywordtype">int</span> rowIndex    = m_application-&gt;getCurrentFrame()-&gt;getFrame();</div>
<div class="line"><span class="lineno">  830</span>  <span class="keywordtype">int</span> columnIndex = m_application-&gt;getCurrentColumn()-&gt;getColumnIndex();</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="class_t_tool.html#a3638517d39dffe6abec0a4e1bcf990d3">updateEnabled</a>(rowIndex, columnIndex);</div>
<div class="line"><span class="lineno">  833</span>}</div>
<div class="ttc" id="aclass_t_tool_html_a3638517d39dffe6abec0a4e1bcf990d3"><div class="ttname"><a href="class_t_tool.html#a3638517d39dffe6abec0a4e1bcf990d3">TTool::updateEnabled</a></div><div class="ttdeci">QString updateEnabled()</div><div class="ttdef"><b>Definition:</b> tool.cpp:828</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00828">updateEnabled()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l03234">SceneViewer::invalidateToolStatus()</a>, <a class="el" href="#l00828">updateEnabled()</a>, and <a class="el" href="#l00092">Toolbar::updateToolbar()</a>.</p>

</div>
</div>
<a id="ad29f43b1ac4db60a46397e1c8263bc4d" name="ad29f43b1ac4db60a46397e1c8263bc4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad29f43b1ac4db60a46397e1c8263bc4d">&#9670;&nbsp;</a></span>updateEnabled() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString TTool::updateEnabled </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rowIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>columnIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  836</span>                                                          {</div>
<div class="line"><span class="lineno">  837</span>  <span class="comment">// Disable every tool during playback</span></div>
<div class="line"><span class="lineno">  838</span>  <span class="keywordflow">if</span> (m_application-&gt;getCurrentFrame()-&gt;isPlaying())</div>
<div class="line"><span class="lineno">  839</span>    <span class="keywordflow">return</span> (enable(<span class="keyword">false</span>), QString());</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>  <span class="comment">// Release Generic tools at once</span></div>
<div class="line"><span class="lineno">  842</span>  <span class="keywordtype">int</span> toolType   = getToolType();</div>
<div class="line"><span class="lineno">  843</span>  <span class="keywordtype">int</span> targetType = getTargetType();</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>  <span class="keywordflow">if</span> (toolType == <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296caa8f6293eab5817f82f74f031c0724f28">TTool::GenericTool</a>) <span class="keywordflow">return</span> (enable(<span class="keyword">true</span>), QString());</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>  <span class="comment">// Retrieve vars and view modes</span></div>
<div class="line"><span class="lineno">  848</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_application-&gt;getCurrentXsheet()-&gt;getXsheet();</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>  <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = (columnIndex &gt;= 0) ? xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(columnIndex) : 0;</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>  <a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *xl       = m_application-&gt;getCurrentLevel()-&gt;getLevel();</div>
<div class="line"><span class="lineno">  853</span>  <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = xl ? xl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">getSimpleLevel</a>() : 0;</div>
<div class="line"><span class="lineno">  854</span>  <span class="keywordtype">int</span> levelType       = sl ? sl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() : NO_XSHLEVEL;</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>  <span class="comment">// If not in Level editor, let&#39;s use our current cell from the xsheet to</span></div>
<div class="line"><span class="lineno">  857</span>  <span class="comment">// find the nearest level before it</span></div>
<div class="line"><span class="lineno">  858</span>  <span class="keywordflow">if</span> (levelType == NO_XSHLEVEL &amp;&amp;</div>
<div class="line"><span class="lineno">  859</span>      !m_application-&gt;getCurrentFrame()-&gt;isEditingLevel()) {</div>
<div class="line"><span class="lineno">  860</span>    <span class="keywordflow">if</span> (!column || (column &amp;&amp; !column-&gt;getSoundColumn())) {</div>
<div class="line"><span class="lineno">  861</span>      <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(rowIndex, columnIndex);</div>
<div class="line"><span class="lineno">  862</span>      xl            = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>() ? 0 : (<a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *)(&amp;cell.m_level);</div>
<div class="line"><span class="lineno">  863</span>      sl            = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>() ? 0 : cell.<a class="code hl_function" href="class_t_xsh_cell.html#a8898cc47eba24e59477bfba8e2511f1d">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  864</span>      levelType     = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>() ? NO_XSHLEVEL : cell.m_level-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>();</div>
<div class="line"><span class="lineno">  865</span>    }</div>
<div class="line"><span class="lineno">  866</span>  }</div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>  <span class="keywordflow">if</span> (Preferences::instance()-&gt;isAutoCreateEnabled()) {</div>
<div class="line"><span class="lineno">  869</span>    <span class="comment">// If not in Level editor, let&#39;s use our current cell from the xsheet to</span></div>
<div class="line"><span class="lineno">  870</span>    <span class="comment">// find the nearest level before it</span></div>
<div class="line"><span class="lineno">  871</span>    <span class="keywordflow">if</span> (levelType == NO_XSHLEVEL &amp;&amp;</div>
<div class="line"><span class="lineno">  872</span>        !m_application-&gt;getCurrentFrame()-&gt;isEditingLevel()) {</div>
<div class="line"><span class="lineno">  873</span>      <span class="keywordflow">if</span> (!column || (column &amp;&amp; !column-&gt;getSoundColumn())) {</div>
<div class="line"><span class="lineno">  874</span>        <span class="keywordtype">int</span> r0, r1;</div>
<div class="line"><span class="lineno">  875</span>        xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a26850469fb0f2886b717479050c32be2">getCellRange</a>(columnIndex, r0, r1);</div>
<div class="line"><span class="lineno">  876</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = std::min(r1, rowIndex); r &gt; r0; r--) {</div>
<div class="line"><span class="lineno">  877</span>          <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(r, columnIndex);</div>
<div class="line"><span class="lineno">  878</span>          <span class="keywordflow">if</span> (cell.<a class="code hl_function" href="class_t_xsh_cell.html#a5d20229e7bcd19957b123959e58a833e">isEmpty</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  879</span>          xl        = (<a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *)(&amp;cell.m_level);</div>
<div class="line"><span class="lineno">  880</span>          sl        = cell.<a class="code hl_function" href="class_t_xsh_cell.html#a8898cc47eba24e59477bfba8e2511f1d">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno">  881</span>          levelType = cell.m_level-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>();</div>
<div class="line"><span class="lineno">  882</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  883</span>        }</div>
<div class="line"><span class="lineno">  884</span>      }</div>
<div class="line"><span class="lineno">  885</span>    }</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>    <span class="comment">// If the current tool does not match the current type, check for</span></div>
<div class="line"><span class="lineno">  888</span>    <span class="comment">// a version of the same tool that does</span></div>
<div class="line"><span class="lineno">  889</span>    {</div>
<div class="line"><span class="lineno">  890</span>      <a class="code hl_class" href="class_t_tool.html">TTool</a> *tool = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>      <span class="keywordflow">if</span> ((levelType == PLI_XSHLEVEL) &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a>))</div>
<div class="line"><span class="lineno">  893</span>        tool = TTool::getTool(<a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a>, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a>);</div>
<div class="line"><span class="lineno">  894</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((levelType == TZP_XSHLEVEL) &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">ToonzImage</a>))</div>
<div class="line"><span class="lineno">  895</span>        tool = TTool::getTool(<a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a>, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">ToonzImage</a>);</div>
<div class="line"><span class="lineno">  896</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((levelType == OVL_XSHLEVEL) &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">RasterImage</a>))</div>
<div class="line"><span class="lineno">  897</span>        tool = TTool::getTool(<a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a>, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">RasterImage</a>);</div>
<div class="line"><span class="lineno">  898</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((levelType == MESH_XSHLEVEL) &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a>))</div>
<div class="line"><span class="lineno">  899</span>        tool = TTool::getTool(<a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a>, <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a>);</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>      <span class="keywordflow">if</span> (tool &amp;&amp; tool != <span class="keyword">this</span> &amp;&amp; tool-&gt;getTargetType() != TTool::NoTarget)</div>
<div class="line"><span class="lineno">  902</span>        <span class="keywordflow">return</span> tool-&gt;<a class="code hl_function" href="class_t_tool.html#a3638517d39dffe6abec0a4e1bcf990d3">updateEnabled</a>();</div>
<div class="line"><span class="lineno">  903</span>    }</div>
<div class="line"><span class="lineno">  904</span>  }</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>  <span class="keywordtype">bool</span> spline = m_application-&gt;getCurrentObject()-&gt;isSpline();</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span>  <span class="keywordtype">bool</span> filmstrip = m_application-&gt;getCurrentFrame()-&gt;isEditingLevel();</div>
<div class="line"><span class="lineno">  909</span> </div>
<div class="line"><span class="lineno">  910</span>  <span class="comment">/*-- MultiLayerStylePickerON --*/</span></div>
<div class="line"><span class="lineno">  911</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a> == T_StylePicker &amp;&amp;</div>
<div class="line"><span class="lineno">  912</span>      Preferences::instance()-&gt;isMultiLayerStylePickerEnabled())</div>
<div class="line"><span class="lineno">  913</span>    <span class="keywordflow">return</span> (enable(<span class="keyword">true</span>), QString());</div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>  <span class="comment">// Check against camera column</span></div>
<div class="line"><span class="lineno">  916</span>  <span class="keywordflow">if</span> (!filmstrip &amp;&amp; columnIndex &lt; 0 &amp;&amp; (targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c576a0d6f800899d7be1cfaceef4d12">TTool::EmptyTarget</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  917</span>      (<a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a> == T_Type || <a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a> == T_Geometric || <a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a> == T_Brush))</div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">return</span> (enable(<span class="keyword">false</span>), QString());</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>  <span class="keywordtype">bool</span> isZeraryCol =</div>
<div class="line"><span class="lineno">  921</span>      column ? (column-&gt;getZeraryFxColumn() ? true : <span class="keyword">false</span>) : <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  922</span>  <span class="keywordtype">bool</span> isPaletteCol =</div>
<div class="line"><span class="lineno">  923</span>      column ? (column-&gt;getPaletteColumn() ? true : <span class="keyword">false</span>) : <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  924</span>  <span class="keywordtype">bool</span> isMeshCol = column ? (column-&gt;getMeshColumn() ? true : <span class="keyword">false</span>) : <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>  <span class="comment">// Check against splines</span></div>
<div class="line"><span class="lineno">  927</span>  <span class="keywordflow">if</span> (spline &amp;&amp; (toolType &amp; TTool::LevelTool)) {</div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordflow">return</span> (targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a71d3697cafb025fea3effa714e397980">Splines</a>)</div>
<div class="line"><span class="lineno">  929</span>               ? (enable(<span class="keyword">true</span>), QString())</div>
<div class="line"><span class="lineno">  930</span>               : (enable(<span class="keyword">false</span>), QObject::tr(<span class="stringliteral">&quot;The current tool cannot be &quot;</span></div>
<div class="line"><span class="lineno">  931</span>                                             <span class="stringliteral">&quot;used to edit a motion path.&quot;</span>));</div>
<div class="line"><span class="lineno">  932</span>  }</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span>  <span class="comment">// Check against unplaced columns (not in filmstrip mode)</span></div>
<div class="line"><span class="lineno">  935</span>  <span class="keywordflow">if</span> (column &amp;&amp; !filmstrip) {</div>
<div class="line"><span class="lineno">  936</span>    <span class="keywordflow">if</span> (column-&gt;isLocked() &amp;&amp; <a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a> != T_Selection)</div>
<div class="line"><span class="lineno">  937</span>      <span class="keywordflow">return</span> (enable(<span class="keyword">false</span>), QObject::tr(<span class="stringliteral">&quot;The current column is locked.&quot;</span>));</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!column-&gt;isCamstandVisible())</div>
<div class="line"><span class="lineno">  940</span>      <span class="keywordflow">return</span> (enable(<span class="keyword">false</span>), QObject::tr(<span class="stringliteral">&quot;The current column is hidden.&quot;</span>));</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (column-&gt;getSoundColumn())</div>
<div class="line"><span class="lineno">  943</span>      <span class="keywordflow">return</span> (enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  944</span>              QObject::tr(<span class="stringliteral">&quot;It is not possible to edit the audio column.&quot;</span>));</div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (column-&gt;getSoundTextColumn())</div>
<div class="line"><span class="lineno">  947</span>      <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">  948</span>          enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  949</span>          QObject::tr(</div>
<div class="line"><span class="lineno">  950</span>              <span class="stringliteral">&quot;Note columns can only be edited in the xsheet or timeline.&quot;</span>));</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>    <span class="keywordflow">if</span> (toolType == <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296cab1cf4660322ca2d4e5a4848bdbc049a9">TTool::ColumnTool</a>) {</div>
<div class="line"><span class="lineno">  953</span>      <span class="comment">// Check column target</span></div>
<div class="line"><span class="lineno">  954</span>      <span class="keywordflow">if</span> (column-&gt;getLevelColumn() &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4aa6443a8b4b8f50c7415bee045a27a309">LevelColumns</a>))</div>
<div class="line"><span class="lineno">  955</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">  956</span>            enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  957</span>            QObject::tr(<span class="stringliteral">&quot;The current tool cannot be used on a Level column.&quot;</span>));</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>      <span class="keywordflow">if</span> (column-&gt;getMeshColumn() &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a269e5d6d3f79dd14ab7aa2e3192eeaf1">MeshColumns</a>))</div>
<div class="line"><span class="lineno">  960</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">  961</span>            enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  962</span>            QObject::tr(<span class="stringliteral">&quot;The current tool cannot be used on a Mesh column.&quot;</span>));</div>
<div class="line"><span class="lineno">  963</span>    }</div>
<div class="line"><span class="lineno">  964</span>  }</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>  <span class="comment">// Check column tools</span></div>
<div class="line"><span class="lineno">  967</span>  <span class="keywordflow">if</span> (toolType == <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296cab1cf4660322ca2d4e5a4848bdbc049a9">TTool::ColumnTool</a>) {</div>
<div class="line"><span class="lineno">  968</span>    <span class="keywordflow">if</span> (filmstrip)</div>
<div class="line"><span class="lineno">  969</span>      <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">  970</span>          enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  971</span>          QObject::tr(<span class="stringliteral">&quot;The current tool cannot be used in Level Strip mode.&quot;</span>));</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>    <span class="keywordflow">if</span> ((!column || column-&gt;isEmpty()) &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c576a0d6f800899d7be1cfaceef4d12">TTool::EmptyTarget</a>))</div>
<div class="line"><span class="lineno">  974</span>      <span class="keywordflow">return</span> (enable(<span class="keyword">false</span>), QString());</div>
<div class="line"><span class="lineno">  975</span>  }</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>  <span class="comment">// Check LevelRead &amp; LevelWrite tools</span></div>
<div class="line"><span class="lineno">  978</span>  <span class="keywordflow">if</span> (toolType &amp; TTool::LevelTool) {</div>
<div class="line"><span class="lineno">  979</span>    <span class="comment">// Check against empty levels</span></div>
<div class="line"><span class="lineno">  980</span>    <span class="keywordflow">if</span> (!xl)</div>
<div class="line"><span class="lineno">  981</span>      <span class="keywordflow">return</span> ((targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c576a0d6f800899d7be1cfaceef4d12">EmptyTarget</a>) &amp;&amp; !isZeraryCol &amp;&amp; !isPaletteCol &amp;&amp;</div>
<div class="line"><span class="lineno">  982</span>              !isMeshCol)</div>
<div class="line"><span class="lineno">  983</span>                 ? (enable(<span class="keyword">true</span>), QString())</div>
<div class="line"><span class="lineno">  984</span>                 : (enable(<span class="keyword">false</span>), QString());</div>
<div class="line"><span class="lineno">  985</span> </div>
<div class="line"><span class="lineno">  986</span>    <span class="comment">// Check against simple-level-edness</span></div>
<div class="line"><span class="lineno">  987</span>    <span class="keywordflow">if</span> (!sl)</div>
<div class="line"><span class="lineno">  988</span>      <span class="keywordflow">return</span> (enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  989</span>              QObject::tr(<span class="stringliteral">&quot;The current level is not editable.&quot;</span>));  <span class="comment">// Does it</span></div>
<div class="line"><span class="lineno">  990</span>                                                                   <span class="comment">// happen at</span></div>
<div class="line"><span class="lineno">  991</span>                                                                   <span class="comment">// all btw?</span></div>
<div class="line"><span class="lineno">  992</span> </div>
<div class="line"><span class="lineno">  993</span>    <span class="comment">// Check against level types</span></div>
<div class="line"><span class="lineno">  994</span>    {</div>
<div class="line"><span class="lineno">  995</span>      <span class="keywordflow">if</span> ((levelType == PLI_XSHLEVEL) &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a6528d353c20fcbe8932de09845117046">VectorImage</a>))</div>
<div class="line"><span class="lineno">  996</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">  997</span>            enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">  998</span>            QObject::tr(<span class="stringliteral">&quot;The current tool cannot be used on a Vector Level.&quot;</span>));</div>
<div class="line"><span class="lineno">  999</span> </div>
<div class="line"><span class="lineno"> 1000</span>      <span class="keywordflow">if</span> ((levelType == TZP_XSHLEVEL) &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a68b7e2c2f25d134cb0debc4548d23ce1">ToonzImage</a>))</div>
<div class="line"><span class="lineno"> 1001</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno"> 1002</span>            enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno"> 1003</span>            QObject::tr(<span class="stringliteral">&quot;The current tool cannot be used on a Toonz Level.&quot;</span>));</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>      <span class="keywordflow">if</span> ((levelType == OVL_XSHLEVEL) &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a89c2e7968afae376f0be7abeff061859">RasterImage</a>))</div>
<div class="line"><span class="lineno"> 1006</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno"> 1007</span>            enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno"> 1008</span>            QObject::tr(<span class="stringliteral">&quot;The current tool cannot be used on a Raster Level.&quot;</span>));</div>
<div class="line"><span class="lineno"> 1009</span> </div>
<div class="line"><span class="lineno"> 1010</span>      <span class="keywordflow">if</span> ((levelType == MESH_XSHLEVEL) &amp;&amp; !(targetType &amp; <a class="code hl_enumvalue" href="class_t_tool.html#adf0ea3a7f9d003f761fe57638dd6eff4a2c7eda2f062c0790a4ac7dc4acfc7232">MeshImage</a>))</div>
<div class="line"><span class="lineno"> 1011</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno"> 1012</span>            enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno"> 1013</span>            QObject::tr(<span class="stringliteral">&quot;The current tool cannot be used on a Mesh Level.&quot;</span>));</div>
<div class="line"><span class="lineno"> 1014</span>    }</div>
<div class="line"><span class="lineno"> 1015</span> </div>
<div class="line"><span class="lineno"> 1016</span>    <span class="comment">// Check against impossibly traceable movements on the column</span></div>
<div class="line"><span class="lineno"> 1017</span>    <span class="keywordflow">if</span> ((levelType &amp; LEVELCOLUMN_XSHLEVEL) &amp;&amp; !filmstrip &amp;&amp; columnIndex &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1018</span>      <a class="code hl_class" href="class_t_stage_object.html">TStageObject</a> *obj =</div>
<div class="line"><span class="lineno"> 1019</span>          xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">getStageObject</a>(TStageObjectId::ColumnId(columnIndex));</div>
<div class="line"><span class="lineno"> 1020</span>      <span class="comment">// Test for Mesh-deformed levels</span></div>
<div class="line"><span class="lineno"> 1021</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> &amp;parentId = obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#afb4724a8cc2ef7eb2c6c7585834210f2">getParent</a>();</div>
<div class="line"><span class="lineno"> 1022</span>      <span class="keywordflow">if</span> (parentId.<a class="code hl_function" href="class_t_stage_object_id.html#af6d13fcf31e7e10eef28f085855f469c">isColumn</a>() &amp;&amp; obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a6025ddfaaae4ebe384894230d69f0b46">getParentHandle</a>()[0] != <span class="charliteral">&#39;H&#39;</span>) {</div>
<div class="line"><span class="lineno"> 1023</span>        <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *parentSl =</div>
<div class="line"><span class="lineno"> 1024</span>            xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(rowIndex, parentId.getIndex()).getSimpleLevel();</div>
<div class="line"><span class="lineno"> 1025</span>        <span class="keywordflow">if</span> (parentSl &amp;&amp; parentSl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == MESH_XSHLEVEL &amp;&amp;</div>
<div class="line"><span class="lineno"> 1026</span>            <a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a> != T_Selection)</div>
<div class="line"><span class="lineno"> 1027</span>          <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno"> 1028</span>              enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno"> 1029</span>              QObject::tr(</div>
<div class="line"><span class="lineno"> 1030</span>                  <span class="stringliteral">&quot;The current tool cannot be used on a mesh-deformed level&quot;</span>));</div>
<div class="line"><span class="lineno"> 1031</span>      }</div>
<div class="line"><span class="lineno"> 1032</span>    }</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>    <span class="comment">// Check TTool::ImageType tools</span></div>
<div class="line"><span class="lineno"> 1035</span>    <span class="keywordflow">if</span> (toolType == <a class="code hl_enumvalue" href="class_t_tool.html#a391f099e6530ea54c71d81c9ee39296ca01ffd66b00b05a88c02ce8ceb5da3b8b">TTool::LevelWriteTool</a> &amp;&amp; <a class="code hl_variable" href="class_t_tool.html#ac92abce57c7c53b5b29847144c571fb1">m_name</a> != T_Selection) {</div>
<div class="line"><span class="lineno"> 1036</span>      <span class="comment">// Check level against read-only status</span></div>
<div class="line"><span class="lineno"> 1037</span>      <span class="keywordflow">if</span> (sl-&gt;isFrameReadOnly(<a class="code hl_function" href="class_t_tool.html#ae7db6c4288b721fd95f283419883a4b2">getCurrentFid</a>()))</div>
<div class="line"><span class="lineno"> 1038</span>        <span class="keywordflow">return</span> (enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno"> 1039</span>                QObject::tr(</div>
<div class="line"><span class="lineno"> 1040</span>                    <span class="stringliteral">&quot;The current frame is locked: any editing is forbidden.&quot;</span>));</div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span>      <span class="comment">// Check level type write support</span></div>
<div class="line"><span class="lineno"> 1043</span>      <span class="keywordflow">if</span> (sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a668293d53a70cca8811db28d87011c55">getPath</a>().<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() ==</div>
<div class="line"><span class="lineno"> 1044</span>              <span class="stringliteral">&quot;psd&quot;</span> ||  <span class="comment">// We don&#39;t have the API to write psd files</span></div>
<div class="line"><span class="lineno"> 1045</span>          sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a668293d53a70cca8811db28d87011c55">getPath</a>().<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;gif&quot;</span> ||</div>
<div class="line"><span class="lineno"> 1046</span>          sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a668293d53a70cca8811db28d87011c55">getPath</a>().<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;mp4&quot;</span> ||</div>
<div class="line"><span class="lineno"> 1047</span>          sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a668293d53a70cca8811db28d87011c55">getPath</a>().<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;webm&quot;</span> ||</div>
<div class="line"><span class="lineno"> 1048</span>          sl-&gt;is16BitChannelLevel() ||  <span class="comment">// Inherited by previous</span></div>
<div class="line"><span class="lineno"> 1049</span>                                        <span class="comment">// implementation.</span></div>
<div class="line"><span class="lineno"> 1050</span>                                        <span class="comment">// Could be fixed?</span></div>
<div class="line"><span class="lineno"> 1051</span>          sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a88741317c54640d3b509f32a7c0fdf84">getBpp</a>() ==</div>
<div class="line"><span class="lineno"> 1052</span>              1)  <span class="comment">// Black &amp; White images. Again, could be fixed?</span></div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>        <span class="keywordflow">return</span> (enable(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno"> 1055</span>                QObject::tr(<span class="stringliteral">&quot;The current level is not editable.&quot;</span>));</div>
<div class="line"><span class="lineno"> 1056</span>    }</div>
<div class="line"><span class="lineno"> 1057</span>  }</div>
<div class="line"><span class="lineno"> 1058</span> </div>
<div class="line"><span class="lineno"> 1059</span>  <span class="keywordflow">return</span> (enable(<span class="keyword">true</span>), QString());</div>
<div class="line"><span class="lineno"> 1060</span>}</div>
<div class="ttc" id="aclass_level_properties_html_a88741317c54640d3b509f32a7c0fdf84"><div class="ttname"><a href="class_level_properties.html#a88741317c54640d3b509f32a7c0fdf84">LevelProperties::getBpp</a></div><div class="ttdeci">int getBpp() const</div><div class="ttdoc">Returns the level's known bits-per-pixel.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:114</div></div>
<div class="ttc" id="aclass_t_file_path_html_aefca624df1a5468a4c78ec6d5dbfae26"><div class="ttname"><a href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">TFilePath::getType</a></div><div class="ttdeci">std::string getType() const</div><div class="ttdef"><b>Definition:</b> tfilepath.h:225</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a6025ddfaaae4ebe384894230d69f0b46"><div class="ttname"><a href="class_t_stage_object.html#a6025ddfaaae4ebe384894230d69f0b46">TStageObject::getParentHandle</a></div><div class="ttdeci">const std::string &amp; getParentHandle() const</div><div class="ttdef"><b>Definition:</b> tstageobject.h:277</div></div>
<div class="ttc" id="aclass_t_stage_object_html_afb4724a8cc2ef7eb2c6c7585834210f2"><div class="ttname"><a href="class_t_stage_object.html#afb4724a8cc2ef7eb2c6c7585834210f2">TStageObject::getParent</a></div><div class="ttdeci">TStageObjectId getParent() const</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:632</div></div>
<div class="ttc" id="aclass_t_stage_object_id_html_af6d13fcf31e7e10eef28f085855f469c"><div class="ttname"><a href="class_t_stage_object_id.html#af6d13fcf31e7e10eef28f085855f469c">TStageObjectId::isColumn</a></div><div class="ttdeci">bool isColumn() const</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:180</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a1a147f1e970a62120c0bbaf0020a8932"><div class="ttname"><a href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">TXshLevel::getType</a></div><div class="ttdeci">int getType() const</div><div class="ttdef"><b>Definition:</b> txshlevel.h:81</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a668293d53a70cca8811db28d87011c55"><div class="ttname"><a href="class_t_xsh_simple_level.html#a668293d53a70cca8811db28d87011c55">TXshSimpleLevel::getPath</a></div><div class="ttdeci">TFilePath getPath() const override</div><div class="ttdoc">Return the file path associated with the level.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:120</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_ad412dd5c3a6ae3ff20a480dc728b26d2"><div class="ttname"><a href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">TXshSimpleLevel::getProperties</a></div><div class="ttdeci">LevelProperties * getProperties() const</div><div class="ttdoc">&lt; Returns a pointer to the owned level properties.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:109</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a5f380464a6b36947212e2f8d5b314c" name="a1a5f380464a6b36947212e2f8d5b314c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a5f380464a6b36947212e2f8d5b314c">&#9670;&nbsp;</a></span>updateMatrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::updateMatrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Updates the current matrix transformation with the actual column matrix transformation. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_t_tool.html#a73c1b7f13eaea33e1d305636f44c4a64">getCurrentColumnMatrix()</a>. </dd></dl>

<p>Reimplemented in <a class="el" href="class_edit_tool.html#afd852a706783ccf324c899f613764cd0">EditTool</a>, <a class="el" href="class_hook_tool.html#ab13e00509be85e6ab57c8acaf51f3606">HookTool</a>, <a class="el" href="class_skeleton_tool.html#ae13ff691474b99b7720df4fee38d893c">SkeletonTool</a>, and <a class="el" href="class_rotate_tool.html#adb19b97fe1040caabdec28c0a7dbb834">RotateTool</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  801</span>                         {</div>
<div class="line"><span class="lineno">  802</span>  assert(m_application);</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>  <span class="keywordflow">if</span> (m_application-&gt;getCurrentObject()-&gt;isSpline())</div>
<div class="line"><span class="lineno">  805</span>    setMatrix(getCurrentObjectParentMatrix2());</div>
<div class="line"><span class="lineno">  806</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  807</span>    setMatrix(<a class="code hl_function" href="class_t_tool.html#a73c1b7f13eaea33e1d305636f44c4a64">getCurrentColumnMatrix</a>());</div>
<div class="line"><span class="lineno">  808</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00706">getCurrentColumnMatrix()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l03234">SceneViewer::invalidateToolStatus()</a>, and <a class="el" href="#l00152">HookTool::updateMatrix()</a>.</p>

</div>
</div>
<a id="a6cb0478607efdb92f5247cce35259188" name="a6cb0478607efdb92f5247cce35259188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb0478607efdb92f5247cce35259188">&#9670;&nbsp;</a></span>updateToolsPropertiesTranslation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TTool::updateToolsPropertiesTranslation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >This function is necessary since tools are created before the main application (TAB or Toonz) starts, and hence tr() calls have no effect (the translation is not yet installed - to install one you need at least an instance of QApplication / QCoreApplication).</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000009">Deprecated:</a></b></dt><dd>This so much stinks of a bug turned into design choice... </dd></dl>
<p>Updates translation of the bound properties of </p>
<div class="fragment"><div class="line"><span class="lineno">  532</span>                                             {</div>
<div class="line"><span class="lineno">  533</span>  ToolTable::iterator tt, tEnd(toolTable-&gt;end());</div>
<div class="line"><span class="lineno">  534</span>  <span class="keywordflow">for</span> (tt = toolTable-&gt;begin(); tt != tEnd; ++tt)</div>
<div class="line"><span class="lineno">  535</span>    tt-&gt;second-&gt;updateTranslation();</div>
<div class="line"><span class="lineno">  536</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a902a844478056fa8ace11d75b05fb6a5" name="a902a844478056fa8ace11d75b05fb6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a902a844478056fa8ace11d75b05fb6a5">&#9670;&nbsp;</a></span>updateTranslation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TTool::updateTranslation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  377</span>{};</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aefd7997f3dc0226dc8ac8fcbd116f02d" name="aefd7997f3dc0226dc8ac8fcbd116f02d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefd7997f3dc0226dc8ac8fcbd116f02d">&#9670;&nbsp;</a></span>m_active</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TTool::m_active</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a580defbdf43efe0a228d647900d03a60" name="a580defbdf43efe0a228d647900d03a60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a580defbdf43efe0a228d647900d03a60">&#9670;&nbsp;</a></span>m_application</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_application.html">TTool::Application</a> * TTool::m_application = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9345d88f41578058ccb2d6e681591c09" name="a9345d88f41578058ccb2d6e681591c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9345d88f41578058ccb2d6e681591c09">&#9670;&nbsp;</a></span>m_cellsData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="struct_t_tool_1_1_cell_ops.html">TTool::CellOps</a> &gt; TTool::m_cellsData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000010">Deprecated:</a></b></dt><dd>brutto brutto. fix quick &amp; dirty del baco #6213 (undo </dd></dl>

<p class="reference">Referenced by <a class="el" href="#l00294">touchImage()</a>.</p>

</div>
</div>
<a id="a3552ce52afc39fffcab0492daf72ed16" name="a3552ce52afc39fffcab0492daf72ed16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3552ce52afc39fffcab0492daf72ed16">&#9670;&nbsp;</a></span>m_enabled</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TTool::m_enabled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether the tool allows user interaction. </p>

</div>
</div>
<a id="aabd06af7335f1ba0c96f36f1ac3e9976" name="aabd06af7335f1ba0c96f36f1ac3e9976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabd06af7335f1ba0c96f36f1ac3e9976">&#9670;&nbsp;</a></span>m_isFrameCreated</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TTool::m_isFrameCreated = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000012">Deprecated:</a></b></dt><dd>Shouldn't expose global static variables. </dd></dl>

<p class="reference">Referenced by <a class="el" href="#l01569">ToonzRasterBrushTool::finishRasterBrush()</a>, <a class="el" href="#l00290">FullColorBrushTool::preLeftButtonDown()</a>, <a class="el" href="#l01226">ToonzRasterBrushTool::preLeftButtonDown()</a>, <a class="el" href="#l00655">ToonzVectorBrushTool::preLeftButtonDown()</a>, and <a class="el" href="#l00294">touchImage()</a>.</p>

</div>
</div>
<a id="afec1db61477579b224321fd469e4ec00" name="afec1db61477579b224321fd469e4ec00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afec1db61477579b224321fd469e4ec00">&#9670;&nbsp;</a></span>m_isLevelCreated</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TTool::m_isLevelCreated = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >con animation sheet) spiegazioni in <a class="el" href="">tool.cpp</a> </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000011">Deprecated:</a></b></dt><dd>Shouldn't expose global static variables. </dd></dl>

<p class="reference">Referenced by <a class="el" href="#l01569">ToonzRasterBrushTool::finishRasterBrush()</a>, and <a class="el" href="#l00294">touchImage()</a>.</p>

</div>
</div>
<a id="a5352244b885e57127a018982f4944c89" name="a5352244b885e57127a018982f4944c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5352244b885e57127a018982f4944c89">&#9670;&nbsp;</a></span>m_isLevelRenumbererd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TTool::m_isLevelRenumbererd = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3bf7058680c3aef9a5584a7f71351757" name="a3bf7058680c3aef9a5584a7f71351757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf7058680c3aef9a5584a7f71351757">&#9670;&nbsp;</a></span>m_matrix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_affine.html">TAffine</a> TTool::m_matrix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>World-to-window reference change affine. </p>

</div>
</div>
<a id="ac92abce57c7c53b5b29847144c571fb1" name="ac92abce57c7c53b5b29847144c571fb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92abce57c7c53b5b29847144c571fb1">&#9670;&nbsp;</a></span>m_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string TTool::m_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The tool's name. </p>

</div>
</div>
<a id="aac560f501994828462e15fd54d05ed68" name="aac560f501994828462e15fd54d05ed68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac560f501994828462e15fd54d05ed68">&#9670;&nbsp;</a></span>m_newFids</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; TTool::m_newFids</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a89974c7589cad70945bfec7f4c1f1906" name="a89974c7589cad70945bfec7f4c1f1906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89974c7589cad70945bfec7f4c1f1906">&#9670;&nbsp;</a></span>m_oldFids</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; TTool::m_oldFids</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a54bf7db989aa872f4cc412bb2ac3efc0" name="a54bf7db989aa872f4cc412bb2ac3efc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54bf7db989aa872f4cc412bb2ac3efc0">&#9670;&nbsp;</a></span>m_picking</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TTool::m_picking</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adfd05e8e92235633621dbab55fe3c76f" name="adfd05e8e92235633621dbab55fe3c76f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd05e8e92235633621dbab55fe3c76f">&#9670;&nbsp;</a></span>m_selectedFrames</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; TTool::m_selectedFrames = std::set&lt;<a class="el" href="class_t_frame_id.html">TFrameId</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad84e5837b3ed638e3e73373c3195a589" name="ad84e5837b3ed638e3e73373c3195a589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad84e5837b3ed638e3e73373c3195a589">&#9670;&nbsp;</a></span>m_targetType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TTool::m_targetType</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The tool's image type target. </p>

<p class="reference">Referenced by <a class="el" href="#l02144">FillTool::draw()</a>, <a class="el" href="#l02270">FillTool::onActivate()</a>, and <a class="el" href="#l01185">GeometricTool::onActivate()</a>.</p>

</div>
</div>
<a id="a66f61f998b655c1c917ee63a595657c6" name="a66f61f998b655c1c917ee63a595657c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66f61f998b655c1c917ee63a595657c6">&#9670;&nbsp;</a></span>m_viewer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_tool_1_1_viewer.html">Viewer</a>* TTool::m_viewer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tool's current viewer. </p>

<p class="reference">Referenced by <a class="el" href="#l00187">RotateTool::draw()</a>, <a class="el" href="#l00970">ControlPointEditorTool::getCursorId()</a>, <a class="el" href="#l01254">GeometricTool::getCursorId()</a>, <a class="el" href="#l00446">MagnetTool::getCursorId()</a>, <a class="el" href="#l00121">PumpTool::getCursorId()</a>, <a class="el" href="#l00110">ToonzVectorBrushTool::getCursorId()</a>, <a class="el" href="#l00392">TypeTool::getCursorId()</a>, <a class="el" href="#l00335">VectorSelectionTool::getCursorId()</a>, <a class="el" href="#l00540">invalidate()</a>, <a class="el" href="#l00557">pick()</a>, and <a class="el" href="#l00812">resetInputMethod()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/include/tools/<a class="el" href="">tool.h</a></li>
<li>E:/opentoonz/toonz/sources/tnztools/<a class="el" href="">tool.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
