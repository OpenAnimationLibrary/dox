<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: TXshSimpleLevel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="class_t_xsh_simple_level-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TXshSimpleLevel Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>The <code><a class="el" href="class_t_xsh_level.html" title="The TXshLevel class is the base class of level managers in xsheet.">TXshLevel</a></code> specialization for image levels.  
 <a href="class_t_xsh_simple_level.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="">txshsimplelevel.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TXshSimpleLevel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_xsh_simple_level.png" usemap="#TXshSimpleLevel_map" alt=""/>
  <map id="TXshSimpleLevel_map" name="TXshSimpleLevel_map">
<area href="class_t_xsh_level.html" title="The TXshLevel class is the base class of level managers in xsheet." alt="TXshLevel" shape="rect" coords="119,56,228,80"/>
<area href="class_t_smart_object.html" alt="TSmartObject" shape="rect" coords="119,0,228,24"/>
<area href="class_t_persist.html" alt="TPersist" shape="rect" coords="238,0,347,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a8ee78a10f5ced42f16e01b6adf3f8c49"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49">FrameStatusBit</a> { <a class="el" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b">Normal</a> = 0x0
, <a class="el" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a> = 0x1
, <a class="el" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d">Cleanupped</a> = 0x2
, <a class="el" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0">CleanupPreview</a> = 0x4
 }</td></tr>
<tr class="memdesc:a8ee78a10f5ced42f16e01b6adf3f8c49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Describes a level's frame status.  <a href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49">More...</a><br /></td></tr>
<tr class="separator:a8ee78a10f5ced42f16e01b6adf3f8c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:a3bc37f54976a445f30c99753a478feae inherit pub_types_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">typedef short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a3bc37f54976a445f30c99753a478feae">ClassCode</a></td></tr>
<tr class="separator:a3bc37f54976a445f30c99753a478feae inherit pub_types_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_class_t_persist"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_t_persist')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_t_persist.html">TPersist</a></td></tr>
<tr class="memitem:a3b2ff2cbbbdcaaaed6afe33e576f50a9 inherit pub_types_class_t_persist"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="class_t_persist.html">TPersist</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#a3b2ff2cbbbdcaaaed6afe33e576f50a9">CreateProc</a>()</td></tr>
<tr class="separator:a3b2ff2cbbbdcaaaed6afe33e576f50a9 inherit pub_types_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-slots" name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a8e5daf2f3289f55421557fdbf42c54a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a8e5daf2f3289f55421557fdbf42c54a6">onPaletteChanged</a> ()</td></tr>
<tr class="memdesc:a8e5daf2f3289f55421557fdbf42c54a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Invoked when some colorstyle has been changed.  <a href="class_t_xsh_simple_level.html#a8e5daf2f3289f55421557fdbf42c54a6">More...</a><br /></td></tr>
<tr class="separator:a8e5daf2f3289f55421557fdbf42c54a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac40b0fd6e8a358444c0e18cd5eb8fc63"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ac40b0fd6e8a358444c0e18cd5eb8fc63">TXshSimpleLevel</a> (const std::wstring &amp;name=std::wstring())</td></tr>
<tr class="memdesc:ac40b0fd6e8a358444c0e18cd5eb8fc63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="class_t_xsh_simple_level.html" title="The TXshLevel specialization for image levels.">TXshSimpleLevel</a> with a name.  <a href="class_t_xsh_simple_level.html#ac40b0fd6e8a358444c0e18cd5eb8fc63">More...</a><br /></td></tr>
<tr class="separator:ac40b0fd6e8a358444c0e18cd5eb8fc63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac1fd1d3ecf0778b8ee139c9119fcdef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#aac1fd1d3ecf0778b8ee139c9119fcdef">getSimpleLevel</a> () override</td></tr>
<tr class="memdesc:aac1fd1d3ecf0778b8ee139c9119fcdef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reimplemented for <a class="el" href="class_t_xsh_level.html" title="The TXshLevel class is the base class of level managers in xsheet.">TXshLevel</a>.  <a href="class_t_xsh_simple_level.html#aac1fd1d3ecf0778b8ee139c9119fcdef">More...</a><br /></td></tr>
<tr class="separator:aac1fd1d3ecf0778b8ee139c9119fcdef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31db45fd67e847b52c96ef1836c9d989"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a31db45fd67e847b52c96ef1836c9d989">isSubsequence</a> () const</td></tr>
<tr class="separator:a31db45fd67e847b52c96ef1836c9d989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aa1b2a8203d6cb121719b9e100c9643"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a4aa1b2a8203d6cb121719b9e100c9643">is16BitChannelLevel</a> () const</td></tr>
<tr class="separator:a4aa1b2a8203d6cb121719b9e100c9643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2f74e888a0c939cd513bff79447481b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ac2f74e888a0c939cd513bff79447481b">set16BitChannelLevel</a> (bool value)</td></tr>
<tr class="separator:ac2f74e888a0c939cd513bff79447481b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a75ee26ceeb8922209d2146de77931a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a1a75ee26ceeb8922209d2146de77931a">isReadOnly</a> () const</td></tr>
<tr class="separator:a1a75ee26ceeb8922209d2146de77931a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f023bb4f212dcf6b767e1517e9f9c5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a2f023bb4f212dcf6b767e1517e9f9c5b">setIsReadOnly</a> (bool value)</td></tr>
<tr class="separator:a2f023bb4f212dcf6b767e1517e9f9c5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad854d2871f2b9ded0469d117f90c7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#aaad854d2871f2b9ded0469d117f90c7d">updateReadOnly</a> ()</td></tr>
<tr class="separator:aaad854d2871f2b9ded0469d117f90c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad412dd5c3a6ae3ff20a480dc728b26d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_level_properties.html">LevelProperties</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a> () const</td></tr>
<tr class="memdesc:ad412dd5c3a6ae3ff20a480dc728b26d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">&lt; Returns a pointer to the <em>owned</em> level properties.  <a href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">More...</a><br /></td></tr>
<tr class="separator:ad412dd5c3a6ae3ff20a480dc728b26d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ad625966e5c83579880385054ad43f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a09ad625966e5c83579880385054ad43f">clonePropertiesFrom</a> (const <a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *oldSl)</td></tr>
<tr class="separator:a09ad625966e5c83579880385054ad43f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aea4f8e34caef293d5e5c7694047564"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_palette.html">TPalette</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a> () const</td></tr>
<tr class="memdesc:a9aea4f8e34caef293d5e5c7694047564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the <em>shared</em> level palette.  <a href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">More...</a><br /></td></tr>
<tr class="separator:a9aea4f8e34caef293d5e5c7694047564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5634198656dc2ade669fae235bb19c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">setPalette</a> (<a class="el" href="class_t_palette.html">TPalette</a> *palette)</td></tr>
<tr class="memdesc:ab5634198656dc2ade669fae235bb19c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns a palette to the level.  <a href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">More...</a><br /></td></tr>
<tr class="separator:ab5634198656dc2ade669fae235bb19c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668293d53a70cca8811db28d87011c55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a668293d53a70cca8811db28d87011c55">getPath</a> () const override</td></tr>
<tr class="memdesc:a668293d53a70cca8811db28d87011c55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the file path associated with the level.  <a href="class_t_xsh_simple_level.html#a668293d53a70cca8811db28d87011c55">More...</a><br /></td></tr>
<tr class="separator:a668293d53a70cca8811db28d87011c55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357d236b080a555590b1f84a78f00059"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a357d236b080a555590b1f84a78f00059">setPath</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;path, bool retainCachedImages=false)</td></tr>
<tr class="separator:a357d236b080a555590b1f84a78f00059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e541e6a786f6e7db6d8cf8fa6b2a8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a35e541e6a786f6e7db6d8cf8fa6b2a8d">getScannedPath</a> () const</td></tr>
<tr class="separator:a35e541e6a786f6e7db6d8cf8fa6b2a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87056a3a5552ad2dfc009b76bbc30f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#af87056a3a5552ad2dfc009b76bbc30f9">setScannedPath</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;path)</td></tr>
<tr class="separator:af87056a3a5552ad2dfc009b76bbc30f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a567daee4ca12a0e92445bcf98a6541f1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a567daee4ca12a0e92445bcf98a6541f1">getFids</a> () const</td></tr>
<tr class="memdesc:a567daee4ca12a0e92445bcf98a6541f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a copy of the level's frame ids.  <a href="class_t_xsh_simple_level.html#a567daee4ca12a0e92445bcf98a6541f1">More...</a><br /></td></tr>
<tr class="separator:a567daee4ca12a0e92445bcf98a6541f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c261e511a4288929f1efdf18ee96957"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a4c261e511a4288929f1efdf18ee96957">getFids</a> (std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;fids) const override</td></tr>
<tr class="separator:a4c261e511a4288929f1efdf18ee96957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18862340ce6e813778b40a7913b13252"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_frame_id.html">TFrameId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a18862340ce6e813778b40a7913b13252">getFirstFid</a> () const</td></tr>
<tr class="separator:a18862340ce6e813778b40a7913b13252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e31155f1a6bf0f0db641ffaff2ef2c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_frame_id.html">TFrameId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a6e31155f1a6bf0f0db641ffaff2ef2c5">getLastFid</a> () const</td></tr>
<tr class="separator:a6e31155f1a6bf0f0db641ffaff2ef2c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c256d2745209a181a2dbccdec949c5e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">isEmpty</a> () const override</td></tr>
<tr class="memdesc:a7c256d2745209a181a2dbccdec949c5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the level is empty.  <a href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">More...</a><br /></td></tr>
<tr class="separator:a7c256d2745209a181a2dbccdec949c5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14de45c4b17032346cfcffbca8ef9751"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a14de45c4b17032346cfcffbca8ef9751">isFid</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid) const</td></tr>
<tr class="memdesc:a14de45c4b17032346cfcffbca8ef9751"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a given frameId is in the level.  <a href="class_t_xsh_simple_level.html#a14de45c4b17032346cfcffbca8ef9751">More...</a><br /></td></tr>
<tr class="separator:a14de45c4b17032346cfcffbca8ef9751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb72e2ab0c1baeda0a8af3146003181d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#abb72e2ab0c1baeda0a8af3146003181d">getFrameId</a> (int index) const</td></tr>
<tr class="memdesc:abb72e2ab0c1baeda0a8af3146003181d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the frame id at specified index.  <a href="class_t_xsh_simple_level.html#abb72e2ab0c1baeda0a8af3146003181d">More...</a><br /></td></tr>
<tr class="separator:abb72e2ab0c1baeda0a8af3146003181d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe127306d6669a3eb9e9d8802660d7b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a3fe127306d6669a3eb9e9d8802660d7b">getFrameCount</a> () const override</td></tr>
<tr class="memdesc:a3fe127306d6669a3eb9e9d8802660d7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the level's frames count.  <a href="class_t_xsh_simple_level.html#a3fe127306d6669a3eb9e9d8802660d7b">More...</a><br /></td></tr>
<tr class="separator:a3fe127306d6669a3eb9e9d8802660d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07279a40ffad2c6ccc597c0a418f78fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_frame_id.html">TFrameId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a07279a40ffad2c6ccc597c0a418f78fb">index2fid</a> (int index) const</td></tr>
<tr class="separator:a07279a40ffad2c6ccc597c0a418f78fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ec4942dc183f5245afa9c51b22c7f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ad3ec4942dc183f5245afa9c51b22c7f6">fid2index</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid) const</td></tr>
<tr class="memdesc:ad3ec4942dc183f5245afa9c51b22c7f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">an invalid frame otherwise.  <a href="class_t_xsh_simple_level.html#ad3ec4942dc183f5245afa9c51b22c7f6">More...</a><br /></td></tr>
<tr class="separator:ad3ec4942dc183f5245afa9c51b22c7f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af30a02239ef0900c095a0af366dea26a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#af30a02239ef0900c095a0af366dea26a">guessIndex</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid) const</td></tr>
<tr class="separator:af30a02239ef0900c095a0af366dea26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4140aae35b5062f7d2726f9f67ef2f7c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a4140aae35b5062f7d2726f9f67ef2f7c">guessStep</a> () const</td></tr>
<tr class="separator:a4140aae35b5062f7d2726f9f67ef2f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac10fe469f376b02ef16ba0f5d68d3e33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ac10fe469f376b02ef16ba0f5d68d3e33">setFrame</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid, const <a class="el" href="class_t_smart_pointer_t.html">TImageP</a> &amp;img)</td></tr>
<tr class="separator:ac10fe469f376b02ef16ba0f5d68d3e33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d991e6bf3349bd5daa09a164a47bddc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_smart_pointer_t.html">TImageP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a0d991e6bf3349bd5daa09a164a47bddc">getFrame</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid, UCHAR imgManagerParamsMask, int subsampling) const</td></tr>
<tr class="separator:a0d991e6bf3349bd5daa09a164a47bddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0282348e0f1617baeafa246b38f3f21"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_smart_pointer_t.html">TImageP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ad0282348e0f1617baeafa246b38f3f21">getFrame</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid, bool toBeModified) const</td></tr>
<tr class="separator:ad0282348e0f1617baeafa246b38f3f21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71760ecea2543465ba394b6e4b5e93ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_smart_pointer_t.html">TImageP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a71760ecea2543465ba394b6e4b5e93ef">getFullsampledFrame</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid, UCHAR imgManagerParamsMask) const</td></tr>
<tr class="separator:a71760ecea2543465ba394b6e4b5e93ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af47f89b2f1d6f60def48b3cbf8bb5499"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_image_info.html">TImageInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#af47f89b2f1d6f60def48b3cbf8bb5499">getFrameInfo</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid, bool toBeModified)</td></tr>
<tr class="separator:af47f89b2f1d6f60def48b3cbf8bb5499"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28197dd6d50d8b16b8530febce6bce0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_smart_pointer_t.html">TImageP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a28197dd6d50d8b16b8530febce6bce0b">getFrameIcon</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid) const</td></tr>
<tr class="separator:a28197dd6d50d8b16b8530febce6bce0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19f7a82a829c41f01db03f96d70a4d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#aa19f7a82a829c41f01db03f96d70a4d7">loadAllIconsAndPutInCache</a> (bool cacheImagesAsWell)</td></tr>
<tr class="separator:aa19f7a82a829c41f01db03f96d70a4d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f5deff7336e87be32b63f9e12d71050"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_raster_image_p.html">TRasterImageP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a2f5deff7336e87be32b63f9e12d71050">getFrameToCleanup</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid, bool toBeLineProcessed) const</td></tr>
<tr class="separator:a2f5deff7336e87be32b63f9e12d71050"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfb8ef0804004135757b37d2bea2fd83"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#acfb8ef0804004135757b37d2bea2fd83">getImageId</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid, int frameStatus=-1) const</td></tr>
<tr class="separator:acfb8ef0804004135757b37d2bea2fd83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a120ff2c7a35866879ceef1cb0a3629"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a3a120ff2c7a35866879ceef1cb0a3629">getIconId</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid, int frameStatus=-1) const</td></tr>
<tr class="separator:a3a120ff2c7a35866879ceef1cb0a3629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a121f2766a1380da50998b41c7b4abe64"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a121f2766a1380da50998b41c7b4abe64">getIconId</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid, const <a class="el" href="class_t_dimension_t.html">TDimension</a> &amp;size) const</td></tr>
<tr class="separator:a121f2766a1380da50998b41c7b4abe64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada690578191ecbafe178673f204b98ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ada690578191ecbafe178673f204b98ce">eraseFrame</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid)</td></tr>
<tr class="separator:ada690578191ecbafe178673f204b98ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb801d7b3ad58bf8a73281f5d15c3cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a2fb801d7b3ad58bf8a73281f5d15c3cd">clearFrames</a> ()</td></tr>
<tr class="separator:a2fb801d7b3ad58bf8a73281f5d15c3cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981bbb92457662c5a66693d15c5bcf19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a981bbb92457662c5a66693d15c5bcf19">invalidateFrames</a> ()</td></tr>
<tr class="separator:a981bbb92457662c5a66693d15c5bcf19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0461a1c4cbf4aff6acf7479174033f6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a0461a1c4cbf4aff6acf7479174033f6f">invalidateFrame</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid)</td></tr>
<tr class="separator:a0461a1c4cbf4aff6acf7479174033f6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae74a8922e3cfb3356ae9042e58856c01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ae74a8922e3cfb3356ae9042e58856c01">setEditableRange</a> (unsigned int from, unsigned int to, const std::wstring &amp;userName)</td></tr>
<tr class="separator:ae74a8922e3cfb3356ae9042e58856c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e71ae3a6b6ec37d33dc92a58ddc3b8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a5e71ae3a6b6ec37d33dc92a58ddc3b8d">mergeTemporaryHookFile</a> (unsigned int from, unsigned int to, const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;hookFile)</td></tr>
<tr class="separator:a5e71ae3a6b6ec37d33dc92a58ddc3b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafef693ff651441200a8b48d8b0b367d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#aafef693ff651441200a8b48d8b0b367d">clearEditableRange</a> ()</td></tr>
<tr class="separator:aafef693ff651441200a8b48d8b0b367d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3b0b2db2063e9537dd860ffe28a774"><td class="memItemLeft" align="right" valign="top">std::wstring&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a8e3b0b2db2063e9537dd860ffe28a774">getEditableFileName</a> ()</td></tr>
<tr class="separator:a8e3b0b2db2063e9537dd860ffe28a774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adadcf84e1ef7d94aa0bc4410f52332ef"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#adadcf84e1ef7d94aa0bc4410f52332ef">getEditableRange</a> ()</td></tr>
<tr class="memdesc:adadcf84e1ef7d94aa0bc4410f52332ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the set of editable frames.  <a href="class_t_xsh_simple_level.html#adadcf84e1ef7d94aa0bc4410f52332ef">More...</a><br /></td></tr>
<tr class="separator:adadcf84e1ef7d94aa0bc4410f52332ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add3a3a38b51d02621b1e5195fd8feee9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#add3a3a38b51d02621b1e5195fd8feee9">getFrameStatus</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid) const</td></tr>
<tr class="separator:add3a3a38b51d02621b1e5195fd8feee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a492141fa9602d610b557dbe83e46c896"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a492141fa9602d610b557dbe83e46c896">setFrameStatus</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid, int status)</td></tr>
<tr class="separator:a492141fa9602d610b557dbe83e46c896"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac0eaee60df10d4e1deee2a5fa274e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a3ac0eaee60df10d4e1deee2a5fa274e4">makeTlv</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;tlvPath)</td></tr>
<tr class="separator:a3ac0eaee60df10d4e1deee2a5fa274e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32326317b949489c443457ddd55ce256"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_smart_pointer_t.html">TImageP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a32326317b949489c443457ddd55ce256">createEmptyFrame</a> ()</td></tr>
<tr class="memdesc:a32326317b949489c443457ddd55ce256"><td class="mdescLeft">&#160;</td><td class="mdescRight">and assigns the specified level path.  <a href="class_t_xsh_simple_level.html#a32326317b949489c443457ddd55ce256">More...</a><br /></td></tr>
<tr class="separator:a32326317b949489c443457ddd55ce256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7688e3e000ae055f621e60bbced5aa05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a7688e3e000ae055f621e60bbced5aa05">initializePalette</a> ()</td></tr>
<tr class="separator:a7688e3e000ae055f621e60bbced5aa05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac342615c70611075cc00981de033b863"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ac342615c70611075cc00981de033b863">initializeResolutionAndDpi</a> (const <a class="el" href="class_t_dimension_t.html">TDimension</a> &amp;dim=<a class="el" href="class_t_dimension_t.html">TDimension</a>(), double dpi=0)</td></tr>
<tr class="separator:ac342615c70611075cc00981de033b863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b67bf33b6c5511d9f7e2622f4c1f2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_dimension_t.html">TDimension</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a80b67bf33b6c5511d9f7e2622f4c1f2e">getResolution</a> ()</td></tr>
<tr class="separator:a80b67bf33b6c5511d9f7e2622f4c1f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a303bad2dd6286eca6edab017b0363de4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a303bad2dd6286eca6edab017b0363de4">getImageDpi</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid=TFrameId::NO_FRAME, int frameStatus=-1)</td></tr>
<tr class="separator:a303bad2dd6286eca6edab017b0363de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa8472504756ac06cf72c4162ce0cbd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a9fa8472504756ac06cf72c4162ce0cbd">getImageSubsampling</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid) const</td></tr>
<tr class="separator:a9fa8472504756ac06cf72c4162ce0cbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec6eb953e3175d60b41f7b8d7694a0f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a5ec6eb953e3175d60b41f7b8d7694a0f">getDpi</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid=TFrameId::NO_FRAME, int frameStatus=-1)</td></tr>
<tr class="separator:a5ec6eb953e3175d60b41f7b8d7694a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1629d7fbc5e0c41ebc1a40f9f70d40d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_rect_t.html">TRectD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a1629d7fbc5e0c41ebc1a40f9f70d40d5">getBBox</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid) const</td></tr>
<tr class="memdesc:a1629d7fbc5e0c41ebc1a40f9f70d40d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the bbox for the level's fid, specified in standard <em>inch</em> coordinates (which are <em>different</em> from Toonz's standard world coordinates, by a <code><a class="el" href="namespace_stage.html#ad3e22e31e2bb6fc1d95a572facce2d5b">Stage::inch</a></code> factor). <br  />
  <a href="class_t_xsh_simple_level.html#a1629d7fbc5e0c41ebc1a40f9f70d40d5">More...</a><br /></td></tr>
<tr class="separator:a1629d7fbc5e0c41ebc1a40f9f70d40d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d43337766628739707849f8808bf300"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a2d43337766628739707849f8808bf300">setDirtyFlag</a> (bool on) override</td></tr>
<tr class="memdesc:a2d43337766628739707849f8808bf300"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the level as "modified".  <a href="class_t_xsh_simple_level.html#a2d43337766628739707849f8808bf300">More...</a><br /></td></tr>
<tr class="separator:a2d43337766628739707849f8808bf300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b2da3076b24d08ccf636df578b70e5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a93b2da3076b24d08ccf636df578b70e5">getDirtyFlag</a> () const</td></tr>
<tr class="separator:a93b2da3076b24d08ccf636df578b70e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c20a8d11037048322d2035b0f286209"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a3c20a8d11037048322d2035b0f286209">touchFrame</a> (const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;fid)</td></tr>
<tr class="separator:a3c20a8d11037048322d2035b0f286209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42dbcc372a4560b9a57da010a9c296a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a42dbcc372a4560b9a57da010a9c296a6">loadData</a> (<a class="el" href="class_t_i_stream.html">TIStream</a> &amp;is) override</td></tr>
<tr class="memdesc:a42dbcc372a4560b9a57da010a9c296a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the level data (i.e. name, path, etc. e.g. from the .tnz file)  <a href="class_t_xsh_simple_level.html#a42dbcc372a4560b9a57da010a9c296a6">More...</a><br /></td></tr>
<tr class="separator:a42dbcc372a4560b9a57da010a9c296a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62a0a3eb6da8cbc0a47394e6a0004d5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a62a0a3eb6da8cbc0a47394e6a0004d5c">saveData</a> (<a class="el" href="class_t_o_stream.html">TOStream</a> &amp;os) override</td></tr>
<tr class="memdesc:a62a0a3eb6da8cbc0a47394e6a0004d5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the level data (i.e. name, path, etc. e.g. to the .tnz file)  <a href="class_t_xsh_simple_level.html#a62a0a3eb6da8cbc0a47394e6a0004d5c">More...</a><br /></td></tr>
<tr class="separator:a62a0a3eb6da8cbc0a47394e6a0004d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0020922626c177cd3134a05e274aecee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a0020922626c177cd3134a05e274aecee">load</a> () override</td></tr>
<tr class="separator:a0020922626c177cd3134a05e274aecee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace19983fd4d21561e5ba21b88efa567a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ace19983fd4d21561e5ba21b88efa567a">load</a> (const std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;fIds)</td></tr>
<tr class="separator:ace19983fd4d21561e5ba21b88efa567a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ceff3b4f997fbe62be18948fc893404"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a5ceff3b4f997fbe62be18948fc893404">save</a> () override</td></tr>
<tr class="memdesc:a5ceff3b4f997fbe62be18948fc893404"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the level to disk, with the same path deduction from <a class="el" href="class_t_xsh_simple_level.html#a0020922626c177cd3134a05e274aecee">load()</a>  <a href="class_t_xsh_simple_level.html#a5ceff3b4f997fbe62be18948fc893404">More...</a><br /></td></tr>
<tr class="separator:a5ceff3b4f997fbe62be18948fc893404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f8349ba4f9da7093bace45045245bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a19f8349ba4f9da7093bace45045245bc">save</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;fp, const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;oldFp=<a class="el" href="class_t_file_path.html">TFilePath</a>(), bool overwritePalette=true)</td></tr>
<tr class="separator:a19f8349ba4f9da7093bace45045245bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe15ee3d60e1f5f5c38d6ba75d36812"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_content_history.html">TContentHistory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a2fe15ee3d60e1f5f5c38d6ba75d36812">getContentHistory</a> () const</td></tr>
<tr class="memdesc:a2fe15ee3d60e1f5f5c38d6ba75d36812"><td class="mdescLeft">&#160;</td><td class="mdescRight">note gets the contentHistory. can be 0  <a href="class_t_xsh_simple_level.html#a2fe15ee3d60e1f5f5c38d6ba75d36812">More...</a><br /></td></tr>
<tr class="separator:a2fe15ee3d60e1f5f5c38d6ba75d36812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae409bd3bb5c7d5f796555c6396fc449a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_content_history.html">TContentHistory</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ae409bd3bb5c7d5f796555c6396fc449a">getContentHistory</a> ()</td></tr>
<tr class="separator:ae409bd3bb5c7d5f796555c6396fc449a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ae2d1b425b93a9e37fbfcb324a5db6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#aa5ae2d1b425b93a9e37fbfcb324a5db6">setContentHistory</a> (<a class="el" href="class_t_content_history.html">TContentHistory</a> *contentHistory)</td></tr>
<tr class="separator:aa5ae2d1b425b93a9e37fbfcb324a5db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7465cffde15c5f7a8686842c770c2ef6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a7465cffde15c5f7a8686842c770c2ef6">setRenumberTable</a> ()</td></tr>
<tr class="memdesc:a7465cffde15c5f7a8686842c770c2ef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set elements of m_renumberTable with m_frames.  <a href="class_t_xsh_simple_level.html#a7465cffde15c5f7a8686842c770c2ef6">More...</a><br /></td></tr>
<tr class="separator:a7465cffde15c5f7a8686842c770c2ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c2de43cb6feaf09e535ea34c0c373ea"><td class="memItemLeft" align="right" valign="top">const std::map&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a>, <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a7c2de43cb6feaf09e535ea34c0c373ea">renumberTable</a> () const</td></tr>
<tr class="separator:a7c2de43cb6feaf09e535ea34c0c373ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad682afea2e389bdc6fa1c09e2b068b48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ad682afea2e389bdc6fa1c09e2b068b48">renumber</a> (const std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;fids)</td></tr>
<tr class="separator:ad682afea2e389bdc6fa1c09e2b068b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8287af55e61806df64e30a1f5e45d25e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a8287af55e61806df64e30a1f5e45d25e">isFrameReadOnly</a> (<a class="el" href="class_t_frame_id.html">TFrameId</a> fid)</td></tr>
<tr class="separator:a8287af55e61806df64e30a1f5e45d25e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_xsh_level"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_xsh_level')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_xsh_level.html">TXshLevel</a></td></tr>
<tr class="memitem:a64bf9b4713e40877c379b5a9be03aca2 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a64bf9b4713e40877c379b5a9be03aca2">TXshLevel</a> (ClassCode classCode, std::wstring name)</td></tr>
<tr class="separator:a64bf9b4713e40877c379b5a9be03aca2 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae315762eab5c24c268c222a36b9b671d inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#ae315762eab5c24c268c222a36b9b671d">~TXshLevel</a> ()</td></tr>
<tr class="separator:ae315762eab5c24c268c222a36b9b671d inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6333445bdaa90861aee4cc9ef656ad7 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#ae6333445bdaa90861aee4cc9ef656ad7">setName</a> (std::wstring name)</td></tr>
<tr class="separator:ae6333445bdaa90861aee4cc9ef656ad7 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a147f1e970a62120c0bbaf0020a8932 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a> () const</td></tr>
<tr class="separator:a1a147f1e970a62120c0bbaf0020a8932 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2cb5812d9f36e9f5d570874dad8d3bd inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#ad2cb5812d9f36e9f5d570874dad8d3bd">setType</a> (int type)</td></tr>
<tr class="memdesc:ad2cb5812d9f36e9f5d570874dad8d3bd inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">change the level type;  <a href="class_t_xsh_level.html#ad2cb5812d9f36e9f5d570874dad8d3bd">More...</a><br /></td></tr>
<tr class="separator:ad2cb5812d9f36e9f5d570874dad8d3bd inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06176566e80858dbb206112db08a92b9 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_toonz_scene.html">ToonzScene</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a> () const</td></tr>
<tr class="memdesc:a06176566e80858dbb206112db08a92b9 inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the <b><a class="el" href="class_toonz_scene.html">ToonzScene</a></b> the level belongs to;.  <a href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">More...</a><br /></td></tr>
<tr class="separator:a06176566e80858dbb206112db08a92b9 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0052e5b6496d5bd9c697f678761e5c inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a3c0052e5b6496d5bd9c697f678761e5c">setScene</a> (<a class="el" href="class_toonz_scene.html">ToonzScene</a> *scene)</td></tr>
<tr class="separator:a3c0052e5b6496d5bd9c697f678761e5c inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a023065559cff76164ecb6344c586ba27 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">getSimpleLevel</a> ()</td></tr>
<tr class="memdesc:a023065559cff76164ecb6344c586ba27 inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method (to be overridden in subclasses) to downcast to <b><a class="el" href="class_t_xsh_simple_level.html" title="The TXshLevel specialization for image levels.">TXshSimpleLevel</a></b>.  <a href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">More...</a><br /></td></tr>
<tr class="separator:a023065559cff76164ecb6344c586ba27 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ef7d48e41f4f214b414e959512e6377 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_xsh_child_level.html">TXshChildLevel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a6ef7d48e41f4f214b414e959512e6377">getChildLevel</a> ()</td></tr>
<tr class="memdesc:a6ef7d48e41f4f214b414e959512e6377 inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method (to be overridden in subclasses) to downcast to <b><a class="el" href="class_t_xsh_child_level.html">TXshChildLevel</a></b>.  <a href="class_t_xsh_level.html#a6ef7d48e41f4f214b414e959512e6377">More...</a><br /></td></tr>
<tr class="separator:a6ef7d48e41f4f214b414e959512e6377 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a903cb5c2c50f8f34fdda2b89ecdece7f inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_xsh_zerary_fx_level.html">TXshZeraryFxLevel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a903cb5c2c50f8f34fdda2b89ecdece7f">getZeraryFxLevel</a> ()</td></tr>
<tr class="separator:a903cb5c2c50f8f34fdda2b89ecdece7f inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdbb7e1664b681225414f59317a32b74 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_xsh_palette_level.html">TXshPaletteLevel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#afdbb7e1664b681225414f59317a32b74">getPaletteLevel</a> ()</td></tr>
<tr class="memdesc:afdbb7e1664b681225414f59317a32b74 inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method (to be overridden in subclasses) to downcast to <b><a class="el" href="class_t_xsh_palette_level.html" title="The TXshPaletteLevel class represents a palette uncoupled from a level.">TXshPaletteLevel</a></b>.  <a href="class_t_xsh_level.html#afdbb7e1664b681225414f59317a32b74">More...</a><br /></td></tr>
<tr class="separator:afdbb7e1664b681225414f59317a32b74 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26f1638f7685304949b33befc0bfcc9 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_xsh_sound_level.html">TXshSoundLevel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#aa26f1638f7685304949b33befc0bfcc9">getSoundLevel</a> ()</td></tr>
<tr class="memdesc:aa26f1638f7685304949b33befc0bfcc9 inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method (to be overridden in subclasses) to downcast to <b><a class="el" href="class_t_xsh_sound_level.html">TXshSoundLevel</a></b>.  <a href="class_t_xsh_level.html#aa26f1638f7685304949b33befc0bfcc9">More...</a><br /></td></tr>
<tr class="separator:aa26f1638f7685304949b33befc0bfcc9 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855d1db152d4484e44f87e777f8207b3 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_xsh_sound_text_level.html">TXshSoundTextLevel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a855d1db152d4484e44f87e777f8207b3">getSoundTextLevel</a> ()</td></tr>
<tr class="separator:a855d1db152d4484e44f87e777f8207b3 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a59fb1bd3261baee4e889a9edbf0ae8 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">std::wstring&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a3a59fb1bd3261baee4e889a9edbf0ae8">getName</a> () const</td></tr>
<tr class="memdesc:a3a59fb1bd3261baee4e889a9edbf0ae8 inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return level name.  <a href="class_t_xsh_level.html#a3a59fb1bd3261baee4e889a9edbf0ae8">More...</a><br /></td></tr>
<tr class="separator:a3a59fb1bd3261baee4e889a9edbf0ae8 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b43bd4ae655b8ade9c83f865789bb3f inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">std::wstring&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a8b43bd4ae655b8ade9c83f865789bb3f">getShortName</a> () const</td></tr>
<tr class="memdesc:a8b43bd4ae655b8ade9c83f865789bb3f inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return level short name.  <a href="class_t_xsh_level.html#a8b43bd4ae655b8ade9c83f865789bb3f">More...</a><br /></td></tr>
<tr class="separator:a8b43bd4ae655b8ade9c83f865789bb3f inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ffcf067cadf0e1c4081b54ffde249d inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#ab8ffcf067cadf0e1c4081b54ffde249d">getPath</a> () const</td></tr>
<tr class="memdesc:ab8ffcf067cadf0e1c4081b54ffde249d inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the file path associated with the level.  <a href="class_t_xsh_level.html#ab8ffcf067cadf0e1c4081b54ffde249d">More...</a><br /></td></tr>
<tr class="separator:ab8ffcf067cadf0e1c4081b54ffde249d inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b24d054b662f37cf19b5c835fefaf6e inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a1b24d054b662f37cf19b5c835fefaf6e">isEmpty</a> () const</td></tr>
<tr class="separator:a1b24d054b662f37cf19b5c835fefaf6e inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e029d558e6e7063a00280f80539ffe1 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a6e029d558e6e7063a00280f80539ffe1">getFrameCount</a> () const</td></tr>
<tr class="separator:a6e029d558e6e7063a00280f80539ffe1 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6927725bf28cb032ace3c854abdc2a6f inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a6927725bf28cb032ace3c854abdc2a6f">getFids</a> (std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;fids) const</td></tr>
<tr class="separator:a6927725bf28cb032ace3c854abdc2a6f inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec2c8b50ab4f8d3a43f6f20cbe210940 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#aec2c8b50ab4f8d3a43f6f20cbe210940">loadData</a> (<a class="el" href="class_t_i_stream.html">TIStream</a> &amp;is) override=0</td></tr>
<tr class="memdesc:aec2c8b50ab4f8d3a43f6f20cbe210940 inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the level data (i.e. name, path, etc. e.g. from the .tnz file)  <a href="class_t_xsh_level.html#aec2c8b50ab4f8d3a43f6f20cbe210940">More...</a><br /></td></tr>
<tr class="separator:aec2c8b50ab4f8d3a43f6f20cbe210940 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef80cf0a64bcd8bebe128dc8144afff6 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#aef80cf0a64bcd8bebe128dc8144afff6">saveData</a> (<a class="el" href="class_t_o_stream.html">TOStream</a> &amp;os) override=0</td></tr>
<tr class="memdesc:aef80cf0a64bcd8bebe128dc8144afff6 inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the level data (i.e. name, path, etc. e.g. to the .tnz file)  <a href="class_t_xsh_level.html#aef80cf0a64bcd8bebe128dc8144afff6">More...</a><br /></td></tr>
<tr class="separator:aef80cf0a64bcd8bebe128dc8144afff6 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe5db60912aecd08a751208b5e3feae inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a3fe5db60912aecd08a751208b5e3feae">load</a> ()=0</td></tr>
<tr class="memdesc:a3fe5db60912aecd08a751208b5e3feae inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the level content from the associated path.  <a href="class_t_xsh_level.html#a3fe5db60912aecd08a751208b5e3feae">More...</a><br /></td></tr>
<tr class="separator:a3fe5db60912aecd08a751208b5e3feae inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc40df0ea3e4d51a59e58c029675968 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#adcc40df0ea3e4d51a59e58c029675968">save</a> ()=0</td></tr>
<tr class="memdesc:adcc40df0ea3e4d51a59e58c029675968 inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the level content to the associated path.  <a href="class_t_xsh_level.html#adcc40df0ea3e4d51a59e58c029675968">More...</a><br /></td></tr>
<tr class="separator:adcc40df0ea3e4d51a59e58c029675968 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e1f2998c39699adbe9133f87109a104 inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_hook_set.html">HookSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a6e1f2998c39699adbe9133f87109a104">getHookSet</a> () const</td></tr>
<tr class="separator:a6e1f2998c39699adbe9133f87109a104 inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafe88c104827f8c27a33a79e7f7ee7d inherit pub_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#aeafe88c104827f8c27a33a79e7f7ee7d">setDirtyFlag</a> (bool on)</td></tr>
<tr class="memdesc:aeafe88c104827f8c27a33a79e7f7ee7d inherit pub_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark the level as "modified".  <a href="class_t_xsh_level.html#aeafe88c104827f8c27a33a79e7f7ee7d">More...</a><br /></td></tr>
<tr class="separator:aeafe88c104827f8c27a33a79e7f7ee7d inherit pub_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:ab9a1e31b7e2b8c9b141fe9ce7e8cf489 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#ab9a1e31b7e2b8c9b141fe9ce7e8cf489">TSmartObject</a> (ClassCode classCode)</td></tr>
<tr class="separator:ab9a1e31b7e2b8c9b141fe9ce7e8cf489 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a76a715c1785eb545fa3ef2f6e06928 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a4a76a715c1785eb545fa3ef2f6e06928">addRef</a> ()</td></tr>
<tr class="separator:a4a76a715c1785eb545fa3ef2f6e06928 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99750961461978d73f55a4a54e6f874e inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a99750961461978d73f55a4a54e6f874e">release</a> ()</td></tr>
<tr class="separator:a99750961461978d73f55a4a54e6f874e inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f1dab21fd93f07fdf6c86661d738a5 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">TINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#ac1f1dab21fd93f07fdf6c86661d738a5">getRefCount</a> () const</td></tr>
<tr class="separator:ac1f1dab21fd93f07fdf6c86661d738a5 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_persist"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_persist')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_persist.html">TPersist</a></td></tr>
<tr class="memitem:a9e9d78431e843edb9299095af867a136 inherit pub_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#a9e9d78431e843edb9299095af867a136">loadData</a> (<a class="el" href="class_t_i_stream.html">TIStream</a> &amp;is)=0</td></tr>
<tr class="separator:a9e9d78431e843edb9299095af867a136 inherit pub_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb991f7b26f14dbee1740ef036ff4e85 inherit pub_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#afb991f7b26f14dbee1740ef036ff4e85">saveData</a> (<a class="el" href="class_t_o_stream.html">TOStream</a> &amp;os)=0</td></tr>
<tr class="separator:afb991f7b26f14dbee1740ef036ff4e85 inherit pub_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d77f3ae5ec651390538e6219a421aa5 inherit pub_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#a6d77f3ae5ec651390538e6219a421aa5">getStreamTag</a> () const</td></tr>
<tr class="separator:a6d77f3ae5ec651390538e6219a421aa5 inherit pub_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec66a1276b484a94a48e7e3e45be525e inherit pub_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="class_t_persist_declaration.html">TPersistDeclaration</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#aec66a1276b484a94a48e7e3e45be525e">getDeclaration</a> () const =0</td></tr>
<tr class="separator:aec66a1276b484a94a48e7e3e45be525e inherit pub_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a821df490f42bb53d419ed4d3c4b97972"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a821df490f42bb53d419ed4d3c4b97972">copyFiles</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;dst, const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;src)</td></tr>
<tr class="memdesc:a821df490f42bb53d419ed4d3c4b97972"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy files from src to dst.  <a href="class_t_xsh_simple_level.html#a821df490f42bb53d419ed4d3c4b97972">More...</a><br /></td></tr>
<tr class="separator:a821df490f42bb53d419ed4d3c4b97972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f00c48167fa350ad00beccef0ddff82"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a1f00c48167fa350ad00beccef0ddff82">renameFiles</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;dst, const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;src)</td></tr>
<tr class="memdesc:a1f00c48167fa350ad00beccef0ddff82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rename files from src to dst.  <a href="class_t_xsh_simple_level.html#a1f00c48167fa350ad00beccef0ddff82">More...</a><br /></td></tr>
<tr class="separator:a1f00c48167fa350ad00beccef0ddff82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2d4d9c31e14ec66fc92c58a80fba74d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#ab2d4d9c31e14ec66fc92c58a80fba74d">removeFiles</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;fp)</td></tr>
<tr class="memdesc:ab2d4d9c31e14ec66fc92c58a80fba74d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove files at fp.  <a href="class_t_xsh_simple_level.html#ab2d4d9c31e14ec66fc92c58a80fba74d">More...</a><br /></td></tr>
<tr class="separator:ab2d4d9c31e14ec66fc92c58a80fba74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3761996a872dfbfd19d13b63ad336f6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#aa3761996a872dfbfd19d13b63ad336f6">getFiles</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;fp, TFilePathSet &amp;fpset)</td></tr>
<tr class="memdesc:aa3761996a872dfbfd19d13b63ad336f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the auxiliary files list: hooks, tpl, etc.  <a href="class_t_xsh_simple_level.html#aa3761996a872dfbfd19d13b63ad336f6">More...</a><br /></td></tr>
<tr class="separator:aa3761996a872dfbfd19d13b63ad336f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23704b0d8be9290a8ab9c72c3139958b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a23704b0d8be9290a8ab9c72c3139958b">getHookPath</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;levelPath)</td></tr>
<tr class="separator:a23704b0d8be9290a8ab9c72c3139958b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc5e2310d937b00491db968372077dd"><td class="memItemLeft" align="right" valign="top">static QStringList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a6dc5e2310d937b00491db968372077dd">getHookFiles</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;decodedLevelPath)</td></tr>
<tr class="memdesc:a6dc5e2310d937b00491db968372077dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of <em>existing</em> hook files associated to the specified level, sorted by modification date (last modified at front). The list stores <em>local paths&lt;\I&gt; relative to decodedLevelPath.getParentDir(). </em> <a href="class_t_xsh_simple_level.html#a6dc5e2310d937b00491db968372077dd">More...</a><br /></td></tr>
<tr class="separator:a6dc5e2310d937b00491db968372077dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a543f442eca762915046bf52bccc2b4fc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a543f442eca762915046bf52bccc2b4fc">getExistingHookFile</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;decodedLevelPath)</td></tr>
<tr class="memdesc:a543f442eca762915046bf52bccc2b4fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the path of the newest <em>existing</em> hook file associated to the specified <b>decoded</b> level path - or an empty path if none was found.  <a href="class_t_xsh_simple_level.html#a543f442eca762915046bf52bccc2b4fc">More...</a><br /></td></tr>
<tr class="separator:a543f442eca762915046bf52bccc2b4fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a403c0b6e8da4e6cb1f0d7f9b761d40e6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a403c0b6e8da4e6cb1f0d7f9b761d40e6">setCompatibilityMasks</a> (int writeMask, int neededMask, int forbiddenMask)</td></tr>
<tr class="separator:a403c0b6e8da4e6cb1f0d7f9b761d40e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:a41e6552e87694c0edba6acc7e57b5752 inherit pub_static_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">static TINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a41e6552e87694c0edba6acc7e57b5752">getInstanceCount</a> (ClassCode code)</td></tr>
<tr class="separator:a41e6552e87694c0edba6acc7e57b5752 inherit pub_static_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_class_t_persist"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_t_persist')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_t_persist.html">TPersist</a></td></tr>
<tr class="memitem:aeafb2f1f6438732314d3fca5ee63f572 inherit pub_static_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top"><a id="aeafb2f1f6438732314d3fca5ee63f572" name="aeafb2f1f6438732314d3fca5ee63f572"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>declare</b> (CreateProc *)</td></tr>
<tr class="separator:aeafb2f1f6438732314d3fca5ee63f572 inherit pub_static_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af0825543bdd74860c0518859a546bc inherit pub_static_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_persist.html">TPersist</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#a5af0825543bdd74860c0518859a546bc">create</a> (const std::string &amp;name)</td></tr>
<tr class="separator:a5af0825543bdd74860c0518859a546bc inherit pub_static_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:abcb2dceb9b684d8734ebb897a744507e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#abcb2dceb9b684d8734ebb897a744507e">m_rasterizePli</a> = false</td></tr>
<tr class="separator:abcb2dceb9b684d8734ebb897a744507e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a011698d3e692cbbe468a03a36e64634a"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_simple_level.html#a011698d3e692cbbe468a03a36e64634a">m_fillFullColorRaster</a> = false</td></tr>
<tr class="separator:a011698d3e692cbbe468a03a36e64634a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_class_t_xsh_level"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_class_t_xsh_level')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="class_t_xsh_level.html">TXshLevel</a></td></tr>
<tr class="memitem:ab0cdcc67b4ed10f236ef19be439b373f inherit pro_methods_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#ab0cdcc67b4ed10f236ef19be439b373f">updateShortName</a> ()</td></tr>
<tr class="memdesc:ab0cdcc67b4ed10f236ef19be439b373f inherit pro_methods_class_t_xsh_level"><td class="mdescLeft">&#160;</td><td class="mdescRight">create shortname from the level name  <a href="class_t_xsh_level.html#ab0cdcc67b4ed10f236ef19be439b373f">More...</a><br /></td></tr>
<tr class="separator:ab0cdcc67b4ed10f236ef19be439b373f inherit pro_methods_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_class_t_xsh_level"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_t_xsh_level')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_t_xsh_level.html">TXshLevel</a></td></tr>
<tr class="memitem:a8310a5707fdec8673cd8c85d5279278f inherit pro_attribs_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">std::wstring&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a8310a5707fdec8673cd8c85d5279278f">m_name</a></td></tr>
<tr class="separator:a8310a5707fdec8673cd8c85d5279278f inherit pro_attribs_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b725ebc881d931a1a2461eda4fa596 inherit pro_attribs_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">std::wstring&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a22b725ebc881d931a1a2461eda4fa596">m_shortName</a></td></tr>
<tr class="separator:a22b725ebc881d931a1a2461eda4fa596 inherit pro_attribs_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c5304393b515ca242823e25bb698f4 inherit pro_attribs_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a></td></tr>
<tr class="separator:ab7c5304393b515ca242823e25bb698f4 inherit pro_attribs_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d91a9c7be92faeed9fee9d56242f1d inherit pro_attribs_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_hook_set.html">HookSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#a06d91a9c7be92faeed9fee9d56242f1d">m_hookSet</a></td></tr>
<tr class="separator:a06d91a9c7be92faeed9fee9d56242f1d inherit pro_attribs_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1fdc13c0184a992359ff1a892732902 inherit pro_attribs_class_t_xsh_level"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_toonz_scene.html">ToonzScene</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_xsh_level.html#ac1fdc13c0184a992359ff1a892732902">m_scene</a></td></tr>
<tr class="separator:ac1fdc13c0184a992359ff1a892732902 inherit pro_attribs_class_t_xsh_level"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The <code><a class="el" href="class_t_xsh_level.html" title="The TXshLevel class is the base class of level managers in xsheet.">TXshLevel</a></code> specialization for image levels. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>Substitute m_frames with a sorted vector or a boost flat_set. </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a8ee78a10f5ced42f16e01b6adf3f8c49" name="a8ee78a10f5ced42f16e01b6adf3f8c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ee78a10f5ced42f16e01b6adf3f8c49">&#9670;&nbsp;</a></span>FrameStatusBit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49">TXshSimpleLevel::FrameStatusBit</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Describes a level's frame status. </p>
<p >Level frames may have special properties depending on the level type they are part of.</p>
<dl class="section see"><dt>See also</dt><dd><code>TXshSimpleLevel::getFrameStatus()</code> and <code>setFrameStatus()</code> for further details. <br  />
 </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b" name="a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b"></a>Normal&#160;</td><td class="fielddoc"><p >Frame has no special status. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25" name="a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25"></a>Scanned&#160;</td><td class="fielddoc"><p >A fullcolor frame (only tlv levels). </p>
</td></tr>
<tr><td class="fieldname"><a id="a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d" name="a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d"></a>Cleanupped&#160;</td><td class="fielddoc"><p >A cleanupped frame (only tlv levels). </p>
</td></tr>
<tr><td class="fieldname"><a id="a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0" name="a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0"></a>CleanupPreview&#160;</td><td class="fielddoc"><p >A cleanup preview (only fullcolor levels). </p>
</td></tr>
</table>
<div class="fragment"><div class="line"><span class="lineno">   74</span>  { <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b">Normal</a>         = 0x0,  </div>
<div class="line"><span class="lineno">   75</span>    <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>        = 0x1,  </div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d">Cleanupped</a>     = 0x2,  </div>
<div class="line"><span class="lineno">   77</span>    <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0">CleanupPreview</a> = 0x4   </div>
<div class="line"><span class="lineno">   78</span>  };</div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b"><div class="ttname"><a href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b">TXshSimpleLevel::Normal</a></div><div class="ttdeci">@ Normal</div><div class="ttdoc">Frame has no special status.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:74</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d"><div class="ttname"><a href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d">TXshSimpleLevel::Cleanupped</a></div><div class="ttdeci">@ Cleanupped</div><div class="ttdoc">A cleanupped frame (only tlv levels).</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:76</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0"><div class="ttname"><a href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0">TXshSimpleLevel::CleanupPreview</a></div><div class="ttdeci">@ CleanupPreview</div><div class="ttdoc">A cleanup preview (only fullcolor levels).</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:77</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25"><div class="ttname"><a href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">TXshSimpleLevel::Scanned</a></div><div class="ttdeci">@ Scanned</div><div class="ttdoc">A fullcolor frame (only tlv levels).</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:75</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac40b0fd6e8a358444c0e18cd5eb8fc63" name="ac40b0fd6e8a358444c0e18cd5eb8fc63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac40b0fd6e8a358444c0e18cd5eb8fc63">&#9670;&nbsp;</a></span>TXshSimpleLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TXshSimpleLevel::TXshSimpleLevel </td>
          <td>(</td>
          <td class="paramtype">const std::wstring &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>std::wstring()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="class_t_xsh_simple_level.html" title="The TXshLevel specialization for image levels.">TXshSimpleLevel</a> with a name. </p>
<div class="fragment"><div class="line"><span class="lineno">  191</span>    : <a class="code hl_function" href="class_t_xsh_level.html#a64bf9b4713e40877c379b5a9be03aca2">TXshLevel</a>(m_classCode, name)</div>
<div class="line"><span class="lineno">  192</span>    , m_properties(<span class="keyword">new</span> <a class="code hl_class" href="class_level_properties.html">LevelProperties</a>)</div>
<div class="line"><span class="lineno">  193</span>    , m_palette(0)</div>
<div class="line"><span class="lineno">  194</span>    , m_idBase(std::to_string(idBaseCode++))</div>
<div class="line"><span class="lineno">  195</span>    , m_editableRangeUserInfo(L<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  196</span>    , m_isSubsequence(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  197</span>    , m_16BitChannelLevel(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  198</span>    , m_isReadOnly(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  199</span>    , m_temporaryHookMerged(<span class="keyword">false</span>) {}</div>
<div class="ttc" id="aclass_level_properties_html"><div class="ttname"><a href="class_level_properties.html">LevelProperties</a></div><div class="ttdoc">Stores the possible properties of a Toonz level.</div><div class="ttdef"><b>Definition:</b> levelproperties.h:75</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a64bf9b4713e40877c379b5a9be03aca2"><div class="ttname"><a href="class_t_xsh_level.html#a64bf9b4713e40877c379b5a9be03aca2">TXshLevel::TXshLevel</a></div><div class="ttdeci">TXshLevel(ClassCode classCode, std::wstring name)</div><div class="ttdef"><b>Definition:</b> txshlevel.cpp:9</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01468">save()</a>.</p>

</div>
</div>
<a id="aef1ef0c2d382bcd96b0d2c6a2e99e4dd" name="aef1ef0c2d382bcd96b0d2c6a2e99e4dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef1ef0c2d382bcd96b0d2c6a2e99e4dd">&#9670;&nbsp;</a></span>~TXshSimpleLevel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TXshSimpleLevel::~TXshSimpleLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  203</span>                                  {</div>
<div class="line"><span class="lineno">  204</span>  clearFrames();</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>  <span class="keywordflow">if</span> (m_palette) m_palette-&gt;release();</div>
<div class="line"><span class="lineno">  207</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aafef693ff651441200a8b48d8b0b367d" name="aafef693ff651441200a8b48d8b0b367d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafef693ff651441200a8b48d8b0b367d">&#9670;&nbsp;</a></span>clearEditableRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::clearEditableRange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  282</span>                                         {</div>
<div class="line"><span class="lineno">  283</span>  m_editableRange.clear();</div>
<div class="line"><span class="lineno">  284</span>  m_editableRangeUserInfo = L<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  285</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fb801d7b3ad58bf8a73281f5d15c3cd" name="a2fb801d7b3ad58bf8a73281f5d15c3cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb801d7b3ad58bf8a73281f5d15c3cd">&#9670;&nbsp;</a></span>clearFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::clearFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  870</span>                                  {</div>
<div class="line"><span class="lineno">  871</span>  <a class="code hl_class" href="class_image_manager.html">ImageManager</a> *im = ImageManager::instance();</div>
<div class="line"><span class="lineno">  872</span>  <a class="code hl_class" href="class_t_image_cache.html">TImageCache</a> *ic  = TImageCache::instance();</div>
<div class="line"><span class="lineno">  873</span>  <span class="comment">// Unbind frames</span></div>
<div class="line"><span class="lineno">  874</span>  FramesSet::iterator ft, fEnd = m_frames.end();</div>
<div class="line"><span class="lineno">  875</span>  <span class="keywordflow">for</span> (ft = m_frames.begin(); ft != fEnd; ++ft) {</div>
<div class="line"><span class="lineno">  876</span>    im-&gt;<a class="code hl_function" href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">unbind</a>(getImageId(*ft, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>));</div>
<div class="line"><span class="lineno">  877</span>    im-&gt;<a class="code hl_function" href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">unbind</a>(getImageId(*ft, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d">Cleanupped</a>));</div>
<div class="line"><span class="lineno">  878</span>    im-&gt;<a class="code hl_function" href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">unbind</a>(getImageId(*ft, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0">CleanupPreview</a>));</div>
<div class="line"><span class="lineno">  879</span>    <span class="comment">// remove icon cache as well</span></div>
<div class="line"><span class="lineno">  880</span>    ic-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(getIconId(*ft, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b">Normal</a>));</div>
<div class="line"><span class="lineno">  881</span>    ic-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(getIconId(*ft, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>));</div>
<div class="line"><span class="lineno">  882</span>    ic-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(getIconId(*ft, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0">CleanupPreview</a>));</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == PLI_XSHLEVEL) im-&gt;<a class="code hl_function" href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">unbind</a>(rasterized(getImageId(*ft)));</div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == OVL_XSHLEVEL || <a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == TZI_XSHLEVEL)</div>
<div class="line"><span class="lineno">  887</span>      im-&gt;<a class="code hl_function" href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">unbind</a>(filled(getImageId(*ft)));</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>    <a class="code hl_function" href="textureutils_8h.html#a7eb8d0c536418e650eecde9e9230a602">texture_utils::invalidateTexture</a>(<span class="keyword">this</span>, *ft);</div>
<div class="line"><span class="lineno">  890</span>  }</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>  <span class="comment">// Clear level</span></div>
<div class="line"><span class="lineno">  893</span>  m_frames.clear();</div>
<div class="line"><span class="lineno">  894</span>  m_editableRange.clear();</div>
<div class="line"><span class="lineno">  895</span>  m_editableRangeUserInfo.clear();</div>
<div class="line"><span class="lineno">  896</span>  m_renumberTable.clear();</div>
<div class="line"><span class="lineno">  897</span>  m_framesStatus.clear();</div>
<div class="line"><span class="lineno">  898</span>}</div>
<div class="ttc" id="aclass_image_manager_html"><div class="ttname"><a href="class_image_manager.html">ImageManager</a></div><div class="ttdef"><b>Definition:</b> imagemanager.h:104</div></div>
<div class="ttc" id="aclass_image_manager_html_ab74305fdae38a7704081f7f777d0d80d"><div class="ttname"><a href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">ImageManager::unbind</a></div><div class="ttdeci">bool unbind(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> imagemanager.cpp:214</div></div>
<div class="ttc" id="aclass_t_image_cache_html"><div class="ttname"><a href="class_t_image_cache.html">TImageCache</a></div><div class="ttdef"><b>Definition:</b> timagecache.h:66</div></div>
<div class="ttc" id="aclass_t_image_cache_html_a57d63227dfe2532b0aed22c47113be66"><div class="ttname"><a href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">TImageCache::remove</a></div><div class="ttdeci">void remove(const std::string &amp;id)</div><div class="ttdoc">Removes from the image cache the image associated to passed id.</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1260</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_ab7c5304393b515ca242823e25bb698f4"><div class="ttname"><a href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">TXshLevel::m_type</a></div><div class="ttdeci">int m_type</div><div class="ttdef"><b>Definition:</b> txshlevel.h:59</div></div>
<div class="ttc" id="atextureutils_8h_html_a7eb8d0c536418e650eecde9e9230a602"><div class="ttname"><a href="textureutils_8h.html#a7eb8d0c536418e650eecde9e9230a602">texture_utils::invalidateTexture</a></div><div class="ttdeci">void invalidateTexture(const TXshSimpleLevel *sl, const TFrameId &amp;fid)</div><div class="ttdef"><b>Definition:</b> textureutils.cpp:140</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a09ad625966e5c83579880385054ad43f" name="a09ad625966e5c83579880385054ad43f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ad625966e5c83579880385054ad43f">&#9670;&nbsp;</a></span>clonePropertiesFrom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::clonePropertiesFrom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *&#160;</td>
          <td class="paramname"><em>oldSl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  411</span>                                                                      {</div>
<div class="line"><span class="lineno">  412</span>  m_properties-&gt;setImageDpi(</div>
<div class="line"><span class="lineno">  413</span>      oldSl-&gt;m_properties</div>
<div class="line"><span class="lineno">  414</span>          -&gt;getImageDpi());  <span class="comment">// Watch out - may change dpi policy!</span></div>
<div class="line"><span class="lineno">  415</span>  m_properties-&gt;setDpi(oldSl-&gt;m_properties-&gt;getDpi());</div>
<div class="line"><span class="lineno">  416</span>  m_properties-&gt;setDpiPolicy(oldSl-&gt;m_properties-&gt;getDpiPolicy());</div>
<div class="line"><span class="lineno">  417</span>  m_properties-&gt;setImageRes(oldSl-&gt;m_properties-&gt;getImageRes());</div>
<div class="line"><span class="lineno">  418</span>  m_properties-&gt;setBpp(oldSl-&gt;m_properties-&gt;getBpp());</div>
<div class="line"><span class="lineno">  419</span>  m_properties-&gt;setSubsampling(oldSl-&gt;m_properties-&gt;getSubsampling());</div>
<div class="line"><span class="lineno">  420</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a821df490f42bb53d419ed4d3c4b97972" name="a821df490f42bb53d419ed4d3c4b97972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a821df490f42bb53d419ed4d3c4b97972">&#9670;&nbsp;</a></span>copyFiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::copyFiles </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy files from src to dst. </p>
<div class="fragment"><div class="line"><span class="lineno"> 2175</span>                                                                          {</div>
<div class="line"><span class="lineno"> 2176</span>  <span class="keywordflow">if</span> (dst == src) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2177</span>  TSystem::touchParentDir(dst);</div>
<div class="line"><span class="lineno"> 2178</span>  TSystem::copyFileOrLevel_throw(dst, src);</div>
<div class="line"><span class="lineno"> 2179</span>  <span class="keywordflow">if</span> (dst.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;tlv&quot;</span>) {</div>
<div class="line"><span class="lineno"> 2180</span>    <span class="comment">// Copio la palette del livello</span></div>
<div class="line"><span class="lineno"> 2181</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> srcPltPath =</div>
<div class="line"><span class="lineno"> 2182</span>        src.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>() + <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(src.getWideName() + L<span class="stringliteral">&quot;.tpl&quot;</span>);</div>
<div class="line"><span class="lineno"> 2183</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(srcPltPath).doesExist())</div>
<div class="line"><span class="lineno"> 2184</span>      TSystem::copyFile(</div>
<div class="line"><span class="lineno"> 2185</span>          dst.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>() + <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(dst.getWideName() + L<span class="stringliteral">&quot;.tpl&quot;</span>),</div>
<div class="line"><span class="lineno"> 2186</span>          srcPltPath, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2187</span>  }</div>
<div class="line"><span class="lineno"> 2188</span>  <span class="keywordflow">if</span> (dst.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;tzp&quot;</span> || dst.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;tzu&quot;</span>) {</div>
<div class="line"><span class="lineno"> 2189</span>    <span class="comment">// Copio la palette del livello</span></div>
<div class="line"><span class="lineno"> 2190</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> srcPltPath =</div>
<div class="line"><span class="lineno"> 2191</span>        src.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>() + <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(src.getWideName() + L<span class="stringliteral">&quot;.plt&quot;</span>);</div>
<div class="line"><span class="lineno"> 2192</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(srcPltPath).doesExist())</div>
<div class="line"><span class="lineno"> 2193</span>      TSystem::copyFile(</div>
<div class="line"><span class="lineno"> 2194</span>          dst.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>() + <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(dst.getWideName() + L<span class="stringliteral">&quot;.plt&quot;</span>),</div>
<div class="line"><span class="lineno"> 2195</span>          srcPltPath, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2196</span>  }</div>
<div class="line"><span class="lineno"> 2197</span> </div>
<div class="line"><span class="lineno"> 2198</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;srcHookFile = <a class="code hl_function" href="class_t_xsh_simple_level.html#a543f442eca762915046bf52bccc2b4fc">TXshSimpleLevel::getExistingHookFile</a>(src);</div>
<div class="line"><span class="lineno"> 2199</span>  <span class="keywordflow">if</span> (!srcHookFile.isEmpty()) {</div>
<div class="line"><span class="lineno"> 2200</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;dstHookFile = <a class="code hl_function" href="class_t_xsh_simple_level.html#a23704b0d8be9290a8ab9c72c3139958b">getHookPath</a>(dst);</div>
<div class="line"><span class="lineno"> 2201</span>    TSystem::copyFile(dstHookFile, srcHookFile, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2202</span>  }</div>
<div class="line"><span class="lineno"> 2203</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> files = src.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>() + (src.<a class="code hl_function" href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">getName</a>() + <span class="stringliteral">&quot;_files&quot;</span>);</div>
<div class="line"><span class="lineno"> 2204</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(files).doesExist() &amp;&amp; <a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(files).isDirectory())</div>
<div class="line"><span class="lineno"> 2205</span>    TSystem::copyDir(dst.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>() + (src.<a class="code hl_function" href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">getName</a>() + <span class="stringliteral">&quot;_files&quot;</span>), files);</div>
<div class="line"><span class="lineno"> 2206</span>}</div>
<div class="ttc" id="aclass_t_file_path_html"><div class="ttname"><a href="class_t_file_path.html">TFilePath</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:134</div></div>
<div class="ttc" id="aclass_t_file_path_html_a1f5014e9c396bc2268820c19bc15657d"><div class="ttname"><a href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">TFilePath::getParentDir</a></div><div class="ttdeci">TFilePath getParentDir() const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:683</div></div>
<div class="ttc" id="aclass_t_file_path_html_aefca624df1a5468a4c78ec6d5dbfae26"><div class="ttname"><a href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">TFilePath::getType</a></div><div class="ttdeci">std::string getType() const</div><div class="ttdef"><b>Definition:</b> tfilepath.h:225</div></div>
<div class="ttc" id="aclass_t_file_path_html_af94f9b0aeceb6cdb980fa1789473503a"><div class="ttname"><a href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">TFilePath::getName</a></div><div class="ttdeci">std::string getName() const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:636</div></div>
<div class="ttc" id="aclass_t_file_status_html"><div class="ttname"><a href="class_t_file_status.html">TFileStatus</a></div><div class="ttdef"><b>Definition:</b> tsystem.h:36</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a23704b0d8be9290a8ab9c72c3139958b"><div class="ttname"><a href="class_t_xsh_simple_level.html#a23704b0d8be9290a8ab9c72c3139958b">TXshSimpleLevel::getHookPath</a></div><div class="ttdeci">static TFilePath getHookPath(const TFilePath &amp;levelPath)</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:2289</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a543f442eca762915046bf52bccc2b4fc"><div class="ttname"><a href="class_t_xsh_simple_level.html#a543f442eca762915046bf52bccc2b4fc">TXshSimpleLevel::getExistingHookFile</a></div><div class="ttdeci">static TFilePath getExistingHookFile(const TFilePath &amp;decodedLevelPath)</div><div class="ttdoc">Returns the path of the newest existing hook file associated to the specified decoded level path - or...</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:2321</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l02321">getExistingHookFile()</a>, <a class="el" href="#l02289">getHookPath()</a>, <a class="el" href="#l00636">TFilePath::getName()</a>, <a class="el" href="#l00683">TFilePath::getParentDir()</a>, and <a class="el" href="#l00225">TFilePath::getType()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00209">SceneLevel::save()</a>, and <a class="el" href="#l01468">save()</a>.</p>

</div>
</div>
<a id="a32326317b949489c443457ddd55ce256" name="a32326317b949489c443457ddd55ce256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32326317b949489c443457ddd55ce256">&#9670;&nbsp;</a></span>createEmptyFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_smart_pointer_t.html">TImageP</a> TXshSimpleLevel::createEmptyFrame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>and assigns the specified level path. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1978</span>                                          {</div>
<div class="line"><span class="lineno"> 1979</span>  <span class="comment">// In case this is the first frame to be created in this level (i.e. the level</span></div>
<div class="line"><span class="lineno"> 1980</span>  <span class="comment">// file was missing when loading resources) initialize the level in the same</span></div>
<div class="line"><span class="lineno"> 1981</span>  <span class="comment">// manner as createNewLevel() in order to avoid crash. This can be happened if</span></div>
<div class="line"><span class="lineno"> 1982</span>  <span class="comment">// the level was not saved after creating and being placed in the xsheet.</span></div>
<div class="line"><span class="lineno"> 1983</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">isEmpty</a>()) {</div>
<div class="line"><span class="lineno"> 1984</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>()) initializePalette();</div>
<div class="line"><span class="lineno"> 1985</span>    initializeResolutionAndDpi();</div>
<div class="line"><span class="lineno"> 1986</span>  }</div>
<div class="line"><span class="lineno"> 1987</span> </div>
<div class="line"><span class="lineno"> 1988</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> result;</div>
<div class="line"><span class="lineno"> 1989</span> </div>
<div class="line"><span class="lineno"> 1990</span>  <span class="keywordflow">switch</span> (<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a>) {</div>
<div class="line"><span class="lineno"> 1991</span>  <span class="keywordflow">case</span> PLI_XSHLEVEL:</div>
<div class="line"><span class="lineno"> 1992</span>    result = <span class="keyword">new</span> <a class="code hl_class" href="class_t_vector_image.html">TVectorImage</a>;</div>
<div class="line"><span class="lineno"> 1993</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1994</span> </div>
<div class="line"><span class="lineno"> 1995</span>  <span class="keywordflow">case</span> MESH_XSHLEVEL:</div>
<div class="line"><span class="lineno"> 1996</span>    assert(<span class="keyword">false</span>);  <span class="comment">// Not implemented yet</span></div>
<div class="line"><span class="lineno"> 1997</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1998</span> </div>
<div class="line"><span class="lineno"> 1999</span>  <span class="keywordflow">default</span>: {</div>
<div class="line"><span class="lineno"> 2000</span>    <span class="comment">// normally the image must have the level-&gt;getProperties()-&gt;getImageDpi().</span></div>
<div class="line"><span class="lineno"> 2001</span>    <span class="comment">// if this value is missing (for some reason - can this happen, ever?) then</span></div>
<div class="line"><span class="lineno"> 2002</span>    <span class="comment">// we use the getDpi() (that is the current dpi, e.g. cameraDpi or</span></div>
<div class="line"><span class="lineno"> 2003</span>    <span class="comment">// customDpi).</span></div>
<div class="line"><span class="lineno"> 2004</span> </div>
<div class="line"><span class="lineno"> 2005</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> dpi = <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a3daf3c70b445a320ba10e16331c6bedc">getImageDpi</a>();</div>
<div class="line"><span class="lineno"> 2006</span>    <span class="comment">/*--</span></div>
<div class="line"><span class="lineno"> 2007</span><span class="comment">    tgatlvconvertInsert Paste</span></div>
<div class="line"><span class="lineno"> 2008</span><span class="comment">    DPI</span></div>
<div class="line"><span class="lineno"> 2009</span><span class="comment">    --*/</span></div>
<div class="line"><span class="lineno"> 2010</span>    <span class="comment">// if(dpi.x==0.0 || dpi.y==0.0)</span></div>
<div class="line"><span class="lineno"> 2011</span>    <span class="comment">//  dpi = getProperties()-&gt;getDpi();</span></div>
<div class="line"><span class="lineno"> 2012</span> </div>
<div class="line"><span class="lineno"> 2013</span>    <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> res = <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#adac2b8c3ed147184fc78799cd65ca8f9">getImageRes</a>();</div>
<div class="line"><span class="lineno"> 2014</span> </div>
<div class="line"><span class="lineno"> 2015</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == TZP_XSHLEVEL) {</div>
<div class="line"><span class="lineno"> 2016</span>      <a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a> raster(res);</div>
<div class="line"><span class="lineno"> 2017</span>      raster-&gt;fill(<a class="code hl_class" href="class_t_pixel_c_m32.html">TPixelCM32</a>());</div>
<div class="line"><span class="lineno"> 2018</span>      <a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a> ti(raster, <a class="code hl_class" href="class_t_rect_t.html">TRect</a>());</div>
<div class="line"><span class="lineno"> 2019</span>      ti-&gt;setDpi(dpi.x, dpi.y);</div>
<div class="line"><span class="lineno"> 2020</span>      ti-&gt;setSavebox(<a class="code hl_class" href="class_t_rect_t.html">TRect</a>(0, 0, res.lx - 1, res.ly - 1));</div>
<div class="line"><span class="lineno"> 2021</span> </div>
<div class="line"><span class="lineno"> 2022</span>      result = ti;</div>
<div class="line"><span class="lineno"> 2023</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2024</span>      <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> raster(res);</div>
<div class="line"><span class="lineno"> 2025</span>      raster-&gt;fill(TPixel32(0, 0, 0, 0));</div>
<div class="line"><span class="lineno"> 2026</span>      <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> ri(raster);</div>
<div class="line"><span class="lineno"> 2027</span>      ri-&gt;setDpi(dpi.x, dpi.y);</div>
<div class="line"><span class="lineno"> 2028</span> </div>
<div class="line"><span class="lineno"> 2029</span>      result = ri;</div>
<div class="line"><span class="lineno"> 2030</span>    }</div>
<div class="line"><span class="lineno"> 2031</span> </div>
<div class="line"><span class="lineno"> 2032</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2033</span>  }</div>
<div class="line"><span class="lineno"> 2034</span>  }</div>
<div class="line"><span class="lineno"> 2035</span> </div>
<div class="line"><span class="lineno"> 2036</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2037</span>}</div>
<div class="ttc" id="aclass_level_properties_html_a3daf3c70b445a320ba10e16331c6bedc"><div class="ttname"><a href="class_level_properties.html#a3daf3c70b445a320ba10e16331c6bedc">LevelProperties::getImageDpi</a></div><div class="ttdeci">TPointD getImageDpi() const</div><div class="ttdoc">Returns the level's image dpi.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:102</div></div>
<div class="ttc" id="aclass_level_properties_html_adac2b8c3ed147184fc78799cd65ca8f9"><div class="ttname"><a href="class_level_properties.html#adac2b8c3ed147184fc78799cd65ca8f9">LevelProperties::getImageRes</a></div><div class="ttdeci">TDimension getImageRes() const</div><div class="ttdoc">Returns the level's known image resolution.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:90</div></div>
<div class="ttc" id="aclass_t_dimension_t_html"><div class="ttname"><a href="class_t_dimension_t.html">TDimensionT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_pixel_c_m32_html"><div class="ttname"><a href="class_t_pixel_c_m32.html">TPixelCM32</a></div><div class="ttdoc">Toonz5.0 color-map, 12+12+8 bits (ink,paint,tone)</div><div class="ttdef"><b>Definition:</b> tpixelcm.h:22</div></div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_raster_image_p_html"><div class="ttname"><a href="class_t_raster_image_p.html">TRasterImageP</a></div><div class="ttdef"><b>Definition:</b> trasterimage.h:148</div></div>
<div class="ttc" id="aclass_t_raster_p_t_html"><div class="ttname"><a href="class_t_raster_p_t.html">TRasterPT&lt; TPixelCM32 &gt;</a></div></div>
<div class="ttc" id="aclass_t_rect_t_html"><div class="ttname"><a href="class_t_rect_t.html">TRectT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TImage &gt;</a></div></div>
<div class="ttc" id="aclass_t_toonz_image_p_html"><div class="ttname"><a href="class_t_toonz_image_p.html">TToonzImageP</a></div><div class="ttdef"><b>Definition:</b> ttoonzimage.h:126</div></div>
<div class="ttc" id="aclass_t_vector_image_html"><div class="ttname"><a href="class_t_vector_image.html">TVectorImage</a></div><div class="ttdef"><b>Definition:</b> tvectorimage.h:58</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a7c256d2745209a181a2dbccdec949c5e"><div class="ttname"><a href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">TXshSimpleLevel::isEmpty</a></div><div class="ttdeci">bool isEmpty() const override</div><div class="ttdoc">Returns whether the level is empty.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:147</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a9aea4f8e34caef293d5e5c7694047564"><div class="ttname"><a href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">TXshSimpleLevel::getPalette</a></div><div class="ttdeci">TPalette * getPalette() const</div><div class="ttdoc">Returns a pointer to the shared level palette.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:424</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_ad412dd5c3a6ae3ff20a480dc728b26d2"><div class="ttname"><a href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">TXshSimpleLevel::getProperties</a></div><div class="ttdeci">LevelProperties * getProperties() const</div><div class="ttdoc">&lt; Returns a pointer to the owned level properties.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:109</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00102">LevelProperties::getImageDpi()</a>, <a class="el" href="#l00090">LevelProperties::getImageRes()</a>, <a class="el" href="#l00424">getPalette()</a>, <a class="el" href="#l00109">getProperties()</a>, <a class="el" href="#l00147">isEmpty()</a>, and <a class="el" href="#l00059">TXshLevel::m_type</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00294">TTool::touchImage()</a>.</p>

</div>
</div>
<a id="ada690578191ecbafe178673f204b98ce" name="ada690578191ecbafe178673f204b98ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada690578191ecbafe178673f204b98ce">&#9670;&nbsp;</a></span>eraseFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::eraseFrame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  832</span>                                                    {</div>
<div class="line"><span class="lineno">  833</span>  FramesSet::iterator ft = m_frames.find(fid);</div>
<div class="line"><span class="lineno">  834</span>  <span class="keywordflow">if</span> (ft == m_frames.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>  <span class="comment">// Erase the corresponding entry in the renumber table</span></div>
<div class="line"><span class="lineno">  837</span>  std::map&lt;TFrameId, TFrameId&gt;::iterator rt, rEnd(m_renumberTable.end());</div>
<div class="line"><span class="lineno">  838</span>  <span class="keywordflow">for</span> (rt = m_renumberTable.begin(); rt != rEnd; ++rt) {</div>
<div class="line"><span class="lineno">  839</span>    <span class="keywordflow">if</span> (rt-&gt;second == fid) {</div>
<div class="line"><span class="lineno">  840</span>      m_renumberTable.erase(rt-&gt;first);</div>
<div class="line"><span class="lineno">  841</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  842</span>    }</div>
<div class="line"><span class="lineno">  843</span>  }</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>  m_frames.erase(ft);</div>
<div class="line"><span class="lineno">  846</span>  <a class="code hl_function" href="class_t_xsh_level.html#a6e1f2998c39699adbe9133f87109a104">getHookSet</a>()-&gt;eraseFrame(fid);</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>  <a class="code hl_class" href="class_image_manager.html">ImageManager</a> *im = ImageManager::instance();</div>
<div class="line"><span class="lineno">  849</span>  <a class="code hl_class" href="class_t_image_cache.html">TImageCache</a> *ic  = TImageCache::instance();</div>
<div class="line"><span class="lineno">  850</span>  {</div>
<div class="line"><span class="lineno">  851</span>    im-&gt;<a class="code hl_function" href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">unbind</a>(getImageId(fid, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b">Normal</a>));</div>
<div class="line"><span class="lineno">  852</span>    im-&gt;<a class="code hl_function" href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">unbind</a>(getImageId(fid, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>));</div>
<div class="line"><span class="lineno">  853</span>    im-&gt;<a class="code hl_function" href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">unbind</a>(getImageId(fid, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0">CleanupPreview</a>));</div>
<div class="line"><span class="lineno">  854</span>    <span class="comment">// remove icon cache as well</span></div>
<div class="line"><span class="lineno">  855</span>    ic-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(getIconId(fid, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b">Normal</a>));</div>
<div class="line"><span class="lineno">  856</span>    ic-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(getIconId(fid, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>));</div>
<div class="line"><span class="lineno">  857</span>    ic-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(getIconId(fid, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0">CleanupPreview</a>));</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == PLI_XSHLEVEL) im-&gt;<a class="code hl_function" href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">unbind</a>(rasterized(getImageId(fid)));</div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == OVL_XSHLEVEL || <a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == TZI_XSHLEVEL)</div>
<div class="line"><span class="lineno">  862</span>      im-&gt;<a class="code hl_function" href="class_image_manager.html#ab74305fdae38a7704081f7f777d0d80d">unbind</a>(filled(getImageId(fid)));</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>    <a class="code hl_function" href="textureutils_8h.html#a7eb8d0c536418e650eecde9e9230a602">texture_utils::invalidateTexture</a>(<span class="keyword">this</span>, fid);</div>
<div class="line"><span class="lineno">  865</span>  }</div>
<div class="line"><span class="lineno">  866</span>}</div>
<div class="ttc" id="aclass_t_xsh_level_html_a6e1f2998c39699adbe9133f87109a104"><div class="ttname"><a href="class_t_xsh_level.html#a6e1f2998c39699adbe9133f87109a104">TXshLevel::getHookSet</a></div><div class="ttdeci">HookSet * getHookSet() const</div><div class="ttdef"><b>Definition:</b> txshlevel.h:141</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3ec4942dc183f5245afa9c51b22c7f6" name="ad3ec4942dc183f5245afa9c51b22c7f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3ec4942dc183f5245afa9c51b22c7f6">&#9670;&nbsp;</a></span>fid2index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TXshSimpleLevel::fid2index </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>an invalid frame otherwise. </p>
<p >Returns the frame <em>index</em> corresponding to the specified </p>
<div class="fragment"><div class="line"><span class="lineno">  515</span>                                                        {</div>
<div class="line"><span class="lineno">  516</span>  FramesSet::const_iterator ft = m_frames.find(fid);</div>
<div class="line"><span class="lineno">  517</span>  <span class="keywordflow">return</span> (ft != m_frames.end()) ? std::distance(m_frames.begin(), ft)</div>
<div class="line"><span class="lineno">  518</span>                                :  <span class="comment">// Note: flat_set has random access</span></div>
<div class="line"><span class="lineno">  519</span>             -1;                   <span class="comment">// iterators, so this is FAST</span></div>
<div class="line"><span class="lineno">  520</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1629d7fbc5e0c41ebc1a40f9f70d40d5" name="a1629d7fbc5e0c41ebc1a40f9f70d40d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1629d7fbc5e0c41ebc1a40f9f70d40d5">&#9670;&nbsp;</a></span>getBBox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_rect_t.html">TRectD</a> TXshSimpleLevel::getBBox </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the bbox for the level's fid, specified in standard <em>inch</em> coordinates (which are <em>different</em> from Toonz's standard world coordinates, by a <code><a class="el" href="namespace_stage.html#ad3e22e31e2bb6fc1d95a572facce2d5b">Stage::inch</a></code> factor). <br  />
 </p>
<div class="fragment"><div class="line"><span class="lineno"> 2360</span>                                                         {</div>
<div class="line"><span class="lineno"> 2361</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> bbox;</div>
<div class="line"><span class="lineno"> 2362</span>  <span class="keywordtype">double</span> dpiX = <a class="code hl_variable" href="namespace_stage.html#ad3e22e31e2bb6fc1d95a572facce2d5b">Stage::inch</a>, dpiY = dpiX;</div>
<div class="line"><span class="lineno"> 2363</span> </div>
<div class="line"><span class="lineno"> 2364</span>  <span class="comment">// Get the frame bbox in image coordinates</span></div>
<div class="line"><span class="lineno"> 2365</span>  <span class="keywordflow">switch</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>()) {</div>
<div class="line"><span class="lineno"> 2366</span>  <span class="keywordflow">case</span> PLI_XSHLEVEL:</div>
<div class="line"><span class="lineno"> 2367</span>  <span class="keywordflow">case</span> MESH_XSHLEVEL: {</div>
<div class="line"><span class="lineno"> 2368</span>    <span class="comment">// Load the image and extract its bbox forcibly</span></div>
<div class="line"><span class="lineno"> 2369</span>    <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = getFrame(fid, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2370</span>    <span class="keywordflow">if</span> (!img) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>();</div>
<div class="line"><span class="lineno"> 2371</span> </div>
<div class="line"><span class="lineno"> 2372</span>    bbox = img-&gt;<a class="code hl_function" href="class_t_image.html#ac6a21b84486dec0c86b5b0b3f34be0ef">getBBox</a>();</div>
<div class="line"><span class="lineno"> 2373</span> </div>
<div class="line"><span class="lineno"> 2374</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_mesh_image_p.html">TMeshImageP</a> mi = img) mi-&gt;getDpi(dpiX, dpiY);</div>
<div class="line"><span class="lineno"> 2375</span> </div>
<div class="line"><span class="lineno"> 2376</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2377</span>  }</div>
<div class="line"><span class="lineno"> 2378</span> </div>
<div class="line"><span class="lineno"> 2379</span>  <span class="keywordflow">default</span>: {</div>
<div class="line"><span class="lineno"> 2380</span>    <span class="comment">// Raster case: retrieve the image info from the ImageManager</span></div>
<div class="line"><span class="lineno"> 2381</span>    <span class="keyword">const</span> std::string &amp;imageId = getImageId(fid);</div>
<div class="line"><span class="lineno"> 2382</span> </div>
<div class="line"><span class="lineno"> 2383</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_image_info.html">TImageInfo</a> *info =</div>
<div class="line"><span class="lineno"> 2384</span>        ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a44231d6948d69f54e9a4315049131086">getInfo</a>(imageId, ImageManager::none, 0);</div>
<div class="line"><span class="lineno"> 2385</span>    <span class="keywordflow">if</span> (!info) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>();</div>
<div class="line"><span class="lineno"> 2386</span> </div>
<div class="line"><span class="lineno"> 2387</span>    bbox = <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(info-&gt;m_x0, info-&gt;m_y0),</div>
<div class="line"><span class="lineno"> 2388</span>                  <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(info-&gt;m_x1, info-&gt;m_y1)) -</div>
<div class="line"><span class="lineno"> 2389</span>           0.5 * <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(info-&gt;m_lx, info-&gt;m_ly);</div>
<div class="line"><span class="lineno"> 2390</span> </div>
<div class="line"><span class="lineno"> 2391</span>    <span class="keywordflow">if</span> (info-&gt;m_dpix &gt; 0.0 &amp;&amp; info-&gt;m_dpiy &gt; 0.0)</div>
<div class="line"><span class="lineno"> 2392</span>      dpiX = info-&gt;m_dpix, dpiY = info-&gt;m_dpiy;</div>
<div class="line"><span class="lineno"> 2393</span> </div>
<div class="line"><span class="lineno"> 2394</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2395</span>  }</div>
<div class="line"><span class="lineno"> 2396</span>  }</div>
<div class="line"><span class="lineno"> 2397</span> </div>
<div class="line"><span class="lineno"> 2398</span>  <span class="comment">// Get the frame&#39;s dpi and traduce the bbox to inch coordinates</span></div>
<div class="line"><span class="lineno"> 2399</span>  <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_scale.html">TScale</a>(1.0 / dpiX, 1.0 / dpiY) * bbox;</div>
<div class="line"><span class="lineno"> 2400</span>}</div>
<div class="ttc" id="aclass_image_manager_html_a44231d6948d69f54e9a4315049131086"><div class="ttname"><a href="class_image_manager.html#a44231d6948d69f54e9a4315049131086">ImageManager::getInfo</a></div><div class="ttdeci">TImageInfo * getInfo(const std::string &amp;id, int imFlags, void *extData)</div><div class="ttdef"><b>Definition:</b> imagemanager.cpp:278</div></div>
<div class="ttc" id="aclass_t_image_html_ac6a21b84486dec0c86b5b0b3f34be0ef"><div class="ttname"><a href="class_t_image.html#ac6a21b84486dec0c86b5b0b3f34be0ef">TImage::getBBox</a></div><div class="ttdeci">virtual TRectD getBBox() const =0</div></div>
<div class="ttc" id="aclass_t_image_info_html"><div class="ttname"><a href="class_t_image_info.html">TImageInfo</a></div><div class="ttdoc">Stores description data about a generic image.</div><div class="ttdef"><b>Definition:</b> timageinfo.h:35</div></div>
<div class="ttc" id="aclass_t_mesh_image_p_html"><div class="ttname"><a href="class_t_mesh_image_p.html">TMeshImageP</a></div><div class="ttdef"><b>Definition:</b> tmeshimage.h:209</div></div>
<div class="ttc" id="aclass_t_scale_html"><div class="ttname"><a href="class_t_scale.html">TScale</a></div><div class="ttdef"><b>Definition:</b> tgeometry.h:1133</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a1a147f1e970a62120c0bbaf0020a8932"><div class="ttname"><a href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">TXshLevel::getType</a></div><div class="ttdeci">int getType() const</div><div class="ttdef"><b>Definition:</b> txshlevel.h:81</div></div>
<div class="ttc" id="anamespace_stage_html_ad3e22e31e2bb6fc1d95a572facce2d5b"><div class="ttname"><a href="namespace_stage.html#ad3e22e31e2bb6fc1d95a572facce2d5b">Stage::inch</a></div><div class="ttdeci">DVVAR const double inch</div><div class="ttdef"><b>Definition:</b> stageplayer.h:37</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="class_t_image.html#ac6a21b84486dec0c86b5b0b3f34be0ef">TImage::getBBox()</a>, <a class="el" href="#l00278">ImageManager::getInfo()</a>, <a class="el" href="#l00081">TXshLevel::getType()</a>, and <a class="el" href="#l00037">Stage::inch</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01627">TXsheet::getBBox()</a>.</p>

</div>
</div>
<a id="ae409bd3bb5c7d5f796555c6396fc449a" name="ae409bd3bb5c7d5f796555c6396fc449a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae409bd3bb5c7d5f796555c6396fc449a">&#9670;&nbsp;</a></span>getContentHistory() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_content_history.html">TContentHistory</a> * TXshSimpleLevel::getContentHistory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  294</span>{ <span class="keywordflow">return</span> m_contentHistory.get(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fe15ee3d60e1f5f5c38d6ba75d36812" name="a2fe15ee3d60e1f5f5c38d6ba75d36812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fe15ee3d60e1f5f5c38d6ba75d36812">&#9670;&nbsp;</a></span>getContentHistory() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_t_content_history.html">TContentHistory</a> * TXshSimpleLevel::getContentHistory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>note gets the contentHistory. can be 0 </p>
<div class="fragment"><div class="line"><span class="lineno">  291</span>                                                   {</div>
<div class="line"><span class="lineno">  292</span>    <span class="keywordflow">return</span> m_contentHistory.get();</div>
<div class="line"><span class="lineno">  293</span>  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00269">LevelUpdater::open()</a>, and <a class="el" href="#l00330">touchFrame()</a>.</p>

</div>
</div>
<a id="a93b2da3076b24d08ccf636df578b70e5" name="a93b2da3076b24d08ccf636df578b70e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93b2da3076b24d08ccf636df578b70e5">&#9670;&nbsp;</a></span>getDirtyFlag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TXshSimpleLevel::getDirtyFlag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  324</span>                                         {</div>
<div class="line"><span class="lineno">  325</span>  <span class="keywordflow">return</span> m_properties-&gt;getDirtyFlag();</div>
<div class="line"><span class="lineno">  326</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ec6eb953e3175d60b41f7b8d7694a0f" name="a5ec6eb953e3175d60b41f7b8d7694a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec6eb953e3175d60b41f7b8d7694a0f">&#9670;&nbsp;</a></span>getDpi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPointD</a> TXshSimpleLevel::getDpi </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em> = <code>TFrameId::NO_FRAME</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frameStatus</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2080</span>                                                                    {</div>
<div class="line"><span class="lineno"> 2081</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> dpi;</div>
<div class="line"><span class="lineno"> 2082</span>  <span class="keywordflow">if</span> (m_properties-&gt;getDpiPolicy() == LevelProperties::DP_ImageDpi)</div>
<div class="line"><span class="lineno"> 2083</span>    dpi = getImageDpi(fid, frameStatus);</div>
<div class="line"><span class="lineno"> 2084</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2085</span>    dpi = m_properties-&gt;getDpi();</div>
<div class="line"><span class="lineno"> 2086</span>  <span class="keywordflow">return</span> dpi;</div>
<div class="line"><span class="lineno"> 2087</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e3b0b2db2063e9537dd860ffe28a774" name="a8e3b0b2db2063e9537dd860ffe28a774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e3b0b2db2063e9537dd860ffe28a774">&#9670;&nbsp;</a></span>getEditableFileName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::wstring TXshSimpleLevel::getEditableFileName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  289</span>                                                {</div>
<div class="line"><span class="lineno">  290</span><span class="preprocessor">#ifdef MACOSX</span></div>
<div class="line"><span class="lineno">  291</span>  std::wstring fileName = L<span class="stringliteral">&quot;.&quot;</span> + m_path.getWideName();</div>
<div class="line"><span class="lineno">  292</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  293</span>  std::wstring fileName = m_path.getWideName();</div>
<div class="line"><span class="lineno">  294</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  295</span>  fileName += L<span class="stringliteral">&quot;_&quot;</span> + m_editableRangeUserInfo;</div>
<div class="line"><span class="lineno">  296</span>  <span class="keywordtype">int</span> from, to;</div>
<div class="line"><span class="lineno">  297</span>  getIndexesRangefromFids(<span class="keyword">this</span>, m_editableRange, from, to);</div>
<div class="line"><span class="lineno">  298</span>  <span class="keywordflow">if</span> (from == -1 &amp;&amp; to == -1) <span class="keywordflow">return</span> L<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  299</span>  fileName += L<span class="stringliteral">&quot;_&quot;</span> + std::to_wstring(from + 1) + L<span class="stringliteral">&quot;-&quot;</span> + std::to_wstring(to + 1);</div>
<div class="line"><span class="lineno">  300</span>  <span class="keywordflow">return</span> fileName;</div>
<div class="line"><span class="lineno">  301</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adadcf84e1ef7d94aa0bc4410f52332ef" name="adadcf84e1ef7d94aa0bc4410f52332ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adadcf84e1ef7d94aa0bc4410f52332ef">&#9670;&nbsp;</a></span>getEditableRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; TXshSimpleLevel::getEditableRange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the set of editable frames. </p>
<div class="fragment"><div class="line"><span class="lineno">  305</span>                                                   {</div>
<div class="line"><span class="lineno">  306</span>  <span class="keywordflow">return</span> m_editableRange;</div>
<div class="line"><span class="lineno">  307</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a543f442eca762915046bf52bccc2b4fc" name="a543f442eca762915046bf52bccc2b4fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a543f442eca762915046bf52bccc2b4fc">&#9670;&nbsp;</a></span>getExistingHookFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_file_path.html">TFilePath</a> TXshSimpleLevel::getExistingHookFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>decodedLevelPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the path of the newest <em>existing</em> hook file associated to the specified <b>decoded</b> level path - or an empty path if none was found. </p>
<dl class="section note"><dt>Note</dt><dd>In case there are more than one hook file (ie files from older Toonz version), the latest file version is used. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 2322</span>                                       {</div>
<div class="line"><span class="lineno"> 2323</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> pCount              = 3;</div>
<div class="line"><span class="lineno"> 2324</span>  <span class="keyword">static</span> <span class="keyword">const</span> QRegExp pattern[pCount] = {</div>
<div class="line"><span class="lineno"> 2325</span>      <span class="comment">// Prioritized in this order</span></div>
<div class="line"><span class="lineno"> 2326</span>      QRegExp(<span class="stringliteral">&quot;.*\\.\\.?.+\\.xml$&quot;</span>),  <span class="comment">// whatever.(.)ext.xml</span></div>
<div class="line"><span class="lineno"> 2327</span>      QRegExp(<span class="stringliteral">&quot;.*\\.xml$&quot;</span>),           <span class="comment">// whatever.xml</span></div>
<div class="line"><span class="lineno"> 2328</span>      QRegExp(<span class="stringliteral">&quot;.*\\.\\.?xml$&quot;</span>)        <span class="comment">// whatever.(.)xml</span></div>
<div class="line"><span class="lineno"> 2329</span>  };</div>
<div class="line"><span class="lineno"> 2330</span> </div>
<div class="line"><span class="lineno"> 2331</span>  <span class="keyword">struct </span>locals {</div>
<div class="line"><span class="lineno"> 2332</span>    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> getPattern(<span class="keyword">const</span> QString &amp;fp) {</div>
<div class="line"><span class="lineno"> 2333</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p = 0; p != pCount; ++p)</div>
<div class="line"><span class="lineno"> 2334</span>        <span class="keywordflow">if</span> (pattern[p].exactMatch(fp)) <span class="keywordflow">return</span> p;</div>
<div class="line"><span class="lineno"> 2335</span>      <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 2336</span>    }</div>
<div class="line"><span class="lineno"> 2337</span>  };  <span class="comment">// locals</span></div>
<div class="line"><span class="lineno"> 2338</span> </div>
<div class="line"><span class="lineno"> 2339</span>  <span class="keyword">const</span> QStringList &amp;hookFiles = <a class="code hl_function" href="class_t_xsh_simple_level.html#a6dc5e2310d937b00491db968372077dd">getHookFiles</a>(decodedLevelPath);</div>
<div class="line"><span class="lineno"> 2340</span>  <span class="keywordflow">if</span> (hookFiles.empty()) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>();</div>
<div class="line"><span class="lineno"> 2341</span> </div>
<div class="line"><span class="lineno"> 2342</span>  <span class="comment">// Return the hook file with the most recent (smallest) identified</span></div>
<div class="line"><span class="lineno"> 2343</span>  <span class="comment">// regexp pattern</span></div>
<div class="line"><span class="lineno"> 2344</span>  <span class="keywordtype">int</span> fPattern, p = pCount, h = -1;</div>
<div class="line"><span class="lineno"> 2345</span> </div>
<div class="line"><span class="lineno"> 2346</span>  <span class="keywordtype">int</span> f, fCount = hookFiles.size();</div>
<div class="line"><span class="lineno"> 2347</span>  <span class="keywordflow">for</span> (f = 0; f != fCount; ++f) {</div>
<div class="line"><span class="lineno"> 2348</span>    fPattern = locals::getPattern(hookFiles[f]);</div>
<div class="line"><span class="lineno"> 2349</span>    <span class="keywordflow">if</span> (fPattern &lt; p) p = fPattern, h = f;</div>
<div class="line"><span class="lineno"> 2350</span>  }</div>
<div class="line"><span class="lineno"> 2351</span> </div>
<div class="line"><span class="lineno"> 2352</span>  assert(h &gt;= 0);</div>
<div class="line"><span class="lineno"> 2353</span>  <span class="keywordflow">return</span> (h &lt; 0) ? <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>()</div>
<div class="line"><span class="lineno"> 2354</span>                 : decodedLevelPath.getParentDir() +</div>
<div class="line"><span class="lineno"> 2355</span>                       <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(hookFiles[h].toStdWString());</div>
<div class="line"><span class="lineno"> 2356</span>}</div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a6dc5e2310d937b00491db968372077dd"><div class="ttname"><a href="class_t_xsh_simple_level.html#a6dc5e2310d937b00491db968372077dd">TXshSimpleLevel::getHookFiles</a></div><div class="ttdeci">static QStringList getHookFiles(const TFilePath &amp;decodedLevelPath)</div><div class="ttdoc">Returns the list of existing hook files associated to the specified level, sorted by modification dat...</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:2304</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l02304">getHookFiles()</a>, and <a class="el" href="#l00683">TFilePath::getParentDir()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l02175">copyFiles()</a>, <a class="el" href="#l02252">getFiles()</a>, <a class="el" href="#l01083">load()</a>, and <a class="el" href="#l02210">renameFiles()</a>.</p>

</div>
</div>
<a id="a567daee4ca12a0e92445bcf98a6541f1" name="a567daee4ca12a0e92445bcf98a6541f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a567daee4ca12a0e92445bcf98a6541f1">&#9670;&nbsp;</a></span>getFids() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; TXshSimpleLevel::getFids </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a copy of the level's frame ids. </p>
<p >Each level frame have a corresponding image retrievable with the getFrame() method and similar.</p>
<dl class="section remark"><dt>Remarks</dt><dd>Consider using functions <a class="el" href="class_t_xsh_simple_level.html#a3fe127306d6669a3eb9e9d8802660d7b" title="Returns the level&#39;s frames count.">getFrameCount()</a> and <a class="el" href="class_t_xsh_simple_level.html#abb72e2ab0c1baeda0a8af3146003181d" title="Returns the frame id at specified index.">getFrameId()</a> to avoid a container copy. <br  />
 </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  448</span>                                                   {</div>
<div class="line"><span class="lineno">  449</span>  <span class="keywordflow">return</span> std::vector&lt;TFrameId&gt;(m_frames.begin(), m_frames.end());</div>
<div class="line"><span class="lineno">  450</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00914">VectorizerPopup::apply()</a>, <a class="el" href="#l02076">ReplaceParentDirectoryPopup::execute()</a>, <a class="el" href="#l00245">RGBPickerTool::onImageChanged()</a>, <a class="el" href="#l00269">LevelUpdater::open()</a>, <a class="el" href="#l02091">renumber()</a>, <a class="el" href="#l00294">TTool::touchImage()</a>, and <a class="el" href="#l00636">DragSelectionTool::VectorDeformTool::transformWholeLevel()</a>.</p>

</div>
</div>
<a id="a4c261e511a4288929f1efdf18ee96957" name="a4c261e511a4288929f1efdf18ee96957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c261e511a4288929f1efdf18ee96957">&#9670;&nbsp;</a></span>getFids() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::getFids </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>fids</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Copies fids() into fids. </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000014">Deprecated:</a></b></dt><dd>Use </dd></dl>

<p>Reimplemented from <a class="el" href="class_t_xsh_level.html">TXshLevel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  442</span>                                                             {</div>
<div class="line"><span class="lineno">  443</span>  fids.assign(m_frames.begin(), m_frames.end());</div>
<div class="line"><span class="lineno">  444</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3761996a872dfbfd19d13b63ad336f6" name="aa3761996a872dfbfd19d13b63ad336f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3761996a872dfbfd19d13b63ad336f6">&#9670;&nbsp;</a></span>getFiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::getFiles </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TFilePathSet &amp;&#160;</td>
          <td class="paramname"><em>fpset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the auxiliary files list: hooks, tpl, etc. </p>
<div class="fragment"><div class="line"><span class="lineno"> 2252</span>                                                                       {</div>
<div class="line"><span class="lineno"> 2253</span>  <span class="keywordflow">if</span> (fp.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;tlv&quot;</span>) {</div>
<div class="line"><span class="lineno"> 2254</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> tpl = fp.<a class="code hl_function" href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">withType</a>(<span class="stringliteral">&quot;tpl&quot;</span>);</div>
<div class="line"><span class="lineno"> 2255</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(tpl).doesExist()) fpset.push_back(tpl);</div>
<div class="line"><span class="lineno"> 2256</span>  }</div>
<div class="line"><span class="lineno"> 2257</span> </div>
<div class="line"><span class="lineno"> 2258</span>  <span class="comment">// Store the hooks file if any (NOTE: there could be more than one hooks</span></div>
<div class="line"><span class="lineno"> 2259</span>  <span class="comment">// file. I&#39;m retaining the behavior I&#39;ve seen, but was this really intended?</span></div>
<div class="line"><span class="lineno"> 2260</span>  <span class="comment">// Shouldn&#39;t we return ALL the hooks files?)</span></div>
<div class="line"><span class="lineno"> 2261</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;hookFile = <a class="code hl_function" href="class_t_xsh_simple_level.html#a543f442eca762915046bf52bccc2b4fc">getExistingHookFile</a>(fp);</div>
<div class="line"><span class="lineno"> 2262</span>  <span class="keywordflow">if</span> (!hookFile.isEmpty()) fpset.push_back(hookFile);</div>
<div class="line"><span class="lineno"> 2263</span> </div>
<div class="line"><span class="lineno"> 2264</span>  <span class="comment">// Needed for TAB Manga &amp; Kids and not used in Toonz</span></div>
<div class="line"><span class="lineno"> 2265</span> </div>
<div class="line"><span class="lineno"> 2266</span>  <span class="comment">// TFilePath files = fp.getParentDir() + (fp.getName() + &quot;_files&quot;);</span></div>
<div class="line"><span class="lineno"> 2267</span>  <span class="comment">// if(TFileStatus(files).doesExist() &amp;&amp; TFileStatus(files).isDirectory())</span></div>
<div class="line"><span class="lineno"> 2268</span>  <span class="comment">//  TSystem::rmDirTree(files);</span></div>
<div class="line"><span class="lineno"> 2269</span>}</div>
<div class="ttc" id="aclass_t_file_path_html_a1437b0e0720e9258b622f68b6858e95d"><div class="ttname"><a href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">TFilePath::withType</a></div><div class="ttdeci">TFilePath withType(const std::string &amp;type) const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:774</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l02321">getExistingHookFile()</a>, <a class="el" href="#l00225">TFilePath::getType()</a>, and <a class="el" href="#l00774">TFilePath::withType()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01468">save()</a>.</p>

</div>
</div>
<a id="a18862340ce6e813778b40a7913b13252" name="a18862340ce6e813778b40a7913b13252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18862340ce6e813778b40a7913b13252">&#9670;&nbsp;</a></span>getFirstFid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_frame_id.html">TFrameId</a> TXshSimpleLevel::getFirstFid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >the return valued variation instead. Returns the first level frame's id; roughly equivalent to <code>index2fid(0)</code>. </p>
<div class="fragment"><div class="line"><span class="lineno">  466</span>                                            {</div>
<div class="line"><span class="lineno">  467</span>  <span class="keywordflow">return</span> !<a class="code hl_function" href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">isEmpty</a>() ? *m_frames.begin() : <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(TFrameId::NO_FRAME);</div>
<div class="line"><span class="lineno">  468</span>}</div>
<div class="ttc" id="aclass_t_frame_id_html"><div class="ttname"><a href="class_t_frame_id.html">TFrameId</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:29</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00147">isEmpty()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01083">load()</a>, and <a class="el" href="#l01610">Filmstrip::updateChooseLevelComboItems()</a>.</p>

</div>
</div>
<a id="ad0282348e0f1617baeafa246b38f3f21" name="ad0282348e0f1617baeafa246b38f3f21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0282348e0f1617baeafa246b38f3f21">&#9670;&nbsp;</a></span>getFrame() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_smart_pointer_t.html">TImageP</a> TXshSimpleLevel::getFrame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>toBeModified</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  192</span>                                                                 {</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">return</span> getFrame(</div>
<div class="line"><span class="lineno">  194</span>        fid, toBeModified ? ImageManager::toBeModified : ImageManager::none, 0);</div>
<div class="line"><span class="lineno">  195</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d991e6bf3349bd5daa09a164a47bddc" name="a0d991e6bf3349bd5daa09a164a47bddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d991e6bf3349bd5daa09a164a47bddc">&#9670;&nbsp;</a></span>getFrame() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_smart_pointer_t.html">TImageP</a> TXshSimpleLevel::getFrame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR&#160;</td>
          <td class="paramname"><em>imgManagerParamsMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>subsampling</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  565</span>                                                         {</div>
<div class="line"><span class="lineno">  566</span>  assert(<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> != UNKNOWN_XSHLEVEL);</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span>  <span class="comment">// If the required frame is not in range, quit</span></div>
<div class="line"><span class="lineno">  569</span>  <span class="keywordflow">if</span> (m_frames.count(fid) == 0) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>();</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>  <span class="keyword">const</span> std::string &amp;imgId = getImageId(fid);</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>  <a class="code hl_struct" href="struct_image_loader_1_1_build_ext_data.html">ImageLoader::BuildExtData</a> extData(<span class="keyword">this</span>, fid, subsampling);</div>
<div class="line"><span class="lineno">  574</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a534298d4e7278e9e42764965e2389576">getImage</a>(imgId, imFlags, &amp;extData);</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>  <span class="keywordflow">if</span> (imFlags &amp; ImageManager::toBeModified) {</div>
<div class="line"><span class="lineno">  577</span>    <span class="comment">// The image will be modified. Perform any related invalidation.</span></div>
<div class="line"><span class="lineno">  578</span>    <a class="code hl_function" href="textureutils_8h.html#a7eb8d0c536418e650eecde9e9230a602">texture_utils::invalidateTexture</a>(</div>
<div class="line"><span class="lineno">  579</span>        <span class="keyword">this</span>, fid);  <span class="comment">// We must rebuild associated textures</span></div>
<div class="line"><span class="lineno">  580</span>  }</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>  <span class="keywordflow">return</span> img;</div>
<div class="line"><span class="lineno">  583</span>}</div>
<div class="ttc" id="aclass_image_manager_html_a534298d4e7278e9e42764965e2389576"><div class="ttname"><a href="class_image_manager.html#a534298d4e7278e9e42764965e2389576">ImageManager::getImage</a></div><div class="ttdeci">TImageP getImage(const std::string &amp;id, int imFlags, void *extData)</div><div class="ttdef"><b>Definition:</b> imagemanager.cpp:310</div></div>
<div class="ttc" id="astruct_image_loader_1_1_build_ext_data_html"><div class="ttname"><a href="struct_image_loader_1_1_build_ext_data.html">ImageLoader::BuildExtData</a></div><div class="ttdef"><b>Definition:</b> imagebuilders.h:33</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fe127306d6669a3eb9e9d8802660d7b" name="a3fe127306d6669a3eb9e9d8802660d7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe127306d6669a3eb9e9d8802660d7b">&#9670;&nbsp;</a></span>getFrameCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TXshSimpleLevel::getFrameCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the level's frames count. </p>

<p>Reimplemented from <a class="el" href="class_t_xsh_level.html">TXshLevel</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00413">IoCmd::exportLevel()</a>, <a class="el" href="#l00997">FlipBook::Level::getIndexesCount()</a>, <a class="el" href="#l00148">texture_utils::invalidateTextures()</a>, <a class="el" href="#l00211">setEditableRange()</a>, <a class="el" href="#l01024">FlipBook::setLevel()</a>, <a class="el" href="#l00242">Vectorizer::setLevel()</a>, and <a class="el" href="#l00294">TTool::touchImage()</a>.</p>

</div>
</div>
<a id="a28197dd6d50d8b16b8530febce6bce0b" name="a28197dd6d50d8b16b8530febce6bce0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28197dd6d50d8b16b8530febce6bce0b">&#9670;&nbsp;</a></span>getFrameIcon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_smart_pointer_t.html">TImageP</a> TXshSimpleLevel::getFrameIcon </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  604</span>                                                               {</div>
<div class="line"><span class="lineno">  605</span>  assert(<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> != UNKNOWN_XSHLEVEL);</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>  <span class="keywordflow">if</span> (m_frames.count(fid) == 0) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>();</div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span>  <span class="comment">// NOTE: Icons caching is DISABLED at this stage. It is now responsibility of</span></div>
<div class="line"><span class="lineno">  610</span>  <span class="comment">// ToonzQt&#39;s IconGenerator class.</span></div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>  <a class="code hl_struct" href="struct_image_loader_1_1_build_ext_data.html">ImageLoader::BuildExtData</a> extData(<span class="keyword">this</span>, fid);</div>
<div class="line"><span class="lineno">  613</span>  extData.m_subs = 1, extData.m_icon = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>  <span class="keyword">const</span> std::string &amp;imgId = getImageId(fid);</div>
<div class="line"><span class="lineno">  616</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img              = ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a534298d4e7278e9e42764965e2389576">getImage</a>(</div>
<div class="line"><span class="lineno">  617</span>      imgId, ImageManager::dontPutInCache, &amp;extData);</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>  <a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a> timg = (<a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a>)img;</div>
<div class="line"><span class="lineno">  620</span>  <span class="keywordflow">if</span> (timg &amp;&amp; m_palette) timg-&gt;setPalette(m_palette);</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>  <span class="keywordflow">return</span> img;</div>
<div class="line"><span class="lineno">  623</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abb72e2ab0c1baeda0a8af3146003181d" name="abb72e2ab0c1baeda0a8af3146003181d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb72e2ab0c1baeda0a8af3146003181d">&#9670;&nbsp;</a></span>getFrameId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp; TXshSimpleLevel::getFrameId </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the frame id at specified index. </p>
<p >Unlike function <a class="el" href="class_t_xsh_simple_level.html#a07279a40ffad2c6ccc597c0a418f78fb">index2fid()</a>, <a class="el" href="class_t_xsh_simple_level.html#abb72e2ab0c1baeda0a8af3146003181d" title="Returns the frame id at specified index.">getFrameId()</a> <em>asserts</em> beyond current frames count. <br  />
 </p>
<div class="fragment"><div class="line"><span class="lineno">  460</span>                                                           {</div>
<div class="line"><span class="lineno">  461</span>  <span class="keywordflow">return</span> *(m_frames.begin() += index);</div>
<div class="line"><span class="lineno">  462</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00522">PaletteCmd::eraseStyles()</a>, <a class="el" href="#l00663">TXsheet::incrementCells()</a>, and <a class="el" href="#l00148">texture_utils::invalidateTextures()</a>.</p>

</div>
</div>
<a id="af47f89b2f1d6f60def48b3cbf8bb5499" name="af47f89b2f1d6f60def48b3cbf8bb5499"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af47f89b2f1d6f60def48b3cbf8bb5499">&#9670;&nbsp;</a></span>getFrameInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_image_info.html">TImageInfo</a> * TXshSimpleLevel::getFrameInfo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>toBeModified</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  588</span>                                                             {</div>
<div class="line"><span class="lineno">  589</span>  assert(<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> != UNKNOWN_XSHLEVEL);</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>  <span class="comment">// If the required frame is not in range, quit</span></div>
<div class="line"><span class="lineno">  592</span>  <span class="keywordflow">if</span> (m_frames.count(fid) == 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>  <span class="keyword">const</span> std::string &amp;imgId = getImageId(fid);</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>  <a class="code hl_class" href="class_t_image_info.html">TImageInfo</a> *info = ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a44231d6948d69f54e9a4315049131086">getInfo</a>(</div>
<div class="line"><span class="lineno">  597</span>      imgId, toBeModified ? ImageManager::toBeModified : ImageManager::none, 0);</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>  <span class="keywordflow">return</span> info;</div>
<div class="line"><span class="lineno">  600</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="add3a3a38b51d02621b1e5195fd8feee9" name="add3a3a38b51d02621b1e5195fd8feee9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add3a3a38b51d02621b1e5195fd8feee9">&#9670;&nbsp;</a></span>getFrameStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TXshSimpleLevel::getFrameStatus </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1869</span>                                                             {</div>
<div class="line"><span class="lineno"> 1870</span>  std::map&lt;TFrameId, int&gt;::const_iterator it = m_framesStatus.find(fid);</div>
<div class="line"><span class="lineno"> 1871</span>  <span class="keywordflow">return</span> (it != m_framesStatus.end()) ? it-&gt;second : <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b">Normal</a>;</div>
<div class="line"><span class="lineno"> 1872</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f5deff7336e87be32b63f9e12d71050" name="a2f5deff7336e87be32b63f9e12d71050"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f5deff7336e87be32b63f9e12d71050">&#9670;&nbsp;</a></span>getFrameToCleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_raster_image_p.html">TRasterImageP</a> TXshSimpleLevel::getFrameToCleanup </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>toBeLineProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  646</span>                                                                               {</div>
<div class="line"><span class="lineno">  647</span>  assert(<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> != UNKNOWN_XSHLEVEL);</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span>  FramesSet::const_iterator ft = m_frames.find(fid);</div>
<div class="line"><span class="lineno">  650</span>  <span class="keywordflow">if</span> (ft == m_frames.end()) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>();</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>  <span class="keywordtype">bool</span> flag           = (m_scannedPath != <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>());</div>
<div class="line"><span class="lineno">  653</span>  std::string imageId = getImageId(fid, flag ? <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a> : 0);</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>  <a class="code hl_struct" href="struct_image_loader_1_1_build_ext_data.html">ImageLoader::BuildExtData</a> extData(<span class="keyword">this</span>, fid, 1);</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>  UCHAR imFlags = ImageManager::dontPutInCache;</div>
<div class="line"><span class="lineno">  658</span>  <span class="comment">// if lines are not processed, obtain the original sampled image</span></div>
<div class="line"><span class="lineno">  659</span>  <span class="keywordflow">if</span> (!toBeLineProcessed) imFlags |= ImageManager::is64bitEnabled;</div>
<div class="line"><span class="lineno">  660</span>  <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> img =</div>
<div class="line"><span class="lineno">  661</span>      ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a534298d4e7278e9e42764965e2389576">getImage</a>(imageId, imFlags, &amp;extData);</div>
<div class="line"><span class="lineno">  662</span>  <span class="keywordflow">if</span> (!img) <span class="keywordflow">return</span> img;</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>  <span class="keywordtype">double</span> x_dpi, y_dpi;</div>
<div class="line"><span class="lineno">  665</span>  img-&gt;getDpi(x_dpi, y_dpi);</div>
<div class="line"><span class="lineno">  666</span>  <span class="keywordflow">if</span> (!x_dpi &amp;&amp; !y_dpi) {</div>
<div class="line"><span class="lineno">  667</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> dpi = m_properties-&gt;getDpi();</div>
<div class="line"><span class="lineno">  668</span>    img-&gt;setDpi(dpi.x, dpi.y);</div>
<div class="line"><span class="lineno">  669</span>  }</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>  <span class="keywordflow">return</span> img;</div>
<div class="line"><span class="lineno">  672</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a71760ecea2543465ba394b6e4b5e93ef" name="a71760ecea2543465ba394b6e4b5e93ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71760ecea2543465ba394b6e4b5e93ef">&#9670;&nbsp;</a></span>getFullsampledFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_smart_pointer_t.html">TImageP</a> TXshSimpleLevel::getFullsampledFrame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR&#160;</td>
          <td class="paramname"><em>imgManagerParamsMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  677</span>                                                                  {</div>
<div class="line"><span class="lineno">  678</span>  assert(<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> != UNKNOWN_XSHLEVEL);</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>  FramesSet::const_iterator it = m_frames.find(fid);</div>
<div class="line"><span class="lineno">  681</span>  <span class="keywordflow">if</span> (it == m_frames.end()) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a>();</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>  std::string imageId = getImageId(fid);</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>  <a class="code hl_struct" href="struct_image_loader_1_1_build_ext_data.html">ImageLoader::BuildExtData</a> extData(<span class="keyword">this</span>, fid, 1);</div>
<div class="line"><span class="lineno">  686</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a534298d4e7278e9e42764965e2389576">getImage</a>(imageId, imFlags, &amp;extData);</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>  <span class="keywordflow">if</span> (imFlags &amp; ImageManager::toBeModified) {</div>
<div class="line"><span class="lineno">  689</span>    <span class="comment">// The image will be modified. Perform any related invalidation.</span></div>
<div class="line"><span class="lineno">  690</span>    <a class="code hl_function" href="textureutils_8h.html#a7eb8d0c536418e650eecde9e9230a602">texture_utils::invalidateTexture</a>(</div>
<div class="line"><span class="lineno">  691</span>        <span class="keyword">this</span>, fid);  <span class="comment">// We must rebuild associated textures</span></div>
<div class="line"><span class="lineno">  692</span>  }</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>  <span class="keywordflow">return</span> img;</div>
<div class="line"><span class="lineno">  695</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6dc5e2310d937b00491db968372077dd" name="a6dc5e2310d937b00491db968372077dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dc5e2310d937b00491db968372077dd">&#9670;&nbsp;</a></span>getHookFiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QStringList TXshSimpleLevel::getHookFiles </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>decodedLevelPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the list of <em>existing</em> hook files associated to the specified level, sorted by modification date (last modified at front). The list stores <em>local paths&lt;\I&gt; relative to decodedLevelPath.getParentDir(). </em></p>
<dl class="section note"><dt>Note</dt><dd>A level may have multiple hook files if the hook set was edited with older Toonz versions. Use this function if you need to access all of them. Only the latest file format is considered when loading a level. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 2304</span>                                                                           {</div>
<div class="line"><span class="lineno"> 2305</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;dirPath = decodedLevelPath.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>();</div>
<div class="line"><span class="lineno"> 2306</span>  QDir levelDir(QString::fromStdWString(dirPath.getWideString()));</div>
<div class="line"><span class="lineno"> 2307</span> </div>
<div class="line"><span class="lineno"> 2308</span>  QStringList hookFileFilter(</div>
<div class="line"><span class="lineno"> 2309</span>      QString::fromStdWString(  <span class="comment">// We have to scan for files of the</span></div>
<div class="line"><span class="lineno"> 2310</span>          decodedLevelPath.getWideName() +</div>
<div class="line"><span class="lineno"> 2311</span>          L<span class="stringliteral">&quot;_hooks*.xml&quot;</span>));   <span class="comment">// form  levelName_hooks*.xml  to</span></div>
<div class="line"><span class="lineno"> 2312</span>                              <span class="comment">// retain backward compatibility</span></div>
<div class="line"><span class="lineno"> 2313</span>  <span class="keywordflow">return</span> levelDir.entryList(  <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 2314</span>      hookFileFilter,</div>
<div class="line"><span class="lineno"> 2315</span>      QDir::Files | QDir::NoDotAndDotDot,  <span class="comment">// Observe that we cleverly sort by</span></div>
<div class="line"><span class="lineno"> 2316</span>      QDir::Time);                         <span class="comment">// mod date :)</span></div>
<div class="line"><span class="lineno"> 2317</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00683">TFilePath::getParentDir()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l02321">getExistingHookFile()</a>, and <a class="el" href="#l02231">removeFiles()</a>.</p>

</div>
</div>
<a id="a23704b0d8be9290a8ab9c72c3139958b" name="a23704b0d8be9290a8ab9c72c3139958b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23704b0d8be9290a8ab9c72c3139958b">&#9670;&nbsp;</a></span>getHookPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_file_path.html">TFilePath</a> TXshSimpleLevel::getHookPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>levelPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Translates a level path into the corresponding hook path (no check for the existence of said hook file). </p>
<div class="fragment"><div class="line"><span class="lineno"> 2289</span>                                                            {</div>
<div class="line"><span class="lineno"> 2290</span>  <span class="comment">// Translates:  levelName..ext  into  levelName_hooks..ext.xml</span></div>
<div class="line"><span class="lineno"> 2291</span>  <span class="comment">//              levelName.ext   into  levelName_hooks.ext.xml</span></div>
<div class="line"><span class="lineno"> 2292</span> </div>
<div class="line"><span class="lineno"> 2293</span>  <span class="comment">// Observe that retaining the original level extension IS IMPORTANT, as it</span></div>
<div class="line"><span class="lineno"> 2294</span>  <span class="comment">// ensures</span></div>
<div class="line"><span class="lineno"> 2295</span>  <span class="comment">// the UNICITY of the association between a level path and its hook path (ie</span></div>
<div class="line"><span class="lineno"> 2296</span>  <span class="comment">// levels  test..png  and  test..tif  have separate hook files).</span></div>
<div class="line"><span class="lineno"> 2297</span> </div>
<div class="line"><span class="lineno"> 2298</span>  <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(path.withName(path.getName() + <span class="stringliteral">&quot;_hooks&quot;</span>).getWideString() +</div>
<div class="line"><span class="lineno"> 2299</span>                   L<span class="stringliteral">&quot;.xml&quot;</span>);</div>
<div class="line"><span class="lineno"> 2300</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00636">TFilePath::getName()</a>, and <a class="el" href="#l00802">TFilePath::withName()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l02175">copyFiles()</a>, <a class="el" href="#l02210">renameFiles()</a>, and <a class="el" href="#l00211">setEditableRange()</a>.</p>

</div>
</div>
<a id="a121f2766a1380da50998b41c7b4abe64" name="a121f2766a1380da50998b41c7b4abe64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a121f2766a1380da50998b41c7b4abe64">&#9670;&nbsp;</a></span>getIconId() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string TXshSimpleLevel::getIconId </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_dimension_t.html">TDimension</a> &amp;&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  707</span>                                                                     {</div>
<div class="line"><span class="lineno">  708</span>  <span class="keywordflow">return</span> getImageId(fid) + <span class="stringliteral">&quot;:&quot;</span> + std::to_string(size.lx) + <span class="stringliteral">&quot;x&quot;</span> +</div>
<div class="line"><span class="lineno">  709</span>         std::to_string(size.ly);</div>
<div class="line"><span class="lineno">  710</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a120ff2c7a35866879ceef1cb0a3629" name="a3a120ff2c7a35866879ceef1cb0a3629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a120ff2c7a35866879ceef1cb0a3629">&#9670;&nbsp;</a></span>getIconId() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string TXshSimpleLevel::getIconId </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frameStatus</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  700</span>                                                              {</div>
<div class="line"><span class="lineno">  701</span>  <span class="keywordflow">return</span> <span class="stringliteral">&quot;icon:&quot;</span> + getImageId(fid, frameStatus);</div>
<div class="line"><span class="lineno">  702</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a303bad2dd6286eca6edab017b0363de4" name="a303bad2dd6286eca6edab017b0363de4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a303bad2dd6286eca6edab017b0363de4">&#9670;&nbsp;</a></span>getImageDpi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPointD</a> TXshSimpleLevel::getImageDpi </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em> = <code>TFrameId::NO_FRAME</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frameStatus</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2051</span>                                                                         {</div>
<div class="line"><span class="lineno"> 2052</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">isEmpty</a>() || <a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == PLI_XSHLEVEL) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_point_t.html">TPointD</a>();</div>
<div class="line"><span class="lineno"> 2053</span> </div>
<div class="line"><span class="lineno"> 2054</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> &amp;theFid =</div>
<div class="line"><span class="lineno"> 2055</span>      (fid == TFrameId::NO_FRAME || !<a class="code hl_function" href="class_t_xsh_simple_level.html#a14de45c4b17032346cfcffbca8ef9751">isFid</a>(fid)) ? <a class="code hl_function" href="class_t_xsh_simple_level.html#a18862340ce6e813778b40a7913b13252">getFirstFid</a>() : fid;</div>
<div class="line"><span class="lineno"> 2056</span>  <span class="keyword">const</span> std::string &amp;imageId = getImageId(theFid, frameStatus);</div>
<div class="line"><span class="lineno"> 2057</span> </div>
<div class="line"><span class="lineno"> 2058</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_image_info.html">TImageInfo</a> *imageInfo =</div>
<div class="line"><span class="lineno"> 2059</span>      ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a44231d6948d69f54e9a4315049131086">getInfo</a>(imageId, ImageManager::none, 0);</div>
<div class="line"><span class="lineno"> 2060</span> </div>
<div class="line"><span class="lineno"> 2061</span>  <span class="keywordflow">if</span> (!imageInfo) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_point_t.html">TPointD</a>();</div>
<div class="line"><span class="lineno"> 2062</span> </div>
<div class="line"><span class="lineno"> 2063</span>  <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#ad66e78a66158fddceaa192d0063f68e8">m_dpix</a>, imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#ad8d3ccb14666297e487e04aa10ab7831">m_dpiy</a>);</div>
<div class="line"><span class="lineno"> 2064</span>}</div>
<div class="ttc" id="aclass_t_image_info_html_ad66e78a66158fddceaa192d0063f68e8"><div class="ttname"><a href="class_t_image_info.html#ad66e78a66158fddceaa192d0063f68e8">TImageInfo::m_dpix</a></div><div class="ttdeci">double m_dpix</div><div class="ttdoc">Horizontal image dpi.</div><div class="ttdef"><b>Definition:</b> timageinfo.h:39</div></div>
<div class="ttc" id="aclass_t_image_info_html_ad8d3ccb14666297e487e04aa10ab7831"><div class="ttname"><a href="class_t_image_info.html#ad8d3ccb14666297e487e04aa10ab7831">TImageInfo::m_dpiy</a></div><div class="ttdeci">double m_dpiy</div><div class="ttdoc">Vertical image dpi.</div><div class="ttdef"><b>Definition:</b> timageinfo.h:40</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a14de45c4b17032346cfcffbca8ef9751"><div class="ttname"><a href="class_t_xsh_simple_level.html#a14de45c4b17032346cfcffbca8ef9751">TXshSimpleLevel::isFid</a></div><div class="ttdeci">bool isFid(const TFrameId &amp;fid) const</div><div class="ttdoc">Returns whether a given frameId is in the level.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:454</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a18862340ce6e813778b40a7913b13252"><div class="ttname"><a href="class_t_xsh_simple_level.html#a18862340ce6e813778b40a7913b13252">TXshSimpleLevel::getFirstFid</a></div><div class="ttdeci">TFrameId getFirstFid() const</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:466</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acfb8ef0804004135757b37d2bea2fd83" name="acfb8ef0804004135757b37d2bea2fd83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfb8ef0804004135757b37d2bea2fd83">&#9670;&nbsp;</a></span>getImageId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string TXshSimpleLevel::getImageId </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frameStatus</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1856</span>                                                               {</div>
<div class="line"><span class="lineno"> 1857</span>  <span class="keywordflow">if</span> (frameStatus &lt; 0) frameStatus = getFrameStatus(fid);</div>
<div class="line"><span class="lineno"> 1858</span>  std::string prefix = <span class="stringliteral">&quot;L&quot;</span>;</div>
<div class="line"><span class="lineno"> 1859</span>  <span class="keywordflow">if</span> (frameStatus &amp; <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0">CleanupPreview</a>)</div>
<div class="line"><span class="lineno"> 1860</span>    prefix = <span class="stringliteral">&quot;P&quot;</span>;</div>
<div class="line"><span class="lineno"> 1861</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((frameStatus &amp; (<a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a> | <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d">Cleanupped</a>)) == <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>)</div>
<div class="line"><span class="lineno"> 1862</span>    prefix = <span class="stringliteral">&quot;S&quot;</span>;</div>
<div class="line"><span class="lineno"> 1863</span>  std::string imageId = m_idBase + <span class="stringliteral">&quot;_&quot;</span> + prefix + fid.expand();</div>
<div class="line"><span class="lineno"> 1864</span>  <span class="keywordflow">return</span> imageId;</div>
<div class="line"><span class="lineno"> 1865</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fa8472504756ac06cf72c4162ce0cbd" name="a9fa8472504756ac06cf72c4162ce0cbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fa8472504756ac06cf72c4162ce0cbd">&#9670;&nbsp;</a></span>getImageSubsampling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TXshSimpleLevel::getImageSubsampling </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2068</span>                                                                  {</div>
<div class="line"><span class="lineno"> 2069</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">isEmpty</a>() || <a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == PLI_XSHLEVEL) <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2070</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#aea3ac2752efd6fa9689f5a7c1e895e41">get</a>(getImageId(fid), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2071</span>  <span class="keywordflow">if</span> (!img) <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2072</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> ri = img) <span class="keywordflow">return</span> ri-&gt;getSubsampling();</div>
<div class="line"><span class="lineno"> 2073</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a> ti = img) <span class="keywordflow">return</span> ti-&gt;getSubsampling();</div>
<div class="line"><span class="lineno"> 2074</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno"> 2075</span>}</div>
<div class="ttc" id="aclass_t_image_cache_html_aea3ac2752efd6fa9689f5a7c1e895e41"><div class="ttname"><a href="class_t_image_cache.html#aea3ac2752efd6fa9689f5a7c1e895e41">TImageCache::get</a></div><div class="ttdeci">TImageP get(const std::string &amp;id, bool toBeModified) const</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1672</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e31155f1a6bf0f0db641ffaff2ef2c5" name="a6e31155f1a6bf0f0db641ffaff2ef2c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e31155f1a6bf0f0db641ffaff2ef2c5">&#9670;&nbsp;</a></span>getLastFid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_frame_id.html">TFrameId</a> TXshSimpleLevel::getLastFid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the last level frame's id; roughly equivalent to <code>index2fid(<a class="el" href="class_t_xsh_simple_level.html#a3fe127306d6669a3eb9e9d8802660d7b" title="Returns the level&#39;s frames count.">getFrameCount()</a>-1)</code>. </p>
<div class="fragment"><div class="line"><span class="lineno">  472</span>                                           {</div>
<div class="line"><span class="lineno">  473</span>  <span class="keywordflow">return</span> !<a class="code hl_function" href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">isEmpty</a>() ? *m_frames.rbegin() : <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(TFrameId::NO_FRAME);</div>
<div class="line"><span class="lineno">  474</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00147">isEmpty()</a>.</p>

</div>
</div>
<a id="a9aea4f8e34caef293d5e5c7694047564" name="a9aea4f8e34caef293d5e5c7694047564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aea4f8e34caef293d5e5c7694047564">&#9670;&nbsp;</a></span>getPalette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_palette.html">TPalette</a> * TXshSimpleLevel::getPalette </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the <em>shared</em> level palette. </p>
<div class="fragment"><div class="line"><span class="lineno">  424</span>{ <span class="keywordflow">return</span> m_palette; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00083">ImageLoader::build()</a>, <a class="el" href="#l01978">createEmptyFrame()</a>, <a class="el" href="#l00729">StudioPaletteTreeViewer::dropEvent()</a>, <a class="el" href="#l00055">TXshCell::getPalette()</a>, <a class="el" href="#l02107">TImageReaderSvg::load()</a>, <a class="el" href="#l01083">load()</a>, <a class="el" href="#l00303">StylePickerTool::onImageChanged()</a>, <a class="el" href="#l00698">ToonzImageIconRenderer::run()</a>, <a class="el" href="#l00209">SceneLevel::save()</a>, <a class="el" href="#l01404">save()</a>, <a class="el" href="#l00190">SceneLevel::SceneLevel()</a>, and <a class="el" href="#l00242">Vectorizer::setLevel()</a>.</p>

</div>
</div>
<a id="a668293d53a70cca8811db28d87011c55" name="a668293d53a70cca8811db28d87011c55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a668293d53a70cca8811db28d87011c55">&#9670;&nbsp;</a></span>getPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_file_path.html">TFilePath</a> TXshSimpleLevel::getPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the file path associated with the level. </p>

<p>Reimplemented from <a class="el" href="class_t_xsh_level.html#ab8ffcf067cadf0e1c4081b54ffde249d">TXshLevel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  120</span>{ <span class="keywordflow">return</span> m_path; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00864">ToonzScene::createNewLevel()</a>, <a class="el" href="#l01550">SaveLevelAsPopup::execute()</a>, <a class="el" href="#l00712">CleanupSettingsModel::getClnPath()</a>, <a class="el" href="#l00724">CleanupSettingsModel::getInputPath()</a>, <a class="el" href="#l00908">VectorizerPopup::isLevelToConvert()</a>, <a class="el" href="#l00443">ToonzScene::loadTnzFile()</a>, <a class="el" href="#l00269">LevelUpdater::open()</a>, <a class="el" href="#l00190">SceneLevel::SceneLevel()</a>, and <a class="el" href="#l00242">Vectorizer::setLevel()</a>.</p>

</div>
</div>
<a id="ad412dd5c3a6ae3ff20a480dc728b26d2" name="ad412dd5c3a6ae3ff20a480dc728b26d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad412dd5c3a6ae3ff20a480dc728b26d2">&#9670;&nbsp;</a></span>getProperties()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_level_properties.html">LevelProperties</a> * TXshSimpleLevel::getProperties </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>&lt; Returns a pointer to the <em>owned</em> level properties. </p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>  {</div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">return</span> m_properties.get();</div>
<div class="line"><span class="lineno">  113</span>  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01978">createEmptyFrame()</a>, <a class="el" href="#l01083">load()</a>, <a class="el" href="#l01122">ToonzScene::loadLevel()</a>, <a class="el" href="#l00993">Stage::RasterPainter::onRasterImage()</a>, <a class="el" href="#l00269">LevelUpdater::open()</a>, <a class="el" href="#l00209">SceneLevel::save()</a>, <a class="el" href="#l01404">save()</a>, <a class="el" href="#l01364">saveData()</a>, and <a class="el" href="#l01610">Filmstrip::updateChooseLevelComboItems()</a>.</p>

</div>
</div>
<a id="a80b67bf33b6c5511d9f7e2622f4c1f2e" name="a80b67bf33b6c5511d9f7e2622f4c1f2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80b67bf33b6c5511d9f7e2622f4c1f2e">&#9670;&nbsp;</a></span>getResolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_dimension_t.html">TDimension</a> TXshSimpleLevel::getResolution </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2043</span>                                          {</div>
<div class="line"><span class="lineno"> 2044</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#a7c256d2745209a181a2dbccdec949c5e">isEmpty</a>() || <a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == PLI_XSHLEVEL) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a>();</div>
<div class="line"><span class="lineno"> 2045</span>  <span class="keywordflow">return</span> m_properties-&gt;getImageRes();</div>
<div class="line"><span class="lineno"> 2046</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a35e541e6a786f6e7db6d8cf8fa6b2a8d" name="a35e541e6a786f6e7db6d8cf8fa6b2a8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e541e6a786f6e7db6d8cf8fa6b2a8d">&#9670;&nbsp;</a></span>getScannedPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_file_path.html">TFilePath</a> TXshSimpleLevel::getScannedPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  123</span>{ <span class="keywordflow">return</span> m_scannedPath; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aac1fd1d3ecf0778b8ee139c9119fcdef" name="aac1fd1d3ecf0778b8ee139c9119fcdef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac1fd1d3ecf0778b8ee139c9119fcdef">&#9670;&nbsp;</a></span>getSimpleLevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> * TXshSimpleLevel::getSimpleLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented for <a class="el" href="class_t_xsh_level.html" title="The TXshLevel class is the base class of level managers in xsheet.">TXshLevel</a>. </p>

<p>Reimplemented from <a class="el" href="class_t_xsh_level.html#a023065559cff76164ecb6344c586ba27">TXshLevel</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00914">VectorizerPopup::apply()</a>, <a class="el" href="#l02076">ReplaceParentDirectoryPopup::execute()</a>, <a class="el" href="#l00245">TTool::getImageCell()</a>, and <a class="el" href="#l01610">Filmstrip::updateChooseLevelComboItems()</a>.</p>

</div>
</div>
<a id="af30a02239ef0900c095a0af366dea26a" name="af30a02239ef0900c095a0af366dea26a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af30a02239ef0900c095a0af366dea26a">&#9670;&nbsp;</a></span>guessIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TXshSimpleLevel::guessIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >frame id, or <code>-1</code> if not found. </p>
<div class="fragment"><div class="line"><span class="lineno">  524</span>                                                         {</div>
<div class="line"><span class="lineno">  525</span>  <span class="keywordflow">if</span> (m_frames.empty()) <span class="keywordflow">return</span> 0;  <span class="comment">// no frames, return 0 (by definition)</span></div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>  FramesSet::const_iterator ft = m_frames.lower_bound(fid);</div>
<div class="line"><span class="lineno">  528</span>  <span class="keywordflow">if</span> (ft == m_frames.end()) {</div>
<div class="line"><span class="lineno">  529</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> &amp;maxFid = *m_frames.rbegin();</div>
<div class="line"><span class="lineno">  530</span>    assert(fid &gt; maxFid);</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>    <span class="comment">// fid not in the table, but greater than the last one.</span></div>
<div class="line"><span class="lineno">  533</span>    <span class="comment">// return a suitable index. (e.g. frames are 1,3,5,7; fid2index(11) should</span></div>
<div class="line"><span class="lineno">  534</span>    <span class="comment">// return index=5)</span></div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordtype">int</span> step = <a class="code hl_function" href="class_t_xsh_simple_level.html#a4140aae35b5062f7d2726f9f67ef2f7c">guessStep</a>();</div>
<div class="line"><span class="lineno">  536</span>    <span class="keywordtype">int</span> i    = (fid.getNumber() - maxFid.getNumber()) / step;</div>
<div class="line"><span class="lineno">  537</span>    <span class="keywordflow">return</span> m_frames.size() - 1 + i;</div>
<div class="line"><span class="lineno">  538</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">return</span> std::distance(m_frames.begin(), ft);</div>
<div class="line"><span class="lineno">  540</span>}</div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a4140aae35b5062f7d2726f9f67ef2f7c"><div class="ttname"><a href="class_t_xsh_simple_level.html#a4140aae35b5062f7d2726f9f67ef2f7c">TXshSimpleLevel::guessStep</a></div><div class="ttdeci">int guessStep() const</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:478</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00478">guessStep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00719">StageBuilder::addSimpleLevelFrame()</a>, <a class="el" href="#l00259">HookTool::draw()</a>, and <a class="el" href="#l00698">ToonzImageIconRenderer::run()</a>.</p>

</div>
</div>
<a id="a4140aae35b5062f7d2726f9f67ef2f7c" name="a4140aae35b5062f7d2726f9f67ef2f7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4140aae35b5062f7d2726f9f67ef2f7c">&#9670;&nbsp;</a></span>guessStep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TXshSimpleLevel::guessStep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Analyzes the level's frames table and returns the alleged entries <em>step</em> </p><ul>
<li>ie the distance from each entry to the next. </li>
</ul>
<div class="fragment"><div class="line"><span class="lineno">  478</span>                                     {</div>
<div class="line"><span class="lineno">  479</span>  <span class="keywordtype">int</span> frameCount = m_frames.size();</div>
<div class="line"><span class="lineno">  480</span>  <span class="keywordflow">if</span> (frameCount &lt; 2)</div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordflow">return</span> 1;  <span class="comment">// un livello con zero o un frame ha per def. step=1</span></div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>  FramesSet::const_iterator ft = m_frames.begin();</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>  <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> firstFid = *ft++, secondFid = *ft++;</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>  <span class="keywordflow">if</span> (!firstFid.getLetter().isEmpty() || !secondFid.getLetter().isEmpty())</div>
<div class="line"><span class="lineno">  488</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>  <span class="keywordtype">int</span> step = secondFid.getNumber() - firstFid.getNumber();</div>
<div class="line"><span class="lineno">  491</span>  <span class="keywordflow">if</span> (step == 1) <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>  <span class="comment">// controllo subito se lo step vale per l&#39;ultimo frame</span></div>
<div class="line"><span class="lineno">  494</span>  <span class="comment">// (cerco di limitare il numero di volte in cui devo controllare tutta la</span></div>
<div class="line"><span class="lineno">  495</span>  <span class="comment">// lista)</span></div>
<div class="line"><span class="lineno">  496</span>  <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> lastFid = *m_frames.rbegin();</div>
<div class="line"><span class="lineno">  497</span>  <span class="keywordflow">if</span> (!lastFid.getLetter().isEmpty()) <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>  <span class="keywordflow">if</span> (lastFid.getNumber() != firstFid.getNumber() + step * (frameCount - 1))</div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 2; ft != m_frames.end(); ++ft, ++i) {</div>
<div class="line"><span class="lineno">  503</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> &amp;fid = *ft;</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>    <span class="keywordflow">if</span> (!fid.getLetter().isEmpty()) <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    <span class="keywordflow">if</span> (fid.getNumber() != firstFid.getNumber() + step * i) <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  508</span>  }</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>  <span class="keywordflow">return</span> step;</div>
<div class="line"><span class="lineno">  511</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00524">guessIndex()</a>, and <a class="el" href="#l00544">index2fid()</a>.</p>

</div>
</div>
<a id="a07279a40ffad2c6ccc597c0a418f78fb" name="a07279a40ffad2c6ccc597c0a418f78fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07279a40ffad2c6ccc597c0a418f78fb">&#9670;&nbsp;</a></span>index2fid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_frame_id.html">TFrameId</a> TXshSimpleLevel::index2fid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Function <a class="el" href="class_t_xsh_simple_level.html#a07279a40ffad2c6ccc597c0a418f78fb">index2fid()</a> attempts guessing frame ids for frame indexes beyond current frames count. See function <a class="el" href="class_t_xsh_simple_level.html#a4140aae35b5062f7d2726f9f67ef2f7c">guessStep()</a> for further details. <br  />
 Returns a frame id corresponding to the specified frame index, or </p>
<div class="fragment"><div class="line"><span class="lineno">  544</span>                                                   {</div>
<div class="line"><span class="lineno">  545</span>  <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(-2);</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>  <span class="keywordtype">int</span> frameCount = m_frames.size();</div>
<div class="line"><span class="lineno">  548</span>  <span class="keywordflow">if</span> (frameCount == 0) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(1);  <span class="comment">// o_o?</span></div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>  <span class="keywordflow">if</span> (index &lt; frameCount) {</div>
<div class="line"><span class="lineno">  551</span>    FramesSet::const_iterator ft = m_frames.begin();</div>
<div class="line"><span class="lineno">  552</span>    std::advance(ft, index);</div>
<div class="line"><span class="lineno">  553</span>    <span class="keywordflow">return</span> *ft;</div>
<div class="line"><span class="lineno">  554</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  555</span>    <span class="keywordtype">int</span> step        = <a class="code hl_function" href="class_t_xsh_simple_level.html#a4140aae35b5062f7d2726f9f67ef2f7c">guessStep</a>();</div>
<div class="line"><span class="lineno">  556</span>    <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> maxFid = *m_frames.rbegin();</div>
<div class="line"><span class="lineno">  557</span>    <span class="keywordtype">int</span> d           = step * (index - frameCount + 1);</div>
<div class="line"><span class="lineno">  558</span>    <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(maxFid.getNumber() + d);</div>
<div class="line"><span class="lineno">  559</span>  }</div>
<div class="line"><span class="lineno">  560</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00478">guessStep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00719">StageBuilder::addSimpleLevelFrame()</a>, <a class="el" href="#l00259">HookTool::draw()</a>, <a class="el" href="#l00413">IoCmd::exportLevel()</a>, <a class="el" href="#l00211">setEditableRange()</a>, and <a class="el" href="#l00294">TTool::touchImage()</a>.</p>

</div>
</div>
<a id="a7688e3e000ae055f621e60bbced5aa05" name="a7688e3e000ae055f621e60bbced5aa05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7688e3e000ae055f621e60bbced5aa05">&#9670;&nbsp;</a></span>initializePalette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::initializePalette </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1926</span>                                        {</div>
<div class="line"><span class="lineno"> 1927</span>  assert(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>());</div>
<div class="line"><span class="lineno"> 1928</span>  <span class="keywordtype">int</span> type = <a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>();</div>
<div class="line"><span class="lineno"> 1929</span>  <span class="keywordflow">if</span> (type == TZP_XSHLEVEL || type == PLI_XSHLEVEL) <a class="code hl_function" href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">setPalette</a>(<span class="keyword">new</span> <a class="code hl_class" href="class_t_palette.html">TPalette</a>());</div>
<div class="line"><span class="lineno"> 1930</span>  <span class="keywordflow">if</span> (type == OVL_XSHLEVEL)</div>
<div class="line"><span class="lineno"> 1931</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">setPalette</a>(FullColorPalette::instance()-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()));</div>
<div class="line"><span class="lineno"> 1932</span>  <a class="code hl_class" href="class_t_palette.html">TPalette</a> *palette = <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>();</div>
<div class="line"><span class="lineno"> 1933</span>  <span class="keywordflow">if</span> (palette &amp;&amp; type != OVL_XSHLEVEL) {</div>
<div class="line"><span class="lineno"> 1934</span>    palette-&gt;setPaletteName(<a class="code hl_function" href="class_t_xsh_level.html#a3a59fb1bd3261baee4e889a9edbf0ae8">getName</a>());</div>
<div class="line"><span class="lineno"> 1935</span>    palette-&gt;setDirtyFlag(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1936</span>  }</div>
<div class="line"><span class="lineno"> 1937</span>}</div>
<div class="ttc" id="aclass_t_palette_html"><div class="ttname"><a href="class_t_palette.html">TPalette</a></div><div class="ttdoc">The class representing a Toonz palette object.</div><div class="ttdef"><b>Definition:</b> tpalette.h:85</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a06176566e80858dbb206112db08a92b9"><div class="ttname"><a href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">TXshLevel::getScene</a></div><div class="ttdeci">ToonzScene * getScene() const</div><div class="ttdoc">Return the ToonzScene the level belongs to;.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:87</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a3a59fb1bd3261baee4e889a9edbf0ae8"><div class="ttname"><a href="class_t_xsh_level.html#a3a59fb1bd3261baee4e889a9edbf0ae8">TXshLevel::getName</a></div><div class="ttdeci">std::wstring getName() const</div><div class="ttdoc">Return level name.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:115</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_ab5634198656dc2ade669fae235bb19c0"><div class="ttname"><a href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">TXshSimpleLevel::setPalette</a></div><div class="ttdeci">void setPalette(TPalette *palette)</div><div class="ttdoc">Assigns a palette to the level.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:428</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac342615c70611075cc00981de033b863" name="ac342615c70611075cc00981de033b863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac342615c70611075cc00981de033b863">&#9670;&nbsp;</a></span>initializeResolutionAndDpi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::initializeResolutionAndDpi </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_dimension_t.html">TDimension</a> &amp;&#160;</td>
          <td class="paramname"><em>dim</em> = <code><a class="el" href="class_t_dimension_t.html">TDimension</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dpi</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1942</span>                                                             {</div>
<div class="line"><span class="lineno"> 1943</span>  assert(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>());</div>
<div class="line"><span class="lineno"> 1944</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;getImageRes() != <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a>() &amp;&amp;</div>
<div class="line"><span class="lineno"> 1945</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;getDpi() != <a class="code hl_class" href="class_t_point_t.html">TPointD</a>())</div>
<div class="line"><span class="lineno"> 1946</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1947</span> </div>
<div class="line"><span class="lineno"> 1948</span>  <span class="keywordtype">double</span> dpiY = dpi;</div>
<div class="line"><span class="lineno"> 1949</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#aef6e555a773c2f69d2089dc9c009f8be">setDpiPolicy</a>(LevelProperties::DP_ImageDpi);</div>
<div class="line"><span class="lineno"> 1950</span>  <span class="keywordflow">if</span> (dim == <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a>()) {</div>
<div class="line"><span class="lineno"> 1951</span>    <span class="keywordtype">double</span> w, h;</div>
<div class="line"><span class="lineno"> 1952</span>    <a class="code hl_class" href="class_preferences.html">Preferences</a> *pref = Preferences::instance();</div>
<div class="line"><span class="lineno"> 1953</span>    <span class="keywordflow">if</span> (pref-&gt;isNewLevelSizeToCameraSizeEnabled()) {</div>
<div class="line"><span class="lineno"> 1954</span>      <a class="code hl_class" href="class_t_dimension_t.html">TDimensionD</a> camSize = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#a750b5ab623ccec744013b0c83bf20abc">getCurrentCamera</a>()-&gt;<a class="code hl_function" href="class_t_camera.html#a6f561eca912177c2150b3e57816f02f6">getSize</a>();</div>
<div class="line"><span class="lineno"> 1955</span>      w                   = camSize.lx;</div>
<div class="line"><span class="lineno"> 1956</span>      h                   = camSize.ly;</div>
<div class="line"><span class="lineno"> 1957</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#aef6e555a773c2f69d2089dc9c009f8be">setDpiPolicy</a>(LevelProperties::DP_CustomDpi);</div>
<div class="line"><span class="lineno"> 1958</span>      dpi  = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#a750b5ab623ccec744013b0c83bf20abc">getCurrentCamera</a>()-&gt;<a class="code hl_function" href="class_t_camera.html#adf45510b5dc53f6481308ef489fbd5a9">getDpi</a>().x;</div>
<div class="line"><span class="lineno"> 1959</span>      dpiY = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#a750b5ab623ccec744013b0c83bf20abc">getCurrentCamera</a>()-&gt;<a class="code hl_function" href="class_t_camera.html#adf45510b5dc53f6481308ef489fbd5a9">getDpi</a>().y;</div>
<div class="line"><span class="lineno"> 1960</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1961</span>      w    = pref-&gt;getDefLevelWidth();</div>
<div class="line"><span class="lineno"> 1962</span>      h    = pref-&gt;getDefLevelHeight();</div>
<div class="line"><span class="lineno"> 1963</span>      dpi  = pref-&gt;getDefLevelDpi();</div>
<div class="line"><span class="lineno"> 1964</span>      dpiY = dpi;</div>
<div class="line"><span class="lineno"> 1965</span>    }</div>
<div class="line"><span class="lineno"> 1966</span> </div>
<div class="line"><span class="lineno"> 1967</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a9dd72acd3e3fd85e3d44c6b44a8f9ff4">setImageRes</a>(<a class="code hl_class" href="class_t_dimension_t.html">TDimension</a>(tround(w * dpi), tround(h * dpiY)));</div>
<div class="line"><span class="lineno"> 1968</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1969</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a9dd72acd3e3fd85e3d44c6b44a8f9ff4">setImageRes</a>(dim);</div>
<div class="line"><span class="lineno"> 1970</span> </div>
<div class="line"><span class="lineno"> 1971</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a62b744354e8acc21f75e19fec84bbe6c">setImageDpi</a>(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(dpi, dpiY));</div>
<div class="line"><span class="lineno"> 1972</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#abdaea012fce05b1617350a174790f473">setDpi</a>(dpi);</div>
<div class="line"><span class="lineno"> 1973</span>}</div>
<div class="ttc" id="aclass_level_properties_html_a62b744354e8acc21f75e19fec84bbe6c"><div class="ttname"><a href="class_level_properties.html#a62b744354e8acc21f75e19fec84bbe6c">LevelProperties::setImageDpi</a></div><div class="ttdeci">void setImageDpi(const TPointD &amp;dpi)</div><div class="ttdoc">Sets the level's image dpi.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:94</div></div>
<div class="ttc" id="aclass_level_properties_html_a9dd72acd3e3fd85e3d44c6b44a8f9ff4"><div class="ttname"><a href="class_level_properties.html#a9dd72acd3e3fd85e3d44c6b44a8f9ff4">LevelProperties::setImageRes</a></div><div class="ttdeci">void setImageRes(const TDimension &amp;d)</div><div class="ttdoc">Sets the level's known image resolution.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:106</div></div>
<div class="ttc" id="aclass_level_properties_html_abdaea012fce05b1617350a174790f473"><div class="ttname"><a href="class_level_properties.html#abdaea012fce05b1617350a174790f473">LevelProperties::setDpi</a></div><div class="ttdeci">void setDpi(const TPointD &amp;dpi)</div><div class="ttdoc">Sets the level's custom dpi.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:60</div></div>
<div class="ttc" id="aclass_level_properties_html_aef6e555a773c2f69d2089dc9c009f8be"><div class="ttname"><a href="class_level_properties.html#aef6e555a773c2f69d2089dc9c009f8be">LevelProperties::setDpiPolicy</a></div><div class="ttdeci">void setDpiPolicy(DpiPolicy dpiPolicy)</div><div class="ttdoc">Sets the level's DpiPolicy.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:48</div></div>
<div class="ttc" id="aclass_preferences_html"><div class="ttname"><a href="class_preferences.html">Preferences</a></div><div class="ttdef"><b>Definition:</b> preferences.h:72</div></div>
<div class="ttc" id="aclass_t_camera_html_a6f561eca912177c2150b3e57816f02f6"><div class="ttname"><a href="class_t_camera.html#a6f561eca912177c2150b3e57816f02f6">TCamera::getSize</a></div><div class="ttdeci">const TDimensionD &amp; getSize() const</div><div class="ttdef"><b>Definition:</b> tcamera.h:55</div></div>
<div class="ttc" id="aclass_t_camera_html_adf45510b5dc53f6481308ef489fbd5a9"><div class="ttname"><a href="class_t_camera.html#adf45510b5dc53f6481308ef489fbd5a9">TCamera::getDpi</a></div><div class="ttdeci">TPointD getDpi() const</div><div class="ttdef"><b>Definition:</b> tcamera.cpp:62</div></div>
<div class="ttc" id="aclass_toonz_scene_html_a750b5ab623ccec744013b0c83bf20abc"><div class="ttname"><a href="class_toonz_scene.html#a750b5ab623ccec744013b0c83bf20abc">ToonzScene::getCurrentCamera</a></div><div class="ttdeci">TCamera * getCurrentCamera()</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:1472</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0461a1c4cbf4aff6acf7479174033f6f" name="a0461a1c4cbf4aff6acf7479174033f6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0461a1c4cbf4aff6acf7479174033f6f">&#9670;&nbsp;</a></span>invalidateFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::invalidateFrame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1919</span>                                                         {</div>
<div class="line"><span class="lineno"> 1920</span>  std::string <span class="keywordtype">id</span> = getImageId(fid);</div>
<div class="line"><span class="lineno"> 1921</span>  ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a34bdaa25c84cd79a7518dbd233a947f4">invalidate</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno"> 1922</span>}</div>
<div class="ttc" id="aclass_image_manager_html_a34bdaa25c84cd79a7518dbd233a947f4"><div class="ttname"><a href="class_image_manager.html#a34bdaa25c84cd79a7518dbd233a947f4">ImageManager::invalidate</a></div><div class="ttdeci">bool invalidate(const std::string &amp;id)</div><div class="ttdef"><b>Definition:</b> imagemanager.cpp:426</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a981bbb92457662c5a66693d15c5bcf19" name="a981bbb92457662c5a66693d15c5bcf19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a981bbb92457662c5a66693d15c5bcf19">&#9670;&nbsp;</a></span>invalidateFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::invalidateFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1911</span>                                       {</div>
<div class="line"><span class="lineno"> 1912</span>  FramesSet::iterator ft, fEnd = m_frames.end();</div>
<div class="line"><span class="lineno"> 1913</span>  <span class="keywordflow">for</span> (ft = m_frames.begin(); ft != fEnd; ++ft)</div>
<div class="line"><span class="lineno"> 1914</span>    ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a34bdaa25c84cd79a7518dbd233a947f4">invalidate</a>(getImageId(*ft));</div>
<div class="line"><span class="lineno"> 1915</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4aa1b2a8203d6cb121719b9e100c9643" name="a4aa1b2a8203d6cb121719b9e100c9643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aa1b2a8203d6cb121719b9e100c9643">&#9670;&nbsp;</a></span>is16BitChannelLevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TXshSimpleLevel::is16BitChannelLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   98</span>                                   {</div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == OVL_XSHLEVEL &amp;&amp; m_16BitChannelLevel;</div>
<div class="line"><span class="lineno">  100</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c256d2745209a181a2dbccdec949c5e" name="a7c256d2745209a181a2dbccdec949c5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c256d2745209a181a2dbccdec949c5e">&#9670;&nbsp;</a></span>isEmpty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TXshSimpleLevel::isEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the level is empty. </p>

<p>Reimplemented from <a class="el" href="class_t_xsh_level.html">TXshLevel</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01978">createEmptyFrame()</a>, <a class="el" href="#l00413">IoCmd::exportLevel()</a>, <a class="el" href="#l00466">getFirstFid()</a>, <a class="el" href="#l00472">getLastFid()</a>, and <a class="el" href="#l00294">TTool::touchImage()</a>.</p>

</div>
</div>
<a id="a14de45c4b17032346cfcffbca8ef9751" name="a14de45c4b17032346cfcffbca8ef9751"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14de45c4b17032346cfcffbca8ef9751">&#9670;&nbsp;</a></span>isFid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TXshSimpleLevel::isFid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether a given frameId is in the level. </p>
<div class="fragment"><div class="line"><span class="lineno">  454</span>                                                     {</div>
<div class="line"><span class="lineno">  455</span>  <span class="keywordflow">return</span> m_frames.count(fid);</div>
<div class="line"><span class="lineno">  456</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00653">RasterImageIconRenderer::run()</a>, <a class="el" href="#l00698">ToonzImageIconRenderer::run()</a>, and <a class="el" href="#l00294">TTool::touchImage()</a>.</p>

</div>
</div>
<a id="a8287af55e61806df64e30a1f5e45d25e" name="a8287af55e61806df64e30a1f5e45d25e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8287af55e61806df64e30a1f5e45d25e">&#9670;&nbsp;</a></span>isFrameReadOnly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TXshSimpleLevel::isFrameReadOnly </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_frame_id.html">TFrameId</a>&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2402</span>                                                  {</div>
<div class="line"><span class="lineno"> 2403</span>  <span class="comment">// For Raster and mesh files, check to see if files are marked as read-only at</span></div>
<div class="line"><span class="lineno"> 2404</span>  <span class="comment">// the OS level</span></div>
<div class="line"><span class="lineno"> 2405</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == OVL_XSHLEVEL || <a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == TZI_XSHLEVEL ||</div>
<div class="line"><span class="lineno"> 2406</span>      <a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == MESH_XSHLEVEL) {</div>
<div class="line"><span class="lineno"> 2407</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;isStopMotionLevel()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2408</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> fullPath   = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(m_path);</div>
<div class="line"><span class="lineno"> 2409</span>    std::string fileType = fullPath.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>();</div>
<div class="line"><span class="lineno"> 2410</span>    <span class="keywordflow">if</span> (fileType == <span class="stringliteral">&quot;psd&quot;</span> || fileType == <span class="stringliteral">&quot;gif&quot;</span> || fileType == <span class="stringliteral">&quot;mp4&quot;</span> ||</div>
<div class="line"><span class="lineno"> 2411</span>        fileType == <span class="stringliteral">&quot;webm&quot;</span>)</div>
<div class="line"><span class="lineno"> 2412</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2413</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> path =</div>
<div class="line"><span class="lineno"> 2414</span>        fullPath.<a class="code hl_function" href="class_t_file_path.html#a698bbf714436eb6923359044900cde2b">getDots</a>() == <span class="stringliteral">&quot;..&quot;</span> ? fullPath.<a class="code hl_function" href="class_t_file_path.html#a12f35b225e1882372ad7e02ad7fce543">withFrame</a>(fid) : fullPath;</div>
<div class="line"><span class="lineno"> 2415</span>    <span class="keywordflow">if</span> (!TSystem::doesExistFileOrLevel(path)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2416</span>    <a class="code hl_class" href="class_t_file_status.html">TFileStatus</a> fs(path);</div>
<div class="line"><span class="lineno"> 2417</span>    <span class="keywordflow">return</span> !fs.isWritable();</div>
<div class="line"><span class="lineno"> 2418</span>  }</div>
<div class="line"><span class="lineno"> 2419</span> </div>
<div class="line"><span class="lineno"> 2420</span>  <span class="comment">// If Level is marked read only, check for editable frames</span></div>
<div class="line"><span class="lineno"> 2421</span>  <span class="keywordflow">if</span> (m_isReadOnly &amp;&amp; !m_editableRange.empty() &amp;&amp;</div>
<div class="line"><span class="lineno"> 2422</span>      m_editableRange.count(fid) != 0)</div>
<div class="line"><span class="lineno"> 2423</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2424</span> </div>
<div class="line"><span class="lineno"> 2425</span>  <span class="keywordflow">return</span> m_isReadOnly;</div>
<div class="line"><span class="lineno"> 2426</span>}</div>
<div class="ttc" id="aclass_t_file_path_html_a12f35b225e1882372ad7e02ad7fce543"><div class="ttname"><a href="class_t_file_path.html#a12f35b225e1882372ad7e02ad7fce543">TFilePath::withFrame</a></div><div class="ttdeci">TFilePath withFrame(const TFrameId &amp;frame, TFrameId::FrameFormat format=TFrameId::USE_CURRENT_FORMAT) const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:860</div></div>
<div class="ttc" id="aclass_t_file_path_html_a698bbf714436eb6923359044900cde2b"><div class="ttname"><a href="class_t_file_path.html#a698bbf714436eb6923359044900cde2b">TFilePath::getDots</a></div><div class="ttdeci">std::string getDots() const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:539</div></div>
<div class="ttc" id="aclass_toonz_scene_html_aa2ed57dfbae7f8cf02a4abe47ed533c6"><div class="ttname"><a href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">ToonzScene::decodeFilePath</a></div><div class="ttdeci">TFilePath decodeFilePath(const TFilePath &amp;) const</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:1231</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a75ee26ceeb8922209d2146de77931a" name="a1a75ee26ceeb8922209d2146de77931a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a75ee26ceeb8922209d2146de77931a">&#9670;&nbsp;</a></span>isReadOnly()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TXshSimpleLevel::isReadOnly </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  105</span>{ <span class="keywordflow">return</span> m_isReadOnly; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a31db45fd67e847b52c96ef1836c9d989" name="a31db45fd67e847b52c96ef1836c9d989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31db45fd67e847b52c96ef1836c9d989">&#9670;&nbsp;</a></span>isSubsequence()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TXshSimpleLevel::isSubsequence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   96</span>{ <span class="keywordflow">return</span> m_isSubsequence; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0020922626c177cd3134a05e274aecee" name="a0020922626c177cd3134a05e274aecee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0020922626c177cd3134a05e274aecee">&#9670;&nbsp;</a></span>load() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::load </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Loads the level from disk, translating encoded level paths relative to the level's scene path. </p>

<p>Implements <a class="el" href="class_t_xsh_level.html#a3fe5db60912aecd08a751208b5e3feae">TXshLevel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1083</span>                           {</div>
<div class="line"><span class="lineno"> 1084</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#ab862cec23ee8e4922796cb7f98fcab44">setCreator</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1085</span>  QString creator;</div>
<div class="line"><span class="lineno"> 1086</span> </div>
<div class="line"><span class="lineno"> 1087</span>  assert(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>());</div>
<div class="line"><span class="lineno"> 1088</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>  m_isSubsequence = loadingLevelRange.isEnabled();</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> checkpath = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(m_path);</div>
<div class="line"><span class="lineno"> 1093</span>  std::string type    = checkpath.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>();</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>  <span class="keywordflow">if</span> (m_scannedPath != <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>()) {</div>
<div class="line"><span class="lineno"> 1096</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a61fc160a558f50d75be87c6fae066d57">setDirtyFlag</a>(</div>
<div class="line"><span class="lineno"> 1097</span>        <span class="keyword">false</span>);  <span class="comment">// Level is now supposedly loaded from disk</span></div>
<div class="line"><span class="lineno"> 1098</span> </div>
<div class="line"><span class="lineno"> 1099</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> ScannedCleanuppedMask = <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a> | <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d">Cleanupped</a>;</div>
<div class="line"><span class="lineno"> 1100</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> path = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(m_scannedPath);</div>
<div class="line"><span class="lineno"> 1101</span>    <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(path)) {</div>
<div class="line"><span class="lineno"> 1102</span>      <a class="code hl_class" href="class_t_level_reader_p.html">TLevelReaderP</a> lr(path);</div>
<div class="line"><span class="lineno"> 1103</span>      assert(lr);</div>
<div class="line"><span class="lineno"> 1104</span>      <a class="code hl_class" href="class_t_level_p.html">TLevelP</a> level = lr-&gt;loadInfo();</div>
<div class="line"><span class="lineno"> 1105</span>      <span class="keywordflow">if</span> (!checkCreatorString(creator = lr-&gt;getCreator()))</div>
<div class="line"><span class="lineno"> 1106</span>        <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a9c6567a96a32124a23ba050b91a6ff92">setIsForbidden</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1107</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1108</span>        <span class="keywordflow">for</span> (TLevel::Iterator it = level-&gt;begin(); it != level-&gt;end(); it++) {</div>
<div class="line"><span class="lineno"> 1109</span>          <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid = it-&gt;first;</div>
<div class="line"><span class="lineno"> 1110</span>          <span class="keywordflow">if</span> (!loadingLevelRange.match(fid)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1111</span>          setFrameStatus(</div>
<div class="line"><span class="lineno"> 1112</span>              fid, (getFrameStatus(fid) &amp; ~ScannedCleanuppedMask) | <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>);</div>
<div class="line"><span class="lineno"> 1113</span>          setFrame(fid, <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>());</div>
<div class="line"><span class="lineno"> 1114</span>        }</div>
<div class="line"><span class="lineno"> 1115</span>    }</div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span>    path = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(m_path);</div>
<div class="line"><span class="lineno"> 1118</span>    <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(path)) {</div>
<div class="line"><span class="lineno"> 1119</span>      <a class="code hl_class" href="class_t_level_reader_p.html">TLevelReaderP</a> lr(path);</div>
<div class="line"><span class="lineno"> 1120</span>      assert(lr);</div>
<div class="line"><span class="lineno"> 1121</span>      <a class="code hl_class" href="class_t_level_p.html">TLevelP</a> level = lr-&gt;loadInfo();</div>
<div class="line"><span class="lineno"> 1122</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() &amp; FULLCOLOR_TYPE)</div>
<div class="line"><span class="lineno"> 1123</span>        <a class="code hl_function" href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">setPalette</a>(FullColorPalette::instance()-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()));</div>
<div class="line"><span class="lineno"> 1124</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1125</span>        <a class="code hl_function" href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">setPalette</a>(level-&gt;getPalette());</div>
<div class="line"><span class="lineno"> 1126</span>      <span class="keywordflow">if</span> (!checkCreatorString(creator = lr-&gt;getCreator()))</div>
<div class="line"><span class="lineno"> 1127</span>        <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a9c6567a96a32124a23ba050b91a6ff92">setIsForbidden</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1128</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1129</span>        <span class="keywordflow">for</span> (TLevel::Iterator it = level-&gt;begin(); it != level-&gt;end(); it++) {</div>
<div class="line"><span class="lineno"> 1130</span>          <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid = it-&gt;first;</div>
<div class="line"><span class="lineno"> 1131</span>          <span class="keywordflow">if</span> (!loadingLevelRange.match(fid)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1132</span>          setFrameStatus(fid, getFrameStatus(fid) | <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d">Cleanupped</a>);</div>
<div class="line"><span class="lineno"> 1133</span>          setFrame(fid, <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>());</div>
<div class="line"><span class="lineno"> 1134</span>        }</div>
<div class="line"><span class="lineno"> 1135</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#aa5ae2d1b425b93a9e37fbfcb324a5db6">setContentHistory</a>(</div>
<div class="line"><span class="lineno"> 1136</span>          lr-&gt;getContentHistory() ? lr-&gt;getContentHistory()-&gt;clone() : 0);</div>
<div class="line"><span class="lineno"> 1137</span>    }</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1140</span>    <span class="comment">// Not a scan + cleanup level</span></div>
<div class="line"><span class="lineno"> 1141</span> </div>
<div class="line"><span class="lineno"> 1142</span>    <span class="comment">// Loading PSD files via load level command needs to convert layerID in the</span></div>
<div class="line"><span class="lineno"> 1143</span>    <span class="comment">// file path to layer name here. The conversion is not needed on loading</span></div>
<div class="line"><span class="lineno"> 1144</span>    <span class="comment">// scene as the file path loaded from the scene file is already converted.</span></div>
<div class="line"><span class="lineno"> 1145</span>    <span class="keywordflow">if</span> (m_path.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;psd&quot;</span> &amp;&amp; !this-&gt;getScene()-&gt;isLoading())</div>
<div class="line"><span class="lineno"> 1146</span>      m_path = getLevelPathAndSetNameWithPsdLevelName(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> path = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(m_path);</div>
<div class="line"><span class="lineno"> 1149</span> </div>
<div class="line"><span class="lineno"> 1150</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a61fc160a558f50d75be87c6fae066d57">setDirtyFlag</a>(</div>
<div class="line"><span class="lineno"> 1151</span>        <span class="keyword">false</span>);  <span class="comment">// Level is now supposedly loaded from disk</span></div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>    <a class="code hl_class" href="class_t_level_reader_p.html">TLevelReaderP</a> lr(path);  <span class="comment">// May throw</span></div>
<div class="line"><span class="lineno"> 1154</span>    assert(lr);</div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>    <a class="code hl_class" href="class_t_level_p.html">TLevelP</a> level = lr-&gt;loadInfo();</div>
<div class="line"><span class="lineno"> 1157</span>    <span class="keywordflow">if</span> (level-&gt;getFrameCount() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1158</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_image_info.html">TImageInfo</a> *info = lr-&gt;getImageInfo(level-&gt;begin()-&gt;first);</div>
<div class="line"><span class="lineno"> 1159</span> </div>
<div class="line"><span class="lineno"> 1160</span>      <span class="keywordflow">if</span> (info &amp;&amp; info-&gt;m_samplePerPixel &gt;= 5) {</div>
<div class="line"><span class="lineno"> 1161</span>        QString msg = QString(</div>
<div class="line"><span class="lineno"> 1162</span>                          <span class="stringliteral">&quot;Failed to open %1.\nSamples per pixel is more than &quot;</span></div>
<div class="line"><span class="lineno"> 1163</span>                          <span class="stringliteral">&quot;4. It may contain more than one alpha channel.&quot;</span>)</div>
<div class="line"><span class="lineno"> 1164</span>                          .arg(QString::fromStdWString(m_path.getWideString()));</div>
<div class="line"><span class="lineno"> 1165</span>        QMessageBox::warning(0, <span class="stringliteral">&quot;Image format not supported&quot;</span>, msg);</div>
<div class="line"><span class="lineno"> 1166</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1167</span>      }</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>      <span class="keywordflow">if</span> (info) set16BitChannelLevel(info-&gt;m_bitsPerSample == 16);</div>
<div class="line"><span class="lineno"> 1170</span>    }</div>
<div class="line"><span class="lineno"> 1171</span>    <span class="keywordflow">if</span> ((<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() &amp; FULLCOLOR_TYPE) &amp;&amp; !is16BitChannelLevel())</div>
<div class="line"><span class="lineno"> 1172</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">setPalette</a>(FullColorPalette::instance()-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()));</div>
<div class="line"><span class="lineno"> 1173</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1174</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">setPalette</a>(level-&gt;getPalette());</div>
<div class="line"><span class="lineno"> 1175</span> </div>
<div class="line"><span class="lineno"> 1176</span>    <span class="keywordflow">if</span> (!checkCreatorString(creator = lr-&gt;getCreator()))</div>
<div class="line"><span class="lineno"> 1177</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a9c6567a96a32124a23ba050b91a6ff92">setIsForbidden</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1178</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1179</span>      <span class="keywordflow">for</span> (TLevel::Iterator it = level-&gt;begin(); it != level-&gt;end(); it++) {</div>
<div class="line"><span class="lineno"> 1180</span>        m_renumberTable[it-&gt;first] = it-&gt;first;  <span class="comment">// Voglio che la tabella</span></div>
<div class="line"><span class="lineno"> 1181</span>                                                 <span class="comment">// contenga anche i frame che</span></div>
<div class="line"><span class="lineno"> 1182</span>                                                 <span class="comment">// non vengono caricati</span></div>
<div class="line"><span class="lineno"> 1183</span>        <span class="keywordflow">if</span> (!loadingLevelRange.match(it-&gt;first)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1184</span>        setFrame(it-&gt;first, <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>());</div>
<div class="line"><span class="lineno"> 1185</span>      }</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#aa5ae2d1b425b93a9e37fbfcb324a5db6">setContentHistory</a>(lr-&gt;getContentHistory() ? lr-&gt;getContentHistory()-&gt;clone()</div>
<div class="line"><span class="lineno"> 1188</span>                                              : 0);</div>
<div class="line"><span class="lineno"> 1189</span>  }</div>
<div class="line"><span class="lineno"> 1190</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#ab862cec23ee8e4922796cb7f98fcab44">setCreator</a>(creator.toStdString());</div>
<div class="line"><span class="lineno"> 1191</span> </div>
<div class="line"><span class="lineno"> 1192</span>  loadingLevelRange.reset();</div>
<div class="line"><span class="lineno"> 1193</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() != PLI_XSHLEVEL) {</div>
<div class="line"><span class="lineno"> 1194</span>    <span class="keywordflow">if</span> (m_properties-&gt;getImageDpi() == <a class="code hl_class" href="class_t_point_t.html">TPointD</a>() &amp;&amp; !m_frames.empty()) {</div>
<div class="line"><span class="lineno"> 1195</span>      <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> imageRes(0, 0);</div>
<div class="line"><span class="lineno"> 1196</span>      <a class="code hl_class" href="class_t_point_t.html">TPointD</a> imageDpi;</div>
<div class="line"><span class="lineno"> 1197</span> </div>
<div class="line"><span class="lineno"> 1198</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> &amp;firstFid = <a class="code hl_function" href="class_t_xsh_simple_level.html#a18862340ce6e813778b40a7913b13252">getFirstFid</a>();</div>
<div class="line"><span class="lineno"> 1199</span>      std::string imageId      = getImageId(firstFid);</div>
<div class="line"><span class="lineno"> 1200</span> </div>
<div class="line"><span class="lineno"> 1201</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_image_info.html">TImageInfo</a> *imageInfo =</div>
<div class="line"><span class="lineno"> 1202</span>          ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a44231d6948d69f54e9a4315049131086">getInfo</a>(imageId, ImageManager::none, 0);</div>
<div class="line"><span class="lineno"> 1203</span>      <span class="keywordflow">if</span> (imageInfo) {</div>
<div class="line"><span class="lineno"> 1204</span>        imageRes.lx = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#afe82a2118ba303797b2c8a12b47b771d">m_lx</a>;</div>
<div class="line"><span class="lineno"> 1205</span>        imageRes.ly = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#affef879628cc3843968c932e706541b6">m_ly</a>;</div>
<div class="line"><span class="lineno"> 1206</span>        imageDpi.x  = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#ad66e78a66158fddceaa192d0063f68e8">m_dpix</a>;</div>
<div class="line"><span class="lineno"> 1207</span>        imageDpi.y  = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#ad8d3ccb14666297e487e04aa10ab7831">m_dpiy</a>;</div>
<div class="line"><span class="lineno"> 1208</span>        m_properties-&gt;setImageDpi(imageDpi);</div>
<div class="line"><span class="lineno"> 1209</span>        m_properties-&gt;setImageRes(imageRes);</div>
<div class="line"><span class="lineno"> 1210</span>        m_properties-&gt;setBpp(imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#aa69221d579b49a27bcd54ffaabb2e8be">m_bitsPerSample</a> *</div>
<div class="line"><span class="lineno"> 1211</span>                             imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#a6b58380f718e21dde1b37577090f5c77">m_samplePerPixel</a>);</div>
<div class="line"><span class="lineno"> 1212</span>      }</div>
<div class="line"><span class="lineno"> 1213</span>    }</div>
<div class="line"><span class="lineno"> 1214</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#a7465cffde15c5f7a8686842c770c2ef6">setRenumberTable</a>();</div>
<div class="line"><span class="lineno"> 1215</span>  }</div>
<div class="line"><span class="lineno"> 1216</span> </div>
<div class="line"><span class="lineno"> 1217</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>() &amp;&amp; StudioPalette::isEnabled())</div>
<div class="line"><span class="lineno"> 1218</span>    StudioPalette::instance()-&gt;<a class="code hl_function" href="class_studio_palette.html#a8174aad5fff24c6a08849628e35c8ec2">updateLinkedColors</a>(<a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>());</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> refImgName;</div>
<div class="line"><span class="lineno"> 1221</span>  <span class="keywordflow">if</span> (m_palette) {</div>
<div class="line"><span class="lineno"> 1222</span>    refImgName           = m_palette-&gt;<a class="code hl_function" href="class_t_palette.html#a7eda1d7f3a27e8e90d0c12faaedaf5a6">getRefImgPath</a>();</div>
<div class="line"><span class="lineno"> 1223</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> refImgPath = refImgName;</div>
<div class="line"><span class="lineno"> 1224</span>    <span class="keywordflow">if</span> (refImgName != <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>() &amp;&amp; <a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(refImgPath).doesExist()) {</div>
<div class="line"><span class="lineno"> 1225</span>      <a class="code hl_class" href="class_t_level_reader_p.html">TLevelReaderP</a> lr(refImgPath);</div>
<div class="line"><span class="lineno"> 1226</span>      <span class="keywordflow">if</span> (lr) {</div>
<div class="line"><span class="lineno"> 1227</span>        <a class="code hl_class" href="class_t_level_p.html">TLevelP</a> level = lr-&gt;loadInfo();</div>
<div class="line"><span class="lineno"> 1228</span>        <span class="keywordflow">if</span> (level-&gt;getFrameCount() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1229</span>          <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = lr-&gt;getFrameReader(level-&gt;begin()-&gt;first)-&gt;load();</div>
<div class="line"><span class="lineno"> 1230</span>          <span class="keywordflow">if</span> (img &amp;&amp; <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>()) {</div>
<div class="line"><span class="lineno"> 1231</span>            img-&gt;<a class="code hl_function" href="class_t_image.html#a3377c18a849addff5c2cb238176ad04f">setPalette</a>(0);</div>
<div class="line"><span class="lineno"> 1232</span>            <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>()-&gt;<a class="code hl_function" href="class_t_palette.html#a971fd2aac3c14754d6cdcb0679cf6893">setRefImg</a>(img);</div>
<div class="line"><span class="lineno"> 1233</span>            std::vector&lt;TFrameId&gt; fids = <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>()-&gt;<a class="code hl_function" href="class_t_palette.html#aeda302f41529ee532096ecef117bdf7d">getRefLevelFids</a>();</div>
<div class="line"><span class="lineno"> 1234</span>            <span class="comment">// in case the fids are specified by user</span></div>
<div class="line"><span class="lineno"> 1235</span>            <span class="keywordflow">if</span> (fids.size() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1236</span>              <span class="comment">// check existence of each fid</span></div>
<div class="line"><span class="lineno"> 1237</span>              <span class="keyword">auto</span> itr = fids.begin();</div>
<div class="line"><span class="lineno"> 1238</span>              <span class="keywordflow">while</span> (itr != fids.end()) {</div>
<div class="line"><span class="lineno"> 1239</span>                <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1240</span>                <span class="keywordflow">for</span> (TLevel::Iterator it = level-&gt;begin(); it != level-&gt;end();</div>
<div class="line"><span class="lineno"> 1241</span>                     ++it) {</div>
<div class="line"><span class="lineno"> 1242</span>                  <span class="keywordflow">if</span> (itr-&gt;getNumber() == it-&gt;first.getNumber()) {</div>
<div class="line"><span class="lineno"> 1243</span>                    found = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1244</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1245</span>                  }</div>
<div class="line"><span class="lineno"> 1246</span>                }</div>
<div class="line"><span class="lineno"> 1247</span>                <span class="keywordflow">if</span> (!found)  <span class="comment">// remove the fid if it does not exist in the level</span></div>
<div class="line"><span class="lineno"> 1248</span>                  itr = fids.erase(itr);</div>
<div class="line"><span class="lineno"> 1249</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1250</span>                  itr++;</div>
<div class="line"><span class="lineno"> 1251</span>              }</div>
<div class="line"><span class="lineno"> 1252</span>            }</div>
<div class="line"><span class="lineno"> 1253</span>            <span class="comment">// in case the fids are not specified, or all specified fids are</span></div>
<div class="line"><span class="lineno"> 1254</span>            <span class="comment">// absent</span></div>
<div class="line"><span class="lineno"> 1255</span>            <span class="keywordflow">if</span> (fids.size() == 0) {</div>
<div class="line"><span class="lineno"> 1256</span>              <span class="keywordflow">for</span> (TLevel::Iterator it = level-&gt;begin(); it != level-&gt;end();</div>
<div class="line"><span class="lineno"> 1257</span>                   ++it)</div>
<div class="line"><span class="lineno"> 1258</span>                fids.push_back(it-&gt;first);</div>
<div class="line"><span class="lineno"> 1259</span>              <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>()-&gt;<a class="code hl_function" href="class_t_palette.html#a807070f5c3f7033531f455f08ee489c4">setRefLevelFids</a>(fids, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1260</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fids.size() != <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>()-&gt;getRefLevelFids().size())</div>
<div class="line"><span class="lineno"> 1261</span>              <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>()-&gt;<a class="code hl_function" href="class_t_palette.html#a807070f5c3f7033531f455f08ee489c4">setRefLevelFids</a>(fids, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1262</span>          }</div>
<div class="line"><span class="lineno"> 1263</span>        }</div>
<div class="line"><span class="lineno"> 1264</span>      }</div>
<div class="line"><span class="lineno"> 1265</span>    }</div>
<div class="line"><span class="lineno"> 1266</span>  }</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>  <span class="comment">// Load hooks</span></div>
<div class="line"><span class="lineno"> 1269</span>  <a class="code hl_class" href="class_hook_set.html">HookSet</a> *hookSet = <a class="code hl_function" href="class_t_xsh_level.html#a6e1f2998c39699adbe9133f87109a104">getHookSet</a>();</div>
<div class="line"><span class="lineno"> 1270</span>  hookSet-&gt;<a class="code hl_function" href="class_hook_set.html#ae71b23ed4cd31ce5a969afe3c4e94096">clearHooks</a>();</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;hookFile =</div>
<div class="line"><span class="lineno"> 1273</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#a543f442eca762915046bf52bccc2b4fc">TXshSimpleLevel::getExistingHookFile</a>(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;decodeFilePath(m_path));</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>  <span class="keywordflow">if</span> (!hookFile.isEmpty()) {</div>
<div class="line"><span class="lineno"> 1276</span>    <a class="code hl_class" href="class_t_i_stream.html">TIStream</a> is(hookFile);</div>
<div class="line"><span class="lineno"> 1277</span>    std::string tagName;</div>
<div class="line"><span class="lineno"> 1278</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1279</span>      <span class="keywordflow">if</span> (is.matchTag(tagName) &amp;&amp; tagName == <span class="stringliteral">&quot;hooks&quot;</span>) hookSet-&gt;loadData(is);</div>
<div class="line"><span class="lineno"> 1280</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 1281</span>    }</div>
<div class="line"><span class="lineno"> 1282</span>  }</div>
<div class="line"><span class="lineno"> 1283</span>  updateReadOnly();</div>
<div class="line"><span class="lineno"> 1284</span>}</div>
<div class="ttc" id="aclass_hook_set_html"><div class="ttname"><a href="class_hook_set.html">HookSet</a></div><div class="ttdef"><b>Definition:</b> hook.h:117</div></div>
<div class="ttc" id="aclass_hook_set_html_ae71b23ed4cd31ce5a969afe3c4e94096"><div class="ttname"><a href="class_hook_set.html#ae71b23ed4cd31ce5a969afe3c4e94096">HookSet::clearHooks</a></div><div class="ttdeci">void clearHooks()</div><div class="ttdoc">Clears the container, deleting all stored hooks.</div><div class="ttdef"><b>Definition:</b> hook.cpp:290</div></div>
<div class="ttc" id="aclass_level_properties_html_a61fc160a558f50d75be87c6fae066d57"><div class="ttname"><a href="class_level_properties.html#a61fc160a558f50d75be87c6fae066d57">LevelProperties::setDirtyFlag</a></div><div class="ttdeci">void setDirtyFlag(bool on)</div><div class="ttdoc">Sets the level's dirty flag.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:82</div></div>
<div class="ttc" id="aclass_level_properties_html_a9c6567a96a32124a23ba050b91a6ff92"><div class="ttname"><a href="class_level_properties.html#a9c6567a96a32124a23ba050b91a6ff92">LevelProperties::setIsForbidden</a></div><div class="ttdeci">void setIsForbidden(bool forbidden)</div><div class="ttdoc">Sets whether it is forbidden to edit a level.</div><div class="ttdef"><b>Definition:</b> levelproperties.h:163</div></div>
<div class="ttc" id="aclass_level_properties_html_ab862cec23ee8e4922796cb7f98fcab44"><div class="ttname"><a href="class_level_properties.html#ab862cec23ee8e4922796cb7f98fcab44">LevelProperties::setCreator</a></div><div class="ttdeci">void setCreator(const std::string &amp;creator)</div><div class="ttdoc">Sets the level's creator string.</div><div class="ttdef"><b>Definition:</b> levelproperties.h:149</div></div>
<div class="ttc" id="aclass_studio_palette_html_a8174aad5fff24c6a08849628e35c8ec2"><div class="ttname"><a href="class_studio_palette.html#a8174aad5fff24c6a08849628e35c8ec2">StudioPalette::updateLinkedColors</a></div><div class="ttdeci">bool updateLinkedColors(TPalette *palette)</div><div class="ttdef"><b>Definition:</b> studiopalette.cpp:568</div></div>
<div class="ttc" id="aclass_t_i_stream_html"><div class="ttname"><a href="class_t_i_stream.html">TIStream</a></div><div class="ttdoc">Toonz's XML-like input file parser.</div><div class="ttdef"><b>Definition:</b> tstream.h:47</div></div>
<div class="ttc" id="aclass_t_image_html_a3377c18a849addff5c2cb238176ad04f"><div class="ttname"><a href="class_t_image.html#a3377c18a849addff5c2cb238176ad04f">TImage::setPalette</a></div><div class="ttdeci">virtual void setPalette(TPalette *palette)</div><div class="ttdef"><b>Definition:</b> timage.cpp:9</div></div>
<div class="ttc" id="aclass_t_image_info_html_a6b58380f718e21dde1b37577090f5c77"><div class="ttname"><a href="class_t_image_info.html#a6b58380f718e21dde1b37577090f5c77">TImageInfo::m_samplePerPixel</a></div><div class="ttdeci">int m_samplePerPixel</div><div class="ttdoc">Number of samples (channels) per pixel.</div><div class="ttdef"><b>Definition:</b> timageinfo.h:52</div></div>
<div class="ttc" id="aclass_t_image_info_html_aa69221d579b49a27bcd54ffaabb2e8be"><div class="ttname"><a href="class_t_image_info.html#aa69221d579b49a27bcd54ffaabb2e8be">TImageInfo::m_bitsPerSample</a></div><div class="ttdeci">int m_bitsPerSample</div><div class="ttdoc">Number of bits per sample (channel).</div><div class="ttdef"><b>Definition:</b> timageinfo.h:53</div></div>
<div class="ttc" id="aclass_t_image_info_html_afe82a2118ba303797b2c8a12b47b771d"><div class="ttname"><a href="class_t_image_info.html#afe82a2118ba303797b2c8a12b47b771d">TImageInfo::m_lx</a></div><div class="ttdeci">int m_lx</div><div class="ttdoc">Image width.</div><div class="ttdef"><b>Definition:</b> timageinfo.h:46</div></div>
<div class="ttc" id="aclass_t_image_info_html_affef879628cc3843968c932e706541b6"><div class="ttname"><a href="class_t_image_info.html#affef879628cc3843968c932e706541b6">TImageInfo::m_ly</a></div><div class="ttdeci">int m_ly</div><div class="ttdoc">Image height.</div><div class="ttdef"><b>Definition:</b> timageinfo.h:47</div></div>
<div class="ttc" id="aclass_t_level_p_html"><div class="ttname"><a href="class_t_level_p.html">TLevelP</a></div><div class="ttdef"><b>Definition:</b> tlevel.h:77</div></div>
<div class="ttc" id="aclass_t_level_reader_p_html"><div class="ttname"><a href="class_t_level_reader_p.html">TLevelReaderP</a></div><div class="ttdef"><b>Definition:</b> tlevel_io.h:109</div></div>
<div class="ttc" id="aclass_t_palette_html_a7eda1d7f3a27e8e90d0c12faaedaf5a6"><div class="ttname"><a href="class_t_palette.html#a7eda1d7f3a27e8e90d0c12faaedaf5a6">TPalette::getRefImgPath</a></div><div class="ttdeci">const TFilePath getRefImgPath() const</div><div class="ttdoc">built or modified using this palette.</div><div class="ttdef"><b>Definition:</b> tpalette.h:367</div></div>
<div class="ttc" id="aclass_t_palette_html_a807070f5c3f7033531f455f08ee489c4"><div class="ttname"><a href="class_t_palette.html#a807070f5c3f7033531f455f08ee489c4">TPalette::setRefLevelFids</a></div><div class="ttdeci">void setRefLevelFids(const std::vector&lt; TFrameId &gt; fids, bool specified)</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:1028</div></div>
<div class="ttc" id="aclass_t_palette_html_a971fd2aac3c14754d6cdcb0679cf6893"><div class="ttname"><a href="class_t_palette.html#a971fd2aac3c14754d6cdcb0679cf6893">TPalette::setRefImg</a></div><div class="ttdeci">void setRefImg(const TImageP &amp;img)</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:1019</div></div>
<div class="ttc" id="aclass_t_palette_html_aeda302f41529ee532096ecef117bdf7d"><div class="ttname"><a href="class_t_palette.html#aeda302f41529ee532096ecef117bdf7d">TPalette::getRefLevelFids</a></div><div class="ttdeci">std::vector&lt; TFrameId &gt; getRefLevelFids()</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:1036</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a7465cffde15c5f7a8686842c770c2ef6"><div class="ttname"><a href="class_t_xsh_simple_level.html#a7465cffde15c5f7a8686842c770c2ef6">TXshSimpleLevel::setRenumberTable</a></div><div class="ttdeci">void setRenumberTable()</div><div class="ttdoc">Set elements of m_renumberTable with m_frames.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:311</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_aa5ae2d1b425b93a9e37fbfcb324a5db6"><div class="ttname"><a href="class_t_xsh_simple_level.html#aa5ae2d1b425b93a9e37fbfcb324a5db6">TXshSimpleLevel::setContentHistory</a></div><div class="ttdeci">void setContentHistory(TContentHistory *contentHistory)</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:2273</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00076">Cleanupped</a>, <a class="el" href="#l00290">HookSet::clearHooks()</a>, <a class="el" href="#l01231">ToonzScene::decodeFilePath()</a>, <a class="el" href="#l02321">getExistingHookFile()</a>, <a class="el" href="#l00466">getFirstFid()</a>, <a class="el" href="#l00141">TXshLevel::getHookSet()</a>, <a class="el" href="#l00278">ImageManager::getInfo()</a>, <a class="el" href="#l00424">getPalette()</a>, <a class="el" href="#l00109">getProperties()</a>, <a class="el" href="#l00367">TPalette::getRefImgPath()</a>, <a class="el" href="#l01036">TPalette::getRefLevelFids()</a>, <a class="el" href="#l00087">TXshLevel::getScene()</a>, <a class="el" href="#l00225">TFilePath::getType()</a>, <a class="el" href="#l00081">TXshLevel::getType()</a>, <a class="el" href="#l00053">TImageInfo::m_bitsPerSample</a>, <a class="el" href="#l00039">TImageInfo::m_dpix</a>, <a class="el" href="#l00040">TImageInfo::m_dpiy</a>, <a class="el" href="#l00046">TImageInfo::m_lx</a>, <a class="el" href="#l00047">TImageInfo::m_ly</a>, <a class="el" href="#l00052">TImageInfo::m_samplePerPixel</a>, <a class="el" href="#l01178">TIStream::matchTag()</a>, <a class="el" href="#l00075">Scanned</a>, <a class="el" href="#l02273">setContentHistory()</a>, <a class="el" href="#l00149">LevelProperties::setCreator()</a>, <a class="el" href="#l00082">LevelProperties::setDirtyFlag()</a>, <a class="el" href="#l00163">LevelProperties::setIsForbidden()</a>, <a class="el" href="#l00009">TImage::setPalette()</a>, <a class="el" href="#l00428">setPalette()</a>, <a class="el" href="#l01019">TPalette::setRefImg()</a>, <a class="el" href="#l01028">TPalette::setRefLevelFids()</a>, <a class="el" href="#l00311">setRenumberTable()</a>, and <a class="el" href="#l00568">StudioPalette::updateLinkedColors()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01122">ToonzScene::loadLevel()</a>, and <a class="el" href="#l00209">SceneLevel::save()</a>.</p>

</div>
</div>
<a id="ace19983fd4d21561e5ba21b88efa567a" name="ace19983fd4d21561e5ba21b88efa567a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace19983fd4d21561e5ba21b88efa567a">&#9670;&nbsp;</a></span>load() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::load </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>fIds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1288</span>                                                          {</div>
<div class="line"><span class="lineno"> 1289</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#ab862cec23ee8e4922796cb7f98fcab44">setCreator</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1290</span>  QString creator;</div>
<div class="line"><span class="lineno"> 1291</span>  assert(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>());</div>
<div class="line"><span class="lineno"> 1292</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a61fc160a558f50d75be87c6fae066d57">setDirtyFlag</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span>  m_isSubsequence = loadingLevelRange.isEnabled();</div>
<div class="line"><span class="lineno"> 1295</span> </div>
<div class="line"><span class="lineno"> 1296</span>  <span class="comment">// non e&#39; un livello scan+cleanup</span></div>
<div class="line"><span class="lineno"> 1297</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> path = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(m_path);</div>
<div class="line"><span class="lineno"> 1298</span> </div>
<div class="line"><span class="lineno"> 1299</span>  <a class="code hl_class" href="class_t_level_reader_p.html">TLevelReaderP</a> lr(path);</div>
<div class="line"><span class="lineno"> 1300</span>  assert(lr);</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>  <span class="keywordflow">if</span> (!checkCreatorString(creator = lr-&gt;getCreator()))</div>
<div class="line"><span class="lineno"> 1303</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a9c6567a96a32124a23ba050b91a6ff92">setIsForbidden</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1304</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1305</span>    <span class="keywordflow">if</span> (fIds.size() != 0) {</div>
<div class="line"><span class="lineno"> 1306</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)fIds.size(); i++) {</div>
<div class="line"><span class="lineno"> 1307</span>        m_renumberTable[fIds[i]] = fIds[i];</div>
<div class="line"><span class="lineno"> 1308</span>        <span class="keywordflow">if</span> (!loadingLevelRange.match(fIds[i])) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1309</span>        setFrame(fIds[i], <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>());</div>
<div class="line"><span class="lineno"> 1310</span>      }</div>
<div class="line"><span class="lineno"> 1311</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_image_info.html">TImageInfo</a> *info = lr-&gt;getImageInfo(fIds[0]);</div>
<div class="line"><span class="lineno"> 1312</span>      <span class="keywordflow">if</span> (info) set16BitChannelLevel(info-&gt;m_bitsPerSample == 16);</div>
<div class="line"><span class="lineno"> 1313</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1314</span>      <a class="code hl_class" href="class_t_level_p.html">TLevelP</a> level = lr-&gt;loadInfo();</div>
<div class="line"><span class="lineno"> 1315</span>      <span class="keywordflow">for</span> (TLevel::Iterator it = level-&gt;begin(); it != level-&gt;end(); it++) {</div>
<div class="line"><span class="lineno"> 1316</span>        m_renumberTable[it-&gt;first] = it-&gt;first;</div>
<div class="line"><span class="lineno"> 1317</span>        <span class="keywordflow">if</span> (!loadingLevelRange.match(it-&gt;first)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1318</span>        setFrame(it-&gt;first, <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>());</div>
<div class="line"><span class="lineno"> 1319</span>      }</div>
<div class="line"><span class="lineno"> 1320</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_image_info.html">TImageInfo</a> *info = lr-&gt;getImageInfo(level-&gt;begin()-&gt;first);</div>
<div class="line"><span class="lineno"> 1321</span>      <span class="keywordflow">if</span> (info) set16BitChannelLevel(info-&gt;m_bitsPerSample == 16);</div>
<div class="line"><span class="lineno"> 1322</span>    }</div>
<div class="line"><span class="lineno"> 1323</span> </div>
<div class="line"><span class="lineno"> 1324</span>    <span class="keywordflow">if</span> ((<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() &amp; FULLCOLOR_TYPE) &amp;&amp; !is16BitChannelLevel())</div>
<div class="line"><span class="lineno"> 1325</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">setPalette</a>(FullColorPalette::instance()-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()));</div>
<div class="line"><span class="lineno"> 1326</span>  }</div>
<div class="line"><span class="lineno"> 1327</span> </div>
<div class="line"><span class="lineno"> 1328</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#aa5ae2d1b425b93a9e37fbfcb324a5db6">setContentHistory</a>(lr-&gt;getContentHistory() ? lr-&gt;getContentHistory()-&gt;clone()</div>
<div class="line"><span class="lineno"> 1329</span>                                            : 0);</div>
<div class="line"><span class="lineno"> 1330</span> </div>
<div class="line"><span class="lineno"> 1331</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#ab862cec23ee8e4922796cb7f98fcab44">setCreator</a>(creator.toStdString());</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>  loadingLevelRange.reset();</div>
<div class="line"><span class="lineno"> 1334</span> </div>
<div class="line"><span class="lineno"> 1335</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() != PLI_XSHLEVEL) {</div>
<div class="line"><span class="lineno"> 1336</span>    <span class="keywordflow">if</span> (m_properties-&gt;getImageDpi() == <a class="code hl_class" href="class_t_point_t.html">TPointD</a>() &amp;&amp; !m_frames.empty()) {</div>
<div class="line"><span class="lineno"> 1337</span>      <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> imageRes(0, 0);</div>
<div class="line"><span class="lineno"> 1338</span>      <a class="code hl_class" href="class_t_point_t.html">TPointD</a> imageDpi;</div>
<div class="line"><span class="lineno"> 1339</span>      std::string imageId = getImageId(<a class="code hl_function" href="class_t_xsh_simple_level.html#a18862340ce6e813778b40a7913b13252">getFirstFid</a>());</div>
<div class="line"><span class="lineno"> 1340</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_image_info.html">TImageInfo</a> *imageInfo =</div>
<div class="line"><span class="lineno"> 1341</span>          ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a44231d6948d69f54e9a4315049131086">getInfo</a>(imageId, ImageManager::none, 0);</div>
<div class="line"><span class="lineno"> 1342</span>      <span class="keywordflow">if</span> (imageInfo) {</div>
<div class="line"><span class="lineno"> 1343</span>        imageRes.lx = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#afe82a2118ba303797b2c8a12b47b771d">m_lx</a>;</div>
<div class="line"><span class="lineno"> 1344</span>        imageRes.ly = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#affef879628cc3843968c932e706541b6">m_ly</a>;</div>
<div class="line"><span class="lineno"> 1345</span>        imageDpi.x  = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#ad66e78a66158fddceaa192d0063f68e8">m_dpix</a>;</div>
<div class="line"><span class="lineno"> 1346</span>        imageDpi.y  = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#ad8d3ccb14666297e487e04aa10ab7831">m_dpiy</a>;</div>
<div class="line"><span class="lineno"> 1347</span>        m_properties-&gt;setImageDpi(imageDpi);</div>
<div class="line"><span class="lineno"> 1348</span>        m_properties-&gt;setImageRes(imageRes);</div>
<div class="line"><span class="lineno"> 1349</span>      }</div>
<div class="line"><span class="lineno"> 1350</span>    }</div>
<div class="line"><span class="lineno"> 1351</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#a7465cffde15c5f7a8686842c770c2ef6">setRenumberTable</a>();</div>
<div class="line"><span class="lineno"> 1352</span>  }</div>
<div class="line"><span class="lineno"> 1353</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa19f7a82a829c41f01db03f96d70a4d7" name="aa19f7a82a829c41f01db03f96d70a4d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa19f7a82a829c41f01db03f96d70a4d7">&#9670;&nbsp;</a></span>loadAllIconsAndPutInCache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::loadAllIconsAndPutInCache </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>cacheImagesAsWell</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  627</span>                                                                      {</div>
<div class="line"><span class="lineno">  628</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> != TZP_XSHLEVEL) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>  std::vector&lt;TFrameId&gt; fids;</div>
<div class="line"><span class="lineno">  631</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#a567daee4ca12a0e92445bcf98a6541f1">getFids</a>(fids);</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>  std::vector&lt;std::string&gt; iconIds;</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)fids.size(); i++) {</div>
<div class="line"><span class="lineno">  636</span>    iconIds.push_back(getIconId(fids[i]));</div>
<div class="line"><span class="lineno">  637</span>  }</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>  ImageManager::instance()-&gt;loadAllTlvIconsAndPutInCache(<span class="keyword">this</span>, fids, iconIds,</div>
<div class="line"><span class="lineno">  640</span>                                                         cacheImagesAsWell);</div>
<div class="line"><span class="lineno">  641</span>}</div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a567daee4ca12a0e92445bcf98a6541f1"><div class="ttname"><a href="class_t_xsh_simple_level.html#a567daee4ca12a0e92445bcf98a6541f1">TXshSimpleLevel::getFids</a></div><div class="ttdeci">std::vector&lt; TFrameId &gt; getFids() const</div><div class="ttdoc">Returns a copy of the level's frame ids.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:448</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42dbcc372a4560b9a57da010a9c296a6" name="a42dbcc372a4560b9a57da010a9c296a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42dbcc372a4560b9a57da010a9c296a6">&#9670;&nbsp;</a></span>loadData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::loadData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_i_stream.html">TIStream</a> &amp;&#160;</td>
          <td class="paramname"><em>is</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load the level data (i.e. name, path, etc. e.g. from the .tnz file) </p>

<p>Implements <a class="el" href="class_t_xsh_level.html#aec2c8b50ab4f8d3a43f6f20cbe210940">TXshLevel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  902</span>                                           {</div>
<div class="line"><span class="lineno">  903</span>  std::string tagName;</div>
<div class="line"><span class="lineno">  904</span>  <span class="keywordtype">bool</span> flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>  <span class="keywordtype">int</span> type = UNKNOWN_XSHLEVEL;</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span>  <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">  909</span>    <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a5fe7ddb5560e39e0ab4ff57d24926d41">matchTag</a>(tagName)) {</div>
<div class="line"><span class="lineno">  910</span>      <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;path&quot;</span>) {</div>
<div class="line"><span class="lineno">  911</span>        is &gt;&gt; m_path;</div>
<div class="line"><span class="lineno">  912</span>        is.<a class="code hl_function" href="class_t_i_stream.html#a84110f30d5adcc50d6000e9c99cd4708">matchEndTag</a>();</div>
<div class="line"><span class="lineno">  913</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;scannedPath&quot;</span>) {</div>
<div class="line"><span class="lineno">  914</span>        is &gt;&gt; m_scannedPath;</div>
<div class="line"><span class="lineno">  915</span>        is.<a class="code hl_function" href="class_t_i_stream.html#a84110f30d5adcc50d6000e9c99cd4708">matchEndTag</a>();</div>
<div class="line"><span class="lineno">  916</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;info&quot;</span>) {</div>
<div class="line"><span class="lineno">  917</span>        std::string v;</div>
<div class="line"><span class="lineno">  918</span>        <span class="keywordtype">double</span> xdpi = 0, ydpi = 0;</div>
<div class="line"><span class="lineno">  919</span>        <span class="keywordtype">int</span> subsampling                      = 1;</div>
<div class="line"><span class="lineno">  920</span>        <span class="keywordtype">int</span> doPremultiply                    = 0;</div>
<div class="line"><span class="lineno">  921</span>        <span class="keywordtype">int</span> <a class="code hl_function" href="namespace_t_rop.html#a35fb11523175f84027df48cc51d45d28">whiteTransp</a>                      = 0;</div>
<div class="line"><span class="lineno">  922</span>        <span class="keywordtype">int</span> antialiasSoftness                = 0;</div>
<div class="line"><span class="lineno">  923</span>        <span class="keywordtype">int</span> isStopMotionLevel                = 0;</div>
<div class="line"><span class="lineno">  924</span>        <a class="code hl_enumeration" href="class_level_properties.html#a39428db69e55fec37017a264312b61d2">LevelProperties::DpiPolicy</a> dpiPolicy = LevelProperties::DP_ImageDpi;</div>
<div class="line"><span class="lineno">  925</span>        <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;dpix&quot;</span>, v)) xdpi = std::stod(v);</div>
<div class="line"><span class="lineno">  926</span>        <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;dpiy&quot;</span>, v)) ydpi = std::stod(v);</div>
<div class="line"><span class="lineno">  927</span>        <span class="keywordflow">if</span> (xdpi != 0 &amp;&amp; ydpi != 0) dpiPolicy = LevelProperties::DP_CustomDpi;</div>
<div class="line"><span class="lineno">  928</span>        std::string dpiType = is.<a class="code hl_function" href="class_t_i_stream.html#a03a74e5481dd5b2d328351c5c4022ab2">getTagAttribute</a>(<span class="stringliteral">&quot;dpiType&quot;</span>);</div>
<div class="line"><span class="lineno">  929</span>        <span class="keywordflow">if</span> (dpiType == <span class="stringliteral">&quot;image&quot;</span>) dpiPolicy = LevelProperties::DP_ImageDpi;</div>
<div class="line"><span class="lineno">  930</span>        <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;type&quot;</span>, v) &amp;&amp; v == <span class="stringliteral">&quot;s&quot;</span>) type = TZI_XSHLEVEL;</div>
<div class="line"><span class="lineno">  931</span>        <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;subsampling&quot;</span>, v)) subsampling = std::stoi(v);</div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;premultiply&quot;</span>, v)) doPremultiply = std::stoi(v);</div>
<div class="line"><span class="lineno">  933</span>        <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;antialias&quot;</span>, v)) antialiasSoftness = std::stoi(v);</div>
<div class="line"><span class="lineno">  934</span>        <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;whiteTransp&quot;</span>, v)) <a class="code hl_function" href="namespace_t_rop.html#a35fb11523175f84027df48cc51d45d28">whiteTransp</a> = std::stoi(v);</div>
<div class="line"><span class="lineno">  935</span>        <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;isStopMotionLevel&quot;</span>, v))</div>
<div class="line"><span class="lineno">  936</span>          isStopMotionLevel = std::stoi(v);</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>        m_properties-&gt;setDpiPolicy(dpiPolicy);</div>
<div class="line"><span class="lineno">  939</span>        m_properties-&gt;setDpi(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(xdpi, ydpi));</div>
<div class="line"><span class="lineno">  940</span>        m_properties-&gt;setSubsampling(subsampling);</div>
<div class="line"><span class="lineno">  941</span>        m_properties-&gt;setDoPremultiply(doPremultiply);</div>
<div class="line"><span class="lineno">  942</span>        m_properties-&gt;setDoAntialias(antialiasSoftness);</div>
<div class="line"><span class="lineno">  943</span>        m_properties-&gt;setWhiteTransp(whiteTransp);</div>
<div class="line"><span class="lineno">  944</span>        m_properties-&gt;setIsStopMotion(isStopMotionLevel);</div>
<div class="line"><span class="lineno">  945</span>        <span class="keywordflow">if</span> (isStopMotionLevel == 1) setIsReadOnly(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  946</span>      } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  947</span>        <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(<span class="stringliteral">&quot;unexpected tag &quot;</span> + tagName);</div>
<div class="line"><span class="lineno">  948</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  949</span>      <span class="keywordflow">if</span> (flag) <span class="keywordflow">break</span>;  <span class="comment">// ci puo&#39; essere un solo nome</span></div>
<div class="line"><span class="lineno">  950</span>      flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  951</span>      std::wstring token;</div>
<div class="line"><span class="lineno">  952</span>      is &gt;&gt; token;</div>
<div class="line"><span class="lineno">  953</span>      <span class="keywordflow">if</span> (token == L<span class="stringliteral">&quot;__empty&quot;</span>) {</div>
<div class="line"><span class="lineno">  954</span>        <span class="comment">// empty = true;</span></div>
<div class="line"><span class="lineno">  955</span>        is &gt;&gt; token;</div>
<div class="line"><span class="lineno">  956</span>      }</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>      <span class="keywordflow">if</span> (token == L<span class="stringliteral">&quot;_raster&quot;</span>)  <span class="comment">// obsoleto (Tab2.2)</span></div>
<div class="line"><span class="lineno">  959</span>      {</div>
<div class="line"><span class="lineno">  960</span>        <span class="keywordtype">double</span> xdpi = 1, ydpi = 1;</div>
<div class="line"><span class="lineno">  961</span>        is &gt;&gt; xdpi &gt;&gt; ydpi &gt;&gt; m_name;</div>
<div class="line"><span class="lineno">  962</span>        setName(m_name);</div>
<div class="line"><span class="lineno">  963</span>        type = OVL_XSHLEVEL;</div>
<div class="line"><span class="lineno">  964</span>        m_properties-&gt;setDpi(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(xdpi, ydpi));</div>
<div class="line"><span class="lineno">  965</span>        <a class="code hl_function" href="class_t_xsh_level.html#ad2cb5812d9f36e9f5d570874dad8d3bd">setType</a>(type);</div>
<div class="line"><span class="lineno">  966</span>        setPath(</div>
<div class="line"><span class="lineno">  967</span>            <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(<span class="stringliteral">&quot;+drawings/&quot;</span>) + (<a class="code hl_function" href="class_t_xsh_level.html#a3a59fb1bd3261baee4e889a9edbf0ae8">getName</a>() + L<span class="stringliteral">&quot;.&quot;</span> + ::to_wstring(<span class="stringliteral">&quot;bmp&quot;</span>)),</div>
<div class="line"><span class="lineno">  968</span>            <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  969</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (token == L<span class="stringliteral">&quot;__raster&quot;</span>)  <span class="comment">// obsoleto (Tab2.2)</span></div>
<div class="line"><span class="lineno">  970</span>      {</div>
<div class="line"><span class="lineno">  971</span>        <span class="keywordtype">double</span> xdpi = 1, ydpi = 1;</div>
<div class="line"><span class="lineno">  972</span>        std::string extension;</div>
<div class="line"><span class="lineno">  973</span>        is &gt;&gt; xdpi &gt;&gt; ydpi &gt;&gt; m_name &gt;&gt; extension;</div>
<div class="line"><span class="lineno">  974</span>        setName(m_name);</div>
<div class="line"><span class="lineno">  975</span>        type = OVL_XSHLEVEL;</div>
<div class="line"><span class="lineno">  976</span>        m_properties-&gt;setDpi(<a class="code hl_class" href="class_t_point_t.html">TPointD</a>(xdpi, ydpi));</div>
<div class="line"><span class="lineno">  977</span>        <a class="code hl_function" href="class_t_xsh_level.html#ad2cb5812d9f36e9f5d570874dad8d3bd">setType</a>(type);</div>
<div class="line"><span class="lineno">  978</span>        setPath(<a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(<span class="stringliteral">&quot;+drawings/&quot;</span>) +</div>
<div class="line"><span class="lineno">  979</span>                    (<a class="code hl_function" href="class_t_xsh_level.html#a3a59fb1bd3261baee4e889a9edbf0ae8">getName</a>() + L<span class="stringliteral">&quot;.&quot;</span> + ::to_wstring(extension)),</div>
<div class="line"><span class="lineno">  980</span>                <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  981</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  982</span>        m_name = token;</div>
<div class="line"><span class="lineno">  983</span>        setName(m_name);</div>
<div class="line"><span class="lineno">  984</span>      }</div>
<div class="line"><span class="lineno">  985</span>    }</div>
<div class="line"><span class="lineno">  986</span>  }</div>
<div class="line"><span class="lineno">  987</span>  <span class="keywordflow">if</span> (type == UNKNOWN_XSHLEVEL) {</div>
<div class="line"><span class="lineno">  988</span>    std::string ext = m_path.getType();</div>
<div class="line"><span class="lineno">  989</span>    <span class="keywordflow">if</span> (ext == <span class="stringliteral">&quot;pli&quot;</span> || ext == <span class="stringliteral">&quot;svg&quot;</span>)</div>
<div class="line"><span class="lineno">  990</span>      type = PLI_XSHLEVEL;</div>
<div class="line"><span class="lineno">  991</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ext == <span class="stringliteral">&quot;tlv&quot;</span> || ext == <span class="stringliteral">&quot;tzu&quot;</span> || ext == <span class="stringliteral">&quot;tzp&quot;</span> || ext == <span class="stringliteral">&quot;tzl&quot;</span>)</div>
<div class="line"><span class="lineno">  992</span>      type = TZP_XSHLEVEL;</div>
<div class="line"><span class="lineno">  993</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ext == <span class="stringliteral">&quot;tzi&quot;</span>)</div>
<div class="line"><span class="lineno">  994</span>      type = TZI_XSHLEVEL;</div>
<div class="line"><span class="lineno">  995</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ext == <span class="stringliteral">&quot;mesh&quot;</span>)</div>
<div class="line"><span class="lineno">  996</span>      type = MESH_XSHLEVEL;</div>
<div class="line"><span class="lineno">  997</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  998</span>      type = OVL_XSHLEVEL;</div>
<div class="line"><span class="lineno">  999</span>  }</div>
<div class="line"><span class="lineno"> 1000</span>  <a class="code hl_function" href="class_t_xsh_level.html#ad2cb5812d9f36e9f5d570874dad8d3bd">setType</a>(type);</div>
<div class="line"><span class="lineno"> 1001</span>}</div>
<div class="ttc" id="aclass_level_properties_html_a39428db69e55fec37017a264312b61d2"><div class="ttname"><a href="class_level_properties.html#a39428db69e55fec37017a264312b61d2">LevelProperties::DpiPolicy</a></div><div class="ttdeci">DpiPolicy</div><div class="ttdoc">Alias for LevelOptions::DpiPolicy provided for backward compatibility.</div><div class="ttdef"><b>Definition:</b> levelproperties.h:84</div></div>
<div class="ttc" id="aclass_t_exception_html"><div class="ttname"><a href="class_t_exception.html">TException</a></div><div class="ttdef"><b>Definition:</b> texception.h:18</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a03a74e5481dd5b2d328351c5c4022ab2"><div class="ttname"><a href="class_t_i_stream.html#a03a74e5481dd5b2d328351c5c4022ab2">TIStream::getTagAttribute</a></div><div class="ttdeci">std::string getTagAttribute(std::string name) const</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1190</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a530540f44de1a1031cebfee0d34ffcfe"><div class="ttname"><a href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">TIStream::getTagParam</a></div><div class="ttdeci">bool getTagParam(std::string paramName, std::string &amp;value)</div><div class="ttdoc">Attempts retrieval of the value associated with the specified tag attribute in current tag.</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a5fe7ddb5560e39e0ab4ff57d24926d41"><div class="ttname"><a href="class_t_i_stream.html#a5fe7ddb5560e39e0ab4ff57d24926d41">TIStream::matchTag</a></div><div class="ttdeci">bool matchTag(std::string &amp;tagName)</div><div class="ttdoc">is encountered or the string is empty).</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1178</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a84110f30d5adcc50d6000e9c99cd4708"><div class="ttname"><a href="class_t_i_stream.html#a84110f30d5adcc50d6000e9c99cd4708">TIStream::matchEndTag</a></div><div class="ttdeci">bool matchEndTag()</div><div class="ttdoc">Attempts matching a StreamTag::EndTag.</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1156</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_ad2cb5812d9f36e9f5d570874dad8d3bd"><div class="ttname"><a href="class_t_xsh_level.html#ad2cb5812d9f36e9f5d570874dad8d3bd">TXshLevel::setType</a></div><div class="ttdeci">void setType(int type)</div><div class="ttdoc">change the level type;</div><div class="ttdef"><b>Definition:</b> txshlevel.h:84</div></div>
<div class="ttc" id="anamespace_t_rop_html_a35fb11523175f84027df48cc51d45d28"><div class="ttname"><a href="namespace_t_rop.html#a35fb11523175f84027df48cc51d45d28">TRop::whiteTransp</a></div><div class="ttdeci">DVAPI void whiteTransp(const TRasterP &amp;ras)</div><div class="ttdoc">all white pixels are set to transparent</div><div class="ttdef"><b>Definition:</b> toperators.cpp:1651</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00115">TXshLevel::getName()</a>, <a class="el" href="#l01190">TIStream::getTagAttribute()</a>, <a class="el" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">TIStream::getTagParam()</a>, <a class="el" href="#l00225">TFilePath::getType()</a>, <a class="el" href="#l01156">TIStream::matchEndTag()</a>, <a class="el" href="#l01178">TIStream::matchTag()</a>, and <a class="el" href="#l00084">TXshLevel::setType()</a>.</p>

</div>
</div>
<a id="a3ac0eaee60df10d4e1deee2a5fa274e4" name="a3ac0eaee60df10d4e1deee2a5fa274e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ac0eaee60df10d4e1deee2a5fa274e4">&#9670;&nbsp;</a></span>makeTlv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::makeTlv </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>tlvPath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This function will implicitly convert the input path extension to a correctly formatted <em>tlv</em>. Behavior is undefined in case the level is not of fullcolor type.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000015">Deprecated:</a></b></dt><dd>Function is obviously an implementation detail of the cleanup process. Should be moved there. <br  />
 </dd></dl>
<p>Transforms the level from <em>fullcolor</em> to tlv (colormap), </p>
<div class="fragment"><div class="line"><span class="lineno"> 1883</span>                                                      {</div>
<div class="line"><span class="lineno"> 1884</span>  <span class="keywordtype">int</span> ltype = <a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>();</div>
<div class="line"><span class="lineno"> 1885</span> </div>
<div class="line"><span class="lineno"> 1886</span>  <span class="keywordflow">if</span> (!(ltype &amp; FULLCOLOR_TYPE)) {</div>
<div class="line"><span class="lineno"> 1887</span>    assert(ltype &amp; FULLCOLOR_TYPE);</div>
<div class="line"><span class="lineno"> 1888</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1889</span>  }</div>
<div class="line"><span class="lineno"> 1890</span> </div>
<div class="line"><span class="lineno"> 1891</span>  <a class="code hl_function" href="class_t_xsh_level.html#ad2cb5812d9f36e9f5d570874dad8d3bd">setType</a>(TZP_XSHLEVEL);</div>
<div class="line"><span class="lineno"> 1892</span> </div>
<div class="line"><span class="lineno"> 1893</span>  m_scannedPath = m_path;</div>
<div class="line"><span class="lineno"> 1894</span> </div>
<div class="line"><span class="lineno"> 1895</span>  assert(tlvPath.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;tlv&quot;</span>);</div>
<div class="line"><span class="lineno"> 1896</span>  m_path = tlvPath;</div>
<div class="line"><span class="lineno"> 1897</span> </div>
<div class="line"><span class="lineno"> 1898</span>  FramesSet::const_iterator it;</div>
<div class="line"><span class="lineno"> 1899</span>  <span class="keywordflow">for</span> (it = m_frames.begin(); it != m_frames.end(); ++it) {</div>
<div class="line"><span class="lineno"> 1900</span>    <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid = *it;</div>
<div class="line"><span class="lineno"> 1901</span>    setFrameStatus(fid, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>);</div>
<div class="line"><span class="lineno"> 1902</span>    ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a26ff2a78f046da1e442a5c37ab8a075b">rebind</a>(getImageId(fid, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>),</div>
<div class="line"><span class="lineno"> 1903</span>                                     getImageId(fid, 0));</div>
<div class="line"><span class="lineno"> 1904</span>    ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a26ff2a78f046da1e442a5c37ab8a075b">rebind</a>(getIconId(fid, <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>),</div>
<div class="line"><span class="lineno"> 1905</span>                                     getIconId(fid, 0));</div>
<div class="line"><span class="lineno"> 1906</span>  }</div>
<div class="line"><span class="lineno"> 1907</span>}</div>
<div class="ttc" id="aclass_image_manager_html_a26ff2a78f046da1e442a5c37ab8a075b"><div class="ttname"><a href="class_image_manager.html#a26ff2a78f046da1e442a5c37ab8a075b">ImageManager::rebind</a></div><div class="ttdeci">bool rebind(const std::string &amp;srcId, const std::string &amp;dstId)</div><div class="ttdef"><b>Definition:</b> imagemanager.cpp:237</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00225">TFilePath::getType()</a>, <a class="el" href="#l00081">TXshLevel::getType()</a>, <a class="el" href="#l00237">ImageManager::rebind()</a>, <a class="el" href="#l00075">Scanned</a>, and <a class="el" href="#l00084">TXshLevel::setType()</a>.</p>

</div>
</div>
<a id="a5e71ae3a6b6ec37d33dc92a58ddc3b8d" name="a5e71ae3a6b6ec37d33dc92a58ddc3b8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e71ae3a6b6ec37d33dc92a58ddc3b8d">&#9670;&nbsp;</a></span>mergeTemporaryHookFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::mergeTemporaryHookFile </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>hookFile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  243</span>                                                                        {</div>
<div class="line"><span class="lineno">  244</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(hookFile).doesExist()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>  <a class="code hl_class" href="class_hook_set.html">HookSet</a> *tempHookSet = <span class="keyword">new</span> <a class="code hl_class" href="class_hook_set.html">HookSet</a>;</div>
<div class="line"><span class="lineno">  247</span>  <a class="code hl_class" href="class_t_i_stream.html">TIStream</a> is(hookFile);</div>
<div class="line"><span class="lineno">  248</span>  std::string tagName;</div>
<div class="line"><span class="lineno">  249</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">if</span> (is.matchTag(tagName) &amp;&amp; tagName == <span class="stringliteral">&quot;hooks&quot;</span>) tempHookSet-&gt;loadData(is);</div>
<div class="line"><span class="lineno">  251</span>  } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  252</span>  }</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>  <a class="code hl_class" href="class_hook_set.html">HookSet</a> *hookSet  = <a class="code hl_function" href="class_t_xsh_level.html#a6e1f2998c39699adbe9133f87109a104">getHookSet</a>();</div>
<div class="line"><span class="lineno">  255</span>  <span class="keywordtype">int</span> tempHookCount = tempHookSet-&gt;getHookCount();</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>  <span class="keywordflow">if</span> (tempHookCount == 0) {</div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f = from; f &lt;= to; f++) {</div>
<div class="line"><span class="lineno">  259</span>      <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid = <a class="code hl_function" href="class_t_xsh_simple_level.html#a07279a40ffad2c6ccc597c0a418f78fb">index2fid</a>(f);</div>
<div class="line"><span class="lineno">  260</span>      hookSet-&gt;eraseFrame(fid);</div>
<div class="line"><span class="lineno">  261</span>    }</div>
<div class="line"><span class="lineno">  262</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; tempHookCount; i++) {</div>
<div class="line"><span class="lineno">  264</span>      <a class="code hl_class" href="class_hook.html">Hook</a> *hook    = tempHookSet-&gt;getHook(i);</div>
<div class="line"><span class="lineno">  265</span>      <a class="code hl_class" href="class_hook.html">Hook</a> *newHook = hookSet-&gt;<a class="code hl_function" href="class_hook_set.html#a7cfe8adfdec6be3d00d7fcad9a633382">touchHook</a>(hook-&gt;getId());</div>
<div class="line"><span class="lineno">  266</span>      newHook-&gt;setTrackerObjectId(hook-&gt;getTrackerObjectId());</div>
<div class="line"><span class="lineno">  267</span>      newHook-&gt;setTrackerRegionHeight(hook-&gt;getTrackerRegionHeight());</div>
<div class="line"><span class="lineno">  268</span>      newHook-&gt;setTrackerRegionWidth(hook-&gt;getTrackerRegionWidth());</div>
<div class="line"><span class="lineno">  269</span>      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> f = from; f &lt;= to; f++) {</div>
<div class="line"><span class="lineno">  270</span>        <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid = <a class="code hl_function" href="class_t_xsh_simple_level.html#a07279a40ffad2c6ccc597c0a418f78fb">index2fid</a>(f);</div>
<div class="line"><span class="lineno">  271</span>        newHook-&gt;<a class="code hl_function" href="class_hook.html#abf17c554743ef71af14c997180965d76">setAPos</a>(fid, hook-&gt;getAPos(fid));</div>
<div class="line"><span class="lineno">  272</span>        newHook-&gt;<a class="code hl_function" href="class_hook.html#a6220249b5fdd24d5e46963a9e385597b">setBPos</a>(fid, hook-&gt;getBPos(fid));</div>
<div class="line"><span class="lineno">  273</span>      }</div>
<div class="line"><span class="lineno">  274</span>    }</div>
<div class="line"><span class="lineno">  275</span>  }</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>  m_temporaryHookMerged = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  278</span>}</div>
<div class="ttc" id="aclass_hook_html"><div class="ttname"><a href="class_hook.html">Hook</a></div><div class="ttdef"><b>Definition:</b> hook.h:35</div></div>
<div class="ttc" id="aclass_hook_html_a6220249b5fdd24d5e46963a9e385597b"><div class="ttname"><a href="class_hook.html#a6220249b5fdd24d5e46963a9e385597b">Hook::setBPos</a></div><div class="ttdeci">void setBPos(const TFrameId &amp;fid, TPointD pos)</div><div class="ttdef"><b>Definition:</b> hook.cpp:97</div></div>
<div class="ttc" id="aclass_hook_html_abf17c554743ef71af14c997180965d76"><div class="ttname"><a href="class_hook.html#abf17c554743ef71af14c997180965d76">Hook::setAPos</a></div><div class="ttdeci">void setAPos(const TFrameId &amp;fid, TPointD pos)</div><div class="ttdef"><b>Definition:</b> hook.cpp:77</div></div>
<div class="ttc" id="aclass_hook_set_html_a7cfe8adfdec6be3d00d7fcad9a633382"><div class="ttname"><a href="class_hook_set.html#a7cfe8adfdec6be3d00d7fcad9a633382">HookSet::touchHook</a></div><div class="ttdeci">Hook * touchHook(int index)</div><div class="ttdef"><b>Definition:</b> hook.cpp:241</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a07279a40ffad2c6ccc597c0a418f78fb"><div class="ttname"><a href="class_t_xsh_simple_level.html#a07279a40ffad2c6ccc597c0a418f78fb">TXshSimpleLevel::index2fid</a></div><div class="ttdeci">TFrameId index2fid(int index) const</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:544</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e5daf2f3289f55421557fdbf42c54a6" name="a8e5daf2f3289f55421557fdbf42c54a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e5daf2f3289f55421557fdbf42c54a6">&#9670;&nbsp;</a></span>onPaletteChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::onPaletteChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Invoked when some colorstyle has been changed. </p>
<div class="fragment"><div class="line"><span class="lineno">  351</span>                                       {</div>
<div class="line"><span class="lineno">  352</span>  FramesSet::iterator ft, fEnd = m_frames.end();</div>
<div class="line"><span class="lineno">  353</span>  <span class="keywordflow">for</span> (ft = m_frames.begin(); ft != fEnd; ++ft) {</div>
<div class="line"><span class="lineno">  354</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> &amp;fid = *ft;</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == PLI_XSHLEVEL) {</div>
<div class="line"><span class="lineno">  357</span>      std::string <span class="keywordtype">id</span> = rasterized(getImageId(fid));</div>
<div class="line"><span class="lineno">  358</span>      ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a34bdaa25c84cd79a7518dbd233a947f4">invalidate</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  359</span>    }</div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() &amp; FULLCOLOR_TYPE) {</div>
<div class="line"><span class="lineno">  361</span>      std::string <span class="keywordtype">id</span> = filled(getImageId(fid));</div>
<div class="line"><span class="lineno">  362</span>      ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a34bdaa25c84cd79a7518dbd233a947f4">invalidate</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  363</span>    }</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>    <a class="code hl_function" href="textureutils_8h.html#a7eb8d0c536418e650eecde9e9230a602">texture_utils::invalidateTexture</a>(<span class="keyword">this</span>, fid);</div>
<div class="line"><span class="lineno">  366</span>  }</div>
<div class="line"><span class="lineno">  367</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00081">TXshLevel::getType()</a>, and <a class="el" href="#l00426">ImageManager::invalidate()</a>.</p>

</div>
</div>
<a id="ab2d4d9c31e14ec66fc92c58a80fba74d" name="ab2d4d9c31e14ec66fc92c58a80fba74d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2d4d9c31e14ec66fc92c58a80fba74d">&#9670;&nbsp;</a></span>removeFiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::removeFiles </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove files at fp. </p>
<div class="fragment"><div class="line"><span class="lineno"> 2231</span>                                                     {</div>
<div class="line"><span class="lineno"> 2232</span>  TSystem::moveFileOrLevelToRecycleBin(fp);</div>
<div class="line"><span class="lineno"> 2233</span>  <span class="keywordflow">if</span> (fp.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;tlv&quot;</span>) {</div>
<div class="line"><span class="lineno"> 2234</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> tpl = fp.<a class="code hl_function" href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">withType</a>(<span class="stringliteral">&quot;tpl&quot;</span>);</div>
<div class="line"><span class="lineno"> 2235</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(tpl).doesExist()) TSystem::moveFileToRecycleBin(tpl);</div>
<div class="line"><span class="lineno"> 2236</span>  }</div>
<div class="line"><span class="lineno"> 2237</span> </div>
<div class="line"><span class="lineno"> 2238</span>  <span class="comment">// Delete ALL hook files (ie from every Toonz version)</span></div>
<div class="line"><span class="lineno"> 2239</span>  <span class="keyword">const</span> QStringList &amp;hookFiles = <a class="code hl_function" href="class_t_xsh_simple_level.html#a6dc5e2310d937b00491db968372077dd">TXshSimpleLevel::getHookFiles</a>(fp);</div>
<div class="line"><span class="lineno"> 2240</span> </div>
<div class="line"><span class="lineno"> 2241</span>  <span class="keywordtype">int</span> f, fCount = hookFiles.size();</div>
<div class="line"><span class="lineno"> 2242</span>  <span class="keywordflow">for</span> (f = 0; f != fCount; ++f)</div>
<div class="line"><span class="lineno"> 2243</span>    TSystem::moveFileToRecycleBin(<a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(hookFiles[f].toStdWString()));</div>
<div class="line"><span class="lineno"> 2244</span> </div>
<div class="line"><span class="lineno"> 2245</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> files = fp.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>() + (fp.<a class="code hl_function" href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">getName</a>() + <span class="stringliteral">&quot;_files&quot;</span>);</div>
<div class="line"><span class="lineno"> 2246</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(files).doesExist() &amp;&amp; <a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(files).isDirectory())</div>
<div class="line"><span class="lineno"> 2247</span>    TSystem::rmDirTree(files);</div>
<div class="line"><span class="lineno"> 2248</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l02304">getHookFiles()</a>, <a class="el" href="#l00636">TFilePath::getName()</a>, <a class="el" href="#l00683">TFilePath::getParentDir()</a>, <a class="el" href="#l00225">TFilePath::getType()</a>, and <a class="el" href="#l00774">TFilePath::withType()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l02210">renameFiles()</a>.</p>

</div>
</div>
<a id="a1f00c48167fa350ad00beccef0ddff82" name="a1f00c48167fa350ad00beccef0ddff82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f00c48167fa350ad00beccef0ddff82">&#9670;&nbsp;</a></span>renameFiles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::renameFiles </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rename files from src to dst. </p>
<div class="fragment"><div class="line"><span class="lineno"> 2210</span>                                                                            {</div>
<div class="line"><span class="lineno"> 2211</span>  <span class="keywordflow">if</span> (dst == src) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2212</span>  TSystem::touchParentDir(dst);</div>
<div class="line"><span class="lineno"> 2213</span>  <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(dst)) <a class="code hl_function" href="class_t_xsh_simple_level.html#ab2d4d9c31e14ec66fc92c58a80fba74d">TXshSimpleLevel::removeFiles</a>(dst);</div>
<div class="line"><span class="lineno"> 2214</span>  TSystem::renameFileOrLevel_throw(dst, src);</div>
<div class="line"><span class="lineno"> 2215</span>  <span class="keywordflow">if</span> (dst.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;tlv&quot;</span>)</div>
<div class="line"><span class="lineno"> 2216</span>    TSystem::renameFile(dst.<a class="code hl_function" href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">withType</a>(<span class="stringliteral">&quot;tpl&quot;</span>), src.<a class="code hl_function" href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">withType</a>(<span class="stringliteral">&quot;tpl&quot;</span>));</div>
<div class="line"><span class="lineno"> 2217</span> </div>
<div class="line"><span class="lineno"> 2218</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;srcHookFile = <a class="code hl_function" href="class_t_xsh_simple_level.html#a543f442eca762915046bf52bccc2b4fc">TXshSimpleLevel::getExistingHookFile</a>(src);</div>
<div class="line"><span class="lineno"> 2219</span>  <span class="keywordflow">if</span> (!srcHookFile.isEmpty()) {</div>
<div class="line"><span class="lineno"> 2220</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;dstHookFile = <a class="code hl_function" href="class_t_xsh_simple_level.html#a23704b0d8be9290a8ab9c72c3139958b">getHookPath</a>(dst);</div>
<div class="line"><span class="lineno"> 2221</span>    TSystem::renameFile(dstHookFile, srcHookFile);</div>
<div class="line"><span class="lineno"> 2222</span>  }</div>
<div class="line"><span class="lineno"> 2223</span> </div>
<div class="line"><span class="lineno"> 2224</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> files = src.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>() + (src.<a class="code hl_function" href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">getName</a>() + <span class="stringliteral">&quot;_files&quot;</span>);</div>
<div class="line"><span class="lineno"> 2225</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(files).doesExist() &amp;&amp; <a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(files).isDirectory())</div>
<div class="line"><span class="lineno"> 2226</span>    TSystem::renameFile(dst.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>() + (dst.<a class="code hl_function" href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">getName</a>() + <span class="stringliteral">&quot;_files&quot;</span>), files);</div>
<div class="line"><span class="lineno"> 2227</span>}</div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_ab2d4d9c31e14ec66fc92c58a80fba74d"><div class="ttname"><a href="class_t_xsh_simple_level.html#ab2d4d9c31e14ec66fc92c58a80fba74d">TXshSimpleLevel::removeFiles</a></div><div class="ttdeci">static void removeFiles(const TFilePath &amp;fp)</div><div class="ttdoc">Remove files at fp.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:2231</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l02321">getExistingHookFile()</a>, <a class="el" href="#l02289">getHookPath()</a>, <a class="el" href="#l00636">TFilePath::getName()</a>, <a class="el" href="#l00683">TFilePath::getParentDir()</a>, <a class="el" href="#l00225">TFilePath::getType()</a>, <a class="el" href="#l02231">removeFiles()</a>, and <a class="el" href="#l00774">TFilePath::withType()</a>.</p>

</div>
</div>
<a id="ad682afea2e389bdc6fa1c09e2b068b48" name="ad682afea2e389bdc6fa1c09e2b068b48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad682afea2e389bdc6fa1c09e2b068b48">&#9670;&nbsp;</a></span>renumber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::renumber </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>fids</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Renumbers the level frames to the specified fids (fids and this-&gt;fids() must have the same size). </p>
<div class="fragment"><div class="line"><span class="lineno"> 2091</span>                                                              {</div>
<div class="line"><span class="lineno"> 2092</span>  assert(fids.size() == m_frames.size());</div>
<div class="line"><span class="lineno"> 2093</span>  <span class="keywordtype">int</span> n = fids.size();</div>
<div class="line"><span class="lineno"> 2094</span> </div>
<div class="line"><span class="lineno"> 2095</span>  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><span class="lineno"> 2096</span>  std::vector&lt;TFrameId&gt; oldFids;</div>
<div class="line"><span class="lineno"> 2097</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#a567daee4ca12a0e92445bcf98a6541f1">getFids</a>(oldFids);</div>
<div class="line"><span class="lineno"> 2098</span>  std::map&lt;TFrameId, TFrameId&gt; table;</div>
<div class="line"><span class="lineno"> 2099</span>  std::map&lt;TFrameId, TFrameId&gt; newRenumberTable;</div>
<div class="line"><span class="lineno"> 2100</span>  <span class="keywordflow">for</span> (std::vector&lt;TFrameId&gt;::iterator it = oldFids.begin();</div>
<div class="line"><span class="lineno"> 2101</span>       it != oldFids.end(); ++it) {</div>
<div class="line"><span class="lineno"> 2102</span>    <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> oldFrameId = *it;</div>
<div class="line"><span class="lineno"> 2103</span>    <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> newFrameId = fids[i++];</div>
<div class="line"><span class="lineno"> 2104</span>    table[oldFrameId]   = newFrameId;</div>
<div class="line"><span class="lineno"> 2105</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;<a class="code hl_function" href="class_t_xsh_simple_level.html#ad682afea2e389bdc6fa1c09e2b068b48">renumber</a> : m_renumberTable) {</div>
<div class="line"><span class="lineno"> 2106</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#ad682afea2e389bdc6fa1c09e2b068b48">renumber</a>.second == oldFrameId) {</div>
<div class="line"><span class="lineno"> 2107</span>        newRenumberTable[<a class="code hl_function" href="class_t_xsh_simple_level.html#ad682afea2e389bdc6fa1c09e2b068b48">renumber</a>.first] = newFrameId;</div>
<div class="line"><span class="lineno"> 2108</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2109</span>      }</div>
<div class="line"><span class="lineno"> 2110</span>    }</div>
<div class="line"><span class="lineno"> 2111</span>  }</div>
<div class="line"><span class="lineno"> 2112</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;<a class="code hl_function" href="class_t_xsh_simple_level.html#ad682afea2e389bdc6fa1c09e2b068b48">renumber</a> : newRenumberTable) {</div>
<div class="line"><span class="lineno"> 2113</span>    m_renumberTable[<a class="code hl_function" href="class_t_xsh_simple_level.html#ad682afea2e389bdc6fa1c09e2b068b48">renumber</a>.first] = <a class="code hl_function" href="class_t_xsh_simple_level.html#ad682afea2e389bdc6fa1c09e2b068b48">renumber</a>.second;</div>
<div class="line"><span class="lineno"> 2114</span>  }</div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>  m_frames.clear();</div>
<div class="line"><span class="lineno"> 2117</span>  <span class="keywordflow">for</span> (i = 0; i &lt; n; ++i) {</div>
<div class="line"><span class="lineno"> 2118</span>    <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> fid(fids[i]);</div>
<div class="line"><span class="lineno"> 2119</span>    assert(m_frames.count(fid) == 0);</div>
<div class="line"><span class="lineno"> 2120</span>    m_frames.insert(fid);</div>
<div class="line"><span class="lineno"> 2121</span>  }</div>
<div class="line"><span class="lineno"> 2122</span> </div>
<div class="line"><span class="lineno"> 2123</span>  <a class="code hl_class" href="class_image_manager.html">ImageManager</a> *im = ImageManager::instance();</div>
<div class="line"><span class="lineno"> 2124</span>  <a class="code hl_class" href="class_t_image_cache.html">TImageCache</a> *ic  = TImageCache::instance();</div>
<div class="line"><span class="lineno"> 2125</span> </div>
<div class="line"><span class="lineno"> 2126</span>  std::map&lt;TFrameId, TFrameId&gt;::iterator jt;</div>
<div class="line"><span class="lineno"> 2127</span> </div>
<div class="line"><span class="lineno"> 2128</span>  {</div>
<div class="line"><span class="lineno"> 2129</span>    <span class="keywordflow">for</span> (i = 0, jt = table.begin(); jt != table.end(); ++jt, ++i) {</div>
<div class="line"><span class="lineno"> 2130</span>      std::string Id = getImageId(jt-&gt;first);</div>
<div class="line"><span class="lineno"> 2131</span>      <a class="code hl_struct" href="struct_image_loader_1_1_build_ext_data.html">ImageLoader::BuildExtData</a> extData(<span class="keyword">this</span>, jt-&gt;first);</div>
<div class="line"><span class="lineno"> 2132</span>      <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = im-&gt;<a class="code hl_function" href="class_image_manager.html#a534298d4e7278e9e42764965e2389576">getImage</a>(Id, ImageManager::none, &amp;extData);</div>
<div class="line"><span class="lineno"> 2133</span>      ic-&gt;<a class="code hl_function" href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">add</a>(getIconId(jt-&gt;first), img, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2134</span>      im-&gt;<a class="code hl_function" href="class_image_manager.html#a26ff2a78f046da1e442a5c37ab8a075b">rebind</a>(Id, <span class="stringliteral">&quot;^&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno"> 2135</span>      ic-&gt;<a class="code hl_function" href="class_t_image_cache.html#a4a55f603009d6f1d884f9d1afee94178">remap</a>(<span class="stringliteral">&quot;^icon:&quot;</span> + std::to_string(i), getIconId(jt-&gt;first));</div>
<div class="line"><span class="lineno"> 2136</span>    }</div>
<div class="line"><span class="lineno"> 2137</span> </div>
<div class="line"><span class="lineno"> 2138</span>    <span class="keywordflow">for</span> (i = 0, jt = table.begin(); jt != table.end(); ++jt, ++i) {</div>
<div class="line"><span class="lineno"> 2139</span>      std::string Id = getImageId(jt-&gt;second);</div>
<div class="line"><span class="lineno"> 2140</span>      im-&gt;<a class="code hl_function" href="class_image_manager.html#a26ff2a78f046da1e442a5c37ab8a075b">rebind</a>(<span class="stringliteral">&quot;^&quot;</span> + std::to_string(i), Id);</div>
<div class="line"><span class="lineno"> 2141</span>      ic-&gt;<a class="code hl_function" href="class_t_image_cache.html#a4a55f603009d6f1d884f9d1afee94178">remap</a>(getIconId(jt-&gt;second), <span class="stringliteral">&quot;^icon:&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno"> 2142</span>      im-&gt;renumber(Id, jt-&gt;second);</div>
<div class="line"><span class="lineno"> 2143</span>    }</div>
<div class="line"><span class="lineno"> 2144</span>  }</div>
<div class="line"><span class="lineno"> 2145</span> </div>
<div class="line"><span class="lineno"> 2146</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == PLI_XSHLEVEL) {</div>
<div class="line"><span class="lineno"> 2147</span>    <span class="keywordflow">for</span> (i = 0, jt = table.begin(); jt != table.end(); ++jt, ++i) {</div>
<div class="line"><span class="lineno"> 2148</span>      <span class="keyword">const</span> std::string &amp;<span class="keywordtype">id</span> = rasterized(getImageId(jt-&gt;first));</div>
<div class="line"><span class="lineno"> 2149</span>      <span class="keywordflow">if</span> (im-&gt;<a class="code hl_function" href="class_image_manager.html#a53cd4c44dd7cbfdf435cb36d42d140fd">isBound</a>(<span class="keywordtype">id</span>)) im-&gt;<a class="code hl_function" href="class_image_manager.html#a26ff2a78f046da1e442a5c37ab8a075b">rebind</a>(<span class="keywordtype">id</span>, rasterized(<span class="stringliteral">&quot;^&quot;</span> + std::to_string(i)));</div>
<div class="line"><span class="lineno"> 2150</span>    }</div>
<div class="line"><span class="lineno"> 2151</span>    <span class="keywordflow">for</span> (i = 0, jt = table.begin(); jt != table.end(); ++jt, ++i) {</div>
<div class="line"><span class="lineno"> 2152</span>      <span class="keyword">const</span> std::string &amp;<span class="keywordtype">id</span> = rasterized(<span class="stringliteral">&quot;^&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno"> 2153</span>      <span class="keywordflow">if</span> (im-&gt;<a class="code hl_function" href="class_image_manager.html#a53cd4c44dd7cbfdf435cb36d42d140fd">isBound</a>(<span class="keywordtype">id</span>)) im-&gt;<a class="code hl_function" href="class_image_manager.html#a26ff2a78f046da1e442a5c37ab8a075b">rebind</a>(<span class="keywordtype">id</span>, rasterized(getImageId(jt-&gt;second)));</div>
<div class="line"><span class="lineno"> 2154</span>    }</div>
<div class="line"><span class="lineno"> 2155</span>  }</div>
<div class="line"><span class="lineno"> 2156</span> </div>
<div class="line"><span class="lineno"> 2157</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() &amp; FULLCOLOR_TYPE) {</div>
<div class="line"><span class="lineno"> 2158</span>    <span class="keywordflow">for</span> (i = 0, jt = table.begin(); jt != table.end(); ++jt, ++i) {</div>
<div class="line"><span class="lineno"> 2159</span>      <span class="keyword">const</span> std::string &amp;<span class="keywordtype">id</span> = filled(getImageId(jt-&gt;first));</div>
<div class="line"><span class="lineno"> 2160</span>      <span class="keywordflow">if</span> (im-&gt;<a class="code hl_function" href="class_image_manager.html#a53cd4c44dd7cbfdf435cb36d42d140fd">isBound</a>(<span class="keywordtype">id</span>)) im-&gt;<a class="code hl_function" href="class_image_manager.html#a26ff2a78f046da1e442a5c37ab8a075b">rebind</a>(<span class="keywordtype">id</span>, filled(<span class="stringliteral">&quot;^&quot;</span> + std::to_string(i)));</div>
<div class="line"><span class="lineno"> 2161</span>    }</div>
<div class="line"><span class="lineno"> 2162</span>    <span class="keywordflow">for</span> (i = 0, jt = table.begin(); jt != table.end(); ++jt, ++i) {</div>
<div class="line"><span class="lineno"> 2163</span>      <span class="keyword">const</span> std::string &amp;<span class="keywordtype">id</span> = filled(<span class="stringliteral">&quot;^&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno"> 2164</span>      <span class="keywordflow">if</span> (im-&gt;<a class="code hl_function" href="class_image_manager.html#a53cd4c44dd7cbfdf435cb36d42d140fd">isBound</a>(<span class="keywordtype">id</span>)) im-&gt;<a class="code hl_function" href="class_image_manager.html#a26ff2a78f046da1e442a5c37ab8a075b">rebind</a>(<span class="keywordtype">id</span>, filled(getImageId(jt-&gt;second)));</div>
<div class="line"><span class="lineno"> 2165</span>    }</div>
<div class="line"><span class="lineno"> 2166</span>  }</div>
<div class="line"><span class="lineno"> 2167</span> </div>
<div class="line"><span class="lineno"> 2168</span>  m_properties-&gt;setDirtyFlag(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2169</span> </div>
<div class="line"><span class="lineno"> 2170</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a6e1f2998c39699adbe9133f87109a104">getHookSet</a>()) <a class="code hl_function" href="class_t_xsh_level.html#a6e1f2998c39699adbe9133f87109a104">getHookSet</a>()-&gt;renumber(table);</div>
<div class="line"><span class="lineno"> 2171</span>}</div>
<div class="ttc" id="aclass_image_manager_html_a53cd4c44dd7cbfdf435cb36d42d140fd"><div class="ttname"><a href="class_image_manager.html#a53cd4c44dd7cbfdf435cb36d42d140fd">ImageManager::isBound</a></div><div class="ttdeci">bool isBound(const std::string &amp;id) const</div><div class="ttdoc">Returns true if the specified id is bound to an image builder.</div><div class="ttdef"><b>Definition:</b> imagemanager.cpp:230</div></div>
<div class="ttc" id="aclass_t_image_cache_html_a124eae4cf370288f42c22b3477cb5163"><div class="ttname"><a href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">TImageCache::add</a></div><div class="ttdeci">void add(const std::string &amp;id, const TImageP &amp;img, bool overwrite=true)</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1153</div></div>
<div class="ttc" id="aclass_t_image_cache_html_a4a55f603009d6f1d884f9d1afee94178"><div class="ttname"><a href="class_t_image_cache.html#a4a55f603009d6f1d884f9d1afee94178">TImageCache::remap</a></div><div class="ttdeci">void remap(const std::string &amp;dstId, const std::string &amp;srcId)</div><div class="ttdoc">Rebinds the association between a previously cached image and its id.</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1317</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_ad682afea2e389bdc6fa1c09e2b068b48"><div class="ttname"><a href="class_t_xsh_simple_level.html#ad682afea2e389bdc6fa1c09e2b068b48">TXshSimpleLevel::renumber</a></div><div class="ttdeci">void renumber(const std::vector&lt; TFrameId &gt; &amp;fids)</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:2091</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01153">TImageCache::add()</a>, <a class="el" href="#l00448">getFids()</a>, <a class="el" href="#l00141">TXshLevel::getHookSet()</a>, <a class="el" href="#l00310">ImageManager::getImage()</a>, <a class="el" href="#l00081">TXshLevel::getType()</a>, <a class="el" href="#l00230">ImageManager::isBound()</a>, <a class="el" href="#l00237">ImageManager::rebind()</a>, <a class="el" href="#l01317">TImageCache::remap()</a>, and <a class="el" href="#l02091">renumber()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l02091">renumber()</a>.</p>

</div>
</div>
<a id="a7c2de43cb6feaf09e535ea34c0c373ea" name="a7c2de43cb6feaf09e535ea34c0c373ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c2de43cb6feaf09e535ea34c0c373ea">&#9670;&nbsp;</a></span>renumberTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::map&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a>, <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; &amp; TXshSimpleLevel::renumberTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  302</span>                                                          {</div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">return</span> m_renumberTable;</div>
<div class="line"><span class="lineno">  304</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ceff3b4f997fbe62be18948fc893404" name="a5ceff3b4f997fbe62be18948fc893404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ceff3b4f997fbe62be18948fc893404">&#9670;&nbsp;</a></span>save() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::save </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves the level to disk, with the same path deduction from <a class="el" href="class_t_xsh_simple_level.html#a0020922626c177cd3134a05e274aecee">load()</a> </p>

<p>Implements <a class="el" href="class_t_xsh_level.html#adcc40df0ea3e4d51a59e58c029675968">TXshLevel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1404</span>                           {</div>
<div class="line"><span class="lineno"> 1405</span>  assert(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>());</div>
<div class="line"><span class="lineno"> 1406</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> path = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(m_path);</div>
<div class="line"><span class="lineno"> 1407</span>  TSystem::outputDebug(<span class="stringliteral">&quot;save() : &quot;</span> + ::to_string(m_path) + <span class="stringliteral">&quot; = &quot;</span> +</div>
<div class="line"><span class="lineno"> 1408</span>                       ::to_string(path) + <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;getDirtyFlag() == <span class="keyword">false</span> &amp;&amp;</div>
<div class="line"><span class="lineno"> 1411</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>()-&gt;getDirtyFlag() == <span class="keyword">false</span> &amp;&amp;</div>
<div class="line"><span class="lineno"> 1412</span>      TSystem::doesExistFileOrLevel(path))</div>
<div class="line"><span class="lineno"> 1413</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>  <span class="keywordflow">if</span> (!<a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(path.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>()).doesExist()) {</div>
<div class="line"><span class="lineno"> 1416</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1417</span>      TSystem::mkDir(path.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>());</div>
<div class="line"><span class="lineno"> 1418</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 1419</span>    }</div>
<div class="line"><span class="lineno"> 1420</span>  }</div>
<div class="line"><span class="lineno"> 1421</span>  <a class="code hl_function" href="class_t_xsh_simple_level.html#a5ceff3b4f997fbe62be18948fc893404">save</a>(path);</div>
<div class="line"><span class="lineno"> 1422</span>}</div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a5ceff3b4f997fbe62be18948fc893404"><div class="ttname"><a href="class_t_xsh_simple_level.html#a5ceff3b4f997fbe62be18948fc893404">TXshSimpleLevel::save</a></div><div class="ttdeci">void save() override</div><div class="ttdoc">Saves the level to disk, with the same path deduction from load()</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:1404</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01231">ToonzScene::decodeFilePath()</a>, <a class="el" href="#l00424">getPalette()</a>, <a class="el" href="#l00683">TFilePath::getParentDir()</a>, <a class="el" href="#l00109">getProperties()</a>, <a class="el" href="#l00087">TXshLevel::getScene()</a>, and <a class="el" href="#l01404">save()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00209">SceneLevel::save()</a>, and <a class="el" href="#l01404">save()</a>.</p>

</div>
</div>
<a id="a19f8349ba4f9da7093bace45045245bc" name="a19f8349ba4f9da7093bace45045245bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f8349ba4f9da7093bace45045245bc">&#9670;&nbsp;</a></span>save() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::save </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>oldFp</em> = <code><a class="el" href="class_t_file_path.html">TFilePath</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>overwritePalette</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Save the level in the specified fp. The oldFp is used when the current scene path change... </p>
<div class="fragment"><div class="line"><span class="lineno"> 1469</span>                                                  {</div>
<div class="line"><span class="lineno"> 1470</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> dOldPath =</div>
<div class="line"><span class="lineno"> 1471</span>      (!oldFp.isEmpty()) ? oldFp : <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(m_path);</div>
<div class="line"><span class="lineno"> 1472</span> </div>
<div class="line"><span class="lineno"> 1473</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> dDstPath = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(fp);</div>
<div class="line"><span class="lineno"> 1474</span>  <span class="keywordflow">if</span> (!TSystem::touchParentDir(dDstPath))</div>
<div class="line"><span class="lineno"> 1475</span>    <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_system_exception.html">TSystemException</a>(</div>
<div class="line"><span class="lineno"> 1476</span>        dDstPath,</div>
<div class="line"><span class="lineno"> 1477</span>        <span class="stringliteral">&quot;The level cannot be saved: failed to access the target folder.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span>  <span class="comment">// backup</span></div>
<div class="line"><span class="lineno"> 1480</span>  <span class="keywordflow">if</span> (Preferences::instance()-&gt;isBackupEnabled() &amp;&amp; dOldPath == dDstPath &amp;&amp;</div>
<div class="line"><span class="lineno"> 1481</span>      TSystem::doesExistFileOrLevel(dDstPath) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1482</span>      !<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;isStopMotionLevel())</div>
<div class="line"><span class="lineno"> 1483</span>    saveBackup(dDstPath);</div>
<div class="line"><span class="lineno"> 1484</span> </div>
<div class="line"><span class="lineno"> 1485</span>  <span class="keywordflow">if</span> (isAreadOnlyLevel(dDstPath)) {</div>
<div class="line"><span class="lineno"> 1486</span>    <span class="keywordflow">if</span> (m_editableRange.empty() &amp;&amp;</div>
<div class="line"><span class="lineno"> 1487</span>        !m_temporaryHookMerged)  <span class="comment">// file internally locked</span></div>
<div class="line"><span class="lineno"> 1488</span>      <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_system_exception.html">TSystemException</a>(</div>
<div class="line"><span class="lineno"> 1489</span>          dDstPath, <span class="stringliteral">&quot;The level cannot be saved: it is a read only level.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1490</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() != OVL_XSHLEVEL) {</div>
<div class="line"><span class="lineno"> 1491</span>      <span class="comment">// file partially unlocked</span></div>
<div class="line"><span class="lineno"> 1492</span>      std::wstring fileName = getEditableFileName();</div>
<div class="line"><span class="lineno"> 1493</span>      assert(!fileName.empty());</div>
<div class="line"><span class="lineno"> 1494</span> </div>
<div class="line"><span class="lineno"> 1495</span>      <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> app = dDstPath.<a class="code hl_function" href="class_t_file_path.html#a3ebf9ced558cfef97a60bba536b23c6f">withName</a>(fileName).<a class="code hl_function" href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">withType</a>(dDstPath.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>());</div>
<div class="line"><span class="lineno"> 1496</span> </div>
<div class="line"><span class="lineno"> 1497</span>      <span class="comment">// removes old files</span></div>
<div class="line"><span class="lineno"> 1498</span>      <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(app)) TSystem::removeFileOrLevel(app);</div>
<div class="line"><span class="lineno"> 1499</span> </div>
<div class="line"><span class="lineno"> 1500</span>      TFilePathSet oldFilePaths;</div>
<div class="line"><span class="lineno"> 1501</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#aa3761996a872dfbfd19d13b63ad336f6">getFiles</a>(app, oldFilePaths);</div>
<div class="line"><span class="lineno"> 1502</span> </div>
<div class="line"><span class="lineno"> 1503</span>      TFilePathSet::iterator it;</div>
<div class="line"><span class="lineno"> 1504</span>      <span class="keywordflow">for</span> (it = oldFilePaths.begin(); it != oldFilePaths.end(); ++it) {</div>
<div class="line"><span class="lineno"> 1505</span>        <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(*it)) TSystem::removeFileOrLevel(*it);</div>
<div class="line"><span class="lineno"> 1506</span>      }</div>
<div class="line"><span class="lineno"> 1507</span> </div>
<div class="line"><span class="lineno"> 1508</span>      <span class="comment">// save new files</span></div>
<div class="line"><span class="lineno"> 1509</span>      <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = <span class="keyword">new</span> <a class="code hl_function" href="class_t_xsh_simple_level.html#ac40b0fd6e8a358444c0e18cd5eb8fc63">TXshSimpleLevel</a>;</div>
<div class="line"><span class="lineno"> 1510</span>      sl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a3c0052e5b6496d5bd9c697f678761e5c">setScene</a>(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>());</div>
<div class="line"><span class="lineno"> 1511</span>      sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">setPalette</a>(<a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>());</div>
<div class="line"><span class="lineno"> 1512</span>      sl-&gt;setPath(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;codeFilePath(app));</div>
<div class="line"><span class="lineno"> 1513</span>      sl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#ad2cb5812d9f36e9f5d570874dad8d3bd">setType</a>(<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>());</div>
<div class="line"><span class="lineno"> 1514</span>      sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a2d43337766628739707849f8808bf300">setDirtyFlag</a>(getDirtyFlag());</div>
<div class="line"><span class="lineno"> 1515</span>      sl-&gt;addRef();  <span class="comment">// Needed so levelUpdater doesn&#39;t destroy it right away</span></div>
<div class="line"><span class="lineno"> 1516</span>                     <span class="comment">// when its done writing</span></div>
<div class="line"><span class="lineno"> 1517</span> </div>
<div class="line"><span class="lineno"> 1518</span>      std::set&lt;TFrameId&gt;::iterator eft, efEnd = m_editableRange.end();</div>
<div class="line"><span class="lineno"> 1519</span>      <span class="keywordflow">for</span> (eft = m_editableRange.begin(); eft != efEnd; ++eft) {</div>
<div class="line"><span class="lineno"> 1520</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> &amp;fid = *eft;</div>
<div class="line"><span class="lineno"> 1521</span>        sl-&gt;setFrame(fid, getFrame(fid, <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno"> 1522</span>      }</div>
<div class="line"><span class="lineno"> 1523</span> </div>
<div class="line"><span class="lineno"> 1524</span>      <span class="comment">// Copy hooks</span></div>
<div class="line"><span class="lineno"> 1525</span>      <a class="code hl_class" href="class_hook_set.html">HookSet</a> *hookSet = sl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a6e1f2998c39699adbe9133f87109a104">getHookSet</a>();</div>
<div class="line"><span class="lineno"> 1526</span>      *hookSet         = *<a class="code hl_function" href="class_t_xsh_level.html#a6e1f2998c39699adbe9133f87109a104">getHookSet</a>();</div>
<div class="line"><span class="lineno"> 1527</span> </div>
<div class="line"><span class="lineno"> 1528</span>      FramesSet::iterator ft, fEnd = m_frames.end();</div>
<div class="line"><span class="lineno"> 1529</span>      <span class="keywordflow">for</span> (ft = m_frames.begin(); ft != fEnd; ++ft) {</div>
<div class="line"><span class="lineno"> 1530</span>        <span class="keyword">const</span> <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a> &amp;fid = *ft;</div>
<div class="line"><span class="lineno"> 1531</span> </div>
<div class="line"><span class="lineno"> 1532</span>        <span class="keywordflow">if</span> (m_editableRange.find(fid) == m_editableRange.end())</div>
<div class="line"><span class="lineno"> 1533</span>          hookSet-&gt;eraseFrame(fid);</div>
<div class="line"><span class="lineno"> 1534</span>      }</div>
<div class="line"><span class="lineno"> 1535</span> </div>
<div class="line"><span class="lineno"> 1536</span>      sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a7465cffde15c5f7a8686842c770c2ef6">setRenumberTable</a>();</div>
<div class="line"><span class="lineno"> 1537</span> </div>
<div class="line"><span class="lineno"> 1538</span>      <span class="comment">// Copy mesh level</span></div>
<div class="line"><span class="lineno"> 1539</span>      sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#a5ceff3b4f997fbe62be18948fc893404">save</a>(app);</div>
<div class="line"><span class="lineno"> 1540</span> </div>
<div class="line"><span class="lineno"> 1541</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 1542</span> </div>
<div class="line"><span class="lineno"> 1543</span>      <span class="comment">// hides files</span></div>
<div class="line"><span class="lineno"> 1544</span>      oldFilePaths.clear();</div>
<div class="line"><span class="lineno"> 1545</span> </div>
<div class="line"><span class="lineno"> 1546</span>      <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(app)) TSystem::hideFileOrLevel(app);</div>
<div class="line"><span class="lineno"> 1547</span> </div>
<div class="line"><span class="lineno"> 1548</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#aa3761996a872dfbfd19d13b63ad336f6">getFiles</a>(app, oldFilePaths);</div>
<div class="line"><span class="lineno"> 1549</span> </div>
<div class="line"><span class="lineno"> 1550</span>      <span class="keywordflow">for</span> (it = oldFilePaths.begin(); it != oldFilePaths.end(); ++it) {</div>
<div class="line"><span class="lineno"> 1551</span>        <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(*it)) TSystem::hideFileOrLevel(*it);</div>
<div class="line"><span class="lineno"> 1552</span>      }</div>
<div class="line"><span class="lineno"> 1553</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1554</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1555</span>    }</div>
<div class="line"><span class="lineno"> 1556</span>  }</div>
<div class="line"><span class="lineno"> 1557</span> </div>
<div class="line"><span class="lineno"> 1558</span>  <span class="keywordflow">if</span> (dOldPath != dDstPath &amp;&amp; m_path != <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>()) {</div>
<div class="line"><span class="lineno"> 1559</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;dSrcPath = dOldPath;</div>
<div class="line"><span class="lineno"> 1560</span> </div>
<div class="line"><span class="lineno"> 1561</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno"> 1562</span>      <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(dSrcPath)) {</div>
<div class="line"><span class="lineno"> 1563</span>        <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(dDstPath))</div>
<div class="line"><span class="lineno"> 1564</span>          TSystem::removeFileOrLevel(dDstPath);</div>
<div class="line"><span class="lineno"> 1565</span> </div>
<div class="line"><span class="lineno"> 1566</span>        <a class="code hl_function" href="class_t_xsh_simple_level.html#a821df490f42bb53d419ed4d3c4b97972">copyFiles</a>(dDstPath, dSrcPath);</div>
<div class="line"><span class="lineno"> 1567</span>      }</div>
<div class="line"><span class="lineno"> 1568</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno"> 1569</span>    }</div>
<div class="line"><span class="lineno"> 1570</span>  }</div>
<div class="line"><span class="lineno"> 1571</span>  <span class="comment">// when saving the level palette with global name</span></div>
<div class="line"><span class="lineno"> 1572</span>  <span class="keywordflow">if</span> (overwritePalette &amp;&amp; <a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == TZP_XSHLEVEL &amp;&amp; <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>() &amp;&amp;</div>
<div class="line"><span class="lineno"> 1573</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>()-&gt;getGlobalName() != L<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1574</span>    overwritePalette      = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1575</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> palettePath = dDstPath.withNoFrame().<a class="code hl_function" href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">withType</a>(<span class="stringliteral">&quot;tpl&quot;</span>);</div>
<div class="line"><span class="lineno"> 1576</span>    StudioPalette::instance()-&gt;save(palettePath, <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>());</div>
<div class="line"><span class="lineno"> 1577</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>()-&gt;<a class="code hl_function" href="class_t_palette.html#a382fa102abee4e69e386cb5a4d8d5184">setDirtyFlag</a>(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1578</span>  }</div>
<div class="line"><span class="lineno"> 1579</span> </div>
<div class="line"><span class="lineno"> 1580</span>  saveSimpleLevel(dDstPath, overwritePalette);</div>
<div class="line"><span class="lineno"> 1581</span>}</div>
<div class="ttc" id="aclass_t_file_path_html_a3ebf9ced558cfef97a60bba536b23c6f"><div class="ttname"><a href="class_t_file_path.html#a3ebf9ced558cfef97a60bba536b23c6f">TFilePath::withName</a></div><div class="ttdeci">TFilePath withName(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:802</div></div>
<div class="ttc" id="aclass_t_palette_html_a382fa102abee4e69e386cb5a4d8d5184"><div class="ttname"><a href="class_t_palette.html#a382fa102abee4e69e386cb5a4d8d5184">TPalette::setDirtyFlag</a></div><div class="ttdeci">void setDirtyFlag(bool dirtyFlag)</div><div class="ttdef"><b>Definition:</b> tpalette.h:240</div></div>
<div class="ttc" id="aclass_t_system_exception_html"><div class="ttname"><a href="class_t_system_exception.html">TSystemException</a></div><div class="ttdef"><b>Definition:</b> tsystem.h:65</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a3c0052e5b6496d5bd9c697f678761e5c"><div class="ttname"><a href="class_t_xsh_level.html#a3c0052e5b6496d5bd9c697f678761e5c">TXshLevel::setScene</a></div><div class="ttdeci">virtual void setScene(ToonzScene *scene)</div><div class="ttdef"><b>Definition:</b> txshlevel.cpp:24</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html"><div class="ttname"><a href="class_t_xsh_simple_level.html">TXshSimpleLevel</a></div><div class="ttdoc">The TXshLevel specialization for image levels.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:60</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a2d43337766628739707849f8808bf300"><div class="ttname"><a href="class_t_xsh_simple_level.html#a2d43337766628739707849f8808bf300">TXshSimpleLevel::setDirtyFlag</a></div><div class="ttdeci">void setDirtyFlag(bool on) override</div><div class="ttdoc">Mark the level as &quot;modified&quot;.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:320</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a821df490f42bb53d419ed4d3c4b97972"><div class="ttname"><a href="class_t_xsh_simple_level.html#a821df490f42bb53d419ed4d3c4b97972">TXshSimpleLevel::copyFiles</a></div><div class="ttdeci">static void copyFiles(const TFilePath &amp;dst, const TFilePath &amp;src)</div><div class="ttdoc">Copy files from src to dst.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:2175</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_aa3761996a872dfbfd19d13b63ad336f6"><div class="ttname"><a href="class_t_xsh_simple_level.html#aa3761996a872dfbfd19d13b63ad336f6">TXshSimpleLevel::getFiles</a></div><div class="ttdeci">static void getFiles(const TFilePath &amp;fp, TFilePathSet &amp;fpset)</div><div class="ttdoc">Get the auxiliary files list: hooks, tpl, etc.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:2252</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_ac40b0fd6e8a358444c0e18cd5eb8fc63"><div class="ttname"><a href="class_t_xsh_simple_level.html#ac40b0fd6e8a358444c0e18cd5eb8fc63">TXshSimpleLevel::TXshSimpleLevel</a></div><div class="ttdeci">TXshSimpleLevel(const std::wstring &amp;name=std::wstring())</div><div class="ttdoc">Constructs a TXshSimpleLevel with a name.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:190</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l02175">copyFiles()</a>, <a class="el" href="#l01231">ToonzScene::decodeFilePath()</a>, <a class="el" href="#l02252">getFiles()</a>, <a class="el" href="#l00141">TXshLevel::getHookSet()</a>, <a class="el" href="#l00424">getPalette()</a>, <a class="el" href="#l00109">getProperties()</a>, <a class="el" href="#l00087">TXshLevel::getScene()</a>, <a class="el" href="#l00225">TFilePath::getType()</a>, <a class="el" href="#l00081">TXshLevel::getType()</a>, <a class="el" href="#l01404">save()</a>, <a class="el" href="#l00240">TPalette::setDirtyFlag()</a>, <a class="el" href="#l00320">setDirtyFlag()</a>, <a class="el" href="#l00428">setPalette()</a>, <a class="el" href="#l00311">setRenumberTable()</a>, <a class="el" href="#l00024">TXshLevel::setScene()</a>, <a class="el" href="#l00084">TXshLevel::setType()</a>, <a class="el" href="#l00190">TXshSimpleLevel()</a>, <a class="el" href="#l00802">TFilePath::withName()</a>, and <a class="el" href="#l00774">TFilePath::withType()</a>.</p>

</div>
</div>
<a id="a62a0a3eb6da8cbc0a47394e6a0004d5c" name="a62a0a3eb6da8cbc0a47394e6a0004d5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62a0a3eb6da8cbc0a47394e6a0004d5c">&#9670;&nbsp;</a></span>saveData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::saveData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_o_stream.html">TOStream</a> &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save the level data (i.e. name, path, etc. e.g. to the .tnz file) </p>

<p>Implements <a class="el" href="class_t_xsh_level.html#aef80cf0a64bcd8bebe128dc8144afff6">TXshLevel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1364</span>                                           {</div>
<div class="line"><span class="lineno"> 1365</span>  os &lt;&lt; m_name;</div>
<div class="line"><span class="lineno"> 1366</span> </div>
<div class="line"><span class="lineno"> 1367</span>  std::map&lt;std::string, std::string&gt; attr;</div>
<div class="line"><span class="lineno"> 1368</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;getDpiPolicy() == LevelProperties::DP_CustomDpi) {</div>
<div class="line"><span class="lineno"> 1369</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> dpi = <a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a744228a911310bc962ce76315c9ab2b1">getDpi</a>();</div>
<div class="line"><span class="lineno"> 1370</span>    <span class="keywordflow">if</span> (dpi.x != 0 &amp;&amp; dpi.y != 0) {</div>
<div class="line"><span class="lineno"> 1371</span>      attr[<span class="stringliteral">&quot;dpix&quot;</span>] = std::to_string(dpi.x);</div>
<div class="line"><span class="lineno"> 1372</span>      attr[<span class="stringliteral">&quot;dpiy&quot;</span>] = std::to_string(dpi.y);</div>
<div class="line"><span class="lineno"> 1373</span>    }</div>
<div class="line"><span class="lineno"> 1374</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1375</span>    attr[<span class="stringliteral">&quot;dpiType&quot;</span>] = <span class="stringliteral">&quot;image&quot;</span>;</div>
<div class="line"><span class="lineno"> 1376</span>  }</div>
<div class="line"><span class="lineno"> 1377</span> </div>
<div class="line"><span class="lineno"> 1378</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;getSubsampling() != 1) {</div>
<div class="line"><span class="lineno"> 1379</span>    attr[<span class="stringliteral">&quot;subsampling&quot;</span>] = std::to_string(<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;getSubsampling());</div>
<div class="line"><span class="lineno"> 1380</span>  }</div>
<div class="line"><span class="lineno"> 1381</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;antialiasSoftness() &gt; 0) {</div>
<div class="line"><span class="lineno"> 1382</span>    attr[<span class="stringliteral">&quot;antialias&quot;</span>] = std::to_string(<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;antialiasSoftness());</div>
<div class="line"><span class="lineno"> 1383</span>  }</div>
<div class="line"><span class="lineno"> 1384</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;doPremultiply()) {</div>
<div class="line"><span class="lineno"> 1385</span>    attr[<span class="stringliteral">&quot;premultiply&quot;</span>] = std::to_string(<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;doPremultiply());</div>
<div class="line"><span class="lineno"> 1386</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="namespace_t_rop.html#a35fb11523175f84027df48cc51d45d28">whiteTransp</a>()) {</div>
<div class="line"><span class="lineno"> 1387</span>    attr[<span class="stringliteral">&quot;whiteTransp&quot;</span>] = std::to_string(<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="namespace_t_rop.html#a35fb11523175f84027df48cc51d45d28">whiteTransp</a>());</div>
<div class="line"><span class="lineno"> 1388</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;isStopMotionLevel()) {</div>
<div class="line"><span class="lineno"> 1389</span>    attr[<span class="stringliteral">&quot;isStopMotionLevel&quot;</span>] =</div>
<div class="line"><span class="lineno"> 1390</span>        std::to_string(<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;isStopMotionLevel());</div>
<div class="line"><span class="lineno"> 1391</span>  }</div>
<div class="line"><span class="lineno"> 1392</span> </div>
<div class="line"><span class="lineno"> 1393</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == TZI_XSHLEVEL) attr[<span class="stringliteral">&quot;type&quot;</span>] = <span class="stringliteral">&quot;s&quot;</span>;</div>
<div class="line"><span class="lineno"> 1394</span> </div>
<div class="line"><span class="lineno"> 1395</span>  os.<a class="code hl_function" href="class_t_o_stream.html#a4568ce0cc2ace90c334f96eddcd11f17">openCloseChild</a>(<span class="stringliteral">&quot;info&quot;</span>, attr);</div>
<div class="line"><span class="lineno"> 1396</span> </div>
<div class="line"><span class="lineno"> 1397</span>  os.<a class="code hl_function" href="class_t_o_stream.html#a9cd1359e6b21d85786708c7e680756d1">child</a>(<span class="stringliteral">&quot;path&quot;</span>) &lt;&lt; m_path;  <span class="comment">// fp;</span></div>
<div class="line"><span class="lineno"> 1398</span>  <span class="keywordflow">if</span> (m_scannedPath != <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>())</div>
<div class="line"><span class="lineno"> 1399</span>    os.<a class="code hl_function" href="class_t_o_stream.html#a9cd1359e6b21d85786708c7e680756d1">child</a>(<span class="stringliteral">&quot;scannedPath&quot;</span>) &lt;&lt; m_scannedPath;  <span class="comment">// fp;</span></div>
<div class="line"><span class="lineno"> 1400</span>}</div>
<div class="ttc" id="aclass_level_properties_html_a744228a911310bc962ce76315c9ab2b1"><div class="ttname"><a href="class_level_properties.html#a744228a911310bc962ce76315c9ab2b1">LevelProperties::getDpi</a></div><div class="ttdeci">TPointD getDpi() const</div><div class="ttdoc">Returns the level's custom dpi.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:68</div></div>
<div class="ttc" id="aclass_t_o_stream_html_a4568ce0cc2ace90c334f96eddcd11f17"><div class="ttname"><a href="class_t_o_stream.html#a4568ce0cc2ace90c334f96eddcd11f17">TOStream::openCloseChild</a></div><div class="ttdeci">void openCloseChild(std::string tagName, const std::map&lt; std::string, std::string &gt; &amp;attributes)</div><div class="ttdoc">to the stream, opening a tag with embedded attributes.</div><div class="ttdef"><b>Definition:</b> tstream.cpp:535</div></div>
<div class="ttc" id="aclass_t_o_stream_html_a9cd1359e6b21d85786708c7e680756d1"><div class="ttname"><a href="class_t_o_stream.html#a9cd1359e6b21d85786708c7e680756d1">TOStream::child</a></div><div class="ttdeci">TOStream child(std::string tagName)</div><div class="ttdoc">to the reimplemented TPersist::saveData.</div><div class="ttdef"><b>Definition:</b> tstream.cpp:482</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00482">TOStream::child()</a>, <a class="el" href="#l00068">LevelProperties::getDpi()</a>, <a class="el" href="#l00109">getProperties()</a>, <a class="el" href="#l00059">TXshLevel::m_type</a>, and <a class="el" href="#l00535">TOStream::openCloseChild()</a>.</p>

</div>
</div>
<a id="ac2f74e888a0c939cd513bff79447481b" name="ac2f74e888a0c939cd513bff79447481b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2f74e888a0c939cd513bff79447481b">&#9670;&nbsp;</a></span>set16BitChannelLevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::set16BitChannelLevel </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  101</span>                                        {</div>
<div class="line"><span class="lineno">  102</span>    m_16BitChannelLevel = (value &amp;&amp; <a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == OVL_XSHLEVEL);</div>
<div class="line"><span class="lineno">  103</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a403c0b6e8da4e6cb1f0d7f9b761d40e6" name="a403c0b6e8da4e6cb1f0d7f9b761d40e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a403c0b6e8da4e6cb1f0d7f9b761d40e6">&#9670;&nbsp;</a></span>setCompatibilityMasks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setCompatibilityMasks </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>writeMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>neededMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>forbiddenMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2281</span>                                                               {</div>
<div class="line"><span class="lineno"> 2282</span>  compatibility.writeMask     = writeMask;</div>
<div class="line"><span class="lineno"> 2283</span>  compatibility.neededMask    = neededMask;</div>
<div class="line"><span class="lineno"> 2284</span>  compatibility.forbiddenMask = forbiddenMask;</div>
<div class="line"><span class="lineno"> 2285</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5ae2d1b425b93a9e37fbfcb324a5db6" name="aa5ae2d1b425b93a9e37fbfcb324a5db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5ae2d1b425b93a9e37fbfcb324a5db6">&#9670;&nbsp;</a></span>setContentHistory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setContentHistory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_content_history.html">TContentHistory</a> *&#160;</td>
          <td class="paramname"><em>contentHistory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >destroys the old contentHistory and replaces it with the new one. Gets ownership </p>
<div class="fragment"><div class="line"><span class="lineno"> 2273</span>                                                                       {</div>
<div class="line"><span class="lineno"> 2274</span>  <span class="keywordflow">if</span> (contentHistory != m_contentHistory.get())</div>
<div class="line"><span class="lineno"> 2275</span>    m_contentHistory.reset(contentHistory);</div>
<div class="line"><span class="lineno"> 2276</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01083">load()</a>, and <a class="el" href="#l00330">touchFrame()</a>.</p>

</div>
</div>
<a id="a2d43337766628739707849f8808bf300" name="a2d43337766628739707849f8808bf300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d43337766628739707849f8808bf300">&#9670;&nbsp;</a></span>setDirtyFlag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setDirtyFlag </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mark the level as "modified". </p>

<p>Reimplemented from <a class="el" href="class_t_xsh_level.html#aeafe88c104827f8c27a33a79e7f7ee7d">TXshLevel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  320</span>{ m_properties-&gt;setDirtyFlag(on); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00864">ToonzScene::createNewLevel()</a>, <a class="el" href="#l01122">ToonzScene::loadLevel()</a>, <a class="el" href="#l00655">TTool::notifyImageChanged()</a>, <a class="el" href="#l01991">FillTool::onPropertyChanged()</a>, <a class="el" href="#l02032">VectorSelectionTool::onPropertyChanged()</a>, and <a class="el" href="#l01468">save()</a>.</p>

</div>
</div>
<a id="ae74a8922e3cfb3356ae9042e58856c01" name="ae74a8922e3cfb3356ae9042e58856c01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae74a8922e3cfb3356ae9042e58856c01">&#9670;&nbsp;</a></span>setEditableRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setEditableRange </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::wstring &amp;&#160;</td>
          <td class="paramname"><em>userName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set the range of frame that can be edited and saved. Editable range is contained in <b>m_editableRange</b>. </p>
<div class="fragment"><div class="line"><span class="lineno">  212</span>                                                                   {</div>
<div class="line"><span class="lineno">  213</span>  assert(from &lt;= to &amp;&amp; to &lt; (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_function" href="class_t_xsh_simple_level.html#a3fe127306d6669a3eb9e9d8802660d7b">getFrameCount</a>());</div>
<div class="line"><span class="lineno">  214</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  215</span>  <span class="keywordflow">for</span> (i = from; i &lt;= to; i++) m_editableRange.insert(<a class="code hl_function" href="class_t_xsh_simple_level.html#a07279a40ffad2c6ccc597c0a418f78fb">index2fid</a>(i));</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>  QString hostName        = TSystem::getHostName();</div>
<div class="line"><span class="lineno">  218</span>  m_editableRangeUserInfo = userName + L<span class="stringliteral">&quot;_&quot;</span> + hostName.toStdWString();</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>  std::wstring fileName = getEditableFileName();</div>
<div class="line"><span class="lineno">  221</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> dstPath     = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(m_path);</div>
<div class="line"><span class="lineno">  222</span>  dstPath = dstPath.<a class="code hl_function" href="class_t_file_path.html#a3ebf9ced558cfef97a60bba536b23c6f">withName</a>(fileName).<a class="code hl_function" href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">withType</a>(dstPath.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>());</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>  <span class="comment">// Load temporary level file (for pli and tlv types only)</span></div>
<div class="line"><span class="lineno">  225</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() != OVL_XSHLEVEL &amp;&amp; TSystem::doesExistFileOrLevel(dstPath)) {</div>
<div class="line"><span class="lineno">  226</span>    <a class="code hl_class" href="class_t_level_reader_p.html">TLevelReaderP</a> lr(dstPath);</div>
<div class="line"><span class="lineno">  227</span>    <a class="code hl_class" href="class_t_level_p.html">TLevelP</a> level = lr-&gt;loadInfo();</div>
<div class="line"><span class="lineno">  228</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#ab5634198656dc2ade669fae235bb19c0">setPalette</a>(level-&gt;getPalette());</div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">for</span> (TLevel::Iterator it = level-&gt;begin(); it != level-&gt;end(); it++) {</div>
<div class="line"><span class="lineno">  230</span>      <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = lr-&gt;getFrameReader(it-&gt;first)-&gt;load();</div>
<div class="line"><span class="lineno">  231</span>      setFrame(it-&gt;first, img);</div>
<div class="line"><span class="lineno">  232</span>    }</div>
<div class="line"><span class="lineno">  233</span>  }</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>  <span class="comment">// Merge temporary hook file with current hookset</span></div>
<div class="line"><span class="lineno">  236</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;hookFile = <a class="code hl_function" href="class_t_xsh_simple_level.html#a23704b0d8be9290a8ab9c72c3139958b">getHookPath</a>(dstPath);</div>
<div class="line"><span class="lineno">  237</span>  mergeTemporaryHookFile(from, to, hookFile);</div>
<div class="line"><span class="lineno">  238</span>}</div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a3fe127306d6669a3eb9e9d8802660d7b"><div class="ttname"><a href="class_t_xsh_simple_level.html#a3fe127306d6669a3eb9e9d8802660d7b">TXshSimpleLevel::getFrameCount</a></div><div class="ttdeci">int getFrameCount() const override</div><div class="ttdoc">Returns the level's frames count.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:158</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01231">ToonzScene::decodeFilePath()</a>, <a class="el" href="#l00158">getFrameCount()</a>, <a class="el" href="#l02289">getHookPath()</a>, <a class="el" href="#l00087">TXshLevel::getScene()</a>, <a class="el" href="#l00225">TFilePath::getType()</a>, <a class="el" href="#l00081">TXshLevel::getType()</a>, <a class="el" href="#l00544">index2fid()</a>, <a class="el" href="#l00428">setPalette()</a>, <a class="el" href="#l00802">TFilePath::withName()</a>, and <a class="el" href="#l00774">TFilePath::withType()</a>.</p>

</div>
</div>
<a id="ac10fe469f376b02ef16ba0f5d68d3e33" name="ac10fe469f376b02ef16ba0f5d68d3e33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac10fe469f376b02ef16ba0f5d68d3e33">&#9670;&nbsp;</a></span>setFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setFrame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_smart_pointer_t.html">TImageP</a> &amp;&#160;</td>
          <td class="paramname"><em>img</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  783</span>                                                                      {</div>
<div class="line"><span class="lineno">  784</span>  assert(<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> != UNKNOWN_XSHLEVEL);</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>  <span class="keywordflow">if</span> (img) img-&gt;<a class="code hl_function" href="class_t_image.html#a3377c18a849addff5c2cb238176ad04f">setPalette</a>(<a class="code hl_function" href="class_t_xsh_simple_level.html#a9aea4f8e34caef293d5e5c7694047564">getPalette</a>());</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>  m_frames.insert(fid);</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> path = m_path;</div>
<div class="line"><span class="lineno">  791</span> </div>
<div class="line"><span class="lineno">  792</span>  <span class="keywordtype">int</span> frameStatus                        = getFrameStatus(fid);</div>
<div class="line"><span class="lineno">  793</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> SCANNED_OR_CLEANUPPED = (<a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a> | <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d">Cleanupped</a>);</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>  <span class="keywordflow">if</span> ((frameStatus &amp; SCANNED_OR_CLEANUPPED) == <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a>) path = m_scannedPath;</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>  <span class="comment">// Deal with the ImageManger: ensure the identifiers are bound, and the</span></div>
<div class="line"><span class="lineno">  798</span>  <span class="comment">// associated image is either modified to img or (if !img) invalidated.</span></div>
<div class="line"><span class="lineno">  799</span>  <span class="keyword">const</span> std::string &amp;imageId = getImageId(fid);</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>  <span class="keywordflow">if</span> (!ImageManager::instance()-&gt;isBound(imageId)) {</div>
<div class="line"><span class="lineno">  802</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> &amp;decodedPath = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(path);</div>
<div class="line"><span class="lineno">  803</span>    ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a77929fa41680f13417fe748f31a72493">bind</a>(imageId, <span class="keyword">new</span> <a class="code hl_class" href="class_image_loader.html">ImageLoader</a>(decodedPath, fid));</div>
<div class="line"><span class="lineno">  804</span>  }</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>  ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#aaf5a12cc6326ed3d4af2f5ae280ed355">setImage</a>(imageId, img);  <span class="comment">// Invalidates if !img</span></div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>  <span class="keywordflow">if</span> (frameStatus == <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a06c6ffb8fd8591fc9c26643daf75d68b">Normal</a>) {</div>
<div class="line"><span class="lineno">  809</span>    <span class="comment">// Only a normal frame can have these. Justified since:</span></div>
<div class="line"><span class="lineno">  810</span>    <span class="comment">//  PLIs have nothing to share with cleanup stuff</span></div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == PLI_XSHLEVEL) {</div>
<div class="line"><span class="lineno">  813</span>      <span class="keyword">const</span> std::string &amp;imageId2 = rasterized(imageId);</div>
<div class="line"><span class="lineno">  814</span>      <span class="keywordflow">if</span> (!ImageManager::instance()-&gt;isBound(imageId2))</div>
<div class="line"><span class="lineno">  815</span>        ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a77929fa41680f13417fe748f31a72493">bind</a>(imageId2, <span class="keyword">new</span> <a class="code hl_class" href="class_image_rasterizer.html">ImageRasterizer</a>);</div>
<div class="line"><span class="lineno">  816</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  817</span>        ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a34bdaa25c84cd79a7518dbd233a947f4">invalidate</a>(imageId2);</div>
<div class="line"><span class="lineno">  818</span>    }</div>
<div class="line"><span class="lineno">  819</span> </div>
<div class="line"><span class="lineno">  820</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == OVL_XSHLEVEL || <a class="code hl_variable" href="class_t_xsh_level.html#ab7c5304393b515ca242823e25bb698f4">m_type</a> == TZI_XSHLEVEL) {</div>
<div class="line"><span class="lineno">  821</span>      <span class="keyword">const</span> std::string &amp;imageId2 = filled(imageId);</div>
<div class="line"><span class="lineno">  822</span>      <span class="keywordflow">if</span> (!ImageManager::instance()-&gt;isBound(imageId2))</div>
<div class="line"><span class="lineno">  823</span>        ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a77929fa41680f13417fe748f31a72493">bind</a>(imageId2, <span class="keyword">new</span> <a class="code hl_class" href="class_image_filler.html">ImageFiller</a>);</div>
<div class="line"><span class="lineno">  824</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  825</span>        ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a34bdaa25c84cd79a7518dbd233a947f4">invalidate</a>(imageId2);</div>
<div class="line"><span class="lineno">  826</span>    }</div>
<div class="line"><span class="lineno">  827</span>  }</div>
<div class="line"><span class="lineno">  828</span>}</div>
<div class="ttc" id="aclass_image_filler_html"><div class="ttname"><a href="class_image_filler.html">ImageFiller</a></div><div class="ttdef"><b>Definition:</b> imagebuilders.h:99</div></div>
<div class="ttc" id="aclass_image_loader_html"><div class="ttname"><a href="class_image_loader.html">ImageLoader</a></div><div class="ttdef"><b>Definition:</b> imagebuilders.h:31</div></div>
<div class="ttc" id="aclass_image_manager_html_a77929fa41680f13417fe748f31a72493"><div class="ttname"><a href="class_image_manager.html#a77929fa41680f13417fe748f31a72493">ImageManager::bind</a></div><div class="ttdeci">void bind(const std::string &amp;id, ImageBuilder *builder)</div><div class="ttdef"><b>Definition:</b> imagemanager.cpp:198</div></div>
<div class="ttc" id="aclass_image_manager_html_aaf5a12cc6326ed3d4af2f5ae280ed355"><div class="ttname"><a href="class_image_manager.html#aaf5a12cc6326ed3d4af2f5ae280ed355">ImageManager::setImage</a></div><div class="ttdeci">bool setImage(const std::string &amp;id, const TImageP &amp;img)</div><div class="ttdef"><b>Definition:</b> imagemanager.cpp:445</div></div>
<div class="ttc" id="aclass_image_rasterizer_html"><div class="ttname"><a href="class_image_rasterizer.html">ImageRasterizer</a></div><div class="ttdef"><b>Definition:</b> imagebuilders.h:85</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a492141fa9602d610b557dbe83e46c896" name="a492141fa9602d610b557dbe83e46c896"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a492141fa9602d610b557dbe83e46c896">&#9670;&nbsp;</a></span>setFrameStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setFrameStatus </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1876</span>                                                                    {</div>
<div class="line"><span class="lineno"> 1877</span>  assert((status &amp; ~(<a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49ad4573d346543116267713a3e9daacf25">Scanned</a> | <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a48aa37d686efea1d08332d5ffa69548d">Cleanupped</a> | <a class="code hl_enumvalue" href="class_t_xsh_simple_level.html#a8ee78a10f5ced42f16e01b6adf3f8c49a9e5aa8f328730d501a912a0e11fe39f0">CleanupPreview</a>)) == 0);</div>
<div class="line"><span class="lineno"> 1878</span>  m_framesStatus[fid] = status;</div>
<div class="line"><span class="lineno"> 1879</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f023bb4f212dcf6b767e1517e9f9c5b" name="a2f023bb4f212dcf6b767e1517e9f9c5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f023bb4f212dcf6b767e1517e9f9c5b">&#9670;&nbsp;</a></span>setIsReadOnly()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setIsReadOnly </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  106</span>{ m_isReadOnly = value; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5634198656dc2ade669fae235bb19c0" name="ab5634198656dc2ade669fae235bb19c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5634198656dc2ade669fae235bb19c0">&#9670;&nbsp;</a></span>setPalette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setPalette </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_palette.html">TPalette</a> *&#160;</td>
          <td class="paramname"><em>palette</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns a palette to the level. </p>
<div class="fragment"><div class="line"><span class="lineno">  428</span>                                                  {</div>
<div class="line"><span class="lineno">  429</span>  <span class="keywordflow">if</span> (m_palette != palette) {</div>
<div class="line"><span class="lineno">  430</span>    <span class="keywordflow">if</span> (m_palette) m_palette-&gt;release();</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    m_palette = palette;</div>
<div class="line"><span class="lineno">  433</span>    <span class="keywordflow">if</span> (m_palette) {</div>
<div class="line"><span class="lineno">  434</span>      m_palette-&gt;addRef();</div>
<div class="line"><span class="lineno">  435</span>      <span class="keywordflow">if</span> (!(<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() &amp; FULLCOLOR_TYPE)) m_palette-&gt;<a class="code hl_function" href="class_t_palette.html#a49d4f02fb0810c659887bc4e2c5bc3a0">setPaletteName</a>(<a class="code hl_function" href="class_t_xsh_level.html#a3a59fb1bd3261baee4e889a9edbf0ae8">getName</a>());</div>
<div class="line"><span class="lineno">  436</span>    }</div>
<div class="line"><span class="lineno">  437</span>  }</div>
<div class="line"><span class="lineno">  438</span>}</div>
<div class="ttc" id="aclass_t_palette_html_a49d4f02fb0810c659887bc4e2c5bc3a0"><div class="ttname"><a href="class_t_palette.html#a49d4f02fb0810c659887bc4e2c5bc3a0">TPalette::setPaletteName</a></div><div class="ttdeci">void setPaletteName(std::wstring name)</div><div class="ttdoc">Sets the name of the palette.</div><div class="ttdef"><b>Definition:</b> tpalette.h:411</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00115">TXshLevel::getName()</a>, <a class="el" href="#l00081">TXshLevel::getType()</a>, and <a class="el" href="#l00411">TPalette::setPaletteName()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01083">load()</a>, <a class="el" href="#l01468">save()</a>, <a class="el" href="#l00211">setEditableRange()</a>, and <a class="el" href="#l00242">Vectorizer::setLevel()</a>.</p>

</div>
</div>
<a id="a357d236b080a555590b1f84a78f00059" name="a357d236b080a555590b1f84a78f00059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a357d236b080a555590b1f84a78f00059">&#9670;&nbsp;</a></span>setPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>retainCachedImages</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  377</span>                                                                  {</div>
<div class="line"><span class="lineno">  378</span>  m_path = fp;</div>
<div class="line"><span class="lineno">  379</span>  <span class="keywordflow">if</span> (!keepFrames) {</div>
<div class="line"><span class="lineno">  380</span>    clearFrames();</div>
<div class="line"><span class="lineno">  381</span>    assert(<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>());</div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  383</span>      <a class="code hl_function" href="class_t_xsh_simple_level.html#a0020922626c177cd3134a05e274aecee">load</a>();</div>
<div class="line"><span class="lineno">  384</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  385</span>    }</div>
<div class="line"><span class="lineno">  386</span>  }</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() != PLI_XSHLEVEL) {</div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">if</span> (!m_frames.empty()) {</div>
<div class="line"><span class="lineno">  390</span>      std::string imageId = getImageId(<a class="code hl_function" href="class_t_xsh_simple_level.html#a18862340ce6e813778b40a7913b13252">getFirstFid</a>());</div>
<div class="line"><span class="lineno">  391</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_image_info.html">TImageInfo</a> *imageInfo =</div>
<div class="line"><span class="lineno">  392</span>          ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a44231d6948d69f54e9a4315049131086">getInfo</a>(imageId, ImageManager::none, 0);</div>
<div class="line"><span class="lineno">  393</span>      <span class="keywordflow">if</span> (imageInfo) {</div>
<div class="line"><span class="lineno">  394</span>        <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> imageRes(0, 0);</div>
<div class="line"><span class="lineno">  395</span>        <a class="code hl_class" href="class_t_point_t.html">TPointD</a> imageDpi;</div>
<div class="line"><span class="lineno">  396</span>        imageRes.lx = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#afe82a2118ba303797b2c8a12b47b771d">m_lx</a>;</div>
<div class="line"><span class="lineno">  397</span>        imageRes.ly = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#affef879628cc3843968c932e706541b6">m_ly</a>;</div>
<div class="line"><span class="lineno">  398</span>        imageDpi.x  = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#ad66e78a66158fddceaa192d0063f68e8">m_dpix</a>;</div>
<div class="line"><span class="lineno">  399</span>        imageDpi.y  = imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#ad8d3ccb14666297e487e04aa10ab7831">m_dpiy</a>;</div>
<div class="line"><span class="lineno">  400</span>        m_properties-&gt;setImageDpi(imageDpi);</div>
<div class="line"><span class="lineno">  401</span>        m_properties-&gt;setImageRes(imageRes);</div>
<div class="line"><span class="lineno">  402</span>        m_properties-&gt;setBpp(imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#aa69221d579b49a27bcd54ffaabb2e8be">m_bitsPerSample</a> *</div>
<div class="line"><span class="lineno">  403</span>                             imageInfo-&gt;<a class="code hl_variable" href="class_t_image_info.html#a6b58380f718e21dde1b37577090f5c77">m_samplePerPixel</a>);</div>
<div class="line"><span class="lineno">  404</span>      }</div>
<div class="line"><span class="lineno">  405</span>    }</div>
<div class="line"><span class="lineno">  406</span>  }</div>
<div class="line"><span class="lineno">  407</span>}</div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a0020922626c177cd3134a05e274aecee"><div class="ttname"><a href="class_t_xsh_simple_level.html#a0020922626c177cd3134a05e274aecee">TXshSimpleLevel::load</a></div><div class="ttdeci">void load() override</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.cpp:1083</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7465cffde15c5f7a8686842c770c2ef6" name="a7465cffde15c5f7a8686842c770c2ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7465cffde15c5f7a8686842c770c2ef6">&#9670;&nbsp;</a></span>setRenumberTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setRenumberTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set elements of m_renumberTable with m_frames. </p>
<div class="fragment"><div class="line"><span class="lineno">  311</span>                                       {</div>
<div class="line"><span class="lineno">  312</span>  m_renumberTable.clear();</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>  FramesSet::iterator ft, fEnd = m_frames.end();</div>
<div class="line"><span class="lineno">  315</span>  <span class="keywordflow">for</span> (ft = m_frames.begin(); ft != fEnd; ++ft) m_renumberTable[*ft] = *ft;</div>
<div class="line"><span class="lineno">  316</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01083">load()</a>, and <a class="el" href="#l01468">save()</a>.</p>

</div>
</div>
<a id="af87056a3a5552ad2dfc009b76bbc30f9" name="af87056a3a5552ad2dfc009b76bbc30f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af87056a3a5552ad2dfc009b76bbc30f9">&#9670;&nbsp;</a></span>setScannedPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::setScannedPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  371</span>                                                        {</div>
<div class="line"><span class="lineno">  372</span>  m_scannedPath = fp;</div>
<div class="line"><span class="lineno">  373</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c20a8d11037048322d2035b0f286209" name="a3c20a8d11037048322d2035b0f286209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c20a8d11037048322d2035b0f286209">&#9670;&nbsp;</a></span>touchFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::touchFrame </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_frame_id.html">TFrameId</a> &amp;&#160;</td>
          <td class="paramname"><em>fid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Updates content history (invokes setDirtyFlag(true)) </p><dl class="section warning"><dt>Warning</dt><dd>Not what users may expect! </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  330</span>                                                    {</div>
<div class="line"><span class="lineno">  331</span>  m_properties-&gt;setDirtyFlag(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  332</span>  <a class="code hl_class" href="class_t_content_history.html">TContentHistory</a> *ch = <a class="code hl_function" href="class_t_xsh_simple_level.html#a2fe15ee3d60e1f5f5c38d6ba75d36812">getContentHistory</a>();</div>
<div class="line"><span class="lineno">  333</span>  <span class="keywordflow">if</span> (!ch) {</div>
<div class="line"><span class="lineno">  334</span>    ch = <span class="keyword">new</span> <a class="code hl_class" href="class_t_content_history.html">TContentHistory</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  335</span>    <a class="code hl_function" href="class_t_xsh_simple_level.html#aa5ae2d1b425b93a9e37fbfcb324a5db6">setContentHistory</a>(ch);</div>
<div class="line"><span class="lineno">  336</span>  }</div>
<div class="line"><span class="lineno">  337</span>  ch-&gt;<a class="code hl_function" href="class_t_content_history.html#a473d4a6c40eac7847c57933ac437a11d">frameModifiedNow</a>(fid);</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() == PLI_XSHLEVEL) {</div>
<div class="line"><span class="lineno">  340</span>    std::string <span class="keywordtype">id</span> = rasterized(getImageId(fid));</div>
<div class="line"><span class="lineno">  341</span>    ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a34bdaa25c84cd79a7518dbd233a947f4">invalidate</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  342</span>  }</div>
<div class="line"><span class="lineno">  343</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>() &amp; FULLCOLOR_TYPE) {</div>
<div class="line"><span class="lineno">  344</span>    std::string <span class="keywordtype">id</span> = filled(getImageId(fid));</div>
<div class="line"><span class="lineno">  345</span>    ImageManager::instance()-&gt;<a class="code hl_function" href="class_image_manager.html#a34bdaa25c84cd79a7518dbd233a947f4">invalidate</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  346</span>  }</div>
<div class="line"><span class="lineno">  347</span>}</div>
<div class="ttc" id="aclass_t_content_history_html"><div class="ttname"><a href="class_t_content_history.html">TContentHistory</a></div><div class="ttdef"><b>Definition:</b> tcontenthistory.h:28</div></div>
<div class="ttc" id="aclass_t_content_history_html_a473d4a6c40eac7847c57933ac437a11d"><div class="ttname"><a href="class_t_content_history.html#a473d4a6c40eac7847c57933ac437a11d">TContentHistory::frameModifiedNow</a></div><div class="ttdeci">void frameModifiedNow(const TFrameId &amp;id)</div><div class="ttdoc">do not call this 2 methods if isLevel==false! (assertion fails)</div><div class="ttdef"><b>Definition:</b> tcontenthistory.h:55</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_a2fe15ee3d60e1f5f5c38d6ba75d36812"><div class="ttname"><a href="class_t_xsh_simple_level.html#a2fe15ee3d60e1f5f5c38d6ba75d36812">TXshSimpleLevel::getContentHistory</a></div><div class="ttdeci">const TContentHistory * getContentHistory() const</div><div class="ttdoc">note gets the contentHistory. can be 0</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:291</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00055">TContentHistory::frameModifiedNow()</a>, <a class="el" href="#l00291">getContentHistory()</a>, <a class="el" href="#l00081">TXshLevel::getType()</a>, <a class="el" href="#l00426">ImageManager::invalidate()</a>, and <a class="el" href="#l02273">setContentHistory()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00609">TTool::notifyImageChanged()</a>.</p>

</div>
</div>
<a id="aaad854d2871f2b9ded0469d117f90c7d" name="aaad854d2871f2b9ded0469d117f90c7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad854d2871f2b9ded0469d117f90c7d">&#9670;&nbsp;</a></span>updateReadOnly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TXshSimpleLevel::updateReadOnly </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1357</span>                                     {</div>
<div class="line"><span class="lineno"> 1358</span>  <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> path = <a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(m_path);</div>
<div class="line"><span class="lineno"> 1359</span>  m_isReadOnly   = isAreadOnlyLevel(path);</div>
<div class="line"><span class="lineno"> 1360</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a011698d3e692cbbe468a03a36e64634a" name="a011698d3e692cbbe468a03a36e64634a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a011698d3e692cbbe468a03a36e64634a">&#9670;&nbsp;</a></span>m_fillFullColorRaster</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TXshSimpleLevel::m_fillFullColorRaster = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abcb2dceb9b684d8734ebb897a744507e" name="abcb2dceb9b684d8734ebb897a744507e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcb2dceb9b684d8734ebb897a744507e">&#9670;&nbsp;</a></span>m_rasterizePli</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TXshSimpleLevel::m_rasterizePli = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/include/toonz/<a class="el" href="">txshsimplelevel.h</a></li>
<li>E:/opentoonz/toonz/sources/toonzlib/<a class="el" href="">txshsimplelevel.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
