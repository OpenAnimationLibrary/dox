<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: ChildStack Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_child_stack-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ChildStack Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_child_stack.html" title="The ChildStack class provides a stack of xsheet and allows its management.">ChildStack</a> class provides a stack of xsheet and allows its management.  
 <a href="class_child_stack.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="">childstack.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack_1_1_node.html">Node</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_child_stack_1_1_node.html" title="The Node class is a container of element necessary to define a sub-xsheet.">Node</a> class is a container of element necessary to define a sub-xsheet.  <a href="class_child_stack_1_1_node.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a821d2a2e2fdc64f85751ccb8e659ee2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#a821d2a2e2fdc64f85751ccb8e659ee2a">ChildStack</a> (<a class="el" href="class_toonz_scene.html">ToonzScene</a> *scene)</td></tr>
<tr class="separator:a821d2a2e2fdc64f85751ccb8e659ee2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aec2cd194fccdf509a84cd4701ec9b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#a6aec2cd194fccdf509a84cd4701ec9b0">~ChildStack</a> ()</td></tr>
<tr class="separator:a6aec2cd194fccdf509a84cd4701ec9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ee4c46f539dc56bc687a10c27caa57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#a45ee4c46f539dc56bc687a10c27caa57">clear</a> ()</td></tr>
<tr class="separator:a45ee4c46f539dc56bc687a10c27caa57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9be6544b43a6f75fda20993e2a79de8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#ab9be6544b43a6f75fda20993e2a79de8">openChild</a> (int row, int col)</td></tr>
<tr class="separator:ab9be6544b43a6f75fda20993e2a79de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e7fd4360890cbd22472574a5f954d74"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#a1e7fd4360890cbd22472574a5f954d74">closeChild</a> (int &amp;row, int &amp;col)</td></tr>
<tr class="separator:a1e7fd4360890cbd22472574a5f954d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c3b07ea7a0f6adf23cf762397d10cb0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_xsh_child_level.html">TXshChildLevel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#a2c3b07ea7a0f6adf23cf762397d10cb0">createChild</a> (int row, int col)</td></tr>
<tr class="separator:a2c3b07ea7a0f6adf23cf762397d10cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf32015ee9da2ea3255ba9bd2597f899"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#adf32015ee9da2ea3255ba9bd2597f899">getAncestorCount</a> () const</td></tr>
<tr class="separator:adf32015ee9da2ea3255ba9bd2597f899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc3acc547e134c1571b01ec5e75e9705"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_xsheet.html">TXsheet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#acc3acc547e134c1571b01ec5e75e9705">getTopXsheet</a> () const</td></tr>
<tr class="separator:acc3acc547e134c1571b01ec5e75e9705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb633c4351ac8fb0e72782c9f9d1e2b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_xsheet.html">TXsheet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#aeb633c4351ac8fb0e72782c9f9d1e2b4">getXsheet</a> () const</td></tr>
<tr class="separator:aeb633c4351ac8fb0e72782c9f9d1e2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc57fd8bf201b1336a76212186262d79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#adc57fd8bf201b1336a76212186262d79">setXsheet</a> (<a class="el" href="class_t_xsheet.html">TXsheet</a> *xsheet)</td></tr>
<tr class="separator:adc57fd8bf201b1336a76212186262d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cddfa0ca994527a3b90a3456eb8656f"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="class_t_xsheet.html">TXsheet</a> *, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#a6cddfa0ca994527a3b90a3456eb8656f">getAncestor</a> (int row) const</td></tr>
<tr class="separator:a6cddfa0ca994527a3b90a3456eb8656f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f1fa04ddb083c41ceb3c958e6423744"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_child_stack.html#a8f1fa04ddb083c41ceb3c958e6423744">getAncestorAffine</a> (<a class="el" href="class_t_affine.html">TAffine</a> &amp;aff, int row) const</td></tr>
<tr class="separator:a8f1fa04ddb083c41ceb3c958e6423744"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The <a class="el" href="class_child_stack.html" title="The ChildStack class provides a stack of xsheet and allows its management.">ChildStack</a> class provides a stack of xsheet and allows its management. </p>
<p >The class has a vector of <b><a class="el" href="class_child_stack_1_1_node.html" title="The Node class is a container of element necessary to define a sub-xsheet.">ChildStack::Node</a></b>, a pointer to current <b><a class="el" href="class_t_xsheet.html">TXsheet</a></b> <a class="el" href="class_child_stack.html#aeb633c4351ac8fb0e72782c9f9d1e2b4">getXsheet()</a>, and a pointer to current <b><a class="el" href="class_toonz_scene.html">ToonzScene</a></b> <b>m_scene</b>. The <b><a class="el" href="class_child_stack_1_1_node.html" title="The Node class is a container of element necessary to define a sub-xsheet.">ChildStack::Node</a></b> vector is as a subxsheet vector.</p>
<p >Through this class you can create, open <a class="el" href="class_child_stack.html#ab9be6544b43a6f75fda20993e2a79de8">openChild()</a>, close <a class="el" href="class_child_stack.html#a1e7fd4360890cbd22472574a5f954d74">closeChild()</a> or clear <a class="el" href="class_child_stack.html#a45ee4c46f539dc56bc687a10c27caa57">clear()</a> a sub-xsheet.</p>
<p >The class provides a collection of functions that return set of subxsheet properties, <a class="el" href="class_child_stack.html#a6cddfa0ca994527a3b90a3456eb8656f">getAncestor()</a>, <a class="el" href="class_child_stack.html#adf32015ee9da2ea3255ba9bd2597f899">getAncestorCount()</a>, <a class="el" href="class_child_stack.html#a8f1fa04ddb083c41ceb3c958e6423744">getAncestorAffine()</a>, <a class="el" href="class_child_stack.html#acc3acc547e134c1571b01ec5e75e9705">getTopXsheet()</a>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a821d2a2e2fdc64f85751ccb8e659ee2a" name="a821d2a2e2fdc64f85751ccb8e659ee2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a821d2a2e2fdc64f85751ccb8e659ee2a">&#9670;&nbsp;</a></span>ChildStack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ChildStack::ChildStack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_toonz_scene.html">ToonzScene</a> *&#160;</td>
          <td class="paramname"><em>scene</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Constructs a <a class="el" href="class_child_stack.html" title="The ChildStack class provides a stack of xsheet and allows its management.">ChildStack</a> with default value and current <b>scene</b>. </p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>    : m_scene(scene), m_xsheet(<span class="keyword">new</span> <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a>()) {</div>
<div class="line"><span class="lineno">   36</span>  m_xsheet-&gt;<a class="code hl_function" href="class_t_xsheet.html#acb634f75579e77275e6dd5fad3ead2b6">setScene</a>(m_scene);</div>
<div class="line"><span class="lineno">   37</span>  m_xsheet-&gt;addRef();</div>
<div class="line"><span class="lineno">   38</span>}</div>
<div class="ttc" id="aclass_t_xsheet_html"><div class="ttname"><a href="class_t_xsheet.html">TXsheet</a></div><div class="ttdef"><b>Definition:</b> txsheet.h:132</div></div>
<div class="ttc" id="aclass_t_xsheet_html_acb634f75579e77275e6dd5fad3ead2b6"><div class="ttname"><a href="class_t_xsheet.html#acb634f75579e77275e6dd5fad3ead2b6">TXsheet::setScene</a></div><div class="ttdeci">void setScene(ToonzScene *scene)</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:1579</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01579">TXsheet::setScene()</a>.</p>

</div>
</div>
<a id="a6aec2cd194fccdf509a84cd4701ec9b0" name="a6aec2cd194fccdf509a84cd4701ec9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aec2cd194fccdf509a84cd4701ec9b0">&#9670;&nbsp;</a></span>~ChildStack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ChildStack::~ChildStack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Destroys the <a class="el" href="class_child_stack.html" title="The ChildStack class provides a stack of xsheet and allows its management.">ChildStack</a> object. </p>
<div class="fragment"><div class="line"><span class="lineno">   42</span>                        {</div>
<div class="line"><span class="lineno">   43</span>  m_xsheet-&gt;release();</div>
<div class="line"><span class="lineno">   44</span>  clearPointerContainer(m_stack);</div>
<div class="line"><span class="lineno">   45</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a45ee4c46f539dc56bc687a10c27caa57" name="a45ee4c46f539dc56bc687a10c27caa57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45ee4c46f539dc56bc687a10c27caa57">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ChildStack::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Clear child stack. </p>
<div class="fragment"><div class="line"><span class="lineno">   49</span>                       {</div>
<div class="line"><span class="lineno">   50</span>  m_xsheet-&gt;<a class="code hl_function" href="class_t_xsheet.html#a5c453d16606875c8f1d5fc718df2a71d">clearAll</a>();</div>
<div class="line"><span class="lineno">   51</span>  m_xsheet-&gt;<a class="code hl_function" href="class_t_xsheet.html#acb634f75579e77275e6dd5fad3ead2b6">setScene</a>(m_scene);</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>  clearPointerContainer(m_stack);</div>
<div class="line"><span class="lineno">   54</span>}</div>
<div class="ttc" id="aclass_t_xsheet_html_a5c453d16606875c8f1d5fc718df2a71d"><div class="ttname"><a href="class_t_xsheet.html#a5c453d16606875c8f1d5fc718df2a71d">TXsheet::clearAll</a></div><div class="ttdeci">void clearAll()</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:439</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00439">TXsheet::clearAll()</a>, and <a class="el" href="#l01579">TXsheet::setScene()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00308">ToonzScene::clear()</a>.</p>

</div>
</div>
<a id="a1e7fd4360890cbd22472574a5f954d74" name="a1e7fd4360890cbd22472574a5f954d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e7fd4360890cbd22472574a5f954d74">&#9670;&nbsp;</a></span>closeChild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChildStack::closeChild </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Close current xsheet if is a sub-xsheet. Return false if stack is empty. Set <b>row</b>, <b>col</b> to sub-xsheet row and column. </p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>                                              {</div>
<div class="line"><span class="lineno">   91</span>  <span class="keywordflow">if</span> (m_stack.empty()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *childXsh = m_xsheet;</div>
<div class="line"><span class="lineno">   94</span>  childXsh</div>
<div class="line"><span class="lineno">   95</span>      -&gt;<a class="code hl_function" href="class_t_xsheet.html#ac5e05acb2ce9809c0dcadd2a8b06b393">updateFrameCount</a>();  <span class="comment">// non dovrebbe essere necessario, ma non si sa mai</span></div>
<div class="line"><span class="lineno">   96</span>  <span class="keywordtype">int</span> childFrameCount = childXsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a12a62da7dc04395088112e492d73374f">getFrameCount</a>();</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>  <a class="code hl_class" href="class_node.html">Node</a> *node = m_stack.back();</div>
<div class="line"><span class="lineno">   99</span>  m_stack.pop_back();</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *parentXsh = node-&gt;m_xsheet;</div>
<div class="line"><span class="lineno">  102</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TXshChildLevelP</a> cl = node-&gt;m_cl;</div>
<div class="line"><span class="lineno">  103</span>  row                = node-&gt;m_row;</div>
<div class="line"><span class="lineno">  104</span>  col                = node-&gt;m_col;</div>
<div class="line"><span class="lineno">  105</span>  <span class="keywordtype">bool</span> justCreated   = node-&gt;m_justCreated;</div>
<div class="line"><span class="lineno">  106</span>  <span class="keyword">delete</span> node;</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>  m_xsheet = parentXsh;</div>
<div class="line"><span class="lineno">  109</span>  m_xsheet-&gt;<a class="code hl_function" href="class_t_xsheet.html#ac5e05acb2ce9809c0dcadd2a8b06b393">updateFrameCount</a>();</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>  <span class="comment">// if(cl) cl-&gt;invalidateIcon();</span></div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_xsheet;</div>
<div class="line"><span class="lineno">  114</span>  <span class="keywordflow">if</span> (justCreated) {</div>
<div class="line"><span class="lineno">  115</span>    assert(xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(row, col).m_level.getPointer() == cl.getPointer());</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">if</span> (childFrameCount &gt; 1) {</div>
<div class="line"><span class="lineno">  117</span>      xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#abd28bd6d7b54d51bc066279ae4d1d94e">insertCells</a>(row + 1, col, childFrameCount - 1);</div>
<div class="line"><span class="lineno">  118</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; childFrameCount; i++)</div>
<div class="line"><span class="lineno">  119</span>        xsh-&gt;setCell(row + i, col, <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a>(cl.getPointer(), <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(1 + i)));</div>
<div class="line"><span class="lineno">  120</span>    }</div>
<div class="line"><span class="lineno">  121</span>  }</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  124</span>}</div>
<div class="ttc" id="aclass_node_html"><div class="ttname"><a href="class_node.html">Node</a></div><div class="ttdef"><b>Definition:</b> tcenterlinevectorizerOld.cpp:107</div></div>
<div class="ttc" id="aclass_t_frame_id_html"><div class="ttname"><a href="class_t_frame_id.html">TFrameId</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:29</div></div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TXshChildLevel &gt;</a></div></div>
<div class="ttc" id="aclass_t_xsh_cell_html"><div class="ttname"><a href="class_t_xsh_cell.html">TXshCell</a></div><div class="ttdef"><b>Definition:</b> txshcell.h:35</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a12a62da7dc04395088112e492d73374f"><div class="ttname"><a href="class_t_xsheet.html#a12a62da7dc04395088112e492d73374f">TXsheet::getFrameCount</a></div><div class="ttdeci">int getFrameCount() const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:229</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a1ae81edf03bc7527176c84478c350f57"><div class="ttname"><a href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">TXsheet::getCell</a></div><div class="ttdeci">const TXshCell &amp; getCell(int row, int col) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:233</div></div>
<div class="ttc" id="aclass_t_xsheet_html_abd28bd6d7b54d51bc066279ae4d1d94e"><div class="ttname"><a href="class_t_xsheet.html#abd28bd6d7b54d51bc066279ae4d1d94e">TXsheet::insertCells</a></div><div class="ttdeci">void insertCells(int row, int col, int rowCount=1)</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:392</div></div>
<div class="ttc" id="aclass_t_xsheet_html_ac5e05acb2ce9809c0dcadd2a8b06b393"><div class="ttname"><a href="class_t_xsheet.html#ac5e05acb2ce9809c0dcadd2a8b06b393">TXsheet::updateFrameCount</a></div><div class="ttdeci">void updateFrameCount()</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:1166</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00233">TXsheet::getCell()</a>, <a class="el" href="#l00229">TXsheet::getFrameCount()</a>, <a class="el" href="#l00392">TXsheet::insertCells()</a>, and <a class="el" href="#l01166">TXsheet::updateFrameCount()</a>.</p>

</div>
</div>
<a id="a2c3b07ea7a0f6adf23cf762397d10cb0" name="a2c3b07ea7a0f6adf23cf762397d10cb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c3b07ea7a0f6adf23cf762397d10cb0">&#9670;&nbsp;</a></span>createChild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_xsh_child_level.html">TXshChildLevel</a> * ChildStack::createChild </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Create a sub-xsheet in cell <b>row</b>, <b>col</b> and returns the new child level. <br  />
Column col must be empty, The current xsheet remains unchanged </p>
<div class="fragment"><div class="line"><span class="lineno">  128</span>                                                        {</div>
<div class="line"><span class="lineno">  129</span>  <a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *xl = m_scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#ac8791183db4daa28bdffdd40e15c3b9e">createNewLevel</a>(CHILD_XSHLEVEL);</div>
<div class="line"><span class="lineno">  130</span>  m_xsheet-&gt;setCell(row, col, <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a>(xl, <a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(1)));</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>  <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = m_xsheet-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(row, col);</div>
<div class="line"><span class="lineno">  133</span>  <span class="keywordflow">return</span> cell.m_level-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a6ef7d48e41f4f214b414e959512e6377">getChildLevel</a>();</div>
<div class="line"><span class="lineno">  134</span>}</div>
<div class="ttc" id="aclass_t_xsh_level_html"><div class="ttname"><a href="class_t_xsh_level.html">TXshLevel</a></div><div class="ttdoc">The TXshLevel class is the base class of level managers in xsheet.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:50</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a6ef7d48e41f4f214b414e959512e6377"><div class="ttname"><a href="class_t_xsh_level.html#a6ef7d48e41f4f214b414e959512e6377">TXshLevel::getChildLevel</a></div><div class="ttdeci">virtual TXshChildLevel * getChildLevel()</div><div class="ttdoc">Method (to be overridden in subclasses) to downcast to TXshChildLevel.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:98</div></div>
<div class="ttc" id="aclass_toonz_scene_html_ac8791183db4daa28bdffdd40e15c3b9e"><div class="ttname"><a href="class_toonz_scene.html#ac8791183db4daa28bdffdd40e15c3b9e">ToonzScene::createNewLevel</a></div><div class="ttdeci">TXshLevel * createNewLevel(int type, std::wstring levelName=L&quot;&quot;, const TDimension &amp;dim=TDimension(), double dpi=0, TFilePath fp=TFilePath())</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:864</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00864">ToonzScene::createNewLevel()</a>, <a class="el" href="#l00233">TXsheet::getCell()</a>, and <a class="el" href="#l00098">TXshLevel::getChildLevel()</a>.</p>

</div>
</div>
<a id="a6cddfa0ca994527a3b90a3456eb8656f" name="a6cddfa0ca994527a3b90a3456eb8656f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cddfa0ca994527a3b90a3456eb8656f">&#9670;&nbsp;</a></span>getAncestor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="class_t_xsheet.html">TXsheet</a> *, int &gt; ChildStack::getAncestor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return the ancestor and respective frame that contains <b>row</b>. <br  />
Useful by edit in place. Oss.: <b>row</b> of current xsheet. </p>
<div class="fragment"><div class="line"><span class="lineno">  148</span>                                                             {</div>
<div class="line"><span class="lineno">  149</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_xsheet;</div>
<div class="line"><span class="lineno">  150</span>  <span class="keywordtype">int</span> i        = m_stack.size() - 1;</div>
<div class="line"><span class="lineno">  151</span>  <span class="keywordflow">while</span> (i &gt;= 0) {</div>
<div class="line"><span class="lineno">  152</span>    std::map&lt;int, int&gt;::const_iterator it = m_stack[i]-&gt;m_rowTable.find(row);</div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">if</span> (it == m_stack[i]-&gt;m_rowTable.end()) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  154</span>    row = it-&gt;second;</div>
<div class="line"><span class="lineno">  155</span>    xsh = m_stack[i]-&gt;m_xsheet;</div>
<div class="line"><span class="lineno">  156</span>    i--;</div>
<div class="line"><span class="lineno">  157</span>  }</div>
<div class="line"><span class="lineno">  158</span>  <span class="keywordflow">return</span> std::make_pair(xsh, row);</div>
<div class="line"><span class="lineno">  159</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f1fa04ddb083c41ceb3c958e6423744" name="a8f1fa04ddb083c41ceb3c958e6423744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f1fa04ddb083c41ceb3c958e6423744">&#9670;&nbsp;</a></span>getAncestorAffine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChildStack::getAncestorAffine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_affine.html">TAffine</a> &amp;&#160;</td>
          <td class="paramname"><em>aff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set aff to ancestor affine in <b>row</b>. Return true if all ancestors are visible in <b>row</b>. </p>
<div class="fragment"><div class="line"><span class="lineno">  163</span>                                                              {</div>
<div class="line"><span class="lineno">  164</span>  aff   = <a class="code hl_class" href="class_t_affine.html">TAffine</a>();</div>
<div class="line"><span class="lineno">  165</span>  <span class="keywordtype">int</span> i = m_stack.size() - 1;</div>
<div class="line"><span class="lineno">  166</span>  <span class="keywordflow">while</span> (i &gt;= 0) {</div>
<div class="line"><span class="lineno">  167</span>    std::map&lt;int, int&gt;::const_iterator it = m_stack[i]-&gt;m_rowTable.find(row);</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">if</span> (it == m_stack[i]-&gt;m_rowTable.end()) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    row        = it-&gt;second;</div>
<div class="line"><span class="lineno">  171</span>    <a class="code hl_class" href="class_node.html">Node</a> *node = m_stack[i];</div>
<div class="line"><span class="lineno">  172</span>    <a class="code hl_class" href="class_t_affine.html">TAffine</a> aff2;</div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">if</span> (!getColumnPlacement(aff2, node-&gt;m_xsheet, row, node-&gt;m_col, <span class="keyword">false</span>))</div>
<div class="line"><span class="lineno">  174</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  175</span>    aff = aff2 * aff;</div>
<div class="line"><span class="lineno">  176</span>    i--;</div>
<div class="line"><span class="lineno">  177</span>  }</div>
<div class="line"><span class="lineno">  178</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  179</span>}</div>
<div class="ttc" id="aclass_t_affine_html"><div class="ttname"><a href="class_t_affine.html">TAffine</a></div><div class="ttdoc">This is the base class for the affine transformations.</div><div class="ttdef"><b>Definition:</b> tgeometry.h:864</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf32015ee9da2ea3255ba9bd2597f899" name="adf32015ee9da2ea3255ba9bd2597f899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf32015ee9da2ea3255ba9bd2597f899">&#9670;&nbsp;</a></span>getAncestorCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ChildStack::getAncestorCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return ancestor number, size of <b><a class="el" href="class_child_stack_1_1_node.html" title="The Node class is a container of element necessary to define a sub-xsheet.">ChildStack::Node</a></b> vector. </p>
<div class="fragment"><div class="line"><span class="lineno">  138</span>{ <span class="keywordflow">return</span> m_stack.size(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acc3acc547e134c1571b01ec5e75e9705" name="acc3acc547e134c1571b01ec5e75e9705"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc3acc547e134c1571b01ec5e75e9705">&#9670;&nbsp;</a></span>getTopXsheet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_xsheet.html">TXsheet</a> * ChildStack::getTopXsheet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return a pointer to top xsheet of stack, if stack is empty to current xsheet. </p>
<div class="fragment"><div class="line"><span class="lineno">  142</span>                                        {</div>
<div class="line"><span class="lineno">  143</span>  <span class="keywordflow">return</span> m_stack.empty() ? m_xsheet : m_stack.front()-&gt;m_xsheet;</div>
<div class="line"><span class="lineno">  144</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01492">ToonzScene::getSoundColumns()</a>, <a class="el" href="#l00961">ToonzScene::getTopXsheet()</a>, and <a class="el" href="#l00590">ToonzScene::save()</a>.</p>

</div>
</div>
<a id="aeb633c4351ac8fb0e72782c9f9d1e2b4" name="aeb633c4351ac8fb0e72782c9f9d1e2b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb633c4351ac8fb0e72782c9f9d1e2b4">&#9670;&nbsp;</a></span>getXsheet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_xsheet.html">TXsheet</a> * ChildStack::getXsheet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Return a pointer to current xsheet. </p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>{ <span class="keywordflow">return</span> m_xsheet; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00957">ToonzScene::getXsheet()</a>.</p>

</div>
</div>
<a id="ab9be6544b43a6f75fda20993e2a79de8" name="ab9be6544b43a6f75fda20993e2a79de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9be6544b43a6f75fda20993e2a79de8">&#9670;&nbsp;</a></span>openChild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ChildStack::openChild </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Open a sub-xsheet in cell <b>row</b>, <b>col</b>. Return true if it's possible. <br  />
If cell <b>row</b>, <b>col</b> is empty create a new sub-xheet empty and return true, if cell contains a sub-xsheet set this as current xsheet and return true, if cell contains another element return false. </p>
<div class="fragment"><div class="line"><span class="lineno">   58</span>                                           {</div>
<div class="line"><span class="lineno">   59</span>  <a class="code hl_class" href="class_t_xsh_child_level.html">TXshChildLevel</a> *childLevel = 0;</div>
<div class="line"><span class="lineno">   60</span>  <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell              = m_xsheet-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(row, col);</div>
<div class="line"><span class="lineno">   61</span>  <span class="keywordflow">if</span> (!cell.m_level) {</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   63</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   64</span>    childLevel = cell.m_level-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a6ef7d48e41f4f214b414e959512e6377">getChildLevel</a>();</div>
<div class="line"><span class="lineno">   65</span>  <span class="keywordflow">if</span> (!childLevel) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   66</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *childXsheet = childLevel-&gt;<a class="code hl_function" href="class_t_xsh_child_level.html#ad2676276ae1db83a898a3eef10e0ace8">getXsheet</a>();</div>
<div class="line"><span class="lineno">   67</span>  <a class="code hl_class" href="class_node.html">Node</a> *node           = <span class="keyword">new</span> <a class="code hl_class" href="class_node.html">Node</a>();</div>
<div class="line"><span class="lineno">   68</span>  node-&gt;m_row          = row;</div>
<div class="line"><span class="lineno">   69</span>  node-&gt;m_col          = col;</div>
<div class="line"><span class="lineno">   70</span>  node-&gt;m_xsheet       = m_xsheet;</div>
<div class="line"><span class="lineno">   71</span>  node-&gt;m_cl           = childLevel;</div>
<div class="line"><span class="lineno">   72</span>  node-&gt;m_justCreated  = !cell.m_level;</div>
<div class="line"><span class="lineno">   73</span>  <span class="keywordtype">int</span> r0 = 0, r1 = -1;</div>
<div class="line"><span class="lineno">   74</span>  m_xsheet-&gt;<a class="code hl_function" href="class_t_xsheet.html#a26850469fb0f2886b717479050c32be2">getCellRange</a>(col, r0, r1);</div>
<div class="line"><span class="lineno">   75</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = r0; r &lt;= r1; r++) {</div>
<div class="line"><span class="lineno">   76</span>    <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = m_xsheet-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(r, col);</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">if</span> (cell.m_level.getPointer() == childLevel) {</div>
<div class="line"><span class="lineno">   78</span>      <span class="keywordtype">int</span> d = cell.m_frameId.getNumber() - 1;</div>
<div class="line"><span class="lineno">   79</span>      std::map&lt;int, int&gt;::iterator it = node-&gt;m_rowTable.find(d);</div>
<div class="line"><span class="lineno">   80</span>      <span class="keywordflow">if</span> (it == node-&gt;m_rowTable.end()) node-&gt;m_rowTable[d] = r;</div>
<div class="line"><span class="lineno">   81</span>    }</div>
<div class="line"><span class="lineno">   82</span>  }</div>
<div class="line"><span class="lineno">   83</span>  m_stack.push_back(node);</div>
<div class="line"><span class="lineno">   84</span>  m_xsheet = childXsheet;</div>
<div class="line"><span class="lineno">   85</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   86</span>}</div>
<div class="ttc" id="aclass_t_xsh_child_level_html"><div class="ttname"><a href="class_t_xsh_child_level.html">TXshChildLevel</a></div><div class="ttdef"><b>Definition:</b> txshchildlevel.h:39</div></div>
<div class="ttc" id="aclass_t_xsh_child_level_html_ad2676276ae1db83a898a3eef10e0ace8"><div class="ttname"><a href="class_t_xsh_child_level.html#ad2676276ae1db83a898a3eef10e0ace8">TXshChildLevel::getXsheet</a></div><div class="ttdeci">TXsheet * getXsheet()</div><div class="ttdef"><b>Definition:</b> txshchildlevel.h:65</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a26850469fb0f2886b717479050c32be2"><div class="ttname"><a href="class_t_xsheet.html#a26850469fb0f2886b717479050c32be2">TXsheet::getCellRange</a></div><div class="ttdeci">int getCellRange(int col, int &amp;r0, int &amp;r1) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:462</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00233">TXsheet::getCell()</a>, <a class="el" href="#l00462">TXsheet::getCellRange()</a>, <a class="el" href="#l00098">TXshLevel::getChildLevel()</a>, and <a class="el" href="#l00065">TXshChildLevel::getXsheet()</a>.</p>

</div>
</div>
<a id="adc57fd8bf201b1336a76212186262d79" name="adc57fd8bf201b1336a76212186262d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc57fd8bf201b1336a76212186262d79">&#9670;&nbsp;</a></span>setXsheet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ChildStack::setXsheet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_xsheet.html">TXsheet</a> *&#160;</td>
          <td class="paramname"><em>xsheet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  102</span>{ m_xsheet = xsheet; }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/include/toonz/<a class="el" href="">childstack.h</a></li>
<li>E:/opentoonz/toonz/sources/toonzlib/<a class="el" href="">childstack.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
