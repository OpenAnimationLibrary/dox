<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: Stage::RasterPainter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_stage.html">Stage</a></li><li class="navelem"><a class="el" href="class_stage_1_1_raster_painter.html">RasterPainter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_stage_1_1_raster_painter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Stage::RasterPainter Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="">stagevisitor.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Stage::RasterPainter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_stage_1_1_raster_painter.png" usemap="#Stage::RasterPainter_map" alt=""/>
  <map id="Stage::RasterPainter_map" name="Stage::RasterPainter_map">
<area href="class_stage_1_1_visitor.html" alt="Stage::Visitor" shape="rect" coords="0,0,126,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4633b19f10527ad89ce79cee6e65076f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a4633b19f10527ad89ce79cee6e65076f">RasterPainter</a> (const <a class="el" href="class_t_dimension_t.html">TDimension</a> &amp;dim, const <a class="el" href="class_t_affine.html">TAffine</a> &amp;viewAff, const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;rect, const <a class="el" href="class_image_painter_1_1_visual_settings.html">ImagePainter::VisualSettings</a> &amp;vs, bool checkFlags)</td></tr>
<tr class="separator:a4633b19f10527ad89ce79cee6e65076f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fba2ff04bd6cf383e9cc9283d07a78e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a5fba2ff04bd6cf383e9cc9283d07a78e">onImage</a> (const <a class="el" href="class_stage_1_1_player.html">Stage::Player</a> &amp;data) override</td></tr>
<tr class="separator:a5fba2ff04bd6cf383e9cc9283d07a78e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0e6e5a351f5dd2ec900fbfe5affa963"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#af0e6e5a351f5dd2ec900fbfe5affa963">onVectorImage</a> (<a class="el" href="class_t_vector_image.html">TVectorImage</a> *vi, const <a class="el" href="class_stage_1_1_player.html">Stage::Player</a> &amp;data)</td></tr>
<tr class="separator:af0e6e5a351f5dd2ec900fbfe5affa963"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c777e769eb55ad5b7ce562ff7d4edff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a1c777e769eb55ad5b7ce562ff7d4edff">onRasterImage</a> (<a class="el" href="class_t_raster_image.html">TRasterImage</a> *ri, const <a class="el" href="class_stage_1_1_player.html">Stage::Player</a> &amp;data) override</td></tr>
<tr class="separator:a1c777e769eb55ad5b7ce562ff7d4edff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a126ab3e4e2161d727a82cab736098f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a1a126ab3e4e2161d727a82cab736098f">onToonzImage</a> (<a class="el" href="class_t_toonz_image.html">TToonzImage</a> *ri, const <a class="el" href="class_stage_1_1_player.html">Stage::Player</a> &amp;data)</td></tr>
<tr class="separator:a1a126ab3e4e2161d727a82cab736098f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ea79e45143b83405a2b99eeb78847b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a40ea79e45143b83405a2b99eeb78847b">beginMask</a> () override</td></tr>
<tr class="memdesc:a40ea79e45143b83405a2b99eeb78847b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utilizzato solo per TAB Pro.  <a href="class_stage_1_1_raster_painter.html#a40ea79e45143b83405a2b99eeb78847b">More...</a><br /></td></tr>
<tr class="separator:a40ea79e45143b83405a2b99eeb78847b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac575f9c690058fc0399bf87f56be1df8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#ac575f9c690058fc0399bf87f56be1df8">endMask</a> () override</td></tr>
<tr class="memdesc:ac575f9c690058fc0399bf87f56be1df8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utilizzato solo per TAB Pro.  <a href="class_stage_1_1_raster_painter.html#ac575f9c690058fc0399bf87f56be1df8">More...</a><br /></td></tr>
<tr class="separator:ac575f9c690058fc0399bf87f56be1df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1831943f7e23a899d56fecd3e9593fbb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a1831943f7e23a899d56fecd3e9593fbb">enableMask</a> () override</td></tr>
<tr class="memdesc:a1831943f7e23a899d56fecd3e9593fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utilizzato solo per TAB Pro.  <a href="class_stage_1_1_raster_painter.html#a1831943f7e23a899d56fecd3e9593fbb">More...</a><br /></td></tr>
<tr class="separator:a1831943f7e23a899d56fecd3e9593fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afadbc70d6f9fa11c741e7ed1c1b4e759"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#afadbc70d6f9fa11c741e7ed1c1b4e759">disableMask</a> () override</td></tr>
<tr class="memdesc:afadbc70d6f9fa11c741e7ed1c1b4e759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utilizzato solo per TAB Pro.  <a href="class_stage_1_1_raster_painter.html#afadbc70d6f9fa11c741e7ed1c1b4e759">More...</a><br /></td></tr>
<tr class="separator:afadbc70d6f9fa11c741e7ed1c1b4e759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b086d6f875e7caffdbd9e5d34321977"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a8b086d6f875e7caffdbd9e5d34321977">getNodesCount</a> ()</td></tr>
<tr class="separator:a8b086d6f875e7caffdbd9e5d34321977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd82386243266725f5d5d938419100f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#abd82386243266725f5d5d938419100f0">clearNodes</a> ()</td></tr>
<tr class="separator:abd82386243266725f5d5d938419100f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade762a1f18f6cba0cbb9fcb7b9000d8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_smart_pointer_t.html">TRasterP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#ade762a1f18f6cba0cbb9fcb7b9000d8c">getRaster</a> (int index, QMatrix &amp;matrix)</td></tr>
<tr class="separator:ade762a1f18f6cba0cbb9fcb7b9000d8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719a06a3b74d4d919f1d9eaa8bd83172"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a719a06a3b74d4d919f1d9eaa8bd83172">flushRasterImages</a> ()</td></tr>
<tr class="separator:a719a06a3b74d4d919f1d9eaa8bd83172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfdf9e4f66608a89dd13965818d0cf0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#acfdf9e4f66608a89dd13965818d0cf0f">drawRasterImages</a> (QPainter &amp;p, QPolygon cameraRect)</td></tr>
<tr class="separator:acfdf9e4f66608a89dd13965818d0cf0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd6a61a5f1730b54aefab1ab5fe9168"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a3cd6a61a5f1730b54aefab1ab5fe9168">enableSingleColumn</a> (bool on)</td></tr>
<tr class="separator:a3cd6a61a5f1730b54aefab1ab5fe9168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831901a1cf12a33df7934952f07d993a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a831901a1cf12a33df7934952f07d993a">isSingleColumnEnabled</a> () const</td></tr>
<tr class="separator:a831901a1cf12a33df7934952f07d993a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae83db2a77bc4cf66f13b9f486c98d977"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#ae83db2a77bc4cf66f13b9f486c98d977">setRasterDarkenBlendedView</a> (bool on)</td></tr>
<tr class="separator:ae83db2a77bc4cf66f13b9f486c98d977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a326abf630b9fe74166fc9586ed87091a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_t_stroke.html">TStroke</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_raster_painter.html#a326abf630b9fe74166fc9586ed87091a">getGuidedStrokes</a> ()</td></tr>
<tr class="separator:a326abf630b9fe74166fc9586ed87091a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_stage_1_1_visitor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_stage_1_1_visitor')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_stage_1_1_visitor.html">Stage::Visitor</a></td></tr>
<tr class="memitem:a2540b9e8342b49865e5e29e138e63133 inherit pub_methods_class_stage_1_1_visitor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_visitor.html#a2540b9e8342b49865e5e29e138e63133">Visitor</a> (const <a class="el" href="class_image_painter_1_1_visual_settings.html">ImagePainter::VisualSettings</a> &amp;vs)</td></tr>
<tr class="separator:a2540b9e8342b49865e5e29e138e63133 inherit pub_methods_class_stage_1_1_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f6fa9bc6e68aaf2d1a2f5a69a0f8c53 inherit pub_methods_class_stage_1_1_visitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_visitor.html#a4f6fa9bc6e68aaf2d1a2f5a69a0f8c53">onImage</a> (const <a class="el" href="class_stage_1_1_player.html">Player</a> &amp;player)=0</td></tr>
<tr class="memdesc:a4f6fa9bc6e68aaf2d1a2f5a69a0f8c53 inherit pub_methods_class_stage_1_1_visitor"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <em>visitation</em> function.  <a href="class_stage_1_1_visitor.html#a4f6fa9bc6e68aaf2d1a2f5a69a0f8c53">More...</a><br /></td></tr>
<tr class="separator:a4f6fa9bc6e68aaf2d1a2f5a69a0f8c53 inherit pub_methods_class_stage_1_1_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c5b9ee797ecc0de2845176e73603b08 inherit pub_methods_class_stage_1_1_visitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_visitor.html#a0c5b9ee797ecc0de2845176e73603b08">onRasterImage</a> (<a class="el" href="class_t_raster_image.html">TRasterImage</a> *ri, const <a class="el" href="class_stage_1_1_player.html">Stage::Player</a> &amp;data)=0</td></tr>
<tr class="separator:a0c5b9ee797ecc0de2845176e73603b08 inherit pub_methods_class_stage_1_1_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a0cc2a16039ae1207deaa85b1a031b inherit pub_methods_class_stage_1_1_visitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_visitor.html#ae9a0cc2a16039ae1207deaa85b1a031b">enableMask</a> ()=0</td></tr>
<tr class="separator:ae9a0cc2a16039ae1207deaa85b1a031b inherit pub_methods_class_stage_1_1_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75bea1d1c33805ba57d4ee923b139ac7 inherit pub_methods_class_stage_1_1_visitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_visitor.html#a75bea1d1c33805ba57d4ee923b139ac7">disableMask</a> ()=0</td></tr>
<tr class="separator:a75bea1d1c33805ba57d4ee923b139ac7 inherit pub_methods_class_stage_1_1_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae9f37b4a2a677c5558afa9b008667c3 inherit pub_methods_class_stage_1_1_visitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_visitor.html#aae9f37b4a2a677c5558afa9b008667c3">beginMask</a> ()=0</td></tr>
<tr class="separator:aae9f37b4a2a677c5558afa9b008667c3 inherit pub_methods_class_stage_1_1_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f9f597a752a7fb2a498a69009fa6e1d inherit pub_methods_class_stage_1_1_visitor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_visitor.html#a5f9f597a752a7fb2a498a69009fa6e1d">endMask</a> ()=0</td></tr>
<tr class="separator:a5f9f597a752a7fb2a498a69009fa6e1d inherit pub_methods_class_stage_1_1_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_class_stage_1_1_visitor"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_class_stage_1_1_visitor')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="class_stage_1_1_visitor.html">Stage::Visitor</a></td></tr>
<tr class="memitem:a4e0d4d1127a689eee8ae947ef5447f1a inherit pub_attribs_class_stage_1_1_visitor"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_image_painter_1_1_visual_settings.html">ImagePainter::VisualSettings</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a></td></tr>
<tr class="memdesc:a4e0d4d1127a689eee8ae947ef5447f1a inherit pub_attribs_class_stage_1_1_visitor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic painting visual options.  <a href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">More...</a><br /></td></tr>
<tr class="separator:a4e0d4d1127a689eee8ae947ef5447f1a inherit pub_attribs_class_stage_1_1_visitor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="class_stage_1_1_raster_painter.html">Stage::RasterPainter</a> is the object responsible for drawing scene contents on a standard Toonz <a class="el" href="class_scene_viewer.html">SceneViewer</a> panel.</p>
<p >This class performs standard <em> camera-stand &lt;\I&gt; scene renderization. It renders every supported Toonz image type (including Plastic's texturized mesh-based image deformation), deals with onion-skin, and other stuff.</em></p>
<p ><em></p><dl class="section warning"><dt>Warning</dt><dd>The <a class="el" href="class_stage_1_1_raster_painter.html">RasterPainter</a> visitor expects an active OpenGL context. </dd></dl>
<p></em></p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4633b19f10527ad89ce79cee6e65076f" name="a4633b19f10527ad89ce79cee6e65076f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4633b19f10527ad89ce79cee6e65076f">&#9670;&nbsp;</a></span>RasterPainter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RasterPainter::RasterPainter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_dimension_t.html">TDimension</a> &amp;&#160;</td>
          <td class="paramname"><em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_affine.html">TAffine</a> &amp;&#160;</td>
          <td class="paramname"><em>viewAff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_image_painter_1_1_visual_settings.html">ImagePainter::VisualSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>vs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>checkFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  365</span>    : <a class="code hl_class" href="class_stage_1_1_visitor.html">Visitor</a>(vs)</div>
<div class="line"><span class="lineno">  366</span>    , m_dim(dim)</div>
<div class="line"><span class="lineno">  367</span>    , m_viewAff(viewAff)</div>
<div class="line"><span class="lineno">  368</span>    , m_clipRect(rect)</div>
<div class="line"><span class="lineno">  369</span>    , m_maskLevel(0)</div>
<div class="line"><span class="lineno">  370</span>    , m_singleColumnEnabled(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  371</span>    , m_checkFlags(checkFlags)</div>
<div class="line"><span class="lineno">  372</span>    , m_doRasterDarkenBlendedView(<span class="keyword">false</span>) {}</div>
<div class="ttc" id="aclass_stage_1_1_visitor_html"><div class="ttname"><a href="class_stage_1_1_visitor.html">Stage::Visitor</a></div><div class="ttdef"><b>Definition:</b> stagevisitor.h:90</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a40ea79e45143b83405a2b99eeb78847b" name="a40ea79e45143b83405a2b99eeb78847b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ea79e45143b83405a2b99eeb78847b">&#9670;&nbsp;</a></span>beginMask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::beginMask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utilizzato solo per TAB Pro. </p>

<p>Implements <a class="el" href="class_stage_1_1_visitor.html">Stage::Visitor</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  377</span>                              {</div>
<div class="line"><span class="lineno">  378</span>  flushRasterImages();  <span class="comment">// per evitare che venga fatto dopo il beginMask</span></div>
<div class="line"><span class="lineno">  379</span>  ++m_maskLevel;</div>
<div class="line"><span class="lineno">  380</span>  TStencilControl::instance()-&gt;beginMask();</div>
<div class="line"><span class="lineno">  381</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abd82386243266725f5d5d938419100f0" name="abd82386243266725f5d5d938419100f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd82386243266725f5d5d938419100f0">&#9670;&nbsp;</a></span>clearNodes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::clearNodes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  415</span>{ m_nodes.clear(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afadbc70d6f9fa11c741e7ed1c1b4e759" name="afadbc70d6f9fa11c741e7ed1c1b4e759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afadbc70d6f9fa11c741e7ed1c1b4e759">&#9670;&nbsp;</a></span>disableMask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::disableMask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utilizzato solo per TAB Pro. </p>

<p>Implements <a class="el" href="class_stage_1_1_visitor.html">Stage::Visitor</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  394</span>                                {</div>
<div class="line"><span class="lineno">  395</span>  flushRasterImages();  <span class="comment">// se ci sono delle immagini raster mascherate devono</span></div>
<div class="line"><span class="lineno">  396</span>                        <span class="comment">// uscire ora</span></div>
<div class="line"><span class="lineno">  397</span>  TStencilControl::instance()-&gt;disableMask();</div>
<div class="line"><span class="lineno">  398</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acfdf9e4f66608a89dd13965818d0cf0f" name="acfdf9e4f66608a89dd13965818d0cf0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfdf9e4f66608a89dd13965818d0cf0f">&#9670;&nbsp;</a></span>drawRasterImages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::drawRasterImages </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QPolygon&#160;</td>
          <td class="paramname"><em>cameraPol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Make frame visualization in QPainter. <br  />
 Draw in painter mode just raster image in m_nodes. <br  />
 Onon-skin or channel mode are not considered. </p>
<div class="fragment"><div class="line"><span class="lineno">  697</span>                                                                    {</div>
<div class="line"><span class="lineno">  698</span>  <span class="keywordflow">if</span> (m_nodes.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>  <span class="keywordtype">double</span> delta = sqrt(fabs(m_nodes[0].m_aff.det()));</div>
<div class="line"><span class="lineno">  701</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> bbox  = m_nodes[0].m_bbox.enlarge(delta);</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  704</span>  <span class="keywordflow">for</span> (i = 1; i &lt; (int)m_nodes.size(); i++) {</div>
<div class="line"><span class="lineno">  705</span>    delta = sqrt(fabs(m_nodes[i].m_aff.det()));</div>
<div class="line"><span class="lineno">  706</span>    bbox += m_nodes[i].m_bbox.enlarge(delta);</div>
<div class="line"><span class="lineno">  707</span>  }</div>
<div class="line"><span class="lineno">  708</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> rect(tfloor(bbox.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a>), tfloor(bbox.y0), tceil(bbox.x1), tceil(bbox.y1));</div>
<div class="line"><span class="lineno">  709</span>  rect = rect * <a class="code hl_class" href="class_t_rect_t.html">TRect</a>(0, 0, m_dim.lx - 1, m_dim.ly - 1);</div>
<div class="line"><span class="lineno">  710</span> </div>
<div class="line"><span class="lineno">  711</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> r = rect - rect.getP00();</div>
<div class="line"><span class="lineno">  712</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> flipY(1, 0, 0, 0, -1, m_dim.ly);</div>
<div class="line"><span class="lineno">  713</span>  p.setClipRegion(QRegion(cameraPol));</div>
<div class="line"><span class="lineno">  714</span>  <span class="keywordflow">for</span> (i = 0; i &lt; (int)m_nodes.size(); i++) {</div>
<div class="line"><span class="lineno">  715</span>    <span class="keywordflow">if</span> (m_nodes[i].m_onionMode != Node::eOnionSkinNone) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  716</span>    p.resetTransform();</div>
<div class="line"><span class="lineno">  717</span>    <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> ras = m_nodes[i].m_raster;</div>
<div class="line"><span class="lineno">  718</span>    <a class="code hl_class" href="class_t_affine.html">TAffine</a> aff  = <a class="code hl_class" href="class_t_translation.html">TTranslation</a>(-rect.x0, -rect.y0) * flipY * m_nodes[i].m_aff;</div>
<div class="line"><span class="lineno">  719</span>    QMatrix matrix(aff.a11, aff.a21, aff.a12, aff.a22, aff.a13, aff.a23);</div>
<div class="line"><span class="lineno">  720</span>    QImage image = rasterToQImage(ras);</div>
<div class="line"><span class="lineno">  721</span>    <span class="keywordflow">if</span> (image.isNull()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  722</span>    p.setMatrix(matrix);</div>
<div class="line"><span class="lineno">  723</span>    p.drawImage(rect.getP00().x, rect.getP00().y, image);</div>
<div class="line"><span class="lineno">  724</span>  }</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>  p.resetTransform();</div>
<div class="line"><span class="lineno">  727</span>  m_nodes.clear();</div>
<div class="line"><span class="lineno">  728</span>}</div>
<div class="ttc" id="aclass_t_affine_html"><div class="ttname"><a href="class_t_affine.html">TAffine</a></div><div class="ttdoc">This is the base class for the affine transformations.</div><div class="ttdef"><b>Definition:</b> tgeometry.h:864</div></div>
<div class="ttc" id="aclass_t_rect_t_html"><div class="ttname"><a href="class_t_rect_t.html">TRectT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_rect_t_html_ac008cbc625f50d8b3c180c8eb2594cdb"><div class="ttname"><a href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">TRectT::x0</a></div><div class="ttdeci">T x0</div><div class="ttdef"><b>Definition:</b> tgeometry.h:557</div></div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TRaster &gt;</a></div></div>
<div class="ttc" id="aclass_t_translation_html"><div class="ttname"><a href="class_t_translation.html">TTranslation</a></div><div class="ttdef"><b>Definition:</b> tgeometry.h:1074</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00557">TRectT&lt; T &gt;::x0</a>.</p>

</div>
</div>
<a id="a1831943f7e23a899d56fecd3e9593fbb" name="a1831943f7e23a899d56fecd3e9593fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1831943f7e23a899d56fecd3e9593fbb">&#9670;&nbsp;</a></span>enableMask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::enableMask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utilizzato solo per TAB Pro. </p>

<p>Implements <a class="el" href="class_stage_1_1_visitor.html">Stage::Visitor</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  390</span>                               {</div>
<div class="line"><span class="lineno">  391</span>  TStencilControl::instance()-&gt;enableMask(TStencilControl::SHOW_INSIDE);</div>
<div class="line"><span class="lineno">  392</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3cd6a61a5f1730b54aefab1ab5fe9168" name="a3cd6a61a5f1730b54aefab1ab5fe9168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cd6a61a5f1730b54aefab1ab5fe9168">&#9670;&nbsp;</a></span>enableSingleColumn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Stage::RasterPainter::enableSingleColumn </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  292</span>{ m_singleColumnEnabled = on; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac575f9c690058fc0399bf87f56be1df8" name="ac575f9c690058fc0399bf87f56be1df8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac575f9c690058fc0399bf87f56be1df8">&#9670;&nbsp;</a></span>endMask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::endMask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utilizzato solo per TAB Pro. </p>

<p>Implements <a class="el" href="class_stage_1_1_visitor.html">Stage::Visitor</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  383</span>                            {</div>
<div class="line"><span class="lineno">  384</span>  flushRasterImages();  <span class="comment">// se ci sono delle immagini raster nella maschera</span></div>
<div class="line"><span class="lineno">  385</span>                        <span class="comment">// devono uscire ora</span></div>
<div class="line"><span class="lineno">  386</span>  --m_maskLevel;</div>
<div class="line"><span class="lineno">  387</span>  TStencilControl::instance()-&gt;endMask();</div>
<div class="line"><span class="lineno">  388</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a719a06a3b74d4d919f1d9eaa8bd83172" name="a719a06a3b74d4d919f1d9eaa8bd83172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719a06a3b74d4d919f1d9eaa8bd83172">&#9670;&nbsp;</a></span>flushRasterImages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::flushRasterImages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  459</span>                                      {</div>
<div class="line"><span class="lineno">  460</span>  <span class="keywordflow">if</span> (m_nodes.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>  <span class="comment">// Build nodes bbox union</span></div>
<div class="line"><span class="lineno">  463</span>  <span class="keywordtype">double</span> delta = sqrt(fabs(m_nodes[0].m_aff.det()));</div>
<div class="line"><span class="lineno">  464</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> bbox  = m_nodes[0].m_bbox.enlarge(delta);</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>  <span class="keywordtype">int</span> i, nodesCount = m_nodes.size();</div>
<div class="line"><span class="lineno">  467</span>  <span class="keywordflow">for</span> (i = 1; i &lt; nodesCount; ++i) {</div>
<div class="line"><span class="lineno">  468</span>    delta = sqrt(fabs(m_nodes[i].m_aff.det()));</div>
<div class="line"><span class="lineno">  469</span>    bbox += m_nodes[i].m_bbox.enlarge(delta);</div>
<div class="line"><span class="lineno">  470</span>  }</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> rect(tfloor(bbox.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a>), tfloor(bbox.y0), tceil(bbox.x1), tceil(bbox.y1));</div>
<div class="line"><span class="lineno">  473</span>  rect = rect * <a class="code hl_class" href="class_t_rect_t.html">TRect</a>(0, 0, m_dim.lx - 1, m_dim.ly - 1);</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>  <span class="keywordtype">int</span> lx = rect.getLx(), ly = rect.getLy();</div>
<div class="line"><span class="lineno">  476</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> dim(lx, ly);</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>  <span class="comment">// this is needed since a stop motion live view</span></div>
<div class="line"><span class="lineno">  479</span>  <span class="comment">// doesn&#39;t register as a node correctly</span></div>
<div class="line"><span class="lineno">  480</span>  <span class="comment">// there is probably a better way to do this.</span></div>
<div class="line"><span class="lineno">  481</span>  <span class="keywordflow">if</span> (rect.getLx() == 0 &amp;&amp; lx == 0) {</div>
<div class="line"><span class="lineno">  482</span>    rect = m_clipRect;</div>
<div class="line"><span class="lineno">  483</span>    dim  = m_dim;</div>
<div class="line"><span class="lineno">  484</span>  }</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>  <span class="comment">// Build a raster buffer of sufficient size to hold said union.</span></div>
<div class="line"><span class="lineno">  487</span>  <span class="comment">// The buffer is per-thread cached in order to improve the rendering speed.</span></div>
<div class="line"><span class="lineno">  488</span>  <span class="keywordflow">if</span> (!threadBuffers.hasLocalData())</div>
<div class="line"><span class="lineno">  489</span>    threadBuffers.setLocalData(<span class="keyword">new</span> std::vector&lt;char&gt;());</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>  <span class="keywordtype">int</span> size = dim.lx * dim.ly * <span class="keyword">sizeof</span>(TPixel32);</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>  std::vector&lt;char&gt; *vbuff = (std::vector&lt;char&gt; *)threadBuffers.localData();</div>
<div class="line"><span class="lineno">  494</span>  <span class="keywordflow">if</span> (size &gt; (<span class="keywordtype">int</span>)vbuff-&gt;size()) vbuff-&gt;resize(size);</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>  <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> ras(dim.lx, dim.ly, dim.lx, (TPixel32 *)&amp;(*vbuff)[0]);</div>
<div class="line"><span class="lineno">  497</span>  <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> ras2;</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>.<a class="code hl_variable" href="class_image_painter_1_1_visual_settings.html#a84bb519ec0ab16029cba33ff0f3f794f">m_colorMask</a> != 0) {</div>
<div class="line"><span class="lineno">  500</span>    ras2 = <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a>(ras-&gt;getSize());</div>
<div class="line"><span class="lineno">  501</span>    ras-&gt;clear();</div>
<div class="line"><span class="lineno">  502</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  503</span>    ras2 = ras;</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>  <span class="comment">// Clear the buffer - it will hold all the stacked nodes content to be overed</span></div>
<div class="line"><span class="lineno">  506</span>  <span class="comment">// on top of the OpenGL buffer through a glDrawPixel()</span></div>
<div class="line"><span class="lineno">  507</span>  ras-&gt;lock();</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>  ras-&gt;clear();  <span class="comment">// ras is typically reused - and we need it transparent first</span></div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> r                 = rect - rect.getP00();</div>
<div class="line"><span class="lineno">  512</span>  <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> viewedRaster = ras-&gt;extract(r);</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>  <span class="keywordtype">int</span> current = -1;</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>  <span class="comment">// Retrieve preferences-related data</span></div>
<div class="line"><span class="lineno">  517</span>  <span class="keywordtype">int</span> tc    = m_checkFlags ? ToonzCheck::instance()-&gt;getChecks() : 0;</div>
<div class="line"><span class="lineno">  518</span>  <span class="keywordtype">int</span> index = ToonzCheck::instance()-&gt;<a class="code hl_function" href="class_toonz_check.html#a7bea28e4a4ede90c7f52a4e9e2e1c328">getColorIndex</a>();</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>  TPixel32 frontOnionColor, backOnionColor;</div>
<div class="line"><span class="lineno">  521</span>  <span class="keywordtype">bool</span> onionInksOnly;</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>  Preferences::instance()-&gt;getOnionData(frontOnionColor, backOnionColor,</div>
<div class="line"><span class="lineno">  524</span>                                        onionInksOnly);</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>  <span class="comment">// Stack every node on top of the raster buffer</span></div>
<div class="line"><span class="lineno">  527</span>  <span class="keywordflow">for</span> (i = 0; i &lt; nodesCount; ++i) {</div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">if</span> (m_nodes[i].m_isCurrentColumn) current = i;</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    <a class="code hl_class" href="class_t_affine.html">TAffine</a> aff         = <a class="code hl_class" href="class_t_translation.html">TTranslation</a>(-rect.x0, -rect.y0) * m_nodes[i].m_aff;</div>
<div class="line"><span class="lineno">  531</span>    <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> imageDim = m_nodes[i].m_raster-&gt;getSize();</div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> offset(0.5, 0.5);</div>
<div class="line"><span class="lineno">  533</span>    aff *= <a class="code hl_class" href="class_t_translation.html">TTranslation</a>(offset);  <span class="comment">// very quick and very dirty fix: in</span></div>
<div class="line"><span class="lineno">  534</span>                                  <span class="comment">// camerastand the images seems shifted of an</span></div>
<div class="line"><span class="lineno">  535</span>                                  <span class="comment">// half pixel...it&#39;s a quickput approximation?</span></div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>    TPixel32 colorscale = TPixel32(0, 0, 0, m_nodes[i].m_alpha);</div>
<div class="line"><span class="lineno">  538</span>    <span class="keywordtype">int</span> inksOnly;</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>    <span class="keywordflow">if</span> (m_nodes[i].m_onionMode != Node::eOnionSkinNone) {</div>
<div class="line"><span class="lineno">  541</span>      inksOnly = onionInksOnly;</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>      <span class="keywordflow">if</span> (m_nodes[i].m_onionMode == Node::eOnionSkinFront)</div>
<div class="line"><span class="lineno">  544</span>        colorscale = TPixel32(frontOnionColor.r, frontOnionColor.g,</div>
<div class="line"><span class="lineno">  545</span>                              frontOnionColor.b, m_nodes[i].m_alpha);</div>
<div class="line"><span class="lineno">  546</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_nodes[i].m_onionMode == Node::eOnionSkinBack)</div>
<div class="line"><span class="lineno">  547</span>        colorscale = TPixel32(backOnionColor.r, backOnionColor.g,</div>
<div class="line"><span class="lineno">  548</span>                              backOnionColor.b, m_nodes[i].m_alpha);</div>
<div class="line"><span class="lineno">  549</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  550</span>      <span class="keywordflow">if</span> (m_nodes[i].m_filterColor != TPixel32::Black) {</div>
<div class="line"><span class="lineno">  551</span>        colorscale   = m_nodes[i].m_filterColor;</div>
<div class="line"><span class="lineno">  552</span>        colorscale.m = m_nodes[i].m_alpha;</div>
<div class="line"><span class="lineno">  553</span>      }</div>
<div class="line"><span class="lineno">  554</span>      inksOnly = tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876ace675a780bd6cc41302c9b566409149b">ToonzCheck::eInksOnly</a>;</div>
<div class="line"><span class="lineno">  555</span>    }</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> src32 = m_nodes[i].m_raster)</div>
<div class="line"><span class="lineno">  558</span>      <a class="code hl_function" href="namespace_t_rop.html#a1f6b04b4725e957a0d554e198e26a117">TRop::quickPut</a>(viewedRaster, src32, aff, colorscale,</div>
<div class="line"><span class="lineno">  559</span>                     m_nodes[i].m_doPremultiply, m_nodes[i].m_whiteTransp,</div>
<div class="line"><span class="lineno">  560</span>                     m_nodes[i].m_isFirstColumn, m_doRasterDarkenBlendedView);</div>
<div class="line"><span class="lineno">  561</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_raster_p_t.html">TRasterGR8P</a> srcGr8 = m_nodes[i].m_raster)</div>
<div class="line"><span class="lineno">  562</span>      <a class="code hl_function" href="namespace_t_rop.html#a1f6b04b4725e957a0d554e198e26a117">TRop::quickPut</a>(viewedRaster, srcGr8, aff, colorscale);</div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a> srcCm = m_nodes[i].m_raster) {</div>
<div class="line"><span class="lineno">  564</span>      assert(m_nodes[i].m_palette);</div>
<div class="line"><span class="lineno">  565</span>      <span class="keywordtype">int</span> oldframe = m_nodes[i].m_palette-&gt;getFrame();</div>
<div class="line"><span class="lineno">  566</span>      m_nodes[i].m_palette-&gt;setFrame(m_nodes[i].m_frame);</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span>      <a class="code hl_class" href="class_t_smart_pointer_t.html">TPaletteP</a> plt;</div>
<div class="line"><span class="lineno">  569</span>      <span class="keywordtype">int</span> styleIndex = -1;</div>
<div class="line"><span class="lineno">  570</span>      <span class="keywordflow">if</span> ((tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7fbcfdc87f510c2d2e271d3629db24fe">ToonzCheck::eGap</a> || tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a780c15982eceeb7f1e912a5d55029cef">ToonzCheck::eAutoclose</a>) &amp;&amp;</div>
<div class="line"><span class="lineno">  571</span>          m_nodes[i].m_isCurrentColumn) {</div>
<div class="line"><span class="lineno">  572</span>        srcCm      = srcCm-&gt;<a class="code hl_function" href="class_t_palette.html#abc3ef5824d89e65687b32c530cf25325">clone</a>();</div>
<div class="line"><span class="lineno">  573</span>        plt        = m_nodes[i].m_palette-&gt;clone();</div>
<div class="line"><span class="lineno">  574</span>        styleIndex = plt-&gt;<a class="code hl_function" href="class_t_palette.html#a43a27667c3b3583b2b3e1a9f307e7b42">addStyle</a>(TPixel::Magenta);</div>
<div class="line"><span class="lineno">  575</span>        <span class="keywordflow">if</span> (tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a780c15982eceeb7f1e912a5d55029cef">ToonzCheck::eAutoclose</a>)</div>
<div class="line"><span class="lineno">  576</span>          <a class="code hl_class" href="class_t_autocloser.html">TAutocloser</a>(srcCm, AutocloseDistance, AutocloseAngle, styleIndex,</div>
<div class="line"><span class="lineno">  577</span>                      AutocloseOpacity)</div>
<div class="line"><span class="lineno">  578</span>              .exec();</div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordflow">if</span> (tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7fbcfdc87f510c2d2e271d3629db24fe">ToonzCheck::eGap</a>)</div>
<div class="line"><span class="lineno">  580</span>          <a class="code hl_class" href="class_area_filler.html">AreaFiller</a>(srcCm).<a class="code hl_function" href="class_area_filler.html#a1983efa1aa8d315119e0e62924bcf471">rectFill</a>(m_nodes[i].m_savebox, 1, <span class="keyword">true</span>, <span class="keyword">true</span>,</div>
<div class="line"><span class="lineno">  581</span>                                     <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  582</span>      } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  583</span>        plt = m_nodes[i].m_palette;</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>      <span class="keywordflow">if</span> (tc == 0 || tc == <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff">ToonzCheck::eBlackBg</a> ||</div>
<div class="line"><span class="lineno">  586</span>          !m_nodes[i].m_isCurrentColumn)</div>
<div class="line"><span class="lineno">  587</span>        <a class="code hl_function" href="namespace_t_rop.html#a1f6b04b4725e957a0d554e198e26a117">TRop::quickPut</a>(viewedRaster, srcCm, plt, aff, colorscale, inksOnly);</div>
<div class="line"><span class="lineno">  588</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  589</span>        <a class="code hl_class" href="class_t_rop_1_1_cmapped_quickput_settings.html">TRop::CmappedQuickputSettings</a> settings;</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>        settings.m_globalColorScale = colorscale;</div>
<div class="line"><span class="lineno">  592</span>        settings.m_inksOnly         = inksOnly;</div>
<div class="line"><span class="lineno">  593</span>        settings.m_transparencyCheck =</div>
<div class="line"><span class="lineno">  594</span>            tc &amp; (<a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876af72e27092872414c3774938597209285">ToonzCheck::eTransparency</a> | <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7fbcfdc87f510c2d2e271d3629db24fe">ToonzCheck::eGap</a>);</div>
<div class="line"><span class="lineno">  595</span>        settings.m_blackBgCheck = tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff">ToonzCheck::eBlackBg</a>;</div>
<div class="line"><span class="lineno">  596</span>        <span class="comment">/*-- InkCheck, Ink#1Check, PaintCheck --*/</span></div>
<div class="line"><span class="lineno">  597</span>        settings.m_inkIndex =</div>
<div class="line"><span class="lineno">  598</span>            m_nodes[i].m_isCurrentColumn</div>
<div class="line"><span class="lineno">  599</span>                ? (tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7ad1deef6a508e60252b818c61ce83e9">ToonzCheck::eInk</a> ? index</div>
<div class="line"><span class="lineno">  600</span>                                         : (tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a3137d7221943909520731bd1977219eb">ToonzCheck::eInk1</a> ? 1 : -1))</div>
<div class="line"><span class="lineno">  601</span>                : -1;</div>
<div class="line"><span class="lineno">  602</span>        settings.m_paintIndex = m_nodes[i].m_isCurrentColumn</div>
<div class="line"><span class="lineno">  603</span>                                    ? (tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a5a4df203cdba2a5eb6f7eba19f9ab62e">ToonzCheck::ePaint</a> ? index : -1)</div>
<div class="line"><span class="lineno">  604</span>                                    : -1;</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>        Preferences::instance()-&gt;getTranspCheckData(</div>
<div class="line"><span class="lineno">  607</span>            settings.m_transpCheckBg, settings.m_transpCheckInk,</div>
<div class="line"><span class="lineno">  608</span>            settings.m_transpCheckPaint);</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>        settings.m_isOnionSkin = m_nodes[i].m_onionMode != Node::eOnionSkinNone;</div>
<div class="line"><span class="lineno">  611</span>        settings.m_gapCheckIndex = styleIndex;</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>        <a class="code hl_function" href="namespace_t_rop.html#a1f6b04b4725e957a0d554e198e26a117">TRop::quickPut</a>(viewedRaster, srcCm, plt, aff, settings);</div>
<div class="line"><span class="lineno">  614</span>      }</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>      srcCm = <a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a>();</div>
<div class="line"><span class="lineno">  617</span>      plt   = <a class="code hl_class" href="class_t_smart_pointer_t.html">TPaletteP</a>();</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>      m_nodes[i].m_palette-&gt;setFrame(oldframe);</div>
<div class="line"><span class="lineno">  620</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  621</span>      assert(!<span class="stringliteral">&quot;Cannot use quickput with this raster combination!&quot;</span>);</div>
<div class="line"><span class="lineno">  622</span>  }</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>.<a class="code hl_variable" href="class_image_painter_1_1_visual_settings.html#a84bb519ec0ab16029cba33ff0f3f794f">m_colorMask</a> != 0) {</div>
<div class="line"><span class="lineno">  625</span>    TRop::setChannel(ras, ras, <a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>.<a class="code hl_variable" href="class_image_painter_1_1_visual_settings.html#a84bb519ec0ab16029cba33ff0f3f794f">m_colorMask</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  626</span>    <a class="code hl_function" href="namespace_t_rop.html#a1f6b04b4725e957a0d554e198e26a117">TRop::quickPut</a>(ras2, ras, <a class="code hl_class" href="class_t_affine.html">TAffine</a>());</div>
<div class="line"><span class="lineno">  627</span>  }</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>  <span class="comment">// Now, output the raster buffer on top of the OpenGL buffer</span></div>
<div class="line"><span class="lineno">  630</span>  glPushAttrib(GL_COLOR_BUFFER_BIT);  <span class="comment">// Preserve blending and stuff</span></div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>  glEnable(GL_BLEND);</div>
<div class="line"><span class="lineno">  633</span>  glBlendFunc(GL_ONE,</div>
<div class="line"><span class="lineno">  634</span>              GL_ONE_MINUS_SRC_ALPHA);  <span class="comment">// The raster buffer is intended in</span></div>
<div class="line"><span class="lineno">  635</span>  <span class="comment">// premultiplied form - thus the GL_ONE on src</span></div>
<div class="line"><span class="lineno">  636</span>  glDisable(GL_DEPTH_TEST);</div>
<div class="line"><span class="lineno">  637</span>  glDisable(GL_DITHER);</div>
<div class="line"><span class="lineno">  638</span>  glDisable(GL_LOGIC_OP);</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span><span class="comment">/* disable, since these features are never enabled, and cause OpenGL to assert</span></div>
<div class="line"><span class="lineno">  641</span><span class="comment"> * on systems that don&#39;t support them: see #591 */</span></div>
<div class="line"><span class="lineno">  642</span><span class="preprocessor">#if 0</span></div>
<div class="line"><span class="lineno">  643</span><span class="preprocessor">#ifdef GL_EXT_convolution</span></div>
<div class="line"><span class="lineno">  644</span>  <span class="keywordflow">if</span>( GLEW_EXT_convolution ) {</div>
<div class="line"><span class="lineno">  645</span>    glDisable(GL_CONVOLUTION_1D_EXT);</div>
<div class="line"><span class="lineno">  646</span>    glDisable(GL_CONVOLUTION_2D_EXT);</div>
<div class="line"><span class="lineno">  647</span>    glDisable(GL_SEPARABLE_2D_EXT);</div>
<div class="line"><span class="lineno">  648</span>  }</div>
<div class="line"><span class="lineno">  649</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span><span class="preprocessor">#ifdef GL_EXT_histogram</span></div>
<div class="line"><span class="lineno">  652</span>  <span class="keywordflow">if</span>( GLEW_EXT_histogram ) {</div>
<div class="line"><span class="lineno">  653</span>    glDisable(GL_HISTOGRAM_EXT);</div>
<div class="line"><span class="lineno">  654</span>    glDisable(GL_MINMAX_EXT);</div>
<div class="line"><span class="lineno">  655</span>  }</div>
<div class="line"><span class="lineno">  656</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  657</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span><span class="preprocessor">#ifdef GL_EXT_texture3D</span></div>
<div class="line"><span class="lineno">  660</span>  <span class="keywordflow">if</span> (GL_EXT_texture3D) {</div>
<div class="line"><span class="lineno">  661</span>    glDisable(GL_TEXTURE_3D_EXT);</div>
<div class="line"><span class="lineno">  662</span>  }</div>
<div class="line"><span class="lineno">  663</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>  glPushMatrix();</div>
<div class="line"><span class="lineno">  666</span>  glLoadIdentity();</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>  glRasterPos2d(rect.x0, rect.y0);</div>
<div class="line"><span class="lineno">  669</span>  glPixelStorei(GL_UNPACK_ROW_LENGTH, 0);</div>
<div class="line"><span class="lineno">  670</span>  glPixelStorei(GL_UNPACK_ALIGNMENT, 1);</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>  glDrawPixels(ras2-&gt;getLx(), ras2-&gt;getLy(),            <span class="comment">// Perform the over</span></div>
<div class="line"><span class="lineno">  673</span>               TGL_FMT, TGL_TYPE, ras2-&gt;getRawData());  <span class="comment">//</span></div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>  ras-&gt;unlock();</div>
<div class="line"><span class="lineno">  676</span>  glPopMatrix();</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>  glPopAttrib();  <span class="comment">// Restore blending status</span></div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>.<a class="code hl_variable" href="class_image_painter_1_1_visual_settings.html#a354c3bf432a933b627c3f3c5ea0ab9bf">m_showBBox</a> &amp;&amp; current &gt; -1) {</div>
<div class="line"><span class="lineno">  681</span>    glPushMatrix();</div>
<div class="line"><span class="lineno">  682</span>    glLoadIdentity();</div>
<div class="line"><span class="lineno">  683</span>    tglColor(TPixel(200, 200, 200));</div>
<div class="line"><span class="lineno">  684</span>    tglMultMatrix(m_nodes[current].m_aff);</div>
<div class="line"><span class="lineno">  685</span>    tglDrawRect(m_nodes[current].m_raster-&gt;getBounds());</div>
<div class="line"><span class="lineno">  686</span>    glPopMatrix();</div>
<div class="line"><span class="lineno">  687</span>  }</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>  m_nodes.clear();</div>
<div class="line"><span class="lineno">  690</span>}</div>
<div class="ttc" id="aclass_area_filler_html"><div class="ttname"><a href="class_area_filler.html">AreaFiller</a></div><div class="ttdef"><b>Definition:</b> fill.h:95</div></div>
<div class="ttc" id="aclass_area_filler_html_a1983efa1aa8d315119e0e62924bcf471"><div class="ttname"><a href="class_area_filler.html#a1983efa1aa8d315119e0e62924bcf471">AreaFiller::rectFill</a></div><div class="ttdeci">bool rectFill(const TRect &amp;rect, int color, bool onlyUnfilled, bool fillPaints, bool fillInks)</div><div class="ttdef"><b>Definition:</b> fillutil.cpp:161</div></div>
<div class="ttc" id="aclass_image_painter_1_1_visual_settings_html_a354c3bf432a933b627c3f3c5ea0ab9bf"><div class="ttname"><a href="class_image_painter_1_1_visual_settings.html#a354c3bf432a933b627c3f3c5ea0ab9bf">ImagePainter::VisualSettings::m_showBBox</a></div><div class="ttdeci">bool m_showBBox</div><div class="ttdoc">Show the bounding box of current level.</div><div class="ttdef"><b>Definition:</b> imagepainter.h:48</div></div>
<div class="ttc" id="aclass_image_painter_1_1_visual_settings_html_a84bb519ec0ab16029cba33ff0f3f794f"><div class="ttname"><a href="class_image_painter_1_1_visual_settings.html#a84bb519ec0ab16029cba33ff0f3f794f">ImagePainter::VisualSettings::m_colorMask</a></div><div class="ttdeci">int m_colorMask</div><div class="ttdoc">Note: 0 means rChan | gChan | bChan (draw all channels).</div><div class="ttdef"><b>Definition:</b> imagepainter.h:43</div></div>
<div class="ttc" id="aclass_stage_1_1_visitor_html_a4e0d4d1127a689eee8ae947ef5447f1a"><div class="ttname"><a href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">Stage::Visitor::m_vs</a></div><div class="ttdeci">const ImagePainter::VisualSettings &amp; m_vs</div><div class="ttdoc">Generic painting visual options.</div><div class="ttdef"><b>Definition:</b> stagevisitor.h:93</div></div>
<div class="ttc" id="aclass_t_autocloser_html"><div class="ttname"><a href="class_t_autocloser.html">TAutocloser</a></div><div class="ttdef"><b>Definition:</b> tautoclose.h:19</div></div>
<div class="ttc" id="aclass_t_dimension_t_html"><div class="ttname"><a href="class_t_dimension_t.html">TDimensionT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_palette_html_a43a27667c3b3583b2b3e1a9f307e7b42"><div class="ttname"><a href="class_t_palette.html#a43a27667c3b3583b2b3e1a9f307e7b42">TPalette::addStyle</a></div><div class="ttdeci">int addStyle(TColorStyle *style)</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:314</div></div>
<div class="ttc" id="aclass_t_palette_html_abc3ef5824d89e65687b32c530cf25325"><div class="ttname"><a href="class_t_palette.html#abc3ef5824d89e65687b32c530cf25325">TPalette::clone</a></div><div class="ttdeci">TPalette * clone() const</div><div class="ttdoc">Allocates a new copy of this palette instance.</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:275</div></div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_raster_p_t_html"><div class="ttname"><a href="class_t_raster_p_t.html">TRasterPT&lt; TPixel32 &gt;</a></div></div>
<div class="ttc" id="aclass_t_rop_1_1_cmapped_quickput_settings_html"><div class="ttname"><a href="class_t_rop_1_1_cmapped_quickput_settings.html">TRop::CmappedQuickputSettings</a></div><div class="ttdef"><b>Definition:</b> trop.h:177</div></div>
<div class="ttc" id="aclass_toonz_check_html_a7bea28e4a4ede90c7f52a4e9e2e1c328"><div class="ttname"><a href="class_toonz_check.html#a7bea28e4a4ede90c7f52a4e9e2e1c328">ToonzCheck::getColorIndex</a></div><div class="ttdeci">int getColorIndex() const</div><div class="ttdef"><b>Definition:</b> stage2.h:67</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876a3137d7221943909520731bd1977219eb"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a3137d7221943909520731bd1977219eb">ToonzCheck::eInk1</a></div><div class="ttdeci">@ eInk1</div><div class="ttdoc">Ink#1 check (show style#1 on inks).</div><div class="ttdef"><b>Definition:</b> stage2.h:50</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876a5a4df203cdba2a5eb6f7eba19f9ab62e"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a5a4df203cdba2a5eb6f7eba19f9ab62e">ToonzCheck::ePaint</a></div><div class="ttdeci">@ ePaint</div><div class="ttdoc">Paint check (show current color on paints).</div><div class="ttdef"><b>Definition:</b> stage2.h:46</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876a780c15982eceeb7f1e912a5d55029cef"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a780c15982eceeb7f1e912a5d55029cef">ToonzCheck::eAutoclose</a></div><div class="ttdeci">@ eAutoclose</div><div class="ttdoc">Autoclose check.</div><div class="ttdef"><b>Definition:</b> stage2.h:48</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876a7ad1deef6a508e60252b818c61ce83e9"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7ad1deef6a508e60252b818c61ce83e9">ToonzCheck::eInk</a></div><div class="ttdeci">@ eInk</div><div class="ttdoc">Ink check (show current color on inks).</div><div class="ttdef"><b>Definition:</b> stage2.h:45</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876a7fbcfdc87f510c2d2e271d3629db24fe"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7fbcfdc87f510c2d2e271d3629db24fe">ToonzCheck::eGap</a></div><div class="ttdeci">@ eGap</div><div class="ttdoc">Gaps check.</div><div class="ttdef"><b>Definition:</b> stage2.h:47</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff">ToonzCheck::eBlackBg</a></div><div class="ttdeci">@ eBlackBg</div><div class="ttdoc">Black background check.</div><div class="ttdef"><b>Definition:</b> stage2.h:44</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876ace675a780bd6cc41302c9b566409149b"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876ace675a780bd6cc41302c9b566409149b">ToonzCheck::eInksOnly</a></div><div class="ttdeci">@ eInksOnly</div><div class="ttdoc">Inks only (transparent paints).</div><div class="ttdef"><b>Definition:</b> stage2.h:49</div></div>
<div class="ttc" id="aclass_toonz_check_html_add5b28b42f552cf90e3cfcde9e737876af72e27092872414c3774938597209285"><div class="ttname"><a href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876af72e27092872414c3774938597209285">ToonzCheck::eTransparency</a></div><div class="ttdeci">@ eTransparency</div><div class="ttdoc">Transparency check.</div><div class="ttdef"><b>Definition:</b> stage2.h:43</div></div>
<div class="ttc" id="anamespace_t_rop_html_a1f6b04b4725e957a0d554e198e26a117"><div class="ttname"><a href="namespace_t_rop.html#a1f6b04b4725e957a0d554e198e26a117">TRop::quickPut</a></div><div class="ttdeci">DVAPI void quickPut(const TRasterP &amp;out, const TRasterP &amp;up, const TAffine &amp;aff, const TPixel32 &amp;colorScale=TPixel::Black, bool doPremultiply=false, bool whiteTransp=false, bool firstColumn=false, bool doRasterDarkenBlendedView=false)</div><div class="ttdoc">Like the over function, but only uses closest_pixel filter.</div><div class="ttdef"><b>Definition:</b> tover.cpp:465</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a326abf630b9fe74166fc9586ed87091a" name="a326abf630b9fe74166fc9586ed87091a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a326abf630b9fe74166fc9586ed87091a">&#9670;&nbsp;</a></span>getGuidedStrokes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_t_stroke.html">TStroke</a> * &gt; &amp; Stage::RasterPainter::getGuidedStrokes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  297</span>{ <span class="keywordflow">return</span> m_guidedStrokes; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b086d6f875e7caffdbd9e5d34321977" name="a8b086d6f875e7caffdbd9e5d34321977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b086d6f875e7caffdbd9e5d34321977">&#9670;&nbsp;</a></span>getNodesCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RasterPainter::getNodesCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  411</span>{ <span class="keywordflow">return</span> m_nodes.size(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ade762a1f18f6cba0cbb9fcb7b9000d8c" name="ade762a1f18f6cba0cbb9fcb7b9000d8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade762a1f18f6cba0cbb9fcb7b9000d8c">&#9670;&nbsp;</a></span>getRaster()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_smart_pointer_t.html">TRasterP</a> RasterPainter::getRaster </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QMatrix &amp;&#160;</td>
          <td class="paramname"><em>matrix</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  419</span>                                                            {</div>
<div class="line"><span class="lineno">  420</span>  <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)m_nodes.size() &lt;= index) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>();</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>  <span class="keywordflow">if</span> (m_nodes[index].m_onionMode != Node::eOnionSkinNone) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>();</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>  <span class="keywordflow">if</span> (m_nodes.empty()) <span class="keywordflow">return</span> <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>();</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>  <span class="keywordtype">double</span> delta = sqrt(fabs(m_nodes[0].m_aff.det()));</div>
<div class="line"><span class="lineno">  427</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> bbox  = m_nodes[0].m_bbox.enlarge(delta);</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  430</span>  <span class="keywordflow">for</span> (i = 1; i &lt; (int)m_nodes.size(); i++) {</div>
<div class="line"><span class="lineno">  431</span>    delta = sqrt(fabs(m_nodes[i].m_aff.det()));</div>
<div class="line"><span class="lineno">  432</span>    bbox += m_nodes[i].m_bbox.enlarge(delta);</div>
<div class="line"><span class="lineno">  433</span>  }</div>
<div class="line"><span class="lineno">  434</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> rect(tfloor(bbox.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a>), tfloor(bbox.y0), tceil(bbox.x1), tceil(bbox.y1));</div>
<div class="line"><span class="lineno">  435</span>  rect = rect * <a class="code hl_class" href="class_t_rect_t.html">TRect</a>(0, 0, m_dim.lx - 1, m_dim.ly - 1);</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> aff = <a class="code hl_class" href="class_t_translation.html">TTranslation</a>(-rect.x0, -rect.y0) * m_nodes[index].m_aff;</div>
<div class="line"><span class="lineno">  438</span>  matrix      = QMatrix(aff.a11, aff.a21, aff.a12, aff.a22, aff.a13, aff.a23);</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>  <span class="keywordflow">return</span> m_nodes[index].m_raster;</div>
<div class="line"><span class="lineno">  441</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a831901a1cf12a33df7934952f07d993a" name="a831901a1cf12a33df7934952f07d993a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831901a1cf12a33df7934952f07d993a">&#9670;&nbsp;</a></span>isSingleColumnEnabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Stage::RasterPainter::isSingleColumnEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  293</span>{ <span class="keywordflow">return</span> m_singleColumnEnabled; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5fba2ff04bd6cf383e9cc9283d07a78e" name="a5fba2ff04bd6cf383e9cc9283d07a78e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fba2ff04bd6cf383e9cc9283d07a78e">&#9670;&nbsp;</a></span>onImage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::onImage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_stage_1_1_player.html">Stage::Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Take image from <b><a class="el" href="class_stage_1_1_player.html">Stage::Player</a></b> <b>data</b> and recall the right method for this kind of image, for vector image recall <b><a class="el" href="class_stage_1_1_raster_painter.html#af0e6e5a351f5dd2ec900fbfe5affa963">onVectorImage()</a></b>, for raster image recall <b><a class="el" href="class_stage_1_1_raster_painter.html#a1c777e769eb55ad5b7ce562ff7d4edff">onRasterImage()</a></b> for toonz image recall <b><a class="el" href="class_stage_1_1_raster_painter.html#a1a126ab3e4e2161d727a82cab736098f">onToonzImage()</a></b>. </p>

<p>Implements <a class="el" href="class_stage_1_1_visitor.html#a4f6fa9bc6e68aaf2d1a2f5a69a0f8c53">Stage::Visitor</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  783</span>                                                     {</div>
<div class="line"><span class="lineno">  784</span>  <span class="keywordflow">if</span> (m_singleColumnEnabled &amp;&amp; !player.<a class="code hl_variable" href="class_stage_1_1_player.html#aba32c099fd49a4343580c28ade32e144">m_isCurrentColumn</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>  <span class="comment">// Attempt Plastic-deformed drawing</span></div>
<div class="line"><span class="lineno">  787</span>  <span class="comment">// For now generating icons of plastic-deformed image causes crash as</span></div>
<div class="line"><span class="lineno">  788</span>  <span class="comment">// QOffscreenSurface is created outside the gui thread.</span></div>
<div class="line"><span class="lineno">  789</span>  <span class="comment">// As a quick workaround, ignore the deformation if this is called from</span></div>
<div class="line"><span class="lineno">  790</span>  <span class="comment">// non-gui thread (i.e. icon generator thread)</span></div>
<div class="line"><span class="lineno">  791</span>  <span class="comment">// 12/1/2018 Now the scene icon is rendered without deformation either</span></div>
<div class="line"><span class="lineno">  792</span>  <span class="comment">// since it causes unknown error with opengl contexts..</span></div>
<div class="line"><span class="lineno">  793</span>  <a class="code hl_class" href="class_t_stage_object.html">TStageObject</a> *obj =</div>
<div class="line"><span class="lineno">  794</span>      ::plasticDeformedObj(player, <a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>.<a class="code hl_variable" href="class_image_painter_1_1_visual_settings.html#aafe14ec520424843ecd9aca4abf02bf0">m_plasticVisualSettings</a>);</div>
<div class="line"><span class="lineno">  795</span>  <span class="keywordflow">if</span> (obj &amp;&amp; QThread::currentThread() == qGuiApp-&gt;thread() &amp;&amp;</div>
<div class="line"><span class="lineno">  796</span>      !<a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>.m_forSceneIcon) {</div>
<div class="line"><span class="lineno">  797</span>    flushRasterImages();</div>
<div class="line"><span class="lineno">  798</span>    ::onPlasticDeformedImage(obj, player, <a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>, m_viewAff);</div>
<div class="line"><span class="lineno">  799</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  800</span>    <span class="comment">// Common image draw</span></div>
<div class="line"><span class="lineno">  801</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> &amp;img = player.<a class="code hl_function" href="class_stage_1_1_player.html#ae4853278eaaf00c28dd939dbb0de3647">image</a>();</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>    <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_vector_image_p.html">TVectorImageP</a> vi = img)</div>
<div class="line"><span class="lineno">  804</span>      <a class="code hl_function" href="class_stage_1_1_raster_painter.html#af0e6e5a351f5dd2ec900fbfe5affa963">onVectorImage</a>(vi.getPointer(), player);</div>
<div class="line"><span class="lineno">  805</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> ri = img)</div>
<div class="line"><span class="lineno">  806</span>      <a class="code hl_function" href="class_stage_1_1_raster_painter.html#a1c777e769eb55ad5b7ce562ff7d4edff">onRasterImage</a>(ri.getPointer(), player);</div>
<div class="line"><span class="lineno">  807</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_toonz_image_p.html">TToonzImageP</a> ti = img)</div>
<div class="line"><span class="lineno">  808</span>      <a class="code hl_function" href="class_stage_1_1_raster_painter.html#a1a126ab3e4e2161d727a82cab736098f">onToonzImage</a>(ti.getPointer(), player);</div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_class" href="class_t_mesh_image_p.html">TMeshImageP</a> mi = img) {</div>
<div class="line"><span class="lineno">  810</span>      flushRasterImages();</div>
<div class="line"><span class="lineno">  811</span>      ::onMeshImage(mi.getPointer(), player, <a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>, m_viewAff);</div>
<div class="line"><span class="lineno">  812</span>    }</div>
<div class="line"><span class="lineno">  813</span>  }</div>
<div class="line"><span class="lineno">  814</span>}</div>
<div class="ttc" id="aclass_image_painter_1_1_visual_settings_html_aafe14ec520424843ecd9aca4abf02bf0"><div class="ttname"><a href="class_image_painter_1_1_visual_settings.html#aafe14ec520424843ecd9aca4abf02bf0">ImagePainter::VisualSettings::m_plasticVisualSettings</a></div><div class="ttdeci">PlasticVisualSettings m_plasticVisualSettings</div><div class="ttdef"><b>Definition:</b> imagepainter.h:53</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_aba32c099fd49a4343580c28ade32e144"><div class="ttname"><a href="class_stage_1_1_player.html#aba32c099fd49a4343580c28ade32e144">Stage::Player::m_isCurrentColumn</a></div><div class="ttdeci">bool m_isCurrentColumn</div><div class="ttdef"><b>Definition:</b> stageplayer.h:82</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_ae4853278eaaf00c28dd939dbb0de3647"><div class="ttname"><a href="class_stage_1_1_player.html#ae4853278eaaf00c28dd939dbb0de3647">Stage::Player::image</a></div><div class="ttdeci">TImageP image() const</div><div class="ttdoc">Returns the image associated to m_sl at m_fid.</div><div class="ttdef"><b>Definition:</b> stageplayer.cpp:51</div></div>
<div class="ttc" id="aclass_stage_1_1_raster_painter_html_a1a126ab3e4e2161d727a82cab736098f"><div class="ttname"><a href="class_stage_1_1_raster_painter.html#a1a126ab3e4e2161d727a82cab736098f">Stage::RasterPainter::onToonzImage</a></div><div class="ttdeci">void onToonzImage(TToonzImage *ri, const Stage::Player &amp;data)</div><div class="ttdef"><b>Definition:</b> stagevisitor.cpp:1059</div></div>
<div class="ttc" id="aclass_stage_1_1_raster_painter_html_a1c777e769eb55ad5b7ce562ff7d4edff"><div class="ttname"><a href="class_stage_1_1_raster_painter.html#a1c777e769eb55ad5b7ce562ff7d4edff">Stage::RasterPainter::onRasterImage</a></div><div class="ttdeci">void onRasterImage(TRasterImage *ri, const Stage::Player &amp;data) override</div><div class="ttdef"><b>Definition:</b> stagevisitor.cpp:993</div></div>
<div class="ttc" id="aclass_stage_1_1_raster_painter_html_af0e6e5a351f5dd2ec900fbfe5affa963"><div class="ttname"><a href="class_stage_1_1_raster_painter.html#af0e6e5a351f5dd2ec900fbfe5affa963">Stage::RasterPainter::onVectorImage</a></div><div class="ttdeci">void onVectorImage(TVectorImage *vi, const Stage::Player &amp;data)</div><div class="ttdef"><b>Definition:</b> stagevisitor.cpp:821</div></div>
<div class="ttc" id="aclass_t_mesh_image_p_html"><div class="ttname"><a href="class_t_mesh_image_p.html">TMeshImageP</a></div><div class="ttdef"><b>Definition:</b> tmeshimage.h:209</div></div>
<div class="ttc" id="aclass_t_raster_image_p_html"><div class="ttname"><a href="class_t_raster_image_p.html">TRasterImageP</a></div><div class="ttdef"><b>Definition:</b> trasterimage.h:148</div></div>
<div class="ttc" id="aclass_t_stage_object_html"><div class="ttname"><a href="class_t_stage_object.html">TStageObject</a></div><div class="ttdef"><b>Definition:</b> tstageobject.h:95</div></div>
<div class="ttc" id="aclass_t_toonz_image_p_html"><div class="ttname"><a href="class_t_toonz_image_p.html">TToonzImageP</a></div><div class="ttdef"><b>Definition:</b> ttoonzimage.h:126</div></div>
<div class="ttc" id="aclass_t_vector_image_p_html"><div class="ttname"><a href="class_t_vector_image_p.html">TVectorImageP</a></div><div class="ttdef"><b>Definition:</b> tvectorimage.h:417</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00051">Stage::Player::image()</a>, <a class="el" href="#l00082">Stage::Player::m_isCurrentColumn</a>, <a class="el" href="#l00053">ImagePainter::VisualSettings::m_plasticVisualSettings</a>, <a class="el" href="#l00093">Stage::Visitor::m_vs</a>, <a class="el" href="#l00993">onRasterImage()</a>, <a class="el" href="#l01059">onToonzImage()</a>, and <a class="el" href="#l00821">onVectorImage()</a>.</p>

</div>
</div>
<a id="a1c777e769eb55ad5b7ce562ff7d4edff" name="a1c777e769eb55ad5b7ce562ff7d4edff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c777e769eb55ad5b7ce562ff7d4edff">&#9670;&nbsp;</a></span>onRasterImage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::onRasterImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_raster_image.html">TRasterImage</a> *&#160;</td>
          <td class="paramname"><em>ri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_stage_1_1_player.html">Stage::Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Create a <b><a class="el" href="class_node.html">Node</a></b> and put it in <b>m_nodes</b>. </p>

<p>Implements <a class="el" href="class_stage_1_1_visitor.html">Stage::Visitor</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  994</span>                                                             {</div>
<div class="line"><span class="lineno">  995</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> r = ri-&gt;<a class="code hl_function" href="class_t_raster_image.html#a1ebe3badeaf79a61ef63c89aacf03980">getRaster</a>();</div>
<div class="line"><span class="lineno">  996</span> </div>
<div class="line"><span class="lineno">  997</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> aff;</div>
<div class="line"><span class="lineno">  998</span>  aff = m_viewAff * player.<a class="code hl_variable" href="class_stage_1_1_player.html#a99c9004772f5575fb627dcfb29137459">m_placement</a> * player.<a class="code hl_variable" href="class_stage_1_1_player.html#a0495491ce47344daba1cd55e1b64905a">m_dpiAff</a>;</div>
<div class="line"><span class="lineno">  999</span>  aff = <a class="code hl_class" href="class_t_translation.html">TTranslation</a>(m_dim.lx * 0.5, m_dim.ly * 0.5) * aff *</div>
<div class="line"><span class="lineno"> 1000</span>        <a class="code hl_class" href="class_t_translation.html">TTranslation</a>(-r-&gt;getCenterD() +</div>
<div class="line"><span class="lineno"> 1001</span>                     convert(ri-&gt;<a class="code hl_function" href="class_t_raster_image.html#ae604776f6c4c9be2bd76d3ffb0543025">getOffset</a>()));  <span class="comment">// this offset is !=0 only if</span></div>
<div class="line"><span class="lineno"> 1002</span>                                                 <span class="comment">// in cleanup camera test mode</span></div>
<div class="line"><span class="lineno"> 1003</span> </div>
<div class="line"><span class="lineno"> 1004</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> bbox = <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(0, 0, m_dim.lx, m_dim.ly);</div>
<div class="line"><span class="lineno"> 1005</span>  bbox *= convert(m_clipRect);</div>
<div class="line"><span class="lineno"> 1006</span>  <span class="keywordflow">if</span> (bbox.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>  <span class="keywordtype">int</span> alpha                 = 255;</div>
<div class="line"><span class="lineno"> 1009</span>  Node::OnionMode onionMode = Node::eOnionSkinNone;</div>
<div class="line"><span class="lineno"> 1010</span>  <span class="keywordflow">if</span> (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> != c_noOnionSkin) {</div>
<div class="line"><span class="lineno"> 1011</span>    <span class="comment">// GetOnionSkinFade va bene per il vettoriale mentre il raster funziona al</span></div>
<div class="line"><span class="lineno"> 1012</span>    <span class="comment">// contrario</span></div>
<div class="line"><span class="lineno"> 1013</span>    <span class="comment">// 1 opaco -&gt; 0 completamente trasparente</span></div>
<div class="line"><span class="lineno"> 1014</span>    <span class="comment">// inverto quindi il risultato della funzione stando attento al caso 0</span></div>
<div class="line"><span class="lineno"> 1015</span>    <span class="comment">// (in cui era scolpito il valore 0.9)</span></div>
<div class="line"><span class="lineno"> 1016</span>    <span class="keywordtype">double</span> onionSkiFade = player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == 0</div>
<div class="line"><span class="lineno"> 1017</span>                              ? 0.9</div>
<div class="line"><span class="lineno"> 1018</span>                              : (1.0 - <a class="code hl_function" href="class_onion_skin_mask.html#a6a4c72b75d213e6a3fca82092a520824">OnionSkinMask::getOnionSkinFade</a>(</div>
<div class="line"><span class="lineno"> 1019</span>                                           player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a>));</div>
<div class="line"><span class="lineno"> 1020</span>    alpha = tcrop(tround(onionSkiFade * 255.0), 0, 255);</div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">if</span> (player.m_isShiftAndTraceEnabled &amp;&amp;</div>
<div class="line"><span class="lineno"> 1022</span>        !Preferences::instance()-&gt;areOnionColorsUsedForShiftAndTraceGhosts())</div>
<div class="line"><span class="lineno"> 1023</span>      onionMode = Node::eOnionSkinNone;</div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1025</span>      onionMode =</div>
<div class="line"><span class="lineno"> 1026</span>          (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 1027</span>              ? Node::eOnionSkinFront</div>
<div class="line"><span class="lineno"> 1028</span>              : ((player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> &lt; 0) ? Node::eOnionSkinBack</div>
<div class="line"><span class="lineno"> 1029</span>                                                  : Node::eOnionSkinNone);</div>
<div class="line"><span class="lineno"> 1030</span>    }</div>
<div class="line"><span class="lineno"> 1031</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player.<a class="code hl_variable" href="class_stage_1_1_player.html#a2b05fa8fdc95ac04a532fc2d227a3a81">m_opacity</a> &lt; 255)</div>
<div class="line"><span class="lineno"> 1032</span>    alpha = player.<a class="code hl_variable" href="class_stage_1_1_player.html#a2b05fa8fdc95ac04a532fc2d227a3a81">m_opacity</a>;</div>
<div class="line"><span class="lineno"> 1033</span>  <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = player.<a class="code hl_variable" href="class_stage_1_1_player.html#a6230d77933caf93b9699bd5e2de0d2b0">m_sl</a>;</div>
<div class="line"><span class="lineno"> 1034</span>  <span class="keywordtype">bool</span> doPremultiply  = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1035</span>  <span class="keywordtype">bool</span> <a class="code hl_function" href="namespace_t_rop.html#a35fb11523175f84027df48cc51d45d28">whiteTransp</a>    = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1036</span>  <span class="keywordflow">if</span> (sl) {</div>
<div class="line"><span class="lineno"> 1037</span>    <a class="code hl_class" href="class_level_properties.html">LevelProperties</a> *levelProp = sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>();</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="keywordflow">if</span> (levelProp-&gt;<a class="code hl_function" href="class_level_properties.html#a5a253da40e456de66dca76526f2e9453">doPremultiply</a>())</div>
<div class="line"><span class="lineno"> 1039</span>      doPremultiply = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1040</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (levelProp-&gt;whiteTransp())</div>
<div class="line"><span class="lineno"> 1041</span>      whiteTransp = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1042</span>  }</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>  <span class="keywordtype">bool</span> ignoreAlpha =</div>
<div class="line"><span class="lineno"> 1045</span>      (Preferences::instance()-&gt;isIgnoreAlphaonColumn1Enabled() &amp;&amp;</div>
<div class="line"><span class="lineno"> 1046</span>       player.<a class="code hl_variable" href="class_stage_1_1_player.html#ac79a243d283085682ddcdb75f8a6e185">m_column</a> == 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1047</span>       isSubsheetChainOnColumn0(sl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">getScene</a>()-&gt;<a class="code hl_function" href="class_toonz_scene.html#aaffd562eebbd8faba4caeaed69bfcc18">getTopXsheet</a>(), player.<a class="code hl_variable" href="class_stage_1_1_player.html#a7c4c0ed3570aba38a036023360724606">m_xsh</a>,</div>
<div class="line"><span class="lineno"> 1048</span>                                player.<a class="code hl_variable" href="class_stage_1_1_player.html#af88189b51ebf5b86f87f77281aba0ce1">m_frame</a>));</div>
<div class="line"><span class="lineno"> 1049</span> </div>
<div class="line"><span class="lineno"> 1050</span>  m_nodes.push_back(<a class="code hl_class" href="class_node.html">Node</a>(r, 0, alpha, aff, ri-&gt;<a class="code hl_function" href="class_t_raster_image.html#a82ed0d4ee941a6366c5a66e61b3008c5">getSavebox</a>(), bbox,</div>
<div class="line"><span class="lineno"> 1051</span>                         player.<a class="code hl_variable" href="class_stage_1_1_player.html#af88189b51ebf5b86f87f77281aba0ce1">m_frame</a>, player.<a class="code hl_variable" href="class_stage_1_1_player.html#aba32c099fd49a4343580c28ade32e144">m_isCurrentColumn</a>, onionMode,</div>
<div class="line"><span class="lineno"> 1052</span>                         doPremultiply, whiteTransp, ignoreAlpha,</div>
<div class="line"><span class="lineno"> 1053</span>                         player.m_filterColor));</div>
<div class="line"><span class="lineno"> 1054</span>}</div>
<div class="ttc" id="aclass_level_properties_html"><div class="ttname"><a href="class_level_properties.html">LevelProperties</a></div><div class="ttdoc">Stores the possible properties of a Toonz level.</div><div class="ttdef"><b>Definition:</b> levelproperties.h:75</div></div>
<div class="ttc" id="aclass_level_properties_html_a5a253da40e456de66dca76526f2e9453"><div class="ttname"><a href="class_level_properties.html#a5a253da40e456de66dca76526f2e9453">LevelProperties::doPremultiply</a></div><div class="ttdeci">bool doPremultiply() const</div><div class="ttdoc">Returns whether premultiplication must be applied.</div><div class="ttdef"><b>Definition:</b> levelproperties.h:189</div></div>
<div class="ttc" id="aclass_node_html"><div class="ttname"><a href="class_node.html">Node</a></div><div class="ttdef"><b>Definition:</b> tcenterlinevectorizerOld.cpp:107</div></div>
<div class="ttc" id="aclass_onion_skin_mask_html_a6a4c72b75d213e6a3fca82092a520824"><div class="ttname"><a href="class_onion_skin_mask.html#a6a4c72b75d213e6a3fca82092a520824">OnionSkinMask::getOnionSkinFade</a></div><div class="ttdeci">static double getOnionSkinFade(int distance)</div><div class="ttdef"><b>Definition:</b> onionskinmask.cpp:158</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_a0495491ce47344daba1cd55e1b64905a"><div class="ttname"><a href="class_stage_1_1_player.html#a0495491ce47344daba1cd55e1b64905a">Stage::Player::m_dpiAff</a></div><div class="ttdeci">TAffine m_dpiAff</div><div class="ttdoc">The affine corresponding to m_image's dpi.</div><div class="ttdef"><b>Definition:</b> stageplayer.h:72</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_a2b05fa8fdc95ac04a532fc2d227a3a81"><div class="ttname"><a href="class_stage_1_1_player.html#a2b05fa8fdc95ac04a532fc2d227a3a81">Stage::Player::m_opacity</a></div><div class="ttdeci">UCHAR m_opacity</div><div class="ttdoc">Opacity the image should be rendered with.</div><div class="ttdef"><b>Definition:</b> stageplayer.h:104</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_a6230d77933caf93b9699bd5e2de0d2b0"><div class="ttname"><a href="class_stage_1_1_player.html#a6230d77933caf93b9699bd5e2de0d2b0">Stage::Player::m_sl</a></div><div class="ttdeci">TXshSimpleLevel * m_sl</div><div class="ttdoc">(not owned) The player's simple level</div><div class="ttdef"><b>Definition:</b> stageplayer.h:91</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_a7c4c0ed3570aba38a036023360724606"><div class="ttname"><a href="class_stage_1_1_player.html#a7c4c0ed3570aba38a036023360724606">Stage::Player::m_xsh</a></div><div class="ttdeci">TXsheet * m_xsh</div><div class="ttdoc">(not owned) The player's xsheet</div><div class="ttdef"><b>Definition:</b> stageplayer.h:95</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_a99c9004772f5575fb627dcfb29137459"><div class="ttname"><a href="class_stage_1_1_player.html#a99c9004772f5575fb627dcfb29137459">Stage::Player::m_placement</a></div><div class="ttdeci">TAffine m_placement</div><div class="ttdoc">Placement affine (no dpi)</div><div class="ttdef"><b>Definition:</b> stageplayer.h:71</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_ac79a243d283085682ddcdb75f8a6e185"><div class="ttname"><a href="class_stage_1_1_player.html#ac79a243d283085682ddcdb75f8a6e185">Stage::Player::m_column</a></div><div class="ttdeci">int m_column</div><div class="ttdoc">The player's xsheet column.</div><div class="ttdef"><b>Definition:</b> stageplayer.h:96</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_ae9146f2fdcb1837482abf535fc5622ef"><div class="ttname"><a href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">Stage::Player::m_onionSkinDistance</a></div><div class="ttdeci">int m_onionSkinDistance</div><div class="ttdef"><b>Definition:</b> stageplayer.h:77</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_af88189b51ebf5b86f87f77281aba0ce1"><div class="ttname"><a href="class_stage_1_1_player.html#af88189b51ebf5b86f87f77281aba0ce1">Stage::Player::m_frame</a></div><div class="ttdeci">int m_frame</div><div class="ttdef"><b>Definition:</b> stageplayer.h:97</div></div>
<div class="ttc" id="aclass_t_raster_image_html_a1ebe3badeaf79a61ef63c89aacf03980"><div class="ttname"><a href="class_t_raster_image.html#a1ebe3badeaf79a61ef63c89aacf03980">TRasterImage::getRaster</a></div><div class="ttdeci">const TRasterP &amp; getRaster() const</div><div class="ttdoc">Return TRasterP.</div><div class="ttdef"><b>Definition:</b> trasterimage.h:108</div></div>
<div class="ttc" id="aclass_t_raster_image_html_a82ed0d4ee941a6366c5a66e61b3008c5"><div class="ttname"><a href="class_t_raster_image.html#a82ed0d4ee941a6366c5a66e61b3008c5">TRasterImage::getSavebox</a></div><div class="ttdeci">TRect getSavebox() const</div><div class="ttdoc">Return the save box of the image.</div><div class="ttdef"><b>Definition:</b> trasterimage.h:87</div></div>
<div class="ttc" id="aclass_t_raster_image_html_ae604776f6c4c9be2bd76d3ffb0543025"><div class="ttname"><a href="class_t_raster_image.html#ae604776f6c4c9be2bd76d3ffb0543025">TRasterImage::getOffset</a></div><div class="ttdeci">TPoint getOffset() const</div><div class="ttdoc">Return raster image offset m_offset.</div><div class="ttdef"><b>Definition:</b> trasterimage.h:95</div></div>
<div class="ttc" id="aclass_t_rect_t_html_a53ce09c6112f8a019b43ad82d721a93b"><div class="ttname"><a href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">TRectT::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a06176566e80858dbb206112db08a92b9"><div class="ttname"><a href="class_t_xsh_level.html#a06176566e80858dbb206112db08a92b9">TXshLevel::getScene</a></div><div class="ttdeci">ToonzScene * getScene() const</div><div class="ttdoc">Return the ToonzScene the level belongs to;.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:87</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html"><div class="ttname"><a href="class_t_xsh_simple_level.html">TXshSimpleLevel</a></div><div class="ttdoc">The TXshLevel specialization for image levels.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:60</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_ad412dd5c3a6ae3ff20a480dc728b26d2"><div class="ttname"><a href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">TXshSimpleLevel::getProperties</a></div><div class="ttdeci">LevelProperties * getProperties() const</div><div class="ttdoc">&lt; Returns a pointer to the owned level properties.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:109</div></div>
<div class="ttc" id="aclass_toonz_scene_html_aaffd562eebbd8faba4caeaed69bfcc18"><div class="ttname"><a href="class_toonz_scene.html#aaffd562eebbd8faba4caeaed69bfcc18">ToonzScene::getTopXsheet</a></div><div class="ttdeci">TXsheet * getTopXsheet() const</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:961</div></div>
<div class="ttc" id="anamespace_t_rop_html_a35fb11523175f84027df48cc51d45d28"><div class="ttname"><a href="namespace_t_rop.html#a35fb11523175f84027df48cc51d45d28">TRop::whiteTransp</a></div><div class="ttdeci">DVAPI void whiteTransp(const TRasterP &amp;ras)</div><div class="ttdoc">all white pixels are set to transparent</div><div class="ttdef"><b>Definition:</b> toperators.cpp:1651</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00189">LevelProperties::doPremultiply()</a>, <a class="el" href="#l00095">TRasterImage::getOffset()</a>, <a class="el" href="#l00158">OnionSkinMask::getOnionSkinFade()</a>, <a class="el" href="#l00109">TXshSimpleLevel::getProperties()</a>, <a class="el" href="#l00108">TRasterImage::getRaster()</a>, <a class="el" href="#l00087">TRasterImage::getSavebox()</a>, <a class="el" href="#l00087">TXshLevel::getScene()</a>, <a class="el" href="#l00961">ToonzScene::getTopXsheet()</a>, <a class="el" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">TRectT&lt; T &gt;::isEmpty()</a>, <a class="el" href="#l00096">Stage::Player::m_column</a>, <a class="el" href="#l00072">Stage::Player::m_dpiAff</a>, <a class="el" href="#l00097">Stage::Player::m_frame</a>, <a class="el" href="#l00082">Stage::Player::m_isCurrentColumn</a>, <a class="el" href="#l00077">Stage::Player::m_onionSkinDistance</a>, <a class="el" href="#l00104">Stage::Player::m_opacity</a>, <a class="el" href="#l00071">Stage::Player::m_placement</a>, <a class="el" href="#l00091">Stage::Player::m_sl</a>, and <a class="el" href="#l00095">Stage::Player::m_xsh</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00783">onImage()</a>.</p>

</div>
</div>
<a id="a1a126ab3e4e2161d727a82cab736098f" name="a1a126ab3e4e2161d727a82cab736098f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a126ab3e4e2161d727a82cab736098f">&#9670;&nbsp;</a></span>onToonzImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::onToonzImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_toonz_image.html">TToonzImage</a> *&#160;</td>
          <td class="paramname"><em>ti</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_stage_1_1_player.html">Stage::Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Create a <b><a class="el" href="class_node.html">Node</a></b> and put it in <b>m_nodes</b>. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1059</span>                                                                           {</div>
<div class="line"><span class="lineno"> 1060</span>  <a class="code hl_class" href="class_t_raster_p_t.html">TRasterCM32P</a> r = ti-&gt;<a class="code hl_function" href="class_t_toonz_image.html#ae04ea13c3803157ac69b01a83ad65865">getRaster</a>();</div>
<div class="line"><span class="lineno"> 1061</span>  <span class="keywordflow">if</span> (!ti-&gt;getPalette()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span>  <a class="code hl_class" href="class_t_affine.html">TAffine</a> aff = m_viewAff * player.<a class="code hl_variable" href="class_stage_1_1_player.html#a99c9004772f5575fb627dcfb29137459">m_placement</a> * player.<a class="code hl_variable" href="class_stage_1_1_player.html#a0495491ce47344daba1cd55e1b64905a">m_dpiAff</a>;</div>
<div class="line"><span class="lineno"> 1064</span>  aff         = <a class="code hl_class" href="class_t_translation.html">TTranslation</a>(m_dim.lx / 2.0, m_dim.ly / 2.0) * aff *</div>
<div class="line"><span class="lineno"> 1065</span>        <a class="code hl_class" href="class_t_translation.html">TTranslation</a>(-r-&gt;getCenterD());</div>
<div class="line"><span class="lineno"> 1066</span> </div>
<div class="line"><span class="lineno"> 1067</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> bbox = <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(0, 0, m_dim.lx, m_dim.ly);</div>
<div class="line"><span class="lineno"> 1068</span>  bbox *= convert(m_clipRect);</div>
<div class="line"><span class="lineno"> 1069</span>  <span class="keywordflow">if</span> (bbox.<a class="code hl_function" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">isEmpty</a>()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1070</span> </div>
<div class="line"><span class="lineno"> 1071</span>  <span class="keywordtype">int</span> alpha                 = 255;</div>
<div class="line"><span class="lineno"> 1072</span>  Node::OnionMode onionMode = Node::eOnionSkinNone;</div>
<div class="line"><span class="lineno"> 1073</span>  <span class="keywordflow">if</span> (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> != c_noOnionSkin) {</div>
<div class="line"><span class="lineno"> 1074</span>    <span class="comment">// GetOnionSkinFade is good for the vector while the raster works at the</span></div>
<div class="line"><span class="lineno"> 1075</span>    <span class="comment">//    Opposite 1 opaque -&gt; 0 completely transparent</span></div>
<div class="line"><span class="lineno"> 1076</span>    <span class="comment">//    I therefore reverse the result of the function by being attentive to</span></div>
<div class="line"><span class="lineno"> 1077</span>    <span class="comment">//    case 0</span></div>
<div class="line"><span class="lineno"> 1078</span>    <span class="comment">//    (where the value 0.9 was carved)</span></div>
<div class="line"><span class="lineno"> 1079</span>    <span class="keywordtype">double</span> onionSkiFade = player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == 0</div>
<div class="line"><span class="lineno"> 1080</span>                              ? 0.9</div>
<div class="line"><span class="lineno"> 1081</span>                              : (1.0 - <a class="code hl_function" href="class_onion_skin_mask.html#a6a4c72b75d213e6a3fca82092a520824">OnionSkinMask::getOnionSkinFade</a>(</div>
<div class="line"><span class="lineno"> 1082</span>                                           player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a>));</div>
<div class="line"><span class="lineno"> 1083</span>    alpha = tcrop(tround(onionSkiFade * 255.0), 0, 255);</div>
<div class="line"><span class="lineno"> 1084</span> </div>
<div class="line"><span class="lineno"> 1085</span>    <span class="keywordflow">if</span> (player.m_isShiftAndTraceEnabled &amp;&amp;</div>
<div class="line"><span class="lineno"> 1086</span>        !Preferences::instance()-&gt;areOnionColorsUsedForShiftAndTraceGhosts())</div>
<div class="line"><span class="lineno"> 1087</span>      onionMode = Node::eOnionSkinNone;</div>
<div class="line"><span class="lineno"> 1088</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1089</span>      onionMode =</div>
<div class="line"><span class="lineno"> 1090</span>          (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 1091</span>              ? Node::eOnionSkinFront</div>
<div class="line"><span class="lineno"> 1092</span>              : ((player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> &lt; 0) ? Node::eOnionSkinBack</div>
<div class="line"><span class="lineno"> 1093</span>                                                  : Node::eOnionSkinNone);</div>
<div class="line"><span class="lineno"> 1094</span>    }</div>
<div class="line"><span class="lineno"> 1095</span> </div>
<div class="line"><span class="lineno"> 1096</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player.<a class="code hl_variable" href="class_stage_1_1_player.html#a2b05fa8fdc95ac04a532fc2d227a3a81">m_opacity</a> &lt; 255)</div>
<div class="line"><span class="lineno"> 1097</span>    alpha = player.<a class="code hl_variable" href="class_stage_1_1_player.html#a2b05fa8fdc95ac04a532fc2d227a3a81">m_opacity</a>;</div>
<div class="line"><span class="lineno"> 1098</span> </div>
<div class="line"><span class="lineno"> 1099</span>  m_nodes.push_back(<a class="code hl_class" href="class_node.html">Node</a>(r, ti-&gt;getPalette(), alpha, aff, ti-&gt;<a class="code hl_function" href="class_t_toonz_image.html#a11ca395e82657ec209131bf36de8eace">getSavebox</a>(),</div>
<div class="line"><span class="lineno"> 1100</span>                         bbox, player.<a class="code hl_variable" href="class_stage_1_1_player.html#af88189b51ebf5b86f87f77281aba0ce1">m_frame</a>, player.<a class="code hl_variable" href="class_stage_1_1_player.html#aba32c099fd49a4343580c28ade32e144">m_isCurrentColumn</a>,</div>
<div class="line"><span class="lineno"> 1101</span>                         onionMode, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, player.m_filterColor));</div>
<div class="line"><span class="lineno"> 1102</span>}</div>
<div class="ttc" id="aclass_t_toonz_image_html_a11ca395e82657ec209131bf36de8eace"><div class="ttname"><a href="class_t_toonz_image.html#a11ca395e82657ec209131bf36de8eace">TToonzImage::getSavebox</a></div><div class="ttdeci">TRect getSavebox() const</div><div class="ttdoc">Return the savebox of the image.</div><div class="ttdef"><b>Definition:</b> ttoonzimage.h:75</div></div>
<div class="ttc" id="aclass_t_toonz_image_html_ae04ea13c3803157ac69b01a83ad65865"><div class="ttname"><a href="class_t_toonz_image.html#ae04ea13c3803157ac69b01a83ad65865">TToonzImage::getRaster</a></div><div class="ttdeci">TRasterCM32P getRaster() const</div><div class="ttdoc">Return the image's raster.</div><div class="ttdef"><b>Definition:</b> ttoonzimage.h:106</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00158">OnionSkinMask::getOnionSkinFade()</a>, <a class="el" href="#l00106">TToonzImage::getRaster()</a>, <a class="el" href="#l00075">TToonzImage::getSavebox()</a>, <a class="el" href="class_t_rect_t.html#a53ce09c6112f8a019b43ad82d721a93b">TRectT&lt; T &gt;::isEmpty()</a>, <a class="el" href="#l00072">Stage::Player::m_dpiAff</a>, <a class="el" href="#l00097">Stage::Player::m_frame</a>, <a class="el" href="#l00082">Stage::Player::m_isCurrentColumn</a>, <a class="el" href="#l00077">Stage::Player::m_onionSkinDistance</a>, <a class="el" href="#l00104">Stage::Player::m_opacity</a>, and <a class="el" href="#l00071">Stage::Player::m_placement</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00783">onImage()</a>.</p>

</div>
</div>
<a id="af0e6e5a351f5dd2ec900fbfe5affa963" name="af0e6e5a351f5dd2ec900fbfe5affa963"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0e6e5a351f5dd2ec900fbfe5affa963">&#9670;&nbsp;</a></span>onVectorImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RasterPainter::onVectorImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_vector_image.html">TVectorImage</a> *&#160;</td>
          <td class="paramname"><em>vi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_stage_1_1_player.html">Stage::Player</a> &amp;&#160;</td>
          <td class="paramname"><em>player</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >View a vector cell images. <br  />
 If onion-skin is active compute <b><a class="el" href="class_t_onion_fader.html">TOnionFader</a></b> value. Create and boot a <b><a class="el" href="class_t_vector_render_data.html" title="Stores parameters for rendering vector images in Toonz.">TVectorRenderData</a></b> and recall <b>tglDraw()</b>. </p>
<div class="fragment"><div class="line"><span class="lineno">  822</span>                                                             {</div>
<div class="line"><span class="lineno">  823</span>  flushRasterImages();</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>  <span class="comment">// When loaded, vectorimages needs to have regions recomputed, but doing that</span></div>
<div class="line"><span class="lineno">  826</span>  <span class="comment">// while loading them</span></div>
<div class="line"><span class="lineno">  827</span>  <span class="comment">// is quite slow (think about loading whole scenes!..). They are recomputed</span></div>
<div class="line"><span class="lineno">  828</span>  <span class="comment">// the first time they</span></div>
<div class="line"><span class="lineno">  829</span>  <span class="comment">// are selected and shown on screen...except when playing back, to avoid</span></div>
<div class="line"><span class="lineno">  830</span>  <span class="comment">// slowness!</span></div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>  <span class="comment">// (Daniele) This function should *NOT* be responsible of that.</span></div>
<div class="line"><span class="lineno">  833</span>  <span class="comment">//           It&#39;s the *image itself* that should recalculate or initialize</span></div>
<div class="line"><span class="lineno">  834</span>  <span class="comment">//           said data</span></div>
<div class="line"><span class="lineno">  835</span>  <span class="comment">//           if queried about it and turns out it&#39;s not available...</span></div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>  <span class="keywordflow">if</span> (!player.<a class="code hl_variable" href="class_stage_1_1_player.html#a2a22d160f4fa74226fbbbf7e677da4b3">m_isPlaying</a> &amp;&amp; player.<a class="code hl_variable" href="class_stage_1_1_player.html#aba32c099fd49a4343580c28ade32e144">m_isCurrentColumn</a>)</div>
<div class="line"><span class="lineno">  838</span>    vi-&gt;<a class="code hl_function" href="class_t_vector_image.html#a193a77942595f079e999749a6066c4b8">recomputeRegionsIfNeeded</a>();</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_preferences.html">Preferences</a> &amp;prefs = *Preferences::instance();</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>  <a class="code hl_class" href="class_t_color_function.html">TColorFunction</a> *cf = 0, *guidedCf = 0;</div>
<div class="line"><span class="lineno">  843</span>  <a class="code hl_class" href="class_t_palette.html">TPalette</a> *vPalette = vi-&gt;getPalette();</div>
<div class="line"><span class="lineno">  844</span>  TPixel32 bgColor   = TPixel32::White;</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>  <span class="keywordtype">int</span> tc = (m_checkFlags &amp;&amp; player.<a class="code hl_variable" href="class_stage_1_1_player.html#aba32c099fd49a4343580c28ade32e144">m_isCurrentColumn</a>)</div>
<div class="line"><span class="lineno">  847</span>               ? ToonzCheck::instance()-&gt;getChecks()</div>
<div class="line"><span class="lineno">  848</span>               : 0;</div>
<div class="line"><span class="lineno">  849</span>  <span class="keywordtype">bool</span> inksOnly = tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876ace675a780bd6cc41302c9b566409149b">ToonzCheck::eInksOnly</a>;</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>  <span class="keywordtype">int</span> oldFrame = vPalette-&gt;<a class="code hl_function" href="class_t_palette.html#a7fd9f134eeffe1fa9ca39ee3fb6ad1b4">getFrame</a>();</div>
<div class="line"><span class="lineno">  852</span>  vPalette-&gt;<a class="code hl_function" href="class_t_palette.html#aca7d99a4af59ffaed0ead1f8700c2edc">setFrame</a>(player.<a class="code hl_variable" href="class_stage_1_1_player.html#af88189b51ebf5b86f87f77281aba0ce1">m_frame</a>);</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>  <span class="keywordflow">if</span> (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> != c_noOnionSkin) {</div>
<div class="line"><span class="lineno">  855</span>    TPixel32 frontOnionColor, backOnionColor;</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>    <span class="keywordflow">if</span> (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> != 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  858</span>        (!player.m_isShiftAndTraceEnabled ||</div>
<div class="line"><span class="lineno">  859</span>         Preferences::instance()-&gt;areOnionColorsUsedForShiftAndTraceGhosts())) {</div>
<div class="line"><span class="lineno">  860</span>      prefs.getOnionData(frontOnionColor, backOnionColor, inksOnly);</div>
<div class="line"><span class="lineno">  861</span>      bgColor =</div>
<div class="line"><span class="lineno">  862</span>          (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> &lt; 0) ? backOnionColor : frontOnionColor;</div>
<div class="line"><span class="lineno">  863</span>    }</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span>    <span class="keywordtype">double</span> m[4] = {1.0, 1.0, 1.0, 1.0}, c[4];</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>    <span class="comment">// Weighted addition to RGB and matte multiplication</span></div>
<div class="line"><span class="lineno">  868</span>    m[3] = 1.0 -</div>
<div class="line"><span class="lineno">  869</span>           ((player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == 0)</div>
<div class="line"><span class="lineno">  870</span>                ? 0.1</div>
<div class="line"><span class="lineno">  871</span>                : <a class="code hl_function" href="class_onion_skin_mask.html#a6a4c72b75d213e6a3fca82092a520824">OnionSkinMask::getOnionSkinFade</a>(player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a>));</div>
<div class="line"><span class="lineno">  872</span>    c[0] = (1.0 - m[3]) * bgColor.r, c[1] = (1.0 - m[3]) * bgColor.g,</div>
<div class="line"><span class="lineno">  873</span>    c[2] = (1.0 - m[3]) * bgColor.b;</div>
<div class="line"><span class="lineno">  874</span>    c[3] = 0.0;</div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span>    cf = <span class="keyword">new</span> <a class="code hl_class" href="class_t_generic_color_function.html">TGenericColorFunction</a>(m, c);</div>
<div class="line"><span class="lineno">  877</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player.m_filterColor != TPixel::Black) {</div>
<div class="line"><span class="lineno">  878</span>    TPixel32 colorScale = player.m_filterColor;</div>
<div class="line"><span class="lineno">  879</span>    colorScale.m        = player.<a class="code hl_variable" href="class_stage_1_1_player.html#a2b05fa8fdc95ac04a532fc2d227a3a81">m_opacity</a>;</div>
<div class="line"><span class="lineno">  880</span>    cf                  = <span class="keyword">new</span> <a class="code hl_class" href="class_t_column_color_filter_function.html">TColumnColorFilterFunction</a>(colorScale);</div>
<div class="line"><span class="lineno">  881</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player.<a class="code hl_variable" href="class_stage_1_1_player.html#a2b05fa8fdc95ac04a532fc2d227a3a81">m_opacity</a> &lt; 255)</div>
<div class="line"><span class="lineno">  882</span>    cf = <span class="keyword">new</span> <a class="code hl_class" href="class_t_transp_fader.html">TTranspFader</a>(player.<a class="code hl_variable" href="class_stage_1_1_player.html#a2b05fa8fdc95ac04a532fc2d227a3a81">m_opacity</a> / 255.0);</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>  <a class="code hl_class" href="class_t_vector_render_data.html">TVectorRenderData</a> rd(m_viewAff * player.<a class="code hl_variable" href="class_stage_1_1_player.html#a99c9004772f5575fb627dcfb29137459">m_placement</a>, <a class="code hl_class" href="class_t_rect_t.html">TRect</a>(), vPalette, cf,</div>
<div class="line"><span class="lineno">  885</span>                       <span class="keyword">true</span>  <span class="comment">// alpha enabled</span></div>
<div class="line"><span class="lineno">  886</span>  );</div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>  rd.m_drawRegions           = !inksOnly;</div>
<div class="line"><span class="lineno">  889</span>  rd.m_inkCheckEnabled       = tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7ad1deef6a508e60252b818c61ce83e9">ToonzCheck::eInk</a>;</div>
<div class="line"><span class="lineno">  890</span>  rd.m_ink1CheckEnabled      = tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a3137d7221943909520731bd1977219eb">ToonzCheck::eInk1</a>;</div>
<div class="line"><span class="lineno">  891</span>  rd.m_paintCheckEnabled     = tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a5a4df203cdba2a5eb6f7eba19f9ab62e">ToonzCheck::ePaint</a>;</div>
<div class="line"><span class="lineno">  892</span>  rd.m_blackBgEnabled        = tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876ab6d35869ac2f7cfc956d498b2089a1ff">ToonzCheck::eBlackBg</a>;</div>
<div class="line"><span class="lineno">  893</span>  rd.m_colorCheckIndex       = ToonzCheck::instance()-&gt;<a class="code hl_function" href="class_toonz_check.html#a7bea28e4a4ede90c7f52a4e9e2e1c328">getColorIndex</a>();</div>
<div class="line"><span class="lineno">  894</span>  rd.m_show0ThickStrokes     = prefs.getShow0ThickLines();</div>
<div class="line"><span class="lineno">  895</span>  rd.m_regionAntialias       = prefs.getRegionAntialias();</div>
<div class="line"><span class="lineno">  896</span>  rd.m_animatedGuidedDrawing = prefs.getAnimatedGuidedDrawing();</div>
<div class="line"><span class="lineno">  897</span>  <span class="keywordflow">if</span> (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> != 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  898</span>      (player.<a class="code hl_variable" href="class_stage_1_1_player.html#aba32c099fd49a4343580c28ade32e144">m_isCurrentColumn</a> || player.<a class="code hl_variable" href="class_stage_1_1_player.html#af5564bb7e4d82fec3c47554161bf2c91">m_isCurrentXsheetLevel</a>)) {</div>
<div class="line"><span class="lineno">  899</span>    <span class="keywordflow">if</span> (player.m_isGuidedDrawingEnabled == 3         <span class="comment">// show guides on all</span></div>
<div class="line"><span class="lineno">  900</span>        || (player.m_isGuidedDrawingEnabled == 1 &amp;&amp;  <span class="comment">// show guides on closest</span></div>
<div class="line"><span class="lineno">  901</span>            (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == player.m_firstBackOnionSkin ||</div>
<div class="line"><span class="lineno">  902</span>             player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == player.m_firstFrontOnionSkin)) ||</div>
<div class="line"><span class="lineno">  903</span>        (player.m_isGuidedDrawingEnabled == 2 &amp;&amp;  <span class="comment">// show guides on farthest</span></div>
<div class="line"><span class="lineno">  904</span>         (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == player.m_onionSkinBackSize ||</div>
<div class="line"><span class="lineno">  905</span>          player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == player.m_onionSkinFrontSize)) ||</div>
<div class="line"><span class="lineno">  906</span>        (player.m_isEditingLevel &amp;&amp;  <span class="comment">// fix for level editing mode sending extra</span></div>
<div class="line"><span class="lineno">  907</span>                                     <span class="comment">// players</span></div>
<div class="line"><span class="lineno">  908</span>         player.m_isGuidedDrawingEnabled == 2 &amp;&amp;</div>
<div class="line"><span class="lineno">  909</span>         player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == player.m_lastBackVisibleSkin)) {</div>
<div class="line"><span class="lineno">  910</span>      rd.m_showGuidedDrawing = player.m_isGuidedDrawingEnabled &gt; 0;</div>
<div class="line"><span class="lineno">  911</span>      <span class="keywordtype">int</span> currentStrokeCount = 0;</div>
<div class="line"><span class="lineno">  912</span>      <span class="keywordtype">int</span> totalStrokes       = vi-&gt;<a class="code hl_function" href="class_t_vector_image.html#add44e109ce62ba075799c0602724a841">getStrokeCount</a>();</div>
<div class="line"><span class="lineno">  913</span>      <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl    = player.<a class="code hl_variable" href="class_stage_1_1_player.html#a6230d77933caf93b9699bd5e2de0d2b0">m_sl</a>;</div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>      <span class="keywordflow">if</span> (sl) {</div>
<div class="line"><span class="lineno">  916</span>        <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> image          = sl-&gt;getFrame(player.m_currentFrameId, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  917</span>        <a class="code hl_class" href="class_t_vector_image_p.html">TVectorImageP</a> vecImage = image;</div>
<div class="line"><span class="lineno">  918</span>        <span class="keywordflow">if</span> (vecImage) currentStrokeCount = vecImage-&gt;getStrokeCount();</div>
<div class="line"><span class="lineno">  919</span>        <span class="keywordflow">if</span> (currentStrokeCount &lt; 0) currentStrokeCount = 0;</div>
<div class="line"><span class="lineno">  920</span>        <span class="keywordflow">if</span> (player.m_guidedFrontStroke != -1 &amp;&amp;</div>
<div class="line"><span class="lineno">  921</span>            (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == player.m_onionSkinFrontSize ||</div>
<div class="line"><span class="lineno">  922</span>             player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == player.m_firstFrontOnionSkin))</div>
<div class="line"><span class="lineno">  923</span>          rd.m_indexToHighlight = player.m_guidedFrontStroke;</div>
<div class="line"><span class="lineno">  924</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (player.m_guidedBackStroke != -1 &amp;&amp;</div>
<div class="line"><span class="lineno">  925</span>                 (player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == player.m_onionSkinBackSize ||</div>
<div class="line"><span class="lineno">  926</span>                  player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == player.m_firstBackOnionSkin))</div>
<div class="line"><span class="lineno">  927</span>          rd.m_indexToHighlight = player.m_guidedBackStroke;</div>
<div class="line"><span class="lineno">  928</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (currentStrokeCount &lt; totalStrokes)</div>
<div class="line"><span class="lineno">  929</span>          rd.m_indexToHighlight = currentStrokeCount;</div>
<div class="line"><span class="lineno">  930</span> </div>
<div class="line"><span class="lineno">  931</span>        <span class="keywordtype">double</span> guidedM[4] = {1.0, 1.0, 1.0, 1.0}, guidedC[4];</div>
<div class="line"><span class="lineno">  932</span>        TPixel32 bgColor  = TPixel32::Blue;</div>
<div class="line"><span class="lineno">  933</span>        guidedM[3] =</div>
<div class="line"><span class="lineno">  934</span>            1.0 -</div>
<div class="line"><span class="lineno">  935</span>            ((player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a> == 0)</div>
<div class="line"><span class="lineno">  936</span>                 ? 0.1</div>
<div class="line"><span class="lineno">  937</span>                 : <a class="code hl_function" href="class_onion_skin_mask.html#a6a4c72b75d213e6a3fca82092a520824">OnionSkinMask::getOnionSkinFade</a>(player.<a class="code hl_variable" href="class_stage_1_1_player.html#ae9146f2fdcb1837482abf535fc5622ef">m_onionSkinDistance</a>));</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>        guidedC[0] = (1.0 - guidedM[3]) * bgColor.r,</div>
<div class="line"><span class="lineno">  940</span>        guidedC[1] = (1.0 - guidedM[3]) * bgColor.g,</div>
<div class="line"><span class="lineno">  941</span>        guidedC[2] = (1.0 - guidedM[3]) * bgColor.b;</div>
<div class="line"><span class="lineno">  942</span>        guidedC[3] = 0.0;</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>        guidedCf      = <span class="keyword">new</span> <a class="code hl_class" href="class_t_generic_color_function.html">TGenericColorFunction</a>(guidedM, guidedC);</div>
<div class="line"><span class="lineno">  945</span>        rd.m_guidedCf = guidedCf;</div>
<div class="line"><span class="lineno">  946</span>      }</div>
<div class="line"><span class="lineno">  947</span>    }</div>
<div class="line"><span class="lineno">  948</span>  }</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>  <span class="keywordflow">if</span> (tc &amp; (<a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876af72e27092872414c3774938597209285">ToonzCheck::eTransparency</a> | <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7fbcfdc87f510c2d2e271d3629db24fe">ToonzCheck::eGap</a>)) {</div>
<div class="line"><span class="lineno">  951</span>    TPixel dummy;</div>
<div class="line"><span class="lineno">  952</span>    rd.m_tcheckEnabled = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  953</span> </div>
<div class="line"><span class="lineno">  954</span>    <span class="keywordflow">if</span> (rd.m_blackBgEnabled)</div>
<div class="line"><span class="lineno">  955</span>      prefs.getTranspCheckData(rd.m_tCheckInk, dummy, rd.m_tCheckPaint);</div>
<div class="line"><span class="lineno">  956</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  957</span>      prefs.getTranspCheckData(dummy, rd.m_tCheckInk, rd.m_tCheckPaint);</div>
<div class="line"><span class="lineno">  958</span>  }</div>
<div class="line"><span class="lineno">  959</span> </div>
<div class="line"><span class="lineno">  960</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>.<a class="code hl_variable" href="class_image_painter_1_1_visual_settings.html#a84bb519ec0ab16029cba33ff0f3f794f">m_colorMask</a> != 0) {</div>
<div class="line"><span class="lineno">  961</span>    glColorMask((<a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>.<a class="code hl_variable" href="class_image_painter_1_1_visual_settings.html#a84bb519ec0ab16029cba33ff0f3f794f">m_colorMask</a> &amp; TRop::RChan) ? GL_TRUE : GL_FALSE,</div>
<div class="line"><span class="lineno">  962</span>                (<a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>.<a class="code hl_variable" href="class_image_painter_1_1_visual_settings.html#a84bb519ec0ab16029cba33ff0f3f794f">m_colorMask</a> &amp; TRop::GChan) ? GL_TRUE : GL_FALSE,</div>
<div class="line"><span class="lineno">  963</span>                (<a class="code hl_variable" href="class_stage_1_1_visitor.html#a4e0d4d1127a689eee8ae947ef5447f1a">m_vs</a>.<a class="code hl_variable" href="class_image_painter_1_1_visual_settings.html#a84bb519ec0ab16029cba33ff0f3f794f">m_colorMask</a> &amp; TRop::BChan) ? GL_TRUE : GL_FALSE, GL_TRUE);</div>
<div class="line"><span class="lineno">  964</span>  }</div>
<div class="line"><span class="lineno">  965</span>  <a class="code hl_class" href="class_t_vector_image_p.html">TVectorImageP</a> viDelete;</div>
<div class="line"><span class="lineno">  966</span>  <span class="keywordflow">if</span> (tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a7fbcfdc87f510c2d2e271d3629db24fe">ToonzCheck::eGap</a>) {</div>
<div class="line"><span class="lineno">  967</span>    viDelete = vi-&gt;<a class="code hl_function" href="class_t_vector_image.html#a0aeac8f2cab4178fa732a237a9b3dbd9">clone</a>();</div>
<div class="line"><span class="lineno">  968</span>    vi       = viDelete.getPointer();</div>
<div class="line"><span class="lineno">  969</span>    vi-&gt;<a class="code hl_function" href="class_t_vector_image.html#a21a45dbb1a37fa54736d23d546fe2588">selectFill</a>(vi-&gt;<a class="code hl_function" href="class_t_vector_image.html#a86205b8e894a807fe76937c923f6abc0">getBBox</a>(), 0, 1, <span class="keyword">true</span>, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  970</span>  }</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>  <a class="code hl_struct" href="class_t_stroke.html">TStroke</a> *guidedStroke = 0;</div>
<div class="line"><span class="lineno">  973</span>  <span class="keywordflow">if</span> (m_maskLevel &gt; 0)</div>
<div class="line"><span class="lineno">  974</span>    tglDrawMask(rd, vi);</div>
<div class="line"><span class="lineno">  975</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  976</span>    tglDraw(rd, vi, &amp;guidedStroke);</div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>  <span class="keywordflow">if</span> (tc &amp; <a class="code hl_enumvalue" href="class_toonz_check.html#add5b28b42f552cf90e3cfcde9e737876a780c15982eceeb7f1e912a5d55029cef">ToonzCheck::eAutoclose</a>) drawAutocloses(vi, rd);</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>  glColorMask(GL_TRUE, GL_TRUE, GL_TRUE, GL_TRUE);</div>
<div class="line"><span class="lineno">  981</span>  vPalette-&gt;<a class="code hl_function" href="class_t_palette.html#aca7d99a4af59ffaed0ead1f8700c2edc">setFrame</a>(oldFrame);</div>
<div class="line"><span class="lineno">  982</span> </div>
<div class="line"><span class="lineno">  983</span>  <span class="keyword">delete</span> cf;</div>
<div class="line"><span class="lineno">  984</span>  <span class="keyword">delete</span> guidedCf;</div>
<div class="line"><span class="lineno">  985</span> </div>
<div class="line"><span class="lineno">  986</span>  <span class="keywordflow">if</span> (guidedStroke) m_guidedStrokes.push_back(guidedStroke);</div>
<div class="line"><span class="lineno">  987</span>}</div>
<div class="ttc" id="aclass_preferences_html"><div class="ttname"><a href="class_preferences.html">Preferences</a></div><div class="ttdef"><b>Definition:</b> preferences.h:72</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_a2a22d160f4fa74226fbbbf7e677da4b3"><div class="ttname"><a href="class_stage_1_1_player.html#a2a22d160f4fa74226fbbbf7e677da4b3">Stage::Player::m_isPlaying</a></div><div class="ttdeci">bool m_isPlaying</div><div class="ttdoc">image rendering. I guess. Don't know why this should be useful.</div><div class="ttdef"><b>Definition:</b> stageplayer.h:100</div></div>
<div class="ttc" id="aclass_stage_1_1_player_html_af5564bb7e4d82fec3c47554161bf2c91"><div class="ttname"><a href="class_stage_1_1_player.html#af5564bb7e4d82fec3c47554161bf2c91">Stage::Player::m_isCurrentXsheetLevel</a></div><div class="ttdeci">bool m_isCurrentXsheetLevel</div><div class="ttdef"><b>Definition:</b> stageplayer.h:84</div></div>
<div class="ttc" id="aclass_t_color_function_html"><div class="ttname"><a href="class_t_color_function.html">TColorFunction</a></div><div class="ttdef"><b>Definition:</b> tcolorfunctions.h:20</div></div>
<div class="ttc" id="aclass_t_column_color_filter_function_html"><div class="ttname"><a href="class_t_column_color_filter_function.html">TColumnColorFilterFunction</a></div><div class="ttdef"><b>Definition:</b> tcolorfunctions.h:115</div></div>
<div class="ttc" id="aclass_t_generic_color_function_html"><div class="ttname"><a href="class_t_generic_color_function.html">TGenericColorFunction</a></div><div class="ttdef"><b>Definition:</b> tcolorfunctions.h:48</div></div>
<div class="ttc" id="aclass_t_palette_html"><div class="ttname"><a href="class_t_palette.html">TPalette</a></div><div class="ttdoc">The class representing a Toonz palette object.</div><div class="ttdef"><b>Definition:</b> tpalette.h:85</div></div>
<div class="ttc" id="aclass_t_palette_html_a7fd9f134eeffe1fa9ca39ee3fb6ad1b4"><div class="ttname"><a href="class_t_palette.html#a7fd9f134eeffe1fa9ca39ee3fb6ad1b4">TPalette::getFrame</a></div><div class="ttdeci">int getFrame() const</div><div class="ttdoc">Returns the index of the current frame.</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:1050</div></div>
<div class="ttc" id="aclass_t_palette_html_aca7d99a4af59ffaed0ead1f8700c2edc"><div class="ttname"><a href="class_t_palette.html#aca7d99a4af59ffaed0ead1f8700c2edc">TPalette::setFrame</a></div><div class="ttdeci">void setFrame(int frame)</div><div class="ttdoc">Sets the index of the current frame.</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:1054</div></div>
<div class="ttc" id="aclass_t_stroke_html"><div class="ttname"><a href="class_t_stroke.html">TStroke</a></div><div class="ttdef"><b>Definition:</b> tstroke.h:47</div></div>
<div class="ttc" id="aclass_t_transp_fader_html"><div class="ttname"><a href="class_t_transp_fader.html">TTranspFader</a></div><div class="ttdef"><b>Definition:</b> tcolorfunctions.h:100</div></div>
<div class="ttc" id="aclass_t_vector_image_html_a0aeac8f2cab4178fa732a237a9b3dbd9"><div class="ttname"><a href="class_t_vector_image.html#a0aeac8f2cab4178fa732a237a9b3dbd9">TVectorImage::clone</a></div><div class="ttdeci">TVectorImageP clone() const</div><div class="ttdoc">Return a clone of image.</div><div class="ttdef"><b>Definition:</b> tvectorimage.cpp:1151</div></div>
<div class="ttc" id="aclass_t_vector_image_html_a193a77942595f079e999749a6066c4b8"><div class="ttname"><a href="class_t_vector_image.html#a193a77942595f079e999749a6066c4b8">TVectorImage::recomputeRegionsIfNeeded</a></div><div class="ttdeci">void recomputeRegionsIfNeeded()</div><div class="ttdef"><b>Definition:</b> tvectorimage.cpp:1444</div></div>
<div class="ttc" id="aclass_t_vector_image_html_a21a45dbb1a37fa54736d23d546fe2588"><div class="ttname"><a href="class_t_vector_image.html#a21a45dbb1a37fa54736d23d546fe2588">TVectorImage::selectFill</a></div><div class="ttdeci">bool selectFill(const TRectD &amp;selectArea, TStroke *s, int styleId, bool onlyUnfilled, bool fillAreas, bool fillLines)</div><div class="ttdef"><b>Definition:</b> tvectorimage.cpp:772</div></div>
<div class="ttc" id="aclass_t_vector_image_html_a86205b8e894a807fe76937c923f6abc0"><div class="ttname"><a href="class_t_vector_image.html#a86205b8e894a807fe76937c923f6abc0">TVectorImage::getBBox</a></div><div class="ttdeci">TRectD getBBox() const override</div><div class="ttdoc">Return the image bounding box in the image coordinate system.</div><div class="ttdef"><b>Definition:</b> tvectorimage.cpp:567</div></div>
<div class="ttc" id="aclass_t_vector_image_html_add44e109ce62ba075799c0602724a841"><div class="ttname"><a href="class_t_vector_image.html#add44e109ce62ba075799c0602724a841">TVectorImage::getStrokeCount</a></div><div class="ttdeci">UINT getStrokeCount() const</div><div class="ttdoc">Return the strokes' count.</div><div class="ttdef"><b>Definition:</b> tvectorimage.cpp:388</div></div>
<div class="ttc" id="aclass_t_vector_render_data_html"><div class="ttname"><a href="class_t_vector_render_data.html">TVectorRenderData</a></div><div class="ttdoc">Stores parameters for rendering vector images in Toonz.</div><div class="ttdef"><b>Definition:</b> tvectorrenderdata.h:37</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01151">TVectorImage::clone()</a>, <a class="el" href="#l00048">ToonzCheck::eAutoclose</a>, <a class="el" href="#l00044">ToonzCheck::eBlackBg</a>, <a class="el" href="#l00047">ToonzCheck::eGap</a>, <a class="el" href="#l00045">ToonzCheck::eInk</a>, <a class="el" href="#l00050">ToonzCheck::eInk1</a>, <a class="el" href="#l00049">ToonzCheck::eInksOnly</a>, <a class="el" href="#l00046">ToonzCheck::ePaint</a>, <a class="el" href="#l00043">ToonzCheck::eTransparency</a>, <a class="el" href="#l00567">TVectorImage::getBBox()</a>, <a class="el" href="#l00067">ToonzCheck::getColorIndex()</a>, <a class="el" href="#l01050">TPalette::getFrame()</a>, <a class="el" href="#l00158">OnionSkinMask::getOnionSkinFade()</a>, <a class="el" href="#l00388">TVectorImage::getStrokeCount()</a>, <a class="el" href="#l00078">TVectorRenderData::m_blackBgEnabled</a>, <a class="el" href="#l00065">TVectorRenderData::m_colorCheckIndex</a>, <a class="el" href="#l00043">ImagePainter::VisualSettings::m_colorMask</a>, <a class="el" href="#l00073">TVectorRenderData::m_drawRegions</a>, <a class="el" href="#l00097">Stage::Player::m_frame</a>, <a class="el" href="#l00076">TVectorRenderData::m_ink1CheckEnabled</a>, <a class="el" href="#l00075">TVectorRenderData::m_inkCheckEnabled</a>, <a class="el" href="#l00082">Stage::Player::m_isCurrentColumn</a>, <a class="el" href="#l00084">Stage::Player::m_isCurrentXsheetLevel</a>, <a class="el" href="#l00100">Stage::Player::m_isPlaying</a>, <a class="el" href="#l00077">Stage::Player::m_onionSkinDistance</a>, <a class="el" href="#l00104">Stage::Player::m_opacity</a>, <a class="el" href="#l00077">TVectorRenderData::m_paintCheckEnabled</a>, <a class="el" href="#l00071">Stage::Player::m_placement</a>, <a class="el" href="#l00084">TVectorRenderData::m_regionAntialias</a>, <a class="el" href="#l00082">TVectorRenderData::m_show0ThickStrokes</a>, <a class="el" href="#l00091">Stage::Player::m_sl</a>, <a class="el" href="#l00074">TVectorRenderData::m_tcheckEnabled</a>, <a class="el" href="#l00062">TVectorRenderData::m_tCheckInk</a>, <a class="el" href="#l00063">TVectorRenderData::m_tCheckPaint</a>, <a class="el" href="#l00093">Stage::Visitor::m_vs</a>, <a class="el" href="#l01444">TVectorImage::recomputeRegionsIfNeeded()</a>, <a class="el" href="#l00772">TVectorImage::selectFill()</a>, and <a class="el" href="#l01054">TPalette::setFrame()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00783">onImage()</a>.</p>

</div>
</div>
<a id="ae83db2a77bc4cf66f13b9f486c98d977" name="ae83db2a77bc4cf66f13b9f486c98d977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae83db2a77bc4cf66f13b9f486c98d977">&#9670;&nbsp;</a></span>setRasterDarkenBlendedView()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Stage::RasterPainter::setRasterDarkenBlendedView </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  295</span>{ m_doRasterDarkenBlendedView = on; }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/include/toonz/<a class="el" href="">stagevisitor.h</a></li>
<li>E:/opentoonz/toonz/sources/toonzlib/<a class="el" href="">stagevisitor.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
