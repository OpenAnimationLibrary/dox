<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: PreviewFxInstance Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_preview_fx_instance-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PreviewFxInstance Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_preview_fx_instance_1_1_frame_info.html">FrameInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af11e5a714c2df3809fbbbed659ee5413"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#af11e5a714c2df3809fbbbed659ee5413">PreviewFxInstance</a> (<a class="el" href="class_t_smart_pointer_t.html">TFxP</a> fx, <a class="el" href="class_t_xsheet.html">TXsheet</a> *xsh)</td></tr>
<tr class="separator:af11e5a714c2df3809fbbbed659ee5413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62670059421d064d977abe0fbe33f3fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a62670059421d064d977abe0fbe33f3fb">addFlipbook</a> (<a class="el" href="class_flip_book.html">FlipBook</a> *&amp;flipbook)</td></tr>
<tr class="separator:a62670059421d064d977abe0fbe33f3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57e09100813885795ae780781b8bc55c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a57e09100813885795ae780781b8bc55c">detachFlipbook</a> (<a class="el" href="class_flip_book.html">FlipBook</a> *flipbook)</td></tr>
<tr class="separator:a57e09100813885795ae780781b8bc55c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff7e815cd92558d26de7315360d1c24"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a2ff7e815cd92558d26de7315360d1c24">updateFlipbooks</a> ()</td></tr>
<tr class="separator:a2ff7e815cd92558d26de7315360d1c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e2a13a03afc8e7ab8c4a309a12b5e7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a0e2a13a03afc8e7ab8c4a309a12b5e7a">refreshViewRects</a> (bool rebuild=false)</td></tr>
<tr class="separator:a0e2a13a03afc8e7ab8c4a309a12b5e7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bfb1e7aff8c279a35914d21e3a8e1b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a2bfb1e7aff8c279a35914d21e3a8e1b1">reset</a> ()</td></tr>
<tr class="separator:a2bfb1e7aff8c279a35914d21e3a8e1b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af533f6caaf4610d3d2abdff3ef8b0e50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#af533f6caaf4610d3d2abdff3ef8b0e50">reset</a> (int frame)</td></tr>
<tr class="separator:af533f6caaf4610d3d2abdff3ef8b0e50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa4e664b16cecbb0dab05bb78a1d6040"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#aaa4e664b16cecbb0dab05bb78a1d6040">updateFrameRange</a> ()</td></tr>
<tr class="separator:aaa4e664b16cecbb0dab05bb78a1d6040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a833839c7ed6a4d73f60009c3ad97d5fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a833839c7ed6a4d73f60009c3ad97d5fa">updateInitialFrame</a> ()</td></tr>
<tr class="separator:a833839c7ed6a4d73f60009c3ad97d5fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a33819dffd6795da4c6e8bf455dcc48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a7a33819dffd6795da4c6e8bf455dcc48">updateRenderSettings</a> ()</td></tr>
<tr class="separator:a7a33819dffd6795da4c6e8bf455dcc48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f20d2d48bdc184c450da167ad34bf1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#aa6f20d2d48bdc184c450da167ad34bf1">updateCamera</a> ()</td></tr>
<tr class="separator:aa6f20d2d48bdc184c450da167ad34bf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ffdad38d8543ffed86df5bf22200a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a89ffdad38d8543ffed86df5bf22200a5">updateFlipbookTitles</a> ()</td></tr>
<tr class="separator:a89ffdad38d8543ffed86df5bf22200a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a760f8462936389aedfbde7fa6aa7acab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a760f8462936389aedfbde7fa6aa7acab">updatePreviewRect</a> ()</td></tr>
<tr class="separator:a760f8462936389aedfbde7fa6aa7acab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a94e101ac882fe90c6be5b07cee7d4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a7a94e101ac882fe90c6be5b07cee7d4e">updateAliases</a> ()</td></tr>
<tr class="separator:a7a94e101ac882fe90c6be5b07cee7d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84580d14b2e2b4c74b281f4c9b6ef1eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a84580d14b2e2b4c74b281f4c9b6ef1eb">updateAliasKeyword</a> (const std::string &amp;keyword)</td></tr>
<tr class="separator:a84580d14b2e2b4c74b281f4c9b6ef1eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13fd49615c00e7f9b64d00669825db05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a13fd49615c00e7f9b64d00669825db05">updateProgressBarStatus</a> ()</td></tr>
<tr class="separator:a13fd49615c00e7f9b64d00669825db05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3446aec5136735b6ff46252bcbe31c63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a3446aec5136735b6ff46252bcbe31c63">onRenderRasterStarted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:a3446aec5136735b6ff46252bcbe31c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cba19459b82cb62f421e5ce318a5203"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a4cba19459b82cb62f421e5ce318a5203">onRenderRasterCompleted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:a4cba19459b82cb62f421e5ce318a5203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe7eae13164cc0bd28f168cb7f0e07a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a3fe7eae13164cc0bd28f168cb7f0e07a">onRenderFailure</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;renderData, <a class="el" href="class_t_exception.html">TException</a> &amp;e)</td></tr>
<tr class="separator:a3fe7eae13164cc0bd28f168cb7f0e07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6d3b954582af841ebdd2d5c8280a41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#afd6d3b954582af841ebdd2d5c8280a41">onRenderFinished</a> (bool isCanceled=false)</td></tr>
<tr class="separator:afd6d3b954582af841ebdd2d5c8280a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae458548c9a63bb85c73d4f8f799a8ede"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#ae458548c9a63bb85c73d4f8f799a8ede">doOnRenderRasterCompleted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:ae458548c9a63bb85c73d4f8f799a8ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17a88cfd8ba639ad7f68ab55526b83f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#ad17a88cfd8ba639ad7f68ab55526b83f">doOnRenderRasterStarted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:ad17a88cfd8ba639ad7f68ab55526b83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d23c0846fa6216b977b72497240d757"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a9d23c0846fa6216b977b72497240d757">isSubCameraActive</a> ()</td></tr>
<tr class="separator:a9d23c0846fa6216b977b72497240d757"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae458618a79dfa77a6368ea6155594ba8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_smart_pointer_t.html">TXsheetP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#ae458618a79dfa77a6368ea6155594ba8">m_xsheet</a></td></tr>
<tr class="separator:ae458618a79dfa77a6368ea6155594ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8267a27dea336c0cc22206290a526c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_raster_fx_p.html">TRasterFxP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#adf8267a27dea336c0cc22206290a526c">m_fx</a></td></tr>
<tr class="separator:adf8267a27dea336c0cc22206290a526c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37176275251d167c39f288cffa3d9db8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_renderer.html">TRenderer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a37176275251d167c39f288cffa3d9db8">m_renderer</a></td></tr>
<tr class="separator:a37176275251d167c39f288cffa3d9db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2481fc8217bbcb1cd7cfa138c57fb9ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_preview_fx_render_port.html">PreviewFxRenderPort</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a2481fc8217bbcb1cd7cfa138c57fb9ab">m_renderPort</a></td></tr>
<tr class="separator:a2481fc8217bbcb1cd7cfa138c57fb9ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1df3c0f57e8b4d027d946e469a9dfa3d"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="class_flip_book.html">FlipBook</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a1df3c0f57e8b4d027d946e469a9dfa3d">m_flipbooks</a></td></tr>
<tr class="separator:a1df3c0f57e8b4d027d946e469a9dfa3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf53b066078651d94ae3bfc6e3b27f36"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="class_flip_book.html">FlipBook</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#acf53b066078651d94ae3bfc6e3b27f36">m_frozenFlips</a></td></tr>
<tr class="separator:acf53b066078651d94ae3bfc6e3b27f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b0380d271511993f9c73e73b73c9f83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a9b0380d271511993f9c73e73b73c9f83">m_start</a></td></tr>
<tr class="separator:a9b0380d271511993f9c73e73b73c9f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd645c4651a4caaa37f4207da9e95fb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#acd645c4651a4caaa37f4207da9e95fb8">m_end</a></td></tr>
<tr class="separator:acd645c4651a4caaa37f4207da9e95fb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff987233f3fbdab7926151756c15bb9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#aff987233f3fbdab7926151756c15bb9a">m_step</a></td></tr>
<tr class="separator:aff987233f3fbdab7926151756c15bb9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91462407184b2a258d767c7a506b2bd4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a91462407184b2a258d767c7a506b2bd4">m_initFrame</a></td></tr>
<tr class="separator:a91462407184b2a258d767c7a506b2bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2945d4a198b601412679971468e04fc"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, <a class="el" href="struct_preview_fx_instance_1_1_frame_info.html">FrameInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#ad2945d4a198b601412679971468e04fc">m_frameInfos</a></td></tr>
<tr class="separator:ad2945d4a198b601412679971468e04fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f44679fa5a96fd4f66190197ae2fdaf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; UCHAR &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a5f44679fa5a96fd4f66190197ae2fdaf">m_pbStatus</a></td></tr>
<tr class="separator:a5f44679fa5a96fd4f66190197ae2fdaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a5fd83f86f755bb74739e8e571d519"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_render_settings.html">TRenderSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a72a5fd83f86f755bb74739e8e571d519">m_renderSettings</a></td></tr>
<tr class="separator:a72a5fd83f86f755bb74739e8e571d519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a1470869572b13c1923efc4d1ddd1d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_dimension_t.html">TDimension</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#af0a1470869572b13c1923efc4d1ddd1d">m_cameraRes</a></td></tr>
<tr class="separator:af0a1470869572b13c1923efc4d1ddd1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a481fbc7aa26bed908d6979d09435f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_rect_t.html">TRectD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a6a481fbc7aa26bed908d6979d09435f6">m_renderArea</a></td></tr>
<tr class="separator:a6a481fbc7aa26bed908d6979d09435f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fefab9c159e69dbabdc7e3e81972493"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a2fefab9c159e69dbabdc7e3e81972493">m_cameraPos</a></td></tr>
<tr class="separator:a2fefab9c159e69dbabdc7e3e81972493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0235643057d471bbdee8c4f60857c021"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a0235643057d471bbdee8c4f60857c021">m_subcameraDisplacement</a></td></tr>
<tr class="separator:a0235643057d471bbdee8c4f60857c021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d9755fdec873845d63c95f239adccc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#ad7d9755fdec873845d63c95f239adccc">m_subcamera</a></td></tr>
<tr class="separator:ad7d9755fdec873845d63c95f239adccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf166a23e002b732e6afbd0fc797e076"><td class="memItemLeft" align="right" valign="top">QRegion&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#aaf166a23e002b732e6afbd0fc797e076">m_overallRenderedRegion</a></td></tr>
<tr class="separator:aaf166a23e002b732e6afbd0fc797e076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2365971deca81f301c2898789351839"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_rect_t.html">TRect</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#ad2365971deca81f301c2898789351839">m_rectUnderRender</a></td></tr>
<tr class="separator:ad2365971deca81f301c2898789351839"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a065668bc0367d4af37c6d8003102ae5b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a065668bc0367d4af37c6d8003102ae5b">m_renderFailed</a></td></tr>
<tr class="separator:a065668bc0367d4af37c6d8003102ae5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af213db1fe5bafb80ae759aac9783f0d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_level_p.html">TLevelP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#af213db1fe5bafb80ae759aac9783f0d0">m_level</a></td></tr>
<tr class="separator:af213db1fe5bafb80ae759aac9783f0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a957b9772662f913b3900ff61c24fa7fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_smart_pointer_t.html">TSoundTrackP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_preview_fx_instance.html#a957b9772662f913b3900ff61c24fa7fe">m_snd</a></td></tr>
<tr class="separator:a957b9772662f913b3900ff61c24fa7fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af11e5a714c2df3809fbbbed659ee5413" name="af11e5a714c2df3809fbbbed659ee5413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af11e5a714c2df3809fbbbed659ee5413">&#9670;&nbsp;</a></span>PreviewFxInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PreviewFxInstance::PreviewFxInstance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_smart_pointer_t.html">TFxP</a>&#160;</td>
          <td class="paramname"><em>fx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_xsheet.html">TXsheet</a> *&#160;</td>
          <td class="paramname"><em>xsh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  343</span>    : m_renderer(TSystem::getProcessorCount())</div>
<div class="line"><span class="lineno">  344</span>    , m_renderPort(<span class="keyword">this</span>)</div>
<div class="line"><span class="lineno">  345</span>    , m_fx(fx)</div>
<div class="line"><span class="lineno">  346</span>    , m_cameraRes(0, 0)</div>
<div class="line"><span class="lineno">  347</span>    , m_start(0)</div>
<div class="line"><span class="lineno">  348</span>    , m_end(-1)</div>
<div class="line"><span class="lineno">  349</span>    , m_initFrame(0)</div>
<div class="line"><span class="lineno">  350</span>    , m_xsheet(xsh) {</div>
<div class="line"><span class="lineno">  351</span>  <span class="comment">// Install the render port on the instance renderer</span></div>
<div class="line"><span class="lineno">  352</span>  m_renderer.addPort(&amp;m_renderPort);</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>  updateRenderSettings();</div>
<div class="line"><span class="lineno">  355</span>  updateCamera();</div>
<div class="line"><span class="lineno">  356</span>  updateFrameRange();</div>
<div class="line"><span class="lineno">  357</span>  updateAliases();</div>
<div class="line"><span class="lineno">  358</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b6467ab267da6b4ee75dc2d5d0b600d" name="a0b6467ab267da6b4ee75dc2d5d0b600d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b6467ab267da6b4ee75dc2d5d0b600d">&#9670;&nbsp;</a></span>~PreviewFxInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PreviewFxInstance::~PreviewFxInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  362</span>                                      {</div>
<div class="line"><span class="lineno">  363</span>  <span class="comment">// Stop the render - there is no need to wait for a complete (and blocking)</span></div>
<div class="line"><span class="lineno">  364</span>  <span class="comment">// render stop.</span></div>
<div class="line"><span class="lineno">  365</span>  m_renderer.removePort(</div>
<div class="line"><span class="lineno">  366</span>      &amp;m_renderPort);  <span class="comment">// No more images to be stored in the cache!</span></div>
<div class="line"><span class="lineno">  367</span>  m_renderer.stopRendering();</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>  <span class="comment">// Release the user cache about this instance</span></div>
<div class="line"><span class="lineno">  370</span>  std::string contextName(<span class="stringliteral">&quot;PFX&quot;</span>);</div>
<div class="line"><span class="lineno">  371</span>  contextName += std::to_string(m_fx-&gt;getIdentifier());</div>
<div class="line"><span class="lineno">  372</span>  TPassiveCacheManager::instance()-&gt;releaseContextNamesWithPrefix(contextName);</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>  <span class="comment">// Clear the cached images</span></div>
<div class="line"><span class="lineno">  375</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  376</span>  <span class="keywordflow">for</span> (i = m_start; i &lt;= m_end; i += m_step)</div>
<div class="line"><span class="lineno">  377</span>    TImageCache::instance()-&gt;remove(getCacheId(m_fx, i));</div>
<div class="line"><span class="lineno">  378</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a62670059421d064d977abe0fbe33f3fb" name="a62670059421d064d977abe0fbe33f3fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62670059421d064d977abe0fbe33f3fb">&#9670;&nbsp;</a></span>addFlipbook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::addFlipbook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_flip_book.html">FlipBook</a> *&amp;&#160;</td>
          <td class="paramname"><em>flipbook</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  418</span>                                                       {</div>
<div class="line"><span class="lineno">  419</span>  <a class="code hl_class" href="class_t_app.html">TApp</a> *app         = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>();</div>
<div class="line"><span class="lineno">  420</span>  <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene = app-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene();</div>
<div class="line"><span class="lineno">  421</span>  <a class="code hl_class" href="class_t_output_properties.html">TOutputProperties</a> *properties =</div>
<div class="line"><span class="lineno">  422</span>      scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()-&gt;<a class="code hl_function" href="class_t_scene_properties.html#a0b905e0ea16e27aa5e67da31e469026e">getPreviewProperties</a>();</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>  <span class="keywordtype">int</span> currFrame = flipbook ? flipbook-&gt;getCurrentFrame() - 1</div>
<div class="line"><span class="lineno">  425</span>                           : app-&gt;<a class="code hl_function" href="class_t_app.html#a35516f8175dab3ccdf3d6d3c3e5f59ae">getCurrentFrame</a>()-&gt;getFrame();</div>
<div class="line"><span class="lineno">  426</span>  cropAndStep(currFrame);</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>  <span class="keywordflow">if</span> (!flipbook) {</div>
<div class="line"><span class="lineno">  429</span>    <span class="comment">/*-- 使用可能なFlipbookを取り出す。Poolに無い場合は新たに作る --*/</span></div>
<div class="line"><span class="lineno">  430</span>    flipbook = FlipBookPool::instance()-&gt;<a class="code hl_function" href="class_flip_book_pool.html#aa110af5e7e2650be4540744f53de314b">pop</a>();</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="comment">// In case this is a subcamera preview, fit the flipbook&#39;s view. This is</span></div>
<div class="line"><span class="lineno">  433</span>    <span class="comment">// done *before* associating</span></div>
<div class="line"><span class="lineno">  434</span>    <span class="comment">// m_fx to the flipbook (using Flipbook::setLevel) - so there is no</span></div>
<div class="line"><span class="lineno">  435</span>    <span class="comment">// duplicate view refresh.</span></div>
<div class="line"><span class="lineno">  436</span>    <span class="comment">/*-- Preview Settingsで&quot;Use Sub Camera&quot;</span></div>
<div class="line"><span class="lineno">  437</span><span class="comment">     * がONのとき、サブカメラ枠の外は計算しないようになる --*/</span></div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordflow">if</span> (m_subcamera) {</div>
<div class="line"><span class="lineno">  439</span>      <span class="comment">// result-&gt;adaptGeometry(TRect(previewInstance-&gt;m_cameraRes));   //This</span></div>
<div class="line"><span class="lineno">  440</span>      <span class="comment">// one fits the panel, too.</span></div>
<div class="line"><span class="lineno">  441</span>      adaptView(flipbook, m_cameraRes);  <span class="comment">// This one adapts the view. If has</span></div>
<div class="line"><span class="lineno">  442</span>                                         <span class="comment">// associated fx, calls refresh...</span></div>
<div class="line"><span class="lineno">  443</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  444</span>      <span class="comment">// Retrieve the eventual sub-camera</span></div>
<div class="line"><span class="lineno">  445</span>      <a class="code hl_class" href="class_t_camera.html">TCamera</a> *currCamera = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()</div>
<div class="line"><span class="lineno">  446</span>                                -&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()</div>
<div class="line"><span class="lineno">  447</span>                                -&gt;getScene()</div>
<div class="line"><span class="lineno">  448</span>                                -&gt;getCurrentPreviewCamera();</div>
<div class="line"><span class="lineno">  449</span>      <a class="code hl_class" href="class_t_rect_t.html">TRect</a> subcameraRect(currCamera-&gt;<a class="code hl_function" href="class_t_camera.html#ad95e2b9f128939f1ce9777623643c69c">getInterestRect</a>());</div>
<div class="line"><span class="lineno">  450</span>      <span class="comment">/*-- Viewer上でサブカメラが指定されている状態でFxPreviewをした場合 --*/</span></div>
<div class="line"><span class="lineno">  451</span>      <span class="keywordflow">if</span> (subcameraRect.getLx() &gt; 0 &amp;&amp; subcameraRect.getLy() &gt; 0) {</div>
<div class="line"><span class="lineno">  452</span>        <span class="comment">/*-- サブカメラ枠のShrink --*/</span></div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordflow">if</span> (m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a> &gt; 1 || m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a> &gt; 1) {</div>
<div class="line"><span class="lineno">  454</span>          subcameraRect.x0 /= m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a>;</div>
<div class="line"><span class="lineno">  455</span>          subcameraRect.y0 /= m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a>;</div>
<div class="line"><span class="lineno">  456</span>          subcameraRect.x1 =</div>
<div class="line"><span class="lineno">  457</span>              (subcameraRect.x1 + 1) / m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a> - 1;</div>
<div class="line"><span class="lineno">  458</span>          subcameraRect.y1 =</div>
<div class="line"><span class="lineno">  459</span>              (subcameraRect.y1 + 1) / m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a> - 1;</div>
<div class="line"><span class="lineno">  460</span>        }</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>        <span class="comment">// Fit &amp; pan the panel to cover the sub-camera</span></div>
<div class="line"><span class="lineno">  463</span>        flipbook-&gt;adaptGeometry(subcameraRect, <a class="code hl_class" href="class_t_rect_t.html">TRect</a>(<a class="code hl_class" href="class_t_point_t.html">TPoint</a>(), m_cameraRes));</div>
<div class="line"><span class="lineno">  464</span>      }</div>
<div class="line"><span class="lineno">  465</span>    }</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>    <span class="comment">/*-- フリーズボタンの表示 --*/</span></div>
<div class="line"><span class="lineno">  468</span>    flipbook-&gt;<a class="code hl_function" href="class_flip_book.html#ad87f98266b74bb91a7bf6588924abba5">addFreezeButtonToTitleBar</a>();</div>
<div class="line"><span class="lineno">  469</span>  }</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>  m_flipbooks.insert(flipbook);</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>  <span class="comment">/*-- タイトルの設定。Previewコマンドから呼ばれた場合はisFullPreviewがON --*/</span></div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>  <span class="comment">// Build the fx string description - Should really be moved in a better</span></div>
<div class="line"><span class="lineno">  476</span>  <span class="comment">// function...</span></div>
<div class="line"><span class="lineno">  477</span>  std::wstring fxId;</div>
<div class="line"><span class="lineno">  478</span>  <a class="code hl_class" href="class_t_level_column_fx.html">TLevelColumnFx</a> *columnFx = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_t_level_column_fx.html">TLevelColumnFx</a> *<span class="keyword">&gt;</span>(m_fx.getPointer());</div>
<div class="line"><span class="lineno">  479</span>  <a class="code hl_class" href="class_t_zerary_column_fx.html">TZeraryColumnFx</a> *sfx     = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_t_zerary_column_fx.html">TZeraryColumnFx</a> *<span class="keyword">&gt;</span>(m_fx.getPointer());</div>
<div class="line"><span class="lineno">  480</span>  <span class="keywordflow">if</span> (columnFx)</div>
<div class="line"><span class="lineno">  481</span>    fxId =</div>
<div class="line"><span class="lineno">  482</span>        L<span class="stringliteral">&quot;Col&quot;</span> + QString::number(columnFx-&gt;getColumnIndex() + 1).toStdWString();</div>
<div class="line"><span class="lineno">  483</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sfx)</div>
<div class="line"><span class="lineno">  484</span>    fxId = sfx-&gt;getZeraryFx()-&gt;getFxId();</div>
<div class="line"><span class="lineno">  485</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  486</span>    fxId = m_fx-&gt;getFxId();</div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">if</span> (fxId.empty()) fxId = m_fx-&gt;getName();</div>
<div class="line"><span class="lineno">  488</span>  }</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>  <span class="comment">// Adjust the flipbook appropriately</span></div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>  <span class="comment">// Decorate the description for the flipbook</span></div>
<div class="line"><span class="lineno">  493</span>  <span class="keywordflow">if</span> (isFullPreview()) {</div>
<div class="line"><span class="lineno">  494</span>    flipbook-&gt;setTitle(</div>
<div class="line"><span class="lineno">  495</span>        <span class="comment">/*&quot;Rendered Frames  ::  From &quot; + QString::number(m_start+1) +</span></div>
<div class="line"><span class="lineno">  496</span><span class="comment">            &quot; To &quot; + QString::number(m_end+1) +</span></div>
<div class="line"><span class="lineno">  497</span><span class="comment">     &quot;  ::  Step &quot; + QString::number(m_step)*/</span></div>
<div class="line"><span class="lineno">  498</span>        QObject::tr(<span class="stringliteral">&quot;Rendered Frames  ::  From %1 To %2  ::  Step %3&quot;</span>)</div>
<div class="line"><span class="lineno">  499</span>            .arg(QString::number(m_start + 1))</div>
<div class="line"><span class="lineno">  500</span>            .arg(QString::number(m_end + 1))</div>
<div class="line"><span class="lineno">  501</span>            .arg(QString::number(m_step)));</div>
<div class="line"><span class="lineno">  502</span>    <a class="code hl_class" href="class_t_xsheet_1_1_sound_properties.html">TXsheet::SoundProperties</a> *prop = <span class="keyword">new</span> <a class="code hl_class" href="class_t_xsheet_1_1_sound_properties.html">TXsheet::SoundProperties</a>();</div>
<div class="line"><span class="lineno">  503</span>    prop-&gt;m_frameRate              = properties-&gt;<a class="code hl_function" href="class_t_output_properties.html#a0d9662971bc33097aa1b55111965b967">getFrameRate</a>();</div>
<div class="line"><span class="lineno">  504</span>    m_snd                          = m_xsheet-&gt;makeSound(prop);</div>
<div class="line"><span class="lineno">  505</span>    <span class="keywordflow">if</span> (Preferences::instance()-&gt;fitToFlipbookEnabled())</div>
<div class="line"><span class="lineno">  506</span>      flipbook-&gt;getImageViewer()-&gt;<a class="code hl_function" href="class_image_viewer.html#aaad0ef7fa1fb0ed91e36026e5e520e6d">adaptView</a>(<a class="code hl_class" href="class_t_rect_t.html">TRect</a>(m_cameraRes),</div>
<div class="line"><span class="lineno">  507</span>                                            <a class="code hl_class" href="class_t_rect_t.html">TRect</a>(m_cameraRes));</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  510</span>    flipbook-&gt;setTitle(</div>
<div class="line"><span class="lineno">  511</span>        QObject::tr(<span class="stringliteral">&quot;Preview FX :: %1 &quot;</span>).arg(QString::fromStdWString(fxId)));</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>  <span class="comment">// In case the render is a full preview, add the soundtrack</span></div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>  <span class="comment">// Associate the rendered level to flipbook</span></div>
<div class="line"><span class="lineno">  516</span>  flipbook-&gt;<a class="code hl_function" href="class_flip_book.html#ac70c72b88200e2821ea83f4273cb34e4">setLevel</a>(m_fx.getPointer(), m_xsheet.getPointer(),</div>
<div class="line"><span class="lineno">  517</span>                     m_level.getPointer(), 0, m_start + 1, m_end + 1, m_step,</div>
<div class="line"><span class="lineno">  518</span>                     currFrame + 1, m_snd.getPointer());</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>  <span class="comment">// Add the progress bar status pointer</span></div>
<div class="line"><span class="lineno">  521</span>  flipbook-&gt;setProgressBarStatus(&amp;m_pbStatus);</div>
<div class="line"><span class="lineno">  522</span>}</div>
<div class="ttc" id="aclass_flip_book_html_ac70c72b88200e2821ea83f4273cb34e4"><div class="ttname"><a href="class_flip_book.html#ac70c72b88200e2821ea83f4273cb34e4">FlipBook::setLevel</a></div><div class="ttdeci">void setLevel(const TFilePath &amp;path, TPalette *palette=0, int from=-1, int to=-1, int step=1, int shrink=1, TSoundTrack *snd=0, bool append=false, bool isToonzOutput=false)</div><div class="ttdef"><b>Definition:</b> flipbook.cpp:1024</div></div>
<div class="ttc" id="aclass_flip_book_html_ad87f98266b74bb91a7bf6588924abba5"><div class="ttname"><a href="class_flip_book.html#ad87f98266b74bb91a7bf6588924abba5">FlipBook::addFreezeButtonToTitleBar</a></div><div class="ttdeci">void addFreezeButtonToTitleBar()</div><div class="ttdef"><b>Definition:</b> flipbook.cpp:257</div></div>
<div class="ttc" id="aclass_flip_book_pool_html_aa110af5e7e2650be4540744f53de314b"><div class="ttname"><a href="class_flip_book_pool.html#aa110af5e7e2650be4540744f53de314b">FlipBookPool::pop</a></div><div class="ttdeci">FlipBook * pop()</div><div class="ttdef"><b>Definition:</b> flipbook.cpp:875</div></div>
<div class="ttc" id="aclass_image_viewer_html_aaad0ef7fa1fb0ed91e36026e5e520e6d"><div class="ttname"><a href="class_image_viewer.html#aaad0ef7fa1fb0ed91e36026e5e520e6d">ImageViewer::adaptView</a></div><div class="ttdeci">void adaptView(const TRect &amp;imgRect, const TRect &amp;viewRect)</div><div class="ttdef"><b>Definition:</b> imageviewer.cpp:1362</div></div>
<div class="ttc" id="aclass_t_app_html"><div class="ttname"><a href="class_t_app.html">TApp</a></div><div class="ttdoc">This is the instance of the main application.</div><div class="ttdef"><b>Definition:</b> tapp.h:66</div></div>
<div class="ttc" id="aclass_t_app_html_a24088f8647d5d9447fcec6b9b9bbf9eb"><div class="ttname"><a href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a></div><div class="ttdeci">static TApp * instance()</div><div class="ttdef"><b>Definition:</b> tapp.cpp:215</div></div>
<div class="ttc" id="aclass_t_app_html_a35516f8175dab3ccdf3d6d3c3e5f59ae"><div class="ttname"><a href="class_t_app.html#a35516f8175dab3ccdf3d6d3c3e5f59ae">TApp::getCurrentFrame</a></div><div class="ttdeci">TFrameHandle * getCurrentFrame() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:114</div></div>
<div class="ttc" id="aclass_t_app_html_abbbf1fae564e9e510826eda4f6637d20"><div class="ttname"><a href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">TApp::getCurrentScene</a></div><div class="ttdeci">TSceneHandle * getCurrentScene() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:106</div></div>
<div class="ttc" id="aclass_t_camera_html"><div class="ttname"><a href="class_t_camera.html">TCamera</a></div><div class="ttdoc">The TCamera class provides a camera and allows its management.</div><div class="ttdef"><b>Definition:</b> tcamera.h:33</div></div>
<div class="ttc" id="aclass_t_camera_html_ad95e2b9f128939f1ce9777623643c69c"><div class="ttname"><a href="class_t_camera.html#ad95e2b9f128939f1ce9777623643c69c">TCamera::getInterestRect</a></div><div class="ttdeci">TRect getInterestRect() const</div><div class="ttdef"><b>Definition:</b> tcamera.h:115</div></div>
<div class="ttc" id="aclass_t_level_column_fx_html"><div class="ttname"><a href="class_t_level_column_fx.html">TLevelColumnFx</a></div><div class="ttdef"><b>Definition:</b> tcolumnfx.h:62</div></div>
<div class="ttc" id="aclass_t_output_properties_html"><div class="ttname"><a href="class_t_output_properties.html">TOutputProperties</a></div><div class="ttdef"><b>Definition:</b> toutputproperties.h:63</div></div>
<div class="ttc" id="aclass_t_output_properties_html_a0d9662971bc33097aa1b55111965b967"><div class="ttname"><a href="class_t_output_properties.html#a0d9662971bc33097aa1b55111965b967">TOutputProperties::getFrameRate</a></div><div class="ttdeci">double getFrameRate() const</div><div class="ttdef"><b>Definition:</b> toutputproperties.h:175</div></div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_rect_t_html"><div class="ttname"><a href="class_t_rect_t.html">TRectT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_render_settings_html_a52dd41881bbf6aaf953fe300be2e233e"><div class="ttname"><a href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">TRenderSettings::m_shrinkX</a></div><div class="ttdeci">int m_shrinkX</div><div class="ttdef"><b>Definition:</b> trasterfx.h:125</div></div>
<div class="ttc" id="aclass_t_render_settings_html_ae1882f584ce9ffad12ce6bf9ff23814c"><div class="ttname"><a href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">TRenderSettings::m_shrinkY</a></div><div class="ttdeci">int m_shrinkY</div><div class="ttdef"><b>Definition:</b> trasterfx.h:126</div></div>
<div class="ttc" id="aclass_t_scene_properties_html_a0b905e0ea16e27aa5e67da31e469026e"><div class="ttname"><a href="class_t_scene_properties.html#a0b905e0ea16e27aa5e67da31e469026e">TSceneProperties::getPreviewProperties</a></div><div class="ttdeci">TOutputProperties * getPreviewProperties() const</div><div class="ttdef"><b>Definition:</b> sceneproperties.h:151</div></div>
<div class="ttc" id="aclass_t_xsheet_1_1_sound_properties_html"><div class="ttname"><a href="class_t_xsheet_1_1_sound_properties.html">TXsheet::SoundProperties</a></div><div class="ttdef"><b>Definition:</b> txsheet.h:136</div></div>
<div class="ttc" id="aclass_t_zerary_column_fx_html"><div class="ttname"><a href="class_t_zerary_column_fx.html">TZeraryColumnFx</a></div><div class="ttdef"><b>Definition:</b> tcolumnfx.h:176</div></div>
<div class="ttc" id="aclass_toonz_scene_html"><div class="ttname"><a href="class_toonz_scene.html">ToonzScene</a></div><div class="ttdef"><b>Definition:</b> toonzscene.h:42</div></div>
<div class="ttc" id="aclass_toonz_scene_html_a8ef96fedc17d7def810ac419b0939254"><div class="ttname"><a href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">ToonzScene::getProperties</a></div><div class="ttdeci">TSceneProperties * getProperties() const</div><div class="ttdoc">&lt; Returns a pointer to the scene's properties.</div><div class="ttdef"><b>Definition:</b> toonzscene.h:87</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a57e09100813885795ae780781b8bc55c" name="a57e09100813885795ae780781b8bc55c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57e09100813885795ae780781b8bc55c">&#9670;&nbsp;</a></span>detachFlipbook()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::detachFlipbook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_flip_book.html">FlipBook</a> *&#160;</td>
          <td class="paramname"><em>flipbook</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  526</span>                                                         {</div>
<div class="line"><span class="lineno">  527</span>  <span class="comment">// Just remove the flipbook from the flipbooks container</span></div>
<div class="line"><span class="lineno">  528</span>  std::set&lt;FlipBook *&gt;::iterator it = m_flipbooks.find(flipbook);</div>
<div class="line"><span class="lineno">  529</span>  <span class="keywordflow">if</span> (it == m_flipbooks.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>  m_flipbooks.erase(it);</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>  <span class="comment">// If the flipbook set associated with the render is now empty, stop the</span></div>
<div class="line"><span class="lineno">  534</span>  <span class="comment">// render</span></div>
<div class="line"><span class="lineno">  535</span>  <span class="keywordflow">if</span> (m_flipbooks.empty()) m_renderer.stopRendering();</div>
<div class="line"><span class="lineno">  536</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae458548c9a63bb85c73d4f8f799a8ede" name="ae458548c9a63bb85c73d4f8f799a8ede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae458548c9a63bb85c73d4f8f799a8ede">&#9670;&nbsp;</a></span>doOnRenderRasterCompleted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::doOnRenderRasterCompleted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1060</span>                                             {</div>
<div class="line"><span class="lineno"> 1061</span>  std::string cacheId(getCacheId(m_fx, renderData.<a class="code hl_variable" href="struct_t_render_port_1_1_render_data.html#af4f12632267aa8902e5738bc5e04e9d5">m_frames</a>[0]));</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span>  <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> ri(TImageCache::instance()-&gt;get(cacheId, <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno"> 1064</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> ras;</div>
<div class="line"><span class="lineno"> 1065</span>  <span class="keywordflow">if</span> (ri)</div>
<div class="line"><span class="lineno"> 1066</span>    ras = ri-&gt;getRaster();</div>
<div class="line"><span class="lineno"> 1067</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1068</span>    ras = 0;</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>  <span class="comment">/*-- 16bpcで計算された場合、結果をDitheringする --*/</span></div>
<div class="line"><span class="lineno"> 1071</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> rasA = renderData.m_rasA;</div>
<div class="line"><span class="lineno"> 1072</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> rasB = renderData.<a class="code hl_variable" href="struct_t_render_port_1_1_render_data.html#a9294fb22acd75bb3d06ac5941ab35c45">m_rasB</a>;</div>
<div class="line"><span class="lineno"> 1073</span>  <span class="comment">// dither the 16bpc image IF the &quot;30bit display&quot; preference option is OFF</span></div>
<div class="line"><span class="lineno"> 1074</span>  <span class="keywordflow">if</span> (rasA-&gt;getPixelSize() == 8 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1075</span>      !Preferences::instance()-&gt;is30bitDisplayEnabled())  <span class="comment">// render in 64 bits</span></div>
<div class="line"><span class="lineno"> 1076</span>  {</div>
<div class="line"><span class="lineno"> 1077</span>    <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> auxA(rasA-&gt;getLx(), rasA-&gt;getLy());</div>
<div class="line"><span class="lineno"> 1078</span>    <a class="code hl_function" href="namespace_t_rop.html#a45a08fb48dd7d33ec629d722081d55c6">TRop::convert</a>(auxA, rasA);  <span class="comment">// dithering</span></div>
<div class="line"><span class="lineno"> 1079</span>    rasA = auxA;</div>
<div class="line"><span class="lineno"> 1080</span>    <span class="keywordflow">if</span> (m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">m_stereoscopic</a>) {</div>
<div class="line"><span class="lineno"> 1081</span>      assert(rasB);</div>
<div class="line"><span class="lineno"> 1082</span>      <a class="code hl_class" href="class_t_raster_p_t.html">TRaster32P</a> auxB(rasB-&gt;getLx(), rasB-&gt;getLy());</div>
<div class="line"><span class="lineno"> 1083</span>      <a class="code hl_function" href="namespace_t_rop.html#a45a08fb48dd7d33ec629d722081d55c6">TRop::convert</a>(auxB, rasB);  <span class="comment">// dithering</span></div>
<div class="line"><span class="lineno"> 1084</span>      rasB = auxB;</div>
<div class="line"><span class="lineno"> 1085</span>    }</div>
<div class="line"><span class="lineno"> 1086</span>  }</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>  <span class="keywordflow">if</span> (!ras || (ras-&gt;getSize() != m_cameraRes)) {</div>
<div class="line"><span class="lineno"> 1089</span>    TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(cacheId);</div>
<div class="line"><span class="lineno"> 1090</span> </div>
<div class="line"><span class="lineno"> 1091</span>    <span class="comment">// Create the raster at camera resolution</span></div>
<div class="line"><span class="lineno"> 1092</span>    ras = rasA-&gt;create(m_cameraRes.lx, m_cameraRes.ly);</div>
<div class="line"><span class="lineno"> 1093</span>    ras-&gt;clear();</div>
<div class="line"><span class="lineno"> 1094</span>    ri = <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a>(ras);</div>
<div class="line"><span class="lineno"> 1095</span>  }</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>  <span class="comment">// Finally, copy the rendered raster over the cached one</span></div>
<div class="line"><span class="lineno"> 1098</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> rectUnderRender(</div>
<div class="line"><span class="lineno"> 1099</span>      m_rectUnderRender);  <span class="comment">// Extract may MODIFY IT! E.g. with shrinks..!</span></div>
<div class="line"><span class="lineno"> 1100</span>  ras = ras-&gt;extract(rectUnderRender);</div>
<div class="line"><span class="lineno"> 1101</span>  <span class="keywordflow">if</span> (ras) {</div>
<div class="line"><span class="lineno"> 1102</span>    <span class="keywordflow">if</span> (m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">m_stereoscopic</a>) {</div>
<div class="line"><span class="lineno"> 1103</span>      assert(rasB);</div>
<div class="line"><span class="lineno"> 1104</span>      TRop::makeStereoRaster(rasA, rasB);</div>
<div class="line"><span class="lineno"> 1105</span>    }</div>
<div class="line"><span class="lineno"> 1106</span>    ras-&gt;copy(rasA);</div>
<div class="line"><span class="lineno"> 1107</span>  }</div>
<div class="line"><span class="lineno"> 1108</span>  <span class="comment">// Submit the image to the cache, for all cluster&#39;s frames</span></div>
<div class="line"><span class="lineno"> 1109</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, size = renderData.<a class="code hl_variable" href="struct_t_render_port_1_1_render_data.html#af4f12632267aa8902e5738bc5e04e9d5">m_frames</a>.size();</div>
<div class="line"><span class="lineno"> 1110</span>  <span class="keywordflow">for</span> (i = 0; i &lt; size; ++i) {</div>
<div class="line"><span class="lineno"> 1111</span>    <span class="keywordtype">int</span> frame = renderData.<a class="code hl_variable" href="struct_t_render_port_1_1_render_data.html#af4f12632267aa8902e5738bc5e04e9d5">m_frames</a>[i];</div>
<div class="line"><span class="lineno"> 1112</span>    TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">add</a>(getCacheId(m_fx, frame), ri);</div>
<div class="line"><span class="lineno"> 1113</span> </div>
<div class="line"><span class="lineno"> 1114</span>    <span class="comment">// Update the pb status</span></div>
<div class="line"><span class="lineno"> 1115</span>    <span class="keywordtype">int</span> pbIndex = (frame - m_start) / m_step;</div>
<div class="line"><span class="lineno"> 1116</span>    <span class="keywordflow">if</span> (pbIndex &gt;= 0 &amp;&amp; pbIndex &lt; (<span class="keywordtype">int</span>)m_pbStatus.size())</div>
<div class="line"><span class="lineno"> 1117</span>      m_pbStatus[pbIndex] = FlipSlider::PBFrameFinished;</div>
<div class="line"><span class="lineno"> 1118</span> </div>
<div class="line"><span class="lineno"> 1119</span>    <span class="comment">// Update the frame-specific rendered region</span></div>
<div class="line"><span class="lineno"> 1120</span>    std::map&lt;int, FrameInfo&gt;::iterator jt = m_frameInfos.find(frame);</div>
<div class="line"><span class="lineno"> 1121</span>    assert(jt != m_frameInfos.end());</div>
<div class="line"><span class="lineno"> 1122</span>    jt-&gt;second.m_renderedRegion += toQRect(m_rectUnderRender);</div>
<div class="line"><span class="lineno"> 1123</span> </div>
<div class="line"><span class="lineno"> 1124</span>    std::set&lt;FlipBook *&gt;::iterator it;</div>
<div class="line"><span class="lineno"> 1125</span>    <span class="keywordtype">int</span> renderedFrame = frame + 1;</div>
<div class="line"><span class="lineno"> 1126</span>    <span class="keywordflow">for</span> (it = m_flipbooks.begin(); it != m_flipbooks.end(); ++it)</div>
<div class="line"><span class="lineno"> 1127</span>      <span class="keywordflow">if</span> ((*it)-&gt;getCurrentFrame() == renderedFrame)</div>
<div class="line"><span class="lineno"> 1128</span>        (*it)-&gt;showFrame(renderedFrame);</div>
<div class="line"><span class="lineno"> 1129</span>  }</div>
<div class="line"><span class="lineno"> 1130</span> </div>
<div class="line"><span class="lineno"> 1131</span>  updateFlipbooks();</div>
<div class="line"><span class="lineno"> 1132</span>}</div>
<div class="ttc" id="aclass_t_image_cache_html_a124eae4cf370288f42c22b3477cb5163"><div class="ttname"><a href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">TImageCache::add</a></div><div class="ttdeci">void add(const std::string &amp;id, const TImageP &amp;img, bool overwrite=true)</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1153</div></div>
<div class="ttc" id="aclass_t_image_cache_html_a57d63227dfe2532b0aed22c47113be66"><div class="ttname"><a href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">TImageCache::remove</a></div><div class="ttdeci">void remove(const std::string &amp;id)</div><div class="ttdoc">Removes from the image cache the image associated to passed id.</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1260</div></div>
<div class="ttc" id="aclass_t_raster_image_p_html"><div class="ttname"><a href="class_t_raster_image_p.html">TRasterImageP</a></div><div class="ttdef"><b>Definition:</b> trasterimage.h:148</div></div>
<div class="ttc" id="aclass_t_raster_p_t_html"><div class="ttname"><a href="class_t_raster_p_t.html">TRasterPT&lt; TPixel32 &gt;</a></div></div>
<div class="ttc" id="aclass_t_render_settings_html_aadbd5a3a50b242b366a93023d5f7da07"><div class="ttname"><a href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">TRenderSettings::m_stereoscopic</a></div><div class="ttdeci">bool m_stereoscopic</div><div class="ttdef"><b>Definition:</b> trasterfx.h:133</div></div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TRaster &gt;</a></div></div>
<div class="ttc" id="anamespace_t_rop_html_a45a08fb48dd7d33ec629d722081d55c6"><div class="ttname"><a href="namespace_t_rop.html#a45a08fb48dd7d33ec629d722081d55c6">TRop::convert</a></div><div class="ttdeci">DVAPI void convert(TRasterP dst, const TRasterP &amp;src)</div><div class="ttdoc">Convert src raster in raster type dst.</div><div class="ttdef"><b>Definition:</b> tconvert.cpp:336</div></div>
<div class="ttc" id="astruct_t_render_port_1_1_render_data_html_a9294fb22acd75bb3d06ac5941ab35c45"><div class="ttname"><a href="struct_t_render_port_1_1_render_data.html#a9294fb22acd75bb3d06ac5941ab35c45">TRenderPort::RenderData::m_rasB</a></div><div class="ttdeci">TRasterP m_rasB</div><div class="ttdef"><b>Definition:</b> trenderer.h:94</div></div>
<div class="ttc" id="astruct_t_render_port_1_1_render_data_html_af4f12632267aa8902e5738bc5e04e9d5"><div class="ttname"><a href="struct_t_render_port_1_1_render_data.html#af4f12632267aa8902e5738bc5e04e9d5">TRenderPort::RenderData::m_frames</a></div><div class="ttdeci">std::vector&lt; double &gt; m_frames</div><div class="ttdoc">Frames this output represents.</div><div class="ttdef"><b>Definition:</b> trenderer.h:92</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad17a88cfd8ba639ad7f68ab55526b83f" name="ad17a88cfd8ba639ad7f68ab55526b83f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad17a88cfd8ba639ad7f68ab55526b83f">&#9670;&nbsp;</a></span>doOnRenderRasterStarted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::doOnRenderRasterStarted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1041</span>                                             {</div>
<div class="line"><span class="lineno"> 1042</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, size = renderData.<a class="code hl_variable" href="struct_t_render_port_1_1_render_data.html#af4f12632267aa8902e5738bc5e04e9d5">m_frames</a>.size();</div>
<div class="line"><span class="lineno"> 1043</span>  <span class="keywordflow">for</span> (i = 0; i &lt; size; ++i)</div>
<div class="line"><span class="lineno"> 1044</span>    <span class="comment">// Update the pb status for each cluster&#39;s frame</span></div>
<div class="line"><span class="lineno"> 1045</span>    m_pbStatus[(renderData.<a class="code hl_variable" href="struct_t_render_port_1_1_render_data.html#af4f12632267aa8902e5738bc5e04e9d5">m_frames</a>[i] - m_start) / m_step] =</div>
<div class="line"><span class="lineno"> 1046</span>        FlipSlider::PBFrameStarted;</div>
<div class="line"><span class="lineno"> 1047</span> </div>
<div class="line"><span class="lineno"> 1048</span>  <span class="comment">/*-- 計算中の赤枠を表示する --*/</span></div>
<div class="line"><span class="lineno"> 1049</span>  std::set&lt;FlipBook *&gt;::iterator it;</div>
<div class="line"><span class="lineno"> 1050</span>  <span class="keywordflow">for</span> (it = m_flipbooks.begin(); it != m_flipbooks.end(); ++it)</div>
<div class="line"><span class="lineno"> 1051</span>    (*it)-&gt;setIsRemakingPreviewFx(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>  updateFlipbooks();</div>
<div class="line"><span class="lineno"> 1054</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d23c0846fa6216b977b72497240d757" name="a9d23c0846fa6216b977b72497240d757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d23c0846fa6216b977b72497240d757">&#9670;&nbsp;</a></span>isSubCameraActive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool PreviewFxInstance::isSubCameraActive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  250</span>{ <span class="keywordflow">return</span> m_subcamera; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fe7eae13164cc0bd28f168cb7f0e07a" name="a3fe7eae13164cc0bd28f168cb7f0e07a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe7eae13164cc0bd28f168cb7f0e07a">&#9670;&nbsp;</a></span>onRenderFailure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::onRenderFailure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_exception.html">TException</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1137</span>                                                            {</div>
<div class="line"><span class="lineno"> 1138</span>  m_renderFailed = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1139</span> </div>
<div class="line"><span class="lineno"> 1140</span>  <span class="comment">// Update each frame status</span></div>
<div class="line"><span class="lineno"> 1141</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, size = renderData.<a class="code hl_variable" href="struct_t_render_port_1_1_render_data.html#af4f12632267aa8902e5738bc5e04e9d5">m_frames</a>.size();</div>
<div class="line"><span class="lineno"> 1142</span>  <span class="keywordflow">for</span> (i = 0; i &lt; size; ++i) {</div>
<div class="line"><span class="lineno"> 1143</span>    <span class="keywordtype">int</span> frame = renderData.<a class="code hl_variable" href="struct_t_render_port_1_1_render_data.html#af4f12632267aa8902e5738bc5e04e9d5">m_frames</a>[i];</div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span>    <span class="comment">// Update the pb status</span></div>
<div class="line"><span class="lineno"> 1146</span>    <span class="keywordtype">int</span> pbIndex = (frame - m_start) / m_step;</div>
<div class="line"><span class="lineno"> 1147</span>    <span class="keywordflow">if</span> (pbIndex &gt;= 0 &amp;&amp; pbIndex &lt; (<span class="keywordtype">int</span>)m_pbStatus.size())</div>
<div class="line"><span class="lineno"> 1148</span>      m_pbStatus[pbIndex] = FlipSlider::PBFrameNotStarted;</div>
<div class="line"><span class="lineno"> 1149</span>  }</div>
<div class="line"><span class="lineno"> 1150</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afd6d3b954582af841ebdd2d5c8280a41" name="afd6d3b954582af841ebdd2d5c8280a41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd6d3b954582af841ebdd2d5c8280a41">&#9670;&nbsp;</a></span>onRenderFinished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::onRenderFinished </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isCanceled</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1154</span>                                                        {</div>
<div class="line"><span class="lineno"> 1155</span>  <span class="comment">// Update the rendered region</span></div>
<div class="line"><span class="lineno"> 1156</span>  <span class="keywordflow">if</span> (!m_renderFailed &amp;&amp; !isCanceled)</div>
<div class="line"><span class="lineno"> 1157</span>    m_overallRenderedRegion += toQRect(m_rectUnderRender);</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>  <span class="comment">/*-- 計算中の赤枠の表示を消す --*/</span></div>
<div class="line"><span class="lineno"> 1160</span>  std::set&lt;FlipBook *&gt;::iterator it;</div>
<div class="line"><span class="lineno"> 1161</span>  <span class="keywordflow">for</span> (it = m_flipbooks.begin(); it != m_flipbooks.end(); ++it)</div>
<div class="line"><span class="lineno"> 1162</span>    (*it)-&gt;setIsRemakingPreviewFx(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1163</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4cba19459b82cb62f421e5ce318a5203" name="a4cba19459b82cb62f421e5ce318a5203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cba19459b82cb62f421e5ce318a5203">&#9670;&nbsp;</a></span>onRenderRasterCompleted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::onRenderRasterCompleted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1032</span>                                             {</div>
<div class="line"><span class="lineno"> 1033</span>  <a class="code hl_function" href="class_preview_fx_manager.html#a540923ef1e799396ddf8bba11bb3c8c6">PreviewFxManager::instance</a>()-&gt;emitRenderedFrame(m_fx-&gt;getIdentifier(),</div>
<div class="line"><span class="lineno"> 1034</span>                                                  renderData);</div>
<div class="line"><span class="lineno"> 1035</span>}</div>
<div class="ttc" id="aclass_preview_fx_manager_html_a540923ef1e799396ddf8bba11bb3c8c6"><div class="ttname"><a href="class_preview_fx_manager.html#a540923ef1e799396ddf8bba11bb3c8c6">PreviewFxManager::instance</a></div><div class="ttdeci">static PreviewFxManager * instance()</div><div class="ttdoc">Returns the instance of the PreviewFxManager object.</div><div class="ttdef"><b>Definition:</b> previewfxmanager.cpp:1219</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3446aec5136735b6ff46252bcbe31c63" name="a3446aec5136735b6ff46252bcbe31c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3446aec5136735b6ff46252bcbe31c63">&#9670;&nbsp;</a></span>onRenderRasterStarted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::onRenderRasterStarted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">TRenderPort::RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1024</span>                                             {</div>
<div class="line"><span class="lineno"> 1025</span>  <a class="code hl_function" href="class_preview_fx_manager.html#a540923ef1e799396ddf8bba11bb3c8c6">PreviewFxManager::instance</a>()-&gt;emitStartedFrame(m_fx-&gt;getIdentifier(),</div>
<div class="line"><span class="lineno"> 1026</span>                                                 renderData);</div>
<div class="line"><span class="lineno"> 1027</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e2a13a03afc8e7ab8c4a309a12b5e7a" name="a0e2a13a03afc8e7ab8c4a309a12b5e7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e2a13a03afc8e7ab8c4a309a12b5e7a">&#9670;&nbsp;</a></span>refreshViewRects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::refreshViewRects </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rebuild</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  891</span>                                                     {</div>
<div class="line"><span class="lineno">  892</span>  <span class="keywordflow">if</span> (suspendedRendering) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span>  <span class="keywordflow">if</span> (m_flipbooks.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span>  <span class="comment">// Stop any currently running render process. It *should not* be necessary to</span></div>
<div class="line"><span class="lineno">  897</span>  <span class="comment">// wait for complete stop.</span></div>
<div class="line"><span class="lineno">  898</span>  <span class="comment">// WARNING: This requires that different rendering instances are</span></div>
<div class="line"><span class="lineno">  899</span>  <span class="comment">// simultaneously</span></div>
<div class="line"><span class="lineno">  900</span>  <span class="comment">// supported in a single TRenderer...!! We&#39;re not currently supporting this...</span></div>
<div class="line"><span class="lineno">  901</span>  {</div>
<div class="line"><span class="lineno">  902</span>    <span class="comment">// NOTE: stopRendering(true) LOOPS and may trigger events which delete this</span></div>
<div class="line"><span class="lineno">  903</span>    <span class="comment">// very</span></div>
<div class="line"><span class="lineno">  904</span>    <span class="comment">// render instance. So we have to watch inside the manager to see if this is</span></div>
<div class="line"><span class="lineno">  905</span>    <span class="comment">// still</span></div>
<div class="line"><span class="lineno">  906</span>    <span class="comment">// alive... The following should be removed using stopRendering(false)...</span></div>
<div class="line"><span class="lineno">  907</span>    <span class="comment">// NOTE: The same problem imposes that refreshViewRects() is not invoked</span></div>
<div class="line"><span class="lineno">  908</span>    <span class="comment">// directly</span></div>
<div class="line"><span class="lineno">  909</span>    <span class="comment">// when iterating the previewInstances map - we&#39;ve used a signal-slot</span></div>
<div class="line"><span class="lineno">  910</span>    <span class="comment">// connection for this.</span></div>
<div class="line"><span class="lineno">  911</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> fxId = m_fx-&gt;getIdentifier();</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>    m_renderer.stopRendering(<span class="keyword">true</span>);  <span class="comment">// Wait until we&#39;ve finished</span></div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>    QMap&lt;unsigned long, PreviewFxInstance *&gt; &amp;previewInstances =</div>
<div class="line"><span class="lineno">  916</span>        <a class="code hl_function" href="class_preview_fx_manager.html#a540923ef1e799396ddf8bba11bb3c8c6">PreviewFxManager::instance</a>()-&gt;m_previewInstances;</div>
<div class="line"><span class="lineno">  917</span>    <span class="keywordflow">if</span> (previewInstances.find(fxId) == previewInstances.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  918</span>  }</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>  <span class="keywordflow">if</span> (suspendedRendering) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>  updatePreviewRect();</div>
<div class="line"><span class="lineno">  923</span>  updateProgressBarStatus();</div>
<div class="line"><span class="lineno">  924</span>  updateFlipbooks();</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>  startRender(rebuild);</div>
<div class="line"><span class="lineno">  927</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bfb1e7aff8c279a35914d21e3a8e1b1" name="a2bfb1e7aff8c279a35914d21e3a8e1b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bfb1e7aff8c279a35914d21e3a8e1b1">&#9670;&nbsp;</a></span>reset() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Clears the preview instance information, including cached images. Information needed to preview again are rebuilt. </p>
<div class="fragment"><div class="line"><span class="lineno">  402</span>                              {</div>
<div class="line"><span class="lineno">  403</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  404</span>  <span class="keywordflow">for</span> (i = m_start; i &lt;= m_end; i += m_step)</div>
<div class="line"><span class="lineno">  405</span>    TImageCache::instance()-&gt;remove(getCacheId(m_fx, i));</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>  m_frameInfos.clear();</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>  updateFrameRange();</div>
<div class="line"><span class="lineno">  410</span>  updateRenderSettings();</div>
<div class="line"><span class="lineno">  411</span>  updateCamera();</div>
<div class="line"><span class="lineno">  412</span>  updateFlipbookTitles();</div>
<div class="line"><span class="lineno">  413</span>  updateAliases();</div>
<div class="line"><span class="lineno">  414</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01260">TImageCache::remove()</a>.</p>

</div>
</div>
<a id="af533f6caaf4610d3d2abdff3ef8b0e50" name="af533f6caaf4610d3d2abdff3ef8b0e50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af533f6caaf4610d3d2abdff3ef8b0e50">&#9670;&nbsp;</a></span>reset() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::reset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Clears the preview instance information about passed frame, including any cached image. Information needed to preview again are NOT rebuilt. </p>
<div class="fragment"><div class="line"><span class="lineno">  385</span>                                       {</div>
<div class="line"><span class="lineno">  386</span>  TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(getCacheId(m_fx, frame));</div>
<div class="line"><span class="lineno">  387</span>  std::map&lt;int, FrameInfo&gt;::iterator it = m_frameInfos.find(frame);</div>
<div class="line"><span class="lineno">  388</span>  <span class="keywordflow">if</span> (it != m_frameInfos.end()) {</div>
<div class="line"><span class="lineno">  389</span>    <a class="code hl_class" href="class_t_raster_fx_p.html">TRasterFxP</a> builtFx = buildSceneFx(frame);</div>
<div class="line"><span class="lineno">  390</span>    it-&gt;second.m_alias =</div>
<div class="line"><span class="lineno">  391</span>        builtFx ? builtFx-&gt;getAlias(frame, m_renderSettings) : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  392</span>    it-&gt;second.m_renderedRegion = QRegion();</div>
<div class="line"><span class="lineno">  393</span>    m_overallRenderedRegion     = QRegion();</div>
<div class="line"><span class="lineno">  394</span>  }</div>
<div class="line"><span class="lineno">  395</span>}</div>
<div class="ttc" id="aclass_t_raster_fx_p_html"><div class="ttname"><a href="class_t_raster_fx_p.html">TRasterFxP</a></div><div class="ttdef"><b>Definition:</b> trasterfx.h:317</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01260">TImageCache::remove()</a>.</p>

</div>
</div>
<a id="a7a94e101ac882fe90c6be5b07cee7d4e" name="a7a94e101ac882fe90c6be5b07cee7d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a94e101ac882fe90c6be5b07cee7d4e">&#9670;&nbsp;</a></span>updateAliases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::updateAliases </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  651</span>                                      {</div>
<div class="line"><span class="lineno">  652</span>  <span class="keywordflow">if</span> (m_start &gt; m_end) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>  std::string newAlias;</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>  <span class="comment">// Build and compare the new aliases with the stored ones</span></div>
<div class="line"><span class="lineno">  657</span>  std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  658</span>  <span class="keywordflow">for</span> (it = m_frameInfos.begin(); it != m_frameInfos.end(); ++it) {</div>
<div class="line"><span class="lineno">  659</span>    <a class="code hl_class" href="class_t_raster_fx_p.html">TRasterFxP</a> builtFx = buildSceneFx(it-&gt;first);</div>
<div class="line"><span class="lineno">  660</span>    newAlias = builtFx ? builtFx-&gt;getAlias(it-&gt;first, m_renderSettings) : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  661</span>    <span class="keywordflow">if</span> (newAlias != it-&gt;second.m_alias) {</div>
<div class="line"><span class="lineno">  662</span>      <span class="comment">// Clear the overall and frame-specific rendered regions</span></div>
<div class="line"><span class="lineno">  663</span>      m_overallRenderedRegion     = QRegion();</div>
<div class="line"><span class="lineno">  664</span>      it-&gt;second.m_renderedRegion = QRegion();</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>      it-&gt;second.m_alias = newAlias;</div>
<div class="line"><span class="lineno">  667</span>    }</div>
<div class="line"><span class="lineno">  668</span>  }</div>
<div class="line"><span class="lineno">  669</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a84580d14b2e2b4c74b281f4c9b6ef1eb" name="a84580d14b2e2b4c74b281f4c9b6ef1eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84580d14b2e2b4c74b281f4c9b6ef1eb">&#9670;&nbsp;</a></span>updateAliasKeyword()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::updateAliasKeyword </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>keyword</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  673</span>                                                                   {</div>
<div class="line"><span class="lineno">  674</span>  <span class="keywordflow">if</span> (m_start &gt; m_end) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>  <span class="comment">// Remove the rendered image whose alias contains keyword</span></div>
<div class="line"><span class="lineno">  677</span>  std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  678</span>  <span class="keywordflow">for</span> (it = m_frameInfos.begin(); it != m_frameInfos.end(); ++it) {</div>
<div class="line"><span class="lineno">  679</span>    <span class="keywordflow">if</span> (it-&gt;second.m_alias.find(keyword) != std::string::npos) {</div>
<div class="line"><span class="lineno">  680</span>      <span class="comment">// Clear the overall and frame-specific rendered regions</span></div>
<div class="line"><span class="lineno">  681</span>      m_overallRenderedRegion     = QRegion();</div>
<div class="line"><span class="lineno">  682</span>      it-&gt;second.m_renderedRegion = QRegion();</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>      <span class="comment">// Clear the cached image</span></div>
<div class="line"><span class="lineno">  685</span>      <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> ri =</div>
<div class="line"><span class="lineno">  686</span>          TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#aea3ac2752efd6fa9689f5a7c1e895e41">get</a>(getCacheId(m_fx, it-&gt;first), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  687</span>      <span class="keywordflow">if</span> (ri) ri-&gt;getRaster()-&gt;clear();</div>
<div class="line"><span class="lineno">  688</span>    }</div>
<div class="line"><span class="lineno">  689</span>  }</div>
<div class="line"><span class="lineno">  690</span>}</div>
<div class="ttc" id="aclass_t_image_cache_html_aea3ac2752efd6fa9689f5a7c1e895e41"><div class="ttname"><a href="class_t_image_cache.html#aea3ac2752efd6fa9689f5a7c1e895e41">TImageCache::get</a></div><div class="ttdeci">TImageP get(const std::string &amp;id, bool toBeModified) const</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1672</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6f20d2d48bdc184c450da167ad34bf1" name="aa6f20d2d48bdc184c450da167ad34bf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6f20d2d48bdc184c450da167ad34bf1">&#9670;&nbsp;</a></span>updateCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::updateCamera </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  735</span>                                     {</div>
<div class="line"><span class="lineno">  736</span>  <span class="comment">// Clear the overall rendered region</span></div>
<div class="line"><span class="lineno">  737</span>  m_overallRenderedRegion = QRegion();</div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>  <span class="comment">// Retrieve the preview camera</span></div>
<div class="line"><span class="lineno">  740</span>  <a class="code hl_class" href="class_t_camera.html">TCamera</a> *currCamera = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()</div>
<div class="line"><span class="lineno">  741</span>                            -&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()</div>
<div class="line"><span class="lineno">  742</span>                            -&gt;getScene()</div>
<div class="line"><span class="lineno">  743</span>                            -&gt;getCurrentPreviewCamera();</div>
<div class="line"><span class="lineno">  744</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> subCameraRect = currCamera-&gt;<a class="code hl_function" href="class_t_camera.html#ad95e2b9f128939f1ce9777623643c69c">getInterestRect</a>();</div>
<div class="line"><span class="lineno">  745</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> cameraPos(-0.5 * currCamera-&gt;<a class="code hl_function" href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">getRes</a>().lx,</div>
<div class="line"><span class="lineno">  746</span>                    -0.5 * currCamera-&gt;<a class="code hl_function" href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">getRes</a>().ly);</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>  <span class="comment">// Update the camera region and camera stage area</span></div>
<div class="line"><span class="lineno">  749</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> cameraRes(0, 0);</div>
<div class="line"><span class="lineno">  750</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> renderArea;</div>
<div class="line"><span class="lineno">  751</span>  <span class="keywordflow">if</span> (m_subcamera &amp;&amp; subCameraRect.getLx() &gt; 0 &amp;&amp; subCameraRect.getLy() &gt; 0) {</div>
<div class="line"><span class="lineno">  752</span>    cameraRes  = <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a>(subCameraRect.getLx(), subCameraRect.getLy());</div>
<div class="line"><span class="lineno">  753</span>    renderArea = <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(subCameraRect.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a>, subCameraRect.y0,</div>
<div class="line"><span class="lineno">  754</span>                        subCameraRect.x1 + 1, subCameraRect.y1 + 1) +</div>
<div class="line"><span class="lineno">  755</span>                 cameraPos;</div>
<div class="line"><span class="lineno">  756</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  757</span>    cameraRes  = currCamera-&gt;<a class="code hl_function" href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">getRes</a>();</div>
<div class="line"><span class="lineno">  758</span>    renderArea = <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(cameraPos, <a class="code hl_class" href="class_t_dimension_t.html">TDimensionD</a>(cameraRes.lx, cameraRes.ly));</div>
<div class="line"><span class="lineno">  759</span>  }</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>  cameraRes.lx /= m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a>;</div>
<div class="line"><span class="lineno">  762</span>  cameraRes.ly /= m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a>;</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>  <span class="keywordflow">if</span> (m_cameraRes != cameraRes || m_renderArea != renderArea) {</div>
<div class="line"><span class="lineno">  765</span>    m_cameraRes  = cameraRes;</div>
<div class="line"><span class="lineno">  766</span>    m_renderArea = renderArea;</div>
<div class="line"><span class="lineno">  767</span>    m_cameraPos  = cameraPos;</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>    <span class="comment">// Build the displacement needed when extracting the flipbooks&#39; views</span></div>
<div class="line"><span class="lineno">  770</span>    m_subcameraDisplacement =</div>
<div class="line"><span class="lineno">  771</span>        <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(0.5 * (m_renderArea.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> + m_renderArea.x1),</div>
<div class="line"><span class="lineno">  772</span>                0.5 * (m_renderArea.y0 + m_renderArea.y1));</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    <span class="comment">// Erase all previuosly previewed images</span></div>
<div class="line"><span class="lineno">  775</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  776</span>    <span class="keywordflow">for</span> (i = m_start; i &lt;= m_end; i += m_step)</div>
<div class="line"><span class="lineno">  777</span>      TImageCache::instance()-&gt;remove(getCacheId(m_fx, i));</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>    <span class="comment">// Clear all frame-specific rendered regions</span></div>
<div class="line"><span class="lineno">  780</span>    std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  781</span>    <span class="keywordflow">for</span> (it = m_frameInfos.begin(); it != m_frameInfos.end(); ++it)</div>
<div class="line"><span class="lineno">  782</span>      it-&gt;second.m_renderedRegion = QRegion();</div>
<div class="line"><span class="lineno">  783</span>  }</div>
<div class="line"><span class="lineno">  784</span>}</div>
<div class="ttc" id="aclass_t_camera_html_a9a7c573e7a2c397ffae4b747809ea2a5"><div class="ttname"><a href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">TCamera::getRes</a></div><div class="ttdeci">const TDimension &amp; getRes() const</div><div class="ttdef"><b>Definition:</b> tcamera.h:72</div></div>
<div class="ttc" id="aclass_t_dimension_t_html"><div class="ttname"><a href="class_t_dimension_t.html">TDimensionT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_rect_t_html_ac008cbc625f50d8b3c180c8eb2594cdb"><div class="ttname"><a href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">TRectT::x0</a></div><div class="ttdeci">T x0</div><div class="ttdef"><b>Definition:</b> tgeometry.h:557</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ff7e815cd92558d26de7315360d1c24" name="a2ff7e815cd92558d26de7315360d1c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff7e815cd92558d26de7315360d1c24">&#9670;&nbsp;</a></span>updateFlipbooks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::updateFlipbooks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  540</span>                                        {</div>
<div class="line"><span class="lineno">  541</span>  std::set&lt;FlipBook *&gt;::iterator it;</div>
<div class="line"><span class="lineno">  542</span>  <span class="keywordflow">for</span> (it = m_flipbooks.begin(); it != m_flipbooks.end(); ++it) (*it)-&gt;update();</div>
<div class="line"><span class="lineno">  543</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a89ffdad38d8543ffed86df5bf22200a5" name="a89ffdad38d8543ffed86df5bf22200a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89ffdad38d8543ffed86df5bf22200a5">&#9670;&nbsp;</a></span>updateFlipbookTitles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::updateFlipbookTitles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  628</span>                                             {</div>
<div class="line"><span class="lineno">  629</span>  <span class="keywordflow">if</span> (isFullPreview() &amp;&amp; m_start &lt;= m_end) {</div>
<div class="line"><span class="lineno">  630</span>    <span class="keywordtype">int</span> start = m_start + 1;</div>
<div class="line"><span class="lineno">  631</span>    <span class="keywordtype">int</span> end   = m_end + 1;</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>    std::set&lt;FlipBook *&gt;::iterator kt;</div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordflow">for</span> (kt = m_flipbooks.begin(); kt != m_flipbooks.end(); ++kt) {</div>
<div class="line"><span class="lineno">  635</span>      <span class="comment">// In the full preview case, the title must display the frame range</span></div>
<div class="line"><span class="lineno">  636</span>      <span class="comment">// information</span></div>
<div class="line"><span class="lineno">  637</span>      (*kt)-&gt;setTitle(</div>
<div class="line"><span class="lineno">  638</span>          <span class="comment">/*&quot;Rendered Frames  ::  From &quot; + QString::number(start) +</span></div>
<div class="line"><span class="lineno">  639</span><span class="comment">        &quot; To &quot; + QString::number(end) +</span></div>
<div class="line"><span class="lineno">  640</span><span class="comment"> &quot;  ::  Step &quot; + QString::number(m_step)*/</span></div>
<div class="line"><span class="lineno">  641</span>          QObject::tr(<span class="stringliteral">&quot;Rendered Frames  ::  From %1 To %2  ::  Step %3&quot;</span>)</div>
<div class="line"><span class="lineno">  642</span>              .arg(QString::number(start))</div>
<div class="line"><span class="lineno">  643</span>              .arg(QString::number(end))</div>
<div class="line"><span class="lineno">  644</span>              .arg(QString::number(m_step)));</div>
<div class="line"><span class="lineno">  645</span>    }</div>
<div class="line"><span class="lineno">  646</span>  }</div>
<div class="line"><span class="lineno">  647</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa4e664b16cecbb0dab05bb78a1d6040" name="aaa4e664b16cecbb0dab05bb78a1d6040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa4e664b16cecbb0dab05bb78a1d6040">&#9670;&nbsp;</a></span>updateFrameRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::updateFrameRange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  547</span>                                         {</div>
<div class="line"><span class="lineno">  548</span>  <a class="code hl_class" href="class_t_app.html">TApp</a> *app         = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>();</div>
<div class="line"><span class="lineno">  549</span>  <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene = app-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene();</div>
<div class="line"><span class="lineno">  550</span>  <a class="code hl_class" href="class_t_output_properties.html">TOutputProperties</a> *properties =</div>
<div class="line"><span class="lineno">  551</span>      scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()-&gt;<a class="code hl_function" href="class_t_scene_properties.html#a0b905e0ea16e27aa5e67da31e469026e">getPreviewProperties</a>();</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>  <span class="keywordtype">int</span> frameCount = m_xsheet-&gt;<a class="code hl_function" href="class_t_xsheet.html#a12a62da7dc04395088112e492d73374f">getFrameCount</a>();</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>  <span class="comment">// Initialize the render starting from current frame. If not in the preview</span></div>
<div class="line"><span class="lineno">  556</span>  <span class="comment">// range,</span></div>
<div class="line"><span class="lineno">  557</span>  <span class="comment">// start from the closest range extreme.</span></div>
<div class="line"><span class="lineno">  558</span>  properties-&gt;<a class="code hl_function" href="class_t_output_properties.html#aae127cbd8b19eaed0b0fbaf589349176">getRange</a>(m_start, m_end, m_step);</div>
<div class="line"><span class="lineno">  559</span>  <span class="keywordflow">if</span> (m_end &lt; 0) m_end = frameCount - 1;</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>  <span class="comment">// Intersect with the fx active frame range</span></div>
<div class="line"><span class="lineno">  562</span>  <a class="code hl_class" href="class_t_raster_fx_p.html">TRasterFxP</a> rasterFx(m_fx);</div>
<div class="line"><span class="lineno">  563</span>  <a class="code hl_class" href="class_t_fx_time_region.html">TFxTimeRegion</a> timeRegion(rasterFx-&gt;getTimeRegion());</div>
<div class="line"><span class="lineno">  564</span>  m_start = std::max(timeRegion.getFirstFrame(), m_start);</div>
<div class="line"><span class="lineno">  565</span>  m_end   = std::min(timeRegion.getLastFrame(), m_end);</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>  <span class="comment">// Release all images not in the new frame range</span></div>
<div class="line"><span class="lineno">  568</span>  std::map&lt;int, FrameInfo&gt;::iterator it, jt;</div>
<div class="line"><span class="lineno">  569</span>  <span class="keywordflow">for</span> (it = m_frameInfos.begin(); it != m_frameInfos.end();) {</div>
<div class="line"><span class="lineno">  570</span>    <span class="keywordflow">if</span> (it-&gt;first &lt; m_start || it-&gt;first &gt; m_end ||</div>
<div class="line"><span class="lineno">  571</span>        ((it-&gt;first - m_start) % m_step)) {</div>
<div class="line"><span class="lineno">  572</span>      TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(getCacheId(m_fx, it-&gt;first));</div>
<div class="line"><span class="lineno">  573</span>      jt = it++;</div>
<div class="line"><span class="lineno">  574</span>      m_frameInfos.erase(jt);</div>
<div class="line"><span class="lineno">  575</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  576</span>      ++it;</div>
<div class="line"><span class="lineno">  577</span>  }</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>  <span class="comment">// Build a level to associate the flipbook with the rendered output</span></div>
<div class="line"><span class="lineno">  580</span>  m_level-&gt;setName(std::to_string(m_fx-&gt;getIdentifier()) + <span class="stringliteral">&quot;.noext&quot;</span>);</div>
<div class="line"><span class="lineno">  581</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  582</span>  <span class="keywordflow">for</span> (i = 0; i &lt; frameCount; i++) m_level-&gt;setFrame(<a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(i), 0);</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>  <span class="comment">// Resize and update internal containers</span></div>
<div class="line"><span class="lineno">  585</span>  <span class="keywordflow">if</span> (m_start &gt; m_end) {</div>
<div class="line"><span class="lineno">  586</span>    m_frameInfos.clear();</div>
<div class="line"><span class="lineno">  587</span>    m_pbStatus.clear();</div>
<div class="line"><span class="lineno">  588</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  589</span>    <span class="comment">// Build the new frame-alias range</span></div>
<div class="line"><span class="lineno">  590</span>    <span class="keywordflow">for</span> (i = m_start; i &lt;= m_end; i += m_step)</div>
<div class="line"><span class="lineno">  591</span>      <span class="keywordflow">if</span> (m_frameInfos.find(i) == m_frameInfos.end()) {</div>
<div class="line"><span class="lineno">  592</span>        <span class="comment">// Clear the overall rendered region and build the frame info</span></div>
<div class="line"><span class="lineno">  593</span>        m_overallRenderedRegion = QRegion();</div>
<div class="line"><span class="lineno">  594</span>        m_frameInfos.insert(std::make_pair(i, std::string()));</div>
<div class="line"><span class="lineno">  595</span>      }</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>    <span class="comment">// Resize the progress bar</span></div>
<div class="line"><span class="lineno">  598</span>    m_pbStatus.resize((m_end - m_start) / m_step + 1);</div>
<div class="line"><span class="lineno">  599</span>  }</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>  <span class="comment">// Reset the flipbooks&#39; frame range</span></div>
<div class="line"><span class="lineno">  602</span>  std::set&lt;FlipBook *&gt;::iterator kt;</div>
<div class="line"><span class="lineno">  603</span>  <span class="keywordtype">int</span> currFrame;</div>
<div class="line"><span class="lineno">  604</span>  <span class="keywordtype">bool</span> fullPreview = isFullPreview();</div>
<div class="line"><span class="lineno">  605</span>  <span class="keywordflow">for</span> (kt = m_flipbooks.begin(); kt != m_flipbooks.end(); ++kt) {</div>
<div class="line"><span class="lineno">  606</span>    currFrame = (*kt)-&gt;getCurrentFrame() - 1;</div>
<div class="line"><span class="lineno">  607</span>    cropAndStep(currFrame);</div>
<div class="line"><span class="lineno">  608</span>    (*kt)-&gt;setLevel(m_fx.getPointer(), m_xsheet.getPointer(),</div>
<div class="line"><span class="lineno">  609</span>                    m_level.getPointer(), 0, m_start + 1, m_end + 1, m_step,</div>
<div class="line"><span class="lineno">  610</span>                    currFrame + 1, m_snd.getPointer());</div>
<div class="line"><span class="lineno">  611</span>  }</div>
<div class="line"><span class="lineno">  612</span>}</div>
<div class="ttc" id="aclass_t_frame_id_html"><div class="ttname"><a href="class_t_frame_id.html">TFrameId</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:29</div></div>
<div class="ttc" id="aclass_t_fx_time_region_html"><div class="ttname"><a href="class_t_fx_time_region.html">TFxTimeRegion</a></div><div class="ttdef"><b>Definition:</b> tfx.h:180</div></div>
<div class="ttc" id="aclass_t_output_properties_html_aae127cbd8b19eaed0b0fbaf589349176"><div class="ttname"><a href="class_t_output_properties.html#aae127cbd8b19eaed0b0fbaf589349176">TOutputProperties::getRange</a></div><div class="ttdeci">bool getRange(int &amp;r0, int &amp;r1, int &amp;step) const</div><div class="ttdef"><b>Definition:</b> outputproperties.cpp:128</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a12a62da7dc04395088112e492d73374f"><div class="ttname"><a href="class_t_xsheet.html#a12a62da7dc04395088112e492d73374f">TXsheet::getFrameCount</a></div><div class="ttdeci">int getFrameCount() const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:229</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a833839c7ed6a4d73f60009c3ad97d5fa" name="a833839c7ed6a4d73f60009c3ad97d5fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a833839c7ed6a4d73f60009c3ad97d5fa">&#9670;&nbsp;</a></span>updateInitialFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::updateInitialFrame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  616</span>                                           {</div>
<div class="line"><span class="lineno">  617</span>  <span class="comment">// Search all flipbooks and take the minimum of each&#39;s current</span></div>
<div class="line"><span class="lineno">  618</span>  std::set&lt;FlipBook *&gt;::iterator kt;</div>
<div class="line"><span class="lineno">  619</span>  m_initFrame = (std::numeric_limits&lt;int&gt;::max)();</div>
<div class="line"><span class="lineno">  620</span>  <span class="keywordflow">for</span> (kt = m_flipbooks.begin(); kt != m_flipbooks.end(); ++kt)</div>
<div class="line"><span class="lineno">  621</span>    m_initFrame = std::min(m_initFrame, (*kt)-&gt;getCurrentFrame() - 1);</div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>  cropAndStep(m_initFrame);</div>
<div class="line"><span class="lineno">  624</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a760f8462936389aedfbde7fa6aa7acab" name="a760f8462936389aedfbde7fa6aa7acab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a760f8462936389aedfbde7fa6aa7acab">&#9670;&nbsp;</a></span>updatePreviewRect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::updatePreviewRect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  788</span>                                          {</div>
<div class="line"><span class="lineno">  789</span>  <span class="keywordtype">bool</span> isFullRender = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  790</span>  <span class="keywordflow">if</span> (!m_subcamera) {</div>
<div class="line"><span class="lineno">  791</span>    <span class="comment">// Retrieve the eventual sub-camera</span></div>
<div class="line"><span class="lineno">  792</span>    <a class="code hl_class" href="class_t_camera.html">TCamera</a> *currCamera = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()</div>
<div class="line"><span class="lineno">  793</span>                              -&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()</div>
<div class="line"><span class="lineno">  794</span>                              -&gt;getScene()</div>
<div class="line"><span class="lineno">  795</span>                              -&gt;getCurrentPreviewCamera();</div>
<div class="line"><span class="lineno">  796</span>    <a class="code hl_class" href="class_t_rect_t.html">TRect</a> subcameraRect(currCamera-&gt;<a class="code hl_function" href="class_t_camera.html#ad95e2b9f128939f1ce9777623643c69c">getInterestRect</a>());</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>    <span class="comment">/*-- Viewer上でサブカメラが指定されていない状態でFxPreviewをした場合 --*/</span></div>
<div class="line"><span class="lineno">  799</span>    <span class="keywordflow">if</span> (subcameraRect.getLx() == 0 || subcameraRect.getLy() == 0)</div>
<div class="line"><span class="lineno">  800</span>      isFullRender = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  801</span>  }</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>  <span class="comment">// Build all the viewRects to be calculated. They will be computed on</span></div>
<div class="line"><span class="lineno">  804</span>  <span class="comment">// consecutive</span></div>
<div class="line"><span class="lineno">  805</span>  <span class="comment">// render operations.</span></div>
<div class="line"><span class="lineno">  806</span>  <span class="comment">// NOTE: For now, we&#39;ll perform a simplicistic solution - coalesce all the</span></div>
<div class="line"><span class="lineno">  807</span>  <span class="comment">// flipbooks&#39;</span></div>
<div class="line"><span class="lineno">  808</span>  <span class="comment">// viewrects and launch just one render.</span></div>
<div class="line"><span class="lineno">  809</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> previewRectD;</div>
<div class="line"><span class="lineno">  810</span>  m_rectUnderRender = <a class="code hl_class" href="class_t_rect_t.html">TRect</a>();</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>  <span class="keywordtype">int</span> shrinkX = m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a>;</div>
<div class="line"><span class="lineno">  813</span>  <span class="keywordtype">int</span> shrinkY = m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a>;</div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>  <span class="keywordflow">if</span> (!isFullRender) {</div>
<div class="line"><span class="lineno">  816</span>    <span class="comment">// For each opened flipbook</span></div>
<div class="line"><span class="lineno">  817</span>    <span class="comment">/*-- 開いているFlipbookの表示範囲を足しこんでいく --*/</span></div>
<div class="line"><span class="lineno">  818</span>    std::set&lt;FlipBook *&gt;::iterator it;</div>
<div class="line"><span class="lineno">  819</span>    <span class="keywordflow">for</span> (it = m_flipbooks.begin(); it != m_flipbooks.end(); ++it) {</div>
<div class="line"><span class="lineno">  820</span>      <span class="comment">// Only visible flipbooks are considered</span></div>
<div class="line"><span class="lineno">  821</span>      <span class="keywordflow">if</span> ((*it)-&gt;isVisible())</div>
<div class="line"><span class="lineno">  822</span>        <span class="comment">// Retrieve the flipbook&#39;s viewRect. Observe that this image geometry</span></div>
<div class="line"><span class="lineno">  823</span>        <span class="comment">// is intended in shrinked image reference, and assumes that the camera</span></div>
<div class="line"><span class="lineno">  824</span>        <span class="comment">// center</span></div>
<div class="line"><span class="lineno">  825</span>        <span class="comment">// lies at coords (0.0, 0.0).</span></div>
<div class="line"><span class="lineno">  826</span>        previewRectD += (*it)-&gt;getPreviewedImageGeometry();</div>
<div class="line"><span class="lineno">  827</span>    }</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>    <span class="comment">// Pass from shrinked to standard image geometry</span></div>
<div class="line"><span class="lineno">  830</span>    <span class="comment">/*-- いったんShrinkを元に戻す --*/</span></div>
<div class="line"><span class="lineno">  831</span>    previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> *= shrinkX;</div>
<div class="line"><span class="lineno">  832</span>    previewRectD.y0 *= shrinkY;</div>
<div class="line"><span class="lineno">  833</span>    previewRectD.x1 *= shrinkX;</div>
<div class="line"><span class="lineno">  834</span>    previewRectD.y1 *= shrinkY;</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>    <span class="comment">// Now, the viewer will center the subcamera&#39;s raster instead than camera&#39;s.</span></div>
<div class="line"><span class="lineno">  837</span>    <span class="comment">// So, we have</span></div>
<div class="line"><span class="lineno">  838</span>    <span class="comment">// to correct the previewRectD by the stored displacement.</span></div>
<div class="line"><span class="lineno">  839</span>    previewRectD += m_subcameraDisplacement;</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>    <span class="comment">/*-- 表示範囲と計算範囲の共通部分を得る --*/</span></div>
<div class="line"><span class="lineno">  842</span>    previewRectD *= m_renderArea;</div>
<div class="line"><span class="lineno">  843</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  844</span>    previewRectD = m_renderArea;</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>  <span class="comment">// Ensure that rect has the same pixel geometry as the preview camera</span></div>
<div class="line"><span class="lineno">  847</span>  <span class="comment">/*-- 再度Shrink --*/</span></div>
<div class="line"><span class="lineno">  848</span>  previewRectD -= m_cameraPos;</div>
<div class="line"><span class="lineno">  849</span>  previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> = previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> / shrinkX;</div>
<div class="line"><span class="lineno">  850</span>  previewRectD.y0 = previewRectD.y0 / shrinkY;</div>
<div class="line"><span class="lineno">  851</span>  previewRectD.x1 = previewRectD.x1 / shrinkX;</div>
<div class="line"><span class="lineno">  852</span>  previewRectD.y1 = previewRectD.y1 / shrinkY;</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>  <span class="comment">// Now, pass to m_cameraRes-relative coordinates</span></div>
<div class="line"><span class="lineno">  855</span>  <span class="comment">/*-- 計算エリア基準の座標 → カメラ基準の座標 --*/</span></div>
<div class="line"><span class="lineno">  856</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> shrinkedRelPos((m_renderArea.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> - m_cameraPos.x) / shrinkX,</div>
<div class="line"><span class="lineno">  857</span>                         (m_renderArea.y0 - m_cameraPos.y) / shrinkY);</div>
<div class="line"><span class="lineno">  858</span>  previewRectD -= shrinkedRelPos;</div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>  previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> = tfloor(previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a>);</div>
<div class="line"><span class="lineno">  861</span>  previewRectD.y0 = tfloor(previewRectD.y0);</div>
<div class="line"><span class="lineno">  862</span>  previewRectD.x1 = tceil(previewRectD.x1);</div>
<div class="line"><span class="lineno">  863</span>  previewRectD.y1 = tceil(previewRectD.y1);</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span>  <span class="comment">/*-- 表示しなくてはいけないRect --*/</span></div>
<div class="line"><span class="lineno">  866</span>  QRect qViewRect(previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a>, previewRectD.y0, previewRectD.getLx(),</div>
<div class="line"><span class="lineno">  867</span>                  previewRectD.getLy());</div>
<div class="line"><span class="lineno">  868</span>  <span class="comment">/*-- 表示しなくてはいけないRectから、既に計算済みの範囲を引く ＝</span></div>
<div class="line"><span class="lineno">  869</span><span class="comment">   * 新たに計算が必要な領域 --*/</span></div>
<div class="line"><span class="lineno">  870</span>  QRegion viewRectRegionToRender(</div>
<div class="line"><span class="lineno">  871</span>      QRegion(qViewRect).subtracted(m_overallRenderedRegion));</div>
<div class="line"><span class="lineno">  872</span> </div>
<div class="line"><span class="lineno">  873</span>  <span class="comment">// If the rect to render has already been calculated, continue.</span></div>
<div class="line"><span class="lineno">  874</span>  <span class="comment">/*-- 新たに計算が必要な領域が無ければReturn --*/</span></div>
<div class="line"><span class="lineno">  875</span>  <span class="keywordflow">if</span> (viewRectRegionToRender.isEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span>  <span class="comment">// Retrieve the minimal box containing the region yet to be rendered</span></div>
<div class="line"><span class="lineno">  878</span>  <span class="comment">/*-- 新たに計算が必要な領域を含む最小のRectを得る --*/</span></div>
<div class="line"><span class="lineno">  879</span>  QRect boxRectToRender(viewRectRegionToRender.boundingRect());</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>  <span class="comment">/*-- 計算中のRectに登録する --*/</span></div>
<div class="line"><span class="lineno">  882</span>  m_rectUnderRender = toTRect(boxRectToRender);</div>
<div class="line"><span class="lineno">  883</span>  <span class="comment">/*-- カメラ基準の座標 → 計算エリア基準の座標 --*/</span></div>
<div class="line"><span class="lineno">  884</span>  previewRectD = toTRectD(boxRectToRender) + m_cameraPos + shrinkedRelPos;</div>
<div class="line"><span class="lineno">  885</span>  <span class="comment">/*-- RenderAreaをセット --*/</span></div>
<div class="line"><span class="lineno">  886</span>  m_renderPort.<a class="code hl_function" href="class_t_render_port.html#a743d79f021d27a9f8017ef468839cadb">setRenderArea</a>(previewRectD);</div>
<div class="line"><span class="lineno">  887</span>}</div>
<div class="ttc" id="aclass_t_render_port_html_a743d79f021d27a9f8017ef468839cadb"><div class="ttname"><a href="class_t_render_port.html#a743d79f021d27a9f8017ef468839cadb">TRenderPort::setRenderArea</a></div><div class="ttdeci">void setRenderArea(const TRectD &amp;area)</div><div class="ttdef"><b>Definition:</b> trenderer.cpp:903</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a13fd49615c00e7f9b64d00669825db05" name="a13fd49615c00e7f9b64d00669825db05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13fd49615c00e7f9b64d00669825db05">&#9670;&nbsp;</a></span>updateProgressBarStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::updateProgressBarStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  694</span>                                                {</div>
<div class="line"><span class="lineno">  695</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  696</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno">  697</span>  std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  698</span>  <span class="keywordflow">for</span> (i = m_start, j = 0; i &lt;= m_end; i += m_step, ++j) {</div>
<div class="line"><span class="lineno">  699</span>    it            = m_frameInfos.find(i);</div>
<div class="line"><span class="lineno">  700</span>    m_pbStatus[j] = ::contains(it-&gt;second.m_renderedRegion, m_rectUnderRender)</div>
<div class="line"><span class="lineno">  701</span>                        ? FlipSlider::PBFrameFinished</div>
<div class="line"><span class="lineno">  702</span>                        : FlipSlider::PBFrameNotStarted;</div>
<div class="line"><span class="lineno">  703</span>  }</div>
<div class="line"><span class="lineno">  704</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a33819dffd6795da4c6e8bf455dcc48" name="a7a33819dffd6795da4c6e8bf455dcc48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a33819dffd6795da4c6e8bf455dcc48">&#9670;&nbsp;</a></span>updateRenderSettings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PreviewFxInstance::updateRenderSettings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  708</span>                                             {</div>
<div class="line"><span class="lineno">  709</span>  <a class="code hl_class" href="class_t_app.html">TApp</a> *app         = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>();</div>
<div class="line"><span class="lineno">  710</span>  <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene = app-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene();</div>
<div class="line"><span class="lineno">  711</span>  <a class="code hl_class" href="class_t_output_properties.html">TOutputProperties</a> *properties =</div>
<div class="line"><span class="lineno">  712</span>      scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()-&gt;<a class="code hl_function" href="class_t_scene_properties.html#a0b905e0ea16e27aa5e67da31e469026e">getPreviewProperties</a>();</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>  m_subcamera = properties-&gt;isSubcameraPreview();</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_t_render_settings.html">TRenderSettings</a> &amp;renderSettings = properties-&gt;<a class="code hl_function" href="class_t_output_properties.html#afa7c771452b57b50047aa4afc6032cad">getRenderSettings</a>();</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>  <span class="keywordflow">if</span> (m_renderSettings != renderSettings) {</div>
<div class="line"><span class="lineno">  719</span>    m_renderSettings = renderSettings;</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>    <span class="comment">// Erase all previuosly previewed images</span></div>
<div class="line"><span class="lineno">  722</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  723</span>    <span class="keywordflow">for</span> (i = m_start; i &lt;= m_end; i += m_step)</div>
<div class="line"><span class="lineno">  724</span>      TImageCache::instance()-&gt;remove(getCacheId(m_fx, i));</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>    <span class="comment">// Clear all frame-specific rendered regions</span></div>
<div class="line"><span class="lineno">  727</span>    std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  728</span>    <span class="keywordflow">for</span> (it = m_frameInfos.begin(); it != m_frameInfos.end(); ++it)</div>
<div class="line"><span class="lineno">  729</span>      it-&gt;second.m_renderedRegion = QRegion();</div>
<div class="line"><span class="lineno">  730</span>  }</div>
<div class="line"><span class="lineno">  731</span>}</div>
<div class="ttc" id="aclass_t_output_properties_html_afa7c771452b57b50047aa4afc6032cad"><div class="ttname"><a href="class_t_output_properties.html#afa7c771452b57b50047aa4afc6032cad">TOutputProperties::getRenderSettings</a></div><div class="ttdeci">const TRenderSettings &amp; getRenderSettings() const</div><div class="ttdef"><b>Definition:</b> toutputproperties.h:181</div></div>
<div class="ttc" id="aclass_t_render_settings_html"><div class="ttname"><a href="class_t_render_settings.html">TRenderSettings</a></div><div class="ttdoc">Data class containing the relevant additional information needed in a render process.</div><div class="ttdef"><b>Definition:</b> trasterfx.h:61</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2fefab9c159e69dbabdc7e3e81972493" name="a2fefab9c159e69dbabdc7e3e81972493"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fefab9c159e69dbabdc7e3e81972493">&#9670;&nbsp;</a></span>m_cameraPos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPointD</a> PreviewFxInstance::m_cameraPos</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af0a1470869572b13c1923efc4d1ddd1d" name="af0a1470869572b13c1923efc4d1ddd1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a1470869572b13c1923efc4d1ddd1d">&#9670;&nbsp;</a></span>m_cameraRes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_dimension_t.html">TDimension</a> PreviewFxInstance::m_cameraRes</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acd645c4651a4caaa37f4207da9e95fb8" name="acd645c4651a4caaa37f4207da9e95fb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd645c4651a4caaa37f4207da9e95fb8">&#9670;&nbsp;</a></span>m_end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PreviewFxInstance::m_end</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1df3c0f57e8b4d027d946e469a9dfa3d" name="a1df3c0f57e8b4d027d946e469a9dfa3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1df3c0f57e8b4d027d946e469a9dfa3d">&#9670;&nbsp;</a></span>m_flipbooks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="class_flip_book.html">FlipBook</a> *&gt; PreviewFxInstance::m_flipbooks</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad2945d4a198b601412679971468e04fc" name="ad2945d4a198b601412679971468e04fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2945d4a198b601412679971468e04fc">&#9670;&nbsp;</a></span>m_frameInfos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int, <a class="el" href="struct_preview_fx_instance_1_1_frame_info.html">FrameInfo</a>&gt; PreviewFxInstance::m_frameInfos</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acf53b066078651d94ae3bfc6e3b27f36" name="acf53b066078651d94ae3bfc6e3b27f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf53b066078651d94ae3bfc6e3b27f36">&#9670;&nbsp;</a></span>m_frozenFlips</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="class_flip_book.html">FlipBook</a> *&gt; PreviewFxInstance::m_frozenFlips</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adf8267a27dea336c0cc22206290a526c" name="adf8267a27dea336c0cc22206290a526c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf8267a27dea336c0cc22206290a526c">&#9670;&nbsp;</a></span>m_fx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_raster_fx_p.html">TRasterFxP</a> PreviewFxInstance::m_fx</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91462407184b2a258d767c7a506b2bd4" name="a91462407184b2a258d767c7a506b2bd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91462407184b2a258d767c7a506b2bd4">&#9670;&nbsp;</a></span>m_initFrame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PreviewFxInstance::m_initFrame</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af213db1fe5bafb80ae759aac9783f0d0" name="af213db1fe5bafb80ae759aac9783f0d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af213db1fe5bafb80ae759aac9783f0d0">&#9670;&nbsp;</a></span>m_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_level_p.html">TLevelP</a> PreviewFxInstance::m_level</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaf166a23e002b732e6afbd0fc797e076" name="aaf166a23e002b732e6afbd0fc797e076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf166a23e002b732e6afbd0fc797e076">&#9670;&nbsp;</a></span>m_overallRenderedRegion</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QRegion PreviewFxInstance::m_overallRenderedRegion</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5f44679fa5a96fd4f66190197ae2fdaf" name="a5f44679fa5a96fd4f66190197ae2fdaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f44679fa5a96fd4f66190197ae2fdaf">&#9670;&nbsp;</a></span>m_pbStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;UCHAR&gt; PreviewFxInstance::m_pbStatus</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad2365971deca81f301c2898789351839" name="ad2365971deca81f301c2898789351839"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2365971deca81f301c2898789351839">&#9670;&nbsp;</a></span>m_rectUnderRender</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_rect_t.html">TRect</a> PreviewFxInstance::m_rectUnderRender</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a481fbc7aa26bed908d6979d09435f6" name="a6a481fbc7aa26bed908d6979d09435f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a481fbc7aa26bed908d6979d09435f6">&#9670;&nbsp;</a></span>m_renderArea</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_rect_t.html">TRectD</a> PreviewFxInstance::m_renderArea</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a37176275251d167c39f288cffa3d9db8" name="a37176275251d167c39f288cffa3d9db8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37176275251d167c39f288cffa3d9db8">&#9670;&nbsp;</a></span>m_renderer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_renderer.html">TRenderer</a> PreviewFxInstance::m_renderer</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a065668bc0367d4af37c6d8003102ae5b" name="a065668bc0367d4af37c6d8003102ae5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a065668bc0367d4af37c6d8003102ae5b">&#9670;&nbsp;</a></span>m_renderFailed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PreviewFxInstance::m_renderFailed</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2481fc8217bbcb1cd7cfa138c57fb9ab" name="a2481fc8217bbcb1cd7cfa138c57fb9ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2481fc8217bbcb1cd7cfa138c57fb9ab">&#9670;&nbsp;</a></span>m_renderPort</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_preview_fx_render_port.html">PreviewFxRenderPort</a> PreviewFxInstance::m_renderPort</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a72a5fd83f86f755bb74739e8e571d519" name="a72a5fd83f86f755bb74739e8e571d519"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a5fd83f86f755bb74739e8e571d519">&#9670;&nbsp;</a></span>m_renderSettings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_render_settings.html">TRenderSettings</a> PreviewFxInstance::m_renderSettings</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a957b9772662f913b3900ff61c24fa7fe" name="a957b9772662f913b3900ff61c24fa7fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a957b9772662f913b3900ff61c24fa7fe">&#9670;&nbsp;</a></span>m_snd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_smart_pointer_t.html">TSoundTrackP</a> PreviewFxInstance::m_snd</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b0380d271511993f9c73e73b73c9f83" name="a9b0380d271511993f9c73e73b73c9f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b0380d271511993f9c73e73b73c9f83">&#9670;&nbsp;</a></span>m_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PreviewFxInstance::m_start</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aff987233f3fbdab7926151756c15bb9a" name="aff987233f3fbdab7926151756c15bb9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff987233f3fbdab7926151756c15bb9a">&#9670;&nbsp;</a></span>m_step</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PreviewFxInstance::m_step</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad7d9755fdec873845d63c95f239adccc" name="ad7d9755fdec873845d63c95f239adccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7d9755fdec873845d63c95f239adccc">&#9670;&nbsp;</a></span>m_subcamera</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool PreviewFxInstance::m_subcamera</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0235643057d471bbdee8c4f60857c021" name="a0235643057d471bbdee8c4f60857c021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0235643057d471bbdee8c4f60857c021">&#9670;&nbsp;</a></span>m_subcameraDisplacement</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPointD</a> PreviewFxInstance::m_subcameraDisplacement</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae458618a79dfa77a6368ea6155594ba8" name="ae458618a79dfa77a6368ea6155594ba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae458618a79dfa77a6368ea6155594ba8">&#9670;&nbsp;</a></span>m_xsheet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_smart_pointer_t.html">TXsheetP</a> PreviewFxInstance::m_xsheet</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/opentoonz/toonz/sources/toonz/<a class="el" href="">previewfxmanager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
