<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: ColumnFan Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_column_fan-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ColumnFan Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_column_fan.html" title="The ColumnFan class is used to menage display columns.">ColumnFan</a> class is used to menage display columns.  
 <a href="class_column_fan.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="">columnfan.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a017bda29bbfba271763a72a342a20b25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#a017bda29bbfba271763a72a342a20b25">ColumnFan</a> ()</td></tr>
<tr class="separator:a017bda29bbfba271763a72a342a20b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f18a8278d790dcb75d2ab842a1a63d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#a0f18a8278d790dcb75d2ab842a1a63d6">setDimensions</a> (int unfolded, int cameraColumn)</td></tr>
<tr class="memdesc:a0f18a8278d790dcb75d2ab842a1a63d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust column sizes when switching orientation.  <a href="class_column_fan.html#a0f18a8278d790dcb75d2ab842a1a63d6">More...</a><br /></td></tr>
<tr class="separator:a0f18a8278d790dcb75d2ab842a1a63d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aff0a530b4c36d3de13d3db2b04b074"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">activate</a> (int col)</td></tr>
<tr class="separator:a7aff0a530b4c36d3de13d3db2b04b074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac44ed24041848fc51bd51165ea136df1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">deactivate</a> (int col)</td></tr>
<tr class="separator:ac44ed24041848fc51bd51165ea136df1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf77607d6d35905a31c9a4640dc0c0ef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a> (int col) const</td></tr>
<tr class="separator:abf77607d6d35905a31c9a4640dc0c0ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadeb28396ab225c6bb1ebcaf939ac4d0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#aadeb28396ab225c6bb1ebcaf939ac4d0">layerAxisToCol</a> (int layerAxis) const</td></tr>
<tr class="separator:aadeb28396ab225c6bb1ebcaf939ac4d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10dadd0ca53671cde077da9a15b94cf9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#a10dadd0ca53671cde077da9a15b94cf9">colToLayerAxis</a> (int col) const</td></tr>
<tr class="separator:a10dadd0ca53671cde077da9a15b94cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77228c07db4b520a15c9610b6060d306"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#a77228c07db4b520a15c9610b6060d306">copyFoldedStateFrom</a> (const <a class="el" href="class_column_fan.html">ColumnFan</a> &amp;from)</td></tr>
<tr class="separator:a77228c07db4b520a15c9610b6060d306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8fd4f4abd105039fe2426148d894efb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#af8fd4f4abd105039fe2426148d894efb">isEmpty</a> () const</td></tr>
<tr class="separator:af8fd4f4abd105039fe2426148d894efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd0a9c4b513b88d4f0627e91ced9e363"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#afd0a9c4b513b88d4f0627e91ced9e363">saveData</a> (<a class="el" href="class_t_o_stream.html">TOStream</a> &amp;os)</td></tr>
<tr class="separator:afd0a9c4b513b88d4f0627e91ced9e363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7420ecffdf34c98e1a4869b8bcaefd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#ae7420ecffdf34c98e1a4869b8bcaefd6">loadData</a> (<a class="el" href="class_t_i_stream.html">TIStream</a> &amp;is)</td></tr>
<tr class="separator:ae7420ecffdf34c98e1a4869b8bcaefd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac11437dae3c11ba53e3d0c5d6a59b1d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#ac11437dae3c11ba53e3d0c5d6a59b1d9">rollLeftFoldedState</a> (int index, int count)</td></tr>
<tr class="separator:ac11437dae3c11ba53e3d0c5d6a59b1d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac36bcf5ddc810ace92f5f1fcc5c6bd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_column_fan.html#aac36bcf5ddc810ace92f5f1fcc5c6bd8">rollRightFoldedState</a> (int index, int count)</td></tr>
<tr class="separator:aac36bcf5ddc810ace92f5f1fcc5c6bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The <a class="el" href="class_column_fan.html" title="The ColumnFan class is used to menage display columns.">ColumnFan</a> class is used to menage display columns. </p>
<p >The class allows to fold a column by column index, <a class="el" href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">deactivate()</a>, to open folded columns, <a class="el" href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">activate()</a> and to know if column is folded or not, <a class="el" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive()</a>.</p>
<p >Class provides column layer-axis coordinate too. It's possible to know column index by column layer-axis coordinate, <a class="el" href="class_column_fan.html#a10dadd0ca53671cde077da9a15b94cf9">colToLayerAxis()</a> and vice versa, <a class="el" href="class_column_fan.html#aadeb28396ab225c6bb1ebcaf939ac4d0">layerAxisToCol()</a>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a017bda29bbfba271763a72a342a20b25" name="a017bda29bbfba271763a72a342a20b25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a017bda29bbfba271763a72a342a20b25">&#9670;&nbsp;</a></span>ColumnFan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ColumnFan::ColumnFan </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Constructs a <a class="el" href="class_column_fan.html" title="The ColumnFan class is used to menage display columns.">ColumnFan</a> with default value. </p>
<div class="fragment"><div class="line"><span class="lineno">   16</span>    : m_firstFreePos(0)</div>
<div class="line"><span class="lineno">   17</span>    , m_unfolded(74)</div>
<div class="line"><span class="lineno">   18</span>    , m_folded(9)</div>
<div class="line"><span class="lineno">   19</span>    , m_cameraActive(<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno">   20</span>    , m_cameraColumnDim(22) {}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7aff0a530b4c36d3de13d3db2b04b074" name="a7aff0a530b4c36d3de13d3db2b04b074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aff0a530b4c36d3de13d3db2b04b074">&#9670;&nbsp;</a></span>activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ColumnFan::activate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Set column <b>col</b> not folded. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">deactivate()</a> and <a class="el" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive()</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   99</span>                                {</div>
<div class="line"><span class="lineno">  100</span>  <span class="keywordtype">int</span> m = m_columns.size();</div>
<div class="line"><span class="lineno">  101</span>  <span class="keywordflow">if</span> (col &lt; 0) {</div>
<div class="line"><span class="lineno">  102</span>    m_cameraActive = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  104</span>  }</div>
<div class="line"><span class="lineno">  105</span>  <span class="keywordflow">if</span> (col &lt; m) {</div>
<div class="line"><span class="lineno">  106</span>    m_columns[col].m_active = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">for</span> (i = m - 1; i &gt;= 0 &amp;&amp; m_columns[i].m_active; i--) {</div>
<div class="line"><span class="lineno">  109</span>    }</div>
<div class="line"><span class="lineno">  110</span>    i++;</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">if</span> (i &lt; m) {</div>
<div class="line"><span class="lineno">  112</span>      m = i;</div>
<div class="line"><span class="lineno">  113</span>      m_columns.erase(m_columns.begin() + i, m_columns.end());</div>
<div class="line"><span class="lineno">  114</span>    }</div>
<div class="line"><span class="lineno">  115</span>  }</div>
<div class="line"><span class="lineno">  116</span>  update();</div>
<div class="line"><span class="lineno">  117</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a10dadd0ca53671cde077da9a15b94cf9" name="a10dadd0ca53671cde077da9a15b94cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10dadd0ca53671cde077da9a15b94cf9">&#9670;&nbsp;</a></span>colToLayerAxis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ColumnFan::colToLayerAxis </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return layer coordinate (x for vertical timeline, y for horizontal) of column identified by <b>col</b>. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_column_fan.html#aadeb28396ab225c6bb1ebcaf939ac4d0">layerAxisToCol()</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   80</span>                                           {</div>
<div class="line"><span class="lineno">   81</span>  <span class="keywordtype">int</span> m        = m_columns.size();</div>
<div class="line"><span class="lineno">   82</span>  <span class="keywordtype">int</span> firstCol = 0;</div>
<div class="line"><span class="lineno">   83</span>  <span class="keywordflow">if</span> (Preferences::instance()-&gt;isXsheetCameraColumnVisible()) {</div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">if</span> (col &lt; -1) <span class="keywordflow">return</span> -m_cameraColumnDim;</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">if</span> (col &lt; 0) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   86</span>    firstCol =</div>
<div class="line"><span class="lineno">   87</span>        m_cameraActive</div>
<div class="line"><span class="lineno">   88</span>            ? m_cameraColumnDim</div>
<div class="line"><span class="lineno">   89</span>            : ((m_columns.size() &gt; 0 &amp;&amp; !m_columns[0].m_active) ? 0 : m_folded);</div>
<div class="line"><span class="lineno">   90</span>  }</div>
<div class="line"><span class="lineno">   91</span>  <span class="keywordflow">if</span> (col &gt;= 0 &amp;&amp; col &lt; m)</div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">return</span> firstCol + m_columns[col].m_pos;</div>
<div class="line"><span class="lineno">   93</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">return</span> firstCol + m_firstFreePos + (col - m) * m_unfolded;</div>
<div class="line"><span class="lineno">   95</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a77228c07db4b520a15c9610b6060d306" name="a77228c07db4b520a15c9610b6060d306"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77228c07db4b520a15c9610b6060d306">&#9670;&nbsp;</a></span>copyFoldedStateFrom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ColumnFan::copyFoldedStateFrom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_column_fan.html">ColumnFan</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  145</span>                                                         {</div>
<div class="line"><span class="lineno">  146</span>  m_cameraActive = from.m_cameraActive;</div>
<div class="line"><span class="lineno">  147</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0, n = (<span class="keywordtype">int</span>)from.m_columns.size(); i &lt; n; i++)</div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">if</span> (!from.<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(i)) <a class="code hl_function" href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">deactivate</a>(i);</div>
<div class="line"><span class="lineno">  149</span>}</div>
<div class="ttc" id="aclass_column_fan_html_abf77607d6d35905a31c9a4640dc0c0ef"><div class="ttname"><a href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">ColumnFan::isActive</a></div><div class="ttdeci">bool isActive(int col) const</div><div class="ttdef"><b>Definition:</b> columnfan.cpp:133</div></div>
<div class="ttc" id="aclass_column_fan_html_ac44ed24041848fc51bd51165ea136df1"><div class="ttname"><a href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">ColumnFan::deactivate</a></div><div class="ttdeci">void deactivate(int col)</div><div class="ttdef"><b>Definition:</b> columnfan.cpp:121</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac44ed24041848fc51bd51165ea136df1" name="ac44ed24041848fc51bd51165ea136df1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac44ed24041848fc51bd51165ea136df1">&#9670;&nbsp;</a></span>deactivate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ColumnFan::deactivate </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Fold column <b>col</b>. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">activate()</a> and <a class="el" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive()</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  121</span>                                  {</div>
<div class="line"><span class="lineno">  122</span>  <span class="keywordflow">if</span> (col &lt; 0) {</div>
<div class="line"><span class="lineno">  123</span>    m_cameraActive = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  125</span>  }</div>
<div class="line"><span class="lineno">  126</span>  <span class="keywordflow">while</span> ((<span class="keywordtype">int</span>)m_columns.size() &lt;= col) m_columns.push_back(Column());</div>
<div class="line"><span class="lineno">  127</span>  m_columns[col].m_active = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  128</span>  update();</div>
<div class="line"><span class="lineno">  129</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00377">TStageObjectTree::loadData()</a>.</p>

</div>
</div>
<a id="abf77607d6d35905a31c9a4640dc0c0ef" name="abf77607d6d35905a31c9a4640dc0c0ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf77607d6d35905a31c9a4640dc0c0ef">&#9670;&nbsp;</a></span>isActive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ColumnFan::isActive </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return true if column <b>col</b> is active, column is not folded, else return false. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">activate()</a> and <a class="el" href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">deactivate()</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  133</span>                                      {</div>
<div class="line"><span class="lineno">  134</span>  <span class="keywordflow">return</span> 0 &lt;= col &amp;&amp; col &lt; (int)m_columns.size()</div>
<div class="line"><span class="lineno">  135</span>             ? m_columns[col].m_active</div>
<div class="line"><span class="lineno">  136</span>             : col &lt; 0 ? m_cameraActive : <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  137</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00433">TStageObjectTree::saveData()</a>.</p>

</div>
</div>
<a id="af8fd4f4abd105039fe2426148d894efb" name="af8fd4f4abd105039fe2426148d894efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8fd4f4abd105039fe2426148d894efb">&#9670;&nbsp;</a></span>isEmpty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ColumnFan::isEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  141</span>{ <span class="keywordflow">return</span> m_columns.empty(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aadeb28396ab225c6bb1ebcaf939ac4d0" name="aadeb28396ab225c6bb1ebcaf939ac4d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadeb28396ab225c6bb1ebcaf939ac4d0">&#9670;&nbsp;</a></span>layerAxisToCol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ColumnFan::layerAxisToCol </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>layerAxis</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Return column index of column in layer axis (x for vertical timeline, y for horizontal). </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_column_fan.html#a10dadd0ca53671cde077da9a15b94cf9">colToLayerAxis()</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   60</span>                                             {</div>
<div class="line"><span class="lineno">   61</span>  <span class="keywordflow">if</span> (Preferences::instance()-&gt;isXsheetCameraColumnVisible()) {</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordtype">int</span> firstCol =</div>
<div class="line"><span class="lineno">   63</span>        m_cameraActive</div>
<div class="line"><span class="lineno">   64</span>            ? m_cameraColumnDim</div>
<div class="line"><span class="lineno">   65</span>            : ((m_columns.size() &gt; 0 &amp;&amp; !m_columns[0].m_active) ? 0 : m_folded);</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">if</span> (coord &lt; firstCol) <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   67</span>    coord -= firstCol;</div>
<div class="line"><span class="lineno">   68</span>  }</div>
<div class="line"><span class="lineno">   69</span>  <span class="keywordflow">if</span> (coord &lt; m_firstFreePos) {</div>
<div class="line"><span class="lineno">   70</span>    std::map&lt;int, int&gt;::const_iterator it = m_table.lower_bound(coord);</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">if</span> (it == m_table.end()) <span class="keywordflow">return</span> -3;</div>
<div class="line"><span class="lineno">   72</span>    assert(it != m_table.end());</div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><span class="lineno">   74</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">return</span> m_columns.size() + (coord - m_firstFreePos) / m_unfolded;</div>
<div class="line"><span class="lineno">   76</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7420ecffdf34c98e1a4869b8bcaefd6" name="ae7420ecffdf34c98e1a4869b8bcaefd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7420ecffdf34c98e1a4869b8bcaefd6">&#9670;&nbsp;</a></span>loadData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ColumnFan::loadData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_i_stream.html">TIStream</a> &amp;&#160;</td>
          <td class="paramname"><em>is</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  170</span>                                     {</div>
<div class="line"><span class="lineno">  171</span>  m_columns.clear();</div>
<div class="line"><span class="lineno">  172</span>  m_table.clear();</div>
<div class="line"><span class="lineno">  173</span>  m_firstFreePos = 0;</div>
<div class="line"><span class="lineno">  174</span>  <span class="keywordflow">while</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#af8ad0a31e14e94179bd5688f13340528">eos</a>()) {</div>
<div class="line"><span class="lineno">  175</span>    <span class="keywordtype">int</span> index = 0, count = 0;</div>
<div class="line"><span class="lineno">  176</span>    is &gt;&gt; index &gt;&gt; count;</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno">  178</span>    <span class="keywordflow">for</span> (j = 0; j &lt; count; j++) <a class="code hl_function" href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">deactivate</a>(index + j);</div>
<div class="line"><span class="lineno">  179</span>  }</div>
<div class="line"><span class="lineno">  180</span>}</div>
<div class="ttc" id="aclass_t_i_stream_html_af8ad0a31e14e94179bd5688f13340528"><div class="ttname"><a href="class_t_i_stream.html#af8ad0a31e14e94179bd5688f13340528">TIStream::eos</a></div><div class="ttdeci">bool eos()</div><div class="ttdoc">Returns true in case of end of string (a StreamTag::EndTag.</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1169</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac11437dae3c11ba53e3d0c5d6a59b1d9" name="ac11437dae3c11ba53e3d0c5d6a59b1d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac11437dae3c11ba53e3d0c5d6a59b1d9">&#9670;&nbsp;</a></span>rollLeftFoldedState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ColumnFan::rollLeftFoldedState </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  184</span>                                                        {</div>
<div class="line"><span class="lineno">  185</span>  assert(index &gt;= 0);</div>
<div class="line"><span class="lineno">  186</span>  <span class="keywordtype">int</span> columnCount = m_columns.size();</div>
<div class="line"><span class="lineno">  187</span>  <span class="keywordflow">if</span> (columnCount &lt;= index) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  188</span>  <span class="keywordflow">if</span> (index + count - 1 &gt; columnCount) count = columnCount - index + 1;</div>
<div class="line"><span class="lineno">  189</span>  <span class="keywordflow">if</span> (count &lt; 2) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>  <span class="keywordtype">int</span> i = index, j = index + count - 1;</div>
<div class="line"><span class="lineno">  192</span>  <span class="keywordtype">bool</span> tmp = <a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(i);</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = i; k &lt; j; ++k) {</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(k) &amp;&amp; !<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(k + 1))</div>
<div class="line"><span class="lineno">  196</span>      <a class="code hl_function" href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">deactivate</a>(k);</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(k) &amp;&amp; <a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(k + 1))</div>
<div class="line"><span class="lineno">  198</span>      <a class="code hl_function" href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">activate</a>(k);</div>
<div class="line"><span class="lineno">  199</span>  }</div>
<div class="line"><span class="lineno">  200</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(j) &amp;&amp; !tmp)</div>
<div class="line"><span class="lineno">  201</span>    <a class="code hl_function" href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">deactivate</a>(j);</div>
<div class="line"><span class="lineno">  202</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(j) &amp;&amp; tmp)</div>
<div class="line"><span class="lineno">  203</span>    <a class="code hl_function" href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">activate</a>(j);</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>  update();</div>
<div class="line"><span class="lineno">  206</span>}</div>
<div class="ttc" id="aclass_column_fan_html_a7aff0a530b4c36d3de13d3db2b04b074"><div class="ttname"><a href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">ColumnFan::activate</a></div><div class="ttdeci">void activate(int col)</div><div class="ttdef"><b>Definition:</b> columnfan.cpp:99</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac36bcf5ddc810ace92f5f1fcc5c6bd8" name="aac36bcf5ddc810ace92f5f1fcc5c6bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac36bcf5ddc810ace92f5f1fcc5c6bd8">&#9670;&nbsp;</a></span>rollRightFoldedState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ColumnFan::rollRightFoldedState </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  210</span>                                                         {</div>
<div class="line"><span class="lineno">  211</span>  assert(index &gt;= 0);</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>  <span class="keywordtype">int</span> columnCount = m_columns.size();</div>
<div class="line"><span class="lineno">  214</span>  <span class="keywordflow">if</span> (columnCount &lt;= index) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  215</span>  <span class="keywordflow">if</span> (index + count - 1 &gt; columnCount) count = columnCount - index + 1;</div>
<div class="line"><span class="lineno">  216</span>  <span class="keywordflow">if</span> (count &lt; 2) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordtype">int</span> i = index, j = index + count - 1;</div>
<div class="line"><span class="lineno">  219</span>  <span class="keywordtype">bool</span> tmp = <a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(j);</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = j; k &gt; i; --k) {</div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(k) &amp;&amp; !<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(k - 1))</div>
<div class="line"><span class="lineno">  223</span>      <a class="code hl_function" href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">deactivate</a>(k);</div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(k) &amp;&amp; <a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(k - 1))</div>
<div class="line"><span class="lineno">  225</span>      <a class="code hl_function" href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">activate</a>(k);</div>
<div class="line"><span class="lineno">  226</span>  }</div>
<div class="line"><span class="lineno">  227</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(i) &amp;&amp; !tmp)</div>
<div class="line"><span class="lineno">  228</span>    <a class="code hl_function" href="class_column_fan.html#ac44ed24041848fc51bd51165ea136df1">deactivate</a>(i);</div>
<div class="line"><span class="lineno">  229</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(i) &amp;&amp; tmp)</div>
<div class="line"><span class="lineno">  230</span>    <a class="code hl_function" href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">activate</a>(i);</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>  update();</div>
<div class="line"><span class="lineno">  233</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afd0a9c4b513b88d4f0627e91ced9e363" name="afd0a9c4b513b88d4f0627e91ced9e363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd0a9c4b513b88d4f0627e91ced9e363">&#9670;&nbsp;</a></span>saveData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ColumnFan::saveData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_o_stream.html">TOStream</a> &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  154</span>                  {  <span class="comment">// only saves indices of folded columns</span></div>
<div class="line"><span class="lineno">  155</span>  <span class="keywordtype">int</span> index, n = (int)m_columns.size();</div>
<div class="line"><span class="lineno">  156</span>  <span class="keywordflow">for</span> (index = 0; index &lt; n;) {</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">while</span> (index &lt; n &amp;&amp; m_columns[index].m_active) index++;</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">if</span> (index &lt; n) {</div>
<div class="line"><span class="lineno">  159</span>      <span class="keywordtype">int</span> firstIndex = index;</div>
<div class="line"><span class="lineno">  160</span>      os &lt;&lt; index;</div>
<div class="line"><span class="lineno">  161</span>      index++;</div>
<div class="line"><span class="lineno">  162</span>      <span class="keywordflow">while</span> (index &lt; n &amp;&amp; !m_columns[index].m_active) index++;</div>
<div class="line"><span class="lineno">  163</span>      os &lt;&lt; index - firstIndex;</div>
<div class="line"><span class="lineno">  164</span>    }</div>
<div class="line"><span class="lineno">  165</span>  }</div>
<div class="line"><span class="lineno">  166</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f18a8278d790dcb75d2ab842a1a63d6" name="a0f18a8278d790dcb75d2ab842a1a63d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f18a8278d790dcb75d2ab842a1a63d6">&#9670;&nbsp;</a></span>setDimensions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ColumnFan::setDimensions </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>unfolded</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cameraColumn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjust column sizes when switching orientation. </p>
<div class="fragment"><div class="line"><span class="lineno">   24</span>                                                            {</div>
<div class="line"><span class="lineno">   25</span>  m_unfolded        = unfolded;</div>
<div class="line"><span class="lineno">   26</span>  m_cameraColumnDim = cameraColumn;</div>
<div class="line"><span class="lineno">   27</span>  <span class="comment">// folded always 9</span></div>
<div class="line"><span class="lineno">   28</span>  update();</div>
<div class="line"><span class="lineno">   29</span>}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/include/toonz/<a class="el" href="">columnfan.h</a></li>
<li>E:/opentoonz/toonz/sources/toonzlib/<a class="el" href="">columnfan.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
