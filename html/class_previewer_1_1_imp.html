<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: Previewer::Imp Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="class_previewer.html">Previewer</a></li><li class="navelem"><a class="el" href="class_previewer_1_1_imp.html">Imp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_previewer_1_1_imp-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Previewer::Imp Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for Previewer::Imp:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_previewer_1_1_imp.png" usemap="#Previewer::Imp_map" alt=""/>
  <map id="Previewer::Imp_map" name="Previewer::Imp_map">
<area href="class_t_render_port.html" alt="TRenderPort" shape="rect" coords="0,0,95,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_previewer_1_1_imp_1_1_frame_info.html">FrameInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa2aead727987d886b08234652e4217c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#aa2aead727987d886b08234652e4217c5">Imp</a> (<a class="el" href="class_previewer.html">Previewer</a> *owner)</td></tr>
<tr class="separator:aa2aead727987d886b08234652e4217c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c2ac6c3b2b31a0b64cb35dfc2b1efb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a9c2ac6c3b2b31a0b64cb35dfc2b1efb9">notifyStarted</a> (int frame)</td></tr>
<tr class="separator:a9c2ac6c3b2b31a0b64cb35dfc2b1efb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d89b493b83c6671e23e09ac45679bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a23d89b493b83c6671e23e09ac45679bc">notifyCompleted</a> (int frame)</td></tr>
<tr class="separator:a23d89b493b83c6671e23e09ac45679bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a449f2e6043ca93781ba380aef9810b2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a449f2e6043ca93781ba380aef9810b2c">notifyFailed</a> (int frame)</td></tr>
<tr class="separator:a449f2e6043ca93781ba380aef9810b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffa6df0e477e58ea66eb9fdb3f79820"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a2ffa6df0e477e58ea66eb9fdb3f79820">notifyUpdate</a> ()</td></tr>
<tr class="separator:a2ffa6df0e477e58ea66eb9fdb3f79820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eabf6d4e02c2db83a410a343f97046a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_fx_pair.html">TFxPair</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a3eabf6d4e02c2db83a410a343f97046a">buildSceneFx</a> (int frame)</td></tr>
<tr class="separator:a3eabf6d4e02c2db83a410a343f97046a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0de42749c61e8ce8e222f776ac9f858"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#af0de42749c61e8ce8e222f776ac9f858">updateRenderSettings</a> ()</td></tr>
<tr class="separator:af0de42749c61e8ce8e222f776ac9f858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18890c09ee8dea06bf8ecb8bdbcb3863"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a18890c09ee8dea06bf8ecb8bdbcb3863">updateAliases</a> ()</td></tr>
<tr class="separator:a18890c09ee8dea06bf8ecb8bdbcb3863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acccfd81480c78134e4bd6091e57c0587"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#acccfd81480c78134e4bd6091e57c0587">updateAliasKeyword</a> (const std::string &amp;keyword)</td></tr>
<tr class="separator:acccfd81480c78134e4bd6091e57c0587"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d26791946e7767b4793f79e8e388b77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a5d26791946e7767b4793f79e8e388b77">updateFrameRange</a> ()</td></tr>
<tr class="separator:a5d26791946e7767b4793f79e8e388b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157de049fdd3dad1ca733c288e5f5aec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a157de049fdd3dad1ca733c288e5f5aec">updateProgressBarStatus</a> ()</td></tr>
<tr class="separator:a157de049fdd3dad1ca733c288e5f5aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea673dc57ce0256e1e393e4d7d4d9f89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#aea673dc57ce0256e1e393e4d7d4d9f89">updateCamera</a> ()</td></tr>
<tr class="separator:aea673dc57ce0256e1e393e4d7d4d9f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3289be6c722e30a549f302cccfb11127"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a3289be6c722e30a549f302cccfb11127">updatePreviewRect</a> ()</td></tr>
<tr class="separator:a3289be6c722e30a549f302cccfb11127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c145346197a5b83b50881e565deae6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a95c145346197a5b83b50881e565deae6">refreshFrame</a> (int frame)</td></tr>
<tr class="memdesc:a95c145346197a5b83b50881e565deae6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts rendering the passed frame.  <a href="class_previewer_1_1_imp.html#a95c145346197a5b83b50881e565deae6">More...</a><br /></td></tr>
<tr class="separator:a95c145346197a5b83b50881e565deae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c99e5bd1abe0ec80eecef1f2cbb3b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a09c99e5bd1abe0ec80eecef1f2cbb3b1">onRenderRasterStarted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData) override</td></tr>
<tr class="memdesc:a09c99e5bd1abe0ec80eecef1f2cbb3b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the renderized image to <a class="el" href="class_t_image_cache.html">TImageCache</a>; listeners are advised too.  <a href="class_previewer_1_1_imp.html#a09c99e5bd1abe0ec80eecef1f2cbb3b1">More...</a><br /></td></tr>
<tr class="separator:a09c99e5bd1abe0ec80eecef1f2cbb3b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cc9f97e7e343094c0833aed0929dea8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a2cc9f97e7e343094c0833aed0929dea8">onRenderRasterCompleted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData) override</td></tr>
<tr class="memdesc:a2cc9f97e7e343094c0833aed0929dea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the renderized image to <a class="el" href="class_t_image_cache.html">TImageCache</a>; listeners are advised too.  <a href="class_previewer_1_1_imp.html#a2cc9f97e7e343094c0833aed0929dea8">More...</a><br /></td></tr>
<tr class="separator:a2cc9f97e7e343094c0833aed0929dea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74d8b72e298ac99a621cb1dc9d3dea6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#ac74d8b72e298ac99a621cb1dc9d3dea6">onRenderFailure</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData, <a class="el" href="class_t_exception.html">TException</a> &amp;e) override</td></tr>
<tr class="separator:ac74d8b72e298ac99a621cb1dc9d3dea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5468acd66aafaa0f50a17b9e5028e3ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a5468acd66aafaa0f50a17b9e5028e3ba">doOnRenderRasterStarted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:a5468acd66aafaa0f50a17b9e5028e3ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a8067ce57e08aec79d3d4a449e3064"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#af6a8067ce57e08aec79d3d4a449e3064">doOnRenderRasterCompleted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:af6a8067ce57e08aec79d3d4a449e3064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acff689f2f20082d787bced65984d3207"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#acff689f2f20082d787bced65984d3207">doOnRenderRasterFailed</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData)</td></tr>
<tr class="memdesc:acff689f2f20082d787bced65984d3207"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the renderized image to <a class="el" href="class_t_image_cache.html">TImageCache</a>; listeners are advised too.  <a href="class_previewer_1_1_imp.html#acff689f2f20082d787bced65984d3207">More...</a><br /></td></tr>
<tr class="separator:acff689f2f20082d787bced65984d3207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17685497a10f773cb07dbd88bc5dd12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a17685497a10f773cb07dbd88bc5dd12f">remove</a> (int frame)</td></tr>
<tr class="separator:a17685497a10f773cb07dbd88bc5dd12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ca7bfdc5c485ada1537a6da46b5697"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a25ca7bfdc5c485ada1537a6da46b5697">remove</a> ()</td></tr>
<tr class="separator:a25ca7bfdc5c485ada1537a6da46b5697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a00e83efd869f240d44999f3578050a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a9a00e83efd869f240d44999f3578050a">saveFrame</a> ()</td></tr>
<tr class="separator:a9a00e83efd869f240d44999f3578050a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a815b668daa93baf4b2781d8228f8e4bc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a815b668daa93baf4b2781d8228f8e4bc">doSaveRenderedFrames</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> fp)</td></tr>
<tr class="separator:a815b668daa93baf4b2781d8228f8e4bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_render_port"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_render_port')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_render_port.html">TRenderPort</a></td></tr>
<tr class="memitem:a743d79f021d27a9f8017ef468839cadb inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#a743d79f021d27a9f8017ef468839cadb">setRenderArea</a> (const <a class="el" href="class_t_rect_t.html">TRectD</a> &amp;area)</td></tr>
<tr class="separator:a743d79f021d27a9f8017ef468839cadb inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce190bec5e61a3695f6fd36648316af inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_rect_t.html">TRectD</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#adce190bec5e61a3695f6fd36648316af">getRenderArea</a> ()</td></tr>
<tr class="memdesc:adce190bec5e61a3695f6fd36648316af inherit pub_methods_class_t_render_port"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ritorna <b>m_renderArea</b>.  <a href="class_t_render_port.html#adce190bec5e61a3695f6fd36648316af">More...</a><br /></td></tr>
<tr class="separator:adce190bec5e61a3695f6fd36648316af inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d241d5c87cdcd532e677472b1bb181 inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#a16d241d5c87cdcd532e677472b1bb181">onRenderRasterStarted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:a16d241d5c87cdcd532e677472b1bb181 inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30c7db7aa6236f02caf9b176bf01c753 inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#a30c7db7aa6236f02caf9b176bf01c753">onRenderRasterCompleted</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData)</td></tr>
<tr class="separator:a30c7db7aa6236f02caf9b176bf01c753 inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d52144e1d3ed030c8fc2865ac6785a9 inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#a6d52144e1d3ed030c8fc2865ac6785a9">onRenderFailure</a> (const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;renderData, <a class="el" href="class_t_exception.html">TException</a> &amp;e)</td></tr>
<tr class="separator:a6d52144e1d3ed030c8fc2865ac6785a9 inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517a05af2d771ec26d2eb046e28c75a1 inherit pub_methods_class_t_render_port"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_render_port.html#a517a05af2d771ec26d2eb046e28c75a1">onRenderFinished</a> (bool isCanceled=false)</td></tr>
<tr class="separator:a517a05af2d771ec26d2eb046e28c75a1 inherit pub_methods_class_t_render_port"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2f5bce20463d1a7c8b9b381adc814e3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_previewer.html">Previewer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a2f5bce20463d1a7c8b9b381adc814e3e">m_owner</a></td></tr>
<tr class="separator:a2f5bce20463d1a7c8b9b381adc814e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed3ece322f9d80932c22602ddd68b24"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_thread_1_1_mutex.html">TThread::Mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a3ed3ece322f9d80932c22602ddd68b24">m_mutex</a></td></tr>
<tr class="separator:a3ed3ece322f9d80932c22602ddd68b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb54619f83d70cda3d9e8163076e578"><td class="memItemLeft" align="right" valign="top">std::set&lt; <a class="el" href="class_previewer_1_1_listener.html">Previewer::Listener</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#aabb54619f83d70cda3d9e8163076e578">m_listeners</a></td></tr>
<tr class="separator:aabb54619f83d70cda3d9e8163076e578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9723c0b3c252de2d439e5a021a4d9ed4"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, <a class="el" href="struct_previewer_1_1_imp_1_1_frame_info.html">FrameInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a9723c0b3c252de2d439e5a021a4d9ed4">m_frames</a></td></tr>
<tr class="separator:a9723c0b3c252de2d439e5a021a4d9ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2744fce84cc1f9152bf7b89b008becd"><td class="memItemLeft" align="right" valign="top">std::vector&lt; UCHAR &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#ae2744fce84cc1f9152bf7b89b008becd">m_pbStatus</a></td></tr>
<tr class="separator:ae2744fce84cc1f9152bf7b89b008becd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e72d95cc9ceb115e691ae7fdcfff9c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a02e72d95cc9ceb115e691ae7fdcfff9c">m_computingFrameCount</a></td></tr>
<tr class="separator:a02e72d95cc9ceb115e691ae7fdcfff9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a463d9d9789b2aecef24254b9c46053c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_render_settings.html">TRenderSettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a463d9d9789b2aecef24254b9c46053c6">m_renderSettings</a></td></tr>
<tr class="separator:a463d9d9789b2aecef24254b9c46053c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34734121fc7deb3a1ca1c8248e68fed6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a34734121fc7deb3a1ca1c8248e68fed6">m_cachePrefix</a></td></tr>
<tr class="separator:a34734121fc7deb3a1ca1c8248e68fed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa27d993868a0ed60ca1815147e0c14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_dimension_t.html">TDimension</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a8aa27d993868a0ed60ca1815147e0c14">m_cameraRes</a></td></tr>
<tr class="separator:a8aa27d993868a0ed60ca1815147e0c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a4a78d063d11fd6a7f76aa55fa1e03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_rect_t.html">TRectD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a50a4a78d063d11fd6a7f76aa55fa1e03">m_renderArea</a></td></tr>
<tr class="separator:a50a4a78d063d11fd6a7f76aa55fa1e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113a6e96c22b646420955bbb4cbbbd0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a113a6e96c22b646420955bbb4cbbbd0a">m_cameraPos</a></td></tr>
<tr class="separator:a113a6e96c22b646420955bbb4cbbbd0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac8cc825071e7b8901fcf59b69ceffd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#abac8cc825071e7b8901fcf59b69ceffd">m_subcamera</a></td></tr>
<tr class="separator:abac8cc825071e7b8901fcf59b69ceffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a338039985084e08e2d3ffd8b0169be9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_rect_t.html">TRect</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a338039985084e08e2d3ffd8b0169be9f">m_previewRect</a></td></tr>
<tr class="separator:a338039985084e08e2d3ffd8b0169be9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8c026c96de1931a6c289bfec0cd4fc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_renderer.html">TRenderer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#aa8c026c96de1931a6c289bfec0cd4fc2">m_renderer</a></td></tr>
<tr class="separator:aa8c026c96de1931a6c289bfec0cd4fc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30be60487f91f8cfea3a46944cc253a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_level_writer_p.html">TLevelWriterP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#ab30be60487f91f8cfea3a46944cc253a">m_lw</a></td></tr>
<tr class="separator:ab30be60487f91f8cfea3a46944cc253a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e2f42034b2d83c4317a2d4b1664f22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_previewer_1_1_imp.html#a66e2f42034b2d83c4317a2d4b1664f22">m_currentFrameToSave</a></td></tr>
<tr class="separator:a66e2f42034b2d83c4317a2d4b1664f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa2aead727987d886b08234652e4217c5" name="aa2aead727987d886b08234652e4217c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2aead727987d886b08234652e4217c5">&#9670;&nbsp;</a></span>Imp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Previewer::Imp::Imp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_previewer.html">Previewer</a> *&#160;</td>
          <td class="paramname"><em>owner</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  237</span>    : m_owner(owner)</div>
<div class="line"><span class="lineno">  238</span>    , m_cameraRes(0, 0)</div>
<div class="line"><span class="lineno">  239</span>    , m_renderer(TSystem::getProcessorCount())</div>
<div class="line"><span class="lineno">  240</span>    , m_computingFrameCount(0)</div>
<div class="line"><span class="lineno">  241</span>    , m_currentFrameToSave(0)</div>
<div class="line"><span class="lineno">  242</span>    , m_subcamera(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  243</span>    , m_lw() {</div>
<div class="line"><span class="lineno">  244</span>  <span class="comment">// Precomputing (ie predictive cache) is disabled in this case. This is due to</span></div>
<div class="line"><span class="lineno">  245</span>  <span class="comment">// current TFxCacheManager&#39;s</span></div>
<div class="line"><span class="lineno">  246</span>  <span class="comment">// implementation, which can&#39;t still handle multiple render processes from the</span></div>
<div class="line"><span class="lineno">  247</span>  <span class="comment">// same TRenderer. This should</span></div>
<div class="line"><span class="lineno">  248</span>  <span class="comment">// change in the near future...</span></div>
<div class="line"><span class="lineno">  249</span>  m_renderer.enablePrecomputing(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  250</span>  m_renderer.addPort(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>  updateRenderSettings();</div>
<div class="line"><span class="lineno">  253</span>  updateCamera();</div>
<div class="line"><span class="lineno">  254</span>  updateFrameRange();</div>
<div class="line"><span class="lineno">  255</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ab70660329d62375310c8a0c194db08" name="a1ab70660329d62375310c8a0c194db08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ab70660329d62375310c8a0c194db08">&#9670;&nbsp;</a></span>~Imp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Previewer::Imp::~Imp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  259</span>                   {</div>
<div class="line"><span class="lineno">  260</span>  m_renderer.removePort(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>  <span class="comment">// for(std::map&lt;int, FrameInfo*&gt;::iterator it=m_frames.begin();</span></div>
<div class="line"><span class="lineno">  263</span>  <span class="comment">// it!=m_frames.end(); ++it)</span></div>
<div class="line"><span class="lineno">  264</span>  <span class="comment">//  delete it-&gt;second; //crash on exit! not a serious leak, Previewer is a</span></div>
<div class="line"><span class="lineno">  265</span>  <span class="comment">//  singleton</span></div>
<div class="line"><span class="lineno">  266</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3eabf6d4e02c2db83a410a343f97046a" name="a3eabf6d4e02c2db83a410a343f97046a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eabf6d4e02c2db83a410a343f97046a">&#9670;&nbsp;</a></span>buildSceneFx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_fx_pair.html">TFxPair</a> Previewer::Imp::buildSceneFx </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  270</span>                                            {</div>
<div class="line"><span class="lineno">  271</span>  <a class="code hl_class" href="class_t_fx_pair.html">TFxPair</a> fxPair;</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>  <a class="code hl_class" href="class_t_app.html">TApp</a> *app         = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>();</div>
<div class="line"><span class="lineno">  274</span>  <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene = app-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene();</div>
<div class="line"><span class="lineno">  275</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh      = scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#ae3c828e3223fd809fd59189233d0576a">getXsheet</a>();</div>
<div class="line"><span class="lineno">  276</span>  <span class="keywordflow">if</span> (m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">m_stereoscopic</a>) {</div>
<div class="line"><span class="lineno">  277</span>    scene-&gt;shiftCameraX(-m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a8c9cade2391a50017b4ad623f653c82f">m_stereoscopicShift</a> / 2.0);</div>
<div class="line"><span class="lineno">  278</span>    fxPair.m_frameA = ::buildSceneFx(</div>
<div class="line"><span class="lineno">  279</span>        scene, xsh, frame, TOutputProperties::AllLevels,</div>
<div class="line"><span class="lineno">  280</span>        m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a64acc2c6ba75292c0a0f9d101ddacc3b">m_applyShrinkToViewer</a> ? m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a> : 1,</div>
<div class="line"><span class="lineno">  281</span>        <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    scene-&gt;shiftCameraX(m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a8c9cade2391a50017b4ad623f653c82f">m_stereoscopicShift</a>);</div>
<div class="line"><span class="lineno">  284</span>    fxPair.m_frameB = ::buildSceneFx(</div>
<div class="line"><span class="lineno">  285</span>        scene, xsh, frame, TOutputProperties::AllLevels,</div>
<div class="line"><span class="lineno">  286</span>        m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a64acc2c6ba75292c0a0f9d101ddacc3b">m_applyShrinkToViewer</a> ? m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a> : 1,</div>
<div class="line"><span class="lineno">  287</span>        <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    scene-&gt;shiftCameraX(-m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a8c9cade2391a50017b4ad623f653c82f">m_stereoscopicShift</a> / 2.0);</div>
<div class="line"><span class="lineno">  290</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  291</span>    fxPair.m_frameA = ::buildSceneFx(</div>
<div class="line"><span class="lineno">  292</span>        scene, xsh, frame, TOutputProperties::AllLevels,</div>
<div class="line"><span class="lineno">  293</span>        m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a64acc2c6ba75292c0a0f9d101ddacc3b">m_applyShrinkToViewer</a> ? m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a> : 1,</div>
<div class="line"><span class="lineno">  294</span>        <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>  <span class="keywordflow">return</span> fxPair;</div>
<div class="line"><span class="lineno">  297</span>}</div>
<div class="ttc" id="aclass_t_app_html"><div class="ttname"><a href="class_t_app.html">TApp</a></div><div class="ttdoc">This is the instance of the main application.</div><div class="ttdef"><b>Definition:</b> tapp.h:66</div></div>
<div class="ttc" id="aclass_t_app_html_a24088f8647d5d9447fcec6b9b9bbf9eb"><div class="ttname"><a href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a></div><div class="ttdeci">static TApp * instance()</div><div class="ttdef"><b>Definition:</b> tapp.cpp:215</div></div>
<div class="ttc" id="aclass_t_app_html_abbbf1fae564e9e510826eda4f6637d20"><div class="ttname"><a href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">TApp::getCurrentScene</a></div><div class="ttdeci">TSceneHandle * getCurrentScene() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:106</div></div>
<div class="ttc" id="aclass_t_fx_pair_html"><div class="ttname"><a href="class_t_fx_pair.html">TFxPair</a></div><div class="ttdef"><b>Definition:</b> trenderer.h:31</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a52dd41881bbf6aaf953fe300be2e233e"><div class="ttname"><a href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">TRenderSettings::m_shrinkX</a></div><div class="ttdeci">int m_shrinkX</div><div class="ttdef"><b>Definition:</b> trasterfx.h:125</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a64acc2c6ba75292c0a0f9d101ddacc3b"><div class="ttname"><a href="class_t_render_settings.html#a64acc2c6ba75292c0a0f9d101ddacc3b">TRenderSettings::m_applyShrinkToViewer</a></div><div class="ttdeci">bool m_applyShrinkToViewer</div><div class="ttdef"><b>Definition:</b> trasterfx.h:146</div></div>
<div class="ttc" id="aclass_t_render_settings_html_a8c9cade2391a50017b4ad623f653c82f"><div class="ttname"><a href="class_t_render_settings.html#a8c9cade2391a50017b4ad623f653c82f">TRenderSettings::m_stereoscopicShift</a></div><div class="ttdeci">double m_stereoscopicShift</div><div class="ttdef"><b>Definition:</b> trasterfx.h:112</div></div>
<div class="ttc" id="aclass_t_render_settings_html_aadbd5a3a50b242b366a93023d5f7da07"><div class="ttname"><a href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">TRenderSettings::m_stereoscopic</a></div><div class="ttdeci">bool m_stereoscopic</div><div class="ttdef"><b>Definition:</b> trasterfx.h:133</div></div>
<div class="ttc" id="aclass_t_xsheet_html"><div class="ttname"><a href="class_t_xsheet.html">TXsheet</a></div><div class="ttdef"><b>Definition:</b> txsheet.h:132</div></div>
<div class="ttc" id="aclass_toonz_scene_html"><div class="ttname"><a href="class_toonz_scene.html">ToonzScene</a></div><div class="ttdef"><b>Definition:</b> toonzscene.h:42</div></div>
<div class="ttc" id="aclass_toonz_scene_html_ae3c828e3223fd809fd59189233d0576a"><div class="ttname"><a href="class_toonz_scene.html#ae3c828e3223fd809fd59189233d0576a">ToonzScene::getXsheet</a></div><div class="ttdeci">TXsheet * getXsheet() const</div><div class="ttdoc">Returns a pointer to the scene's current xsheet.</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:957</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6a8067ce57e08aec79d3d4a449e3064" name="af6a8067ce57e08aec79d3d4a449e3064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6a8067ce57e08aec79d3d4a449e3064">&#9670;&nbsp;</a></span>doOnRenderRasterCompleted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::doOnRenderRasterCompleted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  667</span>                                                                         {</div>
<div class="line"><span class="lineno">  668</span>  <span class="keywordtype">int</span> renderId = renderData.m_renderId;</div>
<div class="line"><span class="lineno">  669</span>  <span class="keywordtype">int</span> frame    = renderData.m_frames[0];</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>  <span class="keywordflow">if</span> (renderData.m_rasB) {</div>
<div class="line"><span class="lineno">  672</span>    assert(m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">m_stereoscopic</a>);</div>
<div class="line"><span class="lineno">  673</span>    TRop::makeStereoRaster(renderData.m_rasA, renderData.m_rasB);</div>
<div class="line"><span class="lineno">  674</span>  }</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> ras(renderData.m_rasA);</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>  m_computingFrameCount--;</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>  <span class="comment">// Find the render infos in the Previewer</span></div>
<div class="line"><span class="lineno">  681</span>  std::map&lt;int, FrameInfo&gt;::iterator it = m_frames.find(frame);</div>
<div class="line"><span class="lineno">  682</span>  <span class="keywordflow">if</span> (it == m_frames.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>  <span class="comment">// Ensure that the render process id is the same</span></div>
<div class="line"><span class="lineno">  685</span>  <span class="keywordflow">if</span> (renderId != it-&gt;second.m_renderId) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>  <span class="comment">// Store the rendered image in the cache - this is done in the MAIN thread due</span></div>
<div class="line"><span class="lineno">  688</span>  <span class="comment">// to the necessity of accessing it-&gt;second.m_rectUnderRender for raster</span></div>
<div class="line"><span class="lineno">  689</span>  <span class="comment">// extraction.</span></div>
<div class="line"><span class="lineno">  690</span>  std::string str = m_cachePrefix + std::to_string(frame);</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>  <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> ri(TImageCache::instance()-&gt;get(str, <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  693</span>  <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a> cachedRas(ri ? ri-&gt;getRaster() : <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>());</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>  <span class="keywordflow">if</span> (!cachedRas || (cachedRas-&gt;getSize() != m_cameraRes)) {</div>
<div class="line"><span class="lineno">  696</span>    TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(str);</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span>    <span class="comment">// Create the raster at camera resolution</span></div>
<div class="line"><span class="lineno">  699</span>    cachedRas = ras-&gt;create(m_cameraRes.lx, m_cameraRes.ly);</div>
<div class="line"><span class="lineno">  700</span>    cachedRas-&gt;clear();</div>
<div class="line"><span class="lineno">  701</span>    ri = <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a>(cachedRas);</div>
<div class="line"><span class="lineno">  702</span>  }</div>
<div class="line"><span class="lineno">  703</span> </div>
<div class="line"><span class="lineno">  704</span>  <span class="comment">// Finally, copy the rendered raster over the cached one</span></div>
<div class="line"><span class="lineno">  705</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> rectUnderRender(</div>
<div class="line"><span class="lineno">  706</span>      it-&gt;second</div>
<div class="line"><span class="lineno">  707</span>          .m_rectUnderRender);  <span class="comment">// Extract may MODIFY IT! E.g. with shrinks..!</span></div>
<div class="line"><span class="lineno">  708</span>  cachedRas = cachedRas-&gt;extract(rectUnderRender);</div>
<div class="line"><span class="lineno">  709</span>  <span class="keywordflow">if</span> (cachedRas) {</div>
<div class="line"><span class="lineno">  710</span>    cachedRas-&gt;copy(ras);</div>
<div class="line"><span class="lineno">  711</span>    TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">add</a>(str, ri);</div>
<div class="line"><span class="lineno">  712</span>  }</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>  <span class="comment">// Update the FrameInfo</span></div>
<div class="line"><span class="lineno">  715</span>  it-&gt;second.m_renderedRegion += toQRect(it-&gt;second.m_rectUnderRender);</div>
<div class="line"><span class="lineno">  716</span>  it-&gt;second.m_rectUnderRender = <a class="code hl_class" href="class_t_rect_t.html">TRect</a>();</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>  <span class="comment">// Update the progress bar status</span></div>
<div class="line"><span class="lineno">  719</span>  <span class="keywordflow">if</span> (frame &lt; m_pbStatus.size())</div>
<div class="line"><span class="lineno">  720</span>    m_pbStatus[frame] = FlipSlider::PBFrameFinished;</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>  <span class="comment">// Notify listeners</span></div>
<div class="line"><span class="lineno">  723</span>  notifyCompleted(frame);</div>
<div class="line"><span class="lineno">  724</span>}</div>
<div class="ttc" id="aclass_t_image_cache_html_a124eae4cf370288f42c22b3477cb5163"><div class="ttname"><a href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">TImageCache::add</a></div><div class="ttdeci">void add(const std::string &amp;id, const TImageP &amp;img, bool overwrite=true)</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1153</div></div>
<div class="ttc" id="aclass_t_image_cache_html_a57d63227dfe2532b0aed22c47113be66"><div class="ttname"><a href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">TImageCache::remove</a></div><div class="ttdeci">void remove(const std::string &amp;id)</div><div class="ttdoc">Removes from the image cache the image associated to passed id.</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1260</div></div>
<div class="ttc" id="aclass_t_raster_image_p_html"><div class="ttname"><a href="class_t_raster_image_p.html">TRasterImageP</a></div><div class="ttdef"><b>Definition:</b> trasterimage.h:148</div></div>
<div class="ttc" id="aclass_t_rect_t_html"><div class="ttname"><a href="class_t_rect_t.html">TRectT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TRaster &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acff689f2f20082d787bced65984d3207" name="acff689f2f20082d787bced65984d3207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acff689f2f20082d787bced65984d3207">&#9670;&nbsp;</a></span>doOnRenderRasterFailed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::doOnRenderRasterFailed </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the renderized image to <a class="el" href="class_t_image_cache.html">TImageCache</a>; listeners are advised too. </p>
<div class="fragment"><div class="line"><span class="lineno">  738</span>                                                                      {</div>
<div class="line"><span class="lineno">  739</span>  m_computingFrameCount--;</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>  <span class="keywordtype">int</span> frame = (int)renderData.m_frames[0];</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>  std::map&lt;int, FrameInfo&gt;::iterator it = m_frames.find(frame);</div>
<div class="line"><span class="lineno">  744</span>  <span class="keywordflow">if</span> (it == m_frames.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>  <span class="keywordflow">if</span> (renderData.m_renderId != it-&gt;second.m_renderId) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>  it-&gt;second.m_renderedRegion  = QRegion();</div>
<div class="line"><span class="lineno">  749</span>  it-&gt;second.m_rectUnderRender = <a class="code hl_class" href="class_t_rect_t.html">TRect</a>();</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>  <span class="comment">// Update the progress bar status</span></div>
<div class="line"><span class="lineno">  752</span>  <span class="keywordflow">if</span> (frame &lt; m_pbStatus.size())</div>
<div class="line"><span class="lineno">  753</span>    m_pbStatus[frame] = FlipSlider::PBFrameNotStarted;</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>  notifyCompleted(frame);  <span class="comment">// Completed!?</span></div>
<div class="line"><span class="lineno">  756</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00092">TRenderPort::RenderData::m_frames</a>, and <a class="el" href="#l00096">TRenderPort::RenderData::m_renderId</a>.</p>

</div>
</div>
<a id="a5468acd66aafaa0f50a17b9e5028e3ba" name="a5468acd66aafaa0f50a17b9e5028e3ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5468acd66aafaa0f50a17b9e5028e3ba">&#9670;&nbsp;</a></span>doOnRenderRasterStarted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::doOnRenderRasterStarted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  629</span>                                                                       {</div>
<div class="line"><span class="lineno">  630</span>  <span class="keywordtype">int</span> frame = renderData.m_frames[0];</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>  m_computingFrameCount++;</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>  <span class="comment">// Update the progress bar status</span></div>
<div class="line"><span class="lineno">  635</span>  <span class="keywordflow">if</span> (frame &lt; m_pbStatus.size()) m_pbStatus[frame] = FlipSlider::PBFrameStarted;</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>  <span class="comment">// Notify listeners</span></div>
<div class="line"><span class="lineno">  638</span>  notifyStarted(frame);</div>
<div class="line"><span class="lineno">  639</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a815b668daa93baf4b2781d8228f8e4bc" name="a815b668daa93baf4b2781d8228f8e4bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a815b668daa93baf4b2781d8228f8e4bc">&#9670;&nbsp;</a></span>doSaveRenderedFrames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Previewer::Imp::doSaveRenderedFrames </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  841</span>                                                    {</div>
<div class="line"><span class="lineno">  842</span>  <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene();</div>
<div class="line"><span class="lineno">  843</span>  <a class="code hl_class" href="class_t_output_properties.html">TOutputProperties</a> *outputSettings =</div>
<div class="line"><span class="lineno">  844</span>      scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()-&gt;<a class="code hl_function" href="class_t_scene_properties.html#abea7b4b8e4f0cedbf753b26ec30b5331">getOutputProperties</a>();</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>  QStringList formats;</div>
<div class="line"><span class="lineno">  847</span>  TLevelWriter::getSupportedFormats(formats, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  848</span>  Tiio::Writer::getSupportedFormats(formats, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>  std::string ext = fp.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>();</div>
<div class="line"><span class="lineno">  851</span>  <span class="keywordflow">if</span> (ext == <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno">  852</span>    ext = outputSettings-&gt;<a class="code hl_function" href="class_t_output_properties.html#ab082a7e84177a558484d648215e4b4f7">getPath</a>().<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>();</div>
<div class="line"><span class="lineno">  853</span>    fp  = fp.<a class="code hl_function" href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">withType</a>(ext);</div>
<div class="line"><span class="lineno">  854</span>  }</div>
<div class="line"><span class="lineno">  855</span>  <span class="keywordflow">if</span> (fp.<a class="code hl_function" href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">getName</a>() == <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno">  856</span>    DVGui::warning(QObject::tr(</div>
<div class="line"><span class="lineno">  857</span>        <span class="stringliteral">&quot;The file name cannot be empty or contain any of the following &quot;</span></div>
<div class="line"><span class="lineno">  858</span>        <span class="stringliteral">&quot;characters:(new line)  \\ / : * ? \&quot;  |&quot;</span>));</div>
<div class="line"><span class="lineno">  859</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  860</span>  }</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>  <span class="keywordflow">if</span> (!formats.contains(QString::fromStdString(ext))) {</div>
<div class="line"><span class="lineno">  863</span>    DVGui::warning(QObject::tr(<span class="stringliteral">&quot;Unsopporter raster format, cannot save&quot;</span>));</div>
<div class="line"><span class="lineno">  864</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  865</span>  }</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>  <span class="keywordflow">if</span> (fp.getWideName() == L<span class="stringliteral">&quot;&quot;</span>) fp = fp.<a class="code hl_function" href="class_t_file_path.html#a3ebf9ced558cfef97a60bba536b23c6f">withName</a>(scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a1fa0a1cbf9eb6360d980392acc99924b">getSceneName</a>());</div>
<div class="line"><span class="lineno">  868</span>  <span class="keywordflow">if</span> (TFileType::getInfo(fp) == TFileType::RASTER_IMAGE || ext == <span class="stringliteral">&quot;pct&quot;</span> ||</div>
<div class="line"><span class="lineno">  869</span>      fp.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>() == <span class="stringliteral">&quot;pic&quot;</span> || ext == <span class="stringliteral">&quot;pict&quot;</span>)  <span class="comment">// pct e&#39; un formato&quot;livello&quot; (ha</span></div>
<div class="line"><span class="lineno">  870</span>                                               <span class="comment">// i settings di quicktime) ma</span></div>
<div class="line"><span class="lineno">  871</span>                                               <span class="comment">// fatto di diversi frames</span></div>
<div class="line"><span class="lineno">  872</span>    fp = fp.<a class="code hl_function" href="class_t_file_path.html#a12f35b225e1882372ad7e02ad7fce543">withFrame</a>(TFrameId::EMPTY_FRAME);</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>  fp          = scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">decodeFilePath</a>(fp);</div>
<div class="line"><span class="lineno">  875</span>  <span class="keywordtype">bool</span> exists = <a class="code hl_class" href="class_t_file_status.html">TFileStatus</a>(fp.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>()).doesExist();</div>
<div class="line"><span class="lineno">  876</span>  <span class="keywordflow">if</span> (!exists) {</div>
<div class="line"><span class="lineno">  877</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  878</span>      <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> parent = fp.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>();</div>
<div class="line"><span class="lineno">  879</span>      TSystem::mkDir(parent);</div>
<div class="line"><span class="lineno">  880</span>      DvDirModel::instance()-&gt;refreshFolder(parent.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>());</div>
<div class="line"><span class="lineno">  881</span>    } <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_t_exception.html">TException</a> &amp;e) {</div>
<div class="line"><span class="lineno">  882</span>      error(QObject::tr(<span class="stringliteral">&quot;Cannot create %1 : %2&quot;</span>,</div>
<div class="line"><span class="lineno">  883</span>                        <span class="stringliteral">&quot;Previewer warning %1:path %2:message&quot;</span>)</div>
<div class="line"><span class="lineno">  884</span>                .arg(toQString(fp.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>()))</div>
<div class="line"><span class="lineno">  885</span>                .arg(QString(::to_string(e.getMessage()).c_str())));</div>
<div class="line"><span class="lineno">  886</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  887</span>    } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">  888</span>      error(QObject::tr(<span class="stringliteral">&quot;Cannot create %1&quot;</span>, <span class="stringliteral">&quot;Previewer warning %1:path&quot;</span>)</div>
<div class="line"><span class="lineno">  889</span>                .arg(toQString(fp.<a class="code hl_function" href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">getParentDir</a>())));</div>
<div class="line"><span class="lineno">  890</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  891</span>    }</div>
<div class="line"><span class="lineno">  892</span>  }</div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span>  <span class="keywordflow">if</span> (TSystem::doesExistFileOrLevel(fp)) {</div>
<div class="line"><span class="lineno">  895</span>    QString question(</div>
<div class="line"><span class="lineno">  896</span>        QObject::tr(<span class="stringliteral">&quot;File %1 already exists.\nDo you want to overwrite it?&quot;</span>)</div>
<div class="line"><span class="lineno">  897</span>            .arg(toQString(fp)));</div>
<div class="line"><span class="lineno">  898</span>    <span class="keywordtype">int</span> ret = DVGui::MsgBox(question, QObject::tr(<span class="stringliteral">&quot;Overwrite&quot;</span>),</div>
<div class="line"><span class="lineno">  899</span>                            QObject::tr(<span class="stringliteral">&quot;Cancel&quot;</span>), 0);</div>
<div class="line"><span class="lineno">  900</span>    <span class="keywordflow">if</span> (ret == 2) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  901</span>  }</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span>  <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  904</span>    m_lw = <a class="code hl_class" href="class_t_level_writer_p.html">TLevelWriterP</a>(fp,</div>
<div class="line"><span class="lineno">  905</span>                         outputSettings-&gt;<a class="code hl_function" href="class_t_output_properties.html#a9ef174e6f6239219fa563b037246c8d4">getFileFormatProperties</a>(fp.<a class="code hl_function" href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">getType</a>()));</div>
<div class="line"><span class="lineno">  906</span>  } <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_t_image_exception.html">TImageException</a> &amp;e) {</div>
<div class="line"><span class="lineno">  907</span>    error(QString::fromStdString(::to_string(e.getMessage())));</div>
<div class="line"><span class="lineno">  908</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  909</span>  }</div>
<div class="line"><span class="lineno">  910</span> </div>
<div class="line"><span class="lineno">  911</span>  m_lw-&gt;setFrameRate(outputSettings-&gt;<a class="code hl_function" href="class_t_output_properties.html#a0d9662971bc33097aa1b55111965b967">getFrameRate</a>());</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>  m_currentFrameToSave = 1;</div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>  ProgressBarMessager(</div>
<div class="line"><span class="lineno">  916</span>      eBegin,</div>
<div class="line"><span class="lineno">  917</span>      <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;getCurrentXsheet()-&gt;getXsheet()-&gt;getFrameCount())</div>
<div class="line"><span class="lineno">  918</span>      .sendBlocking();</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>  QTimer::singleShot(50, m_owner, SLOT(saveFrame()));</div>
<div class="line"><span class="lineno">  921</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  922</span>}</div>
<div class="ttc" id="aclass_t_exception_html"><div class="ttname"><a href="class_t_exception.html">TException</a></div><div class="ttdef"><b>Definition:</b> texception.h:18</div></div>
<div class="ttc" id="aclass_t_file_path_html"><div class="ttname"><a href="class_t_file_path.html">TFilePath</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:134</div></div>
<div class="ttc" id="aclass_t_file_path_html_a12f35b225e1882372ad7e02ad7fce543"><div class="ttname"><a href="class_t_file_path.html#a12f35b225e1882372ad7e02ad7fce543">TFilePath::withFrame</a></div><div class="ttdeci">TFilePath withFrame(const TFrameId &amp;frame, TFrameId::FrameFormat format=TFrameId::USE_CURRENT_FORMAT) const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:860</div></div>
<div class="ttc" id="aclass_t_file_path_html_a1437b0e0720e9258b622f68b6858e95d"><div class="ttname"><a href="class_t_file_path.html#a1437b0e0720e9258b622f68b6858e95d">TFilePath::withType</a></div><div class="ttdeci">TFilePath withType(const std::string &amp;type) const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:774</div></div>
<div class="ttc" id="aclass_t_file_path_html_a1f5014e9c396bc2268820c19bc15657d"><div class="ttname"><a href="class_t_file_path.html#a1f5014e9c396bc2268820c19bc15657d">TFilePath::getParentDir</a></div><div class="ttdeci">TFilePath getParentDir() const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:683</div></div>
<div class="ttc" id="aclass_t_file_path_html_a3ebf9ced558cfef97a60bba536b23c6f"><div class="ttname"><a href="class_t_file_path.html#a3ebf9ced558cfef97a60bba536b23c6f">TFilePath::withName</a></div><div class="ttdeci">TFilePath withName(const std::string &amp;name) const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:802</div></div>
<div class="ttc" id="aclass_t_file_path_html_aefca624df1a5468a4c78ec6d5dbfae26"><div class="ttname"><a href="class_t_file_path.html#aefca624df1a5468a4c78ec6d5dbfae26">TFilePath::getType</a></div><div class="ttdeci">std::string getType() const</div><div class="ttdef"><b>Definition:</b> tfilepath.h:225</div></div>
<div class="ttc" id="aclass_t_file_path_html_af94f9b0aeceb6cdb980fa1789473503a"><div class="ttname"><a href="class_t_file_path.html#af94f9b0aeceb6cdb980fa1789473503a">TFilePath::getName</a></div><div class="ttdeci">std::string getName() const</div><div class="ttdef"><b>Definition:</b> tfilepath.cpp:636</div></div>
<div class="ttc" id="aclass_t_file_status_html"><div class="ttname"><a href="class_t_file_status.html">TFileStatus</a></div><div class="ttdef"><b>Definition:</b> tsystem.h:36</div></div>
<div class="ttc" id="aclass_t_image_exception_html"><div class="ttname"><a href="class_t_image_exception.html">TImageException</a></div><div class="ttdef"><b>Definition:</b> timage_io.h:37</div></div>
<div class="ttc" id="aclass_t_level_writer_p_html"><div class="ttname"><a href="class_t_level_writer_p.html">TLevelWriterP</a></div><div class="ttdef"><b>Definition:</b> tlevel_io.h:214</div></div>
<div class="ttc" id="aclass_t_output_properties_html"><div class="ttname"><a href="class_t_output_properties.html">TOutputProperties</a></div><div class="ttdef"><b>Definition:</b> toutputproperties.h:63</div></div>
<div class="ttc" id="aclass_t_output_properties_html_a0d9662971bc33097aa1b55111965b967"><div class="ttname"><a href="class_t_output_properties.html#a0d9662971bc33097aa1b55111965b967">TOutputProperties::getFrameRate</a></div><div class="ttdeci">double getFrameRate() const</div><div class="ttdef"><b>Definition:</b> toutputproperties.h:175</div></div>
<div class="ttc" id="aclass_t_output_properties_html_a9ef174e6f6239219fa563b037246c8d4"><div class="ttname"><a href="class_t_output_properties.html#a9ef174e6f6239219fa563b037246c8d4">TOutputProperties::getFileFormatProperties</a></div><div class="ttdeci">TPropertyGroup * getFileFormatProperties(std::string ext)</div><div class="ttdef"><b>Definition:</b> outputproperties.cpp:156</div></div>
<div class="ttc" id="aclass_t_output_properties_html_ab082a7e84177a558484d648215e4b4f7"><div class="ttname"><a href="class_t_output_properties.html#ab082a7e84177a558484d648215e4b4f7">TOutputProperties::getPath</a></div><div class="ttdeci">TFilePath getPath() const</div><div class="ttdef"><b>Definition:</b> outputproperties.cpp:116</div></div>
<div class="ttc" id="aclass_t_scene_properties_html_abea7b4b8e4f0cedbf753b26ec30b5331"><div class="ttname"><a href="class_t_scene_properties.html#abea7b4b8e4f0cedbf753b26ec30b5331">TSceneProperties::getOutputProperties</a></div><div class="ttdeci">TOutputProperties * getOutputProperties() const</div><div class="ttdef"><b>Definition:</b> sceneproperties.h:145</div></div>
<div class="ttc" id="aclass_toonz_scene_html_a1fa0a1cbf9eb6360d980392acc99924b"><div class="ttname"><a href="class_toonz_scene.html#a1fa0a1cbf9eb6360d980392acc99924b">ToonzScene::getSceneName</a></div><div class="ttdeci">std::wstring getSceneName() const</div><div class="ttdoc">Returns the scene's name.</div><div class="ttdef"><b>Definition:</b> toonzscene.h:64</div></div>
<div class="ttc" id="aclass_toonz_scene_html_a8ef96fedc17d7def810ac419b0939254"><div class="ttname"><a href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">ToonzScene::getProperties</a></div><div class="ttdeci">TSceneProperties * getProperties() const</div><div class="ttdoc">&lt; Returns a pointer to the scene's properties.</div><div class="ttdef"><b>Definition:</b> toonzscene.h:87</div></div>
<div class="ttc" id="aclass_toonz_scene_html_aa2ed57dfbae7f8cf02a4abe47ed533c6"><div class="ttname"><a href="class_toonz_scene.html#aa2ed57dfbae7f8cf02a4abe47ed533c6">ToonzScene::decodeFilePath</a></div><div class="ttdeci">TFilePath decodeFilePath(const TFilePath &amp;) const</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:1231</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23d89b493b83c6671e23e09ac45679bc" name="a23d89b493b83c6671e23e09ac45679bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23d89b493b83c6671e23e09ac45679bc">&#9670;&nbsp;</a></span>notifyCompleted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::notifyCompleted </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  597</span>                                                   {</div>
<div class="line"><span class="lineno">  598</span>  std::set&lt;Previewer::Listener *&gt;::iterator it;</div>
<div class="line"><span class="lineno">  599</span>  <span class="keywordflow">for</span> (it = m_listeners.begin(); it != m_listeners.end(); ++it)</div>
<div class="line"><span class="lineno">  600</span>    (*it)-&gt;onRenderCompleted(frame);</div>
<div class="line"><span class="lineno">  601</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a449f2e6043ca93781ba380aef9810b2c" name="a449f2e6043ca93781ba380aef9810b2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a449f2e6043ca93781ba380aef9810b2c">&#9670;&nbsp;</a></span>notifyFailed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::notifyFailed </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  605</span>                                                {</div>
<div class="line"><span class="lineno">  606</span>  std::set&lt;Previewer::Listener *&gt;::iterator it;</div>
<div class="line"><span class="lineno">  607</span>  <span class="keywordflow">for</span> (it = m_listeners.begin(); it != m_listeners.end(); ++it)</div>
<div class="line"><span class="lineno">  608</span>    (*it)-&gt;onRenderFailed(frame);</div>
<div class="line"><span class="lineno">  609</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c2ac6c3b2b31a0b64cb35dfc2b1efb9" name="a9c2ac6c3b2b31a0b64cb35dfc2b1efb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c2ac6c3b2b31a0b64cb35dfc2b1efb9">&#9670;&nbsp;</a></span>notifyStarted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::notifyStarted </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  589</span>                                                 {</div>
<div class="line"><span class="lineno">  590</span>  std::set&lt;Previewer::Listener *&gt;::iterator it;</div>
<div class="line"><span class="lineno">  591</span>  <span class="keywordflow">for</span> (it = m_listeners.begin(); it != m_listeners.end(); ++it)</div>
<div class="line"><span class="lineno">  592</span>    (*it)-&gt;onRenderStarted(frame);</div>
<div class="line"><span class="lineno">  593</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ffa6df0e477e58ea66eb9fdb3f79820" name="a2ffa6df0e477e58ea66eb9fdb3f79820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffa6df0e477e58ea66eb9fdb3f79820">&#9670;&nbsp;</a></span>notifyUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::notifyUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  613</span>                                       {</div>
<div class="line"><span class="lineno">  614</span>  std::set&lt;Previewer::Listener *&gt;::iterator it;</div>
<div class="line"><span class="lineno">  615</span>  <span class="keywordflow">for</span> (it = m_listeners.begin(); it != m_listeners.end(); ++it)</div>
<div class="line"><span class="lineno">  616</span>    (*it)-&gt;onPreviewUpdate();</div>
<div class="line"><span class="lineno">  617</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac74d8b72e298ac99a621cb1dc9d3dea6" name="ac74d8b72e298ac99a621cb1dc9d3dea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac74d8b72e298ac99a621cb1dc9d3dea6">&#9670;&nbsp;</a></span>onRenderFailure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::onRenderFailure </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_exception.html">TException</a> &amp;&#160;</td>
          <td class="paramname"><em>e</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Removes the associated raster from <a class="el" href="class_t_image_cache.html">TImageCache</a>, and listeners are made aware. </p>

<p>Reimplemented from <a class="el" href="class_t_render_port.html">TRenderPort</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  731</span>                                                    {</div>
<div class="line"><span class="lineno">  732</span>  m_owner-&gt;emitFailedFrame(renderData);</div>
<div class="line"><span class="lineno">  733</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cc9f97e7e343094c0833aed0929dea8" name="a2cc9f97e7e343094c0833aed0929dea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cc9f97e7e343094c0833aed0929dea8">&#9670;&nbsp;</a></span>onRenderRasterCompleted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::onRenderRasterCompleted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the renderized image to <a class="el" href="class_t_image_cache.html">TImageCache</a>; listeners are advised too. </p>

<p>Reimplemented from <a class="el" href="class_t_render_port.html">TRenderPort</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  644</span>                                                                       {</div>
<div class="line"><span class="lineno">  645</span>  <span class="keywordflow">if</span> (renderData.m_rasB) {</div>
<div class="line"><span class="lineno">  646</span>    RenderData _renderData = renderData;</div>
<div class="line"><span class="lineno">  647</span>    assert(m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#aadbd5a3a50b242b366a93023d5f7da07">m_stereoscopic</a>);</div>
<div class="line"><span class="lineno">  648</span>    TRop::makeStereoRaster(_renderData.m_rasA, _renderData.m_rasB);</div>
<div class="line"><span class="lineno">  649</span>    <span class="keywordflow">if</span> (_renderData.m_info.m_gamma != 1.0)</div>
<div class="line"><span class="lineno">  650</span>      <a class="code hl_function" href="namespace_t_rop.html#ad4babe6813c171b27ede85b106642bf2">TRop::gammaCorrect</a>(_renderData.m_rasA, _renderData.m_info.m_gamma);</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    _renderData.m_rasB = <a class="code hl_class" href="class_t_smart_pointer_t.html">TRasterP</a>();</div>
<div class="line"><span class="lineno">  653</span>    m_owner-&gt;emitRenderedFrame(_renderData);</div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  655</span>  }</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>  <span class="comment">// If required, correct gamma</span></div>
<div class="line"><span class="lineno">  658</span>  <span class="keywordflow">if</span> (renderData.m_info.m_gamma != 1.0)</div>
<div class="line"><span class="lineno">  659</span>    <a class="code hl_function" href="namespace_t_rop.html#ad4babe6813c171b27ede85b106642bf2">TRop::gammaCorrect</a>(renderData.m_rasA, renderData.m_info.m_gamma);</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>  <span class="comment">// Emit the started signal to execute code in the main thread</span></div>
<div class="line"><span class="lineno">  662</span>  m_owner-&gt;emitRenderedFrame(renderData);</div>
<div class="line"><span class="lineno">  663</span>}</div>
<div class="ttc" id="anamespace_t_rop_html_ad4babe6813c171b27ede85b106642bf2"><div class="ttname"><a href="namespace_t_rop.html#ad4babe6813c171b27ede85b106642bf2">TRop::gammaCorrect</a></div><div class="ttdeci">DVAPI void gammaCorrect(TRasterP raster, double gamma)</div><div class="ttdoc">Make a gamma correct in the raster.</div><div class="ttdef"><b>Definition:</b> trop.cpp:173</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00173">TRop::gammaCorrect()</a>, <a class="el" href="#l00106">TRenderSettings::m_gamma</a>, <a class="el" href="#l00093">TRenderPort::RenderData::m_info</a>, <a class="el" href="#l00094">TRenderPort::RenderData::m_rasB</a>, and <a class="el" href="#l00133">TRenderSettings::m_stereoscopic</a>.</p>

</div>
</div>
<a id="a09c99e5bd1abe0ec80eecef1f2cbb3b1" name="a09c99e5bd1abe0ec80eecef1f2cbb3b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09c99e5bd1abe0ec80eecef1f2cbb3b1">&#9670;&nbsp;</a></span>onRenderRasterStarted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::onRenderRasterStarted </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_t_render_port_1_1_render_data.html">RenderData</a> &amp;&#160;</td>
          <td class="paramname"><em>renderData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the renderized image to <a class="el" href="class_t_image_cache.html">TImageCache</a>; listeners are advised too. </p>

<p>Reimplemented from <a class="el" href="class_t_render_port.html">TRenderPort</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  622</span>                                                                     {</div>
<div class="line"><span class="lineno">  623</span>  <span class="comment">// Emit the started signal to execute code in the main thread</span></div>
<div class="line"><span class="lineno">  624</span>  m_owner-&gt;emitStartedFrame(renderData);</div>
<div class="line"><span class="lineno">  625</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a95c145346197a5b83b50881e565deae6" name="a95c145346197a5b83b50881e565deae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95c145346197a5b83b50881e565deae6">&#9670;&nbsp;</a></span>refreshFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::refreshFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts rendering the passed frame. </p>
<div class="fragment"><div class="line"><span class="lineno">  508</span>                                         {</div>
<div class="line"><span class="lineno">  509</span>  <span class="keywordflow">if</span> (suspendedRendering) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>  <span class="comment">// Build the region to render</span></div>
<div class="line"><span class="lineno">  512</span>  updatePreviewRect();</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>  <span class="keywordflow">if</span> (m_previewRect.getLx() &lt;= 0 || m_previewRect.getLy() &lt;= 0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>  <span class="comment">// Retrieve the FrameInfo for passed frame</span></div>
<div class="line"><span class="lineno">  517</span>  std::map&lt;int, FrameInfo&gt;::iterator it = m_frames.find(frame);</div>
<div class="line"><span class="lineno">  518</span>  <span class="keywordflow">if</span> (it != m_frames.end()) {</div>
<div class="line"><span class="lineno">  519</span>    <span class="comment">// In case the rect we would render is contained in the frame&#39;s rendered</span></div>
<div class="line"><span class="lineno">  520</span>    <span class="comment">// region, quit</span></div>
<div class="line"><span class="lineno">  521</span>    <span class="keywordflow">if</span> (::contains(it-&gt;second.m_renderedRegion, m_previewRect)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>    <span class="comment">// Then, check the m_previewRect against the frame&#39;s m_rectUnderRendering.</span></div>
<div class="line"><span class="lineno">  524</span>    <span class="comment">// Ensure that we&#39;re not re-launching the very same render.</span></div>
<div class="line"><span class="lineno">  525</span>    <span class="keywordflow">if</span> (it-&gt;second.m_rectUnderRender == m_previewRect) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="comment">// Stop any frame&#39;s previously running render process</span></div>
<div class="line"><span class="lineno">  528</span>    m_renderer.abortRendering(it-&gt;second.m_renderId);</div>
<div class="line"><span class="lineno">  529</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  530</span>    it = m_frames.insert(std::make_pair(frame, FrameInfo())).first;</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>    <span class="comment">// In case the frame is not in the frame range, we add a temporary</span></div>
<div class="line"><span class="lineno">  533</span>    <span class="comment">// supplement</span></div>
<div class="line"><span class="lineno">  534</span>    <span class="comment">// to the progress bar.</span></div>
<div class="line"><span class="lineno">  535</span>    <span class="keywordflow">if</span> (frame &gt;= (<span class="keywordtype">int</span>)m_pbStatus.size()) m_pbStatus.resize(frame + 1);</div>
<div class="line"><span class="lineno">  536</span>  }</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>  <span class="comment">// Build the TFxPair to be passed to TRenderer</span></div>
<div class="line"><span class="lineno">  539</span>  <a class="code hl_class" href="class_t_fx_pair.html">TFxPair</a> fxPair = buildSceneFx(frame);</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>  <span class="comment">// Update the RenderInfos associated with frame</span></div>
<div class="line"><span class="lineno">  542</span>  it-&gt;second.m_rectUnderRender = m_previewRect;</div>
<div class="line"><span class="lineno">  543</span>  it-&gt;second.m_alias = fxPair.m_frameA-&gt;getAlias(frame, m_renderSettings);</div>
<div class="line"><span class="lineno">  544</span>  <span class="keywordflow">if</span> (fxPair.m_frameB)</div>
<div class="line"><span class="lineno">  545</span>    it-&gt;second.m_alias =</div>
<div class="line"><span class="lineno">  546</span>        it-&gt;second.m_alias + fxPair.m_frameB-&gt;getAlias(frame, m_renderSettings);</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>  <span class="comment">// Retrieve the renderId of the rendering instance</span></div>
<div class="line"><span class="lineno">  549</span>  it-&gt;second.m_renderId = m_renderer.<a class="code hl_function" href="class_t_renderer.html#ac1b42ae5657a273ae50ba451768363f6">nextRenderId</a>();</div>
<div class="line"><span class="lineno">  550</span>  std::string contextName(<span class="stringliteral">&quot;P&quot;</span>);</div>
<div class="line"><span class="lineno">  551</span>  contextName += m_subcamera ? <span class="stringliteral">&quot;SC&quot;</span> : <span class="stringliteral">&quot;FU&quot;</span>;</div>
<div class="line"><span class="lineno">  552</span>  contextName += std::to_string(frame);</div>
<div class="line"><span class="lineno">  553</span>  TPassiveCacheManager::instance()-&gt;setContextName(it-&gt;second.m_renderId,</div>
<div class="line"><span class="lineno">  554</span>                                                   contextName);</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>  <span class="comment">// Start the render</span></div>
<div class="line"><span class="lineno">  557</span>  m_renderer.<a class="code hl_function" href="class_t_renderer.html#a478735dc2935569993603911e116e0f5">startRendering</a>(frame, m_renderSettings, fxPair);</div>
<div class="line"><span class="lineno">  558</span>}</div>
<div class="ttc" id="aclass_t_renderer_html_a478735dc2935569993603911e116e0f5"><div class="ttname"><a href="class_t_renderer.html#a478735dc2935569993603911e116e0f5">TRenderer::startRendering</a></div><div class="ttdeci">unsigned long startRendering(const std::vector&lt; TRenderer::RenderData &gt; *renderDatas)</div><div class="ttdef"><b>Definition:</b> trenderer.cpp:638</div></div>
<div class="ttc" id="aclass_t_renderer_html_ac1b42ae5657a273ae50ba451768363f6"><div class="ttname"><a href="class_t_renderer.html#ac1b42ae5657a273ae50ba451768363f6">TRenderer::nextRenderId</a></div><div class="ttdeci">static unsigned long nextRenderId()</div><div class="ttdef"><b>Definition:</b> trenderer.cpp:503</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00503">TRenderer::nextRenderId()</a>, and <a class="el" href="#l00638">TRenderer::startRendering()</a>.</p>

</div>
</div>
<a id="a25ca7bfdc5c485ada1537a6da46b5697" name="a25ca7bfdc5c485ada1537a6da46b5697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25ca7bfdc5c485ada1537a6da46b5697">&#9670;&nbsp;</a></span>remove() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::remove </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  576</span>                          {</div>
<div class="line"><span class="lineno">  577</span>  m_renderer.stopRendering(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>  <span class="comment">// Remove all cached images</span></div>
<div class="line"><span class="lineno">  580</span>  std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  581</span>  <span class="keywordflow">for</span> (it = m_frames.begin(); it != m_frames.end(); ++it)</div>
<div class="line"><span class="lineno">  582</span>    TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(m_cachePrefix + std::to_string(it-&gt;first));</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>  m_frames.clear();</div>
<div class="line"><span class="lineno">  585</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a17685497a10f773cb07dbd88bc5dd12f" name="a17685497a10f773cb07dbd88bc5dd12f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17685497a10f773cb07dbd88bc5dd12f">&#9670;&nbsp;</a></span>remove() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::remove </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  562</span>                                   {</div>
<div class="line"><span class="lineno">  563</span>  <span class="comment">// Search the frame among rendered ones</span></div>
<div class="line"><span class="lineno">  564</span>  std::map&lt;int, FrameInfo&gt;::iterator it = m_frames.find(frame);</div>
<div class="line"><span class="lineno">  565</span>  <span class="keywordflow">if</span> (it != m_frames.end()) {</div>
<div class="line"><span class="lineno">  566</span>    m_renderer.abortRendering(it-&gt;second.m_renderId);</div>
<div class="line"><span class="lineno">  567</span>    m_frames.erase(frame);</div>
<div class="line"><span class="lineno">  568</span>  }</div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>  <span class="comment">// Remove the associated image from cache</span></div>
<div class="line"><span class="lineno">  571</span>  TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(m_cachePrefix + std::to_string(frame));</div>
<div class="line"><span class="lineno">  572</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a00e83efd869f240d44999f3578050a" name="a9a00e83efd869f240d44999f3578050a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a00e83efd869f240d44999f3578050a">&#9670;&nbsp;</a></span>saveFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::saveFrame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  926</span>                             {</div>
<div class="line"><span class="lineno">  927</span>  <span class="keyword">static</span> <span class="keywordtype">int</span> savedFrames = 0;</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>  <span class="keywordtype">int</span> frameCount =</div>
<div class="line"><span class="lineno">  930</span>      <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;getXsheet()-&gt;<a class="code hl_function" href="class_t_xsheet.html#a12a62da7dc04395088112e492d73374f">getFrameCount</a>();</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>  assert(Pd);</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span>  <span class="keywordflow">for</span> (; m_currentFrameToSave &lt;= frameCount; m_currentFrameToSave++) {</div>
<div class="line"><span class="lineno">  935</span>    ProgressBarMessager(eIncrement, m_currentFrameToSave).sendBlocking();</div>
<div class="line"><span class="lineno">  936</span>    <span class="keywordflow">if</span> (!Pd) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>    <span class="comment">// Ensure that current frame actually have to be saved</span></div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordtype">int</span> currFrameToSave                   = m_currentFrameToSave - 1;</div>
<div class="line"><span class="lineno">  940</span>    std::map&lt;int, FrameInfo&gt;::iterator it = m_frames.find(currFrameToSave);</div>
<div class="line"><span class="lineno">  941</span>    <span class="keywordflow">if</span> (it == m_frames.end()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>    <span class="keywordflow">if</span> (m_pbStatus.size() &lt; currFrameToSave ||</div>
<div class="line"><span class="lineno">  944</span>        m_pbStatus[currFrameToSave] != FlipSlider::PBFrameFinished)</div>
<div class="line"><span class="lineno">  945</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>    <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a> img = TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#aea3ac2752efd6fa9689f5a7c1e895e41">get</a>(</div>
<div class="line"><span class="lineno">  948</span>        m_cachePrefix + std::to_string(currFrameToSave), <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  949</span>    <span class="keywordflow">if</span> (!img) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>    <span class="comment">// Save the frame</span></div>
<div class="line"><span class="lineno">  952</span>    <a class="code hl_class" href="class_t_image_writer_p.html">TImageWriterP</a> writer = m_lw-&gt;getFrameWriter(<a class="code hl_class" href="class_t_frame_id.html">TFrameId</a>(m_currentFrameToSave));</div>
<div class="line"><span class="lineno">  953</span>    <span class="keywordtype">bool</span> failureOnSaving = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  954</span>    <span class="keywordflow">if</span> (!writer) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  955</span> </div>
<div class="line"><span class="lineno">  956</span>    writer-&gt;save(img);</div>
<div class="line"><span class="lineno">  957</span>    savedFrames++;</div>
<div class="line"><span class="lineno">  958</span>    m_currentFrameToSave++;</div>
<div class="line"><span class="lineno">  959</span>    QTimer::singleShot(50, m_owner, SLOT(saveFrame()));</div>
<div class="line"><span class="lineno">  960</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  961</span>  }</div>
<div class="line"><span class="lineno">  962</span> </div>
<div class="line"><span class="lineno">  963</span>  <span class="comment">// Output the save result</span></div>
<div class="line"><span class="lineno">  964</span>  QString str =</div>
<div class="line"><span class="lineno">  965</span>      QObject::tr(<span class="stringliteral">&quot;Saved %1 frames out of %2 in %3&quot;</span>,</div>
<div class="line"><span class="lineno">  966</span>                  <span class="stringliteral">&quot;Previewer %1:savedframes %2:framecount %3:filepath&quot;</span>)</div>
<div class="line"><span class="lineno">  967</span>          .arg(QString(std::to_string(savedFrames).c_str()))</div>
<div class="line"><span class="lineno">  968</span>          .arg(QString(std::to_string(frameCount).c_str()))</div>
<div class="line"><span class="lineno">  969</span>          .arg(QString(::to_string(m_lw-&gt;getFilePath()).c_str()));</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>  <span class="keywordflow">if</span> (!Pd) str = QObject::tr(<span class="stringliteral">&quot;Canceled! &quot;</span>, <span class="stringliteral">&quot;Previewer&quot;</span>) + str;</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>  ProgressBarMessager(eEnd, 0, str).send();</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>  m_currentFrameToSave = 0;</div>
<div class="line"><span class="lineno">  976</span>  m_lw                 = <a class="code hl_class" href="class_t_level_writer_p.html">TLevelWriterP</a>();</div>
<div class="line"><span class="lineno">  977</span>  savedFrames          = 0;</div>
<div class="line"><span class="lineno">  978</span>}</div>
<div class="ttc" id="aclass_t_app_html_a13f509e753824cb0500787f68bb51a09"><div class="ttname"><a href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">TApp::getCurrentXsheet</a></div><div class="ttdeci">TXsheetHandle * getCurrentXsheet() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:110</div></div>
<div class="ttc" id="aclass_t_frame_id_html"><div class="ttname"><a href="class_t_frame_id.html">TFrameId</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:29</div></div>
<div class="ttc" id="aclass_t_image_cache_html_aea3ac2752efd6fa9689f5a7c1e895e41"><div class="ttname"><a href="class_t_image_cache.html#aea3ac2752efd6fa9689f5a7c1e895e41">TImageCache::get</a></div><div class="ttdeci">TImageP get(const std::string &amp;id, bool toBeModified) const</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1672</div></div>
<div class="ttc" id="aclass_t_image_writer_p_html"><div class="ttname"><a href="class_t_image_writer_p.html">TImageWriterP</a></div><div class="ttdef"><b>Definition:</b> timage_io.h:255</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a12a62da7dc04395088112e492d73374f"><div class="ttname"><a href="class_t_xsheet.html#a12a62da7dc04395088112e492d73374f">TXsheet::getFrameCount</a></div><div class="ttdeci">int getFrameCount() const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:229</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a18890c09ee8dea06bf8ecb8bdbcb3863" name="a18890c09ee8dea06bf8ecb8bdbcb3863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18890c09ee8dea06bf8ecb8bdbcb3863">&#9670;&nbsp;</a></span>updateAliases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::updateAliases </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  460</span>                                 {</div>
<div class="line"><span class="lineno">  461</span>  std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  462</span>  <span class="keywordflow">for</span> (it = m_frames.begin(); it != m_frames.end(); ++it) {</div>
<div class="line"><span class="lineno">  463</span>    <a class="code hl_class" href="class_t_fx_pair.html">TFxPair</a> fxPair = buildSceneFx(it-&gt;first);</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>    std::string newAlias =</div>
<div class="line"><span class="lineno">  466</span>        fxPair.m_frameA ? fxPair.m_frameA-&gt;getAlias(it-&gt;first, m_renderSettings)</div>
<div class="line"><span class="lineno">  467</span>                        : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  468</span>    newAlias = newAlias + (fxPair.m_frameB ? fxPair.m_frameB-&gt;getAlias(</div>
<div class="line"><span class="lineno">  469</span>                                                 it-&gt;first, m_renderSettings)</div>
<div class="line"><span class="lineno">  470</span>                                           : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">if</span> (newAlias != it-&gt;second.m_alias) {</div>
<div class="line"><span class="lineno">  473</span>      <span class="comment">// Clear the remaining frame infos</span></div>
<div class="line"><span class="lineno">  474</span>      it-&gt;second.m_renderedRegion = QRegion();</div>
<div class="line"><span class="lineno">  475</span>    }</div>
<div class="line"><span class="lineno">  476</span>  }</div>
<div class="line"><span class="lineno">  477</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acccfd81480c78134e4bd6091e57c0587" name="acccfd81480c78134e4bd6091e57c0587"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acccfd81480c78134e4bd6091e57c0587">&#9670;&nbsp;</a></span>updateAliasKeyword()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::updateAliasKeyword </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>keyword</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  481</span>                                                              {</div>
<div class="line"><span class="lineno">  482</span>  std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  483</span>  <span class="keywordflow">for</span> (it = m_frames.begin(); it != m_frames.end(); ++it) {</div>
<div class="line"><span class="lineno">  484</span>    <span class="keywordflow">if</span> (it-&gt;second.m_alias.find(keyword) != std::string::npos) {</div>
<div class="line"><span class="lineno">  485</span>      <a class="code hl_class" href="class_t_fx_pair.html">TFxPair</a> fxPair     = buildSceneFx(it-&gt;first);</div>
<div class="line"><span class="lineno">  486</span>      it-&gt;second.m_alias = fxPair.m_frameA ? fxPair.m_frameA-&gt;getAlias(</div>
<div class="line"><span class="lineno">  487</span>                                                 it-&gt;first, m_renderSettings)</div>
<div class="line"><span class="lineno">  488</span>                                           : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  489</span>      it-&gt;second.m_alias = it-&gt;second.m_alias +</div>
<div class="line"><span class="lineno">  490</span>                           (fxPair.m_frameB ? fxPair.m_frameB-&gt;getAlias(</div>
<div class="line"><span class="lineno">  491</span>                                                  it-&gt;first, m_renderSettings)</div>
<div class="line"><span class="lineno">  492</span>                                            : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>      <span class="comment">// Clear the remaining frame infos</span></div>
<div class="line"><span class="lineno">  495</span>      it-&gt;second.m_renderedRegion = QRegion();</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>      <span class="comment">// No need to release the cached image... eventually, clear it</span></div>
<div class="line"><span class="lineno">  498</span>      <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a> ri = TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#aea3ac2752efd6fa9689f5a7c1e895e41">get</a>(</div>
<div class="line"><span class="lineno">  499</span>          m_cachePrefix + std::to_string(it-&gt;first), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  500</span>      <span class="keywordflow">if</span> (ri) ri-&gt;getRaster()-&gt;clear();</div>
<div class="line"><span class="lineno">  501</span>    }</div>
<div class="line"><span class="lineno">  502</span>  }</div>
<div class="line"><span class="lineno">  503</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aea673dc57ce0256e1e393e4d7d4d9f89" name="aea673dc57ce0256e1e393e4d7d4d9f89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea673dc57ce0256e1e393e4d7d4d9f89">&#9670;&nbsp;</a></span>updateCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::updateCamera </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  301</span>                                {</div>
<div class="line"><span class="lineno">  302</span>  <span class="comment">// Retrieve current camera</span></div>
<div class="line"><span class="lineno">  303</span>  <a class="code hl_class" href="class_t_camera.html">TCamera</a> *currCamera =</div>
<div class="line"><span class="lineno">  304</span>      <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene()-&gt;<a class="code hl_function" href="class_toonz_scene.html#a750b5ab623ccec744013b0c83bf20abc">getCurrentCamera</a>();</div>
<div class="line"><span class="lineno">  305</span>  <a class="code hl_class" href="class_t_rect_t.html">TRect</a> subCameraRect = currCamera-&gt;<a class="code hl_function" href="class_t_camera.html#ad95e2b9f128939f1ce9777623643c69c">getInterestRect</a>();</div>
<div class="line"><span class="lineno">  306</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> cameraPos(-0.5 * currCamera-&gt;<a class="code hl_function" href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">getRes</a>().lx,</div>
<div class="line"><span class="lineno">  307</span>                    -0.5 * currCamera-&gt;<a class="code hl_function" href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">getRes</a>().ly);</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>  <span class="comment">// Update the camera region and camera stage area</span></div>
<div class="line"><span class="lineno">  310</span>  <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a> cameraRes(0, 0);</div>
<div class="line"><span class="lineno">  311</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> renderArea;</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>  <span class="keywordflow">if</span> (m_subcamera &amp;&amp; subCameraRect.getLx() &gt; 0 &amp;&amp; subCameraRect.getLy() &gt; 0) {</div>
<div class="line"><span class="lineno">  314</span>    cameraRes  = <a class="code hl_class" href="class_t_dimension_t.html">TDimension</a>(subCameraRect.getLx(), subCameraRect.getLy());</div>
<div class="line"><span class="lineno">  315</span>    renderArea = <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(subCameraRect.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a>, subCameraRect.y0,</div>
<div class="line"><span class="lineno">  316</span>                        subCameraRect.x1 + 1, subCameraRect.y1 + 1) +</div>
<div class="line"><span class="lineno">  317</span>                 cameraPos;</div>
<div class="line"><span class="lineno">  318</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  319</span>    cameraRes  = currCamera-&gt;<a class="code hl_function" href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">getRes</a>();</div>
<div class="line"><span class="lineno">  320</span>    renderArea = <a class="code hl_class" href="class_t_rect_t.html">TRectD</a>(cameraPos, <a class="code hl_class" href="class_t_dimension_t.html">TDimensionD</a>(cameraRes.lx, cameraRes.ly));</div>
<div class="line"><span class="lineno">  321</span>  }</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>  <span class="comment">// Add the shrink to camera res</span></div>
<div class="line"><span class="lineno">  324</span>  cameraRes.lx /= m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a>;</div>
<div class="line"><span class="lineno">  325</span>  cameraRes.ly /= m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a>;</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>  <span class="comment">// Invalidate the old camera size</span></div>
<div class="line"><span class="lineno">  328</span>  <span class="keywordflow">if</span> (m_cameraRes != cameraRes || m_renderArea != renderArea) {</div>
<div class="line"><span class="lineno">  329</span>    m_cameraRes  = cameraRes;</div>
<div class="line"><span class="lineno">  330</span>    m_renderArea = renderArea;</div>
<div class="line"><span class="lineno">  331</span>    m_cameraPos  = cameraPos;</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="comment">// All previously rendered frames must be erased</span></div>
<div class="line"><span class="lineno">  334</span>    std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">for</span> (it = m_frames.begin(); it != m_frames.end(); ++it)</div>
<div class="line"><span class="lineno">  336</span>      TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(m_cachePrefix +</div>
<div class="line"><span class="lineno">  337</span>                                      std::to_string(it-&gt;first));</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>    m_frames.clear();</div>
<div class="line"><span class="lineno">  340</span>  }</div>
<div class="line"><span class="lineno">  341</span>}</div>
<div class="ttc" id="aclass_t_camera_html"><div class="ttname"><a href="class_t_camera.html">TCamera</a></div><div class="ttdoc">The TCamera class provides a camera and allows its management.</div><div class="ttdef"><b>Definition:</b> tcamera.h:33</div></div>
<div class="ttc" id="aclass_t_camera_html_a9a7c573e7a2c397ffae4b747809ea2a5"><div class="ttname"><a href="class_t_camera.html#a9a7c573e7a2c397ffae4b747809ea2a5">TCamera::getRes</a></div><div class="ttdeci">const TDimension &amp; getRes() const</div><div class="ttdef"><b>Definition:</b> tcamera.h:72</div></div>
<div class="ttc" id="aclass_t_camera_html_ad95e2b9f128939f1ce9777623643c69c"><div class="ttname"><a href="class_t_camera.html#ad95e2b9f128939f1ce9777623643c69c">TCamera::getInterestRect</a></div><div class="ttdeci">TRect getInterestRect() const</div><div class="ttdef"><b>Definition:</b> tcamera.h:115</div></div>
<div class="ttc" id="aclass_t_dimension_t_html"><div class="ttname"><a href="class_t_dimension_t.html">TDimensionT&lt; int &gt;</a></div></div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_rect_t_html_ac008cbc625f50d8b3c180c8eb2594cdb"><div class="ttname"><a href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">TRectT::x0</a></div><div class="ttdeci">T x0</div><div class="ttdef"><b>Definition:</b> tgeometry.h:557</div></div>
<div class="ttc" id="aclass_t_render_settings_html_ae1882f584ce9ffad12ce6bf9ff23814c"><div class="ttname"><a href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">TRenderSettings::m_shrinkY</a></div><div class="ttdeci">int m_shrinkY</div><div class="ttdef"><b>Definition:</b> trasterfx.h:126</div></div>
<div class="ttc" id="aclass_toonz_scene_html_a750b5ab623ccec744013b0c83bf20abc"><div class="ttname"><a href="class_toonz_scene.html#a750b5ab623ccec744013b0c83bf20abc">ToonzScene::getCurrentCamera</a></div><div class="ttdeci">TCamera * getCurrentCamera()</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:1472</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d26791946e7767b4793f79e8e388b77" name="a5d26791946e7767b4793f79e8e388b77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d26791946e7767b4793f79e8e388b77">&#9670;&nbsp;</a></span>updateFrameRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::updateFrameRange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  370</span>                                    {</div>
<div class="line"><span class="lineno">  371</span>  <span class="comment">// Erase all rendered frames outside the new frame range</span></div>
<div class="line"><span class="lineno">  372</span>  <span class="keywordtype">int</span> newFrameCount =</div>
<div class="line"><span class="lineno">  373</span>      <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene()-&gt;<a class="code hl_function" href="class_toonz_scene.html#ab5cd3ad6f894b1acc5656ca747a80627">getFrameCount</a>();</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>  std::map&lt;int, FrameInfo&gt;::iterator it,</div>
<div class="line"><span class="lineno">  376</span>      jt = m_frames.lower_bound(newFrameCount);</div>
<div class="line"><span class="lineno">  377</span>  <span class="keywordflow">for</span> (it = jt; it != m_frames.end(); ++it)</div>
<div class="line"><span class="lineno">  378</span>    <span class="comment">// Release all associated cached images</span></div>
<div class="line"><span class="lineno">  379</span>    TImageCache::instance()-&gt;remove(m_cachePrefix + std::to_string(it-&gt;first));</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>  m_frames.erase(jt, m_frames.end());</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>  <span class="comment">// Resize the progress bar status</span></div>
<div class="line"><span class="lineno">  384</span>  <span class="keywordtype">int</span> i, oldSize = m_pbStatus.size();</div>
<div class="line"><span class="lineno">  385</span>  m_pbStatus.resize(newFrameCount);</div>
<div class="line"><span class="lineno">  386</span>  <span class="keywordflow">for</span> (i = oldSize; i &lt; newFrameCount; ++i)</div>
<div class="line"><span class="lineno">  387</span>    m_pbStatus[i] = FlipSlider::PBFrameNotStarted;</div>
<div class="line"><span class="lineno">  388</span>}</div>
<div class="ttc" id="aclass_toonz_scene_html_ab5cd3ad6f894b1acc5656ca747a80627"><div class="ttname"><a href="class_toonz_scene.html#ab5cd3ad6f894b1acc5656ca747a80627">ToonzScene::getFrameCount</a></div><div class="ttdeci">int getFrameCount() const</div><div class="ttdef"><b>Definition:</b> toonzscene.cpp:704</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3289be6c722e30a549f302cccfb11127" name="a3289be6c722e30a549f302cccfb11127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3289be6c722e30a549f302cccfb11127">&#9670;&nbsp;</a></span>updatePreviewRect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::updatePreviewRect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  410</span>                                     {</div>
<div class="line"><span class="lineno">  411</span>  <a class="code hl_class" href="class_t_rect_t.html">TRectD</a> previewRectD;</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>  <span class="comment">/*--</span></div>
<div class="line"><span class="lineno">  414</span><span class="comment">   * SubCameraPreviewViewer</span></div>
<div class="line"><span class="lineno">  415</span><span class="comment">   * --*/</span></div>
<div class="line"><span class="lineno">  416</span>  <span class="keywordflow">if</span> (!m_subcamera)</div>
<div class="line"><span class="lineno">  417</span>    previewRectD = m_renderArea;</div>
<div class="line"><span class="lineno">  418</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  419</span>    <span class="comment">// Retrieve the view rects from each listener. Their union will form the</span></div>
<div class="line"><span class="lineno">  420</span>    <span class="comment">// rect to be rendered.</span></div>
<div class="line"><span class="lineno">  421</span>    std::set&lt;Previewer::Listener *&gt;::iterator it;</div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">for</span> (it = m_listeners.begin(); it != m_listeners.end(); ++it) {</div>
<div class="line"><span class="lineno">  423</span>      <span class="comment">// Retrieve the listener&#39;s viewRect and add it to the preview rect</span></div>
<div class="line"><span class="lineno">  424</span>      previewRectD += (*it)-&gt;getPreviewRect();</div>
<div class="line"><span class="lineno">  425</span>    }</div>
<div class="line"><span class="lineno">  426</span>  }</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>  previewRectD *= m_renderArea;</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>  <span class="keywordtype">int</span> shrinkX = m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a>;</div>
<div class="line"><span class="lineno">  431</span>  <span class="keywordtype">int</span> shrinkY = m_renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a>;</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>  <span class="comment">// Ensure that rect has the same pixel geometry as the preview camera</span></div>
<div class="line"><span class="lineno">  434</span>  previewRectD -= m_cameraPos;</div>
<div class="line"><span class="lineno">  435</span>  previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> = previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> / shrinkX;</div>
<div class="line"><span class="lineno">  436</span>  previewRectD.y0 = previewRectD.y0 / shrinkY;</div>
<div class="line"><span class="lineno">  437</span>  previewRectD.x1 = previewRectD.x1 / shrinkX;</div>
<div class="line"><span class="lineno">  438</span>  previewRectD.y1 = previewRectD.y1 / shrinkY;</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>  <span class="comment">// Now, pass to m_cameraRes-relative coordinates</span></div>
<div class="line"><span class="lineno">  441</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> shrinkedRelPos((m_renderArea.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> - m_cameraPos.x) / shrinkX,</div>
<div class="line"><span class="lineno">  442</span>                         (m_renderArea.y0 - m_cameraPos.y) / shrinkY);</div>
<div class="line"><span class="lineno">  443</span>  previewRectD -= shrinkedRelPos;</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>  previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a> = tfloor(previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a>);</div>
<div class="line"><span class="lineno">  446</span>  previewRectD.y0 = tfloor(previewRectD.y0);</div>
<div class="line"><span class="lineno">  447</span>  previewRectD.x1 = tceil(previewRectD.x1);</div>
<div class="line"><span class="lineno">  448</span>  previewRectD.y1 = tceil(previewRectD.y1);</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>  m_previewRect = <a class="code hl_class" href="class_t_rect_t.html">TRect</a>(previewRectD.<a class="code hl_variable" href="class_t_rect_t.html#ac008cbc625f50d8b3c180c8eb2594cdb">x0</a>, previewRectD.y0, previewRectD.x1 - 1,</div>
<div class="line"><span class="lineno">  451</span>                        previewRectD.y1 - 1);</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>  previewRectD += m_cameraPos + shrinkedRelPos;</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>  <a class="code hl_function" href="class_t_render_port.html#a743d79f021d27a9f8017ef468839cadb">setRenderArea</a>(previewRectD);</div>
<div class="line"><span class="lineno">  456</span>}</div>
<div class="ttc" id="aclass_t_render_port_html_a743d79f021d27a9f8017ef468839cadb"><div class="ttname"><a href="class_t_render_port.html#a743d79f021d27a9f8017ef468839cadb">TRenderPort::setRenderArea</a></div><div class="ttdeci">void setRenderArea(const TRectD &amp;area)</div><div class="ttdef"><b>Definition:</b> trenderer.cpp:903</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a157de049fdd3dad1ca733c288e5f5aec" name="a157de049fdd3dad1ca733c288e5f5aec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157de049fdd3dad1ca733c288e5f5aec">&#9670;&nbsp;</a></span>updateProgressBarStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::updateProgressBarStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  392</span>                                           {</div>
<div class="line"><span class="lineno">  393</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, pbSize = m_pbStatus.size();</div>
<div class="line"><span class="lineno">  394</span>  std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  395</span>  <span class="keywordflow">for</span> (i = 0; i &lt; pbSize; ++i) {</div>
<div class="line"><span class="lineno">  396</span>    it = m_frames.find(i);</div>
<div class="line"><span class="lineno">  397</span>    m_pbStatus[i] =</div>
<div class="line"><span class="lineno">  398</span>        (it == m_frames.end())</div>
<div class="line"><span class="lineno">  399</span>            ? FlipSlider::PBFrameNotStarted</div>
<div class="line"><span class="lineno">  400</span>            : ::contains(it-&gt;second.m_renderedRegion, m_previewRect)</div>
<div class="line"><span class="lineno">  401</span>                  ? FlipSlider::PBFrameFinished</div>
<div class="line"><span class="lineno">  402</span>                  : it-&gt;second.m_rectUnderRender.contains(m_previewRect)</div>
<div class="line"><span class="lineno">  403</span>                        ? FlipSlider::PBFrameStarted</div>
<div class="line"><span class="lineno">  404</span>                        : FlipSlider::PBFrameNotStarted;</div>
<div class="line"><span class="lineno">  405</span>  }</div>
<div class="line"><span class="lineno">  406</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af0de42749c61e8ce8e222f776ac9f858" name="af0de42749c61e8ce8e222f776ac9f858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0de42749c61e8ce8e222f776ac9f858">&#9670;&nbsp;</a></span>updateRenderSettings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Previewer::Imp::updateRenderSettings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  345</span>                                        {</div>
<div class="line"><span class="lineno">  346</span>  <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene();</div>
<div class="line"><span class="lineno">  347</span>  <a class="code hl_class" href="class_t_render_settings.html">TRenderSettings</a> renderSettings =</div>
<div class="line"><span class="lineno">  348</span>      scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()-&gt;<a class="code hl_function" href="class_t_scene_properties.html#a0b905e0ea16e27aa5e67da31e469026e">getPreviewProperties</a>()-&gt;<a class="code hl_function" href="class_t_output_properties.html#afa7c771452b57b50047aa4afc6032cad">getRenderSettings</a>();</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>  <span class="keywordflow">if</span> (renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a64acc2c6ba75292c0a0f9d101ddacc3b">m_applyShrinkToViewer</a>)</div>
<div class="line"><span class="lineno">  351</span>    renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a> = renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a>;</div>
<div class="line"><span class="lineno">  352</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  353</span>    renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#ae1882f584ce9ffad12ce6bf9ff23814c">m_shrinkY</a> = renderSettings.<a class="code hl_variable" href="class_t_render_settings.html#a52dd41881bbf6aaf953fe300be2e233e">m_shrinkX</a> = 1;</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>  <span class="comment">// In case the settings changed, erase all previously cached images</span></div>
<div class="line"><span class="lineno">  356</span>  <span class="keywordflow">if</span> (renderSettings != m_renderSettings) {</div>
<div class="line"><span class="lineno">  357</span>    m_renderSettings = renderSettings;</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>    std::map&lt;int, FrameInfo&gt;::iterator it;</div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">for</span> (it = m_frames.begin(); it != m_frames.end(); ++it)</div>
<div class="line"><span class="lineno">  361</span>      TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(m_cachePrefix +</div>
<div class="line"><span class="lineno">  362</span>                                      std::to_string(it-&gt;first));</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>    m_frames.clear();</div>
<div class="line"><span class="lineno">  365</span>  }</div>
<div class="line"><span class="lineno">  366</span>}</div>
<div class="ttc" id="aclass_t_output_properties_html_afa7c771452b57b50047aa4afc6032cad"><div class="ttname"><a href="class_t_output_properties.html#afa7c771452b57b50047aa4afc6032cad">TOutputProperties::getRenderSettings</a></div><div class="ttdeci">const TRenderSettings &amp; getRenderSettings() const</div><div class="ttdef"><b>Definition:</b> toutputproperties.h:181</div></div>
<div class="ttc" id="aclass_t_render_settings_html"><div class="ttname"><a href="class_t_render_settings.html">TRenderSettings</a></div><div class="ttdoc">Data class containing the relevant additional information needed in a render process.</div><div class="ttdef"><b>Definition:</b> trasterfx.h:61</div></div>
<div class="ttc" id="aclass_t_scene_properties_html_a0b905e0ea16e27aa5e67da31e469026e"><div class="ttname"><a href="class_t_scene_properties.html#a0b905e0ea16e27aa5e67da31e469026e">TSceneProperties::getPreviewProperties</a></div><div class="ttdeci">TOutputProperties * getPreviewProperties() const</div><div class="ttdef"><b>Definition:</b> sceneproperties.h:151</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a34734121fc7deb3a1ca1c8248e68fed6" name="a34734121fc7deb3a1ca1c8248e68fed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34734121fc7deb3a1ca1c8248e68fed6">&#9670;&nbsp;</a></span>m_cachePrefix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Previewer::Imp::m_cachePrefix</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a113a6e96c22b646420955bbb4cbbbd0a" name="a113a6e96c22b646420955bbb4cbbbd0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a113a6e96c22b646420955bbb4cbbbd0a">&#9670;&nbsp;</a></span>m_cameraPos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_point_t.html">TPointD</a> Previewer::Imp::m_cameraPos</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8aa27d993868a0ed60ca1815147e0c14" name="a8aa27d993868a0ed60ca1815147e0c14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aa27d993868a0ed60ca1815147e0c14">&#9670;&nbsp;</a></span>m_cameraRes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_dimension_t.html">TDimension</a> Previewer::Imp::m_cameraRes</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a02e72d95cc9ceb115e691ae7fdcfff9c" name="a02e72d95cc9ceb115e691ae7fdcfff9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02e72d95cc9ceb115e691ae7fdcfff9c">&#9670;&nbsp;</a></span>m_computingFrameCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Previewer::Imp::m_computingFrameCount</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a66e2f42034b2d83c4317a2d4b1664f22" name="a66e2f42034b2d83c4317a2d4b1664f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e2f42034b2d83c4317a2d4b1664f22">&#9670;&nbsp;</a></span>m_currentFrameToSave</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Previewer::Imp::m_currentFrameToSave</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9723c0b3c252de2d439e5a021a4d9ed4" name="a9723c0b3c252de2d439e5a021a4d9ed4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9723c0b3c252de2d439e5a021a4d9ed4">&#9670;&nbsp;</a></span>m_frames</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int, <a class="el" href="struct_previewer_1_1_imp_1_1_frame_info.html">FrameInfo</a>&gt; Previewer::Imp::m_frames</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aabb54619f83d70cda3d9e8163076e578" name="aabb54619f83d70cda3d9e8163076e578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabb54619f83d70cda3d9e8163076e578">&#9670;&nbsp;</a></span>m_listeners</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;<a class="el" href="class_previewer_1_1_listener.html">Previewer::Listener</a> *&gt; Previewer::Imp::m_listeners</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab30be60487f91f8cfea3a46944cc253a" name="ab30be60487f91f8cfea3a46944cc253a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab30be60487f91f8cfea3a46944cc253a">&#9670;&nbsp;</a></span>m_lw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_level_writer_p.html">TLevelWriterP</a> Previewer::Imp::m_lw</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3ed3ece322f9d80932c22602ddd68b24" name="a3ed3ece322f9d80932c22602ddd68b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ed3ece322f9d80932c22602ddd68b24">&#9670;&nbsp;</a></span>m_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_thread_1_1_mutex.html">TThread::Mutex</a> Previewer::Imp::m_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2f5bce20463d1a7c8b9b381adc814e3e" name="a2f5bce20463d1a7c8b9b381adc814e3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f5bce20463d1a7c8b9b381adc814e3e">&#9670;&nbsp;</a></span>m_owner</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_previewer.html">Previewer</a>* Previewer::Imp::m_owner</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae2744fce84cc1f9152bf7b89b008becd" name="ae2744fce84cc1f9152bf7b89b008becd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2744fce84cc1f9152bf7b89b008becd">&#9670;&nbsp;</a></span>m_pbStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;UCHAR&gt; Previewer::Imp::m_pbStatus</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a338039985084e08e2d3ffd8b0169be9f" name="a338039985084e08e2d3ffd8b0169be9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a338039985084e08e2d3ffd8b0169be9f">&#9670;&nbsp;</a></span>m_previewRect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_rect_t.html">TRect</a> Previewer::Imp::m_previewRect</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a50a4a78d063d11fd6a7f76aa55fa1e03" name="a50a4a78d063d11fd6a7f76aa55fa1e03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a4a78d063d11fd6a7f76aa55fa1e03">&#9670;&nbsp;</a></span>m_renderArea</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_rect_t.html">TRectD</a> Previewer::Imp::m_renderArea</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa8c026c96de1931a6c289bfec0cd4fc2" name="aa8c026c96de1931a6c289bfec0cd4fc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8c026c96de1931a6c289bfec0cd4fc2">&#9670;&nbsp;</a></span>m_renderer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_renderer.html">TRenderer</a> Previewer::Imp::m_renderer</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a463d9d9789b2aecef24254b9c46053c6" name="a463d9d9789b2aecef24254b9c46053c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a463d9d9789b2aecef24254b9c46053c6">&#9670;&nbsp;</a></span>m_renderSettings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_render_settings.html">TRenderSettings</a> Previewer::Imp::m_renderSettings</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abac8cc825071e7b8901fcf59b69ceffd" name="abac8cc825071e7b8901fcf59b69ceffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac8cc825071e7b8901fcf59b69ceffd">&#9670;&nbsp;</a></span>m_subcamera</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Previewer::Imp::m_subcamera</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/opentoonz/toonz/sources/toonz/<a class="el" href="">previewer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
