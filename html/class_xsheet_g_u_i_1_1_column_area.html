<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: XsheetGUI::ColumnArea Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>XsheetGUI</b></li><li class="navelem"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html">ColumnArea</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-slots">Protected Slots</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_xsheet_g_u_i_1_1_column_area-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">XsheetGUI::ColumnArea Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>The class in charge of the region showing layer headers.  
 <a href="class_xsheet_g_u_i_1_1_column_area.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="">xshcolumnviewer.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for XsheetGUI::ColumnArea:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_xsheet_g_u_i_1_1_column_area.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area_1_1_pixmaps.html">Pixmaps</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a327276a42edf5c35cca5029e5e73c67d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a327276a42edf5c35cca5029e5e73c67d">ColumnArea</a> (<a class="el" href="class_xsheet_viewer.html">XsheetViewer</a> *parent, Qt::WFlags flags=0)</td></tr>
<tr class="separator:a327276a42edf5c35cca5029e5e73c67d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3891ccf29f7c3fade5204adcccce1e76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a3891ccf29f7c3fade5204adcccce1e76">onControlPressed</a> (bool pressed)</td></tr>
<tr class="separator:a3891ccf29f7c3fade5204adcccce1e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a611401f8f499d1886c3ef85818f808"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a2a611401f8f499d1886c3ef85818f808">isControlPressed</a> ()</td></tr>
<tr class="separator:a2a611401f8f499d1886c3ef85818f808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d74cf2353cc28923fd2a97b531d67c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a8d74cf2353cc28923fd2a97b531d67c6">drawFoldedColumnHead</a> (QPainter &amp;p, int col)</td></tr>
<tr class="separator:a8d74cf2353cc28923fd2a97b531d67c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1f49c5f62d9353109a6586e73100a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a2d1f49c5f62d9353109a6586e73100a7">drawLevelColumnHead</a> (QPainter &amp;p, int col)</td></tr>
<tr class="separator:a2d1f49c5f62d9353109a6586e73100a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa20ecc29263b92479262145a91cf5f49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#aa20ecc29263b92479262145a91cf5f49">drawSoundColumnHead</a> (QPainter &amp;p, int col)</td></tr>
<tr class="separator:aa20ecc29263b92479262145a91cf5f49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c784be22b3e23ced598151b049c4669"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a2c784be22b3e23ced598151b049c4669">drawPaletteColumnHead</a> (QPainter &amp;p, int col)</td></tr>
<tr class="separator:a2c784be22b3e23ced598151b049c4669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5353a98debd85a69ce9ac9cd58bebbca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a5353a98debd85a69ce9ac9cd58bebbca">drawSoundTextColumnHead</a> (QPainter &amp;p, int col)</td></tr>
<tr class="separator:a5353a98debd85a69ce9ac9cd58bebbca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0b85d09946c9be9fc2f53aa96234db9"><td class="memItemLeft" align="right" valign="top">QPixmap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#aa0b85d09946c9be9fc2f53aa96234db9">getColumnIcon</a> (int columnIndex)</td></tr>
<tr class="separator:aa0b85d09946c9be9fc2f53aa96234db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-slots" name="pro-slots"></a>
Protected Slots</h2></td></tr>
<tr class="memitem:a8ac70d5e66c4ce9d894eec503d6ba09f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a8ac70d5e66c4ce9d894eec503d6ba09f">onSubSampling</a> (QAction *)</td></tr>
<tr class="separator:a8ac70d5e66c4ce9d894eec503d6ba09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57064945a0868b0bc75763739a467ae1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a57064945a0868b0bc75763739a467ae1">openTransparencyPopup</a> ()</td></tr>
<tr class="separator:a57064945a0868b0bc75763739a467ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4dfeec9c9c4befb8bab92efbdaaf8b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#af4dfeec9c9c4befb8bab92efbdaaf8b3">openSoundColumnPopup</a> ()</td></tr>
<tr class="separator:af4dfeec9c9c4befb8bab92efbdaaf8b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba9fc22ec41649aced955a3e75185d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#abba9fc22ec41649aced955a3e75185d3">openCameraColumnPopup</a> (QPoint pos)</td></tr>
<tr class="separator:abba9fc22ec41649aced955a3e75185d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c89454a7b3cc02be2d2a596b9d992de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a7c89454a7b3cc02be2d2a596b9d992de">onCameraColumnChangedTriggered</a> ()</td></tr>
<tr class="separator:a7c89454a7b3cc02be2d2a596b9d992de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c0cfbd256c463dd62ad72518cab3de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#ab2c0cfbd256c463dd62ad72518cab3de">onCameraColumnLockToggled</a> (bool)</td></tr>
<tr class="separator:ab2c0cfbd256c463dd62ad72518cab3de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96000ee0c150e35c905b667b558a6787"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a96000ee0c150e35c905b667b558a6787">onXsheetCameraChange</a> (int)</td></tr>
<tr class="separator:a96000ee0c150e35c905b667b558a6787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa17e37d10d93798ddc4f5e66266054"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a0aa17e37d10d93798ddc4f5e66266054">onSetMask</a> (int)</td></tr>
<tr class="separator:a0aa17e37d10d93798ddc4f5e66266054"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a69a74f656b34411c628c63592ced6672"><td class="memItemLeft" align="right" valign="top"><a id="a69a74f656b34411c628c63592ced6672" name="a69a74f656b34411c628c63592ced6672"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>select</b> (int columnIndex, QMouseEvent *event)</td></tr>
<tr class="separator:a69a74f656b34411c628c63592ced6672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc8e5a67fbb402e40f44f12573895bd7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#afc8e5a67fbb402e40f44f12573895bd7">paintEvent</a> (QPaintEvent *) override</td></tr>
<tr class="separator:afc8e5a67fbb402e40f44f12573895bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26a7b52dbce0d85949faf680fbd02282"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a26a7b52dbce0d85949faf680fbd02282">mousePressEvent</a> (QMouseEvent *event) override</td></tr>
<tr class="separator:a26a7b52dbce0d85949faf680fbd02282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f6162b09b0288cd21548327fcd9b6cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a1f6162b09b0288cd21548327fcd9b6cb">mouseMoveEvent</a> (QMouseEvent *event) override</td></tr>
<tr class="separator:a1f6162b09b0288cd21548327fcd9b6cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe0e997a70328a9ce5526e130e4e1810"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#abe0e997a70328a9ce5526e130e4e1810">mouseReleaseEvent</a> (QMouseEvent *event) override</td></tr>
<tr class="separator:abe0e997a70328a9ce5526e130e4e1810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71050c40a68a9a92ee2c213e1f691223"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a71050c40a68a9a92ee2c213e1f691223">mouseDoubleClickEvent</a> (QMouseEvent *event) override</td></tr>
<tr class="separator:a71050c40a68a9a92ee2c213e1f691223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a381a17cf486e7b3228d05c6a541f3bfa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#a381a17cf486e7b3228d05c6a541f3bfa">contextMenuEvent</a> (QContextMenuEvent *event) override</td></tr>
<tr class="separator:a381a17cf486e7b3228d05c6a541f3bfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9be0b908bffee72a1ad3922c37aecd3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_xsheet_g_u_i_1_1_column_area.html#aa9be0b908bffee72a1ad3922c37aecd3">event</a> (QEvent *event) override</td></tr>
<tr class="separator:aa9be0b908bffee72a1ad3922c37aecd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The class in charge of the region showing layer headers. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a327276a42edf5c35cca5029e5e73c67d" name="a327276a42edf5c35cca5029e5e73c67d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a327276a42edf5c35cca5029e5e73c67d">&#9670;&nbsp;</a></span>ColumnArea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XsheetGUI::ColumnArea::ColumnArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_xsheet_viewer.html">XsheetViewer</a> *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Qt::WFlags&#160;</td>
          <td class="paramname"><em>flags</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1338</span>    : QWidget(parent, flags)</div>
<div class="line"><span class="lineno"> 1339</span>    , m_viewer(parent)</div>
<div class="line"><span class="lineno"> 1340</span>    , m_pos(-1, -1)</div>
<div class="line"><span class="lineno"> 1341</span>    , m_tooltip(tr(<span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><span class="lineno"> 1342</span>    , m_col(-1)</div>
<div class="line"><span class="lineno"> 1343</span>    , m_columnTransparencyPopup(0)</div>
<div class="line"><span class="lineno"> 1344</span>    , m_transparencyPopupTimer(0)</div>
<div class="line"><span class="lineno"> 1345</span>    , m_isPanning(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno"> 1346</span>    , m_soundColumnPopup(0) {</div>
<div class="line"><span class="lineno"> 1347</span>  <a class="code hl_class" href="class_t_xsheet_handle.html">TXsheetHandle</a> *xsheetHandle = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>();</div>
<div class="line"><span class="lineno"> 1348</span>  <a class="code hl_class" href="class_t_object_handle.html">TObjectHandle</a> *objectHandle = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a0d91c122eec2b756b7c4780014e49f9e">getCurrentObject</a>();</div>
<div class="line"><span class="lineno"> 1349</span>  m_changeObjectParent        = <span class="keyword">new</span> ChangeObjectParent(m_viewer);</div>
<div class="line"><span class="lineno"> 1350</span>  m_changeObjectParent-&gt;setObjectHandle(objectHandle);</div>
<div class="line"><span class="lineno"> 1351</span>  m_changeObjectParent-&gt;setXsheetHandle(xsheetHandle);</div>
<div class="line"><span class="lineno"> 1352</span>  m_changeObjectParent-&gt;hide();</div>
<div class="line"><span class="lineno"> 1353</span> </div>
<div class="line"><span class="lineno"> 1354</span>  m_changeObjectHandle = <span class="keyword">new</span> ChangeObjectHandle(m_viewer);</div>
<div class="line"><span class="lineno"> 1355</span>  m_changeObjectHandle-&gt;setObjectHandle(objectHandle);</div>
<div class="line"><span class="lineno"> 1356</span>  m_changeObjectHandle-&gt;setXsheetHandle(xsheetHandle);</div>
<div class="line"><span class="lineno"> 1357</span>  m_changeObjectHandle-&gt;hide();</div>
<div class="line"><span class="lineno"> 1358</span> </div>
<div class="line"><span class="lineno"> 1359</span><span class="preprocessor">#ifdef LINETEST</span></div>
<div class="line"><span class="lineno"> 1360</span>  <span class="comment">// linetest had options around a motion path</span></div>
<div class="line"><span class="lineno"> 1361</span>  <span class="comment">// you could configure from the column header</span></div>
<div class="line"><span class="lineno"> 1362</span>  m_motionPathMenu = <span class="keyword">new</span> MotionPathMenu(0);</div>
<div class="line"><span class="lineno"> 1363</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1364</span> </div>
<div class="line"><span class="lineno"> 1365</span>  m_renameColumnField = <span class="keyword">new</span> RenameColumnField(<span class="keyword">this</span>, m_viewer);</div>
<div class="line"><span class="lineno"> 1366</span>  m_renameColumnField-&gt;setXsheetHandle(xsheetHandle);</div>
<div class="line"><span class="lineno"> 1367</span>  m_renameColumnField-&gt;hide();</div>
<div class="line"><span class="lineno"> 1368</span> </div>
<div class="line"><span class="lineno"> 1369</span>  QActionGroup *actionGroup = <span class="keyword">new</span> QActionGroup(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1370</span>  m_subsampling1            = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Subsampling 1&quot;</span>), actionGroup);</div>
<div class="line"><span class="lineno"> 1371</span>  m_subsampling2            = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Subsampling 2&quot;</span>), actionGroup);</div>
<div class="line"><span class="lineno"> 1372</span>  m_subsampling3            = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Subsampling 3&quot;</span>), actionGroup);</div>
<div class="line"><span class="lineno"> 1373</span>  m_subsampling4            = <span class="keyword">new</span> QAction(tr(<span class="stringliteral">&quot;&amp;Subsampling 4&quot;</span>), actionGroup);</div>
<div class="line"><span class="lineno"> 1374</span>  actionGroup-&gt;addAction(m_subsampling1);</div>
<div class="line"><span class="lineno"> 1375</span>  actionGroup-&gt;addAction(m_subsampling2);</div>
<div class="line"><span class="lineno"> 1376</span>  actionGroup-&gt;addAction(m_subsampling3);</div>
<div class="line"><span class="lineno"> 1377</span>  actionGroup-&gt;addAction(m_subsampling4);</div>
<div class="line"><span class="lineno"> 1378</span> </div>
<div class="line"><span class="lineno"> 1379</span>  connect(actionGroup, SIGNAL(triggered(QAction *)), <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno"> 1380</span>          SLOT(onSubSampling(QAction *)));</div>
<div class="line"><span class="lineno"> 1381</span>  connect(xsheetHandle, SIGNAL(xsheetCameraChange(<span class="keywordtype">int</span>)), <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno"> 1382</span>          SLOT(onXsheetCameraChange(<span class="keywordtype">int</span>)));</div>
<div class="line"><span class="lineno"> 1383</span>  setMouseTracking(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1384</span>}</div>
<div class="ttc" id="aclass_t_app_html_a0d91c122eec2b756b7c4780014e49f9e"><div class="ttname"><a href="class_t_app.html#a0d91c122eec2b756b7c4780014e49f9e">TApp::getCurrentObject</a></div><div class="ttdeci">TObjectHandle * getCurrentObject() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:130</div></div>
<div class="ttc" id="aclass_t_app_html_a13f509e753824cb0500787f68bb51a09"><div class="ttname"><a href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">TApp::getCurrentXsheet</a></div><div class="ttdeci">TXsheetHandle * getCurrentXsheet() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:110</div></div>
<div class="ttc" id="aclass_t_app_html_a24088f8647d5d9447fcec6b9b9bbf9eb"><div class="ttname"><a href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a></div><div class="ttdeci">static TApp * instance()</div><div class="ttdef"><b>Definition:</b> tapp.cpp:215</div></div>
<div class="ttc" id="aclass_t_object_handle_html"><div class="ttname"><a href="class_t_object_handle.html">TObjectHandle</a></div><div class="ttdef"><b>Definition:</b> tobjecthandle.h:35</div></div>
<div class="ttc" id="aclass_t_xsheet_handle_html"><div class="ttname"><a href="class_t_xsheet_handle.html">TXsheetHandle</a></div><div class="ttdef"><b>Definition:</b> txsheethandle.h:27</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a12e501174687f5fe89854c034f14801b" name="a12e501174687f5fe89854c034f14801b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12e501174687f5fe89854c034f14801b">&#9670;&nbsp;</a></span>~ColumnArea()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XsheetGUI::ColumnArea::~ColumnArea </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1388</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a381a17cf486e7b3228d05c6a541f3bfa" name="a381a17cf486e7b3228d05c6a541f3bfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a381a17cf486e7b3228d05c6a541f3bfa">&#9670;&nbsp;</a></span>contextMenuEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::contextMenuEvent </td>
          <td>(</td>
          <td class="paramtype">QContextMenuEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2717</span>                                                          {</div>
<div class="line"><span class="lineno"> 2718</span><span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><span class="lineno"> 2719</span>  <span class="comment">/* On windows the widget receive the release event before the menu</span></div>
<div class="line"><span class="lineno"> 2720</span><span class="comment">     is shown, on linux and osx the release event is lost, never</span></div>
<div class="line"><span class="lineno"> 2721</span><span class="comment">     received by the widget */</span></div>
<div class="line"><span class="lineno"> 2722</span>  QMouseEvent fakeRelease(QEvent::MouseButtonRelease, event-&gt;pos(),</div>
<div class="line"><span class="lineno"> 2723</span>                          Qt::RightButton, Qt::NoButton, Qt::NoModifier);</div>
<div class="line"><span class="lineno"> 2724</span> </div>
<div class="line"><span class="lineno"> 2725</span>  QApplication::instance()-&gt;sendEvent(<span class="keyword">this</span>, &amp;fakeRelease);</div>
<div class="line"><span class="lineno"> 2726</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2727</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a> *o = m_viewer-&gt;orientation();</div>
<div class="line"><span class="lineno"> 2728</span> </div>
<div class="line"><span class="lineno"> 2729</span>  <span class="keywordtype">int</span> col = m_viewer-&gt;xyToPosition(event-&gt;pos()).layer();</div>
<div class="line"><span class="lineno"> 2730</span> </div>
<div class="line"><span class="lineno"> 2731</span>  <span class="keywordtype">bool</span> isCamera = col &lt; 0;</div>
<div class="line"><span class="lineno"> 2732</span> </div>
<div class="line"><span class="lineno"> 2733</span>  m_viewer-&gt;setCurrentColumn(col);</div>
<div class="line"><span class="lineno"> 2734</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh       = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 2735</span>  QPoint topLeft     = m_viewer-&gt;positionToXY(<a class="code hl_class" href="class_cell_position.html">CellPosition</a>(0, col));</div>
<div class="line"><span class="lineno"> 2736</span>  QPoint mouseInCell = <span class="keyword">event</span>-&gt;pos() - topLeft;</div>
<div class="line"><span class="lineno"> 2737</span> </div>
<div class="line"><span class="lineno"> 2738</span>  QMenu menu(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2739</span>  <a class="code hl_class" href="class_command_manager.html">CommandManager</a> *cmdManager = CommandManager::instance();</div>
<div class="line"><span class="lineno"> 2740</span> </div>
<div class="line"><span class="lineno"> 2741</span>  <span class="comment">//---- Preview</span></div>
<div class="line"><span class="lineno"> 2742</span>  <span class="keywordflow">if</span> (((isCamera &amp;&amp; !o-&gt;isVerticalTimeline()) || !xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col)) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2743</span>      o-&gt;rect(PredefinedRect::EYE_AREA).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2744</span>    menu.setObjectName(<span class="stringliteral">&quot;xsheetColumnAreaMenu_Preview&quot;</span>);</div>
<div class="line"><span class="lineno"> 2745</span> </div>
<div class="line"><span class="lineno"> 2746</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_EnableThisColumnOnly&quot;</span>));</div>
<div class="line"><span class="lineno"> 2747</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_EnableSelectedColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2748</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_EnableAllColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2749</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_DisableAllColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2750</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_DisableSelectedColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2751</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_SwapEnabledColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2752</span>  }</div>
<div class="line"><span class="lineno"> 2753</span>  <span class="comment">//---- Lock</span></div>
<div class="line"><span class="lineno"> 2754</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((isCamera || !xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col)) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2755</span>           o-&gt;rect((isCamera) ? PredefinedRect::CAMERA_LOCK_AREA</div>
<div class="line"><span class="lineno"> 2756</span>                              : PredefinedRect::LOCK_AREA)</div>
<div class="line"><span class="lineno"> 2757</span>               .contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2758</span>    menu.setObjectName(<span class="stringliteral">&quot;xsheetColumnAreaMenu_Lock&quot;</span>);</div>
<div class="line"><span class="lineno"> 2759</span> </div>
<div class="line"><span class="lineno"> 2760</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_LockThisColumnOnly&quot;</span>));</div>
<div class="line"><span class="lineno"> 2761</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_LockSelectedColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2762</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_LockAllColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2763</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_UnlockSelectedColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2764</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_UnlockAllColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2765</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_ToggleColumnLocks&quot;</span>));</div>
<div class="line"><span class="lineno"> 2766</span>  }</div>
<div class="line"><span class="lineno"> 2767</span>  <span class="comment">//---- Camstand</span></div>
<div class="line"><span class="lineno"> 2768</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((isCamera &amp;&amp; !o-&gt;isVerticalTimeline()) ||</div>
<div class="line"><span class="lineno"> 2769</span>            !xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col)) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2770</span>           o-&gt;rect(PredefinedRect::PREVIEW_LAYER_AREA).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2771</span>    menu.setObjectName(<span class="stringliteral">&quot;xsheetColumnAreaMenu_Camstand&quot;</span>);</div>
<div class="line"><span class="lineno"> 2772</span> </div>
<div class="line"><span class="lineno"> 2773</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_ActivateThisColumnOnly&quot;</span>));</div>
<div class="line"><span class="lineno"> 2774</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_ActivateSelectedColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2775</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_ActivateAllColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2776</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_DeactivateAllColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2777</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_DeactivateSelectedColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2778</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_ToggleColumnsActivation&quot;</span>));</div>
<div class="line"><span class="lineno"> 2779</span>    <span class="comment">// hide all columns placed on the left</span></div>
<div class="line"><span class="lineno"> 2780</span>    menu.addAction(cmdManager-&gt;getAction(<span class="stringliteral">&quot;MI_DeactivateUpperColumns&quot;</span>));</div>
<div class="line"><span class="lineno"> 2781</span>  }</div>
<div class="line"><span class="lineno"> 2782</span>  <span class="comment">// right clicking another area / right clicking empty column head</span></div>
<div class="line"><span class="lineno"> 2783</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2784</span>    <span class="keywordflow">if</span> (!isCamera) {</div>
<div class="line"><span class="lineno"> 2785</span>      <span class="keywordtype">int</span> r0, r1;</div>
<div class="line"><span class="lineno"> 2786</span>      xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a26850469fb0f2886b717479050c32be2">getCellRange</a>(col, r0, r1);</div>
<div class="line"><span class="lineno"> 2787</span>      <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(r0, col);</div>
<div class="line"><span class="lineno"> 2788</span>      menu.addAction(cmdManager-&gt;getAction(MI_Cut));</div>
<div class="line"><span class="lineno"> 2789</span>      menu.addAction(cmdManager-&gt;getAction(MI_Copy));</div>
<div class="line"><span class="lineno"> 2790</span>      menu.addAction(cmdManager-&gt;getAction(MI_Paste));</div>
<div class="line"><span class="lineno"> 2791</span>      menu.addAction(cmdManager-&gt;getAction(MI_PasteAbove));</div>
<div class="line"><span class="lineno"> 2792</span>      menu.addAction(cmdManager-&gt;getAction(MI_Clear));</div>
<div class="line"><span class="lineno"> 2793</span>      menu.addAction(cmdManager-&gt;getAction(MI_Insert));</div>
<div class="line"><span class="lineno"> 2794</span>      menu.addAction(cmdManager-&gt;getAction(MI_InsertAbove));</div>
<div class="line"><span class="lineno"> 2795</span>      menu.addSeparator();</div>
<div class="line"><span class="lineno"> 2796</span>      menu.addAction(cmdManager-&gt;getAction(MI_InsertFx));</div>
<div class="line"><span class="lineno"> 2797</span>      menu.addAction(cmdManager-&gt;getAction(MI_NewNoteLevel));</div>
<div class="line"><span class="lineno"> 2798</span>      menu.addAction(cmdManager-&gt;getAction(MI_RemoveEmptyColumns));</div>
<div class="line"><span class="lineno"> 2799</span>      menu.addSeparator();</div>
<div class="line"><span class="lineno"> 2800</span>      <span class="keywordflow">if</span> (m_viewer-&gt;getXsheet()-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col) ||</div>
<div class="line"><span class="lineno"> 2801</span>          (cell.m_level &amp;&amp; cell.m_level-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a6ef7d48e41f4f214b414e959512e6377">getChildLevel</a>()))</div>
<div class="line"><span class="lineno"> 2802</span>        menu.addAction(cmdManager-&gt;getAction(MI_OpenChild));</div>
<div class="line"><span class="lineno"> 2803</span> </div>
<div class="line"><span class="lineno"> 2804</span>      <span class="comment">// Close sub xsheet and move to parent sheet</span></div>
<div class="line"><span class="lineno"> 2805</span>      <a class="code hl_class" href="class_toonz_scene.html">ToonzScene</a> *scene      = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;getScene();</div>
<div class="line"><span class="lineno"> 2806</span>      <a class="code hl_class" href="class_child_stack.html">ChildStack</a> *childStack = scene-&gt;<a class="code hl_function" href="class_toonz_scene.html#ae2cbc582144c92adc5076cd5f556c95a">getChildStack</a>();</div>
<div class="line"><span class="lineno"> 2807</span>      <span class="keywordflow">if</span> (childStack &amp;&amp; childStack-&gt;<a class="code hl_function" href="class_child_stack.html#adf32015ee9da2ea3255ba9bd2597f899">getAncestorCount</a>() &gt; 0) {</div>
<div class="line"><span class="lineno"> 2808</span>        menu.addAction(cmdManager-&gt;getAction(MI_CloseChild));</div>
<div class="line"><span class="lineno"> 2809</span>      }</div>
<div class="line"><span class="lineno"> 2810</span> </div>
<div class="line"><span class="lineno"> 2811</span>      menu.addAction(cmdManager-&gt;getAction(MI_Collapse));</div>
<div class="line"><span class="lineno"> 2812</span>      <span class="keywordflow">if</span> (cell.m_level &amp;&amp; cell.m_level-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a6ef7d48e41f4f214b414e959512e6377">getChildLevel</a>()) {</div>
<div class="line"><span class="lineno"> 2813</span>        menu.addAction(cmdManager-&gt;getAction(MI_Resequence));</div>
<div class="line"><span class="lineno"> 2814</span>        menu.addAction(cmdManager-&gt;getAction(MI_CloneChild));</div>
<div class="line"><span class="lineno"> 2815</span>        menu.addAction(cmdManager-&gt;getAction(MI_ExplodeChild));</div>
<div class="line"><span class="lineno"> 2816</span>      }</div>
<div class="line"><span class="lineno"> 2817</span>      menu.addSeparator();</div>
<div class="line"><span class="lineno"> 2818</span>    }</div>
<div class="line"><span class="lineno"> 2819</span>    menu.addAction(cmdManager-&gt;getAction(MI_FoldColumns));</div>
<div class="line"><span class="lineno"> 2820</span>    <span class="keywordflow">if</span> (Preferences::instance()-&gt;isShowKeyframesOnXsheetCellAreaEnabled()) {</div>
<div class="line"><span class="lineno"> 2821</span>      QAction *cameraToggle =</div>
<div class="line"><span class="lineno"> 2822</span>          cmdManager-&gt;getAction(MI_ToggleXsheetCameraColumn);</div>
<div class="line"><span class="lineno"> 2823</span>      <span class="keywordtype">bool</span> cameraVisible =</div>
<div class="line"><span class="lineno"> 2824</span>          Preferences::instance()-&gt;isXsheetCameraColumnVisible();</div>
<div class="line"><span class="lineno"> 2825</span>      <span class="keywordflow">if</span> (cameraVisible)</div>
<div class="line"><span class="lineno"> 2826</span>        cameraToggle-&gt;setText(tr(<span class="stringliteral">&quot;Hide Camera Column&quot;</span>));</div>
<div class="line"><span class="lineno"> 2827</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2828</span>        cameraToggle-&gt;setText(tr(<span class="stringliteral">&quot;Show Camera Column&quot;</span>));</div>
<div class="line"><span class="lineno"> 2829</span>      menu.addAction(cameraToggle);</div>
<div class="line"><span class="lineno"> 2830</span>    }</div>
<div class="line"><span class="lineno"> 2831</span>    menu.addSeparator();</div>
<div class="line"><span class="lineno"> 2832</span>    menu.addAction(cmdManager-&gt;getAction(MI_ToggleXSheetToolbar));</div>
<div class="line"><span class="lineno"> 2833</span> </div>
<div class="line"><span class="lineno"> 2834</span>    <span class="keywordflow">if</span> (isCamera) {</div>
<div class="line"><span class="lineno"> 2835</span>      menu.exec(event-&gt;globalPos());</div>
<div class="line"><span class="lineno"> 2836</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2837</span>    }</div>
<div class="line"><span class="lineno"> 2838</span> </div>
<div class="line"><span class="lineno"> 2839</span>    <span class="comment">// force the selected cells placed in n-steps</span></div>
<div class="line"><span class="lineno"> 2840</span>    <span class="keywordflow">if</span> (!xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col)) {</div>
<div class="line"><span class="lineno"> 2841</span>      menu.addSeparator();</div>
<div class="line"><span class="lineno"> 2842</span>      QMenu *reframeSubMenu = <span class="keyword">new</span> QMenu(tr(<span class="stringliteral">&quot;Reframe&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2843</span>      {</div>
<div class="line"><span class="lineno"> 2844</span>        reframeSubMenu-&gt;addAction(cmdManager-&gt;getAction(MI_Reframe1));</div>
<div class="line"><span class="lineno"> 2845</span>        reframeSubMenu-&gt;addAction(cmdManager-&gt;getAction(MI_Reframe2));</div>
<div class="line"><span class="lineno"> 2846</span>        reframeSubMenu-&gt;addAction(cmdManager-&gt;getAction(MI_Reframe3));</div>
<div class="line"><span class="lineno"> 2847</span>        reframeSubMenu-&gt;addAction(cmdManager-&gt;getAction(MI_Reframe4));</div>
<div class="line"><span class="lineno"> 2848</span>        reframeSubMenu-&gt;addAction(</div>
<div class="line"><span class="lineno"> 2849</span>            cmdManager-&gt;getAction(MI_ReframeWithEmptyInbetweens));</div>
<div class="line"><span class="lineno"> 2850</span>      }</div>
<div class="line"><span class="lineno"> 2851</span>      menu.addMenu(reframeSubMenu);</div>
<div class="line"><span class="lineno"> 2852</span>      menu.addAction(cmdManager-&gt;getAction(MI_AutoInputCellNumber));</div>
<div class="line"><span class="lineno"> 2853</span>    }</div>
<div class="line"><span class="lineno"> 2854</span> </div>
<div class="line"><span class="lineno"> 2855</span>    <span class="keywordflow">if</span> (containsRasterLevel(m_viewer-&gt;getColumnSelection())) {</div>
<div class="line"><span class="lineno"> 2856</span>      QMenu *subsampleSubMenu = <span class="keyword">new</span> QMenu(tr(<span class="stringliteral">&quot;Subsampling&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2857</span>      {</div>
<div class="line"><span class="lineno"> 2858</span>        subsampleSubMenu-&gt;addAction(m_subsampling1);</div>
<div class="line"><span class="lineno"> 2859</span>        subsampleSubMenu-&gt;addAction(m_subsampling2);</div>
<div class="line"><span class="lineno"> 2860</span>        subsampleSubMenu-&gt;addAction(m_subsampling3);</div>
<div class="line"><span class="lineno"> 2861</span>        subsampleSubMenu-&gt;addAction(m_subsampling4);</div>
<div class="line"><span class="lineno"> 2862</span>      }</div>
<div class="line"><span class="lineno"> 2863</span>      menu.addMenu(subsampleSubMenu);</div>
<div class="line"><span class="lineno"> 2864</span>    }</div>
<div class="line"><span class="lineno"> 2865</span> </div>
<div class="line"><span class="lineno"> 2866</span>    <span class="keywordflow">if</span> (!xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col)) {</div>
<div class="line"><span class="lineno"> 2867</span>      menu.addAction(cmdManager-&gt;getAction(MI_ReplaceLevel));</div>
<div class="line"><span class="lineno"> 2868</span>      menu.addAction(cmdManager-&gt;getAction(MI_ReplaceParentDirectory));</div>
<div class="line"><span class="lineno"> 2869</span> </div>
<div class="line"><span class="lineno"> 2870</span>      <span class="comment">// if (containsVectorLevel(col)) {</span></div>
<div class="line"><span class="lineno"> 2871</span>      <span class="comment">//  menu.addSeparator();</span></div>
<div class="line"><span class="lineno"> 2872</span>      <span class="comment">//  QAction *setMask =</span></div>
<div class="line"><span class="lineno"> 2873</span>      <span class="comment">//      new QAction(tr(&quot;Temporary Mask (Not in final render)&quot;), this);</span></div>
<div class="line"><span class="lineno"> 2874</span>      <span class="comment">//  setMask-&gt;setCheckable(true);</span></div>
<div class="line"><span class="lineno"> 2875</span>      <span class="comment">//  setMask-&gt;setChecked(xsh-&gt;getColumn(col)-&gt;isMask());</span></div>
<div class="line"><span class="lineno"> 2876</span>      <span class="comment">//  setMask-&gt;setToolTip(</span></div>
<div class="line"><span class="lineno"> 2877</span>      <span class="comment">//      tr(&quot;Only Toonz Vector levels can be used as masks. \n Masks don&#39;t</span></div>
<div class="line"><span class="lineno"> 2878</span>      <span class="comment">//      &quot;</span></div>
<div class="line"><span class="lineno"> 2879</span>      <span class="comment">//         &quot;show up in final renders.&quot;));</span></div>
<div class="line"><span class="lineno"> 2880</span>      <span class="comment">//  bool ret = true;</span></div>
<div class="line"><span class="lineno"> 2881</span>      <span class="comment">//  ret      = ret &amp;&amp;</span></div>
<div class="line"><span class="lineno"> 2882</span>      <span class="comment">//        connect(setMask, &amp;QAction::toggled, [=]() { onSetMask(col); });</span></div>
<div class="line"><span class="lineno"> 2883</span>      <span class="comment">//  assert(ret);</span></div>
<div class="line"><span class="lineno"> 2884</span>      <span class="comment">//  menu.addAction(setMask);</span></div>
<div class="line"><span class="lineno"> 2885</span>      <span class="comment">//}</span></div>
<div class="line"><span class="lineno"> 2886</span>    }</div>
<div class="line"><span class="lineno"> 2887</span>  }</div>
<div class="line"><span class="lineno"> 2888</span> </div>
<div class="line"><span class="lineno"> 2889</span>  QAction *act  = cmdManager-&gt;getAction(MI_Insert),</div>
<div class="line"><span class="lineno"> 2890</span>          *act2 = cmdManager-&gt;getAction(MI_InsertAbove),</div>
<div class="line"><span class="lineno"> 2891</span>          *act3 = cmdManager-&gt;getAction(MI_Paste),</div>
<div class="line"><span class="lineno"> 2892</span>          *act4 = cmdManager-&gt;getAction(MI_PasteAbove);</div>
<div class="line"><span class="lineno"> 2893</span> </div>
<div class="line"><span class="lineno"> 2894</span>  QString actText = act-&gt;text(), act2Text = act2-&gt;text(),</div>
<div class="line"><span class="lineno"> 2895</span>          act3Text = act3-&gt;text(), act4Text = act4-&gt;text();</div>
<div class="line"><span class="lineno"> 2896</span> </div>
<div class="line"><span class="lineno"> 2897</span>  <span class="keywordflow">if</span> (o-&gt;isVerticalTimeline()) {</div>
<div class="line"><span class="lineno"> 2898</span>    act-&gt;setText(tr(<span class="stringliteral">&quot;&amp;Insert Before&quot;</span>));</div>
<div class="line"><span class="lineno"> 2899</span>    act2-&gt;setText(tr(<span class="stringliteral">&quot;&amp;Insert After&quot;</span>));</div>
<div class="line"><span class="lineno"> 2900</span>    act3-&gt;setText(tr(<span class="stringliteral">&quot;&amp;Paste Insert Before&quot;</span>));</div>
<div class="line"><span class="lineno"> 2901</span>    act4-&gt;setText(tr(<span class="stringliteral">&quot;&amp;Paste Insert After&quot;</span>));</div>
<div class="line"><span class="lineno"> 2902</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2903</span>    act-&gt;setText(tr(<span class="stringliteral">&quot;&amp;Insert Below&quot;</span>));</div>
<div class="line"><span class="lineno"> 2904</span>    act2-&gt;setText(tr(<span class="stringliteral">&quot;&amp;Insert Above&quot;</span>));</div>
<div class="line"><span class="lineno"> 2905</span>    act3-&gt;setText(tr(<span class="stringliteral">&quot;&amp;Paste Insert Below&quot;</span>));</div>
<div class="line"><span class="lineno"> 2906</span>    act4-&gt;setText(tr(<span class="stringliteral">&quot;&amp;Paste Insert Above&quot;</span>));</div>
<div class="line"><span class="lineno"> 2907</span>  }</div>
<div class="line"><span class="lineno"> 2908</span> </div>
<div class="line"><span class="lineno"> 2909</span>  menu.exec(event-&gt;globalPos());</div>
<div class="line"><span class="lineno"> 2910</span> </div>
<div class="line"><span class="lineno"> 2911</span>  act-&gt;setText(actText);</div>
<div class="line"><span class="lineno"> 2912</span>  act2-&gt;setText(act2Text);</div>
<div class="line"><span class="lineno"> 2913</span>  act3-&gt;setText(act3Text);</div>
<div class="line"><span class="lineno"> 2914</span>  act4-&gt;setText(act4Text);</div>
<div class="line"><span class="lineno"> 2915</span>}</div>
<div class="ttc" id="aclass_cell_position_html"><div class="ttname"><a href="class_cell_position.html">CellPosition</a></div><div class="ttdef"><b>Definition:</b> cellposition.h:9</div></div>
<div class="ttc" id="aclass_child_stack_html"><div class="ttname"><a href="class_child_stack.html">ChildStack</a></div><div class="ttdoc">The ChildStack class provides a stack of xsheet and allows its management.</div><div class="ttdef"><b>Definition:</b> childstack.h:41</div></div>
<div class="ttc" id="aclass_child_stack_html_adf32015ee9da2ea3255ba9bd2597f899"><div class="ttname"><a href="class_child_stack.html#adf32015ee9da2ea3255ba9bd2597f899">ChildStack::getAncestorCount</a></div><div class="ttdeci">int getAncestorCount() const</div><div class="ttdef"><b>Definition:</b> childstack.cpp:138</div></div>
<div class="ttc" id="aclass_command_manager_html"><div class="ttname"><a href="class_command_manager.html">CommandManager</a></div><div class="ttdef"><b>Definition:</b> menubarcommand.h:102</div></div>
<div class="ttc" id="aclass_orientation_html"><div class="ttname"><a href="class_orientation.html">Orientation</a></div><div class="ttdef"><b>Definition:</b> orientation.h:208</div></div>
<div class="ttc" id="aclass_t_app_html_abbbf1fae564e9e510826eda4f6637d20"><div class="ttname"><a href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">TApp::getCurrentScene</a></div><div class="ttdeci">TSceneHandle * getCurrentScene() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:106</div></div>
<div class="ttc" id="aclass_t_xsh_cell_html"><div class="ttname"><a href="class_t_xsh_cell.html">TXshCell</a></div><div class="ttdef"><b>Definition:</b> txshcell.h:35</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a6ef7d48e41f4f214b414e959512e6377"><div class="ttname"><a href="class_t_xsh_level.html#a6ef7d48e41f4f214b414e959512e6377">TXshLevel::getChildLevel</a></div><div class="ttdeci">virtual TXshChildLevel * getChildLevel()</div><div class="ttdoc">Method (to be overridden in subclasses) to downcast to TXshChildLevel.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:98</div></div>
<div class="ttc" id="aclass_t_xsheet_html"><div class="ttname"><a href="class_t_xsheet.html">TXsheet</a></div><div class="ttdef"><b>Definition:</b> txsheet.h:132</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a1ae81edf03bc7527176c84478c350f57"><div class="ttname"><a href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">TXsheet::getCell</a></div><div class="ttdeci">const TXshCell &amp; getCell(int row, int col) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:233</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a26850469fb0f2886b717479050c32be2"><div class="ttname"><a href="class_t_xsheet.html#a26850469fb0f2886b717479050c32be2">TXsheet::getCellRange</a></div><div class="ttdeci">int getCellRange(int col, int &amp;r0, int &amp;r1) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:462</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a83aecebd1b7714017a64e2b786e91a4e"><div class="ttname"><a href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">TXsheet::isColumnEmpty</a></div><div class="ttdeci">bool isColumnEmpty(int col) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:482</div></div>
<div class="ttc" id="aclass_toonz_scene_html"><div class="ttname"><a href="class_toonz_scene.html">ToonzScene</a></div><div class="ttdef"><b>Definition:</b> toonzscene.h:42</div></div>
<div class="ttc" id="aclass_toonz_scene_html_ae2cbc582144c92adc5076cd5f556c95a"><div class="ttname"><a href="class_toonz_scene.html#ae2cbc582144c92adc5076cd5f556c95a">ToonzScene::getChildStack</a></div><div class="ttdeci">ChildStack * getChildStack() const</div><div class="ttdoc">Returns a pointer to the xsheets hierarchy.</div><div class="ttdef"><b>Definition:</b> toonzscene.h:83</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d74cf2353cc28923fd2a97b531d67c6" name="a8d74cf2353cc28923fd2a97b531d67c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d74cf2353cc28923fd2a97b531d67c6">&#9670;&nbsp;</a></span>drawFoldedColumnHead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::drawFoldedColumnHead </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1398</span>                                                          {</div>
<div class="line"><span class="lineno"> 1399</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a> *o = m_viewer-&gt;orientation();</div>
<div class="line"><span class="lineno"> 1400</span> </div>
<div class="line"><span class="lineno"> 1401</span>  QPoint orig = m_viewer-&gt;positionToXY(<a class="code hl_class" href="class_cell_position.html">CellPosition</a>(0, col));</div>
<div class="line"><span class="lineno"> 1402</span>  QRect rect  = o-&gt;rect(PredefinedRect::FOLDED_LAYER_HEADER).translated(orig);</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span>  <span class="keywordtype">int</span> x0, y0, x, y;</div>
<div class="line"><span class="lineno"> 1405</span> </div>
<div class="line"><span class="lineno"> 1406</span>  <span class="keywordflow">if</span> (o-&gt;isVerticalTimeline()) {</div>
<div class="line"><span class="lineno"> 1407</span>    x0 = rect.topLeft().x() + 1;</div>
<div class="line"><span class="lineno"> 1408</span>    y0 = 0;</div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>    p.setPen(m_viewer-&gt;getDarkLineColor());</div>
<div class="line"><span class="lineno"> 1411</span>    p.fillRect(x0, y0 + 1, rect.width(), 18,</div>
<div class="line"><span class="lineno"> 1412</span>               QBrush(m_viewer-&gt;getFoldedColumnBGColor()));</div>
<div class="line"><span class="lineno"> 1413</span>    p.fillRect(x0, y0 + 17, 2, rect.height() - 34,</div>
<div class="line"><span class="lineno"> 1414</span>               QBrush(m_viewer-&gt;getFoldedColumnBGColor()));</div>
<div class="line"><span class="lineno"> 1415</span>    p.fillRect(x0 + 3, y0 + 20, 2, rect.height() - 36,</div>
<div class="line"><span class="lineno"> 1416</span>               QBrush(m_viewer-&gt;getFoldedColumnBGColor()));</div>
<div class="line"><span class="lineno"> 1417</span>    p.fillRect(x0 + 6, y0 + 17, 2, rect.height() - 34,</div>
<div class="line"><span class="lineno"> 1418</span>               QBrush(m_viewer-&gt;getFoldedColumnBGColor()));</div>
<div class="line"><span class="lineno"> 1419</span> </div>
<div class="line"><span class="lineno"> 1420</span>    p.setPen(m_viewer-&gt;getFoldedColumnLineColor());</div>
<div class="line"><span class="lineno"> 1421</span>    p.drawLine(x0 - 1, y0 + 17, x0 - 1, rect.height());</div>
<div class="line"><span class="lineno"> 1422</span>    p.setPen(m_viewer-&gt;getFoldedColumnLineColor());</div>
<div class="line"><span class="lineno"> 1423</span>    p.drawLine(x0 + 2, y0 + 17, x0 + 2, rect.height());</div>
<div class="line"><span class="lineno"> 1424</span>    p.drawLine(x0 + 5, y0 + 17, x0 + 5, rect.height());</div>
<div class="line"><span class="lineno"> 1425</span>    p.drawLine(x0, y0 + 17, x0 + 1, 17);</div>
<div class="line"><span class="lineno"> 1426</span>    p.drawLine(x0 + 3, y0 + 20, x0 + 4, 20);</div>
<div class="line"><span class="lineno"> 1427</span>    p.drawLine(x0 + 6, y0 + 17, x0 + 7, 17);</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>    <span class="comment">// triangolini</span></div>
<div class="line"><span class="lineno"> 1430</span>    p.setPen(Qt::black);</div>
<div class="line"><span class="lineno"> 1431</span>    x = x0;</div>
<div class="line"><span class="lineno"> 1432</span>    y = 12;</div>
<div class="line"><span class="lineno"> 1433</span>    p.drawPoint(QPointF(x, y));</div>
<div class="line"><span class="lineno"> 1434</span>    x++;</div>
<div class="line"><span class="lineno"> 1435</span>    p.drawLine(x, y - 1, x, y + 1);</div>
<div class="line"><span class="lineno"> 1436</span>    x++;</div>
<div class="line"><span class="lineno"> 1437</span>    p.drawLine(x, y - 2, x, y + 2);</div>
<div class="line"><span class="lineno"> 1438</span>    x += 3;</div>
<div class="line"><span class="lineno"> 1439</span>    p.drawLine(x, y - 2, x, y + 2);</div>
<div class="line"><span class="lineno"> 1440</span>    x++;</div>
<div class="line"><span class="lineno"> 1441</span>    p.drawLine(x, y - 1, x, y + 1);</div>
<div class="line"><span class="lineno"> 1442</span>    x++;</div>
<div class="line"><span class="lineno"> 1443</span>    p.drawPoint(x, y);</div>
<div class="line"><span class="lineno"> 1444</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1445</span>    x0 = 0;</div>
<div class="line"><span class="lineno"> 1446</span>    y0 = rect.topLeft().y() + 1;</div>
<div class="line"><span class="lineno"> 1447</span> </div>
<div class="line"><span class="lineno"> 1448</span>    p.setPen(m_viewer-&gt;getFoldedColumnLineColor());</div>
<div class="line"><span class="lineno"> 1449</span>    p.fillRect(x0 + 1, y0, 18, rect.height(),</div>
<div class="line"><span class="lineno"> 1450</span>               QBrush(m_viewer-&gt;getFoldedColumnBGColor()));</div>
<div class="line"><span class="lineno"> 1451</span>    p.fillRect(x0 + 17, y0, rect.width() - 34, 2,</div>
<div class="line"><span class="lineno"> 1452</span>               QBrush(m_viewer-&gt;getFoldedColumnBGColor()));</div>
<div class="line"><span class="lineno"> 1453</span>    p.fillRect(x0 + 20, y0 + 3, rect.width() - 36, 2,</div>
<div class="line"><span class="lineno"> 1454</span>               QBrush(m_viewer-&gt;getFoldedColumnBGColor()));</div>
<div class="line"><span class="lineno"> 1455</span>    p.fillRect(x0 + 17, y0 + 6, rect.width() - 34, 2,</div>
<div class="line"><span class="lineno"> 1456</span>               QBrush(m_viewer-&gt;getFoldedColumnBGColor()));</div>
<div class="line"><span class="lineno"> 1457</span> </div>
<div class="line"><span class="lineno"> 1458</span>    p.setPen(m_viewer-&gt;getFoldedColumnLineColor());</div>
<div class="line"><span class="lineno"> 1459</span>    p.drawLine(x0 + 17, y0 - 1, rect.width(), y0 - 1);</div>
<div class="line"><span class="lineno"> 1460</span>    p.setPen(m_viewer-&gt;getFoldedColumnLineColor());</div>
<div class="line"><span class="lineno"> 1461</span>    p.drawLine(x0 + 17, y0 + 2, rect.width(), y0 + 2);</div>
<div class="line"><span class="lineno"> 1462</span>    p.drawLine(x0 + 17, y0 + 5, rect.width(), y0 + 5);</div>
<div class="line"><span class="lineno"> 1463</span>    p.drawLine(x0 + 17, y0, 17, y0 + 1);</div>
<div class="line"><span class="lineno"> 1464</span>    p.drawLine(x0 + 20, y0 + 3, 20, y0 + 4);</div>
<div class="line"><span class="lineno"> 1465</span>    p.drawLine(x0 + 17, y0 + 6, 17, y0 + 7);</div>
<div class="line"><span class="lineno"> 1466</span> </div>
<div class="line"><span class="lineno"> 1467</span>    <span class="comment">// triangolini</span></div>
<div class="line"><span class="lineno"> 1468</span>    p.setPen(Qt::black);</div>
<div class="line"><span class="lineno"> 1469</span>    x = 12;</div>
<div class="line"><span class="lineno"> 1470</span>    y = y0;</div>
<div class="line"><span class="lineno"> 1471</span>    p.drawPoint(QPointF(x, y));</div>
<div class="line"><span class="lineno"> 1472</span>    y++;</div>
<div class="line"><span class="lineno"> 1473</span>    p.drawLine(x - 1, y, x + 1, y);</div>
<div class="line"><span class="lineno"> 1474</span>    y++;</div>
<div class="line"><span class="lineno"> 1475</span>    p.drawLine(x - 2, y, x + 2, y);</div>
<div class="line"><span class="lineno"> 1476</span>    y += 3;</div>
<div class="line"><span class="lineno"> 1477</span>    p.drawLine(x - 2, y, x + 2, y);</div>
<div class="line"><span class="lineno"> 1478</span>    y++;</div>
<div class="line"><span class="lineno"> 1479</span>    p.drawLine(x - 1, y, x + 1, y);</div>
<div class="line"><span class="lineno"> 1480</span>    y++;</div>
<div class="line"><span class="lineno"> 1481</span>    p.drawPoint(x, y);</div>
<div class="line"><span class="lineno"> 1482</span>  }</div>
<div class="line"><span class="lineno"> 1483</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d1f49c5f62d9353109a6586e73100a7" name="a2d1f49c5f62d9353109a6586e73100a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d1f49c5f62d9353109a6586e73100a7">&#9670;&nbsp;</a></span>drawLevelColumnHead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::drawLevelColumnHead </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1485</span>                                                         {</div>
<div class="line"><span class="lineno"> 1486</span>  <a class="code hl_class" href="class_t_column_selection.html">TColumnSelection</a> *selection = m_viewer-&gt;getColumnSelection();</div>
<div class="line"><span class="lineno"> 1487</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a> *o        = m_viewer-&gt;orientation();</div>
<div class="line"><span class="lineno"> 1488</span> </div>
<div class="line"><span class="lineno"> 1489</span>  <span class="comment">// Preparing painter</span></div>
<div class="line"><span class="lineno"> 1490</span>  QString fontName = Preferences::instance()-&gt;getInterfaceFont();</div>
<div class="line"><span class="lineno"> 1491</span>  <span class="keywordflow">if</span> (fontName == <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1492</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 1493</span>    fontName = <span class="stringliteral">&quot;Arial&quot;</span>;</div>
<div class="line"><span class="lineno"> 1494</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1495</span>    fontName = <span class="stringliteral">&quot;Helvetica&quot;</span>;</div>
<div class="line"><span class="lineno"> 1496</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1497</span>  }</div>
<div class="line"><span class="lineno"> 1498</span>  <span class="keyword">static</span> QFont font(fontName, -1, QFont::Normal);</div>
<div class="line"><span class="lineno"> 1499</span>  font.setPixelSize(XSHEET_FONT_PX_SIZE);</div>
<div class="line"><span class="lineno"> 1500</span> </div>
<div class="line"><span class="lineno"> 1501</span>  p.setFont(font);</div>
<div class="line"><span class="lineno"> 1502</span>  p.setRenderHint(QPainter::SmoothPixmapTransform, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1503</span> </div>
<div class="line"><span class="lineno"> 1504</span>  <span class="comment">// Retrieve reference coordinates</span></div>
<div class="line"><span class="lineno"> 1505</span>  <span class="keywordtype">int</span> currentColumnIndex = m_viewer-&gt;getCurrentColumn();</div>
<div class="line"><span class="lineno"> 1506</span>  <span class="keywordtype">int</span> layerAxis          = m_viewer-&gt;columnToLayerAxis(col);</div>
<div class="line"><span class="lineno"> 1507</span> </div>
<div class="line"><span class="lineno"> 1508</span>  QPoint orig = m_viewer-&gt;positionToXY(<a class="code hl_class" href="class_cell_position.html">CellPosition</a>(0, col));</div>
<div class="line"><span class="lineno"> 1509</span>  QRect rect  = o-&gt;rect(PredefinedRect::LAYER_HEADER).translated(orig);</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>  <a class="code hl_class" href="class_t_app.html">TApp</a> *app    = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>();</div>
<div class="line"><span class="lineno"> 1512</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 1513</span> </div>
<div class="line"><span class="lineno"> 1514</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> columnId        = m_viewer-&gt;<a class="code hl_function" href="class_xsheet_viewer.html#acef259f8c33344981f8c218590bca5d9">getObjectId</a>(col);</div>
<div class="line"><span class="lineno"> 1515</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> currentColumnId = app-&gt;<a class="code hl_function" href="class_t_app.html#a0d91c122eec2b756b7c4780014e49f9e">getCurrentObject</a>()-&gt;getObjectId();</div>
<div class="line"><span class="lineno"> 1516</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> parentId        = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a0a27744ce52cae25ec261a853a554cd1">getStageObjectParent</a>(columnId);</div>
<div class="line"><span class="lineno"> 1517</span> </div>
<div class="line"><span class="lineno"> 1518</span>  <span class="comment">// Retrieve column properties</span></div>
<div class="line"><span class="lineno"> 1519</span>  <span class="comment">// Check if the column is empty</span></div>
<div class="line"><span class="lineno"> 1520</span>  <span class="keywordtype">bool</span> isEmpty       = col &gt;= 0 &amp;&amp; xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col);</div>
<div class="line"><span class="lineno"> 1521</span>  <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = col &gt;= 0 ? xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col) : 0;</div>
<div class="line"><span class="lineno"> 1522</span> </div>
<div class="line"><span class="lineno"> 1523</span>  <span class="keywordtype">bool</span> isEditingSpline = app-&gt;<a class="code hl_function" href="class_t_app.html#a0d91c122eec2b756b7c4780014e49f9e">getCurrentObject</a>()-&gt;isSpline();</div>
<div class="line"><span class="lineno"> 1524</span> </div>
<div class="line"><span class="lineno"> 1525</span>  <span class="comment">// check if the column is current</span></div>
<div class="line"><span class="lineno"> 1526</span>  <span class="keywordtype">bool</span> isCurrent = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1527</span>  <span class="keywordflow">if</span> (currentColumnId ==</div>
<div class="line"><span class="lineno"> 1528</span>      TStageObjectId::CameraId(xsh-&gt;getCameraColumnIndex()))  <span class="comment">// CAMERA</span></div>
<div class="line"><span class="lineno"> 1529</span>    isCurrent = col == -1;</div>
<div class="line"><span class="lineno"> 1530</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1531</span>    isCurrent = m_viewer-&gt;getCurrentColumn() == col;</div>
<div class="line"><span class="lineno"> 1532</span> </div>
<div class="line"><span class="lineno"> 1533</span>  <span class="keywordtype">bool</span> isSelected =</div>
<div class="line"><span class="lineno"> 1534</span>      m_viewer-&gt;getColumnSelection()-&gt;isColumnSelected(col) &amp;&amp; !isEditingSpline;</div>
<div class="line"><span class="lineno"> 1535</span>  <span class="comment">// bool isCameraSelected = col == -1 &amp;&amp; isCurrent &amp;&amp; !isEditingSpline;</span></div>
<div class="line"><span class="lineno"> 1536</span> </div>
<div class="line"><span class="lineno"> 1537</span>  <span class="comment">// Draw column</span></div>
<div class="line"><span class="lineno"> 1538</span>  DrawHeader drawHeader(<span class="keyword">this</span>, p, col);</div>
<div class="line"><span class="lineno"> 1539</span>  drawHeader.prepare();</div>
<div class="line"><span class="lineno"> 1540</span>  QColor columnColor, dragColor;</div>
<div class="line"><span class="lineno"> 1541</span>  drawHeader.levelColors(columnColor, dragColor);</div>
<div class="line"><span class="lineno"> 1542</span>  drawHeader.drawBaseFill(columnColor, dragColor);</div>
<div class="line"><span class="lineno"> 1543</span>  drawHeader.drawEye();</div>
<div class="line"><span class="lineno"> 1544</span>  drawHeader.drawPreviewToggle(column ? column-&gt;getOpacity() : 0);</div>
<div class="line"><span class="lineno"> 1545</span>  drawHeader.drawLock();</div>
<div class="line"><span class="lineno"> 1546</span>  drawHeader.drawColumnName();</div>
<div class="line"><span class="lineno"> 1547</span>  drawHeader.drawColumnNumber();</div>
<div class="line"><span class="lineno"> 1548</span>  QPixmap iconPixmap = getColumnIcon(col);</div>
<div class="line"><span class="lineno"> 1549</span>  drawHeader.drawThumbnail(iconPixmap);</div>
<div class="line"><span class="lineno"> 1550</span>  drawHeader.drawFilterColor();</div>
<div class="line"><span class="lineno"> 1551</span>  drawHeader.drawConfig();</div>
<div class="line"><span class="lineno"> 1552</span>  drawHeader.drawPegbarName();</div>
<div class="line"><span class="lineno"> 1553</span>  drawHeader.drawParentHandleName();</div>
<div class="line"><span class="lineno"> 1554</span>}</div>
<div class="ttc" id="aclass_t_app_html"><div class="ttname"><a href="class_t_app.html">TApp</a></div><div class="ttdoc">This is the instance of the main application.</div><div class="ttdef"><b>Definition:</b> tapp.h:66</div></div>
<div class="ttc" id="aclass_t_column_selection_html"><div class="ttname"><a href="class_t_column_selection.html">TColumnSelection</a></div><div class="ttdef"><b>Definition:</b> columnselection.h:16</div></div>
<div class="ttc" id="aclass_t_stage_object_id_html"><div class="ttname"><a href="class_t_stage_object_id.html">TStageObjectId</a></div><div class="ttdef"><b>Definition:</b> tstageobjectid.h:36</div></div>
<div class="ttc" id="aclass_t_xsh_column_html"><div class="ttname"><a href="class_t_xsh_column.html">TXshColumn</a></div><div class="ttdoc">The TXshColumn class is the base class of column managers in xsheet.</div><div class="ttdef"><b>Definition:</b> txshcolumn.h:65</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a0a27744ce52cae25ec261a853a554cd1"><div class="ttname"><a href="class_t_xsheet.html#a0a27744ce52cae25ec261a853a554cd1">TXsheet::getStageObjectParent</a></div><div class="ttdeci">TStageObjectId getStageObjectParent(const TStageObjectId &amp;id)</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:598</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a3e1a216c019a0ebdf73d95acac95d8d0"><div class="ttname"><a href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">TXsheet::getColumn</a></div><div class="ttdeci">TXshColumn * getColumn(int index) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:1418</div></div>
<div class="ttc" id="aclass_xsheet_viewer_html_acef259f8c33344981f8c218590bca5d9"><div class="ttname"><a href="class_xsheet_viewer.html#acef259f8c33344981f8c218590bca5d9">XsheetViewer::getObjectId</a></div><div class="ttdeci">TStageObjectId getObjectId(int col) const</div><div class="ttdoc">Restituisce la objectId corrispondente alla colonna col.</div><div class="ttdef"><b>Definition:</b> xsheetviewer.cpp:501</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c784be22b3e23ced598151b049c4669" name="a2c784be22b3e23ced598151b049c4669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c784be22b3e23ced598151b049c4669">&#9670;&nbsp;</a></span>drawPaletteColumnHead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::drawPaletteColumnHead </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1613</span>                                                           {  <span class="comment">// AREA</span></div>
<div class="line"><span class="lineno"> 1614</span>  <a class="code hl_class" href="class_t_column_selection.html">TColumnSelection</a> *selection = m_viewer-&gt;getColumnSelection();</div>
<div class="line"><span class="lineno"> 1615</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a> *o        = m_viewer-&gt;orientation();</div>
<div class="line"><span class="lineno"> 1616</span> </div>
<div class="line"><span class="lineno"> 1617</span>  QPoint orig = m_viewer-&gt;positionToXY(<a class="code hl_class" href="class_cell_position.html">CellPosition</a>(0, std::max(col, -1)));</div>
<div class="line"><span class="lineno"> 1618</span> </div>
<div class="line"><span class="lineno"> 1619</span>  QString fontName = Preferences::instance()-&gt;getInterfaceFont();</div>
<div class="line"><span class="lineno"> 1620</span>  <span class="keywordflow">if</span> (fontName == <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1621</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 1622</span>    fontName = <span class="stringliteral">&quot;Arial&quot;</span>;</div>
<div class="line"><span class="lineno"> 1623</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1624</span>    fontName = <span class="stringliteral">&quot;Helvetica&quot;</span>;</div>
<div class="line"><span class="lineno"> 1625</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1626</span>  }</div>
<div class="line"><span class="lineno"> 1627</span>  <span class="keyword">static</span> QFont font(fontName, -1, QFont::Normal);</div>
<div class="line"><span class="lineno"> 1628</span>  font.setPixelSize(XSHEET_FONT_PX_SIZE);</div>
<div class="line"><span class="lineno"> 1629</span> </div>
<div class="line"><span class="lineno"> 1630</span>  p.setFont(font);</div>
<div class="line"><span class="lineno"> 1631</span>  p.setRenderHint(QPainter::SmoothPixmapTransform, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1632</span> </div>
<div class="line"><span class="lineno"> 1633</span>  <span class="keywordtype">int</span> currentColumnIndex = m_viewer-&gt;getCurrentColumn();</div>
<div class="line"><span class="lineno"> 1634</span>  <span class="keywordtype">int</span> x                  = m_viewer-&gt;columnToLayerAxis(col);</div>
<div class="line"><span class="lineno"> 1635</span> </div>
<div class="line"><span class="lineno"> 1636</span>  QRect rect(x, 0, o-&gt;cellWidth(), height());</div>
<div class="line"><span class="lineno"> 1637</span> </div>
<div class="line"><span class="lineno"> 1638</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 1639</span> </div>
<div class="line"><span class="lineno"> 1640</span>  <span class="keywordtype">bool</span> isEmpty = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1641</span>  <span class="keywordflow">if</span> (col &gt;= 0)  <span class="comment">// Verifico se la colonna e&#39; vuota</span></div>
<div class="line"><span class="lineno"> 1642</span>    isEmpty = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col);</div>
<div class="line"><span class="lineno"> 1643</span> </div>
<div class="line"><span class="lineno"> 1644</span>  DrawHeader drawHeader(<span class="keyword">this</span>, p, col);</div>
<div class="line"><span class="lineno"> 1645</span>  drawHeader.prepare();</div>
<div class="line"><span class="lineno"> 1646</span>  QColor columnColor, dragColor;</div>
<div class="line"><span class="lineno"> 1647</span>  drawHeader.paletteColors(columnColor, dragColor);</div>
<div class="line"><span class="lineno"> 1648</span>  drawHeader.drawBaseFill(columnColor, dragColor);</div>
<div class="line"><span class="lineno"> 1649</span>  drawHeader.drawEye();</div>
<div class="line"><span class="lineno"> 1650</span>  drawHeader.drawPreviewToggle(0);</div>
<div class="line"><span class="lineno"> 1651</span>  drawHeader.drawLock();</div>
<div class="line"><span class="lineno"> 1652</span>  drawHeader.drawConfig();</div>
<div class="line"><span class="lineno"> 1653</span>  drawHeader.drawColumnName();</div>
<div class="line"><span class="lineno"> 1654</span>  drawHeader.drawColumnNumber();</div>
<div class="line"><span class="lineno"> 1655</span>  <span class="keyword">static</span> QPixmap iconPixmap(svgToPixmap(<span class="stringliteral">&quot;:Resources/palette_header.svg&quot;</span>));</div>
<div class="line"><span class="lineno"> 1656</span>  drawHeader.drawThumbnail(iconPixmap);</div>
<div class="line"><span class="lineno"> 1657</span>  drawHeader.drawPegbarName();</div>
<div class="line"><span class="lineno"> 1658</span>  drawHeader.drawParentHandleName();</div>
<div class="line"><span class="lineno"> 1659</span>  <span class="comment">// drawHeader.drawFilterColor();</span></div>
<div class="line"><span class="lineno"> 1660</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa20ecc29263b92479262145a91cf5f49" name="aa20ecc29263b92479262145a91cf5f49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa20ecc29263b92479262145a91cf5f49">&#9670;&nbsp;</a></span>drawSoundColumnHead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::drawSoundColumnHead </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1558</span>                                                         {  <span class="comment">// AREA</span></div>
<div class="line"><span class="lineno"> 1559</span>  <a class="code hl_class" href="class_t_column_selection.html">TColumnSelection</a> *selection = m_viewer-&gt;getColumnSelection();</div>
<div class="line"><span class="lineno"> 1560</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a> *o        = m_viewer-&gt;orientation();</div>
<div class="line"><span class="lineno"> 1561</span> </div>
<div class="line"><span class="lineno"> 1562</span>  <span class="keywordtype">int</span> x = m_viewer-&gt;columnToLayerAxis(col);</div>
<div class="line"><span class="lineno"> 1563</span> </div>
<div class="line"><span class="lineno"> 1564</span>  p.setRenderHint(QPainter::SmoothPixmapTransform, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1565</span>  QString fontName = Preferences::instance()-&gt;getInterfaceFont();</div>
<div class="line"><span class="lineno"> 1566</span>  <span class="keywordflow">if</span> (fontName == <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1567</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 1568</span>    fontName = <span class="stringliteral">&quot;Arial&quot;</span>;</div>
<div class="line"><span class="lineno"> 1569</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1570</span>    fontName = <span class="stringliteral">&quot;Helvetica&quot;</span>;</div>
<div class="line"><span class="lineno"> 1571</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1572</span>  }</div>
<div class="line"><span class="lineno"> 1573</span>  <span class="keyword">static</span> QFont font(fontName, -1, QFont::Normal);</div>
<div class="line"><span class="lineno"> 1574</span>  font.setPixelSize(XSHEET_FONT_PX_SIZE);</div>
<div class="line"><span class="lineno"> 1575</span>  p.setFont(font);</div>
<div class="line"><span class="lineno"> 1576</span> </div>
<div class="line"><span class="lineno"> 1577</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 1578</span>  <a class="code hl_class" href="class_t_xsh_sound_column.html">TXshSoundColumn</a> *sc =</div>
<div class="line"><span class="lineno"> 1579</span>      xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col) ? xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col)-&gt;getSoundColumn() : 0;</div>
<div class="line"><span class="lineno"> 1580</span> </div>
<div class="line"><span class="lineno"> 1581</span>  QPoint orig = m_viewer-&gt;positionToXY(<a class="code hl_class" href="class_cell_position.html">CellPosition</a>(0, col));</div>
<div class="line"><span class="lineno"> 1582</span>  QRect rect  = m_viewer-&gt;orientation()</div>
<div class="line"><span class="lineno"> 1583</span>                   -&gt;rect(PredefinedRect::LAYER_HEADER)</div>
<div class="line"><span class="lineno"> 1584</span>                   .translated(orig);</div>
<div class="line"><span class="lineno"> 1585</span> </div>
<div class="line"><span class="lineno"> 1586</span>  QPoint columnNamePos = orig + QPoint(12, o-&gt;cellHeight());</div>
<div class="line"><span class="lineno"> 1587</span> </div>
<div class="line"><span class="lineno"> 1588</span>  <span class="keywordtype">bool</span> isCurrent = m_viewer-&gt;getCurrentColumn() == col;</div>
<div class="line"><span class="lineno"> 1589</span> </div>
<div class="line"><span class="lineno"> 1590</span>  DrawHeader drawHeader(<span class="keyword">this</span>, p, col);</div>
<div class="line"><span class="lineno"> 1591</span>  drawHeader.prepare();</div>
<div class="line"><span class="lineno"> 1592</span>  QColor columnColor, dragColor;</div>
<div class="line"><span class="lineno"> 1593</span>  <span class="comment">//  drawHeader.soundColors(columnColor, dragColor);</span></div>
<div class="line"><span class="lineno"> 1594</span>  drawHeader.levelColors(columnColor, dragColor);</div>
<div class="line"><span class="lineno"> 1595</span>  drawHeader.drawBaseFill(columnColor, dragColor);</div>
<div class="line"><span class="lineno"> 1596</span>  drawHeader.drawEye();</div>
<div class="line"><span class="lineno"> 1597</span>  drawHeader.drawPreviewToggle(sc ? (troundp(255.0 * sc-&gt;getVolume())) : 0);</div>
<div class="line"><span class="lineno"> 1598</span>  drawHeader.drawLock();</div>
<div class="line"><span class="lineno"> 1599</span>  drawHeader.drawConfig();</div>
<div class="line"><span class="lineno"> 1600</span>  drawHeader.drawColumnName();</div>
<div class="line"><span class="lineno"> 1601</span>  drawHeader.drawColumnNumber();</div>
<div class="line"><span class="lineno"> 1602</span>  <span class="comment">// Sound columns don&#39;t have an image. Passing in an image</span></div>
<div class="line"><span class="lineno"> 1603</span>  <span class="comment">// for argument, but it will be ignored.</span></div>
<div class="line"><span class="lineno"> 1604</span>  <span class="keyword">static</span> QPixmap iconignored;</div>
<div class="line"><span class="lineno"> 1605</span>  drawHeader.drawThumbnail(iconignored);</div>
<div class="line"><span class="lineno"> 1606</span>  drawHeader.drawPegbarName();</div>
<div class="line"><span class="lineno"> 1607</span>  drawHeader.drawParentHandleName();</div>
<div class="line"><span class="lineno"> 1608</span>  <span class="comment">// drawHeader.drawFilterColor();</span></div>
<div class="line"><span class="lineno"> 1609</span>}</div>
<div class="ttc" id="aclass_t_xsh_sound_column_html"><div class="ttname"><a href="class_t_xsh_sound_column.html">TXshSoundColumn</a></div><div class="ttdef"><b>Definition:</b> txshsoundcolumn.h:96</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5353a98debd85a69ce9ac9cd58bebbca" name="a5353a98debd85a69ce9ac9cd58bebbca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5353a98debd85a69ce9ac9cd58bebbca">&#9670;&nbsp;</a></span>drawSoundTextColumnHead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::drawSoundTextColumnHead </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1664</span>                                                             {  <span class="comment">// AREA</span></div>
<div class="line"><span class="lineno"> 1665</span>  <a class="code hl_class" href="class_t_column_selection.html">TColumnSelection</a> *selection = m_viewer-&gt;getColumnSelection();</div>
<div class="line"><span class="lineno"> 1666</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a> *o        = m_viewer-&gt;orientation();</div>
<div class="line"><span class="lineno"> 1667</span> </div>
<div class="line"><span class="lineno"> 1668</span>  <span class="keywordtype">int</span> x = m_viewer-&gt;columnToLayerAxis(col);</div>
<div class="line"><span class="lineno"> 1669</span> </div>
<div class="line"><span class="lineno"> 1670</span>  p.setRenderHint(QPainter::SmoothPixmapTransform, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1671</span>  QString fontName = Preferences::instance()-&gt;getInterfaceFont();</div>
<div class="line"><span class="lineno"> 1672</span>  <span class="keywordflow">if</span> (fontName == <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1673</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 1674</span>    fontName = <span class="stringliteral">&quot;Arial&quot;</span>;</div>
<div class="line"><span class="lineno"> 1675</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1676</span>    fontName = <span class="stringliteral">&quot;Helvetica&quot;</span>;</div>
<div class="line"><span class="lineno"> 1677</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1678</span>  }</div>
<div class="line"><span class="lineno"> 1679</span>  <span class="keyword">static</span> QFont font(fontName, -1, QFont::Normal);</div>
<div class="line"><span class="lineno"> 1680</span>  font.setPixelSize(XSHEET_FONT_PX_SIZE);</div>
<div class="line"><span class="lineno"> 1681</span>  p.setFont(font);</div>
<div class="line"><span class="lineno"> 1682</span> </div>
<div class="line"><span class="lineno"> 1683</span>  QRect rect(x, 0, o-&gt;cellWidth(), height());</div>
<div class="line"><span class="lineno"> 1684</span> </div>
<div class="line"><span class="lineno"> 1685</span>  <a class="code hl_class" href="class_t_app.html">TApp</a> *app    = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>();</div>
<div class="line"><span class="lineno"> 1686</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 1687</span> </div>
<div class="line"><span class="lineno"> 1688</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> columnId = m_viewer-&gt;<a class="code hl_function" href="class_xsheet_viewer.html#acef259f8c33344981f8c218590bca5d9">getObjectId</a>(col);</div>
<div class="line"><span class="lineno"> 1689</span>  std::string name        = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">getStageObject</a>(columnId)-&gt;getName();</div>
<div class="line"><span class="lineno"> 1690</span> </div>
<div class="line"><span class="lineno"> 1691</span>  <span class="keywordtype">bool</span> isEditingSpline = app-&gt;<a class="code hl_function" href="class_t_app.html#a0d91c122eec2b756b7c4780014e49f9e">getCurrentObject</a>()-&gt;isSpline();</div>
<div class="line"><span class="lineno"> 1692</span> </div>
<div class="line"><span class="lineno"> 1693</span>  <span class="comment">// Check if column is locked and selected</span></div>
<div class="line"><span class="lineno"> 1694</span>  <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = col &gt;= 0 ? xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col) : 0;</div>
<div class="line"><span class="lineno"> 1695</span>  <span class="keywordtype">bool</span> isLocked      = column != 0 &amp;&amp; column-&gt;isLocked();</div>
<div class="line"><span class="lineno"> 1696</span>  <span class="keywordtype">bool</span> isCurrent     = m_viewer-&gt;getCurrentColumn() == col;</div>
<div class="line"><span class="lineno"> 1697</span>  <span class="keywordtype">bool</span> isSelected =</div>
<div class="line"><span class="lineno"> 1698</span>      m_viewer-&gt;getColumnSelection()-&gt;isColumnSelected(col) &amp;&amp; !isEditingSpline;</div>
<div class="line"><span class="lineno"> 1699</span> </div>
<div class="line"><span class="lineno"> 1700</span>  DrawHeader drawHeader(<span class="keyword">this</span>, p, col);</div>
<div class="line"><span class="lineno"> 1701</span>  drawHeader.prepare();</div>
<div class="line"><span class="lineno"> 1702</span>  QColor columnColor, dragColor;</div>
<div class="line"><span class="lineno"> 1703</span>  drawHeader.paletteColors(columnColor, dragColor);</div>
<div class="line"><span class="lineno"> 1704</span>  drawHeader.drawBaseFill(columnColor, dragColor);</div>
<div class="line"><span class="lineno"> 1705</span>  drawHeader.drawEye();</div>
<div class="line"><span class="lineno"> 1706</span>  drawHeader.drawPreviewToggle(255);</div>
<div class="line"><span class="lineno"> 1707</span>  drawHeader.drawLock();</div>
<div class="line"><span class="lineno"> 1708</span>  drawHeader.drawConfig();</div>
<div class="line"><span class="lineno"> 1709</span>  drawHeader.drawColumnName();</div>
<div class="line"><span class="lineno"> 1710</span>  drawHeader.drawColumnNumber();</div>
<div class="line"><span class="lineno"> 1711</span>  <span class="keyword">static</span> QPixmap iconPixmap(</div>
<div class="line"><span class="lineno"> 1712</span>      recolorPixmap(svgToPixmap(getIconThemePath(<span class="stringliteral">&quot;actions/74/notelevel.svg&quot;</span>))));</div>
<div class="line"><span class="lineno"> 1713</span>  drawHeader.drawThumbnail(iconPixmap);</div>
<div class="line"><span class="lineno"> 1714</span>  drawHeader.drawPegbarName();</div>
<div class="line"><span class="lineno"> 1715</span>  drawHeader.drawParentHandleName();</div>
<div class="line"><span class="lineno"> 1716</span>  <span class="comment">// drawHeader.drawFilterColor();</span></div>
<div class="line"><span class="lineno"> 1717</span>}</div>
<div class="ttc" id="aclass_t_xsheet_html_a13d9b9c08ca8dde39769f5644e046ee5"><div class="ttname"><a href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">TXsheet::getStageObject</a></div><div class="ttdeci">TStageObject * getStageObject(const TStageObjectId &amp;id) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:542</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9be0b908bffee72a1ad3922c37aecd3" name="aa9be0b908bffee72a1ad3922c37aecd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9be0b908bffee72a1ad3922c37aecd3">&#9670;&nbsp;</a></span>event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool XsheetGUI::ColumnArea::event </td>
          <td>(</td>
          <td class="paramtype">QEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2551</span>                                    {</div>
<div class="line"><span class="lineno"> 2552</span>  <span class="keywordflow">if</span> (event-&gt;type() == QEvent::ToolTip) {</div>
<div class="line"><span class="lineno"> 2553</span>    <span class="keywordflow">if</span> (!m_tooltip.isEmpty())</div>
<div class="line"><span class="lineno"> 2554</span>      QToolTip::showText(mapToGlobal(m_pos), m_tooltip);</div>
<div class="line"><span class="lineno"> 2555</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2556</span>      QToolTip::hideText();</div>
<div class="line"><span class="lineno"> 2557</span>  }</div>
<div class="line"><span class="lineno"> 2558</span>  <span class="keywordflow">return</span> QWidget::event(event);</div>
<div class="line"><span class="lineno"> 2559</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0b85d09946c9be9fc2f53aa96234db9" name="aa0b85d09946c9be9fc2f53aa96234db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0b85d09946c9be9fc2f53aa96234db9">&#9670;&nbsp;</a></span>getColumnIcon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPixmap XsheetGUI::ColumnArea::getColumnIcon </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>columnIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1721</span>                                                 {</div>
<div class="line"><span class="lineno"> 1722</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a> *o = m_viewer-&gt;orientation();</div>
<div class="line"><span class="lineno"> 1723</span> </div>
<div class="line"><span class="lineno"> 1724</span>  <span class="keywordflow">if</span> (columnIndex == -1) {  <span class="comment">// Indice colonna = -1 -&gt; CAMERA</span></div>
<div class="line"><span class="lineno"> 1725</span>    <span class="keywordflow">if</span> (o-&gt;isVerticalTimeline()) {</div>
<div class="line"><span class="lineno"> 1726</span>      <span class="keyword">static</span> QPixmap camera = svgToPixmap(<span class="stringliteral">&quot;:Resources/camera_small.svg&quot;</span>);</div>
<div class="line"><span class="lineno"> 1727</span>      <span class="keywordflow">return</span> camera;</div>
<div class="line"><span class="lineno"> 1728</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1729</span>      <span class="keyword">static</span> QPixmap camera = svgToPixmap(<span class="stringliteral">&quot;:Resources/camera.svg&quot;</span>);</div>
<div class="line"><span class="lineno"> 1730</span>      <span class="keywordflow">return</span> camera;</div>
<div class="line"><span class="lineno"> 1731</span>    }</div>
<div class="line"><span class="lineno"> 1732</span>  }</div>
<div class="line"><span class="lineno"> 1733</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 1734</span>  <span class="keywordflow">if</span> (!xsh) <span class="keywordflow">return</span> QPixmap();</div>
<div class="line"><span class="lineno"> 1735</span>  <span class="keywordflow">if</span> (xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(columnIndex)) <span class="keywordflow">return</span> QPixmap();</div>
<div class="line"><span class="lineno"> 1736</span>  <span class="keywordtype">int</span> r0, r1;</div>
<div class="line"><span class="lineno"> 1737</span>  xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a26850469fb0f2886b717479050c32be2">getCellRange</a>(columnIndex, r0, r1);</div>
<div class="line"><span class="lineno"> 1738</span>  <span class="keywordflow">if</span> (r0 &gt; r1) <span class="keywordflow">return</span> QPixmap();</div>
<div class="line"><span class="lineno"> 1739</span>  <a class="code hl_class" href="class_t_xsh_cell.html">TXshCell</a> cell = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a1ae81edf03bc7527176c84478c350f57">getCell</a>(r0, columnIndex);</div>
<div class="line"><span class="lineno"> 1740</span>  <a class="code hl_class" href="class_t_xsh_level.html">TXshLevel</a> *xl = cell.m_level.getPointer();</div>
<div class="line"><span class="lineno"> 1741</span>  <span class="keywordflow">if</span> (!xl)</div>
<div class="line"><span class="lineno"> 1742</span>    <span class="keywordflow">return</span> QPixmap();</div>
<div class="line"><span class="lineno"> 1743</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1744</span>    <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column          = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(columnIndex);</div>
<div class="line"><span class="lineno"> 1745</span>    <a class="code hl_class" href="class_t_xsh_zerary_fx_column.html">TXshZeraryFxColumn</a> *zColumn = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_t_xsh_zerary_fx_column.html">TXshZeraryFxColumn</a> *<span class="keyword">&gt;</span>(column);</div>
<div class="line"><span class="lineno"> 1746</span>    <span class="keywordtype">bool</span> onDemand               = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1747</span>    <span class="keywordflow">if</span> (Preferences::instance()-&gt;getColumnIconLoadingPolicy() ==</div>
<div class="line"><span class="lineno"> 1748</span>        <a class="code hl_enumvalue" href="class_preferences.html#a2d5feb8ad93cc1336224f65f4bc0ff30ad4f8e44727dff0fd890c28a36b29f9a9">Preferences::LoadOnDemand</a>) {</div>
<div class="line"><span class="lineno"> 1749</span>      onDemand = m_viewer-&gt;getCurrentColumn() != columnIndex;</div>
<div class="line"><span class="lineno"> 1750</span>      <span class="keywordflow">if</span> (!onDemand) {</div>
<div class="line"><span class="lineno"> 1751</span>        <a class="code hl_class" href="class_t_xsh_level_column.html">TXshLevelColumn</a> *levelColumn = column-&gt;getLevelColumn();</div>
<div class="line"><span class="lineno"> 1752</span>        <a class="code hl_class" href="class_t_xsh_mesh_column.html">TXshMeshColumn</a> *meshColumn   = column-&gt;getMeshColumn();</div>
<div class="line"><span class="lineno"> 1753</span>        <span class="keywordflow">if</span> ((levelColumn &amp;&amp; !levelColumn-&gt;isIconVisible()) ||</div>
<div class="line"><span class="lineno"> 1754</span>            (meshColumn &amp;&amp; !meshColumn-&gt;isIconVisible()) ||</div>
<div class="line"><span class="lineno"> 1755</span>            (zColumn &amp;&amp; !zColumn-&gt;isIconVisible()))</div>
<div class="line"><span class="lineno"> 1756</span>          <span class="keywordflow">return</span> QPixmap();</div>
<div class="line"><span class="lineno"> 1757</span>      }</div>
<div class="line"><span class="lineno"> 1758</span>    }</div>
<div class="line"><span class="lineno"> 1759</span>    QPixmap icon =</div>
<div class="line"><span class="lineno"> 1760</span>        zColumn ? FxIconPixmapManager::instance()-&gt;getFxIconPm(</div>
<div class="line"><span class="lineno"> 1761</span>                      zColumn-&gt;<a class="code hl_function" href="class_t_xsh_zerary_fx_column.html#ae19c0ca3303499293ebd643749b1fcc6">getZeraryColumnFx</a>()-&gt;getZeraryFx()-&gt;getFxType())</div>
<div class="line"><span class="lineno"> 1762</span>                : IconGenerator::instance()-&gt;getIcon(xl, cell.m_frameId, <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno"> 1763</span>                                                     onDemand);</div>
<div class="line"><span class="lineno"> 1764</span>    QRect thumbnailImageRect = o-&gt;rect(PredefinedRect::THUMBNAIL);</div>
<div class="line"><span class="lineno"> 1765</span>    <span class="keywordflow">if</span> (thumbnailImageRect.isEmpty()) <span class="keywordflow">return</span> QPixmap();</div>
<div class="line"><span class="lineno"> 1766</span>    <span class="keywordflow">return</span> scalePixmapKeepingAspectRatio(icon, thumbnailImageRect.size());</div>
<div class="line"><span class="lineno"> 1767</span>  }</div>
<div class="line"><span class="lineno"> 1768</span>}</div>
<div class="ttc" id="aclass_preferences_html_a2d5feb8ad93cc1336224f65f4bc0ff30ad4f8e44727dff0fd890c28a36b29f9a9"><div class="ttname"><a href="class_preferences.html#a2d5feb8ad93cc1336224f65f4bc0ff30ad4f8e44727dff0fd890c28a36b29f9a9">Preferences::LoadOnDemand</a></div><div class="ttdeci">@ LoadOnDemand</div><div class="ttdef"><b>Definition:</b> preferences.h:96</div></div>
<div class="ttc" id="aclass_t_xsh_level_column_html"><div class="ttname"><a href="class_t_xsh_level_column.html">TXshLevelColumn</a></div><div class="ttdef"><b>Definition:</b> txshlevelcolumn.h:37</div></div>
<div class="ttc" id="aclass_t_xsh_level_html"><div class="ttname"><a href="class_t_xsh_level.html">TXshLevel</a></div><div class="ttdoc">The TXshLevel class is the base class of level managers in xsheet.</div><div class="ttdef"><b>Definition:</b> txshlevel.h:50</div></div>
<div class="ttc" id="aclass_t_xsh_mesh_column_html"><div class="ttname"><a href="class_t_xsh_mesh_column.html">TXshMeshColumn</a></div><div class="ttdef"><b>Definition:</b> txshmeshcolumn.h:22</div></div>
<div class="ttc" id="aclass_t_xsh_zerary_fx_column_html"><div class="ttname"><a href="class_t_xsh_zerary_fx_column.html">TXshZeraryFxColumn</a></div><div class="ttdef"><b>Definition:</b> txshzeraryfxcolumn.h:35</div></div>
<div class="ttc" id="aclass_t_xsh_zerary_fx_column_html_ae19c0ca3303499293ebd643749b1fcc6"><div class="ttname"><a href="class_t_xsh_zerary_fx_column.html#ae19c0ca3303499293ebd643749b1fcc6">TXshZeraryFxColumn::getZeraryColumnFx</a></div><div class="ttdeci">TZeraryColumnFx * getZeraryColumnFx() const</div><div class="ttdef"><b>Definition:</b> txshzeraryfxcolumn.h:72</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a611401f8f499d1886c3ef85818f808" name="a2a611401f8f499d1886c3ef85818f808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a611401f8f499d1886c3ef85818f808">&#9670;&nbsp;</a></span>isControlPressed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool XsheetGUI::ColumnArea::isControlPressed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  680</span>{ <span class="keywordflow">return</span> isCtrlPressed; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a71050c40a68a9a92ee2c213e1f691223" name="a71050c40a68a9a92ee2c213e1f691223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71050c40a68a9a92ee2c213e1f691223">&#9670;&nbsp;</a></span>mouseDoubleClickEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::mouseDoubleClickEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2692</span>                                                         {</div>
<div class="line"><span class="lineno"> 2693</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a> *o = m_viewer-&gt;orientation();</div>
<div class="line"><span class="lineno"> 2694</span> </div>
<div class="line"><span class="lineno"> 2695</span>  QPoint pos = <span class="keyword">event</span>-&gt;pos();</div>
<div class="line"><span class="lineno"> 2696</span>  <span class="keywordtype">int</span> col    = m_viewer-&gt;xyToPosition(pos).layer();</div>
<div class="line"><span class="lineno"> 2697</span>  <a class="code hl_class" href="class_cell_position.html">CellPosition</a> cellPosition(0, col);</div>
<div class="line"><span class="lineno"> 2698</span>  QPoint topLeft     = m_viewer-&gt;positionToXY(cellPosition);</div>
<div class="line"><span class="lineno"> 2699</span>  QPoint mouseInCell = pos - topLeft;</div>
<div class="line"><span class="lineno"> 2700</span> </div>
<div class="line"><span class="lineno"> 2701</span>  QRect nameRect = o-&gt;rect((col &lt; 0) ? PredefinedRect::CAMERA_LAYER_NAME</div>
<div class="line"><span class="lineno"> 2702</span>                                     : PredefinedRect::LAYER_NAME);</div>
<div class="line"><span class="lineno"> 2703</span>  <span class="keywordflow">if</span> (!nameRect.contains(mouseInCell)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2704</span> </div>
<div class="line"><span class="lineno"> 2705</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 2706</span>  <span class="keywordflow">if</span> (col &gt;= 0 &amp;&amp; xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2707</span> </div>
<div class="line"><span class="lineno"> 2708</span>  QPoint fieldPos =</div>
<div class="line"><span class="lineno"> 2709</span>      (col &lt; 0 &amp;&amp; o-&gt;isVerticalTimeline()) ? nameRect.topLeft() : topLeft;</div>
<div class="line"><span class="lineno"> 2710</span>  QRect renameRect =</div>
<div class="line"><span class="lineno"> 2711</span>      o-&gt;rect(PredefinedRect::RENAME_COLUMN).translated(fieldPos);</div>
<div class="line"><span class="lineno"> 2712</span>  m_renameColumnField-&gt;show(renameRect, col);</div>
<div class="line"><span class="lineno"> 2713</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f6162b09b0288cd21548327fcd9b6cb" name="a1f6162b09b0288cd21548327fcd9b6cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f6162b09b0288cd21548327fcd9b6cb">&#9670;&nbsp;</a></span>mouseMoveEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::mouseMoveEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2444</span>                                                  {</div>
<div class="line"><span class="lineno"> 2445</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a> *o = m_viewer-&gt;orientation();</div>
<div class="line"><span class="lineno"> 2446</span> </div>
<div class="line"><span class="lineno"> 2447</span>  m_viewer-&gt;setQtModifiers(event-&gt;modifiers());</div>
<div class="line"><span class="lineno"> 2448</span>  QPoint pos = <span class="keyword">event</span>-&gt;pos();</div>
<div class="line"><span class="lineno"> 2449</span> </div>
<div class="line"><span class="lineno"> 2450</span>  <span class="keywordflow">if</span> (m_isPanning) {  <span class="comment">// Pan tasto centrale</span></div>
<div class="line"><span class="lineno"> 2451</span>    QPoint delta = m_pos - pos;</div>
<div class="line"><span class="lineno"> 2452</span>    <span class="keywordflow">if</span> (o-&gt;isVerticalTimeline())</div>
<div class="line"><span class="lineno"> 2453</span>      delta.setY(0);</div>
<div class="line"><span class="lineno"> 2454</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2455</span>      delta.setX(0);</div>
<div class="line"><span class="lineno"> 2456</span>    m_viewer-&gt;scroll(delta);</div>
<div class="line"><span class="lineno"> 2457</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2458</span>  }</div>
<div class="line"><span class="lineno"> 2459</span> </div>
<div class="line"><span class="lineno"> 2460</span>  <span class="keywordtype">int</span> col = m_viewer-&gt;xyToPosition(pos).layer();</div>
<div class="line"><span class="lineno"> 2461</span>  <span class="keywordflow">if</span> (col &lt; -1) col = 0;</div>
<div class="line"><span class="lineno"> 2462</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh       = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 2463</span>  <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col);</div>
<div class="line"><span class="lineno"> 2464</span>  QPoint mouseInCell = pos - m_viewer-&gt;positionToXY(<a class="code hl_class" href="class_cell_position.html">CellPosition</a>(0, col));</div>
<div class="line"><span class="lineno"> 2465</span>  <span class="keywordtype">int</span> x = mouseInCell.x(), y = mouseInCell.y();</div>
<div class="line"><span class="lineno"> 2466</span> </div>
<div class="line"><span class="lineno"> 2467</span><span class="preprocessor">#ifdef LINETEST</span></div>
<div class="line"><span class="lineno"> 2468</span>  <span class="comment">// Ensure that the menu of the motion path is hidden</span></div>
<div class="line"><span class="lineno"> 2469</span>  <span class="keywordflow">if</span> ((x - m_mtypeBox.left() &gt; 20 || y &lt; m_mtypeBox.y() ||</div>
<div class="line"><span class="lineno"> 2470</span>       y &gt; m_mtypeBox.bottom()) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2471</span>      !m_motionPathMenu-&gt;isHidden())</div>
<div class="line"><span class="lineno"> 2472</span>    m_motionPathMenu-&gt;hide();</div>
<div class="line"><span class="lineno"> 2473</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 2474</span>  <span class="keywordflow">if</span> ((event-&gt;buttons() &amp; Qt::LeftButton) != 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 2475</span>      !visibleRegion().contains(pos)) {</div>
<div class="line"><span class="lineno"> 2476</span>    QRect bounds = visibleRegion().boundingRect();</div>
<div class="line"><span class="lineno"> 2477</span>    <span class="keywordflow">if</span> (o-&gt;isVerticalTimeline())</div>
<div class="line"><span class="lineno"> 2478</span>      m_viewer-&gt;setAutoPanSpeed(bounds, QPoint(pos.x(), bounds.top()));</div>
<div class="line"><span class="lineno"> 2479</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2480</span>      m_viewer-&gt;setAutoPanSpeed(bounds, QPoint(bounds.left(), pos.y()));</div>
<div class="line"><span class="lineno"> 2481</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2482</span>    m_viewer-&gt;stopAutoPan();</div>
<div class="line"><span class="lineno"> 2483</span> </div>
<div class="line"><span class="lineno"> 2484</span>  m_pos = pos;</div>
<div class="line"><span class="lineno"> 2485</span> </div>
<div class="line"><span class="lineno"> 2486</span>  <span class="keywordflow">if</span> (event-&gt;buttons() &amp;&amp; getDragTool()) {</div>
<div class="line"><span class="lineno"> 2487</span>    m_viewer-&gt;dragToolDrag(event);</div>
<div class="line"><span class="lineno"> 2488</span>    update();</div>
<div class="line"><span class="lineno"> 2489</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2490</span>  }</div>
<div class="line"><span class="lineno"> 2491</span> </div>
<div class="line"><span class="lineno"> 2492</span>  <span class="comment">// Setto i toolTip</span></div>
<div class="line"><span class="lineno"> 2493</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> columnId = m_viewer-&gt;<a class="code hl_function" href="class_xsheet_viewer.html#acef259f8c33344981f8c218590bca5d9">getObjectId</a>(col);</div>
<div class="line"><span class="lineno"> 2494</span>  <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> parentId = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a0a27744ce52cae25ec261a853a554cd1">getStageObjectParent</a>(columnId);</div>
<div class="line"><span class="lineno"> 2495</span> </div>
<div class="line"><span class="lineno"> 2496</span>  <span class="keywordflow">if</span> (col &lt; 0)</div>
<div class="line"><span class="lineno"> 2497</span>    m_tooltip = tr(<span class="stringliteral">&quot;Click to select camera&quot;</span>);</div>
<div class="line"><span class="lineno"> 2498</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::DRAG_LAYER).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2499</span>    m_tooltip = tr(<span class="stringliteral">&quot;Click to select column, drag to move it&quot;</span>);</div>
<div class="line"><span class="lineno"> 2500</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::LAYER_NUMBER).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2501</span>    <span class="keywordflow">if</span> (o-&gt;isVerticalTimeline())</div>
<div class="line"><span class="lineno"> 2502</span>      m_tooltip = tr(<span class="stringliteral">&quot;Click to select column, drag to move it&quot;</span>);</div>
<div class="line"><span class="lineno"> 2503</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2504</span>      m_tooltip = tr(<span class="stringliteral">&quot;Click to select column&quot;</span>);</div>
<div class="line"><span class="lineno"> 2505</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::LAYER_NAME).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2506</span>    <span class="keywordflow">if</span> (o-&gt;isVerticalTimeline())</div>
<div class="line"><span class="lineno"> 2507</span>      m_tooltip =</div>
<div class="line"><span class="lineno"> 2508</span>          tr(<span class="stringliteral">&quot;Click to select column, drag to move it, double-click to edit&quot;</span>);</div>
<div class="line"><span class="lineno"> 2509</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (column &amp;&amp; column-&gt;getSoundColumn()) {</div>
<div class="line"><span class="lineno"> 2510</span>      <span class="comment">// sound column</span></div>
<div class="line"><span class="lineno"> 2511</span>      <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::SOUND_ICON).contains(mouseInCell))</div>
<div class="line"><span class="lineno"> 2512</span>        m_tooltip = tr(<span class="stringliteral">&quot;Click to play the soundtrack back&quot;</span>);</div>
<div class="line"><span class="lineno"> 2513</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!o-&gt;flag(PredefinedFlag::CONFIG_AREA_VISIBLE) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2514</span>               o-&gt;rect(PredefinedRect::VOLUME_AREA).contains(mouseInCell))</div>
<div class="line"><span class="lineno"> 2515</span>        m_tooltip = tr(<span class="stringliteral">&quot;Set the volume of the soundtrack&quot;</span>);</div>
<div class="line"><span class="lineno"> 2516</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2517</span>      m_tooltip = tr(<span class="stringliteral">&quot;Click to select column, double-click to edit&quot;</span>);</div>
<div class="line"><span class="lineno"> 2518</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::LOCK_AREA).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2519</span>    m_tooltip = tr(<span class="stringliteral">&quot;Lock Toggle&quot;</span>);</div>
<div class="line"><span class="lineno"> 2520</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::CONFIG_AREA).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2521</span>    m_tooltip = tr(<span class="stringliteral">&quot;Additional column settings&quot;</span>);</div>
<div class="line"><span class="lineno"> 2522</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::EYE_AREA).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2523</span>    m_tooltip = tr(<span class="stringliteral">&quot;Preview Visibility Toggle&quot;</span>);</div>
<div class="line"><span class="lineno"> 2524</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::PREVIEW_LAYER_AREA)</div>
<div class="line"><span class="lineno"> 2525</span>                 .contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2526</span>    m_tooltip = tr(<span class="stringliteral">&quot;Camera Stand Visibility Toggle&quot;</span>);</div>
<div class="line"><span class="lineno"> 2527</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::PARENT_HANDLE_NAME)</div>
<div class="line"><span class="lineno"> 2528</span>                 .contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2529</span>    m_tooltip = tr(<span class="stringliteral">&quot;Click to select parent handle&quot;</span>);</div>
<div class="line"><span class="lineno"> 2530</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::PEGBAR_NAME).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2531</span>    m_tooltip = tr(<span class="stringliteral">&quot;Click to select parent object&quot;</span>);</div>
<div class="line"><span class="lineno"> 2532</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2533</span>    <span class="keywordflow">if</span> (column &amp;&amp; column-&gt;getSoundColumn()) {</div>
<div class="line"><span class="lineno"> 2534</span>      <span class="comment">// sound column</span></div>
<div class="line"><span class="lineno"> 2535</span>      <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::SOUND_ICON).contains(mouseInCell))</div>
<div class="line"><span class="lineno"> 2536</span>        m_tooltip = tr(<span class="stringliteral">&quot;Click to play the soundtrack back&quot;</span>);</div>
<div class="line"><span class="lineno"> 2537</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!o-&gt;flag(PredefinedFlag::CONFIG_AREA_VISIBLE) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2538</span>               o-&gt;rect(PredefinedRect::VOLUME_AREA).contains(mouseInCell))</div>
<div class="line"><span class="lineno"> 2539</span>        m_tooltip = tr(<span class="stringliteral">&quot;Set the volume of the soundtrack&quot;</span>);</div>
<div class="line"><span class="lineno"> 2540</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Preferences::instance()-&gt;getColumnIconLoadingPolicy() ==</div>
<div class="line"><span class="lineno"> 2541</span>               <a class="code hl_enumvalue" href="class_preferences.html#a2d5feb8ad93cc1336224f65f4bc0ff30ad4f8e44727dff0fd890c28a36b29f9a9">Preferences::LoadOnDemand</a>)</div>
<div class="line"><span class="lineno"> 2542</span>      m_tooltip = tr(<span class="stringliteral">&quot;Alt + Click to Toggle Thumbnail&quot;</span>);</div>
<div class="line"><span class="lineno"> 2543</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2544</span>      m_tooltip = tr(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 2545</span>  }</div>
<div class="line"><span class="lineno"> 2546</span>  update();</div>
<div class="line"><span class="lineno"> 2547</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a26a7b52dbce0d85949faf680fbd02282" name="a26a7b52dbce0d85949faf680fbd02282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26a7b52dbce0d85949faf680fbd02282">&#9670;&nbsp;</a></span>mousePressEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::mousePressEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2229</span>                                                   {</div>
<div class="line"><span class="lineno"> 2230</span>  <span class="keyword">const</span> <a class="code hl_class" href="class_orientation.html">Orientation</a> *o = m_viewer-&gt;orientation();</div>
<div class="line"><span class="lineno"> 2231</span> </div>
<div class="line"><span class="lineno"> 2232</span>  m_doOnRelease = 0;</div>
<div class="line"><span class="lineno"> 2233</span>  m_viewer-&gt;setQtModifiers(event-&gt;modifiers());</div>
<div class="line"><span class="lineno"> 2234</span>  assert(getDragTool() == 0);</div>
<div class="line"><span class="lineno"> 2235</span> </div>
<div class="line"><span class="lineno"> 2236</span>  m_col = -1;  <span class="comment">// new in 6.4</span></div>
<div class="line"><span class="lineno"> 2237</span> </div>
<div class="line"><span class="lineno"> 2238</span>  <span class="comment">// both left and right click can change the selection</span></div>
<div class="line"><span class="lineno"> 2239</span>  <span class="keywordflow">if</span> (event-&gt;button() == Qt::LeftButton || event-&gt;button() == Qt::RightButton) {</div>
<div class="line"><span class="lineno"> 2240</span>    <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh   = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 2241</span>    <a class="code hl_class" href="class_column_fan.html">ColumnFan</a> *fan = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3c7f0358ee5d555df82ae864af8584d0">getColumnFan</a>(o);</div>
<div class="line"><span class="lineno"> 2242</span>    m_col          = m_viewer-&gt;xyToPosition(event-&gt;pos()).layer();</div>
<div class="line"><span class="lineno"> 2243</span>    <span class="comment">// when clicking the column fan</span></div>
<div class="line"><span class="lineno"> 2244</span>    <span class="keywordflow">if</span> (!fan-&gt;<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(m_col))  <span class="comment">// column Fan</span></div>
<div class="line"><span class="lineno"> 2245</span>    {</div>
<div class="line"><span class="lineno"> 2246</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> o : Orientations::all()) {</div>
<div class="line"><span class="lineno"> 2247</span>        fan = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3c7f0358ee5d555df82ae864af8584d0">getColumnFan</a>(o);</div>
<div class="line"><span class="lineno"> 2248</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = m_col; !fan-&gt;<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(i); i--) fan-&gt;<a class="code hl_function" href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">activate</a>(i);</div>
<div class="line"><span class="lineno"> 2249</span>      }</div>
<div class="line"><span class="lineno"> 2250</span> </div>
<div class="line"><span class="lineno"> 2251</span>      <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;setDirtyFlag(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2252</span>      <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;notifyXsheetChanged();</div>
<div class="line"><span class="lineno"> 2253</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2254</span>    }</div>
<div class="line"><span class="lineno"> 2255</span>    <span class="comment">// set the clicked column to current</span></div>
<div class="line"><span class="lineno"> 2256</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2257</span>      m_viewer-&gt;setCurrentColumn(m_col);</div>
<div class="line"><span class="lineno"> 2258</span> </div>
<div class="line"><span class="lineno"> 2259</span>    <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(m_col);</div>
<div class="line"><span class="lineno"> 2260</span>    <span class="keywordtype">bool</span> isEmpty       = !column || column-&gt;isEmpty();</div>
<div class="line"><span class="lineno"> 2261</span>    <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a0d91c122eec2b756b7c4780014e49f9e">getCurrentObject</a>()-&gt;setIsSpline(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2262</span> </div>
<div class="line"><span class="lineno"> 2263</span>    <span class="comment">// get mouse position</span></div>
<div class="line"><span class="lineno"> 2264</span>    QPoint mouseInCell =</div>
<div class="line"><span class="lineno"> 2265</span>        <span class="keyword">event</span>-&gt;pos() - m_viewer-&gt;positionToXY(<a class="code hl_class" href="class_cell_position.html">CellPosition</a>(0, m_col));</div>
<div class="line"><span class="lineno"> 2266</span>    <span class="comment">// int x = event-&gt;pos().x() - m_viewer-&gt;columnToX(m_col);</span></div>
<div class="line"><span class="lineno"> 2267</span>    <span class="comment">// int y = event-&gt;pos().y();</span></div>
<div class="line"><span class="lineno"> 2268</span>    <span class="comment">// QPoint mouseInCell(x, y);</span></div>
<div class="line"><span class="lineno"> 2269</span>    <span class="keywordtype">int</span> x = mouseInCell.x(), y = mouseInCell.y();</div>
<div class="line"><span class="lineno"> 2270</span> </div>
<div class="line"><span class="lineno"> 2271</span>    <span class="comment">// clicking on the camera column</span></div>
<div class="line"><span class="lineno"> 2272</span>    <span class="keywordflow">if</span> (m_col &lt; 0) {</div>
<div class="line"><span class="lineno"> 2273</span>      <span class="comment">// lock button</span></div>
<div class="line"><span class="lineno"> 2274</span>      <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::CAMERA_LOCK_AREA).contains(mouseInCell) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2275</span>          event-&gt;button() == Qt::LeftButton)</div>
<div class="line"><span class="lineno"> 2276</span>        m_doOnRelease = isCtrlPressed ? ToggleAllLock : ToggleLock;</div>
<div class="line"><span class="lineno"> 2277</span>      <span class="comment">// config button</span></div>
<div class="line"><span class="lineno"> 2278</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::CAMERA_CONFIG_AREA)</div>
<div class="line"><span class="lineno"> 2279</span>                   .contains(mouseInCell) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2280</span>               event-&gt;button() == Qt::LeftButton)</div>
<div class="line"><span class="lineno"> 2281</span>        m_doOnRelease = OpenSettings;</div>
<div class="line"><span class="lineno"> 2282</span>      <span class="comment">// clicking another area means column selection</span></div>
<div class="line"><span class="lineno"> 2283</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2284</span>        <span class="keywordflow">if</span> (m_viewer-&gt;getColumnSelection()-&gt;isColumnSelected(m_col) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2285</span>            event-&gt;button() == Qt::RightButton)</div>
<div class="line"><span class="lineno"> 2286</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2287</span>        setDragTool(XsheetGUI::DragTool::makeColumnSelectionTool(m_viewer));</div>
<div class="line"><span class="lineno"> 2288</span>      }</div>
<div class="line"><span class="lineno"> 2289</span>    }</div>
<div class="line"><span class="lineno"> 2290</span>    <span class="comment">// clicking on the normal columns</span></div>
<div class="line"><span class="lineno"> 2291</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isEmpty) {</div>
<div class="line"><span class="lineno"> 2292</span>      <span class="comment">// grabbing the left side of the column enables column move</span></div>
<div class="line"><span class="lineno"> 2293</span>      <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::DRAG_LAYER).contains(mouseInCell) ||</div>
<div class="line"><span class="lineno"> 2294</span>          (!o-&gt;flag(PredefinedFlag::DRAG_LAYER_VISIBLE)  <span class="comment">// If dragbar hidden,</span></div>
<div class="line"><span class="lineno"> 2295</span>                                                         <span class="comment">// layer name/number</span></div>
<div class="line"><span class="lineno"> 2296</span>                                                         <span class="comment">// becomes dragbar</span></div>
<div class="line"><span class="lineno"> 2297</span>           &amp;&amp; (o-&gt;rect(PredefinedRect::LAYER_NUMBER).contains(mouseInCell) ||</div>
<div class="line"><span class="lineno"> 2298</span>               o-&gt;rect(PredefinedRect::LAYER_NAME).contains(mouseInCell)))) {</div>
<div class="line"><span class="lineno"> 2299</span>        setDragTool(XsheetGUI::DragTool::makeColumnMoveTool(m_viewer));</div>
<div class="line"><span class="lineno"> 2300</span>      }</div>
<div class="line"><span class="lineno"> 2301</span>      <span class="comment">// lock button</span></div>
<div class="line"><span class="lineno"> 2302</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::LOCK_AREA).contains(mouseInCell) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2303</span>               event-&gt;button() == Qt::LeftButton) {</div>
<div class="line"><span class="lineno"> 2304</span>        m_doOnRelease = isCtrlPressed ? ToggleAllLock : ToggleLock;</div>
<div class="line"><span class="lineno"> 2305</span>      }</div>
<div class="line"><span class="lineno"> 2306</span>      <span class="comment">// preview button</span></div>
<div class="line"><span class="lineno"> 2307</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::EYE_AREA).contains(mouseInCell) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2308</span>               event-&gt;button() == Qt::LeftButton) {</div>
<div class="line"><span class="lineno"> 2309</span>        <span class="keywordflow">if</span> (column-&gt;getSoundTextColumn()) {</div>
<div class="line"><span class="lineno"> 2310</span>          <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 2311</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2312</span>          m_doOnRelease =</div>
<div class="line"><span class="lineno"> 2313</span>              isCtrlPressed ? ToggleAllPreviewVisible : TogglePreviewVisible;</div>
<div class="line"><span class="lineno"> 2314</span>          <span class="keywordflow">if</span> (column-&gt;getSoundColumn())</div>
<div class="line"><span class="lineno"> 2315</span>            <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;notifyXsheetSoundChanged();</div>
<div class="line"><span class="lineno"> 2316</span>        }</div>
<div class="line"><span class="lineno"> 2317</span>      }</div>
<div class="line"><span class="lineno"> 2318</span>      <span class="comment">// camstand button</span></div>
<div class="line"><span class="lineno"> 2319</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::PREVIEW_LAYER_AREA)</div>
<div class="line"><span class="lineno"> 2320</span>                   .contains(mouseInCell) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2321</span>               event-&gt;button() == Qt::LeftButton) {</div>
<div class="line"><span class="lineno"> 2322</span>        <span class="keywordflow">if</span> (column-&gt;getPaletteColumn() || column-&gt;getSoundTextColumn()) {</div>
<div class="line"><span class="lineno"> 2323</span>          <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 2324</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2325</span>          m_doOnRelease =</div>
<div class="line"><span class="lineno"> 2326</span>              isCtrlPressed ? ToggleAllTransparency : ToggleTransparency;</div>
<div class="line"><span class="lineno"> 2327</span>          <span class="keywordflow">if</span> (!o-&gt;flag(PredefinedFlag::CONFIG_AREA_VISIBLE) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2328</span>              !column-&gt;getSoundColumn())</div>
<div class="line"><span class="lineno"> 2329</span>            startTransparencyPopupTimer(event);</div>
<div class="line"><span class="lineno"> 2330</span>        }</div>
<div class="line"><span class="lineno"> 2331</span>      }</div>
<div class="line"><span class="lineno"> 2332</span>      <span class="comment">// config button</span></div>
<div class="line"><span class="lineno"> 2333</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::CONFIG_AREA).contains(mouseInCell) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2334</span>               event-&gt;button() == Qt::LeftButton) {</div>
<div class="line"><span class="lineno"> 2335</span>        <a class="code hl_class" href="class_t_xsh_zerary_fx_column.html">TXshZeraryFxColumn</a> *zColumn =</div>
<div class="line"><span class="lineno"> 2336</span>            <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_t_xsh_zerary_fx_column.html">TXshZeraryFxColumn</a> *<span class="keyword">&gt;</span>(column);</div>
<div class="line"><span class="lineno"> 2337</span> </div>
<div class="line"><span class="lineno"> 2338</span>        <span class="keywordflow">if</span> (column &amp;&amp; (zColumn || column-&gt;getPaletteColumn() ||</div>
<div class="line"><span class="lineno"> 2339</span>                       column-&gt;getSoundTextColumn())) {</div>
<div class="line"><span class="lineno"> 2340</span>          <span class="comment">// do nothing</span></div>
<div class="line"><span class="lineno"> 2341</span>        } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2342</span>          m_doOnRelease = OpenSettings;</div>
<div class="line"><span class="lineno"> 2343</span>      }</div>
<div class="line"><span class="lineno"> 2344</span>      <span class="comment">// sound column</span></div>
<div class="line"><span class="lineno"> 2345</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (column &amp;&amp; column-&gt;getSoundColumn()) {</div>
<div class="line"><span class="lineno"> 2346</span>        <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::SOUND_ICON).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2347</span>          <a class="code hl_class" href="class_t_xsh_sound_column.html">TXshSoundColumn</a> *s = column-&gt;getSoundColumn();</div>
<div class="line"><span class="lineno"> 2348</span>          <span class="keywordflow">if</span> (s) {</div>
<div class="line"><span class="lineno"> 2349</span>            <span class="keywordflow">if</span> (s-&gt;isPlaying())</div>
<div class="line"><span class="lineno"> 2350</span>              s-&gt;stop();</div>
<div class="line"><span class="lineno"> 2351</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2352</span>              s-&gt;<a class="code hl_function" href="class_t_xsh_sound_column.html#acc1552030b74e782b389ec41c66b4d3c">play</a>();</div>
<div class="line"><span class="lineno"> 2353</span>              <span class="keywordflow">if</span> (!s-&gt;isPlaying())</div>
<div class="line"><span class="lineno"> 2354</span>                s-&gt;stop();  <span class="comment">// Serve per vista, quando le casse non sono</span></div>
<div class="line"><span class="lineno"> 2355</span>                            <span class="comment">// attaccate</span></div>
<div class="line"><span class="lineno"> 2356</span>            }</div>
<div class="line"><span class="lineno"> 2357</span>            <span class="keywordtype">int</span> interval = 0;</div>
<div class="line"><span class="lineno"> 2358</span>            <span class="keywordflow">if</span> (s-&gt;isPlaying()) {</div>
<div class="line"><span class="lineno"> 2359</span>              <a class="code hl_class" href="class_t_smart_pointer_t.html">TSoundTrackP</a> sTrack = s-&gt;getCurrentPlaySoundTruck();</div>
<div class="line"><span class="lineno"> 2360</span>              interval            = sTrack-&gt;<a class="code hl_function" href="class_t_sound_track.html#a7a09c7776f30d818264d38b0eb48bdcd">getDuration</a>() * 1000 + 300;</div>
<div class="line"><span class="lineno"> 2361</span>            }</div>
<div class="line"><span class="lineno"> 2362</span>            <span class="keywordflow">if</span> (s-&gt;isPlaying() &amp;&amp; interval &gt; 0) {</div>
<div class="line"><span class="lineno"> 2363</span>              QTimer::singleShot(interval, <span class="keyword">this</span>, [<span class="keyword">this</span>, s] {</div>
<div class="line"><span class="lineno"> 2364</span>                <span class="keywordflow">if</span> (s &amp;&amp; s-&gt;isPlaying()) s-&gt;stop();</div>
<div class="line"><span class="lineno"> 2365</span>                update();</div>
<div class="line"><span class="lineno"> 2366</span>              });</div>
<div class="line"><span class="lineno"> 2367</span>            }</div>
<div class="line"><span class="lineno"> 2368</span>          }</div>
<div class="line"><span class="lineno"> 2369</span>          update();</div>
<div class="line"><span class="lineno"> 2370</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!o-&gt;flag(PredefinedFlag::CONFIG_AREA_VISIBLE) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2371</span>                   o-&gt;rect(PredefinedRect::VOLUME_AREA).contains(mouseInCell))</div>
<div class="line"><span class="lineno"> 2372</span>          setDragTool(XsheetGUI::DragTool::makeVolumeDragTool(m_viewer));</div>
<div class="line"><span class="lineno"> 2373</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2374</span>          setDragTool(XsheetGUI::DragTool::makeColumnSelectionTool(m_viewer));</div>
<div class="line"><span class="lineno"> 2375</span>      }</div>
<div class="line"><span class="lineno"> 2376</span>      <span class="comment">// clicking another area means column selection</span></div>
<div class="line"><span class="lineno"> 2377</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2378</span>        <span class="keywordflow">if</span> (m_viewer-&gt;getColumnSelection()-&gt;isColumnSelected(m_col) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2379</span>            event-&gt;button() == Qt::RightButton)</div>
<div class="line"><span class="lineno"> 2380</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2381</span> </div>
<div class="line"><span class="lineno"> 2382</span>        <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::PEGBAR_NAME)</div>
<div class="line"><span class="lineno"> 2383</span>                .adjusted(0, 0, -20, 0)</div>
<div class="line"><span class="lineno"> 2384</span>                .contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2385</span>          m_changeObjectParent-&gt;refresh();</div>
<div class="line"><span class="lineno"> 2386</span>          m_changeObjectParent-&gt;show(</div>
<div class="line"><span class="lineno"> 2387</span>              QPoint(o-&gt;rect(PredefinedRect::PARENT_HANDLE_NAME).bottomLeft() +</div>
<div class="line"><span class="lineno"> 2388</span>                     m_viewer-&gt;positionToXY(<a class="code hl_class" href="class_cell_position.html">CellPosition</a>(0, m_col)) +</div>
<div class="line"><span class="lineno"> 2389</span>                     QPoint(o-&gt;rect(PredefinedRect::CAMERA_CELL).width(), 4)));</div>
<div class="line"><span class="lineno"> 2390</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2391</span>        }</div>
<div class="line"><span class="lineno"> 2392</span>        <span class="keywordflow">if</span> (o-&gt;rect(PredefinedRect::PARENT_HANDLE_NAME).contains(mouseInCell)) {</div>
<div class="line"><span class="lineno"> 2393</span>          m_changeObjectHandle-&gt;refresh();</div>
<div class="line"><span class="lineno"> 2394</span>          m_changeObjectHandle-&gt;show(</div>
<div class="line"><span class="lineno"> 2395</span>              QPoint(o-&gt;rect(PredefinedRect::PARENT_HANDLE_NAME).bottomLeft() +</div>
<div class="line"><span class="lineno"> 2396</span>                     m_viewer-&gt;positionToXY(<a class="code hl_class" href="class_cell_position.html">CellPosition</a>(0, m_col + 1)) +</div>
<div class="line"><span class="lineno"> 2397</span>                     QPoint(2, 0)));</div>
<div class="line"><span class="lineno"> 2398</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2399</span>        }</div>
<div class="line"><span class="lineno"> 2400</span> </div>
<div class="line"><span class="lineno"> 2401</span>        setDragTool(XsheetGUI::DragTool::makeColumnSelectionTool(m_viewer));</div>
<div class="line"><span class="lineno"> 2402</span> </div>
<div class="line"><span class="lineno"> 2403</span>        <span class="keywordflow">if</span> (column) {</div>
<div class="line"><span class="lineno"> 2404</span>          <span class="comment">// toggle columnIcon visibility with alt+click</span></div>
<div class="line"><span class="lineno"> 2405</span>          <a class="code hl_class" href="class_t_xsh_level_column.html">TXshLevelColumn</a> *levelColumn = column-&gt;getLevelColumn();</div>
<div class="line"><span class="lineno"> 2406</span>          <a class="code hl_class" href="class_t_xsh_mesh_column.html">TXshMeshColumn</a> *meshColumn   = column-&gt;getMeshColumn();</div>
<div class="line"><span class="lineno"> 2407</span>          <a class="code hl_class" href="class_t_xsh_zerary_fx_column.html">TXshZeraryFxColumn</a> *zColumn =</div>
<div class="line"><span class="lineno"> 2408</span>              <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_t_xsh_zerary_fx_column.html">TXshZeraryFxColumn</a> *<span class="keyword">&gt;</span>(column);</div>
<div class="line"><span class="lineno"> 2409</span>          <span class="keywordflow">if</span> (Preferences::instance()-&gt;getColumnIconLoadingPolicy() ==</div>
<div class="line"><span class="lineno"> 2410</span>                  <a class="code hl_enumvalue" href="class_preferences.html#a2d5feb8ad93cc1336224f65f4bc0ff30ad4f8e44727dff0fd890c28a36b29f9a9">Preferences::LoadOnDemand</a> &amp;&amp;</div>
<div class="line"><span class="lineno"> 2411</span>              (<span class="keyword">event</span>-&gt;modifiers() &amp; Qt::AltModifier)) {</div>
<div class="line"><span class="lineno"> 2412</span>            <span class="keywordflow">if</span> (levelColumn)</div>
<div class="line"><span class="lineno"> 2413</span>              levelColumn-&gt;setIconVisible(!levelColumn-&gt;isIconVisible());</div>
<div class="line"><span class="lineno"> 2414</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (meshColumn)</div>
<div class="line"><span class="lineno"> 2415</span>              meshColumn-&gt;setIconVisible(!meshColumn-&gt;isIconVisible());</div>
<div class="line"><span class="lineno"> 2416</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (zColumn)</div>
<div class="line"><span class="lineno"> 2417</span>              zColumn-&gt;setIconVisible(!zColumn-&gt;isIconVisible());</div>
<div class="line"><span class="lineno"> 2418</span>          }</div>
<div class="line"><span class="lineno"> 2419</span>        }</div>
<div class="line"><span class="lineno"> 2420</span>      }</div>
<div class="line"><span class="lineno"> 2421</span>      <span class="comment">// update the current fx when zerary fx column is clicked</span></div>
<div class="line"><span class="lineno"> 2422</span>      <span class="keywordflow">if</span> (column &amp;&amp; column-&gt;getZeraryFxColumn()) {</div>
<div class="line"><span class="lineno"> 2423</span>        <a class="code hl_class" href="class_t_fx.html">TFx</a> *fx = column-&gt;getZeraryFxColumn()-&gt;getZeraryColumnFx();</div>
<div class="line"><span class="lineno"> 2424</span>        <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a1d1d4b484617e7a938040554beca6282">getCurrentFx</a>()-&gt;setFx(fx);</div>
<div class="line"><span class="lineno"> 2425</span>      }</div>
<div class="line"><span class="lineno"> 2426</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2427</span>      <span class="keywordflow">if</span> (m_viewer-&gt;getColumnSelection()-&gt;isColumnSelected(m_col) &amp;&amp;</div>
<div class="line"><span class="lineno"> 2428</span>          event-&gt;button() == Qt::RightButton)</div>
<div class="line"><span class="lineno"> 2429</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2430</span>      setDragTool(XsheetGUI::DragTool::makeColumnSelectionTool(m_viewer));</div>
<div class="line"><span class="lineno"> 2431</span>    }</div>
<div class="line"><span class="lineno"> 2432</span> </div>
<div class="line"><span class="lineno"> 2433</span>    m_viewer-&gt;dragToolClick(event);</div>
<div class="line"><span class="lineno"> 2434</span>    update();</div>
<div class="line"><span class="lineno"> 2435</span> </div>
<div class="line"><span class="lineno"> 2436</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (event-&gt;button() == Qt::MidButton) {</div>
<div class="line"><span class="lineno"> 2437</span>    m_pos       = <span class="keyword">event</span>-&gt;pos();</div>
<div class="line"><span class="lineno"> 2438</span>    m_isPanning = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2439</span>  }</div>
<div class="line"><span class="lineno"> 2440</span>}</div>
<div class="ttc" id="aclass_column_fan_html"><div class="ttname"><a href="class_column_fan.html">ColumnFan</a></div><div class="ttdoc">The ColumnFan class is used to menage display columns.</div><div class="ttdef"><b>Definition:</b> columnfan.h:34</div></div>
<div class="ttc" id="aclass_column_fan_html_a7aff0a530b4c36d3de13d3db2b04b074"><div class="ttname"><a href="class_column_fan.html#a7aff0a530b4c36d3de13d3db2b04b074">ColumnFan::activate</a></div><div class="ttdeci">void activate(int col)</div><div class="ttdef"><b>Definition:</b> columnfan.cpp:99</div></div>
<div class="ttc" id="aclass_column_fan_html_abf77607d6d35905a31c9a4640dc0c0ef"><div class="ttname"><a href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">ColumnFan::isActive</a></div><div class="ttdeci">bool isActive(int col) const</div><div class="ttdef"><b>Definition:</b> columnfan.cpp:133</div></div>
<div class="ttc" id="aclass_t_app_html_a1d1d4b484617e7a938040554beca6282"><div class="ttname"><a href="class_t_app.html#a1d1d4b484617e7a938040554beca6282">TApp::getCurrentFx</a></div><div class="ttdeci">TFxHandle * getCurrentFx() const override</div><div class="ttdef"><b>Definition:</b> tapp.h:146</div></div>
<div class="ttc" id="aclass_t_fx_html"><div class="ttname"><a href="class_t_fx.html">TFx</a></div><div class="ttdef"><b>Definition:</b> tfx.h:352</div></div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TSoundTrack &gt;</a></div></div>
<div class="ttc" id="aclass_t_sound_track_html_a7a09c7776f30d818264d38b0eb48bdcd"><div class="ttname"><a href="class_t_sound_track.html#a7a09c7776f30d818264d38b0eb48bdcd">TSoundTrack::getDuration</a></div><div class="ttdeci">double getDuration() const</div><div class="ttdoc">Returns the duration of the soundtrack in seconds.</div><div class="ttdef"><b>Definition:</b> tsound.cpp:244</div></div>
<div class="ttc" id="aclass_t_xsh_sound_column_html_acc1552030b74e782b389ec41c66b4d3c"><div class="ttname"><a href="class_t_xsh_sound_column.html#acc1552030b74e782b389ec41c66b4d3c">TXshSoundColumn::play</a></div><div class="ttdeci">void play(TSoundTrackP soundtrack, int s0, int s1, bool loop)</div><div class="ttdoc">s0 and s1 are samples</div><div class="ttdef"><b>Definition:</b> txshsoundcolumn.cpp:765</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a3c7f0358ee5d555df82ae864af8584d0"><div class="ttname"><a href="class_t_xsheet.html#a3c7f0358ee5d555df82ae864af8584d0">TXsheet::getColumnFan</a></div><div class="ttdeci">ColumnFan * getColumnFan(const Orientation *o) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:1568</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abe0e997a70328a9ce5526e130e4e1810" name="abe0e997a70328a9ce5526e130e4e1810"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe0e997a70328a9ce5526e130e4e1810">&#9670;&nbsp;</a></span>mouseReleaseEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::mouseReleaseEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2563</span>                                                     {</div>
<div class="line"><span class="lineno"> 2564</span>  <a class="code hl_class" href="class_t_app.html">TApp</a> *app    = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>();</div>
<div class="line"><span class="lineno"> 2565</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 2566</span>  <span class="keywordtype">int</span> col, totcols = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a17464dc5617cf87a46f03e1a52d36cc1">getColumnCount</a>();</div>
<div class="line"><span class="lineno"> 2567</span>  <span class="keywordflow">if</span> (m_doOnRelease != 0) {</div>
<div class="line"><span class="lineno"> 2568</span>    <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(m_col);</div>
<div class="line"><span class="lineno"> 2569</span>    <span class="keywordflow">if</span> (m_doOnRelease == ToggleTransparency) {</div>
<div class="line"><span class="lineno"> 2570</span>      column-&gt;setCamstandVisible(!column-&gt;isCamstandVisible());</div>
<div class="line"><span class="lineno"> 2571</span>      <span class="keywordflow">if</span> (column-&gt;getSoundColumn())</div>
<div class="line"><span class="lineno"> 2572</span>        app-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;notifyXsheetSoundChanged();</div>
<div class="line"><span class="lineno"> 2573</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_doOnRelease == TogglePreviewVisible)</div>
<div class="line"><span class="lineno"> 2574</span>      column-&gt;setPreviewVisible(!column-&gt;isPreviewVisible());</div>
<div class="line"><span class="lineno"> 2575</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_doOnRelease == ToggleLock)</div>
<div class="line"><span class="lineno"> 2576</span>      column-&gt;lock(!column-&gt;isLocked());</div>
<div class="line"><span class="lineno"> 2577</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_doOnRelease == OpenSettings) {</div>
<div class="line"><span class="lineno"> 2578</span>      QPoint pos = <span class="keyword">event</span>-&gt;pos();</div>
<div class="line"><span class="lineno"> 2579</span>      <span class="keywordtype">int</span> col    = m_viewer-&gt;xyToPosition(pos).layer();</div>
<div class="line"><span class="lineno"> 2580</span>      <span class="comment">// Align popup to be below to CONFIG button</span></div>
<div class="line"><span class="lineno"> 2581</span>      QRect configRect = m_viewer-&gt;orientation()-&gt;rect(</div>
<div class="line"><span class="lineno"> 2582</span>          (col &lt; 0) ? PredefinedRect::CAMERA_CONFIG_AREA</div>
<div class="line"><span class="lineno"> 2583</span>                    : PredefinedRect::CONFIG_AREA);</div>
<div class="line"><span class="lineno"> 2584</span>      <a class="code hl_class" href="class_cell_position.html">CellPosition</a> cellPosition(0, col);</div>
<div class="line"><span class="lineno"> 2585</span>      QPoint topLeft     = m_viewer-&gt;positionToXY(cellPosition);</div>
<div class="line"><span class="lineno"> 2586</span>      QPoint mouseInCell = pos - topLeft;</div>
<div class="line"><span class="lineno"> 2587</span>      <span class="keywordtype">int</span> x              = configRect.left() - mouseInCell.x() +</div>
<div class="line"><span class="lineno"> 2588</span>              1;  <span class="comment">// distance from right edge of CONFIG button</span></div>
<div class="line"><span class="lineno"> 2589</span>      <span class="keywordtype">int</span> y =</div>
<div class="line"><span class="lineno"> 2590</span>          mouseInCell.y() -</div>
<div class="line"><span class="lineno"> 2591</span>          configRect.bottom();  <span class="comment">// distance from bottum edge of CONFIG button</span></div>
<div class="line"><span class="lineno"> 2592</span> </div>
<div class="line"><span class="lineno"> 2593</span>      <span class="keywordflow">if</span> (col &lt; 0) {</div>
<div class="line"><span class="lineno"> 2594</span>        openCameraColumnPopup(</div>
<div class="line"><span class="lineno"> 2595</span>            QPoint(event-&gt;globalPos().x() + x, event-&gt;globalPos().y() - y));</div>
<div class="line"><span class="lineno"> 2596</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (column-&gt;getSoundColumn()) {</div>
<div class="line"><span class="lineno"> 2597</span>        <span class="keywordflow">if</span> (!m_soundColumnPopup)</div>
<div class="line"><span class="lineno"> 2598</span>          m_soundColumnPopup = <span class="keyword">new</span> SoundColumnPopup(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2599</span> </div>
<div class="line"><span class="lineno"> 2600</span>        m_soundColumnPopup-&gt;move(event-&gt;globalPos().x() + x,</div>
<div class="line"><span class="lineno"> 2601</span>                                 event-&gt;globalPos().y() - y);</div>
<div class="line"><span class="lineno"> 2602</span> </div>
<div class="line"><span class="lineno"> 2603</span>        openSoundColumnPopup();</div>
<div class="line"><span class="lineno"> 2604</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2605</span>        <span class="keywordflow">if</span> (!m_columnTransparencyPopup)</div>
<div class="line"><span class="lineno"> 2606</span>          m_columnTransparencyPopup =</div>
<div class="line"><span class="lineno"> 2607</span>              <span class="keyword">new</span> ColumnTransparencyPopup(m_viewer, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2608</span> </div>
<div class="line"><span class="lineno"> 2609</span>        m_columnTransparencyPopup-&gt;move(event-&gt;globalPos().x() + x,</div>
<div class="line"><span class="lineno"> 2610</span>                                        event-&gt;globalPos().y() - y);</div>
<div class="line"><span class="lineno"> 2611</span> </div>
<div class="line"><span class="lineno"> 2612</span>        <span class="comment">// make sure the popup doesn&#39;t go off the screen to the right</span></div>
<div class="line"><span class="lineno"> 2613</span>        QDesktopWidget *desktop = qApp-&gt;desktop();</div>
<div class="line"><span class="lineno"> 2614</span>        QRect screenRect        = desktop-&gt;screenGeometry(app-&gt;<a class="code hl_function" href="class_t_app.html#aa229713538a33215a03db85064ef4012">getMainWindow</a>());</div>
<div class="line"><span class="lineno"> 2615</span> </div>
<div class="line"><span class="lineno"> 2616</span>        <span class="keywordtype">int</span> popupLeft  = <span class="keyword">event</span>-&gt;globalPos().x() + x;</div>
<div class="line"><span class="lineno"> 2617</span>        <span class="keywordtype">int</span> popupRight = popupLeft + m_columnTransparencyPopup-&gt;width();</div>
<div class="line"><span class="lineno"> 2618</span> </div>
<div class="line"><span class="lineno"> 2619</span>        <span class="comment">// first condition checks if popup is on same monitor as main app;</span></div>
<div class="line"><span class="lineno"> 2620</span>        <span class="comment">// if popup is on different monitor, leave as is</span></div>
<div class="line"><span class="lineno"> 2621</span>        <span class="keywordflow">if</span> (popupLeft &lt; screenRect.right() &amp;&amp; popupRight &gt; screenRect.right()) {</div>
<div class="line"><span class="lineno"> 2622</span>          <span class="keywordtype">int</span> distance = popupRight - screenRect.right();</div>
<div class="line"><span class="lineno"> 2623</span>          m_columnTransparencyPopup-&gt;move(</div>
<div class="line"><span class="lineno"> 2624</span>              m_columnTransparencyPopup-&gt;x() - distance,</div>
<div class="line"><span class="lineno"> 2625</span>              m_columnTransparencyPopup-&gt;y());</div>
<div class="line"><span class="lineno"> 2626</span>        }</div>
<div class="line"><span class="lineno"> 2627</span> </div>
<div class="line"><span class="lineno"> 2628</span>        openTransparencyPopup();</div>
<div class="line"><span class="lineno"> 2629</span>      }</div>
<div class="line"><span class="lineno"> 2630</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_doOnRelease == ToggleAllPreviewVisible) {</div>
<div class="line"><span class="lineno"> 2631</span>      <span class="keywordflow">for</span> (col = 0; col &lt; totcols; col++) {</div>
<div class="line"><span class="lineno"> 2632</span>        <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col);</div>
<div class="line"><span class="lineno"> 2633</span>        <span class="keywordflow">if</span> (!xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col) &amp;&amp; !column-&gt;getPaletteColumn() &amp;&amp;</div>
<div class="line"><span class="lineno"> 2634</span>            !column-&gt;getSoundTextColumn()) {</div>
<div class="line"><span class="lineno"> 2635</span>          column-&gt;setPreviewVisible(!column-&gt;isPreviewVisible());</div>
<div class="line"><span class="lineno"> 2636</span>        }</div>
<div class="line"><span class="lineno"> 2637</span>      }</div>
<div class="line"><span class="lineno"> 2638</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_doOnRelease == ToggleAllTransparency) {</div>
<div class="line"><span class="lineno"> 2639</span>      <span class="keywordtype">bool</span> sound_changed = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2640</span>      <span class="keywordflow">for</span> (col = 0; col &lt; totcols; col++) {</div>
<div class="line"><span class="lineno"> 2641</span>        <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col);</div>
<div class="line"><span class="lineno"> 2642</span>        <span class="keywordflow">if</span> (!xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col) &amp;&amp; !column-&gt;getPaletteColumn() &amp;&amp;</div>
<div class="line"><span class="lineno"> 2643</span>            !column-&gt;getSoundTextColumn()) {</div>
<div class="line"><span class="lineno"> 2644</span>          column-&gt;setCamstandVisible(!column-&gt;isCamstandVisible());</div>
<div class="line"><span class="lineno"> 2645</span>          <span class="keywordflow">if</span> (column-&gt;getSoundColumn()) sound_changed = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2646</span>        }</div>
<div class="line"><span class="lineno"> 2647</span>      }</div>
<div class="line"><span class="lineno"> 2648</span> </div>
<div class="line"><span class="lineno"> 2649</span>      <span class="keywordflow">if</span> (sound_changed) {</div>
<div class="line"><span class="lineno"> 2650</span>        app-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;notifyXsheetSoundChanged();</div>
<div class="line"><span class="lineno"> 2651</span>      }</div>
<div class="line"><span class="lineno"> 2652</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_doOnRelease == ToggleAllLock) {</div>
<div class="line"><span class="lineno"> 2653</span>      <span class="keywordtype">int</span> startCol =</div>
<div class="line"><span class="lineno"> 2654</span>          Preferences::instance()-&gt;isXsheetCameraColumnVisible() ? -1 : 0;</div>
<div class="line"><span class="lineno"> 2655</span>      <span class="keywordflow">for</span> (col = startCol; col &lt; totcols; col++) {</div>
<div class="line"><span class="lineno"> 2656</span>        <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col);</div>
<div class="line"><span class="lineno"> 2657</span>        <span class="keywordflow">if</span> (!xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a83aecebd1b7714017a64e2b786e91a4e">isColumnEmpty</a>(col)) {</div>
<div class="line"><span class="lineno"> 2658</span>          column-&gt;lock(!column-&gt;isLocked());</div>
<div class="line"><span class="lineno"> 2659</span>        }</div>
<div class="line"><span class="lineno"> 2660</span>      }</div>
<div class="line"><span class="lineno"> 2661</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 2662</span>      assert(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 2663</span> </div>
<div class="line"><span class="lineno"> 2664</span>    app-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;notifySceneChanged();</div>
<div class="line"><span class="lineno"> 2665</span>    <span class="comment">// signal XsheetChanged will invoke PreviewFxManager to all rendered frames,</span></div>
<div class="line"><span class="lineno"> 2666</span>    <span class="comment">// if necessary. it causes slowness when opening preview flipbook of large</span></div>
<div class="line"><span class="lineno"> 2667</span>    <span class="comment">// scene.</span></div>
<div class="line"><span class="lineno"> 2668</span>    <span class="keywordtype">bool</span> isTransparencyRendered = app-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()</div>
<div class="line"><span class="lineno"> 2669</span>                                      -&gt;getScene()</div>
<div class="line"><span class="lineno"> 2670</span>                                      -&gt;<a class="code hl_function" href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">getProperties</a>()</div>
<div class="line"><span class="lineno"> 2671</span>                                      -&gt;isColumnColorFilterOnRenderEnabled();</div>
<div class="line"><span class="lineno"> 2672</span>    <span class="keywordflow">if</span> ((isTransparencyRendered &amp;&amp; (m_doOnRelease == ToggleTransparency ||</div>
<div class="line"><span class="lineno"> 2673</span>                                    m_doOnRelease == ToggleAllTransparency ||</div>
<div class="line"><span class="lineno"> 2674</span>                                    m_doOnRelease == OpenSettings)) ||</div>
<div class="line"><span class="lineno"> 2675</span>        m_doOnRelease == TogglePreviewVisible ||</div>
<div class="line"><span class="lineno"> 2676</span>        m_doOnRelease == ToggleAllPreviewVisible)</div>
<div class="line"><span class="lineno"> 2677</span>      app-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;notifyXsheetChanged();</div>
<div class="line"><span class="lineno"> 2678</span>    update();</div>
<div class="line"><span class="lineno"> 2679</span>    m_doOnRelease = 0;</div>
<div class="line"><span class="lineno"> 2680</span>  }</div>
<div class="line"><span class="lineno"> 2681</span> </div>
<div class="line"><span class="lineno"> 2682</span>  <span class="keywordflow">if</span> (m_transparencyPopupTimer) m_transparencyPopupTimer-&gt;stop();</div>
<div class="line"><span class="lineno"> 2683</span> </div>
<div class="line"><span class="lineno"> 2684</span>  m_viewer-&gt;setQtModifiers(0);</div>
<div class="line"><span class="lineno"> 2685</span>  m_viewer-&gt;dragToolRelease(event);</div>
<div class="line"><span class="lineno"> 2686</span>  m_isPanning = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2687</span>  m_viewer-&gt;stopAutoPan();</div>
<div class="line"><span class="lineno"> 2688</span>}</div>
<div class="ttc" id="aclass_t_app_html_aa229713538a33215a03db85064ef4012"><div class="ttname"><a href="class_t_app.html#aa229713538a33215a03db85064ef4012">TApp::getMainWindow</a></div><div class="ttdeci">QMainWindow * getMainWindow() const</div><div class="ttdef"><b>Definition:</b> tapp.h:169</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a17464dc5617cf87a46f03e1a52d36cc1"><div class="ttname"><a href="class_t_xsheet.html#a17464dc5617cf87a46f03e1a52d36cc1">TXsheet::getColumnCount</a></div><div class="ttdeci">int getColumnCount() const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:1425</div></div>
<div class="ttc" id="aclass_toonz_scene_html_a8ef96fedc17d7def810ac419b0939254"><div class="ttname"><a href="class_toonz_scene.html#a8ef96fedc17d7def810ac419b0939254">ToonzScene::getProperties</a></div><div class="ttdeci">TSceneProperties * getProperties() const</div><div class="ttdoc">&lt; Returns a pointer to the scene's properties.</div><div class="ttdef"><b>Definition:</b> toonzscene.h:87</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c89454a7b3cc02be2d2a596b9d992de" name="a7c89454a7b3cc02be2d2a596b9d992de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c89454a7b3cc02be2d2a596b9d992de">&#9670;&nbsp;</a></span>onCameraColumnChangedTriggered</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::onCameraColumnChangedTriggered </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2185</span>                                                {</div>
<div class="line"><span class="lineno"> 2186</span>  <span class="keywordtype">int</span> newIndex = qobject_cast&lt;QAction *&gt;(sender())-&gt;data().toInt();</div>
<div class="line"><span class="lineno"> 2187</span>  onXsheetCameraChange(newIndex);</div>
<div class="line"><span class="lineno"> 2188</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2c0cfbd256c463dd62ad72518cab3de" name="ab2c0cfbd256c463dd62ad72518cab3de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2c0cfbd256c463dd62ad72518cab3de">&#9670;&nbsp;</a></span>onCameraColumnLockToggled</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::onCameraColumnLockToggled </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2190</span>                                                    {</div>
<div class="line"><span class="lineno"> 2191</span>  m_viewer-&gt;getXsheet()-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(-1)-&gt;<a class="code hl_function" href="class_t_xsh_column.html#aa4fdf492c76dd277452ab9ec23cea6dc">lock</a>(lock);</div>
<div class="line"><span class="lineno"> 2192</span>}</div>
<div class="ttc" id="aclass_t_xsh_column_html_aa4fdf492c76dd277452ab9ec23cea6dc"><div class="ttname"><a href="class_t_xsh_column.html#aa4fdf492c76dd277452ab9ec23cea6dc">TXshColumn::lock</a></div><div class="ttdeci">void lock(bool on)</div><div class="ttdef"><b>Definition:</b> txshcolumn.cpp:661</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3891ccf29f7c3fade5204adcccce1e76" name="a3891ccf29f7c3fade5204adcccce1e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3891ccf29f7c3fade5204adcccce1e76">&#9670;&nbsp;</a></span>onControlPressed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::onControlPressed </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pressed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  675</span>                                              {</div>
<div class="line"><span class="lineno">  676</span>  isCtrlPressed = pressed;</div>
<div class="line"><span class="lineno">  677</span>  update();</div>
<div class="line"><span class="lineno">  678</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0aa17e37d10d93798ddc4f5e66266054" name="a0aa17e37d10d93798ddc4f5e66266054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aa17e37d10d93798ddc4f5e66266054">&#9670;&nbsp;</a></span>onSetMask</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::onSetMask </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2919</span>                                  {</div>
<div class="line"><span class="lineno"> 2920</span>  <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = m_viewer-&gt;getXsheet()-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(m_col);</div>
<div class="line"><span class="lineno"> 2921</span> </div>
<div class="line"><span class="lineno"> 2922</span>  std::string name = m_viewer-&gt;getXsheet()</div>
<div class="line"><span class="lineno"> 2923</span>                         -&gt;<a class="code hl_function" href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">getStageObject</a>(TStageObjectId::ColumnId(col))</div>
<div class="line"><span class="lineno"> 2924</span>                         -&gt;getName();</div>
<div class="line"><span class="lineno"> 2925</span>  <a class="code hl_class" href="class_column_mask_undo.html">ColumnMaskUndo</a> *undo = <span class="keyword">new</span> <a class="code hl_class" href="class_column_mask_undo.html">ColumnMaskUndo</a>(col, column-&gt;isMask(), name);</div>
<div class="line"><span class="lineno"> 2926</span>  undo-&gt;redo();</div>
<div class="line"><span class="lineno"> 2927</span>  TUndoManager::manager()-&gt;add(undo);</div>
<div class="line"><span class="lineno"> 2928</span>  update();</div>
<div class="line"><span class="lineno"> 2929</span>}</div>
<div class="ttc" id="aclass_column_mask_undo_html"><div class="ttname"><a href="class_column_mask_undo.html">ColumnMaskUndo</a></div><div class="ttdef"><b>Definition:</b> xshcolumnviewer.cpp:168</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ac70d5e66c4ce9d894eec503d6ba09f" name="a8ac70d5e66c4ce9d894eec503d6ba09f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ac70d5e66c4ce9d894eec503d6ba09f">&#9670;&nbsp;</a></span>onSubSampling</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::onSubSampling </td>
          <td>(</td>
          <td class="paramtype">QAction *&#160;</td>
          <td class="paramname"><em>action</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2933</span>                                              {</div>
<div class="line"><span class="lineno"> 2934</span>  <span class="keywordtype">int</span> subsampling;</div>
<div class="line"><span class="lineno"> 2935</span>  <span class="keywordflow">if</span> (action == m_subsampling1)</div>
<div class="line"><span class="lineno"> 2936</span>    subsampling = 1;</div>
<div class="line"><span class="lineno"> 2937</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == m_subsampling2)</div>
<div class="line"><span class="lineno"> 2938</span>    subsampling = 2;</div>
<div class="line"><span class="lineno"> 2939</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == m_subsampling3)</div>
<div class="line"><span class="lineno"> 2940</span>    subsampling = 3;</div>
<div class="line"><span class="lineno"> 2941</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == m_subsampling4)</div>
<div class="line"><span class="lineno"> 2942</span>    subsampling = 4;</div>
<div class="line"><span class="lineno"> 2943</span> </div>
<div class="line"><span class="lineno"> 2944</span>  <a class="code hl_class" href="class_t_column_selection.html">TColumnSelection</a> *selection = m_viewer-&gt;getColumnSelection();</div>
<div class="line"><span class="lineno"> 2945</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh                = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 2946</span>  assert(selection &amp;&amp; xsh);</div>
<div class="line"><span class="lineno"> 2947</span>  <span class="keyword">const</span> std::set&lt;int&gt; indexes = selection-&gt;getIndices();</div>
<div class="line"><span class="lineno"> 2948</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;e : indexes) {</div>
<div class="line"><span class="lineno"> 2949</span>    <span class="keywordflow">if</span> (e &lt; 0) <span class="keywordflow">continue</span>;  <span class="comment">// Ignore camera column</span></div>
<div class="line"><span class="lineno"> 2950</span>    <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column          = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(e);</div>
<div class="line"><span class="lineno"> 2951</span>    TXshColumn::ColumnType type = column-&gt;getColumnType();</div>
<div class="line"><span class="lineno"> 2952</span>    <span class="keywordflow">if</span> (type != TXshColumn::eLevelType) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2953</span>    <span class="keyword">const</span> QSet&lt;TXshLevel *&gt; levels = getLevels(column);</div>
<div class="line"><span class="lineno"> 2954</span>    QSet&lt;TXshLevel *&gt;::const_iterator it2;</div>
<div class="line"><span class="lineno"> 2955</span>    <span class="keywordflow">for</span> (it2 = levels.begin(); it2 != levels.end(); it2++) {</div>
<div class="line"><span class="lineno"> 2956</span>      <a class="code hl_class" href="class_t_xsh_simple_level.html">TXshSimpleLevel</a> *sl = (*it2)-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#aac1fd1d3ecf0778b8ee139c9119fcdef">getSimpleLevel</a>();</div>
<div class="line"><span class="lineno"> 2957</span>      <span class="keywordflow">if</span> (!sl || sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a19cc395b0312bc880b1d765c93720967">getDirtyFlag</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2958</span>      <span class="keywordtype">int</span> type = sl-&gt;<a class="code hl_function" href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">getType</a>();</div>
<div class="line"><span class="lineno"> 2959</span>      <span class="keywordflow">if</span> (type == TZI_XSHLEVEL || type == TZP_XSHLEVEL ||</div>
<div class="line"><span class="lineno"> 2960</span>          type == OVL_XSHLEVEL) {</div>
<div class="line"><span class="lineno"> 2961</span>        sl-&gt;<a class="code hl_function" href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">getProperties</a>()-&gt;<a class="code hl_function" href="class_level_properties.html#a2591ae6df7e874a982e1539395462174">setSubsampling</a>(subsampling);</div>
<div class="line"><span class="lineno"> 2962</span>        sl-&gt;invalidateFrames();</div>
<div class="line"><span class="lineno"> 2963</span>      }</div>
<div class="line"><span class="lineno"> 2964</span>    }</div>
<div class="line"><span class="lineno"> 2965</span>  }</div>
<div class="line"><span class="lineno"> 2966</span>  <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()</div>
<div class="line"><span class="lineno"> 2967</span>      -&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()</div>
<div class="line"><span class="lineno"> 2968</span>      -&gt;getXsheet()</div>
<div class="line"><span class="lineno"> 2969</span>      -&gt;<a class="code hl_function" href="class_t_xsheet.html#a5dc925584e35e1678f5678b79c470959">getStageObjectTree</a>()</div>
<div class="line"><span class="lineno"> 2970</span>      -&gt;<a class="code hl_function" href="class_t_stage_object_tree.html#aa88239ff5581af5d748d822d1f01cd9d">invalidateAll</a>();</div>
<div class="line"><span class="lineno"> 2971</span>  <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;notifySceneChanged();</div>
<div class="line"><span class="lineno"> 2972</span>}</div>
<div class="ttc" id="aclass_level_properties_html_a19cc395b0312bc880b1d765c93720967"><div class="ttname"><a href="class_level_properties.html#a19cc395b0312bc880b1d765c93720967">LevelProperties::getDirtyFlag</a></div><div class="ttdeci">bool getDirtyFlag() const</div><div class="ttdoc">Returns the level's dirty flag</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:86</div></div>
<div class="ttc" id="aclass_level_properties_html_a2591ae6df7e874a982e1539395462174"><div class="ttname"><a href="class_level_properties.html#a2591ae6df7e874a982e1539395462174">LevelProperties::setSubsampling</a></div><div class="ttdeci">void setSubsampling(int s)</div><div class="ttdoc">Sets the level subsampling.</div><div class="ttdef"><b>Definition:</b> levelproperties.cpp:74</div></div>
<div class="ttc" id="aclass_t_stage_object_tree_html_aa88239ff5581af5d748d822d1f01cd9d"><div class="ttname"><a href="class_t_stage_object_tree.html#aa88239ff5581af5d748d822d1f01cd9d">TStageObjectTree::invalidateAll</a></div><div class="ttdeci">void invalidateAll()</div><div class="ttdef"><b>Definition:</b> tstageobjecttree.cpp:534</div></div>
<div class="ttc" id="aclass_t_xsh_level_html_a1a147f1e970a62120c0bbaf0020a8932"><div class="ttname"><a href="class_t_xsh_level.html#a1a147f1e970a62120c0bbaf0020a8932">TXshLevel::getType</a></div><div class="ttdeci">int getType() const</div><div class="ttdef"><b>Definition:</b> txshlevel.h:81</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html"><div class="ttname"><a href="class_t_xsh_simple_level.html">TXshSimpleLevel</a></div><div class="ttdoc">The TXshLevel specialization for image levels.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:60</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_aac1fd1d3ecf0778b8ee139c9119fcdef"><div class="ttname"><a href="class_t_xsh_simple_level.html#aac1fd1d3ecf0778b8ee139c9119fcdef">TXshSimpleLevel::getSimpleLevel</a></div><div class="ttdeci">TXshSimpleLevel * getSimpleLevel() override</div><div class="ttdoc">Reimplemented for TXshLevel.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:92</div></div>
<div class="ttc" id="aclass_t_xsh_simple_level_html_ad412dd5c3a6ae3ff20a480dc728b26d2"><div class="ttname"><a href="class_t_xsh_simple_level.html#ad412dd5c3a6ae3ff20a480dc728b26d2">TXshSimpleLevel::getProperties</a></div><div class="ttdeci">LevelProperties * getProperties() const</div><div class="ttdoc">&lt; Returns a pointer to the owned level properties.</div><div class="ttdef"><b>Definition:</b> txshsimplelevel.h:109</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a5dc925584e35e1678f5678b79c470959"><div class="ttname"><a href="class_t_xsheet.html#a5dc925584e35e1678f5678b79c470959">TXsheet::getStageObjectTree</a></div><div class="ttdeci">TStageObjectTree * getStageObjectTree() const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:549</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96000ee0c150e35c905b667b558a6787" name="a96000ee0c150e35c905b667b558a6787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96000ee0c150e35c905b667b558a6787">&#9670;&nbsp;</a></span>onXsheetCameraChange</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::onXsheetCameraChange </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2196</span>                                                  {</div>
<div class="line"><span class="lineno"> 2197</span>  <span class="keywordtype">int</span> oldIndex = m_viewer-&gt;getXsheet()-&gt;getCameraColumnIndex();</div>
<div class="line"><span class="lineno"> 2198</span>  <span class="keywordflow">if</span> (newIndex == oldIndex) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2199</span> </div>
<div class="line"><span class="lineno"> 2200</span>  <a class="code hl_class" href="class_t_xsheet_handle.html">TXsheetHandle</a> *xsheetHandle = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>();</div>
<div class="line"><span class="lineno"> 2201</span> </div>
<div class="line"><span class="lineno"> 2202</span>  CameraColumnSwitchUndo *undo =</div>
<div class="line"><span class="lineno"> 2203</span>      <span class="keyword">new</span> CameraColumnSwitchUndo(oldIndex, newIndex, xsheetHandle);</div>
<div class="line"><span class="lineno"> 2204</span>  undo-&gt;redo();</div>
<div class="line"><span class="lineno"> 2205</span>  TUndoManager::manager()-&gt;add(undo);</div>
<div class="line"><span class="lineno"> 2206</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abba9fc22ec41649aced955a3e75185d3" name="abba9fc22ec41649aced955a3e75185d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abba9fc22ec41649aced955a3e75185d3">&#9670;&nbsp;</a></span>openCameraColumnPopup</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::openCameraColumnPopup </td>
          <td>(</td>
          <td class="paramtype">QPoint&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2151</span>                                                 {</div>
<div class="line"><span class="lineno"> 2152</span>  QMenu menu(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2153</span> </div>
<div class="line"><span class="lineno"> 2154</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh           = <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 2155</span>  <a class="code hl_class" href="class_t_stage_object_tree.html">TStageObjectTree</a> *tree = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a5dc925584e35e1678f5678b79c470959">getStageObjectTree</a>();</div>
<div class="line"><span class="lineno"> 2156</span>  <span class="keywordtype">int</span> i, objCount = tree-&gt;<a class="code hl_function" href="class_t_stage_object_tree.html#ad0f2bb7d9ffc580ba20305d40566d2a8">getStageObjectCount</a>();</div>
<div class="line"><span class="lineno"> 2157</span>  <span class="keywordflow">for</span> (i = 0; i &lt; objCount; i++) {</div>
<div class="line"><span class="lineno"> 2158</span>    <a class="code hl_class" href="class_t_stage_object.html">TStageObject</a> *obj = tree-&gt;<a class="code hl_function" href="class_t_stage_object_tree.html#a688e5b4f2f5730afb0cb10264f13a113">getStageObject</a>(i);</div>
<div class="line"><span class="lineno"> 2159</span>    <span class="keywordflow">if</span> (!obj || !obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a7acac7f9d2b8aabae125a81cc4ac5b10">getId</a>().<a class="code hl_function" href="class_t_stage_object_id.html#ab597e1e86fc3b5e64d552bec77f86b4d">isCamera</a>()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 2160</span>    <a class="code hl_class" href="class_t_stage_object_id.html">TStageObjectId</a> objId = obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a7acac7f9d2b8aabae125a81cc4ac5b10">getId</a>();</div>
<div class="line"><span class="lineno"> 2161</span>    std::string objName  = obj-&gt;getName();</div>
<div class="line"><span class="lineno"> 2162</span>    QAction *action      = <span class="keyword">new</span> QAction(QString::fromStdString(objName), <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2163</span>    action-&gt;setData(objId.getIndex());</div>
<div class="line"><span class="lineno"> 2164</span>    connect(action, SIGNAL(triggered()), <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno"> 2165</span>            SLOT(onCameraColumnChangedTriggered()));</div>
<div class="line"><span class="lineno"> 2166</span>    menu.addAction(action);</div>
<div class="line"><span class="lineno"> 2167</span>  }</div>
<div class="line"><span class="lineno"> 2168</span>  <span class="comment">// Lock button is moved in this menu for Minimum layout</span></div>
<div class="line"><span class="lineno"> 2169</span>  <span class="keywordflow">if</span> (m_viewer-&gt;getXsheetLayout() == <span class="stringliteral">&quot;Minimum&quot;</span>) {</div>
<div class="line"><span class="lineno"> 2170</span>    menu.addSeparator();</div>
<div class="line"><span class="lineno"> 2171</span>    <span class="keywordtype">bool</span> isLocked = m_viewer-&gt;getXsheet()-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(-1)-&gt;<a class="code hl_function" href="class_t_xsh_column.html#a04953896aae8860ace46010956a28db9">isLocked</a>();</div>
<div class="line"><span class="lineno"> 2172</span>    QAction *lockAction =</div>
<div class="line"><span class="lineno"> 2173</span>        <span class="keyword">new</span> QAction((isLocked) ? tr(<span class="stringliteral">&quot;Unlock&quot;</span>) : tr(<span class="stringliteral">&quot;Lock&quot;</span>), <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 2174</span>    lockAction-&gt;setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2175</span>    lockAction-&gt;setChecked(isLocked);</div>
<div class="line"><span class="lineno"> 2176</span>    lockAction-&gt;setIcon(createLockIcon(m_viewer));</div>
<div class="line"><span class="lineno"> 2177</span>    menu.addAction(lockAction);</div>
<div class="line"><span class="lineno"> 2178</span>    connect(lockAction, SIGNAL(toggled(<span class="keywordtype">bool</span>)), <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno"> 2179</span>            SLOT(onCameraColumnLockToggled(<span class="keywordtype">bool</span>)));</div>
<div class="line"><span class="lineno"> 2180</span>  }</div>
<div class="line"><span class="lineno"> 2181</span> </div>
<div class="line"><span class="lineno"> 2182</span>  menu.exec(pos);</div>
<div class="line"><span class="lineno"> 2183</span>}</div>
<div class="ttc" id="aclass_t_stage_object_html"><div class="ttname"><a href="class_t_stage_object.html">TStageObject</a></div><div class="ttdef"><b>Definition:</b> tstageobject.h:95</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a7acac7f9d2b8aabae125a81cc4ac5b10"><div class="ttname"><a href="class_t_stage_object.html#a7acac7f9d2b8aabae125a81cc4ac5b10">TStageObject::getId</a></div><div class="ttdeci">TStageObjectId getId() const</div><div class="ttdoc">Retrieves the stage object's id.</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:520</div></div>
<div class="ttc" id="aclass_t_stage_object_id_html_ab597e1e86fc3b5e64d552bec77f86b4d"><div class="ttname"><a href="class_t_stage_object_id.html#ab597e1e86fc3b5e64d552bec77f86b4d">TStageObjectId::isCamera</a></div><div class="ttdeci">bool isCamera() const</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:162</div></div>
<div class="ttc" id="aclass_t_stage_object_tree_html"><div class="ttname"><a href="class_t_stage_object_tree.html">TStageObjectTree</a></div><div class="ttdef"><b>Definition:</b> tstageobjecttree.h:86</div></div>
<div class="ttc" id="aclass_t_stage_object_tree_html_a688e5b4f2f5730afb0cb10264f13a113"><div class="ttname"><a href="class_t_stage_object_tree.html#a688e5b4f2f5730afb0cb10264f13a113">TStageObjectTree::getStageObject</a></div><div class="ttdeci">TStageObject * getStageObject(const TStageObjectId &amp;id, bool create=true)</div><div class="ttdef"><b>Definition:</b> tstageobjecttree.cpp:164</div></div>
<div class="ttc" id="aclass_t_stage_object_tree_html_ad0f2bb7d9ffc580ba20305d40566d2a8"><div class="ttname"><a href="class_t_stage_object_tree.html#ad0f2bb7d9ffc580ba20305d40566d2a8">TStageObjectTree::getStageObjectCount</a></div><div class="ttdeci">int getStageObjectCount() const</div><div class="ttdef"><b>Definition:</b> tstageobjecttree.cpp:481</div></div>
<div class="ttc" id="aclass_t_xsh_column_html_a04953896aae8860ace46010956a28db9"><div class="ttname"><a href="class_t_xsh_column.html#a04953896aae8860ace46010956a28db9">TXshColumn::isLocked</a></div><div class="ttdeci">bool isLocked() const</div><div class="ttdef"><b>Definition:</b> txshcolumn.cpp:657</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af4dfeec9c9c4befb8bab92efbdaaf8b3" name="af4dfeec9c9c4befb8bab92efbdaaf8b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4dfeec9c9c4befb8bab92efbdaaf8b3">&#9670;&nbsp;</a></span>openSoundColumnPopup</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::openSoundColumnPopup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2134</span>                                      {</div>
<div class="line"><span class="lineno"> 2135</span>  <span class="keywordflow">if</span> (m_col &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2136</span>  <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = m_viewer-&gt;getXsheet()-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(m_col);</div>
<div class="line"><span class="lineno"> 2137</span>  <span class="keywordflow">if</span> (!column || column-&gt;isEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2138</span> </div>
<div class="line"><span class="lineno"> 2139</span>  <span class="keywordflow">if</span> (!column-&gt;isCamstandVisible()) {</div>
<div class="line"><span class="lineno"> 2140</span>    column-&gt;setCamstandVisible(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2141</span>    <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;notifyXsheetSoundChanged();</div>
<div class="line"><span class="lineno"> 2142</span>    <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;notifySceneChanged();</div>
<div class="line"><span class="lineno"> 2143</span>    <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;notifyXsheetChanged();</div>
<div class="line"><span class="lineno"> 2144</span>    update();</div>
<div class="line"><span class="lineno"> 2145</span>  }</div>
<div class="line"><span class="lineno"> 2146</span> </div>
<div class="line"><span class="lineno"> 2147</span>  m_soundColumnPopup-&gt;setColumn(column);</div>
<div class="line"><span class="lineno"> 2148</span>  m_soundColumnPopup-&gt;show();</div>
<div class="line"><span class="lineno"> 2149</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a57064945a0868b0bc75763739a467ae1" name="a57064945a0868b0bc75763739a467ae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57064945a0868b0bc75763739a467ae1">&#9670;&nbsp;</a></span>openTransparencyPopup</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::openTransparencyPopup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2117</span>                                       {</div>
<div class="line"><span class="lineno"> 2118</span>  <span class="keywordflow">if</span> (m_transparencyPopupTimer) m_transparencyPopupTimer-&gt;stop();</div>
<div class="line"><span class="lineno"> 2119</span>  <span class="keywordflow">if</span> (m_col &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2120</span>  <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = m_viewer-&gt;getXsheet()-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(m_col);</div>
<div class="line"><span class="lineno"> 2121</span>  <span class="keywordflow">if</span> (!column || column-&gt;isEmpty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 2122</span> </div>
<div class="line"><span class="lineno"> 2123</span>  <span class="keywordflow">if</span> (!column-&gt;isCamstandVisible()) {</div>
<div class="line"><span class="lineno"> 2124</span>    column-&gt;setCamstandVisible(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 2125</span>    <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#abbbf1fae564e9e510826eda4f6637d20">getCurrentScene</a>()-&gt;notifySceneChanged();</div>
<div class="line"><span class="lineno"> 2126</span>    <a class="code hl_function" href="class_t_app.html#a24088f8647d5d9447fcec6b9b9bbf9eb">TApp::instance</a>()-&gt;<a class="code hl_function" href="class_t_app.html#a13f509e753824cb0500787f68bb51a09">getCurrentXsheet</a>()-&gt;notifyXsheetChanged();</div>
<div class="line"><span class="lineno"> 2127</span>    update();</div>
<div class="line"><span class="lineno"> 2128</span>  }</div>
<div class="line"><span class="lineno"> 2129</span> </div>
<div class="line"><span class="lineno"> 2130</span>  m_columnTransparencyPopup-&gt;setColumn(column);</div>
<div class="line"><span class="lineno"> 2131</span>  m_columnTransparencyPopup-&gt;show();</div>
<div class="line"><span class="lineno"> 2132</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afc8e5a67fbb402e40f44f12573895bd7" name="afc8e5a67fbb402e40f44f12573895bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc8e5a67fbb402e40f44f12573895bd7">&#9670;&nbsp;</a></span>paintEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void XsheetGUI::ColumnArea::paintEvent </td>
          <td>(</td>
          <td class="paramtype">QPaintEvent *&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1772</span>                                              {  <span class="comment">// AREA</span></div>
<div class="line"><span class="lineno"> 1773</span>  QRect toBeUpdated = <span class="keyword">event</span>-&gt;rect();</div>
<div class="line"><span class="lineno"> 1774</span> </div>
<div class="line"><span class="lineno"> 1775</span>  QPainter p(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1776</span>  p.setClipRect(toBeUpdated);</div>
<div class="line"><span class="lineno"> 1777</span> </div>
<div class="line"><span class="lineno"> 1778</span>  <a class="code hl_class" href="class_t_xsheet.html">TXsheet</a> *xsh        = m_viewer-&gt;getXsheet();</div>
<div class="line"><span class="lineno"> 1779</span>  <a class="code hl_class" href="class_cell_range.html">CellRange</a> cellRange = m_viewer-&gt;xyRectToRange(toBeUpdated);</div>
<div class="line"><span class="lineno"> 1780</span>  <span class="keywordtype">int</span> c0, c1;  <span class="comment">// range of visible columns</span></div>
<div class="line"><span class="lineno"> 1781</span>  c0 = cellRange.from().layer();</div>
<div class="line"><span class="lineno"> 1782</span>  c1 = cellRange.to().layer();</div>
<div class="line"><span class="lineno"> 1783</span>  <span class="keywordflow">if</span> (!m_viewer-&gt;orientation()-&gt;isVerticalTimeline()) {</div>
<div class="line"><span class="lineno"> 1784</span>    <span class="keywordtype">int</span> colCount = std::max(1, xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a17464dc5617cf87a46f03e1a52d36cc1">getColumnCount</a>());</div>
<div class="line"><span class="lineno"> 1785</span>    c1           = std::min(c1, colCount - 1);</div>
<div class="line"><span class="lineno"> 1786</span>  }</div>
<div class="line"><span class="lineno"> 1787</span> </div>
<div class="line"><span class="lineno"> 1788</span>  <a class="code hl_class" href="class_column_fan.html">ColumnFan</a> *columnFan = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3c7f0358ee5d555df82ae864af8584d0">getColumnFan</a>(m_viewer-&gt;orientation());</div>
<div class="line"><span class="lineno"> 1789</span>  <span class="keywordtype">int</span> col;</div>
<div class="line"><span class="lineno"> 1790</span>  <span class="keywordflow">for</span> (col = c0; col &lt;= c1; col++) {</div>
<div class="line"><span class="lineno"> 1791</span>    <span class="comment">// draw column fan (collapsed columns)</span></div>
<div class="line"><span class="lineno"> 1792</span>    <span class="keywordflow">if</span> (!columnFan-&gt;<a class="code hl_function" href="class_column_fan.html#abf77607d6d35905a31c9a4640dc0c0ef">isActive</a>(col)) {</div>
<div class="line"><span class="lineno"> 1793</span>      drawFoldedColumnHead(p, col);</div>
<div class="line"><span class="lineno"> 1794</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1795</span>      <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = m_viewer-&gt;getXsheet()-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(col);</div>
<div class="line"><span class="lineno"> 1796</span> </div>
<div class="line"><span class="lineno"> 1797</span>      <span class="keywordtype">int</span> colType = (column &amp;&amp; !column-&gt;isEmpty()) ? column-&gt;getColumnType()</div>
<div class="line"><span class="lineno"> 1798</span>                                                   : TXshColumn::eLevelType;</div>
<div class="line"><span class="lineno"> 1799</span> </div>
<div class="line"><span class="lineno"> 1800</span>      <span class="keywordflow">switch</span> (colType) {</div>
<div class="line"><span class="lineno"> 1801</span>      <span class="keywordflow">case</span> TXshColumn::ePaletteType:</div>
<div class="line"><span class="lineno"> 1802</span>        drawPaletteColumnHead(p, col);</div>
<div class="line"><span class="lineno"> 1803</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1804</span>      <span class="keywordflow">case</span> TXshColumn::eSoundType:</div>
<div class="line"><span class="lineno"> 1805</span>        drawSoundColumnHead(p, col);</div>
<div class="line"><span class="lineno"> 1806</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1807</span>      <span class="keywordflow">case</span> TXshColumn::eSoundTextType:</div>
<div class="line"><span class="lineno"> 1808</span>        drawSoundTextColumnHead(p, col);</div>
<div class="line"><span class="lineno"> 1809</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1810</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1811</span>        drawLevelColumnHead(p, col);  <span class="comment">// camera column is also painted here</span></div>
<div class="line"><span class="lineno"> 1812</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1813</span>      }</div>
<div class="line"><span class="lineno"> 1814</span>    }</div>
<div class="line"><span class="lineno"> 1815</span>  }</div>
<div class="line"><span class="lineno"> 1816</span> </div>
<div class="line"><span class="lineno"> 1817</span>  p.setPen(m_viewer-&gt;getVerticalLineHeadColor());</div>
<div class="line"><span class="lineno"> 1818</span>  p.setBrush(Qt::NoBrush);</div>
<div class="line"><span class="lineno"> 1819</span>  <span class="keywordflow">if</span> (m_viewer-&gt;orientation()-&gt;isVerticalTimeline())</div>
<div class="line"><span class="lineno"> 1820</span>    p.drawRect(toBeUpdated.adjusted(-1, 0, -1, -3));</div>
<div class="line"><span class="lineno"> 1821</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1822</span>    p.drawRect(toBeUpdated.adjusted(0, 0, -2, -1));</div>
<div class="line"><span class="lineno"> 1823</span> </div>
<div class="line"><span class="lineno"> 1824</span>  <span class="keywordflow">if</span> (getDragTool()) getDragTool()-&gt;drawColumnsArea(p);</div>
<div class="line"><span class="lineno"> 1825</span>}</div>
<div class="ttc" id="aclass_cell_range_html"><div class="ttname"><a href="class_cell_range.html">CellRange</a></div><div class="ttdef"><b>Definition:</b> cellposition.h:40</div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/toonz/<a class="el" href="">xshcolumnviewer.h</a></li>
<li>E:/opentoonz/toonz/sources/toonz/<a class="el" href="">xshcolumnviewer.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
