<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: DockLayout Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_dock_layout-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">DockLayout Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="">docklayout.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DockLayout:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_dock_layout.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a21d48420fe967334b97130c58c40b9ee"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; std::vector&lt; QRect &gt;, QString &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a21d48420fe967334b97130c58c40b9ee">State</a></td></tr>
<tr class="separator:a21d48420fe967334b97130c58c40b9ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a213a99e39a10e0eeaf4898b71513ca82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a213a99e39a10e0eeaf4898b71513ca82">count</a> (void) const override</td></tr>
<tr class="separator:a213a99e39a10e0eeaf4898b71513ca82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0629562a0f509acdb7da7f25673a460"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#af0629562a0f509acdb7da7f25673a460">addItem</a> (QLayoutItem *item) override</td></tr>
<tr class="separator:af0629562a0f509acdb7da7f25673a460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f2dec94737823c8764a1758ca80822f"><td class="memItemLeft" align="right" valign="top">QSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a0f2dec94737823c8764a1758ca80822f">sizeHint</a> () const override</td></tr>
<tr class="separator:a0f2dec94737823c8764a1758ca80822f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5554d93c51734f632e374e18abaa2a9"><td class="memItemLeft" align="right" valign="top">QSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#ab5554d93c51734f632e374e18abaa2a9">minimumSize</a> () const override</td></tr>
<tr class="separator:ab5554d93c51734f632e374e18abaa2a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411b22275730947646d0e278bae2b2c1"><td class="memItemLeft" align="right" valign="top">QSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a411b22275730947646d0e278bae2b2c1">maximumSize</a> () const override</td></tr>
<tr class="separator:a411b22275730947646d0e278bae2b2c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a475071418f3fdef4bb708113de3ab4"><td class="memItemLeft" align="right" valign="top">QLayoutItem *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a3a475071418f3fdef4bb708113de3ab4">itemAt</a> (int) const override</td></tr>
<tr class="separator:a3a475071418f3fdef4bb708113de3ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55c6bca8ad56a489fc77afddcaeee38"><td class="memItemLeft" align="right" valign="top">QWidget *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#ad55c6bca8ad56a489fc77afddcaeee38">widgetAt</a> (int) const</td></tr>
<tr class="separator:ad55c6bca8ad56a489fc77afddcaeee38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba247b4898c7211686031a4464feb5c"><td class="memItemLeft" align="right" valign="top">QLayoutItem *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#aaba247b4898c7211686031a4464feb5c">takeAt</a> (int) override</td></tr>
<tr class="separator:aaba247b4898c7211686031a4464feb5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a81f05e391a078a4f4ad951e059bfe7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a8a81f05e391a078a4f4ad951e059bfe7">setGeometry</a> (const QRect &amp;rect) override</td></tr>
<tr class="memdesc:a8a81f05e391a078a4f4ad951e059bfe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">NOTE: This method is currently unused by <a class="el" href="class_dock_layout.html">DockLayout</a> implementation...  <a href="class_dock_layout.html#a8a81f05e391a078a4f4ad951e059bfe7">More...</a><br /></td></tr>
<tr class="separator:a8a81f05e391a078a4f4ad951e059bfe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04eb5e2fdf22478c7a8aa50f99ff3668"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a04eb5e2fdf22478c7a8aa50f99ff3668">update</a> ()</td></tr>
<tr class="separator:a04eb5e2fdf22478c7a8aa50f99ff3668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b63838813aa7448060dd60f05e763c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a69b63838813aa7448060dd60f05e763c">redistribute</a> ()</td></tr>
<tr class="separator:a69b63838813aa7448060dd60f05e763c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7334af9707b7ccc9bf5ae23ff066555b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a7334af9707b7ccc9bf5ae23ff066555b">applyTransform</a> (const QTransform &amp;transform)</td></tr>
<tr class="separator:a7334af9707b7ccc9bf5ae23ff066555b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d3b9ad52b2f99fc7f3009df76741be2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_dock_widget.html">DockWidget</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a9d3b9ad52b2f99fc7f3009df76741be2">getMaximized</a> ()</td></tr>
<tr class="separator:a9d3b9ad52b2f99fc7f3009df76741be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8906566c13a82b50ef107089d6ee2dc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a8906566c13a82b50ef107089d6ee2dc7">setMaximized</a> (<a class="el" href="class_dock_widget.html">DockWidget</a> *item, bool state=true)</td></tr>
<tr class="separator:a8906566c13a82b50ef107089d6ee2dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536eefbe554eb4b451f8aecc13eab730"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_region.html">Region</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a536eefbe554eb4b451f8aecc13eab730">dockItem</a> (<a class="el" href="class_dock_widget.html">DockWidget</a> *item, <a class="el" href="class_region.html">Region</a> *r=0, int idx=0)</td></tr>
<tr class="separator:a536eefbe554eb4b451f8aecc13eab730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711d02ecab994f2032d70a2192b929d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a711d02ecab994f2032d70a2192b929d0">dockItem</a> (<a class="el" href="class_dock_widget.html">DockWidget</a> *item, <a class="el" href="class_dock_placeholder.html">DockPlaceholder</a> *place)</td></tr>
<tr class="memdesc:a711d02ecab994f2032d70a2192b929d0"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>NOTE:</b> Docked items are forcedly shown.  <a href="class_dock_layout.html#a711d02ecab994f2032d70a2192b929d0">More...</a><br /></td></tr>
<tr class="separator:a711d02ecab994f2032d70a2192b929d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bdd18b713915081b96e5b74ee01fdb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a9bdd18b713915081b96e5b74ee01fdb8">dockItem</a> (<a class="el" href="class_dock_widget.html">DockWidget</a> *item, <a class="el" href="class_dock_widget.html">DockWidget</a> *target, int regionSide)</td></tr>
<tr class="separator:a9bdd18b713915081b96e5b74ee01fdb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36e77a79ff02104b0d41d8f2801bc5e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#ad36e77a79ff02104b0d41d8f2801bc5e">undockItem</a> (<a class="el" href="class_dock_widget.html">DockWidget</a> *item)</td></tr>
<tr class="memdesc:ad36e77a79ff02104b0d41d8f2801bc5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undocks <b>item</b> and updates geometry.  <a href="class_dock_layout.html#ad36e77a79ff02104b0d41d8f2801bc5e">More...</a><br /></td></tr>
<tr class="separator:ad36e77a79ff02104b0d41d8f2801bc5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c8472d6c6b7cd0bdb479478c91dd94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a92c8472d6c6b7cd0bdb479478c91dd94">calculateDockPlaceholders</a> (<a class="el" href="class_dock_widget.html">DockWidget</a> *item)</td></tr>
<tr class="separator:a92c8472d6c6b7cd0bdb479478c91dd94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c3f499015acc5619cec81c29454a6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_region.html">Region</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#aa2c3f499015acc5619cec81c29454a6b">rootRegion</a> () const</td></tr>
<tr class="separator:aa2c3f499015acc5619cec81c29454a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c92d275518b7b35add4c3792fbd0b9a"><td class="memItemLeft" align="right" valign="top">const std::deque&lt; <a class="el" href="class_region.html">Region</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a9c92d275518b7b35add4c3792fbd0b9a">regions</a> () const</td></tr>
<tr class="separator:a9c92d275518b7b35add4c3792fbd0b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee1456b1987c4923af9a0995f648bd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_region.html">Region</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a9ee1456b1987c4923af9a0995f648bd8">region</a> (int i) const</td></tr>
<tr class="separator:a9ee1456b1987c4923af9a0995f648bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e2c2523ed3e68846364e5b61b97ab18"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_region.html">Region</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a8e2c2523ed3e68846364e5b61b97ab18">find</a> (<a class="el" href="class_dock_widget.html">DockWidget</a> *item) const</td></tr>
<tr class="separator:a8e2c2523ed3e68846364e5b61b97ab18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c31489eb36465df7050f399555f7f87"><td class="memItemLeft" align="right" valign="top">QWidget *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a1c31489eb36465df7050f399555f7f87">containerOf</a> (QPoint point) const</td></tr>
<tr class="separator:a1c31489eb36465df7050f399555f7f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43bacb88156d890692a1cf7440654d4e"><td class="memItemLeft" align="right" valign="top">State&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a43bacb88156d890692a1cf7440654d4e">saveState</a> ()</td></tr>
<tr class="separator:a43bacb88156d890692a1cf7440654d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8203490f8ec20cfe0fb1fb66d986553d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a8203490f8ec20cfe0fb1fb66d986553d">restoreState</a> (const State &amp;state)</td></tr>
<tr class="memdesc:a8203490f8ec20cfe0fb1fb66d986553d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores the given internal structure of the layout.  <a href="class_dock_layout.html#a8203490f8ec20cfe0fb1fb66d986553d">More...</a><br /></td></tr>
<tr class="separator:a8203490f8ec20cfe0fb1fb66d986553d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65ee3347a86fa365b7ce4f99ad91cec2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_dock_layout.html#a65ee3347a86fa365b7ce4f99ad91cec2">setDecoAllocator</a> (<a class="el" href="class_dock_deco_allocator.html">DockDecoAllocator</a> *decoAllocator)</td></tr>
<tr class="memdesc:a65ee3347a86fa365b7ce4f99ad91cec2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><b>NOTE:</b> <a class="el" href="class_dock_layout.html">DockLayout</a> takes ownership of the allocator.  <a href="class_dock_layout.html#a65ee3347a86fa365b7ce4f99ad91cec2">More...</a><br /></td></tr>
<tr class="separator:a65ee3347a86fa365b7ce4f99ad91cec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="class_dock_layout.html">DockLayout</a> inherits the abstract QLayout to provide a docking system for widgets.</p>
<p ><b>IMPORTANT</b> NOTE: Observe that the addWidget() method expects only widgets of type <a class="el" href="class_dock_widget.html" title="Dockable widgets are widget containers handled by DockLayout class.">DockWidget</a>, so any other widget type added to this kind of Layout will cause a run-time error.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_dock_widget.html" title="Dockable widgets are widget containers handled by DockLayout class.">DockWidget</a> and <a class="el" href="class_dock_separator.html">DockSeparator</a> classes. </dd></dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a21d48420fe967334b97130c58c40b9ee" name="a21d48420fe967334b97130c58c40b9ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21d48420fe967334b97130c58c40b9ee">&#9670;&nbsp;</a></span>State</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;std::vector&lt;QRect&gt;, QString&gt; DockLayout::State</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aeeddd3341857952a663a6acdf9a6bc43" name="aeeddd3341857952a663a6acdf9a6bc43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeddd3341857952a663a6acdf9a6bc43">&#9670;&nbsp;</a></span>DockLayout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DockLayout::DockLayout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   94</span>    : m_maximizedDock(0), m_decoAllocator(<span class="keyword">new</span> <a class="code hl_class" href="class_dock_deco_allocator.html">DockDecoAllocator</a>()) {}</div>
<div class="ttc" id="aclass_dock_deco_allocator_html"><div class="ttname"><a href="class_dock_deco_allocator.html">DockDecoAllocator</a></div><div class="ttdef"><b>Definition:</b> docklayout.h:599</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a614ee5ce1be1f602336c5d7a59ab1aeb" name="a614ee5ce1be1f602336c5d7a59ab1aeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a614ee5ce1be1f602336c5d7a59ab1aeb">&#9670;&nbsp;</a></span>~DockLayout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DockLayout::~DockLayout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   98</span>                        {</div>
<div class="line"><span class="lineno">   99</span>  <span class="comment">// Deleting Regions (separators are Widgets with parent, so they are</span></div>
<div class="line"><span class="lineno">  100</span>  <span class="comment">// recursively deleted)</span></div>
<div class="line"><span class="lineno">  101</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  102</span>  <span class="keywordflow">for</span> (i = 0; i &lt; m_regions.size(); ++i) <span class="keyword">delete</span> m_regions[i];</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>  <span class="comment">// Deleting dockWidgets</span></div>
<div class="line"><span class="lineno">  105</span>  <span class="keywordflow">for</span> (i = 0; i &lt; m_items.size(); ++i) {</div>
<div class="line"><span class="lineno">  106</span>    <span class="comment">// delete m_items[i]-&gt;widget();</span></div>
<div class="line"><span class="lineno">  107</span>    <span class="keyword">delete</span> m_items[i];</div>
<div class="line"><span class="lineno">  108</span>  }</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>  <span class="comment">// Delete deco allocator</span></div>
<div class="line"><span class="lineno">  111</span>  <span class="keyword">delete</span> m_decoAllocator;</div>
<div class="line"><span class="lineno">  112</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af0629562a0f509acdb7da7f25673a460" name="af0629562a0f509acdb7da7f25673a460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0629562a0f509acdb7da7f25673a460">&#9670;&nbsp;</a></span>addItem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DockLayout::addItem </td>
          <td>(</td>
          <td class="paramtype">QLayoutItem *&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  120</span>                                          {</div>
<div class="line"><span class="lineno">  121</span>  <a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *addedItem = <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *<span class="keyword">&gt;</span>(item-&gt;widget());</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>  <span class="comment">// Ensure that added item is effectively a DockWidget type;</span></div>
<div class="line"><span class="lineno">  124</span>  assert(addedItem);</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>  <span class="comment">// Check if item is already under layout&#39;s control. If so, quit.</span></div>
<div class="line"><span class="lineno">  127</span>  <span class="keywordflow">if</span> (find(addedItem)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>  <span class="comment">// Force reparentation. This is required in order to ensure that all items</span></div>
<div class="line"><span class="lineno">  130</span>  <span class="comment">// possess</span></div>
<div class="line"><span class="lineno">  131</span>  <span class="comment">// the same geometry() reference. Also store parentLayout for convenience.</span></div>
<div class="line"><span class="lineno">  132</span>  addedItem-&gt;m_parentLayout = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  133</span>  addedItem-&gt;setParent(parentWidget());</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>  <span class="comment">// Remember that reparenting a widget produces a window flags reset if the new</span></div>
<div class="line"><span class="lineno">  136</span>  <span class="comment">// parent is not the current one (see Qt&#39;s manual). So, first reassign</span></div>
<div class="line"><span class="lineno">  137</span>  <span class="comment">// standard</span></div>
<div class="line"><span class="lineno">  138</span>  <span class="comment">// floating flags, then call for custom appearance (which may eventually</span></div>
<div class="line"><span class="lineno">  139</span>  <span class="comment">// reassign the flags).</span></div>
<div class="line"><span class="lineno">  140</span>  addedItem-&gt;setWindowFlags(Qt::Tool | Qt::FramelessWindowHint);</div>
<div class="line"><span class="lineno">  141</span>  addedItem-&gt;<a class="code hl_function" href="class_dock_widget.html#a2138687c3cb1b48a87e1705e104780da">setFloatingAppearance</a>();</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>  m_items.push_back(item);</div>
<div class="line"><span class="lineno">  144</span>}</div>
<div class="ttc" id="aclass_dock_widget_html"><div class="ttname"><a href="class_dock_widget.html">DockWidget</a></div><div class="ttdoc">Dockable widgets are widget containers handled by DockLayout class.</div><div class="ttdef"><b>Definition:</b> docklayout.h:166</div></div>
<div class="ttc" id="aclass_dock_widget_html_a2138687c3cb1b48a87e1705e104780da"><div class="ttname"><a href="class_dock_widget.html#a2138687c3cb1b48a87e1705e104780da">DockWidget::setFloatingAppearance</a></div><div class="ttdeci">virtual void setFloatingAppearance()</div><div class="ttdef"><b>Definition:</b> docklayout.h:254</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7334af9707b7ccc9bf5ae23ff066555b" name="a7334af9707b7ccc9bf5ae23ff066555b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7334af9707b7ccc9bf5ae23ff066555b">&#9670;&nbsp;</a></span>applyTransform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DockLayout::applyTransform </td>
          <td>(</td>
          <td class="paramtype">const QTransform &amp;&#160;</td>
          <td class="paramname"><em>transform</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  417</span>                                                           {</div>
<div class="line"><span class="lineno">  418</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  419</span>  <span class="keywordflow">for</span> (i = 0; i &lt; m_regions.size(); ++i)</div>
<div class="line"><span class="lineno">  420</span>    m_regions[i]-&gt;<a class="code hl_function" href="class_dock_layout.html#a8a81f05e391a078a4f4ad951e059bfe7">setGeometry</a>(transform.mapRect(m_regions[i]-&gt;getGeometry()));</div>
<div class="line"><span class="lineno">  421</span>}</div>
<div class="ttc" id="aclass_dock_layout_html_a8a81f05e391a078a4f4ad951e059bfe7"><div class="ttname"><a href="class_dock_layout.html#a8a81f05e391a078a4f4ad951e059bfe7">DockLayout::setGeometry</a></div><div class="ttdeci">void setGeometry(const QRect &amp;rect) override</div><div class="ttdoc">NOTE: This method is currently unused by DockLayout implementation...</div><div class="ttdef"><b>Definition:</b> docklayout.cpp:305</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a92c8472d6c6b7cd0bdb479478c91dd94" name="a92c8472d6c6b7cd0bdb479478c91dd94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92c8472d6c6b7cd0bdb479478c91dd94">&#9670;&nbsp;</a></span>calculateDockPlaceholders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DockLayout::calculateDockPlaceholders </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dock_widget.html">DockWidget</a> *&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Calculates possible docking solutions for <b>this</b> dock widget. They are stored into the dock widget. <b>NOTE:</b> Placeholders are here calculated by decreasing importance; in other words, if two rects are part of the layout, and the first contains the second, placeholders of the first are found before those of the second. This fact may be exploited when selecting an appropriate placeholder for docking. </p>
<div class="fragment"><div class="line"><span class="lineno">  591</span>                                                           {</div>
<div class="line"><span class="lineno">  592</span>  assert(item);</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>  <span class="comment">// If the DockLayout&#39;s owner widget is hidden, avoid</span></div>
<div class="line"><span class="lineno">  595</span>  <span class="keywordflow">if</span> (!parentWidget()-&gt;isVisible()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>  <span class="keywordflow">if</span> (!m_regions.size()) {</div>
<div class="line"><span class="lineno">  598</span>    <span class="keywordflow">if</span> (isPossibleInsertion(item, 0, 0)) {</div>
<div class="line"><span class="lineno">  599</span>      <span class="comment">// Then insert a root placeholder only</span></div>
<div class="line"><span class="lineno">  600</span>      item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  601</span>          item, 0, 0, DockPlaceholder::root));</div>
<div class="line"><span class="lineno">  602</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  603</span>    }</div>
<div class="line"><span class="lineno">  604</span>  }</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>  <span class="comment">// For all regions (and for all insertion index), check if</span></div>
<div class="line"><span class="lineno">  607</span>  <span class="comment">// insertion may succeed.</span></div>
<div class="line"><span class="lineno">  608</span>  <span class="comment">// NOTE: Insertion chance is just the same for all indexes in a given</span></div>
<div class="line"><span class="lineno">  609</span>  <span class="comment">// parent region...</span></div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>  <span class="comment">// First check parentRegion=0 (under a new Root - External cases)</span></div>
<div class="line"><span class="lineno">  612</span>  <span class="keywordflow">if</span> (isPossibleInsertion(item, 0, 0)) {</div>
<div class="line"><span class="lineno">  613</span>    QRect contRect = contentsRect();</div>
<div class="line"><span class="lineno">  614</span>    <span class="keywordflow">if</span> (m_regions.front()-&gt;getOrientation() == Region::horizontal) {</div>
<div class="line"><span class="lineno">  615</span>      item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  616</span>          item, 0, 0, DockPlaceholder::top));</div>
<div class="line"><span class="lineno">  617</span>      item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  618</span>          item, 0, 1, DockPlaceholder::bottom));</div>
<div class="line"><span class="lineno">  619</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  620</span>      item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  621</span>          item, 0, 0, DockPlaceholder::left));</div>
<div class="line"><span class="lineno">  622</span>      item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  623</span>          item, 0, 1, DockPlaceholder::right));</div>
<div class="line"><span class="lineno">  624</span>    }</div>
<div class="line"><span class="lineno">  625</span>  }</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  628</span>  <span class="keywordflow">for</span> (i = 0; i &lt; m_regions.size(); ++i) {</div>
<div class="line"><span class="lineno">  629</span>    Region *r = m_regions[i];</div>
<div class="line"><span class="lineno">  630</span>    r-&gt;m_placeholders.clear();</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordflow">if</span> (isPossibleInsertion(item, r, 0)) {</div>
<div class="line"><span class="lineno">  633</span>      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno">  634</span>      QRect cellRect;</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>      <span class="comment">// For all indices, insert a placeholder</span></div>
<div class="line"><span class="lineno">  637</span>      <span class="keywordflow">if</span> (r-&gt;getOrientation() == Region::horizontal) {</div>
<div class="line"><span class="lineno">  638</span>        <span class="comment">// Left side</span></div>
<div class="line"><span class="lineno">  639</span>        item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  640</span>            item, r, 0, DockPlaceholder::left));</div>
<div class="line"><span class="lineno">  641</span>        r-&gt;m_placeholders.push_back(item-&gt;m_placeholders.back());</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>        <span class="comment">// Separators</span></div>
<div class="line"><span class="lineno">  644</span>        <span class="keywordflow">for</span> (j = 1; j &lt; r-&gt;getChildList().size(); ++j) {</div>
<div class="line"><span class="lineno">  645</span>          item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  646</span>              item, r, j, DockPlaceholder::sepVert));</div>
<div class="line"><span class="lineno">  647</span>          r-&gt;m_placeholders.push_back(item-&gt;m_placeholders.back());</div>
<div class="line"><span class="lineno">  648</span>        }</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>        <span class="comment">// Right side</span></div>
<div class="line"><span class="lineno">  651</span>        item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  652</span>            item, r, j, DockPlaceholder::right));</div>
<div class="line"><span class="lineno">  653</span>        r-&gt;m_placeholders.push_back(item-&gt;m_placeholders.back());</div>
<div class="line"><span class="lineno">  654</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  655</span>        <span class="comment">// Top side</span></div>
<div class="line"><span class="lineno">  656</span>        item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  657</span>            item, r, 0, DockPlaceholder::top));</div>
<div class="line"><span class="lineno">  658</span>        r-&gt;m_placeholders.push_back(item-&gt;m_placeholders.back());</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>        <span class="keywordflow">for</span> (j = 1; j &lt; r-&gt;getChildList().size(); ++j) {</div>
<div class="line"><span class="lineno">  661</span>          item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  662</span>              item, r, j, DockPlaceholder::sepHor));</div>
<div class="line"><span class="lineno">  663</span>          r-&gt;m_placeholders.push_back(item-&gt;m_placeholders.back());</div>
<div class="line"><span class="lineno">  664</span>        }</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>        <span class="comment">// Bottom side</span></div>
<div class="line"><span class="lineno">  667</span>        item-&gt;m_placeholders.push_back(item-&gt;m_decoAllocator-&gt;newPlaceBuilt(</div>
<div class="line"><span class="lineno">  668</span>            item, r, j, DockPlaceholder::bottom));</div>
<div class="line"><span class="lineno">  669</span>        r-&gt;m_placeholders.push_back(item-&gt;m_placeholders.back());</div>
<div class="line"><span class="lineno">  670</span>      }</div>
<div class="line"><span class="lineno">  671</span>    }</div>
<div class="line"><span class="lineno">  672</span>  }</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>  <span class="comment">// Disable all placeholders</span></div>
<div class="line"><span class="lineno">  675</span>  <span class="comment">// for(i=0; i&lt;item-&gt;m_placeholders.size(); ++i)</span></div>
<div class="line"><span class="lineno">  676</span>  <span class="comment">//  item-&gt;m_placeholders[i]-&gt;setDisabled(true);</span></div>
<div class="line"><span class="lineno">  677</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c31489eb36465df7050f399555f7f87" name="a1c31489eb36465df7050f399555f7f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c31489eb36465df7050f399555f7f87">&#9670;&nbsp;</a></span>containerOf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QWidget * DockLayout::containerOf </td>
          <td>(</td>
          <td class="paramtype">QPoint&#160;</td>
          <td class="paramname"><em>point</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  223</span>                                                   {</div>
<div class="line"><span class="lineno">  224</span>  <span class="comment">// Search among regions, from leaf regions to root.</span></div>
<div class="line"><span class="lineno">  225</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  226</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno">  227</span>  <span class="keywordflow">for</span> (i = m_regions.size() - 1; i &gt;= 0; --i) {</div>
<div class="line"><span class="lineno">  228</span>    Region *currRegion = m_regions[i];</div>
<div class="line"><span class="lineno">  229</span>    <a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *item   = currRegion-&gt;getItem();</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    <span class="comment">// First check if item contains it</span></div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">if</span> (item &amp;&amp; item-&gt;geometry().contains(point)) <span class="keywordflow">return</span> currRegion-&gt;getItem();</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// Then, search among separators</span></div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">for</span> (j = 0; j &lt; currRegion-&gt;separators().size(); ++j)</div>
<div class="line"><span class="lineno">  236</span>      <span class="keywordflow">if</span> (currRegion-&gt;separator(j)-&gt;geometry().contains(point))</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">return</span> currRegion-&gt;separator(j);</div>
<div class="line"><span class="lineno">  238</span>  }</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  241</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a213a99e39a10e0eeaf4898b71513ca82" name="a213a99e39a10e0eeaf4898b71513ca82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a213a99e39a10e0eeaf4898b71513ca82">&#9670;&nbsp;</a></span>count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int DockLayout::count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  116</span>{ <span class="keywordflow">return</span> m_items.size(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a711d02ecab994f2032d70a2192b929d0" name="a711d02ecab994f2032d70a2192b929d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a711d02ecab994f2032d70a2192b929d0">&#9670;&nbsp;</a></span>dockItem() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DockLayout::dockItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dock_widget.html">DockWidget</a> *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_dock_placeholder.html">DockPlaceholder</a> *&#160;</td>
          <td class="paramname"><em>place</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><b>NOTE:</b> Docked items are forcedly shown. </p>
<p >Docks input <b>item</b> before position <b>idx</b> of region <b>r</b>. Deals with overall region hierarchy. </p>
<div class="fragment"><div class="line"><span class="lineno">  685</span>                                                                  {</div>
<div class="line"><span class="lineno">  686</span>  place-&gt;hide();</div>
<div class="line"><span class="lineno">  687</span>  item-&gt;hide();</div>
<div class="line"><span class="lineno">  688</span>  dockItemPrivate(item, place-&gt;m_region, place-&gt;m_idx);</div>
<div class="line"><span class="lineno">  689</span>  redistribute();</div>
<div class="line"><span class="lineno">  690</span>  parentWidget()-&gt;repaint();</div>
<div class="line"><span class="lineno">  691</span>  item-&gt;setWindowFlags(Qt::SubWindow);</div>
<div class="line"><span class="lineno">  692</span>  item-&gt;show();</div>
<div class="line"><span class="lineno">  693</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9bdd18b713915081b96e5b74ee01fdb8" name="a9bdd18b713915081b96e5b74ee01fdb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bdd18b713915081b96e5b74ee01fdb8">&#9670;&nbsp;</a></span>dockItem() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DockLayout::dockItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dock_widget.html">DockWidget</a> *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_dock_widget.html">DockWidget</a> *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>regionSide</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Docks input <b>item</b> at side <b>regionside</b> of <b>target</b> dock widget. RegionSide can be Region::left, right, top or bottom. </p>
<div class="fragment"><div class="line"><span class="lineno">  700</span>                                          {</div>
<div class="line"><span class="lineno">  701</span>  Region *targetRegion = find(target);</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>  <span class="keywordtype">short</span> var = regionSide &gt;&gt; 2 * (int)targetRegion-&gt;getOrientation();</div>
<div class="line"><span class="lineno">  704</span>  <span class="keywordtype">bool</span> pos  = regionSide &amp; 0xa;</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>  item-&gt;setWindowFlags(Qt::SubWindow);</div>
<div class="line"><span class="lineno">  707</span>  item-&gt;show();</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>  <span class="keywordflow">if</span> (var &amp; 0x3) {</div>
<div class="line"><span class="lineno">  710</span>    <span class="comment">// Side is coherent with orientation =&gt; Direct insertion at position 0 or 1</span></div>
<div class="line"><span class="lineno">  711</span>    dockItemPrivate(item, targetRegion, pos);</div>
<div class="line"><span class="lineno">  712</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  713</span>    <span class="comment">// Side is not coherent - have to find target&#39;s index in parent region</span></div>
<div class="line"><span class="lineno">  714</span>    Region *parentRegion = targetRegion-&gt;getParent();</div>
<div class="line"><span class="lineno">  715</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx =</div>
<div class="line"><span class="lineno">  716</span>        parentRegion ? parentRegion-&gt;find(targetRegion) + pos : pos;</div>
<div class="line"><span class="lineno">  717</span>    dockItemPrivate(item, parentRegion, idx);</div>
<div class="line"><span class="lineno">  718</span>  }</div>
<div class="line"><span class="lineno">  719</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a536eefbe554eb4b451f8aecc13eab730" name="a536eefbe554eb4b451f8aecc13eab730"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a536eefbe554eb4b451f8aecc13eab730">&#9670;&nbsp;</a></span>dockItem() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_region.html">Region</a> * DockLayout::dockItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dock_widget.html">DockWidget</a> *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_region.html">Region</a> *&#160;</td>
          <td class="paramname"><em>r</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Docks input <b>item</b> into <a class="el" href="class_region.html">Region</a> <b>r</b>, at position <b>idx</b>; returns region corresponding to newly inserted item. <b>NOTE:</b> Unlike <a class="el" href="class_dock_layout.html#a711d02ecab994f2032d70a2192b929d0" title="NOTE: Docked items are forcedly shown.">dockItem(DockWidget*,DockPlaceholder*)</a> and undockItem, this method is supposedly called directly into application code; therefore, no <b>redistribution</b> is done after a single dock - you are supposed to manually call redistribute() after all widgets have been docked. </p>
<div class="fragment"><div class="line"><span class="lineno">  733</span>                                                                 {</div>
<div class="line"><span class="lineno">  734</span>  item-&gt;setWindowFlags(Qt::SubWindow);</div>
<div class="line"><span class="lineno">  735</span>  item-&gt;show();</div>
<div class="line"><span class="lineno">  736</span>  <span class="keywordflow">return</span> dockItemPrivate(item, r, idx);</div>
<div class="line"><span class="lineno">  737</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e2c2523ed3e68846364e5b61b97ab18" name="a8e2c2523ed3e68846364e5b61b97ab18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e2c2523ed3e68846364e5b61b97ab18">&#9670;&nbsp;</a></span>find()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_region.html">Region</a> * DockLayout::find </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dock_widget.html">DockWidget</a> *&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  572</span>                                               {</div>
<div class="line"><span class="lineno">  573</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>  <span class="keywordflow">for</span> (i = 0; i &lt; m_regions.size(); ++i)</div>
<div class="line"><span class="lineno">  576</span>    <span class="keywordflow">if</span> (m_regions[i]-&gt;getItem() == item) <span class="keywordflow">return</span> m_regions[i];</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  579</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d3b9ad52b2f99fc7f3009df76741be2" name="a9d3b9ad52b2f99fc7f3009df76741be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3b9ad52b2f99fc7f3009df76741be2">&#9670;&nbsp;</a></span>getMaximized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_dock_widget.html">DockWidget</a> * DockLayout::getMaximized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  104</span>{ <span class="keywordflow">return</span> m_maximizedDock; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a475071418f3fdef4bb708113de3ab4" name="a3a475071418f3fdef4bb708113de3ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a475071418f3fdef4bb708113de3ab4">&#9670;&nbsp;</a></span>itemAt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QLayoutItem * DockLayout::itemAt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  167</span>                                             {</div>
<div class="line"><span class="lineno">  168</span>  <span class="keywordflow">if</span> (idx &gt;= (<span class="keywordtype">int</span>)m_items.size()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  169</span>  <span class="keywordflow">return</span> m_items[idx];</div>
<div class="line"><span class="lineno">  170</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a411b22275730947646d0e278bae2b2c1" name="a411b22275730947646d0e278bae2b2c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a411b22275730947646d0e278bae2b2c1">&#9670;&nbsp;</a></span>maximumSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSize DockLayout::maximumSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  190</span>                                    {</div>
<div class="line"><span class="lineno">  191</span>  <span class="keywordflow">if</span> (!m_regions.empty()) {</div>
<div class="line"><span class="lineno">  192</span>    Region *r = m_regions.front();</div>
<div class="line"><span class="lineno">  193</span>    r-&gt;calculateExtremalSizes();</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">return</span> QSize(r-&gt;m_maximumSize[0], r-&gt;m_maximumSize[1]);</div>
<div class="line"><span class="lineno">  195</span>  }</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>  <span class="keywordflow">return</span> QSize(QWIDGETSIZE_MAX, QWIDGETSIZE_MAX);</div>
<div class="line"><span class="lineno">  198</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5554d93c51734f632e374e18abaa2a9" name="ab5554d93c51734f632e374e18abaa2a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5554d93c51734f632e374e18abaa2a9">&#9670;&nbsp;</a></span>minimumSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSize DockLayout::minimumSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  178</span>                                    {</div>
<div class="line"><span class="lineno">  179</span>  <span class="keywordflow">if</span> (!m_regions.empty()) {</div>
<div class="line"><span class="lineno">  180</span>    Region *r = m_regions.front();</div>
<div class="line"><span class="lineno">  181</span>    r-&gt;calculateExtremalSizes();</div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">return</span> QSize(r-&gt;m_minimumSize[0], r-&gt;m_minimumSize[1]);</div>
<div class="line"><span class="lineno">  183</span>  }</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>  <span class="keywordflow">return</span> QSize(0, 0);</div>
<div class="line"><span class="lineno">  186</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a69b63838813aa7448060dd60f05e763c" name="a69b63838813aa7448060dd60f05e763c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b63838813aa7448060dd60f05e763c">&#9670;&nbsp;</a></span>redistribute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DockLayout::redistribute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  465</span>                              {</div>
<div class="line"><span class="lineno">  466</span>  <span class="keywordflow">if</span> (!m_regions.empty()) {</div>
<div class="line"><span class="lineno">  467</span>    std::vector&lt;QWidget *&gt; widgets;</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>    <span class="comment">// Recompute extremal region sizes</span></div>
<div class="line"><span class="lineno">  470</span>    <span class="comment">// NOTA: Sarebbe da fare solo se un certo flag lo richiede; altrimenti tipo</span></div>
<div class="line"><span class="lineno">  471</span>    <span class="comment">// per resize events e&#39; inutile...</span></div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    <span class="comment">// let&#39;s force the width of the film strip / style editor not to change</span></div>
<div class="line"><span class="lineno">  474</span>    <span class="comment">// check recursively from the root region, if the widgets can be fixed.</span></div>
<div class="line"><span class="lineno">  475</span>    <span class="comment">// it avoids all widgets in horizontal alignment to be fixed, or UI becomes</span></div>
<div class="line"><span class="lineno">  476</span>    <span class="comment">// glitchy.</span></div>
<div class="line"><span class="lineno">  477</span>    <span class="keywordtype">bool</span> fromDocking = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordtype">bool</span> widgetsCanBeFixedWidth =</div>
<div class="line"><span class="lineno">  479</span>        !m_regions.front()-&gt;checkWidgetsToBeFixedWidth(widgets, fromDocking);</div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordflow">if</span> (!fromDocking &amp;&amp; widgetsCanBeFixedWidth) {</div>
<div class="line"><span class="lineno">  481</span>      <span class="keywordflow">for</span> (QWidget *widget : widgets) widget-&gt;setFixedWidth(widget-&gt;width());</div>
<div class="line"><span class="lineno">  482</span>    }</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>    m_regions.front()-&gt;calculateExtremalSizes();</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordtype">int</span> parentWidth  = contentsRect().width();</div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordtype">int</span> parentHeight = contentsRect().height();</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    <span class="comment">// Always check main window consistency before effective redistribution. DO</span></div>
<div class="line"><span class="lineno">  490</span>    <span class="comment">// NOT ERASE or crashes may occur...</span></div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">if</span> (m_regions.front()-&gt;getMinimumSize(Region::horizontal) &gt; parentWidth ||</div>
<div class="line"><span class="lineno">  492</span>        m_regions.front()-&gt;getMinimumSize(Region::vertical) &gt; parentHeight ||</div>
<div class="line"><span class="lineno">  493</span>        m_regions.front()-&gt;getMaximumSize(Region::horizontal) &lt; parentWidth ||</div>
<div class="line"><span class="lineno">  494</span>        m_regions.front()-&gt;getMaximumSize(Region::vertical) &lt; parentHeight)</div>
<div class="line"><span class="lineno">  495</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>    <span class="comment">// Recompute Layout geometry</span></div>
<div class="line"><span class="lineno">  498</span>    m_regions.front()-&gt;setGeometry(contentsRect());</div>
<div class="line"><span class="lineno">  499</span>    m_regions.front()-&gt;redistribute();</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>    <span class="keywordflow">if</span> (!fromDocking &amp;&amp; widgetsCanBeFixedWidth) {</div>
<div class="line"><span class="lineno">  502</span>      <span class="keywordflow">for</span> (QWidget *widget : widgets) {</div>
<div class="line"><span class="lineno">  503</span>        widget-&gt;setMaximumSize(QWIDGETSIZE_MAX, QWIDGETSIZE_MAX);</div>
<div class="line"><span class="lineno">  504</span>        widget-&gt;setMinimumSize(0, 0);</div>
<div class="line"><span class="lineno">  505</span>      }</div>
<div class="line"><span class="lineno">  506</span>    }</div>
<div class="line"><span class="lineno">  507</span>  }</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>  <span class="comment">// Finally, apply Region geometries found</span></div>
<div class="line"><span class="lineno">  510</span>  applyGeometry();</div>
<div class="line"><span class="lineno">  511</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ee1456b1987c4923af9a0995f648bd8" name="a9ee1456b1987c4923af9a0995f648bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ee1456b1987c4923af9a0995f648bd8">&#9670;&nbsp;</a></span>region()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_region.html">Region</a> * DockLayout::region </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  121</span>{ <span class="keywordflow">return</span> m_regions[i]; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c92d275518b7b35add4c3792fbd0b9a" name="a9c92d275518b7b35add4c3792fbd0b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c92d275518b7b35add4c3792fbd0b9a">&#9670;&nbsp;</a></span>regions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::deque&lt; <a class="el" href="class_region.html">Region</a> * &gt; &amp; DockLayout::regions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  120</span>{ <span class="keywordflow">return</span> m_regions; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8203490f8ec20cfe0fb1fb66d986553d" name="a8203490f8ec20cfe0fb1fb66d986553d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8203490f8ec20cfe0fb1fb66d986553d">&#9670;&nbsp;</a></span>restoreState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DockLayout::restoreState </td>
          <td>(</td>
          <td class="paramtype">const State &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restores the given internal structure of the layout. </p>
<p >This method is intended to restore the geometry of a set of items that was handled by the layout at the time the state was saved. Input are the geometries of the items involved and the dock hierarchy in form of a string. <b>IMPORTANT</b> <b>NOTE:</b> No check is performed on the item themselves, except for the consistency of their geometrical constraints inside the layout. Furthermore, this method does not ensure the identity of the items involved, assuming that the set of dock widget has ever been left unchanged or completely restored as it were when saved. In particular, their ordering must be preserved. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1450</span>                                                {</div>
<div class="line"><span class="lineno"> 1451</span>  QStringList vars = state.second.split(<span class="stringliteral">&quot; &quot;</span>, QString::SkipEmptyParts);</div>
<div class="line"><span class="lineno"> 1452</span>  <span class="keywordflow">if</span> (vars.size() &lt; 1) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span>  <span class="comment">// Check number of items</span></div>
<div class="line"><span class="lineno"> 1455</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = state.first.size();</div>
<div class="line"><span class="lineno"> 1456</span> </div>
<div class="line"><span class="lineno"> 1457</span>  <span class="keywordflow">if</span> (m_items.size() != count) <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// Items list is not coherent</span></div>
<div class="line"><span class="lineno"> 1458</span> </div>
<div class="line"><span class="lineno"> 1459</span>  <span class="comment">// Initialize new Regions hierarchy</span></div>
<div class="line"><span class="lineno"> 1460</span>  std::deque&lt;Region *&gt; newHierarchy;</div>
<div class="line"><span class="lineno"> 1461</span> </div>
<div class="line"><span class="lineno"> 1462</span>  <span class="comment">// Load it</span></div>
<div class="line"><span class="lineno"> 1463</span>  <span class="keywordtype">int</span> maximizedItem = vars[0].toInt();</div>
<div class="line"><span class="lineno"> 1464</span> </div>
<div class="line"><span class="lineno"> 1465</span>  <span class="keywordflow">if</span> (vars.size() &gt; 1) {</div>
<div class="line"><span class="lineno"> 1466</span>    <span class="comment">// Scan hierarchy</span></div>
<div class="line"><span class="lineno"> 1467</span>    Region *r       = 0, *newRegion;</div>
<div class="line"><span class="lineno"> 1468</span>    <span class="keywordtype">int</span> orientation = !vars[1].toInt();</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 1471</span>    <span class="keywordflow">for</span> (i = 2; i &lt; vars.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1472</span>      <span class="keywordflow">if</span> (vars[i] == <span class="stringliteral">&quot;]&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1473</span>        <span class="comment">// End region and get parent</span></div>
<div class="line"><span class="lineno"> 1474</span>        r = r-&gt;getParent();</div>
<div class="line"><span class="lineno"> 1475</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1476</span>        <span class="comment">// Allocate new Region</span></div>
<div class="line"><span class="lineno"> 1477</span>        newRegion = <span class="keyword">new</span> Region(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1478</span>        newHierarchy.push_back(newRegion);</div>
<div class="line"><span class="lineno"> 1479</span>        newRegion-&gt;m_orientation = !orientation;</div>
<div class="line"><span class="lineno"> 1480</span> </div>
<div class="line"><span class="lineno"> 1481</span>        <span class="keywordflow">if</span> (r) r-&gt;insertSubRegion(newRegion, r-&gt;getChildList().size());</div>
<div class="line"><span class="lineno"> 1482</span> </div>
<div class="line"><span class="lineno"> 1483</span>        <span class="keywordflow">if</span> (vars[i] == <span class="stringliteral">&quot;[&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1484</span>          <span class="comment">// Current region has children</span></div>
<div class="line"><span class="lineno"> 1485</span>          r = newRegion;</div>
<div class="line"><span class="lineno"> 1486</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1487</span>          <span class="comment">// newRegion has item</span></div>
<div class="line"><span class="lineno"> 1488</span>          newRegion-&gt;m_item =</div>
<div class="line"><span class="lineno"> 1489</span>              <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *<span class="keyword">&gt;</span>(m_items[vars[i].toInt()]-&gt;widget());</div>
<div class="line"><span class="lineno"> 1490</span>        }</div>
<div class="line"><span class="lineno"> 1491</span>      }</div>
<div class="line"><span class="lineno"> 1492</span>    }</div>
<div class="line"><span class="lineno"> 1493</span> </div>
<div class="line"><span class="lineno"> 1494</span>    <span class="comment">// Check if size constraints are satisfied</span></div>
<div class="line"><span class="lineno"> 1495</span>    newHierarchy[0]-&gt;calculateExtremalSizes();</div>
<div class="line"><span class="lineno"> 1496</span>  }</div>
<div class="line"><span class="lineno"> 1497</span> </div>
<div class="line"><span class="lineno"> 1498</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno"> 1499</span>  <span class="keywordflow">for</span> (j = 0; j &lt; newHierarchy.size(); ++j) {</div>
<div class="line"><span class="lineno"> 1500</span>    <span class="comment">// Check if their extremal sizes are valid</span></div>
<div class="line"><span class="lineno"> 1501</span>    Region *r = newHierarchy[j];</div>
<div class="line"><span class="lineno"> 1502</span>    <span class="keywordflow">if</span> (r-&gt;getMinimumSize(Region::horizontal) &gt;</div>
<div class="line"><span class="lineno"> 1503</span>            r-&gt;getMaximumSize(Region::horizontal) ||</div>
<div class="line"><span class="lineno"> 1504</span>        r-&gt;getMinimumSize(Region::vertical) &gt;</div>
<div class="line"><span class="lineno"> 1505</span>            r-&gt;getMaximumSize(Region::vertical)) {</div>
<div class="line"><span class="lineno"> 1506</span>      <span class="comment">// If not, deallocate attempted hierarchy and quit</span></div>
<div class="line"><span class="lineno"> 1507</span>      <span class="keywordflow">for</span> (j = 0; j &lt; newHierarchy.size(); ++j) <span class="keyword">delete</span> newHierarchy[j];</div>
<div class="line"><span class="lineno"> 1508</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1509</span>    }</div>
<div class="line"><span class="lineno"> 1510</span>  }</div>
<div class="line"><span class="lineno"> 1511</span> </div>
<div class="line"><span class="lineno"> 1512</span>  <span class="comment">// Else, deallocate old regions and substitute with new ones</span></div>
<div class="line"><span class="lineno"> 1513</span>  <span class="keywordflow">for</span> (j = 0; j &lt; m_regions.size(); ++j) <span class="keyword">delete</span> m_regions[j];</div>
<div class="line"><span class="lineno"> 1514</span>  m_regions = newHierarchy;</div>
<div class="line"><span class="lineno"> 1515</span> </div>
<div class="line"><span class="lineno"> 1516</span>  <span class="comment">// Now re-initialize dock widgets&#39; infos.</span></div>
<div class="line"><span class="lineno"> 1517</span>  <span class="keyword">const</span> std::vector&lt;QRect&gt; &amp;geoms = state.first;</div>
<div class="line"><span class="lineno"> 1518</span>  <a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *item;</div>
<div class="line"><span class="lineno"> 1519</span>  <span class="keywordflow">for</span> (j = 0; j &lt; m_items.size(); ++j) {</div>
<div class="line"><span class="lineno"> 1520</span>    item = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *<span class="keyword">&gt;</span>(m_items[j]-&gt;widget());</div>
<div class="line"><span class="lineno"> 1521</span>    item-&gt;setGeometry(geoms[j]);</div>
<div class="line"><span class="lineno"> 1522</span>    item-&gt;m_maximized = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1523</span>    item-&gt;m_saveIndex = j;</div>
<div class="line"><span class="lineno"> 1524</span>  }</div>
<div class="line"><span class="lineno"> 1525</span> </div>
<div class="line"><span class="lineno"> 1526</span>  <span class="comment">// Docked widgets are found in hierarchy</span></div>
<div class="line"><span class="lineno"> 1527</span>  <span class="keywordflow">for</span> (j = 0; j &lt; m_regions.size(); ++j)</div>
<div class="line"><span class="lineno"> 1528</span>    <span class="keywordflow">if</span> ((item = m_regions[j]-&gt;m_item)) {</div>
<div class="line"><span class="lineno"> 1529</span>      item-&gt;setWindowFlags(Qt::SubWindow);</div>
<div class="line"><span class="lineno"> 1530</span>      item-&gt;<a class="code hl_function" href="class_dock_widget.html#ab51f89d52251ed32cc42736af218d432">setDockedAppearance</a>();</div>
<div class="line"><span class="lineno"> 1531</span>      item-&gt;m_floating  = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1532</span>      item-&gt;m_saveIndex = -1;</div>
<div class="line"><span class="lineno"> 1533</span>      item-&gt;show();</div>
<div class="line"><span class="lineno"> 1534</span>    }</div>
<div class="line"><span class="lineno"> 1535</span> </div>
<div class="line"><span class="lineno"> 1536</span>  <span class="comment">// Recover available geometry infos</span></div>
<div class="line"><span class="lineno"> 1537</span>  <span class="comment">// QRect availableRect= QApplication::desktop()-&gt;availableGeometry();</span></div>
<div class="line"><span class="lineno"> 1538</span>  <span class="keywordtype">int</span> recoverX = 0, recoverY = 0;</div>
<div class="line"><span class="lineno"> 1539</span> </div>
<div class="line"><span class="lineno"> 1540</span>  <span class="comment">// Deal with floating panels</span></div>
<div class="line"><span class="lineno"> 1541</span>  <span class="keywordflow">for</span> (j = 0; j &lt; m_items.size(); ++j) {</div>
<div class="line"><span class="lineno"> 1542</span>    item = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *<span class="keyword">&gt;</span>(m_items[j]-&gt;widget());</div>
<div class="line"><span class="lineno"> 1543</span> </div>
<div class="line"><span class="lineno"> 1544</span>    <span class="keywordflow">if</span> (item-&gt;m_saveIndex &gt; 0) {</div>
<div class="line"><span class="lineno"> 1545</span>      <span class="comment">// Ensure that floating panels are not placed in</span></div>
<div class="line"><span class="lineno"> 1546</span>      <span class="comment">// unavailable positions</span></div>
<div class="line"><span class="lineno"> 1547</span>      <span class="keywordflow">if</span> ((geoms[j] &amp; QApplication::desktop()-&gt;availableGeometry(item))</div>
<div class="line"><span class="lineno"> 1548</span>              .isEmpty())</div>
<div class="line"><span class="lineno"> 1549</span>        item-&gt;move(recoverX += 50, recoverY += 50);</div>
<div class="line"><span class="lineno"> 1550</span> </div>
<div class="line"><span class="lineno"> 1551</span>      <span class="comment">// Set floating appearances</span></div>
<div class="line"><span class="lineno"> 1552</span>      item-&gt;setWindowFlags(Qt::Tool | Qt::FramelessWindowHint);</div>
<div class="line"><span class="lineno"> 1553</span>      item-&gt;<a class="code hl_function" href="class_dock_widget.html#a2138687c3cb1b48a87e1705e104780da">setFloatingAppearance</a>();</div>
<div class="line"><span class="lineno"> 1554</span>      item-&gt;m_floating = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1555</span>    }</div>
<div class="line"><span class="lineno"> 1556</span>  }</div>
<div class="line"><span class="lineno"> 1557</span> </div>
<div class="line"><span class="lineno"> 1558</span>  <span class="comment">// Allocate region separators</span></div>
<div class="line"><span class="lineno"> 1559</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k;</div>
<div class="line"><span class="lineno"> 1560</span>  <span class="keywordflow">for</span> (j = 0; j &lt; m_regions.size(); ++j) {</div>
<div class="line"><span class="lineno"> 1561</span>    Region *r = m_regions[j];</div>
<div class="line"><span class="lineno"> 1562</span>    <span class="keywordflow">for</span> (k = 1; k &lt; r-&gt;m_childList.size(); ++k) {</div>
<div class="line"><span class="lineno"> 1563</span>      r-&gt;insertSeparator(</div>
<div class="line"><span class="lineno"> 1564</span>          m_decoAllocator-&gt;<a class="code hl_function" href="class_dock_deco_allocator.html#ac427c059e74dfd887d99cd1db14952d7">newSeparator</a>(<span class="keyword">this</span>, r-&gt;getOrientation(), r));</div>
<div class="line"><span class="lineno"> 1565</span>    }</div>
<div class="line"><span class="lineno"> 1566</span>  }</div>
<div class="line"><span class="lineno"> 1567</span> </div>
<div class="line"><span class="lineno"> 1568</span>  <span class="comment">// Calculate regions&#39; geometry starting from leaves (items)</span></div>
<div class="line"><span class="lineno"> 1569</span>  <span class="keywordflow">if</span> (m_regions.size()) m_regions[0]-&gt;restoreGeometry();</div>
<div class="line"><span class="lineno"> 1570</span> </div>
<div class="line"><span class="lineno"> 1571</span>  <span class="comment">// Then, ensure the result is correctly fitting the contents rect</span></div>
<div class="line"><span class="lineno"> 1572</span>  <span class="comment">// redistribute();</span></div>
<div class="line"><span class="lineno"> 1573</span> </div>
<div class="line"><span class="lineno"> 1574</span>  <span class="comment">// NOTE: The previous might be tempting to ensure all is right -</span></div>
<div class="line"><span class="lineno"> 1575</span>  <span class="comment">// unfortunately, it may</span></div>
<div class="line"><span class="lineno"> 1576</span>  <span class="comment">// be that the main window&#39;s content rect is not yet defined before it is</span></div>
<div class="line"><span class="lineno"> 1577</span>  <span class="comment">// shown the first</span></div>
<div class="line"><span class="lineno"> 1578</span>  <span class="comment">// time (like on MAC), and that is needed to redistribute. Se we force the</span></div>
<div class="line"><span class="lineno"> 1579</span>  <span class="comment">// saved values</span></div>
<div class="line"><span class="lineno"> 1580</span>  <span class="comment">//(assuming they are right)...</span></div>
<div class="line"><span class="lineno"> 1581</span>  applyGeometry();</div>
<div class="line"><span class="lineno"> 1582</span> </div>
<div class="line"><span class="lineno"> 1583</span>  <span class="comment">// Finally, set maximized dock widget</span></div>
<div class="line"><span class="lineno"> 1584</span>  <span class="keywordflow">if</span> (maximizedItem != -1) {</div>
<div class="line"><span class="lineno"> 1585</span>    item = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *<span class="keyword">&gt;</span>(m_items[maximizedItem]-&gt;widget());</div>
<div class="line"><span class="lineno"> 1586</span> </div>
<div class="line"><span class="lineno"> 1587</span>    <span class="comment">// Problema: Puo&#39; essere, in fase di caricamento dati, che la contentsRect</span></div>
<div class="line"><span class="lineno"> 1588</span>    <span class="comment">// del layout</span></div>
<div class="line"><span class="lineno"> 1589</span>    <span class="comment">// venga sballata! (vv. lo ctor di TMainWindow) Allora, evitiamo il</span></div>
<div class="line"><span class="lineno"> 1590</span>    <span class="comment">// controllo fatto</span></div>
<div class="line"><span class="lineno"> 1591</span>    <span class="comment">// in setMazimized, e assumiamo sia per forza corretto...</span></div>
<div class="line"><span class="lineno"> 1592</span>    <span class="comment">// setMaximized(item, true);</span></div>
<div class="line"><span class="lineno"> 1593</span> </div>
<div class="line"><span class="lineno"> 1594</span>    m_maximizedDock   = item;</div>
<div class="line"><span class="lineno"> 1595</span>    item-&gt;m_maximized = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1596</span>    item-&gt;raise();</div>
<div class="line"><span class="lineno"> 1597</span> </div>
<div class="line"><span class="lineno"> 1598</span>    <span class="comment">// Hide all other widgets</span></div>
<div class="line"><span class="lineno"> 1599</span>    QWidget *currWidget;</div>
<div class="line"><span class="lineno"> 1600</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; this-&gt;count(); ++i)</div>
<div class="line"><span class="lineno"> 1601</span>      <span class="keywordflow">if</span> ((currWidget = itemAt(i)-&gt;widget()) != item) currWidget-&gt;hide();</div>
<div class="line"><span class="lineno"> 1602</span>  }</div>
<div class="line"><span class="lineno"> 1603</span> </div>
<div class="line"><span class="lineno"> 1604</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1605</span>}</div>
<div class="ttc" id="aclass_dock_deco_allocator_html_ac427c059e74dfd887d99cd1db14952d7"><div class="ttname"><a href="class_dock_deco_allocator.html#ac427c059e74dfd887d99cd1db14952d7">DockDecoAllocator::newSeparator</a></div><div class="ttdeci">virtual DockSeparator * newSeparator(DockLayout *owner, bool orientation, Region *parentRegion)</div><div class="ttdef"><b>Definition:</b> docklayout.cpp:1649</div></div>
<div class="ttc" id="aclass_dock_widget_html_ab51f89d52251ed32cc42736af218d432"><div class="ttname"><a href="class_dock_widget.html#ab51f89d52251ed32cc42736af218d432">DockWidget::setDockedAppearance</a></div><div class="ttdeci">virtual void setDockedAppearance()</div><div class="ttdef"><b>Definition:</b> docklayout.h:260</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01649">DockDecoAllocator::newSeparator()</a>, <a class="el" href="#l00260">DockWidget::setDockedAppearance()</a>, and <a class="el" href="#l00254">DockWidget::setFloatingAppearance()</a>.</p>

</div>
</div>
<a id="aa2c3f499015acc5619cec81c29454a6b" name="aa2c3f499015acc5619cec81c29454a6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2c3f499015acc5619cec81c29454a6b">&#9670;&nbsp;</a></span>rootRegion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_region.html">Region</a> * DockLayout::rootRegion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  117</span>                             {</div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">return</span> m_regions.size() ? m_regions.front() : 0;</div>
<div class="line"><span class="lineno">  119</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a43bacb88156d890692a1cf7440654d4e" name="a43bacb88156d890692a1cf7440654d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43bacb88156d890692a1cf7440654d4e">&#9670;&nbsp;</a></span>saveState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DockLayout::State DockLayout::saveState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the current <b>State</b> of the layout. A State is a typedef for a pair containing the (normal) geometries of all layout items, and a string indicating their hierarchycal structure. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1376</span>                                      {</div>
<div class="line"><span class="lineno"> 1377</span>  QString hierarchy;</div>
<div class="line"><span class="lineno"> 1378</span> </div>
<div class="line"><span class="lineno"> 1379</span>  <span class="comment">// Set save indices so we don&#39;t need to find anything</span></div>
<div class="line"><span class="lineno"> 1380</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 1381</span>  <span class="keywordflow">for</span> (i = 0; i &lt; m_regions.size(); ++i) m_regions[i]-&gt;m_saveIndex = i;</div>
<div class="line"><span class="lineno"> 1382</span> </div>
<div class="line"><span class="lineno"> 1383</span>  <a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *item;</div>
<div class="line"><span class="lineno"> 1384</span>  <span class="keywordflow">for</span> (i = 0; i &lt; m_items.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1385</span>    item              = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *<span class="keyword">&gt;</span>(m_items[i]-&gt;widget());</div>
<div class="line"><span class="lineno"> 1386</span>    item-&gt;m_saveIndex = i;</div>
<div class="line"><span class="lineno"> 1387</span>  }</div>
<div class="line"><span class="lineno"> 1388</span> </div>
<div class="line"><span class="lineno"> 1389</span>  <span class="comment">// Write item geometries</span></div>
<div class="line"><span class="lineno"> 1390</span>  std::vector&lt;QRect&gt; geometries;</div>
<div class="line"><span class="lineno"> 1391</span>  <span class="keywordflow">for</span> (i = 0; i &lt; m_items.size(); ++i)</div>
<div class="line"><span class="lineno"> 1392</span>    geometries.push_back(m_items[i]-&gt;geometry());</div>
<div class="line"><span class="lineno"> 1393</span> </div>
<div class="line"><span class="lineno"> 1394</span>  QTextStream stream(&amp;hierarchy, QIODevice::WriteOnly);</div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span>  <span class="comment">// Save maximimized Dock index and geometry</span></div>
<div class="line"><span class="lineno"> 1397</span>  stream &lt;&lt; QString::number(m_maximizedDock ? m_maximizedDock-&gt;m_saveIndex : -1)</div>
<div class="line"><span class="lineno"> 1398</span>         &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><span class="lineno"> 1399</span>  <span class="keywordflow">if</span> (m_maximizedDock) {</div>
<div class="line"><span class="lineno"> 1400</span>    Region *r                                = find(m_maximizedDock);</div>
<div class="line"><span class="lineno"> 1401</span>    geometries[m_maximizedDock-&gt;m_saveIndex] = toRect(r-&gt;getGeometry());</div>
<div class="line"><span class="lineno"> 1402</span>  }</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span>  <span class="comment">// Save regions</span></div>
<div class="line"><span class="lineno"> 1405</span>  Region *r = rootRegion();</div>
<div class="line"><span class="lineno"> 1406</span>  <span class="keywordflow">if</span> (r) {</div>
<div class="line"><span class="lineno"> 1407</span>    stream &lt;&lt; QString::number(r-&gt;getOrientation()) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><span class="lineno"> 1408</span>    writeRegion(r, hierarchy);</div>
<div class="line"><span class="lineno"> 1409</span>  }</div>
<div class="line"><span class="lineno"> 1410</span> </div>
<div class="line"><span class="lineno"> 1411</span>  <span class="keywordflow">return</span> std::pair&lt;std::vector&lt;QRect&gt;, QString&gt;(geometries, hierarchy);</div>
<div class="line"><span class="lineno"> 1412</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a65ee3347a86fa365b7ce4f99ad91cec2" name="a65ee3347a86fa365b7ce4f99ad91cec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65ee3347a86fa365b7ce4f99ad91cec2">&#9670;&nbsp;</a></span>setDecoAllocator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DockLayout::setDecoAllocator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dock_deco_allocator.html">DockDecoAllocator</a> *&#160;</td>
          <td class="paramname"><em>decoAllocator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><b>NOTE:</b> <a class="el" href="class_dock_layout.html">DockLayout</a> takes ownership of the allocator. </p>
<p >Sets current deco allocator to decoAllocator. A default deco allocator is already provided at construction. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1682</span>                                                                  {</div>
<div class="line"><span class="lineno"> 1683</span>  <span class="comment">// Delete old one</span></div>
<div class="line"><span class="lineno"> 1684</span>  <span class="keywordflow">if</span> (m_decoAllocator) <span class="keyword">delete</span> m_decoAllocator;</div>
<div class="line"><span class="lineno"> 1685</span> </div>
<div class="line"><span class="lineno"> 1686</span>  <span class="comment">// Place new one</span></div>
<div class="line"><span class="lineno"> 1687</span>  m_decoAllocator = decoAllocator;</div>
<div class="line"><span class="lineno"> 1688</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a81f05e391a078a4f4ad951e059bfe7" name="a8a81f05e391a078a4f4ad951e059bfe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a81f05e391a078a4f4ad951e059bfe7">&#9670;&nbsp;</a></span>setGeometry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DockLayout::setGeometry </td>
          <td>(</td>
          <td class="paramtype">const QRect &amp;&#160;</td>
          <td class="paramname"><em>rect</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>NOTE: This method is currently unused by <a class="el" href="class_dock_layout.html">DockLayout</a> implementation... </p>
<div class="fragment"><div class="line"><span class="lineno">  305</span>                                              {</div>
<div class="line"><span class="lineno">  306</span>  <span class="comment">// Just pass the info to the widget (it&#39;s somehow necessary...)</span></div>
<div class="line"><span class="lineno">  307</span>  QLayout::setGeometry(rect);</div>
<div class="line"><span class="lineno">  308</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8906566c13a82b50ef107089d6ee2dc7" name="a8906566c13a82b50ef107089d6ee2dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8906566c13a82b50ef107089d6ee2dc7">&#9670;&nbsp;</a></span>setMaximized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DockLayout::setMaximized </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dock_widget.html">DockWidget</a> *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  245</span>                                                          {</div>
<div class="line"><span class="lineno">  246</span>  <span class="keywordflow">if</span> (item &amp;&amp; state != item-&gt;m_maximized) {</div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span> (state) {</div>
<div class="line"><span class="lineno">  248</span>      <span class="comment">// Maximize</span></div>
<div class="line"><span class="lineno">  249</span>      <span class="keywordflow">if</span> (m_maximizedDock) {</div>
<div class="line"><span class="lineno">  250</span>        <span class="comment">// If maximized already exists, normalize it</span></div>
<div class="line"><span class="lineno">  251</span>        Region *r = find(m_maximizedDock);</div>
<div class="line"><span class="lineno">  252</span>        m_maximizedDock-&gt;setGeometry(toRect(r-&gt;getGeometry()));</div>
<div class="line"><span class="lineno">  253</span>        m_maximizedDock-&gt;m_maximized = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  254</span>      }</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>      <span class="comment">// Now, attempt requested item maximization</span></div>
<div class="line"><span class="lineno">  257</span>      QSize minimumSize = item-&gt;minimumSize();</div>
<div class="line"><span class="lineno">  258</span>      QSize maximumSize = item-&gt;maximumSize();</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>      <span class="keywordflow">if</span> (contentsRect().width() &gt; minimumSize.width() &amp;&amp;</div>
<div class="line"><span class="lineno">  261</span>          contentsRect().height() &gt; minimumSize.height() &amp;&amp;</div>
<div class="line"><span class="lineno">  262</span>          contentsRect().width() &lt; maximumSize.width() &amp;&amp;</div>
<div class="line"><span class="lineno">  263</span>          contentsRect().height() &lt; maximumSize.height()) {</div>
<div class="line"><span class="lineno">  264</span>        <span class="comment">// Maximization succeeds</span></div>
<div class="line"><span class="lineno">  265</span>        item-&gt;setGeometry(contentsRect());</div>
<div class="line"><span class="lineno">  266</span>        item-&gt;raise();</div>
<div class="line"><span class="lineno">  267</span>        item-&gt;m_maximized = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  268</span>        m_maximizedDock   = item;</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>        <span class="comment">// Hide all the other docked widgets (no need to update them. Moreover,</span></div>
<div class="line"><span class="lineno">  271</span>        <span class="comment">// doing so</span></div>
<div class="line"><span class="lineno">  272</span>        <span class="comment">// could eventually result in painting over the newly maximized widget)</span></div>
<div class="line"><span class="lineno">  273</span>        <a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *currWidget;</div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count(); ++i) {</div>
<div class="line"><span class="lineno">  275</span>          currWidget = (<a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *)itemAt(i)-&gt;widget();</div>
<div class="line"><span class="lineno">  276</span>          <span class="keywordflow">if</span> (currWidget != item &amp;&amp; !currWidget-&gt;isFloating())</div>
<div class="line"><span class="lineno">  277</span>            currWidget-&gt;hide();</div>
<div class="line"><span class="lineno">  278</span>        }</div>
<div class="line"><span class="lineno">  279</span>      }</div>
<div class="line"><span class="lineno">  280</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  281</span>      <span class="comment">// Normalize</span></div>
<div class="line"><span class="lineno">  282</span>      Region *r = find(m_maximizedDock);</div>
<div class="line"><span class="lineno">  283</span>      <span class="keywordflow">if</span> (r) m_maximizedDock-&gt;setGeometry(toRect(r-&gt;getGeometry()));</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>      m_maximizedDock-&gt;m_maximized = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  286</span>      m_maximizedDock              = 0;</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>      <span class="comment">// Show all other docked widgets</span></div>
<div class="line"><span class="lineno">  289</span>      <a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *currWidget;</div>
<div class="line"><span class="lineno">  290</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count(); ++i) {</div>
<div class="line"><span class="lineno">  291</span>        currWidget = (<a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *)itemAt(i)-&gt;widget();</div>
<div class="line"><span class="lineno">  292</span>        <span class="keywordflow">if</span> (currWidget != item &amp;&amp; !currWidget-&gt;isFloating()) currWidget-&gt;show();</div>
<div class="line"><span class="lineno">  293</span>      }</div>
<div class="line"><span class="lineno">  294</span>    }</div>
<div class="line"><span class="lineno">  295</span>  }</div>
<div class="line"><span class="lineno">  296</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f2dec94737823c8764a1758ca80822f" name="a0f2dec94737823c8764a1758ca80822f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f2dec94737823c8764a1758ca80822f">&#9670;&nbsp;</a></span>sizeHint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QSize DockLayout::sizeHint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  202</span>                                 {</div>
<div class="line"><span class="lineno">  203</span>  QSize s(0, 0);</div>
<div class="line"><span class="lineno">  204</span>  <span class="keywordtype">int</span> n = m_items.size();</div>
<div class="line"><span class="lineno">  205</span>  <span class="keywordflow">if</span> (n &gt; 0) s = QSize(100, 70);  <span class="comment">// start with a nice default size</span></div>
<div class="line"><span class="lineno">  206</span>  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><span class="lineno">  207</span>  <span class="keywordflow">while</span> (i &lt; n) {</div>
<div class="line"><span class="lineno">  208</span>    QLayoutItem *o = m_items[i];</div>
<div class="line"><span class="lineno">  209</span>    s              = s.expandedTo(o-&gt;sizeHint());</div>
<div class="line"><span class="lineno">  210</span>    ++i;</div>
<div class="line"><span class="lineno">  211</span>  }</div>
<div class="line"><span class="lineno">  212</span>  <span class="keywordflow">return</span> s + n * QSize(spacing(), spacing());</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>  <span class="comment">// return QSize(0,0);</span></div>
<div class="line"><span class="lineno">  215</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aaba247b4898c7211686031a4464feb5c" name="aaba247b4898c7211686031a4464feb5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba247b4898c7211686031a4464feb5c">&#9670;&nbsp;</a></span>takeAt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QLayoutItem * DockLayout::takeAt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  148</span>                                       {</div>
<div class="line"><span class="lineno">  149</span>  <span class="keywordflow">if</span> (idx &lt; 0 || idx &gt;= (<span class="keywordtype">int</span>)m_items.size()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>  QLayoutItem *item = m_items[idx];</div>
<div class="line"><span class="lineno">  152</span>  <a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *dw    = <span class="keyword">static_cast&lt;</span><a class="code hl_class" href="class_dock_widget.html">DockWidget</a> *<span class="keyword">&gt;</span>(item-&gt;widget());</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>  <span class="comment">// If docked, undock item</span></div>
<div class="line"><span class="lineno">  155</span>  <span class="keywordflow">if</span> (!dw-&gt;isFloating()) <a class="code hl_function" href="class_dock_layout.html#ad36e77a79ff02104b0d41d8f2801bc5e">undockItem</a>(dw);</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>  <span class="comment">// Reset item&#39;s parentLayout</span></div>
<div class="line"><span class="lineno">  158</span>  dw-&gt;m_parentLayout = 0;</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>  m_items.erase(m_items.begin() + idx);</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>  <span class="keywordflow">return</span> item;</div>
<div class="line"><span class="lineno">  163</span>}</div>
<div class="ttc" id="aclass_dock_layout_html_ad36e77a79ff02104b0d41d8f2801bc5e"><div class="ttname"><a href="class_dock_layout.html#ad36e77a79ff02104b0d41d8f2801bc5e">DockLayout::undockItem</a></div><div class="ttdeci">bool undockItem(DockWidget *item)</div><div class="ttdoc">Undocks item and updates geometry.</div><div class="ttdef"><b>Definition:</b> docklayout.cpp:874</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad36e77a79ff02104b0d41d8f2801bc5e" name="ad36e77a79ff02104b0d41d8f2801bc5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad36e77a79ff02104b0d41d8f2801bc5e">&#9670;&nbsp;</a></span>undockItem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool DockLayout::undockItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_dock_widget.html">DockWidget</a> *&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Undocks <b>item</b> and updates geometry. </p>
<p ><b>NOTE:</b> Window flags are reset to floating appearance (thus hiding the widget). Since the geometry reference changes a geometry() update may be needed - so item's show() is not forced here. You should eventually remember to call it manually after this. </p>
<div class="fragment"><div class="line"><span class="lineno">  874</span>                                            {</div>
<div class="line"><span class="lineno">  875</span>  <span class="comment">// Find item&#39;s region index in m_regions</span></div>
<div class="line"><span class="lineno">  876</span>  Region *itemCarrier = find(item);</div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>  Region *parent = itemCarrier-&gt;getParent();</div>
<div class="line"><span class="lineno">  879</span>  <span class="keywordflow">if</span> (parent) {</div>
<div class="line"><span class="lineno">  880</span>    <span class="keywordtype">int</span> removalIdx = 0;</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span>    <span class="comment">// Find removal index in parent&#39;s childList</span></div>
<div class="line"><span class="lineno">  883</span>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno">  884</span>    <span class="keywordflow">for</span> (j = 0; j &lt; parent-&gt;getChildList().size(); ++j)</div>
<div class="line"><span class="lineno">  885</span>      <span class="keywordflow">if</span> (parent-&gt;getChildList()[j]-&gt;getItem() == item) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>    <span class="keywordflow">if</span> (isPossibleRemoval(item, parent, removalIdx))</div>
<div class="line"><span class="lineno">  888</span>      parent-&gt;removeItem(item);</div>
<div class="line"><span class="lineno">  889</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  890</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  891</span>  }</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span>  <span class="comment">// Remove region in regions list</span></div>
<div class="line"><span class="lineno">  894</span>  <span class="comment">// m_regions.erase(i);   //Don&#39;t - m_regions is cleaned before the end by</span></div>
<div class="line"><span class="lineno">  895</span>  <span class="comment">// remove_if</span></div>
<div class="line"><span class="lineno">  896</span>  itemCarrier-&gt;setItem(0);</div>
<div class="line"><span class="lineno">  897</span> </div>
<div class="line"><span class="lineno">  898</span>  std::deque&lt;Region *&gt;::iterator j;</div>
<div class="line"><span class="lineno">  899</span>  j = std::remove_if(m_regions.begin(), m_regions.end(), isEmptyRegion);</div>
<div class="line"><span class="lineno">  900</span>  m_regions.resize(j - m_regions.begin());</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>  <span class="comment">// Update status</span></div>
<div class="line"><span class="lineno">  903</span>  <span class="comment">// qDebug(&quot;Undock&quot;);</span></div>
<div class="line"><span class="lineno">  904</span>  item-&gt;setWindowFlags(Qt::Tool | Qt::FramelessWindowHint);</div>
<div class="line"><span class="lineno">  905</span>  <span class="comment">// NOTA: Usando la flag Qt::Window il focus viene automaticamente riassegnato,</span></div>
<div class="line"><span class="lineno">  906</span>  <span class="comment">// con un po&#39; di ritardo.</span></div>
<div class="line"><span class="lineno">  907</span>  <span class="comment">// Usando Tool questo non accade. In questo caso, i placeholder devono essere</span></div>
<div class="line"><span class="lineno">  908</span>  <span class="comment">// disattivati...</span></div>
<div class="line"><span class="lineno">  909</span> </div>
<div class="line"><span class="lineno">  910</span>  item-&gt;<a class="code hl_function" href="class_dock_widget.html#a2138687c3cb1b48a87e1705e104780da">setFloatingAppearance</a>();</div>
<div class="line"><span class="lineno">  911</span>  item-&gt;m_floating = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>  <span class="comment">// show minimize button in FlipbookPanel</span></div>
<div class="line"><span class="lineno">  914</span>  item-&gt;onDock(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>  setMaximized(item, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>  redistribute();</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  921</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00254">DockWidget::setFloatingAppearance()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00262">TDockWidget::setFloating()</a>.</p>

</div>
</div>
<a id="a04eb5e2fdf22478c7a8aa50f99ff3668" name="a04eb5e2fdf22478c7a8aa50f99ff3668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04eb5e2fdf22478c7a8aa50f99ff3668">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DockLayout::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   93</span>                               {</div>
<div class="line"><span class="lineno">   94</span>  <span class="comment">// E&#39; necessario?</span></div>
<div class="line"><span class="lineno">   95</span>  applyGeometry();</div>
<div class="line"><span class="lineno">   96</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad55c6bca8ad56a489fc77afddcaeee38" name="ad55c6bca8ad56a489fc77afddcaeee38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad55c6bca8ad56a489fc77afddcaeee38">&#9670;&nbsp;</a></span>widgetAt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QWidget * DockLayout::widgetAt </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  174</span>{ <span class="keywordflow">return</span> itemAt(idx)-&gt;widget(); }</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/toonzqt/<a class="el" href="">docklayout.h</a></li>
<li>E:/opentoonz/toonz/sources/toonzqt/<a class="el" href="">docklayout.cpp</a></li>
<li>E:/opentoonz/toonz/sources/toonzqt/<a class="el" href="">dockwidget.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
