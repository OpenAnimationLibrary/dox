<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: TPalette Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_t_palette-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TPalette Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>The class representing a Toonz palette object.  
 <a href="class_t_palette.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="">tpalette.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TPalette:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_palette.png" usemap="#TPalette_map" alt=""/>
  <map id="TPalette_map" name="TPalette_map">
<area href="class_t_persist.html" alt="TPersist" shape="rect" coords="0,0,88,24"/>
<area href="class_t_smart_object.html" alt="TSmartObject" shape="rect" coords="98,0,186,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette_1_1_page.html">Page</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A palette page is a restricted view of a palette instance.  <a href="class_t_palette_1_1_page.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abc3ef5824d89e65687b32c530cf25325"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_palette.html">TPalette</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#abc3ef5824d89e65687b32c530cf25325">clone</a> () const</td></tr>
<tr class="memdesc:abc3ef5824d89e65687b32c530cf25325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a <em>new</em> copy of this palette instance.  <a href="class_t_palette.html#abc3ef5824d89e65687b32c530cf25325">More...</a><br /></td></tr>
<tr class="separator:abc3ef5824d89e65687b32c530cf25325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3199523465a1961c1564a82db46b451"><td class="memItemLeft" align="right" valign="top">std::wstring&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ad3199523465a1961c1564a82db46b451">getGlobalName</a> () const</td></tr>
<tr class="memdesc:ad3199523465a1961c1564a82db46b451"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the palette object.  <a href="class_t_palette.html#ad3199523465a1961c1564a82db46b451">More...</a><br /></td></tr>
<tr class="separator:ad3199523465a1961c1564a82db46b451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1a5c3b332f133235f6fd758d22f683"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a0d1a5c3b332f133235f6fd758d22f683">setGlobalName</a> (std::wstring name)</td></tr>
<tr class="memdesc:a0d1a5c3b332f133235f6fd758d22f683"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns the name of the palette.  <a href="class_t_palette.html#a0d1a5c3b332f133235f6fd758d22f683">More...</a><br /></td></tr>
<tr class="separator:a0d1a5c3b332f133235f6fd758d22f683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a382fa102abee4e69e386cb5a4d8d5184"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a382fa102abee4e69e386cb5a4d8d5184">setDirtyFlag</a> (bool dirtyFlag)</td></tr>
<tr class="separator:a382fa102abee4e69e386cb5a4d8d5184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e573ec80c4779bcdb543e4b743a8c34"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a4e573ec80c4779bcdb543e4b743a8c34">getDirtyFlag</a> ()</td></tr>
<tr class="separator:a4e573ec80c4779bcdb543e4b743a8c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f6a4eda7dafb0a9f2b43160cfec81e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_color_style.html">TColorStyle</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a> (int styleId) const</td></tr>
<tr class="separator:a0f6a4eda7dafb0a9f2b43160cfec81e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a562f2d3a5fa256fcb4bb2be5b45534"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a> () const</td></tr>
<tr class="memdesc:a5a562f2d3a5fa256fcb4bb2be5b45534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of the color styles in the palette.  <a href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">More...</a><br /></td></tr>
<tr class="separator:a5a562f2d3a5fa256fcb4bb2be5b45534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a403b73bd6dc6e600bd15252a9c1d2dfe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a403b73bd6dc6e600bd15252a9c1d2dfe">getStyleInPagesCount</a> () const</td></tr>
<tr class="memdesc:a403b73bd6dc6e600bd15252a9c1d2dfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of styles contained in palette pages.  <a href="class_t_palette.html#a403b73bd6dc6e600bd15252a9c1d2dfe">More...</a><br /></td></tr>
<tr class="separator:a403b73bd6dc6e600bd15252a9c1d2dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3db2bd45a8e8a7ec488144684923b0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#aa3db2bd45a8e8a7ec488144684923b0a">getFirstUnpagedStyle</a> () const</td></tr>
<tr class="separator:aa3db2bd45a8e8a7ec488144684923b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43a27667c3b3583b2b3e1a9f307e7b42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a43a27667c3b3583b2b3e1a9f307e7b42">addStyle</a> (<a class="el" href="class_t_color_style.html">TColorStyle</a> *style)</td></tr>
<tr class="separator:a43a27667c3b3583b2b3e1a9f307e7b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1561219d1a6936510ac1ef9d705e52d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#af1561219d1a6936510ac1ef9d705e52d">addStyle</a> (const TPixelRGBM32 &amp;color)</td></tr>
<tr class="separator:af1561219d1a6936510ac1ef9d705e52d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9369e7992a6db74a33b7e5094071121"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ab9369e7992a6db74a33b7e5094071121">setStyle</a> (int styleId, <a class="el" href="class_t_color_style.html">TColorStyle</a> *style)</td></tr>
<tr class="memdesc:ab9369e7992a6db74a33b7e5094071121"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces the style with the specified style id.  <a href="class_t_palette.html#ab9369e7992a6db74a33b7e5094071121">More...</a><br /></td></tr>
<tr class="separator:ab9369e7992a6db74a33b7e5094071121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b45fab15ad86f01342b3e7855502f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ae6b45fab15ad86f01342b3e7855502f6">setStyle</a> (int styleId, const TPixelRGBM32 &amp;color)</td></tr>
<tr class="separator:ae6b45fab15ad86f01342b3e7855502f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd211cadf0f047450bc31897f858fa73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">getPageCount</a> () const</td></tr>
<tr class="memdesc:afd211cadf0f047450bc31897f858fa73"><td class="mdescLeft">&#160;</td><td class="mdescRight">specified style id.  <a href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">More...</a><br /></td></tr>
<tr class="separator:afd211cadf0f047450bc31897f858fa73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f83b7baf3eb774e50c726fa702056c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_palette_1_1_page.html">Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">getPage</a> (int pageIndex)</td></tr>
<tr class="separator:a25f83b7baf3eb774e50c726fa702056c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19de22cf05c7052997008e6693294893"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_palette_1_1_page.html">Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a19de22cf05c7052997008e6693294893">getPage</a> (int pageIndex) const</td></tr>
<tr class="memdesc:a19de22cf05c7052997008e6693294893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Const version of <a class="el" href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">getPage(int)</a>.  <a href="class_t_palette.html#a19de22cf05c7052997008e6693294893">More...</a><br /></td></tr>
<tr class="separator:a19de22cf05c7052997008e6693294893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77258e62bbb8a9f60e4aa5e6ea0e862a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_palette_1_1_page.html">Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a77258e62bbb8a9f60e4aa5e6ea0e862a">addPage</a> (std::wstring name)</td></tr>
<tr class="memdesc:a77258e62bbb8a9f60e4aa5e6ea0e862a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new page with the specified name.  <a href="class_t_palette.html#a77258e62bbb8a9f60e4aa5e6ea0e862a">More...</a><br /></td></tr>
<tr class="separator:a77258e62bbb8a9f60e4aa5e6ea0e862a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a18830b8f209aac7c13bccfe88b19e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a6a18830b8f209aac7c13bccfe88b19e4">erasePage</a> (int index)</td></tr>
<tr class="memdesc:a6a18830b8f209aac7c13bccfe88b19e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the <em>index-th</em> page.  <a href="class_t_palette.html#a6a18830b8f209aac7c13bccfe88b19e4">More...</a><br /></td></tr>
<tr class="separator:a6a18830b8f209aac7c13bccfe88b19e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6c28b4d7f325bef02d347473d4daacb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ab6c28b4d7f325bef02d347473d4daacb">movePage</a> (<a class="el" href="class_t_palette_1_1_page.html">Page</a> *page, int dstPageIndex)</td></tr>
<tr class="separator:ab6c28b4d7f325bef02d347473d4daacb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8566a5ffa9e69be120003ad4b69078d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_palette_1_1_page.html">Page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ae8566a5ffa9e69be120003ad4b69078d">getStylePage</a> (int styleId) const</td></tr>
<tr class="memdesc:ae8566a5ffa9e69be120003ad4b69078d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the page containing the specified <em>styleId</em>.  <a href="class_t_palette.html#ae8566a5ffa9e69be120003ad4b69078d">More...</a><br /></td></tr>
<tr class="separator:ae8566a5ffa9e69be120003ad4b69078d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0bf5c4fdd9cd3428819ce594299627d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ab0bf5c4fdd9cd3428819ce594299627d">getClosestStyle</a> (const TPixelRGBM32 &amp;color) const</td></tr>
<tr class="separator:ab0bf5c4fdd9cd3428819ce594299627d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c4db7647acbcccbd698e1ae0655b43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ad4c4db7647acbcccbd698e1ae0655b43">loadData</a> (<a class="el" href="class_t_i_stream.html">TIStream</a> &amp;is) override</td></tr>
<tr class="memdesc:ad4c4db7647acbcccbd698e1ae0655b43"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O palette save function.  <a href="class_t_palette.html#ad4c4db7647acbcccbd698e1ae0655b43">More...</a><br /></td></tr>
<tr class="separator:ad4c4db7647acbcccbd698e1ae0655b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30dcdbafb77d943fbc8b712625f4f3d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a30dcdbafb77d943fbc8b712625f4f3d2">saveData</a> (<a class="el" href="class_t_o_stream.html">TOStream</a> &amp;os) override</td></tr>
<tr class="memdesc:a30dcdbafb77d943fbc8b712625f4f3d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">I/O palette load function.  <a href="class_t_palette.html#a30dcdbafb77d943fbc8b712625f4f3d2">More...</a><br /></td></tr>
<tr class="separator:a30dcdbafb77d943fbc8b712625f4f3d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8a0879cdbd83ecdcf4c7599e093524"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a6a8a0879cdbd83ecdcf4c7599e093524">getVersion</a> () const</td></tr>
<tr class="memdesc:a6a8a0879cdbd83ecdcf4c7599e093524"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the palette's version number.  <a href="class_t_palette.html#a6a8a0879cdbd83ecdcf4c7599e093524">More...</a><br /></td></tr>
<tr class="separator:a6a8a0879cdbd83ecdcf4c7599e093524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8afe4a624111185995b5594ca03ec32d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a8afe4a624111185995b5594ca03ec32d">setVersion</a> (int v)</td></tr>
<tr class="memdesc:a8afe4a624111185995b5594ca03ec32d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the palette's version number.  <a href="class_t_palette.html#a8afe4a624111185995b5594ca03ec32d">More...</a><br /></td></tr>
<tr class="separator:a8afe4a624111185995b5594ca03ec32d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807070f5c3f7033531f455f08ee489c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a807070f5c3f7033531f455f08ee489c4">setRefLevelFids</a> (const std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; fids, bool specified)</td></tr>
<tr class="separator:a807070f5c3f7033531f455f08ee489c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeda302f41529ee532096ecef117bdf7d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#aeda302f41529ee532096ecef117bdf7d">getRefLevelFids</a> ()</td></tr>
<tr class="separator:aeda302f41529ee532096ecef117bdf7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319e848e06467e458214bba1132b49a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a319e848e06467e458214bba1132b49a9">assign</a> (const <a class="el" href="class_t_palette.html">TPalette</a> *src, bool isFromStudioPalette=false)</td></tr>
<tr class="separator:a319e848e06467e458214bba1132b49a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a705d1d02aa6a88e4da4ead66c9e838aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a705d1d02aa6a88e4da4ead66c9e838aa">merge</a> (const <a class="el" href="class_t_palette.html">TPalette</a> *src, bool isFromStudioPalette=false)</td></tr>
<tr class="separator:a705d1d02aa6a88e4da4ead66c9e838aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a988c1603b1f87b4d3e26195781574658"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a988c1603b1f87b4d3e26195781574658">setAskOverwriteFlag</a> (bool askOverwriteFlag)</td></tr>
<tr class="separator:a988c1603b1f87b4d3e26195781574658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef775ca72db90dfdebb0dcad53a3af2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#acef775ca72db90dfdebb0dcad53a3af2">getAskOverwriteFlag</a> ()</td></tr>
<tr class="memdesc:acef775ca72db90dfdebb0dcad53a3af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the ask-overwrite flag.  <a href="class_t_palette.html#acef775ca72db90dfdebb0dcad53a3af2">More...</a><br /></td></tr>
<tr class="separator:acef775ca72db90dfdebb0dcad53a3af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a609c029285f223f5bc116c5e1f6ed358"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a609c029285f223f5bc116c5e1f6ed358">setIsCleanupPalette</a> (bool on)</td></tr>
<tr class="memdesc:a609c029285f223f5bc116c5e1f6ed358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the palette's identity as a cleanup palette.  <a href="class_t_palette.html#a609c029285f223f5bc116c5e1f6ed358">More...</a><br /></td></tr>
<tr class="separator:a609c029285f223f5bc116c5e1f6ed358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8160207d0a98de8a562c4339aa648ed4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a8160207d0a98de8a562c4339aa648ed4">isCleanupPalette</a> () const</td></tr>
<tr class="memdesc:a8160207d0a98de8a562c4339aa648ed4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether this is a cleanup palette.  <a href="class_t_palette.html#a8160207d0a98de8a562c4339aa648ed4">More...</a><br /></td></tr>
<tr class="separator:a8160207d0a98de8a562c4339aa648ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e08b7fe4ac6f2cb16d195786067108"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_smart_pointer_t.html">TImageP</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ac3e08b7fe4ac6f2cb16d195786067108">getRefImg</a> () const</td></tr>
<tr class="separator:ac3e08b7fe4ac6f2cb16d195786067108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a971fd2aac3c14754d6cdcb0679cf6893"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a971fd2aac3c14754d6cdcb0679cf6893">setRefImg</a> (const <a class="el" href="class_t_smart_pointer_t.html">TImageP</a> &amp;img)</td></tr>
<tr class="separator:a971fd2aac3c14754d6cdcb0679cf6893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eda1d7f3a27e8e90d0c12faaedaf5a6"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a7eda1d7f3a27e8e90d0c12faaedaf5a6">getRefImgPath</a> () const</td></tr>
<tr class="memdesc:a7eda1d7f3a27e8e90d0c12faaedaf5a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">built or modified using this palette.  <a href="class_t_palette.html#a7eda1d7f3a27e8e90d0c12faaedaf5a6">More...</a><br /></td></tr>
<tr class="separator:a7eda1d7f3a27e8e90d0c12faaedaf5a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3009b4c976d9458d71dca9ea176bd7e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a3009b4c976d9458d71dca9ea176bd7e1">setRefImgPath</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;fp)</td></tr>
<tr class="memdesc:a3009b4c976d9458d71dca9ea176bd7e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the path filename of the reference image.  <a href="class_t_palette.html#a3009b4c976d9458d71dca9ea176bd7e1">More...</a><br /></td></tr>
<tr class="separator:a3009b4c976d9458d71dca9ea176bd7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab93ce6de2d1138d6c6946e1a3e317e04"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ab93ce6de2d1138d6c6946e1a3e317e04">isAnimated</a> () const</td></tr>
<tr class="separator:ab93ce6de2d1138d6c6946e1a3e317e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd9f134eeffe1fa9ca39ee3fb6ad1b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a7fd9f134eeffe1fa9ca39ee3fb6ad1b4">getFrame</a> () const</td></tr>
<tr class="memdesc:a7fd9f134eeffe1fa9ca39ee3fb6ad1b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index of the current frame.  <a href="class_t_palette.html#a7fd9f134eeffe1fa9ca39ee3fb6ad1b4">More...</a><br /></td></tr>
<tr class="separator:a7fd9f134eeffe1fa9ca39ee3fb6ad1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7d99a4af59ffaed0ead1f8700c2edc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#aca7d99a4af59ffaed0ead1f8700c2edc">setFrame</a> (int frame)</td></tr>
<tr class="memdesc:aca7d99a4af59ffaed0ead1f8700c2edc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the index of the current frame.  <a href="class_t_palette.html#aca7d99a4af59ffaed0ead1f8700c2edc">More...</a><br /></td></tr>
<tr class="separator:aca7d99a4af59ffaed0ead1f8700c2edc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc7a1661819318b6c4b45a700056c8f8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#abc7a1661819318b6c4b45a700056c8f8">isKeyframe</a> (int styleId, int frame) const</td></tr>
<tr class="separator:abc7a1661819318b6c4b45a700056c8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84cf99f9fef176cf5981425b493285a2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a84cf99f9fef176cf5981425b493285a2">getKeyframeCount</a> (int styleId) const</td></tr>
<tr class="memdesc:a84cf99f9fef176cf5981425b493285a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the keyframes count in styleId's animation.  <a href="class_t_palette.html#a84cf99f9fef176cf5981425b493285a2">More...</a><br /></td></tr>
<tr class="separator:a84cf99f9fef176cf5981425b493285a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3433802d3bc4cbf9e8848f74c11cbe5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ae3433802d3bc4cbf9e8848f74c11cbe5">getKeyframe</a> (int styleId, int index) const</td></tr>
<tr class="separator:ae3433802d3bc4cbf9e8848f74c11cbe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf6467771b2ec40b6751295985fdd687"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#aaf6467771b2ec40b6751295985fdd687">setKeyframe</a> (int styleId, int frame)</td></tr>
<tr class="separator:aaf6467771b2ec40b6751295985fdd687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36d0291b604c5ecb35c565c6d81c7ce8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a36d0291b604c5ecb35c565c6d81c7ce8">clearKeyframe</a> (int styleId, int frame)</td></tr>
<tr class="memdesc:a36d0291b604c5ecb35c565c6d81c7ce8"><td class="mdescLeft">&#160;</td><td class="mdescRight">animation.  <a href="class_t_palette.html#a36d0291b604c5ecb35c565c6d81c7ce8">More...</a><br /></td></tr>
<tr class="separator:a36d0291b604c5ecb35c565c6d81c7ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b1cee99b5f1961be1fc2e821bc2b8b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ac7b1cee99b5f1961be1fc2e821bc2b8b">getShortcutValue</a> (int key) const</td></tr>
<tr class="memdesc:ac7b1cee99b5f1961be1fc2e821bc2b8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">animation.  <a href="class_t_palette.html#ac7b1cee99b5f1961be1fc2e821bc2b8b">More...</a><br /></td></tr>
<tr class="separator:ac7b1cee99b5f1961be1fc2e821bc2b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f74093e079ad1c423f9bd62bc00faf1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a2f74093e079ad1c423f9bd62bc00faf1">getStyleShortcut</a> (int styleId) const</td></tr>
<tr class="separator:a2f74093e079ad1c423f9bd62bc00faf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4fc32a08028cbcc65c9a3897efa80d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a2e4fc32a08028cbcc65c9a3897efa80d">setShortcutValue</a> (int key, int styleId)</td></tr>
<tr class="memdesc:a2e4fc32a08028cbcc65c9a3897efa80d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associates the specified key to a styleId.  <a href="class_t_palette.html#a2e4fc32a08028cbcc65c9a3897efa80d">More...</a><br /></td></tr>
<tr class="separator:a2e4fc32a08028cbcc65c9a3897efa80d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d4f02fb0810c659887bc4e2c5bc3a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a49d4f02fb0810c659887bc4e2c5bc3a0">setPaletteName</a> (std::wstring name)</td></tr>
<tr class="memdesc:a49d4f02fb0810c659887bc4e2c5bc3a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the name of the palette.  <a href="class_t_palette.html#a49d4f02fb0810c659887bc4e2c5bc3a0">More...</a><br /></td></tr>
<tr class="separator:a49d4f02fb0810c659887bc4e2c5bc3a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0bb56df19af40d1a729482efc85f492"><td class="memItemLeft" align="right" valign="top">std::wstring&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#af0bb56df19af40d1a729482efc85f492">getPaletteName</a> () const</td></tr>
<tr class="memdesc:af0bb56df19af40d1a729482efc85f492"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the palette.  <a href="class_t_palette.html#af0bb56df19af40d1a729482efc85f492">More...</a><br /></td></tr>
<tr class="separator:af0bb56df19af40d1a729482efc85f492"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3974fff5698333b742c0b0b2f58aee37"><td class="memItemLeft" align="right" valign="top">QMutex *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a3974fff5698333b742c0b0b2f58aee37">mutex</a> ()</td></tr>
<tr class="memdesc:a3974fff5698333b742c0b0b2f58aee37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the palette's mutex.  <a href="class_t_palette.html#a3974fff5698333b742c0b0b2f58aee37">More...</a><br /></td></tr>
<tr class="separator:a3974fff5698333b742c0b0b2f58aee37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a66ac047e12676ed6038f1261743dde"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a4a66ac047e12676ed6038f1261743dde">isLocked</a> () const</td></tr>
<tr class="memdesc:a4a66ac047e12676ed6038f1261743dde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the palette is locked.  <a href="class_t_palette.html#a4a66ac047e12676ed6038f1261743dde">More...</a><br /></td></tr>
<tr class="separator:a4a66ac047e12676ed6038f1261743dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0365e562643620b90f7477ccf70b8411"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a0365e562643620b90f7477ccf70b8411">setIsLocked</a> (bool lock)</td></tr>
<tr class="separator:a0365e562643620b90f7477ccf70b8411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd803f2fbda78d541ea7c9cc1afc8b4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a9cd803f2fbda78d541ea7c9cc1afc8b4">hasPickedPosStyle</a> ()</td></tr>
<tr class="separator:a9cd803f2fbda78d541ea7c9cc1afc8b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba372a4be1511bffcf54d99ea8d58773"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#aba372a4be1511bffcf54d99ea8d58773">nextShortcutScope</a> (bool invert)</td></tr>
<tr class="separator:aba372a4be1511bffcf54d99ea8d58773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5771815e1daa519b6bbd6cd284c3bc26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a5771815e1daa519b6bbd6cd284c3bc26">setCurrentStyleId</a> (int id)</td></tr>
<tr class="separator:a5771815e1daa519b6bbd6cd284c3bc26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447462857fa4be53f7d67f95b7c059bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a447462857fa4be53f7d67f95b7c059bf">getCurrentStyleId</a> () const</td></tr>
<tr class="separator:a447462857fa4be53f7d67f95b7c059bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3646c822ac89b3a44781322582e86ec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#ac3646c822ac89b3a44781322582e86ec">getFxRects</a> (const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;rect, <a class="el" href="class_t_rect_t.html">TRect</a> &amp;rectIn, <a class="el" href="class_t_rect_t.html">TRect</a> &amp;rectOut)</td></tr>
<tr class="separator:ac3646c822ac89b3a44781322582e86ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_persist"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_persist')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_persist.html">TPersist</a></td></tr>
<tr class="memitem:a9e9d78431e843edb9299095af867a136 inherit pub_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#a9e9d78431e843edb9299095af867a136">loadData</a> (<a class="el" href="class_t_i_stream.html">TIStream</a> &amp;is)=0</td></tr>
<tr class="separator:a9e9d78431e843edb9299095af867a136 inherit pub_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb991f7b26f14dbee1740ef036ff4e85 inherit pub_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#afb991f7b26f14dbee1740ef036ff4e85">saveData</a> (<a class="el" href="class_t_o_stream.html">TOStream</a> &amp;os)=0</td></tr>
<tr class="separator:afb991f7b26f14dbee1740ef036ff4e85 inherit pub_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d77f3ae5ec651390538e6219a421aa5 inherit pub_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#a6d77f3ae5ec651390538e6219a421aa5">getStreamTag</a> () const</td></tr>
<tr class="separator:a6d77f3ae5ec651390538e6219a421aa5 inherit pub_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec66a1276b484a94a48e7e3e45be525e inherit pub_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="class_t_persist_declaration.html">TPersistDeclaration</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#aec66a1276b484a94a48e7e3e45be525e">getDeclaration</a> () const =0</td></tr>
<tr class="separator:aec66a1276b484a94a48e7e3e45be525e inherit pub_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:ab9a1e31b7e2b8c9b141fe9ce7e8cf489 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#ab9a1e31b7e2b8c9b141fe9ce7e8cf489">TSmartObject</a> (ClassCode classCode)</td></tr>
<tr class="separator:ab9a1e31b7e2b8c9b141fe9ce7e8cf489 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a76a715c1785eb545fa3ef2f6e06928 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a4a76a715c1785eb545fa3ef2f6e06928">addRef</a> ()</td></tr>
<tr class="separator:a4a76a715c1785eb545fa3ef2f6e06928 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99750961461978d73f55a4a54e6f874e inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a99750961461978d73f55a4a54e6f874e">release</a> ()</td></tr>
<tr class="separator:a99750961461978d73f55a4a54e6f874e inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f1dab21fd93f07fdf6c86661d738a5 inherit pub_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">TINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#ac1f1dab21fd93f07fdf6c86661d738a5">getRefCount</a> () const</td></tr>
<tr class="separator:ac1f1dab21fd93f07fdf6c86661d738a5 inherit pub_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a55d9b8d3bfcb9690abd6bb1e2955ed0e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a55d9b8d3bfcb9690abd6bb1e2955ed0e">setRootDir</a> (const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;fp)</td></tr>
<tr class="separator:a55d9b8d3bfcb9690abd6bb1e2955ed0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d05f2254f6ca5d42d8feaff28072082"><td class="memItemLeft" align="right" valign="top"><a id="a8d05f2254f6ca5d42d8feaff28072082" name="a8d05f2254f6ca5d42d8feaff28072082"></a>
static <a class="el" href="class_t_file_path.html">TFilePath</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getRootDir</b> ()</td></tr>
<tr class="memdesc:a8d05f2254f6ca5d42d8feaff28072082"><td class="mdescLeft">&#160;</td><td class="mdescRight">fp/textures. <br /></td></tr>
<tr class="separator:a8d05f2254f6ca5d42d8feaff28072082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_class_t_persist"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_t_persist')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_t_persist.html">TPersist</a></td></tr>
<tr class="memitem:aeafb2f1f6438732314d3fca5ee63f572 inherit pub_static_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top"><a id="aeafb2f1f6438732314d3fca5ee63f572" name="aeafb2f1f6438732314d3fca5ee63f572"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>declare</b> (CreateProc *)</td></tr>
<tr class="separator:aeafb2f1f6438732314d3fca5ee63f572 inherit pub_static_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af0825543bdd74860c0518859a546bc inherit pub_static_methods_class_t_persist"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_t_persist.html">TPersist</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#a5af0825543bdd74860c0518859a546bc">create</a> (const std::string &amp;name)</td></tr>
<tr class="separator:a5af0825543bdd74860c0518859a546bc inherit pub_static_methods_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:a41e6552e87694c0edba6acc7e57b5752 inherit pub_static_methods_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">static TINT32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a41e6552e87694c0edba6acc7e57b5752">getInstanceCount</a> (ClassCode code)</td></tr>
<tr class="separator:a41e6552e87694c0edba6acc7e57b5752 inherit pub_static_methods_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a66d145c56e1747e0aecb5309042ab183"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_palette.html#a66d145c56e1747e0aecb5309042ab183">Page</a></td></tr>
<tr class="separator:a66d145c56e1747e0aecb5309042ab183"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_class_t_persist"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_t_persist')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_t_persist.html">TPersist</a></td></tr>
<tr class="memitem:a3b2ff2cbbbdcaaaed6afe33e576f50a9 inherit pub_types_class_t_persist"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="class_t_persist.html">TPersist</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_persist.html#a3b2ff2cbbbdcaaaed6afe33e576f50a9">CreateProc</a>()</td></tr>
<tr class="separator:a3b2ff2cbbbdcaaaed6afe33e576f50a9 inherit pub_types_class_t_persist"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_class_t_smart_object"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_t_smart_object')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_t_smart_object.html">TSmartObject</a></td></tr>
<tr class="memitem:a3bc37f54976a445f30c99753a478feae inherit pub_types_class_t_smart_object"><td class="memItemLeft" align="right" valign="top">typedef short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_smart_object.html#a3bc37f54976a445f30c99753a478feae">ClassCode</a></td></tr>
<tr class="separator:a3bc37f54976a445f30c99753a478feae inherit pub_types_class_t_smart_object"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >The class representing a Toonz palette object. </p>
<dl class="section user"><dt>Rationale</dt><dd>A palette is a collection of <em>color styles</em> that adds a level of indirection on color selections when drawing certain graphical objects. <br  />
 Palette-based objects store <em>style identifiers</em> into an associated palette object, rather than the colors directly. When a color needs to be accessed, the palette objects is queried for a <em>style id</em>, and the associated <em>style</em> is returned. <br  />
 A <a class="el" href="class_t_color_style.html" title="Abstract class representing a color style in a Toonz palette.">TColorStyle</a> instance generalizes the notion of <em>color</em>, providing the ability to reduce a style instance to a color, <em>and</em> specialized drawing functions for <em>vector graphics</em> objects.</dd></dl>
<dl class="section user"><dt>Reserved colors</dt><dd>A palette object has two fixed <em>reserved</em> styles - which <em>cannot be removed</em> - at indexes <code>0</code> and \p1. Index <code>0</code> is reserved for the <b>transparent</b> color. Index <code>1</code> is reserved for the <b>ink</b> color, initialized by default to black.</dd></dl>
<dl class="section user"><dt>Syntax</dt><dd>A palette is supposedly created <b>on the heap</b>, to the point that, <em>in current implementation</em>, copy and assignment are <em>forbidden</em>. This behavior is somewhat inconsistent since a palette <b>is</b> currently <em>clonable</em> and <em>assignable</em> with the appropriate functions. Normalization to common C++ syntax should be enforced ASAP.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>The <a class="el" href="class_t_color_style.html" title="Abstract class representing a color style in a Toonz palette.">TColorStyle</a> class. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a24634a99a760f66c61d06b9ed7af32c3" name="a24634a99a760f66c61d06b9ed7af32c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24634a99a760f66c61d06b9ed7af32c3">&#9670;&nbsp;</a></span>TPalette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TPalette::TPalette </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  241</span>    : m_version(0)</div>
<div class="line"><span class="lineno">  242</span>    , m_isCleanupPalette(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  243</span>    , m_currentFrame(-1)</div>
<div class="line"><span class="lineno">  244</span>    , m_dirtyFlag(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  245</span>    , m_mutex(QMutex::Recursive)</div>
<div class="line"><span class="lineno">  246</span>    , m_isLocked(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  247</span>    , m_askOverwriteFlag(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  248</span>    , m_shortcutScopeIndex(0)</div>
<div class="line"><span class="lineno">  249</span>    , m_currentStyleId(1) {</div>
<div class="line"><span class="lineno">  250</span>  QString tempName(QObject::tr(<span class="stringliteral">&quot;colors&quot;</span>));</div>
<div class="line"><span class="lineno">  251</span>  std::wstring pageName = tempName.toStdWString();</div>
<div class="line"><span class="lineno">  252</span>  Page *page            = <a class="code hl_function" href="class_t_palette.html#a77258e62bbb8a9f60e4aa5e6ea0e862a">addPage</a>(pageName);</div>
<div class="line"><span class="lineno">  253</span>  page-&gt;addStyle(TPixel32(255, 255, 255, 0));</div>
<div class="line"><span class="lineno">  254</span>  page-&gt;addStyle(TPixel32(0, 0, 0, 255));</div>
<div class="line"><span class="lineno">  255</span>  <a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(0)-&gt;<a class="code hl_function" href="class_t_color_style.html#aeb25e0ae1708d473bd551b0d0c9bf4a9">setName</a>(L<span class="stringliteral">&quot;color_0&quot;</span>);</div>
<div class="line"><span class="lineno">  256</span>  <a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(1)-&gt;<a class="code hl_function" href="class_t_color_style.html#aeb25e0ae1708d473bd551b0d0c9bf4a9">setName</a>(L<span class="stringliteral">&quot;color_1&quot;</span>);</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; i++) m_shortcuts[<span class="charliteral">&#39;0&#39;</span> + i] = i;</div>
<div class="line"><span class="lineno">  259</span>}</div>
<div class="ttc" id="aclass_t_color_style_html_aeb25e0ae1708d473bd551b0d0c9bf4a9"><div class="ttname"><a href="class_t_color_style.html#aeb25e0ae1708d473bd551b0d0c9bf4a9">TColorStyle::setName</a></div><div class="ttdeci">void setName(std::wstring name)</div><div class="ttdoc">Sets the style's user-defined name.</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:187</div></div>
<div class="ttc" id="aclass_t_palette_html_a0f6a4eda7dafb0a9f2b43160cfec81e4"><div class="ttname"><a href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">TPalette::getStyle</a></div><div class="ttdeci">TColorStyle * getStyle(int styleId) const</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:283</div></div>
<div class="ttc" id="aclass_t_palette_html_a77258e62bbb8a9f60e4aa5e6ea0e862a"><div class="ttname"><a href="class_t_palette.html#a77258e62bbb8a9f60e4aa5e6ea0e862a">TPalette::addPage</a></div><div class="ttdeci">Page * addPage(std::wstring name)</div><div class="ttdoc">Creates a new page with the specified name.</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:396</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ada9e7d0aa5bd801782ecbcca868ca0" name="a0ada9e7d0aa5bd801782ecbcca868ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ada9e7d0aa5bd801782ecbcca868ca0">&#9670;&nbsp;</a></span>~TPalette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TPalette::~TPalette </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  263</span>                    {</div>
<div class="line"><span class="lineno">  264</span>  std::set&lt;TColorStyle *&gt; table;</div>
<div class="line"><span class="lineno">  265</span>  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><span class="lineno">  266</span>  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>(); i++) {</div>
<div class="line"><span class="lineno">  267</span>    assert(table.find(<a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(i)) == table.end());</div>
<div class="line"><span class="lineno">  268</span>    table.insert(<a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(i));</div>
<div class="line"><span class="lineno">  269</span>  }</div>
<div class="line"><span class="lineno">  270</span>  clearPointerContainer(m_pages);</div>
<div class="line"><span class="lineno">  271</span>}</div>
<div class="ttc" id="aclass_t_palette_html_a5a562f2d3a5fa256fcb4bb2be5b45534"><div class="ttname"><a href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">TPalette::getStyleCount</a></div><div class="ttdeci">int getStyleCount() const</div><div class="ttdoc">Returns the number of the color styles in the palette.</div><div class="ttdef"><b>Definition:</b> tpalette.h:255</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a77258e62bbb8a9f60e4aa5e6ea0e862a" name="a77258e62bbb8a9f60e4aa5e6ea0e862a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77258e62bbb8a9f60e4aa5e6ea0e862a">&#9670;&nbsp;</a></span>addPage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_palette_1_1_page.html">TPalette::Page</a> * TPalette::addPage </td>
          <td>(</td>
          <td class="paramtype">std::wstring&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new page with the specified name. </p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the newly created page. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  396</span>                                               {</div>
<div class="line"><span class="lineno">  397</span>  Page *page      = <span class="keyword">new</span> Page(name);</div>
<div class="line"><span class="lineno">  398</span>  page-&gt;m_index   = <a class="code hl_function" href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">getPageCount</a>();</div>
<div class="line"><span class="lineno">  399</span>  page-&gt;m_palette = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  400</span>  m_pages.push_back(page);</div>
<div class="line"><span class="lineno">  401</span>  <span class="keywordflow">return</span> page;</div>
<div class="line"><span class="lineno">  402</span>}</div>
<div class="ttc" id="aclass_t_palette_html_afd211cadf0f047450bc31897f858fa73"><div class="ttname"><a href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">TPalette::getPageCount</a></div><div class="ttdeci">int getPageCount() const</div><div class="ttdoc">specified style id.</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:368</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00368">getPageCount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00898">assign()</a>, <a class="el" href="#l00751">loadData()</a>, and <a class="el" href="#l00969">merge()</a>.</p>

</div>
</div>
<a id="af1561219d1a6936510ac1ef9d705e52d" name="af1561219d1a6936510ac1ef9d705e52d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1561219d1a6936510ac1ef9d705e52d">&#9670;&nbsp;</a></span>addStyle() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::addStyle </td>
          <td>(</td>
          <td class="paramtype">const TPixelRGBM32 &amp;&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Adds a solid color style to the palette (but in no page). </p>

</div>
</div>
<a id="a43a27667c3b3583b2b3e1a9f307e7b42" name="a43a27667c3b3583b2b3e1a9f307e7b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43a27667c3b3583b2b3e1a9f307e7b42">&#9670;&nbsp;</a></span>addStyle() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::addStyle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_color_style.html">TColorStyle</a> *&#160;</td>
          <td class="paramname"><em>style</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> \remark   Style ownserhip is \a surrendered to the palette
 \return   The styleId associated to the inserted style, or \a -1 on
</pre><p> failure. Adds the specified style to the palette (but in no page).</p>
<p >Adding style with new styleId. Even if there are deleted styles in the palette, the new style will be appended to the end of the list. </p>
<div class="fragment"><div class="line"><span class="lineno">  314</span>                                         {</div>
<div class="line"><span class="lineno">  315</span>  <span class="comment">// limit the number of cleanup style to 7</span></div>
<div class="line"><span class="lineno">  316</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_palette.html#a8160207d0a98de8a562c4339aa648ed4">isCleanupPalette</a>() &amp;&amp; <a class="code hl_function" href="class_t_palette.html#a403b73bd6dc6e600bd15252a9c1d2dfe">getStyleInPagesCount</a>() &gt;= 8) <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>  <span class="keywordtype">int</span> styleId = int(m_styles.size());</div>
<div class="line"><span class="lineno">  319</span>  <span class="keywordflow">if</span> (styleId &lt; 4096) {</div>
<div class="line"><span class="lineno">  320</span>    <span class="comment">// checking if the style is overlapped</span></div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">for</span> (i = 0; i &lt; styleId; i++)</div>
<div class="line"><span class="lineno">  323</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(i) == style) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">if</span> (i == styleId) {</div>
<div class="line"><span class="lineno">  325</span>      m_styles.push_back(std::make_pair((Page *)0, style));</div>
<div class="line"><span class="lineno">  326</span>      <span class="keywordflow">return</span> styleId;</div>
<div class="line"><span class="lineno">  327</span>    }</div>
<div class="line"><span class="lineno">  328</span>  }</div>
<div class="line"><span class="lineno">  329</span>  <span class="keyword">delete</span> style;</div>
<div class="line"><span class="lineno">  330</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  331</span>}</div>
<div class="ttc" id="aclass_t_palette_html_a403b73bd6dc6e600bd15252a9c1d2dfe"><div class="ttname"><a href="class_t_palette.html#a403b73bd6dc6e600bd15252a9c1d2dfe">TPalette::getStyleInPagesCount</a></div><div class="ttdeci">int getStyleInPagesCount() const</div><div class="ttdoc">Returns the number of styles contained in palette pages.</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:295</div></div>
<div class="ttc" id="aclass_t_palette_html_a8160207d0a98de8a562c4339aa648ed4"><div class="ttname"><a href="class_t_palette.html#a8160207d0a98de8a562c4339aa648ed4">TPalette::isCleanupPalette</a></div><div class="ttdeci">bool isCleanupPalette() const</div><div class="ttdoc">Returns whether this is a cleanup palette.</div><div class="ttdef"><b>Definition:</b> tpalette.h:355</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00283">getStyle()</a>, <a class="el" href="#l00295">getStyleInPagesCount()</a>, and <a class="el" href="#l00355">isCleanupPalette()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00154">TPalette::Page::addStyle()</a>, <a class="el" href="#l00898">assign()</a>, <a class="el" href="#l00751">loadData()</a>, and <a class="el" href="#l00969">merge()</a>.</p>

</div>
</div>
<a id="a319e848e06467e458214bba1132b49a9" name="a319e848e06467e458214bba1132b49a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319e848e06467e458214bba1132b49a9">&#9670;&nbsp;</a></span>assign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::assign </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_palette.html">TPalette</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isFromStudioPalette</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000020">Deprecated:</a></b></dt><dd>Should be substituted by operator=(const TPalette&amp;). </dd></dl>
<p>Copies src's page, color styles an animation table</p>
<p >if the palette is copied from studio palette, this function will modify the original names. </p>
<div class="fragment"><div class="line"><span class="lineno">  898</span>                                                                   {</div>
<div class="line"><span class="lineno">  899</span>  <span class="keywordflow">if</span> (src == <span class="keyword">this</span>) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  900</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  901</span>  m_isCleanupPalette = src-&gt;<a class="code hl_function" href="class_t_palette.html#a8160207d0a98de8a562c4339aa648ed4">isCleanupPalette</a>();</div>
<div class="line"><span class="lineno">  902</span>  <span class="comment">// for(i=0;i&lt;getStyleCount();i++) delete getStyle(i);</span></div>
<div class="line"><span class="lineno">  903</span>  m_styles.clear();</div>
<div class="line"><span class="lineno">  904</span>  clearPointerContainer(m_pages);</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>  <span class="keywordflow">for</span> (i = 0; i &lt; src-&gt;<a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>(); i++) {</div>
<div class="line"><span class="lineno">  907</span>    <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *srcStyle = src-&gt;<a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(i);</div>
<div class="line"><span class="lineno">  908</span>    <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *dstStyle = srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#a7b7e50c731a150aa84f746a261765adf">clone</a>();</div>
<div class="line"><span class="lineno">  909</span>    dstStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#aeb25e0ae1708d473bd551b0d0c9bf4a9">setName</a>(</div>
<div class="line"><span class="lineno">  910</span>        srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#a611de20d126c5838456f9113b4682c4f">getName</a>());  <span class="comment">// per un baco del TColorStyle::clone()</span></div>
<div class="line"><span class="lineno">  911</span>    dstStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#af6a3579e3785b9addcf434574bc89367">setGlobalName</a>(</div>
<div class="line"><span class="lineno">  912</span>        srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#ad275b1ae7fbbf9b7a0266b799ce53d40">getGlobalName</a>());  <span class="comment">// per un baco del TColorStyle::clone()</span></div>
<div class="line"><span class="lineno">  913</span> </div>
<div class="line"><span class="lineno">  914</span>    <span class="comment">// if the style is copied from studio palette, put its name to the original</span></div>
<div class="line"><span class="lineno">  915</span>    <span class="comment">// name.</span></div>
<div class="line"><span class="lineno">  916</span>    <span class="comment">// check if the style has the global name (i.e. it comes from studio</span></div>
<div class="line"><span class="lineno">  917</span>    <span class="comment">// palette)</span></div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">if</span> (isFromStudioPalette &amp;&amp; srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#ad275b1ae7fbbf9b7a0266b799ce53d40">getGlobalName</a>() != L<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno">  919</span>      <span class="comment">// If the original style has no original name (i.e. if the style is copied</span></div>
<div class="line"><span class="lineno">  920</span>      <span class="comment">// from the studio palette)</span></div>
<div class="line"><span class="lineno">  921</span>      <span class="keywordflow">if</span> (srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#a9bbfc9d628f549c134e6593ea9d6b42e">getOriginalName</a>() == L<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno">  922</span>        <span class="comment">// put the original style name to the &quot;original name&quot; of the pasted</span></div>
<div class="line"><span class="lineno">  923</span>        <span class="comment">// style.</span></div>
<div class="line"><span class="lineno">  924</span>        dstStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#a22061dd49a8282e8af93840441998532">setOriginalName</a>(srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#a611de20d126c5838456f9113b4682c4f">getName</a>());</div>
<div class="line"><span class="lineno">  925</span>      }</div>
<div class="line"><span class="lineno">  926</span>    }</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordtype">int</span> j = <a class="code hl_function" href="class_t_palette.html#a43a27667c3b3583b2b3e1a9f307e7b42">addStyle</a>(dstStyle);</div>
<div class="line"><span class="lineno">  929</span>    assert(i == j);</div>
<div class="line"><span class="lineno">  930</span>  }</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>  <span class="keywordflow">for</span> (i = 0; i &lt; src-&gt;<a class="code hl_function" href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">getPageCount</a>(); i++) {</div>
<div class="line"><span class="lineno">  933</span>    <span class="keyword">const</span> Page *srcPage = src-&gt;<a class="code hl_function" href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">getPage</a>(i);</div>
<div class="line"><span class="lineno">  934</span>    Page *dstPage       = <a class="code hl_function" href="class_t_palette.html#a77258e62bbb8a9f60e4aa5e6ea0e862a">addPage</a>(srcPage-&gt;getName());</div>
<div class="line"><span class="lineno">  935</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; srcPage-&gt;getStyleCount(); j++)</div>
<div class="line"><span class="lineno">  936</span>      dstPage-&gt;addStyle(srcPage-&gt;getStyleId(j));</div>
<div class="line"><span class="lineno">  937</span>  }</div>
<div class="line"><span class="lineno">  938</span>  m_refImg     = !!src-&gt;m_refImg ? src-&gt;m_refImg-&gt;<a class="code hl_function" href="class_t_image.html#a3632b96b398057030a4adfe6917d2e28">cloneImage</a>() : <a class="code hl_class" href="class_t_smart_pointer_t.html">TImageP</a>();</div>
<div class="line"><span class="lineno">  939</span>  m_refImgPath = src-&gt;m_refImgPath;</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>  StyleAnimationTable::iterator it;</div>
<div class="line"><span class="lineno">  942</span>  StyleAnimation::iterator j;</div>
<div class="line"><span class="lineno">  943</span>  <span class="keywordflow">for</span> (it = m_styleAnimationTable.begin(); it != m_styleAnimationTable.end();</div>
<div class="line"><span class="lineno">  944</span>       ++it) {</div>
<div class="line"><span class="lineno">  945</span>    <span class="comment">// for(j = it-&gt;second.begin(); j != it-&gt;second.end(); ++j)</span></div>
<div class="line"><span class="lineno">  946</span>    <span class="comment">//   delete j-&gt;second;</span></div>
<div class="line"><span class="lineno">  947</span>    it-&gt;second.clear();</div>
<div class="line"><span class="lineno">  948</span>  }</div>
<div class="line"><span class="lineno">  949</span>  m_styleAnimationTable.clear();</div>
<div class="line"><span class="lineno">  950</span>  StyleAnimationTable::const_iterator cit;</div>
<div class="line"><span class="lineno">  951</span>  <span class="keywordflow">for</span> (cit = src-&gt;m_styleAnimationTable.begin();</div>
<div class="line"><span class="lineno">  952</span>       cit != src-&gt;m_styleAnimationTable.end(); ++cit) {</div>
<div class="line"><span class="lineno">  953</span>    StyleAnimation animation = cit-&gt;second;</div>
<div class="line"><span class="lineno">  954</span>    <span class="keywordflow">for</span> (j = animation.begin(); j != animation.end(); j++)</div>
<div class="line"><span class="lineno">  955</span>      j-&gt;second = j-&gt;second-&gt;clone();</div>
<div class="line"><span class="lineno">  956</span>    m_styleAnimationTable[cit-&gt;first] = cit-&gt;second;</div>
<div class="line"><span class="lineno">  957</span>  }</div>
<div class="line"><span class="lineno">  958</span>  m_globalName         = src-&gt;<a class="code hl_function" href="class_t_palette.html#ad3199523465a1961c1564a82db46b451">getGlobalName</a>();</div>
<div class="line"><span class="lineno">  959</span>  m_shortcuts          = src-&gt;m_shortcuts;</div>
<div class="line"><span class="lineno">  960</span>  m_currentFrame       = src-&gt;m_currentFrame;</div>
<div class="line"><span class="lineno">  961</span>  m_shortcutScopeIndex = src-&gt;m_shortcutScopeIndex;</div>
<div class="line"><span class="lineno">  962</span>  <span class="comment">// setDirtyFlag(true);</span></div>
<div class="line"><span class="lineno">  963</span>}</div>
<div class="ttc" id="aclass_t_color_style_html"><div class="ttname"><a href="class_t_color_style.html">TColorStyle</a></div><div class="ttdoc">Abstract class representing a color style in a Toonz palette.</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:84</div></div>
<div class="ttc" id="aclass_t_color_style_html_a22061dd49a8282e8af93840441998532"><div class="ttname"><a href="class_t_color_style.html#a22061dd49a8282e8af93840441998532">TColorStyle::setOriginalName</a></div><div class="ttdeci">void setOriginalName(std::wstring name)</div><div class="ttdoc">If the style is originally copied from studio palette, set this.</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:204</div></div>
<div class="ttc" id="aclass_t_color_style_html_a611de20d126c5838456f9113b4682c4f"><div class="ttname"><a href="class_t_color_style.html#a611de20d126c5838456f9113b4682c4f">TColorStyle::getName</a></div><div class="ttdeci">std::wstring getName() const</div><div class="ttdoc">Returns the style's user-defined name.</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:190</div></div>
<div class="ttc" id="aclass_t_color_style_html_a7b7e50c731a150aa84f746a261765adf"><div class="ttname"><a href="class_t_color_style.html#a7b7e50c731a150aa84f746a261765adf">TColorStyle::clone</a></div><div class="ttdeci">virtual TColorStyle * clone() const =0</div><div class="ttdoc">Polymorphic clone of the style.</div></div>
<div class="ttc" id="aclass_t_color_style_html_a9bbfc9d628f549c134e6593ea9d6b42e"><div class="ttname"><a href="class_t_color_style.html#a9bbfc9d628f549c134e6593ea9d6b42e">TColorStyle::getOriginalName</a></div><div class="ttdeci">std::wstring getOriginalName() const</div><div class="ttdoc">Returns the original name of the style.</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:207</div></div>
<div class="ttc" id="aclass_t_color_style_html_ad275b1ae7fbbf9b7a0266b799ce53d40"><div class="ttname"><a href="class_t_color_style.html#ad275b1ae7fbbf9b7a0266b799ce53d40">TColorStyle::getGlobalName</a></div><div class="ttdeci">std::wstring getGlobalName() const</div><div class="ttdoc">Returns the global name of the style.</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:200</div></div>
<div class="ttc" id="aclass_t_color_style_html_af6a3579e3785b9addcf434574bc89367"><div class="ttname"><a href="class_t_color_style.html#af6a3579e3785b9addcf434574bc89367">TColorStyle::setGlobalName</a></div><div class="ttdeci">void setGlobalName(std::wstring name)</div><div class="ttdoc">Sets the global name of the style.</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:197</div></div>
<div class="ttc" id="aclass_t_image_html_a3632b96b398057030a4adfe6917d2e28"><div class="ttname"><a href="class_t_image.html#a3632b96b398057030a4adfe6917d2e28">TImage::cloneImage</a></div><div class="ttdeci">virtual TImage * cloneImage() const =0</div></div>
<div class="ttc" id="aclass_t_palette_html_a25f83b7baf3eb774e50c726fa702056c"><div class="ttname"><a href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">TPalette::getPage</a></div><div class="ttdeci">Page * getPage(int pageIndex)</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:372</div></div>
<div class="ttc" id="aclass_t_palette_html_a43a27667c3b3583b2b3e1a9f307e7b42"><div class="ttname"><a href="class_t_palette.html#a43a27667c3b3583b2b3e1a9f307e7b42">TPalette::addStyle</a></div><div class="ttdeci">int addStyle(TColorStyle *style)</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:314</div></div>
<div class="ttc" id="aclass_t_palette_html_ad3199523465a1961c1564a82db46b451"><div class="ttname"><a href="class_t_palette.html#ad3199523465a1961c1564a82db46b451">TPalette::getGlobalName</a></div><div class="ttdeci">std::wstring getGlobalName() const</div><div class="ttdoc">Returns the name of the palette object.</div><div class="ttdef"><b>Definition:</b> tpalette.h:233</div></div>
<div class="ttc" id="aclass_t_smart_pointer_t_html"><div class="ttname"><a href="class_t_smart_pointer_t.html">TSmartPointerT&lt; TImage &gt;</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00396">addPage()</a>, <a class="el" href="#l00142">TPalette::Page::addStyle()</a>, <a class="el" href="#l00314">addStyle()</a>, <a class="el" href="class_t_color_style.html#a7b7e50c731a150aa84f746a261765adf">TColorStyle::clone()</a>, <a class="el" href="class_t_image.html#a3632b96b398057030a4adfe6917d2e28">TImage::cloneImage()</a>, <a class="el" href="#l00200">TColorStyle::getGlobalName()</a>, <a class="el" href="#l00233">getGlobalName()</a>, <a class="el" href="#l00190">TColorStyle::getName()</a>, <a class="el" href="#l00106">TPalette::Page::getName()</a>, <a class="el" href="#l00207">TColorStyle::getOriginalName()</a>, <a class="el" href="#l00372">getPage()</a>, <a class="el" href="#l00368">getPageCount()</a>, <a class="el" href="#l00283">getStyle()</a>, <a class="el" href="#l00121">TPalette::Page::getStyleCount()</a>, <a class="el" href="#l00255">getStyleCount()</a>, <a class="el" href="#l00132">TPalette::Page::getStyleId()</a>, <a class="el" href="#l00355">isCleanupPalette()</a>, <a class="el" href="#l00197">TColorStyle::setGlobalName()</a>, <a class="el" href="#l00187">TColorStyle::setName()</a>, and <a class="el" href="#l00204">TColorStyle::setOriginalName()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01069">RasterSelection::deleteSelection()</a>.</p>

</div>
</div>
<a id="a36d0291b604c5ecb35c565c6d81c7ce8" name="a36d0291b604c5ecb35c565c6d81c7ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36d0291b604c5ecb35c565c6d81c7ce8">&#9670;&nbsp;</a></span>clearKeyframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::clearKeyframe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>animation. </p>
<p >Deletes the keyframe at the specified frame of styleId's </p>
<div class="fragment"><div class="line"><span class="lineno"> 1145</span>                                                   {</div>
<div class="line"><span class="lineno"> 1146</span>  assert(0 &lt;= styleId &amp;&amp; styleId &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>());</div>
<div class="line"><span class="lineno"> 1147</span>  assert(0 &lt;= frame);</div>
<div class="line"><span class="lineno"> 1148</span>  StyleAnimationTable::iterator it = m_styleAnimationTable.find(styleId);</div>
<div class="line"><span class="lineno"> 1149</span>  <span class="keywordflow">if</span> (it == m_styleAnimationTable.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1150</span>  StyleAnimation &amp;animation  = it-&gt;second;</div>
<div class="line"><span class="lineno"> 1151</span>  StyleAnimation::iterator j = animation.find(frame);</div>
<div class="line"><span class="lineno"> 1152</span>  <span class="keywordflow">if</span> (j == animation.end()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1153</span>  <span class="comment">// j-&gt;second-&gt;release();</span></div>
<div class="line"><span class="lineno"> 1154</span>  animation.erase(j);</div>
<div class="line"><span class="lineno"> 1155</span>  <span class="keywordflow">if</span> (animation.empty()) {</div>
<div class="line"><span class="lineno"> 1156</span>    m_styleAnimationTable.erase(styleId);</div>
<div class="line"><span class="lineno"> 1157</span>  }</div>
<div class="line"><span class="lineno"> 1158</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00255">getStyleCount()</a>.</p>

</div>
</div>
<a id="abc3ef5824d89e65687b32c530cf25325" name="abc3ef5824d89e65687b32c530cf25325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3ef5824d89e65687b32c530cf25325">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_palette.html">TPalette</a> * TPalette::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a <em>new</em> copy of this palette instance. </p>
<div class="fragment"><div class="line"><span class="lineno">  275</span>                                {</div>
<div class="line"><span class="lineno">  276</span>  <a class="code hl_class" href="class_t_palette.html">TPalette</a> *palette = <span class="keyword">new</span> <a class="code hl_class" href="class_t_palette.html">TPalette</a>;</div>
<div class="line"><span class="lineno">  277</span>  palette-&gt;assign(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  278</span>  <span class="keywordflow">return</span> palette;</div>
<div class="line"><span class="lineno">  279</span>}</div>
<div class="ttc" id="aclass_t_palette_html"><div class="ttname"><a href="class_t_palette.html">TPalette</a></div><div class="ttdoc">The class representing a Toonz palette object.</div><div class="ttdef"><b>Definition:</b> tpalette.h:85</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00698">ToonzImageIconRenderer::run()</a>, and <a class="el" href="#l00242">Vectorizer::setLevel()</a>.</p>

</div>
</div>
<a id="a6a18830b8f209aac7c13bccfe88b19e4" name="a6a18830b8f209aac7c13bccfe88b19e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a18830b8f209aac7c13bccfe88b19e4">&#9670;&nbsp;</a></span>erasePage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::erasePage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes the <em>index-th</em> page. </p>
<div class="fragment"><div class="line"><span class="lineno">  406</span>                                  {</div>
<div class="line"><span class="lineno">  407</span>  Page *page = <a class="code hl_function" href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">getPage</a>(index);</div>
<div class="line"><span class="lineno">  408</span>  <span class="keywordflow">if</span> (!page) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  409</span>  m_pages.erase(m_pages.begin() + index);</div>
<div class="line"><span class="lineno">  410</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  411</span>  <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_function" href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">getPageCount</a>(); i++) m_pages[i]-&gt;m_index = i;</div>
<div class="line"><span class="lineno">  412</span>  <span class="keywordflow">for</span> (i = 0; i &lt; page-&gt;getStyleCount(); i++)</div>
<div class="line"><span class="lineno">  413</span>    m_styles[page-&gt;getStyleId(i)].first = 0;</div>
<div class="line"><span class="lineno">  414</span>  page-&gt;m_palette = 0;</div>
<div class="line"><span class="lineno">  415</span>  <span class="keyword">delete</span> page;</div>
<div class="line"><span class="lineno">  416</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00372">getPage()</a>, <a class="el" href="#l00368">getPageCount()</a>, <a class="el" href="#l00121">TPalette::Page::getStyleCount()</a>, and <a class="el" href="#l00132">TPalette::Page::getStyleId()</a>.</p>

</div>
</div>
<a id="acef775ca72db90dfdebb0dcad53a3af2" name="acef775ca72db90dfdebb0dcad53a3af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acef775ca72db90dfdebb0dcad53a3af2">&#9670;&nbsp;</a></span>getAskOverwriteFlag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TPalette::getAskOverwriteFlag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the ask-overwrite flag. </p>

</div>
</div>
<a id="ab0bf5c4fdd9cd3428819ce594299627d" name="ab0bf5c4fdd9cd3428819ce594299627d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0bf5c4fdd9cd3428819ce594299627d">&#9670;&nbsp;</a></span>getClosestStyle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getClosestStyle </td>
          <td>(</td>
          <td class="paramtype">const TPixelRGBM32 &amp;&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>The distance between colors is calculated with the usual sphrical norm between RGBA color components. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The style id of the nearest style, or <code>-1</code> if none was found. Returns the index of the style whose main color is nearest to the requested one. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  442</span>                                                         {</div>
<div class="line"><span class="lineno">  443</span>  <span class="keyword">struct </span>locals {</div>
<div class="line"><span class="lineno">  444</span>    <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> getDistance2(<span class="keyword">const</span> TPixel32 &amp;a, <span class="keyword">const</span> TPixel32 &amp;b) {</div>
<div class="line"><span class="lineno">  445</span>      <span class="keywordflow">return</span> (a.r - b.r) * (a.r - b.r) + (a.g - b.g) * (a.g - b.g) +</div>
<div class="line"><span class="lineno">  446</span>             (a.b - b.b) * (a.b - b.b) + (a.m - b.m) * (a.m - b.m);</div>
<div class="line"><span class="lineno">  447</span>    }</div>
<div class="line"><span class="lineno">  448</span>  };  <span class="comment">// locals</span></div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>  <span class="keywordflow">if</span> (color == TPixel32::Transparent) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  451</span>  <span class="keywordtype">int</span> bestIndex    = -1;</div>
<div class="line"><span class="lineno">  452</span>  <span class="keywordtype">int</span> bestDistance = 255 * 255 * 4 + 1;</div>
<div class="line"><span class="lineno">  453</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; (int)m_styles.size(); i++) {</div>
<div class="line"><span class="lineno">  454</span>    <span class="comment">// if(i==FirstUserStyle+2) continue;</span></div>
<div class="line"><span class="lineno">  455</span>    <a class="code hl_class" href="class_t_solid_color_style.html">TSolidColorStyle</a> *scs =</div>
<div class="line"><span class="lineno">  456</span>        <span class="keyword">dynamic_cast&lt;</span><a class="code hl_class" href="class_t_solid_color_style.html">TSolidColorStyle</a> *<span class="keyword">&gt;</span>(m_styles[i].second.getPointer());</div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordflow">if</span> (scs) {</div>
<div class="line"><span class="lineno">  458</span>      <span class="keywordtype">int</span> d = locals::getDistance2(scs-&gt;<a class="code hl_function" href="class_t_solid_color_style.html#a99ea32bd112b325f3c94ab0e09552b6a">getMainColor</a>(), color);</div>
<div class="line"><span class="lineno">  459</span>      <span class="keywordflow">if</span> (d &lt; bestDistance) {</div>
<div class="line"><span class="lineno">  460</span>        bestIndex    = i;</div>
<div class="line"><span class="lineno">  461</span>        bestDistance = d;</div>
<div class="line"><span class="lineno">  462</span>      }</div>
<div class="line"><span class="lineno">  463</span>    }</div>
<div class="line"><span class="lineno">  464</span>  }</div>
<div class="line"><span class="lineno">  465</span>  <span class="keywordflow">return</span> bestIndex;</div>
<div class="line"><span class="lineno">  466</span>}</div>
<div class="ttc" id="aclass_t_solid_color_style_html"><div class="ttname"><a href="class_t_solid_color_style.html">TSolidColorStyle</a></div><div class="ttdef"><b>Definition:</b> tsimplecolorstyles.h:135</div></div>
<div class="ttc" id="aclass_t_solid_color_style_html_a99ea32bd112b325f3c94ab0e09552b6a"><div class="ttname"><a href="class_t_solid_color_style.html#a99ea32bd112b325f3c94ab0e09552b6a">TSolidColorStyle::getMainColor</a></div><div class="ttdeci">TPixel32 getMainColor() const override</div><div class="ttdoc">Returns the style's main color, or black if none.</div><div class="ttdef"><b>Definition:</b> tsimplecolorstyles.h:155</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00155">TSolidColorStyle::getMainColor()</a>.</p>

</div>
</div>
<a id="a447462857fa4be53f7d67f95b7c059bf" name="a447462857fa4be53f7d67f95b7c059bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a447462857fa4be53f7d67f95b7c059bf">&#9670;&nbsp;</a></span>getCurrentStyleId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getCurrentStyleId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  434</span>{ <span class="keywordflow">return</span> m_currentStyleId; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e573ec80c4779bcdb543e4b743a8c34" name="a4e573ec80c4779bcdb543e4b743a8c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e573ec80c4779bcdb543e4b743a8c34">&#9670;&nbsp;</a></span>getDirtyFlag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TPalette::getDirtyFlag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns whether the palette changed with respect to the last <em>saved state</em>. </p>

<p class="reference">Referenced by <a class="el" href="#l00475">StudioPaletteTreeViewer::onCurrentItemChanged()</a>, <a class="el" href="#l00412">StudioPaletteTreeViewer::onItemSelectionChanged()</a>, and <a class="el" href="#l00209">SceneLevel::save()</a>.</p>

</div>
</div>
<a id="aa3db2bd45a8e8a7ec488144684923b0a" name="aa3db2bd45a8e8a7ec488144684923b0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3db2bd45a8e8a7ec488144684923b0a">&#9670;&nbsp;</a></span>getFirstUnpagedStyle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getFirstUnpagedStyle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the styleId of the first style not in a page (<code>-1</code> if none). </p>
<div class="fragment"><div class="line"><span class="lineno">  304</span>                                         {</div>
<div class="line"><span class="lineno">  305</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>(); i++)</div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordflow">if</span> (m_styles[i].first == 0) <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  307</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  308</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00255">getStyleCount()</a>.</p>

</div>
</div>
<a id="a7fd9f134eeffe1fa9ca39ee3fb6ad1b4" name="a7fd9f134eeffe1fa9ca39ee3fb6ad1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fd9f134eeffe1fa9ca39ee3fb6ad1b4">&#9670;&nbsp;</a></span>getFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getFrame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the index of the current frame. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1050</span>{ <span class="keywordflow">return</span> m_currentFrame; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00821">Stage::RasterPainter::onVectorImage()</a>.</p>

</div>
</div>
<a id="ac3646c822ac89b3a44781322582e86ec" name="ac3646c822ac89b3a44781322582e86ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3646c822ac89b3a44781322582e86ec">&#9670;&nbsp;</a></span>getFxRects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TPalette::getFxRects </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_rect_t.html">TRect</a> &amp;&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_rect_t.html">TRect</a> &amp;&#160;</td>
          <td class="paramname"><em>rectIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_rect_t.html">TRect</a> &amp;&#160;</td>
          <td class="paramname"><em>rectOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000021">Deprecated:</a></b></dt><dd>Used only once throughout Toonz, should be verified. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  470</span>                                                                          {</div>
<div class="line"><span class="lineno">  471</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  472</span>  <span class="keywordtype">bool</span> ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  473</span>  <span class="keywordtype">int</span> borderIn, borderOut, fullBorderIn = 0, fullBorderOut = 0;</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>  <span class="keywordflow">for</span> (i = 0; i &lt; (int)m_styles.size(); i++)</div>
<div class="line"><span class="lineno">  476</span>    <span class="keywordflow">if</span> (m_styles[i].second-&gt;isRasterStyle()) {</div>
<div class="line"><span class="lineno">  477</span>      m_styles[i].second-&gt;getRasterStyleFx()-&gt;getEnlargement(borderIn,</div>
<div class="line"><span class="lineno">  478</span>                                                             borderOut);</div>
<div class="line"><span class="lineno">  479</span>      fullBorderIn  = std::max(fullBorderIn, borderIn);</div>
<div class="line"><span class="lineno">  480</span>      fullBorderOut = std::max(fullBorderOut, borderOut);</div>
<div class="line"><span class="lineno">  481</span>      ret           = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  482</span>    }</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>  rectIn  = rect.enlarge(fullBorderIn);</div>
<div class="line"><span class="lineno">  485</span>  rectOut = rect.enlarge(fullBorderOut);</div>
<div class="line"><span class="lineno">  486</span>  <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  487</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3199523465a1961c1564a82db46b451" name="ad3199523465a1961c1564a82db46b451"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3199523465a1961c1564a82db46b451">&#9670;&nbsp;</a></span>getGlobalName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::wstring TPalette::getGlobalName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the name of the palette object. </p>

<p class="reference">Referenced by <a class="el" href="#l00898">assign()</a>, <a class="el" href="#l00475">StudioPaletteTreeViewer::onCurrentItemChanged()</a>, and <a class="el" href="#l00412">StudioPaletteTreeViewer::onItemSelectionChanged()</a>.</p>

</div>
</div>
<a id="ae3433802d3bc4cbf9e8848f74c11cbe5" name="ae3433802d3bc4cbf9e8848f74c11cbe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3433802d3bc4cbf9e8848f74c11cbe5">&#9670;&nbsp;</a></span>getKeyframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getKeyframe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the <em>index-th</em> frame in styleId's animation, or <code>-1</code> if it couldn't be found. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1114</span>                                                      {</div>
<div class="line"><span class="lineno"> 1115</span>  StyleAnimationTable::const_iterator it = m_styleAnimationTable.find(styleId);</div>
<div class="line"><span class="lineno"> 1116</span>  <span class="keywordflow">if</span> (it == m_styleAnimationTable.end()) <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1117</span>  <span class="keyword">const</span> StyleAnimation &amp;animation = it-&gt;second;</div>
<div class="line"><span class="lineno"> 1118</span>  <span class="keywordflow">if</span> (index &lt; 0 || index &gt;= (<span class="keywordtype">int</span>)animation.size()) <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1119</span>  StyleAnimation::const_iterator j = animation.begin();</div>
<div class="line"><span class="lineno"> 1120</span>  std::advance(j, index);</div>
<div class="line"><span class="lineno"> 1121</span>  <span class="keywordflow">return</span> j-&gt;first;</div>
<div class="line"><span class="lineno"> 1122</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a84cf99f9fef176cf5981425b493285a2" name="a84cf99f9fef176cf5981425b493285a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84cf99f9fef176cf5981425b493285a2">&#9670;&nbsp;</a></span>getKeyframeCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getKeyframeCount </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the keyframes count in styleId's animation. </p>
<p >keyframe in styleId's animation </p>
<div class="fragment"><div class="line"><span class="lineno"> 1106</span>                                                {</div>
<div class="line"><span class="lineno"> 1107</span>  StyleAnimationTable::const_iterator it = m_styleAnimationTable.find(styleId);</div>
<div class="line"><span class="lineno"> 1108</span>  <span class="keywordflow">if</span> (it == m_styleAnimationTable.end()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1109</span>  <span class="keywordflow">return</span> int(it-&gt;second.size());</div>
<div class="line"><span class="lineno"> 1110</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a25f83b7baf3eb774e50c726fa702056c" name="a25f83b7baf3eb774e50c726fa702056c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25f83b7baf3eb774e50c726fa702056c">&#9670;&nbsp;</a></span>getPage() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_palette_1_1_page.html">TPalette::Page</a> * TPalette::getPage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pageIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the <em>index-th</em> palette page, or <code>0</code> if no such page was found. </p>
<div class="fragment"><div class="line"><span class="lineno">  372</span>                                             {</div>
<div class="line"><span class="lineno">  373</span>  <span class="keywordflow">if</span> (0 &lt;= pageIndex &amp;&amp; pageIndex &lt; <a class="code hl_function" href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">getPageCount</a>()) {</div>
<div class="line"><span class="lineno">  374</span>    Page *page = m_pages[pageIndex];</div>
<div class="line"><span class="lineno">  375</span>    assert(page-&gt;getIndex() == pageIndex);</div>
<div class="line"><span class="lineno">  376</span>    assert(page-&gt;m_palette == <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">return</span> page;</div>
<div class="line"><span class="lineno">  378</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  379</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  380</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00117">TPalette::Page::getIndex()</a>, and <a class="el" href="#l00368">getPageCount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00898">assign()</a>, <a class="el" href="#l00655">PaletteViewer::contextMenuEvent()</a>, <a class="el" href="#l00323">PaletteViewerGUI::PageViewer::drop()</a>, <a class="el" href="#l00406">erasePage()</a>, <a class="el" href="#l01162">getShortcutValue()</a>, <a class="el" href="#l00969">merge()</a>, and <a class="el" href="#l00633">saveData()</a>.</p>

</div>
</div>
<a id="a19de22cf05c7052997008e6693294893" name="a19de22cf05c7052997008e6693294893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19de22cf05c7052997008e6693294893">&#9670;&nbsp;</a></span>getPage() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_t_palette_1_1_page.html">TPalette::Page</a> * TPalette::getPage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pageIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Const version of <a class="el" href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">getPage(int)</a>. </p>
<div class="fragment"><div class="line"><span class="lineno">  384</span>                                                         {</div>
<div class="line"><span class="lineno">  385</span>  <span class="keywordflow">if</span> (0 &lt;= pageIndex &amp;&amp; pageIndex &lt; <a class="code hl_function" href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">getPageCount</a>()) {</div>
<div class="line"><span class="lineno">  386</span>    Page *page = m_pages[pageIndex];</div>
<div class="line"><span class="lineno">  387</span>    assert(page-&gt;getIndex() == pageIndex);</div>
<div class="line"><span class="lineno">  388</span>    assert(page-&gt;m_palette == <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">return</span> page;</div>
<div class="line"><span class="lineno">  390</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  391</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  392</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00117">TPalette::Page::getIndex()</a>, and <a class="el" href="#l00368">getPageCount()</a>.</p>

</div>
</div>
<a id="afd211cadf0f047450bc31897f858fa73" name="afd211cadf0f047450bc31897f858fa73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd211cadf0f047450bc31897f858fa73">&#9670;&nbsp;</a></span>getPageCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getPageCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>specified style id. </p>
<p >Returns the pages count. </p>
<div class="fragment"><div class="line"><span class="lineno">  368</span>{ <span class="keywordflow">return</span> int(m_pages.size()); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00916">PaletteViewer::addNewPage()</a>, <a class="el" href="#l00396">addPage()</a>, <a class="el" href="#l00898">assign()</a>, <a class="el" href="#l00799">PaletteViewer::dropEvent()</a>, <a class="el" href="#l00406">erasePage()</a>, <a class="el" href="#l00372">getPage()</a>, <a class="el" href="#l00969">merge()</a>, <a class="el" href="#l01222">TVectorImage::mergeImage()</a>, <a class="el" href="#l00420">movePage()</a>, and <a class="el" href="#l00633">saveData()</a>.</p>

</div>
</div>
<a id="af0bb56df19af40d1a729482efc85f492" name="af0bb56df19af40d1a729482efc85f492"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0bb56df19af40d1a729482efc85f492">&#9670;&nbsp;</a></span>getPaletteName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::wstring TPalette::getPaletteName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the name of the palette. </p>

<p class="reference">Referenced by <a class="el" href="#l00571">StudioPaletteTreeViewer::convertToStudioPalette()</a>, <a class="el" href="#l00969">merge()</a>, and <a class="el" href="#l00808">StudioPaletteTreeViewer::replaceCurrentPalette()</a>.</p>

</div>
</div>
<a id="ac3e08b7fe4ac6f2cb16d195786067108" name="ac3e08b7fe4ac6f2cb16d195786067108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3e08b7fe4ac6f2cb16d195786067108">&#9670;&nbsp;</a></span>getRefImg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_t_smart_pointer_t.html">TImageP</a> &amp; TPalette::getRefImg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Returns an image that represents the frame image associated to this palette. </p>

</div>
</div>
<a id="a7eda1d7f3a27e8e90d0c12faaedaf5a6" name="a7eda1d7f3a27e8e90d0c12faaedaf5a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eda1d7f3a27e8e90d0c12faaedaf5a6">&#9670;&nbsp;</a></span>getRefImgPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_t_file_path.html">TFilePath</a> TPalette::getRefImgPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>built or modified using this palette. </p>
<p >Returns the file path of the reference image. </p>

<p class="reference">Referenced by <a class="el" href="#l00799">PaletteViewer::dropEvent()</a>, <a class="el" href="#l01083">TXshSimpleLevel::load()</a>, and <a class="el" href="#l00190">SceneLevel::SceneLevel()</a>.</p>

</div>
</div>
<a id="aeda302f41529ee532096ecef117bdf7d" name="aeda302f41529ee532096ecef117bdf7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeda302f41529ee532096ecef117bdf7d">&#9670;&nbsp;</a></span>getRefLevelFids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt; TPalette::getRefLevelFids </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >fids to this palette. When specified == true fids were specified by user on loading. Returns the list of frames associated to this palette. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1036</span>{ <span class="keywordflow">return</span> m_refLevelFids; }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01083">TXshSimpleLevel::load()</a>.</p>

</div>
</div>
<a id="ac7b1cee99b5f1961be1fc2e821bc2b8b" name="ac7b1cee99b5f1961be1fc2e821bc2b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7b1cee99b5f1961be1fc2e821bc2b8b">&#9670;&nbsp;</a></span>getShortcutValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getShortcutValue </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>animation. </p>
<dl class="section note"><dt>Note</dt><dd>Key is an integer between 0 and 9 included. Returns the style id <em>shortcut</em> associated to key, or <code>-1</code> if it couldn't be found. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1162</span>                                            {</div>
<div class="line"><span class="lineno"> 1163</span>  assert(Qt::Key_0 &lt;= key &amp;&amp; key &lt;= Qt::Key_9);</div>
<div class="line"><span class="lineno"> 1164</span> </div>
<div class="line"><span class="lineno"> 1165</span>  <span class="keywordtype">int</span> shortcutIndex = (key == Qt::Key_0) ? 9 : key - Qt::Key_1;</div>
<div class="line"><span class="lineno"> 1166</span>  <span class="keywordtype">int</span> indexInPage   = m_shortcutScopeIndex * 10 + shortcutIndex;</div>
<div class="line"><span class="lineno"> 1167</span>  <span class="comment">// shortcut is available only in the first page</span></div>
<div class="line"><span class="lineno"> 1168</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">getPage</a>(0)-&gt;<a class="code hl_function" href="class_t_palette_1_1_page.html#a3d6eed995ee8b1c22d50a73911a45786">getStyleId</a>(indexInPage);</div>
<div class="line"><span class="lineno"> 1169</span>}</div>
<div class="ttc" id="aclass_t_palette_1_1_page_html_a3d6eed995ee8b1c22d50a73911a45786"><div class="ttname"><a href="class_t_palette_1_1_page.html#a3d6eed995ee8b1c22d50a73911a45786">TPalette::Page::getStyleId</a></div><div class="ttdeci">int getStyleId(int indexInPage) const</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:132</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00372">getPage()</a>, and <a class="el" href="#l00132">TPalette::Page::getStyleId()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00633">saveData()</a>.</p>

</div>
</div>
<a id="a0f6a4eda7dafb0a9f2b43160cfec81e4" name="a0f6a4eda7dafb0a9f2b43160cfec81e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f6a4eda7dafb0a9f2b43160cfec81e4">&#9670;&nbsp;</a></span>getStyle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_color_style.html">TColorStyle</a> * TPalette::getStyle </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns a pointer to the color style with the specified id, or <code>0</code> if said id is not stored in the palette. </p>
<div class="fragment"><div class="line"><span class="lineno">  283</span>                                               {</div>
<div class="line"><span class="lineno">  284</span>  <span class="keywordflow">if</span> (0 &lt;= index &amp;&amp; index &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>())</div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">return</span> m_styles[index].second.getPointer();</div>
<div class="line"><span class="lineno">  286</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  287</span>    <span class="keyword">static</span> <a class="code hl_class" href="class_t_solid_color_style.html">TSolidColorStyle</a> *ss = <span class="keyword">new</span> <a class="code hl_class" href="class_t_solid_color_style.html">TSolidColorStyle</a>(TPixel32::Red);</div>
<div class="line"><span class="lineno">  288</span>    ss-&gt;addRef();</div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">return</span> ss;</div>
<div class="line"><span class="lineno">  290</span>  }</div>
<div class="line"><span class="lineno">  291</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00255">getStyleCount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00314">addStyle()</a>, <a class="el" href="#l00898">assign()</a>, <a class="el" href="#l01043">TRop::convertRaster50to46()</a>, <a class="el" href="#l01757">TStyleSelection::getBackOriginalStyle()</a>, <a class="el" href="#l00567">TVectorImage::getBBox()</a>, <a class="el" href="#l00345">TVectorBrushStyle::getColorParamValue()</a>, <a class="el" href="#l00323">TVectorBrushStyle::getMainColor()</a>, <a class="el" href="#l00122">TPalette::Page::getStyle()</a>, <a class="el" href="#l00751">loadData()</a>, <a class="el" href="#l00969">merge()</a>, <a class="el" href="#l00316">FullColorAreaFiller::rectFill()</a>, <a class="el" href="#l00357">TVectorBrushStyle::setColorParamValue()</a>, <a class="el" href="#l01054">setFrame()</a>, <a class="el" href="#l01126">setKeyframe()</a>, <a class="el" href="#l00332">TVectorBrushStyle::setMainColor()</a>, <a class="el" href="#l00341">setStyle()</a>, and <a class="el" href="#l00568">StudioPalette::updateLinkedColors()</a>.</p>

</div>
</div>
<a id="a5a562f2d3a5fa256fcb4bb2be5b45534" name="a5a562f2d3a5fa256fcb4bb2be5b45534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a562f2d3a5fa256fcb4bb2be5b45534">&#9670;&nbsp;</a></span>getStyleCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getStyleCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of the color styles in the palette. </p>

<p class="reference">Referenced by <a class="el" href="#l00898">assign()</a>, <a class="el" href="#l01145">clearKeyframe()</a>, <a class="el" href="#l01043">TRop::convertRaster50to46()</a>, <a class="el" href="#l00304">getFirstUnpagedStyle()</a>, <a class="el" href="#l00283">getStyle()</a>, <a class="el" href="#l00132">TPalette::Page::getStyleId()</a>, <a class="el" href="#l00295">getStyleInPagesCount()</a>, <a class="el" href="#l00433">getStylePage()</a>, <a class="el" href="#l01173">getStyleShortcut()</a>, <a class="el" href="#l00173">TPalette::Page::insertStyle()</a>, <a class="el" href="#l00969">merge()</a>, <a class="el" href="#l00203">TPalette::Page::removeStyle()</a>, <a class="el" href="#l00633">saveData()</a>, <a class="el" href="#l00226">TPalette::Page::search()</a>, <a class="el" href="#l01054">setFrame()</a>, <a class="el" href="#l01126">setKeyframe()</a>, <a class="el" href="#l01187">setShortcutValue()</a>, and <a class="el" href="#l00341">setStyle()</a>.</p>

</div>
</div>
<a id="a403b73bd6dc6e600bd15252a9c1d2dfe" name="a403b73bd6dc6e600bd15252a9c1d2dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a403b73bd6dc6e600bd15252a9c1d2dfe">&#9670;&nbsp;</a></span>getStyleInPagesCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getStyleInPagesCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of styles contained in palette pages. </p>
<div class="fragment"><div class="line"><span class="lineno">  295</span>                                         {</div>
<div class="line"><span class="lineno">  296</span>  <span class="keywordtype">int</span> styleInPagesCount = 0;</div>
<div class="line"><span class="lineno">  297</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>(); i++)</div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordflow">if</span> (m_styles[i].first != 0) styleInPagesCount++;</div>
<div class="line"><span class="lineno">  299</span>  <span class="keywordflow">return</span> styleInPagesCount;</div>
<div class="line"><span class="lineno">  300</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00255">getStyleCount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00314">addStyle()</a>.</p>

</div>
</div>
<a id="ae8566a5ffa9e69be120003ad4b69078d" name="ae8566a5ffa9e69be120003ad4b69078d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8566a5ffa9e69be120003ad4b69078d">&#9670;&nbsp;</a></span>getStylePage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_palette_1_1_page.html">TPalette::Page</a> * TPalette::getStylePage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the page containing the specified <em>styleId</em>. </p>
<div class="fragment"><div class="line"><span class="lineno">  433</span>                                                      {</div>
<div class="line"><span class="lineno">  434</span>  <span class="keywordflow">if</span> (0 &lt;= styleId &amp;&amp; styleId &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>())</div>
<div class="line"><span class="lineno">  435</span>    <span class="keywordflow">return</span> m_styles[styleId].first;</div>
<div class="line"><span class="lineno">  436</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  438</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00255">getStyleCount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01173">getStyleShortcut()</a>, and <a class="el" href="#l00287">ColorModelViewer::pick()</a>.</p>

</div>
</div>
<a id="a2f74093e079ad1c423f9bd62bc00faf1" name="a2f74093e079ad1c423f9bd62bc00faf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f74093e079ad1c423f9bd62bc00faf1">&#9670;&nbsp;</a></span>getStyleShortcut()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getStyleShortcut </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns the shortcut associated to styleId, or or <code>-1</code> if it couldn't be found. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1173</span>                                                {</div>
<div class="line"><span class="lineno"> 1174</span>  assert(0 &lt;= styleId &amp;&amp; styleId &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>());</div>
<div class="line"><span class="lineno"> 1175</span> </div>
<div class="line"><span class="lineno"> 1176</span>  Page *page = <a class="code hl_function" href="class_t_palette.html#ae8566a5ffa9e69be120003ad4b69078d">getStylePage</a>(styleId);</div>
<div class="line"><span class="lineno"> 1177</span>  <span class="comment">// shortcut is available only in the first page</span></div>
<div class="line"><span class="lineno"> 1178</span>  <span class="keywordflow">if</span> (!page || page-&gt;getIndex() != 0) <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1179</span>  <span class="keywordtype">int</span> indexInPage   = page-&gt;search(styleId);</div>
<div class="line"><span class="lineno"> 1180</span>  <span class="keywordtype">int</span> shortcutIndex = indexInPage - m_shortcutScopeIndex * 10;</div>
<div class="line"><span class="lineno"> 1181</span>  <span class="keywordflow">if</span> (shortcutIndex &lt; 0 || shortcutIndex &gt; 9) <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1182</span>  <span class="keywordflow">return</span> (shortcutIndex == 9) ? Qt::Key_0 : Qt::Key_1 + shortcutIndex;</div>
<div class="line"><span class="lineno"> 1183</span>}</div>
<div class="ttc" id="aclass_t_palette_html_ae8566a5ffa9e69be120003ad4b69078d"><div class="ttname"><a href="class_t_palette.html#ae8566a5ffa9e69be120003ad4b69078d">TPalette::getStylePage</a></div><div class="ttdeci">Page * getStylePage(int styleId) const</div><div class="ttdoc">Returns the page containing the specified styleId.</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:433</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00117">TPalette::Page::getIndex()</a>, <a class="el" href="#l00255">getStyleCount()</a>, <a class="el" href="#l00433">getStylePage()</a>, and <a class="el" href="#l00215">TPalette::Page::search()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l01359">PaletteViewerGUI::PageViewer::event()</a>.</p>

</div>
</div>
<a id="a6a8a0879cdbd83ecdcf4c7599e093524" name="a6a8a0879cdbd83ecdcf4c7599e093524"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a8a0879cdbd83ecdcf4c7599e093524">&#9670;&nbsp;</a></span>getVersion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TPalette::getVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the palette's version number. </p>

</div>
</div>
<a id="a9cd803f2fbda78d541ea7c9cc1afc8b4" name="a9cd803f2fbda78d541ea7c9cc1afc8b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cd803f2fbda78d541ea7c9cc1afc8b4">&#9670;&nbsp;</a></span>hasPickedPosStyle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TPalette::hasPickedPosStyle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1207</span>                                 {</div>
<div class="line"><span class="lineno"> 1208</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>(); ++i) {</div>
<div class="line"><span class="lineno"> 1209</span>    <a class="code hl_class" href="class_t_smart_pointer_t.html">TColorStyleP</a> style = m_styles[i].second;</div>
<div class="line"><span class="lineno"> 1210</span>    <span class="keywordflow">if</span> (style-&gt;getPickedPosition().pos != <a class="code hl_class" href="class_t_point_t.html">TPoint</a>()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1211</span>  }</div>
<div class="line"><span class="lineno"> 1212</span>  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1213</span>}</div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; int &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab93ce6de2d1138d6c6946e1a3e317e04" name="ab93ce6de2d1138d6c6946e1a3e317e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab93ce6de2d1138d6c6946e1a3e317e04">&#9670;&nbsp;</a></span>isAnimated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TPalette::isAnimated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns whether this palette is animated (styles change through time). </p>
<div class="fragment"><div class="line"><span class="lineno"> 1046</span>{ <span class="keywordflow">return</span> !m_styleAnimationTable.empty(); }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00633">saveData()</a>.</p>

</div>
</div>
<a id="a8160207d0a98de8a562c4339aa648ed4" name="a8160207d0a98de8a562c4339aa648ed4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8160207d0a98de8a562c4339aa648ed4">&#9670;&nbsp;</a></span>isCleanupPalette()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TPalette::isCleanupPalette </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether this is a cleanup palette. </p>

<p class="reference">Referenced by <a class="el" href="#l00314">addStyle()</a>, <a class="el" href="#l00898">assign()</a>, <a class="el" href="#l01214">PaletteViewerGUI::PageViewer::dragEnterEvent()</a>, and <a class="el" href="#l01593">PaletteViewerGUI::PaletteTabBar::dragEnterEvent()</a>.</p>

</div>
</div>
<a id="abc7a1661819318b6c4b45a700056c8f8" name="abc7a1661819318b6c4b45a700056c8f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc7a1661819318b6c4b45a700056c8f8">&#9670;&nbsp;</a></span>isKeyframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TPalette::isKeyframe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Returns whether the specified frame is a <em></em> </p>
<div class="fragment"><div class="line"><span class="lineno"> 1098</span>                                                      {</div>
<div class="line"><span class="lineno"> 1099</span>  StyleAnimationTable::const_iterator it = m_styleAnimationTable.find(styleId);</div>
<div class="line"><span class="lineno"> 1100</span>  <span class="keywordflow">if</span> (it == m_styleAnimationTable.end()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1101</span>  <span class="keywordflow">return</span> it-&gt;second.count(frame) &gt; 0;</div>
<div class="line"><span class="lineno"> 1102</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a66ac047e12676ed6038f1261743dde" name="a4a66ac047e12676ed6038f1261743dde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a66ac047e12676ed6038f1261743dde">&#9670;&nbsp;</a></span>isLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TPalette::isLocked </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the palette is locked. </p>

<p class="reference">Referenced by <a class="el" href="#l01121">PaletteViewerGUI::PageViewer::contextMenuEvent()</a>, <a class="el" href="#l01062">PaletteViewerGUI::PageViewer::mouseDoubleClickEvent()</a>, <a class="el" href="#l01575">PaletteViewerGUI::PaletteTabBar::mouseDoubleClickEvent()</a>, <a class="el" href="#l01021">PaletteViewerGUI::PageViewer::mouseMoveEvent()</a>, <a class="el" href="#l01555">PaletteViewerGUI::PaletteTabBar::mouseMoveEvent()</a>, <a class="el" href="#l00942">PaletteViewerGUI::PageViewer::mousePressEvent()</a>, <a class="el" href="#l00580">PaletteViewerGUI::PageViewer::paintEvent()</a>, <a class="el" href="#l00633">saveData()</a>, and <a class="el" href="#l01758">PaletteViewerGUI::PageViewer::updateCommandLocks()</a>.</p>

</div>
</div>
<a id="ad4c4db7647acbcccbd698e1ae0655b43" name="ad4c4db7647acbcccbd698e1ae0655b43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c4db7647acbcccbd698e1ae0655b43">&#9670;&nbsp;</a></span>loadData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::loadData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_i_stream.html">TIStream</a> &amp;&#160;</td>
          <td class="paramname"><em>is</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I/O palette save function. </p>

<p>Implements <a class="el" href="class_t_persist.html#a9e9d78431e843edb9299095af867a136">TPersist</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  751</span>                                    {</div>
<div class="line"><span class="lineno">  752</span>  m_styles.clear();</div>
<div class="line"><span class="lineno">  753</span>  clearPointerContainer(m_pages);</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>  VersionNumber version = is.<a class="code hl_function" href="class_t_i_stream.html#a61179493a9ae5d6b057d23195cec606b">getVersion</a>();</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>  std::string tagName;</div>
<div class="line"><span class="lineno">  758</span>  <span class="keywordflow">while</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a735640240402316f00c595134bfe6b4b">openChild</a>(tagName)) {</div>
<div class="line"><span class="lineno">  759</span>    <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;version&quot;</span>) {</div>
<div class="line"><span class="lineno">  760</span>      is &gt;&gt; version.first &gt;&gt; version.second;</div>
<div class="line"><span class="lineno">  761</span>      <span class="keywordflow">if</span> (version &gt; VersionNumber(71, 0))</div>
<div class="line"><span class="lineno">  762</span>        <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(<span class="stringliteral">&quot;palette, unsupported version number&quot;</span>);</div>
<div class="line"><span class="lineno">  763</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;styles&quot;</span>) {</div>
<div class="line"><span class="lineno">  764</span>      <span class="keywordflow">while</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#af8ad0a31e14e94179bd5688f13340528">eos</a>())  <span class="comment">// I think while(is.openChild(tagName))</span></div>
<div class="line"><span class="lineno">  765</span>      {                  <span class="comment">// would be better. However, I don&#39;t trust</span></div>
<div class="line"><span class="lineno">  766</span>        <span class="keywordflow">if</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a735640240402316f00c595134bfe6b4b">openChild</a>(tagName) ||</div>
<div class="line"><span class="lineno">  767</span>            tagName !=</div>
<div class="line"><span class="lineno">  768</span>                <span class="stringliteral">&quot;style&quot;</span>)  <span class="comment">// TIStream&#39;s implementation very much. Keeping it</span></div>
<div class="line"><span class="lineno">  769</span>          <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(</div>
<div class="line"><span class="lineno">  770</span>              <span class="stringliteral">&quot;palette, expected tag &lt;style&gt;&quot;</span>);  <span class="comment">// like this for now.</span></div>
<div class="line"><span class="lineno">  771</span>        {</div>
<div class="line"><span class="lineno">  772</span>          StyleReader r(is, version);</div>
<div class="line"><span class="lineno">  773</span>          <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *cs = <a class="code hl_function" href="class_t_color_style.html#a27dd8ed3da9830923d5231575840f1d1">TColorStyle::load</a>(r);</div>
<div class="line"><span class="lineno">  774</span> </div>
<div class="line"><span class="lineno">  775</span>          std::string pickedPosStr;</div>
<div class="line"><span class="lineno">  776</span>          <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;pickedpos&quot;</span>, pickedPosStr))</div>
<div class="line"><span class="lineno">  777</span>            cs-&gt;setPickedPosition(stringToPoint(pickedPosStr));</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>          <a class="code hl_function" href="class_t_palette.html#a43a27667c3b3583b2b3e1a9f307e7b42">addStyle</a>(cs);</div>
<div class="line"><span class="lineno">  780</span>        }</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>        is.<a class="code hl_function" href="class_t_i_stream.html#a57d85a02799eb0e904c8b22788dc671b">closeChild</a>();</div>
<div class="line"><span class="lineno">  783</span>      }</div>
<div class="line"><span class="lineno">  784</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;stylepages&quot;</span>) {</div>
<div class="line"><span class="lineno">  785</span>      <span class="keywordflow">while</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#af8ad0a31e14e94179bd5688f13340528">eos</a>()) {</div>
<div class="line"><span class="lineno">  786</span>        <span class="keywordflow">if</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a735640240402316f00c595134bfe6b4b">openChild</a>(tagName) || tagName != <span class="stringliteral">&quot;page&quot;</span>)</div>
<div class="line"><span class="lineno">  787</span>          <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(<span class="stringliteral">&quot;palette, expected tag &lt;stylepage&gt;&quot;</span>);</div>
<div class="line"><span class="lineno">  788</span>        {</div>
<div class="line"><span class="lineno">  789</span>          std::wstring pageName;</div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>          <span class="keywordflow">if</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a735640240402316f00c595134bfe6b4b">openChild</a>(tagName) || tagName != <span class="stringliteral">&quot;name&quot;</span>)</div>
<div class="line"><span class="lineno">  792</span>            <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(<span class="stringliteral">&quot;palette, expected tag &lt;name&gt;&quot;</span>);</div>
<div class="line"><span class="lineno">  793</span>          { is &gt;&gt; pageName; }</div>
<div class="line"><span class="lineno">  794</span>          is.<a class="code hl_function" href="class_t_i_stream.html#a57d85a02799eb0e904c8b22788dc671b">closeChild</a>();</div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>          Page *page = <a class="code hl_function" href="class_t_palette.html#a77258e62bbb8a9f60e4aa5e6ea0e862a">addPage</a>(pageName);</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>          <span class="keywordflow">if</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a735640240402316f00c595134bfe6b4b">openChild</a>(tagName) || tagName != <span class="stringliteral">&quot;indices&quot;</span>)</div>
<div class="line"><span class="lineno">  799</span>            <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(<span class="stringliteral">&quot;palette, expected tag &lt;indices&gt;&quot;</span>);</div>
<div class="line"><span class="lineno">  800</span>          {</div>
<div class="line"><span class="lineno">  801</span>            <span class="keywordflow">while</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#af8ad0a31e14e94179bd5688f13340528">eos</a>()) {</div>
<div class="line"><span class="lineno">  802</span>              <span class="keywordtype">int</span> index;</div>
<div class="line"><span class="lineno">  803</span>              is &gt;&gt; index;</div>
<div class="line"><span class="lineno">  804</span>              page-&gt;addStyle(index);</div>
<div class="line"><span class="lineno">  805</span>            }</div>
<div class="line"><span class="lineno">  806</span>          }</div>
<div class="line"><span class="lineno">  807</span>          is.<a class="code hl_function" href="class_t_i_stream.html#a57d85a02799eb0e904c8b22788dc671b">closeChild</a>();</div>
<div class="line"><span class="lineno">  808</span>        }</div>
<div class="line"><span class="lineno">  809</span>        is.<a class="code hl_function" href="class_t_i_stream.html#a57d85a02799eb0e904c8b22788dc671b">closeChild</a>();</div>
<div class="line"><span class="lineno">  810</span>      }</div>
<div class="line"><span class="lineno">  811</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;refImgPath&quot;</span>) {</div>
<div class="line"><span class="lineno">  812</span>      std::string fidsStr;</div>
<div class="line"><span class="lineno">  813</span>      <span class="keywordflow">if</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;fids&quot;</span>, fidsStr)) {</div>
<div class="line"><span class="lineno">  814</span>        m_areRefLevelFidsSpecified = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  815</span>        m_refLevelFids             = strToFids(fidsStr);</div>
<div class="line"><span class="lineno">  816</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  817</span>        m_areRefLevelFidsSpecified = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  818</span>        m_refLevelFids.clear();</div>
<div class="line"><span class="lineno">  819</span>      }</div>
<div class="line"><span class="lineno">  820</span>      is &gt;&gt; m_refImgPath;</div>
<div class="line"><span class="lineno">  821</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;animation&quot;</span>) {</div>
<div class="line"><span class="lineno">  822</span>      <span class="keywordflow">while</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#af8ad0a31e14e94179bd5688f13340528">eos</a>()) {</div>
<div class="line"><span class="lineno">  823</span>        <span class="keywordflow">if</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a735640240402316f00c595134bfe6b4b">openChild</a>(tagName) || tagName != <span class="stringliteral">&quot;style&quot;</span>)</div>
<div class="line"><span class="lineno">  824</span>          <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(<span class="stringliteral">&quot;palette, expected tag &lt;style&gt;&quot;</span>);</div>
<div class="line"><span class="lineno">  825</span>        {</div>
<div class="line"><span class="lineno">  826</span>          <span class="keywordtype">int</span> styleId = 0;</div>
<div class="line"><span class="lineno">  827</span>          <span class="keywordflow">if</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;id&quot;</span>, styleId))</div>
<div class="line"><span class="lineno">  828</span>            <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(<span class="stringliteral">&quot;palette, missing id attribute in tag &lt;style&gt;&quot;</span>);</div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span>          StyleAnimation animation;</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>          <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *style = <a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(styleId);</div>
<div class="line"><span class="lineno">  833</span>          assert(style);</div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>          <span class="keywordflow">while</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a5fe7ddb5560e39e0ab4ff57d24926d41">matchTag</a>(tagName)) {</div>
<div class="line"><span class="lineno">  836</span>            <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *cs = 0;</div>
<div class="line"><span class="lineno">  837</span>            <span class="keywordtype">int</span> frame       = 0;</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>            <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;keycolor&quot;</span>) {</div>
<div class="line"><span class="lineno">  840</span>              <span class="keywordflow">if</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;frame&quot;</span>, frame))</div>
<div class="line"><span class="lineno">  841</span>                <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(</div>
<div class="line"><span class="lineno">  842</span>                    <span class="stringliteral">&quot;palette, missing frame attribute in tag &lt;keycolor&gt;&quot;</span>);</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>              TPixel32 color;</div>
<div class="line"><span class="lineno">  845</span>              is &gt;&gt; color;</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>              cs = style-&gt;<a class="code hl_function" href="class_t_color_style.html#a7b7e50c731a150aa84f746a261765adf">clone</a>();</div>
<div class="line"><span class="lineno">  848</span>              cs-&gt;<a class="code hl_function" href="class_t_color_style.html#a7298dce9321f51cfb21f3fcb13701240">setMainColor</a>(color);</div>
<div class="line"><span class="lineno">  849</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;keyframe&quot;</span>) {</div>
<div class="line"><span class="lineno">  850</span>              <span class="keywordflow">if</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">getTagParam</a>(<span class="stringliteral">&quot;frame&quot;</span>, frame))</div>
<div class="line"><span class="lineno">  851</span>                <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(</div>
<div class="line"><span class="lineno">  852</span>                    <span class="stringliteral">&quot;palette, missing frame attribute in tag &lt;keyframe&gt;&quot;</span>);</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>              StyleReader r(is, version);</div>
<div class="line"><span class="lineno">  855</span>              cs = <a class="code hl_function" href="class_t_color_style.html#a27dd8ed3da9830923d5231575840f1d1">TColorStyle::load</a>(r);</div>
<div class="line"><span class="lineno">  856</span>            } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  857</span>              <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(<span class="stringliteral">&quot;palette, expected &lt;keyframe&gt; tag&quot;</span>);</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>            animation[frame] = cs;</div>
<div class="line"><span class="lineno">  860</span>            is.<a class="code hl_function" href="class_t_i_stream.html#a57d85a02799eb0e904c8b22788dc671b">closeChild</a>();</div>
<div class="line"><span class="lineno">  861</span>          }</div>
<div class="line"><span class="lineno">  862</span> </div>
<div class="line"><span class="lineno">  863</span>          m_styleAnimationTable[styleId] = animation;</div>
<div class="line"><span class="lineno">  864</span>        }</div>
<div class="line"><span class="lineno">  865</span>        is.<a class="code hl_function" href="class_t_i_stream.html#a57d85a02799eb0e904c8b22788dc671b">closeChild</a>();</div>
<div class="line"><span class="lineno">  866</span>      }</div>
<div class="line"><span class="lineno">  867</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;stylepages&quot;</span>) {</div>
<div class="line"><span class="lineno">  868</span>      <span class="keywordtype">int</span> key = <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><span class="lineno">  869</span>      <span class="keywordflow">while</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#af8ad0a31e14e94179bd5688f13340528">eos</a>()) {</div>
<div class="line"><span class="lineno">  870</span>        <span class="keywordtype">int</span> styleId = 0;</div>
<div class="line"><span class="lineno">  871</span>        is &gt;&gt; styleId;</div>
<div class="line"><span class="lineno">  872</span> </div>
<div class="line"><span class="lineno">  873</span>        <span class="keywordflow">if</span> (key &lt;= <span class="charliteral">&#39;9&#39;</span>) <a class="code hl_function" href="class_t_palette.html#a2e4fc32a08028cbcc65c9a3897efa80d">setShortcutValue</a>(key, styleId);</div>
<div class="line"><span class="lineno">  874</span>      }</div>
<div class="line"><span class="lineno">  875</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;shortcuts&quot;</span>) {</div>
<div class="line"><span class="lineno">  876</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; ++i) {</div>
<div class="line"><span class="lineno">  877</span>        <span class="keywordtype">int</span> v;</div>
<div class="line"><span class="lineno">  878</span>        is &gt;&gt; v;</div>
<div class="line"><span class="lineno">  879</span> </div>
<div class="line"><span class="lineno">  880</span>        <a class="code hl_function" href="class_t_palette.html#a2e4fc32a08028cbcc65c9a3897efa80d">setShortcutValue</a>(<span class="charliteral">&#39;0&#39;</span> + i, v);</div>
<div class="line"><span class="lineno">  881</span>      }</div>
<div class="line"><span class="lineno">  882</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;lock&quot;</span>) {</div>
<div class="line"><span class="lineno">  883</span>      <span class="keywordtype">int</span> lockValue;</div>
<div class="line"><span class="lineno">  884</span>      is &gt;&gt; lockValue;</div>
<div class="line"><span class="lineno">  885</span>      m_isLocked = (bool)lockValue;</div>
<div class="line"><span class="lineno">  886</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  887</span>      <span class="keywordflow">throw</span> <a class="code hl_class" href="class_t_exception.html">TException</a>(<span class="stringliteral">&quot;palette, unknown tag: &quot;</span> + tagName);</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>    is.<a class="code hl_function" href="class_t_i_stream.html#a57d85a02799eb0e904c8b22788dc671b">closeChild</a>();</div>
<div class="line"><span class="lineno">  890</span>  }</div>
<div class="line"><span class="lineno">  891</span>}</div>
<div class="ttc" id="aclass_t_color_style_html_a27dd8ed3da9830923d5231575840f1d1"><div class="ttname"><a href="class_t_color_style.html#a27dd8ed3da9830923d5231575840f1d1">TColorStyle::load</a></div><div class="ttdeci">static TColorStyle * load(TInputStreamInterface &amp;)</div><div class="ttdef"><b>Definition:</b> tcolorstyles.cpp:514</div></div>
<div class="ttc" id="aclass_t_color_style_html_a7298dce9321f51cfb21f3fcb13701240"><div class="ttname"><a href="class_t_color_style.html#a7298dce9321f51cfb21f3fcb13701240">TColorStyle::setMainColor</a></div><div class="ttdeci">virtual void setMainColor(const TPixel32 &amp;color)</div><div class="ttdoc">Sets the main color, if it has one.</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:248</div></div>
<div class="ttc" id="aclass_t_exception_html"><div class="ttname"><a href="class_t_exception.html">TException</a></div><div class="ttdef"><b>Definition:</b> texception.h:18</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a530540f44de1a1031cebfee0d34ffcfe"><div class="ttname"><a href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">TIStream::getTagParam</a></div><div class="ttdeci">bool getTagParam(std::string paramName, std::string &amp;value)</div><div class="ttdoc">Attempts retrieval of the value associated with the specified tag attribute in current tag.</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a57d85a02799eb0e904c8b22788dc671b"><div class="ttname"><a href="class_t_i_stream.html#a57d85a02799eb0e904c8b22788dc671b">TIStream::closeChild</a></div><div class="ttdeci">void closeChild()</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1242</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a5fe7ddb5560e39e0ab4ff57d24926d41"><div class="ttname"><a href="class_t_i_stream.html#a5fe7ddb5560e39e0ab4ff57d24926d41">TIStream::matchTag</a></div><div class="ttdeci">bool matchTag(std::string &amp;tagName)</div><div class="ttdoc">is encountered or the string is empty).</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1178</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a61179493a9ae5d6b057d23195cec606b"><div class="ttname"><a href="class_t_i_stream.html#a61179493a9ae5d6b057d23195cec606b">TIStream::getVersion</a></div><div class="ttdeci">VersionNumber getVersion() const</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1273</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a735640240402316f00c595134bfe6b4b"><div class="ttname"><a href="class_t_i_stream.html#a735640240402316f00c595134bfe6b4b">TIStream::openChild</a></div><div class="ttdeci">bool openChild(std::string &amp;tagName)</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1231</div></div>
<div class="ttc" id="aclass_t_i_stream_html_af8ad0a31e14e94179bd5688f13340528"><div class="ttname"><a href="class_t_i_stream.html#af8ad0a31e14e94179bd5688f13340528">TIStream::eos</a></div><div class="ttdeci">bool eos()</div><div class="ttdoc">Returns true in case of end of string (a StreamTag::EndTag.</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1169</div></div>
<div class="ttc" id="aclass_t_palette_html_a2e4fc32a08028cbcc65c9a3897efa80d"><div class="ttname"><a href="class_t_palette.html#a2e4fc32a08028cbcc65c9a3897efa80d">TPalette::setShortcutValue</a></div><div class="ttdeci">void setShortcutValue(int key, int styleId)</div><div class="ttdoc">Associates the specified key to a styleId.</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:1187</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00396">addPage()</a>, <a class="el" href="#l00142">TPalette::Page::addStyle()</a>, <a class="el" href="#l00314">addStyle()</a>, <a class="el" href="class_t_color_style.html#a7b7e50c731a150aa84f746a261765adf">TColorStyle::clone()</a>, <a class="el" href="#l01242">TIStream::closeChild()</a>, <a class="el" href="#l01169">TIStream::eos()</a>, <a class="el" href="#l00283">getStyle()</a>, <a class="el" href="class_t_i_stream.html#a530540f44de1a1031cebfee0d34ffcfe">TIStream::getTagParam()</a>, <a class="el" href="#l01273">TIStream::getVersion()</a>, <a class="el" href="#l00514">TColorStyle::load()</a>, <a class="el" href="#l01178">TIStream::matchTag()</a>, <a class="el" href="#l01231">TIStream::openChild()</a>, <a class="el" href="#l00248">TColorStyle::setMainColor()</a>, and <a class="el" href="#l01187">setShortcutValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00359">TSceneProperties::loadData()</a>.</p>

</div>
</div>
<a id="a705d1d02aa6a88e4da4ead66c9e838aa" name="a705d1d02aa6a88e4da4ead66c9e838aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a705d1d02aa6a88e4da4ead66c9e838aa">&#9670;&nbsp;</a></span>merge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::merge </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_palette.html">TPalette</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isFromStudioPalette</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >to the corresponding features of the palette. if the palette is copied from studio palette, this function will modify the original names. Adds src's styles and pages to the palette.</p>
<p >if the palette is merged from studio palette, this function will modify the original names. </p>
<div class="fragment"><div class="line"><span class="lineno">  969</span>                                                                  {</div>
<div class="line"><span class="lineno">  970</span>  std::map&lt;int, int&gt; table;</div>
<div class="line"><span class="lineno">  971</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  972</span>  <span class="keywordflow">for</span> (i = 1; i &lt; src-&gt;<a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>(); i++) {</div>
<div class="line"><span class="lineno">  973</span>    <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *srcStyle = src-&gt;<a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(i);</div>
<div class="line"><span class="lineno">  974</span>    <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *dstStyle = srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#a7b7e50c731a150aa84f746a261765adf">clone</a>();</div>
<div class="line"><span class="lineno">  975</span>    dstStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#aeb25e0ae1708d473bd551b0d0c9bf4a9">setName</a>(srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#a611de20d126c5838456f9113b4682c4f">getName</a>());</div>
<div class="line"><span class="lineno">  976</span>    dstStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#af6a3579e3785b9addcf434574bc89367">setGlobalName</a>(srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#ad275b1ae7fbbf9b7a0266b799ce53d40">getGlobalName</a>());</div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>    <span class="comment">// if the style is copied from studio palette, put its name to the original</span></div>
<div class="line"><span class="lineno">  979</span>    <span class="comment">// name.</span></div>
<div class="line"><span class="lineno">  980</span>    <span class="comment">// check if the style has the global name (i.e. it comes from studio</span></div>
<div class="line"><span class="lineno">  981</span>    <span class="comment">// palette)</span></div>
<div class="line"><span class="lineno">  982</span>    <span class="keywordflow">if</span> (isFromStudioPalette &amp;&amp; srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#ad275b1ae7fbbf9b7a0266b799ce53d40">getGlobalName</a>() != L<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno">  983</span>      <span class="comment">// If the original style has no original name (i.e. if the style is copied</span></div>
<div class="line"><span class="lineno">  984</span>      <span class="comment">// from the studio palette)</span></div>
<div class="line"><span class="lineno">  985</span>      <span class="keywordflow">if</span> (srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#a9bbfc9d628f549c134e6593ea9d6b42e">getOriginalName</a>() == L<span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno">  986</span>        <span class="comment">// put the original style name to the &quot;original name&quot; of the pasted</span></div>
<div class="line"><span class="lineno">  987</span>        <span class="comment">// style.</span></div>
<div class="line"><span class="lineno">  988</span>        dstStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#a22061dd49a8282e8af93840441998532">setOriginalName</a>(srcStyle-&gt;<a class="code hl_function" href="class_t_color_style.html#a611de20d126c5838456f9113b4682c4f">getName</a>());</div>
<div class="line"><span class="lineno">  989</span>      }</div>
<div class="line"><span class="lineno">  990</span>    }</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>    <span class="keywordtype">int</span> j    = <a class="code hl_function" href="class_t_palette.html#a43a27667c3b3583b2b3e1a9f307e7b42">addStyle</a>(dstStyle);</div>
<div class="line"><span class="lineno">  993</span>    table[i] = j;</div>
<div class="line"><span class="lineno">  994</span>  }</div>
<div class="line"><span class="lineno">  995</span> </div>
<div class="line"><span class="lineno">  996</span>  <span class="keywordtype">int</span> pageCount = src-&gt;<a class="code hl_function" href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">getPageCount</a>();</div>
<div class="line"><span class="lineno">  997</span>  <span class="keywordflow">for</span> (i = 0; i &lt; pageCount; i++) {</div>
<div class="line"><span class="lineno">  998</span>    <span class="keyword">const</span> Page *srcPage   = src-&gt;<a class="code hl_function" href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">getPage</a>(i);</div>
<div class="line"><span class="lineno">  999</span>    std::wstring pageName = srcPage-&gt;<a class="code hl_function" href="class_t_palette_1_1_page.html#afe6244af91aba433da867c48d0ecb304">getName</a>();</div>
<div class="line"><span class="lineno"> 1000</span>    <span class="keywordflow">if</span> (pageName == L<span class="stringliteral">&quot;colors&quot;</span> &amp;&amp; src-&gt;<a class="code hl_function" href="class_t_palette.html#af0bb56df19af40d1a729482efc85f492">getPaletteName</a>() != L<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1001</span>      pageName = src-&gt;<a class="code hl_function" href="class_t_palette.html#af0bb56df19af40d1a729482efc85f492">getPaletteName</a>();</div>
<div class="line"><span class="lineno"> 1002</span>    Page *dstPage = <a class="code hl_function" href="class_t_palette.html#a77258e62bbb8a9f60e4aa5e6ea0e862a">addPage</a>(pageName);  <span class="comment">//;</span></div>
<div class="line"><span class="lineno"> 1003</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; srcPage-&gt;getStyleCount(); j++) {</div>
<div class="line"><span class="lineno"> 1004</span>      <span class="keywordtype">int</span> styleId = srcPage-&gt;getStyleId(j);</div>
<div class="line"><span class="lineno"> 1005</span>      <span class="keywordflow">if</span> (styleId == 0) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1006</span>      assert(table.find(styleId) != table.end());</div>
<div class="line"><span class="lineno"> 1007</span>      dstPage-&gt;addStyle(table[styleId]);</div>
<div class="line"><span class="lineno"> 1008</span>    }</div>
<div class="line"><span class="lineno"> 1009</span>    assert(dstPage-&gt;m_palette == <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1010</span>  }</div>
<div class="line"><span class="lineno"> 1011</span>}</div>
<div class="ttc" id="aclass_t_palette_1_1_page_html_afe6244af91aba433da867c48d0ecb304"><div class="ttname"><a href="class_t_palette_1_1_page.html#afe6244af91aba433da867c48d0ecb304">TPalette::Page::getName</a></div><div class="ttdeci">std::wstring getName() const</div><div class="ttdoc">Returns the name of the page.</div><div class="ttdef"><b>Definition:</b> tpalette.h:106</div></div>
<div class="ttc" id="aclass_t_palette_html_af0bb56df19af40d1a729482efc85f492"><div class="ttname"><a href="class_t_palette.html#af0bb56df19af40d1a729482efc85f492">TPalette::getPaletteName</a></div><div class="ttdeci">std::wstring getPaletteName() const</div><div class="ttdoc">Returns the name of the palette.</div><div class="ttdef"><b>Definition:</b> tpalette.h:414</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00396">addPage()</a>, <a class="el" href="#l00142">TPalette::Page::addStyle()</a>, <a class="el" href="#l00314">addStyle()</a>, <a class="el" href="class_t_color_style.html#a7b7e50c731a150aa84f746a261765adf">TColorStyle::clone()</a>, <a class="el" href="#l00200">TColorStyle::getGlobalName()</a>, <a class="el" href="#l00190">TColorStyle::getName()</a>, <a class="el" href="#l00106">TPalette::Page::getName()</a>, <a class="el" href="#l00207">TColorStyle::getOriginalName()</a>, <a class="el" href="#l00372">getPage()</a>, <a class="el" href="#l00368">getPageCount()</a>, <a class="el" href="#l00414">getPaletteName()</a>, <a class="el" href="#l00283">getStyle()</a>, <a class="el" href="#l00121">TPalette::Page::getStyleCount()</a>, <a class="el" href="#l00255">getStyleCount()</a>, <a class="el" href="#l00132">TPalette::Page::getStyleId()</a>, <a class="el" href="#l00197">TColorStyle::setGlobalName()</a>, <a class="el" href="#l00187">TColorStyle::setName()</a>, and <a class="el" href="#l00204">TColorStyle::setOriginalName()</a>.</p>

</div>
</div>
<a id="ab6c28b4d7f325bef02d347473d4daacb" name="ab6c28b4d7f325bef02d347473d4daacb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6c28b4d7f325bef02d347473d4daacb">&#9670;&nbsp;</a></span>movePage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::movePage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_palette_1_1_page.html">Page</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dstPageIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Moves the specified page to a different page index. </p>
<div class="fragment"><div class="line"><span class="lineno">  420</span>                                                    {</div>
<div class="line"><span class="lineno">  421</span>  assert(page);</div>
<div class="line"><span class="lineno">  422</span>  assert(page-&gt;m_palette == <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  423</span>  dstPageIndex = tcrop(dstPageIndex, 0, <a class="code hl_function" href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">getPageCount</a>() - 1);</div>
<div class="line"><span class="lineno">  424</span>  <span class="keywordflow">if</span> (dstPageIndex == page-&gt;getIndex()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  425</span>  m_pages.erase(m_pages.begin() + page-&gt;getIndex());</div>
<div class="line"><span class="lineno">  426</span>  m_pages.insert(m_pages.begin() + dstPageIndex, page);</div>
<div class="line"><span class="lineno">  427</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">getPageCount</a>(); i++) m_pages[i]-&gt;m_index = i;</div>
<div class="line"><span class="lineno">  428</span>  assert(page-&gt;getIndex() == dstPageIndex);</div>
<div class="line"><span class="lineno">  429</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00117">TPalette::Page::getIndex()</a>, and <a class="el" href="#l00368">getPageCount()</a>.</p>

</div>
</div>
<a id="a3974fff5698333b742c0b0b2f58aee37" name="a3974fff5698333b742c0b0b2f58aee37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3974fff5698333b742c0b0b2f58aee37">&#9670;&nbsp;</a></span>mutex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMutex * TPalette::mutex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the palette's mutex. </p>

</div>
</div>
<a id="aba372a4be1511bffcf54d99ea8d58773" name="aba372a4be1511bffcf54d99ea8d58773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba372a4be1511bffcf54d99ea8d58773">&#9670;&nbsp;</a></span>nextShortcutScope()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::nextShortcutScope </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>invert</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1217</span>                                            {</div>
<div class="line"><span class="lineno"> 1218</span>  <span class="keywordflow">if</span> (invert) {</div>
<div class="line"><span class="lineno"> 1219</span>    <span class="keywordflow">if</span> (m_shortcutScopeIndex &gt; 0)</div>
<div class="line"><span class="lineno"> 1220</span>      m_shortcutScopeIndex -= 1;</div>
<div class="line"><span class="lineno"> 1221</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1222</span>      m_shortcutScopeIndex = <a class="code hl_function" href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">getPage</a>(0)-&gt;<a class="code hl_function" href="class_t_palette_1_1_page.html#ae6d6b899ee10f5b3900081acd882f8ee">getStyleCount</a>() / 10;</div>
<div class="line"><span class="lineno"> 1223</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1224</span>    <span class="keywordflow">if</span> ((m_shortcutScopeIndex + 1) * 10 &lt; <a class="code hl_function" href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">getPage</a>(0)-&gt;<a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>())</div>
<div class="line"><span class="lineno"> 1225</span>      m_shortcutScopeIndex += 1;</div>
<div class="line"><span class="lineno"> 1226</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1227</span>      m_shortcutScopeIndex = 0;</div>
<div class="line"><span class="lineno"> 1228</span>  }</div>
<div class="line"><span class="lineno"> 1229</span>}</div>
<div class="ttc" id="aclass_t_palette_1_1_page_html_ae6d6b899ee10f5b3900081acd882f8ee"><div class="ttname"><a href="class_t_palette_1_1_page.html#ae6d6b899ee10f5b3900081acd882f8ee">TPalette::Page::getStyleCount</a></div><div class="ttdeci">int getStyleCount() const</div><div class="ttdoc">Returns the number of the styles contained in the page.</div><div class="ttdef"><b>Definition:</b> tpalette.h:121</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a30dcdbafb77d943fbc8b712625f4f3d2" name="a30dcdbafb77d943fbc8b712625f4f3d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30dcdbafb77d943fbc8b712625f4f3d2">&#9670;&nbsp;</a></span>saveData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::saveData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_o_stream.html">TOStream</a> &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>I/O palette load function. </p>

<p>Implements <a class="el" href="class_t_persist.html#afb991f7b26f14dbee1740ef036ff4e85">TPersist</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  633</span>                                    {</div>
<div class="line"><span class="lineno">  634</span>  os.<a class="code hl_function" href="class_t_o_stream.html#a9cd1359e6b21d85786708c7e680756d1">child</a>(<span class="stringliteral">&quot;version&quot;</span>) &lt;&lt; 71 &lt;&lt; 0;  <span class="comment">// Inserting the version tag at this level.</span></div>
<div class="line"><span class="lineno">  635</span>  <span class="comment">// This is necessary to support the tpl format</span></div>
<div class="line"><span class="lineno">  636</span>  <span class="keywordflow">if</span> (m_refImgPath !=</div>
<div class="line"><span class="lineno">  637</span>      <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>()) {  <span class="comment">// since it performs *untagged* stream output</span></div>
<div class="line"><span class="lineno">  638</span>    <span class="keywordflow">if</span> (m_areRefLevelFidsSpecified) {</div>
<div class="line"><span class="lineno">  639</span>      std::map&lt;std::string, std::string&gt; attr;</div>
<div class="line"><span class="lineno">  640</span>      attr[<span class="stringliteral">&quot;fids&quot;</span>] = fidsToString(m_refLevelFids);</div>
<div class="line"><span class="lineno">  641</span>      os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;refImgPath&quot;</span>, attr);</div>
<div class="line"><span class="lineno">  642</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  643</span>      os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;refImgPath&quot;</span>);</div>
<div class="line"><span class="lineno">  644</span>    os &lt;&lt; m_refImgPath;  <span class="comment">// (the palette is streamed directly).</span></div>
<div class="line"><span class="lineno">  645</span>    os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  646</span>  }</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>  os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;styles&quot;</span>);</div>
<div class="line"><span class="lineno">  649</span>  {</div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>(); ++i) {</div>
<div class="line"><span class="lineno">  651</span>      <a class="code hl_class" href="class_t_smart_pointer_t.html">TColorStyleP</a> style = m_styles[i].second;</div>
<div class="line"><span class="lineno">  652</span>      <span class="keywordflow">if</span> (style-&gt;getPickedPosition().pos == <a class="code hl_class" href="class_t_point_t.html">TPoint</a>())</div>
<div class="line"><span class="lineno">  653</span>        os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;style&quot;</span>);</div>
<div class="line"><span class="lineno">  654</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  655</span>        std::map&lt;std::string, std::string&gt; attr;</div>
<div class="line"><span class="lineno">  656</span>        attr[<span class="stringliteral">&quot;pickedpos&quot;</span>] = pointToString(style-&gt;getPickedPosition());</div>
<div class="line"><span class="lineno">  657</span>        os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;style&quot;</span>, attr);</div>
<div class="line"><span class="lineno">  658</span>      }</div>
<div class="line"><span class="lineno">  659</span>      {</div>
<div class="line"><span class="lineno">  660</span>        StyleWriter w(os, i);</div>
<div class="line"><span class="lineno">  661</span>        style-&gt;<a class="code hl_function" href="class_t_color_style.html#a77eb7dbedc1c6fe2e4ade48eee4bdcb6">save</a>(w);</div>
<div class="line"><span class="lineno">  662</span>      }</div>
<div class="line"><span class="lineno">  663</span>      os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  664</span>    }</div>
<div class="line"><span class="lineno">  665</span>  }</div>
<div class="line"><span class="lineno">  666</span>  os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>  os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;stylepages&quot;</span>);</div>
<div class="line"><span class="lineno">  669</span>  {</div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="class_t_palette.html#afd211cadf0f047450bc31897f858fa73">getPageCount</a>(); ++i) {</div>
<div class="line"><span class="lineno">  671</span>      Page *page = <a class="code hl_function" href="class_t_palette.html#a25f83b7baf3eb774e50c726fa702056c">getPage</a>(i);</div>
<div class="line"><span class="lineno">  672</span>      os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;page&quot;</span>);</div>
<div class="line"><span class="lineno">  673</span>      {</div>
<div class="line"><span class="lineno">  674</span>        os.<a class="code hl_function" href="class_t_o_stream.html#a9cd1359e6b21d85786708c7e680756d1">child</a>(<span class="stringliteral">&quot;name&quot;</span>) &lt;&lt; page-&gt;getName();</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>        os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;indices&quot;</span>);</div>
<div class="line"><span class="lineno">  677</span>        {</div>
<div class="line"><span class="lineno">  678</span>          <span class="keywordtype">int</span> m = page-&gt;getStyleCount();</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; m; ++j) os &lt;&lt; page-&gt;getStyleId(j);</div>
<div class="line"><span class="lineno">  681</span>        }</div>
<div class="line"><span class="lineno">  682</span>        os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  683</span>      }</div>
<div class="line"><span class="lineno">  684</span>      os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  685</span>    }</div>
<div class="line"><span class="lineno">  686</span>  }</div>
<div class="line"><span class="lineno">  687</span>  os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_palette.html#ab93ce6de2d1138d6c6946e1a3e317e04">isAnimated</a>()) {</div>
<div class="line"><span class="lineno">  690</span>    os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;animation&quot;</span>);</div>
<div class="line"><span class="lineno">  691</span>    {</div>
<div class="line"><span class="lineno">  692</span>      StyleAnimationTable::iterator sat, saEnd = m_styleAnimationTable.end();</div>
<div class="line"><span class="lineno">  693</span>      <span class="keywordflow">for</span> (sat = m_styleAnimationTable.begin(); sat != saEnd; ++sat) {</div>
<div class="line"><span class="lineno">  694</span>        <span class="keywordtype">int</span> styleId               = sat-&gt;first;</div>
<div class="line"><span class="lineno">  695</span>        StyleAnimation &amp;animation = sat-&gt;second;</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>        std::map&lt;std::string, std::string&gt; attributes;</div>
<div class="line"><span class="lineno">  698</span>        attributes[<span class="stringliteral">&quot;id&quot;</span>] = std::to_string(styleId);</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>        os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;style&quot;</span>, attributes);</div>
<div class="line"><span class="lineno">  701</span>        {</div>
<div class="line"><span class="lineno">  702</span>          StyleAnimation::iterator kt, kEnd = animation.end();</div>
<div class="line"><span class="lineno">  703</span>          <span class="keywordflow">for</span> (kt = animation.begin(); kt != kEnd; ++kt) {</div>
<div class="line"><span class="lineno">  704</span>            <span class="keywordtype">int</span> frame = kt-&gt;first;</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>            <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *cs = kt-&gt;second.getPointer();</div>
<div class="line"><span class="lineno">  707</span>            assert(cs);</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>            attributes.clear();</div>
<div class="line"><span class="lineno">  710</span>            attributes[<span class="stringliteral">&quot;frame&quot;</span>] = std::to_string(frame);</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>            <span class="comment">/*os.openChild(&quot;keycolor&quot;, attributes);                       // Up</span></div>
<div class="line"><span class="lineno">  713</span><span class="comment">            to Toonz 7.0, animations saved os &lt;&lt; cs-&gt;getMainColor(); // the main</span></div>
<div class="line"><span class="lineno">  714</span><span class="comment">            color only os.closeChild();*/</span>  <span class="comment">//</span></div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>            os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;keyframe&quot;</span>, attributes);</div>
<div class="line"><span class="lineno">  717</span>            {</div>
<div class="line"><span class="lineno">  718</span>              StyleWriter w(os, sat-&gt;first);</div>
<div class="line"><span class="lineno">  719</span>              kt-&gt;second-&gt;save(w);</div>
<div class="line"><span class="lineno">  720</span>            }</div>
<div class="line"><span class="lineno">  721</span>            os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  722</span>          }</div>
<div class="line"><span class="lineno">  723</span>        }</div>
<div class="line"><span class="lineno">  724</span>        os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  725</span>      }</div>
<div class="line"><span class="lineno">  726</span>    }</div>
<div class="line"><span class="lineno">  727</span>    os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  728</span>  }</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>  <span class="comment">// salvo gli shortcuts solo se sono non standard</span></div>
<div class="line"><span class="lineno">  731</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  732</span>  <span class="keywordflow">for</span> (i = 0; i &lt; 10; ++i)</div>
<div class="line"><span class="lineno">  733</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_palette.html#ac7b1cee99b5f1961be1fc2e821bc2b8b">getShortcutValue</a>(<span class="charliteral">&#39;0&#39;</span> + i) != i) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>  <span class="keywordflow">if</span> (i &lt; 10) {</div>
<div class="line"><span class="lineno">  736</span>    os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;shortcuts&quot;</span>);</div>
<div class="line"><span class="lineno">  737</span>    {</div>
<div class="line"><span class="lineno">  738</span>      <span class="keywordflow">for</span> (i = 0; i &lt; 10; i++) os &lt;&lt; <a class="code hl_function" href="class_t_palette.html#ac7b1cee99b5f1961be1fc2e821bc2b8b">getShortcutValue</a>(<span class="charliteral">&#39;0&#39;</span> + i);</div>
<div class="line"><span class="lineno">  739</span>    }</div>
<div class="line"><span class="lineno">  740</span>    os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  741</span>  }</div>
<div class="line"><span class="lineno">  742</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="class_t_palette.html#a4a66ac047e12676ed6038f1261743dde">isLocked</a>()) {</div>
<div class="line"><span class="lineno">  743</span>    os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;lock&quot;</span>);</div>
<div class="line"><span class="lineno">  744</span>    os &lt;&lt; 1;</div>
<div class="line"><span class="lineno">  745</span>    os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  746</span>  }</div>
<div class="line"><span class="lineno">  747</span>}</div>
<div class="ttc" id="aclass_t_color_style_html_a77eb7dbedc1c6fe2e4ade48eee4bdcb6"><div class="ttname"><a href="class_t_color_style.html#a77eb7dbedc1c6fe2e4ade48eee4bdcb6">TColorStyle::save</a></div><div class="ttdeci">void save(TOutputStreamInterface &amp;) const</div><div class="ttdef"><b>Definition:</b> tcolorstyles.cpp:486</div></div>
<div class="ttc" id="aclass_t_file_path_html"><div class="ttname"><a href="class_t_file_path.html">TFilePath</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:134</div></div>
<div class="ttc" id="aclass_t_o_stream_html_a38fe0f56d934f1c25e2b5d8156415673"><div class="ttname"><a href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">TOStream::openChild</a></div><div class="ttdeci">void openChild(std::string tagName)</div></div>
<div class="ttc" id="aclass_t_o_stream_html_a9cd1359e6b21d85786708c7e680756d1"><div class="ttname"><a href="class_t_o_stream.html#a9cd1359e6b21d85786708c7e680756d1">TOStream::child</a></div><div class="ttdeci">TOStream child(std::string tagName)</div><div class="ttdoc">to the reimplemented TPersist::saveData.</div><div class="ttdef"><b>Definition:</b> tstream.cpp:482</div></div>
<div class="ttc" id="aclass_t_o_stream_html_ae80752da32b21a502953e151e7c4b2ee"><div class="ttname"><a href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">TOStream::closeChild</a></div><div class="ttdeci">void closeChild()</div><div class="ttdef"><b>Definition:</b> tstream.cpp:520</div></div>
<div class="ttc" id="aclass_t_palette_html_a4a66ac047e12676ed6038f1261743dde"><div class="ttname"><a href="class_t_palette.html#a4a66ac047e12676ed6038f1261743dde">TPalette::isLocked</a></div><div class="ttdeci">bool isLocked() const</div><div class="ttdoc">Returns whether the palette is locked.</div><div class="ttdef"><b>Definition:</b> tpalette.h:420</div></div>
<div class="ttc" id="aclass_t_palette_html_ab93ce6de2d1138d6c6946e1a3e317e04"><div class="ttname"><a href="class_t_palette.html#ab93ce6de2d1138d6c6946e1a3e317e04">TPalette::isAnimated</a></div><div class="ttdeci">bool isAnimated() const</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:1046</div></div>
<div class="ttc" id="aclass_t_palette_html_ac7b1cee99b5f1961be1fc2e821bc2b8b"><div class="ttname"><a href="class_t_palette.html#ac7b1cee99b5f1961be1fc2e821bc2b8b">TPalette::getShortcutValue</a></div><div class="ttdeci">int getShortcutValue(int key) const</div><div class="ttdoc">animation.</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:1162</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00482">TOStream::child()</a>, <a class="el" href="#l00520">TOStream::closeChild()</a>, <a class="el" href="#l00106">TPalette::Page::getName()</a>, <a class="el" href="#l00372">getPage()</a>, <a class="el" href="#l00368">getPageCount()</a>, <a class="el" href="#l01162">getShortcutValue()</a>, <a class="el" href="#l00121">TPalette::Page::getStyleCount()</a>, <a class="el" href="#l00255">getStyleCount()</a>, <a class="el" href="#l00132">TPalette::Page::getStyleId()</a>, <a class="el" href="#l01046">isAnimated()</a>, <a class="el" href="#l00420">isLocked()</a>, <a class="el" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">TOStream::openChild()</a>, and <a class="el" href="#l00486">TColorStyle::save()</a>.</p>

</div>
</div>
<a id="a988c1603b1f87b4d3e26195781574658" name="a988c1603b1f87b4d3e26195781574658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a988c1603b1f87b4d3e26195781574658">&#9670;&nbsp;</a></span>setAskOverwriteFlag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setAskOverwriteFlag </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>askOverwriteFlag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >if the palette is merged from studio palette, this function will modify the original names. </p>
<p >&lt; Sets the ask-overwrite flag.</p>
<div class="fragment"><div class="line"><span class="lineno">  346</span>                             {  </div>
<div class="line"><span class="lineno">  347</span>    m_askOverwriteFlag = askOverwriteFlag;</div>
<div class="line"><span class="lineno">  348</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5771815e1daa519b6bbd6cd284c3bc26" name="a5771815e1daa519b6bbd6cd284c3bc26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5771815e1daa519b6bbd6cd284c3bc26">&#9670;&nbsp;</a></span>setCurrentStyleId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setCurrentStyleId </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  433</span>{ m_currentStyleId = id; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a382fa102abee4e69e386cb5a4d8d5184" name="a382fa102abee4e69e386cb5a4d8d5184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382fa102abee4e69e386cb5a4d8d5184">&#9670;&nbsp;</a></span>setDirtyFlag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setDirtyFlag </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>dirtyFlag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dirtyFlag</td><td>Declares the palette <em>changed</em> with respect to the last <em>saved state</em>. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  242</span>  {</div>
<div class="line"><span class="lineno">  243</span>    m_dirtyFlag = dirtyFlag;</div>
<div class="line"><span class="lineno">  244</span>    <span class="comment">// synchronize with the dirty flag</span></div>
<div class="line"><span class="lineno">  245</span>    m_askOverwriteFlag = dirtyFlag;</div>
<div class="line"><span class="lineno">  246</span>  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00571">StudioPaletteTreeViewer::convertToStudioPalette()</a>, <a class="el" href="#l00765">StudioPaletteTreeViewer::loadInCurrentPalette()</a>, <a class="el" href="#l00475">StudioPaletteTreeViewer::onCurrentItemChanged()</a>, <a class="el" href="#l00412">StudioPaletteTreeViewer::onItemSelectionChanged()</a>, <a class="el" href="#l00808">StudioPaletteTreeViewer::replaceCurrentPalette()</a>, <a class="el" href="#l01468">TXshSimpleLevel::save()</a>, and <a class="el" href="#l01214">PaletteViewer::setIsLocked()</a>.</p>

</div>
</div>
<a id="aca7d99a4af59ffaed0ead1f8700c2edc" name="aca7d99a4af59ffaed0ead1f8700c2edc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca7d99a4af59ffaed0ead1f8700c2edc">&#9670;&nbsp;</a></span>setFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the index of the current frame. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1054</span>                                 {</div>
<div class="line"><span class="lineno"> 1055</span>  QMutexLocker muLock(&amp;m_mutex);</div>
<div class="line"><span class="lineno"> 1056</span> </div>
<div class="line"><span class="lineno"> 1057</span>  <span class="keywordflow">if</span> (m_currentFrame == frame) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1058</span> </div>
<div class="line"><span class="lineno"> 1059</span>  m_currentFrame = frame;</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>  StyleAnimationTable::iterator sat, saEnd = m_styleAnimationTable.end();</div>
<div class="line"><span class="lineno"> 1062</span>  <span class="keywordflow">for</span> (sat = m_styleAnimationTable.begin(); sat != saEnd; ++sat) {</div>
<div class="line"><span class="lineno"> 1063</span>    StyleAnimation &amp;animation = sat-&gt;second;</div>
<div class="line"><span class="lineno"> 1064</span>    assert(!animation.empty());</div>
<div class="line"><span class="lineno"> 1065</span> </div>
<div class="line"><span class="lineno"> 1066</span>    <span class="comment">// Retrieve the associated style to interpolate</span></div>
<div class="line"><span class="lineno"> 1067</span>    <span class="keywordtype">int</span> styleId = sat-&gt;first;</div>
<div class="line"><span class="lineno"> 1068</span>    assert(0 &lt;= styleId &amp;&amp; styleId &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>());</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>    <a class="code hl_class" href="class_t_color_style.html">TColorStyle</a> *cs = <a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(styleId);</div>
<div class="line"><span class="lineno"> 1071</span>    assert(cs);</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>    <span class="comment">// Build the keyframes interval containing frame</span></div>
<div class="line"><span class="lineno"> 1074</span>    StyleAnimation::iterator j0, j1;</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>    j1 = animation.lower_bound(</div>
<div class="line"><span class="lineno"> 1077</span>        frame);  <span class="comment">// j1 is the first element:  j1-&gt;first &gt;= frame</span></div>
<div class="line"><span class="lineno"> 1078</span>    <span class="keywordflow">if</span> (j1 == animation.begin())</div>
<div class="line"><span class="lineno"> 1079</span>      cs-&gt;<a class="code hl_function" href="class_t_color_style.html#a39bf1c837a7348e4dff65d1779f63a7f">copy</a>(*j1-&gt;second);</div>
<div class="line"><span class="lineno"> 1080</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1081</span>      j0 = j1, --j0;</div>
<div class="line"><span class="lineno"> 1082</span>      assert(j0-&gt;first &lt;= frame);</div>
<div class="line"><span class="lineno"> 1083</span> </div>
<div class="line"><span class="lineno"> 1084</span>      <span class="keywordflow">if</span> (j1 == animation.end())</div>
<div class="line"><span class="lineno"> 1085</span>        cs-&gt;<a class="code hl_function" href="class_t_color_style.html#a39bf1c837a7348e4dff65d1779f63a7f">copy</a>(*j0-&gt;second);</div>
<div class="line"><span class="lineno"> 1086</span>      <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1087</span>        assert(frame &lt;= j1-&gt;first);</div>
<div class="line"><span class="lineno"> 1088</span> </div>
<div class="line"><span class="lineno"> 1089</span>        cs-&gt;<a class="code hl_function" href="class_t_color_style.html#adda489e34e4552d4ad5e2764dd554ca6">assignBlend</a>(*j0-&gt;second, *j1-&gt;second,</div>
<div class="line"><span class="lineno"> 1090</span>                        (frame - j0-&gt;first) / <span class="keywordtype">double</span>(j1-&gt;first - j0-&gt;first));</div>
<div class="line"><span class="lineno"> 1091</span>      }</div>
<div class="line"><span class="lineno"> 1092</span>    }</div>
<div class="line"><span class="lineno"> 1093</span>  }</div>
<div class="line"><span class="lineno"> 1094</span>}</div>
<div class="ttc" id="aclass_t_color_style_html_a39bf1c837a7348e4dff65d1779f63a7f"><div class="ttname"><a href="class_t_color_style.html#a39bf1c837a7348e4dff65d1779f63a7f">TColorStyle::copy</a></div><div class="ttdeci">virtual TColorStyle &amp; copy(const TColorStyle &amp;other)</div><div class="ttdef"><b>Definition:</b> tcolorstyles.h:150</div></div>
<div class="ttc" id="aclass_t_color_style_html_adda489e34e4552d4ad5e2764dd554ca6"><div class="ttname"><a href="class_t_color_style.html#adda489e34e4552d4ad5e2764dd554ca6">TColorStyle::assignBlend</a></div><div class="ttdeci">void assignBlend(const TColorStyle &amp;a, const TColorStyle &amp;b, double t)</div><div class="ttdef"><b>Definition:</b> tcolorstyles.cpp:332</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00332">TColorStyle::assignBlend()</a>, <a class="el" href="#l00150">TColorStyle::copy()</a>, <a class="el" href="#l00283">getStyle()</a>, and <a class="el" href="#l00255">getStyleCount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00821">Stage::RasterPainter::onVectorImage()</a>, and <a class="el" href="#l00698">ToonzImageIconRenderer::run()</a>.</p>

</div>
</div>
<a id="a0d1a5c3b332f133235f6fd758d22f683" name="a0d1a5c3b332f133235f6fd758d22f683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d1a5c3b332f133235f6fd758d22f683">&#9670;&nbsp;</a></span>setGlobalName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setGlobalName </td>
          <td>(</td>
          <td class="paramtype">std::wstring&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assigns the name of the palette. </p>

<p class="reference">Referenced by <a class="el" href="#l00571">StudioPaletteTreeViewer::convertToStudioPalette()</a>.</p>

</div>
</div>
<a id="a609c029285f223f5bc116c5e1f6ed358" name="a609c029285f223f5bc116c5e1f6ed358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a609c029285f223f5bc116c5e1f6ed358">&#9670;&nbsp;</a></span>setIsCleanupPalette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setIsCleanupPalette </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the palette's identity as a cleanup palette. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1015</span>{ m_isCleanupPalette = on; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0365e562643620b90f7477ccf70b8411" name="a0365e562643620b90f7477ccf70b8411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0365e562643620b90f7477ccf70b8411">&#9670;&nbsp;</a></span>setIsLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setIsLocked </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>Sets lock/unlock to the palette. </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  424</span>  {</div>
<div class="line"><span class="lineno">  425</span>    m_isLocked = lock;</div>
<div class="line"><span class="lineno">  426</span>  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01214">PaletteViewer::setIsLocked()</a>.</p>

</div>
</div>
<a id="aaf6467771b2ec40b6751295985fdd687" name="aaf6467771b2ec40b6751295985fdd687"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf6467771b2ec40b6751295985fdd687">&#9670;&nbsp;</a></span>setKeyframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setKeyframe </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Sets a keyframe at the specified frame of styleId's </p>
<div class="fragment"><div class="line"><span class="lineno"> 1126</span>                                                 {</div>
<div class="line"><span class="lineno"> 1127</span>  assert(styleId &gt;= 0 &amp;&amp; styleId &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>());</div>
<div class="line"><span class="lineno"> 1128</span>  assert(frame &gt;= 0);</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>  StyleAnimationTable::iterator sat = m_styleAnimationTable.find(styleId);</div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span>  <span class="keywordflow">if</span> (sat == m_styleAnimationTable.end())</div>
<div class="line"><span class="lineno"> 1133</span>    sat =</div>
<div class="line"><span class="lineno"> 1134</span>        m_styleAnimationTable.insert(std::make_pair(styleId, StyleAnimation()))</div>
<div class="line"><span class="lineno"> 1135</span>            .first;</div>
<div class="line"><span class="lineno"> 1136</span> </div>
<div class="line"><span class="lineno"> 1137</span>  assert(sat != m_styleAnimationTable.end());</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span>  StyleAnimation &amp;animation = sat-&gt;second;</div>
<div class="line"><span class="lineno"> 1140</span>  animation[frame]          = <a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(styleId)-&gt;<a class="code hl_function" href="class_t_color_style.html#a7b7e50c731a150aa84f746a261765adf">clone</a>();</div>
<div class="line"><span class="lineno"> 1141</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="class_t_color_style.html#a7b7e50c731a150aa84f746a261765adf">TColorStyle::clone()</a>, <a class="el" href="#l00283">getStyle()</a>, and <a class="el" href="#l00255">getStyleCount()</a>.</p>

</div>
</div>
<a id="a49d4f02fb0810c659887bc4e2c5bc3a0" name="a49d4f02fb0810c659887bc4e2c5bc3a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49d4f02fb0810c659887bc4e2c5bc3a0">&#9670;&nbsp;</a></span>setPaletteName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setPaletteName </td>
          <td>(</td>
          <td class="paramtype">std::wstring&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the name of the palette. </p>

<p class="reference">Referenced by <a class="el" href="#l00428">TXshSimpleLevel::setPalette()</a>.</p>

</div>
</div>
<a id="a971fd2aac3c14754d6cdcb0679cf6893" name="a971fd2aac3c14754d6cdcb0679cf6893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a971fd2aac3c14754d6cdcb0679cf6893">&#9670;&nbsp;</a></span>setRefImg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setRefImg </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_smart_pointer_t.html">TImageP</a> &amp;&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Associates an image to this palette, that is an image in the frame </p>
<div class="fragment"><div class="line"><span class="lineno"> 1019</span>                                           {</div>
<div class="line"><span class="lineno"> 1020</span>  m_refImg = img;</div>
<div class="line"><span class="lineno"> 1021</span>  <span class="keywordflow">if</span> (img) {</div>
<div class="line"><span class="lineno"> 1022</span>    assert(img-&gt;getPalette() == 0);</div>
<div class="line"><span class="lineno"> 1023</span>  }</div>
<div class="line"><span class="lineno"> 1024</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01083">TXshSimpleLevel::load()</a>, and <a class="el" href="#l00504">ColorModelViewer::loadCurrentFrame()</a>.</p>

</div>
</div>
<a id="a3009b4c976d9458d71dca9ea176bd7e1" name="a3009b4c976d9458d71dca9ea176bd7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3009b4c976d9458d71dca9ea176bd7e1">&#9670;&nbsp;</a></span>setRefImgPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setRefImgPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the path filename of the reference image. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1040</span>                                                        {</div>
<div class="line"><span class="lineno"> 1041</span>  m_refImgPath = refImgPath;</div>
<div class="line"><span class="lineno"> 1042</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l00799">PaletteViewer::dropEvent()</a>, and <a class="el" href="#l00504">ColorModelViewer::loadCurrentFrame()</a>.</p>

</div>
</div>
<a id="a807070f5c3f7033531f455f08ee489c4" name="a807070f5c3f7033531f455f08ee489c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807070f5c3f7033531f455f08ee489c4">&#9670;&nbsp;</a></span>setRefLevelFids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setRefLevelFids </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_t_frame_id.html">TFrameId</a> &gt;&#160;</td>
          <td class="paramname"><em>fids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>specified</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Associates the list of frames <em></em> </p>
<div class="fragment"><div class="line"><span class="lineno"> 1029</span>                                               {</div>
<div class="line"><span class="lineno"> 1030</span>  m_refLevelFids             = fids;</div>
<div class="line"><span class="lineno"> 1031</span>  m_areRefLevelFidsSpecified = specified;</div>
<div class="line"><span class="lineno"> 1032</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#l01083">TXshSimpleLevel::load()</a>, and <a class="el" href="#l00504">ColorModelViewer::loadCurrentFrame()</a>.</p>

</div>
</div>
<a id="a55d9b8d3bfcb9690abd6bb1e2955ed0e" name="a55d9b8d3bfcb9690abd6bb1e2955ed0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55d9b8d3bfcb9690abd6bb1e2955ed0e">&#9670;&nbsp;</a></span>setRootDir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setRootDir </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_file_path.html">TFilePath</a> &amp;&#160;</td>
          <td class="paramname"><em>fp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >It must be specified to save textures in <em></em> </p>
<div class="fragment"><div class="line"><span class="lineno">  626</span>                                             {</div>
<div class="line"><span class="lineno">  627</span>  StyleWriter::setRootDir(fp);</div>
<div class="line"><span class="lineno">  628</span>  StyleReader::setRootDir(fp);</div>
<div class="line"><span class="lineno">  629</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e4fc32a08028cbcc65c9a3897efa80d" name="a2e4fc32a08028cbcc65c9a3897efa80d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e4fc32a08028cbcc65c9a3897efa80d">&#9670;&nbsp;</a></span>setShortcutValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setShortcutValue </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Associates the specified key to a styleId. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1187</span>                                                    {</div>
<div class="line"><span class="lineno"> 1188</span>  assert(<span class="charliteral">&#39;0&#39;</span> &lt;= key &amp;&amp; key &lt;= <span class="charliteral">&#39;9&#39;</span>);</div>
<div class="line"><span class="lineno"> 1189</span>  assert(styleId == -1 || 0 &lt;= styleId &amp;&amp; styleId &lt; <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>());</div>
<div class="line"><span class="lineno"> 1190</span>  <span class="keywordflow">if</span> (styleId == -1)</div>
<div class="line"><span class="lineno"> 1191</span>    m_shortcuts.erase(key);</div>
<div class="line"><span class="lineno"> 1192</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1193</span>    std::map&lt;int, int&gt;::iterator it;</div>
<div class="line"><span class="lineno"> 1194</span>    <span class="keywordflow">for</span> (it = m_shortcuts.begin(); it != m_shortcuts.end(); ++it)</div>
<div class="line"><span class="lineno"> 1195</span>      <span class="keywordflow">if</span> (it-&gt;second == styleId) {</div>
<div class="line"><span class="lineno"> 1196</span>        m_shortcuts.erase(it);</div>
<div class="line"><span class="lineno"> 1197</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1198</span>      }</div>
<div class="line"><span class="lineno"> 1199</span>    m_shortcuts[key] = styleId;</div>
<div class="line"><span class="lineno"> 1200</span>  }</div>
<div class="line"><span class="lineno"> 1201</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00255">getStyleCount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00751">loadData()</a>.</p>

</div>
</div>
<a id="ae6b45fab15ad86f01342b3e7855502f6" name="ae6b45fab15ad86f01342b3e7855502f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6b45fab15ad86f01342b3e7855502f6">&#9670;&nbsp;</a></span>setStyle() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setStyle </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TPixelRGBM32 &amp;&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Replaces the style with the </p>
<div class="fragment"><div class="line"><span class="lineno">  362</span>                                                              {</div>
<div class="line"><span class="lineno">  363</span>  <a class="code hl_function" href="class_t_palette.html#ab9369e7992a6db74a33b7e5094071121">setStyle</a>(styleId, <span class="keyword">new</span> <a class="code hl_class" href="class_t_solid_color_style.html">TSolidColorStyle</a>(color));</div>
<div class="line"><span class="lineno">  364</span>}</div>
<div class="ttc" id="aclass_t_palette_html_ab9369e7992a6db74a33b7e5094071121"><div class="ttname"><a href="class_t_palette.html#ab9369e7992a6db74a33b7e5094071121">TPalette::setStyle</a></div><div class="ttdeci">void setStyle(int styleId, TColorStyle *style)</div><div class="ttdoc">Replaces the style with the specified style id.</div><div class="ttdef"><b>Definition:</b> tpalette.cpp:341</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00341">setStyle()</a>.</p>

</div>
</div>
<a id="ab9369e7992a6db74a33b7e5094071121" name="ab9369e7992a6db74a33b7e5094071121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9369e7992a6db74a33b7e5094071121">&#9670;&nbsp;</a></span>setStyle() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setStyle </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>styleId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_t_color_style.html">TColorStyle</a> *&#160;</td>
          <td class="paramname"><em>style</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replaces the style with the specified style id. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Style ownserhip is <em>surrendered</em> to the palette. </dd>
<dd>
Any existing style's animation will be discarded. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  341</span>                                                       {</div>
<div class="line"><span class="lineno">  342</span>  std::unique_ptr&lt;TColorStyle&gt; styleOwner(style);</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>  <span class="keywordtype">int</span> styleCount = <a class="code hl_function" href="class_t_palette.html#a5a562f2d3a5fa256fcb4bb2be5b45534">getStyleCount</a>();</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>  <span class="keywordflow">if</span> (0 &lt;= styleId &amp;&amp; styleId &lt; styleCount) {</div>
<div class="line"><span class="lineno">  347</span>    <span class="comment">// Find out if the supplied style is already in the palette</span></div>
<div class="line"><span class="lineno">  348</span>    <span class="comment">// with a different style id. In that case, bail out as a noop.</span></div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; styleCount; ++i)</div>
<div class="line"><span class="lineno">  350</span>      <span class="keywordflow">if</span> (style == <a class="code hl_function" href="class_t_palette.html#a0f6a4eda7dafb0a9f2b43160cfec81e4">getStyle</a>(i)) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    <span class="comment">// Substitution can take place</span></div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">if</span> (<span class="keyword">typeid</span>(*m_styles[styleId].second.getPointer()) != <span class="keyword">typeid</span>(*style))</div>
<div class="line"><span class="lineno">  354</span>      m_styleAnimationTable.erase(styleId);</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>    m_styles[styleId].second = styleOwner.release();</div>
<div class="line"><span class="lineno">  357</span>  }</div>
<div class="line"><span class="lineno">  358</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00283">getStyle()</a>, and <a class="el" href="#l00255">getStyleCount()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00362">setStyle()</a>.</p>

</div>
</div>
<a id="a8afe4a624111185995b5594ca03ec32d" name="a8afe4a624111185995b5594ca03ec32d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8afe4a624111185995b5594ca03ec32d">&#9670;&nbsp;</a></span>setVersion()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPalette::setVersion </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the palette's version number. </p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a66d145c56e1747e0aecb5309042ab183" name="a66d145c56e1747e0aecb5309042ab183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d145c56e1747e0aecb5309042ab183">&#9670;&nbsp;</a></span>Page</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_t_palette_1_1_page.html">Page</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/include/<a class="el" href="">tpalette.h</a></li>
<li>E:/opentoonz/toonz/sources/common/tvrender/<a class="el" href="">tpalette.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
