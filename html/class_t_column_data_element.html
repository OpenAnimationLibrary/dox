<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: TColumnDataElement Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_t_column_data_element-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TColumnDataElement Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for TColumnDataElement:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_column_data_element.png" usemap="#TColumnDataElement_map" alt=""/>
  <map id="TColumnDataElement_map" name="TColumnDataElement_map">
<area href="class_t_stage_object_data_element.html" alt="TStageObjectDataElement" shape="rect" coords="0,0,158,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae1c96d395c5e5a674052fd70d4433c31"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>FxFlags</b> { <b>eDoClone</b> = 0x1
, <b>eResetFxDagPositions</b> = 0x2
 }</td></tr>
<tr class="separator:ae1c96d395c5e5a674052fd70d4433c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5cd4084ed5e514d876cbe712de0b647e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_column_data_element.html">TColumnDataElement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_column_data_element.html#a5cd4084ed5e514d876cbe712de0b647e">clone</a> () const override</td></tr>
<tr class="separator:a5cd4084ed5e514d876cbe712de0b647e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbaf55c99399765b5d42b257cb9802c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_column_data_element.html#afbaf55c99399765b5d42b257cb9802c1">storeColumn</a> (<a class="el" href="class_t_xsheet.html">TXsheet</a> *xsheet, int index, int fxFlags)</td></tr>
<tr class="separator:afbaf55c99399765b5d42b257cb9802c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22322066607671d817d6fd36c34e7d6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_stage_object_id.html">TStageObjectId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_column_data_element.html#a22322066607671d817d6fd36c34e7d6c">restoreColumn</a> (<a class="el" href="class_t_xsheet.html">TXsheet</a> *xsh, int index, int fxFlags, bool copyPosition) const</td></tr>
<tr class="separator:a22322066607671d817d6fd36c34e7d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_t_stage_object_data_element"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_t_stage_object_data_element')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_t_stage_object_data_element.html">TStageObjectDataElement</a></td></tr>
<tr class="memitem:a0e9572dea9d691069bf5a771f585181b inherit pub_methods_class_t_stage_object_data_element"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_stage_object_data_element.html">TStageObjectDataElement</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_stage_object_data_element.html#a0e9572dea9d691069bf5a771f585181b">clone</a> () const</td></tr>
<tr class="separator:a0e9572dea9d691069bf5a771f585181b inherit pub_methods_class_t_stage_object_data_element"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8d6e78c296ce85d47c99a2a65ae4ff inherit pub_methods_class_t_stage_object_data_element"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_stage_object_data_element.html#a7e8d6e78c296ce85d47c99a2a65ae4ff">storeObject</a> (const <a class="el" href="class_t_stage_object_id.html">TStageObjectId</a> &amp;objectId, <a class="el" href="class_t_xsheet.html">TXsheet</a> *xsh)</td></tr>
<tr class="separator:a7e8d6e78c296ce85d47c99a2a65ae4ff inherit pub_methods_class_t_stage_object_data_element"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd9e7886bc0abfb3334cde40434d08b inherit pub_methods_class_t_stage_object_data_element"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_stage_object_id.html">TStageObjectId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_stage_object_data_element.html#abbd9e7886bc0abfb3334cde40434d08b">restoreObject</a> (<a class="el" href="class_t_xsheet.html">TXsheet</a> *xsh, bool copyPosition) const</td></tr>
<tr class="separator:abbd9e7886bc0abfb3334cde40434d08b inherit pub_methods_class_t_stage_object_data_element"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a19df57f95af808ab92bb25d965d79355"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_column_data_element.html#a19df57f95af808ab92bb25d965d79355">StageObjectsData</a></td></tr>
<tr class="separator:a19df57f95af808ab92bb25d965d79355"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_class_t_stage_object_data_element"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_class_t_stage_object_data_element')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="class_t_stage_object_data_element.html">TStageObjectDataElement</a></td></tr>
<tr class="memitem:a9f717b885c1f0debcfe2930268a06361 inherit pro_attribs_class_t_stage_object_data_element"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_stage_object_params.html">TStageObjectParams</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_stage_object_data_element.html#a9f717b885c1f0debcfe2930268a06361">m_params</a></td></tr>
<tr class="memdesc:a9f717b885c1f0debcfe2930268a06361 inherit pro_attribs_class_t_stage_object_data_element"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespace_stage.html" title="The Stage namespace provides a set of objects, class and method, useful to view images in display.">Stage</a> object parameters (owned)  <a href="class_t_stage_object_data_element.html#a9f717b885c1f0debcfe2930268a06361">More...</a><br /></td></tr>
<tr class="separator:a9f717b885c1f0debcfe2930268a06361 inherit pro_attribs_class_t_stage_object_data_element"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae25b37a1978ff59c51c8916ae9bed1e2 inherit pro_attribs_class_t_stage_object_data_element"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_point_t.html">TPointD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_stage_object_data_element.html#ae25b37a1978ff59c51c8916ae9bed1e2">m_dagPos</a></td></tr>
<tr class="memdesc:ae25b37a1978ff59c51c8916ae9bed1e2 inherit pro_attribs_class_t_stage_object_data_element"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespace_stage.html" title="The Stage namespace provides a set of objects, class and method, useful to view images in display.">Stage</a> object position in the viewer.  <a href="class_t_stage_object_data_element.html#ae25b37a1978ff59c51c8916ae9bed1e2">More...</a><br /></td></tr>
<tr class="separator:ae25b37a1978ff59c51c8916ae9bed1e2 inherit pro_attribs_class_t_stage_object_data_element"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Class used to clone a column stage object's relational data inside the stage schematic. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="ae1c96d395c5e5a674052fd70d4433c31" name="ae1c96d395c5e5a674052fd70d4433c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1c96d395c5e5a674052fd70d4433c31">&#9670;&nbsp;</a></span>FxFlags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum TColumnDataElement::FxFlags</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  244</span>{ eDoClone = 0x1, eResetFxDagPositions = 0x2 };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6c257ebaa6fc960aaec5fb19dc99889e" name="a6c257ebaa6fc960aaec5fb19dc99889e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c257ebaa6fc960aaec5fb19dc99889e">&#9670;&nbsp;</a></span>TColumnDataElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TColumnDataElement::TColumnDataElement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  276</span>    : <a class="code hl_class" href="class_t_stage_object_data_element.html">TStageObjectDataElement</a>(), m_column(0) {}</div>
<div class="ttc" id="aclass_t_stage_object_data_element_html"><div class="ttname"><a href="class_t_stage_object_data_element.html">TStageObjectDataElement</a></div><div class="ttdef"><b>Definition:</b> stageobjectsdata.cpp:144</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1478ca7127330a47c9d61981efa1c05c" name="a1478ca7127330a47c9d61981efa1c05c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1478ca7127330a47c9d61981efa1c05c">&#9670;&nbsp;</a></span>~TColumnDataElement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TColumnDataElement::~TColumnDataElement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  280</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5cd4084ed5e514d876cbe712de0b647e" name="a5cd4084ed5e514d876cbe712de0b647e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cd4084ed5e514d876cbe712de0b647e">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_column_data_element.html">TColumnDataElement</a> * TColumnDataElement::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Clones the stord data. </p><dl class="section warning"><dt>Warning</dt><dd>Clones the stored TXshColumnP, too. </dd></dl>

<p>Reimplemented from <a class="el" href="class_t_stage_object_data_element.html">TStageObjectDataElement</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  284</span>                                                    {</div>
<div class="line"><span class="lineno">  285</span>  <a class="code hl_class" href="class_t_column_data_element.html">TColumnDataElement</a> *element = <span class="keyword">new</span> <a class="code hl_class" href="class_t_column_data_element.html">TColumnDataElement</a>();</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>  element-&gt;<a class="code hl_variable" href="class_t_stage_object_data_element.html#a9f717b885c1f0debcfe2930268a06361">m_params</a> = <a class="code hl_variable" href="class_t_stage_object_data_element.html#a9f717b885c1f0debcfe2930268a06361">m_params</a>-&gt;clone();</div>
<div class="line"><span class="lineno">  288</span>  element-&gt;<a class="code hl_variable" href="class_t_stage_object_data_element.html#ae25b37a1978ff59c51c8916ae9bed1e2">m_dagPos</a> = <a class="code hl_variable" href="class_t_stage_object_data_element.html#ae25b37a1978ff59c51c8916ae9bed1e2">m_dagPos</a>;</div>
<div class="line"><span class="lineno">  289</span>  element-&gt;m_column = m_column;</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>  <span class="keywordflow">if</span> (element-&gt;m_column) element-&gt;m_column = element-&gt;m_column-&gt;clone();</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>  <span class="keywordflow">return</span> element;</div>
<div class="line"><span class="lineno">  294</span>}</div>
<div class="ttc" id="aclass_t_column_data_element_html"><div class="ttname"><a href="class_t_column_data_element.html">TColumnDataElement</a></div><div class="ttdef"><b>Definition:</b> stageobjectsdata.cpp:238</div></div>
<div class="ttc" id="aclass_t_stage_object_data_element_html_a9f717b885c1f0debcfe2930268a06361"><div class="ttname"><a href="class_t_stage_object_data_element.html#a9f717b885c1f0debcfe2930268a06361">TStageObjectDataElement::m_params</a></div><div class="ttdeci">TStageObjectParams * m_params</div><div class="ttdoc">Stage object parameters (owned)</div><div class="ttdef"><b>Definition:</b> stageobjectsdata.cpp:148</div></div>
<div class="ttc" id="aclass_t_stage_object_data_element_html_ae25b37a1978ff59c51c8916ae9bed1e2"><div class="ttname"><a href="class_t_stage_object_data_element.html#ae25b37a1978ff59c51c8916ae9bed1e2">TStageObjectDataElement::m_dagPos</a></div><div class="ttdeci">TPointD m_dagPos</div><div class="ttdoc">Stage object position in the viewer.</div><div class="ttdef"><b>Definition:</b> stageobjectsdata.cpp:149</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l00149">TStageObjectDataElement::m_dagPos</a>, and <a class="el" href="#l00148">TStageObjectDataElement::m_params</a>.</p>

</div>
</div>
<a id="a22322066607671d817d6fd36c34e7d6c" name="a22322066607671d817d6fd36c34e7d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22322066607671d817d6fd36c34e7d6c">&#9670;&nbsp;</a></span>restoreColumn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_stage_object_id.html">TStageObjectId</a> TColumnDataElement::restoreColumn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_xsheet.html">TXsheet</a> *&#160;</td>
          <td class="paramname"><em>xsh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fxFlags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>copyPosition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Inserts the stored column in the supplied xsheet with the specified column index, returning the new associated stage object id. Supported additional flags include performing a clone of the associated TXshColumnP rather than restoring the stored column directly. </p>
<div class="fragment"><div class="line"><span class="lineno">  329</span>                                                                          {</div>
<div class="line"><span class="lineno">  330</span>  <span class="keywordtype">bool</span> doClone             = (fxFlags &amp; eDoClone);</div>
<div class="line"><span class="lineno">  331</span>  <span class="keywordtype">bool</span> resetFxDagPositions = (fxFlags &amp; eResetFxDagPositions);</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>  <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = m_column.getPointer();</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>  <span class="comment">// The xsheet &#39;changes&#39; if a new column is inserted. If it was already there,</span></div>
<div class="line"><span class="lineno">  336</span>  <span class="comment">// no.</span></div>
<div class="line"><span class="lineno">  337</span>  <span class="keywordtype">bool</span> xsheetChange = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  338</span>  <span class="keywordflow">if</span> (column &amp;&amp; column-&gt;getXsheet() &amp;&amp; column-&gt;getXsheet() != xsh)</div>
<div class="line"><span class="lineno">  339</span>    xsheetChange = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>  <span class="comment">// Insert a column at the specified index. If a column was stored, insert that</span></div>
<div class="line"><span class="lineno">  342</span>  <span class="comment">// one.</span></div>
<div class="line"><span class="lineno">  343</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> dagPos = TConst::nowhere;</div>
<div class="line"><span class="lineno">  344</span>  <span class="keywordflow">if</span> (column) {</div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">if</span> (column-&gt;getFx())</div>
<div class="line"><span class="lineno">  346</span>      dagPos = column-&gt;getFx()-&gt;getAttributes()-&gt;getDagNodePos();</div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordflow">if</span> (doClone) column = column-&gt;clone();</div>
<div class="line"><span class="lineno">  348</span>    xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a5ea42662e27e52ef36ce77b4a5d8e06c">insertColumn</a>(index, column);</div>
<div class="line"><span class="lineno">  349</span>  } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  350</span>    xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a5ea42662e27e52ef36ce77b4a5d8e06c">insertColumn</a>(index);  <span class="comment">// Create a new one otherwise</span></div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>  <span class="keywordflow">if</span> (!resetFxDagPositions &amp;&amp; dagPos != TConst::nowhere) {</div>
<div class="line"><span class="lineno">  353</span>    <span class="comment">// Don&#39;t accept the default position (fx object)</span></div>
<div class="line"><span class="lineno">  354</span>    <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *restoredColumn = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">getColumn</a>(index);</div>
<div class="line"><span class="lineno">  355</span>    restoredColumn-&gt;getFx()-&gt;getAttributes()-&gt;setDagNodePos(dagPos);</div>
<div class="line"><span class="lineno">  356</span>  }</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>  <span class="comment">// Retrieve the newly inserted column stage object</span></div>
<div class="line"><span class="lineno">  359</span>  <a class="code hl_class" href="class_t_stage_object.html">TStageObject</a> *obj = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">getStageObject</a>(TStageObjectId::ColumnId(index));</div>
<div class="line"><span class="lineno">  360</span>  assert(obj);</div>
<div class="line"><span class="lineno">  361</span>  obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a2b0ed3e5eb55c260f798f0bc3bd18c33">assignParams</a>(<a class="code hl_variable" href="class_t_stage_object_data_element.html#a9f717b885c1f0debcfe2930268a06361">m_params</a>, doClone);  <span class="comment">// Assign the stored params</span></div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>  <span class="keywordflow">if</span> (copyPosition) obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a64e318fa720c638b27abe8cd4f2c9494">setDagNodePos</a>(<a class="code hl_variable" href="class_t_stage_object_data_element.html#ae25b37a1978ff59c51c8916ae9bed1e2">m_dagPos</a>);</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>  <span class="comment">// Clone the associated curve if any</span></div>
<div class="line"><span class="lineno">  366</span>  <span class="keywordflow">if</span> (xsheetChange &amp;&amp; obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a425cb2dbcefe6ba4e288e1e8bdd16f72">getSpline</a>()) {</div>
<div class="line"><span class="lineno">  367</span>    <a class="code hl_class" href="class_t_stage_object_spline.html">TStageObjectSpline</a> *srcSpl = obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a425cb2dbcefe6ba4e288e1e8bdd16f72">getSpline</a>();</div>
<div class="line"><span class="lineno">  368</span>    <a class="code hl_class" href="class_t_stage_object_spline.html">TStageObjectSpline</a> *dstSpl = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a5dc925584e35e1678f5678b79c470959">getStageObjectTree</a>()-&gt;<a class="code hl_function" href="class_t_stage_object_tree.html#a28f4faf0358394e8af541a70d366baad">createSpline</a>();</div>
<div class="line"><span class="lineno">  369</span>    dstSpl-&gt;addRef();</div>
<div class="line"><span class="lineno">  370</span>    dstSpl-&gt;<a class="code hl_function" href="class_t_stage_object_spline.html#a3a08efafca4cc8e0ddf06ffa13898340">setStroke</a>(<span class="keyword">new</span> <a class="code hl_struct" href="class_t_stroke.html">TStroke</a>(*srcSpl-&gt;<a class="code hl_function" href="class_t_stage_object_spline.html#a68345d3697e0c20003d9b497d8ccacda">getStroke</a>()));</div>
<div class="line"><span class="lineno">  371</span>    obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a43d90987cedca57a03e277d6140ada14">setSpline</a>(dstSpl);</div>
<div class="line"><span class="lineno">  372</span>  }</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>  <span class="keywordtype">int</span> gridType = xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#a5dc925584e35e1678f5678b79c470959">getStageObjectTree</a>()-&gt;getDagGridDimension();</div>
<div class="line"><span class="lineno">  375</span>  obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a84e42d151bd6837e7185342ce90d370c">setIsOpened</a>(gridType ==</div>
<div class="line"><span class="lineno">  376</span>                   0);  <span class="comment">// gridType is 0 if the node is opened, 1 if closed</span></div>
<div class="line"><span class="lineno">  377</span>                        <span class="comment">// see StageSchematicScene::GridDimension</span></div>
<div class="line"><span class="lineno">  378</span>                        <span class="comment">// TODO: Should be made PUBLIC!!</span></div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>  xsh-&gt;<a class="code hl_function" href="class_t_xsheet.html#ac5e05acb2ce9809c0dcadd2a8b06b393">updateFrameCount</a>();</div>
<div class="line"><span class="lineno">  381</span>  <span class="keywordflow">return</span> obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a7acac7f9d2b8aabae125a81cc4ac5b10">getId</a>();</div>
<div class="line"><span class="lineno">  382</span>}</div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
<div class="ttc" id="aclass_t_stage_object_html"><div class="ttname"><a href="class_t_stage_object.html">TStageObject</a></div><div class="ttdef"><b>Definition:</b> tstageobject.h:95</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a2b0ed3e5eb55c260f798f0bc3bd18c33"><div class="ttname"><a href="class_t_stage_object.html#a2b0ed3e5eb55c260f798f0bc3bd18c33">TStageObject::assignParams</a></div><div class="ttdeci">void assignParams(const TStageObjectParams *src, bool doParametersClone=true)</div><div class="ttdoc">Sets the object's values to src values and update the object.</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:1867</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a425cb2dbcefe6ba4e288e1e8bdd16f72"><div class="ttname"><a href="class_t_stage_object.html#a425cb2dbcefe6ba4e288e1e8bdd16f72">TStageObject::getSpline</a></div><div class="ttdeci">TStageObjectSpline * getSpline() const</div><div class="ttdoc">Returns the motion path associated to the object.</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:650</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a43d90987cedca57a03e277d6140ada14"><div class="ttname"><a href="class_t_stage_object.html#a43d90987cedca57a03e277d6140ada14">TStageObject::setSpline</a></div><div class="ttdeci">void setSpline(TStageObjectSpline *spline)</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:676</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a64e318fa720c638b27abe8cd4f2c9494"><div class="ttname"><a href="class_t_stage_object.html#a64e318fa720c638b27abe8cd4f2c9494">TStageObject::setDagNodePos</a></div><div class="ttdeci">void setDagNodePos(const TPointD &amp;p)</div><div class="ttdef"><b>Definition:</b> tstageobject.h:258</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a7acac7f9d2b8aabae125a81cc4ac5b10"><div class="ttname"><a href="class_t_stage_object.html#a7acac7f9d2b8aabae125a81cc4ac5b10">TStageObject::getId</a></div><div class="ttdeci">TStageObjectId getId() const</div><div class="ttdoc">Retrieves the stage object's id.</div><div class="ttdef"><b>Definition:</b> tstageobject.cpp:520</div></div>
<div class="ttc" id="aclass_t_stage_object_html_a84e42d151bd6837e7185342ce90d370c"><div class="ttname"><a href="class_t_stage_object.html#a84e42d151bd6837e7185342ce90d370c">TStageObject::setIsOpened</a></div><div class="ttdeci">void setIsOpened(bool value)</div><div class="ttdoc">Sets the usage status of the object.</div><div class="ttdef"><b>Definition:</b> tstageobject.h:190</div></div>
<div class="ttc" id="aclass_t_stage_object_spline_html"><div class="ttname"><a href="class_t_stage_object_spline.html">TStageObjectSpline</a></div><div class="ttdoc">The TStageObjectSpline class define stage object motion path.</div><div class="ttdef"><b>Definition:</b> tstageobjectspline.h:36</div></div>
<div class="ttc" id="aclass_t_stage_object_spline_html_a3a08efafca4cc8e0ddf06ffa13898340"><div class="ttname"><a href="class_t_stage_object_spline.html#a3a08efafca4cc8e0ddf06ffa13898340">TStageObjectSpline::setStroke</a></div><div class="ttdeci">void setStroke(TStroke *stroke)</div><div class="ttdef"><b>Definition:</b> tstageobjectspline.cpp:164</div></div>
<div class="ttc" id="aclass_t_stage_object_spline_html_a68345d3697e0c20003d9b497d8ccacda"><div class="ttname"><a href="class_t_stage_object_spline.html#a68345d3697e0c20003d9b497d8ccacda">TStageObjectSpline::getStroke</a></div><div class="ttdeci">const TStroke * getStroke() const</div><div class="ttdef"><b>Definition:</b> tstageobjectspline.cpp:149</div></div>
<div class="ttc" id="aclass_t_stage_object_tree_html_a28f4faf0358394e8af541a70d366baad"><div class="ttname"><a href="class_t_stage_object_tree.html#a28f4faf0358394e8af541a70d366baad">TStageObjectTree::createSpline</a></div><div class="ttdeci">TStageObjectSpline * createSpline()</div><div class="ttdef"><b>Definition:</b> tstageobjecttree.cpp:582</div></div>
<div class="ttc" id="aclass_t_stroke_html"><div class="ttname"><a href="class_t_stroke.html">TStroke</a></div><div class="ttdef"><b>Definition:</b> tstroke.h:47</div></div>
<div class="ttc" id="aclass_t_xsh_column_html"><div class="ttname"><a href="class_t_xsh_column.html">TXshColumn</a></div><div class="ttdoc">The TXshColumn class is the base class of column managers in xsheet.</div><div class="ttdef"><b>Definition:</b> txshcolumn.h:65</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a13d9b9c08ca8dde39769f5644e046ee5"><div class="ttname"><a href="class_t_xsheet.html#a13d9b9c08ca8dde39769f5644e046ee5">TXsheet::getStageObject</a></div><div class="ttdeci">TStageObject * getStageObject(const TStageObjectId &amp;id) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:542</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a3e1a216c019a0ebdf73d95acac95d8d0"><div class="ttname"><a href="class_t_xsheet.html#a3e1a216c019a0ebdf73d95acac95d8d0">TXsheet::getColumn</a></div><div class="ttdeci">TXshColumn * getColumn(int index) const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:1418</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a5dc925584e35e1678f5678b79c470959"><div class="ttname"><a href="class_t_xsheet.html#a5dc925584e35e1678f5678b79c470959">TXsheet::getStageObjectTree</a></div><div class="ttdeci">TStageObjectTree * getStageObjectTree() const</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:549</div></div>
<div class="ttc" id="aclass_t_xsheet_html_a5ea42662e27e52ef36ce77b4a5d8e06c"><div class="ttname"><a href="class_t_xsheet.html#a5ea42662e27e52ef36ce77b4a5d8e06c">TXsheet::insertColumn</a></div><div class="ttdeci">void insertColumn(int index, TXshColumn::ColumnType type=TXshColumn::eLevelType)</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:1324</div></div>
<div class="ttc" id="aclass_t_xsheet_html_ac5e05acb2ce9809c0dcadd2a8b06b393"><div class="ttname"><a href="class_t_xsheet.html#ac5e05acb2ce9809c0dcadd2a8b06b393">TXsheet::updateFrameCount</a></div><div class="ttdeci">void updateFrameCount()</div><div class="ttdef"><b>Definition:</b> txsheet.cpp:1166</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01867">TStageObject::assignParams()</a>, <a class="el" href="#l00582">TStageObjectTree::createSpline()</a>, <a class="el" href="#l01418">TXsheet::getColumn()</a>, <a class="el" href="#l00520">TStageObject::getId()</a>, <a class="el" href="#l00650">TStageObject::getSpline()</a>, <a class="el" href="#l00542">TXsheet::getStageObject()</a>, <a class="el" href="#l00549">TXsheet::getStageObjectTree()</a>, <a class="el" href="#l00149">TStageObjectSpline::getStroke()</a>, <a class="el" href="#l01324">TXsheet::insertColumn()</a>, <a class="el" href="#l00149">TStageObjectDataElement::m_dagPos</a>, <a class="el" href="#l00148">TStageObjectDataElement::m_params</a>, <a class="el" href="#l00258">TStageObject::setDagNodePos()</a>, <a class="el" href="#l00190">TStageObject::setIsOpened()</a>, <a class="el" href="#l00676">TStageObject::setSpline()</a>, <a class="el" href="#l00164">TStageObjectSpline::setStroke()</a>, and <a class="el" href="#l01166">TXsheet::updateFrameCount()</a>.</p>

</div>
</div>
<a id="afbaf55c99399765b5d42b257cb9802c1" name="afbaf55c99399765b5d42b257cb9802c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbaf55c99399765b5d42b257cb9802c1">&#9670;&nbsp;</a></span>storeColumn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TColumnDataElement::storeColumn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_xsheet.html">TXsheet</a> *&#160;</td>
          <td class="paramname"><em>xsheet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fxFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Stores the stage object and column data of the specified column index in the supplied xsheet. Specifically, the TXshColumnP associated with the desired column index is stored. Supported additional flags include performing a clone of the associated TXshColumnP rather than storing the original. </p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>                                                                         {</div>
<div class="line"><span class="lineno">  299</span>  <span class="keywordflow">if</span> (index &lt; 0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>  <span class="keywordtype">bool</span> doClone             = (fxFlags &amp; eDoClone);</div>
<div class="line"><span class="lineno">  302</span>  <span class="keywordtype">bool</span> resetFxDagPositions = (fxFlags &amp; eResetFxDagPositions);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>  <span class="comment">// Fetch the specified column (if none, return)</span></div>
<div class="line"><span class="lineno">  305</span>  <a class="code hl_class" href="class_t_stage_object.html">TStageObject</a> *obj = xsh-&gt;getStageObject(TStageObjectId::ColumnId(index));</div>
<div class="line"><span class="lineno">  306</span>  assert(obj);</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>  <a class="code hl_class" href="class_t_xsh_column.html">TXshColumn</a> *column = xsh-&gt;getColumn(index);</div>
<div class="line"><span class="lineno">  309</span>  <span class="keywordflow">if</span> (!column) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>  <a class="code hl_class" href="class_t_fx.html">TFx</a> *fx = column-&gt;getFx();</div>
<div class="line"><span class="lineno">  312</span>  <a class="code hl_class" href="class_t_point_t.html">TPointD</a> dagPos;</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>  <span class="keywordflow">if</span> (fx) dagPos = fx-&gt;getAttributes()-&gt;getDagNodePos();</div>
<div class="line"><span class="lineno">  315</span>  <span class="keywordflow">if</span> (doClone)</div>
<div class="line"><span class="lineno">  316</span>    column = column-&gt;clone();  <span class="comment">// Zerary fxs clone the associated fx (drawn</span></div>
<div class="line"><span class="lineno">  317</span>                               <span class="comment">// levels do not)</span></div>
<div class="line"><span class="lineno">  318</span>  <span class="keywordflow">if</span> (fx &amp;&amp; !resetFxDagPositions)</div>
<div class="line"><span class="lineno">  319</span>    column-&gt;getFx()-&gt;getAttributes()-&gt;setDagNodePos(dagPos);</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>  m_column = column;</div>
<div class="line"><span class="lineno">  322</span>  <a class="code hl_function" href="class_t_stage_object_data_element.html#a7e8d6e78c296ce85d47c99a2a65ae4ff">storeObject</a>(obj-&gt;<a class="code hl_function" href="class_t_stage_object.html#a7acac7f9d2b8aabae125a81cc4ac5b10">getId</a>(), xsh);</div>
<div class="line"><span class="lineno">  323</span>}</div>
<div class="ttc" id="aclass_t_fx_html"><div class="ttname"><a href="class_t_fx.html">TFx</a></div><div class="ttdef"><b>Definition:</b> tfx.h:352</div></div>
<div class="ttc" id="aclass_t_stage_object_data_element_html_a7e8d6e78c296ce85d47c99a2a65ae4ff"><div class="ttname"><a href="class_t_stage_object_data_element.html#a7e8d6e78c296ce85d47c99a2a65ae4ff">TStageObjectDataElement::storeObject</a></div><div class="ttdeci">void storeObject(const TStageObjectId &amp;objectId, TXsheet *xsh)</div><div class="ttdef"><b>Definition:</b> stageobjectsdata.cpp:189</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01418">TXsheet::getColumn()</a>, <a class="el" href="#l00520">TStageObject::getId()</a>, <a class="el" href="#l00542">TXsheet::getStageObject()</a>, and <a class="el" href="#l00189">TStageObjectDataElement::storeObject()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00635">StageObjectsData::storeObjects()</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="a19df57f95af808ab92bb25d965d79355" name="a19df57f95af808ab92bb25d965d79355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19df57f95af808ab92bb25d965d79355">&#9670;&nbsp;</a></span>StageObjectsData</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_stage_objects_data.html">StageObjectsData</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/opentoonz/toonz/sources/toonzqt/<a class="el" href="">stageobjectsdata.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
