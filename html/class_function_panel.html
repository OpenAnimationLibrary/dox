<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: FunctionPanel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_function_panel-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">FunctionPanel Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Channel edit panel (numcols + graph popup)  
 <a href="class_function_panel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="">functionpanel.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FunctionPanel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_function_panel.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel_1_1_drag_tool.html">DragTool</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5522f7a820b6d47d64e1aec4b2ca9a3a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>Handle</b> { <br />
&#160;&#160;<b>None</b>
, <b>Curve</b>
, <b>Point</b>
, <b>SpeedIn</b>
, <br />
&#160;&#160;<b>SpeedOut</b>
, <b>EaseIn</b>
, <b>EaseOut</b>
, <b>EaseInPercentage</b>
, <br />
&#160;&#160;<b>EaseOutPercentage</b>
<br />
 }</td></tr>
<tr class="separator:a5522f7a820b6d47d64e1aec4b2ca9a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-slots" name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a78aa98ff731bcc7616e38fbbe1a1fa02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a78aa98ff731bcc7616e38fbbe1a1fa02">onFrameSwitched</a> ()</td></tr>
<tr class="separator:a78aa98ff731bcc7616e38fbbe1a1fa02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="signals" name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:aeb72647d1770c689e3442b2d4df66eb3"><td class="memItemLeft" align="right" valign="top"><a id="aeb72647d1770c689e3442b2d4df66eb3" name="aeb72647d1770c689e3442b2d4df66eb3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>keyframeSelected</b> (double frame)</td></tr>
<tr class="separator:aeb72647d1770c689e3442b2d4df66eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab847ccf3ac084c9c0d4475df96187c33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ab847ccf3ac084c9c0d4475df96187c33">FunctionPanel</a> (QWidget *parent, bool isFloating=true)</td></tr>
<tr class="separator:ab847ccf3ac084c9c0d4475df96187c33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a65ba6410c0d92e4623a598ce95dc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a79a65ba6410c0d92e4623a598ce95dc8">setModel</a> (<a class="el" href="class_function_tree_model.html">FunctionTreeModel</a> *model)</td></tr>
<tr class="separator:a79a65ba6410c0d92e4623a598ce95dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fae9f0929922e42059ba6555062a326"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_function_tree_model.html">FunctionTreeModel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a2fae9f0929922e42059ba6555062a326">getModel</a> () const</td></tr>
<tr class="separator:a2fae9f0929922e42059ba6555062a326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ed7d49944a99065dcbb4513c675cfd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_function_selection.html">FunctionSelection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a85ed7d49944a99065dcbb4513c675cfd">getSelection</a> () const</td></tr>
<tr class="separator:a85ed7d49944a99065dcbb4513c675cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc29da2d417c9360b0cd9d21b7d24a4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#acc29da2d417c9360b0cd9d21b7d24a4b">setSelection</a> (<a class="el" href="class_function_selection.html">FunctionSelection</a> *selection)</td></tr>
<tr class="separator:acc29da2d417c9360b0cd9d21b7d24a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcff030b638b8c3d48ea26a10b4b9cf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#afcff030b638b8c3d48ea26a10b4b9cf8">setFrameHandle</a> (<a class="el" href="class_t_frame_handle.html">TFrameHandle</a> *frameHandle)</td></tr>
<tr class="separator:afcff030b638b8c3d48ea26a10b4b9cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae199385658f82424211992e7cd33137"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_frame_handle.html">TFrameHandle</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#aae199385658f82424211992e7cd33137">getFrameHandle</a> () const</td></tr>
<tr class="separator:aae199385658f82424211992e7cd33137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6d2a0566b1b9a273323852fdc315490"><td class="memItemLeft" align="right" valign="top">QTransform&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ab6d2a0566b1b9a273323852fdc315490">getViewTransform</a> () const</td></tr>
<tr class="separator:ab6d2a0566b1b9a273323852fdc315490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d5b0df177b6e7d70c10b56d8b2ab969"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a2d5b0df177b6e7d70c10b56d8b2ab969">setViewTransform</a> (const QTransform &amp;viewTransform)</td></tr>
<tr class="separator:a2d5b0df177b6e7d70c10b56d8b2ab969"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe7fab4aacced4d71154566328f8cf86"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#abe7fab4aacced4d71154566328f8cf86">getPixelRatio</a> (<a class="el" href="class_t_double_param.html">TDoubleParam</a> *curve) const</td></tr>
<tr class="separator:abe7fab4aacced4d71154566328f8cf86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ae36422bacc4f530928ac1ec3bc064"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#aa5ae36422bacc4f530928ac1ec3bc064">xToFrame</a> (double x) const</td></tr>
<tr class="separator:aa5ae36422bacc4f530928ac1ec3bc064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2589a5f29b047ac081d7c3c0225fbba6"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a2589a5f29b047ac081d7c3c0225fbba6">frameToX</a> (double frame) const</td></tr>
<tr class="separator:a2589a5f29b047ac081d7c3c0225fbba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac75a76762ba09229e18955c98bc6c7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#abac75a76762ba09229e18955c98bc6c7">valueToY</a> (<a class="el" href="class_t_double_param.html">TDoubleParam</a> *curve, double value) const</td></tr>
<tr class="separator:abac75a76762ba09229e18955c98bc6c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2e564ec4fb464b840f110a8a9b5f759"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ad2e564ec4fb464b840f110a8a9b5f759">yToValue</a> (<a class="el" href="class_t_double_param.html">TDoubleParam</a> *curve, double y) const</td></tr>
<tr class="separator:ad2e564ec4fb464b840f110a8a9b5f759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9e76c6ffc5424a2072b93a709a573b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a0b9e76c6ffc5424a2072b93a709a573b">pan</a> (int dx, int dy)</td></tr>
<tr class="separator:a0b9e76c6ffc5424a2072b93a709a573b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb4e611a6811beb1b96afd3da52387b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a0bb4e611a6811beb1b96afd3da52387b">pan</a> (const QPoint &amp;delta)</td></tr>
<tr class="separator:a0bb4e611a6811beb1b96afd3da52387b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8db04286bc9c5145bd7b42772005f304"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a8db04286bc9c5145bd7b42772005f304">zoom</a> (double sx, double sy, const QPoint &amp;center)</td></tr>
<tr class="separator:a8db04286bc9c5145bd7b42772005f304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab19d3decf9edbd7de01ea4842bbcfb2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ab19d3decf9edbd7de01ea4842bbcfb2e">fitSelectedPoints</a> ()</td></tr>
<tr class="separator:ab19d3decf9edbd7de01ea4842bbcfb2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33b2612504b6fa4376914528de6e8207"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a33b2612504b6fa4376914528de6e8207">fitCurve</a> ()</td></tr>
<tr class="separator:a33b2612504b6fa4376914528de6e8207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb658169484470d551e895fdc06971c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#afb658169484470d551e895fdc06971c8">fitGraphToWindow</a> (bool currentCurveOnly=false)</td></tr>
<tr class="separator:afb658169484470d551e895fdc06971c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb7d3847517ba070905714962b6b158"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a7cb7d3847517ba070905714962b6b158">fitRegion</a> (double f0, double v0, double f1, double v1)</td></tr>
<tr class="separator:a7cb7d3847517ba070905714962b6b158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69cd75b456cf307bb73ba14b81067364"><td class="memItemLeft" align="right" valign="top">QPointF&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a69cd75b456cf307bb73ba14b81067364">getWinPos</a> (<a class="el" href="class_t_double_param.html">TDoubleParam</a> *curve, double frame, double value) const</td></tr>
<tr class="separator:a69cd75b456cf307bb73ba14b81067364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c4f0d67f32060d7173f9329d64f8e10"><td class="memItemLeft" align="right" valign="top">QPointF&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a2c4f0d67f32060d7173f9329d64f8e10">getWinPos</a> (<a class="el" href="class_t_double_param.html">TDoubleParam</a> *curve, const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;frameValuePos) const</td></tr>
<tr class="separator:a2c4f0d67f32060d7173f9329d64f8e10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5fca77b9782020f65066bf57a951d9"><td class="memItemLeft" align="right" valign="top">QPointF&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a6d5fca77b9782020f65066bf57a951d9">getWinPos</a> (<a class="el" href="class_t_double_param.html">TDoubleParam</a> *curve, double frame) const</td></tr>
<tr class="separator:a6d5fca77b9782020f65066bf57a951d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8343fd82d0fd27f820c355e947befb47"><td class="memItemLeft" align="right" valign="top">QPointF&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a8343fd82d0fd27f820c355e947befb47">getWinPos</a> (<a class="el" href="class_t_double_param.html">TDoubleParam</a> *curve, const <a class="el" href="class_t_double_keyframe.html">TDoubleKeyframe</a> &amp;kf) const</td></tr>
<tr class="separator:a8343fd82d0fd27f820c355e947befb47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9801d0812131347d20fda96d89465f88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a9801d0812131347d20fda96d89465f88">getCurveDistance</a> (<a class="el" href="class_t_double_param.html">TDoubleParam</a> *curve, const QPoint &amp;winPos)</td></tr>
<tr class="separator:a9801d0812131347d20fda96d89465f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969340b02fe4f5c7c892572365d1fc9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a969340b02fe4f5c7c892572365d1fc9c">findClosestCurve</a> (const QPoint &amp;winPos, int maxWinDistance)</td></tr>
<tr class="separator:a969340b02fe4f5c7c892572365d1fc9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a0960ff66c1f23e875f59279f8788d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ab0a0960ff66c1f23e875f59279f8788d">findClosestChannel</a> (const QPoint &amp;winPos, int maxWinDistance)</td></tr>
<tr class="separator:ab0a0960ff66c1f23e875f59279f8788d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5af168a128fb5ccda6851e89a6e5de4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#aa5af168a128fb5ccda6851e89a6e5de4">findClosestGadget</a> (const QPoint &amp;winPos, Handle &amp;handle, int maxWinDistance)</td></tr>
<tr class="separator:aa5af168a128fb5ccda6851e89a6e5de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bfa8626ece517a3ca19531d8a70f9b4"><td class="memItemLeft" align="right" valign="top">QPainterPath&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a2bfa8626ece517a3ca19531d8a70f9b4">getSegmentPainterPath</a> (<a class="el" href="class_t_double_param.html">TDoubleParam</a> *curve, int segmentIndex, int x0, int x1)</td></tr>
<tr class="separator:a2bfa8626ece517a3ca19531d8a70f9b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8586f0f87794977e2a860551eff14851"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a8586f0f87794977e2a860551eff14851">getCurrentCurve</a> () const</td></tr>
<tr class="separator:a8586f0f87794977e2a860551eff14851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46c072f1b63675cfebbce0314b0701c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#af46c072f1b63675cfebbce0314b0701c">emitKeyframeSelected</a> (double frame)</td></tr>
<tr class="separator:af46c072f1b63675cfebbce0314b0701c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab285f886797058670c35229b2bca04bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ab285f886797058670c35229b2bca04bc">setBGColor</a> (const QColor &amp;color)</td></tr>
<tr class="separator:ab285f886797058670c35229b2bca04bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2bb88e80ad999f77bd27e90480d8258"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ad2bb88e80ad999f77bd27e90480d8258">getBGColor</a> () const</td></tr>
<tr class="separator:ad2bb88e80ad999f77bd27e90480d8258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d71c48341d8eb5196ff191c2f195af9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a0d71c48341d8eb5196ff191c2f195af9">setValueLineColor</a> (const QColor &amp;color)</td></tr>
<tr class="separator:a0d71c48341d8eb5196ff191c2f195af9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adba761c17df34ba69c26fe3ce6863809"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#adba761c17df34ba69c26fe3ce6863809">getValueLineColor</a> () const</td></tr>
<tr class="separator:adba761c17df34ba69c26fe3ce6863809"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02850f151f3a8f66672cbeaae2a318ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a02850f151f3a8f66672cbeaae2a318ae">setFrameLineColor</a> (const QColor &amp;color)</td></tr>
<tr class="separator:a02850f151f3a8f66672cbeaae2a318ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07c5f43da9dc293851cdcf95bd0b5bb6"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a07c5f43da9dc293851cdcf95bd0b5bb6">getFrameLineColor</a> () const</td></tr>
<tr class="separator:a07c5f43da9dc293851cdcf95bd0b5bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332dd23ec404fc2868a2b800509f7adb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a332dd23ec404fc2868a2b800509f7adb">setOtherCurvesColor</a> (const QColor &amp;color)</td></tr>
<tr class="separator:a332dd23ec404fc2868a2b800509f7adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89ba5fcf11282c76264512978939bf7"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#af89ba5fcf11282c76264512978939bf7">getOtherCurvesColor</a> () const</td></tr>
<tr class="separator:af89ba5fcf11282c76264512978939bf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bdacb32de24d5e6a8a0cdbc5904f1b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a8bdacb32de24d5e6a8a0cdbc5904f1b7">setRulerBackground</a> (const QColor &amp;color)</td></tr>
<tr class="separator:a8bdacb32de24d5e6a8a0cdbc5904f1b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87c9874396d3382bd9d8c5934b086fc"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#af87c9874396d3382bd9d8c5934b086fc">getRulerBackground</a> () const</td></tr>
<tr class="separator:af87c9874396d3382bd9d8c5934b086fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc32d0bc925303f7d394a3a2516976b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a2bc32d0bc925303f7d394a3a2516976b">setTextColor</a> (const QColor &amp;color)</td></tr>
<tr class="separator:a2bc32d0bc925303f7d394a3a2516976b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb21af5eed395a63fe0a50f3032d301f"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#adb21af5eed395a63fe0a50f3032d301f">getTextColor</a> () const</td></tr>
<tr class="separator:adb21af5eed395a63fe0a50f3032d301f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aed26a0cc44ed451a5a4d4a25239835"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a6aed26a0cc44ed451a5a4d4a25239835">setSubColor</a> (const QColor &amp;color)</td></tr>
<tr class="separator:a6aed26a0cc44ed451a5a4d4a25239835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a949210ae52abc2ffa82fdfc1ecc69897"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a949210ae52abc2ffa82fdfc1ecc69897">getSubColor</a> () const</td></tr>
<tr class="separator:a949210ae52abc2ffa82fdfc1ecc69897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85bc90c4d6839e75687d2d97dd8ca46b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a85bc90c4d6839e75687d2d97dd8ca46b">setSelectedColor</a> (const QColor &amp;color)</td></tr>
<tr class="separator:a85bc90c4d6839e75687d2d97dd8ca46b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0b3f6a0ba19313cfe24d9082d7422a"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a8d0b3f6a0ba19313cfe24d9082d7422a">getSelectedColor</a> () const</td></tr>
<tr class="separator:a8d0b3f6a0ba19313cfe24d9082d7422a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a0b175c6315b45dfd21cefd17fa92b67d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a0b175c6315b45dfd21cefd17fa92b67d">updateGadgets</a> (<a class="el" href="class_t_double_param.html">TDoubleParam</a> *curve)</td></tr>
<tr class="separator:a0b175c6315b45dfd21cefd17fa92b67d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d149bcb9427c19b35d87b08f08661fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a2d149bcb9427c19b35d87b08f08661fc">drawCurrentFrame</a> (QPainter &amp;)</td></tr>
<tr class="separator:a2d149bcb9427c19b35d87b08f08661fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a966f87533d6c9a2b5af1a92fec65de2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a966f87533d6c9a2b5af1a92fec65de2d">drawFrameGrid</a> (QPainter &amp;)</td></tr>
<tr class="separator:a966f87533d6c9a2b5af1a92fec65de2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d24e59a81808f676420c32b3fbd831"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a54d24e59a81808f676420c32b3fbd831">drawValueGrid</a> (QPainter &amp;)</td></tr>
<tr class="separator:a54d24e59a81808f676420c32b3fbd831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeab06b4bf86d57700b33a8012cbb76e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#aeab06b4bf86d57700b33a8012cbb76e0">drawOtherCurves</a> (QPainter &amp;)</td></tr>
<tr class="separator:aeab06b4bf86d57700b33a8012cbb76e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe278d04110c0df4bdd3b65e67484996"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#abe278d04110c0df4bdd3b65e67484996">drawCurrentCurve</a> (QPainter &amp;)</td></tr>
<tr class="separator:abe278d04110c0df4bdd3b65e67484996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae581269521d5fcfcb6eb8be1443a0d1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ae581269521d5fcfcb6eb8be1443a0d1d">drawGroupKeyframes</a> (QPainter &amp;)</td></tr>
<tr class="separator:ae581269521d5fcfcb6eb8be1443a0d1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4955bc96ad1955753e73c78f8173e98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#aa4955bc96ad1955753e73c78f8173e98">paintEvent</a> (QPaintEvent *e) override</td></tr>
<tr class="separator:aa4955bc96ad1955753e73c78f8173e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f4e6f7f78414edab4de2741e55aee8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a84f4e6f7f78414edab4de2741e55aee8">mousePressEvent</a> (QMouseEvent *e) override</td></tr>
<tr class="separator:a84f4e6f7f78414edab4de2741e55aee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e3d67793c8344048b5af789a2ebf81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ad0e3d67793c8344048b5af789a2ebf81">mouseReleaseEvent</a> (QMouseEvent *e) override</td></tr>
<tr class="separator:ad0e3d67793c8344048b5af789a2ebf81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa885d8b9f213073a94517f124ae226b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#aa885d8b9f213073a94517f124ae226b5">mouseMoveEvent</a> (QMouseEvent *e) override</td></tr>
<tr class="separator:aa885d8b9f213073a94517f124ae226b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85c37ba4cbe7e76e7bfcdd53c287c80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#aa85c37ba4cbe7e76e7bfcdd53c287c80">wheelEvent</a> (QWheelEvent *e) override</td></tr>
<tr class="separator:aa85c37ba4cbe7e76e7bfcdd53c287c80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a4a409cd36b50d7fa4d1cdae4420bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ad7a4a409cd36b50d7fa4d1cdae4420bd">openContextMenu</a> (QMouseEvent *e)</td></tr>
<tr class="separator:ad7a4a409cd36b50d7fa4d1cdae4420bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43308d4ed20cbc0990e44bcdc2d05dc0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a43308d4ed20cbc0990e44bcdc2d05dc0">keyPressEvent</a> (QKeyEvent *e) override</td></tr>
<tr class="separator:a43308d4ed20cbc0990e44bcdc2d05dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef3bc206e9c09d1af791a1aef7153d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a1ef3bc206e9c09d1af791a1aef7153d6">enterEvent</a> (QEvent *) override</td></tr>
<tr class="separator:a1ef3bc206e9c09d1af791a1aef7153d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8e00a88cbf31e102cb85cee758f846"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a0a8e00a88cbf31e102cb85cee758f846">leaveEvent</a> (QEvent *) override</td></tr>
<tr class="separator:a0a8e00a88cbf31e102cb85cee758f846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a674337a8b400ed2a112da729d85deefb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a674337a8b400ed2a112da729d85deefb">showEvent</a> (QShowEvent *) override</td></tr>
<tr class="separator:a674337a8b400ed2a112da729d85deefb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45c2c0dac646c6b0a7c90e27593bec81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a45c2c0dac646c6b0a7c90e27593bec81">hideEvent</a> (QHideEvent *) override</td></tr>
<tr class="separator:a45c2c0dac646c6b0a7c90e27593bec81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="properties" name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:ab35458c7a03235059fe023a097b3aa63"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ab35458c7a03235059fe023a097b3aa63">BGColor</a></td></tr>
<tr class="separator:ab35458c7a03235059fe023a097b3aa63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e6a214c20b16b2da20eef8f6c5321a"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a58e6a214c20b16b2da20eef8f6c5321a">ValueLineColor</a></td></tr>
<tr class="separator:a58e6a214c20b16b2da20eef8f6c5321a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9f95bdea8d70e2922ce4d5a5fdff53"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a2e9f95bdea8d70e2922ce4d5a5fdff53">FrameLineColor</a></td></tr>
<tr class="separator:a2e9f95bdea8d70e2922ce4d5a5fdff53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07459b6409948b9ddab3554a613b18f1"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a07459b6409948b9ddab3554a613b18f1">OtherCurvesColor</a></td></tr>
<tr class="separator:a07459b6409948b9ddab3554a613b18f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d25d8fe2504a48cacfa2a3d3da64232"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a6d25d8fe2504a48cacfa2a3d3da64232">RulerBackground</a></td></tr>
<tr class="separator:a6d25d8fe2504a48cacfa2a3d3da64232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9f9641759ec59213fa5b5b15de6976"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a6a9f9641759ec59213fa5b5b15de6976">TextColor</a></td></tr>
<tr class="separator:a6a9f9641759ec59213fa5b5b15de6976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab542ec321e7383d01211491513de80ea"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#ab542ec321e7383d01211491513de80ea">SubColor</a></td></tr>
<tr class="separator:ab542ec321e7383d01211491513de80ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e807e89469675f19f15117d879f6bac"><td class="memItemLeft" align="right" valign="top">QColor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_function_panel.html#a2e807e89469675f19f15117d879f6bac">SelectedColor</a></td></tr>
<tr class="separator:a2e807e89469675f19f15117d879f6bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Channel edit panel (numcols + graph popup) </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a5522f7a820b6d47d64e1aec4b2ca9a3a" name="a5522f7a820b6d47d64e1aec4b2ca9a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5522f7a820b6d47d64e1aec4b2ca9a3a">&#9670;&nbsp;</a></span>Handle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum FunctionPanel::Handle</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   60</span>              {</div>
<div class="line"><span class="lineno">   61</span>    None,</div>
<div class="line"><span class="lineno">   62</span>    Curve,</div>
<div class="line"><span class="lineno">   63</span>    Point,</div>
<div class="line"><span class="lineno">   64</span>    SpeedIn,</div>
<div class="line"><span class="lineno">   65</span>    SpeedOut,</div>
<div class="line"><span class="lineno">   66</span>    EaseIn,</div>
<div class="line"><span class="lineno">   67</span>    EaseOut,</div>
<div class="line"><span class="lineno">   68</span>    EaseInPercentage,</div>
<div class="line"><span class="lineno">   69</span>    EaseOutPercentage</div>
<div class="line"><span class="lineno">   70</span>  };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab847ccf3ac084c9c0d4475df96187c33" name="ab847ccf3ac084c9c0d4475df96187c33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab847ccf3ac084c9c0d4475df96187c33">&#9670;&nbsp;</a></span>FunctionPanel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FunctionPanel::FunctionPanel </td>
          <td>(</td>
          <td class="paramtype">QWidget *&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isFloating</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  239</span>    : QDialog(parent)</div>
<div class="line"><span class="lineno">  240</span>    , m_functionTreeModel(0)</div>
<div class="line"><span class="lineno">  241</span>    , m_viewTransform()</div>
<div class="line"><span class="lineno">  242</span>    , m_valueAxisX(50)</div>
<div class="line"><span class="lineno">  243</span>    , m_frameAxisY(50)</div>
<div class="line"><span class="lineno">  244</span>    , m_graphViewportY(50)</div>
<div class="line"><span class="lineno">  245</span>    , m_frameHandle(0)</div>
<div class="line"><span class="lineno">  246</span>    , m_dragTool(0)</div>
<div class="line"><span class="lineno">  247</span>    , m_currentFrameStatus(0)</div>
<div class="line"><span class="lineno">  248</span>    , m_selection(0)</div>
<div class="line"><span class="lineno">  249</span>    , m_curveShape(SMOOTH)</div>
<div class="line"><span class="lineno">  250</span>    , m_isFloating(isFloating) {</div>
<div class="line"><span class="lineno">  251</span>  setWindowTitle(tr(<span class="stringliteral">&quot;Function Curves&quot;</span>));</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>  m_viewTransform.translate(50, 200);</div>
<div class="line"><span class="lineno">  254</span>  m_viewTransform.scale(5, -1);</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>  setFocusPolicy(Qt::ClickFocus);</div>
<div class="line"><span class="lineno">  257</span>  setMouseTracking(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  258</span>  m_highlighted.handle = None;</div>
<div class="line"><span class="lineno">  259</span>  m_highlighted.gIndex = -1;</div>
<div class="line"><span class="lineno">  260</span>  m_cursor.visible     = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  261</span>  m_cursor.frame = m_cursor.value = 0;</div>
<div class="line"><span class="lineno">  262</span>  m_curveLabel.text               = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  263</span>  m_curveLabel.curve              = 0;</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>  <span class="keywordflow">if</span> (m_isFloating) {</div>
<div class="line"><span class="lineno">  266</span>    <span class="comment">// load the dialog size</span></div>
<div class="line"><span class="lineno">  267</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> fp(ToonzFolder::getMyModuleDir() + <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(<span class="stringliteral">&quot;popups.ini&quot;</span>));</div>
<div class="line"><span class="lineno">  268</span>    QSettings settings(toQString(fp), QSettings::IniFormat);</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>    setGeometry(</div>
<div class="line"><span class="lineno">  271</span>        settings.value(<span class="stringliteral">&quot;FunctionCurves&quot;</span>, QRect(500, 500, 400, 300)).toRect());</div>
<div class="line"><span class="lineno">  272</span>  }</div>
<div class="line"><span class="lineno">  273</span>}</div>
<div class="ttc" id="aclass_t_file_path_html"><div class="ttname"><a href="class_t_file_path.html">TFilePath</a></div><div class="ttdef"><b>Definition:</b> tfilepath.h:134</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a605c3868286f538f7d3a019d2c260ec9" name="a605c3868286f538f7d3a019d2c260ec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a605c3868286f538f7d3a019d2c260ec9">&#9670;&nbsp;</a></span>~FunctionPanel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FunctionPanel::~FunctionPanel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  277</span>                              {</div>
<div class="line"><span class="lineno">  278</span>  <span class="keywordflow">if</span> (m_isFloating) {</div>
<div class="line"><span class="lineno">  279</span>    <span class="comment">// save the dialog size</span></div>
<div class="line"><span class="lineno">  280</span>    <a class="code hl_class" href="class_t_file_path.html">TFilePath</a> fp(ToonzFolder::getMyModuleDir() + <a class="code hl_class" href="class_t_file_path.html">TFilePath</a>(<span class="stringliteral">&quot;popups.ini&quot;</span>));</div>
<div class="line"><span class="lineno">  281</span>    QSettings settings(toQString(fp), QSettings::IniFormat);</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    settings.setValue(<span class="stringliteral">&quot;FunctionCurves&quot;</span>, geometry());</div>
<div class="line"><span class="lineno">  284</span>  }</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>  <span class="keyword">delete</span> m_dragTool;</div>
<div class="line"><span class="lineno">  287</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abe278d04110c0df4bdd3b65e67484996" name="abe278d04110c0df4bdd3b65e67484996"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe278d04110c0df4bdd3b65e67484996">&#9670;&nbsp;</a></span>drawCurrentCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::drawCurrentCurve </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  889</span>                                                      {</div>
<div class="line"><span class="lineno">  890</span>  <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *channel =</div>
<div class="line"><span class="lineno">  891</span>      m_functionTreeModel ? m_functionTreeModel-&gt;getCurrentChannel() : 0;</div>
<div class="line"><span class="lineno">  892</span>  <span class="keywordflow">if</span> (!channel) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  893</span>  <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *curve = channel-&gt;getParam();</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>  painter.setRenderHint(QPainter::Antialiasing, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  896</span>  QColor color = Qt::red;</div>
<div class="line"><span class="lineno">  897</span>  QPen solidPen(color);</div>
<div class="line"><span class="lineno">  898</span>  QPen dashedPen(color);</div>
<div class="line"><span class="lineno">  899</span>  QVector&lt;qreal&gt; dashes;</div>
<div class="line"><span class="lineno">  900</span>  dashes &lt;&lt; 4 &lt;&lt; 4;</div>
<div class="line"><span class="lineno">  901</span>  dashedPen.setDashPattern(dashes);</div>
<div class="line"><span class="lineno">  902</span>  painter.setBrush(Qt::NoBrush);</div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span>  <span class="keywordtype">int</span> x0 = m_valueAxisX;</div>
<div class="line"><span class="lineno">  905</span>  <span class="keywordtype">int</span> x1 = width();</div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span>  <span class="comment">// draw curve</span></div>
<div class="line"><span class="lineno">  908</span>  <span class="keywordtype">int</span> kCount = curve-&gt;getKeyframeCount();</div>
<div class="line"><span class="lineno">  909</span>  <span class="keywordflow">if</span> (kCount == 0) {</div>
<div class="line"><span class="lineno">  910</span>    <span class="comment">// no control points</span></div>
<div class="line"><span class="lineno">  911</span>    painter.setPen(dashedPen);</div>
<div class="line"><span class="lineno">  912</span>    painter.drawPath(getSegmentPainterPath(curve, 0, x0, x1));</div>
<div class="line"><span class="lineno">  913</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  914</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = -1; k &lt; kCount; k++) {</div>
<div class="line"><span class="lineno">  915</span>      <span class="keywordflow">if</span> (k &lt; 0 || k &gt;= kCount - 1) {</div>
<div class="line"><span class="lineno">  916</span>        painter.setPen(dashedPen);</div>
<div class="line"><span class="lineno">  917</span>        painter.drawPath(getSegmentPainterPath(curve, k, x0, x1));</div>
<div class="line"><span class="lineno">  918</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  919</span>        TDoubleKeyframe::Type segmentType = curve-&gt;getKeyframe(k).m_type;</div>
<div class="line"><span class="lineno">  920</span>        QColor color                      = Qt::red;</div>
<div class="line"><span class="lineno">  921</span>        <span class="keywordflow">if</span> (segmentType == TDoubleKeyframe::Expression ||</div>
<div class="line"><span class="lineno">  922</span>            segmentType == TDoubleKeyframe::SimilarShape ||</div>
<div class="line"><span class="lineno">  923</span>            segmentType == TDoubleKeyframe::File)</div>
<div class="line"><span class="lineno">  924</span>          color = QColor(185, 0, 0);</div>
<div class="line"><span class="lineno">  925</span>        <span class="keywordflow">if</span> (getSelection()-&gt;isSegmentSelected(curve, k))</div>
<div class="line"><span class="lineno">  926</span>          solidPen.setWidth(2);</div>
<div class="line"><span class="lineno">  927</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  928</span>          solidPen.setWidth(0);</div>
<div class="line"><span class="lineno">  929</span>        solidPen.setColor(color);</div>
<div class="line"><span class="lineno">  930</span>        painter.setPen(solidPen);</div>
<div class="line"><span class="lineno">  931</span>        painter.drawPath(getSegmentPainterPath(curve, k, x0, x1));</div>
<div class="line"><span class="lineno">  932</span>      }</div>
<div class="line"><span class="lineno">  933</span>    }</div>
<div class="line"><span class="lineno">  934</span>  }</div>
<div class="line"><span class="lineno">  935</span>  painter.setPen(QPen(m_textColor, 0));</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>  <span class="comment">// draw control points</span></div>
<div class="line"><span class="lineno">  938</span>  updateGadgets(curve);</div>
<div class="line"><span class="lineno">  939</span>  painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno">  940</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; (int)m_gadgets.size(); j++) {</div>
<div class="line"><span class="lineno">  941</span>    <span class="keyword">const</span> Gadget &amp;g = m_gadgets[j];</div>
<div class="line"><span class="lineno">  942</span>    <span class="keywordflow">if</span> (g.m_handle == SpeedIn || g.m_handle == SpeedOut)</div>
<div class="line"><span class="lineno">  943</span>      painter.drawLine(g.m_pointPos, g.m_pos);</div>
<div class="line"><span class="lineno">  944</span>  }</div>
<div class="line"><span class="lineno">  945</span>  solidPen.setWidth(0);</div>
<div class="line"><span class="lineno">  946</span>  solidPen.setColor(Qt::red);</div>
<div class="line"><span class="lineno">  947</span>  painter.setPen(solidPen);</div>
<div class="line"><span class="lineno">  948</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; (int)m_gadgets.size() - 1; j++)</div>
<div class="line"><span class="lineno">  949</span>    <span class="keywordflow">if</span> (m_gadgets[j].m_handle == Point &amp;&amp; m_gadgets[j + 1].m_handle &amp;&amp;</div>
<div class="line"><span class="lineno">  950</span>        m_gadgets[j + 1].m_handle != 100 &amp;&amp;</div>
<div class="line"><span class="lineno">  951</span>        m_gadgets[j].m_pos.x() == m_gadgets[j + 1].m_pos.x())</div>
<div class="line"><span class="lineno">  952</span>      painter.drawLine(m_gadgets[j].m_pos, m_gadgets[j + 1].m_pos);</div>
<div class="line"><span class="lineno">  953</span> </div>
<div class="line"><span class="lineno">  954</span>  painter.setRenderHint(QPainter::Antialiasing, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  955</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; (int)m_gadgets.size(); j++) {</div>
<div class="line"><span class="lineno">  956</span>    <span class="keyword">const</span> Gadget &amp;g = m_gadgets[j];</div>
<div class="line"><span class="lineno">  957</span>    <span class="keywordtype">int</span> i           = g.m_kIndex;</div>
<div class="line"><span class="lineno">  958</span>    <span class="keywordtype">int</span> r           = 1;</div>
<div class="line"><span class="lineno">  959</span>    QPointF p       = g.m_pos;</div>
<div class="line"><span class="lineno">  960</span>    <span class="keywordtype">double</span> easeDx = 0, easeHeight = 15, easeTick = 2;</div>
<div class="line"><span class="lineno">  961</span>    <span class="keywordtype">bool</span> isSelected = getSelection()-&gt;isSelected(curve, i);</div>
<div class="line"><span class="lineno">  962</span>    <span class="keywordtype">bool</span> isHighlighted =</div>
<div class="line"><span class="lineno">  963</span>        m_highlighted.handle == g.m_handle &amp;&amp; m_highlighted.gIndex == j;</div>
<div class="line"><span class="lineno">  964</span>    <span class="keywordflow">switch</span> (g.m_handle) {</div>
<div class="line"><span class="lineno">  965</span>    <span class="keywordflow">case</span> Point:</div>
<div class="line"><span class="lineno">  966</span>      painter.setBrush(isSelected ? QColor(255, 126, 0) : m_subColor);</div>
<div class="line"><span class="lineno">  967</span>      painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno">  968</span>      r = isHighlighted ? 3 : 2;</div>
<div class="line"><span class="lineno">  969</span>      drawSquare(painter, p, r);</div>
<div class="line"><span class="lineno">  970</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>    <span class="keywordflow">case</span> SpeedIn:</div>
<div class="line"><span class="lineno">  973</span>    <span class="keywordflow">case</span> SpeedOut:</div>
<div class="line"><span class="lineno">  974</span>      painter.setBrush(m_subColor);</div>
<div class="line"><span class="lineno">  975</span>      painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno">  976</span>      r = isHighlighted ? 3 : 2;</div>
<div class="line"><span class="lineno">  977</span>      drawRoundedSquare(painter, p, r);</div>
<div class="line"><span class="lineno">  978</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>    <span class="keywordflow">case</span> EaseIn:</div>
<div class="line"><span class="lineno">  981</span>    <span class="keywordflow">case</span> EaseOut:</div>
<div class="line"><span class="lineno">  982</span>    <span class="keywordflow">case</span> EaseInPercentage:</div>
<div class="line"><span class="lineno">  983</span>    <span class="keywordflow">case</span> EaseOutPercentage:</div>
<div class="line"><span class="lineno">  984</span>      painter.setBrush(Qt::NoBrush);</div>
<div class="line"><span class="lineno">  985</span>      painter.setPen(isHighlighted ? QColor(255, 126, 0) : m_textColor);</div>
<div class="line"><span class="lineno">  986</span>      painter.drawLine(p.x(), p.y() - easeHeight, p.x(), p.y() + easeHeight);</div>
<div class="line"><span class="lineno">  987</span>      <span class="keywordflow">if</span> (g.m_handle == EaseIn || g.m_handle == EaseInPercentage)</div>
<div class="line"><span class="lineno">  988</span>        easeDx = easeTick;</div>
<div class="line"><span class="lineno">  989</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  990</span>        easeDx = -easeTick;</div>
<div class="line"><span class="lineno">  991</span>      painter.drawLine(p.x(), p.y() - easeHeight, p.x() + easeDx,</div>
<div class="line"><span class="lineno">  992</span>                       p.y() - easeHeight - easeTick);</div>
<div class="line"><span class="lineno">  993</span>      painter.drawLine(p.x(), p.y() + easeHeight, p.x() + easeDx,</div>
<div class="line"><span class="lineno">  994</span>                       p.y() + easeHeight + easeTick);</div>
<div class="line"><span class="lineno">  995</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  996</span> </div>
<div class="line"><span class="lineno">  997</span>      painter.setBrush(</div>
<div class="line"><span class="lineno">  998</span>          Qt::NoBrush);  <span class="comment">// isSelected ? QColor(255,126,0) : Qt::white);</span></div>
<div class="line"><span class="lineno">  999</span>      painter.setPen(isHighlighted ? QColor(255, 126, 0) : m_selectedColor);</div>
<div class="line"><span class="lineno"> 1000</span>      painter.drawLine(p.x(), p.y() - 15, p.x(), p.y() + 15);</div>
<div class="line"><span class="lineno"> 1001</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1002</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1003</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1004</span>    }</div>
<div class="line"><span class="lineno"> 1005</span>  }</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>  painter.setRenderHint(QPainter::Antialiasing, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1008</span>}</div>
<div class="ttc" id="aclass_function_tree_model_1_1_channel_html"><div class="ttname"><a href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a></div><div class="ttdoc">The model item representing a channel (i.e. a real-valued function).</div><div class="ttdef"><b>Definition:</b> functiontreeviewer.h:161</div></div>
<div class="ttc" id="aclass_t_double_param_html"><div class="ttname"><a href="class_t_double_param.html">TDoubleParam</a></div><div class="ttdef"><b>Definition:</b> tdoubleparam.h:54</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d149bcb9427c19b35d87b08f08661fc" name="a2d149bcb9427c19b35d87b08f08661fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d149bcb9427c19b35d87b08f08661fc">&#9670;&nbsp;</a></span>drawCurrentFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::drawCurrentFrame </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  522</span>                                                      {</div>
<div class="line"><span class="lineno">  523</span>  <span class="keywordtype">int</span> currentframe = 0;</div>
<div class="line"><span class="lineno">  524</span>  <span class="keywordflow">if</span> (m_frameHandle) currentframe = m_frameHandle-&gt;getFrame();</div>
<div class="line"><span class="lineno">  525</span>  <span class="keywordtype">int</span> x = frameToX(currentframe);</div>
<div class="line"><span class="lineno">  526</span>  <span class="keywordflow">if</span> (m_currentFrameStatus == 0)</div>
<div class="line"><span class="lineno">  527</span>    painter.setPen(Qt::magenta);</div>
<div class="line"><span class="lineno">  528</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_currentFrameStatus == 1)</div>
<div class="line"><span class="lineno">  529</span>    painter.setPen(Qt::white);</div>
<div class="line"><span class="lineno">  530</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  531</span>    painter.setPen(m_selectedColor);</div>
<div class="line"><span class="lineno">  532</span>  <span class="keywordtype">int</span> y = m_graphViewportY + 1;</div>
<div class="line"><span class="lineno">  533</span>  painter.drawLine(x - 1, y, x - 1, height());</div>
<div class="line"><span class="lineno">  534</span>  painter.drawLine(x + 1, y, x + 1, height());</div>
<div class="line"><span class="lineno">  535</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a966f87533d6c9a2b5af1a92fec65de2d" name="a966f87533d6c9a2b5af1a92fec65de2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a966f87533d6c9a2b5af1a92fec65de2d">&#9670;&nbsp;</a></span>drawFrameGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::drawFrameGrid </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  539</span>                                                   {</div>
<div class="line"><span class="lineno">  540</span>  QFontMetrics fm(painter.font());</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>  <span class="comment">// ruler background</span></div>
<div class="line"><span class="lineno">  543</span>  painter.setPen(Qt::NoPen);</div>
<div class="line"><span class="lineno">  544</span>  painter.setBrush(getRulerBackground());</div>
<div class="line"><span class="lineno">  545</span>  painter.drawRect(0, 0, width(), m_frameAxisY);</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>  <span class="comment">// draw ticks and labels</span></div>
<div class="line"><span class="lineno">  548</span>  <a class="code hl_class" href="class_ruler.html">Ruler</a> ruler;</div>
<div class="line"><span class="lineno">  549</span>  ruler.setTransform(m_viewTransform.m11(), m_viewTransform.dx(), -1);</div>
<div class="line"><span class="lineno">  550</span>  ruler.setRange(m_valueAxisX, width());</div>
<div class="line"><span class="lineno">  551</span>  ruler.setMinLabelDistance(fm.width(<span class="stringliteral">&quot;-8888&quot;</span>) + 2);</div>
<div class="line"><span class="lineno">  552</span>  ruler.setMinDistance(5);</div>
<div class="line"><span class="lineno">  553</span>  ruler.setMinStep(1);</div>
<div class="line"><span class="lineno">  554</span>  ruler.compute();</div>
<div class="line"><span class="lineno">  555</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ruler.getTickCount(); i++) {</div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordtype">double</span> f     = ruler.getTick(i);</div>
<div class="line"><span class="lineno">  557</span>    <span class="keywordtype">bool</span> isLabel = ruler.isLabel(i);</div>
<div class="line"><span class="lineno">  558</span>    <span class="keywordtype">int</span> x        = frameToX(f);</div>
<div class="line"><span class="lineno">  559</span>    painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno">  560</span>    <span class="keywordtype">int</span> y = m_frameAxisY;</div>
<div class="line"><span class="lineno">  561</span>    painter.drawLine(x, y - (isLabel ? 4 : 2), x, y);</div>
<div class="line"><span class="lineno">  562</span>    painter.setPen(getFrameLineColor());</div>
<div class="line"><span class="lineno">  563</span>    painter.drawLine(x, m_graphViewportY, x, height());</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">if</span> (isLabel) {</div>
<div class="line"><span class="lineno">  565</span>      painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno">  566</span>      QString labelText = QString::number(f + 1);</div>
<div class="line"><span class="lineno">  567</span>      painter.drawText(x - fm.width(labelText) / 2, y - 6, labelText);</div>
<div class="line"><span class="lineno">  568</span>    }</div>
<div class="line"><span class="lineno">  569</span>  }</div>
<div class="line"><span class="lineno">  570</span>}</div>
<div class="ttc" id="aclass_ruler_html"><div class="ttname"><a href="class_ruler.html">Ruler</a></div><div class="ttdef"><b>Definition:</b> ruler.h:19</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae581269521d5fcfcb6eb8be1443a0d1d" name="ae581269521d5fcfcb6eb8be1443a0d1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae581269521d5fcfcb6eb8be1443a0d1d">&#9670;&nbsp;</a></span>drawGroupKeyframes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::drawGroupKeyframes </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1012</span>                                                        {</div>
<div class="line"><span class="lineno"> 1013</span>  <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *channel =</div>
<div class="line"><span class="lineno"> 1014</span>      m_functionTreeModel ? m_functionTreeModel-&gt;getCurrentChannel() : 0;</div>
<div class="line"><span class="lineno"> 1015</span>  <span class="keywordflow">if</span> (!channel) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1016</span>  QColor color = Qt::red;</div>
<div class="line"><span class="lineno"> 1017</span>  QPen solidPen(color);</div>
<div class="line"><span class="lineno"> 1018</span>  QPen dashedPen(color);</div>
<div class="line"><span class="lineno"> 1019</span>  QVector&lt;qreal&gt; dashes;</div>
<div class="line"><span class="lineno"> 1020</span>  dashes &lt;&lt; 4 &lt;&lt; 4;</div>
<div class="line"><span class="lineno"> 1021</span>  dashedPen.setDashPattern(dashes);</div>
<div class="line"><span class="lineno"> 1022</span>  painter.setBrush(Qt::NoBrush);</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>  <span class="keywordtype">int</span> x0 = m_valueAxisX;</div>
<div class="line"><span class="lineno"> 1025</span>  <span class="keywordtype">int</span> x1 = width();</div>
<div class="line"><span class="lineno"> 1026</span> </div>
<div class="line"><span class="lineno"> 1027</span>  solidPen.setWidth(0);</div>
<div class="line"><span class="lineno"> 1028</span>  solidPen.setColor(Qt::red);</div>
<div class="line"><span class="lineno"> 1029</span>  painter.setPen(solidPen);</div>
<div class="line"><span class="lineno"> 1030</span> </div>
<div class="line"><span class="lineno"> 1031</span>  std::vector&lt;double&gt; keyframes;</div>
<div class="line"><span class="lineno"> 1032</span>  <span class="keywordtype">int</span> y = 0;</div>
<div class="line"><span class="lineno"> 1033</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; (int)m_gadgets.size(); j++) {</div>
<div class="line"><span class="lineno"> 1034</span>    <span class="keyword">const</span> Gadget &amp;g = m_gadgets[j];</div>
<div class="line"><span class="lineno"> 1035</span>    <span class="keywordtype">int</span> i           = g.m_kIndex;</div>
<div class="line"><span class="lineno"> 1036</span>    <span class="keywordtype">int</span> r           = 1;</div>
<div class="line"><span class="lineno"> 1037</span>    QPointF p       = g.m_pos;</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="keywordtype">double</span> easeDx = 0, easeHeight = 15, easeTick = 2;</div>
<div class="line"><span class="lineno"> 1039</span>    <span class="keywordtype">bool</span> isSelected = <span class="keyword">false</span>;  <span class="comment">// getSelection()-&gt;isSelected(curve, i);</span></div>
<div class="line"><span class="lineno"> 1040</span>    <span class="keywordtype">bool</span> isHighlighted =</div>
<div class="line"><span class="lineno"> 1041</span>        m_highlighted.handle == g.m_handle &amp;&amp; m_highlighted.gIndex == j;</div>
<div class="line"><span class="lineno"> 1042</span>    painter.setBrush(isSelected ? QColor(255, 126, 0) : m_subColor);</div>
<div class="line"><span class="lineno"> 1043</span>    painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno"> 1044</span>    r = isHighlighted ? 3 : 2;</div>
<div class="line"><span class="lineno"> 1045</span>    QPainterPath pp;</div>
<div class="line"><span class="lineno"> 1046</span>    <span class="keywordtype">int</span> d = 2;</div>
<div class="line"><span class="lineno"> 1047</span>    <span class="keywordtype">int</span> h = 4;</div>
<div class="line"><span class="lineno"> 1048</span>    <span class="keywordflow">switch</span> (g.m_handle) {</div>
<div class="line"><span class="lineno"> 1049</span>    <span class="keywordflow">case</span> 100:</div>
<div class="line"><span class="lineno"> 1050</span>      drawSquare(painter, p, r);</div>
<div class="line"><span class="lineno"> 1051</span>      y = p.y();</div>
<div class="line"><span class="lineno"> 1052</span>      keyframes.push_back(p.x());</div>
<div class="line"><span class="lineno"> 1053</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keywordflow">case</span> 101:</div>
<div class="line"><span class="lineno"> 1055</span>      d = -d;</div>
<div class="line"><span class="lineno"> 1056</span>    <span class="comment">// Note: NO break!</span></div>
<div class="line"><span class="lineno"> 1057</span>    <span class="keywordflow">case</span> 102:</div>
<div class="line"><span class="lineno"> 1058</span>      painter.setBrush(Qt::NoBrush);</div>
<div class="line"><span class="lineno"> 1059</span>      painter.setPen(isHighlighted ? QColor(255, 126, 0) : m_textColor);</div>
<div class="line"><span class="lineno"> 1060</span>      pp.moveTo(p + QPointF(d, -h));</div>
<div class="line"><span class="lineno"> 1061</span>      pp.lineTo(p + QPointF(0, -h));</div>
<div class="line"><span class="lineno"> 1062</span>      pp.lineTo(p + QPointF(0, h));</div>
<div class="line"><span class="lineno"> 1063</span>      pp.lineTo(p + QPointF(d, h));</div>
<div class="line"><span class="lineno"> 1064</span>      painter.drawPath(pp);</div>
<div class="line"><span class="lineno"> 1065</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1066</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1067</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1068</span>    }</div>
<div class="line"><span class="lineno"> 1069</span>  }</div>
<div class="line"><span class="lineno"> 1070</span>  painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno"> 1071</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i + 1 &lt; (int)keyframes.size(); i++) {</div>
<div class="line"><span class="lineno"> 1072</span>    painter.drawLine(keyframes[i] + 3, y, keyframes[i + 1] - 3, y);</div>
<div class="line"><span class="lineno"> 1073</span>  }</div>
<div class="line"><span class="lineno"> 1074</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aeab06b4bf86d57700b33a8012cbb76e0" name="aeab06b4bf86d57700b33a8012cbb76e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeab06b4bf86d57700b33a8012cbb76e0">&#9670;&nbsp;</a></span>drawOtherCurves()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::drawOtherCurves </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  627</span>                                                     {</div>
<div class="line"><span class="lineno">  628</span>  painter.setRenderHint(QPainter::Antialiasing, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  629</span>  painter.setBrush(Qt::NoBrush);</div>
<div class="line"><span class="lineno">  630</span>  <span class="keywordtype">int</span> x0 = m_valueAxisX;</div>
<div class="line"><span class="lineno">  631</span>  <span class="keywordtype">int</span> x1 = width();</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>  QPen solidPen;</div>
<div class="line"><span class="lineno">  634</span>  QPen dashedPen;</div>
<div class="line"><span class="lineno">  635</span>  QVector&lt;qreal&gt; dashes;</div>
<div class="line"><span class="lineno">  636</span>  dashes &lt;&lt; 4 &lt;&lt; 4;</div>
<div class="line"><span class="lineno">  637</span>  dashedPen.setDashPattern(dashes);</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_functionTreeModel-&gt;getActiveChannelCount(); i++) {</div>
<div class="line"><span class="lineno">  640</span>    <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *channel =</div>
<div class="line"><span class="lineno">  641</span>        m_functionTreeModel-&gt;getActiveChannel(i);</div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordflow">if</span> (channel-&gt;isCurrent()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  643</span>    <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *curve = channel-&gt;getParam();</div>
<div class="line"><span class="lineno">  644</span>    QColor color =</div>
<div class="line"><span class="lineno">  645</span>        curve == m_curveLabel.curve ? m_selectedColor : getOtherCurvesColor();</div>
<div class="line"><span class="lineno">  646</span>    solidPen.setColor(color);</div>
<div class="line"><span class="lineno">  647</span>    dashedPen.setColor(color);</div>
<div class="line"><span class="lineno">  648</span>    painter.setBrush(Qt::NoBrush);</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordtype">int</span> kCount = curve-&gt;getKeyframeCount();</div>
<div class="line"><span class="lineno">  651</span>    <span class="keywordflow">if</span> (kCount == 0) {</div>
<div class="line"><span class="lineno">  652</span>      <span class="comment">// no control points</span></div>
<div class="line"><span class="lineno">  653</span>      painter.setPen(dashedPen);</div>
<div class="line"><span class="lineno">  654</span>      painter.drawPath(getSegmentPainterPath(curve, 0, x0, x1));</div>
<div class="line"><span class="lineno">  655</span>    }</div>
<div class="line"><span class="lineno">  656</span>    <span class="comment">// draw control points and handles</span></div>
<div class="line"><span class="lineno">  657</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  658</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = -1; k &lt; kCount; k++) {</div>
<div class="line"><span class="lineno">  659</span>        painter.setPen((k &lt; 0 || k &gt;= kCount - 1) ? dashedPen : solidPen);</div>
<div class="line"><span class="lineno">  660</span>        painter.drawPath(getSegmentPainterPath(curve, k, x0, x1));</div>
<div class="line"><span class="lineno">  661</span>      }</div>
<div class="line"><span class="lineno">  662</span>      painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno">  663</span>      painter.setBrush(m_subColor);</div>
<div class="line"><span class="lineno">  664</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; kCount; k++) {</div>
<div class="line"><span class="lineno">  665</span>        <span class="keywordtype">double</span> frame = curve-&gt;<a class="code hl_function" href="class_t_double_param.html#af08442b9fd968fddada028a6f07983d5">keyframeIndexToFrame</a>(k);</div>
<div class="line"><span class="lineno">  666</span>        QPointF p    = getWinPos(curve, frame, curve-&gt;getValue(frame));</div>
<div class="line"><span class="lineno">  667</span>        painter.drawRect(p.x() - 1, p.y() - 1, 3, 3);</div>
<div class="line"><span class="lineno">  668</span>        QPointF p2 = getWinPos(curve, frame, curve-&gt;getValue(frame, <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  669</span>        <span class="keywordflow">if</span> (p2.y() != p.y()) {</div>
<div class="line"><span class="lineno">  670</span>          painter.drawRect(p2.x() - 1, p2.y() - 1, 3, 3);</div>
<div class="line"><span class="lineno">  671</span>          painter.setPen(solidPen);</div>
<div class="line"><span class="lineno">  672</span>          painter.drawLine(p, p2);</div>
<div class="line"><span class="lineno">  673</span>          painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno">  674</span>        }</div>
<div class="line"><span class="lineno">  675</span>      }</div>
<div class="line"><span class="lineno">  676</span>    }</div>
<div class="line"><span class="lineno">  677</span>  }</div>
<div class="line"><span class="lineno">  678</span>  painter.setBrush(Qt::NoBrush);</div>
<div class="line"><span class="lineno">  679</span>  painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno">  680</span>  painter.setRenderHint(QPainter::Antialiasing, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  681</span>}</div>
<div class="ttc" id="aclass_t_double_param_html_af08442b9fd968fddada028a6f07983d5"><div class="ttname"><a href="class_t_double_param.html#af08442b9fd968fddada028a6f07983d5">TDoubleParam::keyframeIndexToFrame</a></div><div class="ttdeci">double keyframeIndexToFrame(int index) const override</div><div class="ttdef"><b>Definition:</b> tdoubleparam.cpp:1000</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a54d24e59a81808f676420c32b3fbd831" name="a54d24e59a81808f676420c32b3fbd831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d24e59a81808f676420c32b3fbd831">&#9670;&nbsp;</a></span>drawValueGrid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::drawValueGrid </td>
          <td>(</td>
          <td class="paramtype">QPainter &amp;&#160;</td>
          <td class="paramname"><em>painter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  574</span>                                                   {</div>
<div class="line"><span class="lineno">  575</span>  <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *curve = getCurrentCurve();</div>
<div class="line"><span class="lineno">  576</span>  <span class="keywordflow">if</span> (!curve) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>  QFontMetrics fm(painter.font());</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>  <span class="comment">// ruler background</span></div>
<div class="line"><span class="lineno">  581</span>  painter.setPen(Qt::NoPen);</div>
<div class="line"><span class="lineno">  582</span>  painter.setBrush(getRulerBackground());</div>
<div class="line"><span class="lineno">  583</span>  painter.drawRect(0, 0, m_valueAxisX, height());</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>  <a class="code hl_class" href="class_ruler.html">Ruler</a> ruler;</div>
<div class="line"><span class="lineno">  586</span>  ruler.setTransform(m_viewTransform.m22(), m_viewTransform.dy());</div>
<div class="line"><span class="lineno">  587</span>  ruler.setRange(m_graphViewportY, height());</div>
<div class="line"><span class="lineno">  588</span>  ruler.setMinLabelDistance(fm.height() + 2);</div>
<div class="line"><span class="lineno">  589</span>  ruler.setMinDistance(5);</div>
<div class="line"><span class="lineno">  590</span>  ruler.compute();</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>  painter.setBrush(Qt::NoBrush);</div>
<div class="line"><span class="lineno">  593</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ruler.getTickCount(); i++) {</div>
<div class="line"><span class="lineno">  594</span>    <span class="keywordtype">double</span> v     = ruler.getTick(i);</div>
<div class="line"><span class="lineno">  595</span>    <span class="keywordtype">bool</span> isLabel = ruler.isLabel(i);</div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordtype">int</span> y        = tround(m_viewTransform.m22() * v +</div>
<div class="line"><span class="lineno">  597</span>                   m_viewTransform.dy());  <span class="comment">// valueToY(curve, v);</span></div>
<div class="line"><span class="lineno">  598</span>    painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordtype">int</span> x = m_valueAxisX;</div>
<div class="line"><span class="lineno">  600</span>    painter.drawLine(x - (isLabel ? 5 : 2), y, x, y);</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>    painter.setPen(getValueLineColor());</div>
<div class="line"><span class="lineno">  603</span>    painter.drawLine(x, y, width(), y);</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">if</span> (isLabel) {</div>
<div class="line"><span class="lineno">  606</span>      painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno">  607</span>      QString labelText = QString::number(v);</div>
<div class="line"><span class="lineno">  608</span>      painter.drawText(std::max(0, x - 5 - fm.width(labelText)),</div>
<div class="line"><span class="lineno">  609</span>                       y + fm.height() / 2, labelText);</div>
<div class="line"><span class="lineno">  610</span>    }</div>
<div class="line"><span class="lineno">  611</span>  }</div>
<div class="line"><span class="lineno">  612</span>  <span class="keywordflow">if</span> (<span class="keyword">false</span> &amp;&amp; ruler.getTickCount() &gt; 10) {</div>
<div class="line"><span class="lineno">  613</span>    <span class="keywordtype">double</span> value = ruler.getTick(9);</div>
<div class="line"><span class="lineno">  614</span>    <span class="keywordtype">double</span> dv    = fabs(ruler.getTick(10));</div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordtype">double</span> frame = 10;</div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordtype">double</span> df    = dv * getPixelRatio(curve);</div>
<div class="line"><span class="lineno">  617</span>    QPointF p0   = getWinPos(curve, frame, value);</div>
<div class="line"><span class="lineno">  618</span>    QPointF p1   = getWinPos(curve, frame + df, value + dv);</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>    painter.setPen(Qt::magenta);</div>
<div class="line"><span class="lineno">  621</span>    painter.drawRect(p0.x(), p0.y(), (p1 - p0).x(), (p1 - p0).y());</div>
<div class="line"><span class="lineno">  622</span>  }</div>
<div class="line"><span class="lineno">  623</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af46c072f1b63675cfebbce0314b0701c" name="af46c072f1b63675cfebbce0314b0701c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af46c072f1b63675cfebbce0314b0701c">&#9670;&nbsp;</a></span>emitKeyframeSelected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::emitKeyframeSelected </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  186</span>{ emit keyframeSelected(frame); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ef3bc206e9c09d1af791a1aef7153d6" name="a1ef3bc206e9c09d1af791a1aef7153d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef3bc206e9c09d1af791a1aef7153d6">&#9670;&nbsp;</a></span>enterEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::enterEvent </td>
          <td>(</td>
          <td class="paramtype">QEvent *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1433</span>                                       {</div>
<div class="line"><span class="lineno"> 1434</span>  m_cursor.visible = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1435</span>  update();</div>
<div class="line"><span class="lineno"> 1436</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0a0960ff66c1f23e875f59279f8788d" name="ab0a0960ff66c1f23e875f59279f8788d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0a0960ff66c1f23e875f59279f8788d">&#9670;&nbsp;</a></span>findClosestChannel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> * FunctionPanel::findClosestChannel </td>
          <td>(</td>
          <td class="paramtype">const QPoint &amp;&#160;</td>
          <td class="paramname"><em>winPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxWinDistance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  388</span>                                              {</div>
<div class="line"><span class="lineno">  389</span>  <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *closestChannel = 0;</div>
<div class="line"><span class="lineno">  390</span>  <span class="keywordtype">int</span> minDistance                            = maxWinDistance;</div>
<div class="line"><span class="lineno">  391</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  392</span>  <span class="keywordflow">for</span> (i = 0; i &lt; m_functionTreeModel-&gt;getActiveChannelCount(); i++) {</div>
<div class="line"><span class="lineno">  393</span>    <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *channel =</div>
<div class="line"><span class="lineno">  394</span>        m_functionTreeModel-&gt;getActiveChannel(i);</div>
<div class="line"><span class="lineno">  395</span>    <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *curve = channel-&gt;getParam();</div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordtype">int</span> distance        = getCurveDistance(curve, winPos);</div>
<div class="line"><span class="lineno">  397</span>    <span class="keywordflow">if</span> (distance &lt; minDistance) {</div>
<div class="line"><span class="lineno">  398</span>      closestChannel = channel;</div>
<div class="line"><span class="lineno">  399</span>      minDistance    = distance;</div>
<div class="line"><span class="lineno">  400</span>    }</div>
<div class="line"><span class="lineno">  401</span>  }</div>
<div class="line"><span class="lineno">  402</span>  <span class="keywordflow">return</span> closestChannel;</div>
<div class="line"><span class="lineno">  403</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a969340b02fe4f5c7c892572365d1fc9c" name="a969340b02fe4f5c7c892572365d1fc9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a969340b02fe4f5c7c892572365d1fc9c">&#9670;&nbsp;</a></span>findClosestCurve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_double_param.html">TDoubleParam</a> * FunctionPanel::findClosestCurve </td>
          <td>(</td>
          <td class="paramtype">const QPoint &amp;&#160;</td>
          <td class="paramname"><em>winPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxWinDistance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  408</span>                                                                  {</div>
<div class="line"><span class="lineno">  409</span>  <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *closestChannel =</div>
<div class="line"><span class="lineno">  410</span>      findClosestChannel(winPos, maxWinDistance);</div>
<div class="line"><span class="lineno">  411</span>  <span class="keywordflow">return</span> closestChannel ? closestChannel-&gt;getParam() : 0;</div>
<div class="line"><span class="lineno">  412</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5af168a128fb5ccda6851e89a6e5de4" name="aa5af168a128fb5ccda6851e89a6e5de4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5af168a128fb5ccda6851e89a6e5de4">&#9670;&nbsp;</a></span>findClosestGadget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FunctionPanel::findClosestGadget </td>
          <td>(</td>
          <td class="paramtype">const QPoint &amp;&#160;</td>
          <td class="paramname"><em>winPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Handle &amp;&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxWinDistance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  418</span>                                                      {</div>
<div class="line"><span class="lineno">  419</span>  <span class="comment">// search only handles close enough (i.e. distance&lt;maxDistance)</span></div>
<div class="line"><span class="lineno">  420</span>  <span class="keywordtype">int</span> minDistance = maxDistance;</div>
<div class="line"><span class="lineno">  421</span>  <span class="keywordtype">int</span> k           = -1;</div>
<div class="line"><span class="lineno">  422</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_gadgets.size(); i++) {</div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">if</span> (m_gadgets[i].m_hitRegion.contains(winPos)) {</div>
<div class="line"><span class="lineno">  424</span>      QPoint p;</div>
<div class="line"><span class="lineno">  425</span>      <span class="keywordtype">double</span> d = (m_gadgets[i].m_hitRegion.center() - winPos).manhattanLength();</div>
<div class="line"><span class="lineno">  426</span>      <span class="keywordflow">if</span> (d &lt; minDistance) {</div>
<div class="line"><span class="lineno">  427</span>        k           = i;</div>
<div class="line"><span class="lineno">  428</span>        minDistance = d;</div>
<div class="line"><span class="lineno">  429</span>      }</div>
<div class="line"><span class="lineno">  430</span>    }</div>
<div class="line"><span class="lineno">  431</span>  }</div>
<div class="line"><span class="lineno">  432</span>  <span class="keywordflow">if</span> (k &gt;= 0) {</div>
<div class="line"><span class="lineno">  433</span>    handle = m_gadgets[k].m_handle;</div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordflow">return</span> k;  <span class="comment">// m_gadgets[k].m_kIndex;</span></div>
<div class="line"><span class="lineno">  435</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  436</span>    handle = None;</div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  438</span>  }</div>
<div class="line"><span class="lineno">  439</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a33b2612504b6fa4376914528de6e8207" name="a33b2612504b6fa4376914528de6e8207"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33b2612504b6fa4376914528de6e8207">&#9670;&nbsp;</a></span>fitCurve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::fitCurve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1521</span>{ fitGraphToWindow(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afb658169484470d551e895fdc06971c8" name="afb658169484470d551e895fdc06971c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb658169484470d551e895fdc06971c8">&#9670;&nbsp;</a></span>fitGraphToWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::fitGraphToWindow </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>currentCurveOnly</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1454</span>                                                          {</div>
<div class="line"><span class="lineno"> 1455</span>  <span class="keywordtype">double</span> f0 = 0, f1 = -1;</div>
<div class="line"><span class="lineno"> 1456</span>  <span class="keywordtype">double</span> v0 = 0, v1 = -1;</div>
<div class="line"><span class="lineno"> 1457</span> </div>
<div class="line"><span class="lineno"> 1458</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m_functionTreeModel-&gt;getActiveChannelCount(); i++) {</div>
<div class="line"><span class="lineno"> 1459</span>    <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *channel =</div>
<div class="line"><span class="lineno"> 1460</span>        m_functionTreeModel-&gt;getActiveChannel(i);</div>
<div class="line"><span class="lineno"> 1461</span>    <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *curve = channel-&gt;getParam();</div>
<div class="line"><span class="lineno"> 1462</span>    <span class="keywordflow">if</span> (currentCurveOnly &amp;&amp; curve != getCurrentCurve()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1463</span> </div>
<div class="line"><span class="lineno"> 1464</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_unit.html">TUnit</a> *unit = 0;</div>
<div class="line"><span class="lineno"> 1465</span>    <span class="keywordflow">if</span> (curve-&gt;getMeasure()) unit = curve-&gt;getMeasure()-&gt;getCurrentUnit();</div>
<div class="line"><span class="lineno"> 1466</span>    <span class="keywordtype">int</span> n = curve-&gt;getKeyframeCount();</div>
<div class="line"><span class="lineno"> 1467</span>    <span class="keywordflow">if</span> (n == 0) {</div>
<div class="line"><span class="lineno"> 1468</span>      <span class="keywordtype">double</span> v = curve-&gt;getDefaultValue();</div>
<div class="line"><span class="lineno"> 1469</span>      <span class="keywordflow">if</span> (unit) v = unit-&gt;convertTo(v);</div>
<div class="line"><span class="lineno"> 1470</span>      <span class="keywordflow">if</span> (v0 &gt; v1)</div>
<div class="line"><span class="lineno"> 1471</span>        v0 = v1 = v;</div>
<div class="line"><span class="lineno"> 1472</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v &gt; v1)</div>
<div class="line"><span class="lineno"> 1473</span>        v1 = v;</div>
<div class="line"><span class="lineno"> 1474</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (v &lt; v0)</div>
<div class="line"><span class="lineno"> 1475</span>        v0 = v;</div>
<div class="line"><span class="lineno"> 1476</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1477</span>      <a class="code hl_class" href="class_t_double_keyframe.html">TDoubleKeyframe</a> k = curve-&gt;getKeyframe(0);</div>
<div class="line"><span class="lineno"> 1478</span>      <span class="keywordtype">double</span> fa         = k.m_frame;</div>
<div class="line"><span class="lineno"> 1479</span>      k                 = curve-&gt;getKeyframe(n - 1);</div>
<div class="line"><span class="lineno"> 1480</span>      <span class="keywordtype">double</span> fb         = k.m_frame;</div>
<div class="line"><span class="lineno"> 1481</span>      <span class="keywordflow">if</span> (f0 &gt; f1) {</div>
<div class="line"><span class="lineno"> 1482</span>        f0 = fa;</div>
<div class="line"><span class="lineno"> 1483</span>        f1 = fb;</div>
<div class="line"><span class="lineno"> 1484</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1485</span>        f0 = std::min(f0, fa);</div>
<div class="line"><span class="lineno"> 1486</span>        f1 = std::max(f1, fb);</div>
<div class="line"><span class="lineno"> 1487</span>      }</div>
<div class="line"><span class="lineno"> 1488</span>      <span class="keywordtype">double</span> v = curve-&gt;getValue(fa);</div>
<div class="line"><span class="lineno"> 1489</span>      <span class="keywordflow">if</span> (unit) v = unit-&gt;convertTo(v);</div>
<div class="line"><span class="lineno"> 1490</span>      <span class="keywordflow">if</span> (v0 &gt; v1) v0 = v1 = v;</div>
<div class="line"><span class="lineno"> 1491</span>      <span class="keywordtype">int</span> m = 50;</div>
<div class="line"><span class="lineno"> 1492</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; m; j++) {</div>
<div class="line"><span class="lineno"> 1493</span>        <span class="keywordtype">double</span> t = (double)j / (<span class="keywordtype">double</span>)(m - 1);</div>
<div class="line"><span class="lineno"> 1494</span>        <span class="keywordtype">double</span> v = curve-&gt;getValue((1 - t) * fa + t * fb);</div>
<div class="line"><span class="lineno"> 1495</span>        <span class="keywordflow">if</span> (unit) v = unit-&gt;convertTo(v);</div>
<div class="line"><span class="lineno"> 1496</span>        v0 = std::min(v0, v);</div>
<div class="line"><span class="lineno"> 1497</span>        v1 = std::max(v1, v);</div>
<div class="line"><span class="lineno"> 1498</span>      }</div>
<div class="line"><span class="lineno"> 1499</span>    }</div>
<div class="line"><span class="lineno"> 1500</span>  }</div>
<div class="line"><span class="lineno"> 1501</span>  <span class="keywordflow">if</span> (f0 &gt;= f1 || v0 &gt;= v1) {</div>
<div class="line"><span class="lineno"> 1502</span>    m_viewTransform = QTransform();</div>
<div class="line"><span class="lineno"> 1503</span>    m_viewTransform.translate(m_valueAxisX, 200);</div>
<div class="line"><span class="lineno"> 1504</span>    m_viewTransform.scale(5, -1);</div>
<div class="line"><span class="lineno"> 1505</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1506</span>    <span class="keywordtype">double</span> mx       = (width() - m_valueAxisX - 20) / (f1 - f0);</div>
<div class="line"><span class="lineno"> 1507</span>    <span class="keywordtype">double</span> my       = -(height() - m_graphViewportY - 20) / (v1 - v0);</div>
<div class="line"><span class="lineno"> 1508</span>    <span class="keywordtype">double</span> dx       = m_valueAxisX + 10 - f0 * mx;</div>
<div class="line"><span class="lineno"> 1509</span>    <span class="keywordtype">double</span> dy       = m_graphViewportY + 10 - v1 * my;</div>
<div class="line"><span class="lineno"> 1510</span>    m_viewTransform = QTransform(mx, 0, 0, my, dx, dy);</div>
<div class="line"><span class="lineno"> 1511</span>  }</div>
<div class="line"><span class="lineno"> 1512</span>  update();</div>
<div class="line"><span class="lineno"> 1513</span>}</div>
<div class="ttc" id="aclass_t_double_keyframe_html"><div class="ttname"><a href="class_t_double_keyframe.html">TDoubleKeyframe</a></div><div class="ttdef"><b>Definition:</b> tdoublekeyframe.h:23</div></div>
<div class="ttc" id="aclass_t_unit_html"><div class="ttname"><a href="class_t_unit.html">TUnit</a></div><div class="ttdef"><b>Definition:</b> tunit.h:52</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7cb7d3847517ba070905714962b6b158" name="a7cb7d3847517ba070905714962b6b158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cb7d3847517ba070905714962b6b158">&#9670;&nbsp;</a></span>fitRegion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::fitRegion </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>f0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>f1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1525</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab19d3decf9edbd7de01ea4842bbcfb2e" name="ab19d3decf9edbd7de01ea4842bbcfb2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab19d3decf9edbd7de01ea4842bbcfb2e">&#9670;&nbsp;</a></span>fitSelectedPoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::fitSelectedPoints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1517</span>{ fitGraphToWindow(<span class="keyword">true</span>); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2589a5f29b047ac081d7c3c0225fbba6" name="a2589a5f29b047ac081d7c3c0225fbba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2589a5f29b047ac081d7c3c0225fbba6">&#9670;&nbsp;</a></span>frameToX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double FunctionPanel::frameToX </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  301</span>                                             {</div>
<div class="line"><span class="lineno">  302</span>  <span class="keywordflow">return</span> m_viewTransform.m11() * f + m_viewTransform.dx();</div>
<div class="line"><span class="lineno">  303</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2bb88e80ad999f77bd27e90480d8258" name="ad2bb88e80ad999f77bd27e90480d8258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2bb88e80ad999f77bd27e90480d8258">&#9670;&nbsp;</a></span>getBGColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::getBGColor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  189</span>{ <span class="keywordflow">return</span> m_bgColor; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8586f0f87794977e2a860551eff14851" name="a8586f0f87794977e2a860551eff14851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8586f0f87794977e2a860551eff14851">&#9670;&nbsp;</a></span>getCurrentCurve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_double_param.html">TDoubleParam</a> * FunctionPanel::getCurrentCurve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  443</span>                                                   {</div>
<div class="line"><span class="lineno">  444</span>  <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *currentChannel =</div>
<div class="line"><span class="lineno">  445</span>      m_functionTreeModel ? m_functionTreeModel-&gt;getCurrentChannel() : 0;</div>
<div class="line"><span class="lineno">  446</span>  <span class="keywordflow">if</span> (!currentChannel)</div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  448</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordflow">return</span> currentChannel-&gt;getParam();</div>
<div class="line"><span class="lineno">  450</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9801d0812131347d20fda96d89465f88" name="a9801d0812131347d20fda96d89465f88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9801d0812131347d20fda96d89465f88">&#9670;&nbsp;</a></span>getCurveDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FunctionPanel::getCurveDistance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QPoint &amp;&#160;</td>
          <td class="paramname"><em>winPos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  378</span>                                                                             {</div>
<div class="line"><span class="lineno">  379</span>  <span class="keywordtype">double</span> frame  = xToFrame(winPos.x());</div>
<div class="line"><span class="lineno">  380</span>  <span class="keywordtype">double</span> value  = curve-&gt;getValue(frame);</div>
<div class="line"><span class="lineno">  381</span>  <span class="keywordtype">double</span> curveY = valueToY(curve, value);</div>
<div class="line"><span class="lineno">  382</span>  <span class="keywordflow">return</span> std::abs(curveY - winPos.y());</div>
<div class="line"><span class="lineno">  383</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aae199385658f82424211992e7cd33137" name="aae199385658f82424211992e7cd33137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae199385658f82424211992e7cd33137">&#9670;&nbsp;</a></span>getFrameHandle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_frame_handle.html">TFrameHandle</a> * FunctionPanel::getFrameHandle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  132</span>{ <span class="keywordflow">return</span> m_frameHandle; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a07c5f43da9dc293851cdcf95bd0b5bb6" name="a07c5f43da9dc293851cdcf95bd0b5bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07c5f43da9dc293851cdcf95bd0b5bb6">&#9670;&nbsp;</a></span>getFrameLineColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::getFrameLineColor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  193</span>{ <span class="keywordflow">return</span> m_frameLineColor; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fae9f0929922e42059ba6555062a326" name="a2fae9f0929922e42059ba6555062a326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fae9f0929922e42059ba6555062a326">&#9670;&nbsp;</a></span>getModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_function_tree_model.html">FunctionTreeModel</a> * FunctionPanel::getModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  124</span>{ <span class="keywordflow">return</span> m_functionTreeModel; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af89ba5fcf11282c76264512978939bf7" name="af89ba5fcf11282c76264512978939bf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89ba5fcf11282c76264512978939bf7">&#9670;&nbsp;</a></span>getOtherCurvesColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::getOtherCurvesColor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  195</span>{ <span class="keywordflow">return</span> m_otherCurvesColor; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="abe7fab4aacced4d71154566328f8cf86" name="abe7fab4aacced4d71154566328f8cf86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe7fab4aacced4d71154566328f8cf86">&#9670;&nbsp;</a></span>getPixelRatio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double FunctionPanel::getPixelRatio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td>
          <td class="paramname"><em>curve</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  291</span>                                                             {</div>
<div class="line"><span class="lineno">  292</span>  <span class="keywordtype">double</span> framePixelSize = xToFrame(1) - xToFrame(0);</div>
<div class="line"><span class="lineno">  293</span>  assert(framePixelSize &gt; 0);</div>
<div class="line"><span class="lineno">  294</span>  <span class="keywordtype">double</span> valuePixelSize = fabs(yToValue(curve, 1) - yToValue(curve, 0));</div>
<div class="line"><span class="lineno">  295</span>  assert(valuePixelSize &gt; 0);</div>
<div class="line"><span class="lineno">  296</span>  <span class="keywordflow">return</span> framePixelSize / valuePixelSize;</div>
<div class="line"><span class="lineno">  297</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af87c9874396d3382bd9d8c5934b086fc" name="af87c9874396d3382bd9d8c5934b086fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af87c9874396d3382bd9d8c5934b086fc">&#9670;&nbsp;</a></span>getRulerBackground()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::getRulerBackground </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  197</span>{ <span class="keywordflow">return</span> m_rulerBackground; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bfa8626ece517a3ca19531d8a70f9b4" name="a2bfa8626ece517a3ca19531d8a70f9b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bfa8626ece517a3ca19531d8a70f9b4">&#9670;&nbsp;</a></span>getSegmentPainterPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPainterPath FunctionPanel::getSegmentPainterPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>segmentIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  456</span>                                                          {</div>
<div class="line"><span class="lineno">  457</span>  <span class="keywordtype">double</span> frame0 = xToFrame(x0), frame1 = xToFrame(x1);</div>
<div class="line"><span class="lineno">  458</span>  <span class="keywordtype">int</span> kCount = curve-&gt;getKeyframeCount();</div>
<div class="line"><span class="lineno">  459</span>  <span class="keywordtype">int</span> step   = 1;</div>
<div class="line"><span class="lineno">  460</span>  <span class="keywordflow">if</span> (kCount &gt; 0) {</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">if</span> (segmentIndex &lt; 0)</div>
<div class="line"><span class="lineno">  462</span>      frame1 = std::min(</div>
<div class="line"><span class="lineno">  463</span>          frame1, curve-&gt;<a class="code hl_function" href="class_t_double_param.html#af08442b9fd968fddada028a6f07983d5">keyframeIndexToFrame</a>(0));  <span class="comment">// before first keyframe</span></div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (segmentIndex &gt;= kCount - 1)</div>
<div class="line"><span class="lineno">  465</span>      frame0 = std::max(frame0, curve-&gt;<a class="code hl_function" href="class_t_double_param.html#af08442b9fd968fddada028a6f07983d5">keyframeIndexToFrame</a>(</div>
<div class="line"><span class="lineno">  466</span>                                    kCount - 1));  <span class="comment">// after last keyframe</span></div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  468</span>      <span class="comment">// between keyframes</span></div>
<div class="line"><span class="lineno">  469</span>      <a class="code hl_class" href="class_t_double_keyframe.html">TDoubleKeyframe</a> kf = curve-&gt;getKeyframe(segmentIndex);</div>
<div class="line"><span class="lineno">  470</span>      frame0             = std::max(frame0, kf.m_frame);</div>
<div class="line"><span class="lineno">  471</span>      <span class="keywordtype">double</span> f           = curve-&gt;<a class="code hl_function" href="class_t_double_param.html#af08442b9fd968fddada028a6f07983d5">keyframeIndexToFrame</a>(segmentIndex + 1);</div>
<div class="line"><span class="lineno">  472</span>      frame1             = std::min(frame1, f);</div>
<div class="line"><span class="lineno">  473</span>      step               = kf.m_step;</div>
<div class="line"><span class="lineno">  474</span>    }</div>
<div class="line"><span class="lineno">  475</span>  }</div>
<div class="line"><span class="lineno">  476</span>  <span class="keywordflow">if</span> (frame0 &gt;= frame1) <span class="keywordflow">return</span> QPainterPath();</div>
<div class="line"><span class="lineno">  477</span>  <span class="keywordtype">double</span> frame;</div>
<div class="line"><span class="lineno">  478</span>  <span class="keywordtype">double</span> df = xToFrame(3) - xToFrame(0);</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>  <span class="keywordflow">if</span> (m_curveShape == SMOOTH) {</div>
<div class="line"><span class="lineno">  481</span>    frame = frame0;</div>
<div class="line"><span class="lineno">  482</span>  } <span class="keywordflow">else</span>  <span class="comment">// FRAME_BASED</span></div>
<div class="line"><span class="lineno">  483</span>  {</div>
<div class="line"><span class="lineno">  484</span>    frame = (double)tfloor(frame0);</div>
<div class="line"><span class="lineno">  485</span>    df    = std::max(df, 1.0);</div>
<div class="line"><span class="lineno">  486</span>  }</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>  QPainterPath path;</div>
<div class="line"><span class="lineno">  489</span>  <span class="keywordflow">if</span> (0 &lt;= segmentIndex &amp;&amp; segmentIndex &lt; kCount &amp;&amp; step &gt; 1) {</div>
<div class="line"><span class="lineno">  490</span>    <span class="comment">// step&gt;1</span></div>
<div class="line"><span class="lineno">  491</span>    path.moveTo(getWinPos(curve, frame));</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>    <span class="keywordtype">int</span> f0        = curve-&gt;<a class="code hl_function" href="class_t_double_param.html#af08442b9fd968fddada028a6f07983d5">keyframeIndexToFrame</a>(segmentIndex);</div>
<div class="line"><span class="lineno">  494</span>    <span class="keywordtype">int</span> vFrame    = f0 + tfloor(tfloor(frame - f0), step);</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordtype">double</span> vValue = curve-&gt;getValue(vFrame);</div>
<div class="line"><span class="lineno">  496</span>    assert(vFrame &lt;= frame);</div>
<div class="line"><span class="lineno">  497</span>    assert(vFrame + step &gt; frame);</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">while</span> (vFrame + step &lt; frame1) {</div>
<div class="line"><span class="lineno">  499</span>      vValue = curve-&gt;getValue(vFrame);</div>
<div class="line"><span class="lineno">  500</span>      path.lineTo(getWinPos(curve, vFrame, vValue));</div>
<div class="line"><span class="lineno">  501</span>      vFrame += step;</div>
<div class="line"><span class="lineno">  502</span>      path.lineTo(getWinPos(curve, vFrame, vValue));</div>
<div class="line"><span class="lineno">  503</span>      vValue = curve-&gt;getValue(vFrame);</div>
<div class="line"><span class="lineno">  504</span>      path.lineTo(getWinPos(curve, vFrame, vValue));</div>
<div class="line"><span class="lineno">  505</span>    }</div>
<div class="line"><span class="lineno">  506</span>    path.lineTo(getWinPos(curve, frame1, vValue));</div>
<div class="line"><span class="lineno">  507</span>    path.lineTo(getWinPos(curve, frame1, curve-&gt;getValue(frame1, <span class="keyword">true</span>)));</div>
<div class="line"><span class="lineno">  508</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  509</span>    <span class="comment">// step = 1</span></div>
<div class="line"><span class="lineno">  510</span>    path.moveTo(getWinPos(curve, frame));</div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordflow">while</span> (frame + df &lt; frame1) {</div>
<div class="line"><span class="lineno">  512</span>      frame += df;</div>
<div class="line"><span class="lineno">  513</span>      path.lineTo(getWinPos(curve, frame));</div>
<div class="line"><span class="lineno">  514</span>    }</div>
<div class="line"><span class="lineno">  515</span>    path.lineTo(getWinPos(curve, frame1, curve-&gt;getValue(frame1, <span class="keyword">true</span>)));</div>
<div class="line"><span class="lineno">  516</span>  }</div>
<div class="line"><span class="lineno">  517</span>  <span class="keywordflow">return</span> path;</div>
<div class="line"><span class="lineno">  518</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d0b3f6a0ba19313cfe24d9082d7422a" name="a8d0b3f6a0ba19313cfe24d9082d7422a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0b3f6a0ba19313cfe24d9082d7422a">&#9670;&nbsp;</a></span>getSelectedColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::getSelectedColor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  203</span>{ <span class="keywordflow">return</span> m_selectedColor; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a85ed7d49944a99065dcbb4513c675cfd" name="a85ed7d49944a99065dcbb4513c675cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85ed7d49944a99065dcbb4513c675cfd">&#9670;&nbsp;</a></span>getSelection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_function_selection.html">FunctionSelection</a> * FunctionPanel::getSelection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  126</span>{ <span class="keywordflow">return</span> m_selection; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a949210ae52abc2ffa82fdfc1ecc69897" name="a949210ae52abc2ffa82fdfc1ecc69897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a949210ae52abc2ffa82fdfc1ecc69897">&#9670;&nbsp;</a></span>getSubColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::getSubColor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  201</span>{ <span class="keywordflow">return</span> m_subColor; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="adb21af5eed395a63fe0a50f3032d301f" name="adb21af5eed395a63fe0a50f3032d301f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb21af5eed395a63fe0a50f3032d301f">&#9670;&nbsp;</a></span>getTextColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::getTextColor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  199</span>{ <span class="keywordflow">return</span> m_textColor; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="adba761c17df34ba69c26fe3ce6863809" name="adba761c17df34ba69c26fe3ce6863809"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba761c17df34ba69c26fe3ce6863809">&#9670;&nbsp;</a></span>getValueLineColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::getValueLineColor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  191</span>{ <span class="keywordflow">return</span> m_valueLineColor; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6d2a0566b1b9a273323852fdc315490" name="ab6d2a0566b1b9a273323852fdc315490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6d2a0566b1b9a273323852fdc315490">&#9670;&nbsp;</a></span>getViewTransform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QTransform FunctionPanel::getViewTransform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  134</span>{ <span class="keywordflow">return</span> m_viewTransform; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8343fd82d0fd27f820c355e947befb47" name="a8343fd82d0fd27f820c355e947befb47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8343fd82d0fd27f820c355e947befb47">&#9670;&nbsp;</a></span>getWinPos() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPointF FunctionPanel::getWinPos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_double_keyframe.html">TDoubleKeyframe</a> &amp;&#160;</td>
          <td class="paramname"><em>kf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  372</span>                                                                  {</div>
<div class="line"><span class="lineno">  373</span>  <span class="keywordflow">return</span> getWinPos(curve, kf.m_frame, kf.m_value);</div>
<div class="line"><span class="lineno">  374</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c4f0d67f32060d7173f9329d64f8e10" name="a2c4f0d67f32060d7173f9329d64f8e10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c4f0d67f32060d7173f9329d64f8e10">&#9670;&nbsp;</a></span>getWinPos() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QPointF FunctionPanel::getWinPos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_t_point_t.html">TPointD</a> &amp;&#160;</td>
          <td class="paramname"><em>frameValuePos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  160</span>                                                                             {</div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">return</span> getWinPos(curve, frameValuePos.x, frameValuePos.y);</div>
<div class="line"><span class="lineno">  162</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d5fca77b9782020f65066bf57a951d9" name="a6d5fca77b9782020f65066bf57a951d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d5fca77b9782020f65066bf57a951d9">&#9670;&nbsp;</a></span>getWinPos() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPointF FunctionPanel::getWinPos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  365</span>                                                                        {</div>
<div class="line"><span class="lineno">  366</span>  <span class="keywordflow">return</span> getWinPos(curve, frame, curve-&gt;getValue(frame));</div>
<div class="line"><span class="lineno">  367</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a69cd75b456cf307bb73ba14b81067364" name="a69cd75b456cf307bb73ba14b81067364"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69cd75b456cf307bb73ba14b81067364">&#9670;&nbsp;</a></span>getWinPos() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPointF FunctionPanel::getWinPos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  359</span>                                                     {</div>
<div class="line"><span class="lineno">  360</span>  <span class="keywordflow">return</span> QPointF(frameToX(frame), valueToY(curve, value));</div>
<div class="line"><span class="lineno">  361</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a45c2c0dac646c6b0a7c90e27593bec81" name="a45c2c0dac646c6b0a7c90e27593bec81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45c2c0dac646c6b0a7c90e27593bec81">&#9670;&nbsp;</a></span>hideEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::hideEvent </td>
          <td>(</td>
          <td class="paramtype">QHideEvent *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1746</span>                                          {</div>
<div class="line"><span class="lineno"> 1747</span>  <span class="keywordflow">if</span> (m_frameHandle) m_frameHandle-&gt;disconnect(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1748</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a43308d4ed20cbc0990e44bcdc2d05dc0" name="a43308d4ed20cbc0990e44bcdc2d05dc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43308d4ed20cbc0990e44bcdc2d05dc0">&#9670;&nbsp;</a></span>keyPressEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::keyPressEvent </td>
          <td>(</td>
          <td class="paramtype">QKeyEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1427</span>                                              {</div>
<div class="line"><span class="lineno"> 1428</span>  FunctionPanelZoomer(<span class="keyword">this</span>).exec(e);</div>
<div class="line"><span class="lineno"> 1429</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a8e00a88cbf31e102cb85cee758f846" name="a0a8e00a88cbf31e102cb85cee758f846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8e00a88cbf31e102cb85cee758f846">&#9670;&nbsp;</a></span>leaveEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::leaveEvent </td>
          <td>(</td>
          <td class="paramtype">QEvent *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1440</span>                                       {</div>
<div class="line"><span class="lineno"> 1441</span>  m_cursor.visible = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1442</span>  update();</div>
<div class="line"><span class="lineno"> 1443</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa885d8b9f213073a94517f124ae226b5" name="aa885d8b9f213073a94517f124ae226b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa885d8b9f213073a94517f124ae226b5">&#9670;&nbsp;</a></span>mouseMoveEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::mouseMoveEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1368</span>                                                 {</div>
<div class="line"><span class="lineno"> 1369</span>  <span class="keywordflow">if</span> (e-&gt;buttons()) {</div>
<div class="line"><span class="lineno"> 1370</span>    <span class="keywordflow">if</span> (m_dragTool) m_dragTool-&gt;drag(e);</div>
<div class="line"><span class="lineno"> 1371</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1372</span>    m_cursor.frame   = xToFrame(e-&gt;pos().x());</div>
<div class="line"><span class="lineno"> 1373</span>    m_cursor.value   = 0;</div>
<div class="line"><span class="lineno"> 1374</span>    m_cursor.visible = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>    <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *currentCurve = getCurrentCurve();</div>
<div class="line"><span class="lineno"> 1377</span>    <span class="keywordflow">if</span> (currentCurve) {</div>
<div class="line"><span class="lineno"> 1378</span>      Handle handle = None;</div>
<div class="line"><span class="lineno"> 1379</span>      <span class="keywordtype">int</span> gIndex    = findClosestGadget(e-&gt;pos(), handle, 20);</div>
<div class="line"><span class="lineno"> 1380</span>      <span class="keywordflow">if</span> (m_highlighted.handle != handle || m_highlighted.gIndex != gIndex) {</div>
<div class="line"><span class="lineno"> 1381</span>        m_highlighted.handle = handle;</div>
<div class="line"><span class="lineno"> 1382</span>        m_highlighted.gIndex = gIndex;</div>
<div class="line"><span class="lineno"> 1383</span>      }</div>
<div class="line"><span class="lineno"> 1384</span>      m_cursor.value = yToValue(currentCurve, e-&gt;pos().y());</div>
<div class="line"><span class="lineno"> 1385</span>    }</div>
<div class="line"><span class="lineno"> 1386</span> </div>
<div class="line"><span class="lineno"> 1387</span>    <span class="keywordtype">double</span> currentFrame = m_frameHandle ? m_frameHandle-&gt;getFrame() : 0;</div>
<div class="line"><span class="lineno"> 1388</span>    <span class="keywordflow">if</span> (m_highlighted.handle == None &amp;&amp;</div>
<div class="line"><span class="lineno"> 1389</span>        std::abs(e-&gt;pos().x() - frameToX(currentFrame)) &lt; 5)</div>
<div class="line"><span class="lineno"> 1390</span>      m_currentFrameStatus = 1;</div>
<div class="line"><span class="lineno"> 1391</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1392</span>      m_currentFrameStatus = 0;</div>
<div class="line"><span class="lineno"> 1393</span> </div>
<div class="line"><span class="lineno"> 1394</span>    <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *closestChannel =</div>
<div class="line"><span class="lineno"> 1395</span>        findClosestChannel(e-&gt;pos(), 20);</div>
<div class="line"><span class="lineno"> 1396</span>    <span class="keywordflow">if</span> (closestChannel &amp;&amp; m_highlighted.handle == None) {</div>
<div class="line"><span class="lineno"> 1397</span>      <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *curve = closestChannel-&gt;getParam();</div>
<div class="line"><span class="lineno"> 1398</span>      <span class="keywordflow">if</span> (m_functionTreeModel-&gt;getActiveChannelCount() &lt;= 1)</div>
<div class="line"><span class="lineno"> 1399</span>        <span class="comment">//|| closestChannel == m_functionTreeModel-&gt;getCurrentChannel())</span></div>
<div class="line"><span class="lineno"> 1400</span>        curve = 0;</div>
<div class="line"><span class="lineno"> 1401</span>      <span class="keywordflow">if</span> (curve &amp;&amp; m_curveLabel.curve != curve) {</div>
<div class="line"><span class="lineno"> 1402</span>        m_curveLabel.curve  = curve;</div>
<div class="line"><span class="lineno"> 1403</span>        QString channelName = closestChannel-&gt;<a class="code hl_function" href="class_function_tree_model_1_1_channel.html#a09c9f57880df13c574b6603dd1dbe017">data</a>(Qt::DisplayRole).toString();</div>
<div class="line"><span class="lineno"> 1404</span>        QString parentChannelName =</div>
<div class="line"><span class="lineno"> 1405</span>            closestChannel-&gt;getChannelGroup()-&gt;<a class="code hl_function" href="class_function_tree_model_1_1_channel_group.html#ae5d48fd47eb5c260335233e92d8e86a2">data</a>(Qt::DisplayRole).toString();</div>
<div class="line"><span class="lineno"> 1406</span>        QString name      = parentChannelName + QString(<span class="stringliteral">&quot;, &quot;</span>) + channelName;</div>
<div class="line"><span class="lineno"> 1407</span>        m_curveLabel.text = name.toStdString();</div>
<div class="line"><span class="lineno"> 1408</span> </div>
<div class="line"><span class="lineno"> 1409</span>        <span class="comment">// in order to avoid run off the right-end of visible area</span></div>
<div class="line"><span class="lineno"> 1410</span>        <span class="keywordtype">int</span> textWidth = fontMetrics().width(name) + 30;</div>
<div class="line"><span class="lineno"> 1411</span>        <span class="keywordtype">double</span> frame  = xToFrame(width() - textWidth);</div>
<div class="line"><span class="lineno"> 1412</span> </div>
<div class="line"><span class="lineno"> 1413</span>        m_curveLabel.curvePos = getWinPos(curve, frame).toPoint();</div>
<div class="line"><span class="lineno"> 1414</span>        m_curveLabel.labelPos = m_curveLabel.curvePos + QPoint(20, -10);</div>
<div class="line"><span class="lineno"> 1415</span>      }</div>
<div class="line"><span class="lineno"> 1416</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1417</span>      m_curveLabel.text  = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno"> 1418</span>      m_curveLabel.curve = 0;</div>
<div class="line"><span class="lineno"> 1419</span>    }</div>
<div class="line"><span class="lineno"> 1420</span> </div>
<div class="line"><span class="lineno"> 1421</span>    update();</div>
<div class="line"><span class="lineno"> 1422</span>  }</div>
<div class="line"><span class="lineno"> 1423</span>}</div>
<div class="ttc" id="aclass_function_tree_model_1_1_channel_group_html_ae5d48fd47eb5c260335233e92d8e86a2"><div class="ttname"><a href="class_function_tree_model_1_1_channel_group.html#ae5d48fd47eb5c260335233e92d8e86a2">FunctionTreeModel::ChannelGroup::data</a></div><div class="ttdeci">QVariant data(int role) const override</div><div class="ttdef"><b>Definition:</b> functiontreeviewer.cpp:145</div></div>
<div class="ttc" id="aclass_function_tree_model_1_1_channel_html_a09c9f57880df13c574b6603dd1dbe017"><div class="ttname"><a href="class_function_tree_model_1_1_channel.html#a09c9f57880df13c574b6603dd1dbe017">FunctionTreeModel::Channel::data</a></div><div class="ttdeci">QVariant data(int role) const override</div><div class="ttdef"><b>Definition:</b> functiontreeviewer.cpp:595</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84f4e6f7f78414edab4de2741e55aee8" name="a84f4e6f7f78414edab4de2741e55aee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f4e6f7f78414edab4de2741e55aee8">&#9670;&nbsp;</a></span>mousePressEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::mousePressEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1181</span>                                                  {</div>
<div class="line"><span class="lineno"> 1182</span>  m_cursor.visible = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1183</span> </div>
<div class="line"><span class="lineno"> 1184</span>  <span class="comment">// m_dragTool can be non-zero when both the left and the mid buttons are</span></div>
<div class="line"><span class="lineno"> 1185</span>  <span class="comment">// pressed</span></div>
<div class="line"><span class="lineno"> 1186</span>  <span class="keywordflow">if</span> (m_dragTool) {</div>
<div class="line"><span class="lineno"> 1187</span>    m_dragTool-&gt;release(e);</div>
<div class="line"><span class="lineno"> 1188</span>    <span class="keyword">delete</span> m_dragTool;</div>
<div class="line"><span class="lineno"> 1189</span>    m_dragTool = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1190</span>  }</div>
<div class="line"><span class="lineno"> 1191</span> </div>
<div class="line"><span class="lineno"> 1192</span>  <span class="keywordflow">if</span> (e-&gt;button() == Qt::MidButton) {</div>
<div class="line"><span class="lineno"> 1193</span>    <span class="comment">// mid mouse click =&gt; panning</span></div>
<div class="line"><span class="lineno"> 1194</span>    <span class="keywordtype">bool</span> xLocked = e-&gt;pos().x() &lt;= m_valueAxisX;</div>
<div class="line"><span class="lineno"> 1195</span>    <span class="keywordtype">bool</span> yLocked = e-&gt;pos().y() &lt;= m_valueAxisX;</div>
<div class="line"><span class="lineno"> 1196</span>    m_dragTool   = <span class="keyword">new</span> <a class="code hl_class" href="class_pan_drag_tool.html">PanDragTool</a>(<span class="keyword">this</span>, xLocked, yLocked);</div>
<div class="line"><span class="lineno"> 1197</span>    m_dragTool-&gt;click(e);</div>
<div class="line"><span class="lineno"> 1198</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1199</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;button() == Qt::RightButton) {</div>
<div class="line"><span class="lineno"> 1200</span>    <span class="comment">// right mouse click =&gt; open context menu</span></div>
<div class="line"><span class="lineno"> 1201</span>    openContextMenu(e);</div>
<div class="line"><span class="lineno"> 1202</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1203</span>  }</div>
<div class="line"><span class="lineno"> 1204</span> </div>
<div class="line"><span class="lineno"> 1205</span>  QPoint winPos         = e-&gt;pos();</div>
<div class="line"><span class="lineno"> 1206</span>  Handle handle         = None;</div>
<div class="line"><span class="lineno"> 1207</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> maxDistance = 20;</div>
<div class="line"><span class="lineno"> 1208</span>  <span class="keywordtype">int</span> closestGadgetId   = findClosestGadget(e-&gt;pos(), handle, maxDistance);</div>
<div class="line"><span class="lineno"> 1209</span> </div>
<div class="line"><span class="lineno"> 1210</span>  <span class="keywordflow">if</span> (e-&gt;pos().x() &gt; m_valueAxisX &amp;&amp; e-&gt;pos().y() &lt; m_frameAxisY &amp;&amp;</div>
<div class="line"><span class="lineno"> 1211</span>      closestGadgetId &lt; 0 &amp;&amp; (e-&gt;modifiers() &amp; Qt::ControlModifier) == 0) {</div>
<div class="line"><span class="lineno"> 1212</span>    <span class="comment">// click on topbar =&gt; frame zoom</span></div>
<div class="line"><span class="lineno"> 1213</span>    m_dragTool = <span class="keyword">new</span> <a class="code hl_class" href="class_zoom_drag_tool.html">ZoomDragTool</a>(<span class="keyword">this</span>, ZoomDragTool::FrameZoom);</div>
<div class="line"><span class="lineno"> 1214</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;pos().x() &lt; m_valueAxisX &amp;&amp; e-&gt;pos().y() &gt; m_graphViewportY) {</div>
<div class="line"><span class="lineno"> 1215</span>    <span class="comment">// click on topbar =&gt; value zoom</span></div>
<div class="line"><span class="lineno"> 1216</span>    m_dragTool = <span class="keyword">new</span> <a class="code hl_class" href="class_zoom_drag_tool.html">ZoomDragTool</a>(<span class="keyword">this</span>, ZoomDragTool::ValueZoom);</div>
<div class="line"><span class="lineno"> 1217</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_currentFrameStatus == 1 &amp;&amp; m_frameHandle != 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1218</span>             closestGadgetId &lt; 0) {</div>
<div class="line"><span class="lineno"> 1219</span>    <span class="comment">// click on current frame =&gt; move frame</span></div>
<div class="line"><span class="lineno"> 1220</span>    m_currentFrameStatus = 2;</div>
<div class="line"><span class="lineno"> 1221</span>    m_dragTool           = <span class="keyword">new</span> <a class="code hl_class" href="class_move_frame_drag_tool.html">MoveFrameDragTool</a>(<span class="keyword">this</span>, m_frameHandle);</div>
<div class="line"><span class="lineno"> 1222</span>  }</div>
<div class="line"><span class="lineno"> 1223</span> </div>
<div class="line"><span class="lineno"> 1224</span>  <span class="keywordflow">if</span> (0 &lt;= closestGadgetId &amp;&amp; closestGadgetId &lt; (<span class="keywordtype">int</span>)m_gadgets.size()) {</div>
<div class="line"><span class="lineno"> 1225</span>    <span class="keywordflow">if</span> (handle == 100)  <span class="comment">// group move gadget</span></div>
<div class="line"><span class="lineno"> 1226</span>    {</div>
<div class="line"><span class="lineno"> 1227</span>      <a class="code hl_class" href="class_move_point_drag_tool.html">MovePointDragTool</a> *dragTool = <span class="keyword">new</span> <a class="code hl_class" href="class_move_point_drag_tool.html">MovePointDragTool</a>(<span class="keyword">this</span>, 0);</div>
<div class="line"><span class="lineno"> 1228</span>      dragTool-&gt;selectKeyframes(m_gadgets[closestGadgetId].m_keyframePosition);</div>
<div class="line"><span class="lineno"> 1229</span>      m_dragTool = dragTool;</div>
<div class="line"><span class="lineno"> 1230</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handle == 101 || handle == 102) {</div>
<div class="line"><span class="lineno"> 1231</span>      m_dragTool = <span class="keyword">new</span> <a class="code hl_class" href="class_move_group_handle_drag_tool.html">MoveGroupHandleDragTool</a>(</div>
<div class="line"><span class="lineno"> 1232</span>          <span class="keyword">this</span>, m_gadgets[closestGadgetId].m_keyframePosition, handle);</div>
<div class="line"><span class="lineno"> 1233</span>    }</div>
<div class="line"><span class="lineno"> 1234</span>  }</div>
<div class="line"><span class="lineno"> 1235</span> </div>
<div class="line"><span class="lineno"> 1236</span>  <span class="keywordflow">if</span> (m_dragTool) {</div>
<div class="line"><span class="lineno"> 1237</span>    m_dragTool-&gt;click(e);</div>
<div class="line"><span class="lineno"> 1238</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1239</span>  }</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>  <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *currentChannel =</div>
<div class="line"><span class="lineno"> 1242</span>      m_functionTreeModel ? m_functionTreeModel-&gt;getCurrentChannel() : 0;</div>
<div class="line"><span class="lineno"> 1243</span>  <span class="keywordflow">if</span> (!currentChannel ||</div>
<div class="line"><span class="lineno"> 1244</span>      (getCurveDistance(currentChannel-&gt;getParam(), winPos) &gt; maxDistance &amp;&amp;</div>
<div class="line"><span class="lineno"> 1245</span>       closestGadgetId &lt; 0)) {</div>
<div class="line"><span class="lineno"> 1246</span>    <span class="comment">// if current channel is undefined or its curve is too far from the clicked</span></div>
<div class="line"><span class="lineno"> 1247</span>    <span class="comment">// point</span></div>
<div class="line"><span class="lineno"> 1248</span>    <span class="comment">// the user is possibly trying to select a different curve</span></div>
<div class="line"><span class="lineno"> 1249</span>    <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *channel =</div>
<div class="line"><span class="lineno"> 1250</span>        findClosestChannel(winPos, maxDistance);</div>
<div class="line"><span class="lineno"> 1251</span>    <span class="keywordflow">if</span> (channel) {</div>
<div class="line"><span class="lineno"> 1252</span>      channel-&gt;setIsCurrent(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1253</span>      <span class="comment">// Open folder</span></div>
<div class="line"><span class="lineno"> 1254</span>      <a class="code hl_class" href="class_function_tree_model_1_1_channel_group.html">FunctionTreeModel::ChannelGroup</a> *channelGroup =</div>
<div class="line"><span class="lineno"> 1255</span>          channel-&gt;getChannelGroup();</div>
<div class="line"><span class="lineno"> 1256</span>      <span class="keywordflow">if</span> (!channelGroup-&gt;isOpen())</div>
<div class="line"><span class="lineno"> 1257</span>        channelGroup-&gt;getModel()-&gt;setExpandedItem(channelGroup-&gt;createIndex(),</div>
<div class="line"><span class="lineno"> 1258</span>                                                  <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1259</span>      currentChannel = channel;</div>
<div class="line"><span class="lineno"> 1260</span>      getSelection()-&gt;selectNone();</div>
<div class="line"><span class="lineno"> 1261</span>    }</div>
<div class="line"><span class="lineno"> 1262</span>  }</div>
<div class="line"><span class="lineno"> 1263</span> </div>
<div class="line"><span class="lineno"> 1264</span>  <span class="keywordflow">if</span> (currentChannel) {</div>
<div class="line"><span class="lineno"> 1265</span>    <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *currentCurve = currentChannel-&gt;getParam();</div>
<div class="line"><span class="lineno"> 1266</span>    <span class="keywordflow">if</span> (currentCurve) {</div>
<div class="line"><span class="lineno"> 1267</span>      <span class="keywordtype">int</span> kIndex =</div>
<div class="line"><span class="lineno"> 1268</span>          closestGadgetId &gt;= 0 ? m_gadgets[closestGadgetId].m_kIndex : -1;</div>
<div class="line"><span class="lineno"> 1269</span>      <span class="keywordflow">if</span> (kIndex &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1270</span>        <span class="comment">// keyframe clicked</span></div>
<div class="line"><span class="lineno"> 1271</span>        <span class="keywordflow">if</span> (handle == FunctionPanel::Point) {</div>
<div class="line"><span class="lineno"> 1272</span>          <span class="comment">// select point (if needed)</span></div>
<div class="line"><span class="lineno"> 1273</span>          <span class="keywordflow">if</span> (!getSelection()-&gt;isSelected(currentCurve, kIndex)) {</div>
<div class="line"><span class="lineno"> 1274</span>            <span class="comment">// shift-click =&gt; add to selection</span></div>
<div class="line"><span class="lineno"> 1275</span>            <span class="keywordflow">if</span> (0 == (e-&gt;modifiers() &amp; Qt::ShiftModifier))</div>
<div class="line"><span class="lineno"> 1276</span>              getSelection()-&gt;deselectAllKeyframes();</div>
<div class="line"><span class="lineno"> 1277</span>            getSelection()-&gt;select(currentCurve, kIndex);</div>
<div class="line"><span class="lineno"> 1278</span>          }</div>
<div class="line"><span class="lineno"> 1279</span>          <span class="comment">// move selected point(s)</span></div>
<div class="line"><span class="lineno"> 1280</span>          <a class="code hl_class" href="class_move_point_drag_tool.html">MovePointDragTool</a> *dragTool =</div>
<div class="line"><span class="lineno"> 1281</span>              <span class="keyword">new</span> <a class="code hl_class" href="class_move_point_drag_tool.html">MovePointDragTool</a>(<span class="keyword">this</span>, currentCurve);</div>
<div class="line"><span class="lineno"> 1282</span>          <span class="keywordflow">if</span> (getSelection()-&gt;getSelectedSegment().first != 0) {</div>
<div class="line"><span class="lineno"> 1283</span>            <span class="comment">// if a segment is selected then move only the clicked point</span></div>
<div class="line"><span class="lineno"> 1284</span>            dragTool-&gt;addKeyframe2(kIndex);</div>
<div class="line"><span class="lineno"> 1285</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1286</span>            dragTool-&gt;setSelection(getSelection());</div>
<div class="line"><span class="lineno"> 1287</span>          }</div>
<div class="line"><span class="lineno"> 1288</span>          m_dragTool = dragTool;</div>
<div class="line"><span class="lineno"> 1289</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1290</span>          m_dragTool =</div>
<div class="line"><span class="lineno"> 1291</span>              <span class="keyword">new</span> <a class="code hl_class" href="class_move_handle_drag_tool.html">MoveHandleDragTool</a>(<span class="keyword">this</span>, currentCurve, kIndex, handle);</div>
<div class="line"><span class="lineno"> 1292</span>        }</div>
<div class="line"><span class="lineno"> 1293</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1294</span>        <span class="comment">// no keyframe clicked</span></div>
<div class="line"><span class="lineno"> 1295</span>        <span class="keywordtype">int</span> curveDistance =</div>
<div class="line"><span class="lineno"> 1296</span>            getCurveDistance(currentChannel-&gt;getParam(), winPos);</div>
<div class="line"><span class="lineno"> 1297</span>        <span class="keywordtype">bool</span> isKeyframeable = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1298</span>        <span class="keywordtype">bool</span> isGroup        = abs(winPos.y() - (m_graphViewportY - 5)) &lt; 5;</div>
<div class="line"><span class="lineno"> 1299</span>        <span class="keywordflow">if</span> (0 != (e-&gt;modifiers() &amp; Qt::ControlModifier) &amp;&amp;</div>
<div class="line"><span class="lineno"> 1300</span>            (curveDistance &lt; maxDistance || isGroup) &amp;&amp; isKeyframeable) {</div>
<div class="line"><span class="lineno"> 1301</span>          <span class="comment">// ctrl-clicked near curve =&gt; create a new keyframe</span></div>
<div class="line"><span class="lineno"> 1302</span>          <span class="keywordtype">double</span> frame = tround(xToFrame(winPos.x()));</div>
<div class="line"><span class="lineno"> 1303</span>          <a class="code hl_class" href="class_move_point_drag_tool.html">MovePointDragTool</a> *dragTool =</div>
<div class="line"><span class="lineno"> 1304</span>              <span class="keyword">new</span> <a class="code hl_class" href="class_move_point_drag_tool.html">MovePointDragTool</a>(<span class="keyword">this</span>, isGroup ? 0 : currentCurve);</div>
<div class="line"><span class="lineno"> 1305</span>          <span class="comment">//          if(curveDistance&gt;=maxDistance)</span></div>
<div class="line"><span class="lineno"> 1306</span>          <span class="comment">//            dragTool-&gt;m_channelGroup =</span></div>
<div class="line"><span class="lineno"> 1307</span>          <span class="comment">//            currentChannel-&gt;getChannelGroup();</span></div>
<div class="line"><span class="lineno"> 1308</span>          dragTool-&gt;createKeyframe(frame);</div>
<div class="line"><span class="lineno"> 1309</span>          dragTool-&gt;selectKeyframes(frame);</div>
<div class="line"><span class="lineno"> 1310</span>          m_dragTool = dragTool;</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>          <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1313</span><span class="comment">int kIndex = dragTool-&gt;createKeyframe(frame);</span></div>
<div class="line"><span class="lineno"> 1314</span><span class="comment">          if(kIndex!=-1)</span></div>
<div class="line"><span class="lineno"> 1315</span><span class="comment">          {</span></div>
<div class="line"><span class="lineno"> 1316</span><span class="comment">                  getSelection()-&gt;deselectAllKeyframes();</span></div>
<div class="line"><span class="lineno"> 1317</span><span class="comment">                  getSelection()-&gt;select(currentCurve, kIndex);</span></div>
<div class="line"><span class="lineno"> 1318</span><span class="comment">                  m_dragTool = dragTool;</span></div>
<div class="line"><span class="lineno"> 1319</span><span class="comment">          }</span></div>
<div class="line"><span class="lineno"> 1320</span><span class="comment">*/</span></div>
<div class="line"><span class="lineno"> 1321</span>          <span class="comment">// assert(0);</span></div>
<div class="line"><span class="lineno"> 1322</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (curveDistance &lt; maxDistance) {</div>
<div class="line"><span class="lineno"> 1323</span>          <span class="comment">// clicked near curve (but far from keyframes)</span></div>
<div class="line"><span class="lineno"> 1324</span>          getSelection()-&gt;deselectAllKeyframes();</div>
<div class="line"><span class="lineno"> 1325</span>          <span class="keywordtype">double</span> frame = xToFrame(winPos.x());</div>
<div class="line"><span class="lineno"> 1326</span>          <span class="keywordtype">int</span> k0       = currentCurve-&gt;<a class="code hl_function" href="class_t_double_param.html#a765abd97386a7e4e3a413255ba494e19">getPrevKeyframe</a>(frame);</div>
<div class="line"><span class="lineno"> 1327</span>          <span class="keywordtype">int</span> k1       = currentCurve-&gt;<a class="code hl_function" href="class_t_double_param.html#a28b99ec860d56fd1b47f89f08ca0a3ca">getNextKeyframe</a>(frame);</div>
<div class="line"><span class="lineno"> 1328</span>          <span class="keywordflow">if</span> (k0 &gt;= 0 &amp;&amp; k1 == k0 + 1) {</div>
<div class="line"><span class="lineno"> 1329</span>            <span class="comment">// select and move the segment</span></div>
<div class="line"><span class="lineno"> 1330</span>            getSelection()-&gt;selectSegment(currentCurve, k0);</div>
<div class="line"><span class="lineno"> 1331</span>            <a class="code hl_class" href="class_move_point_drag_tool.html">MovePointDragTool</a> *dragTool =</div>
<div class="line"><span class="lineno"> 1332</span>                <span class="keyword">new</span> <a class="code hl_class" href="class_move_point_drag_tool.html">MovePointDragTool</a>(<span class="keyword">this</span>, currentCurve);</div>
<div class="line"><span class="lineno"> 1333</span>            dragTool-&gt;addKeyframe2(k0);</div>
<div class="line"><span class="lineno"> 1334</span>            dragTool-&gt;addKeyframe2(k1);</div>
<div class="line"><span class="lineno"> 1335</span>            m_dragTool = dragTool;</div>
<div class="line"><span class="lineno"> 1336</span>          } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1337</span>            <span class="comment">// start a rectangular selection</span></div>
<div class="line"><span class="lineno"> 1338</span>            m_dragTool = <span class="keyword">new</span> <a class="code hl_class" href="class_rect_select_tool.html">RectSelectTool</a>(<span class="keyword">this</span>, currentCurve);</div>
<div class="line"><span class="lineno"> 1339</span>          }</div>
<div class="line"><span class="lineno"> 1340</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1341</span>          <span class="comment">// nothing clicked: start a rectangular selection</span></div>
<div class="line"><span class="lineno"> 1342</span>          getSelection()-&gt;deselectAllKeyframes();</div>
<div class="line"><span class="lineno"> 1343</span>          m_dragTool = <span class="keyword">new</span> <a class="code hl_class" href="class_rect_select_tool.html">RectSelectTool</a>(<span class="keyword">this</span>, currentCurve);</div>
<div class="line"><span class="lineno"> 1344</span>        }</div>
<div class="line"><span class="lineno"> 1345</span>      }</div>
<div class="line"><span class="lineno"> 1346</span>    }</div>
<div class="line"><span class="lineno"> 1347</span>  }</div>
<div class="line"><span class="lineno"> 1348</span> </div>
<div class="line"><span class="lineno"> 1349</span>  <span class="keywordflow">if</span> (m_dragTool) m_dragTool-&gt;click(e);</div>
<div class="line"><span class="lineno"> 1350</span>  update();</div>
<div class="line"><span class="lineno"> 1351</span>}</div>
<div class="ttc" id="aclass_function_tree_model_1_1_channel_group_html"><div class="ttname"><a href="class_function_tree_model_1_1_channel_group.html">FunctionTreeModel::ChannelGroup</a></div><div class="ttdoc">The model item representing a channels group.</div><div class="ttdef"><b>Definition:</b> functiontreeviewer.h:95</div></div>
<div class="ttc" id="aclass_move_frame_drag_tool_html"><div class="ttname"><a href="class_move_frame_drag_tool.html">MoveFrameDragTool</a></div><div class="ttdef"><b>Definition:</b> functionpaneltools.h:25</div></div>
<div class="ttc" id="aclass_move_group_handle_drag_tool_html"><div class="ttname"><a href="class_move_group_handle_drag_tool.html">MoveGroupHandleDragTool</a></div><div class="ttdef"><b>Definition:</b> functionpaneltools.h:134</div></div>
<div class="ttc" id="aclass_move_handle_drag_tool_html"><div class="ttname"><a href="class_move_handle_drag_tool.html">MoveHandleDragTool</a></div><div class="ttdef"><b>Definition:</b> functionpaneltools.h:107</div></div>
<div class="ttc" id="aclass_move_point_drag_tool_html"><div class="ttname"><a href="class_move_point_drag_tool.html">MovePointDragTool</a></div><div class="ttdef"><b>Definition:</b> functionpaneltools.h:77</div></div>
<div class="ttc" id="aclass_pan_drag_tool_html"><div class="ttname"><a href="class_pan_drag_tool.html">PanDragTool</a></div><div class="ttdef"><b>Definition:</b> functionpaneltools.h:34</div></div>
<div class="ttc" id="aclass_rect_select_tool_html"><div class="ttname"><a href="class_rect_select_tool.html">RectSelectTool</a></div><div class="ttdef"><b>Definition:</b> functionpaneltools.h:60</div></div>
<div class="ttc" id="aclass_t_double_param_html_a28b99ec860d56fd1b47f89f08ca0a3ca"><div class="ttname"><a href="class_t_double_param.html#a28b99ec860d56fd1b47f89f08ca0a3ca">TDoubleParam::getNextKeyframe</a></div><div class="ttdeci">int getNextKeyframe(double frame) const override</div><div class="ttdef"><b>Definition:</b> tdoubleparam.cpp:972</div></div>
<div class="ttc" id="aclass_t_double_param_html_a765abd97386a7e4e3a413255ba494e19"><div class="ttname"><a href="class_t_double_param.html#a765abd97386a7e4e3a413255ba494e19">TDoubleParam::getPrevKeyframe</a></div><div class="ttdeci">int getPrevKeyframe(double frame) const override</div><div class="ttdef"><b>Definition:</b> tdoubleparam.cpp:988</div></div>
<div class="ttc" id="aclass_zoom_drag_tool_html"><div class="ttname"><a href="class_zoom_drag_tool.html">ZoomDragTool</a></div><div class="ttdef"><b>Definition:</b> functionpaneltools.h:45</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0e3d67793c8344048b5af789a2ebf81" name="ad0e3d67793c8344048b5af789a2ebf81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0e3d67793c8344048b5af789a2ebf81">&#9670;&nbsp;</a></span>mouseReleaseEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::mouseReleaseEvent </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1355</span>                                                    {</div>
<div class="line"><span class="lineno"> 1356</span>  <span class="keywordflow">if</span> (m_dragTool) {</div>
<div class="line"><span class="lineno"> 1357</span>    m_dragTool-&gt;release(e);</div>
<div class="line"><span class="lineno"> 1358</span>    <span class="keyword">delete</span> m_dragTool;</div>
<div class="line"><span class="lineno"> 1359</span>    m_dragTool = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1360</span>  }</div>
<div class="line"><span class="lineno"> 1361</span>  m_cursor.visible     = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1362</span>  m_currentFrameStatus = 0;</div>
<div class="line"><span class="lineno"> 1363</span>  update();</div>
<div class="line"><span class="lineno"> 1364</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a78aa98ff731bcc7616e38fbbe1a1fa02" name="a78aa98ff731bcc7616e38fbbe1a1fa02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78aa98ff731bcc7616e38fbbe1a1fa02">&#9670;&nbsp;</a></span>onFrameSwitched</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::onFrameSwitched </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1752</span>{ update(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7a4a409cd36b50d7fa4d1cdae4420bd" name="ad7a4a409cd36b50d7fa4d1cdae4420bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a4a409cd36b50d7fa4d1cdae4420bd">&#9670;&nbsp;</a></span>openContextMenu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::openContextMenu </td>
          <td>(</td>
          <td class="paramtype">QMouseEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1538</span>                                                  {</div>
<div class="line"><span class="lineno"> 1539</span>  QAction linkHandlesAction(tr(<span class="stringliteral">&quot;Link Handles&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1540</span>  QAction unlinkHandlesAction(tr(<span class="stringliteral">&quot;Unlink Handles&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1541</span>  QAction resetHandlesAction(tr(<span class="stringliteral">&quot;Reset Handles&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1542</span>  QAction deleteKeyframeAction(tr(<span class="stringliteral">&quot;Delete&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1543</span>  QAction insertKeyframeAction(tr(<span class="stringliteral">&quot;Set Key&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1544</span>  QAction activateCycleAction(tr(<span class="stringliteral">&quot;Activate Cycle&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1545</span>  QAction deactivateCycleAction(tr(<span class="stringliteral">&quot;Deactivate Cycle&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1546</span>  QAction setLinearAction(tr(<span class="stringliteral">&quot;Linear Interpolation&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1547</span>  QAction setSpeedInOutAction(tr(<span class="stringliteral">&quot;Speed In / Speed Out Interpolation&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1548</span>  QAction setEaseInOutAction(tr(<span class="stringliteral">&quot;Ease In / Ease Out Interpolation&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1549</span>  QAction setEaseInOut2Action(tr(<span class="stringliteral">&quot;Ease In / Ease Out (%) Interpolation&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1550</span>  QAction setExponentialAction(tr(<span class="stringliteral">&quot;Exponential Interpolation&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1551</span>  QAction setExpressionAction(tr(<span class="stringliteral">&quot;Expression Interpolation&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1552</span>  QAction setFileAction(tr(<span class="stringliteral">&quot;File Interpolation&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1553</span>  QAction setConstantAction(tr(<span class="stringliteral">&quot;Constant Interpolation&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1554</span>  QAction setSimilarShapeAction(tr(<span class="stringliteral">&quot;Similar Shape Interpolation&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1555</span>  QAction fitSelectedAction(tr(<span class="stringliteral">&quot;Fit Selection&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1556</span>  QAction fitAllAction(tr(<span class="stringliteral">&quot;Fit&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1557</span>  QAction setStep1Action(tr(<span class="stringliteral">&quot;Step 1&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1558</span>  QAction setStep2Action(tr(<span class="stringliteral">&quot;Step 2&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1559</span>  QAction setStep3Action(tr(<span class="stringliteral">&quot;Step 3&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1560</span>  QAction setStep4Action(tr(<span class="stringliteral">&quot;Step 4&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1561</span> </div>
<div class="line"><span class="lineno"> 1562</span>  <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *curve = getCurrentCurve();</div>
<div class="line"><span class="lineno"> 1563</span>  <span class="keywordtype">int</span> segmentIndex    = -1;</div>
<div class="line"><span class="lineno"> 1564</span>  <span class="keywordflow">if</span> (!curve) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1565</span>  <a class="code hl_class" href="class_t_double_keyframe.html">TDoubleKeyframe</a> kf;</div>
<div class="line"><span class="lineno"> 1566</span>  <span class="keywordtype">double</span> frame = xToFrame(e-&gt;pos().x());</div>
<div class="line"><span class="lineno"> 1567</span> </div>
<div class="line"><span class="lineno"> 1568</span>  <span class="comment">// build menu</span></div>
<div class="line"><span class="lineno"> 1569</span>  QMenu menu(0);</div>
<div class="line"><span class="lineno"> 1570</span>  <span class="keywordflow">if</span> (m_highlighted.handle == Point &amp;&amp; m_highlighted.gIndex &gt;= 0 &amp;&amp;</div>
<div class="line"><span class="lineno"> 1571</span>      m_gadgets[m_highlighted.gIndex].m_handle != 100) {</div>
<div class="line"><span class="lineno"> 1572</span>    kf = curve-&gt;getKeyframe(m_gadgets[m_highlighted.gIndex].m_kIndex);</div>
<div class="line"><span class="lineno"> 1573</span>    <span class="keywordflow">if</span> (kf.m_linkedHandles)</div>
<div class="line"><span class="lineno"> 1574</span>      menu.addAction(&amp;unlinkHandlesAction);</div>
<div class="line"><span class="lineno"> 1575</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1576</span>      menu.addAction(&amp;linkHandlesAction);</div>
<div class="line"><span class="lineno"> 1577</span>    menu.addAction(&amp;resetHandlesAction);</div>
<div class="line"><span class="lineno"> 1578</span>    menu.addAction(&amp;deleteKeyframeAction);</div>
<div class="line"><span class="lineno"> 1579</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1580</span>    <span class="keywordtype">int</span> k0 = curve-&gt;<a class="code hl_function" href="class_t_double_param.html#a765abd97386a7e4e3a413255ba494e19">getPrevKeyframe</a>(frame);</div>
<div class="line"><span class="lineno"> 1581</span>    <span class="keywordtype">int</span> k1 = curve-&gt;<a class="code hl_function" href="class_t_double_param.html#a28b99ec860d56fd1b47f89f08ca0a3ca">getNextKeyframe</a>(frame);</div>
<div class="line"><span class="lineno"> 1582</span>    <span class="keywordflow">if</span> (k0 == curve-&gt;getKeyframeCount() - 1)  <span class="comment">// after last keyframe</span></div>
<div class="line"><span class="lineno"> 1583</span>    {</div>
<div class="line"><span class="lineno"> 1584</span>      <span class="keywordflow">if</span> (curve-&gt;isCycleEnabled())</div>
<div class="line"><span class="lineno"> 1585</span>        menu.addAction(&amp;deactivateCycleAction);</div>
<div class="line"><span class="lineno"> 1586</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1587</span>        menu.addAction(&amp;activateCycleAction);</div>
<div class="line"><span class="lineno"> 1588</span>    }</div>
<div class="line"><span class="lineno"> 1589</span>    menu.addAction(&amp;insertKeyframeAction);</div>
<div class="line"><span class="lineno"> 1590</span>    <span class="keywordflow">if</span> (k0 &gt;= 0 &amp;&amp; k1 &gt;= 0) {</div>
<div class="line"><span class="lineno"> 1591</span>      menu.addSeparator();</div>
<div class="line"><span class="lineno"> 1592</span>      segmentIndex = k0;</div>
<div class="line"><span class="lineno"> 1593</span>      kf           = curve-&gt;getKeyframe(k0);</div>
<div class="line"><span class="lineno"> 1594</span>      menu.addAction(&amp;setLinearAction);</div>
<div class="line"><span class="lineno"> 1595</span>      <span class="keywordflow">if</span> (kf.m_type == TDoubleKeyframe::Linear)</div>
<div class="line"><span class="lineno"> 1596</span>        setLinearAction.setEnabled(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1597</span>      menu.addAction(&amp;setSpeedInOutAction);</div>
<div class="line"><span class="lineno"> 1598</span>      <span class="keywordflow">if</span> (kf.m_type == TDoubleKeyframe::SpeedInOut)</div>
<div class="line"><span class="lineno"> 1599</span>        setSpeedInOutAction.setEnabled(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1600</span>      menu.addAction(&amp;setEaseInOutAction);</div>
<div class="line"><span class="lineno"> 1601</span>      <span class="keywordflow">if</span> (kf.m_type == TDoubleKeyframe::EaseInOut)</div>
<div class="line"><span class="lineno"> 1602</span>        setEaseInOutAction.setEnabled(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1603</span>      menu.addAction(&amp;setEaseInOut2Action);</div>
<div class="line"><span class="lineno"> 1604</span>      <span class="keywordflow">if</span> (kf.m_type == TDoubleKeyframe::EaseInOutPercentage)</div>
<div class="line"><span class="lineno"> 1605</span>        setEaseInOut2Action.setEnabled(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1606</span>      menu.addAction(&amp;setExponentialAction);</div>
<div class="line"><span class="lineno"> 1607</span>      <span class="keywordflow">if</span> (kf.m_type == TDoubleKeyframe::Exponential)</div>
<div class="line"><span class="lineno"> 1608</span>        setExponentialAction.setEnabled(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1609</span>      menu.addAction(&amp;setExpressionAction);</div>
<div class="line"><span class="lineno"> 1610</span>      <span class="keywordflow">if</span> (kf.m_type == TDoubleKeyframe::Expression)</div>
<div class="line"><span class="lineno"> 1611</span>        setExpressionAction.setEnabled(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1612</span>      menu.addAction(&amp;setSimilarShapeAction);</div>
<div class="line"><span class="lineno"> 1613</span>      <span class="keywordflow">if</span> (kf.m_type == TDoubleKeyframe::SimilarShape)</div>
<div class="line"><span class="lineno"> 1614</span>        setSimilarShapeAction.setEnabled(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1615</span>      menu.addAction(&amp;setFileAction);</div>
<div class="line"><span class="lineno"> 1616</span>      <span class="keywordflow">if</span> (kf.m_type == TDoubleKeyframe::File) setFileAction.setEnabled(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1617</span>      menu.addAction(&amp;setConstantAction);</div>
<div class="line"><span class="lineno"> 1618</span>      <span class="keywordflow">if</span> (kf.m_type == TDoubleKeyframe::Constant)</div>
<div class="line"><span class="lineno"> 1619</span>        setConstantAction.setEnabled(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1620</span>      menu.addSeparator();</div>
<div class="line"><span class="lineno"> 1621</span>      <span class="keywordflow">if</span> (kf.m_step != 1) menu.addAction(&amp;setStep1Action);</div>
<div class="line"><span class="lineno"> 1622</span>      <span class="keywordflow">if</span> (kf.m_step != 2) menu.addAction(&amp;setStep2Action);</div>
<div class="line"><span class="lineno"> 1623</span>      <span class="keywordflow">if</span> (kf.m_step != 3) menu.addAction(&amp;setStep3Action);</div>
<div class="line"><span class="lineno"> 1624</span>      <span class="keywordflow">if</span> (kf.m_step != 4) menu.addAction(&amp;setStep4Action);</div>
<div class="line"><span class="lineno"> 1625</span>      menu.addSeparator();</div>
<div class="line"><span class="lineno"> 1626</span>    }</div>
<div class="line"><span class="lineno"> 1627</span>  }</div>
<div class="line"><span class="lineno"> 1628</span>  <span class="keywordflow">if</span> (!getSelection()-&gt;isEmpty()) menu.addAction(&amp;fitSelectedAction);</div>
<div class="line"><span class="lineno"> 1629</span>  menu.addAction(&amp;fitAllAction);</div>
<div class="line"><span class="lineno"> 1630</span> </div>
<div class="line"><span class="lineno"> 1631</span>  <span class="comment">// curve shape type</span></div>
<div class="line"><span class="lineno"> 1632</span>  QAction curveShapeSmoothAction(tr(<span class="stringliteral">&quot;Smooth&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1633</span>  QAction curveShapeFrameBasedAction(tr(<span class="stringliteral">&quot;Frame Based&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1634</span>  QMenu curveShapeSubmenu(tr(<span class="stringliteral">&quot;Curve Shape&quot;</span>), 0);</div>
<div class="line"><span class="lineno"> 1635</span>  menu.addSeparator();</div>
<div class="line"><span class="lineno"> 1636</span>  curveShapeSubmenu.addAction(&amp;curveShapeSmoothAction);</div>
<div class="line"><span class="lineno"> 1637</span>  curveShapeSubmenu.addAction(&amp;curveShapeFrameBasedAction);</div>
<div class="line"><span class="lineno"> 1638</span>  menu.addMenu(&amp;curveShapeSubmenu);</div>
<div class="line"><span class="lineno"> 1639</span> </div>
<div class="line"><span class="lineno"> 1640</span>  curveShapeSmoothAction.setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1641</span>  curveShapeSmoothAction.setChecked(m_curveShape == SMOOTH);</div>
<div class="line"><span class="lineno"> 1642</span>  curveShapeFrameBasedAction.setCheckable(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1643</span>  curveShapeFrameBasedAction.setChecked(m_curveShape == FRAME_BASED);</div>
<div class="line"><span class="lineno"> 1644</span> </div>
<div class="line"><span class="lineno"> 1645</span>  <span class="comment">// Store m_highlighted due to the following exec()</span></div>
<div class="line"><span class="lineno"> 1646</span>  Highlighted highlighted(m_highlighted);</div>
<div class="line"><span class="lineno"> 1647</span> </div>
<div class="line"><span class="lineno"> 1648</span>  <span class="comment">// execute menu</span></div>
<div class="line"><span class="lineno"> 1649</span>  QAction *action = menu.exec(e-&gt;globalPos());  <span class="comment">// Will process events, possibly</span></div>
<div class="line"><span class="lineno"> 1650</span>                                                <span class="comment">// altering m_highlighted</span></div>
<div class="line"><span class="lineno"> 1651</span>                                                <span class="comment">// (MAC-verified)</span></div>
<div class="line"><span class="lineno"> 1652</span>  <span class="keywordflow">if</span> (action == &amp;linkHandlesAction)  <span class="comment">// Let&#39;s just *hope* that doesn&#39;t happen to</span></div>
<div class="line"><span class="lineno"> 1653</span>                                     <span class="comment">// m_gadgets though...  :/</span></div>
<div class="line"><span class="lineno"> 1654</span>  {</div>
<div class="line"><span class="lineno"> 1655</span>    <span class="keywordflow">if</span> (m_gadgets[highlighted.gIndex].m_handle != 100)</div>
<div class="line"><span class="lineno"> 1656</span>      <a class="code hl_class" href="class_keyframe_setter.html">KeyframeSetter</a>(curve, m_gadgets[highlighted.gIndex].m_kIndex)</div>
<div class="line"><span class="lineno"> 1657</span>          .linkHandles();</div>
<div class="line"><span class="lineno"> 1658</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;unlinkHandlesAction) {</div>
<div class="line"><span class="lineno"> 1659</span>    <span class="keywordflow">if</span> (m_gadgets[highlighted.gIndex].m_handle != 100)</div>
<div class="line"><span class="lineno"> 1660</span>      <a class="code hl_class" href="class_keyframe_setter.html">KeyframeSetter</a>(curve, m_gadgets[highlighted.gIndex].m_kIndex)</div>
<div class="line"><span class="lineno"> 1661</span>          .unlinkHandles();</div>
<div class="line"><span class="lineno"> 1662</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;resetHandlesAction) {</div>
<div class="line"><span class="lineno"> 1663</span>    kf.m_speedIn  = <a class="code hl_class" href="class_t_point_t.html">TPointD</a>(-5, 0);</div>
<div class="line"><span class="lineno"> 1664</span>    kf.m_speedOut = -kf.m_speedIn;</div>
<div class="line"><span class="lineno"> 1665</span>    curve-&gt;<a class="code hl_function" href="class_t_double_param.html#a3447e9b5820724eacf6b43d34a75737f">setKeyframe</a>(kf);</div>
<div class="line"><span class="lineno"> 1666</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;deleteKeyframeAction) {</div>
<div class="line"><span class="lineno"> 1667</span>    KeyframeSetter::removeKeyframeAt(curve, kf.m_frame);</div>
<div class="line"><span class="lineno"> 1668</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;insertKeyframeAction) {</div>
<div class="line"><span class="lineno"> 1669</span>    <a class="code hl_class" href="class_keyframe_setter.html">KeyframeSetter</a>(curve).createKeyframe(tround(frame));</div>
<div class="line"><span class="lineno"> 1670</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;activateCycleAction) {</div>
<div class="line"><span class="lineno"> 1671</span>    KeyframeSetter::enableCycle(curve, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno"> 1672</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;deactivateCycleAction) {</div>
<div class="line"><span class="lineno"> 1673</span>    KeyframeSetter::enableCycle(curve, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1674</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setLinearAction)</div>
<div class="line"><span class="lineno"> 1675</span>    setSegmentType(getSelection(), curve, segmentIndex,</div>
<div class="line"><span class="lineno"> 1676</span>                   TDoubleKeyframe::Linear);</div>
<div class="line"><span class="lineno"> 1677</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setSpeedInOutAction)</div>
<div class="line"><span class="lineno"> 1678</span>    setSegmentType(getSelection(), curve, segmentIndex,</div>
<div class="line"><span class="lineno"> 1679</span>                   TDoubleKeyframe::SpeedInOut);</div>
<div class="line"><span class="lineno"> 1680</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setEaseInOutAction)</div>
<div class="line"><span class="lineno"> 1681</span>    setSegmentType(getSelection(), curve, segmentIndex,</div>
<div class="line"><span class="lineno"> 1682</span>                   TDoubleKeyframe::EaseInOut);</div>
<div class="line"><span class="lineno"> 1683</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setEaseInOut2Action)</div>
<div class="line"><span class="lineno"> 1684</span>    setSegmentType(getSelection(), curve, segmentIndex,</div>
<div class="line"><span class="lineno"> 1685</span>                   TDoubleKeyframe::EaseInOutPercentage);</div>
<div class="line"><span class="lineno"> 1686</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setExponentialAction)</div>
<div class="line"><span class="lineno"> 1687</span>    setSegmentType(getSelection(), curve, segmentIndex,</div>
<div class="line"><span class="lineno"> 1688</span>                   TDoubleKeyframe::Exponential);</div>
<div class="line"><span class="lineno"> 1689</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setExpressionAction)</div>
<div class="line"><span class="lineno"> 1690</span>    setSegmentType(getSelection(), curve, segmentIndex,</div>
<div class="line"><span class="lineno"> 1691</span>                   TDoubleKeyframe::Expression);</div>
<div class="line"><span class="lineno"> 1692</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setSimilarShapeAction)</div>
<div class="line"><span class="lineno"> 1693</span>    setSegmentType(getSelection(), curve, segmentIndex,</div>
<div class="line"><span class="lineno"> 1694</span>                   TDoubleKeyframe::SimilarShape);</div>
<div class="line"><span class="lineno"> 1695</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setFileAction)</div>
<div class="line"><span class="lineno"> 1696</span>    setSegmentType(getSelection(), curve, segmentIndex, TDoubleKeyframe::File);</div>
<div class="line"><span class="lineno"> 1697</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setConstantAction)</div>
<div class="line"><span class="lineno"> 1698</span>    setSegmentType(getSelection(), curve, segmentIndex,</div>
<div class="line"><span class="lineno"> 1699</span>                   TDoubleKeyframe::Constant);</div>
<div class="line"><span class="lineno"> 1700</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;fitSelectedAction)</div>
<div class="line"><span class="lineno"> 1701</span>    fitSelectedPoints();</div>
<div class="line"><span class="lineno"> 1702</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;fitAllAction)</div>
<div class="line"><span class="lineno"> 1703</span>    fitCurve();</div>
<div class="line"><span class="lineno"> 1704</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setStep1Action)</div>
<div class="line"><span class="lineno"> 1705</span>    <a class="code hl_class" href="class_keyframe_setter.html">KeyframeSetter</a>(curve, segmentIndex).setStep(1);</div>
<div class="line"><span class="lineno"> 1706</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setStep2Action)</div>
<div class="line"><span class="lineno"> 1707</span>    <a class="code hl_class" href="class_keyframe_setter.html">KeyframeSetter</a>(curve, segmentIndex).setStep(2);</div>
<div class="line"><span class="lineno"> 1708</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setStep3Action)</div>
<div class="line"><span class="lineno"> 1709</span>    <a class="code hl_class" href="class_keyframe_setter.html">KeyframeSetter</a>(curve, segmentIndex).setStep(3);</div>
<div class="line"><span class="lineno"> 1710</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;setStep4Action)</div>
<div class="line"><span class="lineno"> 1711</span>    <a class="code hl_class" href="class_keyframe_setter.html">KeyframeSetter</a>(curve, segmentIndex).setStep(4);</div>
<div class="line"><span class="lineno"> 1712</span> </div>
<div class="line"><span class="lineno"> 1713</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;curveShapeSmoothAction)</div>
<div class="line"><span class="lineno"> 1714</span>    m_curveShape = SMOOTH;</div>
<div class="line"><span class="lineno"> 1715</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (action == &amp;curveShapeFrameBasedAction)</div>
<div class="line"><span class="lineno"> 1716</span>    m_curveShape = FRAME_BASED;</div>
<div class="line"><span class="lineno"> 1717</span> </div>
<div class="line"><span class="lineno"> 1718</span>  update();</div>
<div class="line"><span class="lineno"> 1719</span>}</div>
<div class="ttc" id="aclass_keyframe_setter_html"><div class="ttname"><a href="class_keyframe_setter.html">KeyframeSetter</a></div><div class="ttdef"><b>Definition:</b> doubleparamcmd.h:23</div></div>
<div class="ttc" id="aclass_t_double_param_html_a3447e9b5820724eacf6b43d34a75737f"><div class="ttname"><a href="class_t_double_param.html#a3447e9b5820724eacf6b43d34a75737f">TDoubleParam::setKeyframe</a></div><div class="ttdeci">void setKeyframe(int kIndex, const TDoubleKeyframe &amp;k)</div><div class="ttdef"><b>Definition:</b> tdoubleparam.cpp:735</div></div>
<div class="ttc" id="aclass_t_point_t_html"><div class="ttname"><a href="class_t_point_t.html">TPointT&lt; double &gt;</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4955bc96ad1955753e73c78f8173e98" name="aa4955bc96ad1955753e73c78f8173e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4955bc96ad1955753e73c78f8173e98">&#9670;&nbsp;</a></span>paintEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::paintEvent </td>
          <td>(</td>
          <td class="paramtype">QPaintEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1078</span>                                             {</div>
<div class="line"><span class="lineno"> 1079</span>  m_gadgets.clear();</div>
<div class="line"><span class="lineno"> 1080</span> </div>
<div class="line"><span class="lineno"> 1081</span>  QString fontName = Preferences::instance()-&gt;getInterfaceFont();</div>
<div class="line"><span class="lineno"> 1082</span>  <span class="keywordflow">if</span> (fontName == <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1083</span><span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><span class="lineno"> 1084</span>    fontName = <span class="stringliteral">&quot;Arial&quot;</span>;</div>
<div class="line"><span class="lineno"> 1085</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1086</span>    fontName = <span class="stringliteral">&quot;Helvetica&quot;</span>;</div>
<div class="line"><span class="lineno"> 1087</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1088</span>  }</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>  QPainter painter(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1091</span>  QFont font(fontName, 8);</div>
<div class="line"><span class="lineno"> 1092</span>  painter.setFont(font);</div>
<div class="line"><span class="lineno"> 1093</span>  QFontMetrics fm(font);</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>  <span class="comment">// define ruler sizes</span></div>
<div class="line"><span class="lineno"> 1096</span>  m_valueAxisX     = fm.width(<span class="stringliteral">&quot;-888.88&quot;</span>) + 2;</div>
<div class="line"><span class="lineno"> 1097</span>  m_frameAxisY     = fm.height() + 2;</div>
<div class="line"><span class="lineno"> 1098</span>  m_graphViewportY = m_frameAxisY + 12;</div>
<div class="line"><span class="lineno"> 1099</span>  <span class="keywordtype">int</span> ox           = m_valueAxisX;</div>
<div class="line"><span class="lineno"> 1100</span>  <span class="keywordtype">int</span> oy0          = m_graphViewportY;</div>
<div class="line"><span class="lineno"> 1101</span>  <span class="keywordtype">int</span> oy1          = m_frameAxisY;</div>
<div class="line"><span class="lineno"> 1102</span> </div>
<div class="line"><span class="lineno"> 1103</span>  <span class="comment">// QRect bounds(0,0,width(),height());</span></div>
<div class="line"><span class="lineno"> 1104</span> </div>
<div class="line"><span class="lineno"> 1105</span>  <span class="comment">// draw functions background</span></div>
<div class="line"><span class="lineno"> 1106</span>  painter.setBrush(getBGColor());</div>
<div class="line"><span class="lineno"> 1107</span>  painter.setPen(Qt::NoPen);</div>
<div class="line"><span class="lineno"> 1108</span>  painter.drawRect(ox, oy0, width() - ox, height() - oy0);</div>
<div class="line"><span class="lineno"> 1109</span> </div>
<div class="line"><span class="lineno"> 1110</span>  painter.setClipRect(ox, 0, width() - ox, height());</div>
<div class="line"><span class="lineno"> 1111</span>  drawCurrentFrame(painter);</div>
<div class="line"><span class="lineno"> 1112</span>  drawFrameGrid(painter);</div>
<div class="line"><span class="lineno"> 1113</span> </div>
<div class="line"><span class="lineno"> 1114</span>  painter.setClipRect(0, oy0, width(), height() - oy0);</div>
<div class="line"><span class="lineno"> 1115</span>  drawValueGrid(painter);</div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span>  <span class="comment">// draw axes</span></div>
<div class="line"><span class="lineno"> 1118</span>  painter.setClipping(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1119</span>  painter.setPen(m_textColor);</div>
<div class="line"><span class="lineno"> 1120</span>  painter.drawLine(0, oy0, width(), oy0);</div>
<div class="line"><span class="lineno"> 1121</span>  painter.drawLine(ox, oy1, width(), oy1);</div>
<div class="line"><span class="lineno"> 1122</span>  painter.drawLine(ox, 0, ox, height());</div>
<div class="line"><span class="lineno"> 1123</span> </div>
<div class="line"><span class="lineno"> 1124</span>  <span class="comment">// draw curves</span></div>
<div class="line"><span class="lineno"> 1125</span>  painter.setClipRect(ox + 1, oy0 + 1, width() - ox - 1, height() - oy0 - 1);</div>
<div class="line"><span class="lineno"> 1126</span>  drawOtherCurves(painter);</div>
<div class="line"><span class="lineno"> 1127</span>  drawCurrentCurve(painter);</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>  painter.setClipping(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1130</span>  painter.setClipRect(ox + 1, oy1 + 1, width() - ox - 1, oy0 - oy1 - 1);</div>
<div class="line"><span class="lineno"> 1131</span>  drawGroupKeyframes(painter);</div>
<div class="line"><span class="lineno"> 1132</span>  painter.setClipRect(ox + 1, oy0 + 1, width() - ox - 1, height() - oy0 - 1);</div>
<div class="line"><span class="lineno"> 1133</span> </div>
<div class="line"><span class="lineno"> 1134</span>  <span class="comment">// tool</span></div>
<div class="line"><span class="lineno"> 1135</span>  <span class="keywordflow">if</span> (m_dragTool) m_dragTool-&gt;draw(painter);</div>
<div class="line"><span class="lineno"> 1136</span> </div>
<div class="line"><span class="lineno"> 1137</span>  <span class="comment">// cursor</span></div>
<div class="line"><span class="lineno"> 1138</span>  <span class="keywordflow">if</span> (m_cursor.visible) {</div>
<div class="line"><span class="lineno"> 1139</span>    painter.setClipRect(ox + 1, oy0 + 1, width() - ox - 1, height() - oy0 - 1);</div>
<div class="line"><span class="lineno"> 1140</span>    painter.setPen(getOtherCurvesColor());</div>
<div class="line"><span class="lineno"> 1141</span>    <span class="keywordtype">int</span> x = frameToX(m_cursor.frame);</div>
<div class="line"><span class="lineno"> 1142</span>    painter.drawLine(x, oy0 + 1, x, oy0 + 10);</div>
<div class="line"><span class="lineno"> 1143</span>    QString text = QString::number(tround(m_cursor.frame) + 1);</div>
<div class="line"><span class="lineno"> 1144</span>    painter.drawText(x - fm.width(text) / 2, oy0 + 10 + fm.height(), text);</div>
<div class="line"><span class="lineno"> 1145</span> </div>
<div class="line"><span class="lineno"> 1146</span>    <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *currentCurve = getCurrentCurve();</div>
<div class="line"><span class="lineno"> 1147</span>    <span class="keywordflow">if</span> (currentCurve) {</div>
<div class="line"><span class="lineno"> 1148</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_unit.html">TUnit</a> *unit = 0;</div>
<div class="line"><span class="lineno"> 1149</span>      <span class="keywordflow">if</span> (currentCurve-&gt;getMeasure())</div>
<div class="line"><span class="lineno"> 1150</span>        unit = currentCurve-&gt;getMeasure()-&gt;getCurrentUnit();</div>
<div class="line"><span class="lineno"> 1151</span>      <span class="keywordtype">double</span> displayValue = m_cursor.value;</div>
<div class="line"><span class="lineno"> 1152</span>      <span class="keywordflow">if</span> (unit) displayValue = unit-&gt;convertTo(displayValue);</div>
<div class="line"><span class="lineno"> 1153</span>      <span class="comment">// painter.setClipRect(0,oy0,height(),height()-oy0);</span></div>
<div class="line"><span class="lineno"> 1154</span>      <span class="keywordtype">int</span> y = valueToY(currentCurve, m_cursor.value);</div>
<div class="line"><span class="lineno"> 1155</span>      painter.drawLine(ox, y, ox + 10, y);</div>
<div class="line"><span class="lineno"> 1156</span>      painter.drawText(m_origin.x() + 10, y + 4, QString::number(displayValue));</div>
<div class="line"><span class="lineno"> 1157</span>    }</div>
<div class="line"><span class="lineno"> 1158</span>  }</div>
<div class="line"><span class="lineno"> 1159</span> </div>
<div class="line"><span class="lineno"> 1160</span>  <span class="comment">// curve name</span></div>
<div class="line"><span class="lineno"> 1161</span>  <span class="keywordflow">if</span> (m_curveLabel.text != <span class="stringliteral">&quot;&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1162</span>    painter.setClipRect(ox, oy0, width() - ox, height() - oy0);</div>
<div class="line"><span class="lineno"> 1163</span>    painter.setPen(m_selectedColor);</div>
<div class="line"><span class="lineno"> 1164</span>    painter.drawLine(m_curveLabel.curvePos, m_curveLabel.labelPos);</div>
<div class="line"><span class="lineno"> 1165</span>    painter.drawText(m_curveLabel.labelPos,</div>
<div class="line"><span class="lineno"> 1166</span>                     QString::fromStdString(m_curveLabel.text));</div>
<div class="line"><span class="lineno"> 1167</span>  }</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>  <span class="comment">// painter.setPen(Qt::black);</span></div>
<div class="line"><span class="lineno"> 1170</span>  <span class="comment">// painter.drawText(QPointF(70,70),</span></div>
<div class="line"><span class="lineno"> 1171</span>  <span class="comment">//  &quot;f0=&quot; + QString::number(xToFrame(ox)) +</span></div>
<div class="line"><span class="lineno"> 1172</span>  <span class="comment">//  &quot; f1=&quot; + QString::number(xToFrame(width())));</span></div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>  <span class="comment">// painter.setPen(Qt::black);</span></div>
<div class="line"><span class="lineno"> 1175</span>  <span class="comment">// painter.setBrush(Qt::NoBrush);</span></div>
<div class="line"><span class="lineno"> 1176</span>  <span class="comment">// painter.drawRect(ox+10,oy+10,width()-ox-20,height()-oy-20);</span></div>
<div class="line"><span class="lineno"> 1177</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0bb4e611a6811beb1b96afd3da52387b" name="a0bb4e611a6811beb1b96afd3da52387b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bb4e611a6811beb1b96afd3da52387b">&#9670;&nbsp;</a></span>pan() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::pan </td>
          <td>(</td>
          <td class="paramtype">const QPoint &amp;&#160;</td>
          <td class="paramname"><em>delta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  151</span>{ pan(delta.x(), delta.y()); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b9e76c6ffc5424a2072b93a709a573b" name="a0b9e76c6ffc5424a2072b93a709a573b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9e76c6ffc5424a2072b93a709a573b">&#9670;&nbsp;</a></span>pan() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::pan </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  338</span>                                      {</div>
<div class="line"><span class="lineno">  339</span>  QTransform m;</div>
<div class="line"><span class="lineno">  340</span>  m.translate(dx, dy);</div>
<div class="line"><span class="lineno">  341</span>  m_viewTransform *= m;</div>
<div class="line"><span class="lineno">  342</span>  update();</div>
<div class="line"><span class="lineno">  343</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab285f886797058670c35229b2bca04bc" name="ab285f886797058670c35229b2bca04bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab285f886797058670c35229b2bca04bc">&#9670;&nbsp;</a></span>setBGColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setBGColor </td>
          <td>(</td>
          <td class="paramtype">const QColor &amp;&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  188</span>{ m_bgColor = color; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afcff030b638b8c3d48ea26a10b4b9cf8" name="afcff030b638b8c3d48ea26a10b4b9cf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcff030b638b8c3d48ea26a10b4b9cf8">&#9670;&nbsp;</a></span>setFrameHandle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setFrameHandle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_frame_handle.html">TFrameHandle</a> *&#160;</td>
          <td class="paramname"><em>frameHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1723</span>                                                            {</div>
<div class="line"><span class="lineno"> 1724</span>  <span class="keywordflow">if</span> (m_frameHandle == frameHandle) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1725</span>  <span class="keywordflow">if</span> (m_frameHandle) m_frameHandle-&gt;disconnect(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno"> 1726</span>  m_frameHandle = frameHandle;</div>
<div class="line"><span class="lineno"> 1727</span>  <span class="keywordflow">if</span> (isVisible() &amp;&amp; m_frameHandle) {</div>
<div class="line"><span class="lineno"> 1728</span>    connect(m_frameHandle, SIGNAL(frameSwitched()), <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno"> 1729</span>            SLOT(onFrameSwitched()));</div>
<div class="line"><span class="lineno"> 1730</span>    update();</div>
<div class="line"><span class="lineno"> 1731</span>  }</div>
<div class="line"><span class="lineno"> 1732</span>  assert(m_selection);</div>
<div class="line"><span class="lineno"> 1733</span>  m_selection-&gt;setFrameHandle(frameHandle);</div>
<div class="line"><span class="lineno"> 1734</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a02850f151f3a8f66672cbeaae2a318ae" name="a02850f151f3a8f66672cbeaae2a318ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02850f151f3a8f66672cbeaae2a318ae">&#9670;&nbsp;</a></span>setFrameLineColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setFrameLineColor </td>
          <td>(</td>
          <td class="paramtype">const QColor &amp;&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  192</span>{ m_frameLineColor = color; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a79a65ba6410c0d92e4623a598ce95dc8" name="a79a65ba6410c0d92e4623a598ce95dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a65ba6410c0d92e4623a598ce95dc8">&#9670;&nbsp;</a></span>setModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setModel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_function_tree_model.html">FunctionTreeModel</a> *&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  123</span>{ m_functionTreeModel = model; };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a332dd23ec404fc2868a2b800509f7adb" name="a332dd23ec404fc2868a2b800509f7adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a332dd23ec404fc2868a2b800509f7adb">&#9670;&nbsp;</a></span>setOtherCurvesColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setOtherCurvesColor </td>
          <td>(</td>
          <td class="paramtype">const QColor &amp;&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  194</span>{ m_otherCurvesColor = color; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8bdacb32de24d5e6a8a0cdbc5904f1b7" name="a8bdacb32de24d5e6a8a0cdbc5904f1b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bdacb32de24d5e6a8a0cdbc5904f1b7">&#9670;&nbsp;</a></span>setRulerBackground()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setRulerBackground </td>
          <td>(</td>
          <td class="paramtype">const QColor &amp;&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  196</span>{ m_rulerBackground = color; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a85bc90c4d6839e75687d2d97dd8ca46b" name="a85bc90c4d6839e75687d2d97dd8ca46b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85bc90c4d6839e75687d2d97dd8ca46b">&#9670;&nbsp;</a></span>setSelectedColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setSelectedColor </td>
          <td>(</td>
          <td class="paramtype">const QColor &amp;&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  202</span>{ m_selectedColor = color; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acc29da2d417c9360b0cd9d21b7d24a4b" name="acc29da2d417c9360b0cd9d21b7d24a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc29da2d417c9360b0cd9d21b7d24a4b">&#9670;&nbsp;</a></span>setSelection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setSelection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_function_selection.html">FunctionSelection</a> *&#160;</td>
          <td class="paramname"><em>selection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  127</span>                                                  {</div>
<div class="line"><span class="lineno">  128</span>    m_selection = selection;</div>
<div class="line"><span class="lineno">  129</span>  }  <span class="comment">// does NOT get ownership</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6aed26a0cc44ed451a5a4d4a25239835" name="a6aed26a0cc44ed451a5a4d4a25239835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aed26a0cc44ed451a5a4d4a25239835">&#9670;&nbsp;</a></span>setSubColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setSubColor </td>
          <td>(</td>
          <td class="paramtype">const QColor &amp;&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  200</span>{ m_subColor = color; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bc32d0bc925303f7d394a3a2516976b" name="a2bc32d0bc925303f7d394a3a2516976b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bc32d0bc925303f7d394a3a2516976b">&#9670;&nbsp;</a></span>setTextColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setTextColor </td>
          <td>(</td>
          <td class="paramtype">const QColor &amp;&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  198</span>{ m_textColor = color; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d71c48341d8eb5196ff191c2f195af9" name="a0d71c48341d8eb5196ff191c2f195af9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d71c48341d8eb5196ff191c2f195af9">&#9670;&nbsp;</a></span>setValueLineColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setValueLineColor </td>
          <td>(</td>
          <td class="paramtype">const QColor &amp;&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  190</span>{ m_valueLineColor = color; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d5b0df177b6e7d70c10b56d8b2ab969" name="a2d5b0df177b6e7d70c10b56d8b2ab969"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d5b0df177b6e7d70c10b56d8b2ab969">&#9670;&nbsp;</a></span>setViewTransform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::setViewTransform </td>
          <td>(</td>
          <td class="paramtype">const QTransform &amp;&#160;</td>
          <td class="paramname"><em>viewTransform</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  135</span>                                                         {</div>
<div class="line"><span class="lineno">  136</span>    m_viewTransform = viewTransform;</div>
<div class="line"><span class="lineno">  137</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a674337a8b400ed2a112da729d85deefb" name="a674337a8b400ed2a112da729d85deefb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a674337a8b400ed2a112da729d85deefb">&#9670;&nbsp;</a></span>showEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::showEvent </td>
          <td>(</td>
          <td class="paramtype">QShowEvent *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1738</span>                                          {</div>
<div class="line"><span class="lineno"> 1739</span>  <span class="keywordflow">if</span> (m_frameHandle)</div>
<div class="line"><span class="lineno"> 1740</span>    connect(m_frameHandle, SIGNAL(frameSwitched()), <span class="keyword">this</span>,</div>
<div class="line"><span class="lineno"> 1741</span>            SLOT(onFrameSwitched()));</div>
<div class="line"><span class="lineno"> 1742</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b175c6315b45dfd21cefd17fa92b67d" name="a0b175c6315b45dfd21cefd17fa92b67d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b175c6315b45dfd21cefd17fa92b67d">&#9670;&nbsp;</a></span>updateGadgets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::updateGadgets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td>
          <td class="paramname"><em>curve</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  685</span>                                                     {</div>
<div class="line"><span class="lineno">  686</span>  m_gadgets.clear();</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>  <a class="code hl_class" href="class_t_double_keyframe.html">TDoubleKeyframe</a> oldKf;</div>
<div class="line"><span class="lineno">  689</span>  oldKf.m_type = TDoubleKeyframe::None;</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>  <span class="keywordtype">int</span> keyframeCount = curve-&gt;getKeyframeCount();</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i != keyframeCount; ++i) {</div>
<div class="line"><span class="lineno">  694</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> pointHitRadius = 10, handleHitRadius = 6;</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>    <a class="code hl_class" href="class_t_double_keyframe.html">TDoubleKeyframe</a> kf = curve-&gt;getKeyframe(i);</div>
<div class="line"><span class="lineno">  697</span>    kf.m_value         = curve-&gt;getValue(</div>
<div class="line"><span class="lineno">  698</span>        kf.m_frame);  <span class="comment">// Some keyframe values do NOT correspond to the</span></div>
<div class="line"><span class="lineno">  699</span>                      <span class="comment">// actual displayed curve value (eg with expressions)</span></div>
<div class="line"><span class="lineno">  700</span>    <span class="comment">// Build keyframe positions</span></div>
<div class="line"><span class="lineno">  701</span>    QPointF p     = getWinPos(curve, kf.m_frame);</div>
<div class="line"><span class="lineno">  702</span>    QPointF pLeft = p;</div>
<div class="line"><span class="lineno">  703</span> </div>
<div class="line"><span class="lineno">  704</span>    <span class="keywordflow">if</span> (i == keyframeCount - 1 &amp;&amp;</div>
<div class="line"><span class="lineno">  705</span>        curve</div>
<div class="line"><span class="lineno">  706</span>            -&gt;isCycleEnabled())  <span class="comment">// This is probably OBSOLETE. I don&#39;t think the</span></div>
<div class="line"><span class="lineno">  707</span>      p = getWinPos(curve, kf.m_frame,</div>
<div class="line"><span class="lineno">  708</span>                    curve-&gt;getValue(</div>
<div class="line"><span class="lineno">  709</span>                        kf.m_frame,</div>
<div class="line"><span class="lineno">  710</span>                        <span class="keyword">true</span>));  <span class="comment">// GUI allows cycling single curves nowadays...</span></div>
<div class="line"><span class="lineno">  711</span>                                 <span class="comment">// However, is the assignment correct?</span></div>
<div class="line"><span class="lineno">  712</span>    <span class="comment">// Add keyframe gadget(s)</span></div>
<div class="line"><span class="lineno">  713</span>    m_gadgets.push_back(Gadget(Point, i, p, pointHitRadius, pointHitRadius));</div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="line"><span class="lineno">  715</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> currentPointRight(kf.m_frame, kf.m_value);</div>
<div class="line"><span class="lineno">  716</span>    <a class="code hl_class" href="class_t_point_t.html">TPointD</a> currentPointLeft(currentPointRight);</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>    <span class="comment">// If the previous segment or the current segment are not keyframe based,</span></div>
<div class="line"><span class="lineno">  719</span>    <span class="comment">// the curve can have two different values in kf.m_frame</span></div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordflow">if</span> (i &gt; 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  721</span>        (!TDoubleKeyframe::isKeyframeBased(</div>
<div class="line"><span class="lineno">  722</span>             kf.m_type) ||  <span class="comment">// Keyframe-based are the above mentioned curves</span></div>
<div class="line"><span class="lineno">  723</span>         !TDoubleKeyframe::isKeyframeBased(</div>
<div class="line"><span class="lineno">  724</span>             curve-&gt;getKeyframe(i - 1)</div>
<div class="line"><span class="lineno">  725</span>                 .m_type)))  <span class="comment">// where values stored in keyframes are not used</span></div>
<div class="line"><span class="lineno">  726</span>    {                        <span class="comment">// to calculate the actual curve values.</span></div>
<div class="line"><span class="lineno">  727</span>      currentPointLeft.y = curve-&gt;getValue(kf.m_frame, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  728</span>      pLeft              = getWinPos(curve, currentPointLeft);</div>
<div class="line"><span class="lineno">  729</span>      m_gadgets.push_back(</div>
<div class="line"><span class="lineno">  730</span>          Gadget(Point, i, pLeft, pointHitRadius, pointHitRadius));</div>
<div class="line"><span class="lineno">  731</span>    }</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>    <span class="comment">// Add handle gadgets (eg the speed or ease handles)</span></div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">if</span> (getSelection()-&gt;isSelected(curve, i)) {</div>
<div class="line"><span class="lineno">  735</span>      <span class="comment">// Left handle</span></div>
<div class="line"><span class="lineno">  736</span>      <span class="keywordflow">switch</span> (oldKf.m_type) {</div>
<div class="line"><span class="lineno">  737</span>      <span class="keywordflow">case</span> TDoubleKeyframe::SpeedInOut: {</div>
<div class="line"><span class="lineno">  738</span>        <a class="code hl_class" href="class_t_point_t.html">TPointD</a> speedIn = curve-&gt;getSpeedIn(i);</div>
<div class="line"><span class="lineno">  739</span>        <span class="keywordflow">if</span> (norm2(speedIn) &gt; 0) {</div>
<div class="line"><span class="lineno">  740</span>          QPointF q = getWinPos(curve, currentPointLeft + speedIn);</div>
<div class="line"><span class="lineno">  741</span>          m_gadgets.push_back(</div>
<div class="line"><span class="lineno">  742</span>              Gadget(SpeedIn, i, q, handleHitRadius, handleHitRadius, pLeft));</div>
<div class="line"><span class="lineno">  743</span>        }</div>
<div class="line"><span class="lineno">  744</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  745</span>      }</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>      <span class="keywordflow">case</span> TDoubleKeyframe::EaseInOut: {</div>
<div class="line"><span class="lineno">  748</span>        QPointF q = getWinPos(curve, kf.m_frame + kf.m_speedIn.x);</div>
<div class="line"><span class="lineno">  749</span>        m_gadgets.push_back(Gadget(EaseIn, i, q, 6, 15));</div>
<div class="line"><span class="lineno">  750</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  751</span>      }</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>      <span class="keywordflow">case</span> TDoubleKeyframe::EaseInOutPercentage: {</div>
<div class="line"><span class="lineno">  754</span>        <span class="keywordtype">double</span> easeIn = kf.m_speedIn.x * (kf.m_frame - oldKf.m_frame) * 0.01;</div>
<div class="line"><span class="lineno">  755</span>        QPointF q     = getWinPos(curve, kf.m_frame + easeIn);</div>
<div class="line"><span class="lineno">  756</span>        m_gadgets.push_back(Gadget(EaseInPercentage, i, q, 6, 15));</div>
<div class="line"><span class="lineno">  757</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  758</span>      }</div>
<div class="line"><span class="lineno">  759</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  761</span>      }</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>      <span class="comment">// Right handle</span></div>
<div class="line"><span class="lineno">  764</span>      <span class="keywordflow">if</span> (i != keyframeCount - 1) {</div>
<div class="line"><span class="lineno">  765</span>        <span class="keywordflow">switch</span> (kf.m_type) {</div>
<div class="line"><span class="lineno">  766</span>        <span class="keywordflow">case</span> TDoubleKeyframe::SpeedInOut: {</div>
<div class="line"><span class="lineno">  767</span>          <a class="code hl_class" href="class_t_point_t.html">TPointD</a> speedOut = curve-&gt;getSpeedOut(i);</div>
<div class="line"><span class="lineno">  768</span>          <span class="keywordflow">if</span> (norm2(speedOut) &gt; 0) {</div>
<div class="line"><span class="lineno">  769</span>            QPointF q = getWinPos(curve, currentPointRight + speedOut);</div>
<div class="line"><span class="lineno">  770</span>            m_gadgets.push_back(</div>
<div class="line"><span class="lineno">  771</span>                Gadget(SpeedOut, i, q, handleHitRadius, handleHitRadius, p));</div>
<div class="line"><span class="lineno">  772</span>          }</div>
<div class="line"><span class="lineno">  773</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  774</span>        }</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>        <span class="keywordflow">case</span> TDoubleKeyframe::EaseInOut: {</div>
<div class="line"><span class="lineno">  777</span>          QPointF q = getWinPos(curve, kf.m_frame + kf.m_speedOut.x);</div>
<div class="line"><span class="lineno">  778</span>          m_gadgets.push_back(Gadget(EaseOut, i, q, 6, 15));</div>
<div class="line"><span class="lineno">  779</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  780</span>        }</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>        <span class="keywordflow">case</span> TDoubleKeyframe::EaseInOutPercentage: {</div>
<div class="line"><span class="lineno">  783</span>          <span class="keywordtype">double</span> segmentWidth = curve-&gt;<a class="code hl_function" href="class_t_double_param.html#af08442b9fd968fddada028a6f07983d5">keyframeIndexToFrame</a>(i + 1) - kf.m_frame;</div>
<div class="line"><span class="lineno">  784</span>          <span class="keywordtype">double</span> easeOut      = segmentWidth * kf.m_speedOut.x * 0.01;</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>          QPointF q = getWinPos(curve, kf.m_frame + easeOut);</div>
<div class="line"><span class="lineno">  787</span>          m_gadgets.push_back(Gadget(EaseOutPercentage, i, q, 6, 15));</div>
<div class="line"><span class="lineno">  788</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  789</span>        }</div>
<div class="line"><span class="lineno">  790</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  791</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  792</span>        }</div>
<div class="line"><span class="lineno">  793</span>      }</div>
<div class="line"><span class="lineno">  794</span>    }</div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>    oldKf = kf;</div>
<div class="line"><span class="lineno">  797</span>  }</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>  <span class="comment">// Add group gadgets (ie those that can be added when multiple channels share</span></div>
<div class="line"><span class="lineno">  800</span>  <span class="comment">// the same keyframe data)</span></div>
<div class="line"><span class="lineno">  801</span>  <span class="keywordtype">int</span> channelCount = m_functionTreeModel-&gt;getActiveChannelCount();</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>  <span class="comment">// Using a map of vectors. Yes, really. The *ideal* way would be that of</span></div>
<div class="line"><span class="lineno">  804</span>  <span class="comment">// copying the first keyframes</span></div>
<div class="line"><span class="lineno">  805</span>  <span class="comment">// vector, and then comparing it with the others from each channel - keeping</span></div>
<div class="line"><span class="lineno">  806</span>  <span class="comment">// the common data only...</span></div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>  <span class="keyword">typedef</span> std::map&lt;double, std::vector&lt;TDoubleKeyframe&gt;&gt;</div>
<div class="line"><span class="lineno">  809</span>      KeyframeTable;  <span class="comment">// frame -&gt; { keyframes }</span></div>
<div class="line"><span class="lineno">  810</span>  KeyframeTable keyframes;</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i != channelCount; ++i) {</div>
<div class="line"><span class="lineno">  813</span>    <a class="code hl_class" href="class_function_tree_model_1_1_channel.html">FunctionTreeModel::Channel</a> *channel =</div>
<div class="line"><span class="lineno">  814</span>        m_functionTreeModel-&gt;getActiveChannel(i);</div>
<div class="line"><span class="lineno">  815</span>    <span class="keywordflow">if</span> (!channel) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>    <a class="code hl_class" href="class_t_double_param.html">TDoubleParam</a> *curve = channel-&gt;getParam();</div>
<div class="line"><span class="lineno">  818</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j != curve-&gt;getKeyframeCount(); ++j) {</div>
<div class="line"><span class="lineno">  819</span>      <a class="code hl_class" href="class_t_double_keyframe.html">TDoubleKeyframe</a> kf = curve-&gt;getKeyframe(</div>
<div class="line"><span class="lineno">  820</span>          j);  <span class="comment">// Well... this stuff gets called upon *painting*  o_o&#39;</span></div>
<div class="line"><span class="lineno">  821</span>      keyframes[kf.m_frame].push_back(</div>
<div class="line"><span class="lineno">  822</span>          kf);  <span class="comment">// It&#39;s bound to be slow. Do we really need it?</span></div>
<div class="line"><span class="lineno">  823</span>    }</div>
<div class="line"><span class="lineno">  824</span>  }</div>
<div class="line"><span class="lineno">  825</span> </div>
<div class="line"><span class="lineno">  826</span>  <span class="keywordtype">int</span> groupHandleY = m_graphViewportY - 6;</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>  KeyframeTable::iterator it, iEnd(keyframes.end()),</div>
<div class="line"><span class="lineno">  829</span>      iLast(keyframes.empty() ? iEnd : --iEnd);</div>
<div class="line"><span class="lineno">  830</span>  <span class="keywordflow">for</span> (KeyframeTable::iterator it = keyframes.begin(); it != keyframes.end();</div>
<div class="line"><span class="lineno">  831</span>       ++it) {</div>
<div class="line"><span class="lineno">  832</span>    assert(!it-&gt;second.empty());</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>    <span class="keywordtype">double</span> frame = it-&gt;first;  <span class="comment">// redundant, already in the key... oh well</span></div>
<div class="line"><span class="lineno">  835</span>    QPointF p(frameToX(frame), groupHandleY);</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>    Gadget gadget((FunctionPanel::Handle)100, -1, p, 6,</div>
<div class="line"><span class="lineno">  838</span>                  6);  <span class="comment">// No idea what the &#39;100&#39; type value mean...</span></div>
<div class="line"><span class="lineno">  839</span>    gadget.m_keyframePosition = frame;</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>    m_gadgets.push_back(gadget);</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>    <a class="code hl_class" href="class_t_double_keyframe.html">TDoubleKeyframe</a> kf = it-&gt;second[0];</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)it-&gt;second.size() &lt; channelCount) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>    <span class="comment">// All channels had this keyframe - so, add further gadgets about stuff...</span></div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; channelCount; ++i) {</div>
<div class="line"><span class="lineno">  850</span>      <span class="comment">// Find out if keyframes data differs</span></div>
<div class="line"><span class="lineno">  851</span>      <span class="keyword">const</span> <a class="code hl_class" href="class_t_double_keyframe.html">TDoubleKeyframe</a> &amp;kf2 = it-&gt;second[i];</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>      <span class="keywordflow">if</span> (kf.m_type != kf2.m_type || kf.m_speedOut.x != kf2.m_speedOut.x)</div>
<div class="line"><span class="lineno">  854</span>        kf.m_type = TDoubleKeyframe::None;</div>
<div class="line"><span class="lineno">  855</span>      <span class="keywordflow">if</span> (kf.m_prevType != kf2.m_prevType || kf.m_speedIn.x != kf2.m_speedIn.x)</div>
<div class="line"><span class="lineno">  856</span>        kf.m_prevType = TDoubleKeyframe::None;</div>
<div class="line"><span class="lineno">  857</span>    }</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>    <span class="comment">// NOTE: EaseInOutPercentage are currently NOT SUPPORTED - they would be</span></div>
<div class="line"><span class="lineno">  860</span>    <span class="comment">// harder to code and</span></div>
<div class="line"><span class="lineno">  861</span>    <span class="comment">//       controversial, since the handle position depends on the *segment</span></div>
<div class="line"><span class="lineno">  862</span>    <span class="comment">//       size* too.</span></div>
<div class="line"><span class="lineno">  863</span>    <span class="comment">//       So, keyframe data could be shared, but adjacent segment lengths</span></div>
<div class="line"><span class="lineno">  864</span>    <span class="comment">//       could not...</span></div>
<div class="line"><span class="lineno">  865</span> </div>
<div class="line"><span class="lineno">  866</span>    <span class="keywordflow">if</span> (it != iLast &amp;&amp;</div>
<div class="line"><span class="lineno">  867</span>        (kf.m_type == TDoubleKeyframe::SpeedInOut ||</div>
<div class="line"><span class="lineno">  868</span>         kf.m_type == TDoubleKeyframe::EaseInOut) &amp;&amp;</div>
<div class="line"><span class="lineno">  869</span>        kf.m_speedOut.x != 0) {</div>
<div class="line"><span class="lineno">  870</span>      QPointF p(frameToX(frame + kf.m_speedOut.x), groupHandleY);</div>
<div class="line"><span class="lineno">  871</span>      Gadget gadget((FunctionPanel::Handle)101, -1, p, 6, 15);  <span class="comment">// type value...</span></div>
<div class="line"><span class="lineno">  872</span>      gadget.m_keyframePosition = frame;</div>
<div class="line"><span class="lineno">  873</span>      m_gadgets.push_back(gadget);</div>
<div class="line"><span class="lineno">  874</span>    }</div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span>    <span class="keywordflow">if</span> ((kf.m_prevType == TDoubleKeyframe::SpeedInOut ||</div>
<div class="line"><span class="lineno">  877</span>         kf.m_prevType == TDoubleKeyframe::EaseInOut) &amp;&amp;</div>
<div class="line"><span class="lineno">  878</span>        kf.m_speedIn.x != 0) {</div>
<div class="line"><span class="lineno">  879</span>      QPointF p(frameToX(frame + kf.m_speedIn.x), groupHandleY);</div>
<div class="line"><span class="lineno">  880</span>      Gadget gadget((FunctionPanel::Handle)102, -1, p, 6, 15);  <span class="comment">// type value...</span></div>
<div class="line"><span class="lineno">  881</span>      gadget.m_keyframePosition = frame;</div>
<div class="line"><span class="lineno">  882</span>      m_gadgets.push_back(gadget);</div>
<div class="line"><span class="lineno">  883</span>    }</div>
<div class="line"><span class="lineno">  884</span>  }</div>
<div class="line"><span class="lineno">  885</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abac75a76762ba09229e18955c98bc6c7" name="abac75a76762ba09229e18955c98bc6c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac75a76762ba09229e18955c98bc6c7">&#9670;&nbsp;</a></span>valueToY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double FunctionPanel::valueToY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  313</span>                                                                  {</div>
<div class="line"><span class="lineno">  314</span>  <span class="keyword">const</span> <span class="keywordtype">double</span> bigNumber = 1.0e9;</div>
<div class="line"><span class="lineno">  315</span>  <a class="code hl_class" href="class_t_measure.html">TMeasure</a> *m            = curve-&gt;getMeasure();</div>
<div class="line"><span class="lineno">  316</span>  <span class="keywordflow">if</span> (m) {</div>
<div class="line"><span class="lineno">  317</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_unit.html">TUnit</a> *unit = m-&gt;getCurrentUnit();</div>
<div class="line"><span class="lineno">  318</span>    v                 = unit-&gt;convertTo(v);</div>
<div class="line"><span class="lineno">  319</span>  }</div>
<div class="line"><span class="lineno">  320</span>  <span class="keywordflow">return</span> tcrop(m_viewTransform.m22() * v + m_viewTransform.dy(), -bigNumber,</div>
<div class="line"><span class="lineno">  321</span>               bigNumber);</div>
<div class="line"><span class="lineno">  322</span>}</div>
<div class="ttc" id="aclass_t_measure_html"><div class="ttname"><a href="class_t_measure.html">TMeasure</a></div><div class="ttdef"><b>Definition:</b> tunit.h:83</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa85c37ba4cbe7e76e7bfcdd53c287c80" name="aa85c37ba4cbe7e76e7bfcdd53c287c80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85c37ba4cbe7e76e7bfcdd53c287c80">&#9670;&nbsp;</a></span>wheelEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::wheelEvent </td>
          <td>(</td>
          <td class="paramtype">QWheelEvent *&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1447</span>                                             {</div>
<div class="line"><span class="lineno"> 1448</span>  <span class="keywordtype">double</span> factor = exp(0.002 * (<span class="keywordtype">double</span>)e-&gt;delta());</div>
<div class="line"><span class="lineno"> 1449</span>  zoom(factor, factor, e-&gt;pos());</div>
<div class="line"><span class="lineno"> 1450</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5ae36422bacc4f530928ac1ec3bc064" name="aa5ae36422bacc4f530928ac1ec3bc064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5ae36422bacc4f530928ac1ec3bc064">&#9670;&nbsp;</a></span>xToFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double FunctionPanel::xToFrame </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  307</span>                                             {</div>
<div class="line"><span class="lineno">  308</span>  <span class="keywordflow">return</span> (x - m_viewTransform.dx()) / m_viewTransform.m11();</div>
<div class="line"><span class="lineno">  309</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2e564ec4fb464b840f110a8a9b5f759" name="ad2e564ec4fb464b840f110a8a9b5f759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2e564ec4fb464b840f110a8a9b5f759">&#9670;&nbsp;</a></span>yToValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double FunctionPanel::yToValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_double_param.html">TDoubleParam</a> *&#160;</td>
          <td class="paramname"><em>curve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  326</span>                                                                  {</div>
<div class="line"><span class="lineno">  327</span>  <span class="keywordtype">double</span> v    = (y - m_viewTransform.dy()) / m_viewTransform.m22();</div>
<div class="line"><span class="lineno">  328</span>  <a class="code hl_class" href="class_t_measure.html">TMeasure</a> *m = curve-&gt;getMeasure();</div>
<div class="line"><span class="lineno">  329</span>  <span class="keywordflow">if</span> (m) {</div>
<div class="line"><span class="lineno">  330</span>    <span class="keyword">const</span> <a class="code hl_class" href="class_t_unit.html">TUnit</a> *unit = m-&gt;getCurrentUnit();</div>
<div class="line"><span class="lineno">  331</span>    v                 = unit-&gt;convertFrom(v);</div>
<div class="line"><span class="lineno">  332</span>  }</div>
<div class="line"><span class="lineno">  333</span>  <span class="keywordflow">return</span> v;</div>
<div class="line"><span class="lineno">  334</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8db04286bc9c5145bd7b42772005f304" name="a8db04286bc9c5145bd7b42772005f304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8db04286bc9c5145bd7b42772005f304">&#9670;&nbsp;</a></span>zoom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FunctionPanel::zoom </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QPoint &amp;&#160;</td>
          <td class="paramname"><em>center</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  347</span>                                                                   {</div>
<div class="line"><span class="lineno">  348</span>  QTransform m;</div>
<div class="line"><span class="lineno">  349</span>  m.translate(center.x(), center.y());</div>
<div class="line"><span class="lineno">  350</span>  m.scale(sx, sy);</div>
<div class="line"><span class="lineno">  351</span>  m.translate(-center.x(), -center.y());</div>
<div class="line"><span class="lineno">  352</span>  m_viewTransform *= m;</div>
<div class="line"><span class="lineno">  353</span>  update();</div>
<div class="line"><span class="lineno">  354</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aef2a228ff8b6c58dc4b2209e3ea9467d" name="aef2a228ff8b6c58dc4b2209e3ea9467d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef2a228ff8b6c58dc4b2209e3ea9467d">&#9670;&nbsp;</a></span>curve</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_double_param.html">TDoubleParam</a>* FunctionPanel::curve</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aca888e0250f35662889a70d6629fb428" name="aca888e0250f35662889a70d6629fb428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca888e0250f35662889a70d6629fb428">&#9670;&nbsp;</a></span>curvePos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPoint FunctionPanel::curvePos</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4f1747f959c5209ca6455eb85d712d4f" name="a4f1747f959c5209ca6455eb85d712d4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f1747f959c5209ca6455eb85d712d4f">&#9670;&nbsp;</a></span>frame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double FunctionPanel::frame</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0c93dbdc314aa5653d8594755531a071" name="a0c93dbdc314aa5653d8594755531a071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c93dbdc314aa5653d8594755531a071">&#9670;&nbsp;</a></span>labelPos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPoint FunctionPanel::labelPos</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac2bf3cffa7c181743eeb5df4f2b5bbff" name="ac2bf3cffa7c181743eeb5df4f2b5bbff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2bf3cffa7c181743eeb5df4f2b5bbff">&#9670;&nbsp;</a></span>text</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string FunctionPanel::text</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a13f82a6a78956bd0c56b6fe5fe34c8bc" name="a13f82a6a78956bd0c56b6fe5fe34c8bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13f82a6a78956bd0c56b6fe5fe34c8bc">&#9670;&nbsp;</a></span>value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double FunctionPanel::value</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a85ed3a5d14f1f7841a12723ebb9a9ea4" name="a85ed3a5d14f1f7841a12723ebb9a9ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85ed3a5d14f1f7841a12723ebb9a9ea4">&#9670;&nbsp;</a></span>visible</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FunctionPanel::visible</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="ab35458c7a03235059fe023a097b3aa63" name="ab35458c7a03235059fe023a097b3aa63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab35458c7a03235059fe023a097b3aa63">&#9670;&nbsp;</a></span>BGColor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::BGColor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2e9f95bdea8d70e2922ce4d5a5fdff53" name="a2e9f95bdea8d70e2922ce4d5a5fdff53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e9f95bdea8d70e2922ce4d5a5fdff53">&#9670;&nbsp;</a></span>FrameLineColor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::FrameLineColor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a07459b6409948b9ddab3554a613b18f1" name="a07459b6409948b9ddab3554a613b18f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07459b6409948b9ddab3554a613b18f1">&#9670;&nbsp;</a></span>OtherCurvesColor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::OtherCurvesColor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6d25d8fe2504a48cacfa2a3d3da64232" name="a6d25d8fe2504a48cacfa2a3d3da64232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d25d8fe2504a48cacfa2a3d3da64232">&#9670;&nbsp;</a></span>RulerBackground</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::RulerBackground</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2e807e89469675f19f15117d879f6bac" name="a2e807e89469675f19f15117d879f6bac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e807e89469675f19f15117d879f6bac">&#9670;&nbsp;</a></span>SelectedColor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::SelectedColor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab542ec321e7383d01211491513de80ea" name="ab542ec321e7383d01211491513de80ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab542ec321e7383d01211491513de80ea">&#9670;&nbsp;</a></span>SubColor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::SubColor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a9f9641759ec59213fa5b5b15de6976" name="a6a9f9641759ec59213fa5b5b15de6976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a9f9641759ec59213fa5b5b15de6976">&#9670;&nbsp;</a></span>TextColor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::TextColor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a58e6a214c20b16b2da20eef8f6c5321a" name="a58e6a214c20b16b2da20eef8f6c5321a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58e6a214c20b16b2da20eef8f6c5321a">&#9670;&nbsp;</a></span>ValueLineColor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QColor FunctionPanel::ValueLineColor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/include/toonzqt/<a class="el" href="">functionpanel.h</a></li>
<li>E:/opentoonz/toonz/sources/toonzqt/<a class="el" href="">functionpanel.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
