<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: TPinnedRangeSet Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_t_pinned_range_set-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TPinnedRangeSet Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_pinned_range_set_1_1_range.html">Range</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a65903d9a65f832da203e693dd726ef30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#a65903d9a65f832da203e693dd726ef30">resetRanges</a> ()</td></tr>
<tr class="separator:a65903d9a65f832da203e693dd726ef30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919216f20f92128cf4b88ec818f74fa8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#a919216f20f92128cf4b88ec818f74fa8">setPlacement</a> (const <a class="el" href="class_t_affine.html">TAffine</a> &amp;placement)</td></tr>
<tr class="separator:a919216f20f92128cf4b88ec818f74fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8041a7baf919f9041bb2f07f26916df"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_t_affine.html">TAffine</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#ac8041a7baf919f9041bb2f07f26916df">getPlacement</a> () const</td></tr>
<tr class="separator:ac8041a7baf919f9041bb2f07f26916df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae726106cef47d422e56f12e97c8250b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#ae726106cef47d422e56f12e97c8250b7">setRange</a> (int first, int second)</td></tr>
<tr class="separator:ae726106cef47d422e56f12e97c8250b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9158a84e0fe2c22d2179d0ba9a96a680"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#a9158a84e0fe2c22d2179d0ba9a96a680">removeRange</a> (int first, int second)</td></tr>
<tr class="separator:a9158a84e0fe2c22d2179d0ba9a96a680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6711224107bac622901add01bb02830"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#ad6711224107bac622901add01bb02830">removeAllRanges</a> ()</td></tr>
<tr class="separator:ad6711224107bac622901add01bb02830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282c046f6d789c13c9117140de1bdbc7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#a282c046f6d789c13c9117140de1bdbc7">isPinned</a> (int frame) const</td></tr>
<tr class="separator:a282c046f6d789c13c9117140de1bdbc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b75fad7f6137f014989025d558b825"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_t_pinned_range_set_1_1_range.html">Range</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#a84b75fad7f6137f014989025d558b825">getRange</a> (int frame) const</td></tr>
<tr class="separator:a84b75fad7f6137f014989025d558b825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66efd62b6860a4c3bfc9a04c0c16f121"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_t_pinned_range_set_1_1_range.html">Range</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#a66efd62b6860a4c3bfc9a04c0c16f121">getNextRange</a> (int frame) const</td></tr>
<tr class="separator:a66efd62b6860a4c3bfc9a04c0c16f121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6051bd9f183f05369f47fd03c710b8de"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_t_pinned_range_set_1_1_range.html">Range</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#a6051bd9f183f05369f47fd03c710b8de">getRangeByIndex</a> (int index) const</td></tr>
<tr class="separator:a6051bd9f183f05369f47fd03c710b8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4baf0f2b15f26d4b3c2899bc3e969f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#ad4baf0f2b15f26d4b3c2899bc3e969f9">getRangeCount</a> () const</td></tr>
<tr class="separator:ad4baf0f2b15f26d4b3c2899bc3e969f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3bc43712fea46f0c52f80bae13b523b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_pinned_range_set.html">TPinnedRangeSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#ad3bc43712fea46f0c52f80bae13b523b">clone</a> ()</td></tr>
<tr class="separator:ad3bc43712fea46f0c52f80bae13b523b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be9ea50bb736321980e0e478318f89f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#a5be9ea50bb736321980e0e478318f89f">loadData</a> (<a class="el" href="class_t_i_stream.html">TIStream</a> &amp;is)</td></tr>
<tr class="separator:a5be9ea50bb736321980e0e478318f89f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab692373ef913d6b13f72b805ca3edb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_pinned_range_set.html#a5ab692373ef913d6b13f72b805ca3edb">saveData</a> (<a class="el" href="class_t_o_stream.html">TOStream</a> &amp;os)</td></tr>
<tr class="separator:a5ab692373ef913d6b13f72b805ca3edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad3f7f767da7c38beef0a5baa12dfb2e6" name="ad3f7f767da7c38beef0a5baa12dfb2e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3f7f767da7c38beef0a5baa12dfb2e6">&#9670;&nbsp;</a></span>TPinnedRangeSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TPinnedRangeSet::TPinnedRangeSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">    8</span>: m_stageObject() {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a854874324c114c30ff86e5d925fa283b" name="a854874324c114c30ff86e5d925fa283b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a854874324c114c30ff86e5d925fa283b">&#9670;&nbsp;</a></span>~TPinnedRangeSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TPinnedRangeSet::~TPinnedRangeSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   26</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad3bc43712fea46f0c52f80bae13b523b" name="ad3bc43712fea46f0c52f80bae13b523b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3bc43712fea46f0c52f80bae13b523b">&#9670;&nbsp;</a></span>clone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_pinned_range_set.html">TPinnedRangeSet</a> * TPinnedRangeSet::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  113</span>                                        {</div>
<div class="line"><span class="lineno">  114</span>  <a class="code hl_class" href="class_t_pinned_range_set.html">TPinnedRangeSet</a> *clonedPinnedRangeSet = <span class="keyword">new</span> <a class="code hl_class" href="class_t_pinned_range_set.html">TPinnedRangeSet</a>();</div>
<div class="line"><span class="lineno">  115</span>  clonedPinnedRangeSet-&gt;m_stageObject   = m_stageObject;</div>
<div class="line"><span class="lineno">  116</span>  clonedPinnedRangeSet-&gt;m_placement     = m_placement;</div>
<div class="line"><span class="lineno">  117</span>  clonedPinnedRangeSet-&gt;m_ranges        = m_ranges;</div>
<div class="line"><span class="lineno">  118</span>  <span class="keywordflow">return</span> clonedPinnedRangeSet;</div>
<div class="line"><span class="lineno">  119</span>}</div>
<div class="ttc" id="aclass_t_pinned_range_set_html"><div class="ttname"><a href="class_t_pinned_range_set.html">TPinnedRangeSet</a></div><div class="ttdef"><b>Definition:</b> tpinnedrangeset.h:18</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66efd62b6860a4c3bfc9a04c0c16f121" name="a66efd62b6860a4c3bfc9a04c0c16f121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66efd62b6860a4c3bfc9a04c0c16f121">&#9670;&nbsp;</a></span>getNextRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_t_pinned_range_set_1_1_range.html">Range</a> * TPinnedRangeSet::getNextRange </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   43</span>                                             {</div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)m_ranges.size(); i++)</div>
<div class="line"><span class="lineno">   45</span>      <span class="keywordflow">if</span> (m_ranges[i].first &gt; frame) <span class="keywordflow">return</span> &amp;m_ranges[i];</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   47</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8041a7baf919f9041bb2f07f26916df" name="ac8041a7baf919f9041bb2f07f26916df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8041a7baf919f9041bb2f07f26916df">&#9670;&nbsp;</a></span>getPlacement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_t_affine.html">TAffine</a> &amp; TPinnedRangeSet::getPlacement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   31</span>{ <span class="keywordflow">return</span> m_placement; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a84b75fad7f6137f014989025d558b825" name="a84b75fad7f6137f014989025d558b825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84b75fad7f6137f014989025d558b825">&#9670;&nbsp;</a></span>getRange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_t_pinned_range_set_1_1_range.html">Range</a> * TPinnedRangeSet::getRange </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   38</span>                                         {</div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordtype">int</span> rangeIndex = getRangeIndex(frame);</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">return</span> rangeIndex &gt;= 0 ? &amp;m_ranges[rangeIndex] : 0;</div>
<div class="line"><span class="lineno">   41</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6051bd9f183f05369f47fd03c710b8de" name="a6051bd9f183f05369f47fd03c710b8de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6051bd9f183f05369f47fd03c710b8de">&#9670;&nbsp;</a></span>getRangeByIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_t_pinned_range_set_1_1_range.html">Range</a> * TPinnedRangeSet::getRangeByIndex </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   49</span>{ <span class="keywordflow">return</span> &amp;m_ranges[index]; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4baf0f2b15f26d4b3c2899bc3e969f9" name="ad4baf0f2b15f26d4b3c2899bc3e969f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4baf0f2b15f26d4b3c2899bc3e969f9">&#9670;&nbsp;</a></span>getRangeCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TPinnedRangeSet::getRangeCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   50</span>{ <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)m_ranges.size(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a282c046f6d789c13c9117140de1bdbc7" name="a282c046f6d789c13c9117140de1bdbc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a282c046f6d789c13c9117140de1bdbc7">&#9670;&nbsp;</a></span>isPinned()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TPinnedRangeSet::isPinned </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   36</span>{ <span class="keywordflow">return</span> getRangeIndex(frame) &gt;= 0; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5be9ea50bb736321980e0e478318f89f" name="a5be9ea50bb736321980e0e478318f89f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be9ea50bb736321980e0e478318f89f">&#9670;&nbsp;</a></span>loadData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPinnedRangeSet::loadData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_i_stream.html">TIStream</a> &amp;&#160;</td>
          <td class="paramname"><em>is</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  123</span>                                           {</div>
<div class="line"><span class="lineno">  124</span>  m_ranges.clear();</div>
<div class="line"><span class="lineno">  125</span>  <span class="keywordtype">int</span> prevFrame = 0;</div>
<div class="line"><span class="lineno">  126</span>  <span class="keywordtype">int</span> i         = 0;</div>
<div class="line"><span class="lineno">  127</span>  std::string tagName;</div>
<div class="line"><span class="lineno">  128</span>  <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><span class="lineno">  129</span>  <span class="keywordflow">while</span> (is.<a class="code hl_function" href="class_t_i_stream.html#a5fe7ddb5560e39e0ab4ff57d24926d41">matchTag</a>(tagName) &amp;&amp; count &lt; 3) {</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;permanent&quot;</span>) {</div>
<div class="line"><span class="lineno">  131</span>      <span class="keywordflow">while</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a84110f30d5adcc50d6000e9c99cd4708">matchEndTag</a>()) {</div>
<div class="line"><span class="lineno">  132</span>        i++;</div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordtype">int</span> frame = 0;</div>
<div class="line"><span class="lineno">  134</span>        is &gt;&gt; frame;</div>
<div class="line"><span class="lineno">  135</span>        <span class="keywordflow">if</span> (i % 2 == 0) m_ranges.push_back(Range(prevFrame, frame));</div>
<div class="line"><span class="lineno">  136</span>        prevFrame = frame;</div>
<div class="line"><span class="lineno">  137</span>      }</div>
<div class="line"><span class="lineno">  138</span>      count++;</div>
<div class="line"><span class="lineno">  139</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;temp&quot;</span>) {</div>
<div class="line"><span class="lineno">  140</span>      assert(0);</div>
<div class="line"><span class="lineno">  141</span>      <span class="comment">// OBSOLETO</span></div>
<div class="line"><span class="lineno">  142</span>      <span class="keywordflow">while</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a84110f30d5adcc50d6000e9c99cd4708">matchEndTag</a>()) {</div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordtype">int</span> frame = 0;</div>
<div class="line"><span class="lineno">  144</span>        is &gt;&gt; frame;</div>
<div class="line"><span class="lineno">  145</span>        <span class="comment">// m_tempPinned.push_back(frame);</span></div>
<div class="line"><span class="lineno">  146</span>      }</div>
<div class="line"><span class="lineno">  147</span>      count++;</div>
<div class="line"><span class="lineno">  148</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;lockedAngle&quot;</span>) {</div>
<div class="line"><span class="lineno">  149</span>      assert(0);</div>
<div class="line"><span class="lineno">  150</span>      <span class="comment">// OBSOLETO</span></div>
<div class="line"><span class="lineno">  151</span>      <span class="keywordflow">while</span> (!is.<a class="code hl_function" href="class_t_i_stream.html#a84110f30d5adcc50d6000e9c99cd4708">matchEndTag</a>()) {</div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordtype">int</span> rangeIndex = -1;</div>
<div class="line"><span class="lineno">  153</span>        is &gt;&gt; rangeIndex;</div>
<div class="line"><span class="lineno">  154</span>      }</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>      count++;</div>
<div class="line"><span class="lineno">  157</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tagName == <span class="stringliteral">&quot;placement&quot;</span>) {</div>
<div class="line"><span class="lineno">  158</span>      is &gt;&gt; m_placement.a11 &gt;&gt; m_placement.a12 &gt;&gt; m_placement.a13;</div>
<div class="line"><span class="lineno">  159</span>      is &gt;&gt; m_placement.a21 &gt;&gt; m_placement.a22 &gt;&gt; m_placement.a23;</div>
<div class="line"><span class="lineno">  160</span>      is.<a class="code hl_function" href="class_t_i_stream.html#a84110f30d5adcc50d6000e9c99cd4708">matchEndTag</a>();</div>
<div class="line"><span class="lineno">  161</span>    }</div>
<div class="line"><span class="lineno">  162</span>  }</div>
<div class="line"><span class="lineno">  163</span>}</div>
<div class="ttc" id="aclass_t_i_stream_html_a5fe7ddb5560e39e0ab4ff57d24926d41"><div class="ttname"><a href="class_t_i_stream.html#a5fe7ddb5560e39e0ab4ff57d24926d41">TIStream::matchTag</a></div><div class="ttdeci">bool matchTag(std::string &amp;tagName)</div><div class="ttdoc">is encountered or the string is empty).</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1178</div></div>
<div class="ttc" id="aclass_t_i_stream_html_a84110f30d5adcc50d6000e9c99cd4708"><div class="ttname"><a href="class_t_i_stream.html#a84110f30d5adcc50d6000e9c99cd4708">TIStream::matchEndTag</a></div><div class="ttdeci">bool matchEndTag()</div><div class="ttdoc">Attempts matching a StreamTag::EndTag.</div><div class="ttdef"><b>Definition:</b> tstream.cpp:1156</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6711224107bac622901add01bb02830" name="ad6711224107bac622901add01bb02830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6711224107bac622901add01bb02830">&#9670;&nbsp;</a></span>removeAllRanges()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPinnedRangeSet::removeAllRanges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  103</span>{ m_ranges.clear(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9158a84e0fe2c22d2179d0ba9a96a680" name="a9158a84e0fe2c22d2179d0ba9a96a680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9158a84e0fe2c22d2179d0ba9a96a680">&#9670;&nbsp;</a></span>removeRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPinnedRangeSet::removeRange </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>second</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   73</span>                                                       {</div>
<div class="line"><span class="lineno">   74</span>  std::vector&lt;Range&gt;::iterator it;</div>
<div class="line"><span class="lineno">   75</span>  <span class="comment">// finds the first range which could possibly overlap [first,second] :</span></div>
<div class="line"><span class="lineno">   76</span>  <span class="comment">// range.second&gt;=first</span></div>
<div class="line"><span class="lineno">   77</span>  <span class="keywordflow">for</span> (it = m_ranges.begin(); it != m_ranges.end(); ++it)</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">if</span> (it-&gt;second &gt;= first) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>  <span class="keywordflow">if</span> (it == m_ranges.end() || it-&gt;first &gt; second) {</div>
<div class="line"><span class="lineno">   81</span>    <span class="comment">// nothing to do: for each range range.second &lt; first or range.first &gt;</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">// second</span></div>
<div class="line"><span class="lineno">   83</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;first &lt; first &amp;&amp; it-&gt;second &gt; second) {</div>
<div class="line"><span class="lineno">   84</span>    <span class="comment">// [first,second] is a &quot;hole&quot;</span></div>
<div class="line"><span class="lineno">   85</span>    Range range(it-&gt;first, first - 1);</div>
<div class="line"><span class="lineno">   86</span>    it-&gt;first = second + 1;</div>
<div class="line"><span class="lineno">   87</span>    m_ranges.insert(it, range);</div>
<div class="line"><span class="lineno">   88</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   89</span>    std::vector&lt;Range&gt;::iterator it2;</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">if</span> (it-&gt;first &lt; first) {</div>
<div class="line"><span class="lineno">   91</span>      it-&gt;second = first - 1;</div>
<div class="line"><span class="lineno">   92</span>      ++it;</div>
<div class="line"><span class="lineno">   93</span>    }</div>
<div class="line"><span class="lineno">   94</span>    it2 = it;</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">while</span> (it != m_ranges.end() &amp;&amp; it-&gt;second &lt;= second) ++it;</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> (it != m_ranges.end() &amp;&amp; it-&gt;first &lt;= second) it-&gt;first = second + 1;</div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">if</span> (it2 != it) m_ranges.erase(it2, it);</div>
<div class="line"><span class="lineno">   98</span>  }</div>
<div class="line"><span class="lineno">   99</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a65903d9a65f832da203e693dd726ef30" name="a65903d9a65f832da203e693dd726ef30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65903d9a65f832da203e693dd726ef30">&#9670;&nbsp;</a></span>resetRanges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TPinnedRangeSet::resetRanges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   28</span>{ m_ranges.clear(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ab692373ef913d6b13f72b805ca3edb" name="a5ab692373ef913d6b13f72b805ca3edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ab692373ef913d6b13f72b805ca3edb">&#9670;&nbsp;</a></span>saveData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPinnedRangeSet::saveData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_o_stream.html">TOStream</a> &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  167</span>                                           {</div>
<div class="line"><span class="lineno">  168</span>  <span class="keywordflow">if</span> ((<span class="keywordtype">int</span>)m_ranges.size() == 0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  169</span>  os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;pinnedStatus&quot;</span>);</div>
<div class="line"><span class="lineno">  170</span>  <span class="keywordflow">if</span> (m_ranges.size() &gt; 0) {</div>
<div class="line"><span class="lineno">  171</span>    os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;permanent&quot;</span>);</div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p = 0; p &lt; (int)m_ranges.size(); p++) {</div>
<div class="line"><span class="lineno">  173</span>      os &lt;&lt; m_ranges[p].first &lt;&lt; m_ranges[p].second;</div>
<div class="line"><span class="lineno">  174</span>    }</div>
<div class="line"><span class="lineno">  175</span>    os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  176</span>  }</div>
<div class="line"><span class="lineno">  177</span>  <span class="keywordflow">if</span> (m_placement != <a class="code hl_class" href="class_t_affine.html">TAffine</a>()) {</div>
<div class="line"><span class="lineno">  178</span>    os.<a class="code hl_function" href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">openChild</a>(<span class="stringliteral">&quot;placement&quot;</span>);</div>
<div class="line"><span class="lineno">  179</span>    os &lt;&lt; m_placement.a11 &lt;&lt; m_placement.a12 &lt;&lt; m_placement.a13;</div>
<div class="line"><span class="lineno">  180</span>    os &lt;&lt; m_placement.a21 &lt;&lt; m_placement.a22 &lt;&lt; m_placement.a23;</div>
<div class="line"><span class="lineno">  181</span>    os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  182</span>  }</div>
<div class="line"><span class="lineno">  183</span>  os.<a class="code hl_function" href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">closeChild</a>();</div>
<div class="line"><span class="lineno">  184</span>}</div>
<div class="ttc" id="aclass_t_affine_html"><div class="ttname"><a href="class_t_affine.html">TAffine</a></div><div class="ttdoc">This is the base class for the affine transformations.</div><div class="ttdef"><b>Definition:</b> tgeometry.h:864</div></div>
<div class="ttc" id="aclass_t_o_stream_html_a38fe0f56d934f1c25e2b5d8156415673"><div class="ttname"><a href="class_t_o_stream.html#a38fe0f56d934f1c25e2b5d8156415673">TOStream::openChild</a></div><div class="ttdeci">void openChild(std::string tagName)</div></div>
<div class="ttc" id="aclass_t_o_stream_html_ae80752da32b21a502953e151e7c4b2ee"><div class="ttname"><a href="class_t_o_stream.html#ae80752da32b21a502953e151e7c4b2ee">TOStream::closeChild</a></div><div class="ttdeci">void closeChild()</div><div class="ttdef"><b>Definition:</b> tstream.cpp:520</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a919216f20f92128cf4b88ec818f74fa8" name="a919216f20f92128cf4b88ec818f74fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a919216f20f92128cf4b88ec818f74fa8">&#9670;&nbsp;</a></span>setPlacement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPinnedRangeSet::setPlacement </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_t_affine.html">TAffine</a> &amp;&#160;</td>
          <td class="paramname"><em>placement</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  107</span>                                                           {</div>
<div class="line"><span class="lineno">  108</span>  m_placement = placement;</div>
<div class="line"><span class="lineno">  109</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae726106cef47d422e56f12e97c8250b7" name="ae726106cef47d422e56f12e97c8250b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae726106cef47d422e56f12e97c8250b7">&#9670;&nbsp;</a></span>setRange()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TPinnedRangeSet::setRange </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>second</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   41</span>                                                    {</div>
<div class="line"><span class="lineno">   42</span>  std::vector&lt;Range&gt;::iterator it;</div>
<div class="line"><span class="lineno">   43</span>  <span class="comment">// finds the range which could possibly be merged before : range.second+1 &gt;=</span></div>
<div class="line"><span class="lineno">   44</span>  <span class="comment">// first</span></div>
<div class="line"><span class="lineno">   45</span>  <span class="keywordflow">for</span> (it = m_ranges.begin(); it != m_ranges.end(); ++it)</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">if</span> (it-&gt;second + 1 &gt;= first) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>  <span class="keywordflow">if</span> (it == m_ranges.end()) {</div>
<div class="line"><span class="lineno">   49</span>    <span class="comment">// not found =&gt; for every range : range.second+1 &lt; first. Just add the new</span></div>
<div class="line"><span class="lineno">   50</span>    <span class="comment">// one</span></div>
<div class="line"><span class="lineno">   51</span>    m_ranges.push_back(Range(first, second));</div>
<div class="line"><span class="lineno">   52</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (it-&gt;first &gt; second + 1) {</div>
<div class="line"><span class="lineno">   53</span>    <span class="comment">// it comes after and can not be merged. Just insert the new one</span></div>
<div class="line"><span class="lineno">   54</span>    m_ranges.insert(it, Range(first, second));</div>
<div class="line"><span class="lineno">   55</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   56</span>    <span class="comment">// merge</span></div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">if</span> (first &lt; it-&gt;first) it-&gt;first = first;</div>
<div class="line"><span class="lineno">   58</span>    <span class="comment">// update it-&gt;second, and find all the ranges which should be deleted</span></div>
<div class="line"><span class="lineno">   59</span>    std::vector&lt;Range&gt;::iterator it2 = it;</div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">for</span> (++it2; it2 != m_ranges.end(); ++it2)</div>
<div class="line"><span class="lineno">   61</span>      <span class="keywordflow">if</span> (it2-&gt;first &gt; second + 1)</div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   63</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   64</span>        it-&gt;second                      = it2-&gt;second;</div>
<div class="line"><span class="lineno">   65</span>    <span class="keywordflow">if</span> (second &gt; it-&gt;second) it-&gt;second = second;</div>
<div class="line"><span class="lineno">   66</span>    ++it;</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">if</span> (it != it2) m_ranges.erase(it, it2);</div>
<div class="line"><span class="lineno">   68</span>  }</div>
<div class="line"><span class="lineno">   69</span>}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/opentoonz/toonz/sources/include/toonz/<a class="el" href="">tpinnedrangeset.h</a></li>
<li>E:/opentoonz/toonz/sources/toonzlib/<a class="el" href="">tpinnedrangeset.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
