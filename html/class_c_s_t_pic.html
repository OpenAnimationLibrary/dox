<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opentoonz: CSTPic&lt; P &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opentoonz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_c_s_t_pic-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CSTPic&lt; P &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="">STPic.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CSTPic&lt; P &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_c_s_t_pic.png" usemap="#CSTPic_3C_20P_20_3E_map" alt=""/>
  <map id="CSTPic_3C_20P_20_3E_map" name="CSTPic_3C_20P_20_3E_map">
<area href="class_c_s_t_col_sel_pic.html" alt="CSTColSelPic&lt; P &gt;" shape="rect" coords="0,56,123,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1f387b8a42526e6f894a8306100c82f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a1f387b8a42526e6f894a8306100c82f3">nullPic</a> ()</td></tr>
<tr class="separator:a1f387b8a42526e6f894a8306100c82f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab064a2f6b02565124a1cad1748a65b4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#ab064a2f6b02565124a1cad1748a65b4f">lock</a> ()</td></tr>
<tr class="memdesc:ab064a2f6b02565124a1cad1748a65b4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the raster image from the cache to work with it.  <a href="class_c_s_t_pic.html#ab064a2f6b02565124a1cad1748a65b4f">More...</a><br /></td></tr>
<tr class="separator:ab064a2f6b02565124a1cad1748a65b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a4af9d2c4118800036bf8501daee2a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a7a4af9d2c4118800036bf8501daee2a9">unlock</a> ()</td></tr>
<tr class="memdesc:a7a4af9d2c4118800036bf8501daee2a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the raster image for inactivity periods.  <a href="class_c_s_t_pic.html#a7a4af9d2c4118800036bf8501daee2a9">More...</a><br /></td></tr>
<tr class="separator:a7a4af9d2c4118800036bf8501daee2a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5744d1efefbb3cbf2775448980b32dbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a5744d1efefbb3cbf2775448980b32dbf">CSTPic</a> (const int lX, const int lY)</td></tr>
<tr class="separator:a5744d1efefbb3cbf2775448980b32dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28125e9cb31ffe8e65f308c16e6b28a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a28125e9cb31ffe8e65f308c16e6b28a5">CSTPic</a> (const <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt; &amp;sp)</td></tr>
<tr class="separator:a28125e9cb31ffe8e65f308c16e6b28a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad481a6c5ca2e3e95b27c756f5a50c999"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#ad481a6c5ca2e3e95b27c756f5a50c999">initPic</a> ()</td></tr>
<tr class="separator:ad481a6c5ca2e3e95b27c756f5a50c999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaa1ff6f78688e06634ca7a5ed00ed62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#aaaa1ff6f78688e06634ca7a5ed00ed62">null</a> ()</td></tr>
<tr class="separator:aaaa1ff6f78688e06634ca7a5ed00ed62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2d723c1ca70b43b789e8593a564d262"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#ac2d723c1ca70b43b789e8593a564d262">drawRect</a> (const P &amp;ip)</td></tr>
<tr class="separator:ac2d723c1ca70b43b789e8593a564d262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f5dc9d8b7c65c2dc5fd205a0242020"><td class="memItemLeft" align="right" valign="top">ST_TYPE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#ac9f5dc9d8b7c65c2dc5fd205a0242020">getType</a> () const</td></tr>
<tr class="separator:ac9f5dc9d8b7c65c2dc5fd205a0242020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5735c89fa921c2b779b0a1bda7eabbad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a5735c89fa921c2b779b0a1bda7eabbad">copyPic</a> (const <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt; &amp;sp)</td></tr>
<tr class="separator:a5735c89fa921c2b779b0a1bda7eabbad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a4bfee789c6148e024415f5f72d0d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#ad5a4bfee789c6148e024415f5f72d0d8">copyPic</a> (const <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt; &amp;sp, const <a class="el" href="struct_s_r_e_c_t.html">SRECT</a> &amp;r, const <a class="el" href="struct_s_p_o_i_n_t.html">SPOINT</a> &amp;p)</td></tr>
<tr class="separator:ad5a4bfee789c6148e024415f5f72d0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66e869b891951675d343458a7e1437ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a66e869b891951675d343458a7e1437ff">drawRect</a> (const <a class="el" href="struct_s_r_e_c_t.html">SRECT</a> &amp;rect, const P &amp;ip)</td></tr>
<tr class="separator:a66e869b891951675d343458a7e1437ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34fcac0c20d76e7038ad09e5fe7bfdf7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a34fcac0c20d76e7038ad09e5fe7bfdf7">erease</a> ()</td></tr>
<tr class="separator:a34fcac0c20d76e7038ad09e5fe7bfdf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34528ccab529c333d7364dd50b4bacff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a34528ccab529c333d7364dd50b4bacff">fill</a> (const P &amp;ip)</td></tr>
<tr class="separator:a34528ccab529c333d7364dd50b4bacff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6fcb38f4ca9df825bd280750a71a4b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#abd6fcb38f4ca9df825bd280750a71a4b">isInPic</a> (const int x, const int y) const</td></tr>
<tr class="separator:abd6fcb38f4ca9df825bd280750a71a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea0228ab50586797d400e357b6e0fd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a2ea0228ab50586797d400e357b6e0fd1">setRGB</a> (const int x, const int y, const P &amp;ip)</td></tr>
<tr class="separator:a2ea0228ab50586797d400e357b6e0fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af01681c464a80efe8ebccfe2b4117012"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#af01681c464a80efe8ebccfe2b4117012">setRGBM</a> (const int x, const int y, const P &amp;ip)</td></tr>
<tr class="separator:af01681c464a80efe8ebccfe2b4117012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a908e34e89cdcef5a74093ba22692c516"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a908e34e89cdcef5a74093ba22692c516">setRGB</a> (const int x, const int y, const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;ip)</td></tr>
<tr class="separator:a908e34e89cdcef5a74093ba22692c516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8ed106cad326e7203c4eae71ef848b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#aea8ed106cad326e7203c4eae71ef848b">setRGBM</a> (const int x, const int y, const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;ip)</td></tr>
<tr class="separator:aea8ed106cad326e7203c4eae71ef848b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaefcabcb6c7aa39ce9ab220ad306e4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#afaefcabcb6c7aa39ce9ab220ad306e4e">getPixel</a> (const int x, const int y, P &amp;ip) const</td></tr>
<tr class="separator:afaefcabcb6c7aa39ce9ab220ad306e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b617fb67363eeedd1d19a0f00a2ca6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#af6b617fb67363eeedd1d19a0f00a2ca6">getPixel</a> (const int x, const int y, <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;ip) const</td></tr>
<tr class="separator:af6b617fb67363eeedd1d19a0f00a2ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a5f187dbddd77333ac09347265068d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a8a5f187dbddd77333ac09347265068d1">getRasterPixel</a> (const <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *ras, const int x, const int y, <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;ip) const</td></tr>
<tr class="separator:a8a5f187dbddd77333ac09347265068d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a940642c3324f95154c41d1102d8c574d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a940642c3324f95154c41d1102d8c574d">getRasterPixel</a> (const int x, const int y, <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;ip) const</td></tr>
<tr class="separator:a940642c3324f95154c41d1102d8c574d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe817d6683efc153603049c51db11f53"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#afe817d6683efc153603049c51db11f53">setRasterPixel</a> (<a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *ras, const int x, const int y, const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;ip) const</td></tr>
<tr class="separator:afe817d6683efc153603049c51db11f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16eabe06260f72f29682811846696c1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#ad16eabe06260f72f29682811846696c1">copy_raster</a> (const <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *ir, <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *out_r, const int xBeg, const int yBeg, const int xEnd, const int yEnd, const int ox, const int oy)</td></tr>
<tr class="separator:ad16eabe06260f72f29682811846696c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b3eea147c606262e4f41a21839b9c8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a95b3eea147c606262e4f41a21839b9c8">read</a> (const <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *ras)</td></tr>
<tr class="separator:a95b3eea147c606262e4f41a21839b9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445ad3e91904d1649b28a123a0fd0995"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a445ad3e91904d1649b28a123a0fd0995">operator=</a> (const <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt; &amp;sp)</td></tr>
<tr class="separator:a445ad3e91904d1649b28a123a0fd0995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe776f8c5db000b70980f38015575b1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a8fe776f8c5db000b70980f38015575b1">write</a> (<a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *ras) const</td></tr>
<tr class="separator:a8fe776f8c5db000b70980f38015575b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4f71a56b6a60064305a38fb8ed469f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#abd4f71a56b6a60064305a38fb8ed469f">write</a> (<a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *ras, const <a class="el" href="struct_s_r_e_c_t.html">SRECT</a> &amp;r, const <a class="el" href="struct_s_p_o_i_n_t.html">SPOINT</a> &amp;p) const</td></tr>
<tr class="separator:abd4f71a56b6a60064305a38fb8ed469f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57b9580f888f9e67308e2acb96b0462"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#ae57b9580f888f9e67308e2acb96b0462">writeOutBorder</a> (const <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *rasin, const int border, <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *ras, const <a class="el" href="struct_s_r_e_c_t.html">SRECT</a> &amp;r, const <a class="el" href="struct_s_p_o_i_n_t.html">SPOINT</a> &amp;p) const</td></tr>
<tr class="separator:ae57b9580f888f9e67308e2acb96b0462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84534d11fdb50f6a80ac343ea80e0363"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a84534d11fdb50f6a80ac343ea80e0363">convertToCurrentType</a> (P &amp;d, const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;s) const</td></tr>
<tr class="separator:a84534d11fdb50f6a80ac343ea80e0363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a96008ab2bf1f4697526b2f2e069e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a16a96008ab2bf1f4697526b2f2e069e1">isSameColor</a> (const P *a, const P *b) const</td></tr>
<tr class="separator:a16a96008ab2bf1f4697526b2f2e069e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1980204855dc696aef0c67aaddcf6254"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a1980204855dc696aef0c67aaddcf6254">colorNoise</a> (const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;cc1, const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;cc2, const double d)</td></tr>
<tr class="separator:a1980204855dc696aef0c67aaddcf6254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a9738de965c97e164c49a184510553f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a0a9738de965c97e164c49a184510553f">rgb2hls</a> (UCHAR r, UCHAR g, UCHAR b, double *h, double *l, double *s)</td></tr>
<tr class="separator:a0a9738de965c97e164c49a184510553f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a340934ad7e8f935ca32726b235421d7d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a340934ad7e8f935ca32726b235421d7d">fromHue</a> (double n1, double n2, double hue)</td></tr>
<tr class="separator:a340934ad7e8f935ca32726b235421d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4901cf1c068e42afcc3f1bad783f844"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#ae4901cf1c068e42afcc3f1bad783f844">hls2rgb</a> (double h, double l, double s, UCHAR *r, UCHAR *g, UCHAR *b)</td></tr>
<tr class="separator:ae4901cf1c068e42afcc3f1bad783f844"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae6f4b4ca344ce528fe2389e616af775c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#ae6f4b4ca344ce528fe2389e616af775c">m_lX</a></td></tr>
<tr class="separator:ae6f4b4ca344ce528fe2389e616af775c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a510dc86bf0be11ff15c5ddb2fbe9ef61"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a510dc86bf0be11ff15c5ddb2fbe9ef61">m_lY</a></td></tr>
<tr class="separator:a510dc86bf0be11ff15c5ddb2fbe9ef61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5053d193ce438f450a0f629ed7a13799"><td class="memItemLeft" align="right" valign="top">P *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a5053d193ce438f450a0f629ed7a13799">m_pic</a></td></tr>
<tr class="separator:a5053d193ce438f450a0f629ed7a13799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2608edeab007a7cce20efa940c76040b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_s_t_pic.html#a2608edeab007a7cce20efa940c76040b">m_ras</a></td></tr>
<tr class="separator:a2608edeab007a7cce20efa940c76040b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class P&gt;<br />
class CSTPic&lt; P &gt;</div><p >Old 4.6 picture class template (sandor fxs). There is a significant modification to be considered starting from Toonz 6.1 - the allocated raster is now managed by the image cache. Basically, when constructing one such object, the image is locked in the Toonz cache - and you must remember to unlock and relock it along inactivity periods. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7042f4644cad0784ca0476080d6c3ca2" name="a7042f4644cad0784ca0476080d6c3ca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7042f4644cad0784ca0476080d6c3ca2">&#9670;&nbsp;</a></span>CSTPic() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;<a class="el" href="class_c_s_t_pic.html">::CSTPic</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   64</span>      : m_cacheId(TImageCache::instance()-&gt;getUniqueId())</div>
<div class="line"><span class="lineno">   65</span>      , m_lX(0)</div>
<div class="line"><span class="lineno">   66</span>      , m_lY(0)</div>
<div class="line"><span class="lineno">   67</span>      , m_pic(0)</div>
<div class="line"><span class="lineno">   68</span>      , m_ras(0) {}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5744d1efefbb3cbf2775448980b32dbf" name="a5744d1efefbb3cbf2775448980b32dbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5744d1efefbb3cbf2775448980b32dbf">&#9670;&nbsp;</a></span>CSTPic() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;<a class="el" href="class_c_s_t_pic.html">::CSTPic</a> </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>lX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>lY</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   89</span>      :  <span class="comment">// throw(SMemAllocError) :</span></div>
<div class="line"><span class="lineno">   90</span>      m_cacheId(TImageCache::instance()-&gt;getUniqueId())</div>
<div class="line"><span class="lineno">   91</span>      , m_lX(lX)</div>
<div class="line"><span class="lineno">   92</span>      , m_lY(lY)</div>
<div class="line"><span class="lineno">   93</span>      , m_pic(0)</div>
<div class="line"><span class="lineno">   94</span>      , m_ras(0) {</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   96</span>      <a class="code hl_function" href="class_c_s_t_pic.html#ad481a6c5ca2e3e95b27c756f5a50c999">initPic</a>();</div>
<div class="line"><span class="lineno">   97</span>    } <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_s_mem_alloc_error.html">SMemAllocError</a>) {</div>
<div class="line"><span class="lineno">   98</span>      null();</div>
<div class="line"><span class="lineno">   99</span>      <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  100</span>    }</div>
<div class="line"><span class="lineno">  101</span>  }</div>
<div class="ttc" id="aclass_c_s_t_pic_html_ad481a6c5ca2e3e95b27c756f5a50c999"><div class="ttname"><a href="class_c_s_t_pic.html#ad481a6c5ca2e3e95b27c756f5a50c999">CSTPic::initPic</a></div><div class="ttdeci">void initPic()</div><div class="ttdef"><b>Definition:</b> STPic.h:123</div></div>
<div class="ttc" id="aclass_s_mem_alloc_error_html"><div class="ttname"><a href="class_s_mem_alloc_error.html">SMemAllocError</a></div><div class="ttdef"><b>Definition:</b> SError.h:31</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a28125e9cb31ffe8e65f308c16e6b28a5" name="a28125e9cb31ffe8e65f308c16e6b28a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28125e9cb31ffe8e65f308c16e6b28a5">&#9670;&nbsp;</a></span>CSTPic() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;<a class="el" href="class_c_s_t_pic.html">::CSTPic</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt; &amp;&#160;</td>
          <td class="paramname"><em>sp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  104</span>      :  <span class="comment">// throw(SMemAllocError) :</span></div>
<div class="line"><span class="lineno">  105</span>      m_lX(sp.m_lX)</div>
<div class="line"><span class="lineno">  106</span>      , m_lY(sp.m_lY)</div>
<div class="line"><span class="lineno">  107</span>      , m_pic(0)</div>
<div class="line"><span class="lineno">  108</span>      , m_ras(sp.m_ras) {</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  110</span>      <a class="code hl_function" href="class_c_s_t_pic.html#ad481a6c5ca2e3e95b27c756f5a50c999">initPic</a>();</div>
<div class="line"><span class="lineno">  111</span>      copyPic(sp);</div>
<div class="line"><span class="lineno">  112</span>    } <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_s_mem_alloc_error.html">SMemAllocError</a>) {</div>
<div class="line"><span class="lineno">  113</span>      null();</div>
<div class="line"><span class="lineno">  114</span>      <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  115</span>    }</div>
<div class="line"><span class="lineno">  116</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab103a0615584eaa2ce929f2d28246cb2" name="ab103a0615584eaa2ce929f2d28246cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab103a0615584eaa2ce929f2d28246cb2">&#9670;&nbsp;</a></span>~CSTPic()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::~<a class="el" href="class_c_s_t_pic.html">CSTPic</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  118</span>{ null(); }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1980204855dc696aef0c67aaddcf6254" name="a1980204855dc696aef0c67aaddcf6254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1980204855dc696aef0c67aaddcf6254">&#9670;&nbsp;</a></span>colorNoise()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::colorNoise </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;&#160;</td>
          <td class="paramname"><em>cc1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;&#160;</td>
          <td class="paramname"><em>cc2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  609</span>                                                                          {</div>
<div class="line"><span class="lineno">  610</span>    P c1, c2;</div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>    <span class="keywordflow">if</span> (d &lt;= 0) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>    convertToCurrentType(c1, cc1);</div>
<div class="line"><span class="lineno">  615</span>    convertToCurrentType(c2, cc2);</div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordtype">int</span> xy  = m_lX * m_lY;</div>
<div class="line"><span class="lineno">  617</span>    P *pPic = m_pic;</div>
<div class="line"><span class="lineno">  618</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; xy; i++, pPic++)</div>
<div class="line"><span class="lineno">  619</span>      <span class="keywordflow">if</span> (isSameColor(&amp;c1, pPic)) {</div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordtype">double</span> q = (rand() % 101) / 100.0;</div>
<div class="line"><span class="lineno">  621</span>        q        = d * q;</div>
<div class="line"><span class="lineno">  622</span>        q        = q &gt; 1.0 ? 1.0 : q;</div>
<div class="line"><span class="lineno">  623</span>        <span class="keywordtype">double</span> r = (1.0 - q) * (<span class="keywordtype">double</span>)c1.r + q * (double)c2.r;</div>
<div class="line"><span class="lineno">  624</span>        <span class="keywordtype">double</span> g = (1.0 - q) * (double)c1.g + q * (<span class="keywordtype">double</span>)c2.g;</div>
<div class="line"><span class="lineno">  625</span>        <span class="keywordtype">double</span> b = (1.0 - q) * (<span class="keywordtype">double</span>)c1.b + q * (double)c2.b;</div>
<div class="line"><span class="lineno">  626</span>        r        = D_CUT_0_255(r);</div>
<div class="line"><span class="lineno">  627</span>        g        = D_CUT_0_255(g);</div>
<div class="line"><span class="lineno">  628</span>        b        = D_CUT_0_255(b);</div>
<div class="line"><span class="lineno">  629</span>        pPic-&gt;r  = UC_ROUND(r);</div>
<div class="line"><span class="lineno">  630</span>        pPic-&gt;g  = UC_ROUND(g);</div>
<div class="line"><span class="lineno">  631</span>        pPic-&gt;b  = UC_ROUND(b);</div>
<div class="line"><span class="lineno">  632</span>      }</div>
<div class="line"><span class="lineno">  633</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a84534d11fdb50f6a80ac343ea80e0363" name="a84534d11fdb50f6a80ac343ea80e0363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84534d11fdb50f6a80ac343ea80e0363">&#9670;&nbsp;</a></span>convertToCurrentType()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::convertToCurrentType </td>
          <td>(</td>
          <td class="paramtype">P &amp;&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  589</span>                                                          {</div>
<div class="line"><span class="lineno">  590</span>    <span class="keywordflow">if</span> (getType() == ST_RGBM) {</div>
<div class="line"><span class="lineno">  591</span>      d.r = (UCHAR)s.r;</div>
<div class="line"><span class="lineno">  592</span>      d.g = (UCHAR)s.g;</div>
<div class="line"><span class="lineno">  593</span>      d.b = (UCHAR)s.b;</div>
<div class="line"><span class="lineno">  594</span>      d.m = (UCHAR)s.m;</div>
<div class="line"><span class="lineno">  595</span>    }</div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordflow">if</span> (getType() == ST_RGBM64) {</div>
<div class="line"><span class="lineno">  597</span>      d.r = (USHORT)s.r;</div>
<div class="line"><span class="lineno">  598</span>      d.g = (USHORT)s.g;</div>
<div class="line"><span class="lineno">  599</span>      d.b = (USHORT)s.b;</div>
<div class="line"><span class="lineno">  600</span>      d.m = (USHORT)s.m;</div>
<div class="line"><span class="lineno">  601</span>    }</div>
<div class="line"><span class="lineno">  602</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad16eabe06260f72f29682811846696c1" name="ad16eabe06260f72f29682811846696c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16eabe06260f72f29682811846696c1">&#9670;&nbsp;</a></span>copy_raster()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::copy_raster </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *&#160;</td>
          <td class="paramname"><em>ir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *&#160;</td>
          <td class="paramname"><em>out_r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>xBeg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>yBeg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>xEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>yEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>ox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>oy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  373</span>  {</div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordflow">if</span> ((ir-&gt;lx &lt;= 0) || (ir-&gt;ly &lt;= 0) || (out_r-&gt;lx &lt;= 0) || (out_r-&gt;ly &lt;= 0))</div>
<div class="line"><span class="lineno">  375</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  376</span>    <span class="keywordflow">if</span> (ir-&gt;buffer == NULL || out_r-&gt;buffer == NULL) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">if</span> (out_r-&gt;type == RAS_CM32) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">if</span> (ir-&gt;type == RAS_CM32 &amp;&amp; (ir-&gt;cmap.buffer == NULL)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = yBeg, yy = oy; y &lt;= yEnd; y++, yy++)</div>
<div class="line"><span class="lineno">  381</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = xBeg, xx = ox; x &lt;= xEnd; x++, xx++) {</div>
<div class="line"><span class="lineno">  382</span>        <a class="code hl_struct" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> ip;</div>
<div class="line"><span class="lineno">  383</span>        getRasterPixel(ir, x, y, ip);</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">if</span> (xx &gt;= 0 &amp;&amp; yy &gt;= 0 &amp;&amp; xx &lt; out_r-&gt;lx &amp;&amp; yy &lt; out_r-&gt;ly) {</div>
<div class="line"><span class="lineno">  385</span>          <a class="code hl_struct" href="struct_l_p_i_x_e_l.html">LPIXEL</a> *pL;</div>
<div class="line"><span class="lineno">  386</span>          <a class="code hl_struct" href="struct_s_p_i_x_e_l.html">SPIXEL</a> *pS;</div>
<div class="line"><span class="lineno">  387</span>          <span class="keywordflow">if</span> (out_r-&gt;type == RAS_RGBM &amp;&amp;</div>
<div class="line"><span class="lineno">  388</span>              (ir-&gt;type == RAS_RGBM || ir-&gt;type == RAS_CM32)) {</div>
<div class="line"><span class="lineno">  389</span>            pL    = (<a class="code hl_struct" href="struct_l_p_i_x_e_l.html">LPIXEL</a> *)(out_r-&gt;buffer) + yy * out_r-&gt;wrap + xx;</div>
<div class="line"><span class="lineno">  390</span>            pL-&gt;r = (UCHAR)ip.r;</div>
<div class="line"><span class="lineno">  391</span>            pL-&gt;g = (UCHAR)ip.g;</div>
<div class="line"><span class="lineno">  392</span>            pL-&gt;b = (UCHAR)ip.b;</div>
<div class="line"><span class="lineno">  393</span>            pL-&gt;m = (UCHAR)ip.m;</div>
<div class="line"><span class="lineno">  394</span>          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_r-&gt;type == RAS_RGBM &amp;&amp; ir-&gt;type == RAS_RGBM64) {</div>
<div class="line"><span class="lineno">  395</span>            pL    = (<a class="code hl_struct" href="struct_l_p_i_x_e_l.html">LPIXEL</a> *)(out_r-&gt;buffer) + yy * out_r-&gt;wrap + xx;</div>
<div class="line"><span class="lineno">  396</span>            pL-&gt;r = PIX_BYTE_FROM_USHORT((USHORT)ip.r);</div>
<div class="line"><span class="lineno">  397</span>            pL-&gt;g = PIX_BYTE_FROM_USHORT((USHORT)ip.g);</div>
<div class="line"><span class="lineno">  398</span>            pL-&gt;b = PIX_BYTE_FROM_USHORT((USHORT)ip.b);</div>
<div class="line"><span class="lineno">  399</span>            pL-&gt;m = PIX_BYTE_FROM_USHORT((USHORT)ip.m);</div>
<div class="line"><span class="lineno">  400</span>          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_r-&gt;type == RAS_RGBM64 &amp;&amp;</div>
<div class="line"><span class="lineno">  401</span>                     (ir-&gt;type == RAS_RGBM || ir-&gt;type == RAS_CM32)) {</div>
<div class="line"><span class="lineno">  402</span>            pS    = (<a class="code hl_struct" href="struct_s_p_i_x_e_l.html">SPIXEL</a> *)(out_r-&gt;buffer) + yy * out_r-&gt;wrap + xx;</div>
<div class="line"><span class="lineno">  403</span>            pS-&gt;r = PIX_USHORT_FROM_BYTE((UCHAR)ip.r);</div>
<div class="line"><span class="lineno">  404</span>            pS-&gt;g = PIX_USHORT_FROM_BYTE((UCHAR)ip.g);</div>
<div class="line"><span class="lineno">  405</span>            pS-&gt;b = PIX_USHORT_FROM_BYTE((UCHAR)ip.b);</div>
<div class="line"><span class="lineno">  406</span>            pS-&gt;m = PIX_USHORT_FROM_BYTE((UCHAR)ip.m);</div>
<div class="line"><span class="lineno">  407</span>          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (out_r-&gt;type == RAS_RGBM64 &amp;&amp; ir-&gt;type == RAS_RGBM64) {</div>
<div class="line"><span class="lineno">  408</span>            pS    = (<a class="code hl_struct" href="struct_s_p_i_x_e_l.html">SPIXEL</a> *)(out_r-&gt;buffer) + yy * out_r-&gt;wrap + xx;</div>
<div class="line"><span class="lineno">  409</span>            pS-&gt;r = (USHORT)ip.r;</div>
<div class="line"><span class="lineno">  410</span>            pS-&gt;g = (USHORT)ip.g;</div>
<div class="line"><span class="lineno">  411</span>            pS-&gt;b = (USHORT)ip.b;</div>
<div class="line"><span class="lineno">  412</span>            pS-&gt;m = (USHORT)ip.m;</div>
<div class="line"><span class="lineno">  413</span>          }</div>
<div class="line"><span class="lineno">  414</span>        }</div>
<div class="line"><span class="lineno">  415</span>      }</div>
<div class="line"><span class="lineno">  416</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  417</span>  }</div>
<div class="ttc" id="astruct___i___p_i_x_e_l_html"><div class="ttname"><a href="struct___i___p_i_x_e_l.html">_I_PIXEL</a></div><div class="ttdef"><b>Definition:</b> SDef.h:20</div></div>
<div class="ttc" id="astruct_l_p_i_x_e_l_html"><div class="ttname"><a href="struct_l_p_i_x_e_l.html">LPIXEL</a></div><div class="ttdef"><b>Definition:</b> tnz4.h:32</div></div>
<div class="ttc" id="astruct_s_p_i_x_e_l_html"><div class="ttname"><a href="struct_s_p_i_x_e_l.html">SPIXEL</a></div><div class="ttdef"><b>Definition:</b> tnz4.h:46</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5735c89fa921c2b779b0a1bda7eabbad" name="a5735c89fa921c2b779b0a1bda7eabbad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5735c89fa921c2b779b0a1bda7eabbad">&#9670;&nbsp;</a></span>copyPic() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::copyPic </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt; &amp;&#160;</td>
          <td class="paramname"><em>sp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  166</span>                                    {</div>
<div class="line"><span class="lineno">  167</span>    P p;</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; m_lY &amp;&amp; y &lt; sp.m_lY; y++)</div>
<div class="line"><span class="lineno">  169</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; m_lX &amp;&amp; x &lt; sp.m_lX; x++) {</div>
<div class="line"><span class="lineno">  170</span>        sp.getPixel(x, y, p);</div>
<div class="line"><span class="lineno">  171</span>        setRGBM(x, y, p);</div>
<div class="line"><span class="lineno">  172</span>      }</div>
<div class="line"><span class="lineno">  173</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5a4bfee789c6148e024415f5f72d0d8" name="ad5a4bfee789c6148e024415f5f72d0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5a4bfee789c6148e024415f5f72d0d8">&#9670;&nbsp;</a></span>copyPic() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::copyPic </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt; &amp;&#160;</td>
          <td class="paramname"><em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_s_r_e_c_t.html">SRECT</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_s_p_o_i_n_t.html">SPOINT</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  177</span>                                                                     {</div>
<div class="line"><span class="lineno">  178</span>    P ip;</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordtype">int</span> xs, ys, xd, yd;</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">for</span> (ys = r.y0, yd = p.y; ys &lt;= r.y1; ys++, yd++)</div>
<div class="line"><span class="lineno">  181</span>      <span class="keywordflow">for</span> (xs = r.x0, xd = p.x; xs &lt;= r.x1; xs++, xd++) {</div>
<div class="line"><span class="lineno">  182</span>        sp.getPixel(xs, ys, ip);</div>
<div class="line"><span class="lineno">  183</span>        setRGBM(xd, yd, ip);</div>
<div class="line"><span class="lineno">  184</span>      }</div>
<div class="line"><span class="lineno">  185</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac2d723c1ca70b43b789e8593a564d262" name="ac2d723c1ca70b43b789e8593a564d262"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2d723c1ca70b43b789e8593a564d262">&#9670;&nbsp;</a></span>drawRect() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::drawRect </td>
          <td>(</td>
          <td class="paramtype">const P &amp;&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  146</span>                             {</div>
<div class="line"><span class="lineno">  147</span>    <a class="code hl_struct" href="struct_s_r_e_c_t.html">SRECT</a> rect = {0, 0, m_lX - 1, m_lY - 1};</div>
<div class="line"><span class="lineno">  148</span>    drawRect(rect, ip);</div>
<div class="line"><span class="lineno">  149</span>  }</div>
<div class="ttc" id="astruct_s_r_e_c_t_html"><div class="ttname"><a href="struct_s_r_e_c_t.html">SRECT</a></div><div class="ttdef"><b>Definition:</b> SDef.h:39</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66e869b891951675d343458a7e1437ff" name="a66e869b891951675d343458a7e1437ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66e869b891951675d343458a7e1437ff">&#9670;&nbsp;</a></span>drawRect() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::drawRect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_s_r_e_c_t.html">SRECT</a> &amp;&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const P &amp;&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  188</span>                                                {</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = rect.x0; x &lt;= rect.x1; x++) {</div>
<div class="line"><span class="lineno">  190</span>      setRGBM(x, rect.y0, ip);</div>
<div class="line"><span class="lineno">  191</span>      setRGBM(x, rect.y1, ip);</div>
<div class="line"><span class="lineno">  192</span>    }</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = rect.y0; y &lt;= rect.y1; y++) {</div>
<div class="line"><span class="lineno">  194</span>      setRGBM(rect.x0, y, ip);</div>
<div class="line"><span class="lineno">  195</span>      setRGBM(rect.x1, y, ip);</div>
<div class="line"><span class="lineno">  196</span>    }</div>
<div class="line"><span class="lineno">  197</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a34fcac0c20d76e7038ad09e5fe7bfdf7" name="a34fcac0c20d76e7038ad09e5fe7bfdf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34fcac0c20d76e7038ad09e5fe7bfdf7">&#9670;&nbsp;</a></span>erease()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::erease </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  199</span>                {</div>
<div class="line"><span class="lineno">  200</span>    P p = {0, 0, 0, 0};</div>
<div class="line"><span class="lineno">  201</span>    fill(p);</div>
<div class="line"><span class="lineno">  202</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a34528ccab529c333d7364dd50b4bacff" name="a34528ccab529c333d7364dd50b4bacff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34528ccab529c333d7364dd50b4bacff">&#9670;&nbsp;</a></span>fill()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::fill </td>
          <td>(</td>
          <td class="paramtype">const P &amp;&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  204</span>                         {</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; m_lY; y++)</div>
<div class="line"><span class="lineno">  206</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; m_lX; x++) setRGBM(x, y, ip);</div>
<div class="line"><span class="lineno">  207</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a340934ad7e8f935ca32726b235421d7d" name="a340934ad7e8f935ca32726b235421d7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a340934ad7e8f935ca32726b235421d7d">&#9670;&nbsp;</a></span>fromHue()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::fromHue </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>n2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>hue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  679</span>                                                   {</div>
<div class="line"><span class="lineno">  680</span>    <span class="keywordtype">double</span> v, h;</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>    h = hue &gt; 360.0 ? hue - 360.0 : hue;</div>
<div class="line"><span class="lineno">  683</span>    h = h &lt; 0.0 ? h + 360.0 : h;</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>    <span class="keywordflow">if</span> (h &lt; 60.0) {</div>
<div class="line"><span class="lineno">  686</span>      v = n1 + (n2 - n1) * h / 60.0;</div>
<div class="line"><span class="lineno">  687</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (h &lt; 180.0) {</div>
<div class="line"><span class="lineno">  688</span>      v = n2;</div>
<div class="line"><span class="lineno">  689</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (h &lt; 240.0) {</div>
<div class="line"><span class="lineno">  690</span>      v = n1 + (n2 - n1) * (240.0 - h) / 60.0;</div>
<div class="line"><span class="lineno">  691</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  692</span>      v = n1;</div>
<div class="line"><span class="lineno">  693</span>    <span class="keywordflow">return</span> (v);</div>
<div class="line"><span class="lineno">  694</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af6b617fb67363eeedd1d19a0f00a2ca6" name="af6b617fb67363eeedd1d19a0f00a2ca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6b617fb67363eeedd1d19a0f00a2ca6">&#9670;&nbsp;</a></span>getPixel() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::getPixel </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  277</span>                                                             {</div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">if</span> (ISINPIC(x, y)) {</div>
<div class="line"><span class="lineno">  279</span>      <span class="keyword">const</span> P *p = m_pic + y * m_lX + x;</div>
<div class="line"><span class="lineno">  280</span>      ip.r       = (int)p-&gt;r;</div>
<div class="line"><span class="lineno">  281</span>      ip.g       = (<span class="keywordtype">int</span>)p-&gt;g;</div>
<div class="line"><span class="lineno">  282</span>      ip.b       = (int)p-&gt;b;</div>
<div class="line"><span class="lineno">  283</span>      ip.m       = (<span class="keywordtype">int</span>)p-&gt;m;</div>
<div class="line"><span class="lineno">  284</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  285</span>    }</div>
<div class="line"><span class="lineno">  286</span>    ip.r = ip.g = ip.b = ip.m = 0;</div>
<div class="line"><span class="lineno">  287</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afaefcabcb6c7aa39ce9ab220ad306e4e" name="afaefcabcb6c7aa39ce9ab220ad306e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaefcabcb6c7aa39ce9ab220ad306e4e">&#9670;&nbsp;</a></span>getPixel() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::getPixel </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">P &amp;&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  268</span>                                                       {</div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">if</span> (ISINPIC(x, y)) {</div>
<div class="line"><span class="lineno">  270</span>      <span class="keyword">const</span> P *p = m_pic + y * m_lX + x;</div>
<div class="line"><span class="lineno">  271</span>      ASSIGN_PIXEL(&amp;ip, p);</div>
<div class="line"><span class="lineno">  272</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  273</span>    }</div>
<div class="line"><span class="lineno">  274</span>    ip.r = ip.g = ip.b = ip.m = 0;</div>
<div class="line"><span class="lineno">  275</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a940642c3324f95154c41d1102d8c574d" name="a940642c3324f95154c41d1102d8c574d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a940642c3324f95154c41d1102d8c574d">&#9670;&nbsp;</a></span>getRasterPixel() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::getRasterPixel </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  332</span>                                                                   {</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">if</span> (m_ras)</div>
<div class="line"><span class="lineno">  334</span>      getRasterPixel(m_ras, x, y, ip);</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  336</span>      ip.r = ip.g = ip.b = ip.m = 0;</div>
<div class="line"><span class="lineno">  337</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a5f187dbddd77333ac09347265068d1" name="a8a5f187dbddd77333ac09347265068d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a5f187dbddd77333ac09347265068d1">&#9670;&nbsp;</a></span>getRasterPixel() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::getRasterPixel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *&#160;</td>
          <td class="paramname"><em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  293</span>                                         {</div>
<div class="line"><span class="lineno">  294</span>    <span class="keywordflow">if</span> (x &gt;= 0 &amp;&amp; x &lt; ras-&gt;lx &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; ras-&gt;ly &amp;&amp; ras-&gt;buffer) {</div>
<div class="line"><span class="lineno">  295</span>      <a class="code hl_struct" href="struct_l_p_i_x_e_l.html">LPIXEL</a> *pL;</div>
<div class="line"><span class="lineno">  296</span>      <a class="code hl_struct" href="struct_l_p_i_x_e_l.html">LPIXEL</a> pLL;</div>
<div class="line"><span class="lineno">  297</span>      <a class="code hl_struct" href="struct_s_p_i_x_e_l.html">SPIXEL</a> *pS;</div>
<div class="line"><span class="lineno">  298</span>      UD44_CMAPINDEX32 *ci32;</div>
<div class="line"><span class="lineno">  299</span>      <span class="comment">// UD44_PIXEL32* pen;</span></div>
<div class="line"><span class="lineno">  300</span>      UD44_PIXEL32 *col;</div>
<div class="line"><span class="lineno">  301</span>      <span class="keywordflow">switch</span> (ras-&gt;type) {</div>
<div class="line"><span class="lineno">  302</span>      <span class="keywordflow">case</span> (RAS_RGBM):</div>
<div class="line"><span class="lineno">  303</span>        pL   = (<a class="code hl_struct" href="struct_l_p_i_x_e_l.html">LPIXEL</a> *)(ras-&gt;buffer) + y * ras-&gt;wrap + x;</div>
<div class="line"><span class="lineno">  304</span>        ip.r = (int)pL-&gt;r;</div>
<div class="line"><span class="lineno">  305</span>        ip.g = (<span class="keywordtype">int</span>)pL-&gt;g;</div>
<div class="line"><span class="lineno">  306</span>        ip.b = (int)pL-&gt;b;</div>
<div class="line"><span class="lineno">  307</span>        ip.m = (<span class="keywordtype">int</span>)pL-&gt;m;</div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  309</span>      <span class="keywordflow">case</span> (RAS_RGBM64):</div>
<div class="line"><span class="lineno">  310</span>        pS   = (<a class="code hl_struct" href="struct_s_p_i_x_e_l.html">SPIXEL</a> *)(ras-&gt;buffer) + y * ras-&gt;wrap + x;</div>
<div class="line"><span class="lineno">  311</span>        ip.r = (int)pS-&gt;r;</div>
<div class="line"><span class="lineno">  312</span>        ip.g = (<span class="keywordtype">int</span>)pS-&gt;g;</div>
<div class="line"><span class="lineno">  313</span>        ip.b = (int)pS-&gt;b;</div>
<div class="line"><span class="lineno">  314</span>        ip.m = (<span class="keywordtype">int</span>)pS-&gt;m;</div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  316</span>      <span class="keywordflow">case</span> (RAS_CM32):</div>
<div class="line"><span class="lineno">  317</span>        ci32 = (UD44_CMAPINDEX32 *)(ras-&gt;buffer) + y * ras-&gt;wrap + x;</div>
<div class="line"><span class="lineno">  318</span>        col  = (UD44_PIXEL32 *)(ras-&gt;cmap.buffer);</div>
<div class="line"><span class="lineno">  319</span>        PIX_CM32_MAP_TO_RGBM(*ci32, col, pLL)</div>
<div class="line"><span class="lineno">  320</span>        ip.r = (int)pLL.r;</div>
<div class="line"><span class="lineno">  321</span>        ip.g = (<span class="keywordtype">int</span>)pLL.g;</div>
<div class="line"><span class="lineno">  322</span>        ip.b = (int)pLL.b;</div>
<div class="line"><span class="lineno">  323</span>        ip.m = (<span class="keywordtype">int</span>)pLL.m;</div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  325</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  326</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  327</span>     }</div>
<div class="line"><span class="lineno">  328</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  329</span>      ip.r = ip.g = ip.b = ip.m = 0;</div>
<div class="line"><span class="lineno">  330</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9f5dc9d8b7c65c2dc5fd205a0242020" name="ac9f5dc9d8b7c65c2dc5fd205a0242020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f5dc9d8b7c65c2dc5fd205a0242020">&#9670;&nbsp;</a></span>getType()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ST_TYPE <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::getType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  157</span>                          {</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">if</span> (!m_pic) <span class="keywordflow">return</span> ST_NIL;</div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(m_pic-&gt;r) == <span class="keyword">sizeof</span>(UCHAR)) <span class="keywordflow">return</span> ST_RGBM;</div>
<div class="line"><span class="lineno">  160</span>    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(m_pic-&gt;r) == <span class="keyword">sizeof</span>(USHORT)) <span class="keywordflow">return</span> ST_RGBM64;</div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">return</span> ST_NIL;</div>
<div class="line"><span class="lineno">  162</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae4901cf1c068e42afcc3f1bad783f844" name="ae4901cf1c068e42afcc3f1bad783f844"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4901cf1c068e42afcc3f1bad783f844">&#9670;&nbsp;</a></span>hls2rgb()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::hls2rgb </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR *&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  696</span>                                                                           {</div>
<div class="line"><span class="lineno">  697</span>    <span class="keywordtype">double</span> rf, gf, bf;</div>
<div class="line"><span class="lineno">  698</span>    <span class="keywordtype">double</span> m1, m2;</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>    m2 = l &lt;= 0.5 ? l * (1.0 + s) : l + s - l * s;</div>
<div class="line"><span class="lineno">  701</span>    m1 = 2 * l - m2;</div>
<div class="line"><span class="lineno">  702</span>    <span class="keywordflow">if</span> (fabs(s - 0.0) &lt; 0.000001) {</div>
<div class="line"><span class="lineno">  703</span>      <span class="keywordflow">if</span> (fabs(h - UNDEFINED) &lt; 0.000001) {</div>
<div class="line"><span class="lineno">  704</span>        rf = gf = bf = l * 255.0;</div>
<div class="line"><span class="lineno">  705</span>      } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  706</span>        rf = gf = bf = 0.0;</div>
<div class="line"><span class="lineno">  707</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  708</span>      rf = fromHue(m1, m2, h + 120.0) * 255.0;</div>
<div class="line"><span class="lineno">  709</span>      gf = fromHue(m1, m2, h) * 255.0;</div>
<div class="line"><span class="lineno">  710</span>      bf = fromHue(m1, m2, h - 120.0) * 255.0;</div>
<div class="line"><span class="lineno">  711</span>    }</div>
<div class="line"><span class="lineno">  712</span>    rf = D_CUT_0_255(rf);</div>
<div class="line"><span class="lineno">  713</span>    gf = D_CUT_0_255(gf);</div>
<div class="line"><span class="lineno">  714</span>    bf = D_CUT_0_255(bf);</div>
<div class="line"><span class="lineno">  715</span>    *r = UC_ROUND(rf);</div>
<div class="line"><span class="lineno">  716</span>    *g = UC_ROUND(gf);</div>
<div class="line"><span class="lineno">  717</span>    *b = UC_ROUND(bf);</div>
<div class="line"><span class="lineno">  718</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad481a6c5ca2e3e95b27c756f5a50c999" name="ad481a6c5ca2e3e95b27c756f5a50c999"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad481a6c5ca2e3e95b27c756f5a50c999">&#9670;&nbsp;</a></span>initPic()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::initPic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Allocates the specified raster and surrenders it to the image cache. <b>NOTE:</b> The raster being initialized is LOCKED after this call. You must remember to UNLOCK it when no more used. </p>
<div class="fragment"><div class="line"><span class="lineno">  124</span>  {</div>
<div class="line"><span class="lineno">  125</span>    nullPic();</div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">if</span> (m_lX &gt; 0 &amp;&amp; m_lY &gt; 0) {</div>
<div class="line"><span class="lineno">  127</span>      <span class="comment">// m_pic=new P[m_lX*m_lY];</span></div>
<div class="line"><span class="lineno">  128</span>      <a class="code hl_class" href="class_t_raster_p_t.html">TRasterGR8P</a> ras(m_lX * m_lY * <span class="keyword">sizeof</span>(P), 1);</div>
<div class="line"><span class="lineno">  129</span>      <span class="keywordflow">if</span> (!ras) <span class="keywordflow">throw</span> <a class="code hl_class" href="class_s_mem_alloc_error.html">SMemAllocError</a>(<span class="stringliteral">&quot;in initPic&quot;</span>);</div>
<div class="line"><span class="lineno">  130</span>      TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">add</a>(m_cacheId, <a class="code hl_class" href="class_t_raster_image_p.html">TRasterImageP</a>(ras));</div>
<div class="line"><span class="lineno">  131</span>      <a class="code hl_function" href="class_c_s_t_pic.html#ab064a2f6b02565124a1cad1748a65b4f">lock</a>();</div>
<div class="line"><span class="lineno">  132</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  133</span>      <span class="keywordtype">char</span> s[200];</div>
<div class="line"><span class="lineno">  134</span>      snprintf(s, <span class="keyword">sizeof</span>(s), <span class="stringliteral">&quot;in initPic lXY=(%d,%d)\n&quot;</span>, m_lX, m_lY);</div>
<div class="line"><span class="lineno">  135</span>      <span class="keywordflow">throw</span> <a class="code hl_class" href="class_s_mem_alloc_error.html">SMemAllocError</a>(s);</div>
<div class="line"><span class="lineno">  136</span>    }</div>
<div class="line"><span class="lineno">  137</span>  }</div>
<div class="ttc" id="aclass_c_s_t_pic_html_ab064a2f6b02565124a1cad1748a65b4f"><div class="ttname"><a href="class_c_s_t_pic.html#ab064a2f6b02565124a1cad1748a65b4f">CSTPic::lock</a></div><div class="ttdeci">void lock()</div><div class="ttdoc">Retrieves the raster image from the cache to work with it.</div><div class="ttdef"><b>Definition:</b> STPic.h:77</div></div>
<div class="ttc" id="aclass_t_image_cache_html_a124eae4cf370288f42c22b3477cb5163"><div class="ttname"><a href="class_t_image_cache.html#a124eae4cf370288f42c22b3477cb5163">TImageCache::add</a></div><div class="ttdeci">void add(const std::string &amp;id, const TImageP &amp;img, bool overwrite=true)</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1153</div></div>
<div class="ttc" id="aclass_t_raster_image_p_html"><div class="ttname"><a href="class_t_raster_image_p.html">TRasterImageP</a></div><div class="ttdef"><b>Definition:</b> trasterimage.h:148</div></div>
<div class="ttc" id="aclass_t_raster_p_t_html"><div class="ttname"><a href="class_t_raster_p_t.html">TRasterPT&lt; TPixelGR8 &gt;</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01153">TImageCache::add()</a>, and <a class="el" href="#l00077">CSTPic&lt; P &gt;::lock()</a>.</p>

</div>
</div>
<a id="abd6fcb38f4ca9df825bd280750a71a4b" name="abd6fcb38f4ca9df825bd280750a71a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd6fcb38f4ca9df825bd280750a71a4b">&#9670;&nbsp;</a></span>isInPic()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::isInPic </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  210</span>                                                      {</div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">return</span> (m_pic &amp;&amp; x &gt;= 0 &amp;&amp; x &lt; m_lX &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; m_lY);</div>
<div class="line"><span class="lineno">  212</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a16a96008ab2bf1f4697526b2f2e069e1" name="a16a96008ab2bf1f4697526b2f2e069e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16a96008ab2bf1f4697526b2f2e069e1">&#9670;&nbsp;</a></span>isSameColor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::isSameColor </td>
          <td>(</td>
          <td class="paramtype">const P *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const P *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  604</span>                                                 {</div>
<div class="line"><span class="lineno">  605</span>    <span class="keywordflow">if</span> (a-&gt;r == b-&gt;r &amp;&amp; a-&gt;g == b-&gt;g &amp;&amp; a-&gt;b == b-&gt;b) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  606</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  607</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab064a2f6b02565124a1cad1748a65b4f" name="ab064a2f6b02565124a1cad1748a65b4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab064a2f6b02565124a1cad1748a65b4f">&#9670;&nbsp;</a></span>lock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves the raster image from the cache to work with it. </p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>              {</div>
<div class="line"><span class="lineno">   78</span>    m_picP = TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#aea3ac2752efd6fa9689f5a7c1e895e41">get</a>(m_cacheId, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   79</span>    m_pic  = (P *)m_picP-&gt;getRaster()-&gt;getRawData();</div>
<div class="line"><span class="lineno">   80</span>  }</div>
<div class="ttc" id="aclass_t_image_cache_html_aea3ac2752efd6fa9689f5a7c1e895e41"><div class="ttname"><a href="class_t_image_cache.html#aea3ac2752efd6fa9689f5a7c1e895e41">TImageCache::get</a></div><div class="ttdeci">TImageP get(const std::string &amp;id, bool toBeModified) const</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1672</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#l01672">TImageCache::get()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#l00123">CSTPic&lt; P &gt;::initPic()</a>.</p>

</div>
</div>
<a id="aaaa1ff6f78688e06634ca7a5ed00ed62" name="aaaa1ff6f78688e06634ca7a5ed00ed62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaa1ff6f78688e06634ca7a5ed00ed62">&#9670;&nbsp;</a></span>null()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::null </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  139</span>              {</div>
<div class="line"><span class="lineno">  140</span>    nullPic();</div>
<div class="line"><span class="lineno">  141</span>    m_lX = m_lY = 0;</div>
<div class="line"><span class="lineno">  142</span>    m_ras       = 0;</div>
<div class="line"><span class="lineno">  143</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f387b8a42526e6f894a8306100c82f3" name="a1f387b8a42526e6f894a8306100c82f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f387b8a42526e6f894a8306100c82f3">&#9670;&nbsp;</a></span>nullPic()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::nullPic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   70</span>                 {</div>
<div class="line"><span class="lineno">   71</span>    <span class="comment">// if ( m_pic ) { delete [] m_pic; m_pic=0; }</span></div>
<div class="line"><span class="lineno">   72</span>    <a class="code hl_function" href="class_c_s_t_pic.html#a7a4af9d2c4118800036bf8501daee2a9">unlock</a>();</div>
<div class="line"><span class="lineno">   73</span>    TImageCache::instance()-&gt;<a class="code hl_function" href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">remove</a>(m_cacheId);</div>
<div class="line"><span class="lineno">   74</span>  }</div>
<div class="ttc" id="aclass_c_s_t_pic_html_a7a4af9d2c4118800036bf8501daee2a9"><div class="ttname"><a href="class_c_s_t_pic.html#a7a4af9d2c4118800036bf8501daee2a9">CSTPic::unlock</a></div><div class="ttdeci">void unlock()</div><div class="ttdoc">Release the raster image for inactivity periods.</div><div class="ttdef"><b>Definition:</b> STPic.h:83</div></div>
<div class="ttc" id="aclass_t_image_cache_html_a57d63227dfe2532b0aed22c47113be66"><div class="ttname"><a href="class_t_image_cache.html#a57d63227dfe2532b0aed22c47113be66">TImageCache::remove</a></div><div class="ttdeci">void remove(const std::string &amp;id)</div><div class="ttdoc">Removes from the image cache the image associated to passed id.</div><div class="ttdef"><b>Definition:</b> timagecache.cpp:1260</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a445ad3e91904d1649b28a123a0fd0995" name="a445ad3e91904d1649b28a123a0fd0995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a445ad3e91904d1649b28a123a0fd0995">&#9670;&nbsp;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt; &amp; <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt; &amp;&#160;</td>
          <td class="paramname"><em>sp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  486</span>  {</div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  488</span>      null();</div>
<div class="line"><span class="lineno">  489</span>      m_lX  = sp.m_lX;</div>
<div class="line"><span class="lineno">  490</span>      m_lY  = sp.m_lY;</div>
<div class="line"><span class="lineno">  491</span>      m_ras = sp.m_ras;</div>
<div class="line"><span class="lineno">  492</span>      <a class="code hl_function" href="class_c_s_t_pic.html#ad481a6c5ca2e3e95b27c756f5a50c999">initPic</a>();</div>
<div class="line"><span class="lineno">  493</span>      copyPic(sp);</div>
<div class="line"><span class="lineno">  494</span>    } <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_s_mem_alloc_error.html">SMemAllocError</a>) {</div>
<div class="line"><span class="lineno">  495</span>      null();</div>
<div class="line"><span class="lineno">  496</span>      <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  497</span>    }</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>    <span class="keywordflow">return</span> (*<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  500</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a95b3eea147c606262e4f41a21839b9c8" name="a95b3eea147c606262e4f41a21839b9c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95b3eea147c606262e4f41a21839b9c8">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::read </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *&#160;</td>
          <td class="paramname"><em>ras</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  424</span>  {</div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  426</span>      null();</div>
<div class="line"><span class="lineno">  427</span>      <span class="keywordflow">if</span> (((ras-&gt;type == RAS_RGBM || ras-&gt;type == RAS_RGBM64) &amp;&amp; ras-&gt;buffer &amp;&amp;</div>
<div class="line"><span class="lineno">  428</span>           ras-&gt;lx &gt; 0 &amp;&amp; ras-&gt;ly &gt; 0) ||</div>
<div class="line"><span class="lineno">  429</span>          (ras-&gt;type == RAS_CM32 &amp;&amp; ras-&gt;buffer &amp;&amp; ras-&gt;cmap.buffer &amp;&amp;</div>
<div class="line"><span class="lineno">  430</span>           ras-&gt;lx &gt; 0 &amp;&amp; ras-&gt;ly &gt; 0)) {</div>
<div class="line"><span class="lineno">  431</span>        m_lX  = ras-&gt;lx;</div>
<div class="line"><span class="lineno">  432</span>        m_lY  = ras-&gt;ly;</div>
<div class="line"><span class="lineno">  433</span>        m_ras = ras;</div>
<div class="line"><span class="lineno">  434</span>        <a class="code hl_function" href="class_c_s_t_pic.html#ad481a6c5ca2e3e95b27c756f5a50c999">initPic</a>();</div>
<div class="line"><span class="lineno">  435</span>        <a class="code hl_function" href="class_c_s_t_pic.html#ab064a2f6b02565124a1cad1748a65b4f">lock</a>();</div>
<div class="line"><span class="lineno">  436</span>        ST_TYPE type = getType();</div>
<div class="line"><span class="lineno">  437</span>        P *p         = m_pic;</div>
<div class="line"><span class="lineno">  438</span>        <a class="code hl_struct" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> ip;</div>
<div class="line"><span class="lineno">  439</span>        memset(&amp;ip, 0, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="struct___i___p_i_x_e_l.html">I_PIXEL</a>));</div>
<div class="line"><span class="lineno">  440</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> y = 0; y &lt; m_lY; y++)</div>
<div class="line"><span class="lineno">  441</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> x = 0; x &lt; m_lX; x++, p++) {</div>
<div class="line"><span class="lineno">  442</span>            getRasterPixel(ras, x, y, ip);</div>
<div class="line"><span class="lineno">  443</span>            <span class="keywordflow">switch</span> (type) {</div>
<div class="line"><span class="lineno">  444</span>            <span class="keywordflow">case</span> (ST_RGBM):</div>
<div class="line"><span class="lineno">  445</span>              <span class="keywordflow">if</span> (ras-&gt;type == RAS_RGBM64) {</div>
<div class="line"><span class="lineno">  446</span>                <span class="comment">// RGBM have to be &#39;scaled&#39; from USHORT to UCHAR</span></div>
<div class="line"><span class="lineno">  447</span>                p-&gt;r = PIX_BYTE_FROM_USHORT((USHORT)ip.r);</div>
<div class="line"><span class="lineno">  448</span>                p-&gt;g = PIX_BYTE_FROM_USHORT((USHORT)ip.g);</div>
<div class="line"><span class="lineno">  449</span>                p-&gt;b = PIX_BYTE_FROM_USHORT((USHORT)ip.b);</div>
<div class="line"><span class="lineno">  450</span>                p-&gt;m = PIX_BYTE_FROM_USHORT((USHORT)ip.m);</div>
<div class="line"><span class="lineno">  451</span>              } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  452</span>                <span class="comment">// RGBM are UCHAR in the raster</span></div>
<div class="line"><span class="lineno">  453</span>                p-&gt;r = (UCHAR)ip.r;</div>
<div class="line"><span class="lineno">  454</span>                p-&gt;g = (UCHAR)ip.g;</div>
<div class="line"><span class="lineno">  455</span>                p-&gt;b = (UCHAR)ip.b;</div>
<div class="line"><span class="lineno">  456</span>                p-&gt;m = (UCHAR)ip.m;</div>
<div class="line"><span class="lineno">  457</span>              }</div>
<div class="line"><span class="lineno">  458</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  459</span>            <span class="keywordflow">case</span> (ST_RGBM64):</div>
<div class="line"><span class="lineno">  460</span>              <span class="keywordflow">if</span> (ras-&gt;type == RAS_RGBM64) {</div>
<div class="line"><span class="lineno">  461</span>                <span class="comment">// RGBM are USHORT in the raster</span></div>
<div class="line"><span class="lineno">  462</span>                p-&gt;r = ip.r;</div>
<div class="line"><span class="lineno">  463</span>                p-&gt;g = ip.g;</div>
<div class="line"><span class="lineno">  464</span>                p-&gt;b = ip.b;</div>
<div class="line"><span class="lineno">  465</span>                p-&gt;m = ip.m;</div>
<div class="line"><span class="lineno">  466</span>              } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  467</span>                <span class="comment">// RGBM have to be &#39;scaled&#39; from UCHAR to USHORT</span></div>
<div class="line"><span class="lineno">  468</span>                p-&gt;r = PIX_USHORT_FROM_BYTE((UCHAR)ip.r);</div>
<div class="line"><span class="lineno">  469</span>                p-&gt;g = PIX_USHORT_FROM_BYTE((UCHAR)ip.g);</div>
<div class="line"><span class="lineno">  470</span>                p-&gt;b = PIX_USHORT_FROM_BYTE((UCHAR)ip.b);</div>
<div class="line"><span class="lineno">  471</span>                p-&gt;m = PIX_USHORT_FROM_BYTE((UCHAR)ip.m);</div>
<div class="line"><span class="lineno">  472</span>              }</div>
<div class="line"><span class="lineno">  473</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  474</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  475</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  476</span>            }</div>
<div class="line"><span class="lineno">  477</span>          }</div>
<div class="line"><span class="lineno">  478</span>      }</div>
<div class="line"><span class="lineno">  479</span>    } <span class="keywordflow">catch</span> (<a class="code hl_class" href="class_s_mem_alloc_error.html">SMemAllocError</a>) {</div>
<div class="line"><span class="lineno">  480</span>      null();</div>
<div class="line"><span class="lineno">  481</span>      <span class="keywordflow">throw</span>;</div>
<div class="line"><span class="lineno">  482</span>    }</div>
<div class="line"><span class="lineno">  483</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a9738de965c97e164c49a184510553f" name="a0a9738de965c97e164c49a184510553f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a9738de965c97e164c49a184510553f">&#9670;&nbsp;</a></span>rgb2hls()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::rgb2hls </td>
          <td>(</td>
          <td class="paramtype">UCHAR&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UCHAR&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  650</span>                                                                           {</div>
<div class="line"><span class="lineno">  651</span>    <span class="keywordtype">double</span> ma, mi, delta, sum;</div>
<div class="line"><span class="lineno">  652</span>    <span class="keywordtype">double</span> rf, gf, bf;</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    rf = (double)r / 255.0;</div>
<div class="line"><span class="lineno">  655</span>    gf = (double)g / 255.0;</div>
<div class="line"><span class="lineno">  656</span>    bf = (double)b / 255.0;</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>    ma    = rf &gt; gf ? rf : gf;</div>
<div class="line"><span class="lineno">  659</span>    ma    = ma &gt; bf ? ma : bf;</div>
<div class="line"><span class="lineno">  660</span>    mi    = rf &lt; gf ? rf : gf;</div>
<div class="line"><span class="lineno">  661</span>    mi    = mi &lt; bf ? mi : bf;</div>
<div class="line"><span class="lineno">  662</span>    sum   = ma + mi;</div>
<div class="line"><span class="lineno">  663</span>    delta = ma - mi;</div>
<div class="line"><span class="lineno">  664</span>    *l    = sum / 2.0;</div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordflow">if</span> (fabs(delta) &lt; 0.000001) {</div>
<div class="line"><span class="lineno">  666</span>      *s = 0.0;</div>
<div class="line"><span class="lineno">  667</span>      *h = UNDEFINED;</div>
<div class="line"><span class="lineno">  668</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  669</span>      *s = *l &lt;= 0.5 ? delta / sum : delta / (2.0 - sum);</div>
<div class="line"><span class="lineno">  670</span>      *h = fabs((rf - ma)) &lt; 0.000001</div>
<div class="line"><span class="lineno">  671</span>               ? (gf - bf) / delta</div>
<div class="line"><span class="lineno">  672</span>               : (fabs((gf - ma)) &lt; 0.000001 ? 2.0 + (bf - rf) / delta</div>
<div class="line"><span class="lineno">  673</span>                                             : 4.0 + (rf - gf) / delta);</div>
<div class="line"><span class="lineno">  674</span>      *h *= 60;</div>
<div class="line"><span class="lineno">  675</span>      *h = *h &lt; 0.0 ? *h + 360.0 : *h;</div>
<div class="line"><span class="lineno">  676</span>    }</div>
<div class="line"><span class="lineno">  677</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afe817d6683efc153603049c51db11f53" name="afe817d6683efc153603049c51db11f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe817d6683efc153603049c51db11f53">&#9670;&nbsp;</a></span>setRasterPixel()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::setRasterPixel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *&#160;</td>
          <td class="paramname"><em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  344</span>                                               {</div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">if</span> (x &gt;= 0 &amp;&amp; x &lt; ras-&gt;lx &amp;&amp; y &gt;= 0 &amp;&amp; y &lt; ras-&gt;ly &amp;&amp; ras-&gt;buffer) {</div>
<div class="line"><span class="lineno">  346</span>      <a class="code hl_struct" href="struct_l_p_i_x_e_l.html">LPIXEL</a> *pL;</div>
<div class="line"><span class="lineno">  347</span>      <a class="code hl_struct" href="struct_s_p_i_x_e_l.html">SPIXEL</a> *pS;</div>
<div class="line"><span class="lineno">  348</span>      <span class="keywordflow">switch</span> (ras-&gt;type) {</div>
<div class="line"><span class="lineno">  349</span>      <span class="keywordflow">case</span> (RAS_RGBM):</div>
<div class="line"><span class="lineno">  350</span>        pL    = (<a class="code hl_struct" href="struct_l_p_i_x_e_l.html">LPIXEL</a> *)(ras-&gt;buffer) + y * ras-&gt;wrap + x;</div>
<div class="line"><span class="lineno">  351</span>        pL-&gt;r = (UCHAR)ip.r;</div>
<div class="line"><span class="lineno">  352</span>        pL-&gt;g = (UCHAR)ip.g;</div>
<div class="line"><span class="lineno">  353</span>        pL-&gt;b = (UCHAR)ip.b;</div>
<div class="line"><span class="lineno">  354</span>        pL-&gt;m = (UCHAR)ip.m;</div>
<div class="line"><span class="lineno">  355</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  356</span>      <span class="keywordflow">case</span> (RAS_RGBM64):</div>
<div class="line"><span class="lineno">  357</span>        pS    = (<a class="code hl_struct" href="struct_s_p_i_x_e_l.html">SPIXEL</a> *)(ras-&gt;buffer) + y * ras-&gt;wrap + x;</div>
<div class="line"><span class="lineno">  358</span>        pS-&gt;r = (USHORT)ip.r;</div>
<div class="line"><span class="lineno">  359</span>        pS-&gt;g = (USHORT)ip.g;</div>
<div class="line"><span class="lineno">  360</span>        pS-&gt;b = (USHORT)ip.b;</div>
<div class="line"><span class="lineno">  361</span>        pS-&gt;m = (USHORT)ip.m;</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  363</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  364</span>         <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  365</span>      }</div>
<div class="line"><span class="lineno">  366</span>    }</div>
<div class="line"><span class="lineno">  367</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a908e34e89cdcef5a74093ba22692c516" name="a908e34e89cdcef5a74093ba22692c516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a908e34e89cdcef5a74093ba22692c516">&#9670;&nbsp;</a></span>setRGB() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::setRGB </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  235</span>                                                           {</div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> (ISINPIC(x, y)) {</div>
<div class="line"><span class="lineno">  237</span>      P *p = m_pic + y * m_lX + x;</div>
<div class="line"><span class="lineno">  238</span>      <span class="keywordflow">if</span> (getType() == ST_RGBM) {</div>
<div class="line"><span class="lineno">  239</span>        p-&gt;r = (UCHAR)I_CUT_0_255(ip.r);</div>
<div class="line"><span class="lineno">  240</span>        p-&gt;g = (UCHAR)I_CUT_0_255(ip.g);</div>
<div class="line"><span class="lineno">  241</span>        p-&gt;b = (UCHAR)I_CUT_0_255(ip.b);</div>
<div class="line"><span class="lineno">  242</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (getType() == ST_RGBM64) {</div>
<div class="line"><span class="lineno">  243</span>        p-&gt;r = (USHORT)I_CUT_0_65535(ip.r);</div>
<div class="line"><span class="lineno">  244</span>        p-&gt;g = (USHORT)I_CUT_0_65535(ip.g);</div>
<div class="line"><span class="lineno">  245</span>        p-&gt;b = (USHORT)I_CUT_0_65535(ip.b);</div>
<div class="line"><span class="lineno">  246</span>      }</div>
<div class="line"><span class="lineno">  247</span>    }</div>
<div class="line"><span class="lineno">  248</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ea0228ab50586797d400e357b6e0fd1" name="a2ea0228ab50586797d400e357b6e0fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ea0228ab50586797d400e357b6e0fd1">&#9670;&nbsp;</a></span>setRGB() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::setRGB </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const P &amp;&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  215</span>                                                     {</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">if</span> (ISINPIC(x, y)) {</div>
<div class="line"><span class="lineno">  217</span>      P *p = m_pic + y * m_lX + x;</div>
<div class="line"><span class="lineno">  218</span>      p-&gt;r = ip.r;</div>
<div class="line"><span class="lineno">  219</span>      p-&gt;g = ip.g;</div>
<div class="line"><span class="lineno">  220</span>      p-&gt;b = ip.b;</div>
<div class="line"><span class="lineno">  221</span>    }</div>
<div class="line"><span class="lineno">  222</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aea8ed106cad326e7203c4eae71ef848b" name="aea8ed106cad326e7203c4eae71ef848b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea8ed106cad326e7203c4eae71ef848b">&#9670;&nbsp;</a></span>setRGBM() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::setRGBM </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> &amp;&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  250</span>                                                            {</div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">if</span> (ISINPIC(x, y)) {</div>
<div class="line"><span class="lineno">  252</span>      P *p = m_pic + y * m_lX + x;</div>
<div class="line"><span class="lineno">  253</span>      <span class="keywordflow">if</span> (getType() == ST_RGBM) {</div>
<div class="line"><span class="lineno">  254</span>        p-&gt;r = (UCHAR)I_CUT_0_255(ip.r);</div>
<div class="line"><span class="lineno">  255</span>        p-&gt;g = (UCHAR)I_CUT_0_255(ip.g);</div>
<div class="line"><span class="lineno">  256</span>        p-&gt;b = (UCHAR)I_CUT_0_255(ip.b);</div>
<div class="line"><span class="lineno">  257</span>        p-&gt;m = (UCHAR)I_CUT_0_255(ip.m);</div>
<div class="line"><span class="lineno">  258</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (getType() == ST_RGBM64) {</div>
<div class="line"><span class="lineno">  259</span>        p-&gt;r = I_CUT_0_65535(ip.r);</div>
<div class="line"><span class="lineno">  260</span>        p-&gt;g = I_CUT_0_65535(ip.g);</div>
<div class="line"><span class="lineno">  261</span>        p-&gt;b = I_CUT_0_65535(ip.b);</div>
<div class="line"><span class="lineno">  262</span>        p-&gt;m = I_CUT_0_65535(ip.m);</div>
<div class="line"><span class="lineno">  263</span>      }</div>
<div class="line"><span class="lineno">  264</span>    }</div>
<div class="line"><span class="lineno">  265</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af01681c464a80efe8ebccfe2b4117012" name="af01681c464a80efe8ebccfe2b4117012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af01681c464a80efe8ebccfe2b4117012">&#9670;&nbsp;</a></span>setRGBM() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::setRGBM </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const P &amp;&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  224</span>                                                      {</div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">if</span> (ISINPIC(x, y)) {</div>
<div class="line"><span class="lineno">  226</span>      P *p = m_pic + y * m_lX + x;</div>
<div class="line"><span class="lineno">  227</span>      p-&gt;r = ip.r;</div>
<div class="line"><span class="lineno">  228</span>      p-&gt;g = ip.g;</div>
<div class="line"><span class="lineno">  229</span>      p-&gt;b = ip.b;</div>
<div class="line"><span class="lineno">  230</span>      p-&gt;m = ip.m;</div>
<div class="line"><span class="lineno">  231</span>    }</div>
<div class="line"><span class="lineno">  232</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a4af9d2c4118800036bf8501daee2a9" name="a7a4af9d2c4118800036bf8501daee2a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a4af9d2c4118800036bf8501daee2a9">&#9670;&nbsp;</a></span>unlock()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release the raster image for inactivity periods. </p>
<div class="fragment"><div class="line"><span class="lineno">   83</span>                {</div>
<div class="line"><span class="lineno">   84</span>    m_picP = 0;</div>
<div class="line"><span class="lineno">   85</span>    m_pic  = 0;</div>
<div class="line"><span class="lineno">   86</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fe776f8c5db000b70980f38015575b1" name="a8fe776f8c5db000b70980f38015575b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fe776f8c5db000b70980f38015575b1">&#9670;&nbsp;</a></span>write() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *&#160;</td>
          <td class="paramname"><em>ras</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  504</span>  {</div>
<div class="line"><span class="lineno">  505</span>    <span class="keywordflow">if</span> ((ras-&gt;type == RAS_RGBM || ras-&gt;type == RAS_RGBM64) &amp;&amp; ras-&gt;lx &gt; 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  506</span>        ras-&gt;ly &gt; 0 &amp;&amp; ras-&gt;buffer) {</div>
<div class="line"><span class="lineno">  507</span>      <span class="keywordtype">int</span> x, y;</div>
<div class="line"><span class="lineno">  508</span>      <a class="code hl_struct" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> ip;</div>
<div class="line"><span class="lineno">  509</span>      <span class="keyword">const</span> P *p;</div>
<div class="line"><span class="lineno">  510</span>      <span class="keywordflow">for</span> (y = 0; y &lt; m_lY &amp;&amp; y &lt; ras-&gt;ly; y++)</div>
<div class="line"><span class="lineno">  511</span>        <span class="keywordflow">for</span> (x = 0; x &lt; m_lX &amp;&amp; x &lt; ras-&gt;lx; x++) {</div>
<div class="line"><span class="lineno">  512</span>          p    = m_pic + y * m_lX + x;</div>
<div class="line"><span class="lineno">  513</span>          ip.r = (int)p-&gt;r;</div>
<div class="line"><span class="lineno">  514</span>          ip.g = (<span class="keywordtype">int</span>)p-&gt;g;</div>
<div class="line"><span class="lineno">  515</span>          ip.b = (int)p-&gt;b;</div>
<div class="line"><span class="lineno">  516</span>          ip.m = (<span class="keywordtype">int</span>)p-&gt;m;</div>
<div class="line"><span class="lineno">  517</span>          setRasterPixel(ras, x, y, ip);</div>
<div class="line"><span class="lineno">  518</span>        }</div>
<div class="line"><span class="lineno">  519</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  520</span>      <span class="keywordflow">throw</span> <a class="code hl_class" href="class_s_write_raster_error.html">SWriteRasterError</a>(<span class="stringliteral">&quot;(bad Raster type)&quot;</span>);</div>
<div class="line"><span class="lineno">  521</span>  }</div>
<div class="ttc" id="aclass_s_write_raster_error_html"><div class="ttname"><a href="class_s_write_raster_error.html">SWriteRasterError</a></div><div class="ttdef"><b>Definition:</b> SError.h:44</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd4f71a56b6a60064305a38fb8ed469f" name="abd4f71a56b6a60064305a38fb8ed469f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4f71a56b6a60064305a38fb8ed469f">&#9670;&nbsp;</a></span>write() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *&#160;</td>
          <td class="paramname"><em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_s_r_e_c_t.html">SRECT</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_s_p_o_i_n_t.html">SPOINT</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  526</span>  {</div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">if</span> (ras-&gt;type == RAS_RGBM || ras-&gt;type == RAS_RGBM64) {</div>
<div class="line"><span class="lineno">  528</span>      <span class="keywordtype">int</span> xs, ys, xd, yd;</div>
<div class="line"><span class="lineno">  529</span>      P pp;</div>
<div class="line"><span class="lineno">  530</span>      <a class="code hl_struct" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> ip;</div>
<div class="line"><span class="lineno">  531</span>      <span class="keywordflow">for</span> (ys = r.y0, yd = p.y; ys &lt;= r.y1; ys++, yd++)</div>
<div class="line"><span class="lineno">  532</span>        <span class="keywordflow">for</span> (xs = r.x0, xd = p.x; xs &lt;= r.x1; xs++, xd++) {</div>
<div class="line"><span class="lineno">  533</span>          getPixel(xs, ys, pp);</div>
<div class="line"><span class="lineno">  534</span>          ip.r = (int)pp.r;</div>
<div class="line"><span class="lineno">  535</span>          ip.g = (<span class="keywordtype">int</span>)pp.g;</div>
<div class="line"><span class="lineno">  536</span>          ip.b = (int)pp.b;</div>
<div class="line"><span class="lineno">  537</span>          ip.m = (<span class="keywordtype">int</span>)pp.m;</div>
<div class="line"><span class="lineno">  538</span>          setRasterPixel(ras, xd, yd, ip);</div>
<div class="line"><span class="lineno">  539</span>        }</div>
<div class="line"><span class="lineno">  540</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  541</span>      <span class="keywordflow">throw</span> <a class="code hl_class" href="class_s_write_raster_error.html">SWriteRasterError</a>(<span class="stringliteral">&quot;(bad Raster type)&quot;</span>);</div>
<div class="line"><span class="lineno">  542</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae57b9580f888f9e67308e2acb96b0462" name="ae57b9580f888f9e67308e2acb96b0462"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae57b9580f888f9e67308e2acb96b0462">&#9670;&nbsp;</a></span>writeOutBorder()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::writeOutBorder </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *&#160;</td>
          <td class="paramname"><em>rasin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>border</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a> *&#160;</td>
          <td class="paramname"><em>ras</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_s_r_e_c_t.html">SRECT</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_s_p_o_i_n_t.html">SPOINT</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  548</span>  {</div>
<div class="line"><span class="lineno">  549</span>    assert(rasin-&gt;type == RAS_CM32);</div>
<div class="line"><span class="lineno">  550</span>    UD44_PIXEL32 *col = (UD44_PIXEL32 *)(rasin-&gt;cmap.buffer);</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">if</span> (ras-&gt;type == RAS_RGBM || ras-&gt;type == RAS_RGBM64) {</div>
<div class="line"><span class="lineno">  553</span>      <span class="keywordtype">int</span> xs, ys, xd, yd;</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>      <a class="code hl_struct" href="struct___i___p_i_x_e_l.html">I_PIXEL</a> ip;</div>
<div class="line"><span class="lineno">  556</span>      <span class="keywordflow">for</span> (ys = r.y0, yd = p.y; ys &lt;= r.y1; ys++, yd++)</div>
<div class="line"><span class="lineno">  557</span>        <span class="keywordflow">for</span> (xs = r.x0, xd = p.x; xs &lt;= r.x1; xs++, xd++) {</div>
<div class="line"><span class="lineno">  558</span>          <span class="keywordtype">int</span> x = xd - border;</div>
<div class="line"><span class="lineno">  559</span>          <span class="keywordtype">int</span> y = yd - border;</div>
<div class="line"><span class="lineno">  560</span>          <span class="keywordflow">if</span> (x &gt;= 0 &amp;&amp; y &gt;= 0 &amp;&amp; x &lt; rasin-&gt;lx &amp;&amp; y &lt; rasin-&gt;ly) {</div>
<div class="line"><span class="lineno">  561</span>            UD44_CMAPINDEX32 pixel =</div>
<div class="line"><span class="lineno">  562</span>                *(((UD44_CMAPINDEX32 *)rasin-&gt;buffer) + y * rasin-&gt;wrap + x);</div>
<div class="line"><span class="lineno">  563</span>            <span class="comment">// int tone = (pix&amp;0xff);</span></div>
<div class="line"><span class="lineno">  564</span>            <span class="comment">// int paint = ((pix&gt;&gt;8)&amp;0xfff);</span></div>
<div class="line"><span class="lineno">  565</span>            <span class="keywordflow">if</span> ((pixel &amp; 0xff) == 0 || ((pixel &gt;&gt; 8) &amp; 0xfff) != 0) {</div>
<div class="line"><span class="lineno">  566</span>              <a class="code hl_struct" href="struct_l_p_i_x_e_l.html">LPIXEL</a> pLL;</div>
<div class="line"><span class="lineno">  567</span>              PIX_CM32_MAP_TO_RGBM(pixel, col, pLL)</div>
<div class="line"><span class="lineno">  568</span>              ip.r = (int)pLL.r;</div>
<div class="line"><span class="lineno">  569</span>              ip.g = (<span class="keywordtype">int</span>)pLL.g;</div>
<div class="line"><span class="lineno">  570</span>              ip.b = (int)pLL.b;</div>
<div class="line"><span class="lineno">  571</span>              ip.m = (<span class="keywordtype">int</span>)pLL.m;</div>
<div class="line"><span class="lineno">  572</span>              setRasterPixel(ras, xd, yd, ip);</div>
<div class="line"><span class="lineno">  573</span>              <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  574</span>            }</div>
<div class="line"><span class="lineno">  575</span>          }</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>          P pp;</div>
<div class="line"><span class="lineno">  578</span>          getPixel(xs, ys, pp);</div>
<div class="line"><span class="lineno">  579</span>          ip.r = (int)pp.r;</div>
<div class="line"><span class="lineno">  580</span>          ip.g = (<span class="keywordtype">int</span>)pp.g;</div>
<div class="line"><span class="lineno">  581</span>          ip.b = (int)pp.b;</div>
<div class="line"><span class="lineno">  582</span>          ip.m = (<span class="keywordtype">int</span>)pp.m;</div>
<div class="line"><span class="lineno">  583</span>          setRasterPixel(ras, xd, yd, ip);</div>
<div class="line"><span class="lineno">  584</span>        }</div>
<div class="line"><span class="lineno">  585</span>    } <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  586</span>      <span class="keywordflow">throw</span> <a class="code hl_class" href="class_s_write_raster_error.html">SWriteRasterError</a>(<span class="stringliteral">&quot;(bad Raster type)&quot;</span>);</div>
<div class="line"><span class="lineno">  587</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae6f4b4ca344ce528fe2389e616af775c" name="ae6f4b4ca344ce528fe2389e616af775c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6f4b4ca344ce528fe2389e616af775c">&#9670;&nbsp;</a></span>m_lX</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::m_lX</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a510dc86bf0be11ff15c5ddb2fbe9ef61" name="a510dc86bf0be11ff15c5ddb2fbe9ef61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a510dc86bf0be11ff15c5ddb2fbe9ef61">&#9670;&nbsp;</a></span>m_lY</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::m_lY</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5053d193ce438f450a0f629ed7a13799" name="a5053d193ce438f450a0f629ed7a13799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5053d193ce438f450a0f629ed7a13799">&#9670;&nbsp;</a></span>m_pic</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">P* <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::m_pic</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2608edeab007a7cce20efa940c76040b" name="a2608edeab007a7cce20efa940c76040b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2608edeab007a7cce20efa940c76040b">&#9670;&nbsp;</a></span>m_ras</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class P &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct___r_a_s_t_e_r.html">RASTER</a>* <a class="el" href="class_c_s_t_pic.html">CSTPic</a>&lt; P &gt;::m_ras</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>E:/opentoonz/toonz/sources/toonzlib/sandor_fxs/<a class="el" href="">STPic.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
